<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Vue的學習紀錄 - PeaNu&#39;s Paradise</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="這裡專門蒐集有用的前端開發知識，也是一個給自己做筆記的空間。如果你也熱衷於軟體開發，不訪來這裡逛逛吧！">



<meta name="keywords" content="前端,網頁開發,前端開發,網頁,軟體開發,JavaScript,HTML,CSS">



    <meta name="description" content="最近正在學習 Vue，想給自己做一份筆記。 這篇文章的主要參考資料為 Vue 的官方教程。">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue的學習紀錄">
<meta property="og:url" content="https://jubeatt.github.io/2021/08/26/vue/index.html">
<meta property="og:site_name" content="PeaNu&#39;s Paradise">
<meta property="og:description" content="最近正在學習 Vue，想給自己做一份筆記。 這篇文章的主要參考資料為 Vue 的官方教程。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-once.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/expression-01.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/expression-02.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/expression-03.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-html.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-bind-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/argument-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/argument-02.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/argument-03.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/modifier-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/template.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/key-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/key-02.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-array.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-object.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-index.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-key.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-object-index.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-number.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-template.png">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-problem.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-solution.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/filter.png">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-priority-01.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/v-for-priority-02.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/model.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/computed-01.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/computed-02.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/computed-03.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/getter-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/setter-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/setter-02.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/component-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/naming-convention.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/global-component.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/local-component.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/local-component-inside-local-component.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/communication.png">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/props.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/component-props-problem.jpg">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/component-event.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/component-model.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/custom-v-model.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/reactive-01.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/reactive-02.gif">
<meta property="og:image" content="https://jubeatt.github.io/2021/08/26/vue/lifecycle.png">
<meta property="article:published_time" content="2021-08-26T08:02:03.000Z">
<meta property="article:modified_time" content="2023-09-08T02:42:53.750Z">
<meta property="article:author" content="PeaNu">
<meta property="article:tag" content="前端,網頁開發,前端開發,網頁,軟體開發,JavaScript,HTML,CSS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jubeatt.github.io/2021/08/26/vue/v-once.gif">





<link rel="icon" href="/img/base/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/agate.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    PeaNu
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">文章列表</a>
            
            <a class="navbar-item "
               href="/categories">分類</a>
            
            <a class="navbar-item "
               href="/recommend">推薦閱讀</a>
            
            <a class="navbar-item "
               href="/about">關於我</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="搜尋" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="目錄">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#Hello-World">1&nbsp;&nbsp;<b>Hello World</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#在內容中帶入-JS-的表達式">2&nbsp;&nbsp;<b>在內容中帶入 JS 的表達式</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#寫入-HTML-內容">3&nbsp;&nbsp;<b>寫入 HTML 內容</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#綁定-HTML-屬性值">4&nbsp;&nbsp;<b>綁定 HTML 屬性值</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#動態參數">5&nbsp;&nbsp;<b>動態參數</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#修飾子">6&nbsp;&nbsp;<b>修飾子</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#v-if-元素的顯示與隱藏">7&nbsp;&nbsp;<b>v-if 元素的顯示與隱藏</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#控制多個元素">7.1&nbsp;&nbsp;控制多個元素</a>
                    
                    
                    
                    <a class="navbar-item" href="#節能機制與-key-屬性">7.2&nbsp;&nbsp;節能機制與 key 屬性</a>
                    
                    
                    
                    <a class="navbar-item" href="#v-show">7.3&nbsp;&nbsp;v-show</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#v-for-重複產生元素">8&nbsp;&nbsp;<b>v-for 重複產生元素</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#迭代的資料為陣列">8.1&nbsp;&nbsp;迭代的資料為陣列</a>
                    
                    
                    
                    <a class="navbar-item" href="#迭代的陣列為物件">8.2&nbsp;&nbsp;迭代的陣列為物件</a>
                    
                    
                    
                    <a class="navbar-item" href="#第二個可選參數">8.3&nbsp;&nbsp;第二個可選參數</a>
                    
                    
                    
                    <a class="navbar-item" href="#指定特定數值">8.4&nbsp;&nbsp;指定特定數值</a>
                    
                    
                    
                    <a class="navbar-item" href="#重複產生多個元素">8.5&nbsp;&nbsp;重複產生多個元素</a>
                    
                    
                    
                    <a class="navbar-item" href="#節能機制與-key-屬性-1">8.6&nbsp;&nbsp;節能機制與 key 屬性</a>
                    
                    
                    
                    <a class="navbar-item" href="#陣列的更新">8.7&nbsp;&nbsp;陣列的更新</a>
                    
                    
                    
                    <a class="navbar-item" href="#v-for-比-v-if-的優先權高">8.8&nbsp;&nbsp;v-for 比 v-if 的優先權高</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#v-on-事件綁定">9&nbsp;&nbsp;<b>v-on 事件綁定</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#縮寫">10&nbsp;&nbsp;<b>縮寫</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#v-cloak">11&nbsp;&nbsp;<b>v-cloak</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#v-model-雙向綁定">12&nbsp;&nbsp;<b>v-model 雙向綁定</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#背後的原理">12.1&nbsp;&nbsp;背後的原理</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#computed-計算屬性">13&nbsp;&nbsp;<b>computed 計算屬性</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#computed-與-methods">13.1&nbsp;&nbsp;computed 與 methods</a>
                    
                    
                    
                    <a class="navbar-item" href="#getter-與-setter">13.2&nbsp;&nbsp;getter 與 setter</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#自定義組件">14&nbsp;&nbsp;<b>自定義組件</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#組件的命名">14.1&nbsp;&nbsp;組件的命名</a>
                    
                    
                    
                    <a class="navbar-item" href="#全域組件與區域組件">14.2&nbsp;&nbsp;全域組件與區域組件</a>
                    
                    
                    
                    <a class="navbar-item" href="#全域註冊">14.2.1&nbsp;&nbsp;全域註冊</a>
                    
                    
                    
                    <a class="navbar-item" href="#區域註冊">14.2.2&nbsp;&nbsp;區域註冊</a>
                    
                    
                    
                    <a class="navbar-item" href="#父子組件間的資料傳輸">14.3&nbsp;&nbsp;父子組件間的資料傳輸</a>
                    
                    
                    
                    <a class="navbar-item" href="#將父組件的資料-props-到子組件中">14.3.1&nbsp;&nbsp;將父組件的資料 props 到子組件中</a>
                    
                    
                    
                    <a class="navbar-item" href="#當需要傳入很多資料到組件中時">14.4&nbsp;&nbsp;當需要傳入很多資料到組件中時</a>
                    
                    
                    
                    <a class="navbar-item" href="#監聽組件中的事件">14.5&nbsp;&nbsp;監聽組件中的事件</a>
                    
                    
                    
                    <a class="navbar-item" href="#在組件上使用-v-model">14.6&nbsp;&nbsp;在組件上使用 v-model</a>
                    
                    
                    
                    <a class="navbar-item" href="#客製組件的-v-model">14.7&nbsp;&nbsp;客製組件的 v-model</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Vue-的響應式更新">15&nbsp;&nbsp;<b>Vue 的響應式更新</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#生命週期">16&nbsp;&nbsp;<b>生命週期</b></a>
                    
                    
                    
                    <a class="navbar-item" href="#beforeCreate-與-created">16.1&nbsp;&nbsp;beforeCreate 與 created</a>
                    
                    
                    
                    <a class="navbar-item" href="#beforeMount-與-mounted">16.2&nbsp;&nbsp;beforeMount 與 mounted</a>
                    
                    
                    
                    <a class="navbar-item" href="#beforeUpdate-與-updated">16.3&nbsp;&nbsp;beforeUpdate 與 updated</a>
                    
                    
                    
                    <a class="navbar-item" href="#beforeDestroy-與-destroyed">16.4&nbsp;&nbsp;beforeDestroy 與 destroyed</a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#參考資料">17&nbsp;&nbsp;<b>參考資料</b></a>
                    
                </div>
            </div>
            
            
            <a class="navbar-item" title="GitHub" target="_blank" rel="noopener" href="https://github.com/jubeatt">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            Vue的學習紀錄
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <span>8月 26 2021</span>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Vue/">Vue</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>最近正在學習 Vue，想給自己做一份筆記。</p>
<p>這篇文章的主要參考資料為 Vue 的官方教程。</p>
<span id="more"></span>

<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 這個是原始的寫法 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">"message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 這個是縮寫的寫法 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 從 Vue的 data 中撈出 message 的值 --&gt;</span></span><br><span class="line">  {{ message }}</span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ Vue 的 cdn --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ 建立 Vue 的物件實體</span></span><br><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-comment">// ↓ 綁定到哪個 HTML 元素上</span></span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-comment">// ↓ 資料內容</span></span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue.'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>Vue 中的資料都是<code>動態的</code>，妳資料一更改，顯示出的內容也會同步跟著做更改。</p>
<p>如果你希望資料不要被動態更新，你可以使用<code>v-once</code>這個屬性。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 加上 v-once --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-once</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>{{ msg }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-once.gif" alt="v-once"></p>
<h2 id="在內容中帶入-JS-的表達式"><a href="#在內容中帶入-JS-的表達式" class="headerlink" title="在內容中帶入 JS 的表達式"></a>在內容中帶入 JS 的表達式</h2><p>除了直接把 Vue 的資料寫入之外，我們也可以在<code>{{ }}</code>裡面添加表達式來產生出不同的資料。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 直接寫入資料 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>原價：${{ price }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 算數運算表達式 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>折扣價：${{ price * discount }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">price</span>: <span class="hljs-number">100</span>,</span><br><span class="line">    <span class="hljs-attr">discount</span>: <span class="hljs-number">0.8</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="expression-01.jpg" alt="expression-01"></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 三元運算子 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>不可吃油炸物：{{ agree ? '同意' : '不同意' }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">agree</span>: <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="expression-02.gif" alt="expression-02"></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 添加表達式 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>{{ msg.split('').reverse().join('') }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">msg</span>: <span class="hljs-string">'把這段文字反過來念'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="expression-03.jpg" alt="expression-03"></p>
<h2 id="寫入-HTML-內容"><a href="#寫入-HTML-內容" class="headerlink" title="寫入 HTML 內容"></a>寫入 HTML 內容</h2><p>使用<code>{{ }}</code>來輸出的內容都會以<code>純文字</code>來做輸出，所以如果你想寫入 HTML 的話，必須改使用<code>v-html</code>。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 輸出純文字內容 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ htmlData }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 輸出 HTML 內容 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">"htmlData"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">htmlData</span>: <span class="hljs-string">'&lt;span class="txt--blue"&gt;這段文字應該要是藍色的&lt;/span&gt;'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-html.jpg" alt="v-html"></p>
<p><font size="2">💡 註：寫入 HTML 內容就意味著有 XSS 的風險，這一點要多留意一下。</font></p>
<h2 id="綁定-HTML-屬性值"><a href="#綁定-HTML-屬性值" class="headerlink" title="綁定 HTML 屬性值"></a>綁定 HTML 屬性值</h2><ul>
<li><code>v-bind:attr</code> = 我要把哪一個屬性綁定到 Vue？</li>
<li><code>v-bind:attr="value"</code> = 參考到 Vue 實體中的 value 值。</li>
</ul>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 把 title 屬性綁定到 Vue --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ title 的屬性值為在 Vue 中的 time 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-bind:title</span>=<span class="hljs-string">"time"</span>&gt;</span>秀出讀取該頁面的時間點<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 資料內容</span></span><br><span class="line">    <span class="hljs-attr">time</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleString()}</span> 頁面載入完成。`</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>如果你去改<code>time</code>的值，那<code>title屬性的值</code>也會跟著同步更新。</p>
<p>像是<code>disabled</code>這種屬性也能透過 v-bind 來綁定，並用<code>boolean</code>來控制。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-bind:disabled</span>=<span class="hljs-string">"isButtonDisabled"</span>&gt;</span>A button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 透過 Boolean 來控制按鈕的啟用與關閉</span></span><br><span class="line">    <span class="hljs-attr">isButtonDisabled</span>: <span class="hljs-literal">true</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-bind-01.gif" alt="v-bind-01"></p>
<h2 id="動態參數"><a href="#動態參數" class="headerlink" title="動態參數"></a>動態參數</h2><p>我們前面用的<code>v-bind:href</code>, <code>v-bind:disabled</code>等，這些放在<code>:(冒號)</code>後面的值都我們稱為<code>參數</code>。</p>
<p>如果現在想使用<code>變數</code>來表示這些參數，可以使用<code>[ ]</code>來實現。</p>
<p><font size="2">💡 註 1：<code>動態參數</code>聽起來有點繞口，但是其實是因為我們在 Vue 中定義的變數都會動態更新，所以才會用動態這個詞來解釋吧。</font><br><font size="2">💡 註 2：<code>[ ]</code>只接受<code>字串值</code></font></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 原本的寫法 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">"url"</span>&gt;</span>link-1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 改用變數來代替 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:</span>[<span class="hljs-attr">attribute</span>]=<span class="hljs-string">"url"</span>&gt;</span>link-2<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 用來當作參數</span></span><br><span class="line">    <span class="hljs-attr">attribute</span>: <span class="hljs-string">'href'</span>,</span><br><span class="line">    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://www.google.com/'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="argument-01.gif" alt="argument-01"></p>
<p>事件綁定也是以此類推。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 原始寫法 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"count++"</span>&gt;</span>{{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 改用變數來代替 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-on:</span>[<span class="hljs-attr">eventname</span>]=<span class="hljs-string">"count++"</span>&gt;</span>{{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,</span><br><span class="line">    <span class="hljs-comment">// ↓ 用來當作參數</span></span><br><span class="line">    <span class="hljs-attr">eventname</span>: <span class="hljs-string">'click'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="argument-02.gif" alt="argument-02"></p>
<p><font size="2">💡 註 1：這裡不要用駝峰式來命名，因為此處的 HTML 無法透過<code>Kebab-case (連字符號)</code>來讀取，而是會直接轉成小寫。</font><br><font size="2">💡 註 2：如果想要解除綁定，可以將參數值設為<code>null</code></font></p>
<p>寫成變數的好處是，可以帶入表達式。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ 帶入表達式 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-bind:</span>[<span class="hljs-attr">foo</span>+"<span class="hljs-attr">le</span>"]=<span class="hljs-string">"value"</span>&gt;</span>把游標放上來<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,</span><br><span class="line">    <span class="hljs-comment">// ↓ 用來當作參數</span></span><br><span class="line">    <span class="hljs-attr">foo</span>: <span class="hljs-string">'tit'</span>,</span><br><span class="line">    <span class="hljs-attr">value</span>: <span class="hljs-string">'真聽話'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="argument-03.gif" alt="argument-03"></p>
<p><font size="2">💡 註 ：這裡只是方便示範才這樣寫，實際使用表達式時，請盡量避免出現<code>空格</code>, <code>引號</code>等特殊字符，否則可能會報錯。</font></p>
<h2 id="修飾子"><a href="#修飾子" class="headerlink" title="修飾子"></a>修飾子</h2><p><code>v-</code>指令後面除了接<code>:參數</code>以外，也可以接<code>.修飾子</code>。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 使用修飾子來終止元素的預設行為 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">v-on:submit.prevent</span>=<span class="hljs-string">"onSubmit"</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ 送出鈕 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Send"</span> /&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ 當按下送出鈕時才會顯示的文字 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"isSended"</span>&gt;</span>已按下送出鈕。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">isSended</span>: <span class="hljs-literal">false</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-attr">methods</span>: {</span><br><span class="line">    <span class="hljs-attr">onSubmit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-comment">// ↓ 改變 isSended 的值</span></span><br><span class="line">      <span class="hljs-built_in">this</span>.isSended = <span class="hljs-literal">true</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="modifier-01.gif" alt="modifier-01"></p>
<p>注意到表單並沒有被送出（沒有重新渲染的動作），這就是修飾子<code>.prevent</code>帶來的作用。</p>
<h2 id="v-if-元素的顯示與隱藏"><a href="#v-if-元素的顯示與隱藏" class="headerlink" title="v-if 元素的顯示與隱藏"></a>v-if 元素的顯示與隱藏</h2><p>透過<code>v-if</code>可以決定一個元素要顯示 or 隱藏。</p>
<ul>
<li>如果是<code>truthy</code>，元素會顯示出來。</li>
<li>如果是<code>falsy</code>，元素會隱藏起來。</li>
</ul>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 判斷 Vue 中 exist 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"exist"</span>&gt;</span>妳看的到我<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 判斷 Vue 中 notExist 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"notExist"</span>&gt;</span>妳看不到我<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 元素會顯示</span></span><br><span class="line">    <span class="hljs-attr">exist</span>: <span class="hljs-literal">true</span>,</span><br><span class="line">    <span class="hljs-comment">// ↓ 元素會隱藏</span></span><br><span class="line">    <span class="hljs-attr">notExist</span>: <span class="hljs-literal">false</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>也可以添加一個<code>v-else</code>。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 判斷 Vue 中 exist 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"exist"</span>&gt;</span>今天有晚餐吃<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 若 v-if 不成立，顯示這個元素 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span>&gt;</span>今天沒晚餐吃<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">💡 註：<code>v-else</code> 必須緊跟在 <code>v-if</code> 或 <code>v-else-if</code> 的元素後面，否則無法被識別。</font></p>
<p>或者是<code>v-else-if</code></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓  countSister 為 1--&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"countSister === 1"</span>&gt;</span>You have a sister.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓  countSister 為 2--&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"countSister === 2"</span>&gt;</span>You have two sisters.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓  countSister 為 3--&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"countSister === 3"</span>&gt;</span>You have three sisters.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓  countSister 不為　1,2,3 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span>&gt;</span>Wake up, you have too more sister or you don't even have a sister.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">💡 註：<code>v-else-if</code> 一樣要跟在 <code>v-if</code> 或 <code>v-else-if</code> 的元素後面，否則無法被識別。</font></p>
<p>所以除了前面的<code>文字</code>、<code>屬性</code>之外，Vue 還能夠控制 <code>DOM</code> 的結購</p>
<h3 id="控制多個元素"><a href="#控制多個元素" class="headerlink" title="控制多個元素"></a>控制多個元素</h3><p>如果一次想控制多個元素的顯示與否，可以使用<code>&lt;template&gt;</code>元素將元素給群組起來。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"noSister"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Wake up, you don't have a sister.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You only have a brother.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>這樣子最後的結果不會渲染出<code>&lt;template&gt;</code>，只會有裡面的內容。</p>
<p><img src="template.jpg" alt="template"></p>
<h3 id="節能機制與-key-屬性"><a href="#節能機制與-key-屬性" class="headerlink" title="節能機制與 key 屬性"></a>節能機制與 key 屬性</h3><p>為了省掉不必要的浪費，若沒有必要的話，Vue 會盡量用目前存在的元素來做修改內容，而不是把整個元素重新渲染一次。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ loginType 為 username --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"loginType === 'username' "</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>Username:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"輸入使用者名稱"</span> /&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ loginType 不為 username --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-else</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Username:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"輸入信箱"</span> /&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>當我們切換的時，你能看到元素沒有重新渲染，只有屬性跟內容的部分被修改，並且我們輸入的值也繼續停留在輸入格中。</p>
<p><img src="key-01.gif" alt="key-01"></p>
<p>如果不想套用這種機制，可以在元素中加入<code>key</code>屬性來讓元素具有唯一性。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ loginType 為 username --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"loginType === 'username' "</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>Username:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"輸入使用者名稱"</span></span></span><br><span class="line"><span class="hljs-tag">    <span class="hljs-attr">key</span>=<span class="hljs-string">"typeOfUsername"</span></span></span><br><span class="line"><span class="hljs-tag">  /&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ loginType 不為 username --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-else</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Username:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"輸入信箱"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"typeOfEmail"</span> /&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="key-02.gif" alt="key-02"></p>
<p>現在兩個<code>&lt;input&gt;</code>各自具有唯一性，所以切換時會重新渲染，至於<code>&lt;label&gt;</code>還是繼續使用節能機制，只有內容被修改。</p>
<h3 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h3><p>一個跟<code>v-if</code>很類似的指令，用法上大致相同</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">"ok"</span>&gt;</span>只是段文字<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">💡 註：<code>v-show</code> 不支援 <code>&lt;template&gt;</code> 與 <code>v-else</code> 。</font></p>
<p>不過它跟<code>v-if</code>有個很大的差異在於：<code>是否會渲染到DOM中？</code></p>
<ul>
<li><p><code>v-show</code>的元素是利用 CSS 中的<code>display</code>來控制元素是否要顯示，所以不論顯示與否，這個元素在一開始都會被渲染到 DOM 中。</p>
</li>
<li><p><code>v-if</code>會根據條件來判斷是否要把元素渲染到 DOM 中，所以如果條件不成立，元素就真的不會被渲染到 DOM 中。</p>
</li>
</ul>
<p>所以如果某個元素經常在顯示與隱藏間做切換，<code>v-if</code>會比較適合。</p>
<p>反之，如果某個元素不常在顯示與隱藏間做切換，<code>v-show</code>會比較適合。</p>
<h2 id="v-for-重複產生元素"><a href="#v-for-重複產生元素" class="headerlink" title="v-for 重複產生元素"></a>v-for 重複產生元素</h2><p>透過<code>v-for</code>可以來根據資料的數量（length），來產生出對應數量的元素。</p>
<p><font size="2">💡 註 1：<code>v-for</code>寫在哪個元素身上，哪個元素就會重複產生 。</font><br><font size="2">💡 註 2：item <code>in</code> list 也可以寫成 item <code>of</code> list。</font></p>
<h3 id="迭代的資料為陣列"><a href="#迭代的資料為陣列" class="headerlink" title="迭代的資料為陣列"></a>迭代的資料為陣列</h3><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 迭代 dinnerList 這個陣列 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ item 是自訂的變數名稱 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 用來代表陣列中每一個項目的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item of dinnerList"</span>&gt;</span>{{ item }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">dinnerList</span>: [<span class="hljs-string">'豬排飯'</span>, <span class="hljs-string">'咖哩飯'</span>, <span class="hljs-string">'炒飯'</span>, <span class="hljs-string">'麵包'</span>, <span class="hljs-string">'拉麵'</span>]</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-array.jpg" alt="v-for-array"></p>
<p>你也可以把這段過程想像成是這樣子：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; foods.length; i++) {</span><br><span class="line">  li.textContent = foods[i]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="迭代的陣列為物件"><a href="#迭代的陣列為物件" class="headerlink" title="迭代的陣列為物件"></a>迭代的陣列為物件</h3><figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 與剛剛一樣，只是現在資料變成是物件 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ info 代表物件中每個屬性的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"info in character"</span>&gt;</span>{{ info }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 物件格式的資料</span></span><br><span class="line">    <span class="hljs-attr">character</span>: {</span><br><span class="line">      <span class="hljs-attr">name</span>: <span class="hljs-string">'煉獄杏壽郎'</span>,</span><br><span class="line">      <span class="hljs-attr">level</span>: <span class="hljs-string">'炎柱'</span>,</span><br><span class="line">      <span class="hljs-attr">sex</span>: <span class="hljs-string">'男'</span>,</span><br><span class="line">      <span class="hljs-attr">age</span>: <span class="hljs-string">'20歲'</span>,</span><br><span class="line">      <span class="hljs-attr">death</span>: <span class="hljs-string">'被猗窩座打死'</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-object.jpg" alt="v-for-object"></p>
<h3 id="第二個可選參數"><a href="#第二個可選參數" class="headerlink" title="第二個可選參數"></a>第二個可選參數</h3><p>如果想要取得迭代元素的<code>索引值</code>，可以加入第二個可選參數。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 迭代 dinnerList 這筆資料 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ item 為資料陣列中的 每個項目 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ index 為迭代項目中的 索引值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in dinnerList"</span>&gt;</span></span><br><span class="line">    {{ index }} {{ item }}</span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">dinnerList</span>: [<span class="hljs-string">'豬排飯'</span>, <span class="hljs-string">'咖哩飯'</span>, <span class="hljs-string">'炒飯'</span>, <span class="hljs-string">'麵包'</span>, <span class="hljs-string">'拉麵'</span>]</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-index.jpg" alt="v-for-index"></p>
<p>如果迭代的資料是<code>物件</code>的話，第二個參數可以用來表示物件中的<code>鍵名(key)</code></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ value 為 鍵值 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ key 為 鍵名--&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(value, key) in character"</span>&gt;</span>{{ key }}：{{ value }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-key.jpg" alt="v-for-key"></p>
<p>如果想在物件中取得<code>索引值</code>，可以加入第三個參數來取得。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ value 為 鍵值 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ key 為 鍵名--&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ index 為 索引值--&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(value, key, index) in character"</span>&gt;</span></span><br><span class="line">    ({{index}}) {{ key }}：{{ value }}</span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-object-index.jpg" alt="v-for-object-index"></p>
<h3 id="指定特定數值"><a href="#指定特定數值" class="headerlink" title="指定特定數值"></a>指定特定數值</h3><p>除了迭代一個<code>陣列</code>或<code>物件</code>以外，你也可以直接指定一個數字來重複產生元素。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 產生 12 個元素 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"i in 12"</span>&gt;</span>{{ i }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-number.jpg" alt="v-for-number"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/bGReELz?editors=1100">點這裡</a></font></p>
<h3 id="重複產生多個元素"><a href="#重複產生多個元素" class="headerlink" title="重複產生多個元素"></a>重複產生多個元素</h3><p>與 <code>v-if</code> 的概念一樣，如果要產生的是<code>一組元素</code>，可以用 <code>&lt;template&gt;</code> 來把它們給包起來。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- 產生 5 組下面的元素們 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"i in 5"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>產生1 ~ 12<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- 產生 12 個元素 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"i in 12"</span>&gt;</span>{{ i }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-template.png" alt="v-for-template"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/wveWMVL?editors=1010">點這裡</a></font></p>
<h3 id="節能機制與-key-屬性-1"><a href="#節能機制與-key-屬性-1" class="headerlink" title="節能機制與 key 屬性"></a>節能機制與 key 屬性</h3><p>前面提到的節能機制，在<code>v-for</code>中也會套用。</p>
<p>如果<code>v-for</code>迭代的資料發生了更新，為了節省資源，Vue 一樣會盡可能使用現有的元素來做修改，而不是把整個資料給重新渲染一次。</p>
<p><img src="v-for-problem.gif" alt="v-for-problem"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/dyRGPVj">點這裡</a></font></p>
<p><font size="2">💡 註 ：仔細看，只有內容的部分被更新，但元素並沒有被重新渲染。</font></p>
<p>如果一個列表只是單純用來顯示內容，那這種節能機制確實是沒什麼問題的。</p>
<p>但如果是像上面的情況，這個列表會與使用者互動，那就會讓人感到有點困惑。</p>
<p>要解決節能機制的副作用，一樣是加上<code>key</code>這個屬性來讓元素具有唯一性，確保它能夠被重新渲染。</p>
<p><img src="v-for-solution.gif" alt="v-for-solution"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/ZEyQGpx">點這裡</a></font></p>
<p><font size="2">💡 註 ：現在當資料更新時，整個<code>&lt;div&gt;</code>都會被重新渲染，而位置是正確的。</font></p>
<h3 id="陣列的更新"><a href="#陣列的更新" class="headerlink" title="陣列的更新"></a>陣列的更新</h3><p>由於 Vue 會隨著資料的更新來更新畫面，所以如果你使用了會影響原始陣列本身的方法，像是：</p>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code></li>
<li><code>unshift()</code></li>
<li><code>splice()</code></li>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
</ul>
<p>當陣列被更新後，畫面就會隨著陣列中資料的改變來同步更新。</p>
<p>如果你不希望這樣的話，可以改使用<code>不影響原始陣列</code>的方法，像是：</p>
<ul>
<li><code>filter()</code></li>
<li><code>concat()</code></li>
<li><code>slice()</code></li>
</ul>
<p>這些方法都是回傳一個新的陣列，所以才不會影響到原始陣列。</p>
<p>舉一個常見的例子，假設我們想要對一份資料做<code>篩選</code>，這時並不會希望直接去動原本的資料，而是能夠再產生出一份<code>篩選過後的資料</code>。</p>
<p>這個時候就可以利用上面提的<code>方法</code>以及 <code>computed 屬性</code>來實作。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 所有的項目</span></span><br><span class="line">    <span class="hljs-attr">mantous</span>: [</span><br><span class="line">      <span class="hljs-string">'蛋黃鮮肉包'</span>,</span><br><span class="line">      <span class="hljs-string">'香菇薑汁鮮肉包'</span>,</span><br><span class="line">      <span class="hljs-string">'黑米椰香芋頭包'</span>,</span><br><span class="line">      <span class="hljs-string">'黑糖地瓜包'</span>,</span><br><span class="line">      <span class="hljs-string">'蔥肉包'</span>,</span><br><span class="line">      <span class="hljs-string">'咖啡奶酥饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'全麥堅果饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'黑糖桂圓枸杞饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'蔥花捲饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'黑糖饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'鮮奶饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'芋籤饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'山東饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'全麥饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'紅藜全麥饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'起司肉包'</span>,</span><br><span class="line">      <span class="hljs-string">'全麥雜糧饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'芋泥捲'</span>,</span><br><span class="line">      <span class="hljs-string">'芋泥饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'地瓜芋頭饅頭'</span>,</span><br><span class="line">      <span class="hljs-string">'芋圓饅頭'</span></span><br><span class="line">    ]</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-comment">// ↓ 篩選過後的項目</span></span><br><span class="line">  <span class="hljs-attr">computed</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 芋頭控</span></span><br><span class="line">    <span class="hljs-attr">taros</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.mantous.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">        <span class="hljs-keyword">return</span> item.includes(<span class="hljs-string">'芋'</span>)</span><br><span class="line">      })</span><br><span class="line">    },</span><br><span class="line">    <span class="hljs-comment">// ↓ 肉肉控</span></span><br><span class="line">    <span class="hljs-attr">meats</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.mantous.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">        <span class="hljs-keyword">return</span> item.includes(<span class="hljs-string">'肉'</span>)</span><br><span class="line">      })</span><br><span class="line">    },</span><br><span class="line">    <span class="hljs-comment">// ↓ 黑糖控</span></span><br><span class="line">    <span class="hljs-attr">brownSugar</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.mantous.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">        <span class="hljs-keyword">return</span> item.includes(<span class="hljs-string">'黑糖'</span>)</span><br><span class="line">      })</span><br><span class="line">    },</span><br><span class="line">    <span class="hljs-comment">// ↓ 養生控</span></span><br><span class="line">    <span class="hljs-attr">healthy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.mantous.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">        <span class="hljs-keyword">return</span> item.includes(<span class="hljs-string">'麥'</span>)</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="filter.png" alt="filter"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/BaZzjWO">點這裡</a></font></p>
<h3 id="v-for-比-v-if-的優先權高"><a href="#v-for-比-v-if-的優先權高" class="headerlink" title="v-for 比 v-if 的優先權高"></a>v-for 比 v-if 的優先權高</h3><p>這裡先參考 Vue 的一段源碼：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">genElement</span> (<span class="hljs-params">el: ASTElement, state: CodegenState</span>): <span class="hljs-title">string</span> </span>{</span><br><span class="line">  <span class="hljs-keyword">if</span> (el.parent) {</span><br><span class="line">    el.pre = el.pre || el.parent.pre</span><br><span class="line">  }</span><br><span class="line">  <span class="hljs-keyword">if</span> (el.staticRoot &amp;&amp; !el.staticProcessed) {</span><br><span class="line">    <span class="hljs-keyword">return</span> genStatic(el, state)</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (el.once &amp;&amp; !el.onceProcessed) {</span><br><span class="line">    <span class="hljs-keyword">return</span> genOnce(el, state)</span><br><span class="line">    <span class="hljs-comment">// 執行 v-for</span></span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (el.for &amp;&amp; !el.forProcessed) {</span><br><span class="line">    <span class="hljs-keyword">return</span> genFor(el, state)</span><br><span class="line">    <span class="hljs-comment">// 執行 v-if</span></span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (el.if &amp;&amp; !el.ifProcessed) {</span><br><span class="line">    <span class="hljs-keyword">return</span> genIf(el, state)</span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (el.tag === <span class="hljs-string">'template'</span> &amp;&amp; !el.slotTarget &amp;&amp; !state.pre) {</span><br><span class="line">    <span class="hljs-keyword">return</span> genChildren(el, state) || <span class="hljs-string">'void 0'</span></span><br><span class="line">  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (el.tag === <span class="hljs-string">'slot'</span>) {</span><br><span class="line">    <span class="hljs-keyword">return</span> genSlot(el, state)</span><br><span class="line">  } <span class="hljs-keyword">else</span> {</span><br><span class="line">    <span class="hljs-comment">// component or element</span></span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>從源碼中可以看到，<code>v-for</code> 會先執行，接著才執行 <code>v-if</code>，所以 <code>v-for</code> 的優先權比 <code>v-if</code> 來得高。</p>
<p>而如果我們在一個元素上同時進行 <code>v-for</code> 跟 <code>v-if</code>，代表 <code>v-if</code> 在每一次的循環中都會被執行一次。</p>
<p>這樣子的作法是比較浪費效能的，舉例來說，如果我們只想顯示庫存產品，但我們每次在渲染的時候，都得先迭代所有產品，再從所有產品中判斷該產品是否還有庫存。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>販售中<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 1. 循環所有產品 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 2. 判斷產品數量 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"mantou in mantous"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"mantou.quantity"</span>&gt;</span></span><br><span class="line">    {{ mantou.name }}</span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">mantous</span>: [</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'蛋黃鮮肉包'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'香菇薑汁鮮肉包'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'黑米椰香芋頭包'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'黑糖地瓜包'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'蔥肉包'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'咖啡奶酥饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'全麥堅果饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'黑糖桂圓枸杞饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'蔥花捲饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'黑糖饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'鮮奶饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'芋籤饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'山東饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'全麥饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'紅藜全麥饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'起司肉包'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'全麥雜糧饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'芋泥捲'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">0</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'芋泥饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> },</span><br><span class="line">      { <span class="hljs-attr">name</span>: <span class="hljs-string">'芋圓饅頭'</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">10</span> }</span><br><span class="line">    ]</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-priority-01.jpg" alt="v-for-priority"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/abwZKKG">點這裡</a></font></p>
<p>想像一下如果有 10 個地方都會用到<code>販售中</code>的這份清單，那上面的流程就得跑 10 次，這顯然不是個好做法對吧？</p>
<p>比較好的做法是把<code>販售中</code>的這份清單先透過 <code>computed</code> 先做過濾，並且把結果緩存起來。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>販售中<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 使用 computed --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 循環尚有庫存的產品 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"mantou in inStock"</span>&gt;</span>{{ mantou.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">computed: {</span><br><span class="line">  <span class="hljs-comment">// ↓ 產生庫存商品列表</span></span><br><span class="line">  <span class="hljs-attr">inStock</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.mantous.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> item.quantity</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><img src="v-for-priority-02.jpg" alt="v-for-priority"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/BaZzPwW?editors=1010">點這裡</a></font></p>
<p>現在<code>v-for</code>只需要迭代 <code>inStock</code> 清單中的資料，而不是整個產品列表。</p>
<p>而 <code>computed</code> 具有緩存的特性，所以即便有 3 份<code>販售中</code>的清單，<code>v-if</code>實際上也只需要判斷一次。</p>
<p><strong>另外一種情況</strong></p>
<p>除了剛剛所說的以外，還有一種情況是，先用 <code>v-if</code> 判斷是否要顯示，在進行 <code>v-for</code> 循環。</p>
<p>如果是這種情況的話，可以把 <code>v-if</code> 寫在 <code>外層元素</code> 或 <code>&lt;template&gt;</code> 來判斷，要循環的元素寫在內層。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>販售中<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- 列表中有清單時才執行內部的循環 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"mantous.length"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"mantou in mantous"</span>&gt;</span>{{ mantou.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>想想看，如果把 <code>v-if</code> 寫在 <code>&lt;li&gt;</code> 的話，會變什麼樣子？</p>
<p>答案是會執行 <code>v-for</code>，接著執行 <code>v-if</code>。</p>
<p>因為 <code>v-for</code> 的優先權比 <code>v-if</code> 高，所以即便沒有資料， <code>v-for</code> 還是會先執行，接著才執行 <code>v-if</code>。</p>
<h2 id="v-on-事件綁定"><a href="#v-on-事件綁定" class="headerlink" title="v-on 事件綁定"></a>v-on 事件綁定</h2><p>透過<code>v-on</code>可以綁定事件到一個元素上，並設定一個處理事件的 <code>function</code></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 寫入 counter 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ counter }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 在 button 上綁定 click 事件 --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 執行 addNumber 函式 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"addNumber"</span>&gt;</span>點我RRRRRR<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">methods</span>: {</span><br><span class="line">    <span class="hljs-attr">addNumber</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-built_in">this</span>.counter++</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>有一件很重要的事情是，在我們的原始碼當中，並沒有對 DOM 做任何更新內容的操作。</p>
<p>這部分 Vue 都幫我們直接處理好了，所以現在我們只需要專注在程式的層面上。</p>
<p><font size="2">💡 註：此處的<code>this</code>指向的是 <code>app</code> 這個 Vue 的物件實體。</font></p>
<h2 id="縮寫"><a href="#縮寫" class="headerlink" title="縮寫"></a>縮寫</h2><p><code>v-</code>系列的相關指令其實都有一套縮寫的寫法。</p>
<p><strong><code>v-bind</code>縮寫</strong></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ 完整語法 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">"url"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 縮寫 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">"url"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 動態參數的縮寫 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:</span>[<span class="hljs-attr">key</span>]=<span class="hljs-string">"url"</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong><code>v-on</code>縮寫</strong></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ 完整語法 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"doSomething"</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 縮寫 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"doSomething"</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 動態參數的縮寫 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @[<span class="hljs-attr">event</span>]=<span class="hljs-string">"doSomething"</span>&gt;</span>Click Me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h2><p>如果沒用這個屬性的話，你可能就會在網頁載入時看到 <code>{{ msg }}</code> 之類的變數。</p>
<p>要避免這個情況只需要加上<code>v-cloak</code>這個屬性跟一點點 CSS 即可解決。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ msg }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight css hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-attr">[v-cloak]</span> {</span><br><span class="line">  <span class="hljs-attribute">display</span>: none;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="v-model-雙向綁定"><a href="#v-model-雙向綁定" class="headerlink" title="v-model 雙向綁定"></a>v-model 雙向綁定</h2><p>透過<code>v-model</code>可以讓資料是雙向綁定的狀態，意思是指 <code>data</code> 跟 <code>元素</code> 的值會是相通的。</p>
<p><img src="model.gif" alt="model"></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 把 input 的值跟 message 的值綁在一起 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span> /&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 顯示 message 的值  --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>所以你能看到，當 <code>&lt;input&gt;</code> 的值改變時，<code>message</code> 的值會跟著改變，導致<code>&lt;p&gt;</code>的文字跟著改變。</p>
<h3 id="背後的原理"><a href="#背後的原理" class="headerlink" title="背後的原理"></a>背後的原理</h3><p>其實<code>v-model</code>只是幫你做了兩件事情：</p>
<ol>
<li>在元素上綁定 <code>v-bind:value</code></li>
<li>當<code>input</code>事件發生時，更改 Vue 中的資料值</li>
</ol>
<p>所以前面的範例等同於：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 把 value 屬性綁定到 Vue中的 message --&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 監聽 input 事件 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-bind:value</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">v-on:input</span>=<span class="hljs-string">"changeMessage"</span> /&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 顯示 message 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 初始值設為空字串</span></span><br><span class="line">    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-attr">methods</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ input事件發生時的處理函式</span></span><br><span class="line">    <span class="hljs-attr">changeMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-comment">// ↓ 透過 event 取出 input 的值</span></span><br><span class="line">      <span class="hljs-comment">// ↓ 將 message 的值更新</span></span><br><span class="line">      <span class="hljs-built_in">this</span>.message = event.target.value</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>所以<code>v-model</code>就是個 <code>:value</code> + <code>@input</code> 的語法糖，能夠幫你剩下了一些功夫。但試著了解它在背後做了什麼也是很重要的。</p>
<h2 id="computed-計算屬性"><a href="#computed-計算屬性" class="headerlink" title="computed 計算屬性"></a>computed 計算屬性</h2><p>雖然在<code>{{ }}</code>中可以直接帶入表達式來產出想要的資料，但常常在裡面做很複雜的運算並不是一件好事吧？</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'煉獄'</span>,</span><br><span class="line">    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'杏壽郎'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{firstName + '．' + lastName}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="computed-01.jpg" alt="computed-01"></p>
<p><font size="2">💡 註：<a target="_blank" rel="noopener" href="https://twitter.com/kurochan2512/status/1184663717977280513">圖片來源</a></font></p>
<p>如果我們想要秀出好幾個大哥的名字，那就得一直做重複的運算，顯然不是件好事。</p>
<p>為了避免這種重複計算的事情發生，可以使用<code>computed</code>屬性來改善這個問題。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'煉獄'</span>,</span><br><span class="line">    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'杏壽郎'</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ↓ 使用 computed 屬性</span></span><br><span class="line">  <span class="hljs-attr">computed</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 把運算結果給緩存</span></span><br><span class="line">    <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">'．'</span> + <span class="hljs-built_in">this</span>.lastName</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>現在你想秀幾個大哥的名稱都沒問題囉！</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="computed-02.jpg" alt="computed-02"></p>
<p>這樣子的好處並不只是看起來比較簡潔而已，而是<code>computed屬性</code>具有<code>緩存</code>的作用。</p>
<p>剛剛設置的<code>fullName</code>，是藉由<code>firstName</code>跟<code>lastName</code>來求出最後的值，所以這兩個值都沒有改變的話，<code>fullName</code>值是不會改變的，也就是說，<code>fullName</code>不需要重新計算來求值，這也就是<code>緩存</code>的用意。</p>
<h3 id="computed-與-methods"><a href="#computed-與-methods" class="headerlink" title="computed 與 methods"></a>computed 與 methods</h3><p>前面的範例也能改用 methods 來做出一樣的結果，不過 methods 與 computed 最大的差異在於：</p>
<ul>
<li>呼叫 methods 幾次，函式就會執行幾次</li>
<li>當 computed 依賴的屬性沒有發生改變時，不管呼叫幾次 computed，函式都只會執行一次。</li>
</ul>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'煉獄'</span>,</span><br><span class="line">    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'杏壽郎'</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-comment">// ↓ 用 methods 來計算大哥的全名</span></span><br><span class="line">  <span class="hljs-attr">methods</span>: {</span><br><span class="line">    <span class="hljs-attr">getfullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'執行getfullName'</span>)</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">this</span>.firstName}</span>．<span class="hljs-subst">${<span class="hljs-built_in">this</span>.lastName}</span>`</span></span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-comment">// ↓ 用 computed 來緩存大哥的全名</span></span><br><span class="line">  <span class="hljs-attr">computed</span>: {</span><br><span class="line">    <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'執行fullName'</span>)</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">this</span>.firstName}</span>．<span class="hljs-subst">${<span class="hljs-built_in">this</span>.lastName}</span>`</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ getfullName() }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ getfullName() }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ getfullName() }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ fullName }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="computed-03.jpg" alt="computed-03"></p>
<p><code>console</code>中印證了我們剛剛所說的，我們呼叫了<code>getfullName()</code>3 次，故函式執行了 3 次，而<code>fullName</code>只有執行一次，因為<code>firstName</code>跟<code>lastName</code>都沒有發生改變。</p>
<h3 id="getter-與-setter"><a href="#getter-與-setter" class="headerlink" title="getter 與 setter"></a>getter 與 setter</h3><p>computed 還可以細分為 <code>getter(讀取)</code> 與 <code>setter(寫入)</code>這兩種功能。</p>
<p>在沒有特別設定時，預設只會有<code>getter</code>的功能，也就是只能讀取，不能寫入。</p>
<p><img src="getter-01.gif" alt="getter-01"></p>
<p>如圖所示，我們只能透過修改 <code>firstName</code> 或 <code>lastName</code> 來更新 <code>fullName</code> 的值，而不是直接修改 <code>fullName</code> 。</p>
<p>在前面的範例中我們都透過 computed 來讀取資料，但前面使用的是省略的寫法，完整的寫法如下。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'煉獄'</span>,</span><br><span class="line">    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'杏壽郎'</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">computed</span>: {</span><br><span class="line">    <span class="hljs-attr">fullName</span>: {</span><br><span class="line">      <span class="hljs-comment">// ↓ 設定 getter</span></span><br><span class="line">      <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">        <span class="hljs-comment">// ↓ 讀取大哥的全名</span></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">'．'</span> + <span class="hljs-built_in">this</span>.lastName</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>如果要使用<code>setter</code>的功能，就要像下面這樣子寫。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ 把 input 的值跟 fullName 綁在一起 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"fullName"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'煉獄'</span>,</span><br><span class="line">    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'杏壽郎'</span></span><br><span class="line">  },</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">computed</span>: {</span><br><span class="line">    <span class="hljs-attr">fullName</span>: {</span><br><span class="line">      <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">'．'</span> + <span class="hljs-built_in">this</span>.lastName</span><br><span class="line">      },</span><br><span class="line">      <span class="hljs-comment">// ↓ 設定 setter 方法</span></span><br><span class="line">      <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newValue</span>) </span>{</span><br><span class="line">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'觸發setter'</span>)</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>現在我們用<code>v-model</code>強制把 <code>input</code> 跟 <code>fullName</code> 的值綁在一起，所以當 <code>input</code>值改變時，就會去變更 <code>fullName</code>的值，這個時候就會觸發我們在<code>set</code> 函式中所做的設定。</p>
<p><img src="setter-01.gif" alt="setter-01"></p>
<p>你可能會有個疑問，我們不是修改了<code>fullName</code>的值嗎？<code>fullName</code>的資料怎麼沒有更新？</p>
<p>這是因為在<code>set</code>函式中，並沒有會觸發<code>get</code>的設定。</p>
<p>既然<code>get</code>沒有被觸發的話，<code>fullName</code>的值就不會被重新計算，而畫面也自然不會重新渲染。</p>
<p>那要怎麼讓<code>get</code>觸發？我們只要在<code>set</code>中做會觸發<code>get</code>的事情就可以了。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'煉獄'</span>,</span><br><span class="line">    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'杏壽郎'</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-attr">computed</span>: {</span><br><span class="line">    <span class="hljs-attr">fullName</span>: {</span><br><span class="line">      <span class="hljs-comment">// getter</span></span><br><span class="line">      <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'觸發getter'</span>)</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">' '</span> + <span class="hljs-built_in">this</span>.lastName</span><br><span class="line">      },</span><br><span class="line">      <span class="hljs-comment">// setter</span></span><br><span class="line">      <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newValue</span>) </span>{</span><br><span class="line">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'觸發setter'</span>)</span><br><span class="line">        <span class="hljs-comment">// ↓ newValue 參數為 input 的值</span></span><br><span class="line">        <span class="hljs-keyword">let</span> names = newValue.split(<span class="hljs-string">' '</span>)</span><br><span class="line">        <span class="hljs-comment">// ↓ 更新 firsName 的值</span></span><br><span class="line">        <span class="hljs-built_in">this</span>.firstName = names[<span class="hljs-number">0</span>]</span><br><span class="line">        <span class="hljs-comment">// ↓ 更新 lastName 的值</span></span><br><span class="line">        <span class="hljs-built_in">this</span>.lastName = names[names.length - <span class="hljs-number">1</span>]</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-comment">// ↓ 畫面重新渲染時會觸發的函式</span></span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">updated</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'重新渲染畫面'</span>)</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="setter-02.gif" alt="setter-02"></p>
<p>現在當<code>set</code>觸發時，我們修改 <code>firstName</code> 與 <code>lastName</code> 的值，這個時候就會觸發 <code>get</code> 去重新計算 <code>fullName</code> 的值，並且<code>重新渲染</code>畫面。</p>
<p>所以順序是這樣子的： <code>set → get → updated </code></p>
<p>要注意的重點是：</p>
<ul>
<li><p>什麼時候會觸發 get？<br>當<code>firstName</code>與 <code>lastName</code> 變更時。（前提是模板中有用到 computed 設定的 <code>fullName</code> 屬性）</p>
</li>
<li><p>什麼時候會觸發 set？<br>當<code>fullName</code>變更時。(<code>v-model</code>綁定值)</p>
</li>
<li><p>什麼時候會重新渲染畫面？<br>當模板中的資料（此處的話是<code>fullName</code>）更新時。</p>
</li>
</ul>
<p>所以做個總結：</p>
<ol>
<li><code>get</code> 與 <code>set</code> 兩者是獨立的，並不是 觸發 <code>set</code> 就會觸發 <code>get</code>。</li>
<li>要觸發<code>get</code>的前提條件是，模板中有使用到其 <code>computed</code> 的屬性。</li>
</ol>
<h2 id="自定義組件"><a href="#自定義組件" class="headerlink" title="自定義組件"></a>自定義組件</h2><p>在 Vue 中可以透過建立一個 <code>instance (實體)</code> 來創造自己的 <code>component (組件)</code>。</p>
<p>格式：<code>Vue.component(name, {})</code></p>
<ul>
<li>第一個參數為 String，代表 component 的名稱。</li>
<li>第二個參數為選項 Object，用來對組件做設定。</li>
</ul>
<p><font size="2">💡 註 ：組件就跟 <code>new Vue</code> 一樣，可以有 <code>data</code>、<code>computed</code>、<code>watch</code>、<code>methods</code>及 <code>hook function</code>等。</font></p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ 建立一個新的 component</span></span><br><span class="line"><span class="hljs-comment">// ↓ 第一個參數為 "組件名稱"</span></span><br><span class="line"><span class="hljs-comment">// ↓ 第二個參數為 "選項物件"</span></span><br><span class="line">Vue.component(<span class="hljs-string">'counter'</span>, {</span><br><span class="line">  <span class="hljs-comment">// ↓ 設定 "樣板" 中的內容</span></span><br><span class="line">  <span class="hljs-comment">// ↓ 這個寫法稱為 字串模板 (String template)</span></span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;button v-on:click="addOne"&gt;{{ count }}&lt;/button&gt;'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ↓ 組件自己的 data</span></span><br><span class="line">  <span class="hljs-comment">// ↓ 必須用 function + return 物件的方式來設定</span></span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-keyword">return</span> {</span><br><span class="line">      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span></span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-comment">// ↓ 函式則是一樣使用 property 來設定</span></span><br><span class="line">  <span class="hljs-attr">methods</span>: {</span><br><span class="line">    <span class="hljs-attr">addOne</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{</span><br><span class="line">      <span class="hljs-built_in">this</span>.count++</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>接著就能在 HTML 中使用剛剛自定義的組件名稱來作為 <code>tag</code></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ 拿我們在 Vue建立的 Component 來使用 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">counter</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="component-01.gif" alt="component-01"></p>
<p>可以注意到每個組件都是一個獨立存在的 <code>instance (實體)</code>，所以並不會被彼此給干擾。</p>
<p><font size="2">💡 註 ：一個組件只能有一個<code>根元素</code>，也就是說如果你的組件為巢狀結構，請在最外層以一個<code>&lt;div&gt;</code>來包裹住整個組件的內容。</font></p>
<h3 id="組件的命名"><a href="#組件的命名" class="headerlink" title="組件的命名"></a>組件的命名</h3><p>在對組件命名時，建議都以 <code>kebab-case (連字符號)</code> 的方式來命名。</p>
<p>如果使用 <code>camelCase (pascalCase)</code> 的話，在 HTML 中也必須要轉換成 <code>kebab-case</code> 的格式才有辦法使用：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ kebab-case</span></span><br><span class="line">Vue.component(<span class="hljs-string">'component-a'</span>, {</span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">    &lt;div&gt;kebab-case compoent&lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">  `</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ camelCase (PascalCase)</span></span><br><span class="line">Vue.component(<span class="hljs-string">'componentB'</span>, {</span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">	&lt;div&gt;camelCase compoent&lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">	`</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">component-a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component-a</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 必須轉換成 kebab-case --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">component-b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component-b</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 使用 camelCase 的標籤無效 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">componentB</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">componentB</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="naming-convention.jpg" alt="naming-convention"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/OJgpqVB">點這裡</a></font></p>
<h3 id="全域組件與區域組件"><a href="#全域組件與區域組件" class="headerlink" title="全域組件與區域組件"></a>全域組件與區域組件</h3><p>前面我們用 <code>Vue.component()</code> 來註冊的組件都稱為 <code>全域組件</code>。</p>
<p><code>全域組件</code>可以被任何 <code>new Vue</code> 建立的 <code>Vue實體</code> 來使用，還有組件中的<code>子組件</code>也可以使用。</p>
<p>而<code>區域組件</code>是在一個實體中透過 <code>components</code> 屬性來建立，並且只有這個實體自己能夠使用。</p>
<h4 id="全域註冊"><a href="#全域註冊" class="headerlink" title="全域註冊"></a>全域註冊</h4><figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ 全域組件 A</span></span><br><span class="line">Vue.component(<span class="hljs-string">'component-a'</span>, {</span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">    &lt;div class="component component--a"&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;h2&gt;組件A&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;p&gt;組件A的文字&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">    &lt;/div&gt;`</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 全域組件 B</span></span><br><span class="line">Vue.component(<span class="hljs-string">'component-b'</span>, {</span><br><span class="line">  <span class="hljs-comment">// ↓ 在 組件B 中使用 組件A</span></span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">    &lt;div class="component"&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;h2&gt;組件B&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;p&gt;在組件B中使用組件A&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;component-a&gt;&lt;/component-a&gt;</span></span><br><span class="line"><span class="hljs-string">    &lt;/div&gt;`</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ new Vue 實體</span></span><br><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="global-component.jpg" alt="global-component"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/KKqWYoX">點這裡</a></font></p>
<p>全域組件在整個 Vue.js 的應用程式中都可以使用，不只是<code>new Vue</code>實體，甚至連在<code>其他組件</code>中也能使用。</p>
<h4 id="區域註冊"><a href="#區域註冊" class="headerlink" title="區域註冊"></a>區域註冊</h4><p>全域組件有一個很大的缺點是，不管這個組件有沒有被使用，都會被載入。</p>
<p>所以如果是給特定的實體使用的話，可以改用<code>區域註冊</code>的方式來建立組件。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ↓ 在實體中使用 components 屬性</span></span><br><span class="line">  <span class="hljs-comment">// ↓ 來註冊區域組件</span></span><br><span class="line">  <span class="hljs-attr">components</span>: {</span><br><span class="line">    <span class="hljs-string">'component-a'</span>: {</span><br><span class="line">      <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">        &lt;div class="component  component--a"&gt;</span></span><br><span class="line"><span class="hljs-string">          &lt;h2&gt;區域組件A&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">          &lt;p&gt;區域組件A的文字&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;/div&gt;`</span></span><br><span class="line">    },</span><br><span class="line">    <span class="hljs-comment">// ↓ 在 組件B 中使用 組件A</span></span><br><span class="line">    <span class="hljs-string">'component-b'</span>: {</span><br><span class="line">      <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">      &lt;div class="component"&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;h2&gt;區域組件B&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;這裡無法使用區域組件A&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;component-a&gt;&lt;/component-a&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;`</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="local-component.jpg" alt="local-component"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/bGRWbXQ">點這裡</a></font></p>
<p>可以看到 <code>組件B</code> 中沒辦法使用 <code>組件A</code>，此處的 <code>組件A</code> 會被直接渲染成一個沒有內容的標籤，而 Vue 也會在 console 報錯。</p>
<p>如果要在 <code>組件B</code> 中使用 <code>組件A</code>，只能在 <code>組件B</code> 這個實體下在註冊一個區域組件，才有辦法達成。</p>
<p><font size="2">💡 註 ：每個組件都可以視為是一個獨立的實體。</font></p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ↓ 在 new Vue實體中使用 components 屬性</span></span><br><span class="line">  <span class="hljs-comment">// ↓ 來註冊區域組件</span></span><br><span class="line">  <span class="hljs-attr">components</span>: {</span><br><span class="line">    <span class="hljs-string">'component-b'</span>: {</span><br><span class="line">      <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">      &lt;div class="component"&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;h2&gt;區域組件B&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;在此處使用組件A&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;component-a&gt;&lt;/component-a&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;`</span>,</span><br><span class="line"></span><br><span class="line">      <span class="hljs-comment">// 在 組件B 實體中使用 components 屬性</span></span><br><span class="line">      <span class="hljs-comment">// 來註冊組件A</span></span><br><span class="line">      <span class="hljs-attr">components</span>: {</span><br><span class="line">        <span class="hljs-string">'component-a'</span>: {</span><br><span class="line">          <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">            &lt;div class="component component--a"&gt;</span></span><br><span class="line"><span class="hljs-string">              &lt;h2&gt;區域組件A&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">              &lt;p&gt;區域組件A的文字&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">            &lt;/div&gt;`</span></span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="local-component-inside-local-component.jpg" alt="local-component-inside-local-component"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/WNOjNjV">點這裡</a></font></p>
<p>這樣子就能順利在 <code>組件B</code> 中使用 <code>組件A</code> 囉。</p>
<h3 id="父子組件間的資料傳輸"><a href="#父子組件間的資料傳輸" class="headerlink" title="父子組件間的資料傳輸"></a>父子組件間的資料傳輸</h3><p>因為父組件跟子組件是屬於不同的實體，所以子組件沒辦法直接去使用父組件的方法，也不能修改父組件中的資料。</p>
<p>要讓父子之間做溝通，必須使用 <code>props</code>屬性 及 <code>$emit</code>方法才有辦法達成。</p>
<p>有一句口訣是這樣子： <code>Props down, Events up (props下去，event上來)</code>。</p>
<p>如同下面這張圖所示：</p>
<p><img src="communication.png" alt="communication"></p>
<h4 id="將父組件的資料-props-到子組件中"><a href="#將父組件的資料-props-到子組件中" class="headerlink" title="將父組件的資料 props 到子組件中"></a>將父組件的資料 props 到子組件中</h4><p>這裡直接舉例子來說明。</p>
<p>為了要在子組件中取得父組件的 <code>msg</code>，我們會建立一個 <code>props</code> 用來把資料給傳遞下去。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="hljs-string">'my-component'</span>, {</span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">      &lt;div class="component"&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;組件自己的資料：{{ msg }} &lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;從父元件傳遞進來的資料： {{ parentMsg }}&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;`</span>,</span><br><span class="line">  <span class="hljs-comment">// ↓ 用來把父元件的資料傳遞到子組件</span></span><br><span class="line">  <span class="hljs-attr">props</span>: [<span class="hljs-string">'parentMsg'</span>],</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ↓ 組件自己的資料</span></span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-keyword">return</span> {</span><br><span class="line">      <span class="hljs-attr">msg</span>: <span class="hljs-string">'Hello'</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> app = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-comment">// ↓ 父組件的資料</span></span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">msg</span>: <span class="hljs-string">'Parent'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>接著在子組件設定完 <code>props</code>後，必須使用 <code>v-bind</code> 來把父組件中的資料綁定給子組件。</p>
<p><font size="2">💡 註：HTML 的屬性沒有大小寫敏感(Case-insensitive)的特性，所以如果<code>props</code>是以(Camel-case)駝峰式的寫法來命名，那麼在 HTML 中則必須使用<code>Kebab-case (連字符號)</code>來表示 props 所定義的屬性</font></p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 把父元件的 msg 綁定到子組件上 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">v-bind:parent-msg</span>=<span class="hljs-string">"msg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="props.jpg" alt="props"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/xxrGmem">點這裡</a></font></p>
<p>這樣子就成功把父組件的資料傳遞給子組件囉。</p>
<p>這裡提供一種記憶方式，你可以把 <code>props</code> 想成是 <code>宣告</code>一個變數，而 <code>v-bind</code> 可以想成是在給變數 <code>賦值</code>。</p>
<h3 id="當需要傳入很多資料到組件中時"><a href="#當需要傳入很多資料到組件中時" class="headerlink" title="當需要傳入很多資料到組件中時"></a>當需要傳入很多資料到組件中時</h3><p>假設我們有一個文章的組件，長的像這樣子。</p>
<p><img src="component-props-problem.jpg" alt="component-props-problem"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/zYzKvLe?editors=1010">點這裡</a></font></p>
<p>而組件的結構如下：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ 文章組件 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"post in posts"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-bind:title</span>=<span class="hljs-string">"post.title"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-bind:content</span>=<span class="hljs-string">"post.content"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-bind:img</span>=<span class="hljs-string">"post.img"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">:key</span>=<span class="hljs-string">"post.id"</span></span></span><br><span class="line"><span class="hljs-tag">    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↑ 在組件中傳入資料 --&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- 1. 標題 --&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- 2. 內容 --&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- 3. 圖片 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 每篇文章的資料</span></span><br><span class="line">    <span class="hljs-attr">posts</span>: [</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> }</span><br><span class="line">    ]</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-attr">components</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 文章組件的設定</span></span><br><span class="line">    <span class="hljs-string">'blog-post'</span>: {</span><br><span class="line">      <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">      &lt;div&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;img v-bind:src="img"&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;h2&gt;{{ title }}&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;{{ content }}&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">      `</span>,</span><br><span class="line">      <span class="hljs-comment">// ↓ 設定要傳入到組件中的資料</span></span><br><span class="line">      <span class="hljs-attr">props</span>: [<span class="hljs-string">'title'</span>, <span class="hljs-string">'content'</span>, <span class="hljs-string">'img'</span>]</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><code>&lt;blog-post&gt;</code>中需要 <code>title (標題)</code>、 <code>content (內容)</code>、 <code>img (圖片)</code> 這些資料，所以我們就得 <code>props</code> 這些資料到組件中。</p>
<p>所以可以看到 <code>props</code> 中需要寫入很多個屬性，以及 HTML 中用了很多 <code>v-bind</code> 來綁定這些 <code>props</code> 。</p>
<p>如果現在想要再添加 <code>date (日期)</code>， <code>comments (留言)</code> 等等的資料， <code>props</code> 跟 <code>HTML</code> 就也得把這些對應的資料給加進去，資料也會變得越來越複雜。</p>
<p>要處裡這種資料很複雜的情況，我們可以稍微修改一下整體的結構，如下：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ 文章組件 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"post in posts"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">:key</span>=<span class="hljs-string">"post.id"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-bind:post</span>=<span class="hljs-string">"post"</span></span></span><br><span class="line"><span class="hljs-tag">    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↑ 現在傳入包含整個文章資料的 post --&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↑ 而不是每一筆資料 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 每篇文章的資料</span></span><br><span class="line">    <span class="hljs-attr">posts</span>: [</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> },</span><br><span class="line">      { <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'...'</span>, <span class="hljs-attr">img</span>: <span class="hljs-string">'...'</span> }</span><br><span class="line">    ]</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-attr">components</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 文章組件的設定</span></span><br><span class="line">    <span class="hljs-string">'blog-post'</span>: {</span><br><span class="line">      <span class="hljs-comment">// ↓ 模板中的資料稍微做調整</span></span><br><span class="line">      <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">      &lt;div&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;img v-bind:src="post.img"&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;h2&gt;{{ post.title }}&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;{{ post.content }}&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">      `</span>,</span><br><span class="line">      <span class="hljs-comment">// ↓ 設定要傳入到組件中的資料</span></span><br><span class="line">      <span class="hljs-attr">props</span>: [<span class="hljs-string">'post'</span>]</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>寫成這樣子後，在 <code>post</code> 中加入新的資料，都能直接在 <code>&lt;blog-post&gt;</code> 中使用 ，不需要在額外對 <code>props</code> 或 <code>HTML</code> 中加入新的資料。</p>
<h3 id="監聽組件中的事件"><a href="#監聽組件中的事件" class="headerlink" title="監聽組件中的事件"></a>監聽組件中的事件</h3><p>一樣拿前面的例子來說，假設現在我們想要在組件中添加一個按鈕，這個按鈕能夠用來控制字體大小，像這樣子：</p>
<p><img src="component-event.gif" alt="component-event"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/GREjqyZ?editors=1010">點這裡</a></font></p>
<p>該怎麼做呢？</p>
<p>首先先在 <code>data</code> 中新增一筆用來控制文字大小的 property。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">posts</span>: [...],</span><br><span class="line">    <span class="hljs-comment">// ↓ 控制文字大小</span></span><br><span class="line">    <span class="hljs-attr">postFontSize</span>: <span class="hljs-number">1</span></span><br><span class="line">  },</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>接著在 HTML 新增一個元素，用來控制<code>&lt;blog-post&gt;</code>文字大小。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 用來設定文字大小的新元素 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{fontSize: postFontSize + 'em'}"</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"post in posts"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-bind:post</span>=<span class="hljs-string">"post"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">:key</span>=<span class="hljs-string">"post.id"</span></span></span><br><span class="line"><span class="hljs-tag">    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>接下來在組件的 <code>template</code> 中設置那個控制文字大小的按鈕。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-comment">// ...</span></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="hljs-attr">components</span>: {</span><br><span class="line">    <span class="hljs-string">'blog-post'</span>: {</span><br><span class="line">      <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">      &lt;div&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;img v-bind:src="img"&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;h2&gt;{{ post.title }}&lt;/h2&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;p&gt;{{ post.content }}&lt;/p&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;a href="#"&gt;Read more&lt;/a&gt;</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">        // ↓ 那個按鈕</span></span><br><span class="line"><span class="hljs-string">        &lt;button&gt;{{ size }}&lt;/button&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">      `</span>,</span><br><span class="line">      <span class="hljs-comment">// ↓ 傳遞 size (文字比例) 給組件</span></span><br><span class="line">      <span class="hljs-attr">props</span>: [<span class="hljs-string">'post'</span>, <span class="hljs-string">'size'</span>]</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">})</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">💡 註 ：這裡希望按鈕能顯示目前的文字的比例，所以 <code>props</code> 一筆資料給組件。</font></p>
<p>接著只要設定點擊事件就可以了，你可能會想說這樣寫：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="hljs-comment">// ↓ 點擊一下，增加 0.1 的大小。</span></span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;button v-on:click="postFontSize+=0.1"&gt;{{ size }}&lt;/button&gt;`</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>這樣子是沒有作用的。再提醒一次，<code>子組件無法修改父組件的資料</code>。</p>
<p>只有父組件能夠修改 <code>data</code> 中的資料，所以思路要變成 → <code>讓父組件監聽在子組件中發生的事件</code>，當父組件監聽到內部的事件發生時，再來修改資料。</p>
<p>也就是說要在<code>&lt;blog-post&gt;</code>上設定一個能夠監聽內部子元素的事件。</p>
<p>這要怎麼做到呢？</p>
<p>Vue 提供了一個 <code>自定義事件</code> 的系統，讓我們可以自己建立一種事件，所以可以這樣子設定：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- ↓ 自定義一個 enlarge-text 事件 --&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 發生時觸發 changeFontSize 函式--&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">blog-post</span> <span class="hljs-attr">v-on:enlarge-text</span>=<span class="hljs-string">"changeFontSize"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">blog-post</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>接著要在 <code>template</code> 中的按鈕中定義這個事件。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="hljs-comment">// ↓ 點擊時觸發一個 enlargeText 事件</span></span><br><span class="line">  <span class="hljs-comment">// ↓ $emit方法 會把 enlargeText 事件傳遞給 &lt;blog-post&gt; 觸發</span></span><br><span class="line">  <span class="hljs-comment">// ↓ 0.1 是要傳遞給 &lt;blog-post&gt; 的資料(參數)</span></span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;button v-on:click="$emit('enlargeText', 0.1)"&gt;{{ size }}&lt;/button&gt;`</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>最後在 <code>data</code> 中的 <code>methods</code> 定義用來處理事件的函式。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods: {</span><br><span class="line">  <span class="hljs-comment">// ↓ enlargeAmount = $emit 傳遞過來的資料 (0.1)</span></span><br><span class="line">  <span class="hljs-attr">changeFontSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">enlargeAmount</span>) </span>{</span><br><span class="line">    <span class="hljs-built_in">this</span>.postFontSize += enlargeAmount</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>這樣子就完成了。</p>
<p>雖然看起來有點複雜，但這一大串的目的其實只有一個，讓父元素能夠監聽到按鈕的 click 事件，接著做對應處理，就這麼單純而已。</p>
<h3 id="在組件上使用-v-model"><a href="#在組件上使用-v-model" class="headerlink" title="在組件上使用 v-model"></a>在組件上使用 v-model</h3><p>再複習一次 v-model 的原理。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"text"</span> /&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- ↓ 等同於以下 --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-bind:value</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-on:input</span>=<span class="hljs-string">"text = $event"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>特別注意一點：v-model 預設綁定的屬性是<code>value</code>，監聽的事件是<code>input</code>。</p>
<p>而我們的最終目標是這樣：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"text"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>等於要變成這樣：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">v-bind:value</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-on:input</span>=<span class="hljs-string">"text = $event"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>也就是說我們必須生出一個 <code>value</code> 屬性讓組件可以 <code>v-bind</code>，以及用來監聽 <code>input</code> 事件的監聽器。</p>
<p>所以，我們得 <code>props</code> 一個叫做 <code>value</code> 的屬性，同時在組件中的子元素拋出一個 <code>input</code> 的自定義事件，如下：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="hljs-string">'my-component'</span>, {</span><br><span class="line">  <span class="hljs-comment">// ↓ 拋出 input 事件 + 當前 input 的值</span></span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">  &lt;div&gt;</span></span><br><span class="line"><span class="hljs-string">    &lt;input v-bind:value="value" v-on:input="$emit('input', $event.target.value)"&gt;</span></span><br><span class="line"><span class="hljs-string">  &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">  `</span>,</span><br><span class="line">  <span class="hljs-comment">// ↓ 建立 value 屬性</span></span><br><span class="line">  <span class="hljs-attr">props</span>: [<span class="hljs-string">'value'</span>]</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>這樣子組件上的 <code>v-model</code> 就能夠正常運作囉。</p>
<p><img src="component-model.gif" alt="component-model"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/dyRpvzN">點這裡</a></font></p>
<h3 id="客製組件的-v-model"><a href="#客製組件的-v-model" class="headerlink" title="客製組件的 v-model"></a>客製組件的 v-model</h3><p>由於 <code>v-model</code> 是 <code>v-bind:value</code> 及 <code>v-on:input</code> 的語法糖，所以如果要做雙向綁定的元素是 <code>&lt;input&gt;</code> 的話沒什麼問題。</p>
<p>但如果現在要綁的元素變成 <code>radio</code> 或是 <code>checkbox</code> 之類的元素，就無法套用 <code>v-model</code> 的預設值。</p>
<p>這個時候就得對 <code>v-bind</code> 及 <code>v-on</code> 客製化，來讓 <code>v-model</code> 能夠順利運作。</p>
<p>你可以在組件中加上一個 <code>model</code> 的屬性來做設定，如下：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="hljs-string">'my-checkbox'</span>, {</span><br><span class="line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">  &lt;label&gt;</span></span><br><span class="line"><span class="hljs-string">    &lt;input </span></span><br><span class="line"><span class="hljs-string">      type="checkbox"</span></span><br><span class="line"><span class="hljs-string">      v-bind:checked="checkded"</span></span><br><span class="line"><span class="hljs-string">      v-on:change="$emit('change', $event.target.checked)"</span></span><br><span class="line"><span class="hljs-string">    &gt;</span></span><br><span class="line"><span class="hljs-string">    客製化v-model</span></span><br><span class="line"><span class="hljs-string">  &lt;/label&gt;</span></span><br><span class="line"><span class="hljs-string">  `</span>,</span><br><span class="line">  <span class="hljs-attr">props</span>: [<span class="hljs-string">'checked'</span>],</span><br><span class="line">  <span class="hljs-comment">// ↓ model 屬性</span></span><br><span class="line">  <span class="hljs-attr">model</span>: {</span><br><span class="line">    <span class="hljs-comment">// ↓ 原預設是 v-bind:value</span></span><br><span class="line">    <span class="hljs-comment">// ↓ 客製化為 v-bind:checked</span></span><br><span class="line">    <span class="hljs-attr">prop</span>: <span class="hljs-string">'checked'</span>,</span><br><span class="line">    <span class="hljs-comment">// ↓ 原預設是 v-on:input</span></span><br><span class="line">    <span class="hljs-comment">// ↓ 客製化為 v-on:change</span></span><br><span class="line">    <span class="hljs-attr">event</span>: <span class="hljs-string">'change'</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ v-model 語法糖 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">my-checkbox</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"ischecked"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-checkbox</span>&gt;</span></span><br><span class="line">    <span class="hljs-comment">&lt;!-- ↓ 等於以下 --&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">my-checkbox</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">:checked</span>=<span class="hljs-string">"ischecked"</span></span></span><br><span class="line"><span class="hljs-tag">      <span class="hljs-attr">v-on:change</span>=<span class="hljs-string">"ischecked = $event"</span></span></span><br><span class="line"><span class="hljs-tag">    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-checkbox</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="custom-v-model.gif" alt="custom-v-model"></p>
<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/ZEyewvN?editors=1010">點這裡</a></font></p>
<h2 id="Vue-的響應式更新"><a href="#Vue-的響應式更新" class="headerlink" title="Vue 的響應式更新"></a>Vue 的響應式更新</h2><p>如同前面的示範，當你在 Vue 的<code>data</code>中加入某些資料時，這些資料就會跟 Vue 相依為命。</p>
<ul>
<li>當資料的值改變時，Vue 中的 data 值也會跟著改變。</li>
<li>當 Vue 中的 data 值改變時，資料的值也會跟著改變。</li>
</ul>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ 資料</span></span><br><span class="line"><span class="hljs-keyword">let</span> data = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 建立 Vue 實體</span></span><br><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-comment">// ↓ 把資料放入到 data 中</span></span><br><span class="line">  <span class="hljs-attr">data</span>: data</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 相親相愛 (true)</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(vm.a === data.a)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 更改資料的值</span></span><br><span class="line">data.a = <span class="hljs-number">2</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ Vue中的 data 同步更新</span></span><br><span class="line"><span class="hljs-comment">// ↓ (2)</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(vm.a)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 反過來也一樣</span></span><br><span class="line">vm.a = <span class="hljs-number">3</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 資料的值同步更新</span></span><br><span class="line"><span class="hljs-comment">// ↓ (3)</span></span><br><span class="line"><span class="hljs-built_in">console</span>.log(data.a)</span><br></pre></td></tr></tbody></table></figure>

<p>但有一個例外，就是使用了<code>Object.freeze()</code>。</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 顯示 foo 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"txt"</span>&gt;</span>{{ foo }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-comment">&lt;!-- ↓ 點擊按鈕時，變更 foo 的值 --&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"foo='Fooooooo'"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span>&gt;</span>Change<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ 資料</span></span><br><span class="line"><span class="hljs-keyword">let</span> obj = { <span class="hljs-attr">foo</span>: <span class="hljs-string">'bar'</span> }</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-comment">// ↓ 把資料放入到 data 中</span></span><br><span class="line">  <span class="hljs-attr">data</span>: obj</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>在響應式的情況下是這樣子：</p>
<p><img src="reactive-01.gif" alt="reactive-01"></p>
<p>但加入 <code>Object.freeze()</code>後，資料的值就無法更新。</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// ↓ 資料</span></span><br><span class="line"><span class="hljs-keyword">let</span> obj = { <span class="hljs-attr">foo</span>: <span class="hljs-string">'bar'</span> }</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// ↓ 封印起來</span></span><br><span class="line"><span class="hljs-built_in">Object</span>.freeze(obj)</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// ↓ 把資料放入到 data 中</span></span><br><span class="line">  <span class="hljs-attr">data</span>: obj</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p><img src="reactive-02.gif" alt="reactive-02"></p>
<p><font size="2">💡 註 ：<code>Object.freeze()</code>會把一個物件給凍結住，所以自然就無法在對物件做更改。</font></p>
<h2 id="生命週期"><a href="#生命週期" class="headerlink" title="生命週期"></a>生命週期</h2><p>一個 Vue 實體會經過 <code>建立 → 掛載 → 更新 → 銷毀</code>這四個階段，我們把這稱為是一個 Vue 實體的生命週期。</p>
<p>在這每一個階段中，Vue 提供了幾個 <code>callback function</code>，稱作 <code>Hooks function</code>，能夠讓你在不同的階段中，透過這些 Hooks function 來做一些事情。</p>
<p><img src="lifecycle.png" alt="lifecycle"></p>
<p><font size="2">💡 註：<a target="_blank" rel="noopener" href="https://book.vue.tw/assets/img/1-7-lifecycle-1.3fc0cf06.png">圖片來源</a></font></p>
<p>每個階段會觸發的<code>Hooks function</code>如上圖所示，忘記的話就參考這張圖。</p>
<ul>
<li><code>beforeCreate</code>：實體在初始化時就會被呼叫，此時還沒有建立實體，所以 Vue 實體中的任何設定（例如：<code>data</code>）都還沒有配置完成。</li>
<li><code>created</code>：實體建立完成，這個時候除了 <code>$el</code> 以外的配置都已經完成。（<code>$el</code>必須掛載到模板上之後才會配置）。</li>
<li><code>beforeMount</code>：在實體被掛載到目標元素之前會被呼叫，這時的 <code>$el</code> 還只是個模板，尚未被 Vue 實體渲染成頁面。</li>
<li><code>mounted</code>：Vue 實體上的配置已經安裝到模板上，這時的 <code>$el</code> 已經藉由 Vue 實體渲染成真正的頁面。</li>
<li><code>beforeUpdate</code>：當實體中的 <code>data</code> 發生改變，或是執行 <code>vm.$forceUpdate()</code> 時會被呼叫，此時的頁面還沒有被重新渲染。</li>
<li><code>updated</code>：在頁面被重新渲染後呼叫，此時的頁面已經被渲染成改變後的頁面。</li>
<li><code>beforeDestroy</code>：在此實體被銷毀之前呼叫，此時的實體還具有完整的功能。</li>
<li><code>destroyed</code>：在此實體被銷毀後叫用，此時實體中的任何定義（<code>data</code>、<code>methods</code>…等）都已經被解除綁定，代表在這之後的任何操作都沒有用。</li>
</ul>
<p>我們用以下的例子來做演練：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{ a }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span></span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="beforeCreate-與-created"><a href="#beforeCreate-與-created" class="headerlink" title="beforeCreate 與 created"></a><code>beforeCreate</code> 與 <code>created</code></h3><p>在設定中加上<code>beforeCreate</code> 與 <code>created</code>：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">beforeCreate</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook beforeCreate'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著讀取a的值 : <span class="hljs-subst">${<span class="hljs-built_in">this</span>.a}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著讀取el的值 : <span class="hljs-subst">${<span class="hljs-built_in">this</span>.$el}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">created</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook created'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著讀取a的值 : <span class="hljs-subst">${<span class="hljs-built_in">this</span>.a}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著讀取el的值 : <span class="hljs-subst">${<span class="hljs-built_in">this</span>.$el}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>結果如下：</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Hook beforeCreate</span><br><span class="line">試著讀取a的值 : undefined</span><br><span class="line">試著讀取el的值 : undefined</span><br><span class="line"></span><br><span class="line">Hook created</span><br><span class="line">試著讀取a的值 : 1</span><br><span class="line">試著讀取el的值 : undefined</span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/QWgvMxv">點這裡</a></font></p>
<ul>
<li><code>beforeCreate</code>：此時實體還沒有建立，所以去讀取實體中的資料都會得到 <code>undefined</code>。</li>
<li><code>created</code>：實體被建立完成後，就可以讀取到 <code>a</code> 的值，而 <code>$el</code> 必須等到掛載時才讀取的到。</li>
</ul>
<blockquote>
<p>所以在 <code>beforeCreate</code> 是不能對實體中的物件做操作的</p>
</blockquote>
<h3 id="beforeMount-與-mounted"><a href="#beforeMount-與-mounted" class="headerlink" title="beforeMount 與 mounted"></a><code>beforeMount</code> 與 <code>mounted</code></h3><p>現在加上<code>beforeMount</code> 與 <code>mounted</code>：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">beforeMount</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook beforeMount'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'試著擷取el元素的outerHTML'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.$el.outerHTML)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook mounted'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'試著擷取el元素的outerHTML'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.$el.outerHTML)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>結果如下:</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Hook beforeMount</span><br><span class="line">試著擷取el元素的outerHTML</span><br><span class="line">&lt;div id="app"&gt;</span><br><span class="line">  &lt;p class="num"&gt;{{ a }}&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">Hook mounted</span><br><span class="line">試著擷取el元素的outerHTML</span><br><span class="line">&lt;div id="app"&gt;&lt;p class="num"&gt;1&lt;/p&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/RwgVZBw?editors=1010">點這裡</a></font></p>
<ul>
<li><p><code>beforeMount</code>：流程圖中有提到，實體在掛載到元素上之前，若沒有使用 <code>template</code> 屬性的話，元素（這裡是<code>#app</code>）的 outerHTML 會先被編譯成模板，所以才能夠讀取到 <code>$el</code> 的資料，只是他還沒有被 Vue 實體上的定義給渲染，只是個初始的模板，所以會看到都還是以模板語法的內容 <code>{{ a }}</code> 來呈現。</p>
</li>
<li><p><code>mounted</code>：實體掛載到元素上之後， 此時的 <code>{{ a }}</code> 已經被 Vue 實體上的定義給渲染，所以會看到顯示的是 <code>1</code>，也就是 <code>a</code> 在實體中的定義。</p>
</li>
</ul>
<h3 id="beforeUpdate-與-updated"><a href="#beforeUpdate-與-updated" class="headerlink" title="beforeUpdate 與 updated"></a><code>beforeUpdate</code> 與 <code>updated</code></h3><p>現在加上<code>beforeUpdate</code> 與 <code>updated</code></p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">beforeUpdate</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook beforeUpdate'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著擷取a的值：<span class="hljs-subst">${<span class="hljs-built_in">this</span>.a}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著擷取el的值：<span class="hljs-subst">${<span class="hljs-built_in">this</span>.$el}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著擷取el的outerHTML：<span class="hljs-subst">${<span class="hljs-built_in">this</span>.$el.outerHTML}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">updated</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook updated'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著擷取a的值：<span class="hljs-subst">${<span class="hljs-built_in">this</span>.a}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著擷取el的值：<span class="hljs-subst">${<span class="hljs-built_in">this</span>.$el}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`試著擷取el的outerHTML：<span class="hljs-subst">${<span class="hljs-built_in">this</span>.$el.outerHTML}</span>`</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>現在在頁面上新增一個按鈕，用來增加 <code>a</code>的值：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"num"</span>&gt;</span>{{ a }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"a++"</span>&gt;</span>add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>當按下按鈕後，結果如下：</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Hook beforeUpdate</span><br><span class="line">試著擷取a的值：2</span><br><span class="line">試著擷取el的值：[object HTMLDivElement]</span><br><span class="line">試著擷取el的outerHTML：&lt;div id="app"&gt;&lt;p class="num"&gt;1&lt;/p&gt; &lt;button class="btn"&gt;add&lt;/button&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">Hook updated</span><br><span class="line">試著擷取a的值：2</span><br><span class="line">試著擷取el的值：[object HTMLDivElement]</span><br><span class="line">試著擷取el的outerHTML：&lt;div id="app"&gt;&lt;p class="num"&gt;2&lt;/p&gt; &lt;button class="btn"&gt;add&lt;/button&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/WNOjZwd?editors=1010">點這裡</a></font></p>
<ul>
<li><code>beforeUpdate</code>： 在畫面重新渲染之前，實體中的 <code>a</code> 已經被更新為 <code>2</code>，但畫面顯示的還是未更新前的資料 <code>1</code>。</li>
<li><code>updated</code>：當畫面重新渲染後，畫面也會被渲染成更新後的資料 <code>2</code>。</li>
</ul>
<h3 id="beforeDestroy-與-destroyed"><a href="#beforeDestroy-與-destroyed" class="headerlink" title="beforeDestroy 與 destroyed"></a><code>beforeDestroy</code> 與 <code>destroyed</code></h3><p>現在加上<code>beforeDestroy</code> 與 <code>destroyed</code>：</p>
<figure class="highlight js hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> Vue({</span><br><span class="line">  <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,</span><br><span class="line">  <span class="hljs-attr">data</span>: {</span><br><span class="line">    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span></span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">beforeDestroy</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook beforeDestroy'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  },</span><br><span class="line">  <span class="hljs-function"><span class="hljs-title">destroyed</span>(<span class="hljs-params"></span>)</span> {</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Hook destroy'</span>)</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' '</span>)</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>再加上一個用來觸發 <code>destroy()</code> 撤銷的按鈕：</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"num"</span>&gt;</span>{{ a }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"a++"</span>&gt;</span>add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"$destroy()"</span>&gt;</span>Destroy instance<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>當按下按鈕時，結果如下：</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hook beforeDestroy</span><br><span class="line"></span><br><span class="line">Hook destroy</span><br></pre></td></tr></tbody></table></figure>

<p><font size="2">🚀 Codepen：<a target="_blank" rel="noopener" href="https://codepen.io/jubeatt/pen/QWgvqEQ">點這裡</a></font></p>
<ul>
<li><p><code>beforeDestroy</code>：表示即將執行銷毀動作，如果有些物件要釋放資源可以在這處理。</p>
</li>
<li><p><code>destroy</code>：此時實體已經銷毀。</p>
</li>
</ul>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/">介绍 — Vue.js</a><br><a target="_blank" rel="noopener" href="https://book.vue.tw/menu.html">重新認識 Vue.js | Kuro Hsu</a><br><a target="_blank" rel="noopener" href="https://medium.com/@jedy05097952/vue-%E9%82%84%E6%98%AF%E4%B8%8D%E6%87%82-computed-83a200571e1b">[Vue] 還是不懂 Computed ？</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/56f337688d6b">vue.js 计算属性 computed【getter 和 setter 的一些思考】</a><br><a target="_blank" rel="noopener" href="https://pjchender.blogspot.com/2017/05/vue-computed-getter-setter.html">那些關於 Vue 的小細節 - Computed 中 getter 和 setter 觸發的時間點</a><br><a target="_blank" rel="noopener" href="https://medium.com/@q29823/vue-js-updated-%E8%A6%81%E6%80%8E%E9%BA%BC%E7%94%A8-4cde73509f10">[Vue.js] updated()，要怎麼用！</a><br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000038613668">面试官：为什么 Vue 中的 v-if 和 v-for 不建议一起用?</a></p>
</body></html>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/2021/12/03/closure/">談談 JS 中的 Closure（閉包）</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/2021/07/29/common-english-idioms/">日常英文用語</a>
            
        </span>
    </div>
    
</article>




    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2023 PeaNu&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://github.com/jubeatt">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-TW");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="站內搜尋" />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '頁面',
                CATEGORIES: '分類',
                TAGS: '標籤',
                UNTITLED: '(無標題)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>